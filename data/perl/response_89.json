[{"tags": ["perl", "cgi"], "answers": [{"comments": [{"owner": {"reputation": 9620, "user_id": 1783163, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BfUwH.jpg?s=128&g=1", "display_name": "peterh", "link": "https://stackoverflow.com/users/1783163/peterh"}, "edited": false, "score": 0, "creation_date": 1604080247, "post_id": 39634837, "comment_id": 114247794, "body": "I use now &quot;mod_perl&quot;, simply because it is the most feasible solution for my problem."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 9620, "user_id": 1783163, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BfUwH.jpg?s=128&g=1", "display_name": "peterh", "link": "https://stackoverflow.com/users/1783163/peterh"}, "edited": false, "score": 0, "creation_date": 1604133135, "post_id": 39634837, "comment_id": 114258581, "body": "@peterh-ReinstateMonica: It doesn&#39;t really matter if your program is deployed as CGI, mod_perl or in any other environment. But if you write your code to the PSGI spec, you can move between these environments without changing anything."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 0, "last_activity_date": 1474551685, "last_edit_date": 1474551685, "creation_date": 1474535431, "answer_id": 39634837, "question_id": 39627791, "link": "https://stackoverflow.com/questions/39627791/perl-cgi-input-type-file/39634837#39634837", "title": "Perl CGI Input type FILE", "body": "<blockquote>\n  <p>there are few example on internet..which are HTML ..but I want a CGI way </p>\n</blockquote>\n\n<p>This sounds like you are slightly confused. There are two steps here. Firstly, you need to create the correct HTML input and then, later, you need to process that input to upload the file. These two stages happen at two completely separate times in response to two separate HTTP requests. It looks like this:</p>\n\n<ul>\n<li>Step 1\n\n<ul>\n<li>HTTP Request - User visits your web page.</li>\n<li>HTTP Response - Your web app returns HTML which includes the file input.</li>\n</ul></li>\n<li>Step 2\n\n<ul>\n<li>HTTP Request - User fills in and submits the form.</li>\n<li>HTTP Response - Your web app processes the request, does whatever it needs to with the file, and then returns HTML to the user saying something like \"Thank you. Your file has been received\".</li>\n</ul></li>\n</ul>\n\n<p>So, step 1. How do you create the file input operator. I suspect that by \"I want a CGI way\" you mean \"how do I do this using the HTML generation functions?\" Firstly read this from the official CGI.pm documentation - <a href=\"https://metacpan.org/pod/CGI#HTML-Generation-functions-should-no-longer-be-used\" rel=\"nofollow\">HTML Generation functions should no longer be used</a>. We have known that the HTML generation functions that used to be part of CGI.pm were a terrible idea for at least fifteen years. No-one should be using them now. That's why documentation for those functions was removed two years ago. Please use a <a href=\"https://metacpan.org/pod/Template\" rel=\"nofollow\">templating system</a> instead.</p>\n\n<p>But ultimately, it doesn't really matter. If you insist, you can still use the HTML generation functions (<a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI/HTML/Functions.pod#Creating-a-file-upload-field\" rel=\"nofollow\">the documentation is here</a>) or you can be sane and use a template which includes the file input. Your form could even be in a static HTML file. Whatever approach you choose, you will end up returning HTML to the browser which contains something like this:</p>\n\n<pre><code>&lt;input type=\"file\" name=\"file_upload\"  /&gt;\n</code></pre>\n\n<p>(See, it's not really hard. The HTML generation functions really make life harder than it needs to be!)</p>\n\n<p>Then, once the use has filled in the form and hit \"submit\", you need to process that input. <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#Processing-a-file-upload-field\" rel=\"nofollow\">The documentation for doing that is here.</a> But, to summarise, you can get the name of the file using:</p>\n\n<pre><code>my $filename = $q-&gt;param('file_upload');\n</code></pre>\n\n<p>Or, probably more useful, you can get an open filehandle on the contents of the file from:</p>\n\n<pre><code>my $io_handle = $q-&gt;upload('file_upload');\n</code></pre>\n\n<p>Which means that you can write the file to somewhere on your server with code like this:</p>\n\n<pre><code>if ( my $io_handle = $q-&gt;upload('file_upload') ) {\n  open ( my $out_file, '&gt;&gt;', $some_file_path ) or die $!;\n  while ( my $bytesread = $io_handle-&gt;read($buffer,1024) ) {\n    print $out_file $buffer;\n  }\n}\n</code></pre>\n\n<p>You can also get the MIME type of the uploaded file with:</p>\n\n<pre><code>my $type = $q-&gt;uploadInfo( $io_handle )-&gt;{'Content-Type'};\n</code></pre>\n\n<p>But I recommend that you read all of the documentation in order to pick up all of the details.</p>\n\n<p>p.s. Oh, and CGI? In 2016?! Please look at <a href=\"http://plackperl.org/\" rel=\"nofollow\">something a little more up to date</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 462, "user_id": 7236200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca3e89931df93c19497126a2a36cb8bf?s=128&d=identicon&r=PG&f=1", "display_name": "amit bhosale", "link": "https://stackoverflow.com/users/7236200/amit-bhosale"}, "is_accepted": false, "score": 0, "last_activity_date": 1591278400, "creation_date": 1591278400, "answer_id": 62196259, "question_id": 39627791, "link": "https://stackoverflow.com/questions/39627791/perl-cgi-input-type-file/62196259#62196259", "title": "Perl CGI Input type FILE", "body": "<p>my problem is I want the Input type of file ..so that I can ask users to browse and attach a spreadsheet.. ==> (just view) you can use filefield.</p>\n\n<p>For example</p>\n\n<pre><code>$q-&gt;filefield(\n    -name      =&gt; 'filename',\n    -size      =&gt; 40,\n    -maxlength =&gt; 80,\n    -accept =&gt; 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel');\n</code></pre>\n\n<blockquote>\n  <p>when user clicks on filefield it will show only the Excel file present in directory</p>\n</blockquote>\n"}], "owner": {"reputation": 43, "user_id": 6855945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92d90155061f13957722e4d290831156?s=128&d=identicon&r=PG&f=1", "display_name": "Randy", "link": "https://stackoverflow.com/users/6855945/randy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "accepted_answer_id": 39634837, "answer_count": 2, "score": 1, "last_activity_date": 1591278400, "creation_date": 1474498934, "question_id": 39627791, "link": "https://stackoverflow.com/questions/39627791/perl-cgi-input-type-file", "title": "Perl CGI Input type FILE", "body": "<p>I'm trying to do a simple Perl CGI script ..where users can upload a excel file on a webpage ..which will get stored in a folder and later I will do some operation. </p>\n\n<p>I am able to create webpage with a text box using \"textarea\" syntax..Below is my working code .</p>\n\n<pre><code>sub output_form {\nmy ($q) = @_;\nprint $q-&gt;start_form( -name   =&gt; 'main', -action =&gt; 'cgi.cgi', -method =&gt; 'POST', -enctype =&gt; 'multipart/form-data');\nprint $q-&gt;start_table;\nprint $q-&gt;Tr(\n    $q-&gt;td(' Upload the spreadsheet here  :'),\n       $q-&gt;textarea(-name =&gt; \"text\", -size =&gt; 200, -cols =&gt; 30, -rows =&gt; 5 )\n    )\n);\n\nprint $q-&gt;Tr( $q-&gt;td( $q-&gt;submit( -value =&gt; 'Submit' ) ),\n$q-&gt;td('&amp;nbsp;') );\nprint $q-&gt;end_table;\nprint $q-&gt;end_form;\n</code></pre>\n\n<p>}</p>\n\n<p>However , my problem is I want the Input type of file ..so that I can ask users to browse and attach a spreadsheet..which I'm not able to do any help will be appreciated.</p>\n\n<p>there are few example on internet..which are HTML ..but I want a CGI way  </p>\n"}, {"tags": ["json", "perl", "base64", "google-speech-api"], "comments": [{"owner": {"reputation": 2689, "user_id": 1687639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5a6dd18900e2bfd6dffec21ee358f31?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Oicles", "link": "https://stackoverflow.com/users/1687639/christopher-oicles"}, "edited": false, "score": 0, "creation_date": 1474509967, "post_id": 39627737, "comment_id": 66563456, "body": "Does Google require the URL version of Base64?  Your version of <code>encode_base64url</code> does not work the same way as <code>MIME::Base64::encode_base64url</code>, verified in the echoed code from Google, which has <code>&#39;&#47;&#39;</code>, <code>&#39;+&#39;</code> and newline characters in it.  In fact, your version just produces the same output as <code>encode_base64</code>.  The URL version should also remove <code>&#39;=&#39;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 285, "user_id": 2861331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4a5937314ca968138332a6d80610135e?s=128&d=identicon&r=PG", "display_name": "hamdanjz4", "link": "https://stackoverflow.com/users/2861331/hamdanjz4"}, "edited": false, "score": 0, "creation_date": 1493559491, "post_id": 39650202, "comment_id": 74458130, "body": "I experienced the same problem. Should we remove the <code>+</code> , <code>&#47;</code> , <code>=</code>, and <code>\\n</code> to be able to decoded by Google? I&#39;ve removed it, but I still can&#39;t be decoded."}, {"owner": {"reputation": 51, "user_id": 6847047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0240793e309714bc489bdcf7f902172a?s=128&d=identicon&r=PG&f=1", "display_name": "Kruft Industries", "link": "https://stackoverflow.com/users/6847047/kruft-industries"}, "reply_to_user": {"reputation": 285, "user_id": 2861331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4a5937314ca968138332a6d80610135e?s=128&d=identicon&r=PG", "display_name": "hamdanjz4", "link": "https://stackoverflow.com/users/2861331/hamdanjz4"}, "edited": false, "score": 0, "creation_date": 1494421871, "post_id": 39650202, "comment_id": 74821068, "body": "Yes, that&#39;s what the $doodle stuff is doing. If you&#39;re still having issues it might be something else."}], "tags": [], "owner": {"reputation": 51, "user_id": 6847047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0240793e309714bc489bdcf7f902172a?s=128&d=identicon&r=PG&f=1", "display_name": "Kruft Industries", "link": "https://stackoverflow.com/users/6847047/kruft-industries"}, "is_accepted": true, "score": 1, "last_activity_date": 1474585852, "creation_date": 1474585852, "answer_id": 39650202, "question_id": 39627737, "link": "https://stackoverflow.com/questions/39627737/post-base64-encoded-file-to-google-speech-api-using-perl/39650202#39650202", "title": "POST base64 encoded file to google speech api using perl", "body": "<p>Here is the corrected script. This should help out quite a few, I might update the title and description to prevent duplicate questions! Thank you for pointing me in the right direction, Christopher Oicles!</p>\n\n<pre><code>#!/usr/bin/env perl\n# Render speech to text using the google cloud speech engine.\n#\n# Kruft Industries Sept. 2016\n#\n#\n# Intended to replace work by the following(not sure where this is hosted): GNU General Public License Version 2 Copyright (C) 2011 - 2012, Lefteris Zafiris \n# &lt;zaf.000@gmail.com&gt;\n#\n#\n# The script takes as input flac files at 8kHz and returns the following values: status : Return status. 0 means success, non zero values indicating different \n# errors.\n#\n# Outputs a voice transcription that satisfies the input of sendmailmp3 for freepbx authored by the above Zafiris I am by no means an expert with the perl \n# language, Please forgive any blaring ugliness :)\n\nuse utf8;\nuse MIME::Base64;\nuse strict;\nuse warnings; \nuse LWP::UserAgent; \n\nif (!@ARGV || $ARGV[0] eq '-h' || $ARGV[0] eq '--help') {\nprint \"Speech recognition using google cloud speech api.\\n\\n\";\nprint \"Usage: $0 [FILES]\\n\\n\";\nexit;\n}\nmy $url = \"https://speech.googleapis.com/v1beta1/speech:syncrecognize?key=API KEY GOES HERE\"; \n\nmy @file_list = @ARGV; foreach my $file \n(@file_list) {\nprint \"Opening $file\\n\";\nopen(my $fh, \"&lt;\", \"$file\") or die \"Cant read file: $!\";\nmy $audio = do { local $/; &lt;$fh&gt; };\nclose($fh);\n\nmy $flac = encode_base64url($audio);\n\nmy $json = '{\"config\":{\"encoding\":\"FLAC\",\"sample_rate\":8000,\"language_code\":\"en-US\"},\"audio\":{\"content\":\"' . $flac . '\"}}';\n\nmy $req = HTTP::Request-&gt;new( 'POST', $url );\n$req-&gt;header( 'Content-Type' =&gt; 'application/json' );\n$req-&gt;content( $json );\n\nmy $lwp = LWP::UserAgent-&gt;new;\nmy $response = $lwp-&gt;request($req);\n\n#print $response-&gt;as_string; #debug output google's reply headers and message\nlast if (!$response-&gt;is_success);\n\n#print $response-&gt;content; #debug output the full transcript\n    my $doodle = $response-&gt;content;\n    $doodle =~ s/.*\\\"transcript\\\"://g;\n$doodle =~ s/}\\],.*//g;\n$doodle =~ s/^{\\\"result\\\":\\[\\]}/{\\\"result\\\":/g;\n$doodle =~ s/\\R//g;\n$doodle =~ s/\\*/_/g;\n    print $doodle;\n\n\n}\n      sub encode_base64url{\n         my($data) = @_;\n         return 0 unless $data;\n         $data = encode_base64($data);\n         $data =~ s/\\+/-/g;\n         $data =~ s/\\//_/g;\n         $data =~ s/\\=//g;\n         $data =~ s/\\n//g;\n         return($data);\n      }\nexit;\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 6847047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0240793e309714bc489bdcf7f902172a?s=128&d=identicon&r=PG&f=1", "display_name": "Kruft Industries", "link": "https://stackoverflow.com/users/6847047/kruft-industries"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1271, "favorite_count": 0, "accepted_answer_id": 39650202, "answer_count": 1, "score": 1, "last_activity_date": 1474585852, "creation_date": 1474498546, "question_id": 39627737, "link": "https://stackoverflow.com/questions/39627737/post-base64-encoded-file-to-google-speech-api-using-perl", "title": "POST base64 encoded file to google speech api using perl", "body": "<p>I am having difficulty encoding a FLAC audio file to base64 when posting a json string to the google speech api. I noticed a few \\n's in the reply from google, not sure if the base64 isn't good enough going in or perhaps I don't fully grasp how to build such strings and make them json-y enough to satisfy google. I'm leaning towards utf-8 encoding but my last attempt at further processing the information to be sent left me with mountains of other error messages from perl. Any pointers at all would be a great help! (even if the pointer is to give up on doing this on my own and pay the support fee to google)</p>\n\n<pre><code>Error message:\n    {\n      \"error\": {\n        \"code\": 400,\n        \"message\": \"Invalid value at 'audio.content' (TYPE_BYTES), Base64 decoding failed for \"ZkxhQwAAACIQABAAAAlJABQpAfQA8AABS+DDBqlWu7Ba27gz/koR4+04AwAAJAAAAAAAAAAAAAAA\\nAAAAAAAQAAAAAAAAATAAAAAAAAABQ5kQAAQAACggAAAAcmVmZXJlbmNlIGxpYkZMQUMgMS4zLjAg\\nMjAxMzA1MjYAAAAAgQA...\n</code></pre>\n\n<p>My code is:</p>\n\n<pre><code>#!/usr/bin/env perl\n# Render speech to text using the google cloud speech engine.\n#\n# Kruft Industries Sept. 2016\n#\n#\n# Intended to replace work by the following(not sure where this is hosted): GNU General Public License Version 2 Copyright (C) 2011 - 2012, Lefteris Zafiris \n# &lt;zaf.000@gmail.com&gt;\n#\n#\n# The script takes as input flac files at 8kHz and returns the following values: status : Return status. 0 means success, non zero values indicating different \n# errors.\n#\n# Outputs a voice transcription that satisfies the input of sendmailmp3 for freepbx authored by the above Zafiris I am by no means an expert with the perl \n# language, Please forgive any blaring ugliness :)\n\nuse utf8;\nuse MIME::Base64;\nuse strict;\nuse warnings; \nuse LWP::UserAgent; \n\nif (!@ARGV || $ARGV[0] eq '-h' || $ARGV[0] eq '--help') {\n    print \"Speech recognition using google cloud speech api.\\n\\n\";\n    print \"Usage: $0 [FILES]\\n\\n\";\n    exit;\n}\nmy $url = \"https://speech.googleapis.com/v1beta1/speech:syncrecognize?key=API KEY HERE\"; \n\nmy @file_list = @ARGV; foreach my $file \n(@file_list) {\n    print \"Opening $file\\n\";\n    open(my $fh, \"&lt;\", \"$file\") or die \"Cant read file: $!\";\n    my $audio = do { local $/; &lt;$fh&gt; };\n    close($fh);\n\nmy $flac = encode_base64url($audio);\n\nmy $json = '{\"config\":{\"encoding\":\"FLAC\",\"sample_rate\":8000,\"language_code\":\"en-US\"},\"audio\":{\"content\":\"' . $flac . '\"}}';\n\nmy $req = HTTP::Request-&gt;new( 'POST', $url );\n$req-&gt;header( 'Content-Type' =&gt; 'application/json' );\n$req-&gt;content( $json );\n\nmy $lwp = LWP::UserAgent-&gt;new;\nmy $response = $lwp-&gt;request($req);\n\nprint $response-&gt;as_string; #debug output google's reply headers and message\nlast if (!$response-&gt;is_success);\n\nprint $response-&gt;content; #debug output the full transcript\n    my $doodle = $response-&gt;content;\n    $doodle =~ s/.*\\\"transcript\\\"://g;\n$doodle =~ s/}\\],.*//g;\n$doodle =~ s/^{\\\"result\\\":\\[\\]}/{\\\"result\\\":/g;\n$doodle =~ s/\\R//g;\n$doodle =~ s/\\*/_/g;\n    print $doodle;\n\n\n}\n      sub encode_base64url{\n         my($data) = @_;\n         return 0 unless $data;\n         $data = encode_base64($data);\n         $data =~ tr#\\-_#+/#;\n         return($data);\n      }\nexit;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 2, "creation_date": 1474488380, "post_id": 39625636, "comment_id": 66556531, "body": "Did you try anything?"}, {"owner": {"reputation": 11, "user_id": 6860571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1b77ee16b69f0de4be7f725759cda7b?s=128&d=identicon&r=PG&f=1", "display_name": "Prakhar Gupta", "link": "https://stackoverflow.com/users/6860571/prakhar-gupta"}, "reply_to_user": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1474488526, "post_id": 39625636, "comment_id": 66556601, "body": "yes, $VAR1[0] , $VAR1-&gt;{0}"}, {"owner": {"reputation": 13431, "user_id": 2169762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nns8w.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/2169762/martin"}, "edited": false, "score": 0, "creation_date": 1474488782, "post_id": 39625636, "comment_id": 66556752, "body": "This article is likely to help: <a href=\"http://stackoverflow.com/questions/8258387/accessing-values-of-json-structure-in-perl\" title=\"accessing values of json structure in perl\">stackoverflow.com/questions/8258387/&hellip;</a>.  I would mark it as a duplicate but already votes to close for other reasons."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474534064, "post_id": 39625636, "comment_id": 66573048, "body": "I&#39;m guessing the problem is that you don&#39;t actually have a variable called <code>$VAR1</code> - that&#39;s just the output from <code>Data::Dumper</code>."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1474493267, "post_id": 39626003, "comment_id": 66559133, "body": "or <code>0..$#$VAR1</code>"}], "tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": true, "score": 0, "last_activity_date": 1474835416, "last_edit_date": 1474835416, "creation_date": 1474489637, "answer_id": 39626003, "question_id": 39625636, "link": "https://stackoverflow.com/questions/39625636/accessing-elements-in-a-list-of-json-in-perl/39626003#39626003", "title": "Accessing elements in a list of json in perl", "body": "<p>Try this:</p>\n\n<pre><code>foreach my $arr (@$VAR1) {\n    print $arr-&gt;{value}-&gt;@{ ('a'..'c') };\n}\n</code></pre>\n\n<p>Or even shorter :</p>\n\n<pre><code>print map{ $_-&gt;{value}-&gt;@{ ('a'..'c') } } @{ $VAR1 }[0..$#$VAR1];\n</code></pre>\n\n<h3>OUTPUT</h3>\n\n<pre><code>defghx\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6860571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1b77ee16b69f0de4be7f725759cda7b?s=128&d=identicon&r=PG&f=1", "display_name": "Prakhar Gupta", "link": "https://stackoverflow.com/users/6860571/prakhar-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "closed_date": 1474492809, "accepted_answer_id": 39626003, "answer_count": 1, "score": 0, "last_activity_date": 1474835416, "creation_date": 1474488334, "question_id": 39625636, "link": "https://stackoverflow.com/questions/39625636/accessing-elements-in-a-list-of-json-in-perl", "closed_reason": "Needs details or clarity", "title": "Accessing elements in a list of json in perl", "body": "<p>I have the following object</p>\n\n<pre><code>$VAR1 = [\n          {\n            'value' =&gt; {\n                         'a' =&gt; 'd',\n                         'b' =&gt; 'e',\n                         'c' =&gt; 'f'\n                       }\n          },\n          {\n            'value' =&gt; {\n                         'a' =&gt; 'g',\n                         'b' =&gt; 'h',\n                         'c' =&gt; 'x'\n                       }\n          }\n        ];\n</code></pre>\n\n<p>I have to traverse this object to get values for a,b,c. \nPlease can someone help ?</p>\n"}, {"tags": ["perl", "signals"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474496363, "post_id": 39626033, "comment_id": 66560399, "body": "Note that you could surely unmask SIGALRM if you wanted a different result."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1474489780, "creation_date": 1474489780, "answer_id": 39626033, "question_id": 39625390, "link": "https://stackoverflow.com/questions/39625390/perl-possibility-of-multiple-alrm-signals/39626033#39626033", "title": "Perl + Possibility of multiple ALRM signals", "body": "<p>You're asking what happens if you have</p>\n\n<pre><code>$SIG{ALRM} = sub {\n   alarm(15*60);\n   call_stored_proc();\n};\n\nalarm(15*60);\n</code></pre>\n\n<p>and <code>call_stored_proc</code> takes longer than 15 minutes. Why didn't you just try it?</p>\n\n<pre><code>perl -e'\n   use feature qw( say );\n\n   my $slow = 2;\n   my $done = 0;\n\n   sub call_stored_proc {\n      say sprintf \"[%s] %s: %s\", time, \"call_stored_proc\", \"enter\";\n      sleep($slow ? 8 : 2);\n      say sprintf \"[%s] %s: %s\", time, \"call_stored_proc\", \"leave\";\n      $done = 1 if !$slow;\n      --$slow;\n   }\n\n   $SIG{ALRM} = sub {\n      say sprintf \"[%s] %s: %s\", time, \"SIGALRM hander\", \"enter\";\n      say sprintf \"[%s] %s: %s\", time, \"SIGALRM hander\", \"alarm set for \".(time+5);\n      alarm(5);\n      call_stored_proc();\n      say sprintf \"[%s] %s: %s\", time, \"SIGALRM hander\", \"leave\";\n   };\n\n   say sprintf \"[%s] %s: %s\", time, \"[root]\", \"alarm set for \".(time+5);\n   alarm(5);\n   sleep(1) while !$done;\n'\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[1474490009] [root]: alarm set for 1474490014\n[1474490014] SIGALRM hander: enter\n[1474490014] SIGALRM hander: alarm set for 1474490019\n[1474490014] call_stored_proc: enter\n[1474490022] call_stored_proc: leave\n[1474490022] SIGALRM hander: leave\n[1474490022] SIGALRM hander: enter\n[1474490022] SIGALRM hander: alarm set for 1474490027\n[1474490022] call_stored_proc: enter\n[1474490030] call_stored_proc: leave\n[1474490030] SIGALRM hander: leave\n[1474490031] SIGALRM hander: enter\n[1474490031] SIGALRM hander: alarm set for 1474490036\n[1474490031] call_stored_proc: enter\n[1474490033] call_stored_proc: leave\n[1474490033] SIGALRM hander: leave\n</code></pre>\n\n<p>As you can see, <code>call_stored_proc</code> isn't interrupted. SIGALRM is suppressed until the SIGALRM handler returns.</p>\n"}], "owner": {"reputation": 301, "user_id": 1502055, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fc79e2560b7c41a3533cd983c7cc9120?s=128&d=identicon&r=PG", "display_name": "Shashi", "link": "https://stackoverflow.com/users/1502055/shashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 1, "accepted_answer_id": 39626033, "answer_count": 1, "score": 2, "last_activity_date": 1544510508, "creation_date": 1474487457, "last_edit_date": 1544510508, "question_id": 39625390, "link": "https://stackoverflow.com/questions/39625390/perl-possibility-of-multiple-alrm-signals", "title": "Perl + Possibility of multiple ALRM signals", "body": "<p><strong>Scenario :</strong> Parent process shall spawn N worker children to load data to stage tables , and Parent frequently (every 15mins) invokes a stored procedure to move date from stage -> core</p>\n\n<p><strong>Idea :</strong> planning to setup an <strong>'$SIG{ALRM}'</strong> handler for every 15mins and invoke the stored procedure in the signal handler.</p>\n\n<p>Seek suggestions if it's a good idea to setup Signal handlers to invoke a stored procedure whose execution time should be ~5mins , wondering what happens if the stored procedure runs beyond 15mins when another ALRM signal goes off.</p>\n\n<p>Would this second signal get </p>\n\n<ul>\n<li>queued to be handled later </li>\n<li>gets lost completely  </li>\n<li>invoke another handler and stored procedure instance, while the previous handler is still running.</li>\n</ul>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 0, "creation_date": 1474488845, "post_id": 39625643, "comment_id": 66556799, "body": "Oh, 2 &amp; 3 are newidioms to me and look very useful. I&#39;ll follow up if this doesn&#39;t fulfil my needs."}, {"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 1, "creation_date": 1474496506, "post_id": 39625643, "comment_id": 66560445, "body": "Hmmmm, it&#39;s commenting out lots of import lines. I&#39;ll have to take a closer look a bit later to debug it."}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "reply_to_user": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 1, "creation_date": 1474497399, "post_id": 39625643, "comment_id": 66560707, "body": "if you provide an example with some problematic cases I can try to give alternatives..."}], "tags": [], "owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "is_accepted": true, "score": 1, "last_activity_date": 1474488355, "creation_date": 1474488355, "answer_id": 39625643, "question_id": 39624852, "link": "https://stackoverflow.com/questions/39624852/comment-out-multiline-log-statements-using-perl-one-liner-regex-substitution/39625643#39625643", "title": "Comment out multiline log statements using perl one liner regex substitution", "body": "<p>Just a general idea (please adapt to your case...)</p>\n\n<pre><code>...perl -i -p0e 's{(log.*?((info)|(debug)).*?;)}{ $1 =~ s!^|\\n!\\n//!gr }gsei'\n</code></pre>\n\n<p>where:</p>\n\n<ul>\n<li><code>.*?</code> instead of <code>.*</code>  to behave non-greddy</li>\n<li><code>-p0e</code>  to process the full text as a single record</li>\n<li><code>$1 =~ s!^|\\n!\\n//!gr</code> to make extra processing of internal newlines</li>\n</ul>\n\n<p>Please test it before application...</p>\n"}, {"tags": [], "owner": {"reputation": 525, "user_id": 3694028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a631f2f9266385b14ff6301c02f2071b?s=128&d=identicon&r=PG&f=1", "display_name": "Richard RP", "link": "https://stackoverflow.com/users/3694028/richard-rp"}, "is_accepted": false, "score": 1, "last_activity_date": 1474546352, "creation_date": 1474546352, "answer_id": 39638743, "question_id": 39624852, "link": "https://stackoverflow.com/questions/39624852/comment-out-multiline-log-statements-using-perl-one-liner-regex-substitution/39638743#39638743", "title": "Comment out multiline log statements using perl one liner regex substitution", "body": "<p>You can use the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow\">range operator</a>, <code>start .. stop</code>:</p>\n\n<pre><code>perl -i -pe 's!^!//! if /log.*(info|debug)/ .. /;/'\n</code></pre>\n"}], "owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 39625643, "answer_count": 2, "score": 1, "last_activity_date": 1474546352, "creation_date": 1474485476, "last_edit_date": 1474489297, "question_id": 39624852, "link": "https://stackoverflow.com/questions/39624852/comment-out-multiline-log-statements-using-perl-one-liner-regex-substitution", "title": "Comment out multiline log statements using perl one liner regex substitution", "body": "<p>I have a perl one-liner that works when log statements are on a single line:</p>\n\n<pre><code>find  -type f -iname \"*java\" | xargs -d'\\n' -n 1 perl -i -pe 's{(log.*((info)|(debug)).*)}{//$1}gi'\n</code></pre>\n\n<p>But trying to modify this to work on multiple lines is tricky. I know that the <code>s</code> modifier will match newlines, but how do I get it to comment out subsequent lines (i.e. up to <code>;</code> assuming the log string doesn't have it)? </p>\n\n<p>I'm fine with a solution that makes multi-line log statements into single-line log statements too. I'll also accept C-style comments (though it would be nice to find a solution for C++ style comments).</p>\n\n<p>(Don't tell me to turn off logging. Anyone who's actually tried that will realize how brutally complicated that is in non-trivial applications.)</p>\n"}, {"tags": ["perl", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1474487900, "post_id": 39624907, "comment_id": 66556270, "body": "If i want to get the client_ip of endpoint 1.1.1.1 , how do i do that ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1474488131, "post_id": 39624907, "comment_id": 66556396, "body": "@nims Ah, right. Added to the answer.  I&#39;ll add some references for handling hashrefs as well."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1474490336, "post_id": 39624907, "comment_id": 66557626, "body": "@nims I added some references for handling of hashrefs, the first one for this exact use.  Let me know if the hashref business is a problem -- this is critical to get for using JSON without trouble."}, {"owner": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1474491315, "post_id": 39624907, "comment_id": 66558140, "body": "my $json =  &#39;{     &quot;Endpoints&quot;: {       &quot;198.18.193.126&quot;: {         &quot;client_ip&quot;: &quot;3.4.5.6&quot;,           &quot;client_interface_ip&quot;: &quot;9.1.1 .2&quot;,               &quot;origin&quot;: &quot;198.18 .193 .151&quot;,                 &quot;origin_interface&quot;: &quot;8.2 .0 .2&quot;,                         &quot;outertunnel&quot;: &quot;tunnel1&quot;,                         &quot;innertunnel&quot;: &quot;innertunnel&quot;,                         &quot;slot&quot;: 1900,                         &quot;port&quot;: 362                 },  }&#39;;  my $j = JSON-&gt;new; my $data =  $j-&gt;decode($json); my $ client;  $client = $data-&gt;{Endpoints}{198.18.193.126}{client_ip}; print $client;"}, {"owner": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1474491339, "post_id": 39624907, "comment_id": 66558152, "body": "im unable to print the value in $client = $data-&gt;{Endpoints}{198.18.193.126}{client_ip};  why is that ?"}, {"owner": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1474492503, "post_id": 39624907, "comment_id": 66558770, "body": "Perfect. Thanks for the detailed explanation"}, {"owner": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1474498299, "post_id": 39624907, "comment_id": 66560966, "body": "quick question. What if the Endpoint  id is part of $self-&gt;{&#39;ip&#39;}  ....                   my $client_ip = $data-&gt;{Endpoints}{$self-&gt;{&#39;ip&#39;}}{client_ip};  i&#39;m sure this won&#39;t work. How do i replace the ip with $self-&gt;{&#39;ip&#39;} ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1474501345, "post_id": 39624907, "comment_id": 66561650, "body": "@nims  I&#39;m not sure what <code>$self</code> is, but that should work in fact.  You can have an <i>expression</i> inside <code>{ ... }</code>, code -- it should evaluate and its result will be used to look it up in the hash.  So if that <code>$self-&gt;{ip}</code> returns something that <i>exists as a key</i> for <code>{Endpoints}</code> it will work like a charm."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1474501546, "post_id": 39624907, "comment_id": 66561697, "body": "@nims Let&#39;s say <code>$self-&gt;{ip}</code> returns <code>198.18.193.126</code>.  Then this will be looked up, <code>$data-&gt;{Endpoints}{&#39;198.18.193.126&#39;}{client_ip}</code>.  Since it comes out of an evaluation it is a string so there will no problems with quoting etc.  If there is no such key it will complain. Another option of course is that you do it in two steps, <code>$ip = $self-&gt;{ip}</code> and then use <code>$ip</code> in the hash."}, {"owner": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1474502427, "post_id": 39624907, "comment_id": 66561868, "body": "my @json=    &quot; json file is stored in this array &quot;    print @json; //prints the json file as expected.         my $data =   decode_json(@json);  my $client;  $client = $data-&gt;{Endpoints}{&#39;198.18.193.126&#39;}{client_ip}; print $client;               I get the following error :  malformed JSON string, neither array, object, number, string or atom, at character offset 0 (before &quot;(end of string)&quot;) at"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1474502758, "post_id": 39624907, "comment_id": 66561943, "body": "@nims  It&#39;s telling you that something is in fact nor right with JSON, and at the very beginning -- <code>character offset 0</code>. It&#39;s the message from <code>JSON::decode_json</code>. You can&#39;t give it an array <code>@json</code>, it has to be a string, <code>decode_json($string_with_valid_json)</code>.  What you have in the question is good."}, {"owner": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1474504091, "post_id": 39624907, "comment_id": 66562268, "body": "I get the Json from a different function and that function returns the json in an array..so the Json is in array now..how do I decode it?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1474504580, "post_id": 39624907, "comment_id": 66562357, "body": "@nims  Huh, it can&#39;t be -- read the docs for <code>decode_json</code>. What does it look like?  Here is a valid example.  <code>$json = &#39; { &quot;key&quot;: { &quot;next&quot;: &quot;level&quot; } };</code>. This string, in the variable <code>$json</code>,  is valid json. Now decode it <code>$hr = decode_json($json);</code>. Now print it <code>say Dumper($hr);</code>"}, {"owner": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1474507735, "post_id": 39624907, "comment_id": 66562948, "body": "You are right. I fixed it. Thanks for answering my questions."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1474511784, "post_id": 39624907, "comment_id": 66563907, "body": "@nims  You are welcome.  Come back if there&#39;s more.  I&#39;ll clean up some of these comments now."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1474615833, "last_edit_date": 1495541706, "creation_date": 1474485658, "answer_id": 39624907, "question_id": 39624410, "link": "https://stackoverflow.com/questions/39624410/parse-json-using-perl/39624907#39624907", "title": "Parse JSON using Perl", "body": "<p>The first question is about a suitable design for the JSON file. Hashes can serve well here while the arrayref doesn't seem needed at all. The endpoint values can be the keys, with their values being hashrefs with key-related information. Keep the endpoint value in its hashref as well, if you wish.</p>\n\n<p>The key <code>\"Endpoints\"</code> in your JSON doesn't seem to do much as it stands. But if you do need it, perhaps since there will be other types of keys, then you could have for its value another hashref, which will contain the hashref with endpoint values as keys.</p>\n\n<p>For example</p>\n\n<pre>\n{ \n   \"Endpoints\": { \n        \"1.1.1.1\": { \"client_ip\": \"3.4.5.6\",     ... },\n        \"2.2.2.2\": { \"client_ip\": \"19.20.21.22\", ... },\n        ...\n   }, \n   \"OtherKeys\": { ... }, ...\n}\n</pre>\n\n<p>The last values should not end with commas. See <a href=\"http://www.json.org/\" rel=\"nofollow noreferrer\">JSON format</a>.</p>\n\n<p>When you bring this into Perl you'll have nested hashrefs, like</p>\n\n<pre><code>$data = { \n    Endpoints =&gt; { \n         1.1.1.1 =&gt; { client_ip =&gt; '3.4.5.6',     ... }, \n         2.2.2.2 =&gt; { client_ip =&gt; '19.20.21.22', ... },\n    }, \n    OtherKeys =&gt; { ... }, \n};\n</code></pre>\n\n<p>Then the values are retrieved simply as</p>\n\n<pre><code>my $client_ip = $data-&gt;{Endpoints}{'1.1.1.1'}{client_ip};\n</code></pre>\n\n<p>For example, retreive all endpoints and list <code>client_ip</code> for them</p>\n\n<pre><code>my @endpoints = keys %{$data-&gt;{Endpoints}};\nforeach my $ip (@endpoints) {\n    say $data-&gt;{Endpoints}{$ip}{client_ip};\n}\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlref.html#Using-References\" rel=\"nofollow noreferrer\">Using References in perlref</a>, and <a href=\"https://stackoverflow.com/questions/37845433/accessing-json-decoded-into-a-hash-and-an-array-of-hash-references/37845615#37845615\">this post</a> is entirely about it. Also see <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a> and <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>.</p>\n\n<p>We can inspect (<em>see</em>) the whole data structure with <a href=\"http://perldoc.perl.org/Data/Dumper.html\" rel=\"nofollow noreferrer\">Data::Dumper</a></p>\n\n<pre><code>use Data::Dumper;\nmy $data = decode_json($json);\nprint Dumper($data);\n</code></pre>\n\n<p>There is a number of other packages for working with nested data structures.</p>\n\n<p>Note that the <a href=\"http://search.cpan.org/~makamaka/JSON-2.90/lib/JSON.pm\" rel=\"nofollow noreferrer\">JSON</a> package comes with <code>encode_json</code> and related methods, so you can create that file programmatically.  This may help in getting its format right and with maintenance in the future.</p>\n"}], "owner": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1239, "favorite_count": 0, "accepted_answer_id": 39624907, "answer_count": 1, "score": 2, "last_activity_date": 1553154887, "creation_date": 1474484036, "last_edit_date": 1553154887, "question_id": 39624410, "link": "https://stackoverflow.com/questions/39624410/parse-json-using-perl", "title": "Parse JSON using Perl", "body": "<p>I have written a test script to perform certain functions. Script works as expected. Currently,The arguments required to run the script are passed from the command line using <code>Getopt::Long</code>.I would like to move the command line  arguments to a json file. The Endpoint ip will  still be passed as command line arg.\nI want the endpoint ip to act as a key. For instance, if the endpoint is 1.1.1.1, I want to get the client_ip,client_interface_ip,originip,....,port that is listed under endpoint id 1.1.1.1 in the json config file mentioned below. How do i do that ?</p>\n\n<p>current version of the script:</p>\n\n<pre><code> use Getopt::Long;\n\n     my ($self) = @_;\n\n        GetOptions (\n            \"endpoint|e=s\"           =&gt; \\$self-&gt;{'endpoint'},\n            \"aggregator|a=s\"         =&gt; \\$self-&gt;{'aggregator'},\n            \"port|pt=s\"              =&gt; \\$self-&gt;{'port'},\n            \"client|c=s\"             =&gt; \\$self-&gt;{'client'},\n            \"client_interface|ci=s\"  =&gt; \\$self-&gt;{'client_interface'},\n            \"origin|o=s\"             =&gt; \\$self-&gt;{'origin'},\n            \"origin_interface|oi=s\"  =&gt; \\$self-&gt;{'origin_interface'},\n            \"interfacename|ot=s\"     =&gt; \\$self-&gt;{'i1'},\n            \"interfacename2|it=s\"    =&gt; \\$self-&gt;{'i2'},\n             ) || $self-&gt;abort( \"Invalid command line options.\n                   Valid options are endpoint,aggregator,port,client,client_interface,\n                     origin,origin_interface,outertunnel,innertunnel,\");\n\n       #Terminate the script execution if the reqd args are not passed\n       my @required_args = qw(endpoint aggregator port client client_interface            origin origin_interface \n                              );\n\n       for my $command_line_arguments (@required_args) {\n         unless ($self-&gt;{$command_line_arguments}) {\n          $self-&gt;abort('missing required argument ' . $command_line_arguments);\n         }\n       }\n\n  $self-&gt;{'tObj'} =  QA::crypto::tunnels-&gt;new\n      ('host'=&gt; $self-&gt;{'endpoint'})\n         or $self-&gt;abort('[Could not create a QA::Crypto::tunnels object.]');\n</code></pre>\n\n<p>json file  for arguments:</p>\n\n<pre><code>{\n        \"Endpoints\": [{\n\n                \"endpoint\": \"1.1.1.1\",\n                \"client_ip\": \"3.4.5.6\",\n                \"client_interface_ip\": \"10.11.12.14\",\n                \"origin\": \"a.a.a.a\",\n                \"origin_interface\": \"15.16.17.18\",\n                \"interfacename\": \"name\",\n                \"interfacename2\": \"name1\",\n                \"sl\": 19,\n                \"port\": 362\n        }, {\n\n                \"endpoint\": \"2.2.2.2\",\n                \"client_ip\": \"19.20.21.22\",\n                \"client_interface_ip\": \"23.24.25.26\",\n                \"origin\": \"1.2.3.4\",\n                \"origin_interface\": \"5.6.7.8\",\n                \"interfacename\": \"interface name\",\n                \"interfacename2\": \"interfacename_2\",\n                \"sl\": 19,\n                \"port\": 366\n        }]\n}\n\n\n\n\n#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse JSON;\n\nmy $json;\n{\n   open my $fh, \"&lt;\", \"cfg.txt\"\n      or die(\"Can't open file \\\"cfg.json\\\": $!\\n\");\n   local $/;\n   $json = &lt;$fh&gt;;\n}\n\nmy $data = decode_json($json);\n$json = JSON-&gt;new-&gt;utf8-&gt;pretty-&gt;encode($data);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1474482573, "post_id": 39623968, "comment_id": 66553355, "body": "The best way to install modules in the system perl is with your package manager (e.g. yum, apt-get). What distro are you running?"}, {"owner": {"reputation": 83, "user_id": 6039916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ae48f83626f2cbfb2c5f4dfa55b1ca0?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Hadlaw", "link": "https://stackoverflow.com/users/6039916/tom-hadlaw"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1474486687, "post_id": 39623968, "comment_id": 66555615, "body": "Not on Linux, i&#39;m on OSX"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1474492695, "post_id": 39623968, "comment_id": 66558858, "body": "The first option &quot;installing DBI using cpan&quot; is the one to use. Can you show us the output that you get when you run that? All the directories listed in <code>@INC</code> seem to be system directories so you&#39;d need to run the install as root.  You might want to look at using <a href=\"https://metacpan.org/pod/local::lib\" rel=\"nofollow noreferrer\">local::lib</a> to allow non-root installs to a directory of your choosing."}, {"owner": {"reputation": 83, "user_id": 6039916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ae48f83626f2cbfb2c5f4dfa55b1ca0?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Hadlaw", "link": "https://stackoverflow.com/users/6039916/tom-hadlaw"}, "edited": false, "score": 0, "creation_date": 1474554586, "post_id": 39623968, "comment_id": 66587078, "body": "I tried installing it as root but it still gets the same problem"}], "answers": [{"tags": [], "owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "is_accepted": false, "score": 0, "last_activity_date": 1474662959, "creation_date": 1474662959, "answer_id": 39669129, "question_id": 39623968, "link": "https://stackoverflow.com/questions/39623968/cant-resolve-perl-dependency-cant-locate-dbi-pm-in-inc/39669129#39669129", "title": "Can&#39;t resolve perl dependency: Can&#39;t locate DBI.pm in @INC", "body": "<p>I believe that a common recommendation on Linux is to not modify the system Perl and to use a different Perl installation for Perl code development.  Part of the rationale for that is that the OS relies on the system Perl and if the system Perl is modified/updated, it could break some functionality of the OS.</p>\n\n<p>I'm not sure if that same concern also applies to OSX.  If it does, you may be able to use <a href=\"https://perlbrew.pl/\" rel=\"nofollow\">perlbrew</a> to help manage multiple Perl installations.  Since there is a note about a fix for <a href=\"https://perlbrew.pl/FixLion.html\" rel=\"nofollow\">MacOSX 1.7 (Lion)</a>, I'm assuming that perlbrew will work in MacOSx.</p>\n\n<p>Using perlbrew might be a better way forward rather than continuing to modify the system Perl.</p>\n"}], "owner": {"reputation": 83, "user_id": 6039916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ae48f83626f2cbfb2c5f4dfa55b1ca0?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Hadlaw", "link": "https://stackoverflow.com/users/6039916/tom-hadlaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 777, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1474662959, "creation_date": 1474482436, "last_edit_date": 1474486713, "question_id": 39623968, "link": "https://stackoverflow.com/questions/39623968/cant-resolve-perl-dependency-cant-locate-dbi-pm-in-inc", "title": "Can&#39;t resolve perl dependency: Can&#39;t locate DBI.pm in @INC", "body": "<p>I'm trying to get a tool written in perl to work but it seems no matter what I do I can't resolve the dependency for the DBI package.</p>\n\n<p><code>ERROR:  Can't locate DBI.pm in @INC (you may need to install the DBI module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.20.2 /usr/local/share/perl/5.20.2 /usr/lib/x86_64-linux-gnu/perl5/5.20 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.20 /usr/share/perl/5.20 /usr/local/lib/site_perl .) at line 15.</code></p>\n\n<p>I've tried:</p>\n\n<ul>\n<li><p>installing DBI using cpan, no errors on install but I still get the same error.</p></li>\n<li><p>Using the <code>make install</code> script in the DBI package manually.</p></li>\n<li><p>Copying DBI.pm to some of the directories in <code>@INC</code> manually.</p></li>\n<li><p>Trying to set <code>PERL5LIB</code> to each of the million places that perl installs the same package over and over again (As someone who's never used perl what possible reason is there for this?!?)</p></li>\n<li><p>Running perl -MCPAN -e'install </p></li>\n</ul>\n\n<p>I don't know what else do to...</p>\n"}, {"tags": ["perl", "select", "catalyst", "html-formhandler"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1474480265, "post_id": 39623343, "comment_id": 66552215, "body": "color vs. colour typo?"}, {"owner": {"reputation": 115, "user_id": 3394759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/47e34123679905a342b10ee3a03ba98c?s=128&d=identicon&r=PG&f=1", "display_name": "killianjackson", "link": "https://stackoverflow.com/users/3394759/killianjackson"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1474481499, "post_id": 39623343, "comment_id": 66552803, "body": "I changed it to color instead of colour in my stack overflow question. In my actual code it is colour everywhere so that is not the issue."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1474482193, "post_id": 39623343, "comment_id": 66553165, "body": "Please copy-and-paste the exact code you&#39;re using when your post questions here. That way people don&#39;t waste time finding bugs in fake code, and you don&#39;t have to waste your time responding to their comments. :) (not saying I wasted more than about 5 seconds, just some general advice)"}], "answers": [{"tags": [], "owner": {"reputation": 115, "user_id": 3394759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/47e34123679905a342b10ee3a03ba98c?s=128&d=identicon&r=PG&f=1", "display_name": "killianjackson", "link": "https://stackoverflow.com/users/3394759/killianjackson"}, "is_accepted": true, "score": 0, "last_activity_date": 1474482237, "creation_date": 1474482237, "answer_id": 39623901, "question_id": 39623343, "link": "https://stackoverflow.com/questions/39623343/how-to-render-individual-fields-with-htmlformhandler/39623901#39623901", "title": "How to render individual fields with HTML::FormHandler", "body": "<p>Solved. Despite the render_field method being documented as the way to render an individual field, I was able to render the color field using the following line:</p>\n\n<p><code>[% form.field('color').render %]</code></p>\n"}], "owner": {"reputation": 115, "user_id": 3394759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/47e34123679905a342b10ee3a03ba98c?s=128&d=identicon&r=PG&f=1", "display_name": "killianjackson", "link": "https://stackoverflow.com/users/3394759/killianjackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 39623901, "answer_count": 1, "score": 1, "last_activity_date": 1474482237, "creation_date": 1474480182, "last_edit_date": 1474481544, "question_id": 39623343, "link": "https://stackoverflow.com/questions/39623343/how-to-render-individual-fields-with-htmlformhandler", "title": "How to render individual fields with HTML::FormHandler", "body": "<p>I am creating a form and am using HTML::FormHandler. I have a select field similar to the following:</p>\n\n<pre><code>has_field color =&gt; (\ntype =&gt; 'Select',\ndefault =&gt; 'green',\n);\n\nsub options_color {\n    return [[ qw(red green blue)]];\n}\n</code></pre>\n\n<p>In my template if I use the following line to render the form this select field renders properly as a drop down list populated with the options I set in the options_color method.</p>\n\n<pre><code>[% form.render %]\n</code></pre>\n\n<p>However, I would like to render fields individually. I believe I am using the method render_field correctly to render just the color field, but the following line produces nothing in my browser.</p>\n\n<p><code>[% form.render_field('color') %]</code></p>\n\n<p>I believe my code matches the documentation, but I am not seeing the behavior that the documentation for HTML::FormHandler describes. Any ideas would be very helpful. Thanks!  </p>\n"}, {"tags": ["perl", "shell", "arguments"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474478610, "post_id": 39622854, "comment_id": 66551296, "body": "It&#39;s actually a <i>new line</i>. A <i>carriage return</i> is a <code>\\r</code>. :)"}], "answers": [{"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 2, "creation_date": 1474479029, "post_id": 39622942, "comment_id": 66551496, "body": "I&#39;d call it &quot;a problem with how you&#39;re using bash&quot;, not &quot;a problem with bash&quot;. Bash is behaving precisely as specified and documented."}], "tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": true, "score": 6, "last_activity_date": 1474479639, "last_edit_date": 1474479639, "creation_date": 1474478761, "answer_id": 39622942, "question_id": 39622854, "link": "https://stackoverflow.com/questions/39622854/perl-argument-that-contains-newline-character/39622942#39622942", "title": "Perl argument that contains newline character", "body": "<p>This doesn't look like an issue with <code>perl</code>, it's a problem with the <code>bash</code> command that you typed. When you enter the following string literal in <code>bash</code>:</p>\n\n<pre><code>\"Issue: CPU usage is high \\n Time: 11:20AM \\n\"\n</code></pre>\n\n<p><code>bash</code> does not interpret the <code>\\n</code> character sequences as line breaks. You need a different syntax for that. You can use either of the following:</p>\n\n<pre><code># bash\nsendEmail.pl $'Issue: CPU usage is high\\nTime: 11:20AM\\n'\n</code></pre>\n\n<p>or</p>\n\n<pre><code># bash or sh\nsendEmail.pl 'Issue: CPU usage is high\nTime: 11:20AM\n'\n</code></pre>\n"}], "owner": {"reputation": 747, "user_id": 2474912, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/i6p16.gif?s=128&g=1", "display_name": "JohnnyLoo", "link": "https://stackoverflow.com/users/2474912/johnnyloo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 940, "favorite_count": 1, "accepted_answer_id": 39622942, "answer_count": 1, "score": 2, "last_activity_date": 1474479639, "creation_date": 1474478495, "last_edit_date": 1474478892, "question_id": 39622854, "link": "https://stackoverflow.com/questions/39622854/perl-argument-that-contains-newline-character", "title": "Perl argument that contains newline character", "body": "<p>I am trying to write a perl script that emails whatever I give it in the first argument, but I need the email body to have multiple lines. When I pass text to the script (Using MIME::Lite, fyi), the email body only has a single line because the \"\\n\" I pass in the script do not seem to be converted to newline in the email body.</p>\n\n<p>Here is an example</p>\n\n<p>Script Brief Content:</p>\n\n<pre><code>    my $message = $ARGV[0];\n    #blah blah\n    sendEmail $message;\n</code></pre>\n\n<p>Command Example when calling script</p>\n\n<pre><code>sendEmail.pl \"Issue: CPU usage is high \\n Time: 11:20AM \\n\"\n</code></pre>\n\n<p>What I need:   </p>\n\n<pre><code>Issue: CPU issue\nTime: 12:00AM\n</code></pre>\n\n<p>What I get:</p>\n\n<pre><code>Issue: CPU issue \\n Time: 12:00AM \\n\n</code></pre>\n\n<p>Even if I just want to print to output that string as in <code>print \"$message\"</code>, I get the same output.</p>\n\n<p>How can I force perl to consider \\n characters that are passed to it so that it moves content to next line when it sees that character?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1474476130, "post_id": 39621644, "comment_id": 66549924, "body": "You can fill a buffer of sorts in your loop, send, sleep a second -- but the software/packages you are using may have that capabiility, like in the answer by <a href=\"http://stackoverflow.com/users/223226/%D0%A1%D1%83%D1%85%D0%BE%D0%B927\">Cyxoi27</a>. Search the docs."}, {"owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "edited": false, "score": 1, "creation_date": 1474476346, "post_id": 39621644, "comment_id": 66550045, "body": "Do you want to send <i>exactly</i> 100 packets per second for a particular reason or is congestion avoidance all you want?"}, {"owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "edited": false, "score": 0, "creation_date": 1474482819, "post_id": 39621644, "comment_id": 66553494, "body": "I would like to add a setting to leave user choose how many message to send per second."}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1474475389, "creation_date": 1474475389, "answer_id": 39621924, "question_id": 39621644, "link": "https://stackoverflow.com/questions/39621644/limit-socket-to-send-specific-ammount-of-packets-every-second-in-perl/39621924#39621924", "title": "Limit Socket to send specific ammount of packets every second in Perl", "body": "<p>You might want to check <a href=\"https://metacpan.org/pod/WWW::Curl\" rel=\"nofollow\"><code>WWW::Curl</code></a> and use <a href=\"https://curl.haxx.se/libcurl/c/CURLOPT_MAX_SEND_SPEED_LARGE.html\" rel=\"nofollow\"><code>CURLOPT_MAX_SEND_SPEED_LARGE</code></a> to throttle output traffic.</p>\n"}], "owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 39621924, "answer_count": 1, "score": 1, "last_activity_date": 1474477741, "creation_date": 1474474461, "last_edit_date": 1474477741, "question_id": 39621644, "link": "https://stackoverflow.com/questions/39621644/limit-socket-to-send-specific-ammount-of-packets-every-second-in-perl", "title": "Limit Socket to send specific ammount of packets every second in Perl", "body": "<p>I'm programming a simple script in perl that do the following:</p>\n\n<ol>\n<li>Open a socket to a specific server </li>\n<li>Reads data line by line from a big file using a while loop</li>\n<li>Send data using the open socket</li>\n</ol>\n\n<p>I don't report the whole code since it works perfect and could be too long. What I need to accomplish is send an ammount of packets every seconds. For example I would like to limit to send 100 packets per second. This because the loop is so fast and sometime the server goes in congestion.\nWhat I need, is undestand how (and if) I can implement this kind of mechanism. Is not clear for me how to insert code into the while loop to send \"X\" packets every second. The actual code looks like:</p>\n\n<pre><code>Open Socket\nOpen file containing data to send\nwhile   # Read file line by line\n{\nSend data to Server\n}\n</code></pre>\n\n<p>Thank you, Lucas.</p>\n"}, {"tags": ["perl", "shell", "plenv"], "comments": [{"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 5, "creation_date": 1474471998, "post_id": 39620593, "comment_id": 66547400, "body": "If <code>perl -v</code> doesn&#39;t work, then there is something wrong with that perl."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1474472051, "post_id": 39620593, "comment_id": 66547431, "body": "No, this command would have worked at least back to early Perl 4, and probably much longer. What&#39;s the output of <code>type perl</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474472115, "post_id": 39620593, "comment_id": 66547469, "body": "Also interested in <code>type perl</code>&#39;s output"}, {"owner": {"reputation": 739, "user_id": 6719378, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/85c10d5eb8d877f42b0382b39399def3?s=128&d=identicon&r=PG&f=1", "display_name": "dorachan2010", "link": "https://stackoverflow.com/users/6719378/dorachan2010"}, "edited": false, "score": 0, "creation_date": 1474472535, "post_id": 39620593, "comment_id": 66547746, "body": "Sorry, I&#39;m new to this website and can&#39;t figure out the formatting in the comment section"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474475922, "post_id": 39620593, "comment_id": 66549806, "body": "Adding to the question is the right thing to do. /// Oh, <code>plenv</code> doesn&#39;t work through PATH manipulations? I guess the next thing to do is study <code>&#47;opt&#47;plenv&#47;shims&#47;perl</code> /// Tag users e.g. using <code>@ikegami</code> so they notified of the comment."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1474476181, "post_id": 39620593, "comment_id": 66549944, "body": "plenv is better than perlbrew in that sense (no path mangling)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1474480094, "post_id": 39620593, "comment_id": 66552114, "body": "@\u0421\u0443\u0445\u043e\u043927, I don&#39;t see how avoid PATH manipulations is better (or worse)"}, {"owner": {"reputation": 739, "user_id": 6719378, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/85c10d5eb8d877f42b0382b39399def3?s=128&d=identicon&r=PG&f=1", "display_name": "dorachan2010", "link": "https://stackoverflow.com/users/6719378/dorachan2010"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474488319, "post_id": 39620593, "comment_id": 66556497, "body": "So the concensus is that the perl is corrupt? Or as @ikegami mentioned, I&#39;m missing something about /opt/plenv/shims/perl?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474496959, "post_id": 39620593, "comment_id": 66560577, "body": "Re &quot;<i>So the concensus is that the perl is corrupt?</i>&quot;, Hell no. If a Perl interpreter is being run at all, it&#39;s likely being run with no arguments. Determining which of these is true requires finding out what <code>&#47;opt&#47;plenv&#47;shims&#47;perl</code> executes and how."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474497110, "post_id": 39620593, "comment_id": 66560617, "body": "Actually, you could just use <code>echo &#39;print &quot;hello&quot;;&#39; | perl</code>. If it works, a Perl interpreter is being called, but no arguments were passed to it."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1474541442, "post_id": 39620593, "comment_id": 66577905, "body": "With plenv you can define perl version per project directory, and not to worry about manual version switching."}], "owner": {"reputation": 739, "user_id": 6719378, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/85c10d5eb8d877f42b0382b39399def3?s=128&d=identicon&r=PG&f=1", "display_name": "dorachan2010", "link": "https://stackoverflow.com/users/6719378/dorachan2010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1474472979, "creation_date": 1474471251, "last_edit_date": 1474472979, "question_id": 39620593, "link": "https://stackoverflow.com/questions/39620593/why-dont-perl-commands-work-after-i-run-plenv-local-system", "title": "Why don&#39;t Perl commands work after I run `plenv local system`?", "body": "<p>On a CentOS 6.5 machine, I have two versions of perl installed through plenv.</p>\n\n<p>When I am running perl 5.8.8, I can run any perl command fine in the shell such as</p>\n\n<pre><code>plenv local 5.8.8\nperl -e \"print 'hello';\"\nhello\n</code></pre>\n\n<p>But When I switch to alias \"system\"</p>\n\n<pre><code>plenv local system\nperl -e \"print 'hello';\"\n</code></pre>\n\n<p>The command doesn't execute and feeds into a new line as if the perl command is waiting for input. <kbd>Ctrl</kbd>-<kbd>D</kbd> doesn't end input, either.</p>\n\n<p>So my questions are, </p>\n\n<ul>\n<li>is this an old perl behavior?</li>\n<li>How do I check the version of an alias perl? (typing <code>perl -v</code> doesn't execute, as I described above)</li>\n</ul>\n\n<p><strong>update:</strong>\nResults to commands requested in comments</p>\n\n<pre><code>$: plenv version \nsystem (set by /home/myuser/.perl-version) \n$: type perl \nperl is hashed (/opt/plenv/shims/perl) \n$: plenv local 5.8.8 \n$: plenv version \n5.8.8 (set by /home/myuser/.perl-version) \n$: type perl \nperl is hashed (/opt/plenv/shims/perl)\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1474466143, "post_id": 39617760, "comment_id": 66543322, "body": "Formatting email so it looks OK on a variety of clients is not trivial. I use Perl&#39;s <a href=\"https://metacpan.org/pod/Template\" rel=\"nofollow noreferrer\">Template Toolkit</a> to create <a href=\"https://www.nu42.com/2016/03/macgyver-html-email-perl.html\" rel=\"nofollow noreferrer\">pseudo-tags</a> that take some of the tedium out."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1474464375, "creation_date": 1474464375, "answer_id": 39617928, "question_id": 39617760, "link": "https://stackoverflow.com/questions/39617760/how-to-change-font-size-color-type-and-create-bullets-when-sending-a-mail-from/39617928#39617928", "title": "How to change font size, color, type and create bullets when sending a mail from perl script", "body": "<p>\"Rich text\" in an email is just HTML. If you can do it in HTML then you can do it in email. Just replace the plain text with an HTML version. And add a \"Content-type: text/html\" header.</p>\n\n<p>You don't say anything about what tools you're using to create and send the email, so it's hard to be much more help. Except to point out that however you're currently doing it, <a href=\"https://metacpan.org/pod/Email::Stuffer\" rel=\"nofollow\">Email::Stuffer</a> will almost certainly make your life easier.</p>\n"}], "owner": {"reputation": 167, "user_id": 5005698, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/962075417175866/picture?type=large", "display_name": "Vishal Khemani", "link": "https://stackoverflow.com/users/5005698/vishal-khemani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "closed_date": 1474468062, "answer_count": 1, "score": 0, "last_activity_date": 1474464375, "creation_date": 1474463985, "question_id": 39617760, "link": "https://stackoverflow.com/questions/39617760/how-to-change-font-size-color-type-and-create-bullets-when-sending-a-mail-from", "closed_reason": "Needs more focus", "title": "How to change font size, color, type and create bullets when sending a mail from perl script", "body": "<p>I have a perl script which is capable of sending mail to a certain list of users and user reads it in their MS Office Outllook.</p>\n\n<p>I was wondering if it is possible to set the font size, color and type for the mail body and also create bulleted list in the mail body.</p>\n\n<p>Could somebody please help me on that!</p>\n"}, {"tags": ["python", "perl", "parsing"], "comments": [{"owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "edited": false, "score": 2, "creation_date": 1474455818, "post_id": 39614689, "comment_id": 66536205, "body": "So how did you build your results here?"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1474456665, "post_id": 39614689, "comment_id": 66536751, "body": "It&#39;s easy enough to do this in Python, using standard <code>str</code> methods like <code>.split</code>, <code>.strip</code>, and <code>.startswith</code>. If you get stuck, post your code &amp; explain the specific problem you&#39;re having, and we&#39;ll help you fix it."}, {"owner": {"reputation": 3510, "user_id": 4128833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/079bb7879c594630684e2c9ed4ecad7e?s=128&d=identicon&r=PG", "display_name": "paul-g", "link": "https://stackoverflow.com/users/4128833/paul-g"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 1, "creation_date": 1474460695, "post_id": 39614689, "comment_id": 66539388, "body": "@PM2Ring well yes, but as the answer below shows, there is a nicer and more flexible way to do it in perl, which is what I was looking for. I did not ask how to do it, but what is the simplest and most flexible way."}, {"owner": {"reputation": 3510, "user_id": 4128833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/079bb7879c594630684e2c9ed4ecad7e?s=128&d=identicon&r=PG", "display_name": "paul-g", "link": "https://stackoverflow.com/users/4128833/paul-g"}, "reply_to_user": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "edited": false, "score": 0, "creation_date": 1474460903, "post_id": 39614689, "comment_id": 66539517, "body": "@KeepCalmAndCarryOn sorry but I don&#39;t see how this is relevant to my question: I have some output as shown to parse, how do I do it in a simple and flexible way?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1474473990, "post_id": 39614689, "comment_id": 66548691, "body": "I think the point is - if you have an output, it&#39;s often easier to &#39;parse&#39; it just by getting the source to output in a different format."}], "answers": [{"comments": [{"owner": {"reputation": 3510, "user_id": 4128833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/079bb7879c594630684e2c9ed4ecad7e?s=128&d=identicon&r=PG", "display_name": "paul-g", "link": "https://stackoverflow.com/users/4128833/paul-g"}, "edited": false, "score": 0, "creation_date": 1474460660, "post_id": 39615580, "comment_id": 66539364, "body": "thx, this is exactly what I was looking for since it is quite flexible and easy to extend to other situations"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1474470553, "last_edit_date": 1474470553, "creation_date": 1474458034, "answer_id": 39615580, "question_id": 39614689, "link": "https://stackoverflow.com/questions/39614689/parsing-and-tabulating-results/39615580#39615580", "title": "Parsing and tabulating results", "body": "<p>If you're just parsing an output, I'd tackle it like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n#set paragraph mode - look for empty lines between records.\nlocal $/ = '';\n\n#init the matrix/size vars. \nmy $matrix;\nmy $sizes;\n\n#output order    \nmy @columns = ( \"COMPUTE TIME\", \"SOLVE TIME\", \"TOTAL TIME\", \"REL. ERROR\" );\n\n#Column headings.\nprint join \"\\t\", \"matrix\", \"sizes\", \"solver\", @columns,\"\\n\";\n\n#iterate the data. \n#note - &lt;&gt; is a magic file handle that reads STDIN or 'files specified on command line'\n#that's just like how sed/grep/awk do it. \nwhile (&lt;&gt;) {\n   #find and set the matrix name\n   #note conditional - this only appears in the 'first' record. \n   if (m/MATRIX (\\w+)/) {\n      $matrix = $1;\n   }\n   #find and set the sizes. \n   if (m/sizes: ([\\d\\,]+)/) {\n      $sizes = $1;\n   }\n   #multi-line pattern match to grab keys and values. \n   #this then maps neatly into a hash. \n   my %result_set = m/^(\\w+).*: ([\\d\\.\\-e]+)/gm;\n\n   #add the solver to the 'set':\n   #and use this test to check if this 'record' is of interest. \n   #skipping the \"ITERATIONS\" line. \n   my ( $solver ) =  m/Solving with (.*) .../ or next;\n   #print it tab separated.  \n   print join \"\\t\", $matrix, $sizes, $solver, @result_set{@columns}, \"\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>matrix  sizes   solver  Compute Solve   Total   Rel Error   \nsmall_SPD   5,5,8   Sparse LU AND COLAMD    8.9287e-05  1.0663e-05  9.995e-05   2.30263e-18 \nsmall_SPD   5,5,8   BiCGSTAB    4.113e-06   1.853e-05   2.2643e-05  1.34364e-10 \n</code></pre>\n\n<p>Tab separated, which is probably useful for some applications - but you might want to <a href=\"http://perldoc.perl.org/functions/printf.html\" rel=\"nofollow\">printf</a> or <a href=\"http://perldoc.perl.org/functions/format.html\" rel=\"nofollow\">format</a> instead. </p>\n"}], "owner": {"reputation": 3510, "user_id": 4128833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/079bb7879c594630684e2c9ed4ecad7e?s=128&d=identicon&r=PG", "display_name": "paul-g", "link": "https://stackoverflow.com/users/4128833/paul-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 39615580, "answer_count": 1, "score": -3, "last_activity_date": 1474470553, "creation_date": 1474455631, "last_edit_date": 1474460704, "question_id": 39614689, "link": "https://stackoverflow.com/questions/39614689/parsing-and-tabulating-results", "title": "Parsing and tabulating results", "body": "<p>What is a simple and flexible way to parse and tabulate output  like the one below on a Unix system? </p>\n\n<p>The output has multiple entries in the following format:  </p>\n\n<pre><code>===================================================== \n======  SOLVING WITH MATRIX small_SPD ====\n=================================================== \n\nsizes: 5,5,8\n\nSolving with Sparse LU AND COLAMD ... \nCOMPUTE TIME : 8.9287e-05\nSOLVE TIME : 1.0663e-05\nTOTAL TIME : 9.995e-05\nREL. ERROR : 2.30263e-18\n\n\nSolving with BiCGSTAB ... \nCOMPUTE TIME : 4.113e-06\nSOLVE TIME : 1.853e-05\nTOTAL TIME : 2.2643e-05\nREL. ERROR : 1.34364e-10\n\nITERATIONS : 2\n</code></pre>\n\n<p>This should be tabulated as (or similar):</p>\n\n<pre><code>Matrix      Sizes         Solver             Compute    Solve         Total       Rel Error\nsmall_SPD   5,5,8  Sparse LU AND COLAMD   8.9287e-05   1.0663e-05   9.995e-05   2.30263e-18   \nsmall_SPD   5,5,8        BiCGSTAB          4.113e-06   1.853e-05    2.2643e-05  1.34364e-10\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1474453949, "post_id": 39614030, "comment_id": 66534906, "body": "You&#39;re going to have to expand on what you&#39;re trying to accomplish. Also - turn on <code>use strict; use warnings;</code> because that will tell you some errors in your code."}, {"owner": {"reputation": 1, "user_id": 6857388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qb1mF.jpg?s=128&g=1", "display_name": "Rehab Sobhy", "link": "https://stackoverflow.com/users/6857388/rehab-sobhy"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1474454547, "post_id": 39614030, "comment_id": 66535320, "body": "Okay thank you. Also i&#39;ve turned on use strict; and use warnings; and they showed me lots of errors in my code which came in very handy."}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1474456784, "post_id": 39614030, "comment_id": 66536831, "body": "Then add that error free code here after using strict &amp; warnings, showing what you&#39;re trying to accomplish as @Sobrique has written already."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1474455001, "creation_date": 1474455001, "answer_id": 39614465, "question_id": 39614030, "link": "https://stackoverflow.com/questions/39614030/adding-the-elements-of-an-array-to-another-array-using-perl/39614465#39614465", "title": "Adding the elements of an array to another array using perl", "body": "<blockquote>\n  <p>\u00a0I want to how to add the elements of an array to another one using Perl.</p>\n</blockquote>\n\n<p>If you have</p>\n\n<pre><code>my @data     = ( 'a', 'b', 'c' );\nmy @addition = ( 'x', 'y', 'z' );\n</code></pre>\n\n<p>then you can use <code>push</code> to add the contents of <code>@addition</code> to <code>@data</code> like this</p>\n\n<pre><code>push @data, @addition;\n</code></pre>\n\n<p>Now <code>@data</code> will contain <code>( 'a', 'b', 'c', 'x', 'y', 'z' )</code></p>\n\n<p>The rest of your question is unclear</p>\n"}, {"tags": [], "owner": {"reputation": 1217, "user_id": 6318325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ATZyf.jpg?s=128&g=1", "display_name": "Ngoan Tran", "link": "https://stackoverflow.com/users/6318325/ngoan-tran"}, "is_accepted": false, "score": -1, "last_activity_date": 1474471812, "creation_date": 1474471812, "answer_id": 39620792, "question_id": 39614030, "link": "https://stackoverflow.com/questions/39614030/adding-the-elements-of-an-array-to-another-array-using-perl/39620792#39620792", "title": "Adding the elements of an array to another array using perl", "body": "<p>I believe that you want to read the fifth word from each input and then store in the array. You can refer my sample code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy  @x;\nwhile(&lt;STDIN&gt;){\n    my $line = $_;\n    chomp $line;\n    my @array = split( /\\s/, $line);\n    push (@x, $array[4]);\n    print \"Your array: @x\\n\";\n}\n</code></pre>\n\n<p>when running this code, if you input \"<code>a b c d e</code>\" it will store <code>e</code> to array <code>@x</code>, then if you continue typing the new line \"<code>1 2 3 4 5</code>\" value <code>5</code> will be stored into <code>@x</code> and so on. \nEx:</p>\n\n<pre><code>a b c d e\nYour array: e\n1 2 3 4 5\nYour array: e 5\none two three four five\nYour array: e 5 five\n</code></pre>\n\n<p>Besides, I suggest you to check the condition at least 5 words for each line input as below:</p>\n\n<pre><code>if (scalar(@array) &lt; 5){\n    print \"Require at least 5 words\\n\";\n} else {\n    push (@x, $array[4]);\n    print \"Your array: @x\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6857388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qb1mF.jpg?s=128&g=1", "display_name": "Rehab Sobhy", "link": "https://stackoverflow.com/users/6857388/rehab-sobhy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1447, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1474471812, "creation_date": 1474453802, "last_edit_date": 1474456645, "question_id": 39614030, "link": "https://stackoverflow.com/questions/39614030/adding-the-elements-of-an-array-to-another-array-using-perl", "title": "Adding the elements of an array to another array using perl", "body": "<p>Please, I want to know how to add the elements of an array to another one using perl.\nAnd if there's a loop i can use to make a counter for the X array.</p>\n\n<pre><code>#!/usr/local/bin/perl\n$line = &lt;STDIN&gt;;\n@array = split(/ /,$line);\nprint\"$array[4]\\n\";\n@X[0]=@array[4];\n@X[1]=@array[4];\n@X[2]=@array[4];\n@X[3]=@array[4];\nprint @X;\n</code></pre>\n"}, {"tags": ["ios", "xcode", "perl"], "comments": [{"owner": {"reputation": 924, "user_id": 1363862, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/4ac695a0007664cf0fd595ba7b31de40?s=128&d=identicon&r=PG", "display_name": "AleyRobotics", "link": "https://stackoverflow.com/users/1363862/aleyrobotics"}, "edited": false, "score": 0, "creation_date": 1474449537, "post_id": 39612122, "comment_id": 66531993, "body": "Try Clean then Build command"}, {"owner": {"reputation": 924, "user_id": 1363862, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/4ac695a0007664cf0fd595ba7b31de40?s=128&d=identicon&r=PG", "display_name": "AleyRobotics", "link": "https://stackoverflow.com/users/1363862/aleyrobotics"}, "edited": false, "score": 0, "creation_date": 1474449624, "post_id": 39612122, "comment_id": 66532049, "body": "check library for your target at General-&gt;Linked Frameworks and Libraries it mast be in list"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6517192"}, "reply_to_user": {"reputation": 924, "user_id": 1363862, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/4ac695a0007664cf0fd595ba7b31de40?s=128&d=identicon&r=PG", "display_name": "AleyRobotics", "link": "https://stackoverflow.com/users/1363862/aleyrobotics"}, "edited": false, "score": 0, "creation_date": 1474449663, "post_id": 39612122, "comment_id": 66532075, "body": "tried cleaning then tried building..got the same error"}], "answers": [{"comments": [{"owner": {"reputation": 7970, "user_id": 4117097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrdeC.jpg?s=128&g=1", "display_name": "Anton Malyshev", "link": "https://stackoverflow.com/users/4117097/anton-malyshev"}, "edited": false, "score": 0, "creation_date": 1474450202, "post_id": 39612459, "comment_id": 66532435, "body": "As far as I know, perl is shipped with OS, not with Xcode"}, {"owner": {"reputation": 7970, "user_id": 4117097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrdeC.jpg?s=128&g=1", "display_name": "Anton Malyshev", "link": "https://stackoverflow.com/users/4117097/anton-malyshev"}, "edited": false, "score": 0, "creation_date": 1474450730, "post_id": 39612459, "comment_id": 66532797, "body": "Checked and it seems that I may be wrong in the previous comment. Xcode Command Line Tools should contain perl so try to reinstall them, for example, running <code>xcode-select --install</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6517192"}, "edited": false, "score": 0, "creation_date": 1474450947, "post_id": 39612459, "comment_id": 66532932, "body": "xcode-select: error: command line tools are already installed, use &quot;Software Update&quot; to install updates"}], "tags": [], "owner": {"reputation": 7970, "user_id": 4117097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrdeC.jpg?s=128&g=1", "display_name": "Anton Malyshev", "link": "https://stackoverflow.com/users/4117097/anton-malyshev"}, "is_accepted": false, "score": 0, "last_activity_date": 1474449724, "last_edit_date": 1492087507, "creation_date": 1474449724, "answer_id": 39612459, "question_id": 39612122, "link": "https://stackoverflow.com/questions/39612122/copy-png-error-with-exit-code-5/39612459#39612459", "title": "Copy png error with exit code 5", "body": "<p>You simply have problems starting system perl.</p>\n\n<p>To restore library <code>/System/Library/Perl/5.18/darwin-thread-multi-2level/CORE/libperl.dylib</code> see this: <a href=\"https://apple.stackexchange.com/questions/116611/how-can-i-get-back-a-system-file-after-deleting-it-from-my-mac\">https://apple.stackexchange.com/questions/116611/how-can-i-get-back-a-system-file-after-deleting-it-from-my-mac</a></p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6517192"}, "edited": false, "score": 0, "creation_date": 1474450916, "post_id": 39612734, "comment_id": 66532912, "body": "tried reinstalling perl but still im having the same issue :("}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1474450432, "creation_date": 1474450432, "answer_id": 39612734, "question_id": 39612122, "link": "https://stackoverflow.com/questions/39612122/copy-png-error-with-exit-code-5/39612734#39612734", "title": "Copy png error with exit code 5", "body": "<p>You could try reinstalling Perl</p>\n\n<pre><code>curl -L https://raw.githubusercontent.com/ranguard/installing-perl/master/scripts/install_perl_on_osx.sh | bash\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6517192"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1474450432, "creation_date": 1474448852, "last_edit_date": 1474450098, "question_id": 39612122, "link": "https://stackoverflow.com/questions/39612122/copy-png-error-with-exit-code-5", "title": "Copy png error with exit code 5", "body": "<p>I tried to run a project in <strong>Xcode 7.3.1</strong> and got the following</p>\n\n<p><strong>Error :</strong></p>\n\n<pre><code>dyld: Library not loaded: /System/Library/Perl/5.18/darwin-thread-multi-2level/CORE/libperl.dylib\n  Referenced from: /usr/bin/perl5.18\nCommand /Applications/Xcode.app/Contents/Developer/usr/bin/copypng failed with exit code 5\n</code></pre>\n\n<p>Why is that dyld library is not getting loaded?\nHow can I be able to sort this out? i have tried checking build phases and there are no images that are red in colour. </p>\n"}, {"tags": ["perl", "syntax", "subroutine", "invocation"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 3, "creation_date": 1474444082, "post_id": 39610261, "comment_id": 66528482, "body": "You got a great answer.  For a lot more discussion about the use of <code>&amp;</code> for this see <a href=\"http://stackoverflow.com/questions/1347396/when-should-i-use-the-to-call-a-perl-subroutine\"><code>this post</code></a>, and <a href=\"http://stackoverflow.com/questions/8912049/difference-between-function-and-function-in-perl\"><code>this post</code></a>, and <a href=\"http://stackoverflow.com/questions/6706882/using-ampersands-and-parens-when-calling-a-perl-sub\"><code>this post</code></a> ... and there are probably others."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1474446556, "post_id": 39610261, "comment_id": 66529896, "body": "@zdim just wondering, why did you put the links in code markup?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474446880, "post_id": 39610261, "comment_id": 66530092, "body": "@simbabque  Hah, good point.  I suppose so that they are more visible, highlighted.  Don&#39;t really know. Never really thought about it as &quot;code markup&quot; (you are right, it is) -- but more as of highlight."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 13, "last_activity_date": 1474443867, "creation_date": 1474443867, "answer_id": 39610400, "question_id": 39610261, "link": "https://stackoverflow.com/questions/39610261/why-the-syntax-name-arg1-arg2-cant-be-used-to-call-a-perl-subroutine/39610400#39610400", "title": "why the syntax `&amp;name arg1 arg2 ...` can&#39;t be used to call a Perl subroutine?", "body": "<p>It's documented in <a href=\"http://p3rl.org/perlsub\">perlsub</a>:</p>\n\n<blockquote>\n  <p>To call subroutines:</p>\n\n<pre><code>       NAME(LIST);    # &amp; is optional with parentheses.\n       NAME LIST;     # Parentheses optional if predeclared/imported.\n       &amp;NAME(LIST);   # Circumvent prototypes.\n       &amp;NAME;         # Makes current @_ visible to called subroutine.\n</code></pre>\n</blockquote>\n\n<p>With <code>&amp;NAME \"arg\"</code>, perl sees <code>&amp;NAME() \"ARG\"</code>, so it thinks there's an operator missing between the sub call and \"ARG\".</p>\n\n<p>In Perl 5, you don't need the <code>&amp;</code> in most cases.</p>\n"}], "owner": {"reputation": 851, "user_id": 1070525, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d6e829a8be1b08fcef0cab71466d5b0f?s=128&d=identicon&r=PG", "display_name": "password636", "link": "https://stackoverflow.com/users/1070525/password636"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 39610400, "answer_count": 1, "score": 8, "last_activity_date": 1474443867, "creation_date": 1474443448, "question_id": 39610261, "link": "https://stackoverflow.com/questions/39610261/why-the-syntax-name-arg1-arg2-cant-be-used-to-call-a-perl-subroutine", "title": "why the syntax `&amp;name arg1 arg2 ...` can&#39;t be used to call a Perl subroutine?", "body": "<p>for a Perl subroutine, if passing 0 argument, I can use 4 forms to call it. But if passing 1 or more arguments, there is one form that I can't use, please see below:</p>\n\n<pre><code>sub name\n{\n    print \"hello\\n\";\n}\n# 4 forms to call\nname;\n&amp;name;\nname();\n&amp;name();\n\nsub aname\n{\n        print \"@_\\n\";\n}\naname \"arg1\", \"arg2\";\n#&amp;aname \"arg1\", \"arg2\"; # syntax error\naname(\"arg1\", \"arg2\");\n&amp;aname(\"arg1\", \"arg2\");\n</code></pre>\n\n<p>The error output is </p>\n\n<pre><code>String found where operator expected at tmp1.pl line 16, near \"&amp;aname \"arg1\"\"\n    (Missing operator before  \"arg1\"?)\nsyntax error at tmp1.pl line 16, near \"&amp;aname \"arg1\"\"\nExecution of tmp1.pl aborted due to compilation errors.\n</code></pre>\n\n<p>Can someone explain the error output from the compiler's point of view? I don't understand why it complains about missing operator.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "delimiter"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474440777, "post_id": 39608704, "comment_id": 66526502, "body": "Nice thought, but if you split on either <code>&#47;[,;]&#47;</code> how do you tell which ones are the &quot;right&quot; ones (right of <code>;</code>)?  It returns a list of all fields, between either <code>,</code> or <code>;</code>, in whatever order they happen.  (What you wrote assigns the list to two (2) scalars, so you only get the first two elements after the split.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474614275, "post_id": 39608704, "comment_id": 66611675, "body": "I edited your addition -- moved the long comment to its own line so not to have to scroll to read it, and added a comment <code># &#47; ...</code> by regex that turns off wrong red coloring by the editor. (It does that often -- after a regex everything turns red.)  If you don&#39;t like this please revert changes -- click on &quot;edited (time)&quot; above my username and you&#39;ll see revisions, with buttons by each. One of them says &quot;rollback&quot;, click on it by the revision you want to roll back to."}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474831643, "post_id": 39608704, "comment_id": 66681098, "body": "@zdim : Would you let me know how to split the data which has two delimiters ex : 1,2,3,4,5,6,7;8,9,10,11,12 and i would want to store everything after ; in an array and right in another array. would be please help me with a  one shot split function . O/P array1 = [1,2,3,4,5,6,7] and array2 =[8,9,10,11,12]"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474832818, "post_id": 39608704, "comment_id": 66681484, "body": "For right now, a two-pass variation of the last example in my answer.  First pop -- <code>@left = split &quot;,&quot;, (&#47;([^;]+)&#47;)[0]</code> and <code>@right = split &quot;,&quot;, (&#47;;([^;]+)&#47;)[0];</code>. This is if the string to process is in <code>$_</code> -- if it&#39;s in a variable, use <code>($str =~ &#47;...&#47;)[0]</code>. Add <code>say for @left</code> to see it.  The <code>(...)[0]</code> is needed because a match returns <i>a list</i> and if you pass it to <code>split</code> it evaluates in scalar context, as 1 (length).   A truly one-shot is harder since you&#39;d get one list, but need to split it into two.  I&#39;ll post another comment if I come up with better."}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474833164, "post_id": 39608704, "comment_id": 66681592, "body": "But is it trying to split the same data twice  sure, is this worth a new question ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474833926, "post_id": 39608704, "comment_id": 66681849, "body": "I wouldn&#39;t -- it&#39;s practically the same question as this one. If you really need it in one statement it may be interesting -- but it may be a bit arbitrary, to push for one statement."}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474834185, "post_id": 39608704, "comment_id": 66681924, "body": "@zdim <a href=\"http://stackoverflow.com/questions/39691215/split-the-data-with-3-delimiters-and-store-it-in-2-separate-arrays-at-a-time\" title=\"split the data with 3 delimiters and store it in 2 separate arrays at a time\">stackoverflow.com/questions/39691215/&hellip;</a>   , Asked"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474444285, "post_id": 39608932, "comment_id": 66528610, "body": "@LearningCpp I updated the answer -- completed the code to a full program, tested with your data, added some comments."}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474450468, "post_id": 39608932, "comment_id": 66532619, "body": "Thanks @zdim , i have used your last peice of code, but its appending an extra \\ to \\d (i.e \\\\d), Also could you please explain map { chomp;(split &#39;:&#39;, $_)[1] }; i added chomp for eliminating empties"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474450943, "post_id": 39608932, "comment_id": 66532930, "body": "@LearningCpp  That&#39;s strange -- it&#39;s not adding it in my tests (what I posted as output is copied form my terminal), as it shouldn&#39;t.  It&#39;s the same output for regex.  The line is as follows. It <code>chomp</code>s the newline. Then it splits by <code>:</code>, resulting in two fields. The <code>map</code> makes is so that it does this for every line, and the whole list is sent on.  So these are pairs, and you can assign that directly to a hash.  This is legit: <code>my %h = (1, &#39;one&#39;, 2, &#39;two&#39;);</code> It pairs them up, <code>key =&gt; value, ...</code>  A very nice way to assign to a hash."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474451060, "post_id": 39608932, "comment_id": 66532994, "body": "@LearningCpp  It&#39;s very late here and I&#39;ll go now (for those zzzz). Let me know, I will be back in a few hours.  I can add to the post if these comments aren&#39;t good enough."}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474451087, "post_id": 39608932, "comment_id": 66533013, "body": "Here is my output , iam using the map code you posted          [&#39;7802261004\\\\d\\\\d&#39;,           &#39;7802261046\\\\d\\\\d&#39;,           &#39;7802261064\\\\d\\\\d&#39;,           &#39;7802261186\\\\d\\\\d&#39;,           &#39;7802293001\\\\d\\\\d&#39;         ]; Looking into whats gone wrong"}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474451896, "post_id": 39608932, "comment_id": 66533545, "body": "@zdim , Oh you are just picking the part after : , and not worried about the values before : , is nt it  ? for the statement map { (split &#39;:&#39;, $_)[1] } &lt;DATA&gt;; i actually have need those values also, i would want to store 1 to 20 in a seperate hash and 21 to 40 in other"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474476516, "post_id": 39608932, "comment_id": 66550142, "body": "@LearningCpp  In the regex solution, I <code>split</code> the whole line on <code>:</code> -- so to get rid of <code>1:</code> and <code>2:</code>.  This is instead of your <code>%result_hash</code>, and what I get are your original <code>$values</code>,  Then they are processed fully -- left of <code>,</code> or <code>;</code> goes into <code>eto</code>, right of <code>;</code> into <code>pro</code>. The regex itself you can use on the keys of your original <code>%result_hash</code> (the <code>$values</code>), if you actually need that hash."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474476656, "post_id": 39608932, "comment_id": 66550226, "body": "@LearningCpp  If you do need to have that <code>%result_hash</code>, instad of <code>my @data = map { ... } &lt;DATA&gt;</code> you can have <code>my @values = values %result_hash</code> and then use the regex on that, <code>[ map { ... } ] @values</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474476749, "post_id": 39608932, "comment_id": 66550282, "body": "@LearningCpp However, I recommend the first solution, if you need to also have <code>%result_hash</code>, or the second if you don&#39;t.  The regex is trickier."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474476829, "post_id": 39608932, "comment_id": 66550344, "body": "@LearningCpp  As for doubles, <code>\\\\d</code>, that you mentiond -- there is no way they can be produced by any of this.  I take it that your data comes from elsewhere, not from <code>&lt;DATA&gt;</code> and that&#39;s where I would look for how `\\` happen."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474476970, "post_id": 39608932, "comment_id": 66550426, "body": "@LearningCpp  Finally, if the &quot;<i>1 to 20</i>&quot; that you mention refer to the <code>1:</code> and <code>2:</code> in your <code>DATA</code>, then you are saying that you do need the <code>%result_hash</code>.  Then use the hash instead of parsing data directly -- see one of the comments above, and the method in the first solution.  All this is much easier to do and much more flexible in the loop based solutions.  Regex can be a bit britle, harder to tweak around."}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474542688, "post_id": 39608932, "comment_id": 66578680, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/123940/discussion-between-learningcpp-and-zdim\">continue this discussion in chat</a>."}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474543208, "post_id": 39608932, "comment_id": 66579033, "body": "the extra slash is appended by dumper delibrately. :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474561689, "post_id": 39608932, "comment_id": 66592075, "body": "@LearningCpp  I am here now (it&#39;s morning here), if you are up for a chat let me know.  Otherwise -- is this OK now?  There are a few solutions here, which all work (tested with data you posted).  If something isn&#39;t working let me know precisely what it is so that I can help you debug -- the posted code has to be work for shown data.  Also, please confirm -- you do need to have that <code>%result_hash</code>, is that correct?"}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474611971, "post_id": 39608932, "comment_id": 66610432, "body": "Added my final version"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474614486, "post_id": 39608932, "comment_id": 66611808, "body": "@LearningCpp  I looked over your code, seems fine -- I&#39;ll look more tomorrow (need to sleep now!) and will drop a line.  Thank you for the attribution. Let me know if there are more questions or if they come up."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1474878787, "last_edit_date": 1495541703, "creation_date": 1474439207, "answer_id": 39608932, "question_id": 39608704, "link": "https://stackoverflow.com/questions/39608704/handling-nested-delimiters-in-perl/39608932#39608932", "title": "Handling Nested Delimiters in perl", "body": "<p><strong>Update</strong> &nbsp;  Added a two-pass regex, at the end</p>\n\n<hr>\n\n<p>Just proceed systematically, analyze the string step by step. The fact that you need consecutive splits and a particular separation rule makes it unwieldy to do in one shot.  Better have a clear method than a monster statement.</p>\n\n<pre><code>use warnings 'all';\nuse strict;   \nuse feature 'say';\n\nmy (%result_hash, %final_hash); \n\nCompare_results(); \n\nsay \"$_ =&gt; $result_hash{$_}\" for sort keys %result_hash;\nsay '---';\nsay \"$_ =&gt; [ @{$final_hash{$_}} ]\" for sort keys %final_hash;\n\nsub Compare_results \n{   \n    %result_hash = map { chomp; split ':', $_ } &lt;DATA&gt;;\n\n    my (@eto, @pro);\n    foreach my $val (values %result_hash)\n    {   \n        foreach my $field (split ',', $val)\n        {   \n            if ($field !~ /;/) { push @eto, $field }\n            else { \n                my ($left, $right) = split ';', $field;\n                push @eto, $left;\n                push @pro, $right;\n            }\n        }    \n    }        \n    $final_hash{eto} = \\@eto;\n    $final_hash{pro} = \\@pro;\n    return 1;                  # but add checks above\n}\n</code></pre>\n\n<p>There are some inefficiencies here, and no error checking, but the method is straightforward.  If your input is anything but smallish please change the above to process line by line, what you clearly know how to do.  It prints</p>\n\n<pre>\n1 => ...  (what you have in the question)\n---\neto => [ 7802315095\\d\\d 7802315098\\d\\d 7802025002\\d\\d 7802025003\\d\\ d ...\npro => [ 7802025001\\d\\d ]\n</pre>\n\n<p>Note that your data does have one loose <code>\\d\\ d</code>.</p>\n\n<hr>\n\n<p>We don't need to build the whole hash <code>%result_hash</code> for this but only need to pick the part of the line after <code>:</code>.  I left the hash in since it is declared global so you may want to have it around. If it in fact isn't needed on its own this simplifies</p>\n\n<pre><code>sub Compare_results {\n    my (@eto, @pro);\n    while (&lt;DATA&gt;) {\n        my ($val) = /:(.*)/;\n        foreach my $field (split ',', $val)\n        # ... same\n    }\n    # assign to %final_hash, return from sub\n}\n</code></pre>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> for comments.</p>\n\n<hr>\n\n<p>Just for the curiosity's sake, here it is in two passes with regex</p>\n\n<pre><code>sub compare_rx {\n    my @data = map { (split ':', $_)[1] } &lt;DATA&gt;;\n    $final_hash{eto} = [ map { /([^,;]+)/g  } @data ];\n    $final_hash{pro} = [ map { /;([^,;]+)/g } @data ];\n    return 1;\n}\n</code></pre>\n\n<p>This picks all characters which are not <code>,</code> or <code>;</code>, using the <em>negated character class</em>, <code>[^,;]</code>. So that is up to the first either of them, left to right. It does this globally, <code>/g</code>, so it keeps going through the string, collecting all fields that are \"left of\" <code>,</code> or <code>;</code>. Then it cheats a bit, picking all <code>[^,;]</code> that are right of <code>;</code>. The <code>map</code> is used to do this for all lines of data.</p>\n\n<p>If <code>%result_hash</code> is needed build it instead of <code>@data</code> and then pull the values from it with <code>my @values = values %hash_result</code> and feed the map with <code>@values</code>.</p>\n\n<p>Or, broken line by line (again, you can build <code>%result_hash</code> instead of taking <code>$data</code> directly)</p>\n\n<pre><code>my (@eto, @pro);\nwhile (&lt;DATA&gt;) {\n    my ($data) = /:(.*)/;\n    push @eto, $data =~ /([^,;]+)/g; \n    push @pro, $data =~ /;([^,;]+)/g;\n}\n</code></pre>\n"}], "owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 1, "accepted_answer_id": 39608932, "answer_count": 1, "score": 2, "last_activity_date": 1474878787, "creation_date": 1474438300, "last_edit_date": 1474673779, "question_id": 39608704, "link": "https://stackoverflow.com/questions/39608704/handling-nested-delimiters-in-perl", "title": "Handling Nested Delimiters in perl", "body": "<pre><code>use strict;   \nuse warnings; \n\nmy %result_hash = (); \nmy %final_hash  = (); \nCompare_results(); \n\nforeach my $key (sort keys %result_hash ){ \n  print \"$key \\n\"; \n  print \"$result_hash{$key} \\n\"; \n} \n\nsub Compare_results \n{ \n\n  while ( &lt;DATA&gt; ) \n  { \n   my($instance,$values) = split /\\:/, $_; \n   $result_hash{$instance} = $values; \n\n   } \n} \n__DATA__ \n1:7802315095\\d\\d,7802315098\\d\\d;7802025001\\d\\d,7802025002\\d\\d,7802025003\\d\\ d,7802025004\\d\\d,7802025005\\d\\d,7802025006\\d\\d,7802025007\\d\\d\n2:7802315095\\d\\d,7802025002\\d\\d,7802025003\\d\\d,7802025004\\d\\d,7802025005\\d\\d,7802025006\\d\\d,7802025007\\d\\d\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>1 \n7802315095\\d\\d,7802315098\\d\\d;7802025001\\d\\d,7802025002\\d\\d,7802025003\\d\\d,7802025004\\d\\d,7802025005\\d\\d,7802025006\\d\\d,7802025007\\d\\d \n\n2 \n7802315095\\d\\d,7802025002\\d\\d,7802025003\\d\\d,7802025004\\d\\d,7802025005\\d\\d,7802025006\\d\\d,7802025007\\d\\d\n</code></pre>\n\n<p>Iam trying to fetch value of each key and again trying to split the comma seperated value from result hash , if i find a semicolon in any value i would want to store the left and right values in separate hash keys. </p>\n\n<p>Something like below </p>\n\n<pre><code>1.#split the value of result_hash{$key}  again by , and see whether any chunk is seperated by ;\n2. #every chunk without ; and value on left  with ; should be stored in   \n @{$final_hash{\"eto\"}} =   ['7802315095\\d\\d','7802315098\\d\\d','7802025002\\d\\d','7802025003\\d\\d','7802025004\\d\\d','7802025005\\d\\d','7802025006\\d\\d','7802025007\\d\\d']  ;\n3.#Anything found on the right side of ; has to be stored in  \n @{$final_hash{\"pro\"}} = ['7802025001\\d\\d'] ;   \n</code></pre>\n\n<p>Is there a way that i can handle everything in the subroutine? Can i make the code more simpler</p>\n\n<p>Update :</p>\n\n<p>I tried splitting the string in a single shot, but its just picking the values with semicolon and ignoring everything</p>\n\n<pre><code>foreach my $key (sort keys %result_hash ){\n#   print \"$key \\n\";\n#   print \"$result_hash{$key} \\n\";\nmy ($o,$t) = split(/,|;/, $result_hash{$key});\n   print \"Left : $o \\n\";\n   print \"Left : $t \\n\";\n   #push @{$final_hash{\"eto\"}}, $o;\n   #push @{$final_hash{\"pro\"}} ,$t;\n }\n</code></pre>\n\n<p>}</p>\n\n<p><strong>My updated code after help</strong></p>\n\n<pre><code>sub Compare_results\n{   \n  open my $fh, '&lt;', 'Data_File.txt' or die $!;\n  # split by colon and further split by , and ; if any (done in insert_array)\n  my %result_hash = map { chomp; split ':', $_ } &lt;$fh&gt; ; \n  foreach  ( sort { $a &lt;=&gt; $b }  (keys %result_hash) )\n  { \n     ($_ &lt; 21) \n        ? insert_array($result_hash{$_}, \"west\")\n        : insert_array($result_hash{$_}, \"east\");\n  } \n}\n\n\n sub insert_array()\n {\n   my ($val,$key) = @_;\n   foreach my $field (split ',', $val)\n   {   \n     $field =~ s/^\\s+|\\s+$//g;    # /  turn off editor coloring\n     if ($field !~ /;/) {\n        push @{ $file_data{\"pto\"}{$key} }, $field ;\n     }\n     else {\n       my ($left, $right) = split ';', $field;\n       push  @{$file_data{\"pto\"}{$key}}, $left if($left ne '') ;\n       push @{$file_data{\"ero\"}{$key}}, $right if($right ne '')  ;\n    }\n   }  \n  }\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["apache", "perl", "ubuntu-14.04", "apt", "aptitude"], "comments": [{"owner": {"reputation": 2465, "user_id": 302249, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/38c467a8b11ef0dde2bc97919502a047?s=128&d=identicon&r=PG", "display_name": "Dan Walmsley", "link": "https://stackoverflow.com/users/302249/dan-walmsley"}, "edited": false, "score": 1, "creation_date": 1474434654, "post_id": 39607638, "comment_id": 66523919, "body": "I don&#39;t think your question is in the correct place. The Ubuntu forums might work or maybe <a href=\"http://serverfault.com/\">serverfault.com</a>  or <a href=\"http://superuser.com/\">superuser.com</a>?  Also why not just sudo apt-get install perl ?"}, {"owner": {"reputation": 862, "user_id": 5838619, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/pYWha.png?s=128&g=1", "display_name": "Jaccs", "link": "https://stackoverflow.com/users/5838619/jaccs"}, "reply_to_user": {"reputation": 2465, "user_id": 302249, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/38c467a8b11ef0dde2bc97919502a047?s=128&d=identicon&r=PG", "display_name": "Dan Walmsley", "link": "https://stackoverflow.com/users/302249/dan-walmsley"}, "edited": false, "score": 0, "creation_date": 1474435346, "post_id": 39607638, "comment_id": 66524156, "body": "thanks for that.  still getting error when i run sudo apt-get install perl  perl : Depends: perl-base (= 5.18.2-2ubuntu1) but 5.18.2-2ubuntu1.1 is to be installed  Anyway i moved this question to serverfault.com there people might be aware."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1474436683, "post_id": 39607638, "comment_id": 66524639, "body": "You could get the package from here and install it manually: <a href=\"http://packages.ubuntu.com/precise/apache2\" rel=\"nofollow noreferrer\">packages.ubuntu.com/precise/apache2</a>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1474474755, "post_id": 39607638, "comment_id": 66549135, "body": "What are you trying to do?  Why did you delete sources.list?  That&#39;s likely a source of your problem"}, {"owner": {"reputation": 862, "user_id": 5838619, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/pYWha.png?s=128&g=1", "display_name": "Jaccs", "link": "https://stackoverflow.com/users/5838619/jaccs"}, "edited": false, "score": 0, "creation_date": 1474544935, "post_id": 39607638, "comment_id": 66580145, "body": "Nothing would help me... one of the solution provided by external source led me to did that."}], "answers": [{"tags": [], "owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "is_accepted": false, "score": 1, "last_activity_date": 1474471887, "creation_date": 1474471887, "answer_id": 39620816, "question_id": 39607638, "link": "https://stackoverflow.com/questions/39607638/how-can-i-get-rid-of-apache2-depends-perl-but-it-is-not-going-to-be-installe/39620816#39620816", "title": "How can i get rid of &quot;apache2 : Depends: perl but it is not going to be installed&quot; in ubuntu 14.04 desktop?", "body": "<p>try using <code>sudo apt-get -f install</code> to force the install.</p>\n\n<p>You may need to go back and forth between <code>sudo apt-get update</code> and <code>sudo apt-get -f install</code> to slowly get all the packages installed.</p>\n\n<p>Also try cleaning the cache and configuring any packages that are not configured yet.\n<code>sudo apt-get clean</code>\n<code>sudo dpkg --configure -a</code></p>\n\n<p>Hopefully that will get you where you need to be.</p>\n"}], "owner": {"reputation": 862, "user_id": 5838619, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/pYWha.png?s=128&g=1", "display_name": "Jaccs", "link": "https://stackoverflow.com/users/5838619/jaccs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 636, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1474471887, "creation_date": 1474432581, "question_id": 39607638, "link": "https://stackoverflow.com/questions/39607638/how-can-i-get-rid-of-apache2-depends-perl-but-it-is-not-going-to-be-installe", "title": "How can i get rid of &quot;apache2 : Depends: perl but it is not going to be installed&quot; in ubuntu 14.04 desktop?", "body": "<p>This is the error message i have at console when running </p>\n\n<pre><code>$sudo apt-get install apache2\n\nReading package lists... Done\nBuilding dependency tree\n\nReading state information... Done\nSome packages could not be installed. This may mean that you have\nrequested an impossible situation or if you are using the unstable\ndistribution that some required packages have not yet been created\nor been moved out of Incoming.\nThe following information may help to resolve the situation:\n\n    The following packages have unmet dependencies:\n    apache2 : Depends: perl but it is not going to be installed\n    Depends: apache2-bin (= 2.4.7-1ubuntu4) but it is not going to be installed\n    Depends: apache2-data (= 2.4.7-1ubuntu4) but 2.4.7-1ubuntu4.13 is to be installed\n    E: Unable to correct problems, you have held broken packages.\n</code></pre>\n\n<p>Output of update</p>\n\n<pre><code>$sudo apt-get update\nHit http://ppa.launchpad.net trusty InRelease\nIgn http://in.archive.ubuntu.com trusty InRelease\nHit http://in.archive.ubuntu.com trusty Release.gpg\nHit http://ppa.launchpad.net trusty/main amd64 Packages\nHit http://in.archive.ubuntu.com trusty Release\nHit http://ppa.launchpad.net trusty/main i386 Packages\nHit http://ppa.launchpad.net trusty/main Translation-en\nHit http://in.archive.ubuntu.com trusty/main amd64 Packages\nHit http://in.archive.ubuntu.com trusty/main i386 Packages\nHit http://in.archive.ubuntu.com trusty/main Translation-en\nIgn http://in.archive.ubuntu.com trusty/main Translation-en_IN\nReading package lists... Done\n</code></pre>\n\n<p>I have done recently </p>\n\n<pre><code>sudo rm -rf /var/lib/apt/lists/*\nsudo rm /etc/apt/sources.list\n</code></pre>\n\n<p>Later i gone to </p>\n\n<pre><code>sudo -i software-properties-gtk\n</code></pre>\n\n<p>and checked the canonical checkbox then,</p>\n\n<p>sudo apt-get update this command i executed.</p>\n\n<p>can any one help me to install apache in my ubuntu!</p>\n"}, {"tags": ["apache", "perl", "xampp", "cgi"], "comments": [{"owner": {"reputation": 783, "user_id": 4734404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3243620fd9aa7b8cc592d2ca8550ce1?s=128&d=identicon&r=PG", "display_name": "Manuel Azar", "link": "https://stackoverflow.com/users/4734404/manuel-azar"}, "edited": false, "score": 0, "creation_date": 1474419037, "post_id": 39605789, "comment_id": 66520073, "body": "Which version of cygwin&#39;s PERL are you using? Did you installed PERL extensions with the cygwin setup? Check your $_PATH enviroment variable to see if the correct PERL path is included"}, {"owner": {"reputation": 43, "user_id": 6855945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92d90155061f13957722e4d290831156?s=128&d=identicon&r=PG&f=1", "display_name": "Randy", "link": "https://stackoverflow.com/users/6855945/randy"}, "reply_to_user": {"reputation": 783, "user_id": 4734404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3243620fd9aa7b8cc592d2ca8550ce1?s=128&d=identicon&r=PG", "display_name": "Manuel Azar", "link": "https://stackoverflow.com/users/4734404/manuel-azar"}, "edited": false, "score": 0, "creation_date": 1474419420, "post_id": 39605789, "comment_id": 66520182, "body": "I&#39;m using  (v5.22.1)...I don&#39;t think of installing any extension .. How to check the $_Path environment variable..any help.."}, {"owner": {"reputation": 43, "user_id": 6855945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92d90155061f13957722e4d290831156?s=128&d=identicon&r=PG&f=1", "display_name": "Randy", "link": "https://stackoverflow.com/users/6855945/randy"}, "reply_to_user": {"reputation": 783, "user_id": 4734404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3243620fd9aa7b8cc592d2ca8550ce1?s=128&d=identicon&r=PG", "display_name": "Manuel Azar", "link": "https://stackoverflow.com/users/4734404/manuel-azar"}, "edited": false, "score": 0, "creation_date": 1474467147, "post_id": 39605789, "comment_id": 66544105, "body": "Ahh my bad.......its solve now..... while pasting or changing the shebang...it moved to 2nd line and was making it not to work....its working now....Disregard it...thanks for the help"}, {"owner": {"reputation": 783, "user_id": 4734404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3243620fd9aa7b8cc592d2ca8550ce1?s=128&d=identicon&r=PG", "display_name": "Manuel Azar", "link": "https://stackoverflow.com/users/4734404/manuel-azar"}, "edited": false, "score": 0, "creation_date": 1474513948, "post_id": 39605789, "comment_id": 66564434, "body": "The shebang line is usually ignored by the interpreter because the &quot;#&quot; character is a comment marker in many scripting languages; some language interpreters that do not use the hash mark to begin comments still may ignore the shebang line in recognition of its purpose"}], "answers": [{"tags": [], "owner": {"reputation": 2119, "user_id": 3196458, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005547696898/picture?type=large", "display_name": "blackpen", "link": "https://stackoverflow.com/users/3196458/blackpen"}, "is_accepted": false, "score": 0, "last_activity_date": 1474424245, "creation_date": 1474424245, "answer_id": 39606494, "question_id": 39605789, "link": "https://stackoverflow.com/questions/39605789/cygwin-perl-cgi-with-xampp/39606494#39606494", "title": "Cygwin Perl CGI with Xampp", "body": "<p>The shbang concept doesn't exit on Windows. Apache is known to have emulated the concept of shbang on Windows (by reading the first line of the script), but still there may be problems.</p>\n\n<p>Better thing is just use Windows batch files (.bat files) on Windows as CGI scripts (you can also use .vbs).</p>\n\n<p>Just do the SetHander (or AddHandler) for the particular type of script in Apache's configuration and then use a batch file like HelloWorld.bat. </p>\n\n<pre><code>@echo off\necho \"content-type: text/plain\"\necho.\necho \"Hello World\"\ndir\n</code></pre>\n\n<p>In place of dir you can substitute any other binary (such as perl.exe).</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 6855945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92d90155061f13957722e4d290831156?s=128&d=identicon&r=PG&f=1", "display_name": "Randy", "link": "https://stackoverflow.com/users/6855945/randy"}, "is_accepted": false, "score": 0, "last_activity_date": 1474531065, "last_edit_date": 1474531065, "creation_date": 1474518167, "answer_id": 39630221, "question_id": 39605789, "link": "https://stackoverflow.com/questions/39605789/cygwin-perl-cgi-with-xampp/39630221#39630221", "title": "Cygwin Perl CGI with Xampp", "body": "<p>While pasting or changing the shebang, it moved to the second line and was making it not work, but it's working now.</p>\n"}], "owner": {"reputation": 43, "user_id": 6855945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92d90155061f13957722e4d290831156?s=128&d=identicon&r=PG&f=1", "display_name": "Randy", "link": "https://stackoverflow.com/users/6855945/randy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 328, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1474531065, "creation_date": 1474418337, "last_edit_date": 1474427347, "question_id": 39605789, "link": "https://stackoverflow.com/questions/39605789/cygwin-perl-cgi-with-xampp", "title": "Cygwin Perl CGI with Xampp", "body": "<p>Recently I installed XAMPP (Apache) server for running CGI script on windows machine. As you know, XAMPP has the option to install PERL but i didn't select it, i want to use Cygwin's PERL for executing those.</p>\n\n<p>Problem is when I'm trying to run a basic CGI script , I get the following error </p>\n\n<pre><code>[Tue Sep 20 19:51:10.473825 2016] [win32:error] [pid 12420:tid 1848] [client ::1:57051] AH02102: C:/xampp/cgi-bin/perltest.cgi is not executable; ensure interpreted scripts have \"#!\" or \"'!\" first line`enter code here`\n\n[Tue Sep 20 19:51:10.473825 2016] [cgi:error] [pid 12420:tid 1848] (9)Bad file descriptor: [client ::1:57051] AH01222: don't know how to spawn child process: C:/xampp/cgi-bin/perltest.cgi\n</code></pre>\n\n<p>Meaning the Cygwin Perl path is not vaild. However , I did change the path and put a shebang still its now working . This is the one i'm using:</p>\n\n<pre><code>#!C:\\cygwin64\\bin\\perl.exe\n</code></pre>\n\n<p>Any help is appreciated </p>\n"}, {"tags": ["perl", "cpan"], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1474415494, "last_edit_date": 1474415494, "creation_date": 1474413264, "answer_id": 39605141, "question_id": 39605072, "link": "https://stackoverflow.com/questions/39605072/netrblclient-parameter/39605141#39605141", "title": "Net::RBLClient parameter", "body": "<p>By the looks of the docs, the <code>new()</code> method accepts an optional hash as arguments, so pass in the array reference as the value to the <code>lists</code> key.</p>\n\n<pre><code>my $rack = ['bl.spamcop.net', 'sbl.spamhaus.org', 'xbl.spamhaus.org'];\n\nmy $rbl = Net::RBLClient-&gt;new(lists =&gt; $rack);\n\n# then, after the object is created, carry on\n\n$rbl-&gt;lookup('211.101.236.160');\nmy @listed_by = $rbl-&gt;listed_by;\n</code></pre>\n\n<p>You could also add other parameters in the same way if you needed/wanted to on object instantiation:</p>\n\n<pre><code>my $rbl = Net::RBLClient-&gt;new(\n    lists =&gt; $rack,\n    max_time =&gt; 10,\n    timeout =&gt; 3,\n);\n</code></pre>\n\n<p>...etc. You could also declare the hash up front, and pass the whole shebang in:</p>\n\n<pre><code>my %params = (\n    lists =&gt; [\n        $blacklist_1,\n        $blacklist_2,\n    ],\n    max_time =&gt; 10,\n    timeout =&gt; 3,\n);\n\nmy $rbl = Net::RBLClient-&gt;new(%params);\n</code></pre>\n"}], "owner": {"reputation": 154, "user_id": 1414568, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/pmmky.jpg?s=128&g=1", "display_name": "Karthik", "link": "https://stackoverflow.com/users/1414568/karthik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 39605141, "answer_count": 1, "score": 2, "last_activity_date": 1508911337, "creation_date": 1474412859, "last_edit_date": 1508911337, "question_id": 39605072, "link": "https://stackoverflow.com/questions/39605072/netrblclient-parameter", "title": "Net::RBLClient parameter", "body": "<p>I'm trying to pass additional RBL's to Net::RBLClient, sample code:- </p>\n\n<pre><code>use Net::RBLClient;\nmy $rbl = Net::RBLClient-&gt;new;\n$rbl-&gt;lookup('25.23.75.65');\nmy @listed_by = $rbl-&gt;listed_by;\n</code></pre>\n\n<p>Documentation says that parameters can be passed as hash, however one of then parameter(which I'm trying to use) <strong>\"lists\"</strong> says it takes array reference. Couldn't understand how it exactly passed on this module.</p>\n\n<p>I've a array reference like </p>\n\n<pre><code>my $rack = ['bl.spamcop.net', 'sbl.spamhaus.org', 'xbl.spamhaus.org'];\n</code></pre>\n\n<p>Not sure how this reference included in module construct.</p>\n\n<p>Documentation:- <a href=\"http://search.cpan.org/~ablum/Net-RBLClient-0.5/RBLClient.pm\" rel=\"nofollow noreferrer\">CPAN</a></p>\n"}, {"tags": ["linux", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 1529, "user_id": 6711406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3abb204a87fed156f928c702a4806513?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Grabowski", "link": "https://stackoverflow.com/users/6711406/dave-grabowski"}, "edited": false, "score": 1, "creation_date": 1474410294, "post_id": 39604374, "comment_id": 66517734, "body": "Doing it in awk/sed is not the best idea. Why don&#39;t you use Python+Beautiful Soup? In perl you can use (I think, I haven&#39;t use it before) HTML::Parser."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1474410389, "post_id": 39604374, "comment_id": 66517759, "body": "HTML, like XML, is structured data. You mustn&#39;t treat it as an ordinary text file. There are <a href=\"http://search.cpan.org/search?m=module&amp;q=html\" rel=\"nofollow noreferrer\">many modules available</a> that will parse your HTML and allow you to modify it."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 6549324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7ebec563e34f64d74145873b4e509745?s=128&d=identicon&r=PG&f=1", "display_name": "Neha", "link": "https://stackoverflow.com/users/6549324/neha"}, "edited": false, "score": 0, "creation_date": 1474416124, "post_id": 39604726, "comment_id": 66519356, "body": "Thank you Much its showing only those records which has NehaA"}, {"owner": {"reputation": 67, "user_id": 6549324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7ebec563e34f64d74145873b4e509745?s=128&d=identicon&r=PG&f=1", "display_name": "Neha", "link": "https://stackoverflow.com/users/6549324/neha"}, "edited": false, "score": 0, "creation_date": 1474416795, "post_id": 39604726, "comment_id": 66519520, "body": "Also there is no line break in &lt;/tr&gt; and next &lt;tr class&gt;"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 67, "user_id": 6549324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7ebec563e34f64d74145873b4e509745?s=128&d=identicon&r=PG&f=1", "display_name": "Neha", "link": "https://stackoverflow.com/users/6549324/neha"}, "edited": false, "score": 0, "creation_date": 1474435374, "post_id": 39604726, "comment_id": 66524164, "body": "It&#39;s very important for the sample input/output you post to truly reflect you real sample input/output so when we test a potential solution we can tell at a glance if it does what you want or not. idk what you mean by <code>there is no line break in &lt;&#47;tr&gt; and next &lt;tr class&gt;</code> - are you saying your input is wrong or my output is wrong or something else? Please edit your question to show sample input/output that demonstrates the problems."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1474410677, "creation_date": 1474410677, "answer_id": 39604726, "question_id": 39604374, "link": "https://stackoverflow.com/questions/39604374/match-pattern-and-replace-in-html-tags/39604726#39604726", "title": "Match Pattern and Replace in HTML tags", "body": "<p>If you don't get a usable answer using an HTML parser then try this:</p>\n\n<pre><code>$ awk -v RS='&lt;/tr&gt;\\\\s*' '/Neha/{ORS=RT; sub(/&lt;tr[^&gt;]+&gt;/,\"\"); print \"&lt;tr class=\\047htmllist_tr\\047 style=\\\"background-color:red\\\"&gt;\" $0}' file\n&lt;tr class='htmllist_tr' style=\"background-color:red\"&gt;&lt;td class='htmllist_td' &gt;INDX01&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;964.87&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;95.13&lt;/td&gt;\n&lt;td class='htmllist_td' &gt;NehaA9.86&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr class='htmllist_tr' style=\"background-color:red\"&gt;&lt;td class='htmllist_td' &gt;UNDOTBS1&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;156.25&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;8&lt;/td&gt;\n&lt;td class='htmllist_td' &gt;NehaA5.12&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>It uses GNU awk for multi-char RS and RT.</p>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 6549324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7ebec563e34f64d74145873b4e509745?s=128&d=identicon&r=PG&f=1", "display_name": "Neha", "link": "https://stackoverflow.com/users/6549324/neha"}, "edited": false, "score": 0, "creation_date": 1474466848, "post_id": 39609594, "comment_id": 66543879, "body": "Thank you Arunesh.I have never used HTML::TreeBuilder will try this"}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1474442628, "last_edit_date": 1495540109, "creation_date": 1474441540, "answer_id": 39609594, "question_id": 39604374, "link": "https://stackoverflow.com/questions/39604374/match-pattern-and-replace-in-html-tags/39609594#39609594", "title": "Match Pattern and Replace in HTML tags", "body": "<p>Here is my way using <a href=\"http://search.cpan.org/~cjm/HTML-Tree-5.03/lib/HTML/TreeBuilder.pm\" rel=\"nofollow noreferrer\"><code>HTML::TreeBuilder</code></a>. The code itself is self exaplanatory. I will suggest you to read the documentations as it is not recommended to parse HTML <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\"><code>using regex</code></a>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse HTML::TreeBuilder;\n\nmy $str = &lt;&lt;'HTML'\n&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;table&gt;\n&lt;tr class='htmllist_tr' style=\"background-color:yellow\" &gt;\n&lt;td class='htmllist_td' &gt;INDX01&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;964.87&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;95.13&lt;/td&gt;\n&lt;td class='htmllist_td' &gt;NehaA9.86&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr class='htmllist_tr' &gt;\n&lt;td class='htmllist_td' &gt;UNDOTBS1&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;156.25&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;8&lt;/td&gt;\n&lt;td class='htmllist_td' &gt;NehaA5.12&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\nHTML\n;\n\n\nmy $root = HTML::TreeBuilder-&gt;new_from_content($str);\n\nmy @tr = $root -&gt; find_by_tag_name('tr');\n\nforeach (@tr) {\n    if ($_ -&gt; find_by_attribute(\"class\",\"htmllist_tr\")) {\n       my @tds = $_ -&gt; look_down(_tag =&gt; 'td', class =&gt; 'htmllist_td');\n       my @children = map {$_ -&gt; content_list} @tds;\n       if(grep(/NehaA/, @children)) {\n           $_ -&gt; attr('style', 'background-color:red');\n       }\n    }\n}\n\nprint $root -&gt; as_HTML(undef, \"  \");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1474481093, "post_id": 39618926, "comment_id": 66552601, "body": "Please add these details to your question instead of answer. Secondly, You can give <code>HTML::TreeBuilder</code> a try. It will give you, your expected <i>output</i>. It is not a good habit to parse html with <i>regex</i>; it&#39;d break somewhere. Do tell me, if you have any doubts."}], "tags": [], "owner": {"reputation": 67, "user_id": 6549324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7ebec563e34f64d74145873b4e509745?s=128&d=identicon&r=PG&f=1", "display_name": "Neha", "link": "https://stackoverflow.com/users/6549324/neha"}, "is_accepted": false, "score": 0, "last_activity_date": 1474466790, "creation_date": 1474466790, "answer_id": 39618926, "question_id": 39604374, "link": "https://stackoverflow.com/questions/39604374/match-pattern-and-replace-in-html-tags/39618926#39618926", "title": "Match Pattern and Replace in HTML tags", "body": "<p>@ED ..sorry for the cofusion ..this is the original file </p>\n\n<pre><code>&lt;table  class='htmllist'&gt;\n&lt;tr class='htmllist_tr' &gt;&lt;th class='htmllist_th' &gt;TABLESPACE&lt;br&gt;NAME&lt;/th&gt;\n&lt;th class='htmllist_th' &gt;ALLOCATED&lt;br&gt;SPACE&lt;br&gt;GB&lt;/th&gt;\n&lt;th class='htmllist_th' &gt;CURRENT&lt;br&gt;FREE&lt;br&gt;SPACE&lt;br&gt;GB&lt;/th&gt;\n&lt;th class='htmllist_th' &gt;CURRENT&lt;br&gt;FREE&lt;br&gt;SPACE&lt;br&gt;PCT&lt;/th&gt;\n&lt;tr class='htmllist_tr' style=\"background-color:yellow\" &gt;&lt;td class='htmllist_td' &gt;INDX01&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;964.87&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;95.78&lt;/td&gt;\n&lt;td class='htmllist_td' &gt;NehaA9.93&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr class='htmllist_tr' &gt;&lt;td class='htmllist_td' &gt;TEMP&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;125&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;124.63&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;99.7&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr class='htmllist_tr' &gt;&lt;td class='htmllist_td' &gt;TEMP_EDDDATA&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;205.99&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;198.52&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;96.37&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr class='htmllist_tr' &gt;&lt;td class='htmllist_td' &gt;UNDOTBS1&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;156.25&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;22.85&lt;/td&gt;\n&lt;td class='htmllist_td' &gt;NehaA14.62&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>I Want output like </p>\n\n<pre><code>&lt;table  class='htmllist'&gt;\n&lt;tr class='htmllist_tr' &gt;&lt;th class='htmllist_th' &gt;TABLESPACE&lt;br&gt;NAME&lt;/th&gt;\n&lt;th class='htmllist_th' &gt;ALLOCATED&lt;br&gt;SPACE&lt;br&gt;GB&lt;/th&gt;\n&lt;th class='htmllist_th' &gt;CURRENT&lt;br&gt;FREE&lt;br&gt;SPACE&lt;br&gt;GB&lt;/th&gt;\n&lt;th class='htmllist_th' &gt;CURRENT&lt;br&gt;FREE&lt;br&gt;SPACE&lt;br&gt;PCT&lt;/th&gt;\n&lt;tr class='htmllist_tr' style=\"background-color:red\" &gt;&lt;td class='htmllist_td' &gt;INDX01&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;964.87&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;95.78&lt;/td&gt;\n&lt;td class='htmllist_td' &gt;NehaA9.93&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr class='htmllist_tr' &gt;&lt;td class='htmllist_td' &gt;TEMP&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;125&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;124.63&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;99.7&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr class='htmllist_tr' &gt;&lt;td class='htmllist_td' &gt;TEMP_EDDDATA&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;205.99&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;198.52&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;96.37&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr class='htmllist_tr' style=\"background-color:red\"&gt;&lt;td class='htmllist_td' &gt;UNDOTBS1&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;156.25&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;22.85&lt;/td&gt;\n&lt;td class='htmllist_td' &gt;NehaA14.62&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>however when I am using this </p>\n\n<pre><code>awk -v RS='&lt;/tr&gt;\\\\s*' '/Neha/{ORS=RT; sub(/&lt;tr[^&gt;]+&gt;/,\"\"); print \"&lt;tr class=\\047htmllist_tr\\047 style=\\\"background-color:red\\\"&gt;\" $0}' text.txt\n</code></pre>\n\n<p>this is giving me output like this</p>\n\n<pre><code>&lt;tr class='htmllist_tr' style=\"background-color:red\"&gt;&lt;table  class='htmllist'&gt;\n&lt;th class='htmllist_th' &gt;TABLESPACE&lt;br&gt;NAME&lt;/th&gt;\n&lt;th class='htmllist_th' &gt;ALLOCATED&lt;br&gt;SPACE&lt;br&gt;GB&lt;/th&gt;\n&lt;th class='htmllist_th' &gt;CURRENT&lt;br&gt;FREE&lt;br&gt;SPACE&lt;br&gt;GB&lt;/th&gt;\n&lt;th class='htmllist_th' &gt;CURRENT&lt;br&gt;FREE&lt;br&gt;SPACE&lt;br&gt;PCT&lt;/th&gt;\n&lt;tr class='htmllist_tr' style=\"background-color:yellow\" &gt;&lt;td class='htmllist_td' &gt;INDX01&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;964.87&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;95.78&lt;/td&gt;\n&lt;td class='htmllist_td' &gt;NehaA9.93&lt;/td&gt;\n&lt;/tr&gt;&lt;tr class='htmllist_tr' style=\"background-color:red\"&gt;\n&lt;td class='htmllist_td' &gt;UNDOTBS1&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;156.25&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;22.85&lt;/td&gt;\n&lt;td class='htmllist_td' &gt;NehaA14.62&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>let me know if this make sense</p>\n"}], "owner": {"reputation": 67, "user_id": 6549324, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7ebec563e34f64d74145873b4e509745?s=128&d=identicon&r=PG&f=1", "display_name": "Neha", "link": "https://stackoverflow.com/users/6549324/neha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1474466790, "creation_date": 1474408719, "last_edit_date": 1474436243, "question_id": 39604374, "link": "https://stackoverflow.com/questions/39604374/match-pattern-and-replace-in-html-tags", "title": "Match Pattern and Replace in HTML tags", "body": "<pre><code>    &lt;/tr&gt;\n&lt;tr class='htmllist_tr' style=\"background-color:yellow\" &gt;&lt;td class='htmllist_td' &gt;INDX01&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;964.87&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;95.13&lt;/td&gt;\n&lt;td class='htmllist_td' &gt;NehaA9.86&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr class='htmllist_tr' &gt;&lt;td class='htmllist_td' &gt;UNDOTBS1&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;156.25&lt;/td&gt;\n&lt;td class='htmllist_td_nbr' &gt;8&lt;/td&gt;\n&lt;td class='htmllist_td' &gt;NehaA5.12&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>Want to  find NehaA between <code>&lt;tr&gt;</code> and <code>&lt;/tr&gt;</code> tags then change </p>\n\n<pre><code>`&lt;tr class='htmllist_tr'&gt;` \n</code></pre>\n\n<p>or </p>\n\n<pre><code>&lt;tr class='htmllist_tr' style=\"background-color:yellow\"&gt; \n</code></pre>\n\n<p>to </p>\n\n<pre><code>`&lt;tr class='htmllist_tr' style=\"background-color:red\"&gt;` *\n</code></pre>\n\n<p>tried this </p>\n\n<pre><code>sed -e \"/NehaA/ s/\\'&lt;tr class='htmllist_tr'&gt;\\'/\\'&lt;tr class='htmllist_tr' style=\"background-color:red\"&gt;\\'/ ;\" 2932_TABLE2.txt\n</code></pre>\n\n<p>didn't work please help</p>\n"}, {"tags": ["perl", "parameters", "global-variables", "subroutine"], "comments": [{"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1474406942, "post_id": 39603972, "comment_id": 66516553, "body": "I am confused. What do you mean by &quot;line separator&quot;? The <code>$</code> symbol is used inside regular expressions to match with the end of line. But it&#39;s not a variable, you cannot use it that way outside a regular expression."}, {"owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "reply_to_user": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1474407260, "post_id": 39603972, "comment_id": 66516682, "body": "my understanding is that it is a special global variable that contains the line separator character.  At least according to <a href=\"http://docstore.mik.ua/orelly/perl4/perlnut/ch04_04.htm\" rel=\"nofollow noreferrer\">Perl in a Nutshell</a>"}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 4, "creation_date": 1474407391, "post_id": 39603972, "comment_id": 66516739, "body": "There is a typo in the link. The correct variable for the list separator is <code>$&quot;</code> (see <a href=\"http://perldoc.perl.org/perlvar.html#%24LIST_SEPARATOR\" rel=\"nofollow noreferrer\">perlvar</a>)."}, {"owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "reply_to_user": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1474407989, "post_id": 39603972, "comment_id": 66516974, "body": "@redneb - ok, well there is our problem.   That solved this.  Thanks for the help!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1474445352, "post_id": 39603972, "comment_id": 66529239, "body": "That&#39;s what you get for using dodgy copyright-violating sites instead of the <a href=\"http://perldoc.perl.org/\" rel=\"nofollow noreferrer\">official documentation</a>!"}], "answers": [{"comments": [{"owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "edited": false, "score": 0, "creation_date": 1474408123, "post_id": 39604131, "comment_id": 66517041, "body": "Thanks Inferno, but I think my reference material was incorrect.   I was looking for $&quot; - the list separator - which was pointed out by rednab."}, {"owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "reply_to_user": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "edited": false, "score": 0, "creation_date": 1474408746, "post_id": 39604131, "comment_id": 66517289, "body": "I added another example for this case. You can see it&#39;s basically the same thing, just another variable."}], "tags": [], "owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "is_accepted": true, "score": 3, "last_activity_date": 1474408605, "last_edit_date": 1474408605, "creation_date": 1474407413, "answer_id": 39604131, "question_id": 39603972, "link": "https://stackoverflow.com/questions/39603972/how-does-one-pass-list-separator-as-an-parameter/39604131#39604131", "title": "How does one pass $ (list separator) as an parameter?", "body": "<p>I guess by \"line separator\" you mean the special (global) Perl variable <code>$/</code>, which is the <em>input record separator</em>.</p>\n\n<p>You could pass the value of that to a subroutine like this, even when I don't see why you want to do that:</p>\n\n<pre><code>checkDefinition($/ , \"list separator\");\n</code></pre>\n\n<p>In case you mean another special variable, you could pass it the same way. You can find the meanings of all special Perl variables <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>EDIT:</p>\n\n<p>Since you were actually looking for the \"list separator\", you can do the following:</p>\n\n<pre><code>checkDefinition($\" , \"list separator\");\n</code></pre>\n"}], "owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 39604131, "answer_count": 1, "score": 1, "last_activity_date": 1474408605, "creation_date": 1474406732, "last_edit_date": 1474408027, "question_id": 39603972, "link": "https://stackoverflow.com/questions/39603972/how-does-one-pass-list-separator-as-an-parameter", "title": "How does one pass $ (list separator) as an parameter?", "body": "<p>There is this little piece of code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub checkDefinition {\n    my ($var, $desc) = @_;\n\n    if (defined $var) {\n    print \"$desc: $var \\n\";\n    } else {\n    print \"$desc: undef \\n\";\n    }\n}\n\ncheckDefinition($ , \"list separator\");\n</code></pre>\n\n<p>however, when I try to run it, I receive the following error:</p>\n\n<pre><code>&gt;perl listSeparator.pl String found where operator expected at listSeparator.pl line 14, near \"$ , \"list separator\"\"\n        (Missing operator before \"list separator\"?) syntax error at listSeparator.pl line 14, near \"$ , \"list separator\"\" Execution of\nlistSeparator.pl aborted due to compilation errors.\n</code></pre>\n\n<p>so, this begs the question, how does one pass the list separator variable to a subroutine?   I tried making a reference to it:</p>\n\n<pre><code>my $lineSepRef = \\$ ;\n</code></pre>\n\n<p>however, I get another error:</p>\n\n<pre><code>Semicolon seems to be missing at listSeparator.pl line 14.\n</code></pre>\n\n<p>Is it possible to pass $ to a subroutine?   If so, how?</p>\n\n<p>FYI, running on windows, strawberry perl version 5.016003</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "perl", "process"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 1873594, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/649e57e5f86b90b5410c892d32cdcd9d?s=128&d=identicon&r=PG", "display_name": "dstew", "link": "https://stackoverflow.com/users/1873594/dstew"}, "edited": false, "score": 0, "creation_date": 1474405350, "post_id": 39603484, "comment_id": 66515900, "body": "issue was passing the script as a command i think. I had copied the &quot;/c &quot; from another section of code. didn&#39;t need it for this."}], "tags": [], "owner": {"reputation": 3093, "user_id": 711269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0ff4862ab2e9434c0aa66279f3244d?s=128&d=identicon&r=PG&f=1", "display_name": "rbm", "link": "https://stackoverflow.com/users/711269/rbm"}, "is_accepted": true, "score": 3, "last_activity_date": 1474404577, "creation_date": 1474404577, "answer_id": 39603484, "question_id": 39603377, "link": "https://stackoverflow.com/questions/39603377/running-a-perl-script-that-uses-a-prompt-through-a-c-application/39603484#39603484", "title": "Running a perl script that uses a prompt through a C# application", "body": "<p>Not quite sure why you're trying to run <code>cmd.exe</code>, but it works if you run it via <code>perl.exe</code> (my script is called <code>a.pl</code> and prints <code>hello</code>):</p>\n\n<pre><code>    static void Main(string[] args)\n    {\n        Process myProcess = new Process();\n        myProcess.StartInfo.FileName = \"perl.exe\";\n        myProcess.StartInfo.WorkingDirectory = @\".\\\";\n        myProcess.StartInfo.Arguments = @\"a.pl\";\n        myProcess.StartInfo.UseShellExecute = false;\n        myProcess.Start();\n        myProcess.WaitForExit();\n    }\n</code></pre>\n\n<p>and it also correctly reads STDIN. For reference this is <code>a.pl</code>:</p>\n\n<pre><code>print(\"Hello\\n\");\nmy $a = &lt;STDIN&gt;;\nprint \"You entered \" . $a . \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 1873594, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/649e57e5f86b90b5410c892d32cdcd9d?s=128&d=identicon&r=PG", "display_name": "dstew", "link": "https://stackoverflow.com/users/1873594/dstew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 39603484, "answer_count": 1, "score": 2, "last_activity_date": 1474404577, "creation_date": 1474404112, "last_edit_date": 1474404401, "question_id": 39603377, "link": "https://stackoverflow.com/questions/39603377/running-a-perl-script-that-uses-a-prompt-through-a-c-application", "title": "Running a perl script that uses a prompt through a C# application", "body": "<p>Trying to call a perl script from my c# app. The perl script has a prompt that requires the user to enter something into it. I can't seem to get it to display. This is the function i use to call it. I have another function that sets the System.Enviroment.SetEnvironmtVariable to have the path of \"C:\\Perl\\bin\\;\" along with other ones needed for other process'</p>\n\n<pre><code>private void getRevisionAndUpdate()\n{\n    Process myProcess = new Process();\n    myProcess.StartInfo.FileName = \"cmd.exe\";\n    myProcess.StartInfo.WorkingDirectory = @\"the directory that has the perl script\";\n    myProcess.StartInfo.Arguments = @\"/c SaidPerlScript.pl\";\n    myProcess.StartInfo.UseShellExecute = false;\n    myProcess.Start();\n    myProcess.WaitForExit();\n}\n</code></pre>\n\n<p>as i said before it seems to run, but it will either just open the script in a notepad or do nothing at all. Also should note i've tried running cmd.exe and perl.exe. cmd seems to open it in notepad and perl doesn't display the prompt it should.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1474389082, "post_id": 39599283, "comment_id": 66507053, "body": "Also - consider using <code>alarm</code>."}, {"owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "edited": false, "score": 0, "creation_date": 1474390303, "post_id": 39599283, "comment_id": 66507815, "body": "Thank you, edited my code according to Dave&#39; reply."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1474391804, "post_id": 39599283, "comment_id": 66508644, "body": "<code>$hour = (localtime)[2]; $min = (localtime)[1];</code> is a very expensive version of <code>($hour, $min) = (localtime)[2,1];</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474392907, "post_id": 39599283, "comment_id": 66509229, "body": "@LucasRey: Yes, that should be <code>$hour &gt;= 18</code>. Sorry about that."}], "answers": [{"comments": [{"owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "edited": false, "score": 0, "creation_date": 1474390270, "post_id": 39599417, "comment_id": 66507799, "body": "Thank you Dave, this works, but with a side effect. $hour &gt; 23 mean I have to wait midnight. I reported my edited code in the first post, but seems doesn&#39;t work as expected"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1474392670, "post_id": 39599417, "comment_id": 66509104, "body": "@DaveCross: That would be <code>$hour &gt;= 23 or $hour &lt; 8</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1474392776, "post_id": 39599417, "comment_id": 66509158, "body": "@Borodin: Yeah, I was just about to fix that. Thanks."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1474446971, "last_edit_date": 1474446971, "creation_date": 1474389139, "answer_id": 39599417, "question_id": 39599283, "link": "https://stackoverflow.com/questions/39599283/while-loop-until-time-is-reached/39599417#39599417", "title": "While loop until time is reached", "body": "<p>You need to check the time more than once :-)</p>\n\n<p>And rather than calling <code>strftime()</code>, why not just use the return value from <code>localtime()</code>?</p>\n\n<pre><code>my $hour = (localtime)[2];\n\nwhile ($hour &gt;= 23 or $hour &lt; 8) {\n  sleep(1);\n  $hour = (localtime)[2];\n}\n</code></pre>\n\n<p><strong>Update:</strong> A more efficient approach might be to work out how long to <code>sleep()</code> in order to wake up at 8am. A naive approach would be something like this:</p>\n\n<pre><code>if ((localtime)[2]) &gt;= 23) {\n  sleep(9 * 60 * 60); # sleep for nine hours\n}\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 39599417, "answer_count": 1, "score": 0, "last_activity_date": 1474446971, "creation_date": 1474388725, "last_edit_date": 1592644375, "question_id": 39599283, "link": "https://stackoverflow.com/questions/39599283/while-loop-until-time-is-reached", "title": "While loop until time is reached", "body": "<p>I have an application that loops reading a big text file and runs for at least 48 hours.</p>\n<p>I would like to stop its execution from 23.00 to 08.00 (11pm to 8am) and then continue its loop during the day.</p>\n<p>I tried the following code, but it doesn't exit from the loop.</p>\n<h3>Edit after Dave Cross' reply</h3>\n<pre><code>my $min = (localtime)[1];\nmy $hour = (localtime)[2];\n\nwhile ( $hour &gt; 18 and $min &gt; 0 ) {\n    sleep(1);\n    $hour = (localtime)[2];\n    $min = (localtime)[1];\n}\n</code></pre>\n<p>This doesn't work as expected. Now it's 18:48 and the loop exits immediately unless I use one hour before:</p>\n<pre><code>while ( $hour &gt; 17 and $min &gt; 0 )\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1474385016, "post_id": 39597931, "comment_id": 66504368, "body": "What do you want us to tell you? You already said it&#39;s <i>nt proper</i>. What does that mean?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1474385120, "post_id": 39597931, "comment_id": 66504440, "body": "Your code won&#39;t compile. There is no <code>null</code> in Perl (unless you defined a function called <code>null</code> and didn&#39;t show it to us)."}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474385120, "post_id": 39597931, "comment_id": 66504441, "body": "@simbabque What would be the correct approach, Where has it gone wrong, any suggestions?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1474385167, "post_id": 39597931, "comment_id": 66504480, "body": "You have not included what the output is now. Or what modules you are using. And your code doesn&#39;t compile. What&#39;s <code>$id</code>? Did you mean <code>&quot;null&quot;</code>? In addition to that, your input data is invalid. It complains about <i>malformed number (leading zero must not be followed by another digit), at character offset 114 (before &quot;3}\\n&quot;)</i> for me, and the closing <code>]</code> is missing."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474385552, "post_id": 39597931, "comment_id": 66504723, "body": "I think you are overcomplicating your life here. Don&#39;t try to build a complicated <code>map</code> just because you think it&#39;s cool. You have pretty clear rules written out there. Just build them in as many lines as you need. You can optimize later."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474385673, "post_id": 39597931, "comment_id": 66504799, "body": "<code>my $data = &lt;$fh_ptoto_wiu&gt;;</code> should be <code>my $data = do { local $&#47;; &lt;$fh_ptoto_wiu&gt; };</code>. <code>$_ eq null</code> should be <code>!defined($_)</code>. <code>push @myarray,$id;</code> should be <code>push @myarray,$value;</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1474385874, "post_id": 39597931, "comment_id": 66504949, "body": "I have a solution written out, and I&#39;m going to share it. But I strongly suggest you pay more attention to detail in the future. Using the wrong variable names and leaving out obvious parts of the program in questions here is just wasting the time of nice people that try to help you. At least help them help you in the future."}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474385895, "post_id": 39597931, "comment_id": 66504965, "body": "@simbabque : Changed the code , there is ID in the data,and changed it in the code"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474386177, "post_id": 39597931, "comment_id": 66505177, "body": "You could at least give us valid JSON to work with!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1474386734, "post_id": 39597931, "comment_id": 66505573, "body": "@LearningCpp: By posting a question here, you are asking for the attention of many people around the world. If you want our help, you need to make it as easy as possible for us to help you. You need to post code that compiles. And your sample data needs to be correct. Neither of those things were true here. If you don&#39;t do that, people will quickly get bored and not bother to work on your question. If you consistently post questions like that, then people will start to ignore your questions or you will be downvoted so you can no longer post questions."}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474386829, "post_id": 39597931, "comment_id": 66505646, "body": "Sure, will keep that in mind , Thanks"}, {"owner": {"reputation": 564, "user_id": 2256825, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aeb1455c5a16c144d42b9701f4bf7a68?s=128&d=identicon&r=PG", "display_name": "user2256825", "link": "https://stackoverflow.com/users/2256825/user2256825"}, "edited": false, "score": 0, "creation_date": 1474396097, "post_id": 39597931, "comment_id": 66510894, "body": "@LearningCpp After a lot of edits , you got it right finally :),Get it almost right in the first go, there are people who can help u here only if they can understand your problem"}], "answers": [{"comments": [{"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474386743, "post_id": 39598395, "comment_id": 66505586, "body": "This if condition  is working to value with null  if( $_-&gt;{portList} eq &quot;&quot;)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1474386871, "post_id": 39598395, "comment_id": 66505675, "body": "The &quot;null&quot; in JSON gets converted to <code>undef</code> in a Perl data structure. So I think that <code>if (defined $_-&gt;{portList})</code> is the best check to. Comparing with an empty string will probably work too - but you will get a warning under <code>use warnings</code>."}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474390507, "post_id": 39598395, "comment_id": 66507934, "body": "Can we send json data as an argument to a function. Like my $json_data  =  decode_json $my_file_data; fetch_json_data($json_data); sub fetch_json_data {    my $data = @_; } does not work, do we need to use specific json functions for achieving this"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1474391129, "post_id": 39598395, "comment_id": 66508309, "body": "You need parentheses around the variable if you use <code>@_</code> because in scalar context you&#39;ll get the number of elements. I think you should read a book about Perl basics at some point. ;-)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474393928, "post_id": 39598395, "comment_id": 66509722, "body": "If you dare to come to England then I will assault you as you disembark and pummel you until you denounce your preference for <code>Data::Printer</code>. I will also buy you a pint or two when we&#39;re both exhausted. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474394089, "post_id": 39598395, "comment_id": 66509816, "body": "@borodin LPW it is then. :-D"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1474397088, "post_id": 39598395, "comment_id": 66511487, "body": "<code>my $data = @_</code> is never going to work. Are you trying to learn Perl by guesswork?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474454460, "post_id": 39598395, "comment_id": 66535270, "body": "@DaveCross: That&#39;s unhelpful without explaining <i>why</i> it doesn&#39;t work. And I&#39;m unclear about who your comment was meant for, but without an assignment you are talking to the author <b>simbabque</b>. I can&#39;t see any mention of <code>my $data = @_</code> anywhere on this page, but I assure you that simbabque knows Perl pretty damn well."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474454736, "post_id": 39598395, "comment_id": 66535465, "body": "@Borodin: Sorry, it was a response to @LearningCpp&#39;s comment starting &quot;Can we send json_data...&quot; in which he uses <code>my $data = @_</code> to attempt to get some data that was passed into a subroutine. It&#39;s @LearningCpp who is learning Perl by guesswork; I&#39;m well aware of @simbabque&#39;s level of expertise :-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474457528, "post_id": 39598395, "comment_id": 66537360, "body": "@Dave, Borodin, we should all grab a pint I think. :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1474454119, "last_edit_date": 1474454119, "creation_date": 1474386062, "answer_id": 39598395, "question_id": 39597931, "link": "https://stackoverflow.com/questions/39597931/appending-and-prepending-values-by-checking-a-field-in-json-string/39598395#39598395", "title": "Appending and Prepending values by checking a field in JSON string", "body": "<p>In order to make this work, I needed to fix the JSON. The <code>03</code> in the second <code>portList</code> needs to be quoted because of the leading zero, and the closing <code>]</code> for the array was missing.</p>\n\n<p>The following program demonstrates how to solve your problem.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse JSON 'decode_json';\nuse Data::Printer;    \n\nmy $data         = &lt;DATA&gt;;\nmy $decoded_data = decode_json $data;\n\nmy @myarray;\nforeach my $obj (@$decoded_data) {\n    my $value;\n    if ( $obj-&gt;{portList} ) {\n        # if the portlist has an entry just append it and prepend 7802 to ID\n        $value = [ '7802' . $obj-&gt;{ID} . $obj-&gt;{portList} ];\n    } else {\n        # Create 2 values by appending 03 and 04 and prepend 7802 to ID\n        $value = [\n            '7802' . $obj-&gt;{ID} . '03',\n            '7802' . $obj-&gt;{ID} . '04',\n        ];\n    }\n\n    push @myarray, $value;\n}\n\np @myarray;\n\n__DATA__\n[{\"mnemonic\":\"SIG1039.CA.01\",\"ID\":\"203024\",\"portList\":null},{\"mnemonic\":\"SIG0315.OR.01\",\"ID\":\"035066\",\"portList\":\"03\"}]\n</code></pre>\n\n<p>The output looks pretty much like your examples.</p>\n\n<pre><code>[\n    [0] [\n        [0] 780220302403,\n        [1] 780220302404\n    ],\n    [1] [\n        [0] 780203506603\n    ]\n]\n</code></pre>\n\n<p>You need to know that a <code>null</code> value will convert to <code>undef</code> when you use the JSON module in Perl. You were doing a string equal <code>eq</code> with the literal <code>null</code>, which just doesn't exist in your program. Just using <code>null</code> will make Perl think it's an unquoted string because there is no function of that name, which is not allowed (because of <code>strict</code>). If you'd quote it, it would still not make sense. It would give a \"Use of uninitialized value\" warning.</p>\n\n<p>Besides that, don't do <code>map</code> if you can do a loop to make stuff more clear.</p>\n"}], "owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 39598395, "answer_count": 1, "score": -1, "last_activity_date": 1474454119, "creation_date": 1474384852, "last_edit_date": 1474387369, "question_id": 39597931, "link": "https://stackoverflow.com/questions/39597931/appending-and-prepending-values-by-checking-a-field-in-json-string", "title": "Appending and Prepending values by checking a field in JSON string", "body": "<p>Below is the json string that has to be parsed    </p>\n\n<pre><code> [{\"mnemonic\":\"SIG1039.CA.01\",\"ID\":\"203024\",\"portList\":null},{\"mnemonic\":\"SIG0315.OR.01\",\"ID\":\"035066\",\"portList\":03} \n</code></pre>\n\n<p>In the above json format \nif the portlist is empty then   </p>\n\n<ol>\n<li><p>Create 2 values by appending 03 and 04  and prepend 7802 to ID .</p>\n\n<blockquote>\n  <p>i.e 780220302403,780220302404</p>\n</blockquote></li>\n<li><p>OR if the portlist has an entry just append it and prepend 7802 to ID</p>\n\n<blockquote>\n  <p>i.e 780203506603</p>\n</blockquote></li>\n</ol>\n\n<p>Is the code below correct, I used map to acheive it,but not proper\nWhat would be the correct approach.</p>\n\n<pre><code>use lib '.';\nuse JSON::PP qw(decode_json);\nuse File::Find;\nuse Switch;\nuse Data::Dumper;\nuse strict;\nopen my $my_fh, '&lt;', 'Data.txt' or die $!;\nmy $data = &lt;$fh_ptoto_wiu&gt;;\nmy $decoded_data = decode_json $data;\nfor (@$decoded_data ){\n  my ($value) =  map { $_ eq null ? [7802.$_-&gt;{ID}.03,7802.$_-&gt;{ID}.04] : 7802.$_-&gt;{ID}.$_-&gt;{portList} } $_-&gt;{portList};\n  push @myarray,$value;\n }\n</code></pre>\n"}, {"tags": ["regex", "string", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 6, "creation_date": 1474379838, "post_id": 39596074, "comment_id": 66500801, "body": "You aren&#39;t trying to parse XML with regular expressions, are you?"}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 1, "last_activity_date": 1474382735, "last_edit_date": 1474382735, "creation_date": 1474379899, "answer_id": 39596132, "question_id": 39596074, "link": "https://stackoverflow.com/questions/39596074/how-to-create-var-from-str-with-regexp-using-perl/39596132#39596132", "title": "How to create $var from $str with regexp using Perl", "body": "<pre><code>my $str = 'dfsdfsdfsd fdsdfs ifdasda id=322dasd-ewwedasda';\nmy ($string) = $str =~ /\\b(id=\\w.+)/;\n</code></pre>\n\n<p><code>$string</code> will be undef if there's no match. You can also die if there's no match using the following:</p>\n\n<pre><code>my ($string) = $str =~ /\\b(id=\\w.+)/\n    or die(\"No match!\");\n</code></pre>\n\n<p>Though <code>\\w.+</code> is a very strange pattern to use.  Perhaps you wanted <code>\\w+</code>?</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1474382398, "creation_date": 1474382398, "answer_id": 39597057, "question_id": 39596074, "link": "https://stackoverflow.com/questions/39596074/how-to-create-var-from-str-with-regexp-using-perl/39597057#39597057", "title": "How to create $var from $str with regexp using Perl", "body": "<p>That's not exactly hard to do. Did you try anything at all?</p>\n\n<p>Just to get this thing out of the way</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $str = \"dfsdfsdfsd fdsdfs ifdasda id=322dasd-ewwedasda\";\n\n($str) = $str =~ /\\b(id=\\S+)/;\nsay $str;\n</code></pre>\n\n<h2>output</h2>\n\n<pre><code>id=322dasd-ewwedasda\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6853733, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207132371212479/picture?type=large", "display_name": "Paul T", "link": "https://stackoverflow.com/users/6853733/paul-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 39596132, "answer_count": 2, "score": -5, "last_activity_date": 1474382735, "creation_date": 1474379736, "last_edit_date": 1474382137, "question_id": 39596074, "link": "https://stackoverflow.com/questions/39596074/how-to-create-var-from-str-with-regexp-using-perl", "title": "How to create $var from $str with regexp using Perl", "body": "<p>I have</p>\n\n<pre><code>$str = \"dfsdfsdfsd fdsdfs ifdasda id=322dasd-ewwedasda\"\n</code></pre>\n\n<p>and wrote a regex</p>\n\n<pre><code>\\id\\=\\w.+\n</code></pre>\n\n<p>I need to get the result</p>\n\n<pre><code>$string = \"id=322dasd-ewwedasda\"\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1474389823, "post_id": 39595599, "comment_id": 66507503, "body": "<code>use strict;</code> <code>use warnings;</code> is your friend, and might highlight where there&#39;s a massive problem in your code."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1474379255, "last_edit_date": 1474379255, "creation_date": 1474378714, "answer_id": 39595693, "question_id": 39595599, "link": "https://stackoverflow.com/questions/39595599/cant-grab-value-from-subexpressions/39595693#39595693", "title": "Can&#39;t grab value from subexpressions", "body": "<p><code>in</code> and <code>$in</code> are different things. Do you use <a href=\"http://p3rl.org/strict\" rel=\"nofollow\">strict</a>? If not, you're matching <code>\"in\"</code> against the regex and it never matches.</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy @socket = ( \"abcd\\x00efgh\",\n               \"ijkl\",\n               \"mnop\\x00qrst\",\n               \"uvwx\\x00\",\n);\n\nmy ($in, $block);\n\nwhile (@socket) {\n    do {\n        $in .= shift @socket;\n    } while ($in !~ /^(.*?)\\x00(.*)/) ;\n    say \"A:[ $in, $block ]\";\n    ($block, $in) = ($1, $2);\n    say \"B:[ $in, $block ]\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": true, "score": 2, "last_activity_date": 1474383589, "last_edit_date": 1474383589, "creation_date": 1474378759, "answer_id": 39595707, "question_id": 39595599, "link": "https://stackoverflow.com/questions/39595599/cant-grab-value-from-subexpressions/39595707#39595707", "title": "Can&#39;t grab value from subexpressions", "body": "<p>Another idea is to change the value <code>$/</code> which determines how much will <code>&lt;$sock&gt;</code> read from <code>$sock</code>. So for example, if you do</p>\n\n<pre><code>local $/=\"\\0\"\n</code></pre>\n\n<p>then for that scope, <code>&lt;$sock&gt;</code> will read until the end of the next (null-separated) block.</p>\n\n<p><strong>Edit</strong>: If the input consists of null-separated blocks, it does not make sense to use <code>&lt;$sock&gt;</code> with <code>$/</code> having its default value, because then you would be reading the input line by line. So I think there are 2 approaches:</p>\n\n<ol>\n<li>Set <code>$/</code> to <code>\\0</code> and use <code>&lt;$sock&gt;</code> to read the next block.</li>\n<li>Read a fixed size chunk and then search for a null byte in it to extract the next block. In this scenario, you can either use <code>&lt;$sock&gt;</code> with <code>$/</code> set to a reference of the chunk size (e.g. <code>local $/=\\4096</code>), or use <code>read</code>/<code>sysread</code>. I would also use <code>index</code>/<code>substr</code> to search for the null and extract the chunk in that case.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 3364, "user_id": 693294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5935d56f077497b60c12cf86b9d2e1?s=128&d=identicon&r=PG", "display_name": "Gilbert", "link": "https://stackoverflow.com/users/693294/gilbert"}, "edited": false, "score": 0, "creation_date": 1474547517, "post_id": 39595761, "comment_id": 66581905, "body": "<a href=\"http://stackoverflow.com/users/2766176/brian-d-foy\">brian d foy</a> thanks for the &quot;bug fix&quot;."}], "tags": [], "owner": {"reputation": 3364, "user_id": 693294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5935d56f077497b60c12cf86b9d2e1?s=128&d=identicon&r=PG", "display_name": "Gilbert", "link": "https://stackoverflow.com/users/693294/gilbert"}, "is_accepted": false, "score": 2, "last_activity_date": 1474384985, "last_edit_date": 1474384985, "creation_date": 1474378906, "answer_id": 39595761, "question_id": 39595599, "link": "https://stackoverflow.com/questions/39595599/cant-grab-value-from-subexpressions/39595761#39595761", "title": "Can&#39;t grab value from subexpressions", "body": "<p>There's a negated form of the binding operator: </p>\n\n<pre><code>while($in !~ /^(.*?)\\x00(.*)/)\n</code></pre>\n"}], "owner": {"reputation": 12300, "user_id": 249618, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/81060fe344980bc9a3273a48b8f3e31c?s=128&d=identicon&r=PG", "display_name": "SF.", "link": "https://stackoverflow.com/users/249618/sf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 39595707, "answer_count": 3, "score": 0, "last_activity_date": 1474384985, "creation_date": 1474378470, "question_id": 39595599, "link": "https://stackoverflow.com/questions/39595599/cant-grab-value-from-subexpressions", "title": "Can&#39;t grab value from subexpressions", "body": "<p>I'm reading null-separated blocks of data from a socket; upon finding a null, the block read so far is handed for processing, and the buffer is truncated to whatever was left after the null (usually nothing).</p>\n\n<pre><code>do {\n    $in .= &lt;$sock&gt;\n} while(!in =~ /^(.*?)\\x00(.*)/) ;\nprint \"A:[ $in, $block ]\\n\";\n$block = $1;\n$in = $2;\nprint \"B:[ $in, $block ]\";\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>A:[ {\"hn\":\"ITtestKA\",\"v\":{\"m\":4,\"u\":4}}\n,  ]\nB:[ ,  ]\n</code></pre>\n\n<p>Why can't I pick the data from the subexpressions <code>$1</code>, <code>$2</code>?</p>\n"}, {"tags": ["perl", "selenium-webdriver", "perl-module"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1474378273, "post_id": 39594666, "comment_id": 66499631, "body": "What have you tried? What problems are you having? SO isn&#39;t here to just write code for you. You are expected to have made some effort before posting here."}, {"owner": {"reputation": 59, "user_id": 6181287, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/b0989b3cd147f5ca44dcd830162c4dd7?s=128&d=identicon&r=PG&f=1", "display_name": "perlfg", "link": "https://stackoverflow.com/users/6181287/perlfg"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474451272, "post_id": 39594666, "comment_id": 66533135, "body": "more details? enough?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1474451686, "post_id": 39594666, "comment_id": 66533400, "body": "You&#39;ve tried to answer my first question, but you&#39;ve ignored my second one. You already have an answer - does that not work for you?"}, {"owner": {"reputation": 59, "user_id": 6181287, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/b0989b3cd147f5ca44dcd830162c4dd7?s=128&d=identicon&r=PG&f=1", "display_name": "perlfg", "link": "https://stackoverflow.com/users/6181287/perlfg"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474454233, "post_id": 39594666, "comment_id": 66535119, "body": "check if serch found the text or not"}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1474452182, "last_edit_date": 1474452182, "creation_date": 1474376455, "answer_id": 39594842, "question_id": 39594666, "link": "https://stackoverflow.com/questions/39594666/how-to-check-a-text-exist-on-page-using-seleniumremotedriver/39594842#39594842", "title": "How to check a text exist on page using Selenium::Remote::Driver", "body": "<p>You can use get_page_source method to get page source (HTML) and then use Regex (or a Parser) to look for desired string/pattern.</p>\n\n<pre><code>use Selenium::Remote::Driver;\nmy $driver = Selenium::Remote::Driver-&gt;new;\n$driver-&gt;get('http://www.perl.org');\nmy $search = 'find_this_term';\nprint \"$search exists in page\" if $driver-&gt;get_page_source() =~ /$search/;\n</code></pre>\n\n<hr>\n\n<p>If you are searching for the text at an <strong>exact</strong> location then you can do something like below:</p>\n\n<pre><code>$text = $driver-&gt;get_text(\"//div[\\@name='q']\");\nprint \"Found text\" if ($text eq 'find_this_term');\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 6181287, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/b0989b3cd147f5ca44dcd830162c4dd7?s=128&d=identicon&r=PG&f=1", "display_name": "perlfg", "link": "https://stackoverflow.com/users/6181287/perlfg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "closed_date": 1474392289, "answer_count": 1, "score": -2, "last_activity_date": 1474454209, "creation_date": 1474375988, "last_edit_date": 1474454209, "question_id": 39594666, "link": "https://stackoverflow.com/questions/39594666/how-to-check-a-text-exist-on-page-using-seleniumremotedriver", "closed_reason": "Needs details or clarity", "title": "How to check a text exist on page using Selenium::Remote::Driver", "body": "<p>I have to check whether a particular text exists on a page using Selenium::Remote::Driver. </p>\n\n<p>I want to enter a particular text in the search and check whether this text exists on the page</p>\n\n<p>type a text in seach-box</p>\n\n<pre><code>my $such_inhalt = \"fuer\";\nmy $such=$driver-&gt;find_element(\"term\",\"name\");\n$such-&gt;send_keys($such_inhalt);\n</code></pre>\n\n<p>search</p>\n\n<pre><code>$driver-&gt;find_element('//*[@id=\"searchsubmit\"]')-&gt;click;\n</code></pre>\n\n<p>Result:\ncheck if the text found from search or not</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1474375439, "post_id": 39594276, "comment_id": 66497486, "body": "The source code to the JSON parsers on CPAN is available. You can read that to see how they do it. <a href=\"https://metacpan.org/source/MAKAMAKA/JSON-PP-2.27400/lib/JSON/PP.pm\" rel=\"nofollow noreferrer\">metacpan.org/source/MAKAMAKA/JSON-PP-2.27400/lib/JSON/PP.pm</a>"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 5, "creation_date": 1474375494, "post_id": 39594276, "comment_id": 66497532, "body": "<i>I don&#39;t have json parser and I don&#39;t have an option to use it.</i> \u2014 this sounds unlikely: <a href=\"http://www.perlmonks.org/?node=693828\" rel=\"nofollow noreferrer\">perlmonks.org/?node=693828</a>"}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1474375865, "post_id": 39594276, "comment_id": 66497826, "body": "@Quentin : have been told to do this way :("}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1474376056, "post_id": 39594276, "comment_id": 66497974, "body": "What perl version do you have? 5.14+ has <code>JSON::PP</code> in core, so it&#39;s already bundled, nothing to install."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 4, "creation_date": 1474376073, "post_id": 39594276, "comment_id": 66497987, "body": "Have you tried pointing out that given the choices of &quot;Well tested, free, third party code you can set up in 5 minutes&quot; and &quot;Hacking something together over a minimum of several hours that will probably break the moment something unexpected arrives in the data&quot;, they picked the wrong one?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1474376995, "post_id": 39594276, "comment_id": 66498698, "body": "By definition, whatever code you will use to do what you want is a parser. So you&#39;re asking us to help write you a parser when you say you can&#39;t use a parser. It obviously can&#39;t be parsers your boss has a problem with, so the first thing you need to do is find out what you must actually avoid and why."}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1474377341, "post_id": 39594276, "comment_id": 66498935, "body": "@Quentin its 5.10"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1474377402, "post_id": 39594276, "comment_id": 66498974, "body": "@LearningCpp \u2014 I&#39;m not stevieb"}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1474378821, "post_id": 39594276, "comment_id": 66500065, "body": "Apologies @Quentin"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1474378114, "creation_date": 1474378114, "answer_id": 39595484, "question_id": 39594276, "link": "https://stackoverflow.com/questions/39594276/how-to-parse-a-json-file-without-using-json-library-and-json-parser/39595484#39595484", "title": "How to parse a json file without using json library and json parser", "body": "<p>Everything that people have said in the comments is true. JSON is a complex data format and expecting to parse it without using the tools that already exist is foolish in the extreme. I urge you to fix whatever roadblock is preventing you from installing and using a JSON parser.</p>\n\n<p>However...</p>\n\n<p>If you only want the ID, and the format is always identical to your sample data, then there is a way to do it. This code is pretty fragile and I can't emphasise enough how much of a bad idea this is. But this code seems to work on your sample data.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nwhile (&lt;&gt;) {\n  foreach my $id (/\"ID\":\"(\\d+)\"/g) {\n    say \"abc.$id\";\n  }\n}\n</code></pre>\n\n<p>It reads from STDIN and writes to STDOUT, so call it like this:</p>\n\n<pre><code>$ ./parse_json.pl &lt; Etot_data.txt\n</code></pre>\n\n<p>But please get a JSON parser installed.</p>\n"}, {"comments": [{"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474378979, "post_id": 39595649, "comment_id": 66500164, "body": "i have downloaded JSON/JSON-2.90/lib/JSON/backportPP/ ,  would this work ?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474379139, "post_id": 39595649, "comment_id": 66500283, "body": "I don&#39;t know, I haven&#39;t tried it. If it doesn&#39;t, use the link I put above, as I tested it as working."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474384430, "post_id": 39595649, "comment_id": 66503968, "body": "@LearningCpp... please don&#39;t post questions into comments. Also, this is a separate question unrelated to this one, so please ask a new question :)"}, {"owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "edited": false, "score": 0, "creation_date": 1474384513, "post_id": 39595649, "comment_id": 66504021, "body": "Already deleted it , Will post it in a moment , Please check it"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 5, "last_activity_date": 1474406314, "last_edit_date": 1474406314, "creation_date": 1474378598, "answer_id": 39595649, "question_id": 39594276, "link": "https://stackoverflow.com/questions/39594276/how-to-parse-a-json-file-without-using-json-library-and-json-parser/39595649#39595649", "title": "How to parse a json file without using json library and json parser", "body": "<p>If you can't <em>install</em> any external modules, you can sure include it...</p>\n\n<p>Create a <code>JSON</code> directory in the same directory your script is in, then copy the contents of the <a href=\"https://metacpan.org/source/MAKAMAKA/JSON-PP-2.27400/lib/JSON/PP.pm\" rel=\"nofollow\">JSON::PP</a> module, and put it into a <code>PP.pm</code> file inside of the <code>JSON</code> directory you just created. Then, in your script, add the current working directory as a library directory: <code>use lib '.';</code>, and <code>use JSON::PP;</code>.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse lib '.';\n\nuse JSON::PP qw(decode_json);\n\nmy $json;\n\n{\n    local $/;\n    open my $fh, '&lt;', 'file.json' or die $!;\n    $json = &lt;$fh&gt;;\n}\n\nmy $perl = decode_json $json;\n\nfor (@$perl){\n    my $id = 'abc.' . $_-&gt;{ID};\n    print \"$id\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>abc.000628\nabc.000703\n</code></pre>\n\n<p>If you need to hide the fact you've created an additional module, with only slight finagling, you can make some changes to the module, and include it directly within the script itself.</p>\n\n<p>Note that <code>JSON::PP</code> is in Perl core in v5.14+. OP stated in comments that they are on 5.10.</p>\n"}], "owner": {"reputation": 792, "user_id": 6758739, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/722933704512388/picture?type=large", "display_name": "LearningCpp", "link": "https://stackoverflow.com/users/6758739/learningcpp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2000, "favorite_count": 0, "accepted_answer_id": 39595649, "answer_count": 2, "score": 1, "last_activity_date": 1474406314, "creation_date": 1474374948, "last_edit_date": 1474375410, "question_id": 39594276, "link": "https://stackoverflow.com/questions/39594276/how-to-parse-a-json-file-without-using-json-library-and-json-parser", "title": "How to parse a json file without using json library and json parser", "body": "<p>Below are the input and Output Details</p>\n\n<blockquote>\n  <p>Input : This is just a sample input and real input is huge and is just in a single line </p>\n</blockquote>\n\n<pre><code>[{\"mnemonic\":\"PT.IA1\",\"ID\":\"000628\"},  {\"mnemonic\":\"EOR.1\",\"ID\":\"000703\"}]\n</code></pre>\n\n<blockquote>\n  <p>code  : I'm trying to read the file by setting the delimiter as }, so that I get each value,but as its a single line file, its printing everything at one, how do I parse this line by setting a delimiter to this line , is split function \n  enough to do this job ?</p>\n</blockquote>\n\n<pre><code>our $conf =\n{\n  chunk_separator   =&gt; '\\{,',\n}\nopen( FH, \"Etot_Data.txt\" ) or die $!;\nwhile ( my $chunk = &lt;FH&gt; ){\nmy $sections = [ split $conf-&gt;{chunk_separator}, $chunk ]\n   print \"$chunk\\n\";\n}\n</code></pre>\n\n<blockquote>\n  <p>Output</p>\n</blockquote>\n\n<p>I would want to pick \"ID\" from each value and prepend \"abc.\" to it \nFinal String would look like abc.000628 or abc.000703 and save it in a hash\nThere's no need of another values except the ID in json string\nIs it possible  to read the json file as a normal file and operate on it.\nI don't have json parser and I don't have an option to use it </p>\n\n<p>Thanks for the help</p>\n"}, {"tags": ["perl", "subroutine", "defined", "undef"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1474369056, "post_id": 39592197, "comment_id": 66493328, "body": "Because <code>undef</code> is code to run at runtime, but <code>sub</code> is a definition and happens at compile time."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474375220, "post_id": 39592305, "comment_id": 66497340, "body": "Great answer, but it doesn&#39;t explain why I can&#39;t write a statement <code>myf;</code> (or even <code>main::myf;</code>) before the subroutine is defined."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1474378330, "post_id": 39592305, "comment_id": 66499674, "body": "@Borodin: because at compile time the compiller does not know that <code>myf</code> or <code>main::myf</code> barewords are subroutine (turn off <code>use strict</code> and you get: <code>Bareword &quot;myf&quot; not allowed while &quot;strict subs&quot; in use</code>. After subroutine is defined you have a <code>&amp;::myf</code> in your symbol table and you can write barewords <code>myf</code> or <code>main::myf</code> after definition. To ensure perl that you want to call subroutine just put parentheses after bareword: <code>myf()</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474379965, "post_id": 39592305, "comment_id": 66500883, "body": "That was not part of the question @Borodin ;)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474381985, "post_id": 39592305, "comment_id": 66502360, "body": "@simbabque: No it wasn&#39;t. But on the surface it seems to contradict the idea that the compilation populates the symbol table so that the subroutine is available at run time. The ugly truth is that the compiler assumes that a simple <code>myf</code> is actually a string, despite <code>use strict &#39;subs&#39;</code> being in place, and despite it producing a warning <code>Useless use of a constant (&quot;myf&quot;) in void context</code> when treated as a string. All for the sake of backward-compatibility!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474382646, "post_id": 39592305, "comment_id": 66502848, "body": "@Borodin I read about this the other day. It might have been in another question. Was someone maybe discussing to remove this finally?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474385814, "post_id": 39592305, "comment_id": 66504906, "body": "@simbabque: Nothing I&#39;ve heard of. I might poke around if I have time."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474389482, "post_id": 39592305, "comment_id": 66507294, "body": "It&#39;s not for backwards compatibility. Some people use paren-less calls to find typos and other errors at compile-time rather than when the call is executed."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 10, "last_activity_date": 1474369466, "last_edit_date": 1474369466, "creation_date": 1474369112, "answer_id": 39592305, "question_id": 39592197, "link": "https://stackoverflow.com/questions/39592197/perl-defined-and-undef-subroutine-scope/39592305#39592305", "title": "Perl `defined&#39; and `undef&#39; subroutine scope", "body": "<p>That doesn't have to do with scope, but with <strong>compile time</strong> and <strong>run time</strong>. Here's a simplified explanation.</p>\n\n<p>The Perl interpreter will scan your code initially, and follow any <code>use</code> statements or <code>BEGIN</code> blocks. At that point, it sees all the <code>sub</code>s, and notes them down in their respective packages. So now you have a <code>&amp;::myf</code> in your symbol table.</p>\n\n<p>When compile time has reached the end of the program, it will switch into run time. </p>\n\n<p>At that point, it actually runs the code. Your first <code>print</code> statement is executed if <code>&amp;myf</code> is defined. We know it is, because it got set at compile time. Perl then calls that function. All is well. Now you <code>undef</code> that entry in the symbol table. That occurs at run time, too.</p>\n\n<p>After that, <code>defined &amp;myf</code> returns false, so it doesn't print.</p>\n\n<p>You even have the second call to <code>myf()</code> there in the code, but commented out. If you remove the comment, it will complain about <em>Undefined subroutine &amp;main::myf called</em>. That's a good hint at what happened.</p>\n\n<p>So in fact it doesn't look forward or backward in the code. It is already finished scanning the code at that time.</p>\n\n<hr>\n\n<p>The different stages are explained <a href=\"http://perldoc.perl.org/perlmod.html#BEGIN%2C-UNITCHECK%2C-CHECK%2C-INIT-and-END\">in perlmod</a>.</p>\n\n<p>Note that there are not a lot of use cases for actually <code>undef</code>ing a function. I don't see why you would remove it, unless you wanted to clean up your namespace manually.</p>\n"}], "owner": {"reputation": 851, "user_id": 1070525, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d6e829a8be1b08fcef0cab71466d5b0f?s=128&d=identicon&r=PG", "display_name": "password636", "link": "https://stackoverflow.com/users/1070525/password636"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 39592305, "answer_count": 1, "score": 6, "last_activity_date": 1474369466, "creation_date": 1474368778, "question_id": 39592197, "link": "https://stackoverflow.com/questions/39592197/perl-defined-and-undef-subroutine-scope", "title": "Perl `defined&#39; and `undef&#39; subroutine scope", "body": "<p>Please take a look at the following code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n\nprint \"subroutine is defined\\n\" if defined &amp;myf;\nmyf();\n\nsub myf\n{\n        print \"called myf\\n\";\n}\n\nundef &amp;myf;\n#myf();\nprint \"now subroutine is defined\\n\" if defined &amp;myf;\n</code></pre>\n\n<p>The output is </p>\n\n<pre><code>subroutine is defined\ncalled myf\n</code></pre>\n\n<p>The first <code>print</code> statement can print, does that mean the interpreter (or compiler?)  looks further and sees the subroutine definition? If so, why it doesn't see the <code>undef &amp;myf;</code> as the second <code>print</code> statement? </p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "parsing", "split"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1474363697, "post_id": 39590294, "comment_id": 66489834, "body": "The &quot;<i>pattern</i>&quot; in <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\"><code>split</code></a> is a full-blown &quot;<i>regular expression</i>&quot;, or &quot;<i>regex</i>&quot;.  You may use a fixed string but you can use a regex.  Having said that, this may well be done with a regex itself.  See a tutorial <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\"><code>regextut</code></a>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474364948, "post_id": 39590294, "comment_id": 66490620, "body": "@zdim explaining what pattern matching is seems to be today&#39;s topic. :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474394311, "post_id": 39590294, "comment_id": 66509931, "body": "@simbabque Indeed!  It&#39;s interesting how there are topical days like that :)"}], "answers": [{"tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 2, "last_activity_date": 1474363693, "creation_date": 1474363693, "answer_id": 39590421, "question_id": 39590294, "link": "https://stackoverflow.com/questions/39590294/split-to-get-only-characters-in-perl/39590421#39590421", "title": "Split to get only characters in Perl", "body": "<p>Use <code>split(/\\s|,/,\"Reporting EXE1 BASE,Normal\")</code> to split the string on comma and blank</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474366528, "post_id": 39590460, "comment_id": 66491634, "body": "<code>split &#47;\\s|,&#47;, $str</code> is more commonly written <code>split &#47;[\\s,]&#47;, $str</code>, and I think you probably want to split on contiguous sequences of that character class with <code>split &#47;[\\s,]+&#47;, $str</code>"}], "tags": [], "owner": {"reputation": 1851, "user_id": 3045568, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5e2fdfebcbb631532bb9ff994639b5fe?s=128&d=identicon&r=PG&f=1", "display_name": "Techidiot", "link": "https://stackoverflow.com/users/3045568/techidiot"}, "is_accepted": true, "score": 1, "last_activity_date": 1474373104, "last_edit_date": 1474373104, "creation_date": 1474363764, "answer_id": 39590460, "question_id": 39590294, "link": "https://stackoverflow.com/questions/39590294/split-to-get-only-characters-in-perl/39590460#39590460", "title": "Split to get only characters in Perl", "body": "<p>You might try this code.</p>\n\n<pre><code>my $str = \"Reporting EXE1 BASE,Normal\";\nmy @fields = split /\\s|,/, $str;\nmy $info = $fields[0];\nmy $host = $fields[1];\nmy $device = $fields[2];\nmy $status = $fields[3];\nprint \"$info\\n\";\nprint \"$host\\n\";\nprint \"$device\\n\";\nprint \"$status\\n\";\n</code></pre>\n\n<p>Or more compact version -</p>\n\n<pre><code>my $str = \"Reporting EXE1 BASE,Normal\";\nmy ( $info, $host, $device, $status ) = split /[\\s,]/, $str ;\nprint \"$info\\n\";\nprint \"$host\\n\";\nprint \"$device\\n\";\nprint \"$status\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 1, "last_activity_date": 1474365509, "creation_date": 1474365509, "answer_id": 39591089, "question_id": 39590294, "link": "https://stackoverflow.com/questions/39590294/split-to-get-only-characters-in-perl/39591089#39591089", "title": "Split to get only characters in Perl", "body": "<p>No need to store the data in an array. Directly create the list and give the variable name to it.</p>\n\n<pre><code>my $string = \"Reporting EXE1 BASE,Normal\";\n\nmy ($info ,$host,$device,$status) = split(/\\s|,/,$string);\n\nprint \"$info ,$host,$device,$status\";\n</code></pre>\n\n<p>Or else you could use pattern matching</p>\n\n<pre><code>my ($info ,$host,$device,$status) = $string =~m/(\\w+)/g;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1474366761, "last_edit_date": 1474366761, "creation_date": 1474366347, "answer_id": 39591397, "question_id": 39590294, "link": "https://stackoverflow.com/questions/39590294/split-to-get-only-characters-in-perl/39591397#39591397", "title": "Split to get only characters in Perl", "body": "<p>I prefer to use a global regex pattern match instead of <code>split</code>. That way you can specify the characters that you're interested in instead of the ones that you want to discard, and there's no chance of a spurious initial empty field if your string happens to start with a separator</p>\n\n<p>It looks like you want to pick out \"word\" characters, which are upper and lower case letters, decimal digits, and the underscore character. There's a built-in character class <code>\\w</code> for that, so finding all sequences that match <code>\\w+</code> should find the data for you</p>\n\n<p>Here's an example program</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $s = 'Reporting EXE1 BASE,Normal';\n\nmy ( $info, $host, $device, $status ) = $s =~ /\\w+/g;\n\nprint qq{\\$info   = \"$info\"\\n};\nprint qq{\\$host   = \"$host\"\\n};\nprint qq{\\$device = \"$device\"\\n};\nprint qq{\\$status = \"$status\"\\n};    \n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>$info   = \"Reporting\"\n$host   = \"EXE1\"\n$device = \"BASE\"\n$status = \"Normal\"\n</code></pre>\n\n<p>If you want to allow more characters than <code>\\w</code> matches then you could use</p>\n\n<pre><code>my ( $info, $host, $device, $status ) = $s =~ /[^\\s,]+/g;\n</code></pre>\n\n<p>which matches sequences of characters that are neither space nor comma</p>\n\n<p>Given your sample data the results are identical, but I cannot tell what your real data looks like</p>\n"}], "owner": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 1, "accepted_answer_id": 39590460, "answer_count": 4, "score": 0, "last_activity_date": 1474373104, "creation_date": 1474363335, "question_id": 39590294, "link": "https://stackoverflow.com/questions/39590294/split-to-get-only-characters-in-perl", "title": "Split to get only characters in Perl", "body": "<p>I have a string like this :</p>\n\n<pre><code>Reporting EXE1 BASE,Normal\n</code></pre>\n\n<p>I need to get a var for every words like :</p>\n\n<pre><code>$info = \"Reporting\";\n$host = \"EXE1\";\n$device = \"BASE\";\n$status = \"Normal\";\n</code></pre>\n\n<p>In fact, i saw the function \"Split\" might be a good use, but i don't understand the patern to use.</p>\n"}, {"tags": ["perl", "xslt", "exslt"], "comments": [{"owner": {"reputation": 1932, "user_id": 2322941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OCqy9.jpg?s=128&g=1", "display_name": "Stefan Hegny", "link": "https://stackoverflow.com/users/2322941/stefan-hegny"}, "edited": false, "score": 0, "creation_date": 1474363171, "post_id": 39590031, "comment_id": 66489477, "body": "That doesn&#39;t fit together, there is no <code>Message</code> node on which your template matches in your input at all?! Why are you trying to use <code>exsl:node-set()</code> here probably can not be determined without seeing matching xsl and input xml"}, {"owner": {"reputation": 1805, "user_id": 1410711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2872680a6b9ef5b0407b4fef88966e2e?s=128&d=identicon&r=PG", "display_name": "Recker", "link": "https://stackoverflow.com/users/1410711/recker"}, "reply_to_user": {"reputation": 1932, "user_id": 2322941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OCqy9.jpg?s=128&g=1", "display_name": "Stefan Hegny", "link": "https://stackoverflow.com/users/2322941/stefan-hegny"}, "edited": false, "score": 0, "creation_date": 1474364126, "post_id": 39590031, "comment_id": 66490103, "body": "I am not sure what you are saying. The script runs fine and template gets called and output is displayed. I dont know how to post a minimal, reproducible and workable example except for this one."}, {"owner": {"reputation": 1932, "user_id": 2322941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OCqy9.jpg?s=128&g=1", "display_name": "Stefan Hegny", "link": "https://stackoverflow.com/users/2322941/stefan-hegny"}, "edited": false, "score": 0, "creation_date": 1474364420, "post_id": 39590031, "comment_id": 66490268, "body": "It may be a default template that produces the output. How do you expect a template matching <code>Message</code> being called when there is no element named Message in the input? - Your minimal example may be minimal but it is no longer correct and might not help your real problem"}, {"owner": {"reputation": 1805, "user_id": 1410711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2872680a6b9ef5b0407b4fef88966e2e?s=128&d=identicon&r=PG", "display_name": "Recker", "link": "https://stackoverflow.com/users/1410711/recker"}, "reply_to_user": {"reputation": 1932, "user_id": 2322941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OCqy9.jpg?s=128&g=1", "display_name": "Stefan Hegny", "link": "https://stackoverflow.com/users/2322941/stefan-hegny"}, "edited": false, "score": 0, "creation_date": 1474364581, "post_id": 39590031, "comment_id": 66490368, "body": "If I change the <code>Message</code> with <code>&#47;</code>, I still get the same output. Does the <code>&#47;</code> signify the default template?"}, {"owner": {"reputation": 95646, "user_id": 3016153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWA7Z.png?s=128&g=1", "display_name": "michael.hor257k", "link": "https://stackoverflow.com/users/3016153/michael-hor257k"}, "edited": false, "score": 0, "creation_date": 1474366174, "post_id": 39590031, "comment_id": 66491410, "body": "@Recker Your stylesheet does not do anything except copy all text nodes to the output. This is done by the built-in templates. Your own template does not match anything in the input and is never executed. -- In addition, there are numerous things in your attempt that make no sense, including your use of <code>exsl:node-set()</code>. Please post the expected result of the transformation, so we can show you how to get it."}, {"owner": {"reputation": 1805, "user_id": 1410711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2872680a6b9ef5b0407b4fef88966e2e?s=128&d=identicon&r=PG", "display_name": "Recker", "link": "https://stackoverflow.com/users/1410711/recker"}, "reply_to_user": {"reputation": 95646, "user_id": 3016153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWA7Z.png?s=128&g=1", "display_name": "michael.hor257k", "link": "https://stackoverflow.com/users/3016153/michael-hor257k"}, "edited": false, "score": 0, "creation_date": 1474367667, "post_id": 39590031, "comment_id": 66492435, "body": "@michael.hor257k I had earlier asked this <a href=\"http://stackoverflow.com/q/38007406/1410711\">question</a> which explains my intent. I just created a smaller version of it. Bottomline, I am not able to print the attributes <code>key</code> and <code>type</code> and I want to print it ."}, {"owner": {"reputation": 95646, "user_id": 3016153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWA7Z.png?s=128&g=1", "display_name": "michael.hor257k", "link": "https://stackoverflow.com/users/3016153/michael-hor257k"}, "edited": false, "score": 0, "creation_date": 1474368674, "post_id": 39590031, "comment_id": 66493081, "body": "<b>1.</b> Please make your questions self-contained. -- <b>2.</b> Neither this question nor the other one shows the expected output. &quot;<i>print the attributes</i>&quot; can be interpreted in so many ways."}, {"owner": {"reputation": 1932, "user_id": 2322941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OCqy9.jpg?s=128&g=1", "display_name": "Stefan Hegny", "link": "https://stackoverflow.com/users/2322941/stefan-hegny"}, "edited": false, "score": 1, "creation_date": 1474376314, "post_id": 39590031, "comment_id": 66498172, "body": "@Recker, no <code>&#47;</code> does <b>not</b> signify the default template. Default templates are what the xslt processor does when no of your templates match. <code>&#47;</code> makes that template match the root of the input document"}], "answers": [{"tags": [], "owner": {"reputation": 95646, "user_id": 3016153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWA7Z.png?s=128&g=1", "display_name": "michael.hor257k", "link": "https://stackoverflow.com/users/3016153/michael-hor257k"}, "is_accepted": true, "score": 2, "last_activity_date": 1474368541, "creation_date": 1474368541, "answer_id": 39592132, "question_id": 39590031, "link": "https://stackoverflow.com/questions/39590031/exslnode-set-not-retrieving-attributes-value/39592132#39592132", "title": "exsl:node-set not retrieving attribute&#39;s value", "body": "<p>The following stylesheet:</p>\n\n<p><strong>XSLT 1.0</strong></p>\n\n<pre><code>&lt;xsl:stylesheet version=\"1.0\"\nxmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"&gt;\n&lt;xsl:output method=\"text\"/&gt;\n\n&lt;xsl:template match=\"/msg\"&gt;\n    &lt;xsl:for-each select=\"ent\"&gt;\n        &lt;xsl:text&gt;KEY: &lt;/xsl:text&gt;\n        &lt;xsl:value-of select=\"@key\"/&gt;\n        &lt;xsl:text&gt;&amp;#10;TYPE: &lt;/xsl:text&gt;\n        &lt;xsl:value-of select=\"@type\"/&gt;\n        &lt;xsl:text&gt;&amp;#10;TEXT: &lt;/xsl:text&gt;\n        &lt;xsl:value-of select=\"text\"/&gt;\n        &lt;xsl:text&gt;&amp;#10;TRANSLATION: &lt;/xsl:text&gt;\n        &lt;xsl:value-of select=\"translation\"/&gt;\n        &lt;xsl:text&gt;&amp;#10;&amp;#10;&lt;/xsl:text&gt;\n    &lt;/xsl:for-each&gt;\n&lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p>when applied to your input example, will produce:</p>\n\n<pre><code>KEY: key1\nTYPE: error\nTEXT: Error: Could not find \nTRANSLATION: Another Error similar to previous one.\n\nKEY: key2\nTYPE: damage\nTEXT: Error2: Could not find2 \nTRANSLATION: Another Error2 similar to previous one.\n</code></pre>\n"}], "owner": {"reputation": 1805, "user_id": 1410711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2872680a6b9ef5b0407b4fef88966e2e?s=128&d=identicon&r=PG", "display_name": "Recker", "link": "https://stackoverflow.com/users/1410711/recker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 39592132, "answer_count": 1, "score": 1, "last_activity_date": 1474368541, "creation_date": 1474362645, "last_edit_date": 1495540856, "question_id": 39590031, "link": "https://stackoverflow.com/questions/39590031/exslnode-set-not-retrieving-attributes-value", "title": "exsl:node-set not retrieving attribute&#39;s value", "body": "<p>Here is a toned down version of my use case. I have</p>\n\n<p>XSL file for transformation</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" version=\"1.0\"\n    xmlns:exsl=\"http://exslt.org/common\" extension-element-prefixes=\"exsl\"&gt;\n\n&lt;xsl:output method=\"text\"/&gt;\n&lt;xsl:template match=\"Message\"&gt;\n    &lt;xsl:for-each select=\"ent\"&gt;\n        &lt;xsl:variable name=\"current_key\" select=\"@key\"/&gt;\n        &lt;xsl:variable name=\"current_type\" select=\"@type\"/&gt;\n        &lt;xsl:variable name=\"Match\" select=\"exsl:node-set(msg)/ent\"/&gt;\n        &lt;xsl:copy&gt;\n            &lt;xsl:copy-of select=\"exsl:node-set($Match)/@type\"/&gt;\n            &lt;xsl:copy-of select=\"exsl:node-set($Match)/@key|exsl:node-set($Match)/translation/text()\"/&gt;\n            &lt;!--- &lt;xsl:copy-of select=\"exsl:node-set($Match)/@key|exsl:node-set($Match)/translation/text()|exsl:node-set($Match)/@type\"/&gt;  Trial statement --&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:for-each&gt;\n    &lt;xsl:call-template name = \"Me\" select=\"$Message\"/&gt;\n&lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p>And an input file as follows</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;msg&gt;\n    &lt;ent key=\"key1\" type=\"error\"&gt;\n        &lt;text&gt;Error: Could not find &lt;/text&gt;\n        &lt;translation&gt;Another Error similar to previous one.&lt;/translation&gt;\n    &lt;/ent&gt;\n    &lt;ent key=\"key2\" type=\"damage\"&gt;\n        &lt;text&gt;Error2: Could not find2 &lt;/text&gt;\n        &lt;translation&gt;Another Error2 similar to previous one.&lt;/translation&gt;\n    &lt;/ent&gt;\n&lt;/msg&gt;\n</code></pre>\n\n<p>I am using libXSLT in Perl as my transformation engine. My transformation script is already mentioned in this <a href=\"https://stackoverflow.com/a/37727023\">answer</a>. Whenever I execute the script, I get the output as follows.</p>\n\n<pre><code>Error: Could not find \nAnother Error similar to previous one.\n\nError2: Could not find2 \nAnother Error2 similar to previous one.\n</code></pre>\n\n<p>Why is the attribute <code>type</code> not getting printed? How do I retrieve it with the help of <code>exsl:node-set</code> or any other techniques? Also, can I include the attribute <code>type</code> in the trial statement in such a way that it will be in the output?</p>\n"}, {"tags": ["perl", "variables", "operators"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1474362654, "post_id": 39589855, "comment_id": 66489129, "body": "When I read the title, I thought you want a fuzzy match, i.e. <code>ofobra</code> instead of <code>foobar</code>. Maybe that&#39;s why you had trouble finding what you wanted, especially if English is not your native language. Sometimes it&#39;s hard to accurately describe a problem."}, {"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474363183, "post_id": 39589855, "comment_id": 66489485, "body": "yeah, that is so true, it even took me some minutes to write this title, even though it was not really what I wouldve asked someone in my native language."}], "answers": [{"comments": [{"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 1, "creation_date": 1474362427, "post_id": 39589869, "comment_id": 66488970, "body": "works, thanks. I really dont know if I should like the fact it is that simple or hate it because I couldn&#39;t figure it out."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 1, "creation_date": 1474362525, "post_id": 39589869, "comment_id": 66489039, "body": "@ZesaRex regex is a complicated topic, but it&#39;s very powerful, and very simple to do in Perl. If you&#39;re fairly new to Perl, I suggest you get yourself a copy of the <i>Learning Perl</i> book, which has two chapters on regex and will take about three to five evenings to complete. Ovid&#39;s <i>Beginning Perl</i> is also a great resource if you already know some programming. Don&#39;t beat yourself up for not knowing about this. If you&#39;ve never heard that something like this exists it&#39;s not your fault you don&#39;t know. :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 5, "creation_date": 1474362538, "post_id": 39589869, "comment_id": 66489048, "body": "@ZesaRex  You can&#39;t &quot;<i>figure out</i>&quot; things like this.  Need to read up on it :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1474362669, "post_id": 39589869, "comment_id": 66489139, "body": "<code>regex</code> in particular is a very long legacy thing - it&#39;s a lot of dark magic from back in the day when it was a command you typed in a text editor."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1474370374, "post_id": 39589869, "comment_id": 66494150, "body": "All this, and no mention of <code>index</code>?"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1474373304, "post_id": 39589869, "comment_id": 66496084, "body": "I can&#39;t benchmark it right now but <code>index</code> is probably not faster than a regex. I don&#39;t know all the details, but when you try to match a constant string (&quot;OK&quot; in that case), the regex engine is pretty efficient, and in that case, it should be the same speed as <code>index</code>. Let me know if your benchmarks show otherwise. (I&#39;ll try it when I have time anyway)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1474380581, "post_id": 39589869, "comment_id": 66501335, "body": "@Dada someone did here: <a href=\"http://stackoverflow.com/a/30752068/1331451\">stackoverflow.com/a/30752068/1331451</a>. In that case, <code>index</code> won with flying colors. But of course it depends on the system and mostly on the Perl version. I believe there is a change coming up in 5.26 that makes static matching way faster than it was before, but I cannot find a reference for that right now."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1474391042, "post_id": 39589869, "comment_id": 66508267, "body": "I don&#39;t understand your check for <code>index</code>&#39;s return value. You are looking for <code>OK</code> anywhere in the string, not just the beginning. @Dada I made no claim that <code>index</code> is faster. However, it is the <b>literal</b> answer to the OP&#39;s question of figuring out if one constant string exists in another."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1474391297, "post_id": 39589869, "comment_id": 66508405, "body": "Because it was wrong @sinan. It has to be not - 1 obviously."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1474395616, "post_id": 39589869, "comment_id": 66510623, "body": "Indeed, index is faster (from 15% to a few hundreds based on what I tested), I either failed my benchs last time or got unlucky I guess. Thanks for your reply. @Sinan&#220;n&#252;r My comment was adressed to Simbabque, I agree that this <code>index</code> can be mentioned as a legit solution, but I thought it wasn&#39;t really faster than regex."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 8, "last_activity_date": 1474391255, "last_edit_date": 1495541963, "creation_date": 1474362129, "answer_id": 39589869, "question_id": 39589855, "link": "https://stackoverflow.com/questions/39589855/in-perl-is-there-an-operator-to-check-a-string-roughly-for-another-string/39589869#39589869", "title": "In Perl, is there an operator to check a string roughly for another string?", "body": "<p>You are looking for a pattern match.</p>\n\n<pre><code>if ($firsttenchars =~ m/OK/) { ... }\n</code></pre>\n\n<p>This will return true if the literal string <code>'OK'</code> (case-sensitive) is found somewhere inside of <code>$firsttenchars</code>. It doesn't care how often, and once it finds it, it stops looking. </p>\n\n<p>The stuff inside the <code>//</code> is a regular expression, short <em>regex</em>. Those are used to creae <em>patterns</em>. <code>=~</code> is the <a href=\"http://perldoc.perl.org/perlop.html#Binding-Operators\" rel=\"nofollow noreferrer\"><em>binding operator</em></a> that binds a scalar value (<code>$firsttenchars</code>) to a pattern match. The <code>m</code> of the <a href=\"http://perldoc.perl.org/functions/m.html\" rel=\"nofollow noreferrer\"><code>m//</code></a> is the match operator. There is also an <code>s///</code> that is used to replace something by a pattern.</p>\n\n<p>You can read <a href=\"http://perldoc.perl.org/perlrequick.html\" rel=\"nofollow noreferrer\">perlrequick</a>, <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a> and <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perlretut</a> for more information. The <a href=\"https://stackoverflow.com/tags/regex/info\">regex tag wiki here on Stack Overflow</a> is an awesome resource to get started with regular expressions.</p>\n\n<hr>\n\n<p>The <code>~</code> operator is the bitwise negation operator.</p>\n\n<blockquote>\n  <p>Unary \"~\" performs bitwise negation, that is, 1's complement. For example, 0666 &amp; ~027 is 0640. (See also Integer Arithmetic and Bitwise String Operators.) Note that the width of the result is platform-dependent: ~0 is 32 bits wide on a 32-bit platform, but 64 bits wide on a 64-bit platform, so if you are expecting a certain bit width, remember to use the \"&amp;\" operator to mask off the excess bits.</p>\n</blockquote>\n\n<p>The <code>~~</code> operator is called <a href=\"http://perldoc.perl.org/perlop.html#Smartmatch-Operator\" rel=\"nofollow noreferrer\"><em>smart match</em></a>. It's been there for a while in Perl and it supposed to do smart things. It behaves differently based on what you've got on the RHS (right-hand side) and LHS (left-hand side). It's still considered experimental and many people in the Perl community find it controversial. You used it with two scalars, both of them containing strings. That turns it into an <a href=\"http://perldoc.perl.org/functions/eq.html\" rel=\"nofollow noreferrer\"><code>eq</code></a>, which checks for string equality.</p>\n\n<blockquote>\n  <p>Any       Any        string equality<br>\n                  like: Any eq Any</p>\n</blockquote>\n\n<p>A complete overview of all operators in Perl can be found in <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perlop</a>. Note this links to the most recent version (5.24 at the time of writing). Your Perl might be older, and might not have all of them.</p>\n\n<hr>\n\n<p>A faster way of checking if <code>'OK'</code> is contained inside of that string is <a href=\"http://perldoc.perl.org/functions/index.html\" rel=\"nofollow noreferrer\">the <code>index</code> built-in</a>. It returns the first occurrence of a string within another string. Because it returns <code>-1</code> if it doesn't find that string, you need to explicitly check the return value.</p>\n\n<pre><code>if (index($firsttenchars, 'OK') != - 1) { ... }\n</code></pre>\n\n<p>This is a bit more to write than the pattern match, but it's a lot faster.</p>\n"}], "owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 2, "accepted_answer_id": 39589869, "answer_count": 1, "score": 1, "last_activity_date": 1474391255, "creation_date": 1474362089, "last_edit_date": 1474372854, "question_id": 39589855, "link": "https://stackoverflow.com/questions/39589855/in-perl-is-there-an-operator-to-check-a-string-roughly-for-another-string", "title": "In Perl, is there an operator to check a string roughly for another string?", "body": "<p>I guess this is a quite simple question but after 20 minutes of googling I couldn't find anything to solve my problem.</p>\n\n<p>So I want to check a string variable whether it has <code>'OK'</code> somewhere in it or not.</p>\n\n<p>I tried using <code>~</code> and <code>~~</code>. <code>~</code> is giving me an error and <code>~~</code> is says not the right operator is guess. I thought of <code>~</code> as something like \"roughly\" but it seems like that's not true. Here is my code:</p>\n\n<pre><code>open (INPUT, \"&lt;\", $curfile);\nwhile (&lt;INPUT&gt;) {\n$firsttenchars= substr ($_, 0, 10);\nif ($firsttenchars ~ \"OK\") \n    {\n    print \"success\";\n    }               \n}\nclose INPUT;\n</code></pre>\n"}, {"tags": ["regex", "perl", "shell", "sed", "tcl"], "comments": [{"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 1, "creation_date": 1474362295, "post_id": 39589830, "comment_id": 66488888, "body": "Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/posts/39589830/edit\">edit</a> your question."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1474362721, "post_id": 39589830, "comment_id": 66489175, "body": "If it&#39;s critical and urgent, then it sounds a lot like you need to employ someone to do it. Stack Overflow isn&#39;t a substitute for tech support."}, {"owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474362980, "post_id": 39589830, "comment_id": 66489360, "body": "but please help me here as I cant employ someone for this task."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1474363925, "post_id": 39589830, "comment_id": 66489981, "body": "You don&#39;t get to tell me that something is &quot;very very critical and urgent&quot; unless you are paying me :-) And I don&#39;t think I&#39;d take on a paying client who is as bad at describing the problem as you are!"}, {"owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474365510, "post_id": 39589830, "comment_id": 66490972, "body": "changed subject"}, {"owner": {"reputation": 119001, "user_id": 301832, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/965220a70d38e6a29466f44cdb4f804e?s=128&d=identicon&r=PG", "display_name": "Donal Fellows", "link": "https://stackoverflow.com/users/301832/donal-fellows"}, "edited": false, "score": 1, "creation_date": 1474365704, "post_id": 39589830, "comment_id": 66491085, "body": "What tools do you intend to use? Making a frankenprogram out of Perl, Shell, Sed and Tcl is <i>possible</i> but likely a really bad idea."}], "answers": [{"comments": [{"owner": {"reputation": 2909, "user_id": 107626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86ec61daf5c629d737322c444d5f0f45?s=128&d=identicon&r=PG", "display_name": "Colin Macleod", "link": "https://stackoverflow.com/users/107626/colin-macleod"}, "edited": false, "score": 0, "creation_date": 1474368908, "post_id": 39592046, "comment_id": 66493233, "body": "Note that Peter&#39;s solution is in Tcl, in case it&#39;s not obvious :-)"}, {"owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474369274, "post_id": 39592046, "comment_id": 66493463, "body": "and can you please tell how to use this script on unix terminal?"}, {"owner": {"reputation": 12685, "user_id": 488796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bec8145ec10828cf4988b6b2005bafa?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lewerin", "link": "https://stackoverflow.com/users/488796/peter-lewerin"}, "reply_to_user": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474369696, "post_id": 39592046, "comment_id": 66493699, "body": "@Nishant: I haven&#39;t worked with Unix for 20 years, but you should be able to start a Tcl shell (e.g. <code>tclsh</code> and run the script in that)."}, {"owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474369787, "post_id": 39592046, "comment_id": 66493754, "body": "ok thanks. I will try it. and ABC and XYZ I need to give as input and &quot;any name&quot; as output?"}, {"owner": {"reputation": 12685, "user_id": 488796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bec8145ec10828cf4988b6b2005bafa?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lewerin", "link": "https://stackoverflow.com/users/488796/peter-lewerin"}, "reply_to_user": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474370377, "post_id": 39592046, "comment_id": 66494154, "body": "@Nishant: you will have to provide the actual file names that ABC and XYZ stand for, or an alternative name if you don&#39;t want to clobber the XYZ file."}, {"owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474371033, "post_id": 39592046, "comment_id": 66494594, "body": "@peter, My original ABC file has few text at beginning and because of that I am getting sourcing error.Is there any other way to source ABC file?  Initial contents of ABC:  cancsi(64): 10-s01: (c) Copyright 1995-2014  cancsi&gt; source ncancsi cancsi&gt;  set dump_shm  on on // X_deb: step # : 9  // X_deb: in : 4&#39;b0000  // X_deb: out : 4&#39;b1110  // X_deb: load (4 , 4&#39;b1010)  // X_deb: MK : 4&#39;b1111    I forgot to mention in my question. all lines with has X_* starting with //  sorry for that, but I guess it will not create issue. And this ABC file is basically log file of cancsi tool"}, {"owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474372031, "post_id": 39592046, "comment_id": 66495245, "body": "@peter: when I am adding // in front of these lines. I am getting below error:    while executing &quot;// X_deb: step # : 9&quot;     (file &quot;ABC&quot; line 1)     invoked from within &quot;source ABC&quot;     (file &quot;peter_script&quot; line 33) please help me Peter from this. thanks in advance"}, {"owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474376446, "post_id": 39592046, "comment_id": 66498287, "body": "@PeterLewerin after adding those &quot;unknown&quot; related commands in my file. I am not getting errors now. But issue is output file(XYZ) is empty now. Please help"}, {"owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474378514, "post_id": 39592046, "comment_id": 66499824, "body": "@PeterLewerin , sorry. Again I forgot to add one thing in the question. I forgot to add semi column after each  &quot;// X_deb: load&quot; line previously. I have updated the question accordingly. But I feel it will not create issue? or will it? please help.. sorry for keep asking you questions again and again. This task is very urgent and critical for me."}, {"owner": {"reputation": 12685, "user_id": 488796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bec8145ec10828cf4988b6b2005bafa?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lewerin", "link": "https://stackoverflow.com/users/488796/peter-lewerin"}, "reply_to_user": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474380242, "post_id": 39592046, "comment_id": 66501075, "body": "@Nishant: no, the semicolons won&#39;t cause any problems. Are you getting the desired output now, or are you still having problems?"}, {"owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474384770, "post_id": 39592046, "comment_id": 66504195, "body": "@PeterLewerin: yes. I am not getting any issues now. Thanks a lot. I really appreciate it.  But I have one query.. this script is overwriting current output file. But not replacing out value with MK.. again sorry, I have updated output file in the question. This is last edit. Sorry for this.. I am using this for the first time so this kind of mistakes are occurring.. but I am sure this is last question edit. Please help"}, {"owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474385020, "post_id": 39592046, "comment_id": 66504370, "body": "@PeterLewerin : just now updated question again for the last time..sorry for multiple iterations. This is last edit for sure... I just need to replace value of out with MK.(for the steps which is having MK).. everything else should be remain same. Thanks in advance... and apologizes for asking you so many questions again and again.. Please don&#39;t mind."}, {"owner": {"reputation": 12685, "user_id": 488796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bec8145ec10828cf4988b6b2005bafa?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lewerin", "link": "https://stackoverflow.com/users/488796/peter-lewerin"}, "reply_to_user": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474387040, "post_id": 39592046, "comment_id": 66505795, "body": "@Nishant: AFAICT you&#39;re getting just that. For #9 and #11 you are getting the MK value (1111 and 1110), and for #10 you are getting the out value (1001), since there is no MK value."}, {"owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474397863, "post_id": 39592046, "comment_id": 66511923, "body": "Is it not possible to just replace MK value from XYZ file and keep other text as it is? Without overwriting the file? @PeterLewerin"}, {"owner": {"reputation": 12685, "user_id": 488796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bec8145ec10828cf4988b6b2005bafa?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lewerin", "link": "https://stackoverflow.com/users/488796/peter-lewerin"}, "reply_to_user": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474400295, "post_id": 39592046, "comment_id": 66513335, "body": "@Nishant: sure, it can be done. I&#39;d have to have a look at it tomorrow though, it&#39;s very late here."}, {"owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474456159, "post_id": 39592046, "comment_id": 66536432, "body": "@PeterLewerin. It is working completely fine now. It is very helpful. Thanks a lot for your help and time. Its really great.. really appreciate your help.  :)"}, {"owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 0, "creation_date": 1474539613, "post_id": 39592046, "comment_id": 66576705, "body": "@PeterLewerin : sorry to disturb you again. I have one more question.  Actually problem statement got changed now.  At output side in last bracket value is of &quot;out&quot; only, but wherever bit &quot;1&quot; is there for that &quot;MK&quot;, script should convert the same bit of &quot;out&quot; with &quot;x&quot; value. I have updated the question as well. again sorry, but please help me one last time. i would really appreciate it."}, {"owner": {"reputation": 12685, "user_id": 488796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bec8145ec10828cf4988b6b2005bafa?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lewerin", "link": "https://stackoverflow.com/users/488796/peter-lewerin"}, "reply_to_user": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "edited": false, "score": 1, "creation_date": 1474566526, "post_id": 39592046, "comment_id": 66594753, "body": "@Nishant: sorry, I have to draw the line somewhere. I kept working on this answer even though according to Stackoverflow guidelines I shouldn&#39;t have, and right now I fear that I will have to keep working on it for some time (have you noticed how many times you have used the word &quot;last&quot; in these comments?). You really need to read the guidelines for asking questions and think about your own responsibilities in finding a solution. With the information you have been given here, you should have no problem solving this &quot;last&quot; hurdle yourself."}], "tags": [], "owner": {"reputation": 12685, "user_id": 488796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bec8145ec10828cf4988b6b2005bafa?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lewerin", "link": "https://stackoverflow.com/users/488796/peter-lewerin"}, "is_accepted": true, "score": 1, "last_activity_date": 1474445582, "last_edit_date": 1474445582, "creation_date": 1474368239, "answer_id": 39592046, "question_id": 39589830, "link": "https://stackoverflow.com/questions/39589830/script-to-find-particular-value-from-one-file-and-replace-it-in-another-file/39592046#39592046", "title": "Script to find particular value from one file and replace it in another file", "body": "<p>(Tcl solution) You might try something like this, if I understand your specification correctly:</p>\n\n<pre><code>proc // args {\n    global step data\n    set args [lassign $args _ kword]\n    set val [lindex $args end]\n    switch -- $kword {\n        step {\n            set step $val \n        }\n        MK {\n            dict set data $step MK $val\n        }\n    }\n}\n\nproc make_XYZ {in out data} {\n    while {[gets $in line] &gt;= 0} {\n        if {[regexp {^\\s*X_step_(\\d+)} $line -&gt; n] &amp;&amp; [dict exists $data $n MK]} {\n            regsub {\\(.*\\)} $line ([dict get $data $n MK]) line\n        }\n        puts $out $line\n    }\n}\n\nrename unknown _unknown\nproc unknown args {}\nset data {}\nsource ABC\nrename unknown {}\nrename _unknown unknown\nfile rename -force XYZ XYZ.bak\nset f1 [open XYZ.bak r]\nset f2 [open XYZ w]\nmake_XYZ $f1 $f2 $data\nclose $f1\nclose $f2\n</code></pre>\n\n<p>Documentation:\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/expr.htm\" rel=\"nofollow\" title=\"logical AND operator\">&amp;&amp; (operator)</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/close.htm\" rel=\"nofollow\" title=\"Close an open channel\">close</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/dict.htm\" rel=\"nofollow\" title=\"Manipulate dictionaries\">dict</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/file.htm\" rel=\"nofollow\" title=\"Manipulate file names and attributes\">file</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/gets.htm\" rel=\"nofollow\" title=\"Read a line from a channel\">gets</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/global.htm\" rel=\"nofollow\" title=\"Access global variables\">global</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/if.htm\" rel=\"nofollow\" title=\"Execute scripts conditionally\">if</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/lassign.htm\" rel=\"nofollow\" title=\"Assign list elements to variables\">lassign</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/lindex.htm\" rel=\"nofollow\" title=\"Retrieve an element from a list\">lindex</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/open.htm\" rel=\"nofollow\" title=\"Open a file-based or command pipeline channel\">open</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/proc.htm\" rel=\"nofollow\" title=\"Create a Tcl procedure\">proc</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/puts.htm\" rel=\"nofollow\" title=\"Write to a channel\">puts</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/regexp.htm\" rel=\"nofollow\" title=\"Match a regular expression against a string\">regexp</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/regsub.htm\" rel=\"nofollow\" title=\"Perform substitutions based on regular expression pattern matching\">regsub</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/rename.htm\" rel=\"nofollow\" title=\"Rename or delete a command\">rename</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/set.htm\" rel=\"nofollow\" title=\"Read and write variables\">set</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/source.htm\" rel=\"nofollow\" title=\"Evaluate a file or resource as a Tcl script\">source</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/switch.htm\" rel=\"nofollow\" title=\"Evaluate one of several scripts, depending on a given value\">switch</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/unknown.htm\" rel=\"nofollow\" title=\"Handle attempts to use non-existent commands\">unknown</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/while.htm\" rel=\"nofollow\" title=\"Execute script repeatedly as long as a condition is met\">while</a></p>\n"}], "owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 1, "accepted_answer_id": 39592046, "answer_count": 1, "score": -5, "last_activity_date": 1535550797, "creation_date": 1474362021, "last_edit_date": 1535550797, "question_id": 39589830, "link": "https://stackoverflow.com/questions/39589830/script-to-find-particular-value-from-one-file-and-replace-it-in-another-file", "title": "Script to find particular value from one file and replace it in another file", "body": "<p>I have two data files, <em>ABC</em> and <em>XYZ</em>:</p>\n\n<p>Partial contents of ABC:</p>\n\n<pre><code>cancsi(64): 10-s01: (c) Copyright 1995-2014 \ncancsi&gt; source ncancsi\ncancsi&gt;  set dump_shm  on\non\n\n*Ve3* Loading libsscore.so\n*Ve3* : Parallel Dumping.\n\n// X_deb:  step # : 9  \n// X_deb:  in  : 4'b0000  \n// X_deb: out : 4'b1110  \n// X_deb: load (4 , 4'b1010) ; \n// X_deb: MK : 4'b1111  \n\n// X_deb:  step # : 10  \n// X_deb:  in  : 4'b0100  \n// X_deb: out : 4'b1001  \n// X_deb: load (4 , 4'b1100) ;\n\n// X_deb:  step # : 11  \n// X_deb:  in  : 4'b0001  \n// X_deb: out : 4'b1100  \n// X_deb: load (4 , 4'b1011) ;  \n// X_deb: MK : 4'b1110  \n</code></pre>\n\n<p>Contents of file XYZ:    </p>\n\n<pre><code>    This is output file..\n    Run 5\n    \"Random text\"\n    X_step_9 4 4'b1010 ( 4'b1110)   \n    X_step_10 4 4'b1100 (4'b1001)   \n    X_step_11 4'b1011 (4'b1100)   \n</code></pre>\n\n<hr>\n\n<p>Expected output of XYZ: </p>\n\n<pre><code>   This is output file..\n    Run 5\n    \"Random text\"\n    X_step_9 4 4'b1010 ( 4'bxxx0)   \n    X_step_10 4 4'b1100 (4'b1001)   \n    X_step_11 4'b1011 (4'bxxx0)   \n</code></pre>\n\n<hr>\n\n<p>Expected Format syntax of file <em>XYZ</em>:<br>\n    X_step_#  (Extract value of \"out\" but if <em>MK</em> is present for the step then wherever bit \"1\" is there for that \"MK\" value, script should replace the same bit of \"out\" with \"x\" and replace it and wherever \"0\" is there for \"MK\" value \"out\" should remain same).</p>\n\n<p>The script I was using was having some issues, it was unable to <em>grep</em> an <em>MK</em> value for the step and put it in <em>XYZ</em> file, instead of that the script was putting \"out\" value for all the steps.\nUnfortunately I deleted that script. \nNOTE: in <em>ABC</em> file, not all steps have an <em>MK</em> value.  (In the above example only step 9 and 11 have an <em>MK</em> value). </p>\n\n<p>Now I need to create one generic script (in any language) for all the steps (there are many steps, not only 9,10,11) which can do the following things:</p>\n\n<ul>\n<li>it will <code>grep</code> <em>MK</em> value for particular step from <em>ABC</em> file.</li>\n<li>after that it will <code>grep</code> for that step in <em>XYZ</em> file (X_step_#) and if <em>MK</em> is present for the step then wherever bit \"1\" is there for that \"MK\" value, script should replace the same bit of \"out\" with \"x\" and replace it and wherever \"0\" is there for \"MK\" value \"out\" should remain same.</li>\n</ul>\n\n<p>For example: Script will find <em>MK</em> value for step 9 from <em>ABC</em> and then it will search for X_step_9 in <em>XYZ</em> file and then it will find place of  all <em>1's</em> bits from <em>MK</em> value and then it will replace \"out\" value with <em>\"x\"</em> whenever *1's\" bit are present in <em>MK</em> value, if <em>0's</em> are there then it will not make any change for that place in \"out\" value. \nEx:  </p>\n\n<p>Input:  </p>\n\n<pre><code>// X_deb:  step # : 11  \n// X_deb:  in  : 4'b0001  \n// X_deb: out : **4'b1100**  \n// X_deb: load (4 , 4'b1011) ;  \n// X_deb: MK : 4'b1110 \n</code></pre>\n\n<p>Output:  </p>\n\n<pre><code>X_step_11 4'b1011 (4'bxxx0)    \n</code></pre>\n\n<p>- It will replace bits of \"out\" with x's wherever \"1\" is present in the same place for <em>MK</em>. </p>\n"}, {"tags": ["perl", "file"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1474360368, "post_id": 39588736, "comment_id": 66487764, "body": "1) Your code as it stands cannot compile. It is important that you show the <i>actual</i> code that gives you trouble. 2) Here&#39;s one way.  Open two files, one to read your input the other to write the output. As you go through input lines write them to output. When you get to <code>hidestart</code> set a flag. Keep going. If you get to brace unset the flag. When you get to <code>hideend</code> if flag is true don&#39;t write it to the output file. When you get to the closing brace write <code>hideend</code> and the brace. Unset the flag. Keep going to the end. The output file is your result (save for some detail I may have forgotten)."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 3093942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cce7b8407785661b85a2195a7538575?s=128&d=identicon&r=PG&f=1", "display_name": "user3093942", "link": "https://stackoverflow.com/users/3093942/user3093942"}, "edited": false, "score": 0, "creation_date": 1474359897, "post_id": 39588916, "comment_id": 66487463, "body": "Thanks ssr1010. This code actually not working on my actual file. My txt file also have  double quotes in the string after rule. Here, is the sample snippet  of input file                                                                                      rule &quot;abc&quot; { hidestart    Keep Learning hideend    -abc [ time=good] }  Please let me know if there any questions.  Regards, Divesh"}, {"owner": {"reputation": 23, "user_id": 3093942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cce7b8407785661b85a2195a7538575?s=128&d=identicon&r=PG&f=1", "display_name": "user3093942", "link": "https://stackoverflow.com/users/3093942/user3093942"}, "edited": false, "score": 0, "creation_date": 1474361967, "post_id": 39588916, "comment_id": 66488671, "body": "Still not working on actual case  Here is some more details about the actual file content   Rule \u201cabc\u201d { hidestart     dp a.E_t_C1 temp \u2013be_good NL LP -expr &quot;  (cnt(a.E_t_C1) &gt; 0) ?   expr(- (minus (pt(a.E_t_C1,ab)) / at(temp)*fr/pr_1))   :   1    &quot; &lt; 0 &gt; 1 hideend   \u2026..     -CDE [ ABC_TYPE = \u201ctemp_EOL\u201d]     -CDE [ TMP_RUL = \u201ca.E\u201d ]  .. .. .. -comment &quot;keepTrying&quot; }"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474362069, "post_id": 39588916, "comment_id": 66488739, "body": "Expecting people to read code samples in a comment is a terrible idea. Far better to add the details to your original question and add a comment directing us to look there."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1474362455, "post_id": 39588916, "comment_id": 66488992, "body": "<code>qw&#47;((?:[^{}]*(?:{(?:[^{}]*(?:{(?:[^{}]*(?:{[^{}]*})*[^{}]*)*&zwnj;&#8203;})*[^{}]*)*})*[^{}]*&zwnj;&#8203;)*)&#47;</code> - Any code that contained that without a comment wouldn&#39;t get past any code review I was running! Also, did you mean <code>qr&#47;...&#47;</code> instead of <code>qw&#47;...&#47;</code>?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 23, "user_id": 3093942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cce7b8407785661b85a2195a7538575?s=128&d=identicon&r=PG&f=1", "display_name": "user3093942", "link": "https://stackoverflow.com/users/3093942/user3093942"}, "edited": false, "score": 0, "creation_date": 1474370326, "post_id": 39588916, "comment_id": 66494103, "body": "@user3093942: Better you should ask your question properly may be sometimes providing answer will based on your question only."}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1474361411, "last_edit_date": 1474361411, "creation_date": 1474359233, "answer_id": 39588916, "question_id": 39588736, "link": "https://stackoverflow.com/questions/39588736/need-to-move-pattern-in-a-file-to-different-location-in-the-same-file-using-perl/39588916#39588916", "title": "Need to move pattern in a file to different location in the same file using perl?", "body": "<p>Please try this:  </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict();\nuse warnings();\nuse Data::Dumper;\nmy $ruleData=0;\nmy $goldenData = $ARGV[0];\nopen(IN, \"&lt;$goldenData\") or die \"cannot open $!\";\nlocal $/; $_=&lt;IN&gt;; my $tmp=$_;\nclose(IN);\n\nmy $CurBrLoopMany = qw/((?:[^{}]*(?:{(?:[^{}]*(?:{(?:[^{}]*(?:{[^{}]*})*[^{}]*)*})*[^{}]*)*})*[^{}]*)*)/;\n\nmy ($_pre,$_match,$_post) = \"\";\nwhile($tmp=~m/rule([\\\"A-z\\s]*)\\{$CurBrLoopMany\\}/gis)\n{\n    $_pre = $_pre.$`; $_match = $&amp;; $_post = $';\n    $_match=~s/\\s*hideend//g;\n    $_match=~s/\\}/ hideend \\n}/i;\n    $_pre = $_pre.$_match; $tmp = $_post;\n}\nif(length $_pre) {  $tmp = $_pre.$_post;  }\n\nprint $tmp;\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 3093942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cce7b8407785661b85a2195a7538575?s=128&d=identicon&r=PG&f=1", "display_name": "user3093942", "link": "https://stackoverflow.com/users/3093942/user3093942"}, "edited": false, "score": 0, "creation_date": 1474363795, "post_id": 39589794, "comment_id": 66489903, "body": "Thanks Dave. Unfortunately, your code is also not working. I&#39;ve updated the sample of my input file in first posting. Please try that sample file."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1474363120, "last_edit_date": 1474363120, "creation_date": 1474361953, "answer_id": 39589794, "question_id": 39588736, "link": "https://stackoverflow.com/questions/39588736/need-to-move-pattern-in-a-file-to-different-location-in-the-same-file-using-perl/39589794#39589794", "title": "Need to move pattern in a file to different location in the same file using perl?", "body": "<p>This works on your sample file. And, hopefully, the comments make it clear what's going on so that you can fix any problems that you find.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy ($found_hidestart, $found_hideend);\n\nwhile (&lt;&gt;) {\n  # Only process within a rule block\n  if (/^rule\\s+\\S+\\s+{/i .. /^}/) {\n    # If we find 'hidestart' remember that\n    if (/\\bhidestart\\b/) {\n      $found_hidestart = 1;\n    }\n\n    # If we find 'hideend' (and have already found 'hidestart')\n    # remember that and don't print this line.\n    if (/\\bhideend\\b/ &amp;&amp; $found_hidestart) {\n      $found_hideend = 1;\n      next; # skip printing\n    }\n\n    # If we're at the end of a block and we've previously found\n    # both 'hidestart' and 'hideend', then print 'hideend'.\n    if (/^}/) {\n      print \"  hideend\\n\" if $found_hidestart and $found_hideend;\n      # Forget what we've previously found\n      $found_hidestart = $found_hideend = 0;\n    }\n  }\n  print;\n}\n</code></pre>\n\n<p>It's written as a Unix filter - so it reads from STDIN and writes to STDOUT. That's so much more flexible than opening explicit filenames. Assuming this is in a file called <code>reformat</code>, you would call it like this:</p>\n\n<pre><code>$ ./reformat &lt; your_existing_file &gt; your_new_file\n</code></pre>\n\n<p><strong>Update:</strong> I've updated the regex slightly so it deals with your expanded example.</p>\n"}], "owner": {"reputation": 23, "user_id": 3093942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cce7b8407785661b85a2195a7538575?s=128&d=identicon&r=PG&f=1", "display_name": "user3093942", "link": "https://stackoverflow.com/users/3093942/user3093942"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1474363120, "creation_date": 1474358562, "last_edit_date": 1474362487, "question_id": 39588736, "link": "https://stackoverflow.com/questions/39588736/need-to-move-pattern-in-a-file-to-different-location-in-the-same-file-using-perl", "title": "Need to move pattern in a file to different location in the same file using perl?", "body": "<p>My input file has format like</p>\n\n<pre><code>hidestart \nmachine learning\nhideend\n\nrule abc {\n  hidestart\n   Keep Learning\n  hideend\n   -abc [ time=good] \n}\n\nrule abc1 {\n   Keep Learning\n\n   -abc1 [ time1=fail] \n}\n\n\nRule \u201cabc\u201d { \n   hidestart \n    dp a.E_t_C1 temp \u2013be_good NL LP -expr \" (cnt(a.E_t_C1) &gt; 0) ? expr(- (minus (pt(a.E_t_C1,ab)) / at(temp)*fr/pr_1)) : 1 \" &lt; 0 &gt; 1 \n   hideend \n   \u2026.. \n   -CDE [ ABC_TYPE = \u201ctemp_EOL\u201d] \n   -CDE [ TMP_RUL = \u201ca.E\u201d ] \n   .. .. .. \n   -comment \"keepTrying\" \n}\n</code></pre>\n\n<p>And I wish to move hideend which lies inside the rule block to the end and just before curly braces. This hideend should be inserted/moved only if the rule block has hidestart command. Also, hidestart/hidened which lies outside of this rule block should be kept intact. </p>\n\n<p>Expected Output:</p>\n\n<pre><code>hidestart \nmachine learning\nhideend\n\nrule abc {\n  hidestart\n   Keep Learning\n   -abc [ time=good] \n  hideend\n}\nrule abc1 {\n   Keep Learning\n\n   -abc1 [ time1=fail] \n}\n\nRule \u201cabc\u201d { \n   hidestart \n    dp a.E_t_C1 temp \u2013be_good NL LP -expr \" (cnt(a.E_t_C1) &gt; 0) ? expr(- (minus (pt(a.E_t_C1,ab)) / at(temp)*fr/pr_1)) : 1 \" &lt; 0 &gt; 1 \n\n   \u2026.. \n   -CDE [ ABC_TYPE = \u201ctemp_EOL\u201d] \n   -CDE [ TMP_RUL = \u201ca.E\u201d ] \n   .. .. .. \n   -comment \"keepTrying\" \n  hideend\n}\n</code></pre>\n\n<p>My current code, is actually removing hideend which lies outside of the block and also adding hideend to the rule block where I don\u2019t have hidestart. Please help me fixing below code</p>\n\n<pre><code>!/usr/bin/env perl\nuse strict();\nuse warnings();\nuse Data::Dumper;\nmy $ruleData=0;\nmy $goldenData = $ARGV[0];\nopen( $fopen, \"&lt; $goldenData\") or die \"cannot open $!\";\nwhile(&lt;$fopen&gt;) {\n if ( $_ =~ /^\\s*rule(.+)/gi ) {\n   print \"rule$1\\n\";\n   while($tmp=&lt;$fopen&gt; ) {\n     if ( $tmp =~ /^\\s*hideend/gi ) { next; }\n     if ( $tmp =~ /^\\s*\\}/gi ) {\n        print \"hideend\\n$1\\}\\n\";\n     } else {\n         print \"$tmp\";\n     }\n   }\n  close($tmp);\n } else {\n    print \"$_\";\n }\n}\nclose($fopen);\n</code></pre>\n\n<p>Let me know if there any questions.</p>\n\n<p>Thanks in advance.</p>\n\n<p>Regards,\nDivesh</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 1, "creation_date": 1474356780, "post_id": 39588099, "comment_id": 66485682, "body": "The &quot;<code>%</code> symbol&quot; in Perl is a hash. Google &quot;perl hash&quot;."}, {"owner": {"reputation": 497, "user_id": 668247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9753585e9c97a4009c17adffe41f9f47?s=128&d=identicon&r=PG", "display_name": "vikin9", "link": "https://stackoverflow.com/users/668247/vikin9"}, "edited": false, "score": 0, "creation_date": 1474360444, "post_id": 39588099, "comment_id": 66487813, "body": "Have a good read about hashes here: <a href=\"http://modernperlbooks.com/books/modern_perl_2016/03-perl-language.html#SGFzaGVz\" rel=\"nofollow noreferrer\">modernperlbooks.com/books/modern_perl_2016/&hellip;</a>"}, {"owner": {"reputation": 85, "user_id": 3610533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f99c6ed7c63e92b6915f18e88c86af64?s=128&d=identicon&r=PG&f=1", "display_name": "RandyWong", "link": "https://stackoverflow.com/users/3610533/randywong"}, "edited": false, "score": 0, "creation_date": 1474444025, "post_id": 39588099, "comment_id": 66528445, "body": "How to extract the hash if I declared it as variable .I tried hard code it manage to print it but it seems that it does not work that way when I assign it as variable .I post my code above ."}], "owner": {"reputation": 85, "user_id": 3610533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f99c6ed7c63e92b6915f18e88c86af64?s=128&d=identicon&r=PG&f=1", "display_name": "RandyWong", "link": "https://stackoverflow.com/users/3610533/randywong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1474443904, "creation_date": 1474356354, "last_edit_date": 1474443904, "question_id": 39588099, "link": "https://stackoverflow.com/questions/39588099/assign-value-using-symbol-in-if-match-is-found-perl", "title": "Assign value using % symbol in if match is found Perl", "body": "<p>I would like to understand the following code of how it actually works.I got a text file for example as below which shows the owner of the folder.If Folder A exits it will says that it belongs to Father.</p>\n\n<pre><code>Folder A=Father\nFolder B=Mother\nFolder C=Son\n</code></pre>\n\n<p>code:</p>\n\n<pre><code>my %family= ();\n$member{\"Folder A\"} = \"Father\";\n$member{\"Folder B\"} = \"Mother\";\n$member{\"Folder C\"} = \"Son\";\n</code></pre>\n\n<p>I receive advice from my friend saying that the code above will help me to assign the equal value to $member if the ${} is found which I don't quite get logic of how it works and how it assign.</p>\n\n<p>I have other ways to perform the logic above is that I <code>ls</code> the outer folder assign to an array then cat the text file assign to an array as well .Then use two for loop and a pattern matching to get the value if the folder exits.But I wanted to know how the above code works as well.Can someone provide example code of how the logic above works and what is the term use for this method called? </p>\n\n<hr>\n\n<p>I made some research and do some of the code but there are some issues in the code where i cannot get the hash information when I assign variable to extract.</p>\n\n<pre><code>%family;\n@family_list = `cat /data/admin/family/Family_name.txt`;\n@FOLDER=`cd /data/admin/family/;ls -d */ | cut -f1 -d'/'`;\nforeach $item(@family_list)\n{\n   @temp = split ( /=/, $item);\n   $family{$temp[0]}=$temp[1];\n}\n\nforeach $item(@FOLDER)\n{\n   print \"$item\";\n   $member=$family{$item};\n   print \"$member\";\n}\n</code></pre>\n\n<p>The <code>foreach $item loop</code> part it seems like the <code>$member</code> was not assign with any output from the <code>%family</code>.I tried to hard code and it displayed the family member for example <code>$member=$family{\"Folder A\"}</code> which in result print father.Can someone point out my mistake that I performed ?I check the web and their example are mostly hard coded .</p>\n"}, {"tags": ["list", "perl", "set"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1474345677, "post_id": 39585661, "comment_id": 66481056, "body": "smartmatch <code>~~</code> but it is experimental."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1474345799, "post_id": 39585661, "comment_id": 66481097, "body": "Is there a way to use an anonymous array or do you have to do what I did in my answer?"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1474354160, "post_id": 39585661, "comment_id": 66484214, "body": "@CJ7: Unrelated but I have noticed that most of the questions you have asked are in open state. Kindly accept the answers for those questions to close them (given that you are satisfied with the answer). Thanks. Also see: <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a>"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1474358069, "post_id": 39585661, "comment_id": 66486374, "body": "I&#39;ve closed this as a dupe. See Ether&#39;s <a href=\"http://stackoverflow.com/a/2925834/133939\">comprehensive answer</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "edited": false, "score": 1, "creation_date": 1474352568, "post_id": 39585691, "comment_id": 66483473, "body": "<code>print &quot;Yes&quot; if &#39;A&#39; ~~ [&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;];</code> works too, but using smartmatch is probably not the best idea."}], "tags": [], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "is_accepted": false, "score": 0, "last_activity_date": 1474345756, "creation_date": 1474345756, "answer_id": 39585691, "question_id": 39585661, "link": "https://stackoverflow.com/questions/39585661/how-to-check-whether-variable-is-in-list/39585691#39585691", "title": "How to check whether variable is in list?", "body": "<pre><code>$str = \"A\";\n@arr = ('A','B','C','D');\nprint \"Yes\" if $str ~~ @arr;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474346845, "post_id": 39585810, "comment_id": 66481372, "body": "I am using perl v5.16.3 and I don&#39;t get any warnings."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474346873, "post_id": 39585810, "comment_id": 66481379, "body": "Because it&#39;s deprecated in 5.18+ versions."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1474382669, "post_id": 39585810, "comment_id": 66502861, "body": "List::Util::first and List::Util::any both stop iterating as soon as they find a match, so I&#39;m not sure why you offer <code>first</code> as an alternative. <code>first</code> also requires you to check for undef if any list elements can be falsy: <code>say &quot;match&quot; if defined first { ... } @array</code> vs. simply <code>say &quot;match&quot; if any { ... } @array</code>"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 8, "last_activity_date": 1474382176, "last_edit_date": 1474382176, "creation_date": 1474346517, "answer_id": 39585810, "question_id": 39585661, "link": "https://stackoverflow.com/questions/39585661/how-to-check-whether-variable-is-in-list/39585810#39585810", "title": "How to check whether variable is in list?", "body": "<p>Smart matching is <a href=\"http://perldoc.perl.org/perl5180delta.html#The-smartmatch-family-of-features-are-now-experimental\" rel=\"nofollow\">experimental</a> and will change or go away in a future release. You will get warnings for the same in Perl 5.18+ versions. Below are the alternatives:</p>\n\n<p><strong>Using grep</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $str = \"A\";\nprint \"Yes\" if grep {$_ eq 'A'} qw(A B C D);\n</code></pre>\n\n<p><strong>Using any</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse List::Util qw(any);\nprint any { $_ eq 'A' } qw(A B C D);\n</code></pre>\n\n<p><strong>Using hash</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy @array = qw(A B C D);\nmy %hash = map { $_ =&gt; 1 } @array;\nforeach my $search (qw(A)) #enter list items to be searched here\n{\n   print exists $hash{$search};\n}\n</code></pre>\n\n<p>Also see:</p>\n\n<ul>\n<li><a href=\"https://metacpan.org/pod/match::smart\" rel=\"nofollow\"><strong>match::smart</strong></a> - provides a match operator |M| that acts like more or less identically to the (as of Perl 5.18) experimental smart match operator.</li>\n<li><a href=\"https://metacpan.org/pod/Syntax::Feature::Junction\" rel=\"nofollow\"><strong>Syntax::Feature::Junction</strong></a> - provides keywords for any, all, none, or one</li>\n<li>You may also use <a href=\"http://perldoc.perl.org/List/Util.html#first\" rel=\"nofollow\"><strong>List::Util::first</strong></a> which is faster as it stops iterating when it finds a match.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "is_accepted": false, "score": 2, "last_activity_date": 1474353747, "last_edit_date": 1474353747, "creation_date": 1474350383, "answer_id": 39586548, "question_id": 39585661, "link": "https://stackoverflow.com/questions/39585661/how-to-check-whether-variable-is-in-list/39586548#39586548", "title": "How to check whether variable is in list?", "body": "<p>You can transform your array to a hash. Then you can efficiently (in constant time, or <em>O</em>(1)) check if your string was in the original array. Here are two different approaches on how to look for the string <code>'C'</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy %hash1 = map {$_ =&gt; 0} qw/A B C D/;\nprint 'Yes' if exists $hash1{'C'};\n</code></pre>\n\n<hr>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy %hash2;\n@hash2{qw/A B C D/} = ();\nprint 'Yes' if exists $hash2{'C'};\n</code></pre>\n\n<p>But of course like always in Perl, TIMTOWTDI.</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "closed_date": 1474358028, "answer_count": 3, "score": 3, "last_activity_date": 1474382176, "creation_date": 1474345549, "question_id": 39585661, "link": "https://stackoverflow.com/questions/39585661/how-to-check-whether-variable-is-in-list", "closed_reason": "Duplicate", "title": "How to check whether variable is in list?", "body": "<p>Is there way to do something like this in <code>perl</code>?</p>\n\n<pre><code>$str = \"A\"\nprint \"Yes\" if $str in ('A','B','C','D');\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474321280, "post_id": 39582356, "comment_id": 66474930, "body": "<code>$child_error</code> is probably <code>-1</code> from using <code>waitpid</code> outside of the signal handler. (<code>-1 &amp; 0x7F == 0x7F == 127</code>). Closing the handle also calls <code>waitpid</code>. You have a mess. Pick where you want to call waitpid, and eliminate the other two."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474321284, "post_id": 39582356, "comment_id": 66474934, "body": "Speaking of messes, those <code>$SIG{xxx} = &quot;IGNORE&quot;;</code> all over the place! wow. Why?!?!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474321289, "post_id": 39582356, "comment_id": 66474937, "body": "Note: Generally speaking, you need to have a loop in the SIGCHLD handler because multiple children might have died."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474321326, "post_id": 39582356, "comment_id": 66474956, "body": "@ikegami Thanks for the comment! Regarding the loop in SIGCHLD: I was considering that, but since I only consider a single child I thought it was not necessary"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474321391, "post_id": 39582356, "comment_id": 66474989, "body": "Like I said, &quot;generally speaking&quot;. Here, like you said, there&#39;s no problem."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474321546, "post_id": 39582356, "comment_id": 66475055, "body": "@ikegami I tried to expain the reason for why I disable the other handlers ( <code>$SIG{XXX}=&quot;IGNORE&quot;</code> ) in Question 1."}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1474355308, "post_id": 39584834, "comment_id": 66484874, "body": "Thanks for the cleanup, this looks good! I see that removing <code>waitpid</code> from inside the child signal handler seems to work, but according to <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">perlvar</a>: <i>&quot;If you have installed a signal handler for SIGCHLD , the value of $? will usually be wrong outside that handler.&quot;</i>. So how to interpret this statement from the documentation?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1474376381, "post_id": 39584834, "comment_id": 66498230, "body": "That means $? might not be correct if you set it in the handler but check it outside the handler. But in this case, you call waitpid outside the handler, so of course you can check $? there."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474380556, "post_id": 39584834, "comment_id": 66501317, "body": "@zdim <i>&quot;When I swap them it behaves much better.&quot;</i> I am not sure I understand. What do you mean by <i>swap</i> here?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1474385181, "post_id": 39584834, "comment_id": 66504490, "body": "@ikegami <i>&quot;The signal handling is still quite messy&quot;</i>: Agree on that :)  Any suggestions for improvements? The problem by removing the <code>$SIG{CHLD}=&quot;DEFAULT&quot;</code> from the <code>SIGINT</code> handler (for example) is that the death of the child can arrive as a new signal when the parent is doing cleanup outside the eval loop. This will terminate the parent before it has finished the cleanup. Alternativly, the parent could add a new eval block around the cleanup code, but I think that would be even more messy.."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1474389593, "post_id": 39584834, "comment_id": 66507356, "body": "<code>local</code> handlers within the <code>eval</code>? Set a flag instead of dying?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1474531972, "post_id": 39584834, "comment_id": 66571842, "body": "@H&#229;konH&#230;gland  I apologize for my uninformed comments on handlers involving other signals -- you nicely talk about it, what I failed to see. I do think that it needlessly over-complicates things but the comments were out of place since that is indeed intentional. I removed them.  Sorry about that."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474537924, "post_id": 39584834, "comment_id": 66575619, "body": "@zdim Thanks for the comment. No problem! I think now that maybe local handlers within the eval is the way to go here, as suggested by ikegami. Then the handler will automatically receive the values I have set in the scope outside the <code>eval</code> prior to entering the <code>eval</code>, or default values ( $SIG{INT}=&quot;DEFAULT&quot;, and so on ) if no such values have been set for the signal handlers outside the scope. For my case, I could use default values of <code>$SIG{INT}=&quot;IGNORE&quot;</code> and <code>$SIG{CHLD}=&quot;IGNORE&quot;</code> outside the eval."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1474537930, "post_id": 39584834, "comment_id": 66575623, "body": "See also <a href=\"http://stackoverflow.com/q/8389400/2173773\">What&#39;s the difference between various $SIG{CHLD} values?</a> for more information."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1474555814, "last_edit_date": 1495535651, "creation_date": 1474338681, "answer_id": 39584834, "question_id": 39582356, "link": "https://stackoverflow.com/questions/39582356/handle-combination-of-signals-and-child-exit-values-for-simple-parent-child-ipc/39584834#39584834", "title": "Handle combination of signals and child exit values for simple parent-child IPC?", "body": "<p>You set the children to be <a href=\"https://stackoverflow.com/q/8389400/2173773\">automatically reaped</a> (<code>$SIG{CHLD} = \"IGNORE\";</code>), then you called <code>waitpid</code> not once but twice more!</p>\n\n<p>The subsequent calls to <code>waitpid</code> set <code>$?</code> to <code>-1</code> (signaling an error, but that you misinterpret as \"killed by signal\"), and <code>$!</code> to <code>No child processes</code>.</p>\n\n<p>Fixes:</p>\n\n<pre><code>$ diff -u ./parent.pl{~,}\n--- ./parent.pl~        2016-09-19 19:28:39.778244653 -0700\n+++ ./parent.pl 2016-09-19 19:28:10.698227008 -0700\n@@ -7,16 +7,12 @@\n my $child_pid = open ( my $fh, '-|', 'child.pl' ) or die \"Could not start child: $!\";\n\n $SIG{INT} = sub {\n-    $SIG{CHLD}=\"IGNORE\";\n+    $SIG{CHLD}=\"DEFAULT\";\n     die \"Caught SIGINT\"\n };\n\n-my $child_error;\n-\n $SIG{CHLD} = sub {\n     $SIG{INT}=\"IGNORE\";\n-    waitpid $child_pid, 0;\n-    $child_error = $?;\n     die \"Caught SIGCHLD: Child exited..\"\n };\n\n@@ -44,29 +40,19 @@\n     msg( \"interrupted: '$@'\" );\n }\n\n-my $close_ok = close $fh; # close() will implicitly call waitpid()\n-if ( !$close_ok ) {\n-    msg( \"Closing child pipe failed: $!\" );\n-    if ( !defined $child_error ) {\n-        waitpid $child_pid, 0;\n-    }\n-}\n-if ( !defined $child_error ) {\n-    $child_error = $?;\n-}\n-my $child_signal = $child_error &amp; 0x7F;\n-if ( $child_signal ) {\n-    msg( \"Child died from signal: $child_signal\" );\n-}\n-else {\n-    msg( \"Child exited with return value: \" . ($child_error &gt;&gt; 8) );\n-}\n+close $fh; # close() will implicitly call waitpid()\n+\n+if    ( $? == -1  ) { msg( \"Closing child pipe failed: $!\" ); }\n+elsif ( $? &amp; 0x7F ) { msg( \"Child died from signal \".( $? &amp; 0x7F ) ); }\n+elsif ( $? &gt;&gt; 8   ) { msg( \"Child exited with error \".( $? &gt;&gt; 8 ) ); }\n+else                { msg( \"Child executed successfully\" ); }\n+\n exit;\n\n sub msg { say \"Parent: \" . $_[0]  }\n\n sub internal_failure {\n-    $SIG{CHLD}=\"IGNORE\";\n+    $SIG{CHLD}=\"DEFAULT\";\n     $SIG{INT}=\"IGNORE\";\n     die \"internal failure\";\n }\n</code></pre>\n\n<p>Fixed <code>parent.pl</code>:</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse feature qw(say);\nuse strict;\nuse warnings;\n\nmy $child_pid = open ( my $fh, '-|', 'child.pl' ) or die \"Could not start child: $!\";\n\n$SIG{INT} = sub {\n    $SIG{CHLD}=\"DEFAULT\";\n    die \"Caught SIGINT\"\n};\n\n$SIG{CHLD} = sub {\n    $SIG{INT}=\"IGNORE\";\n    die \"Caught SIGCHLD: Child exited..\"\n};\n\neval {\n    while (1) {\n        msg( \"sleeping(1)..\" );\n        sleep 1;\n        #internal_failure();\n        msg( \"waiting for child input..\" );\n        my $line = &lt;$fh&gt;;\n        if ( defined $line ) {\n            chomp $line;\n            msg( \"got line: '$line'\" );\n        }\n        else {\n            die \"Could not read child pipe.\";\n        }\n        msg( \"sleeping(2)..\" );\n        sleep 2;\n    }\n};\n\nif ( $@ ) {\n    chomp $@;\n    msg( \"interrupted: '$@'\" );\n}\n\nclose $fh; # close() will implicitly call waitpid()\n\nif    ( $? == -1  ) { msg( \"Closing child pipe failed: $!\" ); }\nelsif ( $? &amp; 0x7F ) { msg( \"Child died from signal \".( $? &amp; 0x7F ) ); }\nelsif ( $? &gt;&gt; 8   ) { msg( \"Child exited with error \".( $? &gt;&gt; 8 ) ); }\nelse                { msg( \"Child executed successfully\" ); }\n\nexit;\n\nsub msg { say \"Parent: \" . $_[0]  }\n\nsub internal_failure {\n    $SIG{CHLD}=\"DEFAULT\";\n    $SIG{INT}=\"IGNORE\";\n    die \"internal failure\";\n}\n</code></pre>\n\n<p>The signal handling is still quite messy, but I wanted to avoid changing code unrelated to the fix.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 493, "favorite_count": 2, "accepted_answer_id": 39584834, "answer_count": 1, "score": 3, "last_activity_date": 1474555814, "creation_date": 1474320272, "last_edit_date": 1474322145, "question_id": 39582356, "link": "https://stackoverflow.com/questions/39582356/handle-combination-of-signals-and-child-exit-values-for-simple-parent-child-ipc", "title": "Handle combination of signals and child exit values for simple parent-child IPC?", "body": "<p>I am trying to figure out the correct way to handle a simple case of parent-child interprocess communication (IPC). The child sends messages to the parent through the child's <code>STDOUT</code> handle. The parent does not send any messages to the child (except for <code>SIGPIPE</code> if it dies). In addition both child and parent need to handle a <code>SIGINT</code> signal from the user at the terminal. The main difficulty for the parent process is to correctly pick up the child's exit status when the child dies from <code>SIGINT</code> or <code>SIGPIPE</code>.</p>\n\n<p><strong>parent.pl</strong>:</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse feature qw(say);\nuse strict;\nuse warnings;\n\nmy $child_pid = open ( my $fh, '-|', 'child.pl' ) or die \"Could not start child: $!\";\n\n$SIG{INT} = sub {\n    $SIG{CHLD}=\"IGNORE\";\n    die \"Caught SIGINT\"\n};\n\nmy $child_error;\n\n$SIG{CHLD} = sub {\n    $SIG{INT}=\"IGNORE\";\n    waitpid $child_pid, 0;\n    $child_error = $?;\n    die \"Caught SIGCHLD: Child exited..\"\n};\n\neval {\n    while (1) {\n        msg( \"sleeping(1)..\" );\n        sleep 1;\n        #internal_failure();\n        msg( \"waiting for child input..\" );\n        my $line = &lt;$fh&gt;;\n        if ( defined $line ) {\n            chomp $line;\n            msg( \"got line: '$line'\" );\n        }\n        else {\n            die \"Could not read child pipe.\";\n        }\n        msg( \"sleeping(2)..\" );\n        sleep 2;\n    }\n};\n\nif ( $@ ) {\n    chomp $@;\n    msg( \"interrupted: '$@'\" );\n}\n\nmy $close_ok = close $fh; # close() will implicitly call waitpid()\nif ( !$close_ok ) {\n    msg( \"Closing child pipe failed: $!\" );\n    if ( !defined $child_error ) {\n        waitpid $child_pid, 0;\n    }\n}\nif ( !defined $child_error ) {\n    $child_error = $?;\n}\nmy $child_signal = $child_error &amp; 0x7F;\nif ( $child_signal ) {\n    msg( \"Child died from signal: $child_signal\" );\n}\nelse {\n    msg( \"Child exited with return value: \" . ($child_error &gt;&gt; 8) );\n}\nexit;\n\nsub msg { say \"Parent: \" . $_[0]  }\n\nsub internal_failure {\n    $SIG{CHLD}=\"IGNORE\";\n    $SIG{INT}=\"IGNORE\";\n    die \"internal failure\";\n}\n</code></pre>\n\n<p><strong>child.pl</strong>:</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse feature qw(say);\nuse strict;\nuse warnings;\n\n$SIG{PIPE} = sub {\n    $SIG{INT}=\"IGNORE\";\n    die \"Caught SIGPIPE: Parent died.\";\n};\n\n$SIG{INT} = sub {\n    $SIG{PIPE}=\"IGNORE\";\n    die \"Caught SIGINT\\n\";  # For some reason a newline is needed here !?\n};\n\n#local $SIG{INT} = \"IGNORE\";\n\nSTDOUT-&gt;autoflush(1); # make parent see my messages immediately\nmsg( \"running..\" );\neval {\n    sleep 2;\n    say \"Hello\"; # should trigger SIGPIPE signal if parent is dead\n    sleep 1;\n};\nif ( $@ ) {\n    chomp $@;\n    msg( \"interrupted: '$@'\" );\n    exit 2;\n}\n\nmsg( \"exits\" );\nexit 1;\n</code></pre>\n\n<p>Normal output from running <code>parent.pl</code> from command line would be:</p>\n\n<pre><code>Parent: sleeping(1)..\nChild: running..\nParent: waiting for child input..\nParent: got line: 'Hello'\nParent: sleeping(2)..\nChild: exits\nParent: interrupted: 'Caught SIGCHLD: Child exited.. at ./parent.pl line 20, &lt;$fh&gt; line 1.'\nParent: Closing child pipe failed: No child processes\nParent: Child exited with return value: 1\n</code></pre>\n\n<p><strong>Question 1: Signal handlers</strong></p>\n\n<p>Is it correct to disable the other signals in a given signal handler? \nFor example in the parent's <code>SIGINT</code> handler I have</p>\n\n<pre><code>$SIG{CHLD}=\"IGNORE\";\n</code></pre>\n\n<p>to avoid also receiving the <code>SIGCHLD</code> at later point. For example, if I did not disable the child signal, it could arrive in the cleanup part (after the <code>eval</code> block) in the parent, and make the parent die before it has finished its cleanup.</p>\n\n<p><strong>Question 2: Handling SIGINT</strong></p>\n\n<p>If I press <code>CTRL-C</code> after starting the parent, the output typically looks like:</p>\n\n<pre><code>Parent: sleeping(1)..\nChild: running..\nParent: waiting for child input..\n^CChild: interrupted: 'Caught SIGINT'\nParent: interrupted: 'Caught SIGINT at ./parent.pl line 11.'\nParent: Closing child pipe failed: No child processes\nParent: Child died from signal: 127\n</code></pre>\n\n<p>The problem here is the exit status of the child. It should be 2, but instead it is killed by signal 127. What is the meaning of signal 127 here?</p>\n\n<p><strong>Question 3: Parent dies from internal failure</strong></p>\n\n<p>If I uncomment the line</p>\n\n<pre><code>#internal_failure();\n</code></pre>\n\n<p>in <code>parent.pl</code>, the output is:</p>\n\n<pre><code>Parent: sleeping(1)..\nChild: running..\nParent: interrupted: 'internal failure at ./parent.pl line 71.'\nChild: interrupted: 'Caught SIGPIPE: Parent died. at ./child.pl line 9.'\nParent: Closing child pipe failed: No child processes\nParent: Child died from signal: 127\n</code></pre>\n\n<p>This seems to work well except for the exit status from the child process. It should be 2, instead it is killed by signal 127.</p>\n"}, {"tags": ["regex", "perl", "filepath"], "comments": [{"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1474317573, "post_id": 39581677, "comment_id": 66473429, "body": "What did you try? How did you extract the ID? With a regex? Without it?"}, {"owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "edited": false, "score": 0, "creation_date": 1474317680, "post_id": 39581677, "comment_id": 66473477, "body": "depends on your id. Is it all numerical digits? Always followed by underscore?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474317690, "post_id": 39581677, "comment_id": 66473482, "body": "For one thing, there are tools for parsing paths -- see <a href=\"http://stackoverflow.com/questions/39461658/search-for-specific-lines-from-a-file/39462392#39462392\"><code>this recent post</code></a>, for example.  As for the regex learning, yes I&#39;d suggest to get going with that. It&#39;s a tool you use daily once you know even just some basics."}, {"owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "edited": false, "score": 0, "creation_date": 1474317768, "post_id": 39581677, "comment_id": 66473519, "body": "You could try an online regex parser to build it as you go <a href=\"http://www.regexplanet.com/advanced/perl/index.html\" rel=\"nofollow noreferrer\">regexplanet.com/advanced/perl/index.html</a>"}, {"owner": {"reputation": 2119, "user_id": 3196458, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005547696898/picture?type=large", "display_name": "blackpen", "link": "https://stackoverflow.com/users/3196458/blackpen"}, "edited": false, "score": 0, "creation_date": 1474318275, "post_id": 39581677, "comment_id": 66473713, "body": "If you want to do it in bash using sed, ... <b>echo &quot;/my/local/projects/Samplename/analysis/test/output/tool1/11&zwnj;&#8203;894373690_cast/A1/A1&zwnj;&#8203;a/&quot; | sed -e &#39;s|^.*/&#40;[0-9][0-9]*&#41;_cast/.*$|\\1|&#39;</b>"}, {"owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "reply_to_user": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1474339005, "post_id": 39581677, "comment_id": 66479522, "body": "@yonyon100 I am not able to get the id, sorry I misspelled &quot;not&quot; with now in the question earlier and this changes the question!"}], "answers": [{"comments": [{"owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "edited": false, "score": 0, "creation_date": 1474340047, "post_id": 39581749, "comment_id": 66479773, "body": "Or just <code>\\d+(?=_cast)</code> and the entire match is the id"}], "tags": [], "owner": {"reputation": 433, "user_id": 2595594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdba690aa3f69ecb6f664e61d2605b7d?s=128&d=identicon&r=PG", "display_name": "Leonardo Xavier", "link": "https://stackoverflow.com/users/2595594/leonardo-xavier"}, "is_accepted": false, "score": 1, "last_activity_date": 1474371691, "last_edit_date": 1474371691, "creation_date": 1474317687, "answer_id": 39581749, "question_id": 39581677, "link": "https://stackoverflow.com/questions/39581677/extract-the-id-from-long-file-path-regex-perl/39581749#39581749", "title": "Extract the id from long file path ( regex) perl", "body": "<p>What so you need to be fixed? and what will be dynamic? for this url, supposing that the posfix will aways be _cast you can use the expression:</p>\n\n<pre><code>(\\d+)_cast\n</code></pre>\n\n<p>so the ID will be in the first selection group</p>\n"}, {"tags": [], "owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "is_accepted": false, "score": 0, "last_activity_date": 1474341564, "creation_date": 1474341564, "answer_id": 39585196, "question_id": 39581677, "link": "https://stackoverflow.com/questions/39581677/extract-the-id-from-long-file-path-regex-perl/39585196#39585196", "title": "Extract the id from long file path ( regex) perl", "body": "<p>I did find a way to get the id - it may not be efficient but works for now \nI did </p>\n\n<pre><code>my $dir_path = \"/my/local/projects/Samplename/analysis/test/output/tool1/11894373690_cast/A1/A1a/ \";\nmy @keys =(split(/[\\/_]+/,$dir_path));\nprint \"Key is $keys3[9]\\n\";\n</code></pre>\n\n<p>it prints out 11894373690\nThanks all for the suggestions! </p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1583809534, "last_edit_date": 1583809534, "creation_date": 1474394092, "answer_id": 39600731, "question_id": 39581677, "link": "https://stackoverflow.com/questions/39581677/extract-the-id-from-long-file-path-regex-perl/39600731#39600731", "title": "Extract the id from long file path ( regex) perl", "body": "<p>A simple regex or split are fine, but there are multiple core packages for working with paths.</p>\n\n<p>This uses <a href=\"http://perldoc.perl.org/File/Spec.html\" rel=\"nofollow noreferrer\">File::Spec</a> to split the path and to later join the new one. Note that there is no escaping or such, no <code>/</code> counting -- in fact no need to even mention the separator.</p>\n\n<pre><code>use warnings 'all';\nuse strict;\n\nuse File::Spec::Functions qw(splitdir catdir);\n\nmy $path_orig = '...';\n\nmy @path = splitdir $path_orig;\n\nmy ($mark, $dir);\nforeach my $i (0..$#path) \n{ \n    if ($path[$i] =~ m/(\\d+)_cast/) \n    {\n        $dir = $1;\n        $mark = $i;\n        last;\n    }\n}\n\nmy $path_new = catdir @path[0..$mark-1], $dir . '_NEW';\n</code></pre>\n\n<p>You can manipulate the <code>@path</code> array in other ways, of course -- peel components off of the back of it (<code>pop @path while $path[-1] !~ /.../</code>), or iterate and copy into a new array, etc.  </p>\n\n<p>The code above is simple and doesn't need extra data copy nor multiple regex matches.</p>\n\n<hr>\n\n<p>Apparently the old and new path have another difference (<code>tool1</code> vs <code>tool2</code>), please adjust.  The main point is that once the path is split it is simple to go through the array.</p>\n\n<p>As for a simple regex to fetch the id</p>\n\n<pre><code>my ($id) = $path =~ m{/(\\d+)_cast/};\n</code></pre>\n\n<p>If <code>\\d+_cast</code> is <em>certain</em> to be un-ambiguous (only one dir with that in its name) drop the <code>/</code> above.</p>\n"}], "owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 39600731, "answer_count": 3, "score": 2, "last_activity_date": 1583809602, "creation_date": 1474317328, "last_edit_date": 1583809602, "question_id": 39581677, "link": "https://stackoverflow.com/questions/39581677/extract-the-id-from-long-file-path-regex-perl", "title": "Extract the id from long file path ( regex) perl", "body": "<p>I am trying to extract an id ( here eg 11894373690) from a file path that i read int my perl script - </p>\n\n<pre><code>/my/local/projects/Samplename/analysis/test/output/tool1/11894373690_cast/A1/A1a/ \n</code></pre>\n\n<p>and I will further use it create a new path like </p>\n\n<pre><code>/my/local/projects/Samplename/analysis/test/output/tool2/11894373690_NEW/\n</code></pre>\n\n<p>I am not able to extract just the id from the path, can anyone please suggest an easy method in perl. I should definitely start learning regular expressions! \nThanks. \nI am able to get only the last directory name </p>\n\n<pre><code>$file = \"/my/local/projects/Samplename/analysis/test/output/tool1/11894373690_cast/A1/A1a/ \";\n\nmy ($id) = $file =~ /\\.(A1[^]+)/i;\n</code></pre>\n\n<p>Update - Sorry all I misspelled \"not\" as \"now\" earlier! I am not able to extract the id. Thanks!</p>\n"}, {"tags": ["perl", "concurrency", "cgi"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1474315996, "post_id": 39579846, "comment_id": 66472663, "body": "Yes. One workaround is to write to a unique file in each script, say <code>myfile.$$.txt</code> where <code>$$</code> -- in Perl and in sh -- is replaced by the current process id."}], "answers": [{"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 1, "last_activity_date": 1474310023, "creation_date": 1474310023, "answer_id": 39579888, "question_id": 39579846, "link": "https://stackoverflow.com/questions/39579846/how-does-system-command-behave-under-perl-and-cgi/39579888#39579888", "title": "How does system command behave under Perl and CGI", "body": "<p>With conventional CGI, your two requests will be run in two different processes. Neither will block the other. If you are unlucky (or have enough traffic), race conditions might garble the contents of <code>myfile.txt</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "edited": false, "score": 0, "creation_date": 1474310804, "post_id": 39579910, "comment_id": 66470013, "body": "This is legacy and seems to appear to be running valid. The only method to block is flock; there would be no configuration setting on apache that could limit number of instances? It would/could be rare occurrence?"}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "reply_to_user": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "edited": false, "score": 0, "creation_date": 1474311416, "post_id": 39579910, "comment_id": 66470319, "body": "@paulj There may very well be an apache setting that makes apache run a single instance of the CGI script, but I don&#39;t think this is a good idea. The solution where you handle the blocking yourself offers better granularity. You could also use <code>flock</code> within bash, e.g. <code>system (&quot;flock &#47;path&#47;to&#47;lockfile echo mystuff &gt; myfile.txt&quot;)</code> but the perl solution would have better performance."}], "tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": true, "score": 2, "last_activity_date": 1598210990, "last_edit_date": 1598210990, "creation_date": 1474310107, "answer_id": 39579910, "question_id": 39579846, "link": "https://stackoverflow.com/questions/39579846/how-does-system-command-behave-under-perl-and-cgi/39579910#39579910", "title": "How does system command behave under Perl and CGI", "body": "<p>If the script is executed twice in parallel, then both instance of it will call the <code>system</code> command and it is possible that the output of the <code>echo</code> will get garbled. This happen under CGI or if you run the script directly in the command line. If you don't like that, you can use something like <a href=\"http://perldoc.perl.org/functions/flock.html\" rel=\"nofollow noreferrer\">flock</a> to ensure that only one process is ran at a time, although you should be very careful if you do that.</p>\n"}], "owner": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 39579910, "answer_count": 2, "score": 1, "last_activity_date": 1598210990, "creation_date": 1474309834, "question_id": 39579846, "link": "https://stackoverflow.com/questions/39579846/how-does-system-command-behave-under-perl-and-cgi", "title": "How does system command behave under Perl and CGI", "body": "<p>I have a Perl script under cgi with the following:</p>\n\n<pre><code>system (\"echo mystuff &gt; myfile.txt\")\n</code></pre>\n\n<p>If I hit this with two requests simultaneously, do both requests try to write to myfile, or does it block since system causes a fork and pauses parent process until child finishes?</p>\n"}, {"tags": ["perl", "wxwidgets", "point", "object-reference"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1474303169, "post_id": 39577670, "comment_id": 66465990, "body": "This is just a guess, but does this work: <code>my $p = $f-&gt;GetPosition(); $p-&gt;x(); $p-&gt;y();</code>"}, {"owner": {"reputation": 39, "user_id": 5746693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/680ab802ec6d9482bdedf19e17826b19?s=128&d=identicon&r=PG&f=1", "display_name": "stepan", "link": "https://stackoverflow.com/users/5746693/stepan"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1474305001, "post_id": 39577670, "comment_id": 66467030, "body": "Exactly! Thank you"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1474306400, "post_id": 39577670, "comment_id": 66467755, "body": "I&#39;ve made it an answer now that you&#39;ve confirmed it working."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474320437, "post_id": 39578936, "comment_id": 66474602, "body": "<code>wxPoint</code> isn&#39;t a Perl class"}], "tags": [], "owner": {"reputation": 39, "user_id": 5746693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/680ab802ec6d9482bdedf19e17826b19?s=128&d=identicon&r=PG&f=1", "display_name": "stepan", "link": "https://stackoverflow.com/users/5746693/stepan"}, "is_accepted": false, "score": -1, "last_activity_date": 1474306374, "creation_date": 1474306374, "answer_id": 39578936, "question_id": 39577670, "link": "https://stackoverflow.com/questions/39577670/wxperl-getting-coordinates-from-wxpoint-object/39578936#39578936", "title": "WxPerl, getting coordinates from wxPoint object", "body": "<p>Solution is use (<code>$p</code> is instance of <code>wxPoint</code>):</p>\n\n<pre><code>my $p = $f-&gt;GetPosition(); \n$p-&gt;x(); $p-&gt;y()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474308059, "post_id": 39578938, "comment_id": 66468607, "body": "An explanation would be nice"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 0, "last_activity_date": 1474306382, "creation_date": 1474306382, "answer_id": 39578938, "question_id": 39577670, "link": "https://stackoverflow.com/questions/39577670/wxperl-getting-coordinates-from-wxpoint-object/39578938#39578938", "title": "WxPerl, getting coordinates from wxPoint object", "body": "<p>The following should do what you're looking for:</p>\n\n<pre><code>my $point = $frame-&gt;GetPosition;\n\nmy $x = $point-&gt;x;\nmy $y = $point-&gt;y;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1474307991, "last_edit_date": 1474307991, "creation_date": 1474307329, "answer_id": 39579197, "question_id": 39577670, "link": "https://stackoverflow.com/questions/39577670/wxperl-getting-coordinates-from-wxpoint-object/39579197#39579197", "title": "WxPerl, getting coordinates from wxPoint object", "body": "<p>wxPerl and its documentation are a bit of a hackathon. For instance, many packages are defined only in the XS components of the library so it's pretty much impossible to debug. (That's why your <code>Wx::Point</code> object is a scalar reference; the scalar value is just a handle on the object's data.)</p>\n\n<p>I have hunted and failed to find a chunk of documentation that I remember from somewhere that explains that WxPerl accesses both attributes and methods in the same way, by a Perl method call</p>\n\n<p>If you look at the <a href=\"http://docs.wxwidgets.org/trunk/classwx_point.html\" rel=\"nofollow\"><code>wxPoint</code> Class Reference</a> you will see that there are three constructors: one with no parameters that returns a point at [0,0], one that takes x and y coordinates, and a copy constructor that accepts an existing <code>wxPoint</code> object and uses its coordinates. The last of these doesn't work in wxPerl. There are many similar oddities that you must discover for yourself, because the documentation is appalling</p>\n\n<p>Likewise the various \"operators\" are irrelevant to wxPerl. They could work if the operator were overloaded, but wxPerl is built for speed so this was discarded</p>\n\n<p>As other have described, the two attributes <code>x</code> and <code>y</code> must be accessed as method calls. (The same applies to attributes of all other classes in wxPerl.)</p>\n\n<p>So you can write</p>\n\n<pre><code>my $x = $p-&gt;x;\nmy $y = $p-&gt;y;\n</code></pre>\n\n<p>Or, if you want to get funky</p>\n\n<pre><code>my ($x, $y) = map { $p-&gt;$_ } qw/ x y /;\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5746693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/680ab802ec6d9482bdedf19e17826b19?s=128&d=identicon&r=PG&f=1", "display_name": "stepan", "link": "https://stackoverflow.com/users/5746693/stepan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 39578938, "answer_count": 3, "score": 0, "last_activity_date": 1474307991, "creation_date": 1474301884, "question_id": 39577670, "link": "https://stackoverflow.com/questions/39577670/wxperl-getting-coordinates-from-wxpoint-object", "title": "WxPerl, getting coordinates from wxPoint object", "body": "<p>I want solve this problem. </p>\n\n<ol>\n<li>get position from specific frame (<a href=\"http://docs.wxwidgets.org/trunk/classwx_frame.html\" rel=\"nofollow\">wxFrame</a>) (function GetPosition() return <a href=\"http://docs.wxwidgets.org/trunk/classwx_point.html\" rel=\"nofollow\">WxPoint</a>)</li>\n<li>Serialize position (x, y) to file </li>\n<li>set position from file to another window</li>\n</ol>\n\n<p>Everythink is ok, except getting coordinates x and y from <a href=\"http://docs.wxwidgets.org/trunk/classwx_point.html\" rel=\"nofollow\">WxPoint</a> object.\nI don't know, how can I acces properties \"x\", \"y\" of this object. e.g wxPython allows this by \"<code>somepoint.x</code>\", but WxPerl?  <code>somepoint-&gt;{\"x\"}</code> doesn't work, because object is SCALAR reference..</p>\n\n<p>Thank you</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1474297633, "post_id": 39576301, "comment_id": 66462584, "body": "Are you talking about Perl 6 or Perl 5? Perl 5 doesn&#39;t have adverbs."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1474297766, "post_id": 39576301, "comment_id": 66462693, "body": "Pedantically, there are no colons in your regex. The regex is the bit between the colons - <code>&#47;copy&#47;(\\d+)</code>. The colons are the delimiter for the match operator (<code>m&#47;...&#47;</code>) which is here being spelt as <code>m:..:</code> to avoid having to escape the <code>&#47;</code> characters in the regex."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474301755, "post_id": 39576301, "comment_id": 66465181, "body": "<i>&quot; I know they&#39;re used to delimit adverbs&quot;</i> Do you mean in written English, or are you getting confused with Perl 6? Perl 5 has nothing called <i>adverbs</i>."}], "answers": [{"comments": [{"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "edited": false, "score": 0, "creation_date": 1474297664, "post_id": 39576376, "comment_id": 66462613, "body": "Note that using <code>|</code> (or any other metacharacter for that matter) as the delimiter is <i>not</i> the best idea ;-)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1474303142, "post_id": 39576376, "comment_id": 66465969, "body": "Fwiw - the conundrum of using metacharacter as delimiter is only seen when the body of the expression is trying to match it as a literal.The engine expects the escaped metacharacter and the parser expects an escaped delimiter (too). Raw <code>(?:A|B)\\|</code> delimited <code>m|(?:A\\|B)\\||</code> then <code>(?:A|B)|</code> is sent to engine. Or, if delimited <code>m|(?:A\\|B)\\\\||</code> then there will be a parsing error because m<code>|(?:A\\|B)\\\\|</code>| is only delimited, leaving a trailing <code>|</code>. Better to choose a non-metachar, or one that is not a contextual one like <code>{}{}</code>"}], "tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": false, "score": 10, "last_activity_date": 1474297409, "creation_date": 1474297409, "answer_id": 39576376, "question_id": 39576301, "link": "https://stackoverflow.com/questions/39576301/what-does-it-mean-when-a-regex-is-delimited-by-colons/39576376#39576376", "title": "What does it mean when a regex is delimited by colons?", "body": "<p>The <code>m</code> operator in perl is used to test a string against a regular expression. You typically use it like that:</p>\n\n<pre><code>\"string\" =~ m/regex/\n</code></pre>\n\n<p>If you want, you can change the quoting character (<code>/</code> in the above example). So the above example can be equivalently written as any of the following:</p>\n\n<pre><code>\"string\" =~ m(regex)\n\"string\" =~ m[regex]\n\"string\" =~ m{regex}\n\"string\" =~ m|regex|\n\"string\" =~ m:regex:\n</code></pre>\n\n<p>Note that if you use <code>/</code>, then you can omit the <code>m</code>, as in</p>\n\n<pre><code>\"string\" =~ /regex/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "is_accepted": true, "score": 6, "last_activity_date": 1475070689, "last_edit_date": 1475070689, "creation_date": 1474297454, "answer_id": 39576392, "question_id": 39576301, "link": "https://stackoverflow.com/questions/39576301/what-does-it-mean-when-a-regex-is-delimited-by-colons/39576392#39576392", "title": "What does it mean when a regex is delimited by colons?", "body": "<p>After the <code>m</code>, any character can act as the delimiter, so the colons are replacing the standard <code>/</code>s and lets them become a normal character. </p>\n\n<p>From <a href=\"http://perldoc.perl.org/perlrequick.html\" rel=\"nofollow\">perlrequick</a>:</p>\n\n<blockquote>\n  <p>the // default delimiters for a match can be changed to arbitrary delimiters by putting an 'm' out front</p>\n</blockquote>\n"}], "owner": {"reputation": 2785, "user_id": 1057849, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yB8Qu.jpg?s=128&g=1", "display_name": "Josh Greifer", "link": "https://stackoverflow.com/users/1057849/josh-greifer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 39576392, "answer_count": 2, "score": 2, "last_activity_date": 1475070689, "creation_date": 1474297203, "last_edit_date": 1474480610, "question_id": 39576301, "link": "https://stackoverflow.com/questions/39576301/what-does-it-mean-when-a-regex-is-delimited-by-colons", "title": "What does it mean when a regex is delimited by colons?", "body": "<p>What function do the colons serve in this Perl regex that I found in some production code?</p>\n\n<pre><code>if ($r-&gt;uri =~ m:/copy/(\\d+):) {\n    my $ref = $1;\n</code></pre>\n\n<p>The code is parsing a URI and the second line uses the captured group.</p>\n"}, {"tags": ["perl", "recursion", "while-loop"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1474288721, "post_id": 39572871, "comment_id": 66456430, "body": "Why do you call <code>printDir</code> once with an ampersand and parentheses and once with neither of these? Using the ampersand is never required and can have some side effects that you don&#39;t want. Just use parentheses and forget about the ampersand."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 8, "last_activity_date": 1474287318, "creation_date": 1474287318, "answer_id": 39572948, "question_id": 39572871, "link": "https://stackoverflow.com/questions/39572871/fail-to-recursive-by-perl-while/39572948#39572948", "title": "fail to recursive by Perl while", "body": "<p>Your directory handle is global. </p>\n\n<pre><code>opendir DIR, $root or die \"can't open dir $root\\n\";\n</code></pre>\n\n<p>It gets overwritten every time you call the sub. Once one invocation is done and returns to the last scope, <code>DIR</code> still points to that last directory, which was already read to the end, so it will not read anything else and stop completely as soon as the innermost directory is done reading.</p>\n\n<p>You need to use lexical directory handles instead.</p>\n\n<pre><code>opendir my $dh, $root or die \"can't open dir $root\\n\";\nwhile (my $dir = readdir $dh)\n{\n    ...\n}\n</code></pre>\n\n<p>Also see the example <a href=\"http://perldoc.perl.org/functions/readdir.html\">at <code>readdir</code> in perldoc</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": false, "score": 6, "last_activity_date": 1474287342, "creation_date": 1474287342, "answer_id": 39572958, "question_id": 39572871, "link": "https://stackoverflow.com/questions/39572871/fail-to-recursive-by-perl-while/39572958#39572958", "title": "fail to recursive by Perl while", "body": "<p>The problem is in the following line:</p>\n\n<pre><code>opendir DIR, $root or die \"can't open dir $root\\n\";\n</code></pre>\n\n<p>You are using the same symbol (i.e. <code>DIR</code>) for all directory handles created by all the recursive calls. You need to ensure that each call gets its own directory handle. So you change the above line to:</p>\n\n<pre><code>opendir my $dirh, $root or die \"can't open dir $root\\n\";\n</code></pre>\n\n<p>Then you should also adjust the <code>while</code> test condition to</p>\n\n<pre><code>while ($dir = readdir $dirh)\n</code></pre>\n\n<p>In general, in modern perl you should always use lexical variables for file/directory handles (e.g. <code>open my $handle,'&lt;','somefile'</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 7, "last_activity_date": 1474288599, "last_edit_date": 1474288599, "creation_date": 1474288038, "answer_id": 39573170, "question_id": 39572871, "link": "https://stackoverflow.com/questions/39572871/fail-to-recursive-by-perl-while/39573170#39573170", "title": "fail to recursive by Perl while", "body": "<p>This is what <a href=\"https://metacpan.org/pod/File::Find\">File::Find</a> is for.</p>\n\n<pre><code>use File::Find;\nuse feature 'say';\n\nmy $root = $ARGV[0];\n\nfind(\\&amp;wanted, $root);\n\nsub wanted {\n  say $File::Find::name if -d;\n}\n</code></pre>\n"}], "owner": {"reputation": 851, "user_id": 1070525, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d6e829a8be1b08fcef0cab71466d5b0f?s=128&d=identicon&r=PG", "display_name": "password636", "link": "https://stackoverflow.com/users/1070525/password636"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 1, "accepted_answer_id": 39572948, "answer_count": 3, "score": 1, "last_activity_date": 1474288599, "creation_date": 1474287092, "question_id": 39572871, "link": "https://stackoverflow.com/questions/39572871/fail-to-recursive-by-perl-while", "title": "fail to recursive by Perl while", "body": "<p>I'm trying to write a function recursively searching for all the directories under a given directory. </p>\n\n<pre><code>use strict;\nuse warnings;\n\n\n\nsub printDir\n{\n        my $root = shift;\n\n        opendir DIR, $root or die \"can't open dir $root\\n\";\n        my $dir;\n        while ($dir = readdir DIR)\n        {\n\n                if (-d \"$root/$dir\" &amp;&amp; \"$dir\" ne '.' &amp;&amp; \"$dir\" ne '..')\n                {\n                        print \"$dir\\n\";\n                        &amp;printDir (\"$root/$dir\");\n                }\n        }\n\n}\n\n\nmy $root = $ARGV[0];\nprintDir $root;\n</code></pre>\n\n<p>If the directory hierarchy is like:</p>\n\n<pre><code>  A\n / \\\nB   C\n|\nD\n</code></pre>\n\n<p>The code stops after searching for A-B-D and C will not be searched. What's wrong with the code? </p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "perl", "shell", "python-2.4"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1474285159, "post_id": 39572195, "comment_id": 66454112, "body": "What did you try?"}, {"owner": {"reputation": 11, "user_id": 6139416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3412d8b754a21e98fdddd0ae89fd0f2?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh nair", "link": "https://stackoverflow.com/users/6139416/rakesh-nair"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1474285751, "post_id": 39572195, "comment_id": 66454427, "body": "I tried using sed and perl command perl -0pe &#39;/if [ &quot;${SVR_GRP}&quot; = &quot;obi&quot; ] ; then\\nEXTRA_JAVA_PROPERTIES=&quot;-DUseSunHttpHandler=true ${EXTRA_JAVA_PROPERTIES}&quot;/#if [ &quot;${SVR_GRP}&quot; = &quot;obi&quot; ] ; then\\nEXTRA_JAVA_PROPERTIES=&quot;-DUseSunHttpHandler=true ${EXTRA_JAVA_PROPERTIES}&quot; but it didn&#39;t work"}, {"owner": {"reputation": 11, "user_id": 6139416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3412d8b754a21e98fdddd0ae89fd0f2?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh nair", "link": "https://stackoverflow.com/users/6139416/rakesh-nair"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1474285849, "post_id": 39572195, "comment_id": 66454492, "body": "I have option where I can read entire file in python and write content into new file and replace the content based of next text found . But feel there can better solution to this."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1474286500, "post_id": 39572195, "comment_id": 66454941, "body": "Please edit your question and add the code that you have tried. Reading it in a comment is almost impossible."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1474287936, "post_id": 39572195, "comment_id": 66455889, "body": "@DaveCross you might want to include the <code>[edit]</code> shortcut for new users to help them find how to <a href=\"https://stackoverflow.com/posts/39572195/edit\">edit</a>. ;)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1474288131, "post_id": 39572195, "comment_id": 66456024, "body": "I&#39;ve always assumed that the edit like was pretty clearly labelled :-) But, yes, I&#39;ll add it in the future."}, {"owner": {"reputation": 11, "user_id": 6139416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3412d8b754a21e98fdddd0ae89fd0f2?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh nair", "link": "https://stackoverflow.com/users/6139416/rakesh-nair"}, "edited": false, "score": 0, "creation_date": 1474289411, "post_id": 39572195, "comment_id": 66456919, "body": "perl -0pe &#39;/if [ &quot;${SVR_GRP}&quot; = &quot;obi&quot; ] ; then\\nEXTRA_JAVA_PROPERTIES=&quot;-DUseSunHttpHandler=true ${EXTRA_JAVA_PROPERTIES}&quot; /#if [ &quot;${SVR_GRP}&quot; = &quot;obi&quot; ] ; then\\nEXTRA_JAVA_PROPERTIES=&quot;-DUseSunHttpHandler=true ${EXTRA_JAVA_PROPERTIES}&quot;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1474290594, "post_id": 39572195, "comment_id": 66457762, "body": "@Rakeshnair: Given that we&#39;ve told you not to put your code in a comment, why would you do it again?"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1474291625, "creation_date": 1474291625, "answer_id": 39574395, "question_id": 39572195, "link": "https://stackoverflow.com/questions/39572195/how-to-replace-code-block-in-a-source-file-using-shell-script-or-python-or-perl/39574395#39574395", "title": "How to replace code block in a source file using shell script or python or perl", "body": "<blockquote>\n  <p>I want comment out condition based on second line text value</p>\n</blockquote>\n\n<p>I'm afraid this is a very unclear specification. Please try harder to explain what needs to happen to your text.</p>\n\n<p>This Perl code transforms your sample input into your sample output, but given the vagueness of your question it's impossible to know if it's making the right transformations for the right reasons.</p>\n\n<p>It's a Unix filter (it reads from STDIN and writes to STDOUT).</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nlocal $/ = ''; # Paragraph mode\n\nmy %seen;\n\nwhile (&lt;&gt;) {\n  my $first_line = (split /\\n/)[0];\n  if ($seen{$first_line}++) {\n    s/^if\\b/#if/m;\n    s/^fi\\b/#fi/m;\n  }\n\n  print;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6139416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3412d8b754a21e98fdddd0ae89fd0f2?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh nair", "link": "https://stackoverflow.com/users/6139416/rakesh-nair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 232, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1474298451, "creation_date": 1474284830, "last_edit_date": 1474298451, "question_id": 39572195, "link": "https://stackoverflow.com/questions/39572195/how-to-replace-code-block-in-a-source-file-using-shell-script-or-python-or-perl", "title": "How to replace code block in a source file using shell script or python or perl", "body": "<p>In my source file there are multiple if clause with same check . I want to make one of the conditional block executed all the time by commenting out conditional statement which is based on text defined after if statement. </p>\n\n<pre><code>if [ \"${SVR_GRP}\" = \"obi\" ] ; then\n  EXTRA_JAVA_PROPERTIES=\"-Doracle.fusion.appsMode=true ${EXTRA_JAVA_PROPERTIES}\"\n  export EXTRA_JAVA_PROPERTIES\nfi\n\nif [ \"${SVR_GRP}\" = \"obi\" ] ; then\n   EXTRA_JAVA_PROPERTIES=\"-DUseSunHttpHandler=true ${EXTRA_JAVA_PROPERTIES}\"\n   export EXTRA_JAVA_PROPERTIES\nfi\n</code></pre>\n\n<p>replace with </p>\n\n<pre><code>if [ \"${SVR_GRP}\" = \"obi\" ] ; then\n   EXTRA_JAVA_PROPERTIES=\"Doracle.fusion.appsMode=true ${EXTRA_JAVA_PROPERTIES}\"\n   export EXTRA_JAVA_PROPERTIES\nfi\n\n#if [ \"${SVR_GRP}\" = \"obi\" ] ; then\n    EXTRA_JAVA_PROPERTIES=\"-DUseSunHttpHandler=true ${EXTRA_JAVA_PROPERTIES}\"\n    export EXTRA_JAVA_PROPERTIES\n#fi \n</code></pre>\n\n<p>Can you please suggest me how can  I do this using perl/python or shell script?</p>\n\n<p>I tried perl command that doesn't work for me,</p>\n\n<pre><code>perl -0pe '/if [ \"${SVR_GRP}\" = \"obi\" ] ; then\\nEXTRA_JAVA_PROPERTIES=\"-DUseSunHttpHandler=true ${EXTRA_JAVA_PROPERTIES}\"/#if [ \"${SVR_GRP}\" = \"obi\" ] ; then\\nEXTRA_JAVA_PROPERTIES=\"-DUseSunHttpHandler=true ${EXTRA_JAVA_PROPERTIES}\"\n</code></pre>\n\n<p>Python program which works as expected but considered it as work around, feel there can be better solution. I am not good at shell script and perl.</p>\n\n<pre><code>file_loc = 'D:/official/workspace/pythontest/test/oops/test.sh'\nnew_file_loc = 'D:/official/workspace/pythontest/test/oops/test1.sh'\n\n\ndef modify():\n    file = open(file_loc)\n    file2 = open(new_file_loc, 'w')\n    lines = []\n    count = -1;\n    found = False\n    for line in file:\n        if str(line).strip() == 'if [ \"${SVR_GRP}\" = \"obi\" ] ; then':\n            count = 3;\n            lines.append(line)\n        else:\n            if str(line).strip() == 'EXTRA_JAVA_PROPERTIES=\"-DUseSunHttpHandler=true ${EXTRA_JAVA_PROPERTIES}\"':\n                found = True\n            lines.append(line)\n            count = count - 1;\n        if (count == 0):\n            writeIntoFile(file2, lines, found)\n            found = False\n            count = -1\n            lines = []\n        elif count &lt; 0:\n            lines = []\n            file2.write(line)\n\n\ndef writeIntoFile(file, lines, found):\n    for line in lines:\n        if found == False:\n            file.write(line)\n        elif str(line).strip() == 'if [ \"${SVR_GRP}\" = \"obi\" ] ; then' or str(line).strip() == 'fi':\n            file.write('#' + line);\n        else:\n            file.write(line)\n\n\nmodify()\n</code></pre>\n"}, {"tags": ["perl", "unlink"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 8, "creation_date": 1474282945, "post_id": 39570776, "comment_id": 66452679, "body": "Please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that includes the forking and creating in both the parent and the child process."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 4764142, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8ed4e031865bdef2683cd2a398d2866a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanchita Ghai", "link": "https://stackoverflow.com/users/4764142/sanchita-ghai"}, "edited": false, "score": 0, "creation_date": 1474312443, "post_id": 39577375, "comment_id": 66470830, "body": "Thanks for the help.Also is there any specific difference between creating temporary files by these two methods?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 63, "user_id": 4764142, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8ed4e031865bdef2683cd2a398d2866a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanchita Ghai", "link": "https://stackoverflow.com/users/4764142/sanchita-ghai"}, "edited": false, "score": 0, "creation_date": 1474313305, "post_id": 39577375, "comment_id": 66471321, "body": "That&#39;s the only one"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 63, "user_id": 4764142, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8ed4e031865bdef2683cd2a398d2866a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanchita Ghai", "link": "https://stackoverflow.com/users/4764142/sanchita-ghai"}, "edited": false, "score": 0, "creation_date": 1476447202, "post_id": 39577375, "comment_id": 67361398, "body": "@SanchitaGhai: Kindly consider accepting the answer if it solved your problem. See: <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1474312016, "last_edit_date": 1474312016, "creation_date": 1474300840, "answer_id": 39577375, "question_id": 39570776, "link": "https://stackoverflow.com/questions/39570776/automatically-delete-temporary-files-in-child-process-in-perl/39577375#39577375", "title": "Automatically delete temporary files in child process in perl", "body": "<p>Files created by <code>tempfile</code> are \"automatically removed when the program exits\", not when some subroutine exits.</p>\n\n<p>Note that if the program calls <code>_exit</code> or if it's killed by a signal, the program won't get a chance to delete these files.</p>\n\n<p>If you want the file to be deleted sooner, you'll need to delete it yourself or use <code>File::Temp-&gt;new()</code> instead of <code>tempfile</code>. (Files created by <code>File::Temp-&gt;new()</code> are be deleted when the object is destroyed.)</p>\n"}], "owner": {"reputation": 63, "user_id": 4764142, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8ed4e031865bdef2683cd2a398d2866a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanchita Ghai", "link": "https://stackoverflow.com/users/4764142/sanchita-ghai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1474312016, "creation_date": 1474280473, "last_edit_date": 1474281310, "question_id": 39570776, "link": "https://stackoverflow.com/questions/39570776/automatically-delete-temporary-files-in-child-process-in-perl", "title": "Automatically delete temporary files in child process in perl", "body": "<p>I am forking in a perl script and exiting from parent process after <code>fork()</code>.\nIn child process, then I am creating temporary files by this method in a function</p>\n\n<pre><code>my ( $S_TEMP_FILE,  $stmpfile )  = tempfile( UNLINK =&gt; 1, DIR =&gt; $TMPDIR );\n</code></pre>\n\n<p>Now the issue is that this temporary file is not getting deleted automatically when I am exiting from function. I have created some temporary files before forking too, but they are getting automatically deleted on exit of functions.I have gone through all the links regarding this but i am not able to figure out the reason for this behaviour.</p>\n"}, {"tags": ["perl", "web-services", "soap"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1474280489, "post_id": 39570476, "comment_id": 66451259, "body": "I would compare <code>soap::lite</code> xml envolope and request headers to these generated by <a href=\"https://www.soapui.org/\" rel=\"nofollow noreferrer\">soapui.org</a>"}, {"owner": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1474285054, "post_id": 39570476, "comment_id": 66454052, "body": "They are same. May it related with version of SOAP they use?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1474286042, "post_id": 39570476, "comment_id": 66454629, "body": "No, if headers and envelope are the same."}], "answers": [{"comments": [{"owner": {"reputation": 775, "user_id": 165326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YQleO.png?s=128&g=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/165326/victor"}, "edited": false, "score": 0, "creation_date": 1528130446, "post_id": 39740421, "comment_id": 88379995, "body": "This answer worked for me! The version that works is the one with the &quot;soap:&quot; pretags, instead of &quot;soapenv:&quot;"}], "tags": [], "owner": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "is_accepted": false, "score": 1, "last_activity_date": 1475046701, "creation_date": 1475046701, "answer_id": 39740421, "question_id": 39570476, "link": "https://stackoverflow.com/questions/39570476/perl-webservice-call-soap-version-mismatch/39740421#39740421", "title": "Perl Webservice Call SOAP Version Mismatch", "body": "<p>I used wrong namespace value. When I opened customer's wsdl file with SOAPUI, it offers 2 versions, I used the wrong one</p>\n"}], "owner": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1475046701, "creation_date": 1474279591, "question_id": 39570476, "link": "https://stackoverflow.com/questions/39570476/perl-webservice-call-soap-version-mismatch", "title": "Perl Webservice Call SOAP Version Mismatch", "body": "<p>I am calling customer's web service using Perl programming language and SOAP::Lite module.</p>\n\n<p>Web service call ends with following fault string:</p>\n\n<pre><code>&lt;soap-env:Envelope xmlns:soap-env=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;&lt;soap-env:Header/&gt;&lt;soap-env:Body&gt;&lt;soap-env:Fault&gt;&lt;faultcode&gt;soap-env:VersionMismatch&lt;/faultcode&gt;&lt;faultstring xml:lang=\"en\"&gt;Wrong SOAP Version&lt;/faultstring&gt;&lt;detail/&gt;&lt;/soap-env:Fault&gt;&lt;/soap-env:Body&gt;&lt;/soap-env:Envelope&gt;\n</code></pre>\n\n<p>As seen from message, it indicates to SOAP version. I did not understand if I am using older or higher SOAP version. When I check my SOAP::Lite version, I see \"1.11\"</p>\n\n<p>Customer's web service includes following namespace:</p>\n\n<pre><code>xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\" \n</code></pre>\n\n<p>Because it writes \"2003\", I wonder if I am using higher SOAP version</p>\n"}, {"tags": ["perl", "stdout", "stderr", "io-redirection", "dancer"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474298227, "post_id": 39568819, "comment_id": 66462977, "body": "Do you want to disable all logging, or just the very first message?"}], "answers": [{"comments": [{"owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "edited": false, "score": 0, "creation_date": 1474290779, "post_id": 39569044, "comment_id": 66457883, "body": "I added a global variable <code>$STDERR_COPY</code> and then tried to print to stderr with <code>my $stdErr = select($STDERR_COPY);</code> and then I try to print on the <code>stderr</code> I get <code>Can&#39;t use string (&quot;main::STDERR&quot;) as a symbol ref while &quot;strict refs&quot; </code>"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1474275181, "creation_date": 1474275181, "answer_id": 39569044, "question_id": 39568819, "link": "https://stackoverflow.com/questions/39568819/redirect-and-restore-stderr-in-dancer/39569044#39569044", "title": "Redirect and Restore STDERR in Dancer", "body": "<p>You could use <a href=\"http://perldoc.perl.org/functions/select.html\" rel=\"nofollow\">select</a> before redirecting to save it in a variable</p>\n\n<pre><code>my $oldfh = select(STDERR);\n</code></pre>\n\n<p>and then use it later</p>\n\n<pre><code>select($oldfh);\n</code></pre>\n\n<p>Also check out:</p>\n\n<ul>\n<li><a href=\"https://metacpan.org/pod/Capture::Tiny::Extended\" rel=\"nofollow\">Capture::Tiny::Extended</a></li>\n<li><a href=\"https://perltricks.com/article/45/2013/10/27/How-to-redirect-and-restore-STDOUT/\" rel=\"nofollow\">How to redirect and restore STDOUT/STDERR</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1474299102, "last_edit_date": 1474299102, "creation_date": 1474298661, "answer_id": 39576761, "question_id": 39568819, "link": "https://stackoverflow.com/questions/39568819/redirect-and-restore-stderr-in-dancer/39576761#39576761", "title": "Redirect and Restore STDERR in Dancer", "body": "<p>If you don't want your application to log anything, you can change the logging engine to use <a href=\"https://v1.metacpan.org/pod/distribution/Dancer2/lib/Dancer2/Logger/Null.pm\" rel=\"nofollow\">Dancer2::Logger::Null</a>. You do that by editing your <em>config.yml</em>, or in one of your environments. For example, to turn it off in producion, change <em># appdir/environments/production.yml</em>.</p>\n\n<pre><code>logger: 'null'\n</code></pre>\n\n<p>The default is the logging engine <code>'console'</code>, which prints stuff to your terminal.</p>\n\n<p>There are other Dancer2::Logger:: classes available <a href=\"https://metacpan.org/release/Dancer2\" rel=\"nofollow\">bundled with Dancer2</a> and on CPAN <a href=\"https://metacpan.org/search?q=Dancer2%3A%3ALogger%3A%3A&amp;search_type=modules\" rel=\"nofollow\">in their own distributions</a>. A better solution to just dumping everything into a black hole might be to log to a file instead. Documentation of how to configure it further can be found in <a href=\"https://metacpan.org/pod/Dancer2::Core::Role::Logger\" rel=\"nofollow\">Dancer2::Core::Role::Logger</a>.</p>\n\n<p>Also note that instead of printing to <code>STDERR</code> in your code, you should use the logging keywords with the appropriate log level.</p>\n\n<pre><code>print STDERR \"\\n\\n[PWD] : $pwd\\n\"; # this line is not being printed\n</code></pre>\n\n<p>This is not a good idea, because you cannot distinguish if this is an error, or a warning, or just debugging output. That's why there are different log levels built into Dancer2.</p>\n\n<ul>\n<li><code>core</code></li>\n<li><code>debug</code></li>\n<li><code>info</code></li>\n<li><code>warning</code></li>\n<li><code>error</code></li>\n</ul>\n\n<p>All of them are available as keywords. There is documentation on it in <a href=\"https://metacpan.org/pod/distribution/Dancer2/lib/Dancer2/Manual.pod#LOGGING\" rel=\"nofollow\">Dancer2::Manual</a>.</p>\n\n<p>Since the working directory is probably not relevant in production, but only during development, you'd go with <code>debug</code>.</p>\n\n<pre><code>debug \"[PWD] : $pwd\";\n</code></pre>\n\n<p>That's it. It takes care of newlines and such for you automatically.</p>\n"}], "owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 39576761, "answer_count": 2, "score": 4, "last_activity_date": 1474299102, "creation_date": 1474274493, "last_edit_date": 1474275364, "question_id": 39568819, "link": "https://stackoverflow.com/questions/39568819/redirect-and-restore-stderr-in-dancer", "title": "Redirect and Restore STDERR in Dancer", "body": "<p>When starting my <code>http server</code> I don't want to see <code>&gt;&gt; Dancer2 v0.201000 server &lt;pid&gt; listening on http://0.0.0.0:&lt;port&gt;</code> printed on the <code>stderr</code>. Thats why I added the following line before calling <code>start()</code></p>\n\n<pre><code>get \"/pwd\" =&gt; sub {\n    my $pwd = cwd;\n    print STDERR \"\\n\\n[PWD] : $pwd\\n\"; # this line is not being printed\n    print \"\\n\\n[STDOUT::PWD] : $pwd\\n\";\n    my %responseHash = ( pwd =&gt; $pwd );\n    my $response = encode_json \\%responseHash;\n    return $response;\n};    \n\nmy $dancerStartErr;\n\nsub startServer {\n    open (local *STDERR, \"&gt;\", \\$dancerStartErr) \n        or die \"Dup err to variable error: $!\\n\";\n\n    start();\n}\n\nstartServer();\n</code></pre>\n\n<p>The problem is that later I can't print something on the <code>STERR</code>. How can I reopen <code>STDERR</code> (<code>open(STDERR, \"&gt;\", \\*STDERR);</code> doesn't help)?</p>\n"}, {"tags": ["perl", "sorting"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1474273995, "post_id": 39568415, "comment_id": 66447259, "body": "We will happily help you if you have made an attempt at writing a solution but can&#39;t get it to work. You will remain a beginner forever if you don&#39;t <i>try something</i>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1474274096, "post_id": 39568415, "comment_id": 66447321, "body": "Your line <code>open my $output, &#39;&gt;&#39; or die &quot;Unable to open output file: $!&quot;</code> is wrong. You haven&#39;t provided a filename."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1474274279, "post_id": 39568415, "comment_id": 66447409, "body": "Same for <code>open my $input, &#39;&lt;&#39; or ...</code> -- missing filename.  Create a directory with <code>make_path</code> from core module <a href=\"http://perldoc.perl.org/File/Path.html\" rel=\"nofollow noreferrer\"><code>File::Path</code></a>.  Get the list of files to process with, for example, <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow noreferrer\"><code>glob</code></a>.  Then iterate over that list doing mostly what you are.  Let us know if there are problems with it."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1474288617, "post_id": 39568415, "comment_id": 66456356, "body": "FWIW: the ST code comes from <a href=\"http://stackoverflow.com/a/39548832/5830574\">this answer</a>."}, {"owner": {"reputation": 19, "user_id": 6846323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2928d85002feb91d248ac0cecd07294d?s=128&d=identicon&r=PG&f=1", "display_name": "Sonya", "link": "https://stackoverflow.com/users/6846323/sonya"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474291683, "post_id": 39568415, "comment_id": 66458511, "body": "Hi! Thanks for the comments. I have edited my question and corrected the mistake you stated regarding the missing file name in the  &quot;open my $input, &#39;&lt;&#39; or ...&quot; and &quot;open my $output, &#39;&lt;&#39; or ...&quot; line.   @Borodin, thank you for your comment. I have tried to write a solution (I edited my question and place it there) . With this scirpt I can get the desired form of reading/writing the files but the problem is that as a result I am getting the same content of the files, instead of a sorted one. Any help would be appreciated. Thanks!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1474318467, "post_id": 39568415, "comment_id": 66473813, "body": "@Sonya Your <code>sub sorting</code> is <i>not correct</i> -- very basic things are wrong with it.  I&#39;d suggest that you read up on subroutines in Perl, you can get up to speed with basics <i>very</i> quickly, which is all you need for this purpose. Also, it is easier to transfer all your sorting work to the sub -- just pass in input and output file names, much like in the answer by <a href=\"http://stackoverflow.com/users/7231/dave-cross\"><code>Dave Cross</code></a>.  Also, when you print, do not use a global <code>FILE</code>, there are all kinds of issues you&#39;ll run into -- you want a lexical <code>my $fh</code> instead."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1474361739, "post_id": 39568415, "comment_id": 66488536, "body": "@Sonya  Your <code>foreach (@files)</code> loop relies on advanced tricks. But the actual problem is that the call <code>sorting($_)</code> passes a single line of each file to the &quot;sorting&quot; subroutine. (In which you take a scalar value, <code>&quot;$_&quot;</code>, to sort.)  It will be far easier to put <i>all</i> sorting code in a subroutine and to use very simple and basic processing of the file list."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1474277679, "last_edit_date": 1474277679, "creation_date": 1474275475, "answer_id": 39569133, "question_id": 39568415, "link": "https://stackoverflow.com/questions/39568415/use-schwartzian-transform-across-multiple-files/39569133#39569133", "title": "Use Schwartzian transform across multiple files", "body": "<p>You have code to sort one file. Put that code into a subroutine. Call it <code>sort_one_file()</code>.</p>\n\n<pre><code>sub sort_one_file {\n  # You have this code already\n}\n</code></pre>\n\n<p>That's not quite right though. You need to define the <code>$input</code> and <code>$output</code> variables. Let's assume that we're going to pass them into the subroutine.</p>\n\n<pre><code>sub sort_one_file {\n  my ($input, $output) = @_;\n\n  # You already have this code\n}\n</code></pre>\n\n<p>Ok. So how do we call this function. That's easy.</p>\n\n<pre><code>sort_one_file($input, $output);\n</code></pre>\n\n<p>You don't show us the code that populates <code>$input</code> and <code>$output</code> in your original program, but if you add that back, then this will work the same way as your current program.</p>\n\n<p>But now we want to call our subroutine many times. Let's make it easy for ourselves and assume that we pass the list of input files as command line arguments to our program. That makes our program as flexible as possible.</p>\n\n<pre><code>foreach my $input (@ARGV) {\n  sort_one_file($input, $output);\n}\n</code></pre>\n\n<p>We're almost there, but we have one small problem. We can get <code>$input</code> from <code>@ARGV</code>, but what about <code>$output</code>? Well, I don't know what rules you're using to rename the files. So let's make some assumptions and hide them away in another subroutine.</p>\n\n<pre><code>sub get_output_name {\n  my ($input) = @_;\n\n  # Change this to whatever renaming rule you are using.\n  return \"$input.new\";\n}\n</code></pre>\n\n<p>We can then use that inside our loop.</p>\n\n<pre><code>foreach my $input (@ARGV) {\n  sort_one_file($input, get_output_name($input));\n}\n</code></pre>\n\n<p>There are other approaches. I might just use <code>&lt;&gt;</code> so that I don't need to bother with opening the input files (and then I'd need to keep track of what's in <code>$ARGV</code> in order to know when I start to process a new file). But this is pretty simple and will work.</p>\n\n<p><strong>Update:</strong> As others have pointed out in comments, your existing code to open a file is incorrect. You have:</p>\n\n<pre><code>open my $input, '&lt;' or die \"Unable to open input file: $!\";\n</code></pre>\n\n<p>This doesn't include the name of the file to open. I think you want this:</p>\n\n<pre><code>open my $input_fh, '&lt;', $input\n  or die \"Unable to open input file: $input - $!\";\n</code></pre>\n\n<p>You'll also need to change the next line to:</p>\n\n<pre><code>my @file = &lt;$input_fh&gt;;\n</code></pre>\n\n<p>There's the same problem with your output <code>open()</code>.</p>\n\n<p>But actually, that <code>@file</code> array is completely unnecessary. I'd write that as:</p>\n\n<pre><code>open my $input_fh,  '&lt;', $input\n  or die \"Unable to open input file: $input - $!\";\nopen my $output_fh, '&gt;', $output\n  or die \"Unable to open output file: $output - $!\";\n\nprint $output_fh map { $_-&gt;[0] }\n                 sort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] }\n                 map { my ($x) = $_ =~ /VerNumber:\\((\\d+)/i; [$_, $x]; }\n                 &lt;$input_fh&gt;;\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 6846323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2928d85002feb91d248ac0cecd07294d?s=128&d=identicon&r=PG&f=1", "display_name": "Sonya", "link": "https://stackoverflow.com/users/6846323/sonya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1474288824, "creation_date": 1474273220, "last_edit_date": 1474288824, "question_id": 39568415, "link": "https://stackoverflow.com/questions/39568415/use-schwartzian-transform-across-multiple-files", "title": "Use Schwartzian transform across multiple files", "body": "<p>I would like to use the following Schwartzian transform sorting script (which is working perfectly as a standalone script), on a multiple files in the folder:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen my $input, '&lt;', '/home/test/file1' or die \"Unable to open input file: $!\";\nmy @file = &lt;$input&gt;;\nmy @sorted_file = map { $_-&gt;[0] }\n             sort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] }\n             map { my ($x) = $_ =~ /VerNumber:\\((\\d+)/i; [$_, $x]; }\n             @file;\nopen my $output, '&gt;', '/home/test/sorted/file1' or die \"Unable to open output file: $!\";\nprint $output $_ for @sorted_file;\n</code></pre>\n\n<p>The script should take as an input all the files in one folder starting with file*, and sort the content of each one:</p>\n\n<pre><code>file1.txt\nfile2.txt\n...\nfile1000.txt\n</code></pre>\n\n<p>Then, as an output I would like for the script to create new folder in which it will place new files, with the sorted content, keeping the same file names.</p>\n\n<pre><code>/sorted\nfile1.txt -&gt; /sorted/file1.txt\nfile2.txt -&gt; /sorted/file2.txt\n...\nfile1000.txt -&gt; /sorted/file1000.txt\n</code></pre>\n\n<p>Any ideas how this can be done efficently? I have almost 1000 files, each one containing about 3000 arrays which are being sorted with the mentioned script.</p>\n\n<p>I have made an attempt. The following script does write the files in the output folder, keeping the same file names, but the sorting part is not working (even though the standalone script is sorting the files). I am getting the same files in the ouput.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Getopt::Long;\n\nmy $version=\"0.2\";\nmy $files_match=\"\";\nmy $files_dir=\"\";\nmy $file_name=\"\";\nmy $help_flag=\"\";\nmy $version_flag=\"\";\n\nGetOptions(\n           'm|match=s' =&gt; \\$files_match,\n           'd|directory=s' =&gt; \\$files_dir,\n           'h|help' =&gt; \\$help_flag, 'v|version' =&gt; \\$version_flag,\n);\n\nsub sorting {\nmy @file = \"$_\";\nmy @sorted = map { $_-&gt;[0] }\n             sort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] }\n             map { my ($x) = $_ =~ /VerNumber:\\((\\d+)/i; [$_, $x]; }\n             @file;\nprint FILE $_;\n}\n\nif (($files_match ne \"\") and ($files_dir ne \"\")) {\n        chdir(\"$files_dir\") or die \"$!\";\n        opendir (DIR, \".\") or die \"$!\";\n        my @files = grep {/$files_match/} readdir DIR;\n        my $files_size = $#files + 1;\n        my $index_file = 1;\n        print \"Files to process: $files_size\\n\";\n        close DIR;\n\n        foreach (@files) {\n                open(FILE, \"&gt;./sorted/$_.sort\") or die $!;\n                my @singlefile = $_;\n                print \"Processing $index_file of $files_size files: $_\\n\";\n                local @ARGV = @singlefile;\n                while(&lt;&gt;){\n                       sorting($_);\n                }    \n                close(FILE);\n                $index_file++;\n                print \"OK: Sorted @singlefile \\n\";\n        }\n    } elsif ((!$help_flag) and (!$version_flag)){printHelp();}\n</code></pre>\n\n<p>I am a beginner in Perl and any help would be more than welcome!</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["perl", "shell", "awk"], "comments": [{"owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "edited": false, "score": 2, "creation_date": 1474273980, "post_id": 39568117, "comment_id": 66447254, "body": "Your question is not clear. First, I don&#39;t think that you really mean <i>copy and paste</i>, since this term doesn&#39;t make much sense here, but <i>extract information</i> from a text file. Secondly, I don&#39;t understand under what conditions you associate 1345 to <i>Source</i> and 1340 to <i>Target</i>, but in general, your questions boils down to extract certain information from a text file. If you really <b>want</b> to use shell programming only, you need to specify which shell you want to use (or if any shell would be fine), because the capabilities in string handling vary a lot between different shells."}, {"owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "edited": false, "score": 0, "creation_date": 1474274009, "post_id": 39568117, "comment_id": 66447270, "body": "However, I personally would not program this in shell language, but use a language which is better suited for text processing, such as <i>awk</i>, <i>Ruby</i> or <i>Perl</i> - to mention just a few. In any case, show first what you have already tried, so that we have a base for discussion."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1585121"}, "is_accepted": false, "score": 0, "last_activity_date": 1474273845, "creation_date": 1474273845, "answer_id": 39568620, "question_id": 39568117, "link": "https://stackoverflow.com/questions/39568117/shell-command-to-copy-and-paste-specific-text-from-one-file-to-another/39568620#39568620", "title": "Shell command to copy and paste specific text from one file to another", "body": "<p>Doing this kind of operation would be the way to go.</p>\n\n<pre><code>#! /bin/bash\n\n# Extract session val\nsession=$(echo $file | grep \"Session\" | cut -d\"[\" -f2 | cut -d\"]\" -f1)\n# ...\n</code></pre>\n\n<p>Next problem would be: The source ou output lines have no differences... Have to find a way around like, finding first occurence? Then second?</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1474281352, "creation_date": 1474281352, "answer_id": 39571084, "question_id": 39568117, "link": "https://stackoverflow.com/questions/39568117/shell-command-to-copy-and-paste-specific-text-from-one-file-to-another/39571084#39571084", "title": "Shell command to copy and paste specific text from one file to another", "body": "<p>You give no useful information about how you want to extract data from your input. So this code is a complete guess, but it does give the output you asked for from your given input. And it will be reasonably simple to change it to deal with other extraction requirements.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nmy %session;\n\nwhile (&lt;&gt;) {\n  if (/Applied Rows \\[(\\d+)]/) {\n     if (exists $session{Source}) {\n       $session{Target} = $1;\n     } else {\n       $session{Source} = $1;\n     }\n  }\n  if (/Session \\[(\\w+)]/) {\n    $session{Session} = $1;\n  }\n}\n\nfor (qw[Session Source Target]) {\n  say \"$_ : $session{$_}\";\n}\n</code></pre>\n\n<p>It is written as a Unix filter - it reads from STDIN and writes to STDOUT. So if your input data is in a one file and you want the output in another file, you would call it like this:</p>\n\n<pre><code>$ ./session_extract &lt; some_input_file &gt; some_output_file\n</code></pre>\n\n<p>But it also works if your input is the output from some other process and you want the output written to STDOUT.</p>\n\n<pre><code>$ some_other_process | ./session_extract\n</code></pre>\n\n<p>(Many other options are availbable Unix I/O redirection is incredibly flexible.)</p>\n"}], "owner": {"reputation": 11, "user_id": 6847735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bf5b70cd158762a0f1bf4131b23c09?s=128&d=identicon&r=PG&f=1", "display_name": "user6847735", "link": "https://stackoverflow.com/users/6847735/user6847735"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 389, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1474281352, "creation_date": 1474272026, "last_edit_date": 1474278821, "question_id": 39568117, "link": "https://stackoverflow.com/questions/39568117/shell-command-to-copy-and-paste-specific-text-from-one-file-to-another", "title": "Shell command to copy and paste specific text from one file to another", "body": "<p>Shell command to copy and paste specific text from one file to another?   </p>\n\n<p><strong>InputFile</strong></p>\n\n<pre><code>DIRECTOR&gt; TM_6000 Source Load Summary.\nDIRECTOR&gt; CIN_1740 Table: [SQ_BOX_CONTROL] (Instance Name: [SQ_BOX_CONTROL])\nOutput Rows [1], Affected Rows [1], Applied Rows [1345], Rejected Rows [0]\nDIRECTOR&gt; TM_6001 Target Load Summary.\nDIRECTOR&gt; CIN_1740 Table: [JBOX_CONTROL] (Instance Name: [JBOX_CONTROL])\nOutput Rows [1], Affected Rows [1], Applied Rows [1340], Rejected Rows [0]\nDIRECTOR&gt; TM_6023\n===================================================\n\nDIRECTOR&gt; TM_6020 Session [s_m_CONTROL] completed at [Tue Sep 15 02:49:12 2015].\n</code></pre>\n\n<p><strong>Need Output in the below format</strong></p>\n\n<pre><code>Session : s_m_CONTROL\nSource : 1345\nTarget : 1340\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 3, "creation_date": 1474271827, "post_id": 39567934, "comment_id": 66446128, "body": "The best solution to this would almost certainly be to rip all the functionality out of the second script, place it into a proper module, replace the second script with a lightweight wrapper around that module, and then use that module in Script1 instead of trying to shell out to run the other script."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1474272819, "post_id": 39567934, "comment_id": 66446637, "body": "If I understand you correctly you don&#39;t want to use the same <b>parameters</b> but the same <b>libs</b> or lib paths."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "edited": false, "score": 0, "creation_date": 1474272888, "post_id": 39567934, "comment_id": 66446688, "body": "Yes, this is what I need"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1474273464, "post_id": 39567934, "comment_id": 66446975, "body": "Then the title is a little bit misleading."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1474273617, "post_id": 39567934, "comment_id": 66447056, "body": "@dgw thank you, i updated the title"}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1474272181, "creation_date": 1474272181, "answer_id": 39568153, "question_id": 39567934, "link": "https://stackoverflow.com/questions/39567934/calling-script-with-the-same-inc-as-the-parent-script/39568153#39568153", "title": "Calling script with the same @INC as the parent script", "body": "<p>You could use <a href=\"http://perldoc.perl.org/Storable.html\" rel=\"nofollow\">Storable</a> to save <code>@INC</code> in a file and then pick it in other script.</p>\n\n<p>For example you could do something like below.</p>\n\n<p><strong>test.pl</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Storable;\nstore (\\@INC, \"test2.dump\") or die \"could not store\";\nsystem(\"perl\", \"test2.pl\", $$) == 0 or die \"error\";\n</code></pre>\n\n<p><strong>test2.pl</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Storable;\nuse Data::Dumper;\nmy $parentpid = shift;\nmy $ref = retrieve(\"test2.dump\") or die \"couldn't retrieve\";\nprint Dumper $ref;\n</code></pre>\n\n<p>Once you get the <code>@INC</code> in <code>test2.pl</code> as <code>$ref</code>, you can modify <code>@INC</code> in <code>test2.pl</code> to take contents from <code>$ref</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 2, "last_activity_date": 1474272624, "creation_date": 1474272624, "answer_id": 39568264, "question_id": 39567934, "link": "https://stackoverflow.com/questions/39567934/calling-script-with-the-same-inc-as-the-parent-script/39568264#39568264", "title": "Calling script with the same @INC as the parent script", "body": "<p>Strictly answering your question you could <code>do $script;</code> although recommended way would be to separate your common program logic into module, and <code>use/require</code> it.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "edited": false, "score": 0, "creation_date": 1474273391, "post_id": 39568364, "comment_id": 66446929, "body": "I accepted this as an answer because it is what I was searching for. I managed to do it with something else tho. Calling the script with the <code>-I </code> option <code>system (&#39;perl -I path_to_lib script.pl&#39;)</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474273767, "post_id": 39568364, "comment_id": 66447139, "body": "@asdf: Using <code>PERL5LIB</code> has the same effect as the <code>-I</code> option on the command line. What you asked for was a way to transfer the same <code>@INC</code> array to a child process, which your solution doesn&#39;t do. It was far from obvious that there was only one directory involved, and that your code knew what that directory was at the point you make the system call. It would be better if you were more careful with your questions in the future."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1474273050, "creation_date": 1474273050, "answer_id": 39568364, "question_id": 39567934, "link": "https://stackoverflow.com/questions/39567934/calling-script-with-the-same-inc-as-the-parent-script/39568364#39568364", "title": "Calling script with the same @INC as the parent script", "body": "<p>The easiest way is probably to set the <code>PERL5LIB</code> environment variable. That will add a list of directories to the child process's <code>@INC</code> array</p>\n\n<p>Your code would look something like</p>\n\n<pre><code>$ENV{PERL5LIB} = join ':', @INC;\n\nsystem $script;\n</code></pre>\n\n<p>This has the disadvantage that the standard directories will also be added to <code>@INC</code>. It shouldn't cause any problems, but it would be best to set <code>PERL5LIB</code> to just the custom directories if you know them at that point.</p>\n\n<p>Note also that perl will ignore <code>PERL5LIB</code> if you are running under the <em>taint</em> flag.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 39568364, "answer_count": 3, "score": 2, "last_activity_date": 1557427267, "creation_date": 1474271395, "last_edit_date": 1474297119, "question_id": 39567934, "link": "https://stackoverflow.com/questions/39567934/calling-script-with-the-same-inc-as-the-parent-script", "title": "Calling script with the same @INC as the parent script", "body": "<p>I want to call an  external script with <code>system ($script)</code> or <code>do $script</code>. In my @INC i have some specific modules which I import. How can I call the <code>$script</code> and transfer it the same <code>@INC</code>?</p>\n\n<p>Script1.pm</p>\n\n<pre><code>#importing some libs\n#code\n$script = \"path_to_script\";\n\nsystem ($script);\n</code></pre>\n\n<p>Script2.pm</p>\n\n<pre><code>use LibFromScript1@INC;\n</code></pre>\n\n<p>And I get the Error :</p>\n\n<blockquote>\n  <p>Can't locate LibFromScript1 in @INC...</p>\n</blockquote>\n"}, {"tags": ["mongodb", "perl", "sockets", "authentication"], "comments": [{"owner": {"reputation": 29331, "user_id": 6337748, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/7Si7m.jpg?s=128&g=1", "display_name": "notionquest", "link": "https://stackoverflow.com/users/6337748/notionquest"}, "edited": false, "score": 0, "creation_date": 1474271717, "post_id": 39567911, "comment_id": 66446077, "body": "Are you trying to connect to local MongoDB or remote? Where is your MongoDB hosted ?"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1474272689, "post_id": 39567911, "comment_id": 66446565, "body": "What does <code>netstat -aon | findstr LISTENING | findstr 27017</code> give?"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1474272728, "post_id": 39567911, "comment_id": 66446583, "body": "You may also try running it on different port: <a href=\"https://docs.mongodb.com/manual/reference/program/mongod/#cmdoption-mongod--port\" rel=\"nofollow noreferrer\">docs.mongodb.com/manual/reference/program/mongod/&hellip;</a>"}, {"owner": {"reputation": 167, "user_id": 6635066, "user_type": "registered", "accept_rate": 8, "profile_image": "https://graph.facebook.com/1653333254988387/picture?type=large", "display_name": "Ramya", "link": "https://stackoverflow.com/users/6635066/ramya"}, "edited": false, "score": 0, "creation_date": 1474274454, "post_id": 39567911, "comment_id": 66447542, "body": "It is a local instance."}, {"owner": {"reputation": 167, "user_id": 6635066, "user_type": "registered", "accept_rate": 8, "profile_image": "https://graph.facebook.com/1653333254988387/picture?type=large", "display_name": "Ramya", "link": "https://stackoverflow.com/users/6635066/ramya"}, "edited": false, "score": 0, "creation_date": 1474274476, "post_id": 39567911, "comment_id": 66447559, "body": "C:\\windows\\system32&gt;netstat -aon | findstr LISTENING | findstr 27017   TCP    0.0.0.0:27017          0.0.0.0:0              LISTENING       11940"}, {"owner": {"reputation": 167, "user_id": 6635066, "user_type": "registered", "accept_rate": 8, "profile_image": "https://graph.facebook.com/1653333254988387/picture?type=large", "display_name": "Ramya", "link": "https://stackoverflow.com/users/6635066/ramya"}, "edited": false, "score": 0, "creation_date": 1474279058, "post_id": 39567911, "comment_id": 66450359, "body": "When I am giving any command regard MongoDB in my command prompt, it is saying&quot;&#39;--shell&#39; is not recognized as an internal or external command, operable program or batch file.&quot;"}], "owner": {"reputation": 167, "user_id": 6635066, "user_type": "registered", "accept_rate": 8, "profile_image": "https://graph.facebook.com/1653333254988387/picture?type=large", "display_name": "Ramya", "link": "https://stackoverflow.com/users/6635066/ramya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1474272533, "creation_date": 1474271285, "last_edit_date": 1474272533, "question_id": 39567911, "link": "https://stackoverflow.com/questions/39567911/mongodb-connection-failed-using-robomongo", "title": "Mongodb connection failed using robomongo", "body": "<p>I have to write a perl script to connect to mongodb. But I am not able connect to DB instance in my machine it is giving me the following error:</p>\n\n<pre><code>2016-09-19T12:54:03.257+0530 E NETWORK  [initandlisten] listen(): bind() failed\nerrno:10048 Only one usage of each socket address (protocol/network address/port\n) is normally permitted. for socket: 0.0.0.0:27017\n2016-09-19T12:54:03.257+0530 E STORAGE  [initandlisten] Failed to set up sockets\n during startup.\n2016-09-19T12:54:03.259+0530 I CONTROL  [initandlisten] dbexit:  rc: 48\n</code></pre>\n\n<p>I tried checking if any other process is running on that port number, but for that particular PID there is no process running in the task manager.\n When I am using Robomongo it is showing authentication failed. I am new to MongoDB. Please help.</p>\n\n<p>TIA.</p>\n"}, {"tags": ["regex", "perl", "utf-8"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1474263792, "post_id": 39566000, "comment_id": 66442529, "body": "On Perl 5.22.2 under Cygwin it works for me."}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "edited": false, "score": 0, "creation_date": 1474264376, "post_id": 39566000, "comment_id": 66442739, "body": "Works on Perl 5.20.1 on x86_64-linux (CentOS 6)"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1474264511, "post_id": 39566000, "comment_id": 66442785, "body": "Works fine under v5.22.1 [Ubuntu 16.04.1 LTS]"}, {"owner": {"reputation": 620, "user_id": 1276195, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d142d9946b6954c7f859d51cc22f7c95?s=128&d=identicon&r=PG", "display_name": "lemzwerg", "link": "https://stackoverflow.com/users/1276195/lemzwerg"}, "edited": false, "score": 0, "creation_date": 1474264868, "post_id": 39566000, "comment_id": 66442924, "body": "Thanks for testing.  So it seems to be a bug in 5.18.2...  Bad...  Any ideas how to circumvent the problem elegantly?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1474305691, "last_edit_date": 1474305691, "creation_date": 1474296963, "answer_id": 39576215, "question_id": 39566000, "link": "https://stackoverflow.com/questions/39566000/perls-0-produces-unexpected-results-for-non-ascii-data/39576215#39576215", "title": "perl&#39;s $-[0] produces unexpected results for non-ASCII data", "body": "<p>It appears to be a bug in 5.18.</p>\n\n<pre><code>$ 5.18.2t/bin/perl a.pl a\n0\n2\n3\n\n$ 5.20.1t/bin/perl a.pl a\n0\n2\n2\n</code></pre>\n\n<p>I can't find a workaround. Adding <code>utf8::downgrade($array[0]);</code> or <code>utf8::downgrade($array[0], 1);</code> works in the case you presented, but not using the following data or any other where the interpolated pattern contains characters >255.</p>\n\n<pre><code>\u2660bar\nf\u2660\u2660bar\n</code></pre>\n\n<p>It appears that this can only be fixed by upgrading your Perl, which is actually quite simple. (Just make sure to install it to a different directory than your system <code>perl</code> by following the instructions in <code>INSTALL</code>!)</p>\n"}], "owner": {"reputation": 620, "user_id": 1276195, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d142d9946b6954c7f859d51cc22f7c95?s=128&d=identicon&r=PG", "display_name": "lemzwerg", "link": "https://stackoverflow.com/users/1276195/lemzwerg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 39576215, "answer_count": 1, "score": 9, "last_activity_date": 1474305691, "creation_date": 1474263265, "last_edit_date": 1474263611, "question_id": 39566000, "link": "https://stackoverflow.com/questions/39566000/perls-0-produces-unexpected-results-for-non-ascii-data", "title": "perl&#39;s $-[0] produces unexpected results for non-ASCII data", "body": "<p>Consider the following input data in file <code>y.txt</code> (encoded in UTF-8).</p>\n\n<pre><code>bar\nf\u00f6bar\n</code></pre>\n\n<p>and a file <code>y.pl</code>, which puts the two input lines into an array and processes them, looking for substring start positions.</p>\n\n<pre><code>use open qw(:std :utf8);\n\nmy @array;\n\nwhile (&lt;&gt;) {\n  push @array, $_;\n  print $-[0] . \"\\n\" if /bar/;\n}\n\n# $array[0] = \"bar\", $array[1] = \"f\u00f6bar\"\nprint $-[0] . \"\\n\" if $array[1] =~ /$array[0]/u;\n</code></pre>\n\n<p>If I call <code>perl y.pl &lt; y.txt</code>,  I get</p>\n\n<pre><code>0\n2\n3\n</code></pre>\n\n<p>as the output.  However, I would expect that the last number is 2 also, but for some reason the second <code>/.../</code> regexp behaves differently.  What am I missing?  I guess it's an encoding issue, but whatever I tried, I didn't succeed.  This is Perl 5.18.2.</p>\n"}, {"tags": ["perl", "error-handling", "www-mechanize"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474271250, "post_id": 39564004, "comment_id": 66445828, "body": "I wonder why you&#39;ve used two apostrophes in a character class <code>[&#39;&#39;]</code>? The second one is superfluous, and apostrophe isn&#39;t a special character inside regex patterns anyway. Just <code>&#47;Can&#39;t connect&#47;</code> is fine."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474286082, "post_id": 39564004, "comment_id": 66454662, "body": "I believe @ikegami can answer that one, as it was his edit."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474288808, "post_id": 39564004, "comment_id": 66456479, "body": "It was just to fix the syntax highlighting"}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 4, "last_activity_date": 1474250411, "last_edit_date": 1474250411, "creation_date": 1474246372, "answer_id": 39564004, "question_id": 39563282, "link": "https://stackoverflow.com/questions/39563282/handling-get-errors-in-wwwmechanize/39564004#39564004", "title": "Handling GET errors in WWW::Mechanize", "body": "<p>Either wrap your <code>$mech-&gt;get(...)</code> requests in an eval block or use <code>autocheck =&gt; 0</code>, then check the <code>$mech-&gt;status</code> code and/or <code>$mech-&gt;status_line</code> to decide what to do.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse WWW::Mechanize;\n\nuse constant RETRY_MAX =&gt; 5;\n\nmy $url = 'http://www.xxsomesite.com/more/url/text'; # Cannot connect\n\nmy $mech = WWW::Mechanize-&gt;new( autocheck =&gt; 0 );\n\nmy $content = fetch($url);\n\nsub fetch {\n    my ($url) = @_;\n\n    for my $retry (0 .. RETRY_MAX-1) {\n        my $message = \"Attempting to fetch [ $url ]\";\n        $message .= $retry ? \" - retry $retry\\n\" : \"\\n\";\n        warn $message;\n\n        my $response = $mech-&gt;get($url);\n        return $response-&gt;content() if $response-&gt;is_success();\n\n        my $status = $response-&gt;status;\n        warn \"status = $status\\n\";\n\n        if ($response-&gt;status_line =~ /Can['']t connect/) {\n            $retry++;\n            warn \"cannot connect...will retry after $retry seconds\\n\";\n            sleep $retry;\n        } elsif ($status == 429) {\n            warn \"too many requests...ignoring\\n\";\n            return undef;\n        } else {\n            warn \"something else...\\n\";\n            return undef;\n        }\n    }\n\n    warn \"giving up...\\n\";\n    return undef;\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Attempting to fetch [ http://www.xxsomesite.com/more/url/text ]\nstatus = 500\ncannot connect...will retry after 1 seconds\nAttempting to fetch [ http://www.xxsomesite.com/more/url/text ] - retry 1\nstatus = 500\ncannot connect...will retry after 2 seconds\nAttempting to fetch [ http://www.xxsomesite.com/more/url/text ] - retry 2\nstatus = 500\ncannot connect...will retry after 3 seconds\nAttempting to fetch [ http://www.xxsomesite.com/more/url/text ] - retry 3\nstatus = 500\ncannot connect...will retry after 4 seconds\nAttempting to fetch [ http://www.xxsomesite.com/more/url/text ] - retry 4\nstatus = 500\ncannot connect...will retry after 5 seconds\ngiving up...\n</code></pre>\n"}], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1582, "favorite_count": 1, "accepted_answer_id": 39564004, "answer_count": 1, "score": 2, "last_activity_date": 1474250411, "creation_date": 1474238086, "question_id": 39563282, "link": "https://stackoverflow.com/questions/39563282/handling-get-errors-in-wwwmechanize", "title": "Handling GET errors in WWW::Mechanize", "body": "<p>I'm using a script that scrapes data from a website using WWW::Mechanize and it's all working great, except for the website itself. Sometimes it just doesn't respond for a short moment and for a given <code>my $url = 'http://www.somesite.com/more/url/text'</code> I will have this error on <code>$mech-&gt;get($url)</code>:</p>\n\n<pre><code>Error GETing http://www.somesite.com/more/url/text: Can't connect to www.somesite.com:443 at ./trackSomesite.pl line 34.\n</code></pre>\n\n<p>This error is something that occurs once in a while with no recognizable pattern and from my experience with the website I'm dealing with, it's because of server instabilities.</p>\n\n<p>I want to be able to know specifically that this error occurred and not other errors like <code>Too many requests</code>.\nMy question is how can I get my script to handle this error and not die?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1474233630, "post_id": 39562777, "comment_id": 66436026, "body": "Try <code>perl -l -e &#39;print &quot;\\cC&quot;&#39;</code> \u2014 it prints a control-C and a newline.  Now what do you think <code>&#39;\\cX&#39;</code> means?  (It doesn&#39;t stipulate alphabetic only because the ASCII code set has <code>@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_</code> as consecutive character codes, and you can use <code>perl -l -e &#39;print &quot;\\c_&quot;&#39;</code> to print 0x1F or control-underscore or &#39;unit separator&#39;, etc.)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1474235354, "post_id": 39562777, "comment_id": 66436521, "body": "See also the section <i>&quot;Quote and Quote-like Operators&quot;</i> in <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\">perlop</a>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1474272424, "post_id": 39562777, "comment_id": 66446421, "body": "&quot; the support for perl is not so good as compared to other languages&quot;. Is that really true? I generally find that the <a href=\"http://perldoc.perl.org/\" rel=\"nofollow noreferrer\">Perl documentation</a> is pretty good."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1474244115, "post_id": 39563352, "comment_id": 66438102, "body": "Note that the character following <code>\\c</code> could once be just about any character. It become deprecated to use non-printable ASCII in 5.20, and it became an error in 5.22."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474244238, "post_id": 39563352, "comment_id": 66438126, "body": "@ikegami: Interesting; I was looking at the 5.24 documentation since that&#39;s what is current, and I didn&#39;t notice it mentioning that (but I didn&#39;t scrutinize the whole section completely, so I may have missed what&#39;s blatantly obvious).  Thanks for the extra info."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474244454, "post_id": 39563352, "comment_id": 66438167, "body": "It&#39;s not mentioned in 5.24&#39;s docs because it was removed in 5.22."}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 7, "last_activity_date": 1474238857, "last_edit_date": 1495535651, "creation_date": 1474238857, "answer_id": 39563352, "question_id": 39562777, "link": "https://stackoverflow.com/questions/39562777/what-is-the-purpose-of-c-in-perl/39563352#39563352", "title": "What is the purpose of &quot;\\c&quot; in perl?", "body": "<p><sup><em>Transferring comments to an answer.</em></sup></p>\n\n<p>Try:</p>\n\n<pre><code>perl -l -e 'print \"\\cC\"'\n</code></pre>\n\n<p>It prints a control-C and a newline (you might need to pipe it to <code>od -c</code> or <code>xxd -g 1</code> or some similar data dumper). Now what do you think <code>'\\cX'</code> means? </p>\n\n<p>The documentation doesn't stipulate alphabetic only because the ASCII code set has <code>@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_</code> as consecutive character codes, and you can use, for example:</p>\n\n<pre><code>perl -l -e 'print \"\\c_\"'\n</code></pre>\n\n<p>to print 0x1F or control-underscore or 'unit separator', etc.  You can use lower-case or upper-case letters, but only the non-alphabetic characters shown (<code>\"\\c@\"</code> is the null byte, <code>'\\0'</code> in C).  Note that the backslash needs special treatment.  The escape sequence cannot appear at the end of a string.</p>\n\n<pre><code>perl -l -e 'print \"\\c\\X\"'\n</code></pre>\n\n<p>This prints 0x1C (control-backslash) followed by X and a newline.  I guess that if you need that at the end of a string, you'll have to use a substring operation:</p>\n\n<pre><code>perl -l -e 'print substr(\"\\c\\X\", 0, 1)'\n</code></pre>\n\n<p>You can also use <code>\\c?</code> to print the DEL character, 0x7F, on ASCII-based platforms (see the manual for what it means under EBCDIC if that is a problem for you, or your curiosity is piqued).</p>\n\n<p>As mentioned by<a href=\"https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland\">H\u00e5kon H\u00e6gland</a> in a <a href=\"https://stackoverflow.com/questions/39562777/what-is-the-purpose-of-c-in-perl#comment66436521_39562777\">comment</a>, you can find the details under <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\">Quote and quote-like operators</a> in the <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perlop</a> documentation.</p>\n"}], "owner": {"reputation": 103, "user_id": 6846440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bf79cd57561a327cf92b31e19c8f0ef?s=128&d=identicon&r=PG&f=1", "display_name": "HeadShot", "link": "https://stackoverflow.com/users/6846440/headshot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 668, "favorite_count": 0, "accepted_answer_id": 39563352, "answer_count": 1, "score": 1, "last_activity_date": 1474238857, "creation_date": 1474233525, "question_id": 39562777, "link": "https://stackoverflow.com/questions/39562777/what-is-the-purpose-of-c-in-perl", "title": "What is the purpose of &quot;\\c&quot; in perl?", "body": "<p>What does \\c do in perl? I tried looking for it everywhere but the support for perl is not so good as compared to other languages. Everywhere that i looked it showed that it is a control statement and its syntax is \\cX where x can be any character. But that doesn't explain anything. So can anyone please explain what does it do and how to use it?</p>\n"}, {"tags": ["arrays", "perl", "sorting", "hash"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 3, "creation_date": 1474229175, "post_id": 39562073, "comment_id": 66434758, "body": "Run it several time, you&#39;ll probably have different outputs every time. That should answer your question."}, {"owner": {"reputation": 43, "user_id": 5924606, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/de6025d2f284ef11fab1772f175e57d3?s=128&d=identicon&r=PG&f=1", "display_name": "niki123", "link": "https://stackoverflow.com/users/5924606/niki123"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1474229754, "post_id": 39562073, "comment_id": 66434904, "body": "yes the order is changing, that means the keys are not in the order they are entered to the list?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1474230061, "post_id": 39562073, "comment_id": 66435003, "body": "Re &quot;<i>I didn&#39;t apply sort to either keys or values</i>&quot;, Exactly. You specified no order at all."}, {"owner": {"reputation": 43, "user_id": 5924606, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/de6025d2f284ef11fab1772f175e57d3?s=128&d=identicon&r=PG&f=1", "display_name": "niki123", "link": "https://stackoverflow.com/users/5924606/niki123"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1474230529, "post_id": 39562073, "comment_id": 66435132, "body": "@ikegami now I get it tysm!!!"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1474229522, "creation_date": 1474229522, "answer_id": 39562208, "question_id": 39562073, "link": "https://stackoverflow.com/questions/39562073/perl-hash-data-type-list-order/39562208#39562208", "title": "perl Hash Data Type list order", "body": "<p>As <a href=\"http://p3rl.org/perldata\" rel=\"nofollow\">perldata</a> says:</p>\n\n<blockquote>\n  <p>Hashes are unordered collections of scalar values indexed by their associated string key.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 44, "user_id": 6800695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b195e3798160130a2db7f800cca4887?s=128&d=identicon&r=PG&f=1", "display_name": "Alessandro Testori", "link": "https://stackoverflow.com/users/6800695/alessandro-testori"}, "is_accepted": false, "score": 0, "last_activity_date": 1474453787, "creation_date": 1474453787, "answer_id": 39614019, "question_id": 39562073, "link": "https://stackoverflow.com/questions/39562073/perl-hash-data-type-list-order/39614019#39614019", "title": "perl Hash Data Type list order", "body": "<p>I can think of two quick solutions:\n1- store your Keys in an array;\n2- use Tie::IxHash; (this is not usually installed by default)</p>\n\n<pre><code>%mylist=(\"svrmlb\"=&gt;\"10.0.0.1\",\"svrcmb\"=&gt;\"10.0.0.2\",\"svrkdy\"=&gt;\"10.0.0.3\");\n@mylist=(\"svrmlb\",\"svrcmb\",\"svrkdy\");\n\nprint(\"key-val\\n\");\nfor $x (@mylist)\n{\n    print (\"$x:$mylist{$x}\\n\");\n}\n\nprint(\"\\nvals\\n\");\nfor $x (@mylist)\n{\n    print (\"$mylist{$x}\\n\");\n}\n</code></pre>\n\n<h2>use Tie::IxHash</h2>\n\n<pre><code>use Tie::IxHash;\n%mylist=(\"svrmlb\"=&gt;\"10.0.0.1\",\"svrcmb\"=&gt;\"10.0.0.2\",\"svrkdy\"=&gt;\"10.0.0.3\");\ntie %mylist, 'Tie::IxHash';\n\nprint(\"key-val\\n\");\nfor $x (keys(%mylist))\n{\n    print (\"$x:$mylist{$x}\\n\");\n}\n\nprint(\"\\nvals\\n\");\nfor $x (values(%mylist))\n{\n    print (\"$x\\n\");\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5924606, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/de6025d2f284ef11fab1772f175e57d3?s=128&d=identicon&r=PG&f=1", "display_name": "niki123", "link": "https://stackoverflow.com/users/5924606/niki123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1474453787, "creation_date": 1474228655, "last_edit_date": 1474229443, "question_id": 39562073, "link": "https://stackoverflow.com/questions/39562073/perl-hash-data-type-list-order", "title": "perl Hash Data Type list order", "body": "<pre><code>#!/usr/bin/perl\n%mylist=(\"svrmlb\"=&gt;\"10.0.0.1\",\"svrcmb\"=&gt;\"10.0.0.2\",\"svrkdy\"=&gt;\"10.0.0.3\");\n\nprint(\"key-val\\n\");\nfor $x (keys(%mylist))\n{\n    print (\"$x:$mylist{$x}\\n\");\n}\n\nprint(\"\\nvals\\n\");\nfor $x (values(%mylist))\n{\n    print (\"$x\\n\");\n}\n</code></pre>\n\n<p>When I compile the above code I get the following output</p>\n\n<pre><code>key-val\nsvrcmb:10.0.0.2\nsvrkdy:10.0.0.3\nsvrmlb:10.0.0.1\n\nvals\n10.0.0.2\n10.0.0.3\n10.0.0.1\n</code></pre>\n\n<p>But my expected output was</p>\n\n<pre><code> key-val\n svrmlb:10.0.0.1\n svrcmb:10.0.0.2\n svrkdy:10.0.0.3\n\n vals\n 10.0.0.1\n 10.0.0.2\n 10.0.0.3\n</code></pre>\n\n<p>My problem is why did it get sorted, I didn't apply sort to either keys or values. Is this is a characteristic of hash? Earlier I've tried to sort few other hashed arrays and they weren't like this. Please help me to understand.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1474217582, "post_id": 39560157, "comment_id": 66431016, "body": "What other commands do you have to execute concurrently? Do you have to execute them from the same process?"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1474218225, "post_id": 39560157, "comment_id": 66431234, "body": "Not sure what you&#39;re trying to do with this condition, but if you just need it to &#39;print every second&#39;, consider using <code>sleep(1)</code>. You&#39;ll have to <code>use Time::HiRes</code>"}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 2, "creation_date": 1474218721, "post_id": 39560157, "comment_id": 66431409, "body": "If you are doing multiple things from the same process, you should consider using some event loop."}, {"owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "edited": false, "score": 0, "creation_date": 1474221048, "post_id": 39560157, "comment_id": 66432224, "body": "Thanks for partecipate to my question, as explained below, Is hard to explain what the &quot;DO SOMETHING ELSE&quot; do, since there is complex long code during loop. However, in few words. I connect to a server, open a file containing data, then loop through that file to read data. My goal is simple count how many data the loop send on each second. That&#39;s why I cannot use SLEEP function."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474219301, "post_id": 39560424, "comment_id": 66431641, "body": "<code>$actiontime += 1</code> should be <code>$actiontime = time + 1</code> in case <code>DO SOMETHING ELSE</code> takes multiple seconds. As it stands, that would result in a flurry of output to get <code>$actiontime</code> to catch up with the current time."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474219397, "post_id": 39560424, "comment_id": 66431680, "body": "$actiontime increment is intentional in order to avoid time drifting. Both approaches are &quot;wrong&quot; but in different ways; it largely depends on what OP is expecting."}, {"owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "edited": false, "score": 0, "creation_date": 1474220985, "post_id": 39560424, "comment_id": 66432205, "body": "Thank you, this works perfect, at least will print the output each second. Is hard to explain what the &quot;DO SOMETHING ELSE&quot; do, since there is complex long code during loop. However, in few words. I connect to a server, open a file containing data, then loop through that file to read data. My goal is simple count how many data the loop send on each second. I notice it sends about 100 packets per second, but I need to store that data!"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 5, "last_activity_date": 1474218915, "last_edit_date": 1474218915, "creation_date": 1474218560, "answer_id": 39560424, "question_id": 39560157, "link": "https://stackoverflow.com/questions/39560157/execute-command-every-1-second-during-loop-in-perl/39560424#39560424", "title": "Execute command every 1 second during loop in PERL", "body": "<p>Your <code>if</code> condition is bogus, <code>=&gt;</code> is not \"greater or equal\" operator, and comparing times are reversed,</p>\n\n<pre><code>my $actiontime = time();\nwhile (1) {\n    if ( time() &gt;= $actiontime )\n    {\n       $actiontime += 1;\n       print \"This should print each second...\\n\";\n    }\n    # DO SOMETHING ELSE\n}\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 625, "favorite_count": 0, "accepted_answer_id": 39560424, "answer_count": 1, "score": 0, "last_activity_date": 1474218915, "creation_date": 1474217007, "question_id": 39560157, "link": "https://stackoverflow.com/questions/39560157/execute-command-every-1-second-during-loop-in-perl", "title": "Execute command every 1 second during loop in PERL", "body": "<p>I have to execute command each second during a loop <strong>IN PERL</strong>. I'm trying the following sample code using epoch time, but it doesn't work because it prints continuosly:</p>\n\n<pre><code>#!/usr/bin/perl    \nmy $checktime = time() + 1;\nwhile(1) {\n    if ( $checktime =&gt; time() )\n    {\n       print \"This should be print each second...\" . \"\\n\";\n       $checktime = time() + 1;\n    }\n    # DO SOMETHING ELSE\n}\n</code></pre>\n\n<p>I cannot use sleep or freeze commands because during loop I have to execute other commands without interrupt the execution.\nCould you please help me?</p>\n\n<p>Thank you,\nLucas</p>\n"}, {"tags": ["json", "perl", "rest"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1474213219, "post_id": 39559423, "comment_id": 66429391, "body": "You&#39;ve already parsed json with <code>decode_json()</code>."}], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1474215138, "post_id": 39559773, "comment_id": 66430121, "body": "What are your thoughts regarding postfix <code>-&gt;@*</code> dereferencing?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1474215349, "post_id": 39559773, "comment_id": 66430198, "body": "@\u0421\u0443\u0445\u043e\u043927 that it&#39;s more of a pain than it&#39;s worth while it requires <code>use feature</code> and <code>no experimental</code> pragmas.  You could adopt it for an entire code base and have that in the standard init code you always use, but it doesn&#39;t belong in short examples."}, {"owner": {"reputation": 113, "user_id": 1472184, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sJBR0.png?s=128&g=1", "display_name": "Marisa Giancarla", "link": "https://stackoverflow.com/users/1472184/marisa-giancarla"}, "edited": false, "score": 0, "creation_date": 1474218029, "post_id": 39559773, "comment_id": 66431172, "body": "That was exactly what I was looking for. Thanks!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474222277, "post_id": 39559773, "comment_id": 66432647, "body": "I quite like postfix dereferencing. But I won&#39;t be using it in answers on SO for some time, as most people won&#39;t be using versions of Perl that support it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1474250562, "post_id": 39559773, "comment_id": 66439303, "body": "@ysth, Neither are needed in 5.24+ (and you meant <code>no warnings ...</code>, not <code>no experimental ...</code>)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1474214972, "creation_date": 1474214972, "answer_id": 39559773, "question_id": 39559423, "link": "https://stackoverflow.com/questions/39559423/how-to-parse-json-rest-data-from-server-using-perl/39559773#39559773", "title": "How to parse JSON/REST data from server using Perl", "body": "<p>I'm not really sure what you're asking. You have successfully parsed the JSON by by calling <code>decode_json()</code>. You now have a data structure in <code>$decoded_json</code>. Your call to <code>Dumper()</code> shows the structure of that data. It's a hash reference with a single key, <code>players</code>. The value associated with that key is an array reference. Each element in the referenced array is another hash.</p>\n\n<p>So, for example, you could print all of the players' names with code like this.</p>\n\n<pre><code>foreach (@{ $decoded_json-&gt;{players} }) {\n  say $_-&gt;{name};\n}\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 1472184, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sJBR0.png?s=128&g=1", "display_name": "Marisa Giancarla", "link": "https://stackoverflow.com/users/1472184/marisa-giancarla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 924, "favorite_count": 0, "accepted_answer_id": 39559773, "answer_count": 1, "score": 0, "last_activity_date": 1474214972, "creation_date": 1474212947, "question_id": 39559423, "link": "https://stackoverflow.com/questions/39559423/how-to-parse-json-rest-data-from-server-using-perl", "title": "How to parse JSON/REST data from server using Perl", "body": "<p>Im trying to parse out JSON output from the server using Perl. The connection and downloading of the REST data is ok, I just need help parsing the returned data. Here is the snippet for my code:</p>\n\n<pre><code>my $response = HTTP::Tiny-&gt;new-&gt;get($SERVER_ADDR);\nif ($response-&gt;{success})\n{\n    my $html = $response-&gt;{content};\n    @LINES = split /\\n/, $html;\n    chomp(@LINES);\n    print(\"Lines: '@LINES'\\n\"); # ZZZ\n    my $decoded_json = decode_json( $html );\n    print Dumper $decoded_json;\n}\nelse\n{\n    print \"Failed: $response-&gt;{status} $response-&gt;{reasons}\";\n}\n</code></pre>\n\n<p>And here is the results:</p>\n\n<pre><code>Lines: '{\"players\":[{\"currentlyOnline\":false,\"timePlayed\":160317,\"name\":\"MarisaG\",\"lastPlayed\":1474208741470}]}'\n$VAR1 = {\n      'players' =&gt; [\n                     {\n                       'currentlyOnline' =&gt; bless( do{\\(my $o = 0)}, 'JSON::PP::Boolean' ),\n                       'timePlayed' =&gt; 160317,\n                       'lastPlayed' =&gt; '1474208741470',\n                       'name' =&gt; 'MarisaG'\n                     }\n                   ]\n    };\n</code></pre>\n\n<p>There will be multiple entries under the \"players\" for each player logged in right now. Any tips?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 2, "creation_date": 1474214291, "post_id": 39559408, "comment_id": 66429767, "body": "Apart from that depending on the installed version of LWP <code>verify_hostname </code> only cares about verifying the hostname against the name in the certificate and is not disabling the validation of the trust chain. You&#39;ll find the latter behavior in stock LWP but almost all Linux distributions have it patched because of <a href=\"https://github.com/libwww-perl/lwp-protocol-https/pull/14\" rel=\"nofollow noreferrer\">CVE-2014-3230</a>. Anyway, it is <b>bad to just disable validation</b>, use <b>SSL_fingerprint</b> from IO::Socket::SSL instead to set the expected certificate to make it secure."}, {"owner": {"reputation": 987, "user_id": 893185, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7bb7310612573625abd07a67f22724ad?s=128&d=identicon&r=PG", "display_name": "pktCoder", "link": "https://stackoverflow.com/users/893185/pktcoder"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1474214380, "post_id": 39559408, "comment_id": 66429801, "body": "Thanks @SteffenUllrich for the additional information!"}], "tags": [], "owner": {"reputation": 987, "user_id": 893185, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7bb7310612573625abd07a67f22724ad?s=128&d=identicon&r=PG", "display_name": "pktCoder", "link": "https://stackoverflow.com/users/893185/pktcoder"}, "is_accepted": false, "score": 1, "last_activity_date": 1474212830, "creation_date": 1474212830, "answer_id": 39559408, "question_id": 39559364, "link": "https://stackoverflow.com/questions/39559364/perl-snippet-keep-verifying-server-cert-despite-effort-asking-it-not-to/39559408#39559408", "title": "Perl snippet keep verifying server cert despite effort asking it not to", "body": "<p>I was following the suggestion from <a href=\"http://blogs.perl.org/users/brian_d_foy/2011/07/now-you-need-lwpprotocolhttps.html\" rel=\"nofollow\">link</a>. </p>\n\n<p>Turned out the \"verify_hostnames\" should be \"verify_hostname\".</p>\n"}], "owner": {"reputation": 987, "user_id": 893185, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7bb7310612573625abd07a67f22724ad?s=128&d=identicon&r=PG", "display_name": "pktCoder", "link": "https://stackoverflow.com/users/893185/pktcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1474212830, "creation_date": 1474212570, "question_id": 39559364, "link": "https://stackoverflow.com/questions/39559364/perl-snippet-keep-verifying-server-cert-despite-effort-asking-it-not-to", "title": "Perl snippet keep verifying server cert despite effort asking it not to", "body": "<p>I got the the following code that I thought it will not verify server cert, but it still does:</p>\n\n<pre><code>500 Can't connect to 10.0.0.9:443 (certificate verify failed)\n</code></pre>\n\n<p>Not sure why.  Here is the code snippet:</p>\n\n<pre><code>use LWP::UserAgent;\nmy $ua = LWP::UserAgent-&gt;new;\n$ENV{'PERL_LWP_SSL_VERIFY_HOSTNAME'} = 0;\nmy $req = HTTP::Request-&gt;new(POST =&gt; 'https://10.0.0.9/test1234');\n$ua-&gt;ssl_opts( verify_hostnames =&gt; 0 );\nmy $res = $ua-&gt;request($req);\n\n# Check the outcome of the response\nif ($res-&gt;is_success) {\n    print $res-&gt;content;\n}\nelse {\n    print $res-&gt;status_line, \"\\n\";\n}\n</code></pre>\n\n<p>Any ideas? Thanks!</p>\n"}, {"tags": ["perl", "symlink", "hardlink"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 2, "creation_date": 1474209733, "post_id": 39558813, "comment_id": 66428279, "body": "Well, since you&#39;re using <code>system</code> and <code>ln</code> to create the links, it should be as easy as just adding a <code>-s</code> argument."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1474212636, "post_id": 39558813, "comment_id": 66429209, "body": "Just a side note: No need to shell out for <code>mkdir</code> and <code>rm</code>. There are Perl functions for that. Have a look at <a href=\"http://perldoc.perl.org/functions/unlink.html\" rel=\"nofollow noreferrer\"><code>unlink</code></a> and <a href=\"http://perldoc.perl.org/File/Path.html\" rel=\"nofollow noreferrer\"><code>File::Path::make_path</code></a>. They give better control over error conditions."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1474212275, "post_id": 39558999, "comment_id": 66429090, "body": "Nice. But you can omit the <code>if $link_created;</code> part because your snippet already dies on failure."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1474212711, "post_id": 39558999, "comment_id": 66429233, "body": "@PerlDog yeah, I&#39;m aware of that, it&#39;s just for illustrative purposes. Thanks though!"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1474211990, "last_edit_date": 1474211990, "creation_date": 1474210433, "answer_id": 39558999, "question_id": 39558813, "link": "https://stackoverflow.com/questions/39558813/symlink-instead-of-hardlink-in-perl/39558999#39558999", "title": "Symlink instead of hardlink in Perl", "body": "<p>You don't need to shell out. Perl has a built-in to create <a href=\"http://perldoc.perl.org/functions/symlink.html\" rel=\"nofollow\"><code>symlink</code></a>s. You can replace all of this:</p>\n\n<pre><code>if(system('ln', $source_file, $target_file) != 0) {\n    print STDERR \"Failed to create link from '$target_file' to '$source_file'.\\n\";\n}\nelse {\n    print \"Linked '$target_file' to '$source_file'.\\n\";\n}\n</code></pre>\n\n<p>With:</p>\n\n<pre><code>my $link_created = symlink $src_file, $link_name or die $!;\n\nprint \"symlink created ok\\n\" if $link_created;\n</code></pre>\n"}], "owner": {"reputation": 7407, "user_id": 942230, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2a079bd3e331f46edb1a3157b31e04c6?s=128&d=identicon&r=PG", "display_name": "Matt Welander", "link": "https://stackoverflow.com/users/942230/matt-welander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 654, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1474211990, "creation_date": 1474209397, "last_edit_date": 1474209531, "question_id": 39558813, "link": "https://stackoverflow.com/questions/39558813/symlink-instead-of-hardlink-in-perl", "title": "Symlink instead of hardlink in Perl", "body": "<p>I have a Perl script and I know it makes hard links of files, I wish to instead make it create symlinks, could some Perl-savvy person help me how to amend my script? I only do PHP so I can read the loop logics etc. but not sure how Perl interacts with the file system.</p>\n\n<p>I assume it is in the loop starting @ line 62: <code>foreach my $file(@to_add) {...</code></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse JSON qw( decode_json );\nuse Data::Dumper;\n\nmy $hashkey         = 'myKey';\nmy $data_folder     = '/jail/glftpd/site';\nmy $player_folder   = '/var/mediaplayers';\nmy $mediaplayersurl = \"myRoute\";\n\nsub filesInFolder {\n    my ($path) = @_;\n    my @files = ();\n\n    if(opendir SCANDIR, $path) {\n        push @files, grep !/^\\./ &amp;&amp; -f \"$path/$_\", readdir SCANDIR;\n\n        closedir SCANDIR;\n    }\n\n    return @files;\n}\n\nmy $json = `wget --no-check-certificate --header \"keyFile: $hashkey\" -q -O - $mediaplayersurl`;\ndie \"Failed to retrieve $mediaplayersurl!\", unless defined $json;\n\nmy $data = decode_json($json);\n\n# print Dumper $data;\n\nforeach my $player(@$data) {\n    my $sync_folder   = $player_folder.\"/\".$player-&gt;{companyName}.\"/\".$player-&gt;{mediaPlayer};\n    my $source_folder = $data_folder.\"/\".$player-&gt;{companyName};\n\n    print \"Preparing \".$player-&gt;{companyName}.\"/\".$player-&gt;{mediaPlayer}.\"\\n\";\n\n    unless(-d $source_folder) {\n        print STDOUT \"Source folder '$source_folder' does not exist, doing nothing.\\n\";\n\n        next;\n    }\n\n    unless(-d $sync_folder) {\n        system(\"mkdir\", \"-p\", $sync_folder);\n    }\n\n    my @existing = filesInFolder($sync_folder);\n    my %existing = map {$_, =&gt; 1} @existing;\n\n    my @videos = ();\n    foreach(@{$player-&gt;{'videos'}}) {\n        push @videos, $_;\n    }\n\n    my %videos = map {$_, =&gt; 1} @videos;\n\n    my @to_add = grep {not $existing{$_}} @videos;\n    my @to_del = grep {not $videos{$_}} @existing;\n\n    foreach my $file(@to_add) {\n        my $source_file = $source_folder.\"/\".$file;\n        my $target_file = $sync_folder.\"/\".$file;\n\n        unless(-e $source_file) {\n            print STDERR \"Failed to create link to '$source_file', file does not exist.\\n\";\n\n            next;\n        }\n\n        if(system('ln', $source_file, $target_file) != 0) {\n            print STDERR \"Failed to create link from '$target_file' to '$source_file'.\\n\";\n        }\n        else {\n            print \"Linked '$target_file' to '$source_file'.\\n\";\n        }\n    }\n\n    foreach my $file(@to_del) {\n        my $target_file = $sync_folder.\"/\".$file;\n\n        if(system('rm', $target_file) != 0) {\n            print STDERR \"Failed to remove file link '$target_file'.\\n\";\n        }\n        else {\n            print \"Removed link '$target_file'.\\n\";\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "replace"], "comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1474191874, "post_id": 39556036, "comment_id": 66423446, "body": "This code won&#39;t compile. There&#39;s a <code>&quot;</code> missing in the first line.  Compile your code before you paste it here (yes, I sometimes forget to do that, too)."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 5, "creation_date": 1474193744, "post_id": 39556036, "comment_id": 66423927, "body": "Put yourself in our shoes. You see code that can&#39;t possibly be the code the question is about. How many more differences will there turn out to be? How can you be sure the problem isn&#39;t somewhere else entirely? If you&#39;d spent a lot of time answering questions on SO you&#39;d realize how important this is."}, {"owner": {"reputation": 1150, "user_id": 4808130, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/9ad4b55620d1ceaaf0ce903a0c272224?s=128&d=identicon&r=PG&f=1", "display_name": "user1289", "link": "https://stackoverflow.com/users/4808130/user1289"}, "edited": false, "score": 0, "creation_date": 1474657815, "post_id": 39556036, "comment_id": 66637521, "body": "I&#39;m done :) see you later ;)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474658033, "post_id": 39556036, "comment_id": 66637638, "body": "@user1289  Cleaned up mine as well, thanks :)"}], "answers": [{"comments": [{"owner": {"reputation": 1150, "user_id": 4808130, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/9ad4b55620d1ceaaf0ce903a0c272224?s=128&d=identicon&r=PG&f=1", "display_name": "user1289", "link": "https://stackoverflow.com/users/4808130/user1289"}, "edited": false, "score": 0, "creation_date": 1474191800, "post_id": 39556165, "comment_id": 66423428, "body": "Thanks, I&#39;ll try with this one.  Yes for sure it&#39;s better than calling system, but I remember I couldn&#39;t make work such function on windows, probably I did something wrong."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1150, "user_id": 4808130, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/9ad4b55620d1ceaaf0ce903a0c272224?s=128&d=identicon&r=PG&f=1", "display_name": "user1289", "link": "https://stackoverflow.com/users/4808130/user1289"}, "edited": false, "score": 0, "creation_date": 1474192029, "post_id": 39556165, "comment_id": 66423486, "body": "@user1289  Alright.  This <i>has to</i> work.  It does only the very basic things -- opens a file, runs a simple regex, writes a file.  If anything is failing it has to be a simple error -- rewrite the code to more basic version, step at a time - explicit loop with two arrays instead of <code>map</code>, two files and <code>File::Copy::move</code> etc, to catch the error. Running the <code>system</code>, in particular on Windows, is far trickier.   Let me know if there is a problem."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 4, "creation_date": 1474192267, "post_id": 39556165, "comment_id": 66423544, "body": "You&#39;re in a Perl program, you have a piece of Perl code you want to execute. If you just make it a line of your program, Perl will interpret it and check it for errors (<a href=\"http://stackoverflow.com/questions/8023959/why-use-strict-and-warnings\">make sure it does!</a>).  Instead, you construct a call to <code>perl</code> and feed that to your command line interpreter (<code>cmd</code>? <code>bash</code>? something else?). Suddenly you have 3 interpreters working on that code, all doing their variable interpolations, quote interpretation, escaping, etcetera. That is much harder to get right."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1150, "user_id": 4808130, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/9ad4b55620d1ceaaf0ce903a0c272224?s=128&d=identicon&r=PG&f=1", "display_name": "user1289", "link": "https://stackoverflow.com/users/4808130/user1289"}, "edited": false, "score": 0, "creation_date": 1474238099, "post_id": 39556165, "comment_id": 66437046, "body": "@user1289  Great :) Let me know if anything pops up or if more or better explanation(s) would be useful."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1150, "user_id": 4808130, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/9ad4b55620d1ceaaf0ce903a0c272224?s=128&d=identicon&r=PG&f=1", "display_name": "user1289", "link": "https://stackoverflow.com/users/4808130/user1289"}, "edited": false, "score": 0, "creation_date": 1474253397, "post_id": 39556165, "comment_id": 66439808, "body": "@user1289 I&#39;ve added to the post considerably, it may be a good idea to read through it.  (The original <code>map</code> method is correct.)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1503707013, "last_edit_date": 1503707013, "creation_date": 1474191322, "answer_id": 39556165, "question_id": 39556036, "link": "https://stackoverflow.com/questions/39556036/perl-replacement-operator-doesnt-work-under-windows-when-patterns-contain-slash/39556165#39556165", "title": "Perl replacement operator doesn&#39;t work under Windows when patterns contain slashes", "body": "<p>I think it's got something to do with a syntax detail needed on Windows, but can't test now.</p>\n\n<p>However, as you are in a Perl script, why go out with <code>system</code> and run another Perl interpreter? It is far more complex and inefficient since it involves a syscall or a shell, and starts another program. Also, it is far harder to get it right -- you need to deal with syntax details, quoting and escaping, for <code>system</code>, your system's command interpreter, the other instance of Perl, and the regex. </p>\n\n<p>The code below reads the whole file into an array first, which is fine if files aren't huge.  In general it is better to process a file line by line, and how to do what you need in that way is discussed in detail in a <code>perlfaq5</code> page. See the comment at the end, with the link.</p>\n\n<pre><code>use warnings 'all';\nuse strict;\n\n# your code ...\n\nopen my $fh, '&lt;', $file  or die \"Can't open $file: $!\";\nmy @lines = &lt;$fh&gt;;\n\n# Change @lines in-place. See the comment\ns/STRING_TO_BE_REPLACED/$somedir/ for @lines;  \n\nopen $fh, '&gt;', $file  or die \"Can't open $file for write: $!\";\nprint $fh @lines;\nclose $fh;\n</code></pre>\n\n<p>When we open the <code>$fh</code> the second time it is closed and re-opened, so there is no need for an explicit <code>close</code>.  When an existing file is opened for writing (<code>'&gt;'</code>) it is clobbered, so this replaces it. </p>\n\n<p>It's more to write but it is better.</p>\n\n<p><strong>Comment on the in-place change to <code>@lines</code></strong>   &nbsp; This uses the fact that when iterating over an array if we change the index variable, here <code>$_</code>,  the change is made in the original element.  The index variable is like an alias for the array element. It says <a href=\"http://perldoc.perl.org/perlsyn.html#Foreach-Loops\" rel=\"nofollow noreferrer\">in perlsyn</a> </p>\n\n<blockquote>\n  <p>If any element of LIST is an lvalue, you can modify it by modifying VAR inside the loop. Conversely, if any element of LIST is NOT an lvalue, any attempt to modify that element will fail. In other words, the foreach loop index variable is an implicit alias for each item in the list that you're looping over. </p>\n</blockquote>\n\n<p>This has the benefit of not copying data and not touching elements that don't change so it is more efficient, potentially a lot more.  However, it relies on a subtle property and thus it may be tricky and error prone, so I do not recommend it as a general practice.</p>\n\n<p>To copy the array, with modifications, to a new one</p>\n\n<pre><code>my @lines_new;\nforeach my $line (@lines) { \n    $line =~ s{STRING_TO_BE_REPLACED}{$somedir};\n    push @lines_new, $line;\n}\n</code></pre>\n\n<p>This also changes <code>@lines</code>. If it need be kept intact do <code>(my $new_line = $line) =~ s/.../</code>. Then write <code>@lines_new</code> to <code>$file</code>.  Somewhere in between these two is </p>\n\n<pre><code>@lines = map { s{STRING_TO_BE_REPLACED}{$somedir}; $_ } @lines;\n</code></pre>\n\n<p>what was posted originally.  However, since the map changes elements of <code>@lines</code> <em>and</em> copies data to build the output list, while the whole statement <em>also</em> overwrites the array, on reflection I think it makes more sense to do either the in-place change or an explicit copy to a new array.</p>\n\n<hr>\n\n<p>In principle it is better to not read the whole file at once but rather to process line by line, unless the file is small enough. In that case open the file for reading and new one for writing, and after you copy (with changes) the file over, move the new one to rewrite <code>$file</code>.  See <a href=\"http://perldoc.perl.org/perlfaq5.html#How-do-I-change,-delete,-or-insert-a-line-in-a-file,-or-append-to-the-beginning-of-a-file?\" rel=\"nofollow noreferrer\">the topic in perlfaq5</a></p>\n\n<p>The copied file is temporary, to be used to overwrite <code>$file</code>, so it can be named using the core module <a href=\"http://perldoc.perl.org/File/Temp.html\" rel=\"nofollow noreferrer\">File::Temp</a> to avoid accidents. To move a file use <code>move</code> from the core module <a href=\"http://perldoc.perl.org/File/Copy.html\" rel=\"nofollow noreferrer\">File::Copy</a>. </p>\n"}], "owner": {"reputation": 1150, "user_id": 4808130, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/9ad4b55620d1ceaaf0ce903a0c272224?s=128&d=identicon&r=PG&f=1", "display_name": "user1289", "link": "https://stackoverflow.com/users/4808130/user1289"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 39556165, "answer_count": 1, "score": -2, "last_activity_date": 1503707013, "creation_date": 1474190466, "last_edit_date": 1474194265, "question_id": 39556036, "link": "https://stackoverflow.com/questions/39556036/perl-replacement-operator-doesnt-work-under-windows-when-patterns-contain-slash", "title": "Perl replacement operator doesn&#39;t work under Windows when patterns contain slashes", "body": "<p>I want to replace a string with a path:</p>\n\n<pre><code>my $somedir = \"D:/somedir/someotherdir\";\nsystem(\"perl -pi.bak -e \\\"s{STRING_TO_BE_REPLACED}{$somedir}\\\" $file\");\n</code></pre>\n\n<p>but under Windows it replaces string with random symbols instead of slashes.\nWhat's the problem?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1100, "user_id": 1243605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/13bf5581d0600c232722686068dfb133?s=128&d=identicon&r=PG", "display_name": "ericP", "link": "https://stackoverflow.com/users/1243605/ericp"}, "edited": false, "score": 0, "creation_date": 1474180502, "post_id": 39554716, "comment_id": 66420859, "body": "<a href=\"http://inforum.org.pt/INForum2010/papers/compiladores-e-linguagens-de-programacao/Paper083.pdf\" rel=\"nofollow noreferrer\">Parser Generation in Perl: an Overview and Available Tools</a> 2010 indicates that Parse::Yapp still holds reasonable value. It doesn&#39;t cover Pegex but LALR parsers offer considerable advantage over PEG in both speed and formality. Has Parse::Yapp fallen into disrepair or did it just not require maintenance until now? Assuming (hoping for) the latter, what&#39;s the minimum work involved in releasing an update?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 1100, "user_id": 1243605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/13bf5581d0600c232722686068dfb133?s=128&d=identicon&r=PG", "display_name": "ericP", "link": "https://stackoverflow.com/users/1243605/ericp"}, "edited": false, "score": 0, "creation_date": 1474218721, "post_id": 39554716, "comment_id": 66431408, "body": "@ericP <a href=\"http://neilb.org/adoption/\" rel=\"nofollow noreferrer\">Parse::Yapp is a candidate for adoption</a>, try that channel. <a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=Parse-Yapp\" rel=\"nofollow noreferrer\">Its bug queue</a> is remarkably small for a module that hasn&#39;t had a release in 15 years."}, {"owner": {"reputation": 1100, "user_id": 1243605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/13bf5581d0600c232722686068dfb133?s=128&d=identicon&r=PG", "display_name": "ericP", "link": "https://stackoverflow.com/users/1243605/ericp"}, "edited": false, "score": 1, "creation_date": 1498684870, "post_id": 39554716, "comment_id": 76606081, "body": "It appears that WBRASWELL has adopted <a href=\"https://metacpan.org/release/Parse-Yapp\" rel=\"nofollow noreferrer\">Yapp</a> and released V1.20 on 14 June 2017. Yay!"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 1, "last_activity_date": 1498685090, "last_edit_date": 1498685090, "creation_date": 1474179229, "answer_id": 39554716, "question_id": 39554683, "link": "https://stackoverflow.com/questions/39554683/how-do-i-fix-unescaped-left-brace-in-regex-is-deprecated-error-in-parseyapp/39554716#39554716", "title": "How do I fix &quot;Unescaped left brace in regex is deprecated&quot; error in Parse::Yapp?", "body": "<p><strike><a href=\"https://metacpan.org/pod/Parse::Yapp\" rel=\"nofollow noreferrer\">Parse::Yapp</a> hasn't had a release since 2001. I wouldn't hold my breath. Since it's effectively unmaintained I'd recommend either moving whatever you're using off of it or taking over maintenance. Consider something like <a href=\"https://metacpan.org/release/Pegex\" rel=\"nofollow noreferrer\">Pegex</a> or <a href=\"https://metacpan.org/pod/Regexp::Grammars\" rel=\"nofollow noreferrer\">Regexp::Grammars</a> instead.</p>\n\n<p>Fortunately this problem has been reported twice, both contain patches. See <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=114776\" rel=\"nofollow noreferrer\">rt.cpan.org 114776</a> and <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=106685\" rel=\"nofollow noreferrer\">rt.cpan.org 10668</a>.</strike></p>\n\n<p><a href=\"https://metacpan.org/release/Parse-Yapp\" rel=\"nofollow noreferrer\">Maintenance has been picked up and 1.20 appears to fix the problem</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1100, "user_id": 1243605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/13bf5581d0600c232722686068dfb133?s=128&d=identicon&r=PG", "display_name": "ericP", "link": "https://stackoverflow.com/users/1243605/ericp"}, "is_accepted": false, "score": 1, "last_activity_date": 1474179449, "creation_date": 1474179449, "answer_id": 39554739, "question_id": 39554683, "link": "https://stackoverflow.com/questions/39554683/how-do-i-fix-unescaped-left-brace-in-regex-is-deprecated-error-in-parseyapp/39554739#39554739", "title": "How do I fix &quot;Unescaped left brace in regex is deprecated&quot; error in Parse::Yapp?", "body": "<p>perldb's stack trace revealed (or implied that) the file is Parse/Yapp/Parse.pm. Here's a patch:</p>\n\n<pre><code>diff -u /usr/share/perl5/Parse/Yapp/Parse.pm{~,}\n--- /usr/share/perl5/Parse/Yapp/Parse.pm~   2001-05-20 07:19:57.000000000 -0400\n+++ /usr/share/perl5/Parse/Yapp/Parse.pm    2016-09-18 02:12:09.116799976 -0400\n@@ -880,7 +880,7 @@\n         return($1, [ $1, $lineno[0] ]);\n     };\n\n-        $$input=~/\\G{/gc\n+        $$input=~/\\G\\{/gc\n     and do {\n         my($level,$from,$code);\n\n@@ -907,7 +907,7 @@\n         and return('START',[ undef, $lineno[0] ]);\n             $$input=~/\\G%(expect)/gc\n         and return('EXPECT',[ undef, $lineno[0] ]);\n-            $$input=~/\\G%{/gc\n+            $$input=~/\\G%\\{/gc\n         and do {\n             my($code);\n</code></pre>\n\n<p>Hopefully this will save others some detective work.</p>\n"}, {"tags": [], "owner": {"reputation": 2037, "user_id": 9812548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VS24T.jpg?s=128&g=1", "display_name": "Dan Anderson", "link": "https://stackoverflow.com/users/9812548/dan-anderson"}, "is_accepted": false, "score": -1, "last_activity_date": 1557253558, "creation_date": 1557253558, "answer_id": 56028513, "question_id": 39554683, "link": "https://stackoverflow.com/questions/39554683/how-do-i-fix-unescaped-left-brace-in-regex-is-deprecated-error-in-parseyapp/56028513#56028513", "title": "How do I fix &quot;Unescaped left brace in regex is deprecated&quot; error in Parse::Yapp?", "body": "<p>This also occurs if you are calling a <code>ksh</code> shell script (such as <code>print</code>) from a non-ksh shell (such as <code>bash</code>).</p>\n"}], "owner": {"reputation": 1100, "user_id": 1243605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/13bf5581d0600c232722686068dfb133?s=128&d=identicon&r=PG", "display_name": "ericP", "link": "https://stackoverflow.com/users/1243605/ericp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3394, "favorite_count": 0, "accepted_answer_id": 39554716, "answer_count": 3, "score": 1, "last_activity_date": 1557253558, "creation_date": 1474178908, "question_id": 39554683, "link": "https://stackoverflow.com/questions/39554683/how-do-i-fix-unescaped-left-brace-in-regex-is-deprecated-error-in-parseyapp", "title": "How do I fix &quot;Unescaped left brace in regex is deprecated&quot; error in Parse::Yapp?", "body": "<p>The Parse::Yapp currently shiping on Ubuntu 16.04 (xenial) is slightly behind perl in that it uses unescaped '{'s in regular expressions. The error message indicates that it's in YappParse.yp which doesn't exist. In the interest of patching it locally until a new version of Parse::Yapp comes down the pipe, what template file is it in?</p>\n\n<p>{yapp}</p>\n\n<blockquote>\n  <p>Unescaped left brace in regex is deprecated, passed through in regex; marked by &lt;-- HERE in m/\\G{ &lt;-- HERE / at YappParse.yp line 288.<br/>\n  Unescaped left brace in regex is deprecated, passed through in regex; marked by &lt;-- HERE in m/\\G%{ &lt;-- HERE / at YappParse.yp line 315.</p>\n</blockquote>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 65, "user_id": 5508051, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1215450155138332/picture?type=large", "display_name": "Sudhir Mishra", "link": "https://stackoverflow.com/users/5508051/sudhir-mishra"}, "edited": false, "score": 0, "creation_date": 1474195588, "post_id": 39554403, "comment_id": 66424378, "body": "do i need to upgrade cgi ? i am able to scp the file directly without issue  but when i use the upload function , seeing this issue."}, {"owner": {"reputation": 192, "user_id": 5185210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNqsL.png?s=128&g=1", "display_name": "oals", "link": "https://stackoverflow.com/users/5185210/oals"}, "edited": false, "score": 0, "creation_date": 1474227611, "post_id": 39554403, "comment_id": 66434267, "body": "You could try using <code>read()</code> instead of <code>readline()</code> (aka <code>&lt;&gt;</code>); Also, <code>$q-param(&#39;file&#39;)</code> is a typo."}, {"owner": {"reputation": 192, "user_id": 5185210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNqsL.png?s=128&g=1", "display_name": "oals", "link": "https://stackoverflow.com/users/5185210/oals"}, "edited": false, "score": 0, "creation_date": 1474228300, "post_id": 39554403, "comment_id": 66434481, "body": "Also, can you give a hex-dump of the file as it is stored on the server? <code>hexdump -C yourfilehere</code> on *nix."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474254951, "post_id": 39554403, "comment_id": 66440145, "body": "I wonder how portable Storable&#39;s format is. Could you use JSON or YAML instead?"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 5508051, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1215450155138332/picture?type=large", "display_name": "Sudhir Mishra", "link": "https://stackoverflow.com/users/5508051/sudhir-mishra"}, "edited": false, "score": 0, "creation_date": 1474177567, "post_id": 39554503, "comment_id": 66420248, "body": "I am passing a hash ref only"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1474209403, "post_id": 39554503, "comment_id": 66428162, "body": "<code>my $hash = {...};</code> <i>is</i> a hash reference, so there&#39;s no need to take a reference to it in the <code>nstore()</code> call."}], "tags": [], "owner": {"reputation": 161, "user_id": 6844519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fgi3t.jpg?s=128&g=1", "display_name": "Joe Inwap", "link": "https://stackoverflow.com/users/6844519/joe-inwap"}, "is_accepted": false, "score": -2, "last_activity_date": 1474177276, "creation_date": 1474177276, "answer_id": 39554503, "question_id": 39554403, "link": "https://stackoverflow.com/questions/39554403/file-corrupted-when-hash-value-is-greater-than-128-char-in-perl/39554503#39554503", "title": "file corrupted when hash value is greater than 128 char in perl", "body": "<p>Your example does not show nstore() being given a hash ref as its first arg.</p>\n\n<pre><code>nstore(\\$hash, \"$temp_dir/temp_file\");\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 5508051, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1215450155138332/picture?type=large", "display_name": "Sudhir Mishra", "link": "https://stackoverflow.com/users/5508051/sudhir-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474177276, "creation_date": 1474176307, "last_edit_date": 1474177188, "question_id": 39554403, "link": "https://stackoverflow.com/questions/39554403/file-corrupted-when-hash-value-is-greater-than-128-char-in-perl", "title": "file corrupted when hash value is greater than 128 char in perl", "body": "<p>I have a hash that contains a  value which is more than 128 char , now I am storing that hash in a file through nstore function.</p>\n\n<pre><code>use strict ; \nuse warnings ; \nuse Storable qw(store nstore retrieve);\n\nmy $hash = {\n\n###value more than 128 char\n'a.key.value.in.a.hash.that.will.be.sored.in.a.file' =&gt; 'some.value.that.is.not.getting.stored.on.the.remote.server.strange.enough.if.length.is.greate.than.128.char.may.some.perl.issueee'\n};\n\nmy $temp_dir = 'C:\\TEMP\\log'; \n\nnstore($hash, \"$temp_dir/temp_file\");\n</code></pre>\n\n<p>Now I am trying to upload this file through cgi upload function from local to remote server.</p>\n\n<p><code>http://localhost/some/api?file=file</code> on the local machine that generated through nstore</p>\n\n<pre><code>sub post  {\n\n\n    my $q = new CGI;\n    my $filename = $q-param('file'); \n    my $upload_filehandle = $q-&gt;upload(\"file\");\n\n    open ( UPLOADFILE, \"&gt;$upload_dir/$filename\" ) or die \"$!\";\n    binmode UPLOADFILE;\n\n    while ( &lt;$upload_filehandle&gt; ) {\n        print UPLOADFILE;\n    }\n\n    close UPLOADFILE;\n\n}\n</code></pre>\n\n<p>The issue is if hash value length is greater than 128 than the file on the remte machine is getting corrupted and I am unable to retrive it back witrh storable retrieve function</p>\n"}, {"tags": ["perl", "floating-point"], "comments": [{"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1474142969, "post_id": 39551006, "comment_id": 66414163, "body": "Perhaps investigate <code>BigNum</code> or other arbitrary precision package. There is no easy fix with IEEE 754 numbers since the precision is -- floating. You could look at the binary representation of what was passed and what is about to be printed."}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1474143047, "post_id": 39551006, "comment_id": 66414189, "body": "Should I just deprecate the passing of floating numbers for such sensitive functions, and suggest using safer object/string representations that the function can check instead? This seems to make sense but then I have the issue of how to check if the function input was a string or a number(both are scalar and fail ref test). These functions rely on users being aware of floating/double limits and carefully checking their inputs themselves."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 1, "creation_date": 1474143795, "post_id": 39551006, "comment_id": 66414394, "body": "All these languages you are pointing out use exactly the same method to represent floats: IEEE 754. Also, some languages round the representation when you print the number but the number itself is unchanged. The only way to change the behavior is to use a different representation or interpretation of a float."}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1474144177, "post_id": 39551006, "comment_id": 66414497, "body": "Is the general answer then &quot;no, it is not possible to detect if a floating point literal in source code has been implicitly converted.&quot;?"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 2, "creation_date": 1474144628, "post_id": 39551006, "comment_id": 66414609, "body": "If they can put a man on the moon... Of course, it is possible, but it will be a project. Consider <code>perl -le &#39;printf(&quot;%.18f\\n&quot;, 0.49999999999999994-10)&#39;</code> That prints <code>-9.500000000000000000</code> so the small difference is forever lost with IEEE 754 unless you can catch the difference. I think the only short route is to use BigNum or <a href=\"http://perldoc.perl.org/Math/BigFloat.html\" rel=\"nofollow noreferrer\">Math::BigFloat</a> and comparing the full representation of the BigFloat to the internal IEEE 754 representation in strings. That is a start."}, {"owner": {"reputation": 24600, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 3, "creation_date": 1474144833, "post_id": 39551006, "comment_id": 66414658, "body": "&quot;my gcc does not warn me that the number has not been stored precisely&quot; &lt;- Such warnings would be close to useless. The overwhelming majority of non-integral floating-point literals in code won&#39;t be stored precisely. Do you really want to see a message like &quot;WARNING: 0.2 is not exactly representable; converted to 0.200000000000000011102230246251565404236316680908203125&quot; for every single floating-point literal?"}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "reply_to_user": {"reputation": 24600, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1474145368, "post_id": 39551006, "comment_id": 66414787, "body": "@MarkDickinson ok you have a point, but perhaps these warnings can be suppressed by the compiler but do additional tests such as testing if the result of the converted number &quot;rounds&quot; differently than non converted number. Also, 0.2 is representable; I&#39;d like an example using a common non representable number that cannot be manually rounded to something close that is representable. If 0.2 was not representable, there would be an issue finding a number close to it that works just as good that doesn&#39;t look strange."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1474145525, "post_id": 39551006, "comment_id": 66414818, "body": "All this is fine, but what do you <i>need</i>? None of this is useful without a context. If you require precision then just use integers with a separate scaling factor. Floating point values exist only because it is sometimes useful to perform slightly inaccurate computations. If that doesn&#39;t work for you then you need an integer or a rational, but remember that there are many irrational numbers like pi and e that your computer can never represent accurately."}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474145588, "post_id": 39551006, "comment_id": 66414833, "body": "@Borodin i was just curious if this conversion can be caught or not, the answer seems to be &quot;no&quot; at least unless you rebuild Perl to do additional tests on implicit floating point converisons. I don&#39;t want more precision, I want to know that if the value is not representable, and if it isnt, warn that it is not representable so that behavior of round does not surprise people unaware of floating point behavior. There is a huge difference between 0 and 1."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1474146060, "post_id": 39551006, "comment_id": 66414943, "body": "@Dmitry: The internal representation of a floating-point value will almost always have a different value from its string form. Perl will keep an integer value when it can, but as soon as you do, say, a division, you may be left with an accurate result (27/3) or an inaccurate one (2/3). It still comes down to why you&#39;re interested in this in the first place. As <a href=\"http://stackoverflow.com/questions/39551006/can-perl-detect-if-a-floating-point-number-has-been-implicitly-rounded#comment66414658_39551006\"><b>Mark Dickinson</b> suggests</a> there is little point in warning every transgression."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1474146458, "post_id": 39551006, "comment_id": 66415036, "body": "@Dmitry: An abstract question can only get you a little information, and the answer still depends on what you&#39;re trying to do. It seems unlikely that you&#39;re worried about literal number in code, so what <i>are</i> you dealing with?"}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474147190, "post_id": 39551006, "comment_id": 66415253, "body": "@Borodin I&#39;m dealing with building a Math wrapper that has a round function, but when a user enters 0.49999999999999994, there is no way to let the user know that the number cannot be rounded safely, since the function is suppose to round up if the number is 0.5 or higher, but it can&#39;t know if the 0.5 or 0.51 are what the user entered, or what compilation decided to replace user input with, and the user has no idea that their number is not representable because the language does not say anything, in turn it is not obvious what the issue is in long chains of computation."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474149140, "post_id": 39551006, "comment_id": 66415707, "body": "@Dmitry: But any system will distinguish between 0.49, 0.50, and 0.51. It is the huge amount of precision that you&#39;re asking for that is getting in your way, and it seems unnecessary."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1474149963, "post_id": 39551006, "comment_id": 66415868, "body": "<i>&quot;Only when I remove another 9, it actually stores the number precisely&quot;</i> No. Only when you remove that <code>9</code> does the <i>printed output</i> equal the input string. Floating point is accurate enough for the vast majority of applications. I think it is far more likely that you need to understand better how to handle floats in your code. 0.49999999999999994 is an accuracy of one in a quadrillion. That&#39;s <i>huge</i>, it&#39;s 100,000 times the population of the earth, and you need to be doing some specialist stuff for it to matter."}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1474155372, "post_id": 39551006, "comment_id": 66416938, "body": "I don&#39;t really care about precision, I just wanted to know if the conversion can be trapped or not. Even if I had 50,000 byte float, I would still get a conversion that rounds 0.49... with enough 9s to 0.5 and in turn causes wrong round behavior."}, {"owner": {"reputation": 24600, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 1, "creation_date": 1474183811, "post_id": 39551006, "comment_id": 66421562, "body": "&quot;Also, 0.2 is representable&quot; . No, it&#39;s not! Floats are stored internally in <i>binary</i>, and <code>0.2</code> is <i>not</i> exactly representable in the usual IEEE 754 binary64 format used. It&#39;s converted internally to the exact value that I gave in my earlier comment; that wasn&#39;t a made-up number. :-)"}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "reply_to_user": {"reputation": 24600, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1474186526, "post_id": 39551006, "comment_id": 66422096, "body": "@MarkDickinson okay I stand corrected. Anyway discussion on what how to improve IEEE is outside the scope of the thread. I am only curious if it was possible to enable such warnings or not."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1474203525, "post_id": 39551006, "comment_id": 66426442, "body": "What is your actual problem? Why do you think you need this?"}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1474218819, "post_id": 39551006, "comment_id": 66431448, "body": "@Sinan&#220;n&#252;r I want my math library wrapper to warn the user if their round call will produce an incorrect result due to implicit conversion, but since the conversion cannot be trapped, I cannot protect the user without changing to a non ieee model that lets the round function know what value the user actually entered(eg string or hashmap), since the conversion happens at compile time, and the actual user input to the function is not available to the round function to test whether it is doing the right thing: it simply doesnt have the information, the call cant trap it and correct itself."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1474290599, "post_id": 39551006, "comment_id": 66457767, "body": "@Dmitry Yes, the problem as far as I can see it is the desire to do that. Keep in mind that there are a finite number of numbers that can represented exactly in floating point where as <b><i>ANY</i></b> interval, such as <code>[0,1]</code> contains <b><i>uncountably many</i></b> real numbers. Therefore, any reasonable use of your library would cause the user to be drowned in warnings."}], "answers": [{"comments": [{"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1474143235, "post_id": 39551259, "comment_id": 66414239, "body": "This helps, how does it work internally? It seems to completely change the way &quot;(\\d+)[.](\\d+)&quot; terminals are processed without recompiling the whole Perl interpretor. Also, doesn&#39;t it also reach a point where it does implicit rounding, except its much larger? Unfortunately it still suffers from the problem  that if the user tries to pass the number, it will still round unless the user also uses bignum(not just the perl module), which is not obvious unless we trust the user to read the module documentation(Which fails principle of least astonishment)."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "reply_to_user": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1474143611, "post_id": 39551259, "comment_id": 66414337, "body": "BigInt is a wrapper around the GNU <a href=\"https://gmplib.org\" rel=\"nofollow noreferrer\">GMP</a> library. There are certainly internal differences to how floats are represented; perhaps speed issues; certainly binary interchange issues. The representation textually should be the same."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 1, "creation_date": 1474171547, "post_id": 39551259, "comment_id": 66419236, "body": "@Dmitry: bignum uses the overload::constant hook <a href=\"https://metacpan.org/pod/overload#Overloading-Constants\" rel=\"nofollow noreferrer\">metacpan.org/pod/overload#Overloading-Constants</a>; you can do that yourself too."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 1, "creation_date": 1474209777, "post_id": 39551259, "comment_id": 66428297, "body": "bignum does not appear to address the OP&#39;s concern over exact representation of floating-point numbers. <code>perl -Mbignum -E &#39;printf &quot;%0.30f\\n&quot;, 0.2&#39;</code> still prints <code>0.200000000000000011102230246252</code>."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "reply_to_user": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 2, "creation_date": 1474221387, "post_id": 39551259, "comment_id": 66432352, "body": "@DaveSherohman   BigNum is not <i>infinite</i> precision; it is <i>extended</i> precision. If you want to control how much extended precision you wish to pay for (in terms of speed and storage requirements) you would use <a href=\"http://perldoc.perl.org/Math/BigFloat.html\" rel=\"nofollow noreferrer\">Math::BigFloat</a> and set the desired precision. The example you used suffers its own issues: The <code>printf %0.30f&quot;</code> causes a conversion to IEEE 754 floats and that is why you see artifacts. Try: <code>$ perl -Mbignum -E &#39;print 0.2*100000000000000000000000000000, &quot;\\n&quot;&#39;</code>"}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 6, "last_activity_date": 1474143960, "last_edit_date": 1474143960, "creation_date": 1474143115, "answer_id": 39551259, "question_id": 39551006, "link": "https://stackoverflow.com/questions/39551006/can-perl-detect-if-a-floating-point-number-has-been-implicitly-rounded/39551259#39551259", "title": "Can Perl detect if a floating point number has been implicitly rounded?", "body": "<p>Perhaps use <a href=\"http://perldoc.perl.org/bignum.html\" rel=\"noreferrer\">BigNum</a>:</p>\n\n<pre><code>$ perl -Mbignum -le 'print 0.49999999999999994'\n0.49999999999999994\n$ perl -Mbignum -le 'print 0.49999999999999994+0.1'\n0.59999999999999994\n$ perl -Mbignum -le 'print 0.49999999999999994-0.1'\n0.39999999999999994\n$ perl -Mbignum -le 'print 0.49999999999999994+10.1'\n10.59999999999999994\n</code></pre>\n\n<p>It transparently extends precision of Perl floating point and ints to extended precision. </p>\n"}, {"comments": [{"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1474219971, "post_id": 39559011, "comment_id": 66431875, "body": "I don&#39;t want to build a general purpose library, but rather I want to make a wrapper for Perl math library to act exactly like JavaScript&#39;s Math object. Everything seemed fairly easy until I hit the problem that Perl has no easily accessible &quot;round&quot; function, so I tried writing my own and realized that round simply doesn&#39;t have the information to check whether or not it is doing the right thing, because floats like 0.49.... get converted to 0.5 rather than 0.4, thus breaking round&#39;s invariant without any way for round to know it. I wanted to know if there are clever ways to let round recover."}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1474220229, "post_id": 39559011, "comment_id": 66431956, "body": "I can&#39;t shift to another model without making the Math library no longer have the same interface as the JavaScript Math object. At the same time if I stick to the interface, I have no means to detect if the user input which is 0.4999... has been converted to 0.5. It would not be a problem if I could force this particular function to capture the float input as a string(if it was direct input), so that round could check if it is doing the right thing. However this does not seem possible neither; I have to explicitly force user to pass a string or a non float object as input to protect them."}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1474220393, "post_id": 39559011, "comment_id": 66432008, "body": "If my library ends up being used for something important(not likely but what if), and someone who has no idea how floating points work enters 0.499999.. to be rounded for some reason, my library cannot correct this seemingly trivial conversion: it has no idea that the conversion had occured, nor what the actual user input string was before it was converted to fit into a double."}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1474220630, "post_id": 39559011, "comment_id": 66432091, "body": "Maybe i&#39;m just overthinking it. It is logically impossible to  even try to capture such an input by nature of floating point numbers being a native type with no info of how the actual definition string user typed in looked like. The proper way to handle it is to add a warning to documentation and if I really care enough about it, write a round_safe function that accepts a rich data type as input that is less efficient but does not propagate such errors. And if I am really pedantic about it, I can make round output a warning to use round_safe instead."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "reply_to_user": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 2, "creation_date": 1474221480, "post_id": 39559011, "comment_id": 66432373, "body": "@Dmitry: You can control rounding. Use <a href=\"http://perldoc.perl.org/Math/BigFloat.html#Rounding\" rel=\"nofollow noreferrer\">Math::BigFloat rounding features...</a>"}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1474222868, "post_id": 39559011, "comment_id": 66432841, "body": "@dawg do those features require me to use BigFloat, or can I use them to change implicit rounding 0.49999... from 0.5 to 0.4~, or am I misunderstanding it."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 1, "creation_date": 1474225301, "post_id": 39559011, "comment_id": 66433620, "body": "Yes, you would need to use one of those packages or you will get default behavior. Or write your own. Or, use <code>round</code> from the POSIX module. Or, use Math::Round from cpan. <a href=\"https://en.wikipedia.org/wiki/There%27s_more_than_one_way_to_do_it\" rel=\"nofollow noreferrer\">Tim Toady</a> There is a <a href=\"http://floating-point-gui.de/languages/perl/\" rel=\"nofollow noreferrer\">cheat sheet</a> that may help."}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 0, "last_activity_date": 1474210530, "creation_date": 1474210530, "answer_id": 39559011, "question_id": 39551006, "link": "https://stackoverflow.com/questions/39551006/can-perl-detect-if-a-floating-point-number-has-been-implicitly-rounded/39559011#39559011", "title": "Can Perl detect if a floating point number has been implicitly rounded?", "body": "<p>As you said in the question, dealing with floating-point numbers in code is quite the can of worms, precisely because the standard floating-point representation, regardless of the precision employed, is incapable of accurately representing many decimal numbers.  The only 100% reliable way around this is to <em>not use floating-point numbers</em>.</p>\n\n<p>The easiest way to apply that is to instead use fixed-point numbers, although that limits precision to a fixed number of decimal places.  e.g., Instead of storing 10.0050, define a convention that all numbers are stored to 4 decimal places and store 100050 instead.</p>\n\n<p>But that doesn't seem likely to satisfy you, based on the minimal explanation you've given for what you're actually trying to accomplish (building a general-purpose math library).  The next option, then, would be to store the number of decimal places as a scaling factor with each value.  So 10.0050 would become an object containing the data <code>{ value =&gt; 100050, scale =&gt; 4 }</code>.</p>\n\n<p>This can then be extended into a more general \"rational number\" data type by effectively storing each number as a numerator and denominator, thus allowing you to precisely store numbers such as 1/3, which neither base 2 nor base 10 can represent exactly.  This is, incidentally, the approach that I am told Perl 6 has taken.  So, if switching to Perl 6 is an option, then you may find that it all Just Works for you once you do so.</p>\n"}, {"tags": [], "owner": {"reputation": 1489, "user_id": 1233840, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a610f8ff037b91215b8140a51d279ad6?s=128&d=identicon&r=PG", "display_name": "cnd", "link": "https://stackoverflow.com/users/1233840/cnd"}, "is_accepted": false, "score": 1, "last_activity_date": 1525749615, "creation_date": 1525749615, "answer_id": 50225315, "question_id": 39551006, "link": "https://stackoverflow.com/questions/39551006/can-perl-detect-if-a-floating-point-number-has-been-implicitly-rounded/50225315#50225315", "title": "Can Perl detect if a floating point number has been implicitly rounded?", "body": "<p>be aware that bignum is 150 times slower than internal and other math solutions, and will typicaly NOT solve your problem (as soon as you need to store your numbers in JSON or databases or whatever, you're back at the same problem again).</p>\n\n<p>Typically, sprintf takes care of prettying your output for you, so you do not have to <em>see</em> the ugly imprecision, however, it's still there.</p>\n\n<p>Here is an example which works on my x64 platform which understands how to deal with that imprecision.</p>\n\n<p>This correctly tells you if the 2 numbers you're interested in are the same:</p>\n\n<pre><code>sub safe_eq {\n  my($var1,$var2)=@_;\n  return 1 if($var1==$var2);\n  my $dust;\n  if($var2==0) { $dust=abs($var1); }\n  else { $dust= abs(($var1/$var2)-1); }\n  return 0 if($dust&gt;5.32907051820076e-15 ); # dust &lt;= 5.32907051820075e-15 \n  return 1;\n}\n</code></pre>\n\n<p>You can build on top of this to solve all your problems.</p>\n\n<p>It works by understanding the magnitude of the imprecision in your native numbers, and accommodating it.</p>\n"}], "owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 1, "answer_count": 3, "score": 4, "last_activity_date": 1525749615, "creation_date": 1474141367, "last_edit_date": 1474148248, "question_id": 39551006, "link": "https://stackoverflow.com/questions/39551006/can-perl-detect-if-a-floating-point-number-has-been-implicitly-rounded", "title": "Can Perl detect if a floating point number has been implicitly rounded?", "body": "<p>When I use the code: </p>\n\n<pre><code>(sub {\n    use strict;\n    use warnings;\n\n    print 0.49999999999999994;\n})-&gt;();\n</code></pre>\n\n<p>Perl outputs \"0.5\".</p>\n\n<p>And when I remove one \"9\" from the number:</p>\n\n<pre><code>(sub {\n    use strict;\n    use warnings;\n\n    print 0.4999999999999994;\n})-&gt;();\n</code></pre>\n\n<p>It prints 0.499999999999999.</p>\n\n<p>Only when I remove another 9, it actually stores the number precisely.</p>\n\n<p>I know that floating point numbers are a can of worms nobody wants to deal with, but I am curious if there is a way in Perl to \"trap\" this implicit conversion and die, so that I can use eval to catch this die and let the user know that the number they are trying to pass is not supported by Perl in its' native form(So the user can maybe pass a string or an object instead).</p>\n\n<p>The reason why I need this is to avoid a situations like passing 0.49999999999999994 to be rounded by my function, but the number gets converted to 0.5, and in turn gets rounded to 1 instead of 0. I am not sure how to \"intercept\" this conversion so that my function \"knows\" that it did not actually get 0.5 as input, but that the user's input was intercepted.</p>\n\n<p>Without knowing how to intercept this kind of conversion, I cannot trust \"round\" because I do not know whether it received my input as I sent it, or if that input has been modified(at compile time or runtime, not sure) before the function was called(and in turn, the function has no idea if the input it is operating on is the input the user intended or not and has no means to warn the user).</p>\n\n<p>This is not a Perl unique problem, it happens in JavaScript:</p>\n\n<pre><code>(() =&gt; {\n    'use strict';\n\n    /* oops: 1 */\n    console.log(Math.round(0.49999999999999999))\n})();\n</code></pre>\n\n<p>It happens in Ruby:</p>\n\n<pre><code>(Proc.new {\n    # oops: 1 \n    print (0.49999999999999999.round)\n}).call()\n</code></pre>\n\n<p>It happens in PHP:</p>\n\n<pre><code>&lt;?php\n(call_user_func(function() {\n    /* oops: 1 */\n    echo round(0.49999999999999999);\n}));\n?&gt;\n</code></pre>\n\n<p>it even happens in C(which is okay to happen, but my gcc does not warn me that the number has not been stored precisely(when specifying specific floating point literals, they had better be stored exactly, or the compiler should warn you that it decided to turn it into another form(e.g. \"Your number x cannot be represented in 64 bit/32 bit floating point form, so I converted it to y.\" ) so you can see if that's okay or not, in this case it is NOT)):</p>\n\n<pre><code>#include &lt;math.h&gt;\n#include &lt;stdio.h&gt;\n\nint main(int argc, char **argv)\n{\n    /* oops: 1 */\n    printf(\"%f.\\n\", round(0.49999999999999999));\n\n    return 0;\n}\n</code></pre>\n\n<p><strong>Summary</strong>:</p>\n\n<p>Is it possible to make Perl show error or warning on implicit conversions of floating numbers, or is this something that Perl5(along with other languages) are incapable of doing at this moment(e.g. The compiler does not go out of its' way to support such warnings/offer a flag to enable such warnings)?</p>\n\n<p>e.g. </p>\n\n<blockquote>\n  <p>warning: the number 0.49999999999999994 is not representable, it has been converted to 0.5. using bigint might solve this. Consider reducing precision of the number.</p>\n</blockquote>\n"}, {"tags": ["perl", "sorting"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1474127584, "post_id": 39548146, "comment_id": 66409627, "body": "If that is <i>one line</i> of your input file then we can&#39;t possibly help you to sort it: it is already sorted! Please take a look at <a href=\"http://stackoverflow.com/questions/how-to-ask\"><i>How do I ask a good question?</i></a> and <a href=\"http://stackoverflow.com/editing-help\"><i>Markdown Editing Help</i></a>. You should provide much more information."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 2678895, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f08507e1f89e97f689eb8ca70c386b80?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/2678895/nikson"}, "edited": false, "score": 0, "creation_date": 1474130098, "post_id": 39548832, "comment_id": 66410380, "body": "Thanks, could you write it as a stand alone script, since I am newbie in perl"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 2, "last_activity_date": 1474191145, "last_edit_date": 1474191145, "creation_date": 1474127917, "answer_id": 39548832, "question_id": 39548146, "link": "https://stackoverflow.com/questions/39548146/sort-mixed-text-lines-alphanum-in-perl/39548832#39548832", "title": "Sort mixed text lines (alphanum) in Perl", "body": "<p>You could use <a href=\"https://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"nofollow\">Schwartzian Transform</a>.</p>\n\n<p>Here is a small script that does the job:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen my $fhi, '&lt;', 'path/to/input/file' or die \"Unable to open input file: $!\";\nmy @lines = &lt;$fhi&gt;;\nmy @sorted = map { $_-&gt;[0] }\n             sort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] }\n             map { my ($x) = $_ =~ /SeqNo:U\\((\\d+)/i; [$_, $x]; }\n             @lines;\nopen my $fho, '&gt;', 'path/to/output/file' or die \"Unable to open output file: $!\";\nprint $fho $_ for @sorted;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 2678895, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f08507e1f89e97f689eb8ca70c386b80?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/2678895/nikson"}, "edited": false, "score": 0, "creation_date": 1474210942, "post_id": 39557593, "comment_id": 66428663, "body": "Thanks  for the explanation. It is really  nice to be able to learn with you guys here.   Cheers!"}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 2, "last_activity_date": 1474201234, "last_edit_date": 1495540853, "creation_date": 1474201234, "answer_id": 39557593, "question_id": 39548146, "link": "https://stackoverflow.com/questions/39548146/sort-mixed-text-lines-alphanum-in-perl/39557593#39557593", "title": "Sort mixed text lines (alphanum) in Perl", "body": "<p>The <em>Schwartzian Transform</em> as suggested in <a href=\"https://stackoverflow.com/a/39548832/5830574\">Toto's answer</a> is probably the fastest way to sort your lines here. But you said you're a Perl newbie, and I like to show how the lines can be sorted <em>traditionally</em>.</p>\n\n<p>Perl has a <a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\"><code>sort</code> function</a> that sorts a list simply by alphabet. But you can supply a custom comparison function and let <code>sort</code> use <em>your</em> function to compare the elements. During its operation <code>sort</code> must continuously compare two elements (=lines) of your list and decide which one is greater or lesser or whether they are equal.</p>\n\n<p>If you supply a comparison function, <code>sort</code> will call it with two such elements as the parameters <code>$a</code> and <code>$b</code>. You <strike>do not need to</strike> must not declare <code>$a</code> and <code>$b</code>, they are magic and just there. Your comparison function could look like this:</p>\n\n<pre><code>sub by_seqNo\n{\n    # extract the sequence number from $a and $b\n    my ($seqA) = ($a =~ /seqNo:U\\((\\d+)/);\n    my ($seqB) = ($b =~ /seqNo:U\\((\\d+)/);\n\n    # numerically compare the sequence numbers (returns -1/0/+1)\n    $seqA &lt;=&gt; $seqB;\n}\n</code></pre>\n\n<p>The first two lines extract the numbers after <code>seqNo:U(</code> and store them as <code>$seqA</code> and <code>$seqB</code>. The third line compares these sequence numbers as integers and returns that result. Combined with the <code>sort</code> function this gives:</p>\n\n<pre><code>my @sorted = sort by_seqNo @lines;\n</code></pre>\n\n<p>The reason why the <em>Schwartzian Transform (ST)</em> is faster than this solution is because the ST does the (expensive) operation of extracting the seqNo from your lines exactly once for each line. The \"traditional\" approach on the other hand extracts the seqNo twice for each comparison.</p>\n"}], "owner": {"reputation": 67, "user_id": 2678895, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f08507e1f89e97f689eb8ca70c386b80?s=128&d=identicon&r=PG&f=1", "display_name": "Nikson", "link": "https://stackoverflow.com/users/2678895/nikson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 39557593, "answer_count": 2, "score": -2, "last_activity_date": 1474201234, "creation_date": 1474123828, "last_edit_date": 1474191305, "question_id": 39548146, "link": "https://stackoverflow.com/questions/39548146/sort-mixed-text-lines-alphanum-in-perl", "title": "Sort mixed text lines (alphanum) in Perl", "body": "<p>I have txt file with every line structure like this:</p>\n\n<pre><code>P[containerVrsn:U(0)recordVrsn:U(0)size:U(212)ownGid:G[mdp:U(1090171666)**seqNo:U(81920)**]logicalDbNo:U(1)classVrsn:U(1)timeStamp:U(0)dbRecord:T[classNo:U(1064620)size:U(184)updateVersion:U(3)checksum:U(748981000)\n</code></pre>\n\n<p>And have to sort file lines based on seqNo (min to max). Sequence number can be virtually any number starting from zero. Any idea how can it be done in efficient way? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474103866, "post_id": 39545059, "comment_id": 66402764, "body": "Here is my results :  Current port-limit unlimited Protocol Stack IPV4 ip address  (applied) qos-policing-policy rate-2M-in (applied) qos-metering-policy rate-2M-out (applied) [sCLIPS]Redback(config-ctx)#         and i need to print only   qos-policing-policy rate-2M-in (applied)  qos-metering-policy rate-2M-out (applied)"}, {"owner": {"reputation": 5306, "user_id": 3746301, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/cFUsY.jpg?s=128&g=1", "display_name": "Shades", "link": "https://stackoverflow.com/users/3746301/shades"}, "edited": false, "score": 1, "creation_date": 1474111843, "post_id": 39545059, "comment_id": 66405004, "body": "Have you tried anything?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474211389, "post_id": 39545059, "comment_id": 66428798, "body": "Please edit your question and insert the information from your comment. Also, tell us what output you want."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474109148, "post_id": 39545805, "comment_id": 66404246, "body": "my text file is :    Session state Up         Circuit   3/3 vlan-id 1523         Internal Circuit   3/3:511:63:31/1/2/20600         Interface bound  staticip81         Current port-limit unlimited         Protocol Stack IPV4         qos-policing-policy rate-2M-in (applied)         qos-metering-policy rate-2M-out (applied) [sCLIPS]Redback(config-ctx)#"}, {"owner": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474109194, "post_id": 39545805, "comment_id": 66404262, "body": "and i need only      qos-policing-policy rate-2M-in (applied) qos-metering-policy rate-2M-out (applied)"}, {"owner": {"reputation": 466, "user_id": 6422459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1140422be857b4bef587b84719a0b512?s=128&d=identicon&r=PG&f=1", "display_name": "DigitShifter", "link": "https://stackoverflow.com/users/6422459/digitshifter"}, "reply_to_user": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474109563, "post_id": 39545805, "comment_id": 66404366, "body": "What kind of fault do you get"}, {"owner": {"reputation": 466, "user_id": 6422459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1140422be857b4bef587b84719a0b512?s=128&d=identicon&r=PG&f=1", "display_name": "DigitShifter", "link": "https://stackoverflow.com/users/6422459/digitshifter"}, "reply_to_user": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474109802, "post_id": 39545805, "comment_id": 66404433, "body": "Try this one-liner if it works. It works for my: cat yourFile.txt |  perl -ne &#39;@a = m/(qos-\\S+\\s+\\S+\\s+\\&#40;applied\\&#41;)/g; for $i (@a) {print $a[$i];} print &quot;\\n&quot; if(@a);&#39;"}, {"owner": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474109975, "post_id": 39545805, "comment_id": 66404474, "body": "i get Blanc nothing"}, {"owner": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474110196, "post_id": 39545805, "comment_id": 66404540, "body": "yes it worked how do i put this inside the script ... i mean not from the command line"}, {"owner": {"reputation": 466, "user_id": 6422459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1140422be857b4bef587b84719a0b512?s=128&d=identicon&r=PG&f=1", "display_name": "DigitShifter", "link": "https://stackoverflow.com/users/6422459/digitshifter"}, "reply_to_user": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474110229, "post_id": 39545805, "comment_id": 66404550, "body": "Here it works with no issue. just print a plain hello somwhere in the script and see if that works first,"}, {"owner": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474110352, "post_id": 39545805, "comment_id": 66404583, "body": "print works fine ... now i need to integrate this command inside my script"}, {"owner": {"reputation": 466, "user_id": 6422459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1140422be857b4bef587b84719a0b512?s=128&d=identicon&r=PG&f=1", "display_name": "DigitShifter", "link": "https://stackoverflow.com/users/6422459/digitshifter"}, "reply_to_user": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474110784, "post_id": 39545805, "comment_id": 66404711, "body": "If you think this answer was useful then do not forget to push the arrowbutton &quot;This answer is useful&quot;"}, {"owner": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474110841, "post_id": 39545805, "comment_id": 66404721, "body": "no your solution works in the command line but inside the script it gives me Blanc nothing"}, {"owner": {"reputation": 466, "user_id": 6422459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1140422be857b4bef587b84719a0b512?s=128&d=identicon&r=PG&f=1", "display_name": "DigitShifter", "link": "https://stackoverflow.com/users/6422459/digitshifter"}, "reply_to_user": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474111134, "post_id": 39545805, "comment_id": 66404801, "body": "They are exactly the same, exept for usage of strict option. Maybe some formatting issue when you copied the text from stackoverflow. If you look you will see they are exactly the same codewise."}, {"owner": {"reputation": 466, "user_id": 6422459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1140422be857b4bef587b84719a0b512?s=128&d=identicon&r=PG&f=1", "display_name": "DigitShifter", "link": "https://stackoverflow.com/users/6422459/digitshifter"}, "reply_to_user": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474111347, "post_id": 39545805, "comment_id": 66404857, "body": "Did you run it like this: cat yourFile.txt | perl ./test.pl"}, {"owner": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474111429, "post_id": 39545805, "comment_id": 66404892, "body": "use strict; use warnings;  while(&lt;in.txt&gt;) {         my @a = m/(qos-\\S+\\s+\\S+\\s+&#40;applied&#41;)/g; for $i (@a) {print $a[$i];} print &quot;\\n&quot; if(@a); }"}, {"owner": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474111516, "post_id": 39545805, "comment_id": 66404920, "body": "i need one script perl"}, {"owner": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474111537, "post_id": 39545805, "comment_id": 66404924, "body": "but it give me nothing"}, {"owner": {"reputation": 466, "user_id": 6422459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1140422be857b4bef587b84719a0b512?s=128&d=identicon&r=PG&f=1", "display_name": "DigitShifter", "link": "https://stackoverflow.com/users/6422459/digitshifter"}, "reply_to_user": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "edited": false, "score": 0, "creation_date": 1474112044, "post_id": 39545805, "comment_id": 66405057, "body": "There is nothing wrong with the code posted, I let you troubleshoot your own enviroment. If my post gave some hints on how to state start and end pattern, then you should mark it as useful, which it obviously was since you are going to integrate the pattern into your script."}], "tags": [], "owner": {"reputation": 466, "user_id": 6422459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1140422be857b4bef587b84719a0b512?s=128&d=identicon&r=PG&f=1", "display_name": "DigitShifter", "link": "https://stackoverflow.com/users/6422459/digitshifter"}, "is_accepted": false, "score": 0, "last_activity_date": 1474109426, "last_edit_date": 1474109426, "creation_date": 1474108549, "answer_id": 39545805, "question_id": 39545059, "link": "https://stackoverflow.com/questions/39545059/print-starting-from-match-pattern-in-perl/39545805#39545805", "title": "Print starting from match pattern in Perl", "body": "<p>Do not know exactly what you are asking, but I will make a try. \nLet's say that you are streamimg a file contaning plain text, and you only want to filter out lines containing  \"qos-policing-policy rate-2M-in (applied) qos-metering-policy rate-2M-out (applied)\" and only extract those words, then following code could give an idea how to write your script:</p>\n\n<p>Perl Program:</p>\n\n<pre><code>#!/usr/bin/perl\n# test.pl\n\nuse strict;\nuse warnings;\n\nwhile(&lt;&gt;) {\n        my @a = m/(qos-\\S+\\s+\\S+\\s+\\(applied\\))/g; \n        for my $i (@a) {\n            print \"$i \";\n        }\n        print \"\\n\" if (@a);\n}\n</code></pre>\n\n<p>This would be your start pattern and end pattern:</p>\n\n<pre><code>m/qos-\\S+\\s+\\S+\\s+\\(applied\\)/g\n</code></pre>\n\n<p>Where start is: </p>\n\n<pre><code>qos-\n</code></pre>\n\n<p>and end is: </p>\n\n<pre><code>\\(applied\\)\n</code></pre>\n\n<p>While \"g\" option is used for global matches on the incoming line.</p>\n\n<p><strong>Input:</strong></p>\n\n<pre><code>&gt; cat textFile.txt\nCurrent port-limit unlimited Protocol Stack IPV4 ip address (applied) qos-policing-policy rate-2M-in (applied) qos-metering-policy rate-2M-out (applied) [sCLIPS]Redback(config-ctx)\nline number two is here\nStack IPV4 ip address (applied) qos-policing-policy rate-299M-in (applied) qos-metering-policy\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>&gt; cat textFile.txt | perl ./test.pl\nqos-policing-policy rate-2M-in (applied) qos-metering-policy rate-2M-out (applied)\nqos-policing-policy rate-299M-in (applied)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5273342, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b2f1fce1355a1f77a424fb8f6ad6d702?s=128&d=identicon&r=PG", "display_name": "wael", "link": "https://stackoverflow.com/users/5273342/wael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1474279682, "creation_date": 1474103783, "last_edit_date": 1474279682, "question_id": 39545059, "link": "https://stackoverflow.com/questions/39545059/print-starting-from-match-pattern-in-perl", "title": "Print starting from match pattern in Perl", "body": "<p>I have a Perl script which provides me with results in text form.\nI need to print only some information from this text.\nHow do I define start pattern and end pattern to print in Perl?</p>\n"}, {"tags": ["perl", "dbi"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1474099157, "post_id": 39544354, "comment_id": 66401472, "body": "Switch on Debugging and look if you are right"}, {"owner": {"reputation": 352, "user_id": 1601104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irvqd.jpg?s=128&g=1", "display_name": "Shahid Siddique", "link": "https://stackoverflow.com/users/1601104/shahid-siddique"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1474100132, "post_id": 39544354, "comment_id": 66401679, "body": "Yeah I tried debugging but when I go inside DBI prepare function it takes forever and eclipse stops responding."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1474102806, "post_id": 39544354, "comment_id": 66402424, "body": "&quot;I know prepare automatically makes it <code>is null</code>&quot; - no, it doesn&#39;t."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1474103004, "post_id": 39544354, "comment_id": 66402489, "body": "It doesnt work, because dbi do not use is null, it uses last_name= null i guess"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1474103053, "post_id": 39544354, "comment_id": 66402498, "body": "use <a href=\"http://search.cpan.org/~timb/DBI-1.636/DBI.pm#trace\" rel=\"nofollow noreferrer\">DBI_TRACE</a> and you should see the SQL which is created"}], "answers": [{"tags": [], "owner": {"reputation": 352, "user_id": 1601104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irvqd.jpg?s=128&g=1", "display_name": "Shahid Siddique", "link": "https://stackoverflow.com/users/1601104/shahid-siddique"}, "is_accepted": false, "score": 0, "last_activity_date": 1474103041, "creation_date": 1474103041, "answer_id": 39544948, "question_id": 39544354, "link": "https://stackoverflow.com/questions/39544354/why-selectrow-array-does-not-work-with-null-values-in-where-clause/39544948#39544948", "title": "Why selectrow_array does not work with null values in where clause", "body": "<p>So, here it is what I did. I added <code>or field is null</code> statement with each field if the value is  undef.</p>\n\n<pre><code>my $sql = q{SELECT count(*) from customer where (first_name = ? or (first_name is null and ? = 1))  and (last_name = ? or (last_name is null and ? = 1))};\nmy @bind_values = ($first_name, defined($first_name)?0:1, $last_name, defined($last_name)?0:1);\nmy $count = $dbh-&gt;selectrow_array($sql, undef, @bind_values);\n</code></pre>\n\n<p>If anyone has better solution please post it. </p>\n"}, {"comments": [{"owner": {"reputation": 352, "user_id": 1601104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irvqd.jpg?s=128&g=1", "display_name": "Shahid Siddique", "link": "https://stackoverflow.com/users/1601104/shahid-siddique"}, "edited": false, "score": 0, "creation_date": 1474388368, "post_id": 39545122, "comment_id": 66506656, "body": "Thanks, you are right, I have to create a where clause separately."}], "tags": [], "owner": {"reputation": 31, "user_id": 6842048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/933b28e99d98f0f820b560eee160a189?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas K&#246;nig", "link": "https://stackoverflow.com/users/6842048/andreas-k%c3%b6nig"}, "is_accepted": false, "score": 3, "last_activity_date": 1474104253, "creation_date": 1474104253, "answer_id": 39545122, "question_id": 39544354, "link": "https://stackoverflow.com/questions/39544354/why-selectrow-array-does-not-work-with-null-values-in-where-clause/39545122#39545122", "title": "Why selectrow_array does not work with null values in where clause", "body": "<p>For NULL in the WHERE clause you simply need a different query. I write them below each other, so you can spot the difference:</p>\n\n<pre><code>...(\"select * from test where col2 = ?\", undef, 1);\n...(\"select * from test where col2 is ?\", undef, undef);\n...(\"select * from test where col2 is ?\", undef, 1);\n...(\"select * from test where col2 = ?\", undef, undef);\n</code></pre>\n\n<p>The first two commands work, stick to those. The third is a syntax error, the fourth is what you tried and which indeed does not return anything.</p>\n\n<p>The DBI manpage has a section of NULL values that talks about this case a bit more.</p>\n"}], "owner": {"reputation": 352, "user_id": 1601104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irvqd.jpg?s=128&g=1", "display_name": "Shahid Siddique", "link": "https://stackoverflow.com/users/1601104/shahid-siddique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1474104253, "creation_date": 1474098865, "last_edit_date": 1474099610, "question_id": 39544354, "link": "https://stackoverflow.com/questions/39544354/why-selectrow-array-does-not-work-with-null-values-in-where-clause", "title": "Why selectrow_array does not work with null values in where clause", "body": "<p>I am trying to fetch the count from SQL server database and it gives 0 for fields with null values. Below is what I am using.</p>\n\n<pre><code> my $sql = q{SELECT count(*) from customer where first_name = ? and last_name = ?};\nmy @bind_values = ($first_name, $last_name);\nmy $count = $dbh-&gt;selectrow_array($sql, undef, @bind_values);\n</code></pre>\n\n<p>This returns 0 if either value is null in the database. I know prepare automatically makes it <code>is null</code> if the passed parameter is undef, but I don't know why it's not working.</p>\n\n<p>So here is weird observation. When I type the  SQL with values in Toda for SQL server, it works :</p>\n\n<pre><code>SELECT count(*) from customer where first_name = 'bob' and last_name is null\n</code></pre>\n\n<p>but when I try the same query and pass values in the parameter for the first_name = bob and the last_name {null} . it does not work.</p>\n\n<pre><code>SELECT count(*) from customer where first_name = ? and last_name = ?\n</code></pre>\n"}, {"tags": ["perl", "awk"], "comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 3, "creation_date": 1474094880, "post_id": 39543615, "comment_id": 66400512, "body": "if you need perl program for other reasons, this can be done with perl itself.. or <a href=\"http://stackoverflow.com/questions/3854651/how-can-i-store-the-result-of-a-system-command-in-a-perl-variable\">system</a> is one way to call external program from perl"}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1474109700, "post_id": 39544178, "comment_id": 66404397, "body": "According to the question, the data is tab-delimited, so I guess you want <code>split &quot;\\t&quot;, $line;</code>. Also, even though the question talks about the third column, the example script examines the fourth, and the sample data seems to confirm this observation."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1474126133, "post_id": 39544178, "comment_id": 66409162, "body": "@tripleee: While &quot;tab limited format&quot; should be easy to code for, it is often used by people who mean &quot;there are gaps between the fields&quot;. It is also too easy to put a tab-separated file through an editor and lose the tab characters altogether. In my experience it is far better to assume that data is &quot;whitespace-separated&quot; and so requires a bare <code>split</code>. I don&#39;t think I have ever encountered <i>real</i> tab-separated data that also had spaces within the data, but I am sure it happens."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1474126148, "post_id": 39544178, "comment_id": 66409168, "body": "@tripleee: The best of all worlds would be to use Unicode <code>U+001F</code> or &quot;INFORMATION SEPARATOR ONE&quot;, which is ASCII &quot;Unit Separator&quot; (US). But there is no precedent, and so no software or keyboard support. There is only a few of those first 32 control characters that are still of any real use; it&#39;s a real shame to waste a quarter of the 128 code points but, quite rightly, no one likes non-printable characters any more."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1474116988, "last_edit_date": 1474116988, "creation_date": 1474097714, "answer_id": 39544178, "question_id": 39543615, "link": "https://stackoverflow.com/questions/39543615/incorporation-of-awk-in-perl/39544178#39544178", "title": "Incorporation of AWK in perl", "body": "<p>You would be far better off doing this in Perl, rather than starting a whole new process just for some simple text processing</p>\n\n<p>I would need to see the rest of your Perl code to be sure exactly what the code should look like, but if you're reading a file line by line into a variable called, say, <code>$line</code>, then you could do this</p>\n\n<pre><code>my @fields = split ' ', $line;\n\nprint $line if $fields[3] &gt;= 435;\n</code></pre>\n\n<p>If you want to show your existing Perl code then I will refine this</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 3295716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43bba6933c11243573d6ebcd69a4c7e2?s=128&d=identicon&r=PG&f=1", "display_name": "user3295716", "link": "https://stackoverflow.com/users/3295716/user3295716"}, "edited": false, "score": 0, "creation_date": 1474109939, "post_id": 39544310, "comment_id": 66404462, "body": "its working perfectly then I want to save this out put to one file (example blastsorted)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21, "user_id": 3295716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43bba6933c11243573d6ebcd69a4c7e2?s=128&d=identicon&r=PG&f=1", "display_name": "user3295716", "link": "https://stackoverflow.com/users/3295716/user3295716"}, "edited": false, "score": 0, "creation_date": 1474126468, "post_id": 39544310, "comment_id": 66409273, "body": "@user3295716: It&#39;s sounding like you&#39;re reading and filtering your file, and then opening the result for further processing. As I wrote in my own answer, we would need to see the rest of your Perl code to be sure, but it&#39;s likely that there&#39;s no need to write the intermediate file. Because of that I feel that we&#39;ve helped you to do the wrong thing. Please show your original awk code in context so that we can advise you better."}, {"owner": {"reputation": 21, "user_id": 3295716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43bba6933c11243573d6ebcd69a4c7e2?s=128&d=identicon&r=PG&f=1", "display_name": "user3295716", "link": "https://stackoverflow.com/users/3295716/user3295716"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474261038, "post_id": 39544310, "comment_id": 66441632, "body": "you&#39;re right i want to open result for further analysis. I want to extract extract only 2,7,8 columns from the out put example                CP014046.1  1   435                                                                    BA000031.2  1   435        like this @Borodin"}], "tags": [], "owner": {"reputation": 11, "user_id": 6833373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iOXBs.jpg?s=128&g=1", "display_name": "Zheng Jin", "link": "https://stackoverflow.com/users/6833373/zheng-jin"}, "is_accepted": false, "score": 1, "last_activity_date": 1474098582, "creation_date": 1474098582, "answer_id": 39544310, "question_id": 39543615, "link": "https://stackoverflow.com/questions/39543615/incorporation-of-awk-in-perl/39544310#39544310", "title": "Incorporation of AWK in perl", "body": "<pre><code>use strict;\nwhile (&lt;DATA&gt;){\n    my @data = split /\\t/,$_;\n    print \"@data\\n\" if $data[3]&gt;=435;\n}\n\n__DATA__\np=BAC58264.1    CP014046.1  100.00  435 0   0   1   435 804117  8045    862\np=BAC58264.1    CP014046.1  100.00  160 0   0   3   372 444601  4443    32\np=BAC58264.1    BA000031.2  100.00  435 0   0   1   435 805024  371 862\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3295716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43bba6933c11243573d6ebcd69a4c7e2?s=128&d=identicon&r=PG&f=1", "display_name": "user3295716", "link": "https://stackoverflow.com/users/3295716/user3295716"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 1, "accepted_answer_id": 39544178, "answer_count": 2, "score": -2, "last_activity_date": 1474116988, "creation_date": 1474094077, "last_edit_date": 1474096467, "question_id": 39543615, "link": "https://stackoverflow.com/questions/39543615/incorporation-of-awk-in-perl", "title": "Incorporation of AWK in perl", "body": "\n\n<p>I have a BLAST out file in tab limited format. Like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>p=BAC58264.1    CP014046.1  100.00  435 0   0   1   435 804117  8045    862\np=BAC58264.1    CP014046.1  100.00  160 0   0   3   372 444601  4443 32\np=BAC58264.1    BA000031.2  100.00  435 0   0   1   435 805024  371  862 \n</code></pre>\n\n<p>I want to sort that like this based on the 3rd column </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>p=BAC58264.1    CP014046.1  100.00  435 0   0   1   435 804117  8045    862\np=BAC58264.1    BA000031.2  100.00  435 0   0   1   435 805024  371  862\n</code></pre>\n\n<p>I usually did this by this awk code \"$4>=435\">BLASTSORT</p>\n\n<p>How to incorporate this awk code in a Perl program?</p>\n"}, {"tags": ["perl", "boolean", "undef"], "comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1474076386, "post_id": 39541833, "comment_id": 66397848, "body": "Side-note: The string <code>&#39;0 but true&#39;</code> is a good one to know. It&#39;s recognized by Perl as a &quot;special&quot; 0, so even when you have <code>strict</code> and <code>warnings</code> enabled (that would object to a string with non-numeric contents being used in a numerical context), it silently gets treated as numeric 0, but as boolean true."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1474076587, "post_id": 39541833, "comment_id": 66397874, "body": "@\u0421\u0443\u0445\u043e\u043927: consider  &gt; perl -e &#39;use warnings; sub my_eq { return ( $_[0]==$_[1] ? 1 : 0 ) }   print &quot;compare (1==0) &lt;&lt;&quot;.(1==0).&quot;&gt;&gt; to my_eq(1,0) &lt;&lt;&quot;.my_eq(1,0).&quot;&gt;&gt;\\n&quot; ;&#39; compare (1==0) &lt;&lt;&gt;&gt; to my_eq(1,0) &lt;&lt;0&gt;&gt;"}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1474077531, "post_id": 39541833, "comment_id": 66398023, "body": "By the way, I posted this Q and answered it myself because I <i>wish</i> that somebody had told me to use !!0 and !!1 when I started using Perl circa 1994.   Instead I took my C 1/0 and my LISP t/nil (mapped to 1/undef) with me into Perl, which caused headaches over and over again."}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1474251134, "post_id": 39541833, "comment_id": 66439388, "body": "Return 1 for true, 0 for false, and don&#39;t worry about it."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1474271709, "post_id": 39541833, "comment_id": 66446070, "body": "@AndyLester: Even though <code>return 0</code> is true in list context?"}], "answers": [{"comments": [{"owner": {"reputation": 48191, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 0, "creation_date": 1474075423, "post_id": 39541978, "comment_id": 66397709, "body": "Hi. I don&#39;t program in Perl, but I performed a very simple acid test on your proposed &quot;native&quot; <code>!!0</code>:  namely, I evaluated <code>print !!0, &quot;\\n&quot;;</code>.   Perl didn&#39;t print anything; just what appears to be a blank line.   A false object which doesn&#39;t have a positive, non-blank printed representation consisting of some visible characters is a poor choice to recommend.   I also tried printing <code>!!1</code> the same way; that renders as just <code>1</code>. (So is <code>1</code> the native true? Or is it some object other than <code>1</code> which looks like it when printed?)  Maybe you should just stick with <code>1</code> and <code>0</code>, and not be too clever."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 48191, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 1, "creation_date": 1474075968, "post_id": 39541978, "comment_id": 66397797, "body": "@Kaz Perl&#39;s comparison operators return a value that stringifies to the empty string: <code>print 1 == 2</code>. So there&#39;s already a precedent for this built into the language."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "reply_to_user": {"reputation": 48191, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 0, "creation_date": 1474077090, "post_id": 39541978, "comment_id": 66397966, "body": "@Kaz: coincidentally I added a recommendation to use (1*$perlish_boolean) to convert from Perl&#39;s 1/special empty string to the more familair to non-Perl programmers 1/0."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "reply_to_user": {"reputation": 48191, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 0, "creation_date": 1474077357, "post_id": 39541978, "comment_id": 66398005, "body": "@Kaz: by the way, I agree with you: every value should have a visible default print format.  But what about the empty string? IMHO every language should have a print function that can make every value visible.  It&#39;s just that, in Perl, the `print&#39; function is not that nicely behaved make-every-value-visible function."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1474129495, "post_id": 39541978, "comment_id": 66410201, "body": "<a href=\"http://search.cpan.org/dist/perlsecret/lib/perlsecret.pod#A_word_of_warning\" rel=\"nofollow noreferrer\">search.cpan.org/dist/perlsecret/lib/&hellip;</a> <a href=\"http://search.cpan.org/dist/perlsecret/lib/perlsecret.pod#Bang_bang\" rel=\"nofollow noreferrer\">search.cpan.org/dist/perlsecret/lib/perlsecret.pod#Bang_bang</a>"}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1474156974, "post_id": 39541978, "comment_id": 66417215, "body": "@xxfelixxx: thanks.  I had seen Perl secret.com, and even !!, but I had not realized WHY it should be used. Basically, return !!  your truth value if you want to be compatible with Perl&#39;s native Boolean ops; and 1* your truth value if you want to be more C / C++ like.  And avoid functions that contain a mix of { return $a&lt;$b;... return 1; return 0; return undef; return &#39;&#39;; return &quot;0 but true&quot;...}"}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1474157085, "post_id": 39541978, "comment_id": 66417229, "body": "I started off writing C in Perl, or, rather, the 1/0 subset.   I must admit that I played around with return &quot;1&quot;.__FILE__.&#39;:&#39;<b>LINE</b>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 2, "creation_date": 1474163904, "post_id": 39541978, "comment_id": 66418264, "body": "I would strongly advise against the use of !! in production code as it reduces comprehensibility.  I have seen too much wtf code from programmers who like to sprinkle !! everywhere...."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1474261583, "post_id": 39541978, "comment_id": 66441774, "body": "@xxfelixxx: I agree with you. In my first job I faced this issue a lot. See: <a href=\"http://stackoverflow.com/questions/12278997/use-of-double-negation\" title=\"use of double negation\">stackoverflow.com/questions/12278997/use-of-double-negation</a>"}], "tags": [], "owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "is_accepted": true, "score": -2, "last_activity_date": 1474420481, "last_edit_date": 1495540834, "creation_date": 1474074930, "answer_id": 39541978, "question_id": 39541833, "link": "https://stackoverflow.com/questions/39541833/what-values-should-a-boolean-function-in-perl-return/39541978#39541978", "title": "What values should a boolean function in Perl return?", "body": "<p><strong>---+ SHORT ANSWER</strong></p>\n\n<p>Here are two self-consistent schemes for Booleans in Perl:</p>\n\n<ul>\n<li><code>1/0</code> - printable and portable</li>\n<li><code>1/!!0</code> - most like Perl's native boolean functions </li>\n</ul>\n\n<p><code>1/0</code>is probably most familiar to programmers from other languages, like C or Python.  You can print <code>1/0</code> Boolean values, add them, and so on.  But... Perl's native Boolean operators are not <code>1/0</code> values,  <code>return $a&lt;0</code> is NOT the same as <code>return 1 if $a&lt;0; return 0</code>.</p>\n\n<p><code>1/0!!</code> is my attempt to create an abbreviated name for the scheme that Perl's native Boolean operators use: 1 for true, an empty string that is specially marked so that it does not produce warnings when used in arithmetic or interpolated into strings. <code>!!0</code> is one of the easiest ways to produce this special Perl false value, and should be familiar to programmers in many languages like C as a way of standardizing Boolean values. You can add <code>1/0!!</code>, and you can print <code>1/0</code> Boolean values, so long as you don't care if the false value may be invisible, i.e. an empty string.</p>\n\n<p>Avoid <em>accidentally</em> mixing numeric 1/0, Perl's native conditions, <code>undef</code>, and other schemes in the same function or library.</p>\n\n<p>When deliberately mixing, use conversion operators such as </p>\n\n<ul>\n<li><code>!!$bool_0or1</code> to convert  to a traditional <code>1/!!0</code>Perl value</li>\n<li><code>(0+($a&lt;0))</code> to convert a Perl relational result to <code>1/0</code></li>\n<li><code>(!!any_other_boolean())</code></li>\n<li><code>(0+any_other_boolean())</code></li>\n<li><code>($other_bool?1:())</code> to convert to <code>1/()</code> from the other boolean schemes </li>\n<li><code>($other_bool?1:undef)</code> to convert to <code>1/undef</code> from the other boolean schemes </li>\n</ul>\n\n<p>Q: are there any shorter or prefix-ish notations, other than <code>?:</code>?</p>\n\n<p>There are some more possible schemes</p>\n\n<ul>\n<li><code>1/()</code> - more precisely, <em>return 1 or nothing</em> -- which can catch<br>\nsome Perl-ish errors like returning a boolean scalar false like 0 or\nundef in a list context, where it would become true</li>\n<li><code>(1)/(0)</code> - return a list of length 1 conrtaining 1, or an empty\nlist. Similar to <code>1/()</code>, consistent in the sense that both true and\nfalse are arrays.</li>\n<li><code>1/undef</code> - another possibility, catches errors that <code>1/()</code> <em>return 1\nor nothing</em> may cause</li>\n</ul>\n\n<p>I hesitate to recommend these.  At the very least, <code>1/()</code> is inconsistent in that   But... they certainly have been used by Perl programmers, so you should be prepared to deal with code that uses these schemes.  I.e. be prepared to debug bugs caused by these schemes.</p>\n\n<p><code>1/()</code> is my attempt to create an abbreviated name for a scheme where functions that return true <code>return 1;</code>, and functions that return false do <code>return;</code>, i.e. a return with no operand value. I.e. <em>return 1 or nothing</em>. I believe that <em>return nothing</em> is equivalent to <code>return ();</code>.  This scheme protects you against bugs caused by a programmer evaluating your function in a list context rather than a scalar context. But it exposes you to bugs such as <code>{1=&gt;return_nothing_if_false(),2=&gt;return_nothing_if_false()}</code> (snce you probably do not want <code>{1=&gt;2}</code>.</p>\n\n<p>BTW I <em>think</em> that it might be more consistent to do the scheme <code>(1)/()</code>. This would allow you to consistentl;y have variables of this Boolean type, admittedly <code>@array</code> variables.</p>\n\n<p>Note that <code>1/undef</code> is NOT equivalent to any of the above.  <code>1/undef</code> Boolean variables give warnings when false=<code>undef</code> is printed or interpolated or used in arithmetic, but not when true=1 is so-manipulated, and evaluates to true in a list context. One might be tempted to say that it has the worst features of all the schemes.</p>\n\n<p>I hesitate to hesitate these schemes <code>1/()</code>, <code>(1)/()</code>, or 1/undef.  At the very least, <code>1/()</code> is inconsistent in that </p>\n\n<p>All three of these schemes <code>1/()</code>, <code>(1)/()</code>, or 1/undef expose you to bugs such as <code>{1=&gt;f1_return_nothing_if_false(),2=&gt;f2_return_nothing_if_false()}</code> , since you probably do not want <code>{a=&gt;\"b\"}</code> if both are false, and <code>{a=&gt;1,b=&gt;1}</code> if both are true. At least if f1 returns true and f2 returns false, or vice versa, you will get a warning about odd sized hash.</p>\n\n<p>The programmer calling a function can control whether it is evaluated in list or scalar context, but she may not be able to control whether it returns true or false.</p>\n\n<p>IMHO, if you do  <code>1/()</code>, <code>(1)/()</code>, or 1/undef you cannot safely call such functions in array context, like building keyword arguments <code>foo(kw=&gt;boolfunc(),...)</code> or <code>foo({kw=&gt;boolfunc(),kw2=&gt;...},...)</code>. Not without having to scatter !! or 0+ all over.</p>\n\n<p><strong>---+ MEDIUM LENGTH ANSWER</strong></p>\n\n<p>Generalizing original answer: </p>\n\n<p>Perl has many ways of representing truth; or, rather, Perl interprets many different values as true or false.</p>\n\n<p>If you are creating a family of related functions, i.e,. a library, you are advised choose one of the following well-known schemes, and to use it consistently in your library:</p>\n\n<ol>\n<li><p>Truth <code>1/0</code> - numeric - most portable to/from other languages, and more printable</p></li>\n<li><p>Truth <code>1/!!0</code> - most like standard Perl relational operators, less portable, less printable (unless you want false to be invisible)</p></li>\n</ol>\n\n<p>This answer emphasizes Boolean functions or methods, predicates.  It is not trying to discuss non-Boolean functions, that return actual things like numbers or strings or refs - except briefly below.</p>\n\n<p>@DaveCross suggests an additional interesting scheme</p>\n\n<ol start=\"3\">\n<li><code>return 1</code> / <code>return</code> nothing (almost <code>1/()</code>, the empty list)</li>\n</ol>\n\n<p>a scheme that I remember from the early days of Perl - before refs, I think even  before <code>undef</code> was a value that could be returned.  But IIRC there are problems with this scheme and u<code>se warnings</code>, possibly also <code>?:</code>, so I hesitate to recommend it fully until\u00a0somebody explains better how to avoid such problems. Possibly using <code>wantarray</code>.</p>\n\n<p><strong>---++ Choose 1/0 or  1/0!! (native Perl) and be consistent</strong></p>\n\n<p>I recommend that you choose one of these Boolean schemes, and use that scheme consistently. </p>\n\n<p>The 1/0 boolean scheme is probably most portable to other languages. </p>\n\n<p>The 1/!!0 scheme will make your code more closely resemble native Perl operators.</p>\n\n<p>If you are using the <code>1/!!0</code> scheme, don't say \"return 0\", say <code>return !!0</code>.</p>\n\n<p>If you are using the <code>1/0</code> scheme, don't say <code>return $a &lt; $b</code>, instead say <code>return 0+($a &lt; $b)</code></p>\n\n<p>If you are calling code that uses a different Boolean scheme (or, possibly, no consistent scheme), convert to the Boolean scheme that you use in your code, using operators such as </p>\n\n<ul>\n<li><code>!!</code> to normalize a standard Perl <code>1/0!!</code> Boolean </li>\n<li><code>0+</code> or <code>1*</code> to convert to a more portable 1/0 boolean from a standard Perl 1/0!! boolean</li>\n<li><code>?:</code> and all the rest of Perl's arsenal for undefs and strings that may or may not want to be considered false or failures </li>\n</ul>\n\n<p>If looking at the return value of a function that returns a ref or undef</p>\n\n<ul>\n<li><p>If <code>1/!!0</code> Perl-like Booleans, say return <code>!!ref_retval_func()</code> or <code>defined ref_retval_func()</code></p></li>\n<li><p>If <code>1/0</code> more portable Booleans, say return <code>0+!!ref_retval_func()</code> or <code>0+(defined ref_retval_func())</code></p></li>\n</ul>\n\n<p>Way too much detail below.</p>\n\n<p><strong>---++ Possible?: return 1 or return nothing scheme (possibly 1/()?)</strong> </p>\n\n<p>@DaveCross makes an interesting suggestion:</p>\n\n<ul>\n<li><p>return 1 for a Boolean true value.</p></li>\n<li><p>return nothing for a Boolean false value. That's because a bare<br>\nreturn will return an appropriate value depending on how the<br>\nsubroutine has been called. The documentation for return says this:</p>\n\n<p>If no EXPR is given, returns an empty list in list context, the undefined value in scalar context, and (of course) nothing at all in void context.</p></li>\n</ul>\n\n<p><strong>---++ Anti-Recommendation: do not mix Boolean schemes</strong> \nE.g., in the same function or library, do NOT do</p>\n\n<pre><code>return $arg1 &lt; $arg2;  # returning a standard Perl 1/!!0 Boolean\n</code></pre>\n\n<p>in one place, and then somewhere else, or in later evolutions of the same code, do</p>\n\n<pre><code>return 0; \nreturn undef; \nreturn ''; \nreturn (); \n</code></pre>\n\n<p>I.e. choose one Boolean scheme, and be consistent.   Mainly, this involves being consistent about the false value; to a lesser extent the true value.</p>\n\n<p><strong>---+ EXCESSIVE MESSY DETAIL</strong></p>\n\n<p><strong>---++ Discussion elsewhere about Perl's many values of truth</strong></p>\n\n<p>Posts such as <a href=\"https://stackoverflow.com/questions/13520266/what-do-perl-functions-that-return-boolean-actually-return\">What do Perl functions that return Boolean actually return</a> and <a href=\"https://stackoverflow.com/questions/3914129/why-does-perl-use-the-empty-string-to-represent-the-boolean-false-value\">Why does Perl use the empty string to represent the boolean false value?</a> discuss what Perl boolean functions and operators actually return. Basically special values, whose behavior is specified by the Perl manuals. </p>\n\n<p>@cim links to the perl manuals: <a href=\"http://perldoc.perl.org/perlsyn.html#Truth-and-Falsehood\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlsyn.html#Truth-and-Falsehood</a></p>\n\n<blockquote>\n  <p>Truth and Falsehood</p>\n  \n  <p>The number 0, the strings '0' and \"\" , the empty list () , and undef\n  are all false in a boolean context. All other values are true.\n  Negation of a true value by ! or not returns a special false value.\n  When evaluated as a string it is treated as \"\" , but as a number, it\n  is treated as 0. Most Perl operators that return true or false behave\n  this way.</p>\n</blockquote>\n\n<p>Similarly <a href=\"http://perldoc.perl.org/perlop.html#Relational-Operators\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlop.html#Relational-Operators</a></p>\n\n<blockquote>\n  <p>Relational Operators</p>\n  \n  <p>Perl operators that return true or false generally return values that\n  can be safely used as numbers. For example, the relational operators\n  in this section and the equality operators in the next one return 1\n  for true and a special version of the defined empty string, \"\" , which\n  counts as a zero but is exempt from warnings about improper numeric\n  conversions, just as \"0 but true\" is.</p>\n</blockquote>\n\n<p>Unfortunately, the accepted answer for <a href=\"https://stackoverflow.com/questions/13520266/what-do-perl-functions-that-return-boolean-actually-return#comment18518949_13520547\">What do Perl functions that return Boolean actually return</a>\ndiscusses the internals, but then recommends</p>\n\n<pre><code>my $formatted = $result ? '1' : '0';\n</code></pre>\n\n<p>which is back to where we started.</p>\n\n<p>@amon shows us the light (!!) in a comment on the question <a href=\"https://stackoverflow.com/questions/13520266/what-do-perl-functions-that-return-boolean-actually-return\">What do Perl functions that return Boolean actually return</a></p>\n\n<blockquote>\n  <p>Sidenote: you can turn any value into its corresponding boolean with\n  double negation. This leads to the !! pseudo-operator. Very useful for\n  returning the generic truthy or falsey value instead of some magic\n  number. \u2013 amon Nov 22 '12 at 22:11</p>\n</blockquote>\n\n<p>There does not seem to be any literal for these special Booleans.   There are, however, many ways of producing them: <code>(0&lt;0)</code>, <code>(0&lt;1)</code>, etc.  <code>(!!1)</code> and <code>(!!0)</code> are probably the nicest - especially since in some C/C++ programming circles they are used for a similar purpose.  Plus, <code>!!</code> can be applied to an incoming truth value to \"normalize\" it to this \"Perl standard\" boolean.</p>\n\n<p><strong>---++ Anti-Recommendation: do not mix Boolean schemes</strong>\nE.g., in the same function or library, do NOT do</p>\n\n<pre><code>return $arg1 &lt; $arg2;  # returning a standard Perl 1/!!0 Boolean\n</code></pre>\n\n<p>in one place, and then somewhere else, or in later evolutions of the same code, do</p>\n\n<pre><code>return 0; \nreturn undef; \nreturn ''; \nreturn (); \n</code></pre>\n\n<p>I.e. choose one Boolean scheme, and be consistent.   Mainly, this involves being consistent about the false value; to a lesser extent the true value.</p>\n\n<p>e.g. Avoid evolving code from</p>\n\n<pre><code>return $arg1 &lt; $arg2;  # returning a standard Perl 1/!!0 Boolean\n</code></pre>\n\n<p>to </p>\n\n<pre><code>if( $arg1 &lt; $arg2 ) {\n     log_or_print('found $arg1 &lt;$arg2');\n     # other stuff to do if less-than\n     return 1;\n} else {\n     log_or_print('found not( $arg1 &lt; $arg2)');\n     # other stuff to do if not-less-than\n     # which may not be the same thing as greater-than-or-equal\n     return 0;\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>if( $arg1 &lt; $arg2 ) {\n     ...\n} else {\n     ...\n     return undef;\n}\n</code></pre>\n\n<p>Coming to Perl from somewhere else, you may think that these are equivalent, and they mostly are, but if you do things like printing boolean return values in tests you will get differences.</p>\n\n<p>If you evolve code from a Perl-ish boolean operator</p>\n\n<pre><code>return $arg1 &lt; $arg2;  # returning a standard Perl 1/!!0 Boolean\n</code></pre>\n\n<p>evolve it to </p>\n\n<pre><code>if( $arg1 &lt; $arg2 ) {\n     log_or_print('found $arg1 &lt;$arg2');\n     # other stuff to do if less-than\n     return 1;\n} else {\n     log_or_print('found not( $arg1 &lt; $arg2)');\n     # other stuff to do if not-less-than\n     # which may not be the same thing as greater-than-or-equal\n     return !!0;\n}\n</code></pre>\n\n<p>If you want behavior to be as close to the same.  Note the !!0 on the return of false,  As far as I know, there is no simpler way to construct Perl's special return value for false.</p>\n\n<p>Conversely, if you want to use the 1/0 Boolean scheme, them the original code should have been written as</p>\n\n<pre><code>return 0+($arg1 &lt; $arg2);  # returning a standard Perl 1/!!0 Boolean\n</code></pre>\n\n<p><strong>---++ Creating a predicate from value / undef</strong></p>\n\n<p>Similarly, you may be tempted to take a function such as </p>\n\n<pre><code>sub find_string_in_table {\n   # returns string value if found, undef if not found\n   return $lookup_table-&gt;{$_[0]}; \n}\n</code></pre>\n\n<p>and refactor it to a predicate</p>\n\n<pre><code>sub is_string_in_table {\n   return find_string_in_table(@_);\n}\n</code></pre>\n\n<p>and then later evolve to, perhaps, have a sanity check or performance optimization.</p>\n\n<pre><code>sub is_string_in_table {\n   return 0 \n       # don't even bother for long strings\n       if 1000000 &lt; length($_[0]);\n   return find_string_in_table(@_);\n}\n</code></pre>\n\n<p>This is neither 1/0 nor 1/!!0, and is not consistently value/undef either. </p>\n\n<p>(Note: I am not saying this pre-check is a performance optimization --- but I am saying that performance optimizations might look like the above.  Performance optimization is one of my specialties, and you want such optimizations to be refactoring.  It sucks when optimized code performs better, but breaks in some of the places it is used.  Hence my interest in code that performs as exactly like ... whatever it is replacing, like native Perl relational operators. Exactly means exactly.)</p>\n\n<p>Instead do something like the following if you are using standard Perl-ish booleans.</p>\n\n<pre><code>sub is_string_in_table {\n   return !!0 \n       # don't even bother for long strings\n       if 1000000 &lt; length($_[0]);\n   return (defined find_string_in_table(@_));\n}\n</code></pre>\n\n<p>or if you are using 1/0 Booleans</p>\n\n<pre><code>sub is_string_in_table {\n   return 0 \n       # don't even bother for long strings\n       if 1000000 &lt; length($_[0]);\n   return 0+(defined find_string_in_table(@_));\n}\n</code></pre>\n\n<p>If instead of find_string_in_table it was find_object_ref_in_table, you might do just return <code>0+!!find_string_in_table(@_)</code> because you would not need to worry about strings like <code>q()</code> and <code>\"0\"</code>.</p>\n\n<p>If you want boolean functions in code you write to behave like native Perl operators return (!!1) for true and (!!0) for false.</p>\n\n<p>I.e. 0/1, but logically negate twice using the ! operator to convert your 1 or 0 into Perl's 'native' boolean.</p>\n\n<p>e.g.</p>\n\n<pre><code>sub my_boolean_function {\n      ... \n      return !!1; # true \n      ...\n      return !!0; # false\n}\n</code></pre>\n\n<p>**---+ 0/1 --> 1/!!0 conversion **</p>\n\n<p>If you consider !! as a conversion from \"meta-boolean\" to \"special boolean\",</p>\n\n<p>consider 1* or 0+ as a conversion from special boolean to ordinary 0/1 boolean.</p>\n\n<p>E.g. <code>print \"test\".(1*($a eq $b)).\"\\n\"</code></p>\n\n<p>E.g. <code>print \"test\".(0+($a eq $b)).\"\\n\"</code></p>\n\n<p>?:\u00a0is more general, but more verbose.</p>\n\n<p><strong>---++ Non-Boolean error returns</strong></p>\n\n<p>This question and answer emphasizes Boolean functions or methods, predicates.  It is not trying to discuss non-Boolean functions, that return actual things like numbers or strings or refs - except briefly below.</p>\n\n<p>It is \"nice\" to have the return value extended to indicate special conditions such as failure, invalid input, etc., and which may be evaluated in the context of IF statements or other control flow such as and and or operators, typically to handle such errors, e.g. to provide default values.</p>\n\n<p>We will limit our discussion of non-Boolean functions to this short list:</p>\n\n<ul>\n<li><p><code>ref</code> / <code>undef</code> :  for functions that return a typical <a href=\"http://perldoc.perl.org/perlobj.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlobj.html</a> object, a ref to a blessed hash or other type.  Return <code>undef</code> on error, not found, etc.</p></li>\n<li><p>any value / <code>undef</code> : for functions that return any type of value, scalar number or string, scalar ref whether blessed or unblessed.</p></li>\n</ul>\n\n<p>value/undef works best when <code>undef</code> is not a legitimate return value and can be problematic when undef is a legitimate value.n  E.g. imagine an accessor function that returns the value of a hash field, $hash->{field} -- the field might legitimately have the value <code>{ field =&gt; undef }</code>, so returning undef dfoes not distinguish between the field not existing and the field existing but having an undef value.</p>\n\n<ul>\n<li>Arbitrary strings, that may contextually be interpreted as numbers or booleans. </li>\n<li>\"0 but true\" - I really don't want to get into this, but look at <a href=\"https://stackoverflow.com/questions/129945/what-does-0-but-true-mean-in-perl\">What does &quot;0 but true&quot; mean in Perl?</a> for the special handling of string \"0 but true\". Other strings give warnings on conversion to a number, but \"0 but true\" does not. </li>\n<li>\"0E0\" - Similarly, some Perl code returns the string \"0E0\" which evaluates to 0 as a number, but true as a Boolean</li>\n</ul>\n\n<p>GLEW personal opinion: since I write code that often needs to be ported to other languages, I prefer not to take advantage of Perl-specific tricks like <code>0+\"0 but true\"</code>. <code>\"0E0\"</code> at least is more portable, if you imagine that in some other language like C a function <code>convert_string_to_float(\"0E0\")</code> or <code>convert_string_to_int(\"0x0\")</code>. I prefer <code>\"0x0\"</code> because it looks special with the x, and <code>0x0</code> is an integer value, whereas <code>0E0</code> is interpreted as a float in some languages, so is more likely to give an error.</p>\n\n<p><strong>---++ Possible?: return 1 or return nothing scheme (possibly 1/()?)</strong> </p>\n\n<p>@DaveCross makes an interesting suggestion:</p>\n\n<ul>\n<li><p>return 1 for a Boolean true value.</p></li>\n<li><p>return nothing for a Boolean false value. That's because a bare<br>\nreturn will return an appropriate value depending on how the<br>\nsubroutine has been called. The documentation for return says this:</p>\n\n<p>If no EXPR is given, returns an empty list in list context, the undefined value in scalar context, and (of course) nothing at all in void context.</p></li>\n</ul>\n\n<p>This is important as true and false values can differ subtly between scalar and list context. Imagine a subroutine like this: ...</p>\n\n<p>@DaveCross goes on to show how returning any value other than the empty list results in loss of false-ness if a boolean function is evaluated in array context.  Even <code>@array=(undef)</code> evaluates as true.</p>\n\n<p>I would like this scheme to work.  I think that I used it years ago, in Perl 4 or earlier, but gave up on it when <code>use warnings</code> started becoming the thing to do.</p>\n\n<p>Insofar as I recall, I also had problems with conditional exprtessions ?: wigth this convention.</p>\n\n<p>I have tried both \"return;\" and \"return();\"</p>\n\n<p>Consider </p>\n\n<pre><code>%  perl -wle 'print \"a()=&lt;&lt;\".a().\"&gt;&gt;\\n\"; sub a {if(@_) {return 1} else {return}}'\nUse of uninitialized value in concatenation (.) or string at -e line 1.\na()=&lt;&lt;&gt;&gt;\n\n%  perl -wle 'print \"a()=&lt;&lt;\".a().\"&gt;&gt;\\n\"; sub a {if(@_) {return 1} else {return ()}}'\nUse of uninitialized value in concatenation (.) or string at -e line 1.\na()=&lt;&lt;&gt;&gt;\n\n%  perl -wle 'print \"a()=&lt;&lt;\".a().\"&gt;&gt;\\n\"; sub a { return @_ } '\na()=&lt;&lt;0&gt;&gt;\n\n%  perl -wle 'print \"a()=&lt;&lt;\".a().\"&gt;&gt;\\n\"; sub a { return !!@_ } '\na()=&lt;&lt;&gt;&gt;\n\n%\n</code></pre>\n\n<p><strong>---+ BOTTOM LINE</strong></p>\n\n<p>Use <code>1/0</code> (printable and portable), <code>1/0!!</code> (most like Perl's native boolean functions).  </p>\n\n<p>Possibly <code>return 1</code> or <code>return</code> nothing, which is almost the same as <code>1/()</code>. (But I have had problems with this approach.)</p>\n\n<p>Avoid mixing numeric 1/0, Perl's native conditions, <code>undef</code>, and other schemes in the same function or library.</p>\n\n<p>Finally, if you have ever done </p>\n\n<pre><code>$&gt;  perl -wle 'print false &amp;&amp; true'\n</code></pre>\n\n<p>you may have received</p>\n\n<pre><code>Unquoted string \"false\" may clash with future reserved word at -e line 1.\nUnquoted string \"true\" may clash with future reserved word at -e line 1.\nBareword found in conditional at -e line 1.\ntrue\n</code></pre>\n\n<p>so it appears likely that some day Perl may have an \"official\" scheme for Booleans, with values true and false.</p>\n\n<p>I wonder how those will behave?</p>\n"}, {"comments": [{"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1474246629, "post_id": 39556189, "comment_id": 66438541, "body": "Good points.   If returning nothing or using wantarray is the best thing to do, then ... I will try to cram that into the answer I have just extended to handle the more portable and printable 1/0 form.  Or possibly just replace the answer.  Or just select your answer as the best. I would worry about users saying &quot;Hey, this function is supposed to return a value!&quot;, so I would probably always comment such empty returns.  And overall, looking for something like this is why I posted this question in the first place."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1474247088, "post_id": 39556189, "comment_id": 66438621, "body": "do you have a preferred way to convert some function that may not obey your &quot;return 1/return&quot; (return-nothing for false) convention to your convention?  Apart form saying  &quot;if( foreign_function() ) { return 1; } else { return; }&quot;"}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1474247323, "post_id": 39556189, "comment_id": 66438669, "body": "IIRC I tried using this approach, but gave up on it because it produced more warnings about undefined values - i.e. it was not a drop-in replacement for an existing Perl 1/!!0 comparisons, nor for 1/0. Consider perl -wle &#39;print &quot;a()=&lt;&lt;&quot;.a().&quot;&gt;&gt;\\n&quot;; sub a {if(@_) {return 1} else {return}} &#39;, versus return !!@_"}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1474247416, "post_id": 39556189, "comment_id": 66438687, "body": "It also seems not to allow ?: expressions.  Sometimes you can say (cond()?1:()), not I am pretty sure I have sometimes received warnings."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1474247456, "post_id": 39556189, "comment_id": 66438697, "body": "But, in general, it sure would bed nice if 1/() were a consistent scheme for Booleans."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1474315598, "post_id": 39556189, "comment_id": 66472469, "body": "I agree with @DaveCross&#39;s comment: &lt;&lt;The job of a Boolean value is that you can ask it if it is true or false. ... you should not expect to be able to just print a Boolean value.&gt;&gt; Indeed, I like strict typing. But within loosely typed Perl, when I am refactoring, editing code to improve its structure without changing externally visible behavior, replacing &quot;<code>return $a&lt;0</code>&quot; by `if($a&lt;0) { return 1} else {return} is not a refactoring.  Tests may break.  Worse, the tests may not be tests that I have written or can change, but may be tests owned by a customer, somebody using my library."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1474316163, "post_id": 39556189, "comment_id": 66472737, "body": "By the way, @DaveCross, <code>return ();</code>, i.e. returning the empty list, the same as the  <code>return;</code> return-nothing you advocate?  I think so, but want to check. To my mind <code>return ()</code> is a little bit more explicit. Of course it is syntactically of no value. But if I wrote programs to translate between Perl and LISP or Python or C, I might map <code>return ()</code> to <code>nil)</code>/<code>return False</code>/<code>return 0</code>, and just plain Perl <code>return;</code> to Pythion <code>return</code> and C <code>return;</code>."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1474320803, "post_id": 39556189, "comment_id": 66474747, "body": "Promoting 1/() in my estimation (although pointing out the bug it exposes you to in code such as <code>{1=&gt;func_returning_nothing_if_false(), 2=&gt;func_returning_nothing_if_false(),}</code>."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1474320897, "post_id": 39556189, "comment_id": 66474782, "body": "BTW, wouldn&#39;t <code>(1)&#47;()</code>. i.e. return a list containing the single element 1 or the empty list, be equivalent to @DaveCross&#39;s <i>return 1 or nothing</i> scheme?  But allow you to think in terms of @booleans"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1474363672, "post_id": 39556189, "comment_id": 66489822, "body": "Yes. <code>return ()</code> is functionally identical to <code>return</code>. But why type two more characters for no gain? I have no idea what &quot;But allow you to think in terms of @booleans&quot; means."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1474417543, "post_id": 39556189, "comment_id": 66519680, "body": "Consistency. Both true and false arrays.  It is nice to be able to do VAR=PREDICATE(), and then use VAR later. If you do <code>$var=pred()</code> with <code>1&#47;()</code>, <code>$var</code> does not exactly contain the value of the function - if false, it contains scalar <code>undef</code>, not the empty list <code>()</code>.  Later <code>return $var</code>, is not exactly the  same as doing the original <code>return 1</code> or <code>return</code>-nothing.   If scalar/array conversions make identical, why not use <code>1&#47;undef</code>?   Whereas if you always use list values for booleans, <code>(1)&#47;(0)</code>, you can safely use @variables to move these values around."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1474418387, "post_id": 39556189, "comment_id": 66519877, "body": "I anti-recommend return 1 or nothing, or <code>1&#47;()</code>, or <code>1&#47;undef</code> because  with your scheme <code>{a=&gt;false(),b=&gt;false()}</code> is <code>{a=&gt;&quot;b&quot;}</code>, but  <code>{a=&gt;true(),b=&gt;true()}</code> is <code>{a=&gt;1,b=&gt;21</code>. BUG!!!!  A user can control whether he is using a function is list context or scalar context, but a programmer may not know whether a Boolean function returns true or false. With your scheme, Booleans return values are not first class values that can be reliable used to build lists out of.  Do you really do  <code>{a=&gt;boolsub()?1:0,b=&gt;boolsub()?&#39;true&#39;:&#39;false&#39;}</code> everywhere? Or scalar()? Or 0+?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1474431897, "post_id": 39556189, "comment_id": 66523107, "body": "&quot;Both true and false arrays.&quot; There are no arrays involved anywhere here. Subroutines in Perl cannot return arrays. Subroutines in Perl can only ever return lists. Arrays are not lists."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1474436449, "post_id": 39556189, "comment_id": 66524544, "body": "Fair enough: instead of returning scalar 1 if true and the empty list () false, it could consistently return the lists (1) and ().  Which, if you wanted to preserve them in variables, might be preserved in an array value @retval_array=boolfunc()."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 6, "last_activity_date": 1474299537, "last_edit_date": 1474299537, "creation_date": 1474191436, "answer_id": 39556189, "question_id": 39541833, "link": "https://stackoverflow.com/questions/39541833/what-values-should-a-boolean-function-in-perl-return/39556189#39556189", "title": "What values should a boolean function in Perl return?", "body": "<p>I return 1 for a Boolean true value. I can't really see that <code>!!1</code> adds anything other than confusion.</p>\n\n<p>But I usually return nothing for a Boolean false value. That's because a bare <code>return</code> will return an appropriate value depending on how the subroutine has been called. The documentation for <a href=\"http://perldoc.perl.org/functions/return.html\" rel=\"nofollow\"><code>return</code></a> says this:</p>\n\n<blockquote>\n  <p>If no EXPR is given, returns an empty list in list context, the undefined value in scalar context, and (of course) nothing at all in void context.</p>\n</blockquote>\n\n<p>This is important as true and false values can differ subtly between scalar and list context. Imagine a subroutine like this:</p>\n\n<pre><code>sub some_boolean {\n  if ($some_condition) {\n    return 1;\n  else {\n    return undef; # same effect with any scalar value\n  }\n}\n</code></pre>\n\n<p>This works fine if it is called in scalar context.</p>\n\n<pre><code>if (some_boolean()) {\n  ...\n} else {\n  ...\n}\n</code></pre>\n\n<p>All works as expected. But if you call it in list context, things go a bit weird.</p>\n\n<pre><code>my @array = some_boolean();\nif (@array) {\n  ...\n} else {\n  ...\n}\n</code></pre>\n\n<p>In this case, the <code>else</code> block is never called. In list context, your subroutine returns a list containing a single scalar (the value <code>undef</code>) so <code>@array</code> has a single element and the <code>if (@array)</code> test is always true.</p>\n\n<p>Of course, your subroutine wasn't meant to be called in list context. But you can't control how other programmers will use your code.</p>\n\n<p>But if the subroutine is written like this:</p>\n\n<pre><code>sub some_boolean {\n  if ($some_condition) {\n    return 1;\n  } else {\n    return;\n  }\n}\n</code></pre>\n\n<p>Everything will work as expected. If your subroutine is called in scalar context, it will return a scalar false value and if it is called in list context, it will return an empty list.</p>\n\n<p>Returning an explicit false scalar value from a subroutine is, in my opinion, always suspect.</p>\n\n<p>If you want to return an explicit scalar false value, then it's well worth checking the calling context and taking appropriate action if it's wrong.</p>\n\n<pre><code>croak 'Subroutine called in list context.' if wantarray;\n</code></pre>\n\n<p><strong>Update:</strong> To answer this comment.</p>\n\n<blockquote>\n  <p>IIRC I tried using this approach, but gave up on it because it produced more warnings about undefined values - i.e. it was not a drop-in replacement for an existing Perl 1/!!0 comparisons, nor for 1/0. Consider <code>perl -wle 'print \"a()=&lt;&lt;\".a().\"&gt;&gt;\\n\"; sub a {if(@_) {return 1} else {return}} '</code>, versus <code>return !!@_</code></p>\n</blockquote>\n\n<p>The job of a Boolean value is that you can ask it if it is true or false. That is all. In my opinion, you should not expect to be able to just print a Boolean value. The fact that you often can print Boolean values without triggering warnings is nice, but shouldn't be relied on. If I wanted to print a Boolean value, I would always use some kind of logic check (probably the ternary operator) to do it. So I'd write your example like this:</p>\n\n<pre><code>$ perl -wle 'print \"a()=&lt;&lt;\".(a() ? \"True\" : \"False\").\"&gt;&gt;\\n\"; sub a {if(@_) {return 1} else {return}}'\n</code></pre>\n\n<p>I'll just reiterate my original point. If you are returning any scalar value for false and there is any way that your subroutine can be called in list context (even accidentally) then you have introduced a potential bug into your code.</p>\n\n<p>That, alone, is worth the trivial pain of having to decode Boolean values before printing them.</p>\n"}], "owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9238, "favorite_count": 1, "accepted_answer_id": 39541978, "answer_count": 2, "score": 8, "last_activity_date": 1501094433, "creation_date": 1474073208, "last_edit_date": 1501094433, "question_id": 39541833, "link": "https://stackoverflow.com/questions/39541833/what-values-should-a-boolean-function-in-perl-return", "title": "What values should a boolean function in Perl return?", "body": "<p><strong>SHORT QUESTION</strong></p>\n\n<p>What are the best ways to represent true and false consistently in libraries of Perl code?</p>\n\n<ul>\n<li><p><code>1</code> / <code>0</code>?</p></li>\n<li><p><code>1</code> / the special empty string that Perl's native boolean operators<br>\nreturn?</p></li>\n<li><p><code>undef</code>?</p></li>\n<li><p><code>()</code> (i.e. the empty list)?</p></li>\n</ul>\n\n<p><strong>QUESTION BACKGROUND</strong></p>\n\n<p>We all know that Perl is very flexible with regard to booleans, as with most things.</p>\n\n<p>For example, Perl treats the following as false: <code>undef()</code>, the number <code>0</code> (even if written as 000 or 0.0), an empty string, <code>'0'</code> (a string containing a single 0 digit).  Perl treats the following as true: any other scalar values, <code>1</code>, <code>-1</code>, a string with a space in it (<code>' '</code>), <code>'00'</code> multiple 0s in a string, <code>\"0\\n\"</code> (a '0' followed by a newline), <code>'true'</code>, <code>'false'</code>, <code>'undef'</code>, etc. Plus, array-to-scalar and list-to-scalar conversions mean that you can often get away with using an empty array as a false value. (Credit to <a href=\"http://perlmaven.com/boolean-values-in-perl\" rel=\"nofollow noreferrer\">http://perlmaven.com/boolean-values-in-perl</a> for the partial list of scalar values accepted as true or false by Perl.)</p>\n\n<p>But given all of these values that are treated as true or false, what should a Perl boolean function return?</p>\n\n<ul>\n<li><code>1/0</code></li>\n<li><code>-1/0</code> (nah)</li>\n<li><code>1/undef</code></li>\n<li><code>1/\"\"</code></li>\n</ul>\n\n<p>If you use any of these conventions, you will quickly find that the code that you write does not behave as nicely as normal Perl code.  You will not be able to replace <code>$a&lt;$b</code>  by <code>custom_less_than($a,$b)</code> and have it work exactly the same.</p>\n\n<p>Consider:</p>\n\n<pre><code>&gt; perl -e 'use warnings; \n           sub my_eq { return ( $_[0]==$_[1] ? 1 : 0 ) }\n           print \"compare (1==0) &lt;&lt;\".(1==0).\"&gt;&gt;\"\n                 .\" to my_eq(1,0) &lt;&lt;\".my_eq(1,0).\"&gt;&gt;\"\n                 .\"\\n\" ;'\nOutput:\ncompare (1==0) &lt;&lt;&gt;&gt; to my_eq(1,0) &lt;&lt;0&gt;&gt;\n</code></pre>\n\n<p>What is the best known method for returning values from boolean functions in Perl when you are writing them yourself?</p>\n\n<p>Perhaps you want your code to be Perl-like, potentially substitutable for Perl's existing boolean operators. Or perhaps you want numeric values like 1/0. Or perhaps you come from LISP, and expect Perl's <code>undef</code> to be used LISP's <code>nil</code> for false (but then you trip upon Perl's implicit treatment of many other values as false).</p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1474075228, "post_id": 39541648, "comment_id": 66397670, "body": "Explain what is database access and do you use another db in addition to sqlite."}], "answers": [{"comments": [{"owner": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "edited": false, "score": 0, "creation_date": 1474858208, "post_id": 39588853, "comment_id": 66687097, "body": "The problem with this solution is that <code>has</code> is an attribute and thus the code block is only run the first time. If that were a helper rather than an attribute it would work as you describe."}, {"owner": {"reputation": 497, "user_id": 668247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9753585e9c97a4009c17adffe41f9f47?s=128&d=identicon&r=PG", "display_name": "vikin9", "link": "https://stackoverflow.com/users/668247/vikin9"}, "reply_to_user": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "edited": false, "score": 1, "creation_date": 1474893854, "post_id": 39588853, "comment_id": 66704510, "body": "Woah, that means that my connection to DB is super stable and it doesn&#39;t break for days :) I will correct the answer and implement it as a helper."}], "tags": [], "owner": {"reputation": 497, "user_id": 668247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9753585e9c97a4009c17adffe41f9f47?s=128&d=identicon&r=PG", "display_name": "vikin9", "link": "https://stackoverflow.com/users/668247/vikin9"}, "is_accepted": false, "score": 2, "last_activity_date": 1474893935, "last_edit_date": 1474893935, "creation_date": 1474358986, "answer_id": 39588853, "question_id": 39541648, "link": "https://stackoverflow.com/questions/39541648/how-can-i-refresh-a-helper-function-in-mojolicious/39588853#39588853", "title": "How can I &#39;refresh&#39; a &#39;helper&#39; function in Mojolicious?", "body": "<p>I think you need to query the sqlite database for changes every time you connect or reuse the handle to your main database. If you notice a change in sqlite, you need to disconnect from the main, pull new credentials and reconnect to the main using new credentials.</p>\n\n<pre><code>$app-&gt;helper(\n    db =&gt; sub {\n      my $self = shift;\n      my $credentials_changed = your_function_to_check_this(...);\n      if($credentials_changed){\n        $dbh-&gt;disconnect if $dbh;\n        return db_connect(\n          $credentials-&gt;{db_host},     $credentials-&gt;{db_user},\n          $credentials-&gt;{db_database}, $credentials-&gt;{db_pass}\n       );\n    }\n);\n\nsub db_connect {\n  my ($db_host, $db_user, $db_database, $db_pass) = @_;\n  my $dbh = 0;\n  $dbh = DBI-&gt;connect(\"DBI:mysql:database=$db_database;host=$db_host\", \"$db_user\", \"$db_pass\", {'RaiseError' =&gt; 1});\n  $dbh-&gt;{mysql_auto_reconnect} = 1;\n  return $dbh;\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 6841403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b40bdd4bb3e535c890e891faa131ca18?s=128&d=identicon&r=PG&f=1", "display_name": "loorko", "link": "https://stackoverflow.com/users/6841403/loorko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538506681, "creation_date": 1474071273, "last_edit_date": 1538506681, "question_id": 39541648, "link": "https://stackoverflow.com/questions/39541648/how-can-i-refresh-a-helper-function-in-mojolicious", "title": "How can I &#39;refresh&#39; a &#39;helper&#39; function in Mojolicious?", "body": "<p>Sometimes I need to refresh the \"helper\" functions.</p>\n\n<p>An example:\nif the the database connection function is in a helper function, and the database access changed, and I store this access data in a sqlite database, and I overwrite this data (in the sqlite database), how can I refresh in this situation the helper function?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 0, "creation_date": 1474069156, "post_id": 39541425, "comment_id": 66396686, "body": "Change the first line of your foreach to:  <code>$args{$_} &#47;&#47;= $defaults{$_};</code>"}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 8, "last_activity_date": 1474069740, "last_edit_date": 1474069740, "creation_date": 1474069435, "answer_id": 39541461, "question_id": 39541425, "link": "https://stackoverflow.com/questions/39541425/useless-use-of-anonymous-hash-in-void-context/39541461#39541461", "title": "Useless use of anonymous hash ({}) in void context", "body": "<pre><code>{$args{$_}= $defaults{$_}}\n</code></pre>\n\n<p>is where the <strike>error</strike> warning is occuring. It looks like you are trying to use <code>{...}</code> to give the assignment precedence over the <code>||</code> comparison, but <code>{ ... }</code> are used to define hash references (or sometimes code blocks, but that's not how they are interpreted in this context).</p>\n\n<p>Since this is Perl, there are several ways to rewrite this.</p>\n\n<pre><code>defined($args{$_}) || ($args{$_}=$default{$_});       # () are good for grouping\n\n$args{$_} //= $defaults{$_};                          # requires Perl v5.10 or better\n\ndefined($args{$_}) or $args[$_} = $default{$_};       # or has lower prec than ||\n\ndefined($args{$_}) || do { $args{$_}=$default{$_} };  # {} is a code block with do\n\n$args{$_}=$default{$_} unless defined $args{$_};\n</code></pre>\n\n<hr>\n\n<pre><code>my %defaults=(my $config=&gt;'kconfig', my $mem=&gt;'kmem', my $baz=&gt;7);\n</code></pre>\n\n<p>also looks horribly wrong. <code>my</code> is used to declare a new variable in the current scope, and the initial value of the variable will be <code>undef</code>. That makes this line equivalent to</p>\n\n<pre><code>my %defaults = (undef, 'kconfig', undef, 'kmem', undef, 7);\n</code></pre>\n\n<p>From this context, I figure that <code>%defaults</code> is supposed to store default arguments for three required parameters, and is better written as</p>\n\n<pre><code>my %defaults = (config =&gt; 'kconfig', mem =&gt; 'kmem', baz =&gt; 7);\n</code></pre>\n"}], "owner": {"reputation": 1043, "user_id": 4513062, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/756ee9ec86172885e11e64c1bfd8e7cd?s=128&d=identicon&r=PG&f=1", "display_name": "Mookayama", "link": "https://stackoverflow.com/users/4513062/mookayama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1192, "favorite_count": 0, "accepted_answer_id": 39541461, "answer_count": 1, "score": 3, "last_activity_date": 1474069740, "creation_date": 1474069013, "last_edit_date": 1495542184, "question_id": 39541425, "link": "https://stackoverflow.com/questions/39541425/useless-use-of-anonymous-hash-in-void-context", "title": "Useless use of anonymous hash ({}) in void context", "body": "<p>The code is getting a similar warning as in</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24535354/why-does-this-code-throw-a-useless-use-of-anonymous-hash-in-void-context\">Why does this code throw a &quot;Useless use of anonymous hash ({}) in void context&quot; warning.</a></p>\n\n<p>The warning does not come out until I use strict.\nAnd when I try to use this code in a much bigger subroutine that use strict it fails miserably so I like to figure out why the code below gives me this warning when I use strict.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nsub foo {\n    my %args=@_;\n    my %defaults=(my $config=&gt;'kconfig', my $mem=&gt;'kmem', my $baz=&gt;7);\n    foreach (keys %defaults) {\n        defined ($args{$_})  || {$args{$_}= $defaults{$_}} ;\n        print $_ ,\" - \",$args {$_},\"\\n\";\n    }\n}\n\n&amp;foo (bar=&gt;\"1\");\n</code></pre>\n"}, {"tags": ["perl", "unix", "awk", "sed"], "comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1474068462, "post_id": 39540837, "comment_id": 66396553, "body": "There are no UNIX tools that do real &quot;in place&quot; editing, they all create a temp file (or internal buffer in the case of <code>ed</code>) and overwrite the original with that. Is that a problem?"}, {"owner": {"reputation": 2503, "user_id": 30900, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/348583dd70cb44a27774b0245495e4ab?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/30900/joe"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1474070245, "post_id": 39540837, "comment_id": 66396886, "body": "No, temp files are okay as long as its transparent.  I don&#39;t want to deal with backup files."}], "answers": [{"comments": [{"owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "edited": false, "score": 0, "creation_date": 1474064988, "post_id": 39540890, "comment_id": 66395794, "body": "But if there is no \\n at the end of the file this won&#39;t add one"}, {"owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "reply_to_user": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "edited": false, "score": 1, "creation_date": 1474065866, "post_id": 39540890, "comment_id": 66395983, "body": "@harmic Yes, it will.  Because <code>\\n*</code> matches <i>zero</i> or more newlines, the command will add one even if none are present. What makes you say otherwise?"}], "tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": true, "score": 4, "last_activity_date": 1474064581, "creation_date": 1474064581, "answer_id": 39540890, "question_id": 39540837, "link": "https://stackoverflow.com/questions/39540837/require-exactly-1-trailing-newline-in-a-file/39540890#39540890", "title": "Require exactly 1 trailing newline in a file", "body": "<p>To change text files in-place to have one and only one trailing newline:</p>\n\n<pre><code> sed -zi 's/\\n*$/\\n/'\n</code></pre>\n\n<p>This requires GNU sed.</p>\n\n<p><code>-z</code> tells sed to read in the file using the NUL character as a separator.  Since text files have no NUL characters, this has the effect of reading the whole file in at once.</p>\n\n<p><code>-i</code> tells GNU sed to change the file in place.</p>\n\n<p><code>s/\\n*$/\\n/</code> tells sed to replace however many newlines there are at the end of the file with a single newline.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1475657003, "last_edit_date": 1475657003, "creation_date": 1474064589, "answer_id": 39540892, "question_id": 39540837, "link": "https://stackoverflow.com/questions/39540837/require-exactly-1-trailing-newline-in-a-file/39540892#39540892", "title": "Require exactly 1 trailing newline in a file", "body": "<p>Replace all trailing new lines with one? </p>\n\n<pre><code>$text =~ s/\\n+$/\\n/;\n</code></pre>\n\n<p>This leaves the file with one newline at the end &ndash; if it had at least one to start with.  If you want it to be there even if the file didn't have one, replace <code>\\n+</code> with <code>\\n*</code>.</p>\n\n<p>For the in-place specification, implying a one-liner:</p>\n\n<pre><code>perl -i -0777 -wpe 's/\\n+$/\\n/' file.txt\n</code></pre>\n\n<p>The meaning of the switches is explained in <a href=\"http://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow\">Command Switches in perlrun</a>. </p>\n\n<hr>\n\n<p>Here is a summary of the switches.  Please see the above docs for precise explanations.</p>\n\n<ul>\n<li><p><code>-i</code> changes the file \"in place.\"  Note that data is still copied and temporary files used</p></li>\n<li><p><code>-0777</code> reads the file whole. The <code>-0[oct|hex]</code> sets <code>$/</code> to the number, so to nul with <code>-0</code></p></li>\n<li><p><code>-w</code> uses warnigs.  Not exactly the same as <code>use warnings</code> but better than nothing</p></li>\n<li><p><code>-p</code> the code in <code>''</code> runs on each line of file in turn, like <code>-n</code>, and then <code>$_</code> is printed </p></li>\n<li><p><code>-e</code> what follows between <code>''</code> is executed as Perl code<br>\n<code>-E</code> is the same but also enables <a href=\"http://perldoc.perl.org/feature.html\" rel=\"nofollow\">feature</a>s, like<code>say</code></p></li>\n</ul>\n\n<p>Note that we can see the equivalent code by using core <a href=\"http://perldoc.perl.org/O.html\" rel=\"nofollow\">O</a> and <a href=\"http://perldoc.perl.org/B/Deparse.html\" rel=\"nofollow\">B::Deparse</a> modules as</p>\n\n<pre><code>perl -MO=Deparse -wp -e 1\n</code></pre>\n\n<p>This prints</p>\n\n<pre><code>BEGIN { $^W = 1; }\nLINE: while (defined($_ = &lt;ARGV&gt;)) {\n    '???';\n}\ncontinue {\n    print $_;\n}\n-e syntax OK\n</code></pre>\n\n<p>showing a script equivalent to the one liner with <code>-w</code> and <code>-p</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "is_accepted": false, "score": 1, "last_activity_date": 1474064868, "creation_date": 1474064868, "answer_id": 39540937, "question_id": 39540837, "link": "https://stackoverflow.com/questions/39540837/require-exactly-1-trailing-newline-in-a-file/39540937#39540937", "title": "Require exactly 1 trailing newline in a file", "body": "<pre><code>perl -i -0 -pe 's/\\n\\n*$/\\n/' input-file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1474118301, "creation_date": 1474118301, "answer_id": 39547281, "question_id": 39540837, "link": "https://stackoverflow.com/questions/39540837/require-exactly-1-trailing-newline-in-a-file/39547281#39547281", "title": "Require exactly 1 trailing newline in a file", "body": "<p>The solutions posted so far read your whole input file into memory which will be an issue if your file is huge. This only reads contiguous empty lines into memory:</p>\n\n<pre><code>awk -i inplace '/./{printf \"%s\", buf; buf=\"\"; print; next} {buf = buf $0 ORS}' file\n</code></pre>\n\n<p>The above uses GNU awk for inplace editing.</p>\n"}], "owner": {"reputation": 2503, "user_id": 30900, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/348583dd70cb44a27774b0245495e4ab?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/30900/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 1, "accepted_answer_id": 39540890, "answer_count": 4, "score": 2, "last_activity_date": 1475657003, "creation_date": 1474064200, "question_id": 39540837, "link": "https://stackoverflow.com/questions/39540837/require-exactly-1-trailing-newline-in-a-file", "title": "Require exactly 1 trailing newline in a file", "body": "<p>I have a mix of files with various ways of using trailing new lines.  There are no carriage returns, it's only <code>\\n</code>.  Some files have multiple newlines and some files have no trailing newline.  I want to edit the files in place.</p>\n\n<p>How can I edit the files to have exactly 1 trailing newline?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474062251, "post_id": 39540464, "comment_id": 66394966, "body": "You assigned to <code>$line</code> so you can&#39;t use <code>$_</code> anymore. So do  <code>next unless $line =~ s&#47;...&#47;&#47;</code>, and <code>split</code> on <code>$line</code> below.  OR, remove <code>my $line</code> (and all other <code>$line</code>s, so just <code>print;</code>). Keep working through the good book, this code can be improved a lot."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1474515513, "last_edit_date": 1474515513, "creation_date": 1474063105, "answer_id": 39540653, "question_id": 39540464, "link": "https://stackoverflow.com/questions/39540464/perl-error-use-of-uninitialized-value-in-substitution-s/39540653#39540653", "title": "Perl error Use of uninitialized value $_ in substitution (s///)", "body": "<p>This is about when <code>$_</code>, \"<em>the default input and pattern-searching space</em>\", is set and used.</p>\n\n<p>In <code>while (&lt;$fh&gt;)</code>, what is read from the filehandle is assigned to <code>$_</code>. Then your regex <code>s///</code> and <a href=\"http://perldoc.perl.org/functions/print.html\" rel=\"nofollow\">print</a> and <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">split</a> can use it.  See <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow\">General Variables in perlvar</a>.</p>\n\n<p>However, once we specifically assign to a variable, <code>while (my $line = &lt;$fh&gt;)</code>, this deal is off and <code>$_</code> is not set. So when you later use the regex substitution in a way that relies on <code>$_</code> the variable is found <code>uninitialized</code>.</p>\n\n<p>Either consistently use the default <code>$_</code>, or (consistently) don't.  So, either</p>\n\n<pre><code>while (&lt;$fh&gt;) { \n    print;\n    # same as posted\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>while (my $line = &lt;$fh&gt;) {\n    # ...\n    next unless $line =~ s/^(.*?):\\s*//;\n    # ...\n    foreach my $field (split ' ', $line) {\n        # ...\n    }\n}\n</code></pre>\n\n<p>There is quite a bit more that can be improved in the code, but that would take us elsewhere.</p>\n"}], "owner": {"reputation": 1043, "user_id": 4513062, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/756ee9ec86172885e11e64c1bfd8e7cd?s=128&d=identicon&r=PG&f=1", "display_name": "Mookayama", "link": "https://stackoverflow.com/users/4513062/mookayama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3954, "favorite_count": 0, "accepted_answer_id": 39540653, "answer_count": 1, "score": 2, "last_activity_date": 1474515513, "creation_date": 1474062037, "question_id": 39540464, "link": "https://stackoverflow.com/questions/39540464/perl-error-use-of-uninitialized-value-in-substitution-s", "title": "Perl error Use of uninitialized value $_ in substitution (s///)", "body": "<p>Greeting I try to read a file into hash of hash following this tutorial.</p>\n\n<p><a href=\"http://docstore.mik.ua/orelly/perl/prog3/ch09_04.htm\" rel=\"nofollow\">http://docstore.mik.ua/orelly/perl/prog3/ch09_04.htm</a></p>\n\n<p>My text input file is</p>\n\n<pre><code>event_a1_x1: email1=xxx@gmail.com email2=yyy@gmail.com email1_cnt=3 \nevent_a1_x2: email1=xxx@gmail.com email2=yyy@gmail.com email1_cnt=3 \nevent_b2_y1: email1=xxx@gmail.com email2=yyy@gmail.com email1_cnt=3 \nevent_b2_y2: email1=xxx@gmail.com email2=yyy@gmail.com email1_cnt=3 \nevent_c3_z1: email1=xxx@gmail.com email2=yyy@gmail.com email1_cnt=3 \nevent_c3_z2: email1=xxx@gmail.com email2=yyy@gmail.com email1_cnt=3\n</code></pre>\n\n<p>My code is</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $file = $ARGV[0] or die \"Need to get config file on the command line\\n\";\n\nopen(my $data, '&lt;', $file) or die \"Could not open '$file' $!\\n\";\n\nmy %HoH;\n#open FILE, \"filename.txt\" or die $!;\nmy $key;\nmy $value;\nmy $who;\nmy $rec;\nmy $field;\n\nwhile ( my $line = &lt;$data&gt;) {\n    print $line;\n    next unless (s/^(.*?):\\s*//);\n    $who = $1;\n    #print $who;\n    $rec = {};\n    $HoH{$who} = $rec;\n    for $field ( split ) {\n        ($key, $value) = split /=/, $field;\n        $rec-&gt;{$key} = $value;\n    }\n}\n</code></pre>\n\n<p>I keep getting this error...</p>\n\n<pre><code>Use of uninitialized value $_ in substitution (s///) at ./read_config.pl line 18, &lt;$data&gt; line 1. \n</code></pre>\n"}, {"tags": ["perl", "cron", "crontab", "perforce", "cron-task"], "answers": [{"comments": [{"owner": {"reputation": 3102, "user_id": 3312025, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/51nUN.png?s=128&g=1", "display_name": "polina-c", "link": "https://stackoverflow.com/users/3312025/polina-c"}, "edited": false, "score": 0, "creation_date": 1474070401, "post_id": 39539378, "comment_id": 66396922, "body": "I added P4PORT to the command, but still getting the same error. Here is my cron line: <code>46  4  *  *  *    P4PORT=ss-5:1666 PERL5LIB=&#47;lib &#47;tmp&#47;test &gt;&gt; &#47;tmp&#47;cronoutput 2&gt;&amp;1</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3102, "user_id": 3312025, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/51nUN.png?s=128&g=1", "display_name": "polina-c", "link": "https://stackoverflow.com/users/3312025/polina-c"}, "edited": false, "score": 0, "creation_date": 1474244298, "post_id": 39539378, "comment_id": 66438140, "body": "I thought it went without saying, but you simple need to replicate the P4 env vars you have in your interactive environment (<code>set | grep ^P4</code>). There shouldn&#39;t be any guessing!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1484171622, "last_edit_date": 1495541239, "creation_date": 1474056591, "answer_id": 39539378, "question_id": 39538847, "link": "https://stackoverflow.com/questions/39538847/cannot-run-perforce-from-crontab/39539378#39539378", "title": "Cannot run perforce from crontab", "body": "<p>It's because you don't have the <code>P4CONFIG</code> (or alternative) environment vars are set in your cron environment. You simply need to replicate the environment vars you have in your interactive shell (perhaps using <code>set | grep ^P4</code> to determine what they are).</p>\n\n<p>Find more details about setting env vars <a href=\"https://stackoverflow.com/q/2229825/589924\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1483466567, "post_id": 39552030, "comment_id": 70105659, "body": "Setting up these environment variables is what the existing answer instructs you to do. However. it suggests setting them in the crontab file, which is a far better solution than hardcoding config data in your script. That&#39;s a bad solution."}, {"owner": {"reputation": 3102, "user_id": 3312025, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/51nUN.png?s=128&g=1", "display_name": "polina-c", "link": "https://stackoverflow.com/users/3312025/polina-c"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1483551844, "post_id": 39552030, "comment_id": 70145956, "body": "@ikegami, existing solution does not explain how exactly to set them in crontab file. If you could add this information, it would help a lot. Thanks."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1483553258, "post_id": 39552030, "comment_id": 70146708, "body": "If you are unable to determine how to set variables in a crontab after reading the documentation (<code>man 5 crontab</code>), feel free to ask a question about it. You can also ask the shell to set them (<code>VAR=val command</code>)."}, {"owner": {"reputation": 3102, "user_id": 3312025, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/51nUN.png?s=128&g=1", "display_name": "polina-c", "link": "https://stackoverflow.com/users/3312025/polina-c"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1483563551, "post_id": 39552030, "comment_id": 70151974, "body": "@ikegami, I believe, the goal of stackoverflow is to provide focused and complete answers to the people&#39;s questions, even if the answers can be found in the documentation."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1483564072, "post_id": 39552030, "comment_id": 70152202, "body": "Yes indeed. That&#39;s why I said you should feel free to ask that question. Actually, it&#39;s already been <a href=\"http://stackoverflow.com/q/2229825/589924\">asked</a>."}, {"owner": {"reputation": 3102, "user_id": 3312025, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/51nUN.png?s=128&g=1", "display_name": "polina-c", "link": "https://stackoverflow.com/users/3312025/polina-c"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1484023054, "post_id": 39552030, "comment_id": 70327084, "body": "Cool. Could you please add this link to your answer to make it the best?"}, {"owner": {"reputation": 3102, "user_id": 3312025, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/51nUN.png?s=128&g=1", "display_name": "polina-c", "link": "https://stackoverflow.com/users/3312025/polina-c"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1484169955, "post_id": 39552030, "comment_id": 70404755, "body": "@ikegami, I added the link to your post and marked it as most helpful."}], "tags": [], "owner": {"reputation": 3102, "user_id": 3312025, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/51nUN.png?s=128&g=1", "display_name": "polina-c", "link": "https://stackoverflow.com/users/3312025/polina-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1474322963, "last_edit_date": 1474322963, "creation_date": 1474148621, "answer_id": 39552030, "question_id": 39538847, "link": "https://stackoverflow.com/questions/39538847/cannot-run-perforce-from-crontab/39552030#39552030", "title": "Cannot run perforce from crontab", "body": "<p>I found the solution is to set the env vars in perl code:</p>\n\n<pre><code>    $ENV{'P4PORT'} = '...';\n    $ENV{'P4CLIENT'} = '...';\n    $ENV{'P4USER'} = '...';\n    $ENV{'P4PASSWD'} = '...';\n</code></pre>\n"}], "owner": {"reputation": 3102, "user_id": 3312025, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/51nUN.png?s=128&g=1", "display_name": "polina-c", "link": "https://stackoverflow.com/users/3312025/polina-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "accepted_answer_id": 39539378, "answer_count": 2, "score": 1, "last_activity_date": 1484171622, "creation_date": 1474054077, "last_edit_date": 1474054792, "question_id": 39538847, "link": "https://stackoverflow.com/questions/39538847/cannot-run-perforce-from-crontab", "title": "Cannot run perforce from crontab", "body": "<p>I am trying to execute perl script that works with perforce, from crontab. This is my perl code:</p>\n\n<pre><code>print `/usr/local/bin/p4 filelog /projects/config.json`;\n</code></pre>\n\n<p>I am getting error:</p>\n\n<pre><code>Perforce client error:\n    Connect to server failed; check $P4PORT.\n    TCP connect to perforce:1666 failed.\n    Name or service not known\n</code></pre>\n\n<p>The same command is working smoothly from cli. Any ideas what can i do with it?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1474053950, "post_id": 39538788, "comment_id": 66391549, "body": "<code>%0X</code> for leading zero-padding"}, {"owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1474055188, "post_id": 39538788, "comment_id": 66392098, "body": "Nope! This: print sprintf(&quot;%0X&quot;, $n);  will print only &#39;A&#39;  :("}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474055288, "post_id": 39538788, "comment_id": 66392135, "body": "ah, right. @ikegami&#39;s got it below. I forgot the length specifier, to say how many padding spaces there should be."}], "answers": [{"comments": [{"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "reply_to_user": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "edited": false, "score": 0, "creation_date": 1474057419, "post_id": 39539087, "comment_id": 66393103, "body": "@LucasRey You can click the checkbox to the left to accept it as the answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1474055134, "creation_date": 1474055134, "answer_id": 39539087, "question_id": 39538788, "link": "https://stackoverflow.com/questions/39538788/convert-number-to-hex-in-perl/39539087#39539087", "title": "Convert number to HEX in perl", "body": "<pre><code>sprintf(\"%02X\", $n)\n</code></pre>\n\n<p>&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;</p>\n"}], "owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2247, "favorite_count": 0, "accepted_answer_id": 39539087, "answer_count": 1, "score": 3, "last_activity_date": 1474055203, "creation_date": 1474053776, "last_edit_date": 1474055203, "question_id": 39538788, "link": "https://stackoverflow.com/questions/39538788/convert-number-to-hex-in-perl", "title": "Convert number to HEX in perl", "body": "<p>I need to convert a number to hex in perl. I'm using the following simple code:</p>\n\n<pre><code>my $n = 10;\nprint sprintf(\"%X\", $n);\n</code></pre>\n\n<p>That will output:   <strong>A</strong>\nThat's correct, but I need always 2 bytes like:   0A</p>\n\n<p>So for example:\n90 will show 5A - 6 will show 06 - 10 will show 0A</p>\n\n<p>How can I do that?</p>\n"}, {"tags": ["mysql", "perl", "dbi"], "comments": [{"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1474046228, "post_id": 39536826, "comment_id": 66387861, "body": "Can you try to change the <code>SELECT</code> query to something like: <code>SELECT 111 AS keyname, 222 AS value</code> to see if it will have the same issue. After that, it would also be possible for you to provide a self contained program that exhibits the issue, since there will be no reference to your actual tables."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 1, "creation_date": 1474050950, "post_id": 39536826, "comment_id": 66390106, "body": "You say in the question that the code provided is &quot;modified&quot; from the original program. Double-check that, in the actual program, you really do have <code>@row = $result-&gt;fetchrow_array</code>. The problem you describe sounds like what would happen if you accidentally wrote <code>$row = $result-&gt;fetchrow_array</code> instead."}, {"owner": {"reputation": 336, "user_id": 4925944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7170fe20e889cc2444d6d439fd0a2713?s=128&d=identicon&r=PG&f=1", "display_name": "JonathanT", "link": "https://stackoverflow.com/users/4925944/jonathant"}, "edited": false, "score": 0, "creation_date": 1474051023, "post_id": 39536826, "comment_id": 66390149, "body": "Forgive me I&#39;m struggling with the Perl.  Thank goodness for stackoverflow already!  My understanding is that <code>@row</code> is an array because it&#39;s defined with an @ instead of a $.  So wouldn&#39;t the statement:      @row = $result-&gt;fetchrow_array()  Assign the array result to the array variable?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1474056306, "post_id": 39536826, "comment_id": 66392615, "body": "@tjd, <code>fetchrow_array</code> is being called in list context"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474056366, "post_id": 39536826, "comment_id": 66392635, "body": "Re &quot;<i>Here is my modified code snippet from hlstats.pl</i>&quot;, No good. Provide us code that actually exhibits the problem."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1474059780, "creation_date": 1474059780, "answer_id": 39540035, "question_id": 39536826, "link": "https://stackoverflow.com/questions/39536826/perl-fetchrow-array-returning-only-the-last-column-instead-of-all-of-the-columns/39540035#39540035", "title": "perl fetchrow_array returning only the last column instead of all of the columns", "body": "<p>It is highly likely that your real code has this</p>\n\n<pre><code>while ( $row = $result-&gt;fetchrow_array() ) {\n\n    foreach $field ( $row ) {\n\n        if ( defined($field) ) {\n            print \"$field\\n\";\n        }\n        else {    \n            print \"&lt;NULL&gt;\\n\";\n        }\n    }\n}\n</code></pre>\n\n<p>The <a href=\"https://metacpan.org/pod/DBI#fetchrow_array\" rel=\"nofollow\">documentation for <code>fetchrow_array</code></a> says this</p>\n\n<blockquote>\n  <p>If called in a scalar context for a statement handle that has more than one column, it is undefined whether the driver will return the value of the first column or the last. So don't do that.</p>\n</blockquote>\n\n<p>I would write this</p>\n\n<pre><code>while ( my @row = $result-&gt;fetchrow_array ) {\n    print \"$_\\n\" for map { $_ // '&lt;NULL&gt;' } @row;\n}\n</code></pre>\n\n<p>or you can use <code>fetchrow_arrayref</code> like this</p>\n\n<pre><code>while ( my $row = $result-&gt;fetchrow_arrayref ) {\n    print \"$_\\n\" for map { $_ // '&lt;NULL&gt;' } @$row;\n}\n</code></pre>\n\n<p>It can be very hard to uncover a bug when we can't see what you see. Please be careful either to show the real source code, or something that you have tested and produces the same symptom.</p>\n"}], "owner": {"reputation": 336, "user_id": 4925944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7170fe20e889cc2444d6d439fd0a2713?s=128&d=identicon&r=PG&f=1", "display_name": "JonathanT", "link": "https://stackoverflow.com/users/4925944/jonathant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1474059780, "creation_date": 1474045825, "question_id": 39536826, "link": "https://stackoverflow.com/questions/39536826/perl-fetchrow-array-returning-only-the-last-column-instead-of-all-of-the-columns", "title": "perl fetchrow_array returning only the last column instead of all of the columns", "body": "<p>I'm working on a script called \"hlstats.pl\" which is a stats server from Half-Life game from <a href=\"http://www.hlstats-community.org/\" rel=\"nofollow\">http://www.hlstats-community.org/</a></p>\n\n<p>I'm trying to run this on Strawberry perl on Windows with MySQL.</p>\n\n<p>I've isolated the issue to fetchrow_array only returning whatever the last column is in the query.<br>\nHere is my modified code snippet from hlstats.pl</p>\n\n<pre><code># load the options from DB\nmy $result = &amp;doQuery(\"SELECT keyname, value FROM `${db_prefix}_Options`\");\nmy @row;\nwhile (@row = $result-&gt;fetchrow_array()) {\n  foreach $field (@row) {\n    if (defined($field)) {\n      print \"$field\\n\";\n    } else {    \n      print \"&lt;NULL&gt;\\n\";\n    }\n  }\n} \n##my ($keyname, $value, %oHash);\n##while( ($keyname, $value) = $result-&gt;fetchrow_array ) {\n##  # $oHash{$keyname} = $value;\n##  print $keyname;\n##  print \"\\n\";\n##}\n$result-&gt;finish();\n</code></pre>\n\n<p>It will print out all the values in the column \"value\" if it's last and I can reverse it and it will print all the \nvalues in the \"keyname\" column if I move those around in the query.  It's not clear to me why we aren't receiving back all the columns.</p>\n\n<p>This is perl, v5.10.0 built for MSWin32-x86-multi-thread</p>\n\n<p>MySQL version 5.7.10</p>\n\n<p>\"perldoc perllocal\" output</p>\n\n<pre><code>  Thu Jan 29 21:17:27 2009: \"Module\" ExtUtils::MakeMaker\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 6.48\"\n\n    *   \"EXE_FILES: bin/instmodsh\"\n\n  Thu Jan 29 21:17:32 2009: \"Module\" File::Path\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 2.07\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:17:38 2009: \"Module\" ExtUtils::Command\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.16\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:17:47 2009: \"Module\" Win32API::File\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.1101\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:18:05 2009: \"Module\" ExtUtils::Install\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.52\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:18:10 2009: \"Module\" ExtUtils::Manifest\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.56\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:18:34 2009: \"Module\" Test::Harness\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 3.14\"\n\n    *   \"EXE_FILES: bin/prove\"\n\n  Thu Jan 29 21:18:43 2009: \"Module\" Test::Simple\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.86\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:18:48 2009: \"Module\" ExtUtils::CBuilder\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.24\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:18:54 2009: \"Module\" ExtUtils::ParseXS\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 2.19\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:19:05 2009: \"Module\" version\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.76\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:19:11 2009: \"Module\" IO::Compress::Base\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 2.015\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:19:23 2009: \"Module\" Compress::Raw::Zlib\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 2.015\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:19:33 2009: \"Module\" Compress::Raw::Bzip2\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 2.015\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:20:34 2009: \"Module\" IO::Compress::Zlib\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 2.015\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:20:47 2009: \"Module\" IO::Compress::Bzip2\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 2.015\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:20:55 2009: \"Module\" Compress::Zlib\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 2.015\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:21:18 2009: \"Module\" Compress::Bzip2\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 2.09\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:21:24 2009: \"Module\" IO::Zlib\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.09\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:21:31 2009: \"Module\" Cwd\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 3.29\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:21:53 2009: \"Module\" File::Temp\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.21\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:22:03 2009: \"Module\" Win32::WinError\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.03\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:22:14 2009: \"Module\" Win32API::Registry\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.30\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:22:19 2009: \"Module\" Win32::TieRegistry\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.25\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:22:24 2009: \"Module\" File::HomeDir\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.82\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:22:29 2009: \"Module\" File::Which\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.05\"\n\n    *   \"EXE_FILES: bin/pwhich\"\n\n  Thu Jan 29 21:22:42 2009: \"Module\" Archive::Zip\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.26\"\n\n    *   \"EXE_FILES: bin/crc32\"\n\n  Thu Jan 29 21:22:46 2009: \"Module\" Package::Constants\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.02\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:22:51 2009: \"Module\" IO::String\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.08\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:22:59 2009: \"Module\" Archive::Tar\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.44\"\n\n    *   \"EXE_FILES: bin/ptar bin/ptardiff\"\n\n  Thu Jan 29 21:23:04 2009: \"Module\" Parse::CPAN::Meta\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.04\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:23:16 2009: \"Module\" YAML\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.68\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:23:23 2009: \"Module\" Digest::MD5\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 2.38\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:23:29 2009: \"Module\" Digest::SHA1\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 2.11\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:23:38 2009: \"Module\" Digest::SHA\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 5.47\"\n\n    *   \"EXE_FILES: shasum\"\n\n  Thu Jan 29 21:25:58 2009: \"Module\" CPAN\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.9301\"\n\n    *   \"EXE_FILES: scripts/cpan\"\n\n  Thu Jan 29 21:26:05 2009: \"Module\" Term::ReadKey\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 2.30\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:26:09 2009: \"Module\" Term::ReadLine\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.0302\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:26:13 2009: \"Module\" Text::Glob\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.08\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:26:24 2009: \"Module\" URI\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.37\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:26:28 2009: \"Module\" HTML::Tagset\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 3.20\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:26:41 2009: \"Module\" HTML::Parser\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 3.59\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:27:18 2009: \"Module\" LWP\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 5.823\"\n\n    *   \"EXE_FILES: bin/lwp-request bin/lwp-mirror bin/lwp-rget\n        bin/lwp-download\"\n\n  Thu Jan 29 21:27:31 2009: \"Module\" LWP::Online\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.07\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:27:56 2009: \"Module\" Win32::File\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.06\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:28:17 2009: \"Module\" File::Remove\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.42\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:28:21 2009: \"Module\" Win32::File::Object\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.01\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:28:45 2009: \"Module\" Win32::API\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.58\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:29:05 2009: \"Module\" Params::Util\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.35\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:29:14 2009: \"Module\" IPC::Run3\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.042\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:29:19 2009: \"Module\" Test::Script\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.03\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:29:24 2009: \"Module\" Win32::Env::Path\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.01\"\n\n    *   \"EXE_FILES: script/win32envpath\"\n\n  Thu Jan 29 21:29:46 2009: \"Module\" Parse::Binary\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.11\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:29:51 2009: \"Module\" Win32::Exe\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.11\"\n\n    *   \"EXE_FILES: script/exe_update.pl\"\n\n  Thu Jan 29 21:30:32 2009: \"Module\" Math::BigInt\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.89\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:30:52 2009: \"Module\" Math::BigInt::FastCalc\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.19\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:31:14 2009: \"Module\" Math::BigRat\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.22\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:31:37 2009: \"Module\" Math::BigInt::GMP\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.24\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:31:49 2009: \"Module\" XML::Parser\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 2.36\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:32:18 2009: \"Module\" XML::NamespaceSupport\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.09\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:32:28 2009: \"Module\" XML::SAX\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.96\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:32:41 2009: \"Module\" XML::LibXML::Common\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.13\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:33:01 2009: \"Module\" XML::LibXML\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.69\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:33:30 2009: \"Module\" PAR::Dist\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.43\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:33:37 2009: \"Module\" PAR::Dist::FromPPD\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.03\"\n\n    *   \"EXE_FILES: bin/ppd2par\"\n\n  Thu Jan 29 21:33:42 2009: \"Module\" PAR::Dist::InstallPPD\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.02\"\n\n    *   \"EXE_FILES: bin/parinstallppd\"\n\n  Thu Jan 29 21:34:18 2009: \"Module\" IO::Stringy\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 2.110\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:34:41 2009: \"Module\" Tree::DAG_Node\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.06\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:35:03 2009: \"Module\" Test::Warn\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.11\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:35:21 2009: \"Module\" Test::Tester\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.107\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:35:27 2009: \"Module\" Test::NoWarnings\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.084\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:35:34 2009: \"Module\" Test::Deep\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.103\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:35:39 2009: \"Module\" DBM::Deep\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.0013\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:35:59 2009: \"Module\" YAML::Tiny\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.36\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:36:23 2009: \"Module\" AutoLoader\n*       \"installed into: C:\\strawberry\\perl\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 5.68\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:36:29 2009: \"Module\" PAR\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.984\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:36:34 2009: \"Module\" PAR::Repository::Query\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.12\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:36:39 2009: \"Module\" PAR::Repository::Client\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.21\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:36:49 2009: \"Module\" PPM\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.01_01\"\n\n    *   \"EXE_FILES: bin/ppm.pl\"\n\n  Thu Jan 29 21:37:09 2009: \"Module\" Number::Compare\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.01\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:37:19 2009: \"Module\" pler\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.34\"\n\n    *   \"EXE_FILES: script/pler\"\n\n  Thu Jan 29 21:37:44 2009: \"Module\" Data::Compare\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.21\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:37:50 2009: \"Module\" CPAN::Checksums\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 2.02\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:37:56 2009: \"Module\" File::chmod\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.32\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:38:01 2009: \"Module\" CPAN::Inject\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.11\"\n\n    *   \"EXE_FILES: script/cpaninject\"\n\n  Thu Jan 29 21:38:15 2009: \"Module\" pip\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.13\"\n\n    *   \"EXE_FILES: script/pip\"\n\n  Thu Jan 29 21:39:33 2009: \"Module\" DBI\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.607\"\n\n    *   \"EXE_FILES: dbiproxy dbiprof dbilogstrip\"\n\n  Thu Jan 29 21:40:00 2009: \"Module\" DBD::SQLite\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 1.14\"\n\n    *   \"EXE_FILES: \"\n\n  Thu Jan 29 21:40:20 2009: \"Module\" CPAN::DistnameInfo\n*       \"installed into: C:\\strawberry\\perl\\site\\lib\"\n\n    *   \"LINKTYPE: dynamic\"\n\n    *   \"VERSION: 0.07\"\n\n    *   \"EXE_FILES: \"\n</code></pre>\n\n<hr>\n\n<pre><code>use strict;\nuse warnings;\n\nuse DBI;\n\nprint map \"$_\\n\",\n      DBI-&gt;available_drivers;\n</code></pre>\n\n<p>The output is:</p>\n\n<ul>\n<li>DBM</li>\n<li>ExampleP</li>\n<li>File</li>\n<li>Gofer</li>\n<li>Multiplex</li>\n<li>Proxy</li>\n<li>SQLite</li>\n<li>Sponge</li>\n<li>mysql</li>\n</ul>\n"}, {"tags": ["python", "perl", "batch-file", "cmd"], "answers": [{"tags": [], "owner": {"reputation": 68521, "user_id": 2128947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ASTM.jpg?s=128&g=1", "display_name": "Magoo", "link": "https://stackoverflow.com/users/2128947/magoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1474128496, "creation_date": 1474128496, "answer_id": 39548916, "question_id": 39536601, "link": "https://stackoverflow.com/questions/39536601/command-to-run-a-bat-script-against-all-filename-in-a-folder-and-segmented-datab/39548916#39548916", "title": "Command to run a bat script against all filename in a folder and segmented databases and merging output", "body": "<pre class=\"lang-dos prettyprint-override\"><code>@ECHO OFF\nSETLOCAL ENABLEDELAYEDEXPANSION\nSET \"sourcedir=U:\\sourcedir\"\nFOR /f \"delims=\" %%a IN (\n 'dir /b /a-d \"%sourcedir%\\*.txt\" '\n ) DO (\n SET \"join=\"\n FOR /L %%d IN (101,1,120) DO (\n  SET /a segment=%%d\n  SET \"segment=!segment:~-2!\"\n  ECHO(script.exe %sourcedir%\\%%a -db .\\db\\hg.part-!segment!.db -out %%~na_part-!segment!.out\n  SET \"join=!join! %%~na_part-!segment!.out\"\n )\n ECHO(join !join! ^&gt;%%~na.out\n)\n\n\nGOTO :EOF\n</code></pre>\n\n<p>You would need to change the setting of <code>sourcedir</code> to suit your circumstances.</p>\n\n<p>Note that in windows the directory-separator is <code>\\</code> - '/` is a switch-indicator.</p>\n\n<p>The outer <code>for</code> assigns each filename in turn to <code>%%a</code>.</p>\n\n<p><code>%%d</code> is assigned 100..120 in turn. This is assigned to <code>segment</code> and then only the last 2 characters of <code>segment</code> are used.</p>\n\n<p>The <code>script.exe</code> is then run for each segment, and the <code>join</code> string builds up each <code>.out</code> filename.</p>\n\n<p>Finally, the <code>join</code> command is executed.</p>\n\n<p>The required commands are merely <code>ECHO</code>ed for testing purposes. <strong>After you've verified that the commands are correct</strong>, delete the string <code>ECHO(</code> which appears before your command to actually execute the commands. You would also need to change the <code>^&gt;</code> in the final <code>echo</code> to <code>&gt;</code> - the caret escapes the special meaning of <code>&gt;</code> for the purpose of being <code>echo</code>ed.</p>\n\n<p>The <code>%~na</code> Hieroglyph means the name part only of the string in <code>%%a</code></p>\n"}], "owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1474128496, "creation_date": 1474044831, "question_id": 39536601, "link": "https://stackoverflow.com/questions/39536601/command-to-run-a-bat-script-against-all-filename-in-a-folder-and-segmented-datab", "title": "Command to run a bat script against all filename in a folder and segmented databases and merging output", "body": "<p>I have a random number (and with random name) of .txt files within a folder named 'seq' as:</p>\n\n<pre><code>NP_4500.1.txt\nNP_4568.1.txt\nNP_45981.3.txt\nXM_we679.txt\n36498746.txt\n</code></pre>\n\n<p>in another folder named 'db', I made a database fragmented in 20 segments (due to my computational limitations) which are arranged as:</p>\n\n<pre><code>hg.part-01.db\nhg.part-02.db\nhg.part-03.db\n..\n..\nhg.part-20.db\n</code></pre>\n\n<p>now I want to run the following command in each  .txt file against each fragmented database and generate fragmented result, as for one .txt file (NP_4500.1.txt):</p>\n\n<pre><code>script.exe ./seq/NP_4500.1.txt -db ./db/hg.part-01.db -out NP_4500.1_part-01.out\nscript.exe ./seq/NP_4500.1.txt -db ./db/hg.part-02.db -out NP_4500.1_part-02.out\nscript.exe ./seq/NP_4500.1.txt -db ./db/hg.part-03.db -out NP_4500.1_part-03.out\n...\n...\nscript.exe ./seq/NP_4500.1.txt -db ./db/hg.part-20.db -out NP_4500.1_part-20.out\n</code></pre>\n\n<p>After that, I want to merge the results in a single file as:</p>\n\n<pre><code>join NP_4500.1_part-001.out NP_4500.1_part-002.out .. NP_4500.1_part-00200.out &gt; NP_4500.1.out\n</code></pre>\n\n<p>similarly for next .txt file:</p>\n\n<pre><code>NP_4568.1.txt\n\n...\n</code></pre>\n\n<p>Now, I can run a cmd script for each .txt file as:</p>\n\n<pre><code>for %%F in (\"*.txt\") do script.exe ./seq/%%F .......\n</code></pre>\n\n<p>But my question is, how can I integrate this command with each of the fragmented database and merge the .out files to generate result for a single .txt file before proceeding to the next.</p>\n\n<p>I am using windows 7 (32 bit machine). I can use cmd, perl or python script. Thanks for ur consideration.</p>\n"}, {"tags": ["perl", "sftp", "autodie"], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1474040247, "post_id": 39535242, "comment_id": 66384792, "body": "It&#39;s safer to use <code>eval { ... ; 1 } or ...</code> because <code>$@</code> can be clobbered under certain circumstances. Or use <a href=\"http://p3rl.org/Try::Tiny\" rel=\"nofollow noreferrer\">Try::Tiny</a>."}, {"owner": {"reputation": 31, "user_id": 5614680, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-d4yGcvICUlE/AAAAAAAAAAI/AAAAAAAAD68/-b-2odb_OLQ/photo.jpg?sz=128", "display_name": "Guillaume W.", "link": "https://stackoverflow.com/users/5614680/guillaume-w"}, "edited": false, "score": 0, "creation_date": 1474278001, "post_id": 39535242, "comment_id": 66449663, "body": "That works fine ! Many thanks. Just had to add a semicolon at the end of eval { ... };"}], "tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 1, "last_activity_date": 1474039999, "creation_date": 1474039999, "answer_id": 39535242, "question_id": 39534880, "link": "https://stackoverflow.com/questions/39534880/perl-netsftpforeign-autodie-0-then-1/39535242#39535242", "title": "PERL Net::SFTP::Foreign autodie=&gt;0 then 1", "body": "<p>You can wrap your connection into eval statement and set autodie to 1.\nThis should work:</p>\n\n<pre><code>use Net::SFTP::Foreign;\n\nprint \"Opening SFTP session...\\n\";\nmy $j = 1;\nmy $sftp_max_retry = 5;\nmy $sftp;\nwhile (1) {\n    eval {\n      $sftp = do {\n        local $SIG{TERM} = 'IGNORE';  # used to avoid the message \"Killed by signal 15\".\n        Net::SFTP::Foreign-&gt;new(\n                     host      =&gt; \"some_host_unavailable\",\n                     port      =&gt; 22,\n                     user      =&gt; \"some_user\",\n                     password  =&gt; \"some_pwd\",\n                     autodie   =&gt; 1,\n                     timeout   =&gt; 10,\n                     autoflush =&gt; 1,\n                 );\n      };\n    }\n\n      if ($@) {\n         if ($j &gt; $sftp_max_retry) {\n            print \"Opening SFTP failed, maximum retry reached !\\n\";\n            exit 2;\n         }\n         print \"Opening SFTP session (retry $j/$sftp_max_retry)...\\n\";\n         sleep $sftp_retry_loop;\n         $j++;\n      }else{\n         print \"\\nConnection successful\\n\";\n         last;\n      }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5614680, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-d4yGcvICUlE/AAAAAAAAAAI/AAAAAAAAD68/-b-2odb_OLQ/photo.jpg?sz=128", "display_name": "Guillaume W.", "link": "https://stackoverflow.com/users/5614680/guillaume-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1474039999, "creation_date": 1474038819, "question_id": 39534880, "link": "https://stackoverflow.com/questions/39534880/perl-netsftpforeign-autodie-0-then-1", "title": "PERL Net::SFTP::Foreign autodie=&gt;0 then 1", "body": "<p>I'm writing a script that retrieves some files automatically once a day on some sftp server.\nThe problem is this sftp server is not very reliable and sometimes the client have to retry a couple of times until opening the session successfully.\nI choose Net::SFTP::Foreign for different reasons (especially because it uses the native ssh command from the system).</p>\n\n<p>I wrote a loop in order to retry the opening sftp session 3 times before giving up.</p>\n\n<p>My problem :\nI want to keep the autodie=1 because it automatically handles the non-recoverable errors for all methods used later in the code.\nBut the autodie=1 prevents me to trap any error during the session opening (Net::SFTP::Foreign->new) and therefore the retries part is useless.</p>\n\n<p>Here is the part of the code I wrote, the autodie is set to 0 in order to make work the retries part (but I want autodie=1).\nIs it possible to open the sftp connection with autodie=>0 so that the retries part actually works, and then change this value with autodie=>1 in order to have the auto handling of non-recoverable errors ?</p>\n\n<p>Any help would be much appreciated :)</p>\n\n<pre><code>use Net::SFTP::Foreign;\n\nprint \"Opening SFTP session...\\n\";\nmy $j = 1;\nmy $sftp_max_retry = 5;\nwhile (1) {\n      $sftp = do {\n        local $SIG{TERM} = 'IGNORE';  # used to avoid the message \"Killed by signal 15\".\n        Net::SFTP::Foreign-&gt;new(\n                     host      =&gt; \"some_host_unavailable\",\n                     port      =&gt; 22,\n                     user      =&gt; \"some_user\",\n                     password  =&gt; \"some_pwd\",\n                     autodie   =&gt; 0,\n                     timeout   =&gt; 10,\n                     autoflush =&gt; 1,\n                 );\n      };\n\n      if ($sftp-&gt;error) {\n         if ($j &gt; $sftp_max_retry) {\n            print \"Opening SFTP failed, maximum retry reached !\\n\";\n            exit 2;\n         }\n         print \"Opening SFTP session (retry $j/$sftp_max_retry)...\\n\";\n         sleep $sftp_retry_loop;\n         $j++;\n      }else{\n         print \"\\nConnection successful\\n\";\n         last;\n      }\n}\n</code></pre>\n"}, {"tags": ["perl", "imagemagick"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1474038343, "post_id": 39534326, "comment_id": 66383601, "body": "there are some devel libraries that are required in advance IIRC, but can&#39;t remember which ones. Perhaps if you showed the error message(s) you are receiving, it may trigger something. It was a few months ago I ran into this."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1474038397, "post_id": 39534326, "comment_id": 66383647, "body": "You need to be a lot clearer about what &quot;no luck&quot; means. What (exactly) have you tried? What (exactly) unexpected behaviour are you seeing?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474039413, "post_id": 39534326, "comment_id": 66384253, "body": "@DaveCross: Please check I have updated my question."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1474039583, "post_id": 39534326, "comment_id": 66384364, "body": "Please don&#39;t post images of text. Your error message are text. Please post them as text."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474271619, "post_id": 39534326, "comment_id": 66446020, "body": "@Dave Cross: Yes I will correct in this future."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474271732, "post_id": 39534326, "comment_id": 66446083, "body": "Why not correct it now?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474358583, "post_id": 39534326, "comment_id": 66486674, "body": "@DaveCross: Modified my Question"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474358835, "post_id": 39534326, "comment_id": 66486836, "body": "Many of those messages are clearly cut off - &quot;It seems that you are trying to install Perl::Magick on a MS Wi...&quot;, &quot; however we cannot f...&quot;, &quot;it is not possible to mix 32/64-bit binaries of perl a ...&quot;, &quot;chances for successful build are ver ...&quot;. If you can&#39;t take the time to check that you have given us all of the information, then why would we want to put in any effort to help you?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474358895, "post_id": 39534326, "comment_id": 66486882, "body": "Also, the points 1 to 5 just underneath the &quot;WARNING&quot; message give you plenty of stuff to investigate."}], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1474266930, "post_id": 39535249, "comment_id": 66443759, "body": "That&#39;s why I  asked why I couldn&#39;t able to install this module."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1474267084, "post_id": 39535249, "comment_id": 66443830, "body": "@Dave Cross: Already I have installed the program. <code>C:\\Program Files\\ImageMagick-7.0.3-Q16</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474271811, "post_id": 39535249, "comment_id": 66446119, "body": "The image of your error messages is incomplete and hard to read. If you post the complete text of those error messages then someone might want to help you."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1474358614, "post_id": 39535249, "comment_id": 66486691, "body": "@DaveCross cross: Modified my Question."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1608624267, "last_edit_date": 1608624267, "creation_date": 1474040016, "answer_id": 39535249, "question_id": 39534326, "link": "https://stackoverflow.com/questions/39534326/how-to-install-imagemagick-in-perl-version-5-18/39535249#39535249", "title": "How to install Image::Magick in perl version 5.18", "body": "<p>The Perl library Image::Magick is a wrapper around a C library called ImageMagick. You can't install the Perl library if the C library is not installed first. That's why your attempted <code>cpan</code> installation gave all of those &quot;No library found&quot; errors.</p>\n<p>You can download the Windows version of ImageMagick from <a href=\"https://www.imagemagick.org/script/download.php\" rel=\"nofollow noreferrer\">the project's web site</a>. Once you have installed that, you can try to install the Perl library again.</p>\n<p>Did you read the errors that you got from <code>cpan</code>? I'm really not sure why, after getting a message saying &quot;install seems impossible&quot; you would try running a test program!</p>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1838, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1609090188, "creation_date": 1474037181, "last_edit_date": 1609090188, "question_id": 39534326, "link": "https://stackoverflow.com/questions/39534326/how-to-install-imagemagick-in-perl-version-5-18", "title": "How to install Image::Magick in perl version 5.18", "body": "<p>I need to install Image::Magick module in a machine and the credentials are below:</p>\n<p><code>Windows Version - 7</code></p>\n<p><code>Perl Version 5.18</code></p>\n<p>Also I have tried so many ways like <code>cpan</code> <code>ppm</code> and also copied the module and directly pasted in the <code>c:\\perl\\lib\\ and c:\\perl\\site\\lib</code> and unfortunately no luck.</p>\n<blockquote>\n<p>In cpan installed</p>\n</blockquote>\n<p>Running install for module 'Image::Magick'<br />\nRunning make for J/JC/JCRISTY/PerlMagick-6.89-1.tar.gz<br />\nChecksum for C:\\Perl\\cpan\\sources\\authors\\id\\J\\JC\\JCRISTY\\PerlMagick-6.89-1.tar.gz ok<br />\n./PerlMagick-6.89/<br />\n./PerlMagick-6.89/check.sh<br />\n./PerlMagick-6.89/Makefile.old<br />\n./PerlMagick-6.89/Makefile.nt<br />\n./PerlMagick-6.89/check.sh.in<br />\n./PerlMagick-6.89/demo/<br />\n./PerlMagick-6.89/demo/README<br />\n............<br />\n./PerlMagick-6.89/t/bzlib/read.t<br />\n./PerlMagick-6.89/t/input.fits<br />\n./PerlMagick-6.89/Makefile.PL<br />\n./PerlMagick-6.89/Makefile.PL.in<br />\n./PerlMagick-6.89/MANIFEST.SKIP<br />\n./PerlMagick-6.89/Makefile.am<br />\n./PerlMagick-6.89/Magick.xs<br />\n./PerlMagick-6.89/check</p>\n<p>CPAN.pm: Building J/JC/JCRISTY/PerlMagick-6.89-1.tar.gz</p>\n<p>Checking if your kit is complete...<br />\nLooks good<br />\nGenerating a dmake-style Makefile<br />\nWriting Makefile for Image::Magick<br />\nWriting MYMETA.yml and MYMETA.json<br />\nJCRISTY/PerlMagick-6.89-1.tar.gz<br />\n[31m  C:\\Perl\\bin\\dmake.exe -- NOT OK<br />\nRunning make test<br />\nCan't test without successful make<br />\nRunning make install<br />\nMake had returned bad status, install seems impossible</p>\n<blockquote>\n<p>################################## WARNING! ####################<br />\nIt seems that you are trying to install Perl::Magick on a MS Wi<br />\nperl + gcc compiler (e.g. strawberry perl), however we cannot f<br />\nbinaries installed on your system.</p>\n</blockquote>\n<blockquote>\n<p>Please check the following prerequisites:</p>\n<ol>\n<li><p>You need to have installed ImageMagick Windows binaries from<br />\n<a href=\"https://www.imagemagick.org/script/download.php#windows\" rel=\"nofollow noreferrer\">https://www.imagemagick.org/script/download.php#windows</a></p>\n</li>\n<li><p>We only support dynamic (DLL) ImageMagick binaries<br />\nnote: it is not possible to mix 32/64-bit binaries of perl a</p>\n</li>\n<li><p>During installation select that you want to install ImageMag<br />\ndevelopment files (libraries+headers)</p>\n</li>\n<li><p>You also need to have ImageMagick's directory in your PATH<br />\nnote: we are checking the presence of convert.exe and/or ide</p>\n</li>\n<li><p>You might need Visual C++ Redistributable Package installed<br />\nsee instructions on ImageMagick's Binary Release webpage</p>\n</li>\n</ol>\n<p>We are gonna continue, but chances for successful build are ver<br />\n################################################################<br />\nWarning (mostly harmless): No library found for -lMagickCore<br />\nWarning (mostly harmless): No library found for -lmoldname<br />\nWarning (mostly harmless): No library found for -lkernel32<br />\nWarning (mostly harmless): No library found for -luser32<br />\nWarning (mostly harmless): No library found for -lgdi32<br />\nWarning (mostly harmless): No library found for -lwinspool<br />\nWarning (mostly harmless): No library found for -lcomdlg32<br />\nWarning (mostly harmless): No library found for -ladvapi32<br />\nWarning (mostly harmless): No library found for -lshell32<br />\nWarning (mostly harmless): No library found for -lole32<br />\nWarning (mostly harmless): No library found for -loleaut32<br />\nWarning (mostly harmless): No library found for -lnetapi32<br />\nWarning (mostly harmless): No library found for -luuid<br />\nWarning (mostly harmless): No library found for -lws2_32<br />\nWarning (mostly harmless): No library found for -lmpr<br />\nWarning (mostly harmless): No library found for -lwinmm<br />\nWarning (mostly harmless): No library found for -lversion<br />\nWarning (mostly harmless): No library found for -lodbc32<br />\nWarning (mostly harmless): No library found for -lodbccp32<br />\nWarning (mostly harmless): No library found for -lcomctl32<br />\nto undefined at C:/Perl/lib/ExtUtils/Install.pm line 1198.<br />\nC:\\Perl\\bin\\dmake.exe: *** [pm_to_blib] Error 2<br />\nFailed during this command:<br />\nJCRISTY/PerlMagick-6.89-1.tar.gz             : make NO<br />\ncpan&gt; exit<br />\nLockfile removed.</p>\n</blockquote>\n<p>After Installation the error displays as:</p>\n<blockquote>\n<p>D:&gt;perl -wc test.pl<br />\nCan't locate Image/Magick.pm in @INC (you may need to install the  &gt;Image::Magick module) (@INC contains: C:/Perl/site/lib C:/Perl/lib .) at test.pl line 2.<br />\nBEGIN failed--compilation aborted at test.pl line 2.</p>\n</blockquote>\n<p>It would be appreciated if someone could suggest the way to close this.</p>\n"}, {"tags": ["regex", "perl", "escaping"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1474035219, "post_id": 39533506, "comment_id": 66381519, "body": "What OS do you run?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1474036440, "post_id": 39533506, "comment_id": 66382367, "body": "you are getting a lot of votes to close for unclarity about what you are asking.  This is probably because there&#39;s so much code there it makes it hard to find the part you are actually talking about.  Try to narrow down the code you post to what is necessary to demonstrate your problem."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 2, "last_activity_date": 1474036579, "last_edit_date": 1474036579, "creation_date": 1474035994, "answer_id": 39533953, "question_id": 39533506, "link": "https://stackoverflow.com/questions/39533506/escaping-double-quotes-in-perl-in-linux/39533953#39533953", "title": "Escaping double quotes in perl in Linux", "body": "<p>To me, the easiest way to quote a variable for shell interpolation is to:</p>\n\n<ol>\n<li>enclose it in <code>''</code></li>\n<li>replace any <code>'</code> with <code>'\"'\"'</code></li>\n</ol>\n\n<p>So replace</p>\n\n<pre><code>$SEND_EVENT=`/opt/SendEvent/dist/SendEvent/SendEvent send -q \"$TOOL\" -a \"$MSG_APPL\" -n \"$MSG_NODE_NAME\" -p \"$ESM_PROFILE\" -s \"$DSOM_SEV\" -k \"$DEDUPLICATION\" -c \"$MANAGEMENT_ID\" -m \"$LONG_TEXT\" -t \"ABC $SHORT_TEXT\" -z \"ABC\" -y \\\"$DEFAULT_Q\\\"`  ;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>(my $quoted_DEDUPLICATION = $DEDUPLICATION) =~ s/'/'\"'\"'/g;\n$SEND_EVENT=`/opt/SendEvent/dist/SendEvent/SendEvent send -q \"$TOOL\" -a \"$MSG_APPL\" -n \"$MSG_NODE_NAME\" -p \"$ESM_PROFILE\" -s \"$DSOM_SEV\" -k '$quoted_DEDUPLICATION' -c \"$MANAGEMENT_ID\" -m \"$LONG_TEXT\" -t \"ABC $SHORT_TEXT\" -z \"ABC\" -y \\\"$DEFAULT_Q\\\"`  ;\n</code></pre>\n\n<p>(and do the same for all your other parameters).</p>\n\n<p>Alternatively, use IPC::System::Simple::capturex and pass all the arguments in an array.</p>\n"}], "owner": {"reputation": 23, "user_id": 6839762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f7c644d740d1166d73f7b203f29dd68?s=128&d=identicon&r=PG&f=1", "display_name": "user6839762", "link": "https://stackoverflow.com/users/6839762/user6839762"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "closed_date": 1474039721, "accepted_answer_id": 39533953, "answer_count": 1, "score": 1, "last_activity_date": 1474036579, "creation_date": 1474034743, "last_edit_date": 1474036025, "question_id": 39533506, "link": "https://stackoverflow.com/questions/39533506/escaping-double-quotes-in-perl-in-linux", "closed_reason": "Needs details or clarity", "title": "Escaping double quotes in perl in Linux", "body": "<p>Its not letting me reply to comment so editing here, using Linux as OS.\nI am using the undermentioned to get tickets created, but -k parameter, duplication parameter gets the message in \" \" and if there are \"\" in the message, then these parameters gets messed up and messages dont get forwarded. \nHow to escape these double quotes in -k parameter so that it goes through? \nThanks in advance</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nuse Getopt::Std;\n\n\n\n# declare the perl command line flags/options we want to allow\n\n\n# Define the environment\n\n   my %option=();\n\n   my $SEND_OUTPUT = \"\" ;\n\n   my $MODE = \"Prod\" ;\n\n   my $SENDEVENT_LOG = \"\";\n\n   my $DATE = \"\" ;\n\n   my $SEND_EVENT = \"\";\n\n   my $SEND_OUTPUT_LOG = \"\" ;\n\n   my $DSOM_SEV = \"\" ;\n\ngetopts(\"q:a:n:p:s:k:c:m:t:y:z:\", \\%option);\n\n\n# Define the environment\n\n\n\n       if ( $MODE =~ m/Prod/i ) {\n\n            $SENDEVENT_LOG=\"/var/opt/SendEvent/log/SendEvent.log\";\n\n }\n\n\n\n if ( $MODE =~ m/Dev/i ) {\n\n\n\n     $SENDEVENT_LOG=\"/var/opt/SendEvent/log/SendEvent.Dev.log\";\n\n\n\n }   \n\n# Define time stamp\n\n\n\n       my $DATE=`date +%Y:%m:%d:\\%T`; chomp $DATE ; my $TIME=`date +%T`; chomp $TIME; my $NOW=$DATE.\" \";\n\n\n\n\n\n# Open Logfile and define the Date Variable\n\n\n\n\n       open ( LOGFILE, \"&gt;&gt;${SENDEVENT_LOG}\" ) or die (\"Cannot open SendEvent log file \");\n\n\n\n\n# test for the existence of the options on the command line.\n\n# in a normal program you'd do more than just print these.\n\n\n\n\nprint LOGFILE \"$DATE *******************************************************************\\n\";\n\nprint LOGFILE \"\\n$DATE New Instance of SendEvent initiated\\n\" ;\n\nprint LOGFILE \"$DATE Examine the input arguments below to validate this instance of SendEvent\\n\\n\" ;\n\n\n\n       print \"\\n\\n\" ;\n\n\n\n       if ( $option{q} ) { print LOGFILE \"$DATE -q $option{q}\\n\" } else { print LOGFILE \"$DATE -q **** value missing *****\\n\" }\n\n       if ( $option{a} ) { print LOGFILE \"$DATE -a $option{a}\\n\" } else { print LOGFILE \"$DATE -a **** value missing *****\\n\" }\n\n       if ( $option{n} ) { print LOGFILE \"$DATE -n $option{n}\\n\" } else { print LOGFILE \"$DATE -n **** value missing *****\\n\" }\n\n       if ( $option{p} ) { print LOGFILE \"$DATE -p $option{p}\\n\" } else { print LOGFILE \"$DATE -p **** value missing *****\\n\" }\n\n       if ( $option{s} ) { print LOGFILE \"$DATE -s $option{s}\\n\" } else { print LOGFILE \"$DATE -s **** value missing *****\\n\" }\n\n       if ( $option{k} ) { print LOGFILE \"$DATE -k $option{k}\\n\" } else { print LOGFILE \"$DATE -k **** value missing *****\\n\" }\n\n       if ( $option{c} ) { print LOGFILE \"$DATE -c $option{c}\\n\" } else { print LOGFILE \"$DATE -c **** value missing *****\\n\" }\n\n       if ( $option{m} ) { print LOGFILE \"$DATE -m $option{m}\\n\" } else { print LOGFILE \"$DATE -m **** value missing *****\\n\" }\n\n       if ( $option{t} ) { print LOGFILE \"$DATE -t $option{t}\\n\" } else { print LOGFILE \"$DATE -t **** value missing *****\\n\" }\n\n       if ( $option{y} ) { print LOGFILE \"$DATE -y $option{y}\\n\" } else { print LOGFILE \"$DATE -y **** value missing *****\\n\" }\n\n       if ( $option{z} ) { print LOGFILE \"$DATE -z $option{z}\\n\" } else { print LOGFILE \"$DATE -z **** value missing *****\\n\" }\n\n\n\n       # other things found on the command line\n\n       print LOGFILE \"$DATE Other things found on the command line:\\n\" if $ARGV[0];\n\n       foreach (@ARGV)\n\n       {\n\n         print LOGFILE \"$DATE $_\\n\";\n\n       }\n\n\n     my $TOOL          =  \"$option{q}\"  ;\n\n     my $MSG_APPL      =  \"$option{a}\"  ;\n\n     my $MSG_NODE_NAME =  \"$option{n}\"  ;\n\n     my $ESM_PROFILE   =  \"$option{p}\"  ;\n\n     my $MSG_SEV       =  \"$option{s}\"  ;\n\n     my $DEDUPLICATION =  \"$option{k}\"  ;\n\n     my $MANAGEMENT_ID =  \"$option{c}\"  ;\n\n     my $LONG_TEXT     =  \"$option{m}\"  ;\n\n     my $SHORT_TEXT    =  \"$option{t}\"  ;\n\n     my $DEFAULT_Q     =  \"$option{y}\"  ;\n\n     my $ACCOUNT       =  \"$option{z}\"  ;\n\n\n\n# Translate OpenView Severity to DSOM Severity\n\n\n\n#                    OpenView Sev               DSOM Sev\n\n\n\n     if ( $MSG_SEV =~ m/Critical/i ) { $DSOM_SEV = \"FATAL\"    }\n\n     if ( $MSG_SEV =~ m/Major/i    ) { $DSOM_SEV = \"CRITICAL\" }\n\n     if ( $MSG_SEV =~ m/Minor/i    ) { $DSOM_SEV = \"MINOR\"    }\n\n     if ( $MSG_SEV =~ m/Warning/i  ) { $DSOM_SEV = \"WARNING\"  }\n\n     if ( $MSG_SEV =~ m/Normal/i   ) { $DSOM_SEV = \"HARMLESS\" }\n\n\n\n     print LOGFILE \"\\n$DATE Translating Openview Severity to DSOM Severity, $MSG_SEV =&gt; $DSOM_SEV\\n\\n\" ;\n\n\n    $SEND_OUTPUT_LOG = \"/opt/SendEvent/dist/SendEvent/SendEvent send -q \\\"$TOOL\\\" -a \\\"$MSG_APPL\\\" -n \\\"$MSG_NODE_NAME\\\" -p \\\"$ESM_PROFILE\\\" -s \\\"$DSOM_SEV\\\" -k \\\"$DEDUPLICATION\\\" -c \\\"$MANAGEMENT_ID\\\" -m \\\"$LONG_TEXT\\\" -t \\\"ABC $SHORT_TEXT\\\" -z \\\"ABC\\\"  -y \\\"$DEFAULT_Q\\\"\" ;\n\n\n\n    $SEND_EVENT=`/opt/SendEvent/dist/SendEvent/SendEvent send -q \"$TOOL\" -a \"$MSG_APPL\" -n \"$MSG_NODE_NAME\" -p \"$ESM_PROFILE\" -s \"$DSOM_SEV\" -k \"$DEDUPLICATION\" -c \"$MANAGEMENT_ID\" -m \"$LONG_TEXT\" -t \"ABC $SHORT_TEXT\" -z \"ABC\" -y \\\"$DEFAULT_Q\\\"`  ;\n\n\n    print LOGFILE \"$DATE \\n$SEND_EVENT\\n\\n\" ; \n\n\n\n    print LOGFILE \"$DATE $SEND_OUTPUT_LOG\\n\\n\" ;\n</code></pre>\n"}, {"tags": ["perl", "types", "attributes", "moo"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1474031699, "post_id": 39532429, "comment_id": 66379112, "body": "As with a lot of the questions you&#39;ve had, I&#39;m asking myself: <b>why</b>?"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474032407, "post_id": 39532429, "comment_id": 66379615, "body": "@simbabque We have some (lightweight and not feature rich) ORM (a level above DBI + SQL). Now I am ordained to make &quot;business objects&quot; (a level above ORM). Some of the types (and <code>has</code> statements) for business objects are automatically generated from DB columns information. But I need to manually specify the list of columns which can take <code>undef</code> value (not the same as NULL columns) (<code>Maybe</code> types) and do it in an easy way."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474032679, "post_id": 39532429, "comment_id": 66379804, "body": "Can&#39;t you write a code generator and run it whenever the table layout changes like you would with DBIC?"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474033106, "post_id": 39532429, "comment_id": 66380117, "body": "@simbabque We already have such a code generator. The trouble is that there is no one-to-one correspondence between NULL columns and attributes which can take <code>undef</code> value. Yes, this is silly; but this is our reality"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1474033824, "post_id": 39532429, "comment_id": 66380575, "body": "then keep in that code generator a list of columns that are wrong, and fix them in the generated code.  or if worst came to worst, have an empty dummy copy of the database structure, and a sql script that makes all the wrong columns nullable, and run your code generator on that database.  but try to fix it in the actual generated code, not in something that runs after your code is running."}], "answers": [{"comments": [{"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1474032818, "post_id": 39532654, "comment_id": 66379900, "body": "But it seems that I can get a coderef <code>c</code> and replace it with <code>Maybe[c]</code>. The question is where to get the type coderef for a given attribute."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 1, "creation_date": 1474044866, "post_id": 39532654, "comment_id": 66387234, "body": "@porton that could be a new question. Or go and ask in #moose. They&#39;ll try to talk you out of it, but they&#39;ll help."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 5, "last_activity_date": 1474032317, "creation_date": 1474032317, "answer_id": 39532654, "question_id": 39532429, "link": "https://stackoverflow.com/questions/39532429/how-to-change-attribute-types-perl-moo/39532654#39532654", "title": "How to change attribute types? (Perl Moo)", "body": "<p><strong>You can't.</strong></p>\n\n<p><a href=\"https://v1.metacpan.org/pod/Moo#INCOMPATIBILITIES-WITH-MOOSE\" rel=\"noreferrer\">Moo does not have a Meta Object Protocol</a>. Without it, you cannot go back and alter stuff.</p>\n\n<blockquote>\n  <p>There is no meta object. If you need this level of complexity you need Moose - Moo is small because it explicitly does not provide a metaprotocol.</p>\n</blockquote>\n\n<p>Furthermore, the types are just code refs.</p>\n\n<blockquote>\n  <p>There is no built-in type system. isa is verified with a coderef; if you need complex types, Type::Tiny can provide types, type libraries, and will work seamlessly with both Moo and Moose. </p>\n</blockquote>\n\n<hr>\n\n<p>What you could do is maybe write a type that access some kind of singleton somewhere else to decide if it behaves like <code>Maybe[Str]</code> or <code>Str</code>, but that's a long shot and probably ugly and crazy and you shouldn't do it.</p>\n"}, {"tags": [], "owner": {"reputation": 11684, "user_id": 1990570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B1hso.png?s=128&g=1", "display_name": "tobyink", "link": "https://stackoverflow.com/users/1990570/tobyink"}, "is_accepted": true, "score": 2, "last_activity_date": 1604594218, "creation_date": 1604594218, "answer_id": 64701449, "question_id": 39532429, "link": "https://stackoverflow.com/questions/39532429/how-to-change-attribute-types-perl-moo/64701449#64701449", "title": "How to change attribute types? (Perl Moo)", "body": "<p><em>[[Note that the <code>Maybe</code> type doesn't really make an attribute optional per-se, but undef-tolerant. Moo attributes are already optional by default. But for the sake of discussion, I'll continue to use the terminology of optional versus required.]]</em></p>\n<p>Because I don't like &quot;you can't&quot; answers, here's some code that does what you want...</p>\n<pre><code>use strict;\nuse warnings;\n\nBEGIN {\n    package MooX::MakeOptional;\n    use Types::Standard qw( Maybe Any );\n    use Exporter::Shiny our @EXPORT = qw( make_optional has );\n    use namespace::clean;\n    \n    sub _exporter_validate_opts {\n        my $opts = pop;\n        $opts-&gt;{orig_has} = do {\n            no strict 'refs';\n            \\&amp;{ $opts-&gt;{into} . '::has' };\n        };\n        $opts-&gt;{attributes} = [];\n        'namespace::clean'-&gt;clean_subroutines( $opts-&gt;{into}, 'has' );\n    }\n    \n    sub _generate_has {\n        my $opts = pop;\n        \n        my $attributes = $opts-&gt;{attributes};\n        \n        return sub {\n            my ( $name, %spec ) = @_;\n            if ( ref($name) eq 'ARRAY' ) {\n                push @$attributes, $_, { %spec } for @$name;\n            }\n            else {\n                push @$attributes, $name, \\%spec;\n            }\n        };\n    }\n    \n    sub _generate_make_optional {\n        my $opts = pop;\n        \n        my $attributes = $opts-&gt;{attributes};\n        my $orig_has   = $opts-&gt;{orig_has};\n        \n        return sub {\n            my %optional;\n            $optional{$_} = 1 for @_;\n            \n            while ( @$attributes ) {\n                my ( $name, $spec ) = splice( @$attributes, 0, 2 );\n                if ( $optional{$name} ) {\n                    $spec-&gt;{isa} = Maybe[ $spec-&gt;{isa} or Any ];\n                }\n                $orig_has-&gt;( $name, %$spec );\n            }\n        }\n    }\n}\n\n{\n    package C;\n    use Moo;\n    use MooX::MakeOptional;\n    use Types::Standard qw( Str Int );\n\n    has 'x' =&gt; ( is =&gt; 'rw', isa =&gt; Str );\n    has 'y' =&gt; ( is =&gt; 'rw', isa =&gt; Int );\n    has 'z' =&gt; ( is =&gt; 'rw', isa =&gt; Int );\n\n    make_optional( qw(x y) );\n}\n\n</code></pre>\n<p>What this does is replace Moo's <code>has</code> keyword with a dummy replacement which does nothing except stash the attribute definitions into an array.</p>\n<p>Then when <code>make_optional</code> is called, this runs through the array, and passes each attribute definition to Moo's original <code>has</code> keyword, but altered to be optional if specified.</p>\n<p>Classes that <code>use MooX::MakeOptional</code> <em>always</em> need to ensure they call the <code>make_optional</code> function at the end of the class definition, <em>even if they have no optional attributes</em>. If they have no optional attributes, they should just call <code>make_optional</code> and pass it an empty list.</p>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "accepted_answer_id": 64701449, "answer_count": 2, "score": 3, "last_activity_date": 1604594218, "creation_date": 1474031592, "question_id": 39532429, "link": "https://stackoverflow.com/questions/39532429/how-to-change-attribute-types-perl-moo", "title": "How to change attribute types? (Perl Moo)", "body": "<p>We use Perl Moo.</p>\n\n<p>Let there is defined a set of attributes:</p>\n\n<pre><code>package C;\nuse Moo;\nuse Types::Standard qw(Str Int Num Maybe);\n\nhas 'x' =&gt; (is=&gt;'rw', isa=&gt;Str);\nhas 'y' =&gt; (is=&gt;'rw', isa=&gt;Int);\nhas 'z' =&gt; (is=&gt;'rw', isa=&gt;Int);\n\n# here to insert make_optional() described below\n\n1;\n</code></pre>\n\n<p>I want to write a routine which will replace T with Maybe[T] for some attributes. For example: <code>make_optional(qw(x y))</code> should make type of <code>x</code> <code>Maybe[Str]</code> and type of <code>y</code> <code>Maybe[Int]</code>.</p>\n\n<p>How to do it with Moo?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 7, "last_activity_date": 1474027869, "creation_date": 1474027869, "answer_id": 39531210, "question_id": 39531045, "link": "https://stackoverflow.com/questions/39531045/why-can-you-call-foo-and-foo-before-the-declaration-of-sub-foo-but-you-cant/39531210#39531210", "title": "Why can you call foo() and &amp;foo before the declaration of sub foo, but you can&#39;t call plain foo?", "body": "<p>You can only omit parentheses in a function call if the parser knows the identifier in question refers to a function.</p>\n\n<p>Your first <code>foo;</code> is not a function call because the parser hasn't seen <code>sub foo</code> yet (and <code>foo</code> is not a builtin).</p>\n\n<p>If you'd used <code>use strict; use warnings;</code> at the top, this would have been flagged as an error.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1474038137, "creation_date": 1474038137, "answer_id": 39534656, "question_id": 39531045, "link": "https://stackoverflow.com/questions/39531045/why-can-you-call-foo-and-foo-before-the-declaration-of-sub-foo-but-you-cant/39534656#39534656", "title": "Why can you call foo() and &amp;foo before the declaration of sub foo, but you can&#39;t call plain foo?", "body": "<p>Quote <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow\">perldata</a>,</p>\n\n<blockquote>\n  <p>A word that has no other interpretation in the grammar will be treated as if it were a quoted string. These are known as \"barewords\".</p>\n</blockquote>\n\n<p>That means that <code>foo</code> is equivalent to <code>\"foo\"</code> absent a sub declaration giving it an alternate interpretation.</p>\n\n<pre><code>$ perl -e'my $x = foo; print(\"$x\\n\");'\nfoo\n</code></pre>\n\n<p>This is considered a mis-feature, so it is disabled by <code>use strict;</code> (or more specifically, by <code>use strict qw( subs );</code>) in order to catch typos.</p>\n\n<pre><code>$ perl -e'use strict; my $x = foo; print(\"$x\\n\");'\nBareword \"foo\" not allowed while \"strict subs\" in use at -e line 1.\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>Always use <code>use strict; use warnings qw( all );</code>!</p>\n"}], "owner": {"reputation": 21, "user_id": 6378315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce39b2fb1b2fab3605e4bae0626530f?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Smith", "link": "https://stackoverflow.com/users/6378315/eric-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1474038137, "creation_date": 1474027422, "last_edit_date": 1474036582, "question_id": 39531045, "link": "https://stackoverflow.com/questions/39531045/why-can-you-call-foo-and-foo-before-the-declaration-of-sub-foo-but-you-cant", "title": "Why can you call foo() and &amp;foo before the declaration of sub foo, but you can&#39;t call plain foo?", "body": "<p>Please explain why the way these Perl functions are called <em>above the definition of the function</em> determines whether they run or not.</p>\n\n<pre><code>print \"Why does this bare call to foo not run?\\n\";\nfoo;\nprint \"When this call to foo() does run?\\n\";\nfoo();\nprint \"And this call to &amp;foo also runs?\\n\";\n&amp;foo;\n\nsub foo {\n    print \"    print from inside function foo:\\n\";\n}\n\nprint \"And this bare call to foo below the function definition, does run?\\n\";\nfoo;\n</code></pre>\n"}, {"tags": ["perl", "cgi", "perl-html-template"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1474035317, "post_id": 39531008, "comment_id": 66381590, "body": "You don&#39;t have to modify all the template files manually. Perl has HTML parsers that can help you locate where the changes need to be made. Go ahead and fix the templates <b><i>once</i></b> as opposed to modifying your code to do it each and every time it runs."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1474035481, "post_id": 39531008, "comment_id": 66381700, "body": "@Sinan&#220;n&#252;r my example below could do this"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1474036001, "post_id": 39531008, "comment_id": 66382063, "body": "@Dr.Avalanche Sure. In general, I am not a fan of slurpy methods unless one has to use them, but voted your answer up, too."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474051135, "post_id": 39531008, "comment_id": 66390201, "body": "Did the solution we discussed in chat not work?"}], "answers": [{"comments": [{"owner": {"reputation": 738, "user_id": 2056988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7ea2d50bbcc6f8812c34dab65a1923a?s=128&d=identicon&r=PG", "display_name": "FtLie", "link": "https://stackoverflow.com/users/2056988/ftlie"}, "edited": false, "score": 0, "creation_date": 1474029436, "post_id": 39531599, "comment_id": 66377648, "body": "If this may be a recurring issue, rather add a tag &lt;TMPL_VAR NAME=ALL_HIDDEN_INPUTS&gt;  which then includes the hidden tags. (remember to escape properly)"}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 738, "user_id": 2056988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7ea2d50bbcc6f8812c34dab65a1923a?s=128&d=identicon&r=PG", "display_name": "FtLie", "link": "https://stackoverflow.com/users/2056988/ftlie"}, "edited": false, "score": 0, "creation_date": 1474029558, "post_id": 39531599, "comment_id": 66377731, "body": "@FtLie the last time they asked this question they stated that they did not want to edit the template files at all: edit and in the question &#39;I don&#39;t want to edit all the template files manually. &#39;"}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 738, "user_id": 2056988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7ea2d50bbcc6f8812c34dab65a1923a?s=128&d=identicon&r=PG", "display_name": "FtLie", "link": "https://stackoverflow.com/users/2056988/ftlie"}, "edited": false, "score": 0, "creation_date": 1474030480, "post_id": 39531599, "comment_id": 66378332, "body": "@FtLie sorry, misunderstood your point. Yes that is another option, but the problem is that in order to get the rendered template we need to act upon <code>$template-&gt;output</code>. Without knowing exactly what the templates were doing, the above method is actually the better choice."}], "tags": [], "owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "is_accepted": false, "score": 1, "last_activity_date": 1474036195, "last_edit_date": 1474036195, "creation_date": 1474029071, "answer_id": 39531599, "question_id": 39531008, "link": "https://stackoverflow.com/questions/39531008/using-htmltemplate-to-add-a-tag/39531599#39531599", "title": "Using HTML::Template to add a tag", "body": "<blockquote>\n  <p>Is there any method available in HTML::Template to do this?</p>\n</blockquote>\n\n<p>This again? ;) No, you need to read and manipulate the DOM to do what you want. HTML::Template only works with it's specific tags/markers. Store <code>$template-&gt;output()</code> into a variable. Read the variable with a parser such as <a href=\"https://metacpan.org/pod/Mojo::DOM\" rel=\"nofollow\">Mojo::DOM</a> to find the instances of forms and append your content. This example illustrates a solution:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Mojo::DOM;\n\n# fake output of $template-&gt;output;\n\nmy $html = &lt;&lt; 'HTML';\n  &lt;html&gt;\n    &lt;head&gt;\n      &lt;title&gt;test&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n      &lt;form method=\"post\"&gt;\n        &lt;input type=\"text\" id=\"name\"&gt;\n      &lt;/form&gt;\n    &lt;/body&gt;\n  &lt;/html&gt;\nHTML\n\n# you say you want to parse this from CGI\nmy $value ='foo'; \n\n# what you want to add\nmy $addme = \"&lt;input type='hidden' value='$value'&gt;\";\n\nmy $dom = Mojo::DOM-&gt;new();\n\n$dom-&gt;parse( $html )-&gt;at('form')-&gt;child_nodes-&gt;first-&gt;append( $addme )-&gt;root;\nprint $dom;\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>  &lt;html&gt;\n    &lt;head&gt;\n          &lt;title&gt;test&lt;/title&gt;\n        &lt;/head&gt;\n        &lt;body&gt;\n          &lt;form method=\"post\"&gt;\n            &lt;input type=\"hidden\" value=\"foo\"&gt;&lt;input id=\"name\" type=\"text\"&gt;\n          &lt;/form&gt;\n        &lt;/body&gt;\n  &lt;/html&gt;\n</code></pre>\n\n<p>Edit.</p>\n\n<p>Since we don't know what you're doing within your templates the sanest method is to base any changes on the output of your existing code. Meaning that you can safely add the method illustrated to the above before the point were you currently print the output of your template. You could use the code given as a one off update to actually write the change back to your templates, and the value rather than <code>foo</code> could be an HTML::Template param.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1474035934, "creation_date": 1474035934, "answer_id": 39533936, "question_id": 39531008, "link": "https://stackoverflow.com/questions/39531008/using-htmltemplate-to-add-a-tag/39533936#39533936", "title": "Using HTML::Template to add a tag", "body": "<p>You don't have to modify all the template files manually. Perl has HTML parsers that can help you locate where the changes need to be made. Go ahead and fix the templates once as opposed to modifying your code to do it each and every time it runs. Below, I use <code>\\*DATA</code> for illustrative purposes, but, clearly, the list of template files could come from anywhere.</p>\n\n<p>Back the files up first (better still, make sure you do this in a branch in your version control system).</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse utf8;\nuse strict;\nuse warnings;\nuse open qw[ :std :encoding(UTF-8) ];\n\nuse HTML::TokeParser::Simple;\n\nrun(\\@ARGV);\n\nsub run {\n    my $argv = shift;\n    my $parser = HTML::TokeParser::Simple-&gt;new(handle =&gt; \\*DATA);\n\n    while (my $token = $parser-&gt;get_token) {\n        print $token-&gt;as_is;\n        if ($token-&gt;is_start_tag('form')) {\n            print qq{\\n&lt;input type=\"hidden\" name=\"sid\" value=\"&lt;TMPL_VAR NAME=SID&gt;\"&gt;\\n};\n        }\n    }\n}\n\n__DATA__\n&lt;h3&gt;Here is a form:&lt;/h3&gt;\n\n&lt;form\n    method=\"POST\"\n    action=\"https://example.com/action-action-action.pl\"\n    id=\"action\"\n    name=\"actionable_form\"&gt;\n\n&lt;label for=\"date\"&gt;Date:&lt;/label&gt;\n&lt;input type=\"date\" name=\"date\" id=\"date\"&gt;\n\n&lt;input type=\"submit\"&gt;\n\n&lt;/form&gt;\n</code></pre>\n"}], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 39533936, "answer_count": 2, "score": -1, "last_activity_date": 1474036195, "creation_date": 1474027329, "last_edit_date": 1474028274, "question_id": 39531008, "link": "https://stackoverflow.com/questions/39531008/using-htmltemplate-to-add-a-tag", "title": "Using HTML::Template to add a tag", "body": "<p>I'm using CGI and <a href=\"https://metacpan.org/pod/HTML::Template#param\" rel=\"nofollow\">HTML::Template</a>. I need to add below tag in all the templates which contain <code>&lt;form&gt;</code> tag (tag should be added inside <code>&lt;form&gt;</code> tag).</p>\n\n<pre><code>&lt;input type=\"hidden\" value=\"TO_BE_PARSED_FROM_CGI\"&gt;\n</code></pre>\n\n<p>I don't want to edit all the template files manually. Is there any method available in <a href=\"https://metacpan.org/pod/HTML::Template#param\" rel=\"nofollow\">HTML::Template</a> to do this? Some type of hook which I can pass while creating constructor of HTML::Template?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474031954, "post_id": 39531231, "comment_id": 66379280, "body": "Hi Dave, thanks for your reply what I understand from your code that you are dumping the structure but If I want to modify some structure parameter again I have to go back to text file this will take more time so I want to modify in perl script itself. the output is not sorted"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1474033505, "last_edit_date": 1474033505, "creation_date": 1474027927, "answer_id": 39531231, "question_id": 39530793, "link": "https://stackoverflow.com/questions/39530793/read-the-data-line-by-line-from-text-file-and-then-assign-the-value-to-the-corre/39531231#39531231", "title": "read the data line by line from text file and then assign the value to the corresponding field in a structure", "body": "<p>It's not completely clear what you want to do. But this code loads the data you're interested in into a Perl hash (which is the closest thing Perl has to a struct) and then displays it.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nuse Data::Dumper;\n\nmy %struct;\nwhile (&lt;DATA&gt;) {\n  my ($key, $val) = split;\n  $struct{$key} = $val;\n}\n\nsay Dumper \\%struct;\n\n__DATA__\nfiled_ind ox0B uint8.unsigen int\ntx_offset ox0c uint8.unsigen int\nrxpowe    ox0D uint8.unsigen int\nfillers   ox0A uint8.unsigen int\ncellid    ox12 uint8.unsigen int\ncellnum   ox13 uint8.unsigen int\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>$VAR1 = {\n          'fillers' =&gt; 'ox0A',\n          'tx_offset' =&gt; 'ox0c',\n          'cellid' =&gt; 'ox12',\n          'rxpowe' =&gt; 'ox0D',\n          'filed_ind' =&gt; 'ox0B',\n          'cellnum' =&gt; 'ox13'\n        };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474032125, "post_id": 39532315, "comment_id": 66379405, "body": "error:Use of uninitialized value $a[0] in hash element at test3.pl line 14, &lt;$fh&gt;"}, {"owner": {"reputation": 14, "user_id": 6839507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5efd062f9f7d7969c46325caeb16e191?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/6839507/raj"}, "reply_to_user": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474033140, "post_id": 39532315, "comment_id": 66380141, "body": "you need to format your input file or handle blank lines"}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1474040303, "post_id": 39532315, "comment_id": 66384828, "body": "fillers1{2}\t { 0x00, 0x00 }\t      Uint8,unsigned char\t\t   n312_conn\t    0x02\t              Uint16, unsigned short , if the value start with Curly brackets how to remove curly brackets and value type is uitn16 then I need to pad with 0x00 (0x00,0x02) ..thanks for you reply"}], "tags": [], "owner": {"reputation": 14, "user_id": 6839507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5efd062f9f7d7969c46325caeb16e191?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/6839507/raj"}, "is_accepted": true, "score": -1, "last_activity_date": 1474037799, "last_edit_date": 1474037799, "creation_date": 1474031266, "answer_id": 39532315, "question_id": 39530793, "link": "https://stackoverflow.com/questions/39530793/read-the-data-line-by-line-from-text-file-and-then-assign-the-value-to-the-corre/39532315#39532315", "title": "read the data line by line from text file and then assign the value to the corresponding field in a structure", "body": "<p>your question is not clear , below code stores [ox0B,ox0c,ox0D,ox0A,ox12,ox13]\ninto my_message .</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Tie::IxHash;\n\nmy %hash;\ntie %hash, 'Tie::IxHash';\n\nmy $file = 'my_input.txt';\nopen my $fh, $file or die \"died opening $file\";\n\nwhile (my $line = &lt;$fh&gt;) {\n    if(length($line) &gt; 1) {\n        chomp $line;\n        my @a = split(\" \", $line);    \n        $hash{$a[0]} = [$a[1], $a[2], $a[3]];\n    }\n    else {\n        next;\n    }\n}\n\nmy @my_message;\nforeach my $v (keys %hash) {\n    push @my_message, $hash{$v}[0] ;\n}\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 39532315, "answer_count": 2, "score": 1, "last_activity_date": 1474037799, "creation_date": 1474026639, "last_edit_date": 1474032818, "question_id": 39530793, "link": "https://stackoverflow.com/questions/39530793/read-the-data-line-by-line-from-text-file-and-then-assign-the-value-to-the-corre", "title": "read the data line by line from text file and then assign the value to the corresponding field in a structure", "body": "<p>I am beginner in Perl scripting. </p>\n\n<p>I want to read the data line by line from text file and then assign the<br>\nvalue to the corresponding parameter into a structure</p>\n\n<p>my_input.txt</p>\n\n<pre><code>filed_ind 0x0B uint8.unsigen int\ntx_offset 0x0C uint8.unsigen int\nrxpowe    0x0D uint8.unsigen int\nfillers   0x0A uint8.unsigen int\ncellid    0x12 uint8.unsigen int\ncellnum   0x13 uint8.unsigen int\n</code></pre>\n\n<p>Encoding:</p>\n\n<p>I want to assign each of values to their corresponding parameter \n(for e.g.filed_ind-> 0x0B ) it will be more like creating structure. </p>\n\n<pre><code>structure ABC\n{\n filed_ind 0x0B \n tx_offset 0x0c \n rxpowe    0x0D \n fillers   0x0A \n cellid    0x12 \n cellnum   0x13 \n}\n</code></pre>\n\n<p>Decoding:</p>\n\n<p>from structure I want to extract the values in an array like my_message<br>\n(for e.g. my_message [0x0B,0x0c,0x0D,0x0A,0x12,0x13])</p>\n\n<p>my code is given below</p>\n\n<pre><code> #!/usr/local/bin/perl\n use strict;\n use warnings;\n my $file = 'my_input.txt';\n open my $fh, '&lt;', $file or die \"Could not open '$file' $!\\n\";\n  while (my $line = &lt;$fh&gt;) \n  {\n   chomp $line;\n   my @strings = $line =~ /([a-z_A-Z_0-9-]+)/;                     \n   foreach my $s (@strings) \n   {\n    print \"$1\\n\";\n   }\n } \n</code></pre>\n\n<p>I was try to extract the vales from text file above code works only for extracting the parameter. what I ma looking for that I want the generate a structured message from text file which is like encoding and again extract the values from message structure like decoding.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 8018, "user_id": 2064981, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74e3e392c752c4c9acb4ca4fb8f7af65?s=128&d=identicon&r=PG&f=1", "display_name": "SamWhan", "link": "https://stackoverflow.com/users/2064981/samwhan"}, "edited": false, "score": 0, "creation_date": 1474025359, "post_id": 39529343, "comment_id": 66375213, "body": "Sorry, didn&#39;t see that."}, {"owner": {"reputation": 8018, "user_id": 2064981, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74e3e392c752c4c9acb4ca4fb8f7af65?s=128&d=identicon&r=PG&f=1", "display_name": "SamWhan", "link": "https://stackoverflow.com/users/2064981/samwhan"}, "edited": false, "score": 0, "creation_date": 1474025980, "post_id": 39529343, "comment_id": 66375555, "body": "Your tries <i>hints</i> that you want to <b>capture</b> the <code>key</code> and <code>value</code>, but your question says <b>match</b>. Which is it? If it&#39;s the latter, I believe revo has given you the answer below. If you want to capture it, it&#39;s more complicated..."}, {"owner": {"reputation": 8018, "user_id": 2064981, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74e3e392c752c4c9acb4ca4fb8f7af65?s=128&d=identicon&r=PG&f=1", "display_name": "SamWhan", "link": "https://stackoverflow.com/users/2064981/samwhan"}, "edited": false, "score": 0, "creation_date": 1474026053, "post_id": 39529343, "comment_id": 66375591, "body": "Ahh... Now I see that you&#39;ve accepted. There&#39;s the answer to my Q. :)"}, {"owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "reply_to_user": {"reputation": 8018, "user_id": 2064981, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74e3e392c752c4c9acb4ca4fb8f7af65?s=128&d=identicon&r=PG&f=1", "display_name": "SamWhan", "link": "https://stackoverflow.com/users/2064981/samwhan"}, "edited": false, "score": 0, "creation_date": 1474026250, "post_id": 39529343, "comment_id": 66375700, "body": "@ClasG heh, you&#39;re right. Added an edit for my final solution, using the accepted answer. :)"}, {"owner": {"reputation": 8018, "user_id": 2064981, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74e3e392c752c4c9acb4ca4fb8f7af65?s=128&d=identicon&r=PG&f=1", "display_name": "SamWhan", "link": "https://stackoverflow.com/users/2064981/samwhan"}, "edited": false, "score": 0, "creation_date": 1474027091, "post_id": 39529343, "comment_id": 66376201, "body": "Your edited solution misses the commencing <code>+</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1474025956, "post_id": 39529858, "comment_id": 66375540, "body": "Thanks for the live demo links, cool site!  Your first regex mostly works, but if the line <code>line of arbitrary text</code> is deleted it needs a small fix: replace <code>[^+]</code> with <code>(?!\\s*\\+)</code>"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1474026786, "post_id": 39529858, "comment_id": 66376003, "body": "Thank you for noting. I changed non-capturing group to an atomic group to prevent any possible backtracks. @KjetilS."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "edited": false, "score": 0, "creation_date": 1474028356, "post_id": 39529858, "comment_id": 66376939, "body": "Please check update. I made some improvements. @cajwine"}, {"owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "edited": false, "score": 2, "creation_date": 1474030870, "post_id": 39529858, "comment_id": 66378585, "body": "Just found the problem and returned here to ask additional info, but the solution is already corrected. I love the stackoverflow community. Thanx again."}], "tags": [], "owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "is_accepted": true, "score": 4, "last_activity_date": 1474028163, "last_edit_date": 1474028163, "creation_date": 1474023650, "answer_id": 39529858, "question_id": 39529343, "link": "https://stackoverflow.com/questions/39529343/regex-for-matching-indented-continuation-lines/39529858#39529858", "title": "Regex for matching indented continuation lines", "body": "<p>Regex:</p>\n\n<pre><code>(?m)^(?:  +|\\t+)\\+ *(?:VAR|CONST) *\\w+ *=.*(?:\\R^(?&gt;  +|\\t+)[^+\\s].*)*\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/iA3kU7/9\" rel=\"nofollow\"><strong>Live demo</strong></a></p>\n\n<p>The important part is last cluster:</p>\n\n<pre><code>(?:                # Start of non-capturing group (a)\n    \\R             # One line-break\n    ^              # Start of line\n    (?&gt;  +|\\t+)    # At least two spaces or one tab character (possessively)\n    [^+\\s]         # Not followed by `+` or a newline character\n    .*             # Up to end of line\n)*                 # Repeat it as much as possible - end of non-capturing group (a)\n</code></pre>\n\n<p><strong>Answer to your second question</strong>:</p>\n\n<p>Literal space characters are simply ignored as a meaningful part of Regular Expression while <code>x</code> modifier is set unless you enclose it in character classes <code>[ ]</code> and use quantifiers <code>[ ]{2,}</code> to express times they should appear.</p>\n\n<pre><code>/\n    (?m)\n    ^\n    (?:\n        [ ]{2,}\n        |\n        \\t+\n    )\\+\n    [ ]*\n    (?:\n        VAR\n        |\n        CONST\n    )\n    [ ]*\\w+[ ]*=.*\n    (?:\n        \\R\n        ^\n        (?&gt;\n            [ ]{2,}\n            |\n            \\t+\n        )\n        [^+\\s].*\n    )*\n/x\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/iA3kU7/8\" rel=\"nofollow\">Live demo</a></strong></p>\n"}], "owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3659, "favorite_count": 1, "accepted_answer_id": 39529858, "answer_count": 1, "score": 8, "last_activity_date": 1474032720, "creation_date": 1474022045, "last_edit_date": 1474032720, "question_id": 39529343, "link": "https://stackoverflow.com/questions/39529343/regex-for-matching-indented-continuation-lines", "title": "Regex for matching indented continuation lines", "body": "<p>Need match <code>key = value</code> pairs in arbitrary text using the following rules.</p>\n\n<ul>\n<li>the leading line has a structure: \n\n<ul>\n<li>start with indentation - \"two spaces or tab\" at leas once, e.g.: <code>(  |\\t)+</code></li>\n<li>the <code>+</code> character and one space</li>\n<li>words <code>VAR</code> or <code>CONST</code></li>\n<li>and the <code>key</code> and <code>value</code> using the <code>=</code> character</li>\n</ul></li>\n</ul>\n\n<p>Examples:</p>\n\n<pre><code>  + VAR somename = somevalue (indented with two spaces)\n        + VAR name3 = indented by one \\t\n</code></pre>\n\n<p>The following regex matches such lines:</p>\n\n<pre><code>/^(  |\\t)+\\+\\s+(VAR|CONST)\\s+(\\w+)\\s*=\\s*(.*)$/\n</code></pre>\n\n<p>Now the problem: The syntax allows <strong>continuation lines</strong>, e.g. when the above line is followed by the line which starts at least one indentation sequence <code>(  |\\t)</code> (aka TWO spaces or one tab) is considered as an continuation line and its whole content (with leading spaces too) should be the <code>value</code> for the key in previous line.</p>\n\n<p>Example:</p>\n\n<pre><code>  + VAR multi = 3 line value where the continuation lines\n  are indented (starts with two spaces or one tab)\n  and NOT followed by the '+'\n</code></pre>\n\n<p>e.g., the regex for the <em>continuation line</em> is</p>\n\n<pre><code>/^(  |\\t)+([^\\+](.*))$/\n</code></pre>\n\n<p>The solution is easy with <em>line based</em> approach, e.g. when I split the whole text into lines and processes it line-by-line.</p>\n\n<p>But, I looking for an (complex) regex (mainly for learning and benchmarking purposes) which could match the key=value pairs in one line or multiline form. Tried this:</p>\n\n<pre><code>while( $text =~ m/^(  |\\t)+\\+\\s+(VAR|CONST)\\s+(\\w+)\\s*=\\s*((.*)$(?=(  |\\t)+[^\\+](.*)$)*)/gm ) {\n    ...\n}\n</code></pre>\n\n<p>but I got:</p>\n\n<pre><code>(?=(  |\\t)+[^\\+](.*)$)* matches null string many times in regex; marked by &lt;-- HERE in m/^(  |\\t)+\\+\\s+(VAR|CONST)\\s+(\\w+)\\s*=\\s*((.*)$(?=(  |\\t)+[^\\+](.*)$)* &lt;-- HERE )/ at so line 36.\n</code></pre>\n\n<p><strong>Side question:</strong> how to use the multi-line extended regexes, like:</p>\n\n<pre><code>/\n   ^(  |\\t)+      # &lt;- space ... :(\n   \\+\\s+\n   (VAR|CONST)\n   \\s+\n   (\\w+)\n   \\s*=\\s*\n   (.*)$\n/x\n</code></pre>\n\n<p>when the regex must contain exactly the SPACE character (e.g. can't use the universal <code>\\s</code>)?</p>\n\n<p>If someone want help, here is a code which produces the wanted output (using the line-based approach) and also the non-working <code>regex-based</code> solution.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse 5.014;\nuse warnings;\nuse Data::Dumper;\n\nmy $txt = do { local $/; &lt;DATA&gt; };\n\nmy @matches1 = parse_by_lines($txt // '');\nmydump('BY LINES', @matches1);\n\nmy @matches2 = parse_by_one_regex($txt // '');\nmydump('REGEX', @matches2);\n\nsub parse_by_lines { #produces the wanted output\n    my ($text) = @_;\n    my @match;\n    my $havekey;\n    for my $line (split \"\\n\", $text) {\n        if( $line =~ m/^(  |\\t)+\\+\\s+(VAR|CONST)\\s+(\\w+)\\s*=\\s*(.*)$/ ) {\n            push @match, { indent =&gt; $1, type =&gt; $2, key =&gt; $3, val =&gt; $4 };\n            $havekey++;\n        }\n        elsif( $havekey &amp;&amp; $line =~ m/^(  |\\t)+([^\\+](.*))$/ ) {    #continuation line\n            $match[-1]-&gt;{val} .= \"\\n$line\"; #prserve the \\n in the val\n        }\n        else {\n            $havekey = 0;\n        }\n    }\n    return @match;\n}\n\n\nsub parse_by_one_regex { #not working\n    my ($text) = @_;\n    my @match;\n    while( $text =~ m/^(  |\\t)+\\+\\s+(VAR|CONST)\\s+(\\w+)\\s*=\\s*((.*)$(?=(  |\\t)+[^\\+](.*)$)*)/gm ) {\n        push @match, { indent =&gt; $1, type =&gt; $2, key =&gt; $3, val =&gt; $4 };\n    }\n    return @match;\n}\n\nsub mydump {\n    my($label, @match) = @_;\n    say \"#### $label ####\";\n    for my $m ( @match ) {\n        printf \"%-6s: [%s]\\n\", $_, $m-&gt;{$_} for (qw(indent type key val));\n        print \"\\n\";\n    }\n}\n\n__DATA__\nsome arbitrary text lines\nor empty lines\n\n    could be indented\n  and could contain any character\n\n  + VAR name1 = var indented by two spaces and the first nonspace character is '+'\nline of arbitrary text\n    + VAR name2 = var indented by 2x2 spaces\n\n    + VAR name3 = var indented by one \\t\n  + VAR name4 = the next line with \"name5\" is not valid. missing the = character, should not be matched\n  + VAR name5\n  + CONST name6 = the type could be VAR or CONST\n\n  + VAR multi1 = multiline value where the continuation lines\n  are indented (starts with two spaces or one tab) and NOT followed by the '+'\n\n  + VAR multi1 = multiline value\n    indented\n\n  + VAR multi1 = multiline value\n     indented ok too\n\n\n  + VAR single = this is single line\n  + because this line even if it is indented, the first nonspace character is '+'\n\n  + VAR multi2 = multiline\n  could be\n     indented\n        any way\n  and any number of times\n  until the first non-indented line\n\nthe following should NOT match\n\n+ VAR some = sould not be matched, because the line isn't indented\n + VAR some = sould not be matched, because the line isn't indented at least with TWO spaces or one tab\n  + SOME name = value not matched because the SOME isn't VAR or CONST\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT:</strong> using the accepted answer, and adding the wanted capture groups, got the following:</p>\n\n<pre><code>    while( $text =~ /\n            (?m)            # multiline match\n            ^               # at the start of the line\n            ([ ]{2}|\\t)+    # two spaces or tab - at least once\n            \\+              # the '+' character\n            \\s*             # followed by any number of spaces (e.g. \"+VAR\" or \"+    VAR\" are valid)\n            (VAR|CONST)     # the VAR or CONST\n            \\s+             # followed at least one space (e.g. the \"VAR_\" should not matched)\n            (\\w+)           # the keyword\n            \\s*=\\s*         # the '=' surrounded (and consumed) by any number of spaces\n            (               # capture the whole value (as it is)\n                    .*                      # any string up to end of line\n                    (?:                     # followed by (non-capturing group)\n                            \\R              # one line-break\n                            ^               # at the start of the line\n                            (?&gt;[ ]{2,}|\\t+) # atomic group - at least two spaces or at least one tab\n                            [^+]            # followed by any character but '+'\n                            .*              # any string up the end of line\n                    )*              # any number of times (e.g. optionally)\n            )\n    /xg) {\n            push @match, { indent =&gt; $1, type =&gt; $2, key =&gt; $3, val =&gt; $4 };\n    }\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT2</strong> And yes, the regex based solution is 34% faster (at least on my HW).</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1474019122, "post_id": 39528276, "comment_id": 66371427, "body": "What perl module do you use for JSON?"}, {"owner": {"reputation": 1824, "user_id": 2086839, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/xK91o.jpg?s=128&g=1", "display_name": "Simon.", "link": "https://stackoverflow.com/users/2086839/simon"}, "reply_to_user": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1474019269, "post_id": 39528276, "comment_id": 66371533, "body": "JSON module! <code>use JSON</code>. Its a debian server"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474019307, "post_id": 39528276, "comment_id": 66371547, "body": "Did you try to <code>print Dumper($data)</code> (with <code>use Data::Dumper</code>)?  It works fine for me."}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1474019660, "post_id": 39528276, "comment_id": 66371783, "body": "Try to provide a self-contained example, i.e. give us an explicit definition of <code>$row</code>, initialized with some string literal."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1474019804, "post_id": 39528276, "comment_id": 66371874, "body": "Oh, I see what you mean.  It&#39;s not an error.  In the line you show the <code>&quot;age&quot;</code> and <code>&quot;height&quot;</code> have a value of ... a hash reference, for another level of nesting (which is empty). It is probably meant to mean that there is nothing, but it is really nested data (but empty).  So when you iterate over it by hand if you just print it you get <code>HASH(0x...)</code>, for a hash reference. Print it out with <code>Data::Dumper</code> and you&#39;ll see that it&#39;s fine. When you go through by-hand you&#39;ll have an extra level."}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 0, "creation_date": 1474041266, "post_id": 39528276, "comment_id": 66385418, "body": "Your difficulty is not with JSON in Perl, you&#39;re difficulty is understanding what you have once the JSON is deserialized into a structure. And it seems a lack of knowledge of what prints when <code>{}</code> is the value. When you run the analog in Javascript, you get <code>&lt;age&gt;[object Object]&lt;&#47;age&gt;&lt;height&gt;[object Object]&lt;&#47;height&gt;</code>, and python prints <code>&lt;height&gt;{}&lt;&#47;height&gt; &lt;age&gt;{}&lt;&#47;age&gt;</code>. Neither of which are any more helpful than <code>HASH(...)</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1474059693, "post_id": 39528276, "comment_id": 66394038, "body": "They are not &quot;<i>difficult to work with in Perl</i>&quot;  -- on the contrary, JSON is one the cleanest ways to pass data around, and Perl has a simple and good support.  The thing is (perhaps the &quot;<i>missing point</i>&quot;) that after JSON is parsed you get back a complex (nested) data structure --  and you <i>don&#39;t know what&#39;s in it</i>. This is by the nature of what you&#39;re doing, loading some data. (It&#39;s the same in any language.)  So you need to interrogate it. Use <code>Data::Dumper</code> to <i>see it</i>, or blindly parse nested hashes/arrays. I indicated this in my answer, let me know if more would be useful."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1553153793, "last_edit_date": 1553153793, "creation_date": 1474020349, "answer_id": 39528807, "question_id": 39528276, "link": "https://stackoverflow.com/questions/39528276/perl-json-parsing-values-incorrectly/39528807#39528807", "title": "Perl, JSON parsing values incorrectly", "body": "<p>You are processing a flat hash, while your data in fact has another, nested, hashref.  In the line</p>\n\n<pre><code>{ \"name\":\"\", \"age\":{}, \"height\":{} }\n</code></pre>\n\n<p>the <code>{}</code> may be intended to mean \"nothing\" but are in fact <a href=\"http://www.json.org/\" rel=\"nofollow noreferrer\">JSON \"object\"</a>, the next level of nested data (which are indeed empty). In Perl we get a hashref for it and that's what your code prints.</p>\n\n<p>The other pillar of JSON is an \"<em>array</em>\" and in Perl we get an arrayref. And that's that -- <code>decode_json</code> gives us back the top-level hashref, which when dereferenced into a hash may contain further hash or array references as values. If you print the whole structure with <a href=\"http://perldoc.perl.org/Data/Dumper.html\" rel=\"nofollow noreferrer\">Data::Dumper</a> you'll see that.</p>\n\n<p>To negotiate this we have to test each time for a reference. Since a dereferenced hash or array may contain yet further levels (more references), we need to use either a recursive routine (see <a href=\"https://stackoverflow.com/a/39448511/4653379\">this post</a> for an example) or a module for complex data structures.  But for the first level</p>\n\n<pre><code>for my $key (keys %$data)\n{\n    next if $data-&gt;{$key} eq '';\n\n    my $ref_type = ref $data-&gt;{$key};\n\n    # if $data-&gt;{key} is not a reference ref() returns an empty string (false)\n    if (not $ref_type) {\n        $XML .= \"      &lt;$key&gt;$data-&gt;{$key}&lt;/$key&gt;\";\n    }\n    elsif ($ref_type eq 'HASH') {\n        # hashref,  unpack and parse. it may contain references\n        say \"$_ =&gt; $data-&gt;{$key}{$_}\" for keys %{ $data-&gt;{$key} };\n    }\n    elsif ($ref_type eq 'ARRAY') {\n        # arrayref, unpack and parse. it may contain references\n        say \"@{$data-&gt;{$key}}\";\n    }\n    else { say \"Reference is to type: $ref_type\" }\n}\n</code></pre>\n\n<p>If the argument of <a href=\"http://perldoc.perl.org/functions/ref.html\" rel=\"nofollow noreferrer\">ref</a> is not a reference (but a string or a number) <code>ref</code> returns an empty string, which evaluates as false, which is when you have plain data. Otherwise it returns the type the reference is to. Coming from <a href=\"http://www.json.org/\" rel=\"nofollow noreferrer\">JSON</a> it can be either a <code>HASH</code> or an <code>ARRAY</code>.  This is how nesting is accomplished.</p>\n\n<p>In the shown example you are runnig into hashref. Since the ones you show are empty you can just discard them and the code <em>for the specific example</em> can reduce greatly, to one statement.  However, I'd leave the other tests in place. This should also work as it stands with the posted example.</p>\n"}], "owner": {"reputation": 1824, "user_id": 2086839, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/xK91o.jpg?s=128&g=1", "display_name": "Simon.", "link": "https://stackoverflow.com/users/2086839/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "accepted_answer_id": 39528807, "answer_count": 1, "score": 1, "last_activity_date": 1553153793, "creation_date": 1474018787, "last_edit_date": 1474034148, "question_id": 39528276, "link": "https://stackoverflow.com/questions/39528276/perl-json-parsing-values-incorrectly", "title": "Perl, JSON parsing values incorrectly", "body": "<p>I'm parsing a JSON string that is stored in a database.</p>\n\n<p><code>{\"name\":\"simon\", \"age\":\"23\", \"height\":\"tall\"}</code></p>\n\n<p>I'm pulling the data, then decoding. When running the code below, I'm receiving weird 'HASH' values back.</p>\n\n<pre><code>use JSON;\n\n$data = decode_json($row-&gt;{'address'});\nfor my $key (keys %$data){\n       if($data-&gt;{$key} ne ''){\n               $XML .= \"      &lt;$key&gt;$data-&gt;{$key}&lt;/$key&gt;\";\n       }\n}\n\n// Returns data like so \n\n&lt;company_type&gt;HASH(0x27dbac0)&lt;/company_type&gt;\n&lt;county&gt;HASH(0x27db7c0)&lt;/county&gt;\n&lt;address1&gt;HASH(0x27dba90)&lt;/address1&gt;\n&lt;company_name&gt;HASH(0x27db808)&lt;/company_name&gt;\n</code></pre>\n\n<p>The Error happens when I have a data set like so:</p>\n\n<p><code>{\"name\":\"\", \"age\":{}, \"height\":{}}</code></p>\n\n<p>I don't understand why JSON / Arrays / Hashes have to be so difficult to work with in Perl. What point am I missing?</p>\n"}, {"tags": ["perl", "memory", "memory-management", "mod-perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1474038702, "post_id": 39527245, "comment_id": 66383844, "body": "The &quot;low level Perl struct&quot; that holds the memory is the var itself, so <code>undef</code> is indeed the right tool. The variables themselves are found in a function&#39;s pad. You can use <a href=\"http://search.cpan.org/perldoc?PadWalker\" rel=\"nofollow noreferrer\">PadWalker</a>&#39;s <code>peek_sub</code> to get references to the vars of a sub from a sub reference, and you can get references to the named subs from the namespace (<code>%::</code>)."}, {"owner": {"reputation": 2566, "user_id": 2055163, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/38e40a8a1f83778784f9ffbed05584ed?s=128&d=identicon&r=PG", "display_name": "Thorsten Sch&#246;ning", "link": "https://stackoverflow.com/users/2055163/thorsten-sch%c3%b6ning"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474043275, "post_id": 39527245, "comment_id": 66386508, "body": "Are you unsure that your approach works? Because it sounds like an answer I would like to accept."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474043418, "post_id": 39527245, "comment_id": 66386569, "body": "I just don&#39;t have the time to write it up nicely."}, {"owner": {"reputation": 2566, "user_id": 2055163, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/38e40a8a1f83778784f9ffbed05584ed?s=128&d=identicon&r=PG", "display_name": "Thorsten Sch&#246;ning", "link": "https://stackoverflow.com/users/2055163/thorsten-sch%c3%b6ning"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474043537, "post_id": 39527245, "comment_id": 66386625, "body": "Would be &quot;nice enough&quot; for me, but I can wait... ;-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1474044960, "post_id": 39527245, "comment_id": 66387285, "body": "@ikegami are you contributing to the core?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1474044990, "post_id": 39527245, "comment_id": 66387303, "body": "@simbabque, I did small thing here and there, that&#39;s all. (A fix to the 5 functions that return lvalues, some fixes to substr indexing, stopped <code>splice(@a, 5)</code> from warning if <code>@a</code> has fewer than 5 elements, a couple of other things I can&#39;t remember, inclding some doc fixes.)"}, {"owner": {"reputation": 335, "user_id": 6665383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MVEE-7g_i5c/AAAAAAAAAAI/AAAAAAAADpU/_CP1fJ1LVhU/photo.jpg?sz=128", "display_name": "Nathan Loyer", "link": "https://stackoverflow.com/users/6665383/nathan-loyer"}, "edited": false, "score": 4, "creation_date": 1481100226, "post_id": 39527245, "comment_id": 69233122, "body": "If your intention is to reduce the memory that the perl process is using, I don&#39;t think it is possible to make perl release memory back to the OS.  I remember struggling with that on Windows a few years back. Running undef will free up some space for perl to reuse memory, but I also recall seeing some memory leaks when I tested this.  I had tested by creating large arrays then undefing them and watched as they continued to consume more memory.  I don&#39;t think I have this code anymore, but I can try to recreate if you are interested."}, {"owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "reply_to_user": {"reputation": 335, "user_id": 6665383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MVEE-7g_i5c/AAAAAAAAAAI/AAAAAAAADpU/_CP1fJ1LVhU/photo.jpg?sz=128", "display_name": "Nathan Loyer", "link": "https://stackoverflow.com/users/6665383/nathan-loyer"}, "edited": false, "score": 0, "creation_date": 1486567467, "post_id": 39527245, "comment_id": 71402584, "body": "@NathanLoyer  I am interested and would be great if you could let us have a look."}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 3, "creation_date": 1486587584, "post_id": 39527245, "comment_id": 71415054, "body": "Fact: Only Chuck Norris can make a running Perl program give memory back to the OS."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1486681132, "post_id": 39527245, "comment_id": 71463426, "body": "@ikegami I just came across this question again when looking for something to answer. If you have some time to spare, would you mind writing up the answer you hinted?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1486681808, "post_id": 39527245, "comment_id": 71463661, "body": "@sumbabque, No, way too much work. What I posted was really just a starting point. And it overlooked a major issue: Which variable is safe to undef? You can&#39;t clear variables in subs in your call stack. Maybe <code>caller</code> can help?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1489698806, "post_id": 39527245, "comment_id": 72798454, "body": "@simbabque, I&#39;ve posted an answer."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1489702867, "post_id": 39527245, "comment_id": 72800109, "body": "@ikegami great, thank you. Good stuff. :-)"}], "answers": [{"tags": [], "owner": {"reputation": 1352, "user_id": 73077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a2499f7835b6607a0f217f00089bcc?s=128&d=identicon&r=PG", "display_name": "Jiri Klouda", "link": "https://stackoverflow.com/users/73077/jiri-klouda"}, "is_accepted": false, "score": 1, "last_activity_date": 1487817313, "last_edit_date": 1495540430, "creation_date": 1487817313, "answer_id": 42406001, "question_id": 39527245, "link": "https://stackoverflow.com/questions/39527245/perl-how-to-free-memory-allocated-for-a-scalar-without-access-to-the-perl-varia/42406001#42406001", "title": "Perl: How to free memory allocated for a scalar without access to the Perl variable?", "body": "<p>I think you are looking for <a href=\"https://stackoverflow.com/a/32028002/73077\">this answer</a> to a similar question. \nEverything you really need to know you can find in the internals to the Devel::MAT::* submodules. Namely the <a href=\"https://metacpan.org/source/PEVANS/Devel-MAT-0.24/lib/Devel/MAT/Dumper.xs\" rel=\"nofollow noreferrer\">Devel::MAT::Dumper.xs</a>, which has the structure of the heap for perl interpreter. The module is designed to dump the heap at signal and analyze it later, but I think you can turn it into a runtime check. If you need help on reading the XS, look <a href=\"http://perldoc.perl.org/perlguts.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1489694862, "post_id": 42833030, "comment_id": 72796523, "body": "Re &quot;<i>To free perl scalar, just like when it leave her scope</i>&quot;, As mentioned in the OP, Perl variables AREN&#39;T freed when you leave their scope.  Their <code>REFCNT</code> AREN&#39;T decremented to zero. The OP is asking how to <code>undef</code> those variables (which would free their string buffers, array buffers, etc). <code>undef</code> (Perl) or <code>sv_clear</code> (XS) would be the appropriate way of doing that, not <code>SvREFCNT_dec</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1489694973, "post_id": 42833030, "comment_id": 72796578, "body": "...which leads to the bigger question of finding the variable. If you have a ref to the sub to which which they belong, you can use <code>peek_sub</code> to get the lexicals."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1489695051, "post_id": 42833030, "comment_id": 72796615, "body": "...which leads to two larger questions: How do you get a list of subs (including anonymous subs), and how do you know if a var is safe to clear (variable of a running subs and a captured variables would not be safe to clear). This is what the OP needs answered."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1489695800, "post_id": 42833030, "comment_id": 72797020, "body": "Oops, <code>sv_clear</code> is not <code>undef</code>. There&#39;s no XS equivalent to <a href=\"https://perl5.git.perl.org/perl.git/blob/443bd156a6baaf7a8fe6b6b05fcf6c4178140ed2:/pp.c#l974\" rel=\"nofollow noreferrer\"><code>undef</code></a>."}], "tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": -1, "last_activity_date": 1489699544, "last_edit_date": 1495541369, "creation_date": 1489664240, "answer_id": 42833030, "question_id": 39527245, "link": "https://stackoverflow.com/questions/39527245/perl-how-to-free-memory-allocated-for-a-scalar-without-access-to-the-perl-varia/42833030#42833030", "title": "Perl: How to free memory allocated for a scalar without access to the Perl variable?", "body": "<p>To debug memory allocation you should recompile perl with <code>-Accflags=-DPERL_MEM_LOG</code> <a href=\"http://perldoc.perl.org/perlhacktips.html#PERL_MEM_LOG\" rel=\"nofollow noreferrer\">DOC</a></p>\n\n<p>(see related question about <a href=\"https://stackoverflow.com/questions/42736961/how-to-compile-perl-with-debug-leaking-scalars\">how to recompile perl</a>)</p>\n\n<p>You maybe will be interested in <a href=\"http://perldoc.perl.org/perlhacktips.html#MEMORY-DEBUGGERS\" rel=\"nofollow noreferrer\">MEMORY DEBUGGERS</a></p>\n\n<p>To free perl scalar, just like when it leave her scope:</p>\n\n<pre><code>{ # Scope enter\n     my $x; # Memory allocation\n} # &lt;&lt; HERE $x is freed\n</code></pre>\n\n<p>You should just reduce its variable <code>REFCNT</code> to zero by <code>SvREFCNT_dec</code> macro <a href=\"http://perldoc.perl.org/perlguts.html#Working-with-SVs\" rel=\"nofollow noreferrer\">DOC</a></p>\n\n<blockquote>\n  <p>To free an SV that you've created, call SvREFCNT_dec(SV*) . Normally this call is not necessary (see Reference Counts and Mortality).</p>\n</blockquote>\n\n<p>Here is pseudo code:</p>\n\n<pre><code>{ \n    $x;\n    call_xs_sub( $x ); # &lt;&lt; HERE $x is freed        \n}\n</code></pre>\n\n<p>XS pseudo code:</p>\n\n<pre><code>call_xs_sub( SV *sv ) {\n    ...\n    SvREFCNT_dec( sv ); # &lt;&lt;HERE scalar is freed\n    ...\n}\n</code></pre>\n\n<p><strong>To spy every memory allocation you should walk perl arenas.</strong></p>\n\n<p>At compile time you may view every place where variable is declared and accessed with help of <a href=\"https://metacpan.org/pod/B::Xref\" rel=\"nofollow noreferrer\">B::Xref</a> module</p>\n\n<p>Or run perl with <code>-Dm</code> option (The perl should be compiled with corresponding options. See this <a href=\"https://stackoverflow.com/questions/42736961/how-to-compile-perl-with-debug-leaking-scalars\">topic</a>):</p>\n\n<pre><code>perl -Dm script.pl\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2566, "user_id": 2055163, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/38e40a8a1f83778784f9ffbed05584ed?s=128&d=identicon&r=PG", "display_name": "Thorsten Sch&#246;ning", "link": "https://stackoverflow.com/users/2055163/thorsten-sch%c3%b6ning"}, "edited": false, "score": 0, "creation_date": 1489739541, "post_id": 42844508, "comment_id": 72812075, "body": "Approach 3 sounds interesting, one would &quot;only&quot; need to take care about not loosing mod_perl benefits at all by loading all or at least most used packages at server startup, to feed the parent Perl interpreter with. <a href=\"https://perl.apache.org/docs/2.0/user/intro/overview.html#Threads_Support\" rel=\"nofollow noreferrer\">perl.apache.org/docs/2.0/user/intro/&hellip;</a> <a href=\"https://perl.apache.org/docs/2.0/user/handlers/server.html#Server_Life_Cycle\" rel=\"nofollow noreferrer\">perl.apache.org/docs/2.0/user/handlers/&hellip;</a> <a href=\"https://perl.apache.org/docs/2.0/user/handlers/server.html#When_Does_perl_Start_To_Run\" rel=\"nofollow noreferrer\">perl.apache.org/docs/2.0/user/handlers/&hellip;</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2566, "user_id": 2055163, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/38e40a8a1f83778784f9ffbed05584ed?s=128&d=identicon&r=PG", "display_name": "Thorsten Sch&#246;ning", "link": "https://stackoverflow.com/users/2055163/thorsten-sch%c3%b6ning"}, "edited": false, "score": 0, "creation_date": 1489772429, "post_id": 42844508, "comment_id": 72833936, "body": "Also, the child-replacement happens on request end, not on request start, so you even if startup takes a little time, it might not matter at all."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1489774311, "post_id": 42844508, "comment_id": 72835084, "body": "@ikegami: Your answers full and interesting. Here is your award =)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1489772335, "last_edit_date": 1489772335, "creation_date": 1489697374, "answer_id": 42844508, "question_id": 39527245, "link": "https://stackoverflow.com/questions/39527245/perl-how-to-free-memory-allocated-for-a-scalar-without-access-to-the-perl-varia/42844508#42844508", "title": "Perl: How to free memory allocated for a scalar without access to the Perl variable?", "body": "<blockquote>\n  <p><em>is it possible to debug things like allocated memory outside the scope of variables</em></p>\n</blockquote>\n\n<p>There really isn't any such memory. Any memory allocated outside of variables is surely needed. As you yourself point out, it's the memory allocated for variables that make up most \"wasted\" space.</p>\n\n<blockquote>\n  <p><em>but no hint yet how one could call something like the undef function on some low level Perl struct in Perl.</em></p>\n</blockquote>\n\n<p>It's because there are no such structs.</p>\n\n<blockquote>\n  <p><em>Just like calling <code>undef</code> on a scalar, but without the scalar, something more low level, like on those \"things\" output of Devel::Peek.</em></p>\n</blockquote>\n\n<p>Devel::Peek's only function, <code>Dump</code>, outputs things <em>in</em> variables. Like you've said, <code>undef</code> is what you'd want to clear these.</p>\n\n<hr>\n\n<p>From the above, it's obvious you want to know how to free the memory associated with the variables in subs.</p>\n\n<p>You also overlooked the fact that many operators have an associated variable (called \"target\") in which they return their result.</p>\n\n<h2>Approach 1</h2>\n\n<p>A simple way to clear all those variables would be to selectively clear the symbol table (<code>%::</code>). This would effectively \"unload\" every module. Be sure not clear core components (<code>perl -E'say for sort keys %::'</code>). And don't forget to clear <code>%INC</code> so the modules can be reloaded.</p>\n\n<p>If clearing the symbol table is the approach you want to take, it might be less risky and time-consuming to take a snapshot of <code>%::</code> early on, and restore that snapshot when it's time to clear the symbol.</p>\n\n<h2>Approach 2</h2>\n\n<p>If you didn't want to reload the modules, you could take attempt to locate every sub, and undef their vars, then undef the vars of their ops.</p>\n\n<p>A sub's vars exists within its <a href=\"http://search.cpan.org/dist/illguts/index-18.html#pad\" rel=\"nofollow noreferrer\">pads</a>. Conveniently, so do opcode targets. There's a pad for each level of recursion the sub has experienced. </p>\n\n<p>Given a reference to a sub, you can find the variables in a sub's pads. You can refer to <a href=\"http://search.cpan.org/perldoc?PadWalker\" rel=\"nofollow noreferrer\">PadWalker</a> for an example of how to do this. You can't actually use PadWalker since it only returns one variable per variable name, even if there are more than one (due to more than one variable being declared with the same name, or due to recursion).</p>\n\n<p>Captured variables and <code>our</code> variables should be left untouched. It's possible to detect whether a pad entry is one of these. (Again, refer to PadWalker.)</p>\n\n<p>(Obviously, you could also looking into freeing the sub's extra pads!)</p>\n\n<p>How do you find all the subs? Well, navigating the symbol table will give you most of them. Finding anon ones will be trickier.</p>\n\n<h2>Approach 3</h2>\n\n<p>The most efficient approach is to simply terminate the mod_perl thread/process. A new clean one will automatically be spawned. It's also the simplest to implement, as it's simply a configuration change (setting <code>MaxRequestsPerChild</code> to <code>1</code>).</p>\n\n<hr>\n\n<p>Another form of wasted memory is a memory leak. That's another large question, so I'm not touching it.</p>\n"}], "owner": {"reputation": 2566, "user_id": 2055163, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/38e40a8a1f83778784f9ffbed05584ed?s=128&d=identicon&r=PG", "display_name": "Thorsten Sch&#246;ning", "link": "https://stackoverflow.com/users/2055163/thorsten-sch%c3%b6ning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1105, "favorite_count": 5, "accepted_answer_id": 42844508, "answer_count": 3, "score": 8, "last_activity_date": 1489772335, "creation_date": 1474015634, "last_edit_date": 1495540430, "question_id": 39527245, "link": "https://stackoverflow.com/questions/39527245/perl-how-to-free-memory-allocated-for-a-scalar-without-access-to-the-perl-varia", "title": "Perl: How to free memory allocated for a scalar without access to the Perl variable?", "body": "<p>This question is related to an <a href=\"https://stackoverflow.com/a/39514537/2055163\">answer</a> to a former <a href=\"https://stackoverflow.com/questions/39513307/perl-when-is-unneeded-memory-of-a-scalar-freed-without-going-out-of-scope\">question about memory handling</a> by Perl. I've learned that one can free memory in Perl by explicitly using the <code>undef</code> function on an available scalar and using <code>Devel::Peek</code> or <code>Devel::Size</code> or such one can see how many memory is allocated for a scalar. In all those cases the scalars debugged are used within their scope.</p>\n\n<p>But is it possible to debug things like allocated memory outside the scope of variables, just on the level of a Perl interpreter? Something like searching for all allocated memory for all \"things\" that are a scalar in the current interpreter and print their associated data, like current value or such?</p>\n\n<p>And if that's the case, if one does already have that information, is one even able to free the known memory? Just like calling <code>undef</code> on a scalar, but without the scalar, something more low level, like on those \"things\" output of <code>Devel::Peek</code>.</p>\n\n<p>What I'm thinking about is having a mod_perl cleanup handler executed after a request, scanning the current mod_perl interpreter for large chunks of data and freeing them manually. Simply because I decide that large blocks of allocated data are of no use anymore, even if Perl thinks otherwise:</p>\n\n<blockquote>\n  <p>Finally and perhaps the biggest win is memory re-use: as calls are made into Perl subroutines, memory allocations are made for variables when they are used for the first time. Subsequent use of variables may allocate more memory, e.g. if a scalar variable needs to hold a longer string than it did before, or an array has new elements added. As an optimization, Perl hangs onto these allocations, even though their values \"go out of scope\".</p>\n</blockquote>\n\n<p><a href=\"https://perl.apache.org/docs/2.0/user/intro/overview.html#Threads_Support\" rel=\"nofollow noreferrer\">https://perl.apache.org/docs/2.0/user/intro/overview.html#Threads_Support</a></p>\n\n<p>I could find a lot of monitoring and debugging packages around low level memory access, but no hint yet how one could call something like the <code>undef</code> function on some low level Perl struct in Perl. Might simply not be possible without any XS or such...</p>\n"}, {"tags": ["perl", "grep"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474012090, "post_id": 39526277, "comment_id": 66367603, "body": "So you want to grep for all numbers between timestamp1 and timestamp2?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1474012154, "post_id": 39526277, "comment_id": 66367641, "body": "<code>my @file = grep { &#47;$timestamp1&#47; .. &#47;$timestamp2&#47; } readdir $dir_b;</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1474012557, "post_id": 39526277, "comment_id": 66367837, "body": "@\u0421\u0443\u0445\u043e\u043927 That&#39;s the flip-flop, right? Wouldn&#39;t that match everything between the occurrences of <code>$timestamp1</code> and <code>$timestamp2</code>?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474013103, "post_id": 39526277, "comment_id": 66368094, "body": "@simbabque  It matches 20160820, 20160821, ...  -- this is required, no? Or what do you mean by &quot;<i>everything</i>&quot;?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474013274, "post_id": 39526277, "comment_id": 66368170, "body": "@zdim yeah it does. It&#39;s smart and elegant."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474013504, "post_id": 39526277, "comment_id": 66368289, "body": "@simbabque  yes, I really like the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\"><code>range operator</code></a> -- allows very naturally looking things to be done."}, {"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 0, "creation_date": 1474014811, "post_id": 39526277, "comment_id": 66368904, "body": "this also worked, thanks"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474018462, "post_id": 39526277, "comment_id": 66371004, "body": "@simbabque yes, everything between and including boundaries."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1474021294, "post_id": 39526277, "comment_id": 66372879, "body": "@\u0421\u0443\u0445\u043e\u043927 I posted your comment-answer as a Wiki, thinking that it would be a shame to not show more prominently while fearing that you won&#39;t post it as an answer. If you don&#39;t approve of that please let me know how to remedy it."}], "answers": [{"comments": [{"owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 0, "creation_date": 1474014749, "post_id": 39526457, "comment_id": 66368868, "body": "this worked well, if someone is interested I&#39;d appreciate a summary what it is actually doing, is it also including Dates like 20160855 that do not exist in its pattern? If yes I understand how it is working. thanks :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 1, "creation_date": 1474015479, "post_id": 39526457, "comment_id": 66369227, "body": "@ZesaRex  If you give it the end of <code>20160903</code>, yes it will. As it stands, it goes from <code>20</code> to <code>30</code>. The range <code>$a .. $b</code> generates <i>all</i> numbers inbetween. The invalid dates don&#39;t exist in your filenames so that should still work.  If it&#39;s a concern, you can feed it more carefully selected patterns."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "edited": false, "score": 0, "creation_date": 1474017339, "post_id": 39526457, "comment_id": 66370289, "body": "@ZesaRex I added an explanation."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1474017323, "last_edit_date": 1592644375, "creation_date": 1474012741, "answer_id": 39526457, "question_id": 39526277, "link": "https://stackoverflow.com/questions/39526277/how-to-make-grep-use-a-from-x-to-y-syntax-using-date-as-parameter/39526457#39526457", "title": "how to make grep use a &quot;from X to Y&quot; syntax? (Using date as parameter)", "body": "<p>You can use <a href=\"https://v1.metacpan.org/pod/Regexp::Assemble\" rel=\"nofollow noreferrer\">Regexp::Assemble</a> to build one pattern out of all timestamps that are in the range of your dates.</p>\n<pre><code>use strict;\nuse warnings;\nuse Regexp::Assemble;\n\nmy $timestamp_late  = 20160830;\nmy $timestamp_early = 20160820;\n\nmy $ra = Regexp::Assemble-&gt;new;\n$ra-&gt;add( $_ ) for $timestamp_early .. $timestamp_late;\n\nprint $ra-&gt;re;\n</code></pre>\n<p>The pattern for that case is: <code>(?^:201608(?:2\\d|30))</code></p>\n<p>You can now use it like this:</p>\n<pre><code>my $pattern = $ra-&gt;re;\nmy @files = grep { /$pattern/ } readdir $dir_b;\n</code></pre>\n<p>It works by combining multiple patterns into a single one.</p>\n<blockquote>\n<p>Regexp::Assemble takes an arbitrary number of regular expressions and assembles them into a single regular expression (or RE) that matches all that the individual REs match.</p>\n<p>As a result, instead of having a large list of expressions to loop over, a target string only needs to be tested against one expression. This is interesting when you have several thousand patterns to deal with. Serious effort is made to produce the smallest pattern possible.</p>\n</blockquote>\n<p>Our patterns here are rather simple (they are just strings), but it works nonetheless. The resulting pattern works like this:</p>\n<pre><code>(?^:                ) # non-capture group w/o non-default flags for the sub pattern\n    201608            # literal 201608\n          (?:      )  # non-capture group\n             2\\d      # literal 2 followed by a digit (0-9)\n                |     # or\n                 30   # literal 30\n</code></pre>\n<p>The <code>(?^:)</code> is explained <a href=\"http://perldoc.perl.org/perlre.html#(%3F%5Ealuimnsx%3Apattern)\" rel=\"nofollow noreferrer\">in this part of perlre</a>.</p>\n<p>If you pass in more numbers, the resulting regex will look different. Of course this is not meant for dates, so with my simple <code>1 .. 9</code> expression we get all numbers in between. The <code>..</code> is the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">range operator</a>, and will return the list <code>(1, 2, 3, 4, 5, 6, 7, 8, 9)</code> for the aforementioned case.</p>\n<p>So if you wanted to make sure that you only get valid dates, you could take <a href=\"https://stackoverflow.com/a/4375789/1331451\">this approach</a> or <a href=\"https://stackoverflow.com/a/6622999/1331451\">this approach</a>. Here's an example.</p>\n<pre><code>use strict;\nuse warnings;\nuse Regexp::Assemble;\nuse DateTime;\n\nmy $timestamp_late  = DateTime-&gt;new( year =&gt; 2016, month =&gt; 9, day =&gt; 1 );\nmy $timestamp_early = DateTime-&gt;new( year =&gt; 2016, month =&gt; 8, day =&gt; 19 );    # -1 day\n\nmy $ra = Regexp::Assemble-&gt;new;\nwhile ( $timestamp_early-&gt;add( days =&gt; 1 ) &lt;= $timestamp_late ) {\n    $ra-&gt;add( $timestamp_early-&gt;ymd(q{}) );\n}\n\nprint $ra-&gt;re;\n</code></pre>\n<p>This goes over to the next month and gives</p>\n<pre><code>(?^:20160(?:8(?:3[01]|2\\d)|901))\n</code></pre>\n<p>which, only matches real dates, while the other, simpler, solution will include all numbers between them, including the 99th of August.</p>\n<pre><code>(?^:20160(?:8(?:2\\d|3\\d|4\\d|5\\d|6\\d|7\\d|8\\d|9\\d)|90[01]))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1474016297, "last_edit_date": 1495542763, "creation_date": 1474015067, "answer_id": 39527080, "question_id": 39526277, "link": "https://stackoverflow.com/questions/39526277/how-to-make-grep-use-a-from-x-to-y-syntax-using-date-as-parameter/39527080#39527080", "title": "how to make grep use a &quot;from X to Y&quot; syntax? (Using date as parameter)", "body": "<p>Solution by <a href=\"https://stackoverflow.com/users/223226/%D0%A1%D1%83%D1%85%D0%BE%D0%B927\"><code>\u0421\u0443\u0445\u043e\u043927</code></a>, posted as a comment</p>\n\n<pre><code>my @file = grep { /$timestamp1/ .. /$timestamp2/ } readdir $dir_b;\n</code></pre>\n\n<p>A very nice example of use of the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\"><code>range operator</code></a></p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474072272, "post_id": 39541285, "comment_id": 66397235, "body": "Absolutely agree, I had something very similar almost typed in when the range-based comment showed up.  But I do think that people &quot;should&quot; learn about the <code>range</code> operator since it adds to the language a way to write very clean code, which also fits in nicely with other tools. This, in my opinion, plays very well with Perl&#39;s fluid semantics."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474275842, "post_id": 39541285, "comment_id": 66448356, "body": "I also thought about this approach, but decided against it because you also need to break apart every line of the file to get the dates out. The regex solution felt cleaner somehow."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 2, "last_activity_date": 1474067730, "creation_date": 1474067730, "answer_id": 39541285, "question_id": 39526277, "link": "https://stackoverflow.com/questions/39526277/how-to-make-grep-use-a-from-x-to-y-syntax-using-date-as-parameter/39541285#39541285", "title": "how to make grep use a &quot;from X to Y&quot; syntax? (Using date as parameter)", "body": "<p>I favor some simpler approaches that are easy for someone to understand. The flip-flop is cool, but almost no one knows what it does. </p>\n\n<p>You don't have to do everything in one operation:</p>\n\n<pre><code> my @file = grep { \n    my $this_date = ...;\n    $lower_date &lt;= $this_date and $this_date &lt;= $higher_date; \n    } @inputs;\n</code></pre>\n"}], "owner": {"reputation": 492, "user_id": 6668554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-A5AWL5JzpQ0/AAAAAAAAAAI/AAAAAAAAABw/lDgM6R-ThsM/photo.jpg?sz=128", "display_name": "Zesa Rex", "link": "https://stackoverflow.com/users/6668554/zesa-rex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 1, "accepted_answer_id": 39526457, "answer_count": 3, "score": 2, "last_activity_date": 1474067730, "creation_date": 1474012015, "question_id": 39526277, "link": "https://stackoverflow.com/questions/39526277/how-to-make-grep-use-a-from-x-to-y-syntax-using-date-as-parameter", "title": "how to make grep use a &quot;from X to Y&quot; syntax? (Using date as parameter)", "body": "<p>so I would like to write a script that scans through orders and files and pastes certain lines of these files into a file. </p>\n\n<p>How can I let my file scan through a specified range instead of a singular date?</p>\n\n<p>Actually the code I'd need to change looks like this:</p>\n\n<pre><code>$curdir = \"$scriptdir\\\\$folder\";\nopendir my $dir_b,  \"$curdir\" or die \"Can't open directory: $!\";\nmy @file = grep { /$timestamp/ } readdir $dir_b;\nclosedir $dir_b;\n</code></pre>\n\n<p>Now line 3 needs to work actually like this</p>\n\n<pre><code>my @file = grep { /$timestamp1 to $timestamp2/ } readdir $dir_b;\n</code></pre>\n\n<p>anyone knows how to achieve this? timestamp1 would be as example 20160820 and timestamp2 would be 20160903 or 20160830</p>\n\n<p>thanks for the help</p>\n"}, {"tags": ["r", "perl", "utf-8", "locale"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1474012934, "post_id": 39526200, "comment_id": 66368014, "body": "Try running <code>sudo locale-gen en_US.UTF-8</code> on your machine. Which distro are you using BTW? You could also add following in your <code>.bashrc</code> file. <code>export LANGUAGE=en_US.UTF-8 export LC_ALL=en_US.UTF-8 export LANG=en_US.UTF-8 export LC_TYPE=en_US.UTF-8</code>"}, {"owner": {"reputation": 101, "user_id": 6631430, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4beb37174f8d40e8e8dedbd3e8817b24?s=128&d=identicon&r=PG&f=1", "display_name": "sander", "link": "https://stackoverflow.com/users/6631430/sander"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1474014008, "post_id": 39526200, "comment_id": 66368508, "body": "I get the following error when I run your command: sudo: locale-gen: command not found. Where can I find my distro?"}, {"owner": {"reputation": 101, "user_id": 6631430, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4beb37174f8d40e8e8dedbd3e8817b24?s=128&d=identicon&r=PG&f=1", "display_name": "sander", "link": "https://stackoverflow.com/users/6631430/sander"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1474014558, "post_id": 39526200, "comment_id": 66368779, "body": "I&#39;ve added the lines in my .bashrc file, but it did&#39;nt change anything. Unfortunately I still get the errors."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1474014900, "post_id": 39526200, "comment_id": 66368943, "body": "Did you open a new terminal after making changes in <code>~&#47;.bashrc</code>?"}, {"owner": {"reputation": 101, "user_id": 6631430, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4beb37174f8d40e8e8dedbd3e8817b24?s=128&d=identicon&r=PG&f=1", "display_name": "sander", "link": "https://stackoverflow.com/users/6631430/sander"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1474015459, "post_id": 39526200, "comment_id": 66369221, "body": "Yes I&#39;ve rebooted my computer."}, {"owner": {"reputation": 101, "user_id": 6631430, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4beb37174f8d40e8e8dedbd3e8817b24?s=128&d=identicon&r=PG&f=1", "display_name": "sander", "link": "https://stackoverflow.com/users/6631430/sander"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1474016797, "post_id": 39526200, "comment_id": 66369990, "body": "When I run &#39;locale&#39; I notice that LC_ALL is missing. How do I change this? I&#39;ve tried multiple suggested solutions found elsewhere, but they all give  the following errors: <code>sudo: apt-get: command not found</code>, <code>sudo: aptitude: command not found</code>, <code>sudo: dpkg-reconfigure: command not found</code>"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1474016935, "post_id": 39526200, "comment_id": 66370058, "body": "Try adding <code>LC_ALL</code> to <code>&#47;etc&#47;profile</code> using root. This way all users will get this setting. Not sure whether it would help or not."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474039043, "post_id": 39526200, "comment_id": 66384021, "body": "This has nothing to do with Perl. For example, running <code>locale</code> will give you a similar error message. Your system doesn&#39;t recognize the locale, meaning there&#39;s currently no locale by that name on your system."}], "answers": [{"tags": [], "owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "is_accepted": false, "score": 0, "last_activity_date": 1474039059, "creation_date": 1474039059, "answer_id": 39534957, "question_id": 39526200, "link": "https://stackoverflow.com/questions/39526200/setting-locale-failed/39534957#39534957", "title": "Setting locale failed", "body": "<p>LC_CTYPE is set to \"en_NL.UTF-8\".  Such a locale does not exist on Mac OS X (and probably no other OS).  Try to find where the wrong setting comes from because it will probably cause other problems, too.</p>\n\n<p>Setting the locale with Sys.setlocale() is useless because Perl is running in a child process created with fork() and exec() and then switches locale based on the process environment.</p>\n\n<p>Setting the environment for the Perl process is probably the right approach but you have to overwrite the erroneous value LC_CTYPE, not LC_ALL:</p>\n\n<pre><code>Sys.setenv(LC_CTYPE = \"en_US.UTF-8\")\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 6631430, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4beb37174f8d40e8e8dedbd3e8817b24?s=128&d=identicon&r=PG&f=1", "display_name": "sander", "link": "https://stackoverflow.com/users/6631430/sander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1467, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1474039059, "creation_date": 1474011702, "last_edit_date": 1474013390, "question_id": 39526200, "link": "https://stackoverflow.com/questions/39526200/setting-locale-failed", "title": "Setting locale failed", "body": "<p>I keep getting the following error message in the R Markdown log:</p>\n\n<pre><code>cropping document_files/figure-latex/ranking_time_output-1.pdf\nperl: warning: Setting locale failed.\nperl: warning: Please check that your locale settings:\n    LC_ALL = (unset),\n    LC_CTYPE = \"en_NL.UTF-8\",\n    LANG = \"en_US.UTF-8\"\n    are supported and installed on your system.\nperl: warning: Falling back to the standard locale (\"C\").\n</code></pre>\n\n<p>I've tried numerous things, such as:</p>\n\n<pre><code>Sys.setlocale(\"LC_ALL\", 'en_US.UTF-8')\nSys.setenv(LANG = \"en_US.UTF-8\")\nSys.setlocale(\"LC_MESSAGES\", 'en_GB.UTF-8')\n</code></pre>\n\n<p>running in R. However, non of this seems to work.</p>\n\n<p>Do I have to do something in the command line or is it an issue that I can fix in R? I'm not an expert in both, so would appreciate help!</p>\n\n<p>RStudio version: 0.99.903, system: Mac OS X 10_11_6</p>\n\n<p>Furthermore I'm located in the Netherlands, but I run everything on my system in English.</p>\n"}, {"tags": ["perl", "shell", "ansible", "sh"], "answers": [{"tags": [], "owner": {"reputation": 54590, "user_id": 2795592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fbe4bfb6102057764f046f57f161ac?s=128&d=identicon&r=PG", "display_name": "Konstantin Suvorov", "link": "https://stackoverflow.com/users/2795592/konstantin-suvorov"}, "is_accepted": true, "score": 2, "last_activity_date": 1474012399, "creation_date": 1474012399, "answer_id": 39526368, "question_id": 39525595, "link": "https://stackoverflow.com/questions/39525595/call-perl-script-using-ansible/39526368#39526368", "title": "Call Perl Script using Ansible", "body": "<p>I bet you don't need perl here, use <a href=\"http://docs.ansible.com/ansible/lineinfile_module.html\" rel=\"nofollow\">lineinfile</a> with <code>regex</code> option (if you need to modify a single line in the file) or <a href=\"http://docs.ansible.com/ansible/replace_module.html\" rel=\"nofollow\">replace</a> module (if you need to modify all occurrences).</p>\n"}, {"tags": [], "owner": {"reputation": 439, "user_id": 6841451, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZgJtpZ2W71o/AAAAAAAAAAI/AAAAAAAAAAo/4W0s30HYQa8/photo.jpg?sz=128", "display_name": "OpenITeX", "link": "https://stackoverflow.com/users/6841451/openitex"}, "is_accepted": false, "score": 1, "last_activity_date": 1474074561, "creation_date": 1474074561, "answer_id": 39541949, "question_id": 39525595, "link": "https://stackoverflow.com/questions/39525595/call-perl-script-using-ansible/39541949#39541949", "title": "Call Perl Script using Ansible", "body": "<p>Just call perl with <code>command</code> or <code>shell</code>-module:</p>\n\n<p><code>- task: Modifying Sonar config file\n   shell: cd sonarqube-5.4/conf &amp;&amp; perl -p -i -e ...</code></p>\n"}], "owner": {"reputation": 121, "user_id": 5866357, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/05772322d318ba4756c6980270f0287c?s=128&d=identicon&r=PG&f=1", "display_name": "Kalyan Bhave", "link": "https://stackoverflow.com/users/5866357/kalyan-bhave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2705, "favorite_count": 2, "accepted_answer_id": 39526368, "answer_count": 2, "score": 1, "last_activity_date": 1474074561, "creation_date": 1474009534, "question_id": 39525595, "link": "https://stackoverflow.com/questions/39525595/call-perl-script-using-ansible", "title": "Call Perl Script using Ansible", "body": "<p>I have the below .sh code which need to get converted to Ansible tasks.</p>\n\n<pre><code>#!/bin/sh\necho \"Installing Sonar\"\nSONAR_HOME=/tui/hybris/sonar\nif [ ! -d \"$SONAR_HOME\" ]; then\nmkdir -p $SONAR_HOME\nfi\ncd $SONAR_HOME\nwget https://s3-eu-west-1.amazonaws.com/tuiuk/source/sonarqube/sonarqube-5.4.zip\nunzip sonarqube-5.4.zip\necho \"Modifying Sonar config file\"\ncd sonarqube-5.4/conf\nperl -p -i -e 's/#sonar.jdbc.username=/sonar.jdbc.username=sonar/g' sonar.properties\nperl -p -i -e 's/#sonar.jdbc.password=/sonar.jdbc.password=sonar/g' sonar.properties\nperl -p -i -e 's/#sonar.jdbc.url=jdbc:mysql/sonar.jdbc.url=jdbc:mysql/g' sonar.properties\ncd $SONAR_HOME\necho \"downloading and copying plugins\"\nwget https://s3-eu-west-1.amazonaws.com/tuiuk/source/sonarqube/sonarqube5.4_plugins.zip\nunzip sonarqube5.4_plugins.zip\ncp plugins/* sonarqube-5.4/extensions/plugins/\ncd sonarqube-5.4/bin/linux-x86-64\necho \"Starting Sonar\"\n./sonar.sh start\n</code></pre>\n\n<p>Below is my task.I got stuck where I need to execute perl script. Could any of you help me in proceeding further.</p>\n\n<pre><code>- hosts: docker_test\n  tasks:\n   - name: Creates directory\n     file: path=/tui/hybris/sonar state=directory mode=0777\n     sudo: yes\n\n   - name: Installing Sonar\n     get_url:\n       url: \"https://s3-eu-west-1.amazonaws.com/tuiuk/source/sonarqube/sonarqube-5.4.zip\"\n       dest: \"/tui/hybris/sonar/sonarqube-5.4.zip\"\n     register: get_solr\n\n   - debug:\n       msg: \"solr was downloaded\"\n     when: get_solr|changed\n\n   - name: Unzip SonarQube\n     unarchive: src=/tui/hybris/sonar/sonarqube-5.4.zip dest=/tui/hybris/sonar copy=no\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1474009882, "post_id": 39525453, "comment_id": 66366525, "body": "Please <a href=\"https://stackoverflow.com/posts/39525453/edit\">edit</a> your question and make the code valid so it at least compiles. The code of your a.pm has a syntax error. Also, is it relevant that <i>a</i> is a module and <i>b</i> is a script? Are you using <code>strict</code> and <code>warnings</code>? You should always do that in new code (although it&#39;s not relevant to this problem)."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1474010329, "post_id": 39525453, "comment_id": 66366731, "body": "What about OOP approach? Create 2 modules <code>a.pm</code> and <code>b.pm</code>. Have an object in each module, and after creating the object for module1, create the object for module2 and send him the arguments from module1"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 3, "creation_date": 1474010620, "post_id": 39525453, "comment_id": 66366867, "body": "(1) Please provide a reasonable script.  This isn&#39;t even a sketch.  (2) As for your edit -- what do you mean by &quot;<i>Do not want to pass as Command line arguments</i>&quot;?  How are <code>a.pm</code>, the code that uses it, and <code>b.pl</code> related?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1474026688, "post_id": 39525453, "comment_id": 66375948, "body": "I&#39;d bet this is an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1474009771, "creation_date": 1474009771, "answer_id": 39525659, "question_id": 39525453, "link": "https://stackoverflow.com/questions/39525453/calling-one-perl-file-from-the-second-perl-file-while-taking-variables-of-second/39525659#39525659", "title": "calling one perl file from the second perl file while taking variables of second file", "body": "<p>You cannot share the same variables if you do a system call to a new Perl interpreter. To do that, you could pass them as command line arguments.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $var1 = 'foo';\nmy $var2 = 'bar';\n\nsystem( 'perl b.pl', $var1, $var2);\n</code></pre>\n\n<p>And then in b.pl:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nprint $ARGV[0];\n</code></pre>\n\n<p>The arguments end up in <a href=\"http://perldoc.perl.org/perlvar.html#%40ARGV\" rel=\"nofollow\"><code>@ARGV</code></a>, which can be used as a regular array. If you want to share data structures, you'd have to serialize them first. You could use <a href=\"https://v1.metacpan.org/pod/Storable\" rel=\"nofollow\">Storable</a> or <a href=\"https://v1.metacpan.org/pod/JSON\" rel=\"nofollow\">JSON</a> to do that. You then need to deserialize them in your second program.</p>\n\n<p>There are more complicated alternatives, but I think going into detail for those (like saving to a file, opening a pipe and reading from STDOUT in the second script) are a bit out of scope.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474010108, "post_id": 39525692, "comment_id": 66366627, "body": "The output will be <i>$var1</i>. You need to use double quotes <code>&quot;&quot;</code> to get interpolation on your <code>system</code> call, or pass the variables as additional args to <code>system</code> to also get proper shell escaping for free."}, {"owner": {"reputation": 477, "user_id": 2083642, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HfHMb.jpg?s=128&g=1", "display_name": "Manu Mathew", "link": "https://stackoverflow.com/users/2083642/manu-mathew"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474010230, "post_id": 39525692, "comment_id": 66366684, "body": "@simbabque Sorry I forgot."}], "tags": [], "owner": {"reputation": 477, "user_id": 2083642, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HfHMb.jpg?s=128&g=1", "display_name": "Manu Mathew", "link": "https://stackoverflow.com/users/2083642/manu-mathew"}, "is_accepted": false, "score": -1, "last_activity_date": 1474011523, "last_edit_date": 1474011523, "creation_date": 1474009882, "answer_id": 39525692, "question_id": 39525453, "link": "https://stackoverflow.com/questions/39525453/calling-one-perl-file-from-the-second-perl-file-while-taking-variables-of-second/39525692#39525692", "title": "calling one perl file from the second perl file while taking variables of second file", "body": "<p>You can pass <strong><code>$var1</code></strong> and <strong><code>var2</code></strong> from <strong><em>a.pm</em></strong> to <strong><em>b.pl</em></strong> along with the command execution using system. Please the check the following:</p>\n\n<p><strong>a.pm</strong></p>\n\n<pre><code>my ($var1,$var2);\n$var1=\"Open\";\n$var2=\"Close\";\nsystem (\"perl b.pl $var1 $var2\");\n</code></pre>\n\n<p><strong>b.pl</strong> </p>\n\n<pre><code>my $var1=$ARGV[0];\nmy $var2=$ARGV[1];\nprint \"$var1\";\n</code></pre>\n\n<p>The output will be:</p>\n\n<p><strong><em>Open</em></strong></p>\n\n<p><strong>If you don't need to send value by command line please try the following.</strong> \nThe way to do is by passing value by setting it in <strong>%ENV</strong> hash as given in the following program. Please be careful when you set the key for it so that it won't replace the existing %ENV keys.</p>\n\n<p><strong>a.pm</strong></p>\n\n<pre><code>my ($var1,$var2);\n$var1=\"Open\";\n$var2=\"Close\";\n$ENV{m_temp_x_var1}=$var1;\n$ENV{m_temp_x_var2}=$var2;\nsystem (\"perl b.pl\");\n</code></pre>\n\n<p><strong>b.pl</strong> </p>\n\n<pre><code>my $var1=$ENV{m_temp_x_var1};\nmy $var2=$ENV{m_temp_x_var2};\nprint \"$var1\";\n</code></pre>\n\n<p>The output will be:</p>\n\n<p><strong><em>Open</em></strong></p>\n"}], "owner": {"reputation": 17, "user_id": 5576822, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37c7ca48cbfdb35b372c84cab8d46726?s=128&d=identicon&r=PG&f=1", "display_name": "Roger Federer", "link": "https://stackoverflow.com/users/5576822/roger-federer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1474060624, "creation_date": 1474009051, "last_edit_date": 1474009770, "question_id": 39525453, "link": "https://stackoverflow.com/questions/39525453/calling-one-perl-file-from-the-second-perl-file-while-taking-variables-of-second", "title": "calling one perl file from the second perl file while taking variables of second file", "body": "<p>I want to know if this is possible. the file a.pm has few variables that will be required by b.pl. and b.pl is called by a.pm</p>\n\n<pre><code> a.pm\n    {\n    $var1,$var2;\n    system (perl b.pl);\n    }\n\nb.pl \n{\nprint \"$var1\";\n}\n</code></pre>\n\n<p>How do I make use of $var1 and $var2 to b.pl. I Do not want to pass as Command line arguments to b.pl</p>\n"}, {"tags": ["linux", "bash", "perl"], "comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 4, "creation_date": 1473998033, "post_id": 39523374, "comment_id": 66362381, "body": "you can also show your professor this: <a href=\"http://mywiki.wooledge.org/BashFAQ/082\" rel=\"nofollow noreferrer\">mywiki.wooledge.org/BashFAQ/082</a> on why <code>$()</code> is preferred over ``"}], "answers": [{"comments": [{"owner": {"reputation": 269, "user_id": 5517861, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2ac533628eea7ee7b9fc602f2f77756b?s=128&d=identicon&r=PG&f=1", "display_name": "Lance_P", "link": "https://stackoverflow.com/users/5517861/lance-p"}, "edited": false, "score": 0, "creation_date": 1473997309, "post_id": 39523413, "comment_id": 66362216, "body": "Oh, thank you so much. I was mistaking them for apostrophes on the replay of my professor&#39;s lecture."}, {"owner": {"reputation": 95060, "user_id": 89817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df253c3b6533949ea94f31f328f3e769?s=128&d=identicon&r=PG", "display_name": "Gordon Davisson", "link": "https://stackoverflow.com/users/89817/gordon-davisson"}, "edited": false, "score": 10, "creation_date": 1473997907, "post_id": 39523413, "comment_id": 66362341, "body": "This is one of the reasons that <code>$( )</code> (e.g. <code>EGG=$(perl -e &quot;print &#39;A&#39;x100&quot;)</code>) is preferred over backquotes -- it&#39;s much harder to misread."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 7, "last_activity_date": 1473997101, "creation_date": 1473997101, "answer_id": 39523413, "question_id": 39523374, "link": "https://stackoverflow.com/questions/39523374/executing-perl-scripts-within-variables-in-bash/39523413#39523413", "title": "Executing Perl Scripts Within Variables in Bash", "body": "<p>You need to use back ticks in the shell to capture a command's output.</p>\n\n<pre><code># EGG=`perl -e \"print 'A'x100\"`\n</code></pre>\n"}], "owner": {"reputation": 269, "user_id": 5517861, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2ac533628eea7ee7b9fc602f2f77756b?s=128&d=identicon&r=PG&f=1", "display_name": "Lance_P", "link": "https://stackoverflow.com/users/5517861/lance-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 39523413, "answer_count": 1, "score": 0, "last_activity_date": 1473997101, "creation_date": 1473996809, "question_id": 39523374, "link": "https://stackoverflow.com/questions/39523374/executing-perl-scripts-within-variables-in-bash", "title": "Executing Perl Scripts Within Variables in Bash", "body": "<p>Following my professors exact instructions, I am trying to create a variable named EGG that contains 100 'A's by running this command from my Kali VM:</p>\n\n<pre><code>root@kali:~# EGG='perl -e \"print 'A'x100\"'\n</code></pre>\n\n<p>This is my result when attempting to echo the variable:</p>\n\n<pre><code>root@kali:~# echo $EGG\nperl -e \"print Ax100\"\n</code></pre>\n\n<p>In my professor's demonstration, his variable contained 100 'A's as is expected.\nAny suggestions on how to fix this?</p>\n"}, {"tags": ["perl", "activestate"], "comments": [{"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 1, "creation_date": 1474013266, "post_id": 39522897, "comment_id": 66368167, "body": "This might help - <a href=\"http://superuser.com/questions/284342/what-are-path-and-other-environment-variables-and-how-can-i-set-or-use-them\" title=\"what are path and other environment variables and how can i set or use them\">superuser.com/questions/284342/&hellip;</a>"}, {"owner": {"reputation": 35, "user_id": 6837635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83db17ddc379f6bd429e8d549a86ff28?s=128&d=identicon&r=PG&f=1", "display_name": "WingedKnight", "link": "https://stackoverflow.com/users/6837635/wingedknight"}, "reply_to_user": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1474074842, "post_id": 39522897, "comment_id": 66397609, "body": "That link doesn&#39;t help. Setting the Windows <code>PATH</code> environment variable is only useful when a command is passed to the Windows shell directly, rather than in this case, which is a script filename being passed as a parameter to the Perl executable."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 6837635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83db17ddc379f6bd429e8d549a86ff28?s=128&d=identicon&r=PG&f=1", "display_name": "WingedKnight", "link": "https://stackoverflow.com/users/6837635/wingedknight"}, "edited": false, "score": 0, "creation_date": 1474009380, "post_id": 39522919, "comment_id": 66366250, "body": "I don&#39;t understand what you mean. There&#39;s no <code>.bashrc</code> file since the shell is the Windows command prompt, not Bash. If you mean adding the script directory to the Windows <code>%PATH%</code> environment variable, I already tried that, and it doesn&#39;t work; Perl apparently doesn&#39;t check the Windows <code>%PATH%</code> environment variable when deciding where to look for scripts."}, {"owner": {"reputation": 930, "user_id": 4511056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bb6c2868ac49ca03c83544133f34b3?s=128&d=identicon&r=PG&f=1", "display_name": "Secto Kia", "link": "https://stackoverflow.com/users/4511056/secto-kia"}, "edited": false, "score": 0, "creation_date": 1474018215, "post_id": 39522919, "comment_id": 66370850, "body": "You can&#39;t do what you are asking. Only executable programs are searched for in the path, not parameters. Your script isn&#39;t an executable. Putting the directory in %PATH% won&#39;t do anything. If you really want to just set a variable <code>set MYFILE=c:\\foo\\bar\\script.pl</code> then you can do <code>perl %MYFILE%</code>"}, {"owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 0, "creation_date": 1474032860, "post_id": 39522919, "comment_id": 66379936, "body": "it is possible to do it, see link <a href=\"http://stackoverflow.com/questions/23400030/windows-7-add-path\">stackoverflow.com/questions/23400030/windows-7-add-path</a>"}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "edited": false, "score": 0, "creation_date": 1474036096, "post_id": 39522919, "comment_id": 66382144, "body": "Feel free to edit my edit of your answer. :) I was excited when I heard about having bash on Windows, but apparently my versions of Windows 10 have all been too old."}, {"owner": {"reputation": 35, "user_id": 6837635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83db17ddc379f6bd429e8d549a86ff28?s=128&d=identicon&r=PG&f=1", "display_name": "WingedKnight", "link": "https://stackoverflow.com/users/6837635/wingedknight"}, "edited": false, "score": 0, "creation_date": 1474075721, "post_id": 39522919, "comment_id": 66397761, "body": "That <a href=\"http://www.stackoverflow.com/questions/23400030/windows-7-add-path\" title=\"windows 7 add path\">stackoverflow.com/questions/23400030/windows-7-add-path</a> link is about modifying the Windows <code>PATH</code> variable, which is only useful when a command is passed to the Windows shell directly, rather than in this case, which is a script filename being passed as a parameter to the Perl executable."}], "tags": [], "owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "is_accepted": false, "score": 0, "last_activity_date": 1474035690, "last_edit_date": 1495541781, "creation_date": 1473992815, "answer_id": 39522919, "question_id": 39522897, "link": "https://stackoverflow.com/questions/39522897/how-to-get-perl-to-automatically-look-in-specific-directories-for-scripts/39522919#39522919", "title": "How to Get Perl to Automatically Look in Specific Directories for Scripts?", "body": "<p>It's not a question of perl, it's more to do with your <code>$PATH</code> variable.</p>\n\n<p>If you are on the <em>newest</em> windows 10 you can add the directory to your <code>.bashrc</code> file by appending <code>export PATH=&lt;your directory here&gt;:$PATH</code> to the end of that file.</p>\n\n<p>Alternately, you can also add that directory to your PATH via menus. <a href=\"https://stackoverflow.com/questions/23400030/windows-7-add-path\">Edit Environment Variables via the \"Advanced\" section of \"System Properties\"</a>.</p>\n\n<p>Then restart your command window and you can run the script thus:</p>\n\n<pre><code>SomeScript.pl\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 6837635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83db17ddc379f6bd429e8d549a86ff28?s=128&d=identicon&r=PG&f=1", "display_name": "WingedKnight", "link": "https://stackoverflow.com/users/6837635/wingedknight"}, "edited": false, "score": 0, "creation_date": 1474160869, "post_id": 39551955, "comment_id": 66417808, "body": "Thank you so much! This works! I tried to upvote you, but as a new user, I apparently don&#39;t have enough reputation for the upvote to count."}, {"owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "reply_to_user": {"reputation": 35, "user_id": 6837635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83db17ddc379f6bd429e8d549a86ff28?s=128&d=identicon&r=PG&f=1", "display_name": "WingedKnight", "link": "https://stackoverflow.com/users/6837635/wingedknight"}, "edited": false, "score": 0, "creation_date": 1474207286, "post_id": 39551955, "comment_id": 66427541, "body": "I think maybe there is an option to flag/accept it as the answer. I&#39;m new too so I&#39;m not sure."}], "tags": [], "owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "is_accepted": true, "score": 2, "last_activity_date": 1474148022, "creation_date": 1474148022, "answer_id": 39551955, "question_id": 39522897, "link": "https://stackoverflow.com/questions/39522897/how-to-get-perl-to-automatically-look-in-specific-directories-for-scripts/39551955#39551955", "title": "How to Get Perl to Automatically Look in Specific Directories for Scripts?", "body": "<p>This is possible in at least some Windows Perls (I'm using Strawberry 5.24).</p>\n\n<ol>\n<li><p>Add the desired path to your Windows PATH.\nControl Panel > System > Advanced system settings > Environment variables</p></li>\n<li><p>Run perl with the -S switch.</p>\n\n<p>perl -S program.plx</p></li>\n</ol>\n\n<p>All the usual headaches of managing PATH apply (e.g. the first file with that name gets run).</p>\n"}], "owner": {"reputation": 35, "user_id": 6837635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83db17ddc379f6bd429e8d549a86ff28?s=128&d=identicon&r=PG&f=1", "display_name": "WingedKnight", "link": "https://stackoverflow.com/users/6837635/wingedknight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 39551955, "answer_count": 2, "score": 0, "last_activity_date": 1474148022, "creation_date": 1473992668, "last_edit_date": 1474010017, "question_id": 39522897, "link": "https://stackoverflow.com/questions/39522897/how-to-get-perl-to-automatically-look-in-specific-directories-for-scripts", "title": "How to Get Perl to Automatically Look in Specific Directories for Scripts?", "body": "<p>I have ActiveState Perl installed on a Windows machine.</p>\n\n<p>Now, suppose I have scripts, including one called <code>\"SomeScript.pl\"</code>, in this directory:</p>\n\n<pre><code>\"C:\\Example\\Foo\\Bar\\\"\n</code></pre>\n\n<p>How do I configure Perl to automatically look in that directory for scripts when it is passed a script path?</p>\n\n<p>For example, from the command line, I can run...:</p>\n\n<pre><code>perl C:\\Example\\Foo\\Bar\\SomeScript.pl\n</code></pre>\n\n<p>...just fine.</p>\n\n<p>But the following...:</p>\n\n<pre><code>perl SomeScript.pl\n</code></pre>\n\n<p>fails because Perl doesn't know to look in the <code>\"C:\\Example\\Foo\\Bar\\\"</code> directory. How do I configure Perl to automatically look in some specific directory for scripts when passed a script name from the command line?</p>\n"}, {"tags": ["perl", "pdf-generation", "cgi"], "comments": [{"owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 1, "creation_date": 1473981401, "post_id": 39521201, "comment_id": 66359056, "body": "Is this related to your previous question? (You never responded on it...). If so, and you are using that answer, you could probably handle it through CSS. Please advise on both questions."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": -1, "last_activity_date": 1473979461, "creation_date": 1473979461, "answer_id": 39521415, "question_id": 39521201, "link": "https://stackoverflow.com/questions/39521201/removing-a-line-from-html-pogramatically-through-open2/39521415#39521415", "title": "Removing a line from HTML Pogramatically through Open2", "body": "<p>Just break the HTML into two parts: one is common to both the formats, one is HTML specific:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nsub printHeader {\n    my ($outFH, $goes_to_html) = @_;\n\n    print $outFH &lt;&lt;'__HTML__';\nHere is the common text.\n__HTML__\n\n    print $outFH &lt;&lt;'__HTML__' if $goes_to_html;\nThis doesn't go to PDF.\n__HTML__\n\n}\n\nprint \"To HTML:\\n\";\nprintHeader(*STDOUT, 1);\n\nprint \"To PDF:\\n\";\nprintHeader(*STDOUT, 0);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1474002414, "creation_date": 1474002414, "answer_id": 39524048, "question_id": 39521201, "link": "https://stackoverflow.com/questions/39521201/removing-a-line-from-html-pogramatically-through-open2/39524048#39524048", "title": "Removing a line from HTML Pogramatically through Open2", "body": "<p>You could check the caller. If caller is <code>printFilePdf</code> then search and replace to delete unneeded data.</p>\n\n<pre><code>perldoc -f caller\n</code></pre>\n\n<hr>\n\n<p>As a side note: If you are using some templating engine like <a href=\"https://metacpan.org/pod/HTML::Template\" rel=\"nofollow\">HTML::Template</a> then it'd be lot easier. In that case you can put conditionals in HTML.</p>\n\n<pre><code>&lt;TMPL_IF NAME=\"NON_PDF\"&gt;\n  Some text that only gets displayed if NON_PDF is true!\n&lt;/TMPL_IF&gt;\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 6780437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3a4c11e152223b02b50c56099c73d8ca?s=128&d=identicon&r=PG&f=1", "display_name": "BlowFish", "link": "https://stackoverflow.com/users/6780437/blowfish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 39521415, "answer_count": 2, "score": 2, "last_activity_date": 1474002414, "creation_date": 1473978209, "question_id": 39521201, "link": "https://stackoverflow.com/questions/39521201/removing-a-line-from-html-pogramatically-through-open2", "title": "Removing a line from HTML Pogramatically through Open2", "body": "<p>I have a code that shows up in two different places, one is a browser html page, then the other is a downloaded PDF.  On this page there is a line that says \"print using the print button\" but of course that isn't on the PDF model so I would like to remove it when the function printFilePdf is run.  However I can't add (or I don't know how) a condition do the HTML that is in the method. </p>\n\n<pre><code>sub printHeader {\nmy ($outFH) = @_;\n\nmy ($sec, $min, $hour, $mday, $month, $year) = (localtime)[0, 1, 2, 3, 4, 5];\n$month++;\n$year += 1900;\n\nmy ($string) = scalar localtime(time());\n\nprint $outFH &lt;&lt;EOT;\n\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;THIS IS A TITLE&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;table width=\"640\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\"&gt;\n    &lt;tr&gt;\n        &lt;td class=\"bold\"&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td class=\"bold\"&gt;\n            &lt;div align=\"center\" class=\"header\"&gt;\n                I want to keep this line $string&lt;br&gt;\n            &lt;/div&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td class=\"bold\"&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td class=\"bold\" style=\"color: red; text-align: center\"&gt;\n            I also what to keep this line.\n        &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td class=\"bold\" style=\"color: red; text-align: center\"&gt;\n            This line is not needed when the printFilePdf function is run.\n        &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;/table&gt;\n\n   EOT\n\n    print $outFH qq(&lt;p align=\"center\"&gt;&amp;nbsp; &lt;/p&gt;);\n\n    print $outFH &lt;&lt;EOT;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n\nEOT\n\n}\n</code></pre>\n\n<p>Is there anyway to do this? Like add a name to the table row and in the method above say something like </p>\n\n<pre><code>if(!printFilePdf())\n{\n&lt;tr&gt;\n    &lt;td class=\"bold\" style=\"color: red; text-align: center\"&gt;\n        This line is not needed when the printFilePdf function is run.\n    &lt;/td&gt;\n&lt;/tr&gt;\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473985660, "post_id": 39521630, "comment_id": 66360004, "body": "From what I could tell this relates to the delimiters, <code>{}</code> and such. In other words, where the variable to interpolate starts and ends.  It doesn&#39;t talk about recognizing the variable <i>name</i>.  It&#39;s really puzzling."}], "tags": [], "owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "is_accepted": false, "score": 6, "last_activity_date": 1473980877, "creation_date": 1473980877, "answer_id": 39521630, "question_id": 39521060, "link": "https://stackoverflow.com/questions/39521060/why-are-etc-not-interpolated-in-strings/39521630#39521630", "title": "Why are @@, @!, @, etc. not interpolated in strings?", "body": "<p>Perl's documentation says that the result is \"not strictly predictable\".</p>\n\n<p>The following, from <code>perldoc perlop</code> (Perl 5.22.1), refers to interpolation of scalars. I presume it applies equally to arrays.</p>\n\n<blockquote>\n  <p>Note also that the interpolation code needs to make a decision on\n  where the interpolated scalar ends. For instance, whether\n  <code>\"a $x -&gt; {c}\"</code> really means:</p>\n\n<pre><code>\"a \" . $x . \" -&gt; {c}\";\n</code></pre>\n  \n  <p>or:</p>\n\n<pre><code>\"a \" . $x -&gt; {c};\n</code></pre>\n  \n  <p>Most of the time, the longest possible text that does not include\n  spaces between components and which contains matching braces or\n  brackets. because the outcome may be determined by voting based on\n  heuristic estimators, the result is not strictly predictable.\n  Fortunately, it's usually correct for ambiguous cases.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473985536, "post_id": 39521727, "comment_id": 66359983, "body": "Yet <code>say @@;</code> (or any of the others) prints just fine, so it recognizes the array. Further, the grammar description in <code>perldata</code> does not seem to exclude punctuation -- and I couldn&#39;t find a distinction between what may follow the sigil <code>$</code> vs the sigil <code>@</code>. Also, so does <code>say for @!;</code> work fine."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1473986348, "post_id": 39521727, "comment_id": 66360148, "body": "@zdim <code>say @@</code> works because the lexer treats things differently when it&#39;s inside a double-quoted string. The code melpomene refers to is <a href=\"https://github.com/Perl/perl5/blob/blead/toke.c#L3220\" rel=\"nofollow noreferrer\">here</a>. As you can see, it&#39;s hard-coded to look for only certain characters after <code>@</code> when doing string interpolation."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1473986528, "post_id": 39521727, "comment_id": 66360184, "body": "@ThisSuitIsBlackNot  Ah, thank you! I didn&#39;t get it that it&#39;s the interpolation code -- and was wondering.  Then I&#39;d call it ... a bug? The fact that it differs. I don&#39;t see a rationale for it."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 17, "last_activity_date": 1473981993, "last_edit_date": 1473981993, "creation_date": 1473981668, "answer_id": 39521727, "question_id": 39521060, "link": "https://stackoverflow.com/questions/39521060/why-are-etc-not-interpolated-in-strings/39521727#39521727", "title": "Why are @@, @!, @, etc. not interpolated in strings?", "body": "<p>Unfortunately I can't tell you why, but this restriction comes from code in <code>toke.c</code> that goes back to perl 5.000 (1994!). My best guess is that it's because Perl doesn't use any built-in array punctuation variables (except for <code>@-</code> and <code>@+</code>, added in 5.6 (2000)).</p>\n\n<p>The code in <code>S_scan_const</code> only interprets <code>@</code> as the start of an array if the following character is</p>\n\n<ul>\n<li>a word character (e.g. <code>@x</code>, <code>@_</code>, <code>@1</code>), or</li>\n<li>a <code>:</code> (e.g. <code>@::foo</code>), or</li>\n<li>a <code>'</code> (e.g. <code>@'foo</code> (this is the old syntax for <code>::</code>)), or</li>\n<li>a <code>{</code> (e.g. <code>@{foo}</code>), or</li>\n<li>a <code>$</code> (e.g. <code>@$foo</code>), or</li>\n<li>a <code>+</code> or <code>-</code> (the arrays <code>@+</code> and <code>@-</code>), but not in regexes.</li>\n</ul>\n\n<p>As you can see, the only punctuation arrays that are supported are <code>@-</code> and <code>@+</code>, and even then not inside a regex. Initially no punctuation arrays were supported; <code>@-</code> and <code>@+</code> were special-cased in 2000. (The exception in regex patterns was added to make <code>/[\\c@-\\c_]/</code> work; it used to interpolate <code>@-</code> first.)</p>\n\n<p>There is a workaround: Because <code>@{</code> is treated as the start of an array variable, the syntax <code>\"@{;}\"</code> works (but that doesn't help your golf code because it makes the code longer).</p>\n"}, {"tags": [], "owner": {"reputation": 30488, "user_id": 22483, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b337d1e52bf3d796a7728def67a602fd?s=128&d=identicon&r=PG", "display_name": "Randal Schwartz", "link": "https://stackoverflow.com/users/22483/randal-schwartz"}, "is_accepted": false, "score": 3, "last_activity_date": 1474383215, "creation_date": 1474383215, "answer_id": 39597351, "question_id": 39521060, "link": "https://stackoverflow.com/questions/39521060/why-are-etc-not-interpolated-in-strings/39597351#39597351", "title": "Why are @@, @!, @, etc. not interpolated in strings?", "body": "<p>Some things are just because \"Larry coded it that way\".  Or as I used to say in class, \"It works the way you think, provided you think like Larry thinks\", sometimes adding \"and it's my job to teach you how Larry thinks.\"</p>\n"}], "owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1171, "favorite_count": 3, "accepted_answer_id": 39521727, "answer_count": 3, "score": 23, "last_activity_date": 1474383215, "creation_date": 1473977283, "question_id": 39521060, "link": "https://stackoverflow.com/questions/39521060/why-are-etc-not-interpolated-in-strings", "title": "Why are @@, @!, @, etc. not interpolated in strings?", "body": "<p>First, please note that I ask this question out of curiosity, and I'm aware that using variable names like <code>@@</code> is probably not a good idea.</p>\n\n<p>When using doubles quotes (or <code>qq</code> operator), scalars and arrays are interpolated :  </p>\n\n<pre><code>$v = 5;\nsay \"$v\"; # prints: 5\n$@ = 6;\nsay \"$@\"; # prints: 6\n@a = (1,2);\nsay \"@a\"; # prints: 1 2\n</code></pre>\n\n<p>Yet, with array names of the form <code>@</code>+<em>special char</em> like <code>@@</code>, <code>@!</code>, <code>@,</code>, <code>@%</code>, <code>@;</code> etc, the array isn't interpolated :  </p>\n\n<pre><code>@; = (1,2);\nsay \"@;\"; # prints nothing\nsay @; ; # prints: 1 2\n</code></pre>\n\n<p>So here is my question : does anyone knows why such arrays aren't interpolated? Is it documented anywhere?  </p>\n\n<p>I couldn't find any information or documentation about that. There are too many articles/posts on google (or SO) about the basics of interpolation, so maybe the answer was just hidden in one of them, or at the 10th page of results..</p>\n\n<p><em>If you wonder why I could need variable names like those :</em>  </p>\n\n<ul>\n<li><p>The <code>-n</code> (and <code>-p</code> for that matter) flag adds a semicolon <code>;</code> at the end of the code (I'm not sure it works on every version of perl though). So I can make this program <code>perl -nE 'push@a,1;say\"@a\"}{say@a'</code> shorter by doing instead  <code>perl -nE 'push@;,1;say\"@;\"}{say@'</code>, because that last <code>;</code> convert <code>say@</code> to <code>say@;</code>. Well, actually I can't do that because <code>@;</code> isn't interpolated in double quotes. It won't be useful every day of course, but in some golfing challenges, why not!  </p></li>\n<li><p>It can be useful to obfuscate some code. (whether obfuscation is useful or not is another debate!)</p></li>\n</ul>\n"}, {"tags": ["json", "perl", "csv"], "comments": [{"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 2, "creation_date": 1473973087, "post_id": 39520245, "comment_id": 66356200, "body": "that&#39;s not JSON"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1473973181, "post_id": 39520245, "comment_id": 66356237, "body": "Do you have an idea about how you would like to represent that JSON in CSV? There is no general way to represent nested data structures in CSV, and you will have to specify something. It may help if you explained more about the background to your problem."}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "edited": false, "score": 0, "creation_date": 1473973348, "post_id": 39520245, "comment_id": 66356312, "body": "What have you tried so far? What Perl modules have you looked at for example, and why weren&#39;t they adequate for your task?"}, {"owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "edited": false, "score": 0, "creation_date": 1473973943, "post_id": 39520245, "comment_id": 66356586, "body": "@ Borodin. Thank you! Updated my question."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1473974036, "post_id": 39520245, "comment_id": 66356640, "body": "yes, that isn&#39;t JSON, it is dumped perl data.  eval() in perl will turn it back into a datastructure"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1473973711, "creation_date": 1473973711, "answer_id": 39520387, "question_id": 39520245, "link": "https://stackoverflow.com/questions/39520245/perl-convert-json-format-into-comma-separated-values/39520387#39520387", "title": "Perl convert JSON format into Comma separated values", "body": "<p>Use <a href=\"http://p3rl.org/JSON\" rel=\"nofollow\">JSON</a> to read JSON strings into Perl data structures. Then, use <a href=\"http://p3rl.org/Text::CSV_XS\" rel=\"nofollow\">Text::CSV_XS</a> to create the output in CSV format:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse JSON;\nuse Text::CSV_XS;\n\nmy $json = '[ {\n                \"name\" : \"Lee calls\",\n                \"empid\" : \"1289328\",\n                \"desc_id\" : \"descl23423..23431\"\n              },\n              {\n                \"name\" : \"Lee calls\",\n                \"empid\" : \"23431223\",\n                \"desc_id\" : \"descl23423..234324\"\n              } ]';\nmy $struct = decode_json($json);\n\nmy $csv = 'Text::CSV_XS'-&gt;new({ binary =&gt; 1, eol =&gt; \"\\n\" });\nopen my $OUT, '&gt;:encoding(UTF-8)', 'output.csv' or die $!;\n$csv-&gt;print($OUT, [ @$_{qw{ name empid desc_id }} ]) for @$struct;\nclose $OUT or die $!;\n</code></pre>\n"}], "owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2583, "favorite_count": 0, "closed_date": 1474022144, "answer_count": 1, "score": -1, "last_activity_date": 1473974099, "creation_date": 1473973052, "last_edit_date": 1473974099, "question_id": 39520245, "link": "https://stackoverflow.com/questions/39520245/perl-convert-json-format-into-comma-separated-values", "closed_reason": "Needs more focus", "title": "Perl convert JSON format into Comma separated values", "body": "<p>I am using web service that print output in JSON format as below,</p>\n\n<pre><code>{\n  'message' =&gt; '',\n  'data' =&gt; [\n              {\n                'name' =&gt; 'Lee calls',\n                'empid' =&gt; '1289328',\n                'desc_id' =&gt; 'descl23423..23431'\n              },\n              {\n                'name' =&gt; 'Lee calls',\n                'empid' =&gt; '23431223',\n                'desc_id' =&gt; 'descl23423..234324'\n              }\n            ],\n  'status' =&gt; 'success'\n};\n</code></pre>\n\n<p>I just need to convert the 'Data' item values into a CSV format. The need is, i have to create perl file which will be executed in the CLI(Command line interface) or a Linux terminal. So the perl will pull content from the Webservice and have to convert the JSON output into CSV format. </p>\n\n<p>Can you suggest me on this how to do?</p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 4, "creation_date": 1473971053, "post_id": 39519591, "comment_id": 66355178, "body": "You forgot to <code>chomp $filename</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 3, "creation_date": 1473972532, "post_id": 39519591, "comment_id": 66355933, "body": "You got the answer to solve the problem, to <code>chomp</code> the filename to be opened.  But also note -- the <code>foreach (&lt;$fh&gt;)</code> reads all lines into a list and then iterates through that.  Once you are reading from a filehandle you want to do it line-by-line (unless there is a <i>very</i> specific reason not to), so use <code>while (&lt;$fh&gt;)</code> instead. Btw, to just print out lines you can do <code>print while &lt;$fh1&gt;;</code> (but for more processing you mostly do need a loop, of course)."}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 1, "creation_date": 1473973058, "post_id": 39519591, "comment_id": 66356185, "body": "Why <code>chomp; print &quot;$_\\n&quot;</code> instead of just <code>print &quot;$_&quot;</code>?  That is, why remove the newline and just to add it back in?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 2, "creation_date": 1473973886, "post_id": 39519591, "comment_id": 66356555, "body": "@WilliamPursell: As it stands I agree that it it wasteful. But it can be considered good practice if there is any chance that there may be additional processing between the <code>chomp</code> and the <code>print</code>. After all, the entire <code>foreach</code> can be contracted to <code>print &lt;$fh1&gt;</code>. Would you advocate that? It&#39;s along the same lines as adding a superfluous comma after the last element of a list, or decoding all input and encoding all output and working only in Unicode characters. Both of those are recognised as being good practice, and I wouldn&#39;t fault the unnecessary <code>chomp</code> that you picked up. But nor would"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1473974021, "post_id": 39519591, "comment_id": 66356625, "body": "@WilliamPursell: But nor would I correct dropping the <code>chomp</code> for a simple <code>print</code>. (Note that the double quotes in your <code>print &quot;$_&quot;</code> are <i>very</i> wrong, and <code>$_</code> is the default parameter for <code>print</code>.)"}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1474026614, "post_id": 39519591, "comment_id": 66375904, "body": "Don&#39;t get why many use <code>foreach</code> when <code>for</code> is a perfectly good synonym."}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1474026687, "post_id": 39519591, "comment_id": 66375947, "body": "...and instead of <code>print &quot;$_&quot;</code> just <code>print</code> is even shorter:)"}], "answers": [{"tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1486819179, "last_edit_date": 1486819179, "creation_date": 1474027295, "answer_id": 39530995, "question_id": 39519591, "link": "https://stackoverflow.com/questions/39519591/perl-print-the-contents-of-multiple-files-after-reading-the-file-list-from-a-fi/39530995#39530995", "title": "Perl: print the contents of multiple files after reading the file list from a file", "body": "<pre><code>  open my $fh_list, '&lt;', '/tmp/datafile.txt' or die;\n  while(&lt;$fh_list&gt;){\n    chomp;\n    open my $fh, '&lt;', $_ or die \"Cannot read $_\\n\";\n    print while &lt;$fh&gt;;\n    close $fh;\n  }\n  close $fh_list;\n</code></pre>\n\n<p>...or using <code>File::Slurp</code> and given enough memory this could simply be:</p>\n\n<pre><code>use File::Slurp;\nprint read_file($_) for map{chomp;$_} read_file('/tmp/datafile.txt');\n</code></pre>\n\n<p>And of course you could skip perl altogether with this linux command:</p>\n\n<pre><code>cat /tmp/datafile.txt | xargs cat\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 6836881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c145c9cbd56933e6158bc0200bd144f8?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/6836881/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1486819179, "creation_date": 1473970361, "last_edit_date": 1473974754, "question_id": 39519591, "link": "https://stackoverflow.com/questions/39519591/perl-print-the-contents-of-multiple-files-after-reading-the-file-list-from-a-fi", "title": "Perl: print the contents of multiple files after reading the file list from a file", "body": "<p>My datafile.txt has the list of filenames:</p>\n\n<pre><code>/tmp/dir1/file1\n/tmp/dir2/file2\n/tmp/dir3/file3\n...\n/tmp/dir100/file100\n</code></pre>\n\n<p>I want my Perl script to read this datafile.txt file and let it print the content of each file from datafile.txt.</p>\n\n<p>That is, how can I accomplish the following in Perl?</p>\n\n<pre><code>for file in `cat datafile.txt`; do\n       cat $file\ndone\n</code></pre>\n\n<p>I tried the following and have difficulty:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen(my $fh, '&lt;', '/tmp/datafile.txt');\n\nforeach my $filename (&lt;$fh&gt;) {\n        open(my $fh1, '&lt;', $filename);\n        foreach(&lt;$fh1&gt;) {\n                chomp;\n                print \"$_\\n\";\n        }\n        close $fh1;\n}\n\nclose $fh;\n</code></pre>\n"}, {"tags": ["perl", "cgi"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6655140, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a39bede9434bfecf0dfdee4de91f5a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/6655140/allen"}, "edited": false, "score": 0, "creation_date": 1473974188, "post_id": 39518416, "comment_id": 66356705, "body": "As you mentioned I&#39;ve totally confused myself trying to understand what technology to use to properly implement what I&#39;m trying to do. Let me explain what this form is trying to achieve maybe you can guide me better. the form I&#39;ve posted in my question is the second page of my mini application, first page is like a mini login page where I asks the user to input their name and last name. 2nd page is the form and the 3rd page is just displaying and emailing of the results(and the results are input from 1st and 2nd page)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 81, "user_id": 6655140, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a39bede9434bfecf0dfdee4de91f5a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/6655140/allen"}, "edited": false, "score": 0, "creation_date": 1473975944, "post_id": 39518416, "comment_id": 66357421, "body": "@Allen: I think it may be useful for you to look through an HTTP tutorial. The computer where someone is running a browser (Firefox, Chrome etc: the client) generates requests, and is completely separate from the system that generates the HTML response (the server). The simplest request is someone typing in a URL to their browser&#39;s address field. The URL dictates what HTML the server returns. Filling in a form on the browser produces a more complex URL, with a different result when they press <b>Send</b>. You should see what Google can find for &quot;HTTP tutorial&quot;, and Wikipedia is usually good."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474011957, "post_id": 39518416, "comment_id": 66367543, "body": "Actually CGI.pm does not offer those HTML generation functions any more. After CGI was removed from the core, those got taken out of CGI.pm and moved into <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI/HTML/Functions.pod\" rel=\"nofollow noreferrer\">CGI::HTML::Functions</a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 81, "user_id": 6655140, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a39bede9434bfecf0dfdee4de91f5a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/6655140/allen"}, "edited": false, "score": 0, "creation_date": 1474020803, "post_id": 39518416, "comment_id": 66372529, "body": "@Allen: There is normally no connection between one request from a client and the next. By the time the browser sends the second page, the data entered into the first has been forgotten. The solution is to use cookies, which is a way of storing data so that it persists across HTTP transactions. You can either store all the information in a database on the server, and keep only a session ID (a database key) as a cookie, or if the data isn&#39;t sensitive then you can store all of it as cookies."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1473972483, "last_edit_date": 1592644375, "creation_date": 1473965720, "answer_id": 39518416, "question_id": 39518066, "link": "https://stackoverflow.com/questions/39518066/how-to-decide-whether-or-not-use-perl-cgi-vs-regular-html-output/39518416#39518416", "title": "How to decide whether or not use Perl CGI vs regular HTML output", "body": "<h3>Update</h3>\n<p>I've looked at your question again, and it seems like you've become so entrenched in what <code>CGI</code> offers that you've got yourself lost</p>\n<blockquote>\n<p>But if create such a form using a regular HTML page, will I be able to interact with user input from a Perl script?</p>\n</blockquote>\n<p>Whatever your program does, and however it does it, it <em><strong>must</strong></em> send an ordinary HTML page back to the browser that made the original request. There is nothing magical about the various <code>start_form</code>, <code>start_table</code>, <code>Tr</code>, <code>td</code> etc. functions that <code>CGI</code> makes available: it is supposed to be a more convenient way of generating HTML using Perl syntax</p>\n<p>Generating HTML is nothing to do with the CGI protocol, and many people felt that it was inappropriate to include that sort of functionality in a module called <code>CGI</code>. That lead to things such as <a href=\"https://metacpan.org/pod/HTML::Tiny\" rel=\"nofollow noreferrer\"><code>HTML::Tiny</code></a>, which provides HTML construction functions similar to <code>CGI</code></p>\n<p>Other functions grew to provide <em><strong>just</strong></em> support for the CGI protocol, such as <a href=\"https://metacpan.org/pod/CGI::Minimal\" rel=\"nofollow noreferrer\"><code>CGI::Minimal</code></a></p>\n<p>There are many more examples of the separate implementation of both aspects of the original <code>CGI.pm</code>, but you are concerned about whether you can interact with a use via HTTP</p>\n<p>Once again, there is <em>nothing special</em> about the functions that <code>CGI.pm</code> makes available. You should run an old CGI program from the command line to see that it just generates the string of HTML that you have prescribed in your calls, and you could have created that in any way that was convenient</p>\n<p>Once the HTML has been built and sent to the client, it makes no difference <em>how</em> the message was built. The page will be displayed on the browser and it will offer the user the chance to request more information</p>\n<p>I hope that's clearer for you?</p>\n<br/>\n<hr />\n<p>Take a look at <a href=\"http://search.cpan.org/%7Eleejo/CGI-Alternatives-0.14/lib/CGI/Alternatives.pm\" rel=\"nofollow noreferrer\"><code>CGI::Alternatives</code></a> for options other than CGI</p>\n<p>But you're talking about constructing HTML, which is nothing to do with CGI, and one of the main criticisms of the module was that it wrapped too much functionality into a single box</p>\n<p>You should focus on using a template package to build your HTML, and one of the most popular is <a href=\"http://search.cpan.org/%7Eabw/Template-Toolkit-2.26/lib/Template.pm\" rel=\"nofollow noreferrer\"><code>Template::Toolkit</code></a></p>\n<p>You probably have additional CSS styling and JavaScript intelligence, which should be linked from your HTML as separate files</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473971634, "post_id": 39519459, "comment_id": 66355462, "body": "All other things cast aside, I will always prefer Mojolicious. But it is rare that the time to learn Mojo can be accommodated in the development of a new web page.For something like an <b><i>Under Construction</i></b> page I will always go for a simple CGI script. And until <a href=\"https://metacpan.org/pod/PSGI\" rel=\"nofollow noreferrer\">PSGI</a> is more than just documentation I am sure that many others will agree with me."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1474015622, "post_id": 39519459, "comment_id": 66369310, "body": "Given that PSGI is a specification, it&#39;s hard to see how it can ever become more than documentation :-) <a href=\"https://metacpan.org/pod/Plack\" rel=\"nofollow noreferrer\">Plack</a> is the toolkit for writing PSGI-compliant apps (but I&#39;m sure you already know that)."}], "tags": [], "owner": {"reputation": 2246, "user_id": 830741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0685bc4f9d869526098968f72812ab75?s=128&d=identicon&r=PG", "display_name": "frezik", "link": "https://stackoverflow.com/users/830741/frezik"}, "is_accepted": false, "score": -1, "last_activity_date": 1473969835, "creation_date": 1473969835, "answer_id": 39519459, "question_id": 39518066, "link": "https://stackoverflow.com/questions/39518066/how-to-decide-whether-or-not-use-perl-cgi-vs-regular-html-output/39519459#39519459", "title": "How to decide whether or not use Perl CGI vs regular HTML output", "body": "<p>The fall of CGI.pm came from two directions. The HTML-building methods were always an ugly duckling, with some form of template being preferred. At the other side, the methods that handled interaction with the client (CGI) were superseded first by mod_perl (which has its own library for this sort of thing), and later by frameworks like Dancer and Mojolicious.</p>\n\n<p>Those frameworks also incorporate templates. There's very little reason to learn the old style CGI anymore, unless you're maintaining old code. There's also plenty of debate between the Dancer and Mojo camps; I'd suggest picking one, learning it on one project, and then take up the other on another project.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1474016617, "last_edit_date": 1474016617, "creation_date": 1474015351, "answer_id": 39527172, "question_id": 39518066, "link": "https://stackoverflow.com/questions/39518066/how-to-decide-whether-or-not-use-perl-cgi-vs-regular-html-output/39527172#39527172", "title": "How to decide whether or not use Perl CGI vs regular HTML output", "body": "<p>For a browser to present an HTML page to a user, the web sever has to return an HTTP response that includes the required HTML in the body. Sometimes that HTML is returned from a static file and sometimes it is generated by some server-side application.</p>\n\n<p>The browser doesn't care (and, indeed, is unlikely to know) how that HTML is generated. All it knows is that it has received an HTTP response with a Content-Type of text/html and a body consisting of HTML which it needs to parse and render.</p>\n\n<p>So you have a couple of options. You can write a static HTML file that contains your form. Or you can write a Perl program that generates it. Either of these options makes no difference to the browser. You have chosen to write a Perl program. There are various technologies that you can use to implement this. I wouldn't recommend CGI these days (see <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow\">CGI:Alternatives</a> for some suggestions) but let's assume that we're going with that.</p>\n\n<p>(It's also worth pointing out here that CGI - the protocol - is not the same thing as CGI.pm the library that is often used to write Perl programs that run under the protocol. You don't need to use CGI.pm to write a CGI program.)</p>\n\n<p>CGI.pm used to include helper functions for generating HTML. These are now deprecated and have been moved to a separate module. There are many reasons for their deprecation. The most obvious one is probably that on many projects, the people designing and implementing the front-end of the site are different people to the ones writing the back-end code. If a front-end developer already needs to know HTML, CSS and Javascript, it's slightly unfair to expect them to know Perl as as - which they would need in order to edit the web pages using the HTML generation functions. Even in a situation where I am the only person working on a site, I find that enforcing a strict separation between the front- and back-end technologies helps to keep the code cleaner.</p>\n\n<p>So I really wouldn't recommend using those functions. No-one would, as far as I can see. Instead. I would use a templating system. In particular, I'd use the <a href=\"http://tt2.org/\" rel=\"nofollow\">Template Toolkit</a> (that's a personal preference, but <a href=\"http://shop.oreilly.com/product/9780596004767.do\" rel=\"nofollow\">I'm slightly biased</a>).</p>\n\n<p>With a templating engine, you can put all of your HTML code in a completely separate file which your front-end team can own and edit in whatever way they choose. Then, when your back-end code needs to display the HTML page, it can use template-processing functions to do that. A (very!) simple example might look like this:</p>\n\n<p>In template.cgi:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Template;\nuse CGI qw[header param]; # Only use two functions from CGI.pm\n\nprint header;\n\nmy $tt = Template-&gt;new;\n\nif (my $name = param('name')) {\n  $tt-&gt;process('output.tt', { name =&gt; $name })\n    or die $tt-&gt;error;\n} else {\n  $tt-&gt;process('form.tt')\n    or die $tt-&gt;error;\n}\n</code></pre>\n\n<p><code>form.tt</code> would look like this:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;&lt;title&gt;What's your name?&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;\n    &lt;form enctype=\"multipart/form-data\"&gt;\n    Enter name: &lt;input name=\"name\" /&gt;\n    &lt;/form&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And <code>output.tt</code> would look like this:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;&lt;title&gt;Welcome [% name %]&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Hello [% name %]&lt;/h1&gt;\n    &lt;p&gt;Pleased to meet you.&lt;/p&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 6655140, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a39bede9434bfecf0dfdee4de91f5a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/6655140/allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 39518416, "answer_count": 3, "score": 2, "last_activity_date": 1474016617, "creation_date": 1473964322, "last_edit_date": 1473972387, "question_id": 39518066, "link": "https://stackoverflow.com/questions/39518066/how-to-decide-whether-or-not-use-perl-cgi-vs-regular-html-output", "title": "How to decide whether or not use Perl CGI vs regular HTML output", "body": "<p>I've discovered that CGI is no longer recommended when it comes to creating HTML pages, but my search for answers as to where the use of <a href=\"https://metacpan.org/pod/CGI\" rel=\"nofollow\"><code>CGI</code></a> is appropriate has caused more confusion than answers.</p>\n\n<p>I apologise if my question is basic, but I'm hoping that an answer to my question will help to clarify some things.</p>\n\n<p>I'm being told not to create a form like this:</p>\n\n<pre><code>sub output_form {\n    my ($q) = @_;\n\n\n    print $q-&gt;start_form(\n        -name =&gt; 'main',\n        -method =&gt; 'POST',\n    );\n\n    print $q-&gt;start_table;\n\n    print $q-&gt;Tr(\n      $q-&gt;td('Update#:'),\n      $q-&gt;td(\n        $q-&gt;textfield(-name =&gt; \"update_num\", -size =&gt; 02)\n      )\n    );\n\n    print $q-&gt;Tr(\n      $q-&gt;td('Date:'),\n      $q-&gt;td(\n        $q-&gt;textfield(-name =&gt; \"date\",-id =&gt; \"datepicker\")\n      )\n    );\n\n    print $q-&gt;Tr(\n      $q-&gt;td('Location:'),\n      $q-&gt;td(\n        $q-&gt;textfield(-name =&gt; \"location\", -size =&gt; 50)\n      )\n    );\n\n    print $q-&gt;Tr(\n      $q-&gt;td('Queue:'),\n      $q-&gt;td(\n        $q-&gt;textfield(-name =&gt; \"queue\", -size =&gt; 50)\n      )\n    );\n\n    print $q-&gt;Tr(\n      $q-&gt;td('ETO:'),\n      $q-&gt;td(\n        $q-&gt;textfield(-name =&gt; \"eto\", -size =&gt; 50)\n      )\n    );\n\n    print $q-&gt;Tr(\n      $q-&gt;td('CAD#:'),\n      $q-&gt;td(\n        $q-&gt;textfield(-name =&gt; \"cad\", -size =&gt; 50)\n      )\n    );\n\n    print $q-&gt;Tr(\n      $q-&gt;td('Remarks:'),\n      $q-&gt;td(\n        $q-&gt;textfield(-name =&gt; \"remarks\", -size =&gt; 50)\n    )\n</code></pre>\n\n<p>But if I create such a form using a regular HTML page, will I be able to interact with user input from a Perl script?</p>\n"}, {"tags": ["perl", "attributes", "moo"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1473954963, "post_id": 39515183, "comment_id": 66346779, "body": "this is not a code-writing service. It&#39;s to help with specific code issues. Please show us what you&#39;ve already got, and explain the specific problem area you&#39;re having trouble with."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1473956496, "post_id": 39515183, "comment_id": 66347634, "body": "I&#39;ll gladly help you, but you haven&#39;t done anything at all yet so I don&#39;t see what I can do to help."}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1473959591, "post_id": 39515183, "comment_id": 66349280, "body": "I&#39;ve added my solution attempt"}, {"owner": {"reputation": 5203, "user_id": 3995261, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/54754c59e35649b7d22d70b72ce2989a?s=128&d=identicon&r=PG&f=1", "display_name": "YakovL", "link": "https://stackoverflow.com/users/3995261/yakovl"}, "edited": false, "score": 0, "creation_date": 1473960761, "post_id": 39515183, "comment_id": 66349881, "body": "So how your solutions fails to do what you want? The question &#39;are there &quot;more structured&quot; or &quot;more declarative&quot; ways to do this?&#39; sounds very unclear; if you solved your issue with your code, you should either show a specific technical reason why it&#39;s not suitable for you or this becomes too broad/opinion based for SO."}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1473968482, "post_id": 39515183, "comment_id": 66353919, "body": "I&#39;ve added a complete example with my implementation. But it produces errors which I do not understand. Please help"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1474009302, "creation_date": 1474009302, "answer_id": 39525522, "question_id": 39515183, "link": "https://stackoverflow.com/questions/39515183/automatic-conversion-of-empty-string-to-undef-in-perl-moo-objects/39525522#39525522", "title": "Automatic conversion of empty string to undef in Perl Moo objects", "body": "<p>Why not use a coercion with the <code>coerce</code> attribute <a href=\"https://v1.metacpan.org/pod/Moo#has\" rel=\"nofollow\">in <code>has</code></a>? That seems to be the most simple and straightforward way.</p>\n\n<pre><code>package Foo;\nuse Moo;\n\nhas bar =&gt; (\n    is     =&gt; 'rw',\n    coerce =&gt; sub { $_[0] eq q{} ? undef : $_[0] },\n);\n</code></pre>\n\n<p>Here's what objects look like then.</p>\n\n<pre><code>package main;\nuse Data::Printer;\np my $foo1 = Foo-&gt;new( bar =&gt; q{} );\np my $foo2 = Foo-&gt;new( bar =&gt; 123 );\np my $foo3 = Foo-&gt;new;\n\n__END__\n\nFoo  {\n    Parents       Moo::Object\n    public methods (2) : bar, new\n    private methods (0)\n    internals: {\n        bar   undef\n    }\n}\nFoo  {\n    Parents       Moo::Object\n    public methods (2) : bar, new\n    private methods (0)\n    internals: {\n        bar   123\n    }\n}\nFoo  {\n    Parents       Moo::Object\n    public methods (2) : bar, new\n    private methods (0)\n    internals: {}\n}\n</code></pre>\n\n<hr>\n\n<p>In Moose you can also define your own type that derives from your <code>Str</code> and has a built-in coercion. Then you can make all your attributes of that type and turn coercion on. </p>\n\n<p>To make Moo behave like that, look at the documentation of <code>has</code> and the attribute <code>isa</code>, which is right above <code>coerce</code> (linked above).</p>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 39525522, "answer_count": 1, "score": 1, "last_activity_date": 1474009302, "creation_date": 1473954033, "last_edit_date": 1473968288, "question_id": 39515183, "link": "https://stackoverflow.com/questions/39515183/automatic-conversion-of-empty-string-to-undef-in-perl-moo-objects", "title": "Automatic conversion of empty string to undef in Perl Moo objects", "body": "<p>For some fields of a Perl Moo object I want to replace empty string when it is assigned to the field with <code>undef</code>.</p>\n\n<p>That is I want: <code>$obj-&gt;x(\"\")</code> to make the field <code>x</code> undefined.</p>\n\n<p>Please help to develop a Moo extension which does this.</p>\n\n<hr>\n\n<p>A possible way to do this:</p>\n\n<pre><code>sub make_field_undef {\n  my ($class, $field_name) = @_;\n  eval \"package $class\";\n  around $field_name =&gt; sub {\n    my $orig = shift;\n    my $self = shift;\n    my @args = @_;\n    if(@args &gt;= 1) {\n      $args[0] = undef if defined $args[0] &amp;&amp; $args[0] eq '';\n    }\n    $orig-&gt;($self, @args);\n  };\n}\n</code></pre>\n\n<p>But are there \"more structured\" or \"more declarative\" ways to do this? Any other ways to do this?</p>\n\n<hr>\n\n<p>A complete example with my implementation of it follows. But running it produces errors which I do not understand:</p>\n\n<pre><code>package UndefOnEmpty;\nuse Moo;\n\nsub auto_undef_fields { () }\n\nsub make_fields_undef {\n  my ($class) = @_;\n  eval \"package $class\";\n  around [$class-&gt;auto_undef_fields] =&gt; sub {\n    my $orig = shift;\n    my $self = shift;\n    my @args = @_;\n    if(@args &gt;= 1) {\n      $args[0] = undef if defined $args[0] &amp;&amp; $args[0] eq '';\n    }\n    $orig-&gt;($self, @args);\n  };\n  around 'BUILD' =&gt; {\n    my ($self, $args) = @_;\n    foreach my $field_name ($class-&gt;auto_undef_fields) {\n      $args-&gt;{$field_name} = undef if defined $args-&gt;{$field_name} &amp;&amp; $args-&gt;{$field_name} eq \"\";\n    }\n  };\n}\n\n1;\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre><code>#!/usr/bin/perl\n\npackage X;\nuse Moo;\nuse lib '.';\nextends 'UndefOnEmpty';\nuse Types::Standard qw(Str Int Maybe);\nuse Data::Dumper;\n\nhas 'x' =&gt; (is=&gt;'rw', isa=&gt;Maybe[Str]);\nhas 'y' =&gt; (is=&gt;'rw', isa=&gt;Maybe[Str]);\n\nsub auto_undef_fields { qw(x y) }\n__PACKAGE__-&gt;make_fields_undef;\n\nmy $obj = X-&gt;new(x=&gt;\"\");\n$obj-&gt;y(\"\");\nprint Dumper $obj-&gt;x, $obj-&gt;y;\n</code></pre>\n\n<p>Here are the errors:</p>\n\n<pre><code>$ ./test.pl \n\"my\" variable $class masks earlier declaration in same scope at UndefOnEmpty.pm line 20.\n\"my\" variable $args masks earlier declaration in same statement at UndefOnEmpty.pm line 21.\n\"my\" variable $field_name masks earlier declaration in same statement at UndefOnEmpty.pm line 21.\n\"my\" variable $args masks earlier declaration in same statement at UndefOnEmpty.pm line 21.\n\"my\" variable $field_name masks earlier declaration in same statement at UndefOnEmpty.pm line 21.\nsyntax error at UndefOnEmpty.pm line 20, near \"foreach \"\nCompilation failed in require at /usr/share/perl5/Module/Runtime.pm line 317.\n</code></pre>\n\n<p>Please help to understand what are the causes of the errors.</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473954590, "post_id": 39514493, "comment_id": 66346514, "body": "are you positive this is the code you&#39;re running? it works fine for me. What does <code>perl -MImager -E &#39;say $Imager::VERSION&#39;</code> say? I&#39;ve got version 1.005"}, {"owner": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "edited": false, "score": 0, "creation_date": 1474014058, "post_id": 39514493, "comment_id": 66368536, "body": "Mine is 1.005 as well"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "edited": false, "score": 0, "creation_date": 1474011017, "post_id": 39515708, "comment_id": 66367070, "body": "I am sorry for over looking that, I will keep a notice of that from now on. Thanks Also now I have posted the complete code I am using at the moment"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "edited": false, "score": 0, "creation_date": 1474012390, "post_id": 39515708, "comment_id": 66367767, "body": "So what I guessed at yesterday was accurate. See my update."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "edited": false, "score": 0, "creation_date": 1474018315, "post_id": 39515708, "comment_id": 66370915, "body": "I&#39;m glad we fixed your current problem. But, more importantly, I hope you&#39;ve learned a couple more tricks that will help you track down your next problems yourself :-)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 0, "last_activity_date": 1474012354, "last_edit_date": 1474012354, "creation_date": 1473955684, "answer_id": 39515708, "question_id": 39514493, "link": "https://stackoverflow.com/questions/39514493/object-method-not-found-in-perl-module-imager/39515708#39515708", "title": "Object method not found in Perl module : Imager", "body": "<p>Is that error really generated by the code that you show us? Line 1950 of Imager.pm is this piece of code:</p>\n\n<pre><code>my $index = 1;\nfor my $img (@images) {\n  unless ($img-&gt;_valid_image(\"write_multi\")) { # Line 1950 here\n    $class-&gt;_set_error($img-&gt;errstr . \" (image $index)\");\n    return;\n  }\n  ++$index;\n}\n</code></pre>\n\n<p>This is inside a subroutine called <code>write_multi()</code> which is passed <code>@images</code> as one (or, really, several I suppose) of its parameters. The code you have shown us is all about reading files, not writing them.</p>\n\n<p>Looking more closely at the error message, its meaning is clear. It is trying to call the <code>_valid_image()</code> method on an image object. But instead of having an image object, it has a string which is the image filename. So it seems that somewhere, you are calling <code>write_multi()</code> passing it an array of image filenames where you should be passing it an array of image objects. Without seeing your real code, I can't be much more help.</p>\n\n<blockquote>\n  <p>So I installed the Perl modules <code>cpan Imager::valid_image</code> and tried with adding <code>use Imager::valid_image;</code> or <code>use Imager::_valid_image;</code></p>\n</blockquote>\n\n<p>That's just crazy talk! The error message is very clear that <code>_valid_image</code> is a method name, not a module name.</p>\n\n<p>Always read the error message carefully. Someone put a lot of effort into making it as clear as possible.</p>\n\n<p><strong>Update:</strong> Ok. Now you've posted more of the code. And it looks like the problem is exactly as I said. Here's what I said yesterday:</p>\n\n<blockquote>\n  <p>So it seems that somewhere, you are calling <code>write_multi()</code> passing it an array of image filenames where you should be passing it an array of image objects.</p>\n</blockquote>\n\n<p>And here's your code:</p>\n\n<pre><code>Imager-&gt;write_multi({ ... }, @images) or die Imager-&gt;errstr;\n</code></pre>\n\n<p>The important variable here is <code>@images</code>. How is <code>@images</code> populated?</p>\n\n<pre><code>my @images = File::Find::Rule-&gt;file()\n                             -&gt;name( '*.bmp' )\n                             -&gt;in( @path );\n</code></pre>\n\n<p>So <code>@images</code> contains a list of image filenames. Not a list of image objects.</p>\n\n<p>Look at your main loop.</p>\n\n<pre><code>foreach my $filename(@images)\n{\n    my $img = Imager-&gt;new;\n    $img-&gt;read(file=&gt;$filename, type=&gt;$type)\n        or die \"Cannot read $filename: \", $img-&gt;errstr;\n}\n</code></pre>\n\n<p>Here you loop over your array of image filenames and each time round the loop, you create a new Imager object. And then, when you get to the end of the loop iteration, you throw the object away. That's not a good idea.</p>\n\n<p>You probably want to create a new array containing your image objects. Something like this perhaps.</p>\n\n<pre><code>@my @image_objects;\nforeach my $filename(@images)\n{\n    my $img = Imager-&gt;new;\n    $img-&gt;read(file=&gt;$filename, type=&gt;$type)\n        or die \"Cannot read $filename: \", $img-&gt;errstr;\n    push @image_objects, $img;\n}\n</code></pre>\n\n<p>Then you should pass this new array to <code>write_multi()</code>.</p>\n\n<pre><code>Imager-&gt;write_multi({ ... }, @image_objects) or die Imager-&gt;errstr;\n</code></pre>\n\n<p>In your defence, <a href=\"https://metacpan.org/pod/distribution/Imager/lib/Imager/Files.pod#write_multi\" rel=\"nofollow\">the documentation for <code>write_multi()</code></a> isn't exactly clear. It says:</p>\n\n<blockquote>\n  <p><strong>write_multi()</strong></p>\n  \n  <p>and if you want to write multiple images to a single file use the write_multi() method:</p>\n\n<pre><code>Imager-&gt;write_multi({ file=&gt; $filename, type=&gt;$type }, @images)\n  or die \"Cannot write $filename: \", Imager-&gt;errstr;\n</code></pre>\n</blockquote>\n\n<p>But it never bothers to tell you what should be in <code>@images</code>.</p>\n"}], "owner": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 39515708, "answer_count": 1, "score": -2, "last_activity_date": 1474012354, "creation_date": 1473951992, "last_edit_date": 1474010956, "question_id": 39514493, "link": "https://stackoverflow.com/questions/39514493/object-method-not-found-in-perl-module-imager", "title": "Object method not found in Perl module : Imager", "body": "<p>I am trying to use Imager module to generate gif images but I am getting an error</p>\n\n<blockquote>\n  <p>Can't locate object method \"_valid_image\"\n  Can't locate object method \"_valid_image\" via package \"D:\\work...graph1.bmp\" (perhaps you forgot to load \"D:\\work...\\graph1.bmp\"?) at C:/Perl/site/lib/Imager.pm line 1950.</p>\n</blockquote>\n\n<p>I checked the .pm file for the module and the named function is well defined in it.</p>\n\n<p>The code snippet that I am using:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Find::Rule;\nuse Imager;\nmy @path = $ARGV[0];\n\nmy @images = File::Find::Rule-&gt;file()\n                            -&gt;name( '*.bmp' )\n                            -&gt;in( @path );\nmy $type = 'bmp';\nforeach my $filename(@images)\n{\n    my $img = Imager-&gt;new;\n    $img-&gt;read(file=&gt;$filename, type=&gt;$type) or die \"Cannot read $filename: \", $img-&gt;errstr;\n}\nmy $filename1 = 'ctpdbn';\nImager-&gt;write_multi({ file=&gt;$filename1, type=&gt;'bmp' }, @images) or die Imager-&gt;errstr;\n</code></pre>\n\n<p>So I installed the Perl modules <code>cpan Imager::valid_image</code> and tried with adding <code>use Imager::valid_image;</code> or <code>use Imager::_valid_image;</code>, but it threw another error </p>\n\n<blockquote>\n  <p>Can't locate Imager/valid_image.pm in @INC (you may need to install the Imager::valid_image module) (@INC\n   contains: C:/Perl/site/lib C:/Perl/lib .) at make_gif.pl line 14.</p>\n</blockquote>\n\n<p>Really sorry for not putting up the complete code, I missed the part where actually the error is coming. Now I have updated it</p>\n"}, {"tags": ["arrays", "perl", "menu", "output"], "comments": [{"owner": {"reputation": 11, "user_id": 6778092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049b75209e13c752b664885f6fb71691?s=128&d=identicon&r=PG&f=1", "display_name": "Bravofox", "link": "https://stackoverflow.com/users/6778092/bravofox"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1473951077, "post_id": 39513873, "comment_id": 66344168, "body": "Sorry about that. I just need help to send the cleansed output (after the series of &#39;if&#39;) into a table, so that I get a result like that:  Cell 01 - Address: 40:5A:9B:E1:A0:E6, Channel: 6, Quality=36/70, Encryption key: on, ESSID:&quot;CYPE France&quot;"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1473951260, "post_id": 39513873, "comment_id": 66344302, "body": "You are probably looking for a combination of <code>push</code> and array references or hash references so that you could do something like this: <code>push @TABLE, [$cell, $address, $channel, $freq, $qty1, $qty2, $encrypt, $sid, $group];</code> Later you would <code>print &quot;@$_\\n&quot; foreach @TABLE;</code>  Beware, though, there are many other problems, such as <code>$group</code> being assigned <code>$1</code> without any capturing, and <code>[^Cipher]</code> is probably not what you think.  I suggest reading <code>perldoc perlintro</code>, <code>perldoc perlreftut</code>, and <code>perldoc perlretut</code> as well as <code>perldoc perlsub</code> for starters."}, {"owner": {"reputation": 11, "user_id": 6778092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049b75209e13c752b664885f6fb71691?s=128&d=identicon&r=PG&f=1", "display_name": "Bravofox", "link": "https://stackoverflow.com/users/6778092/bravofox"}, "edited": false, "score": 0, "creation_date": 1473951699, "post_id": 39513873, "comment_id": 66344608, "body": "Thank you for your reply. Yes, there are other problems. It&#39;s not finished yet. About group, I forgot to finish by (.*). [^Cipher] is to forget Cipher during the parsing. No, I haven&#39;t read perldoc or perlintro yet. I&#39;m gonna do it. But what would really help me is a way to get this done, so that I can learn from it, instead of losing days trying to understand and guess it."}, {"owner": {"reputation": 11, "user_id": 6778092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049b75209e13c752b664885f6fb71691?s=128&d=identicon&r=PG&f=1", "display_name": "Bravofox", "link": "https://stackoverflow.com/users/6778092/bravofox"}, "edited": false, "score": 0, "creation_date": 1473952054, "post_id": 39513873, "comment_id": 66344846, "body": "I forgot to mention that I have a tutor who forbids me to use push. Yeah, I know... He really, really wants me to do it his way. The problem is that I haven&#39;t got around his way yet, and I&#39;m afraid I won&#39;t within a short time, for his hasn&#39;t enough time to explain things nicely to me. I&#39;m just left with tutorials and forums and,, to tell the truth, I&#39;m really tired not to find out how it works."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1473952312, "post_id": 39513873, "comment_id": 66345006, "body": "<code>[^Cipher]</code> means that the string &quot;A Cipher&quot; would match, because your character class matches any single character that is not one of (C, i, p, h, e, r).  &quot;A&quot; is not one of those characters, so the string matches.  Anyway, SO is here to help you learn to code, not to get your project done quickly."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1473952384, "post_id": 39513873, "comment_id": 66345053, "body": "If you aren&#39;t allowed to use <code>push</code> (a silly constraint unless there is a valid reason we don&#39;t know about), invert the loop and use <code>my @TABLE= map {...} @tab;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6778092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049b75209e13c752b664885f6fb71691?s=128&d=identicon&r=PG&f=1", "display_name": "Bravofox", "link": "https://stackoverflow.com/users/6778092/bravofox"}, "edited": false, "score": 0, "creation_date": 1473955063, "post_id": 39515289, "comment_id": 66346839, "body": "Thank you very, very much. I&#39;ve understood your remarks."}, {"owner": {"reputation": 11, "user_id": 6778092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049b75209e13c752b664885f6fb71691?s=128&d=identicon&r=PG&f=1", "display_name": "Bravofox", "link": "https://stackoverflow.com/users/6778092/bravofox"}, "edited": false, "score": 0, "creation_date": 1473955810, "post_id": 39515289, "comment_id": 66347242, "body": "From here, I need to print the table showing the details of each cell on one line at a time, then ask the user which network he wishes to connect to, then ask for the corresponding wifi key."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 11, "user_id": 6778092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049b75209e13c752b664885f6fb71691?s=128&d=identicon&r=PG&f=1", "display_name": "Bravofox", "link": "https://stackoverflow.com/users/6778092/bravofox"}, "edited": false, "score": 0, "creation_date": 1473955988, "post_id": 39515289, "comment_id": 66347342, "body": "Ok. And how do you want to do that? What kind of output device are you using? Is this a terminal window or a web page or what? What problems are you having? Has my code got you any closer? Please answer these questions by editing the information into your original post."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1473954406, "creation_date": 1473954406, "answer_id": 39515289, "question_id": 39513873, "link": "https://stackoverflow.com/questions/39513873/perl-send-command-result-into-array-and-create-choice-menu/39515289#39515289", "title": "Perl send command result into array and create choice menu", "body": "<pre><code>my $result =  `iwlist wlan1 scan`;\n\n...\n\nmy @tab = split(/\\n/, $result);\n</code></pre>\n\n<p>That code can all be replaced with:</p>\n\n<pre><code>my @tab = `iwlist wlan1 scan`;\n</code></pre>\n\n<p>In fact, I'd probably be tempted to leap straight to:</p>\n\n<pre><code>foreach my $line (`iwlist wlan1 scan`)\n</code></pre>\n\n<p>You have a lot of blocks that look like this.</p>\n\n<pre><code>if  ($line =~ /Cell/) \n{\n    $line =~ /Cell (\\d\\d)/;\n    $cell = $1;\n}\n</code></pre>\n\n<p>You can combine the first two lines.</p>\n\n<pre><code>if ($line ~ /Cell (\\d\\d)/) {\n    $cell = $1;\n}\n</code></pre>\n\n<p>After carefully setting all of your variables like <code>$cell</code>, you then overwrite them all with undefined values.</p>\n\n<pre><code>($cpt, $cell, $address, $channel, $freq, $qty1, $qty2, $encrypt, $sid, $group) = @TABLE;\n</code></pre>\n\n<p>I think you probably wanted:</p>\n\n<pre><code>push @TABLE, [$cpt, $cell, $address, $channel, $freq, $qty1, $qty2, $encrypt, $sid, $group];\n</code></pre>\n\n<p>Or, if you're determined not to use <code>push()</code> (which, as others have said, is completely bizarre):</p>\n\n<pre><code>$TABLE[@TABLE] =  [$cpt, $cell, $address, $channel, $freq, $qty1, $qty2, $encrypt, $sid, $group];\n</code></pre>\n\n<p>You'll then want to print out something about each network that you have found.</p>\n\n<pre><code>foreach (@TABLE) {\n  say \"$_-&gt;[1]\"; # The second element (index 1) is the cell\n}\n</code></pre>\n\n<p>It's not really clear where you want to go from there. But hopefully that will get you a bit further.</p>\n"}], "owner": {"reputation": 11, "user_id": 6778092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049b75209e13c752b664885f6fb71691?s=128&d=identicon&r=PG&f=1", "display_name": "Bravofox", "link": "https://stackoverflow.com/users/6778092/bravofox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473954406, "creation_date": 1473950159, "question_id": 39513873, "link": "https://stackoverflow.com/questions/39513873/perl-send-command-result-into-array-and-create-choice-menu", "title": "Perl send command result into array and create choice menu", "body": "<p>I must put the processing of the result from a scan of surrounding wifi networks into a nicely presented list, from which one can just pick up the network they want to connect to, enter wifi key and get connected.</p>\n\n<p>I'm quite new to Perl and I must admit that I've already gone through numerous tutorials and forums, yet I still have great trouble figuring out how to get the proper syntax regarding the handling of arrays and hashes.</p>\n\n<p>Here's where I stopped in my code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $result =  `iwlist wlan1 scan`;\n\nmy @TABLE;\n\nmy ($line, $cell, $address, $channel, $freq, $qty, $qty1, $qty2, $encrypt, $sid, $group);\n\nmy $cpt = 1;\n\nmy @tab = split(/\\n/, $result);\n\nforeach $line (@tab)\n{\n    $line =~ s/^\\s+//;\n\n        if  ($line =~ /Cell/) \n        {\n            $line =~ /Cell (\\d\\d)/;\n            $cell = $1;\n                        }               \n\n        if  ($line =~ /Address/)\n        {\n            $line =~ /Address: (.*)/;\n            $address = $1;                  \n        }\n\n        if  ($line =~ /^Channel/)\n        {\n            $line =~ /Channel:(\\d+)/;\n            $channel = $1;                              \n        }\n\n        if  ($line =~ /Frequency/)\n        {\n            $line =~ /Frequency:(\\d\\.\\d\\d\\d) GHz/;\n            $freq = $1;             \n        }\n\n        if  ($line =~ /Quality/)\n        {\n            $line =~ /Quality=(\\d\\d)\\/(\\d\\d)/;\n            $qty1 = $1;\n            $qty2 = $2;             \n        }\n\n        if  ($line =~ /Encryption/)\n        {\n            $line =~ /Encryption key:(.*)/;\n            $encrypt = $1;              \n        }\n\n        if  ($line =~ /ESSID/)\n        {\n            $line =~ /ESSID:(.*)/;\n            $sid = $1;              \n        }\n\n        if  ($line =~ /Group/)\n        {\n            $line =~ /[^Cipher]/;\n            $group = $1;                \n        }\n\n($cpt, $cell, $address, $channel, $freq, $qty1, $qty2, $encrypt, $sid, $group) = @TABLE;\n\nforeach $line (@TABLE)\n{\nprint $line;\n}\n\n}\n\n\n#print \"Choisissez le r\u00e9seau auquel vous voulez vous connecter : \";\n#my $choice = &lt;&gt;;\n#chomp $choice;\n\n#if ($choice = $cell)\n#{\n#   print \"Entrez la cl\u00e9 wifi : \"\n#   my $key = &lt;&gt;;\n#   chomp $key;\n\n#   `iwconfig eth0 $sid $key`;\n#   `dhcpcd eth0`;\n#}\n\n#else\n#   print \"Num\u00e9ro de r\u00e9seau invalide.\"\n#   exit(0);\n\n#   foreach my $key (sort keys %TABLE)\n#   {\n#           print 'key=$key '. $TABLE{$key}{'Cell'}.\"\\n\";\n#   }\n</code></pre>\n\n<p>Any help would be <strong>greatly</strong> appreciated!</p>\n"}]