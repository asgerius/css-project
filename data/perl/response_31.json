[{"tags": ["windows", "perl", "batch-file"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1439415300, "post_id": 31975706, "comment_id": 51858278, "body": "This looks more than a bit misguided, but if opening in append mode really does test if the file is open elsewhere, then there is no reason you can&#39;t do that in Perl code. Or, put the batch file in a known location and use <code>system</code>. The problem is, if I open a file in Notepad, this test fails."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1439419007, "post_id": 31975706, "comment_id": 51859567, "body": "@Sinan &#220;n&#252;r, Re &quot;The problem is, if I open a file in Notepad, this test fails.&quot;, I don&#39;t think the OP needs a general solution."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 5029672, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc101ef95bf7b137b9d234cba4ba76d?s=128&d=identicon&r=PG&f=1", "display_name": "aqqq", "link": "https://stackoverflow.com/users/5029672/aqqq"}, "edited": false, "score": 0, "creation_date": 1439416176, "post_id": 31975852, "comment_id": 51858590, "body": "@ikegami- this has confused me a bit. wat exactly does the 2nd and 3rd code do ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 73, "user_id": 5029672, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc101ef95bf7b137b9d234cba4ba76d?s=128&d=identicon&r=PG&f=1", "display_name": "aqqq", "link": "https://stackoverflow.com/users/5029672/aqqq"}, "edited": false, "score": 1, "creation_date": 1439416209, "post_id": 31975852, "comment_id": 51858604, "body": "Don&#39;t you want to execute the batch &quot;file&quot;? That&#39;s what the second snippet does. The third is the Perl equivalent of your batch file."}, {"owner": {"reputation": 73, "user_id": 5029672, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc101ef95bf7b137b9d234cba4ba76d?s=128&d=identicon&r=PG&f=1", "display_name": "aqqq", "link": "https://stackoverflow.com/users/5029672/aqqq"}, "edited": false, "score": 0, "creation_date": 1439416340, "post_id": 31975852, "comment_id": 51858645, "body": "@ikegami- Yea, so i have to write all these code to execute. i am a newbie in perl and using windows batch file inside perl code is confusing me more."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 73, "user_id": 5029672, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc101ef95bf7b137b9d234cba4ba76d?s=128&d=identicon&r=PG&f=1", "display_name": "aqqq", "link": "https://stackoverflow.com/users/5029672/aqqq"}, "edited": false, "score": 0, "creation_date": 1439416408, "post_id": 31975852, "comment_id": 51858666, "body": "You need a shell to execute the batch &quot;file&quot;, and you have to feed it the batch file somehow, so yeah, you need all that. All that just to see if <code>open</code> succeeds and store the result in a file, trivial things to do in Perl."}, {"owner": {"reputation": 73, "user_id": 5029672, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc101ef95bf7b137b9d234cba4ba76d?s=128&d=identicon&r=PG&f=1", "display_name": "aqqq", "link": "https://stackoverflow.com/users/5029672/aqqq"}, "edited": false, "score": 0, "creation_date": 1439416706, "post_id": 31975852, "comment_id": 51858778, "body": "@ikegami- it is giving me error and i am not able to understand wat the error is. can you please suggest"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 73, "user_id": 5029672, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc101ef95bf7b137b9d234cba4ba76d?s=128&d=identicon&r=PG&f=1", "display_name": "aqqq", "link": "https://stackoverflow.com/users/5029672/aqqq"}, "edited": false, "score": 2, "creation_date": 1439416747, "post_id": 31975852, "comment_id": 51858794, "body": "I have a problem too. please suggest."}, {"owner": {"reputation": 73, "user_id": 5029672, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc101ef95bf7b137b9d234cba4ba76d?s=128&d=identicon&r=PG&f=1", "display_name": "aqqq", "link": "https://stackoverflow.com/users/5029672/aqqq"}, "edited": false, "score": 0, "creation_date": 1439417469, "post_id": 31975852, "comment_id": 51859046, "body": "@ikegami- the function which starts with use IPC::Open3 qw( open3 ); in above code of yours is giving me an error."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 73, "user_id": 5029672, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc101ef95bf7b137b9d234cba4ba76d?s=128&d=identicon&r=PG&f=1", "display_name": "aqqq", "link": "https://stackoverflow.com/users/5029672/aqqq"}, "edited": false, "score": 2, "creation_date": 1439418552, "post_id": 31975852, "comment_id": 51859403, "body": "What error?! No, don&#39;t tell me, cause I don&#39;t care. Let me be clear: Involving a shell to check if you can open a file is a very dumb thing to do. Especially since it involves open countless files in the process. You shouldn&#39;t be using that. You should be using the code I posted at the bottom."}, {"owner": {"reputation": 73, "user_id": 5029672, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc101ef95bf7b137b9d234cba4ba76d?s=128&d=identicon&r=PG&f=1", "display_name": "aqqq", "link": "https://stackoverflow.com/users/5029672/aqqq"}, "edited": false, "score": 0, "creation_date": 1439419276, "post_id": 31975852, "comment_id": 51859650, "body": "@Ikegami- got it. so the last code is the perl code which performs the same action as the windows batch file. so i should avoid all the earlier ones and only use this to see if the file is open or not. right &gt;?"}, {"owner": {"reputation": 73, "user_id": 5029672, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc101ef95bf7b137b9d234cba4ba76d?s=128&d=identicon&r=PG&f=1", "display_name": "aqqq", "link": "https://stackoverflow.com/users/5029672/aqqq"}, "edited": false, "score": 0, "creation_date": 1439419966, "post_id": 31975852, "comment_id": 51859852, "body": "@ikegami- can you pls confirm the last code is correct. it doesnt work for me. i have excluded all the batch script and only used ur last code function"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1439423231, "last_edit_date": 1439423231, "creation_date": 1439415478, "answer_id": 31975852, "question_id": 31975706, "link": "https://stackoverflow.com/questions/31975706/execute-batch-file-inside-perl/31975852#31975852", "title": "execute batch file inside perl", "body": "<p>Just as with HTML,</p>\n\n<pre><code>&lt;&lt;'end_of_file'\n@echo off 2&gt;nul (&gt;&gt;test.csv echo off) &amp;&amp; ( set ret=0) || (set ret=1)\n@echo.%ret%&gt;test.txt\nend_of_file\n</code></pre>\n\n<p>I suspect your question is how to get <code>cmd</code> to execute the commands you have in a variable.</p>\n\n<pre><code>use IPC::Open3 qw( open3 );\n\nmy $shell_commands = &lt;&lt;'end_of_file';\n@echo off 2&gt;nul (&gt;&gt;test.csv echo off) &amp;&amp; ( set ret=0) || (set ret=1)\n@echo.%ret%&gt;test.txt\nend_of_file\n\n{\n   pipe(local *R, local *W) or die($!);\n\n   my $pid = open3('&lt;&amp;R', '&gt;&amp;STDOUT', '&gt;&amp;STDERR', 'cmd');\n   print(W $shell_commands);\n   print(W \"exit\\n\");  \n   close(W);\n   waitpid($pid, 0);\n}\n</code></pre>\n\n<p>By why would you want to use <code>cmd</code> to check if you can open a file?! Use the following instead:</p>\n\n<pre><code>my $ret = open(my $fh, '&gt;&gt;', test.csv) ? 0 : 1;\nopen(my $result_fh, '&gt;', 'test.txt') or die($!);\nprint($result_fh \"$ret\\n\");\n</code></pre>\n\n<p>By the way, in both versions, a permission error will result in the file being reported as open, and it will report an open file as closed if it was opened shared.</p>\n"}], "owner": {"reputation": 73, "user_id": 5029672, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc101ef95bf7b137b9d234cba4ba76d?s=128&d=identicon&r=PG&f=1", "display_name": "aqqq", "link": "https://stackoverflow.com/users/5029672/aqqq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1439423231, "creation_date": 1439414777, "question_id": 31975706, "link": "https://stackoverflow.com/questions/31975706/execute-batch-file-inside-perl", "title": "execute batch file inside perl", "body": "<p>How could i execute a windows batch file inside perl ??</p>\n\n<p>Here is the batch file</p>\n\n<pre><code>@echo off 2&gt;nul (&gt;&gt;test.csv echo off) &amp;&amp; ( set ret=0) || (set ret=1)\n@echo.%ret%&gt;test.txt\n</code></pre>\n\n<p>The above code checks if a file named test.csv is open or not. If open, it wil return 1 or else it wil return 0. I have saved this result in a test.txt file. </p>\n\n<p>If i use any html code inside of a perl file, i use this to exclude the html code. </p>\n\n<pre><code>print &lt;&lt;end_of_file; \n     &lt;html&gt;\n          html code inside this\n    &lt;/html&gt;\nend_of_file\n</code></pre>\n\n<p>Can someone suggest me how to include the batch file inside a perl code in similar fashion. </p>\n"}, {"tags": ["perl", "oop", "memory-management", "memory-leaks", "reference"], "answers": [{"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439402770, "post_id": 31971850, "comment_id": 51851697, "body": "Could you elaborate?  You seem to be saying that it would not be a problem, but specifically how does Perl handle memory in a way that this would not happen?"}], "tags": [], "owner": {"reputation": 586, "user_id": 5216673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb5d8b8e0713574ae9a4836651a39e56?s=128&d=identicon&r=PG", "display_name": "thrig", "link": "https://stackoverflow.com/users/5216673/thrig"}, "is_accepted": false, "score": 0, "last_activity_date": 1439400815, "creation_date": 1439400815, "answer_id": 31971850, "question_id": 31971633, "link": "https://stackoverflow.com/questions/31971633/perl-memory-management-when-overwriting-objects/31971850#31971850", "title": "Perl memory management when overwriting objects", "body": "<p>There's reference counting garbage collection. I'm not seeing anything in your code that would trip up said. Even if there were, there's weaken in Scalar::Util, among other options.</p>\n"}, {"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439403387, "post_id": 31972515, "comment_id": 51852024, "body": "I need the information because I have code that creates an object and stores it in a variable, then later if some condition is met, it uses the same variable and creates a new object.  It is essentially the same situation portrayed in the question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 1, "creation_date": 1439403463, "post_id": 31972515, "comment_id": 51852070, "body": "@tjwrona1992: Okay, but you&#39;re in the same situation as thousands of other programmers who haven&#39;t needed to ask about this. Are you encountering a memory leak?"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439403463, "post_id": 31972515, "comment_id": 51852071, "body": "The way I am using it, there are no references to itself so I think I am safe.  Thanks @Borodin"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 1, "creation_date": 1439403629, "post_id": 31972515, "comment_id": 51852176, "body": "@tjwrona1992: It is also much safer to avoid package variables, and use only lexical variables declared with <code>my</code>. Lexical variables will be destroyed automatically as they go out of scope, and so reduce the count of any reference that they may have contained. Package variables, declared with <code>our</code>, will exist for ther lifetime of the process and won&#39;t trigger this safeguard"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439403703, "post_id": 31972515, "comment_id": 51852218, "body": "I know, I&#39;m not using any package variables.  I was just wondering if the object would remain in memory after the reference is lost (which can happen even in a lexical context)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439403798, "post_id": 31972515, "comment_id": 51852274, "body": "@tjwrona1992: Okay, I&#39;ve just trying to dump as much as I can think of that is relevant so that anyone else seeking similar information is satisfied"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1439403735, "last_edit_date": 1439403735, "creation_date": 1439403220, "answer_id": 31972515, "question_id": 31971633, "link": "https://stackoverflow.com/questions/31971633/perl-memory-management-when-overwriting-objects/31972515#31972515", "title": "Perl memory management when overwriting objects", "body": "<p>You're misunderstanding the way parameter passing works. <code>$object</code> becomes a newly-created reference whose <em>contents</em> may be affected by the data passed to the constructor <code>new</code>, but it won't be a reference to hashes <code>%data1</code> or <code>%data2</code> themselves as <code>new</code> is given only key/value contents of those hashes</p>\n\n<p>The bottom line of your question seems to be whether Perl is smart enough to deallocate objects when they are no longer used, and the answer is that it is, yes</p>\n\n<p>Perl keeps a count of references to each data item, and if that ever falls to zero (i.e. there is no longer any way to reach that data) then the data is considered to be available for reuse</p>\n\n<p>The only case where Perl can cause a memory leack is when a data structure contains a reference to itself. In that case the number of external references may fall to zero, but the data keeps itself from being deleted by its own reference keeping the count from falling to zero</p>\n\n<p>It is also much safer to avoid package variables, and use only lexical variables declared with <code>my</code>. Lexical variables will be destroyed automatically as they go out of scope, and so reduce the count of any reference that they may have contained. Package variables, declared with <code>our</code>, will exist for ther lifetime of the process and won't trigger this safeguard</p>\n\n<p>If you explain a little more about why you need this information then I am sure you will get much better answers</p>\n"}, {"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439403590, "post_id": 31972581, "comment_id": 51852158, "body": "Good to know.  I will keep Scalar::Util in mind if I ever have a similar situation where there are circular references."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1439403458, "creation_date": 1439403458, "answer_id": 31972581, "question_id": 31971633, "link": "https://stackoverflow.com/questions/31971633/perl-memory-management-when-overwriting-objects/31972581#31972581", "title": "Perl memory management when overwriting objects", "body": "<p>Perl uses a method called reference counting - it counts how many times a variable is referenced. It keeps that data in memory until the reference count drops to zero. </p>\n\n<p>In your example, the first object created will disappear automatically as soon as you reassign <code>$object</code>. However there's a caveat - if <em>within</em> your object and the <code>new</code> process you create a circular reference, this won't happen. You can use <code>weaken</code> within <code>Scalar::Util</code> to deal with this. </p>\n\n<p>You can watch it by creating a <code>DESTROY</code> method, which is called when an object is 'freed'. </p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1439412456, "post_id": 31974608, "comment_id": 51856834, "body": "Great explanation. A good ASCII art diagram is worth a thousand words :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1439433908, "post_id": 31974608, "comment_id": 51863124, "body": "@Borodin, You are wrong. <a href=\"http://perldoc.perl.org/functions/bless.html\" rel=\"nofollow noreferrer\"><code>bless</code></a> &quot;tells the thingy referenced by REF that it is now an object in the CLASSNAME package.&quot; See for yourself using <code>perl -MDevel::Peek -e&#39;Dump(bless(\\%hash));&#39;</code> and <code>perl -e&#39;bless(\\%hash); (\\%hash)-&gt;foo&#39;</code>. The former shows the OBJECT flag and STASH field attached to the hash, not the ref. The latter shows the class of the object is known even though the reference used was created after bless was called."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1439464238, "post_id": 31974608, "comment_id": 51877697, "body": "@ikegami: Yes, of course you&#39;re right. I remember I worked this out for myself years ago, but there is still so much talk of a <i>blessed reference</i> that I fell for it. It&#39;s presumably because <code>bless</code> takes a reference, and you can&#39;t <code>bless %hash</code>, but presumably that&#39;s just a convenience for <code>bless</code>&#39;s prototype"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439555246, "post_id": 31974608, "comment_id": 51922376, "body": "Interesting, that is good to know.  I have reworded my question so it no longer refers to objects as &quot;blessed references.&quot;"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 8, "last_activity_date": 1566405796, "last_edit_date": 1566405796, "creation_date": 1439410714, "answer_id": 31974608, "question_id": 31971633, "link": "https://stackoverflow.com/questions/31971633/perl-memory-management-when-overwriting-objects/31974608#31974608", "title": "Perl memory management when overwriting objects", "body": "<p>Given</p>\n\n<pre><code>package Object {\n   sub new { my $class = shift; bless({ @_ }, $class) }\n}\n\nmy $object = Object-&gt;new( a =&gt; 1, b =&gt; 2 );\n</code></pre>\n\n<p>Before the second assignment, you have</p>\n\n<pre><code>           +============+   +==========+\n$object --&gt;[ Reference ----&gt;[ Blessed  ]\n           +============+   [ Hash     ]\n                            [          ]   +==========+\n                            [ a: ---------&gt;[ 1        ]\n                            [          ]   +==========+\n                            [          ]\n                            [          ]   +==========+\n                            [ b: ---------&gt;[ 2        ]\n                            [          ]   +==========+\n                            +==========+\n</code></pre>\n\n<p>(The arrows represent pointers.)</p>\n\n<p>Perl uses reference counting to determine when to free variables. As part of the assignment, the reference count of the variable currently referenced by the name (the Reference) will be decremented, causing it to be freed<sup>[1]</sup>. This will drop the reference count of the hash, causing it to be freed<sup>[1]</sup>. This will drop the reference count of the values, causing them to be freed<sup>[1]</sup>.</p>\n\n<hr>\n\n<p>In Perl, you get memory leaks when you have cyclic references.</p>\n\n<pre><code>{\n   my $parent = Node-&gt;new();\n   my $child = Node-&gt;new();\n   $parent-&gt;{children} = [ $child ];\n   $child-&gt;{parent} = $parent;\n}\n</code></pre>\n\n<p>Before exiting the block, you have</p>\n\n<pre><code>$parent               +----------------------------------------------------+\n |                    |                                                    |\n |   +============+   +--&gt;+==========+                                     |\n +--&gt;[ Reference --------&gt;[ Blessed  ]                                     |\n     +============+       [ Hash     ]                                     |\n                          [          ]   +==========+                      |\n                          [ children ---&gt;[ Array    ]                      |\n                          [          ]   [          ]   +============+     |\n                          +==========+   [ 0: ---------&gt;[ Reference ----+  |\n                                         [          ]   +============+  |  |\n                                         +==========+                   |  |\n                                                                        |  |\n$child                +-------------------------------------------------+  |\n |                    |                                                    |\n |   +============+   +--&gt;+==========+                                     |\n +--&gt;[ Reference --------&gt;[ Blessed  ]                                     |\n     +============+       [ Hash     ]                                     |\n                          [          ]   +============+                    |\n                          [ parent: ----&gt;[ Reference ----------------------+\n                          [          ]   +============+\n                          +==========+\n</code></pre>\n\n<p>After existing the block, you have</p>\n\n<pre><code>                      +----------------------------------------------------+\n                      |                                                    |\n                      +--&gt;+==========+                                     |\n                          [ Blessed  ]                                     |\n                          [ Hash     ]                                     |\n                          [          ]   +==========+                      |\n                          [ children ---&gt;[ Array    ]                      |\n                          [          ]   [          ]   +============+     |\n                          +==========+   [ 0: ---------&gt;[ Reference ----+  |\n                                         [          ]   +============+  |  |\n                                         +==========+                   |  |\n                                                                        |  |\n                      +-------------------------------------------------+  |\n                      |                                                    |\n                      +--&gt;+==========+                                     |\n                          [ Blessed  ]                                     |\n                          [ Hash     ]                                     |\n                          [          ]   +============+                    |\n                          [ parent: ----&gt;[ Reference ----------------------+\n                          [          ]   +============+\n                          +==========+\n</code></pre>\n\n<p>The memory didn't get freed because everything is still being referenced because there's a reference cycle. Since you have no way of accessing this structure (no variable names reference anything in it), it's a memory leak.</p>\n\n<hr>\n\n<ol>\n<li>Assuming nothing else references (points to) those variables.</li>\n</ol>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 31974608, "answer_count": 4, "score": 3, "last_activity_date": 1566405796, "creation_date": 1439400062, "last_edit_date": 1439555157, "question_id": 31971633, "link": "https://stackoverflow.com/questions/31971633/perl-memory-management-when-overwriting-objects", "title": "Perl memory management when overwriting objects", "body": "<p>My question is about how Perl manages the data of objects internally.</p>\n\n<p>When creating objects in Perl, the new subroutine will typically return a reference to a blessed object.</p>\n\n<p><strong><em>Take the following code as an example:</em></strong></p>\n\n<pre><code># Create a new object\nmy $object = Object-&gt;new(%data1);\n\n# Create a new object with the same variable\n$object = Object-&gt;new(%data2);\n</code></pre>\n\n<hr>\n\n<p><strong><em>From the first call to <code>new</code> we create an <code>$object</code> that references some blessed <code>%data1</code></em></strong></p>\n\n<blockquote>\n  <p>Visual representation:</p>\n  \n  <p><em>The \"\\\" symbolizes a reference.</em></p>\n</blockquote>\n\n<pre><code>$object \u2550\u2550\u2550\u2550&gt; \\{bless %data1}\n</code></pre>\n\n<blockquote>\n  <p>This would look as follows in memory:</p>\n  \n  <p><em>The \"&amp;\" symbolizes an address</em></p>\n</blockquote>\n\n<pre><code>MEMORY:\n----------------------------------\n&amp;{bless %data1} \u2550\u2550\u2550\u2550&gt; bless %data1\n</code></pre>\n\n<hr>\n\n<p><strong><em>Then with the second call to <code>new</code> the value of <code>$object</code> is changed to reference some other blessed <code>%data2</code></em></strong></p>\n\n<blockquote>\n  <p>Visual representation:</p>\n</blockquote>\n\n<pre><code>$object \u2550\u2550/ /\u2550\u2550&gt; \\{bless %data1}  # The connection to %data1 is broken\n   \u2551\n   \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550&gt; \\{bless %data2}\n</code></pre>\n\n<blockquote>\n  <p>Now memory would look like this:</p>\n</blockquote>\n\n<pre><code>MEMORY:\n----------------------------------\n&amp;{bless %data1} \u2550\u2550\u2550\u2550&gt; bless %data1\n&amp;{bless %data2} \u2550\u2550\u2550\u2550&gt; bless %data2\n</code></pre>\n\n<hr>\n\n<p>The problem is now that <code>$object</code> no longer stores the reference <code>\\{bless %data1}</code>, the address <code>&amp;{bless %data1}</code> and any data stored at this address is lost forever.  There is no possible way to access the data stored at that location from the script anymore.</p>\n\n<p><strong>My question is . . . Is Perl smart enough to remove the data stored in <code>&amp;{bless %data1}</code> once the reference to this data is lost forever, or will Perl keep that data in memory potentially causing a memory leak?</strong></p>\n"}, {"tags": ["subroutine", "perl"], "comments": [{"owner": {"reputation": 118, "user_id": 3941112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qMEkl.jpg?s=128&g=1", "display_name": "Malli Paritala", "link": "https://stackoverflow.com/users/3941112/malli-paritala"}, "edited": false, "score": 0, "creation_date": 1439395765, "post_id": 31970151, "comment_id": 51847731, "body": "You can do that by passing subroutine reference as argument to the subroutine. Please make your question more meaningful so that you get better answers."}, {"owner": {"reputation": 75, "user_id": 4893212, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/61e7b9c72beca0dc44da26057f485abc?s=128&d=identicon&r=PG&f=1", "display_name": "JQKP", "link": "https://stackoverflow.com/users/4893212/jqkp"}, "reply_to_user": {"reputation": 118, "user_id": 3941112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qMEkl.jpg?s=128&g=1", "display_name": "Malli Paritala", "link": "https://stackoverflow.com/users/3941112/malli-paritala"}, "edited": false, "score": 0, "creation_date": 1439396652, "post_id": 31970151, "comment_id": 51848262, "body": "@MalliParitala, I don&#39;t know what&#39;s <i>meaningless</i> about my question. It makes sense to me, obviously, but I&#39;ve tried to read it objectively as I can and it makes sense anyway. The first sentence of your comment, on the other hand, sounds like an answer (basically the same as <a href=\"http://stackoverflow.com/a/31970398\">Borodin&#39;s answer</a> actually) rather than a <a href=\"http://stackoverflow.com/help/privileges/comment\">comment</a>."}, {"owner": {"reputation": 118, "user_id": 3941112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qMEkl.jpg?s=128&g=1", "display_name": "Malli Paritala", "link": "https://stackoverflow.com/users/3941112/malli-paritala"}, "edited": false, "score": 0, "creation_date": 1439397024, "post_id": 31970151, "comment_id": 51848461, "body": "Sorry @JQKP . I mean a piece of code that can be executed to reproduce the problem you face."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1439397420, "post_id": 31970151, "comment_id": 51848689, "body": "@JQKP: No, passing a reference to a subroutine is very different from passing an index into a dispatch table"}, {"owner": {"reputation": 75, "user_id": 4893212, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/61e7b9c72beca0dc44da26057f485abc?s=128&d=identicon&r=PG&f=1", "display_name": "JQKP", "link": "https://stackoverflow.com/users/4893212/jqkp"}, "reply_to_user": {"reputation": 118, "user_id": 3941112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qMEkl.jpg?s=128&g=1", "display_name": "Malli Paritala", "link": "https://stackoverflow.com/users/3941112/malli-paritala"}, "edited": false, "score": 0, "creation_date": 1439397511, "post_id": 31970151, "comment_id": 51848749, "body": "@MalliParitala, the problem I face is &quot;What piece of code can I execute to get the result described in the question above?&quot;. You want me to post a piece of code that be executed to reproduce that problem? Fine: how about <code>print &#39;What piece of code can I execute to get the result described in the question above?&#39;</code>?"}, {"owner": {"reputation": 75, "user_id": 4893212, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/61e7b9c72beca0dc44da26057f485abc?s=128&d=identicon&r=PG&f=1", "display_name": "JQKP", "link": "https://stackoverflow.com/users/4893212/jqkp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1439401164, "post_id": 31970151, "comment_id": 51850825, "body": "@Borodin, this may be worth asking separately, but would <code>foo($funct,$arg); sub foo{$funct-&gt;($arg)}</code> be very different from <code>foo($functlookup,$arg); sub foo{my $funct = $dispatch[$functlookup]; $funct-&gt;($arg)}</code>? Is there somewhere I can read more about the difference?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1439401805, "post_id": 31970151, "comment_id": 51851176, "body": "@JQKP: It will have the same effect. The question comes down to whether you want to identify your subroutines by references to them, by a numerical index, or perhaps another way such as a string (in which case you would use a hash insteadof an array). It all depends on your application"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1439403043, "post_id": 31970151, "comment_id": 51851845, "body": "@JQKP, <code>&quot;foo$whichsub&quot;-&gt;(@_)</code> is what you are looking for. Bad practice. , which is why Borodin&#39;s suggested a dispatch table instead."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1439397133, "post_id": 31970398, "comment_id": 51848527, "body": "@mob: The reference operator is distributive and does what I wanted. Your version would take a double reference to <code>foo2</code> and <code>foo3</code>"}, {"owner": {"reputation": 62484, "user_id": 20745, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dc5d9e7efea07afc78d5408680438507?s=128&d=identicon&r=PG", "display_name": "friedo", "link": "https://stackoverflow.com/users/20745/friedo"}, "edited": false, "score": 0, "creation_date": 1439407742, "post_id": 31970398, "comment_id": 51854405, "body": "FWIW, I generally find it more useful to use a hash for sub dispatching. e.g. <code>%table = ( foo =&gt; \\&amp;foo, bar =&gt; \\&amp;bar ); $table{$whichsub}-&gt;( @_ );</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 62484, "user_id": 20745, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dc5d9e7efea07afc78d5408680438507?s=128&d=identicon&r=PG", "display_name": "friedo", "link": "https://stackoverflow.com/users/20745/friedo"}, "edited": false, "score": 0, "creation_date": 1439408615, "post_id": 31970398, "comment_id": 51854836, "body": "@friedo: It depends entirely on what determines which subroutine is to be run. In this case the OP had <code>foo1</code>, <code>foo2</code> and <code>foo3</code> and was using an integer to choose between them so the obvious choice is an array, although I&#39;m sure (I hope) that those aren&#39;t the real names of the subroutines. If instead you have <code>a</code>, <code>b</code> and <code>c</code> then yes, you want a hash"}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1439415720, "post_id": 31970398, "comment_id": 51858436, "body": "When using a dispatch table, you often don&#39;t even want named subroutines.  Just have <code>sub { ... }</code> right in the table definition."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 6, "last_activity_date": 1439397096, "last_edit_date": 1439397096, "creation_date": 1439395807, "answer_id": 31970398, "question_id": 31970151, "link": "https://stackoverflow.com/questions/31970151/pass-a-parameter-into-the-name-of-a-subroutine/31970398#31970398", "title": "Pass a parameter into the name of a subroutine", "body": "<p>You can build a dispatch table of subroutines. Something like this</p>\n\n<pre><code>my @foo_table = \\(&amp;foo1, &amp;foo2, &amp;foo3);\n\nfoo(2);\n\nsub foo {\n    my $whichsub = shift;\n    die unless my $foosub = $foo_table[$whichsub-1];\n    my @fooed = $foosub-&gt;(@_);\n\n    # does stuff to @fooed\n}\n\nsub foo1 {\n    # does stuff to @_\n}\n\nsub foo2 {\n    # does other stuff to @_\n}\n\nsub foo3 {\n    # does other stuff to @_\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 148, "user_id": 3876514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194c74a3754310029e06eb4b686f1ee2?s=128&d=identicon&r=PG&f=1", "display_name": "Yury Nevinitsin", "link": "https://stackoverflow.com/users/3876514/yury-nevinitsin"}, "is_accepted": false, "score": 0, "last_activity_date": 1484212582, "creation_date": 1484212582, "answer_id": 41609156, "question_id": 31970151, "link": "https://stackoverflow.com/questions/31970151/pass-a-parameter-into-the-name-of-a-subroutine/41609156#41609156", "title": "Pass a parameter into the name of a subroutine", "body": "<p>It can be done without a table:</p>\n\n<pre><code>sub foo {\n    my $whichsub = shift;\n    my $foosub = \"foo\".$whichsub;\n    my @fooed = &amp;$foosub(@_);\n\n    # does stuff to @fooed\n}\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 4893212, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/61e7b9c72beca0dc44da26057f485abc?s=128&d=identicon&r=PG&f=1", "display_name": "JQKP", "link": "https://stackoverflow.com/users/4893212/jqkp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 31970398, "answer_count": 2, "score": 0, "last_activity_date": 1484212582, "creation_date": 1439395007, "last_edit_date": 1439396894, "question_id": 31970151, "link": "https://stackoverflow.com/questions/31970151/pass-a-parameter-into-the-name-of-a-subroutine", "title": "Pass a parameter into the name of a subroutine", "body": "<p>Is there a way to choose a subroutine by means of a parameter passed to another subroutine? Something like this:</p>\n\n<pre><code>sub foo1 {\n    # does stuff to @_\n}\n\nsub foo2 {\n    # does other stuff to @_\n}\n\nsub foo3 {\n    # does other stuff to @_\n}\n\nsub foo {\n    my $whichsub = shift;\n    my @fooed = foo.$whichsub @_;\n    # does stuff to @fooed\n}\n</code></pre>\n\n<p>where <code>foo.$whichsub</code> should be <code>foo1</code> or the like. Except that of course that doesn't work.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 3, "creation_date": 1439395258, "post_id": 31969770, "comment_id": 51847433, "body": "Normally, you provide evidence that you&#39;ve attempted to solve this yourself"}, {"owner": {"reputation": 9, "user_id": 4640538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433cb855135123e34bb16540f9350a64?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Audsley", "link": "https://stackoverflow.com/users/4640538/nathan-audsley"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1439395580, "post_id": 31969770, "comment_id": 51847620, "body": "I&#39;m new to perl. All the research I have found relates to using length which, as far as I can tell, cannot be used inside strings. Therefore, I had no clue what to do and came to a knowledge base, feel free to downvote for that."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 4640538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433cb855135123e34bb16540f9350a64?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Audsley", "link": "https://stackoverflow.com/users/4640538/nathan-audsley"}, "edited": false, "score": 0, "creation_date": 1439395627, "post_id": 31970115, "comment_id": 51847650, "body": "Thank you, this should help a lot"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1439396362, "post_id": 31970115, "comment_id": 51848076, "body": "Remember, sometimes <a href=\"http://www.nu42.com/2012/04/using-b-in-regex-patterns-can-lead-to.html\" rel=\"nofollow noreferrer\">Using \\b in regex patterns can lead to surprising results</a>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1439398182, "post_id": 31970115, "comment_id": 51849163, "body": "@Sinan&#220;n&#252;r Ugh, thanks for reminding me. Parsing natural-language &quot;words&quot; with regexes is *so* error-prone, it&#39;s an exercise in futility (or something like that...) Case-in-point, my previous sentence. :)"}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 4, "last_activity_date": 1439398180, "last_edit_date": 1439398180, "creation_date": 1439394893, "answer_id": 31970115, "question_id": 31969770, "link": "https://stackoverflow.com/questions/31969770/how-can-i-cut-out-a-section-of-a-string-using-perl/31970115#31970115", "title": "How can I cut out a section of a string using Perl?", "body": "<p>To remove a section of a string where you're not sure of all the intervening characters, you can use the <a href=\"http://perldoc.perl.org/perlop.html#s%2f_PATTERN_%2f_REPLACEMENT_%2fmsixpodualngcer\" rel=\"nofollow\">substitution operator</a>. If there's a match, the position of the beginning of the match (zero-indexed) is stored in <a href=\"http://perldoc.perl.org/perlvar.html#%40LAST_MATCH_START\" rel=\"nofollow\"><code>$-[0]</code></a> (or <code>$LAST_MATCH_START[0]</code> if you <code>use English;</code>):</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy $string = 'The quick brown fox jumped over the lazy dog';\n$string =~ s/fox.*the//;\n\nsay \"Matched at char $-[0]\" if defined $-[0];\nsay \"New string: $string\";\n</code></pre>\n\n<h3>Output:</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Matched at char 16\nNew string: The quick brown  lazy dog\n</code></pre>\n\n<hr>\n\n<h2>Which \"the\"?</h2>\n\n<p>Note that the regex I used is greedy, so it will gobble up every <code>the</code> until the last. For the string:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>The quick brown fox jumped over the lazy dog and the sleepy cat\n</code></pre>\n\n<p>you will get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Matched at char 16\nNew string: The quick brown  sleepy cat\n</code></pre>\n\n<p>To stop at the first occurrence of <code>the</code>, change the substitution to:</p>\n\n<pre><code>s/fox.*?the//;\n</code></pre>\n\n<h2>Whole words only</h2>\n\n<p>Both of the regexes above will still match partial words. The string:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>The quick brown foxhole jumped over their lazy dog\n</code></pre>\n\n<p>gives:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Matched at char 16\nNew string: The quick brown ir lazy dog\n</code></pre>\n\n<p>To only match whole words* change the substitution to:</p>\n\n<pre><code>s/(?:^|\\s+)\\Kfox\\s+.*\\s+the(?=\\s+|\\z)//; # greedy\n</code></pre>\n\n<p>or</p>\n\n<pre><code>s/(?:^|\\s+)\\Kfox\\s+.*?\\s+the(?=\\s+|\\z)//; # non-greedy\n</code></pre>\n\n<hr>\n\n<p>* It's hard to define what counts as a whole word in an English sentence. The above expects a word to be surrounded on both sides by one or more spaces or to be at the beginning or end of the string, which excludes things like <code>in-the-know</code>, but also excludes <code>\"fox\"</code> and <code>the,</code>. This is obviously not a great definition.</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1439402492, "post_id": 31972018, "comment_id": 51851579, "body": "Nice. Way to address the X instead of the Y. I think these are probably closer to what the OP really wants."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1439401435, "last_edit_date": 1592644375, "creation_date": 1439401435, "answer_id": 31972018, "question_id": 31969770, "link": "https://stackoverflow.com/questions/31969770/how-can-i-cut-out-a-section-of-a-string-using-perl/31972018#31972018", "title": "How can I cut out a section of a string using Perl?", "body": "<blockquote>\n<p>I have the sentence</p>\n<blockquote>\n<p>The quick brown fox jumped over the lazy dog</p>\n</blockquote>\n<p>I need to count forward from the first character until I get to 'fox', asign the character position of 'f' to a variable, continue counting forward until I get to 'the' and then cut out the characters, including and between, 'f' and 'e'.</p>\n</blockquote>\n<p>I am quoting your problem description because it indicates the C mindset with which you are approaching Perl. At a bit higher level than C, your problem is to actually to cut out the words between &quot;brown&quot; and &quot;lazy&quot;. Perl allows you to directly express this idea:</p>\n<pre> $ perl -wE 'say join(\" \", (split /\\s+(?:fox|the)\\s+/, \"The quick brown fox jumped over the lazy dog\")[0, 2])'\nThe quick brown lazy dog</pre>\n<p>Or, using the range operator:</p>\n<pre>$ perl -wE 'say join \" \", grep !(/^fox$/ .. /^the$/), split \" \", \"The quick brown fox jumped over the lazy dog\"'\nThe quick brown lazy dog</pre>\n<p>which literally reads &quot;take all the words <em>not</em> between 'fox' and 'the', join them together using a single space as the word separator, and print the resulting sentence.&quot;</p>\n<p>If the original sentence has many, <em>many</em> words, the first one might be more efficient as it will only ever create a three element list.</p>\n<p>You can read more about the <a href=\"https://metacpan.org/pod/perlop#Range-Operators\" rel=\"nofollow noreferrer\">range operator</a> in <code>perldoc perlop</code>. Since you are just beginning to learn Perl, you should read everything mentioned in <code>perldoc perltoc</code> at least once, including all the FAQ sections.</p>\n"}], "owner": {"reputation": 9, "user_id": 4640538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433cb855135123e34bb16540f9350a64?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Audsley", "link": "https://stackoverflow.com/users/4640538/nathan-audsley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1416, "favorite_count": 0, "accepted_answer_id": 31970115, "answer_count": 2, "score": -4, "last_activity_date": 1439404307, "creation_date": 1439393858, "last_edit_date": 1592644375, "question_id": 31969770, "link": "https://stackoverflow.com/questions/31969770/how-can-i-cut-out-a-section-of-a-string-using-perl", "title": "How can I cut out a section of a string using Perl?", "body": "<p>I need to cut some characters out of the middle of a string; the starting and ending positions of the character sequence to be cut will vary.</p>\n<p>For example, say I have the sentence</p>\n<blockquote>\n<p>The quick brown fox jumped over the lazy dog</p>\n</blockquote>\n<p>I need to count forward from the first character until I get to <code>fox</code>, assign the character position of the <code>f</code> to a variable, continue counting forward until I get to 'the' and then cut out the characters between and including the initial <code>f</code> and the final <code>e</code>.</p>\n<h3>Note</h3>\n<p>There is an <code>e</code> in <code>jumped</code> which is between <code>fox</code> and <code>the</code>, this should be ignored, it must find the position of the <code>e</code> in <code>the</code>.</p>\n"}, {"tags": ["multithreading", "perl", "timeout", "pthreads"], "comments": [{"owner": {"reputation": 11722, "user_id": 1981275, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f3e2752d5fbb3693863943132ffa39f6?s=128&d=identicon&r=PG", "display_name": "user1981275", "link": "https://stackoverflow.com/users/1981275/user1981275"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1439394187, "post_id": 31969672, "comment_id": 51846680, "body": "I see. So would there be a workaround for this? My whole application really relies on <code>threads</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1439406568, "post_id": 31969672, "comment_id": 51853777, "body": "Yes, use some mechanism other than kill signals. Something like semaphores or queues."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1439403086, "last_edit_date": 1439403086, "creation_date": 1439401366, "answer_id": 31972002, "question_id": 31969672, "link": "https://stackoverflow.com/questions/31969672/perl-set-timeout-within-thread-fails-alarm-clock/31972002#31972002", "title": "Perl set timeout within thread fails: &#39;Alarm clock&#39;", "body": "<p>The whole idea of using alarm in threads is problematic.</p>\n\n<ol>\n<li>Signals are sent to processes, not threads.</li>\n<li>What if two threads want to use <code>alarm</code>?</li>\n</ol>\n\n<p>You'll have to implement your own system. The following is an attempt at a general solution:</p>\n\n<pre><code>package Threads::Alarm;\n\nuse strict;\nuse warnings;\n\nuse threads;\nuse threads::shared;\n\nuse Exporter qw( import );\n\n\nour @EXPORT_OK = qw( alarm thread_alarm );\n\n\n# A list of \"$time:$tid\" strings sorted by ascending time.\nmy @alarms :shared;\n\nsub thread_alarm {\n   my ($wait) = @_;\n\n   my $tid  = threads-&gt;tid();\n\n   lock @alarms;\n\n   # Cancel existing alarm for this thread, if any.\n   for my $i (0..$#alarms) {\n      if ((split(/:/, $alarms[$i]))[1] == $tid) {\n         splice(@alarms, $i, 1);\n         last;\n      }\n   }\n\n   # Create an alarm\n   if ($wait) {\n      my $when = time() + $wait;\n\n      # A binary search would be better.\n      my $i;\n      for ($i=0; $i&lt;@alarms; ++$i) {\n         last if $when &lt; (split(/:/, $alarms[$i]))[0];\n      }\n\n      splice(@alarms, $i, 0, \"$when:$tid\");\n   }\n\n   # Notify others of change to @alarms.\n   cond_broadcast(@alarms);\n}\n\n\n{\n   no warnings 'once';\n   *alarm = \\&amp;thread_alarm;\n}\n\n\nthreads-&gt;create(sub {\n   while (1) {\n      my $thread;\n\n      {\n         lock @alarms;\n\n         while (1) {\n            # Wait for an alarm request to come in.\n            cond_wait(@alarms) while !@alarms;\n\n            # Grab the soonest alarm.\n            my ($when, $tid) = split(/:/, $alarms[0]);\n            # Check if the thread still exists.\n            my $thread = threads-&gt;object($tid)\n               or last;\n\n            # Wait for the @alarms to change or for the alarm time.    \n            last if !cond_timedwait(@alarms, $when);\n         }\n\n         # Before releasing the lock, remove the alarm we're about to raise.\n         shift(@alarms);\n\n         # Notify others of change to @alarms.\n         # Doesn't actually do anything at this time.\n         cond_broadcast(@alarms);\n      }\n\n      $thread-&gt;kill('ALRM') if $thread;\n   }\n})-&gt;detach();\n\n\n1;\n</code></pre>\n\n<p>Completely untested. Well, I made sure it compiles, but that's it.</p>\n\n<p>Note that <code>threads-&gt;kill</code> doesn't send a real signal (since those are sent to processes, not threads), so the OS won't interrupt any operation (e.g. <code>sleep</code>, <code>wait</code>). Simple solution: Send a real signal to a handler that does nothing right after calling <code>threads-&gt;kill</code>. Maybe I should have written a solution that was based around the actual <code>SIGALRM</code>.</p>\n"}], "owner": {"reputation": 11722, "user_id": 1981275, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f3e2752d5fbb3693863943132ffa39f6?s=128&d=identicon&r=PG", "display_name": "user1981275", "link": "https://stackoverflow.com/users/1981275/user1981275"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 714, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1439403086, "creation_date": 1439393590, "last_edit_date": 1495535195, "question_id": 31969672, "link": "https://stackoverflow.com/questions/31969672/perl-set-timeout-within-thread-fails-alarm-clock", "title": "Perl set timeout within thread fails: &#39;Alarm clock&#39;", "body": "<p>I have a threaded application and would like to set timeouts for the threads. <a href=\"http://perldoc.perl.org/functions/alarm.html\" rel=\"nofollow noreferrer\">Peldoc for alarm</a> suggests to use a <code>eval</code>-<code>die</code> pair and catch the <code>ALRM</code> signal. However, this fails with threads producing the error <code>Alarm clock</code>:</p>\n\n<pre><code>use strict; use warnings;                                                                                                                                                                                                                                             \nrequire threads;                                                                                                                                                                                                                                                      \nrequire threads::shared;                                                                                                                                                                                                                                              \n\nmy $t = threads-&gt;create( sub {                                                                                                                                                                                                                                        \n\n    eval {                                                                                                                                                                                                                                                            \n        $SIG{ALRM} = sub { die \"alarm\\n\" };                                                                                                                                                                                                                           \n        alarm 2;                                                                                                                                                                                                                                                      \n        main();                                                                                                                                                                                                                                                       \n        alarm 0;                                                                                                                                                                                                                                                      \n    };                                                                                                                                                                                                                                                                \n    if ($@){                                                                                                                                                                                                                                                          \n        die $@ unless $@ eq \"alarm\\n\";                                                                                                                                                                                                                                \n        print \"timed out\\n\";                                                                                                                                                                                                                                          \n    }                                                                                                                                                                                                                                                                 \n                 }                                                                                                                                                                                                                                                    \n    );                                                                                                                                                                                                                                                                \n\nmy @r = $t-&gt;join;                                                                                                                                                                                                                                                     \nprint \"done\\n\";                                                                                                                                                                                                                                                       \n\nsub main {                                                                                                                                                                                                                                                            \n    sleep 3;                                                                                                                                                                                                                                                          \n}                                                                                                                                                                                                                                                                     \n</code></pre>\n\n<p><a href=\"http://www.perlmonks.org/bare/?node_id=499875\" rel=\"nofollow noreferrer\">This post</a> suggests that <code>alarm</code> is called without signal handler in the <code>threads</code> library. <a href=\"https://stackoverflow.com/questions/3603518/perl-threads-and-unsafe-signals\">Another post</a> is about this problem and answers suggest to use <code>fork</code> and <code>waitpid</code>, but I would really like to use <code>threads</code>. <a href=\"http://www.perlmonks.org/?node_id=949069\" rel=\"nofollow noreferrer\">Another post</a> claims to come up with a solution, but this still gives the <code>Alarm clock</code> error for me. I tried to catch <code>Alarm clock</code> in the <code>if ($@)</code>, but no success. Any idea how I could make this work?</p>\n"}, {"tags": ["perl", "rabbitmq", "message-queue", "anyevent"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 6, "last_activity_date": 1439464818, "creation_date": 1439464818, "answer_id": 31986743, "question_id": 31966007, "link": "https://stackoverflow.com/questions/31966007/anyeventrabbitmq-issues-with-closed-channels/31986743#31986743", "title": "AnyEvent::RabbitMQ issues with closed channels", "body": "<p>If you take a look at the RabbitMQ server logs you will see something like this:</p>\n\n<blockquote>\n  <p>{amqp_error,access_refused,\"operation not permitted on the default exchange\",'queue.bind'}</p>\n</blockquote>\n\n<p>Apparently it doesn't let you bind a <em>queue</em> on the <em>default exchange</em>. So you need to declare and bind your own <em>exchange</em> first.</p>\n\n<pre><code>sub _declare_exchange {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Declaring RabbitMQ exchange...' );\n  $channel-&gt;declare_exchange(\n    exchange        =&gt; 'testest',\n    type            =&gt; 'fanout',\n    on_success =&gt;\n      sub { _on_declare_exchange_success( $condvar, $ar, $channel, @_ ) },\n    on_failure      =&gt; sub { _error( $condvar, $ar, 'failure',      @_ ) },\n    on_read_failure =&gt; sub { _error( $condvar, $ar, 'read_failure', @_ ) },\n    on_return       =&gt; sub { _error( $condvar, $ar, 'return',       @_ ) },\n    on_close        =&gt; sub { _error( $condvar, $ar, 'close',        @_ ) },\n  );\n  return;\n}\n\n############################################################################\nsub _on_declare_exchange_success {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Declared RabbitMQ exchange.' );\n  _bind_exchange( $condvar, $ar, $channel );\n  return;\n}\n\n############################################################################\nsub _bind_exchange {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Binding RabbitMQ exchange...' );\n  $channel-&gt;bind_exchange(\n    source      =&gt; 'testest',\n    destination =&gt; 'testest',\n    routing_key =&gt; '',\n    on_success =&gt; sub { _on_bind_exchange_success( $condvar, $ar, $channel, @_ ) },\n    on_failure      =&gt; sub { _error( $condvar, $ar, 'failure',      @_ ) },\n    on_read_failure =&gt; sub { _error( $condvar, $ar, 'read_failure', @_ ) },\n    on_return       =&gt; sub { _error( $condvar, $ar, 'return',       @_ ) },\n    on_close        =&gt; sub { _error( $condvar, $ar, 'close',        @_ ) },\n  );\n  return;\n}\n</code></pre>\n\n<p>Once you've set those subs up, tell your program to use this custom exchange.</p>\n\n<pre><code>sub _on_open_channel_success {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Opened RabbitMQ channel.' );\n  $channel-&gt;confirm;\n  _declare_exchange( $condvar, $ar, $channel );\n  return;\n}\n</code></pre>\n\n<p>The <code>$channel-&gt;confirm</code> is necessary to make RabbitMQ answer with a confirmation when you send a message to the queue. If you do not do that, the success handler will never get called because there are no success responses coming back.</p>\n\n<p>Then in your <code>_bind_queue</code> you need to add the exchange to the <code>bind_queue()</code> call.</p>\n\n<pre><code>  $channel-&gt;bind_queue(\n    queue       =&gt; 'test',\n    exchange    =&gt; 'testest', # &lt;-- here\n    routing_key =&gt; '',\n    # ...\n  );\n</code></pre>\n\n<p>The same needs to be done in the <code>_publish_message</code> with the <code>publish()</code> call. There you should also replace the <code>on_ack</code> handler with something that actually deals with the acknowledgement. I think you intended to do that but had a copy/paste error<sup>1</sup>.</p>\n\n<pre><code>$channel-&gt;publish(\n  queue       =&gt; 'test',\n  exchange    =&gt; 'testest', # &lt;-- here\n  routing_key =&gt; '',\n  # ...\n  on_ack          =&gt; sub { \n  _on_publish_message_success( $condvar, $ar, $channel, @_ );\n  },\n);\n</code></pre>\n\n<p>One more thing is that the <code>sleep</code> call in <code>_on_publish_message_success</code> is not a good idea when you are working with AnyEvent as that will stop the whole program. Use an <a href=\"https://metacpan.org/pod/AE#w-AE::timer-after-interval-cb\"><code>AE::timer</code></a> instead.</p>\n\n<pre><code>my $t; \n$t = AE::timer(1,0,sub {\n  _publish_message( $condvar, $ar, $channel, 'Hello, world! Again ' . time );\n  undef $t;\n});\n</code></pre>\n\n<hr>\n\n<p>Here is the full code with all the changes.</p>\n\n<pre><code>use strictures 2;\n\nuse AnyEvent::RabbitMQ;\n\nmain();\n\n############################################################################\nsub main {\n  _log( debug =&gt; 'main' );\n  my $condvar = AnyEvent-&gt;condvar;\n  my $ar      = AnyEvent::RabbitMQ-&gt;new;\n  $ar-&gt;load_xml_spec;\n  _log( debug =&gt; 'Connecting to RabbitMQ...' );\n  $ar-&gt;connect(\n    host            =&gt; 'localhost',\n    port            =&gt; 5672,\n    user            =&gt; 'guest',\n    pass            =&gt; 'guest',\n    vhost           =&gt; '/guest',\n    timeout         =&gt; 1,\n    tls             =&gt; 0,\n    on_success      =&gt; sub { _on_connect_success( $condvar, $ar, @_ ) },\n    on_failure      =&gt; sub { _error( $condvar, $ar, 'failure', @_ ) },\n    on_read_failure =&gt; sub { _error( $condvar, $ar, 'read_failure', @_ ) },\n    on_return       =&gt; sub { _error( $condvar, $ar, 'return', @_ ) },\n    on_close        =&gt; sub { _error( $condvar, $ar, 'close', @_ ) },\n  );\n  $condvar-&gt;recv;\n  $ar-&gt;close;\n  return;\n}\n\n############################################################################\nsub _on_connect_success {\n  my ( $condvar, $ar, $new_ar ) = @_;\n  _log( debug =&gt; 'Connected to RabbitMQ.' );\n  _open_channel( $condvar, $new_ar );\n  return;\n}\n\n############################################################################\nsub _open_channel {\n  my ( $condvar, $ar ) = @_;\n  _log( debug =&gt; 'Opening RabbitMQ channel...' );\n  $ar-&gt;open_channel(\n    on_success =&gt; sub { _on_open_channel_success( $condvar, $ar, @_ ) },\n    on_failure      =&gt; sub { _error( $condvar, $ar, 'failure',      @_ ) },\n    on_read_failure =&gt; sub { _error( $condvar, $ar, 'read_failure', @_ ) },\n    on_return       =&gt; sub { _error( $condvar, $ar, 'return',       @_ ) },\n    on_close        =&gt; sub { _error( $condvar, $ar, 'close',        @_ ) },\n  );\n  return;\n}\n\n############################################################################\nsub _on_open_channel_success {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Opened RabbitMQ channel.' );\n  $channel-&gt;confirm;\n  _declare_exchange( $condvar, $ar, $channel );\n  return;\n}\n\n############################################################################\nsub _declare_exchange {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Declaring RabbitMQ exchange...' );\n  $channel-&gt;declare_exchange(\n    exchange        =&gt; 'testest',\n    type            =&gt; 'fanout',\n    on_success =&gt;\n      sub { _on_declare_exchange_success( $condvar, $ar, $channel, @_ ) },\n    on_failure      =&gt; sub { _error( $condvar, $ar, 'failure',      @_ ) },\n    on_read_failure =&gt; sub { _error( $condvar, $ar, 'read_failure', @_ ) },\n    on_return       =&gt; sub { _error( $condvar, $ar, 'return',       @_ ) },\n    on_close        =&gt; sub { _error( $condvar, $ar, 'close',        @_ ) },\n  );\n  return;\n}\n\n############################################################################\nsub _on_declare_exchange_success {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Declared RabbitMQ exchange.' );\n  _bind_exchange( $condvar, $ar, $channel );\n  return;\n}\n\n############################################################################\nsub _bind_exchange {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Binding RabbitMQ exchange...' );\n  $channel-&gt;bind_exchange(\n    source      =&gt; 'testest',\n    destination =&gt; 'testest',\n    routing_key =&gt; '',\n    on_success =&gt; sub { _on_bind_exchange_success( $condvar, $ar, $channel, @_ ) },\n    on_failure      =&gt; sub { _error( $condvar, $ar, 'failure',      @_ ) },\n    on_read_failure =&gt; sub { _error( $condvar, $ar, 'read_failure', @_ ) },\n    on_return       =&gt; sub { _error( $condvar, $ar, 'return',       @_ ) },\n    on_close        =&gt; sub { _error( $condvar, $ar, 'close',        @_ ) },\n  );\n  return;\n}\n\n############################################################################\nsub _on_bind_exchange_success {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Binded RabbitMQ exchange.' );\n  _declare_queue( $condvar, $ar, $channel );\n  return;\n}\n\n\n############################################################################\nsub _declare_queue {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Declaring RabbitMQ queue...' );\n  $channel-&gt;declare_queue(\n    queue       =&gt; 'test',\n    auto_delete =&gt; 1,\n    passive     =&gt; 0,\n    durable     =&gt; 0,\n    exclusive   =&gt; 0,\n    no_ack      =&gt; 1,\n    ticket      =&gt; 0,\n    on_success =&gt;\n      sub { _on_declare_queue_success( $condvar, $ar, $channel, @_ ) },\n    on_failure      =&gt; sub { _error( $condvar, $ar, 'failure',      @_ ) },\n    on_read_failure =&gt; sub { _error( $condvar, $ar, 'read_failure', @_ ) },\n    on_return       =&gt; sub { _error( $condvar, $ar, 'return',       @_ ) },\n    on_close        =&gt; sub { _error( $condvar, $ar, 'close',        @_ ) },\n  );\n  return;\n}\n\n############################################################################\nsub _on_declare_queue_success {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Declared RabbitMQ queue.' );\n  _bind_queue( $condvar, $ar, $channel );\n  return;\n}\n\n############################################################################\nsub _bind_queue {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Binding RabbitMQ queue...' );\n  $channel-&gt;bind_queue(\n    queue       =&gt; 'test',\n    exchange    =&gt; 'testest',\n    routing_key =&gt; '',\n    on_success =&gt; sub { _on_bind_queue_success( $condvar, $ar, $channel, @_ ) },\n    on_failure      =&gt; sub { _error( $condvar, $ar, 'failure',      @_ ) },\n    on_read_failure =&gt; sub { _error( $condvar, $ar, 'read_failure', @_ ) },\n    on_return       =&gt; sub { _error( $condvar, $ar, 'return',       @_ ) },\n    on_close        =&gt; sub { _error( $condvar, $ar, 'close',        @_ ) },\n  );\n  return;\n}\n\n############################################################################\nsub _on_bind_queue_success {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Binded RabbitMQ queue.' );\n  _log( info  =&gt; 'Master ready to publish messages.' );\n  _publish_message( $condvar, $ar, $channel, 'Hello, world!' );\n  return;\n}\n\n############################################################################\nsub _publish_message {\n  my ( $condvar, $ar, $channel, $message ) = @_;\n  _log( debug =&gt; \"Publishing RabbitMQ message ($message)...\" );\n  $channel-&gt;publish(\n    queue       =&gt; 'test',\n    exchange    =&gt; 'testest',\n    routing_key =&gt; '',\n    body        =&gt; $message,\n    header      =&gt; {},\n    mandatory   =&gt; 0,\n    immediate   =&gt; 0,\n    on_success =&gt;\n      sub { _on_publish_message_success( $condvar, $ar, $channel, @_ ) },\n    on_failure      =&gt; sub { _error( $condvar, $ar, 'failure',      @_ ) },\n    on_read_failure =&gt; sub { _error( $condvar, $ar, 'read_failure', @_ ) },\n    on_return       =&gt; sub { _error( $condvar, $ar, 'return',       @_ ) },\n    on_close        =&gt; sub { _error( $condvar, $ar, 'close',        @_ ) },\n    on_ack          =&gt; sub { \n        _on_publish_message_success( $condvar, $ar, $channel, @_ );\n#        _error( $condvar, $ar, 'ack',          @_ )    \n    },\n    on_nack         =&gt; sub { _error( $condvar, $ar, 'nack',         @_ ) },\n  );\n  return;\n}\n\n############################################################################\nsub _on_publish_message_success {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; \"Published RabbitMQ message.\" );\n  my $t; $t=AE::timer(1,0,sub {\n      _publish_message( $condvar, $ar, $channel, 'Hello, world! Again ' . time );\n      undef $t;\n  });\n  return;\n}\n\n############################################################################\nsub _error {\n  my ( $condvar, $ar, $type, @error ) = @_;\n  _log( error =&gt; sprintf '%s - %s', $type, join ', ', @error );\n  $condvar-&gt;send( $condvar, $ar, $type, @error );\n  return;\n}\n\n############################################################################\nsub _log {\n  my ( $level, $message ) = @_;\n  my @time = gmtime time;\n  $time[5] += 1900;\n  $time[4] += 1;\n  my $time = sprintf '%04d-%02d-%02dT%02d:%02d:%02d+00:00', @time[ 5, 4, 3, 2, 1, 0 ];\n  my @caller0    = caller(0);\n  my @caller1    = caller(1);\n  my $subroutine = $caller1[3];\n  $subroutine =~ s/^$caller0[0]:://;\n  print STDERR \"$time [$level] $message at $caller0[1] line $caller0[2] ($subroutine; from $caller1[1] line $caller1[2])\\n\";\n  return;\n}\n</code></pre>\n\n<hr>\n\n<p><sup><sup>1)</sup> In some places you need to buy your colleagues a beer for those :)</sup></p>\n"}], "owner": {"reputation": 2698, "user_id": 1016105, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9dd2d48ff6355997d79723154201e3dc?s=128&d=identicon&r=PG", "display_name": "burnersk", "link": "https://stackoverflow.com/users/1016105/burnersk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1024, "favorite_count": 3, "accepted_answer_id": 31986743, "answer_count": 1, "score": 5, "last_activity_date": 1439464818, "creation_date": 1439384428, "last_edit_date": 1439462928, "question_id": 31966007, "link": "https://stackoverflow.com/questions/31966007/anyeventrabbitmq-issues-with-closed-channels", "title": "AnyEvent::RabbitMQ issues with closed channels", "body": "<p>I'm writing a master program for publishing message into a message queue (<a href=\"https://www.rabbitmq.com/\" rel=\"nofollow\">RabbitMQ</a>). The program is written in Perl 5 and is using <a href=\"https://metacpan.org/pod/AnyEvent::RabbitMQ\" rel=\"nofollow\">AnyEvent::RabbitMQ</a> for the communication to RabbitMQ.</p>\n\n<p>The following minimal example (for the issue I ran into) will fail on a second command send via the same channel with the error \"Channel closed\".</p>\n\n<pre><code>use strictures 2;\n\nuse AnyEvent::RabbitMQ;\n\nmain();\n\n############################################################################\nsub main {\n  _log( debug =&gt; 'main' );\n  my $condvar = AnyEvent-&gt;condvar;\n  my $ar      = AnyEvent::RabbitMQ-&gt;new;\n  $ar-&gt;load_xml_spec;\n  _log( debug =&gt; 'Connecting to RabbitMQ...' );\n  $ar-&gt;connect(\n    host            =&gt; 'localhost',\n    port            =&gt; 5672,\n    user            =&gt; 'guest',\n    pass            =&gt; 'guest',\n    vhost           =&gt; '/',\n    timeout         =&gt; 1,\n    tls             =&gt; 0,\n    on_success      =&gt; sub { _on_connect_success( $condvar, $ar, @_ ) },\n    on_failure      =&gt; sub { _error( $condvar, $ar, 'failure', @_ ) },\n    on_read_failure =&gt; sub { _error( $condvar, $ar, 'read_failure', @_ ) },\n    on_return       =&gt; sub { _error( $condvar, $ar, 'return', @_ ) },\n    on_close        =&gt; sub { _error( $condvar, $ar, 'close', @_ ) },\n  );\n  $condvar-&gt;recv;\n  $ar-&gt;close;\n  return;\n}\n\n############################################################################\nsub _on_connect_success {\n  my ( $condvar, $ar, $new_ar ) = @_;\n  _log( debug =&gt; 'Connected to RabbitMQ.' );\n  _open_channel( $condvar, $new_ar );\n  return;\n}\n\n############################################################################\nsub _open_channel {\n  my ( $condvar, $ar ) = @_;\n  _log( debug =&gt; 'Opening RabbitMQ channel...' );\n  $ar-&gt;open_channel(\n    on_success =&gt; sub { _on_open_channel_success( $condvar, $ar, @_ ) },\n    on_failure      =&gt; sub { _error( $condvar, $ar, 'failure',      @_ ) },\n    on_read_failure =&gt; sub { _error( $condvar, $ar, 'read_failure', @_ ) },\n    on_return       =&gt; sub { _error( $condvar, $ar, 'return',       @_ ) },\n    on_close        =&gt; sub { _error( $condvar, $ar, 'close',        @_ ) },\n  );\n  return;\n}\n\n############################################################################\nsub _on_open_channel_success {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Opened RabbitMQ channel.' );\n  _declare_queue( $condvar, $ar, $channel );\n  return;\n}\n\n############################################################################\nsub _declare_queue {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Declaring RabbitMQ queue...' );\n  $channel-&gt;declare_queue(\n    queue       =&gt; 'test',\n    auto_delete =&gt; 1,\n    passive     =&gt; 0,\n    durable     =&gt; 0,\n    exclusive   =&gt; 0,\n    no_ack      =&gt; 1,\n    ticket      =&gt; 0,\n    on_success =&gt;\n      sub { _on_declare_queue_success( $condvar, $ar, $channel, @_ ) },\n    on_failure      =&gt; sub { _error( $condvar, $ar, 'failure',      @_ ) },\n    on_read_failure =&gt; sub { _error( $condvar, $ar, 'read_failure', @_ ) },\n    on_return       =&gt; sub { _error( $condvar, $ar, 'return',       @_ ) },\n    on_close        =&gt; sub { _error( $condvar, $ar, 'close',        @_ ) },\n  );\n  return;\n}\n\n############################################################################\nsub _on_declare_queue_success {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Declared RabbitMQ queue.' );\n  _bind_queue( $condvar, $ar, $channel );\n  return;\n}\n\n############################################################################\nsub _bind_queue {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Binding RabbitMQ queue...' );\n  $channel-&gt;bind_queue(\n    queue       =&gt; 'test',\n    exchange    =&gt; '',\n    routing_key =&gt; '',\n    on_success =&gt; sub { _on_bind_queue_success( $condvar, $ar, $channel, @_ ) },\n    on_failure      =&gt; sub { _error( $condvar, $ar, 'failure',      @_ ) },\n    on_read_failure =&gt; sub { _error( $condvar, $ar, 'read_failure', @_ ) },\n    on_return       =&gt; sub { _error( $condvar, $ar, 'return',       @_ ) },\n    on_close        =&gt; sub { _error( $condvar, $ar, 'close',        @_ ) },\n  );\n  return;\n}\n\n############################################################################\nsub _on_bind_queue_success {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; 'Binded RabbitMQ queue.' );\n  _log( info  =&gt; 'Master ready to publish messages.' );\n  _publish_message( $condvar, $ar, $channel, 'Hello, world!' );\n  return;\n}\n\n############################################################################\nsub _publish_message {\n  my ( $condvar, $ar, $channel, $message ) = @_;\n  _log( debug =&gt; \"Publishing RabbitMQ message ($message)...\" );\n  $channel-&gt;publish(\n    queue       =&gt; 'test',\n    exchange    =&gt; '',\n    routing_key =&gt; '',\n    body        =&gt; $message,\n    header      =&gt; {},\n    mandatory   =&gt; 0,\n    immediate   =&gt; 0,\n    on_success =&gt;\n      sub { _on_publish_message_success( $condvar, $ar, $channel, @_ ) },\n    on_failure      =&gt; sub { _error( $condvar, $ar, 'failure',      @_ ) },\n    on_read_failure =&gt; sub { _error( $condvar, $ar, 'read_failure', @_ ) },\n    on_return       =&gt; sub { _error( $condvar, $ar, 'return',       @_ ) },\n    on_close        =&gt; sub { _error( $condvar, $ar, 'close',        @_ ) },\n    on_ack          =&gt; sub { _error( $condvar, $ar, 'ack',          @_ ) },\n    on_nack         =&gt; sub { _error( $condvar, $ar, 'nack',         @_ ) },\n  );\n  return;\n}\n\n############################################################################\nsub _on_publish_message_success {\n  my ( $condvar, $ar, $channel ) = @_;\n  _log( debug =&gt; \"Published RabbitMQ message.\" );\n  sleep 1;\n  _publish_message( $condvar, $ar, $channel, 'Hello, world! Again ' . time );\n  return;\n}\n\n############################################################################\nsub _error {\n  my ( $condvar, $ar, $type, @error ) = @_;\n  _log( error =&gt; sprintf '%s - %s', $type, join ', ', @error );\n  $condvar-&gt;send( $condvar, $ar, $type, @error );\n  return;\n}\n\n############################################################################\nsub _log {\n  my ( $level, $message ) = @_;\n  my @time = gmtime time;\n  $time[5] += 1900;\n  $time[4] += 1;\n  my $time = sprintf '%04d-%02d-%02dT%02d:%02d:%02d+00:00', @time[ 5, 4, 3, 2, 1, 0 ];\n  my @caller0    = caller(0);\n  my @caller1    = caller(1);\n  my $subroutine = $caller1[3];\n  $subroutine =~ s/^$caller0[0]:://;\n  print STDERR \"$time [$level] $message at $caller0[1] line $caller0[2] ($subroutine; from $caller1[1] line $caller1[2])\\n\";\n  return;\n}\n</code></pre>\n\n<p>This program should:</p>\n\n<ul>\n<li>connect to RabbitMQ</li>\n<li>opens a RabbitMQ channel</li>\n<li>declares a simpe queue (named \"test\")</li>\n<li>bind to that queue (named \"test\")</li>\n<li>publish a message (\"Hello, world!\")</li>\n<li>after successfull publishing the message wait a second and publish another message</li>\n</ul>\n\n<p>This program (master program) should <em>not</em> consume messages. There are other programs out there to do this job.</p>\n\n<p>The minimal example (see above) will produce the following output:</p>\n\n<pre><code>2015-08-12T13:02:07+00:00 [debug] main at minimal.pl line 9 (main; from minimal.pl line 5)\n2015-08-12T13:02:07+00:00 [debug] Connecting to RabbitMQ... at minimal.pl line 13 (main; from minimal.pl line 5)\n2015-08-12T13:02:07+00:00 [debug] Connected to RabbitMQ. at minimal.pl line 36 (_on_connect_success; from minimal.pl line 22)\n2015-08-12T13:02:07+00:00 [debug] Opening RabbitMQ channel... at minimal.pl line 44 (_open_channel; from minimal.pl line 37)\n2015-08-12T13:02:07+00:00 [debug] Opened RabbitMQ channel. at minimal.pl line 58 (_on_open_channel_success; from minimal.pl line 46)\n2015-08-12T13:02:07+00:00 [debug] Declaring RabbitMQ queue... at minimal.pl line 66 (_declare_queue; from minimal.pl line 59)\n2015-08-12T13:02:07+00:00 [debug] Declared RabbitMQ queue. at minimal.pl line 88 (_on_declare_queue_success; from minimal.pl line 76)\n2015-08-12T13:02:07+00:00 [debug] Binding RabbitMQ queue... at minimal.pl line 96 (_bind_queue; from minimal.pl line 89)\n2015-08-12T13:02:07+00:00 [error] failure - Channel closed at minimal.pl line 155 (_error; from minimal.pl line 102)\n2015-08-12T13:02:07+00:00 [error] close - Net::AMQP::Frame::Method=HASH(0x38fe1c8) at minimal.pl line 155 (_error; from minimal.pl line 50)\n</code></pre>\n\n<p>Why does <code>AnyEvent::RabbitMQ</code> or RabbitMQ itself closes the channel (not the connection or did I miss something)?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1439390318, "post_id": 31965814, "comment_id": 51843828, "body": "When I see a variable called <code>$sSuccessString</code>, all I can muster is &quot;<b><i>nooooooooo!!!</i></b>&quot; In fact, you are violating the spirit of Hungarian notation. Everything in Perl can be stringified ... so you don&#39;t need two reminders that the variable is a string with the <code>s</code> prefix and the <code>String</code> suffix. Instead, <code>my $success_re = qr&#47;CURRENT_RUN_ID&#47;i;</code> or <code>my $log_fname = ...</code> would actually be in keeping with the <b><i>spirit</i></b> of Hungarian notation."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1439456868, "post_id": 31966131, "comment_id": 51872984, "body": "Hi simbabque, I tried implementing your code, keeping &quot;$slogfile&quot; as input file and a new name for output_file but getting (bareword &quot;output_file&quot; not allowed while strict subs) error. please suggest"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1439457191, "post_id": 31966131, "comment_id": 51873170, "body": "@Sur that&#39;s a syntax error. You probably forgot either a <code>$</code> on a variable name or to quote the filename. Just read the line that the message points to. It will be rather obvious. ;)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1439384686, "creation_date": 1439384686, "answer_id": 31966131, "question_id": 31965814, "link": "https://stackoverflow.com/questions/31965814/picking-a-specific-line-with-a-specific-string/31966131#31966131", "title": "Picking a specific line with a specific string", "body": "<p>You are already done reading from the filehandle <code>LOG</code> after you have slurped it into <code>$sLines</code>. <code>&lt;LOG&gt;</code> in the head of the <code>while</code> will return <code>undef</code> because it has reached <code>eof</code>. You either have to use that variable <code>$sLines</code> in your <code>while</code> loop or get rid of it. You're not using it anyway.</p>\n\n<p>If you only want to print the line that matches, all you need to do is this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen my $fh_in, '&lt;', 'input_file' or die $!;\nopen my $fh_out '&gt;', 'output_file' or die $!;\n\nwhile (my $line = &lt;$fh_in&gt;) {\n  print $fh_out $line if $line =~ m/CURRENT_RUN_ID/;\n}\n\nclose $fh_in;\nclose $fh_out;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1439391105, "last_edit_date": 1439391105, "creation_date": 1439390134, "answer_id": 31968276, "question_id": 31965814, "link": "https://stackoverflow.com/questions/31965814/picking-a-specific-line-with-a-specific-string/31968276#31968276", "title": "Picking a specific line with a specific string", "body": "<p>When you execute this code:</p>\n\n<pre><code>$sLines=&lt;LOG&gt;;\n</code></pre>\n\n<p>it reads all of the data from <code>LOG</code> into <code>$sLines</code> and it leaves the file pointer for <code>LOG</code> at the end of the file. So when you next try to read from that file handle with:</p>\n\n<pre><code>while (&lt;LOG&gt;)\n</code></pre>\n\n<p>nothing is returned as there is no more data to read.</p>\n\n<p>If you want to read the file twice, then you will need to use the <code>seek()</code> function to reset the file pointer before your second read.</p>\n\n<pre><code>seek LOG, 0, 0;\n</code></pre>\n\n<p>But, given that you never do anything with <code>$sLines</code> I suspect that you can probably just remove that whole section of the code.</p>\n\n<p>The whole thing with <code>$spool</code> and <code>@matchingLines</code> seems strange too. What were you trying to achieve there?</p>\n\n<p>I think your code can be simplified to just:</p>\n\n<pre><code>my $sSuccessString = \"CURRENT_RUN_ID\";\n\nopen(LOG, $slogfile) or die(\"Can't open $slogfile\\n\");\n\nwhile (&lt;LOG&gt;) {\n    print OUTLOG if /$sSuccessString/i/;\n}\n</code></pre>\n\n<p>Personally, I'd make it even simpler, by reading from STDIN and writing to STDOUT.</p>\n\n<pre><code>my $sSuccessString = 'CURRENT_RUN_ID';\n\nwhile (&lt;&gt;) {\n    print if /$sSuccessString/i/;\n}\n</code></pre>\n\n<p>And then using Unix I/O redirection to connect up the correct files.</p>\n\n<pre><code>$ ./this_filter.pl &lt; your_input.log &gt; your_output.log\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1439394452, "creation_date": 1439383964, "last_edit_date": 1439394452, "question_id": 31965814, "link": "https://stackoverflow.com/questions/31965814/picking-a-specific-line-with-a-specific-string", "title": "Picking a specific line with a specific string", "body": "<p>I am trying this in Perl to pick one complete line from whole document which contains \"CURRENT_RUN_ID\". I have been using below code to accomplish the above said task but I am unable to enter the while loop.</p>\n\n<pre><code>my $sSuccessString = \"CURRENT_RUN_ID\";\n\nopen(LOG, \"$slogfile\") or die(\"Can't open $slogfile\\n\");\nmy $sLines;\n{\n    local $/ = undef;\n    $sLines=&lt;LOG&gt;;\n}\nmy $spool = 0;\nmy @matchingLines;\n\nwhile (&lt;LOG&gt;) \n{\n    print OUTLOG \"in while loop\\n\";\n\n    if (m/$sSuccessString/i) {\n        print OUTLOG \"in if loop\\n\";\n        $spool = 1;\n        print map { \"$_ \\n\" } @matchingLines;\n        @matchingLines = ();\n    }\n    if ($spool) {\n        push (@matchingLines, $_);\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "awk", "sed"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 2, "creation_date": 1439384032, "post_id": 31965767, "comment_id": 51838671, "body": "Format your code in a readable way."}, {"owner": {"reputation": 37, "user_id": 5068876, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-DYdyP9t-Bb8/AAAAAAAAAAI/AAAAAAAAAHw/VrqcpsgYZYU/photo.jpg?sz=128", "display_name": "Vikas Dubey", "link": "https://stackoverflow.com/users/5068876/vikas-dubey"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1439385425, "post_id": 31965767, "comment_id": 51839836, "body": "I guess it is fine now ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1439386993, "post_id": 31965767, "comment_id": 51841109, "body": "@VikasDubey: Your changes prevented it from compiling. I&#39;ve rolled back to my last edit"}, {"owner": {"reputation": 60130, "user_id": 13860, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6bdc06836b7bcec9fce2c5c6e5242192?s=128&d=identicon&r=PG", "display_name": "Flimzy", "link": "https://stackoverflow.com/users/13860/flimzy"}, "edited": false, "score": 0, "creation_date": 1439391586, "post_id": 31965767, "comment_id": 51844827, "body": "Can you edit the question to <i>only</i> focus on the broken part? I don&#39;t want to have to dig to find this &quot;non-functioning elsif&quot;"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1439395917, "post_id": 31965767, "comment_id": 51847831, "body": "Post the expected output to go with your sample input. Can&#39;t you come up with a briefer example, though, so we don&#39;t have to try to read and understand so much input data? Might encourage a few more people (e.g. me!) to try to help you if you can demonstrate your problem with 10 lines or less of input instead of 50 or whatever that is."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1439389095, "last_edit_date": 1439389095, "creation_date": 1439388584, "answer_id": 31967656, "question_id": 31965767, "link": "https://stackoverflow.com/questions/31965767/non-functioning-elsif-loop-in-perl/31967656#31967656", "title": "Non-functioning elsif loop in perl", "body": "<p>I'm afraid I can't follow your logic of what gets preinted out at all, but it's very likely that your problem is to do with comparing floatin-point values for equality, whcih you should <em>never</em> do because of the limited precision of floating-point representation</p>\n\n<p>Instead you should use an <em>integer</em> counter, and calculate the lambda value from that. In my code below I have iterated <code>$i</code> from 0 to <code>$count</code>, and then calculated the corresponding <code>$lambda</code> using</p>\n\n<pre><code>my $lambda = $lower_lambda + $i * $difference / $count;\n</code></pre>\n\n<p>Then you can compare <code>$i</code> against 0 and <code>$count</code> to check whether you're on the first or the last step</p>\n\n<p>I have no way of knowing whether the range is right (should <code>$i</code> stop at <code>$count</code> or <code>$count-1</code>?) but that calculation is certainly correct</p>\n\n<p>I'm concerned about your tests <code>$i== 0</code> and <code>$i &lt; 1</code> as they will almost certainly fail too, but I can't see what you're trying to do. The first can only occur if <code>$lower_lambda</code> is negative or zero, and <code>$upper_lambda</code> is positive or zero, which seems unlikely. I suspect these tests are superfluous, and may be attempts to get your code working?</p>\n\n<p>And <em>please</em> don't use capital letters for your lexical variables: they are reserved for global identifiers like package names, and using them for your ordinary variables could get you hopelessly confused</p>\n\n<p>This code runs and creates the sequence of files correctly, but you should check the contents carefully</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse v5.10.1;\nuse autodie;\n\nour @ARGV = 'Lower_Lambda.mdp';\n\ndie \"Usage: $0 input.mdp\\n\" unless @ARGV;\n\nmy $mdp = $ARGV[0];\n\nmy $lower_lambda  = 0.1;\nmy $higher_lambda = 0.2;\nmy $count         = 5;\nmy $init_spacing  = 0.05;\n\nmy $difference = $higher_lambda - $lower_lambda;\nmy $spacing    = $difference / $count;\n\nfor my $i ( 0 .. $count ) {\n\n    my $lambda = $lower_lambda + $i * $difference / $count;\n\n    my $filename = $mdp =~ s/.*\\.\\K/sprintf '_%0.3f', $lambda/er;    #/\n\n    open my $in_fh,  '&lt;', $mdp;\n    open my $out_fh, '&gt;', $filename;\n\n    while ( &lt;$in_fh&gt; ) {\n\n        if ( /^(init_lambda\\s*=\\s*)/ ) {\n\n            my $label = $1;\n\n            printf $out_fh $label . \"%0.3f\\n\",\n                $lambda;\n        }\n        elsif ( /^(foreign_lambda\\s*=\\s*)/ ) {\n\n            my $label = $1;\n\n            if ( $lambda &gt;= 1 ) {\n                printf $out_fh $label . \"%0.3f\\n\",\n                    $lambda - $spacing;\n            }\n            elsif ( $lambda == 0 ) {\n                printf $out_fh $label . \"%0.3f\\n\",\n                    $lambda + $spacing;\n            }\n            elsif ( $i == 0 ) {\n                printf $out_fh $label . \"%0.3f %0.3f\\n\",\n                  $lambda - $init_spacing,\n                  $lambda + $spacing;\n            }\n            elsif ( $i == $count ) {\n                printf $out_fh $label . \"%0.3f %0.3f\\n\",\n                  $lambda - $spacing,\n                  $lambda + $init_spacing;\n            }\n            else {\n                printf $out_fh $label . \"%0.3f %0.3f\\n\",\n                  $lambda - $spacing,\n                  $lambda + $spacing;\n            }\n\n        }\n        else {\n            print $out_fh $_;\n        }\n    }\n\n    close $out_fh;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 2596489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAdqh.png?s=128&g=1", "display_name": "Chriistophe", "link": "https://stackoverflow.com/users/2596489/chriistophe"}, "is_accepted": false, "score": 0, "last_activity_date": 1441717518, "creation_date": 1441717518, "answer_id": 32458641, "question_id": 31965767, "link": "https://stackoverflow.com/questions/31965767/non-functioning-elsif-loop-in-perl/32458641#32458641", "title": "Non-functioning elsif loop in perl", "body": "<p>For your last question who 's not duplicate </p>\n\n<pre><code>if(LAMBDA == 0.95  || ( LAMBDA &gt; 0.96 &amp;&amp; LAMBDA &lt;1.01  ))\n\n           LAMBDA += 0.05;\n\n    else\n\n           LAMBDA += 0.1;\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 5068876, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-DYdyP9t-Bb8/AAAAAAAAAAI/AAAAAAAAAHw/VrqcpsgYZYU/photo.jpg?sz=128", "display_name": "Vikas Dubey", "link": "https://stackoverflow.com/users/5068876/vikas-dubey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1441717518, "creation_date": 1439383848, "last_edit_date": 1592644375, "question_id": 31965767, "link": "https://stackoverflow.com/questions/31965767/non-functioning-elsif-loop-in-perl", "title": "Non-functioning elsif loop in perl", "body": "<p>This Perl program takes an *.mdp file as input and generates copies of that file with changes to <code>init_lambda</code> and <code>foreign_Lambda</code>.</p>\n<p>Lambda varies from <code>0</code> to <code>1</code>. The parameter <code>foreign lambda</code> contains two values depending on the spacing, e.g. if lambda = 0.1 and spacing is 0.05 then foreign lambda values would be 0.05 and 0.1</p>\n<p>But I want to print values of <code>foreign lambda</code> at <code>Lower_Lambda</code> and <code>Higher_Lambda</code> differently. I used a conditional statement but I couldn't understand why the second <code>elsif</code> condition, which says <code>elsif ($i == $Higher_Lambda)</code> is not being executed.</p>\n<p>If I can achieve this using sed or awk, please suggest that too</p>\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\n\n# opens a generic .mdp file and replaces the values of\n# 'init_lambda' and 'foreign_lambda' values at increments\n# of by spacing\n\nmy $Lower_Lambda  = 0.1;\nmy $Higher_Lambda = 0.2;\nmy $Count         = 5;\nmy $init_spacing  = 0.05;\n\nunless ( @ARGV ) {\n    die &quot;Usage: $0 input.mdp\\n&quot;;\n}\n\nmy $difference = $Higher_Lambda - $Lower_Lambda;\nmy $spacing    = $difference / $Count;\nmy $mdp        = $ARGV[0];\nmy @temp       = split( '\\.', $mdp );\nmy $base       = $temp[0];\n\nopen( IN, &quot;&lt;$mdp&quot; );\nmy @in = &lt;IN&gt;;\nclose( IN );\n\nfor ( my $i = $Lower_Lambda ; $i &lt; $Higher_Lambda ; $i += $spacing ) {\n\n    my $filename = &quot;${base}_${i}.mdp&quot;;\n    open( OUT, &quot;&gt;$filename&quot; );\n\n    foreach $_ ( @in ) {\n\n        unless ( ( $_ =~ /^init_lambda/ ) || ( $_ =~ /^foreign_lambda/ ) ) {\n            print OUT $_;\n        }\n\n        if ( $_ =~ /^init_lambda\\s*=/ ) {\n\n            if ( $i &lt; 1 ) {\n                printf OUT &quot;%s %0.3f\\n&quot;, $&amp;, $i;\n            }\n            else {\n                printf OUT &quot;%s %.3f\\n&quot;, $&amp;, $i;\n            }\n        }\n\n        if ( $_ =~ /^foreign_lambda\\s*=/ ) {\n\n            if ( $i &lt; 1 ) {\n\n                if ( $i == 0 ) {\n                    printf OUT &quot;%s %0.3f\\n&quot;, $&amp;, ( $i + $spacing );\n\n                    print &quot;I am in 0&quot;;\n                }\n                elsif ( $i == $lower_lambda ) {\n\n                    printf OUT &quot;%s %0.3f %0.3f\\n&quot;, $&amp;, $i - $init_spacing,\n                      ( $i + $spacing );\n                    print &quot;I am not there&quot;;\n                }\n                elsif ( $i == $Higher_Lambda ) {\n\n                    printf OUT &quot;%s %0.3f %0.3f\\n&quot;, $&amp;, $i - $spacing,\n                      $i + $init_spacing;\n                    print &quot;I am here bro&quot;;\n                }\n                else {\n\n                    printf OUT &quot;%s %0.3f %0.3f\\n&quot;, $&amp;, ( $i - $spacing ),\n                      ( $i + $spacing );\n\n                }\n            }\n            else {\n                printf OUT &quot;%s %0.3f\\n&quot;, $&amp;, ( $i - $spacing );\n            }\n        }\n    }\n\n    close( OUT );\n\n}\n\nexit;\n</code></pre>\n<br/>\n<hr />\n<h3>input file</h3>\n<pre><code> energygrps               = W WF Protein DPPC \n ; Neighborsearching and short-range nonbonded interactions\n nstlist                  = 10\n ns_type                  = grid\n pbc                      = xyz\n rlist                    = 1.3\n ; Electrostatics\n coulombtype              = shift\n rcoulomb                 = 1.2\n vdw-type                 = shift\n rvdw-switch              = 0.9\n\n tau_t                    = 1.0; 1.0 1.0\n ref_t                    = 300; 300 300\n ; Pressure coupling is on for NPT\n Pcoupl                   = Berendsen ; Parrinello-Rahman \n Pcoupltype               = semiisotropic\n tau_p                    = 1.1 1.1\n compressibility          = 1e-05 1e-05\n ref_p                    = 1.0 1.0\n ; Free energy control stuff\n free_energy              = yes\n init_lambda              = 0.0\n delta_lambda             = 0\n foreign_lambda           = 0.05\n sc-alpha                 = 1.3\n sc-power                 = 1.0\n sc-sigma                 = 0.47 \n couple-moltype           = Protein  ; name of moleculetype to decouple\n couple-lambda0           = vdw-q      ; only van der Waals interactions\n couple-lambda1           = none     ; turn off everything, in this  \n vdW\n couple-intramol          = yes\n nstdhdl                  = 10\n ; Do not generate velocities\n gen_vel                  = no \n ; options for bonds\n constraints              = h-bonds  ; we only have C-H bonds here\n ; Type of constraint algorithm\n constraint-algorithm     = lincs\n ; Constrain the starting configuration\n ; since we are continuing from NPT\n continuation             = yes  \n lincs-order              = 12\n ld_seed                   =-1\n</code></pre>\n"}, {"tags": ["perl", "winapi", "ms-word", "ole"], "answers": [{"comments": [{"owner": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1439395166, "post_id": 31964742, "comment_id": 51847364, "body": "I have not tried, but maybe the function &quot;Win32::OLE-&gt;GetObject(filename)&quot; might work as well."}], "tags": [], "owner": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "is_accepted": true, "score": 1, "last_activity_date": 1439438925, "last_edit_date": 1439438925, "creation_date": 1439381166, "answer_id": 31964742, "question_id": 31964741, "link": "https://stackoverflow.com/questions/31964741/issue-in-win32ole-of-perl-with-ms-office-2013-32bits/31964742#31964742", "title": "Issue in Win32::OLE of Perl with MS Office 2013 (32bits)", "body": "<p>Apparently, the problem was specific to my machine.</p>\n\n<p>The function <code>Win32::OLE-&gt;new</code> seems not to work on my computer (but works on another computer under Windows 8 with the same version of MS Office).</p>\n\n<p>The workaround was to force opening MS Word by hand before using the function <code>GetActiveObject</code>.</p>\n\n<p>The code I have updated looks like that:</p>\n\n<pre><code>### opening file: try with \"GetActiveObject\" function, otherwise try with \"new\" function \nmy $Word;\neval {\n    $Word = Win32::OLE-&gt;GetActiveObject('Word.Application') \n         || Win32::OLE-&gt;new('Word.Application', 'Quit');\n};\nif ($@) {\n    #MS Word shall be opened manually\n    print \"Please open MS Word manually before continuing\\n\";\n    print \"...Press ENTER to continue...\\n\";\n    &lt;STDIN&gt;;\n    $Word = Win32::OLE-&gt;GetActiveObject('Word.Application','Quit');\n}\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 763, "favorite_count": 0, "accepted_answer_id": 31964742, "answer_count": 1, "score": 0, "last_activity_date": 1439455354, "creation_date": 1439381166, "last_edit_date": 1439438613, "question_id": 31964741, "link": "https://stackoverflow.com/questions/31964741/issue-in-win32ole-of-perl-with-ms-office-2013-32bits", "title": "Issue in Win32::OLE of Perl with MS Office 2013 (32bits)", "body": "<p>I had a Perl script using Win32::OLE to access a MS Word file. It worked fine with MS Office 2010 but does not after I updated to MS Office 2013 32bits. </p>\n\n<p>I have then tried with latest versions of ActivePerl both 32 bits and 64 bits. I am using Windows 7 SP1 64bits.</p>\n\n<p>The error appears in the following line when MS Word is closed and when <code>Win32::OLE-&gt;new('Word.Application', 'Quit')</code> is called:</p>\n\n<pre><code>my $Word =  Win32::OLE-&gt;GetActiveObject('Word.Application') || Win32::OLE-&gt;new('Word.Application', 'Quit');\n</code></pre>\n\n<p><strong>[Update 13-Aug-2015]</strong> <em>Added <code>Win32::OLE-&gt;GetActiveObject('Word.Application') ||</code> in the command line to emphasize that problem was related to the <code>new</code> function</em></p>\n\n<p>The error returned is the following:</p>\n\n<blockquote>\n  <p>Win32::OLE(0.1709) error 0x800700c1: \"%1 is not a valid Win32\n  application\" at C:\\script.pl line 52<br>\n       eval {...} called at C:\\script.pl line 52</p>\n</blockquote>\n\n<p>Interestingly, the line 52 corresponds to a commented line\n<a href=\"https://i.stack.imgur.com/7tSLi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7tSLi.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the entire script (after commenting lines for debug purpose):</p>\n\n<pre><code>#!perl\n#line 15\n\n#======================================================================\n# This script takes a Word document as input and generates out of it\n# The Rev_x and the proper .pdf, and add the PDF to SVN\n#======================================================================\n\nuse Win32::OLE qw(in with valof OVERLOAD);\nuse Win32::OLE::Const 'Microsoft.Word';    # wd  constants\nuse Win32::OLE::Variant;\n$Win32::OLE::Warn = 3;\n\nmy $true  = Variant(VT_BOOL, 1);\nmy $false  = Variant(VT_BOOL, 0);\n\nuse Getopt::Long;\nuse File::Spec;\nuse File::Basename;\n\nmy $NoChanges = undef;\n\nexit 1 unless &amp;GetOptions('no-changes',  \\$NoChanges);\n\n$DocFile = $ARGV[0];\n$DocFile = \"E:/SVN/project-docs/6.7/Common Data/03-Standards/SC-ST-019_STST-SDY.docx\";\n# $DocFile = \"E:/SVN/project-docs/6.7/Common Data/SC-TS-048_TS-TOR-DF.docx\";\n[ -e $DocFile ] || die \"*** Cannot open '$DocFile'\\n\";\n\nif ( ! File::Spec-&gt;file_name_is_absolute($DocFile) ) {\n  warn \"File name is not absolute, trying to fix it\\n\";\n  my $abs = File::Spec-&gt;rel2abs($DocFile);\n  warn \"Finding: $abs\\n\";\n  $DocFile = $abs;\n}\n\n## Autoflush\n$| = 1;\n### opening file: try with \"new\" function, otherwise use \"GetActiveObject\"\nmy $Word =  Win32::OLE-&gt;GetActiveObject('Word.Application') || Win32::OLE-&gt;new('Word.Application', 'Quit');\n\n# print \"--- Opening $DocFile\\n\";\n# my $document = $Word-&gt;Documents-&gt;Open({FileName =&gt;$DocFile, ReadOnly =&gt;$true, ConfirmConversions =&gt; 0});\n# die \"Cannot open '$DocFile'\\n\" unless defined $document;\n# $document-&gt;Activate();\n\n# ### Extract revision, increment and date from fields\n# my $major = $document-&gt;Bookmarks-&gt;{Doc_Rev}-&gt;Range-&gt;{Text};\n# $major =~ s/ *FORMTEXT *//;\n# my $minor = $document-&gt;Bookmarks-&gt;{Doc_Incr}-&gt;Range-&gt;{Text};\n# $minor =~ s/ *FORMTEXT *//;\n# my $date = $document-&gt;Bookmarks-&gt;{Doc_Date}-&gt;Range-&gt;{Text};\n# $date =~ s/ *FORMTEXT *//;\n# my ($id) = (basename($DocFile) =~ /^([A-Z0-9-]+)/);\n# print \"--- DocID=$id\\n\";\n\n### Accept all changes\n# if ($NoChanges = 1) {\n  # $Word-&gt;ActiveDocument-&gt;{TrackRevisions} = $false;\n  # $Word-&gt;WordBasic-&gt;AcceptAllChangesInDoc();\n# }\n\n# ### Setting normal view to update fields\n# $Word-&gt;ActiveWindow-&gt;ActivePane-&gt;View-&gt;{Type} = wdNormalView;\n# my $selection = $Word-&gt;Selection();\n# $selection-&gt;WholeStory();\n# $selection-&gt;Fields-&gt;Update();\n\n# ### Back to print view &amp; print\n# $Word-&gt;ActiveWindow-&gt;ActivePane-&gt;View-&gt;{Type} = wdPrintView;\n\n# ### Build PDF filepath\n# my $pdf = $DocFile;\n# $pdf =~ s/[.]docx?$/.pdf/;\n# $pdf =~ s/[.]rtf$/.pdf/;\n# $pdf =~ s/$id/$id-$major-$minor/;\n# print \"PDF = $pdf\\n\";\n\n# print \"--- Printing \";\n# $Word-&gt;ActiveDocument-&gt;ExportAsFixedFormat({ OutputFileName  =&gt; $pdf,\n                           # ExportFormat    =&gt; wdExportFormatPDF,\n                           # OpenAfterExport =&gt; $false,\n                           # IncludeDocProps =&gt; $true,\n                           # OptimizeFor =&gt; wdExportOptimizeForPrint,\n                           # CreateBookmarks =&gt; wdExportCreateHeadingBookmarks});\n\n# while ( $Word-&gt;BackgroundPrintingStatus() &gt; 0 ) {\n  # print \".\";\n  # sleep 1;\n# }\n# print \"\\n\";\n# $document-&gt;Close(wdDoNotSaveChanges);\n</code></pre>\n\n<p>I have searched information in StackOverflow, Perlmonks, etc. but not found anything relevant.</p>\n\n<p>How shall I modify my code to make it work.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1439379471, "post_id": 31963736, "comment_id": 51835321, "body": "That should be fine unless your logname contains some symbols as well as letters and numbers"}, {"owner": {"reputation": 3365, "user_id": 1335601, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/defef3dd7b7aa584df6a02e50f9b0cf9?s=128&d=identicon&r=PG", "display_name": "Ibrahim Quraish", "link": "https://stackoverflow.com/users/1335601/ibrahim-quraish"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1439384913, "post_id": 31963736, "comment_id": 51839404, "body": "Thank you all for the inputs. The problem got solved by using chomp() function as <code>chomp(my $x = `&#47;usr&#47;bin&#47;whoami`);</code>  And the associative array was already working, and I failed to notice it."}], "answers": [{"tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 3, "last_activity_date": 1439382197, "last_edit_date": 1439382197, "creation_date": 1439380826, "answer_id": 31964631, "question_id": 31963736, "link": "https://stackoverflow.com/questions/31963736/using-variables-or-associative-arrays-in-perl-regular-expression-operator-for-fi/31964631#31964631", "title": "Using variables or associative arrays in Perl regular expression operator for file input", "body": "<p>Borodin is right, your script works fine for me whether I do ...</p>\n\n<pre><code>cat /etc/passwd | ./test.pl\n</code></pre>\n\n<p>or...</p>\n\n<pre><code>/test.pl /etc/passwd\n</code></pre>\n\n<p>However, a few things.... If you're so inclined, your script could be shortened to this...</p>\n\n<pre><code>while (&lt;&gt;) {\n    print if /$ENV{USER}/;\n}\n</code></pre>\n\n<p>Perl golfers might shorten further, but this is about as short as I like while still making it's purpose obvious.</p>\n\n<p>If (as Borodin suggested) you have some character in your username that is throwing the regex off... you can either escape your meta characters with <code>quotemeta( $ENV{USER} )</code> or, preferably, don't use a (comparatively costly) regex when you're just matching a sub-string... Instead, use the <code>index</code> function...</p>\n\n<pre><code>while (&lt;&gt;) {\n    print if index( $_, $ENV{USER} ) != -1; \n}\n</code></pre>\n\n<p>The <code>index</code> builtin return the index at which a sub-string occurs (eg, <code>out</code> occurs in <code>bout</code> at index <code>1</code>, and occurs in <code>throughout</code> at index <code>7</code>) or it returns <code>-1</code> if the sub-string does not occur.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I forgot to mention a little <em>gotcha</em> with the <code>index</code> function... it is case sensitive. If you want it to be case insensitive, the best way is to just force the case on your arguments to be the same, like this...</p>\n\n<pre><code>print if index( lc($_), lc($ENV{USER}) ) != -1;\n</code></pre>\n\n<p>In this example, I am forcing both arguments to <code>index</code> to be in lowercase.</p>\n"}], "owner": {"reputation": 3365, "user_id": 1335601, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/defef3dd7b7aa584df6a02e50f9b0cf9?s=128&d=identicon&r=PG", "display_name": "Ibrahim Quraish", "link": "https://stackoverflow.com/users/1335601/ibrahim-quraish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439382197, "creation_date": 1439378441, "question_id": 31963736, "link": "https://stackoverflow.com/questions/31963736/using-variables-or-associative-arrays-in-perl-regular-expression-operator-for-fi", "title": "Using variables or associative arrays in Perl regular expression operator for file input", "body": "<p>I am writing a perl script to filter only the records from /etc/passwd that matches my login name. But when I include a variable or hash table between the \"/ /\" to be matched by the pattern matching operator, it works only for the standard input, if I pass /etc/passwd filename argument to my perl script then it returns empty results. How to solve this issue?</p>\n\n<pre><code>#!/usr/bin/perl -w\nwhile (&lt;&gt;) {\n    my $x = `logname`;\n    #if ($_ =~ /$x/) {\n    if ($_ =~ /$ENV{'LOGNAME'}/) {\n       print $_;\n    }\n}\n</code></pre>\n\n<p>./test.pl /etc/passwd ==> returns blank output</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1439376860, "post_id": 31963032, "comment_id": 51833548, "body": "Maybe <code>while()</code> should be inside <code>foreach</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 694, "user_id": 2068165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOI9q.jpg?s=128&g=1", "display_name": "UrsaDK", "link": "https://stackoverflow.com/users/2068165/ursadk"}, "edited": false, "score": 0, "creation_date": 1439379856, "post_id": 31963149, "comment_id": 51835554, "body": "You might also want to check against <code>service</code> command failing to run (if the user doesn&#39;t have necessary permissions, for example): `open \u2026 or die &quot;Can&#39;t execute service: $!&quot;;"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": true, "score": 1, "last_activity_date": 1439397682, "last_edit_date": 1439397682, "creation_date": 1439376858, "answer_id": 31963149, "question_id": 31963032, "link": "https://stackoverflow.com/questions/31963032/local-variables-out-of-reach/31963149#31963149", "title": "Local variables out of reach", "body": "<p><code>$service_input</code> and <code>$service</code> are only visible within you <code>for</code> loop because you define it there. I think your <code>while</code> loop should be moved inside the <code>for</code> loop.</p>\n\n<p>You have to change your code to this</p>\n\n<pre><code>for my $service ( @service_list ) {\n\n    open( my $service_input, '-|', 'service', $service, 'status' );\n\n    while ( my $line = &lt;$service_input&gt; ) {\n\n        if ( $line =~ /\\(running\\)/ ) {\n            print \"The service $service is running.\\n\";\n        }\n        elsif ( $line =~ /dead/ ) {\n            print \"The service $service is dead.\\n\";\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4886633, "user_type": "registered", "profile_image": "https://graph.facebook.com/398142120365695/picture?type=large", "display_name": "Cyka Bear", "link": "https://stackoverflow.com/users/4886633/cyka-bear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 31963149, "answer_count": 1, "score": 0, "last_activity_date": 1439397682, "creation_date": 1439376579, "last_edit_date": 1439391653, "question_id": 31963032, "link": "https://stackoverflow.com/questions/31963032/local-variables-out-of-reach", "title": "Local variables out of reach", "body": "<p>I have a Perl script that is supposed to read input from a system command, namely <code>service $service status</code> where <code>$service</code> points to user input stored in an array structure. It should be possible for the user to check a single service such as <strong>ssh</strong> or several services at once such as <strong>ssh,named,cups</strong> where the services are separated by a comma sign. The program then splits the services into an array and calls the command for each of the user specified services.</p>\n\n<p>My program code looks like this.</p>\n\n<pre><code>print \"Please provide the service name that you wish to analyze (Named service):\\n\";\n\nmy $service_name_input = &lt;&gt;;\nchomp($service_name_input);\nmy @service_list = split(/,/, $service_name_input);\n\nforeach my $service (@service_list)\n{\n    open(my $service_input, '-|', \"service\", $service, \"status\");\n}\n\nwhile (my $line = &lt;$service_input&gt;)\n{\n    #Matches for \"running\".\n    if ($line =~ m/(\\(running\\))/)\n    {\n        print \"The service $service is running.\\n\";\n    }\n    #Matches for \"dead\".\n    elsif ($line =~ m/(dead)/)\n    {\n        print \"The service $service is dead.\\n\";\n    }\n}\n</code></pre>\n\n<p>The problem here is that the program requires explicit package name for <code>$service_input</code> in the while statement, and for <code>$service</code> when printing although they are already assigned that. Any guidance towards a solution will be highly appreciated. </p>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1439381874, "post_id": 31962546, "comment_id": 51836943, "body": "Please tell us what system you&#39;re working on?"}, {"owner": {"reputation": 661, "user_id": 2425460, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/840e7165882bdc3499f4e4c33d8ca353?s=128&d=identicon&r=PG", "display_name": "Able Eldhose", "link": "https://stackoverflow.com/users/2425460/able-eldhose"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1439382820, "post_id": 31962546, "comment_id": 51837646, "body": "I am working on a Windows 7 Enterprise Edition and my perl version is v5.8.4"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1439382981, "post_id": 31962546, "comment_id": 51837770, "body": "Okay, you should probably reinstall Perl (ActivePerl or Strawberry?) as the file association isn&#39;tr set up properly"}], "answers": [{"comments": [{"owner": {"reputation": 661, "user_id": 2425460, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/840e7165882bdc3499f4e4c33d8ca353?s=128&d=identicon&r=PG", "display_name": "Able Eldhose", "link": "https://stackoverflow.com/users/2425460/able-eldhose"}, "edited": false, "score": 0, "creation_date": 1439378588, "post_id": 31963546, "comment_id": 51834729, "body": "But in some systems its working without any edits. I am dealing with a huge list of scripts and if i have to edit i would have to edit some 300 scripts. Is there any system dependency or something like that."}, {"owner": {"reputation": 118, "user_id": 3941112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qMEkl.jpg?s=128&g=1", "display_name": "Malli Paritala", "link": "https://stackoverflow.com/users/3941112/malli-paritala"}, "reply_to_user": {"reputation": 661, "user_id": 2425460, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/840e7165882bdc3499f4e4c33d8ca353?s=128&d=identicon&r=PG", "display_name": "Able Eldhose", "link": "https://stackoverflow.com/users/2425460/able-eldhose"}, "edited": false, "score": 0, "creation_date": 1439379219, "post_id": 31963546, "comment_id": 51835164, "body": "If you are using Windows then shebang line shoud be something like: #!C:\\home\\apps\\perl\\bin\\perl.exe -w   . If you can post something specific where it is not working, that would be helpful.."}, {"owner": {"reputation": 661, "user_id": 2425460, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/840e7165882bdc3499f4e4c33d8ca353?s=128&d=identicon&r=PG", "display_name": "Able Eldhose", "link": "https://stackoverflow.com/users/2425460/able-eldhose"}, "edited": false, "score": 0, "creation_date": 1439379967, "post_id": 31963546, "comment_id": 51835623, "body": "Use of uninitialized value in concatenation (.) or string at C:\\Child.pl line 4. is coming when accessing the argument in child script. Without shebang the scripts are running in some machines. So will there be any system settings that will make it run without editing the scripts."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1439381817, "post_id": 31963546, "comment_id": 51836896, "body": "@MalliParitala: Perl on Windows <i>ignores</i> the shebang line, except for the options such as <code>-w</code>. In any case <code>use warnings</code> is superior, so just omit the shebang line altogethe"}], "tags": [], "owner": {"reputation": 118, "user_id": 3941112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qMEkl.jpg?s=128&g=1", "display_name": "Malli Paritala", "link": "https://stackoverflow.com/users/3941112/malli-paritala"}, "is_accepted": false, "score": 0, "last_activity_date": 1439377928, "creation_date": 1439377928, "answer_id": 31963546, "question_id": 31962546, "link": "https://stackoverflow.com/questions/31962546/systemchild-pl-argument-does-not-pass-argument-to-child-pl/31963546#31963546", "title": "system(&quot;Child.pl $argument&quot;) does not pass argument to Child.pl", "body": "<p>First:</p>\n\n<p>Add shebang line in both scripts.</p>\n\n<p>Second:</p>\n\n<p>Give full path of your child script.</p>\n\n<p>Third:</p>\n\n<p>Make sure both scripts are executable.</p>\n\n<p>Parent.pl:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\n\nprint \"Inside Parent Script\\n\\n\";\n$var = 10;\nprint \"Calling system without perl prefix\\n\";\nsystem(\"./Child.pl $var\");\nprint \"\\nCalling system with perl prefix\\n\";\nsystem(\"perl Child.pl $var\");\nprint \"\\nEnd of Parent Script\\n\";\n\nexit 0;\n</code></pre>\n\n<p>Child.pl:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\n\nprint \"\\tInside Child Script\\n\";\nprint \"\\tArgument = $ARGV[0] \\n\";\nprint \"\\tEnd of Child Secipt\\n\";\n\nexit 0; \n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Inside Parent Script\n\nCalling system without perl prefix\n    Inside Child Script\n    Argument = 10 \n    End of Child Secipt\n\nCalling system with perl prefix\n    Inside Child Script\n    Argument = 10 \n    End of Child Secipt\n\nEnd of Parent Script\n</code></pre>\n\n<p>That should work fine for you too.</p>\n"}], "owner": {"reputation": 661, "user_id": 2425460, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/840e7165882bdc3499f4e4c33d8ca353?s=128&d=identicon&r=PG", "display_name": "Able Eldhose", "link": "https://stackoverflow.com/users/2425460/able-eldhose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "closed_date": 1439382918, "answer_count": 1, "score": 1, "last_activity_date": 1439382834, "creation_date": 1439375192, "last_edit_date": 1439382834, "question_id": 31962546, "link": "https://stackoverflow.com/questions/31962546/systemchild-pl-argument-does-not-pass-argument-to-child-pl", "closed_reason": "Duplicate", "title": "system(&quot;Child.pl $argument&quot;) does not pass argument to Child.pl", "body": "<p>My intention was to call a Child.pl script from a Parent.pl script  </p>\n\n<p>I used system() function to call other script.<br>\nWhen using  </p>\n\n<pre><code>system(\"perl Child.pl $argument\");  \n</code></pre>\n\n<p>the argument is passed. </p>\n\n<p>But when using</p>\n\n<pre><code>system(\"Child.pl $argument\");\n</code></pre>\n\n<p>the argument is not passed.  </p>\n\n<p>Is that because of any mistake in code.<br>\nI am a novice in perl scripting. Pardon me if i am asking any blunder.  </p>\n\n<p>I am using windows 7 and my perl version is  v5.8.4</p>\n\n<p>My Parent.pl script is</p>\n\n<pre><code>use warnings;\n\nprint \"Inside Parent Script\\n\\n\";\n$var = 10;\nprint \"Calling system without perl prefix\\n\";\nsystem(\"Child.pl $var\");\nprint \"\\nCalling system with perl prefix\\n\";\nsystem(\"perl Child.pl $var\");\nprint \"\\nEnd of Parent Script\\n\";\n\nexit 0;  \n</code></pre>\n\n<p>My Child.pl script is </p>\n\n<pre><code>use warnings;\n\nprint \"\\tInside Child Script\\n\";\nprint \"\\tArgument = $ARGV[0] \\n\";\nprint \"\\tEnd of Child Secipt\\n\";\n\nexit 0;  \n</code></pre>\n\n<p>My Output is </p>\n\n<pre><code>Inside Parent Script\n\nCalling system without perl prefix\n    Inside Child Script\nUse of uninitialized value in concatenation (.) or string at C:\\Child.pl line 4.\n    Argument =  \n    End of Child Script\n\nCalling system with perl prefix\n    Inside Child Script\n    Argument = 10 \n    End of Child Script\n\nEnd of Parent Script\n</code></pre>\n\n<p>It seems like in some PC its working without perl prefix.<br>\nI am dealing with a huge junk of scripts which does not use perl prefix.<br>\nIs there any way i can keep those scripts intact and still make the argument pass through.</p>\n"}, {"tags": ["perl", "poe"], "comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1439376644, "post_id": 31961551, "comment_id": 51833420, "body": "cross post at <a href=\"http://perlmonks.com/?node_id=1138295\" rel=\"nofollow noreferrer\">perlmonks.com/?node_id=1138295</a>"}, {"owner": {"reputation": 2977, "user_id": 6756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/43f2aadf6e9f8d017ff453b7a8dbf507?s=128&d=identicon&r=PG", "display_name": "GodEater", "link": "https://stackoverflow.com/users/6756/godeater"}, "reply_to_user": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1439376721, "post_id": 31961551, "comment_id": 51833468, "body": "is posting to a completely seperate site not allowed or something? I presumed there would be somewhat different audiences..."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1439376875, "post_id": 31961551, "comment_id": 51833557, "body": "it&#39;s polite to tell people on each site that others may be working on the problem. You have answers on perl monks and have posted more information not included here. Failing to do so risks wasting peoples time"}, {"owner": {"reputation": 2977, "user_id": 6756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/43f2aadf6e9f8d017ff453b7a8dbf507?s=128&d=identicon&r=PG", "display_name": "GodEater", "link": "https://stackoverflow.com/users/6756/godeater"}, "reply_to_user": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 1, "creation_date": 1439377102, "post_id": 31961551, "comment_id": 51833728, "body": "ah ha - gotcha. Will remember this in future - thank you."}], "owner": {"reputation": 2977, "user_id": 6756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/43f2aadf6e9f8d017ff453b7a8dbf507?s=128&d=identicon&r=PG", "display_name": "GodEater", "link": "https://stackoverflow.com/users/6756/godeater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1439372587, "creation_date": 1439372587, "question_id": 31961551, "link": "https://stackoverflow.com/questions/31961551/is-my-poecomponentirc-event-loop-stuck", "title": "Is my POE::Component::IRC Event loop stuck?", "body": "<p>I've been tasked with writing an IRC bot which will join channels on the internal IRC system here, and post messages to channels which don't appear to be used anymore, warning any potential users that the channel is about to be retired. Our IRC system has about 6,500 channels which need these messages posted to them, and the IRC server we use (a customised fork of Hybrid) limits concurrent channel joins to 100 per connection. In an attempt not to hit this limit, the code I've got is this :</p>\n\n<pre><code>if ($channel_list-&gt;{$channel}{joined}) {\n    # If we're already joined, privmsg immediately\n    $logger-&gt;info(\"Trying to message $channel\");\n    $data_entry-&gt;notified('true');\n    $data_entry-&gt;update;\n    $irc-&gt;yield(privmsg =&gt; $msg_channel, $message);\n    $irc-&gt;yield(part =&gt; $msg_channel);\n} else {\n    # Otherwise join, and let the join event do the privmsg and part\n    $logger-&gt;info(\"Trying to join $channel\");\n    $data_entry-&gt;notified('true');\n    $data_entry-&gt;update;\n    $irc-&gt;yield(join =&gt; $msg_channel);\n}\n</code></pre>\n\n<p>i.e. it will see if we're joined already, and if we are, try to post the notification message, and then immediately part. If we're not joined, it tries to join first (and the join event will fire the message sending).</p>\n\n<p>The problem is the code never seems to run the</p>\n\n<pre><code>$irc-&gt;yield(part =&gt; $msg_channel);\n</code></pre>\n\n<p>line, as eventually I start getting irc_405 events back from the IRC server saying the code has joined too many channels. Anyone got any idea what am I doing wrong?</p>\n"}, {"tags": ["php", "perl", "raspberry-pi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1439373910, "post_id": 31960921, "comment_id": 51831627, "body": "Why do you have the <code>-s</code> flag enabled in your Perl shebang?"}], "answers": [{"tags": [], "owner": {"reputation": 118, "user_id": 3941112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qMEkl.jpg?s=128&g=1", "display_name": "Malli Paritala", "link": "https://stackoverflow.com/users/3941112/malli-paritala"}, "is_accepted": true, "score": 2, "last_activity_date": 1439373916, "creation_date": 1439373916, "answer_id": 31962054, "question_id": 31960921, "link": "https://stackoverflow.com/questions/31960921/cannot-run-perl-script-from-php/31962054#31962054", "title": "Cannot run perl script from PHP", "body": "<p>There are two problems here:</p>\n\n<p>First:</p>\n\n<p>Below line</p>\n\n<pre><code>printf(\"settingup te for %d\",$var);\n</code></pre>\n\n<p>should be changed to</p>\n\n<pre><code>printf(\"settingup te for %d\",@var);\n</code></pre>\n\n<p>There was no $var variable initialized to print, its @var array you are using in your subroutine.</p>\n\n<p>Second:</p>\n\n<p>You should know how to write a simple php script.</p>\n\n<pre><code>#!/usr/bin/php\n\n&lt;?php\nexec(\"perl test.pl te 1\",$output);\necho '&lt;pre&gt;'; print_r(array_values($output)); echo '&lt;/pre&gt;';\n?&gt;\n</code></pre>\n\n<p>This works fine for me and output:</p>\n\n<pre><code>&lt;pre&gt;Array\n(\n    [0] =&gt; te chosen to(1)\n    [1] =&gt; settingup te for 1\n)\n&lt;/pre&gt;\n</code></pre>\n\n<p>perl script:</p>\n\n<pre><code>#!/usr/bin/perl -s\n\n# Function definition\nuse test_sub qw( :all ) ;\n\nuse strict;\nuse warnings;\n\nif ($ARGV[0] eq \"te\") \n{\n  printf(\"te chosen to(%d)\\n\",$ARGV[1]);\n  te($ARGV[1]);\n}   \n</code></pre>\n\n<p>perl module:</p>\n\n<pre><code>package test_sub; \n\nuse strict;\nuse warnings;\n\nuse Exporter qw(import);\nuse Time::HiRes qw(usleep);\n\nour @EXPORT_OK = qw(te);\nour %EXPORT_TAGS = (all =&gt; \\@EXPORT_OK );\n\nsub te {\n  my @var = @_;\n  printf(\"settingup te for %d\",@var);\n}\n</code></pre>\n\n<p>php code:</p>\n\n<pre><code>#!/usr/bin/php\n\n&lt;?php\nexec(\"perl test.pl te 1\",$output);\necho '&lt;pre&gt;'; print_r(array_values($output)); echo '&lt;/pre&gt;';\n?&gt;\n</code></pre>\n\n<p>That should work fine for you as well.</p>\n"}], "owner": {"reputation": 13, "user_id": 5218455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dade565b4dea39dd5afb9f36041d960?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/5218455/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 31962054, "answer_count": 1, "score": 1, "last_activity_date": 1439373916, "creation_date": 1439371025, "last_edit_date": 1439371682, "question_id": 31960921, "link": "https://stackoverflow.com/questions/31960921/cannot-run-perl-script-from-php", "title": "Cannot run perl script from PHP", "body": "<p>I have made a perl script which I would like to run from PHP.</p>\n\n<p>When I do a normal example like</p>\n\n<p>PHP:</p>\n\n<pre><code>exec(\"perl test.pl\",$output);\necho '&lt;pre&gt;'; print_r(array_values($output)); echo '&lt;/pre&gt;';\n</code></pre>\n\n<p>PERL:</p>\n\n<pre><code>#!/usr/bin/perl -s\nprint \"Hiii. This is perl executing in PHP\";\n</code></pre>\n\n<p>And it prints out: Hiii. This is perl executing in PHP in PHP</p>\n\n<p>But when I add my other Perl script (test2):</p>\n\n<pre><code>#!/usr/bin/perl -s\n\n# Function definition\nuse test_sub qw( :all ) ;\n\nuse strict;\nuse warnings;\n\nif ($ARGV[0] eq \"te\") \n{\n  printf(\"te chosen to(%d)\\n\",$ARGV[1]);\n  te($ARGV[1]);\n}   \n</code></pre>\n\n<p>And the new PHP looks like:</p>\n\n<pre><code>exec(\"perl test2.pl\",$output);\necho '&lt;pre&gt;'; print_r(array_values($output)); echo '&lt;/pre&gt;';\n</code></pre>\n\n<p>I know that there should be a warning atleast eventhough i dont use any arguments, but nothing appears to be in the $output.</p>\n\n<p>Even with arguments in PHP:</p>\n\n<pre><code>exec(\"perl test2.pl te 1\",$output);\necho '&lt;pre&gt;'; print_r(array_values($output)); echo '&lt;/pre&gt;';\n</code></pre>\n\n<p>Nothing appears.\nI have tried to see if the file in executable with the function    </p>\n\n<pre><code>is_executable('test2.pl')\n</code></pre>\n\n<p>Which it is.</p>\n\n<p>This runs on a Raspberry PI 2 with Arch and I do not know if this could have any impact?</p>\n\n<p>The other perl file which is referred to is:</p>\n\n<pre><code>package test_sub; \n\nuse strict;\nuse warnings;\n\nuse Exporter qw(import);\nuse Time::HiRes qw(usleep);\n\nour @EXPORT_OK = qw(te);\nour %EXPORT_TAGS = (all =&gt; \\@EXPORT_OK );\n\nsub te {\n  my @var = @_;\n  printf(\"settingup te for %d\",$var);\n}\n</code></pre>\n\n<p>I have checked in the terminal for it self and here it works as intended. But I cannot get it to work through PHP.</p>\n\n<p>Any help would be much appreciated.</p>\n\n<p><strong>Update 1</strong></p>\n\n<p>I have found out that if I add the line:</p>\n\n<pre><code>use test_sub qw( :all ) ;\n</code></pre>\n\n<p>To the test.pl script which worked it stops giving an output asswell.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 1, "creation_date": 1439371568, "post_id": 31960494, "comment_id": 51829947, "body": "<code>@array1 ~~ @array2</code> checks if the each index matches the same index in the other array. As <code>perlop</code> documentations says, it&#39;s like <code>($array1[0] ~~ $array2[0]) &amp;&amp; ($array1[1] ~~ $array2[1]) &amp;&amp; ... </code> etc. Ultimately, your else statement is wrong, and should really say &quot;some or all elements do not match&quot;. The only way to do what you want is to create a lookup table (hash) or iterate one array over the other... Both of which have already been provided as answers."}, {"owner": {"reputation": 118, "user_id": 3941112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qMEkl.jpg?s=128&g=1", "display_name": "Malli Paritala", "link": "https://stackoverflow.com/users/3941112/malli-paritala"}, "edited": false, "score": 0, "creation_date": 1439375774, "post_id": 31960494, "comment_id": 51832853, "body": "Array::Compare is ideal for your problem. <a href=\"http://search.cpan.org/~davecross/Array-Compare-2.11/lib/Array/Compare.pm#DESCRIPTION\" rel=\"nofollow noreferrer\">search.cpan.org/~davecross/Array-Compare-2.11/lib/Array/&hellip;</a>   It is capable of listing out non-matched elements."}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1439379746, "post_id": 31960494, "comment_id": 51835477, "body": "To clarify your question... are you wanting to compare the same index across both arrays? That is... does it matter if <code>tom</code> is in <code>$x[0]</code> but in <code>$y[1]</code> ... OR ... must <code>tom</code> be in <code>$x[0]</code> and <code>$y[0]</code> ?"}, {"owner": {"reputation": 7, "user_id": 5214056, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c9981e4c298ddf323fa79f656c437d63?s=128&d=identicon&r=PG&f=1", "display_name": "ashvak", "link": "https://stackoverflow.com/users/5214056/ashvak"}, "edited": false, "score": 0, "creation_date": 1439379957, "post_id": 31960494, "comment_id": 51835614, "body": "no i am not comparing both index.."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1439383114, "post_id": 31960494, "comment_id": 51837874, "body": "You should avoid using smart matching. It is an experimental feature that is a bit broken and is highly likely to change in future versions of Perl"}], "answers": [{"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1439373638, "post_id": 31960690, "comment_id": 51831465, "body": "Thank you for your comment for my answer. I not clearly read the question. Then i tried negative smart match is not work."}, {"owner": {"reputation": 7, "user_id": 5214056, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c9981e4c298ddf323fa79f656c437d63?s=128&d=identicon&r=PG&f=1", "display_name": "ashvak", "link": "https://stackoverflow.com/users/5214056/ashvak"}, "edited": false, "score": 0, "creation_date": 1439374100, "post_id": 31960690, "comment_id": 51831765, "body": "In the first way i can get only one element..whereas i suppose to get 2 elements?"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1439375669, "post_id": 31960690, "comment_id": 51832797, "body": "That&#39;s because there are an unequal number of elements in the two arrays."}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 5, "last_activity_date": 1529132316, "last_edit_date": 1529132316, "creation_date": 1439370470, "answer_id": 31960690, "question_id": 31960494, "link": "https://stackoverflow.com/questions/31960494/perl-array-element-comparing/31960690#31960690", "title": "Perl array element comparing", "body": "<p>I'd avoid smart matching in Perl - e.g. see <a href=\"https://stackoverflow.com/questions/22206061/hashes-and-smart-match-operators-in-perl\">here</a></p>\n\n<p>If you're trying to compare the contents of <code>$y[0]</code> with <code>$x[0]</code> then this is one way to go, which puts all non-matches in an new array <code>@keep</code>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw/say/;\n\nmy @x = qw(tom john michell);\nmy @y = qw(tom john michell robert ricky);\n\nmy @keep;\nfor (my $i = 0; $i &lt;$#y; $i++) {\n    unless ($y[$i] eq $x[$i]){\n        push @keep, $y[$i];\n    }\n}\n\nsay for @keep;\n</code></pre>\n\n<hr>\n\n<p>Or, if you simply want to see if one name <strong><em>exists</em></strong> in the other array (and aren't interested in directly comparing elements), use two hashes:</p>\n\n<pre><code>my (%x, %y);\n\n$x{$_}++ for @x;\n$y{$_}++ for @y;\n\nforeach (keys %y){\n    say if not exists $x{$_};\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1439374407, "creation_date": 1439374407, "answer_id": 31962247, "question_id": 31960494, "link": "https://stackoverflow.com/questions/31960494/perl-array-element-comparing/31962247#31962247", "title": "Perl array element comparing", "body": "<p>It would be well worth your while spending some time reading the <a href=\"http://perldoc.perl.org/perlfaq.html\" rel=\"nofollow\">Perl FAQ</a>.</p>\n\n<p><a href=\"http://perldoc.perl.org/perlfaq.html\" rel=\"nofollow\">Perl FAQ 4</a> concerns Data Manipulation and includes the following question and answer:</p>\n\n<blockquote>\n  <p><strong>How do I compute the difference of two arrays? How do I compute \n  the intersection of two arrays?</strong></p>\n  \n  <p>Use a hash. Here's code to do both and more. It assumes that each\n  element is unique in a given array:</p>\n\n<pre><code>my (@union, @intersection, @difference);\nmy %count = ();\nforeach my $element (@array1, @array2) { $count{$element}++ }\nforeach my $element (keys %count) {\n    push @union, $element;\n    push @{ $count{$element} &gt; 1 ? \\@intersection : \\@difference }, $element;\n}\n</code></pre>\n  \n  <p>Note that this is the symmetric difference, that is, all elements \n  in either A or in B but not in both. Think of it as an xor\n  operation.</p>\n</blockquote>\n"}], "owner": {"reputation": 7, "user_id": 5214056, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c9981e4c298ddf323fa79f656c437d63?s=128&d=identicon&r=PG&f=1", "display_name": "ashvak", "link": "https://stackoverflow.com/users/5214056/ashvak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 797, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1529132316, "creation_date": 1439369876, "last_edit_date": 1439372628, "question_id": 31960494, "link": "https://stackoverflow.com/questions/31960494/perl-array-element-comparing", "title": "Perl array element comparing", "body": "<p>I am new in Perl programming. I am trying to compare the two arrays each element. So here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse v5.10.1;\n\nmy @x = (\"tom\",\"john\",\"michell\");\nmy @y = (\"tom\",\"john\",\"michell\",\"robert\",\"ricky\");\nif (@x ~~ @y)\n{\n    say \"elements matched\"; \n}\nelse \n{ \n    say \"no elements matched\";\n}\n</code></pre>\n\n<p>When I run this I get the output \n<code>no elements matched</code></p>\n\n<p>So I want to compare both array elements in deep and the element do not matches, those elements I want to store it in a new array. As I can now compare the only matched elements but I can't store it in a new array.</p>\n\n<p>How can I store those unmatched elements in a new array?</p>\n\n<p>Please someone can help me and advice.</p>\n"}, {"tags": ["perl", "terminal", "raku", "getc"], "comments": [{"owner": {"reputation": 1192, "user_id": 3130218, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4bb68cdeb7d159067f837658ff981d0b?s=128&d=identicon&r=PG", "display_name": "bb94", "link": "https://stackoverflow.com/users/3130218/bb94"}, "edited": false, "score": 0, "creation_date": 1444961519, "post_id": 31958891, "comment_id": 54131667, "body": "Instead of <code>$*IN.getc</code>, have you tried using <code>$*IN.read(1)</code> (and modifying your code to take a Buf instead of a String)?"}, {"owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "reply_to_user": {"reputation": 1192, "user_id": 3130218, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4bb68cdeb7d159067f837658ff981d0b?s=128&d=identicon&r=PG", "display_name": "bb94", "link": "https://stackoverflow.com/users/3130218/bb94"}, "edited": false, "score": 0, "creation_date": 1444981374, "post_id": 31958891, "comment_id": 54138562, "body": "@bb94: With <code>read()</code> it worked. Could you change your comment to an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 1192, "user_id": 3130218, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4bb68cdeb7d159067f837658ff981d0b?s=128&d=identicon&r=PG", "display_name": "bb94", "link": "https://stackoverflow.com/users/3130218/bb94"}, "is_accepted": true, "score": 3, "last_activity_date": 1445013245, "creation_date": 1445013245, "answer_id": 33175395, "question_id": 31958891, "link": "https://stackoverflow.com/questions/31958891/perl6-getc-in-raw-mode/33175395#33175395", "title": "Perl6: getc in raw mode", "body": "<p>Replace <code>my $c = $*IN.getc;</code> with <code>my $c = $*IN.read(1);</code> and change the rest of your code to handle a buffer instead of a string.</p>\n"}], "owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 1, "accepted_answer_id": 33175395, "answer_count": 1, "score": 7, "last_activity_date": 1575223216, "creation_date": 1439365067, "last_edit_date": 1575223216, "question_id": 31958891, "link": "https://stackoverflow.com/questions/31958891/perl6-getc-in-raw-mode", "title": "Perl6: getc in raw mode", "body": "<p>I am using the Perl 6 module <a href=\"https://github.com/krunen/term-termios/\" rel=\"nofollow\">Term::termios</a>.</p>\n\n<pre><code>#!/usr/bin/env perl6\nuse v6;\nuse Term::termios;\n\nmy $saved_termios := Term::termios.new(fd =&gt; 1).getattr;\nmy $termios := Term::termios.new(fd =&gt; 1).getattr;\n$termios.makeraw;\n$termios.setattr(:DRAIN);\n\nloop {\n   my $c = $*IN.getc;\n   print \"got: \" ~ $c.ord ~ \"\\r\\n\";\n   last if $c eq 'q';\n}\n\n$saved_termios.setattr(:DRAIN);\n</code></pre>\n\n<p>When I run this script and press the keys <kbd>up-arrow</kbd>, <kbd>down-arrow</kbd>, <kbd>right-arrow</kbd>, <kbd>left-arrow</kbd> and <kbd>q</kbd> this is the output:</p>\n\n<pre><code>#after arrow-up:\ngot: 27\ngot: 91\n\n#after arrow-down:\ngot: 65\ngot: 27\ngot: 91\n\n#after arrow-right:\ngot: 66\ngot: 27\ngot: 91\n\n#after arrow-left:\ngot: 67\ngot: 27\ngot: 91\n\n#after q:\ngot: 68\n\n#after another q:\ngot: 113\n</code></pre>\n\n<p>But I would have expected:</p>\n\n<pre><code>#after arrow-up:\ngot: 27\ngot: 91\ngot: 65\n\n#after arrow-down:\ngot: 27\ngot: 91\ngot: 66\n\n#after arrow-right:\ngot: 27\ngot: 91\ngot: 67\n\n#after arrow-left:\ngot: 27\ngot: 91\ngot: 68\n\n#after q:\ngot: 113\n</code></pre>\n\n<p>How do I have to modify the script to get the desired output?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 89, "user_id": 1445949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4d68781e906c5d89a6b8114f74fa7c3?s=128&d=identicon&r=PG", "display_name": "Perl handler", "link": "https://stackoverflow.com/users/1445949/perl-handler"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1439364894, "post_id": 31958759, "comment_id": 51825639, "body": "@serenesat, thanks now changed that one..."}, {"owner": {"reputation": 14052, "user_id": 1004301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6aacd03deb37cb13cbc8b65e454f2b?s=128&d=identicon&r=PG", "display_name": "Lee Duhem", "link": "https://stackoverflow.com/users/1004301/lee-duhem"}, "edited": false, "score": 1, "creation_date": 1439365317, "post_id": 31958759, "comment_id": 51825872, "body": "What is the encoding of your directory and file names? Does your code work for english file and directory names?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1439365612, "post_id": 31958759, "comment_id": 51826022, "body": "I created your example file and folder by copy/pasting from the question and ran your code. It finds them along with everything else. That&#39;s on Perl 5.20.1 and Ubuntu 15.04."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439365709, "post_id": 31958759, "comment_id": 51826074, "body": "Are you running it in the right directoy?"}, {"owner": {"reputation": 89, "user_id": 1445949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4d68781e906c5d89a6b8114f74fa7c3?s=128&d=identicon&r=PG", "display_name": "Perl handler", "link": "https://stackoverflow.com/users/1445949/perl-handler"}, "edited": false, "score": 0, "creation_date": 1439366045, "post_id": 31958759, "comment_id": 51826286, "body": "Ya, I running current directory... ex: &quot;.&quot;"}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1439366755, "post_id": 31958759, "comment_id": 51826742, "body": "Works for me as well (on perl 5.18 / Ubuntu 14.04)"}, {"owner": {"reputation": 89, "user_id": 1445949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4d68781e906c5d89a6b8114f74fa7c3?s=128&d=identicon&r=PG", "display_name": "Perl handler", "link": "https://stackoverflow.com/users/1445949/perl-handler"}, "reply_to_user": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1439367058, "post_id": 31958759, "comment_id": 51826920, "body": "@neuhaus, I will try this version and with windows"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439373226, "post_id": 31958759, "comment_id": 51831174, "body": "The <code>.</code> doesn&#39;t mean you are in the same directory as the folder you want. It means you are using the current working directory. Use [Cwd(<a href=\"https://metacpan.org/pod/Cwd)]&#39;s\" rel=\"nofollow noreferrer\">metacpan.org/pod/Cwd)]&#39;s</a> <code>cwd()</code> function to print your working directory. Maybe you are running from the wrong place."}, {"owner": {"reputation": 89, "user_id": 1445949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4d68781e906c5d89a6b8114f74fa7c3?s=128&d=identicon&r=PG", "display_name": "Perl handler", "link": "https://stackoverflow.com/users/1445949/perl-handler"}, "edited": false, "score": 0, "creation_date": 1439377153, "post_id": 31958759, "comment_id": 51833767, "body": "No no, English text only read, Chinese language not read...."}], "owner": {"reputation": 89, "user_id": 1445949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4d68781e906c5d89a6b8114f74fa7c3?s=128&d=identicon&r=PG", "display_name": "Perl handler", "link": "https://stackoverflow.com/users/1445949/perl-handler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 640, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1439365446, "creation_date": 1439364708, "last_edit_date": 1439365446, "question_id": 31958759, "link": "https://stackoverflow.com/questions/31958759/how-to-find-all-folders-and-files-that-have-chinese-characters-using-perls-file", "title": "How to find all folders and files that have Chinese characters using Perl&#39;s File::Find?", "body": "<p>I am new to File::Find and I want to search folders and files from particular folder. I tried to search folders, but it missed some folders and files, because these folder names have Chinese characters. </p>\n\n<p>How can I read these folders using File::Find?</p>\n\n<p>Folder name and file name:</p>\n\n<pre><code>\u5f15\u7206\u70b9\u2014\u2014\u5982\u4f55\u5f15\u53d1\u6d41\u884c\uff08\u65b0\u7248\uff09\n    \u5f15\u7206\u70b9\u2014\u2014\u5982\u4f55\u5f15\u53d1\u6d41\u884c\uff08\u65b0\u7248\uff09.txt\n</code></pre>\n\n<p>I tried:</p>\n\n<pre><code>use strict;\nuse File::Find;\nfind({ wanted =&gt; \\&amp;processFile,}, '.');\nsub processFile{\n        print $File::Find::name, \"\\n\";\n}\n</code></pre>\n\n<p>Output is nothing and no errors and warnings,\nhow to read this folders and files....?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1439364594, "post_id": 31958194, "comment_id": 51825447, "body": "What your code is doing is not at all what you are describing. It&#39;s not clear what the output you show (rather the several outputs) are supposed to mean. Please <a href=\"https://stackoverflow.com/posts/31958194/edit\">edit</a> your question and try to describe the problem you are facing. Also, you are not looking for lines that start with <code>false</code>. You get the lines that <i>contain</i> <code>false</code> anywhere in the line. There is a difference."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1439366177, "post_id": 31958194, "comment_id": 51826366, "body": "@Paul: How are you creating two files with same name? Are you creating on different path?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439385272, "post_id": 31958194, "comment_id": 51839723, "body": "You need to clean up the language in your questions. You should also refer to your previous questions: <a href=\"http://stackoverflow.com/questions/31725457/how-to-build-a-file-splitter-in-perl\">1</a>, <a href=\"http://stackoverflow.com/questions/31688466/compare-2-file-line-and-column\">2</a>.. Each time you use a different user name..it is not good style.. You have also posted a very similar question with username <code>Serge</code> but maybe you have deleted that one? The main problem with your questions is the English language. It is very difficult to understand what you are looking for."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5068577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fc1c8b5b256c768050d4be96d539ed9?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/5068577/paul"}, "edited": false, "score": 0, "creation_date": 1439380163, "post_id": 31959607, "comment_id": 51835747, "body": "Hi, Joe McMahon, that sounds like a stupid question, I tried your code and searched for what you may have forgotten, unfortunately I get no files."}, {"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "reply_to_user": {"reputation": 13, "user_id": 5068577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fc1c8b5b256c768050d4be96d539ed9?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/5068577/paul"}, "edited": false, "score": 0, "creation_date": 1439393192, "post_id": 31959607, "comment_id": 51845940, "body": "Edited to clean up the rather messy data format. The extra spaces in the data as you have in your example have to be cleaned off to allow the data to be compared against and used properly. The combination of true/false and the filename is particularly a pain."}, {"owner": {"reputation": 13, "user_id": 5068577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fc1c8b5b256c768050d4be96d539ed9?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/5068577/paul"}, "edited": false, "score": 0, "creation_date": 1439401725, "post_id": 31959607, "comment_id": 51851122, "body": "perfect, McMahon Thank"}], "tags": [], "owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "is_accepted": true, "score": 0, "last_activity_date": 1439393084, "last_edit_date": 1439393084, "creation_date": 1439367171, "answer_id": 31959607, "question_id": 31958194, "link": "https://stackoverflow.com/questions/31958194/split-a-file-into-several-small-files/31959607#31959607", "title": "Split a file into several small files", "body": "<p>I think what you're trying to do is this:</p>\n\n<ol>\n<li>Read a line from the CSV file.</li>\n<li>If it starts with 'false':\n\n<ol>\n<li>Extract all the columns.</li>\n<li>Open a file using the content of column 2 as the name.</li>\n<li>Write the rest of the items on the line to that file, one item per line.</li>\n</ol></li>\n</ol>\n\n<p>The program you have there won't do that at all.</p>\n\n<p>I first suggest, use the Text::CSV module from CPAN if you want to safely process CSV files. If you do that, the process becomes a lot simpler:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Text::CSV;\n\nmy $csv = Text::CSV-&gt;new;\nopen my $csv_file, \"&lt;\", \"DATA.csv\" or die \"Can't open CSV file: $!\\n\";\nwhile (my $row = $csv-&gt;getline($csv_file)) {\n    # First item is significator plus filename.\n    my($significator_and_file) = clean($row-&gt;[0]);\n    my ($significator, $file) = split /\\s+/, $significator_and_file;\n    next unless $significator and $significator eq 'false';\n\n    open my $per_line_fh, \"&gt;&gt;\", $file or die \"Can't open per-line file $file: $!\\n\";\n\n    # One item per line, plus final newline.\n    shift @$row;\n    print $per_line_fh join \"\\n\", map { clean($_) } @$row;\n    print $per_line_fh \"\\n\";\n    close $per_line_fh;\n}\n\nsub clean {\n    my $string = shift;\n    $string =~ s/^\\s+//;\n    $string =~ s/\\s+$//;\n    return $string;\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5068577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fc1c8b5b256c768050d4be96d539ed9?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/5068577/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 31959607, "answer_count": 1, "score": 0, "last_activity_date": 1439393084, "creation_date": 1439363078, "last_edit_date": 1439371973, "question_id": 31958194, "link": "https://stackoverflow.com/questions/31958194/split-a-file-into-several-small-files", "title": "Split a file into several small files", "body": "<p>I have a code that allows me to treat a file, in which he seeks all line starting with \"false\" and return them to me.<br>\nI would like each line with \"false\" is stored in the file, namely.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nopen(DATA, '&lt;', 'DATA.csv');\nmy @a = &lt;DATA&gt;;\nmy @b = grep(/false/, @a);\nchomp(@b);\nfor (my $i=0; $i &lt;= $#b; $i++) {\n    print $i + 1;\n    print \". \";\n    print split('false',\"$b[$i]\\n\");\n}\n</code></pre>\n\n<p>__________________DATA____________________________________</p>\n\n<pre><code>    2015.07.23  16:47:23\n                  false,    false,       true,      false,    true,    false,\n          defau,  ame_a,    ame_m,       ame_uc,     ame_f,    ams_l,  en_affi,\n    true  DPA01,  fault,    fault,       fault,      fault,    fault,      1,\n    false DPA02,  dfgeh,         ,            ,           ,    fault,      1,\n    true  DPA03,  fault,    fault,         olt,      fault,    fault,      1,\n    false DPA01,  fault,       at,       fault,          2,    fault,      1,\n    false DPA02,  dfgeh,         ,            ,           ,    fault,      1,\n    true  DPA03,  fault,    fault,         olt,      fault,    fault,      1,\n</code></pre>\n\n<p>___DPA02___________________</p>\n\n<pre><code>dfgeh\n\n\n\nfault\n1\n</code></pre>\n\n<p>___DPA01________________</p>\n\n<pre><code>fault\nat\nfault\n2\nfault\n1\n</code></pre>\n\n<p>___DPA02_____________</p>\n\n<pre><code>dfgeh\n\n\n\nfault\n1\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 2, "last_activity_date": 1439359007, "last_edit_date": 1439359007, "creation_date": 1439358633, "answer_id": 31956958, "question_id": 31956948, "link": "https://stackoverflow.com/questions/31956948/perl-adding-matching-strings-in-re/31956958#31956958", "title": "Perl: adding matching strings in RE", "body": "<p>I use <code>\\K</code> and positive lookahead.</p>\n\n<pre><code>echo \"aaa build&lt;23&gt;bbb')\"| perl -p -e 's/^(?:.*build&lt;)\\K(\\d+)(?=&gt;.*$)/$1 + 1/e;'\n</code></pre>\n\n<p><a href=\"http://ideone.com/HvxJZF\" rel=\"nofollow\">DEMO</a></p>\n\n<ul>\n<li><code>\\K</code> discards the previously matched characters from printing at the final.</li>\n<li><code>(?=&gt;.*$)</code> Positive lookahead which asserts that the match must be followed by certain characters.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 1, "last_activity_date": 1439358932, "creation_date": 1439358932, "answer_id": 31957015, "question_id": 31956948, "link": "https://stackoverflow.com/questions/31956948/perl-adding-matching-strings-in-re/31957015#31957015", "title": "Perl: adding matching strings in RE", "body": "<p>You can use captured groups like this:</p>\n\n<pre><code>echo \"aaa build&lt;23&gt;bbb')\"|perl -pe 's/^(.*build&lt;)(\\d+)(&gt;.*)$/$1 . ($2+1) . $3/e;'\naaa build&lt;24&gt;bbb')\n</code></pre>\n\n<ul>\n<li>Concatenate string variables using DOT</li>\n<li>Do math operations using +`</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 14052, "user_id": 1004301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6aacd03deb37cb13cbc8b65e454f2b?s=128&d=identicon&r=PG", "display_name": "Lee Duhem", "link": "https://stackoverflow.com/users/1004301/lee-duhem"}, "is_accepted": false, "score": 2, "last_activity_date": 1439361978, "creation_date": 1439361978, "answer_id": 31957844, "question_id": 31956948, "link": "https://stackoverflow.com/questions/31956948/perl-adding-matching-strings-in-re/31957844#31957844", "title": "Perl: adding matching strings in RE", "body": "<p>Only increase the <em>first</em> number between <code>&lt;</code> and <code>&gt;</code> by one:</p>\n\n<pre><code>echo \"aaa build&lt;23&gt;bbb')\" | perl -pE 's/(?&lt;=&lt;)(\\d+)(?=&gt;)/$1 + 1/e'\n</code></pre>\n\n<p>see <code>perldoc perlre</code> for the explains of <code>(?&lt;=PATTERN)</code> and <code>(?=PATTERN)</code>. (Hint: Searching 'Look-Around Assertions' in perlre.)</p>\n"}, {"tags": [], "owner": {"reputation": 2476, "user_id": 1092785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3463f1ed04180b8e766f35772096b16?s=128&d=identicon&r=PG", "display_name": "rplantiko", "link": "https://stackoverflow.com/users/1092785/rplantiko"}, "is_accepted": false, "score": 0, "last_activity_date": 1439364539, "creation_date": 1439364539, "answer_id": 31958706, "question_id": 31956948, "link": "https://stackoverflow.com/questions/31956948/perl-adding-matching-strings-in-re/31958706#31958706", "title": "Perl: adding matching strings in RE", "body": "<p>Similar to @Avinash Raj , but TIMTOWTDI :-) </p>\n\n<p>This solution is, in my opinion, closer to the question. Use positive lookahead and lookbehind assertions, instead of trying to match the whole line, as you did (by enclosing everyting with <code>^</code> and <code>$</code>):</p>\n\n<pre><code> echo \"aaa build&lt;23&gt;bbb')\"|perl -p -e 's/(?&lt;=build&lt;)(\\d+)(?=&gt;)/$1 + 1/e;'\n</code></pre>\n\n<p>Which gives</p>\n\n<pre><code>aaa build&lt;24&gt;bbb')\n</code></pre>\n\n<p>If you expect more than one occurrence of <code>build&lt;&gt;</code> expression in one line, use the <code>g</code> modifier.</p>\n"}], "owner": {"reputation": 265958, "user_id": 116, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/f6flX.jpg?s=128&g=1", "display_name": "Mark Harrison", "link": "https://stackoverflow.com/users/116/mark-harrison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 31957015, "answer_count": 4, "score": 1, "last_activity_date": 1439364539, "creation_date": 1439358555, "question_id": 31956948, "link": "https://stackoverflow.com/questions/31956948/perl-adding-matching-strings-in-re", "title": "Perl: adding matching strings in RE", "body": "<p>Here is a perl RE that will increment a number in angle brackets.</p>\n\n<pre><code>echo \"aaa build&lt;23&gt;bbb')\"|perl -p -e 's/^(.*build&lt;)(\\d+)(&gt;.*)$/$2 + 1/e;'\n24\n</code></pre>\n\n<p>How can I get this effect and also keep the contents of the line before and after the angle brackets? Just adding <code>$1</code> and <code>$3</code> does not work.</p>\n\n<pre><code>echo \"aaa build&lt;23&gt;bbb')\"|perl -p -e 's/^(.*build&lt;)(\\d+)(&gt;.*)$/$1$2 + 1$3/e;'\nScalar found where operator expected at -e line 1, near \"$1$2\"\n    (Missing operator before $2?)\nScalar found where operator expected at -e line 1, near \"1$3\"\n    (Missing operator before $3?)\nsyntax error at -e line 1, near \"$1$2 \"\n</code></pre>\n"}, {"tags": ["performance", "perl", "self"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 3, "creation_date": 1439360075, "post_id": 31955070, "comment_id": 51823095, "body": "You&#39;re gaining nothing with <code>$_[0]-&gt;method</code> in terms of speed (similar to single vs. double quotes &quot;optimization&quot;), only losing source readability."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439390937, "post_id": 31955070, "comment_id": 51844316, "body": "This kind of micro-optimization is like changing the paint on your car to make it go faster. Unless you&#39;re a Formula One driver, the difference will be negligible."}], "answers": [{"tags": [], "owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "is_accepted": false, "score": 5, "last_activity_date": 1439350845, "creation_date": 1439350845, "answer_id": 31955623, "question_id": 31955070, "link": "https://stackoverflow.com/questions/31955070/what-is-more-efficient-self-method-or-0-method/31955623#31955623", "title": "What is more efficient: $self-&gt;method or $_[0]-&gt;method?", "body": "<p>Pure performance wise, <code>$_[0]</code> is faster.</p>\n\n<ul>\n<li>It avoids creation of a new variable</li>\n<li>It avoids shifting the array <code>@_</code></li>\n<li>The only cost is accessing by index.</li>\n</ul>\n\n<p>However this difference is really minimal in computing nowadays. The first one is generally recommended for clarity.</p>\n"}, {"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": true, "score": 5, "last_activity_date": 1439364602, "creation_date": 1439364602, "answer_id": 31958725, "question_id": 31955070, "link": "https://stackoverflow.com/questions/31955070/what-is-more-efficient-self-method-or-0-method/31958725#31958725", "title": "What is more efficient: $self-&gt;method or $_[0]-&gt;method?", "body": "<p>Technically, if you have sufficiently-high-resolution benchmarking tools, using <code>$_[0]</code> should be marginally faster, at least in cases where you only use it once or twice in a <code>sub</code>.  If you reference the object several times in the same method, <code>$self</code> may instead win out due to the larger number of array operations being avoided.</p>\n\n<p>And all of that is <strong>absolutely, utterly meaningless.</strong></p>\n\n<p>I've been working with Perl as my primary language for the last 15 years.  I currently work as one of three maintainers for a Perl web service which handles a few million requests per day.  If you added up the difference in processing time between using <code>$_[0]</code> or <code>$self</code> in every method call in every invocation of every Perl program I've ever touched, it would <em>still</em> add up to less time than you spent asking the question or I spent answering it.  Probably even less time than it's taking me to write this sentence.  The difference really is that tiny.</p>\n\n<p>So optimize for readability instead of trying to micro-optimize performance.  Your maintenance programmers (including future-you in six months) will thank you for it.</p>\n"}], "owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 31958725, "answer_count": 2, "score": 0, "last_activity_date": 1439377309, "creation_date": 1439346358, "last_edit_date": 1439377309, "question_id": 31955070, "link": "https://stackoverflow.com/questions/31955070/what-is-more-efficient-self-method-or-0-method", "title": "What is more efficient: $self-&gt;method or $_[0]-&gt;method?", "body": "<p>A Perl method usually begins with <code>my $self = shift;</code> and subsequently uses <code>$self</code> to refer to the object of which it is a method.</p>\n\n<pre><code>sub foo {\n  my $self = shift;\n  $self-&gt;method;\n  ...\n  return $self-&gt;{_foo}\n}\n</code></pre>\n\n<p>Another way of doing this is to use <code>$_[0]</code> directly instead of copying <code>$_[0]</code> to  <code>$self</code>:</p>\n\n<pre><code>sub foo {\n  $_[0]-&gt;method;\n  ...\n  return $_[0]-&gt;{_foo}\n}\n</code></pre>\n\n<p>Now, what is more efficient (faster):</p>\n\n<ol>\n<li><p>to allocate memory to a new variable <code>$self</code>, fetch the first item of list <code>@_</code>, and copy this value to that variable every single time a method is invoked;</p></li>\n<li><p>to fetch the first item of an array every time <code>$_[0]</code> is used?</p></li>\n</ol>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1439329534, "post_id": 31952309, "comment_id": 51814357, "body": "<code>open(my $service_input, &quot;service @service_list status|&quot;);</code> -&gt; <code>open(my $service_input, &quot;service $line status|&quot;);</code>"}, {"owner": {"reputation": 35, "user_id": 4892296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hZvGc.png?s=128&g=1", "display_name": "Majestic Pixel", "link": "https://stackoverflow.com/users/4892296/majestic-pixel"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439329779, "post_id": 31952309, "comment_id": 51814469, "body": "It doesn&#39;t result in any errors, but I do not get any output either. I think it might have something to do with the print statement then."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1439329828, "post_id": 31952309, "comment_id": 51814499, "body": "You don&#39;t actually use <code>$service_input</code> aside from opening it. You might want to capture the output somehow."}, {"owner": {"reputation": 35, "user_id": 4892296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hZvGc.png?s=128&g=1", "display_name": "Majestic Pixel", "link": "https://stackoverflow.com/users/4892296/majestic-pixel"}, "edited": false, "score": 0, "creation_date": 1439329920, "post_id": 31952309, "comment_id": 51814536, "body": "You are correct. I will take a look at that."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439330395, "post_id": 31952597, "comment_id": 51814763, "body": "With pipe <code>open</code>s, don&#39;t forget to check the return value of <code>close</code> to see if the command actually succeeded (<code>open</code> only returns the pid of the child, so you&#39;re really checking the success of <code>fork</code>)."}, {"owner": {"reputation": 35, "user_id": 4892296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hZvGc.png?s=128&g=1", "display_name": "Majestic Pixel", "link": "https://stackoverflow.com/users/4892296/majestic-pixel"}, "edited": false, "score": 0, "creation_date": 1439330452, "post_id": 31952597, "comment_id": 51814785, "body": "I understand all of your changes but <code>readline</code>. I&#39;m not sure what this is supposed to do."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 35, "user_id": 4892296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hZvGc.png?s=128&g=1", "display_name": "Majestic Pixel", "link": "https://stackoverflow.com/users/4892296/majestic-pixel"}, "edited": false, "score": 0, "creation_date": 1439330665, "post_id": 31952597, "comment_id": 51814847, "body": "@MajesticPixel It does just what it sounds like: reads...wait for it...lines. :) That bit of code is reading the output of your command line-by-line and storing the result in the scalar <code>$line</code>. See <a href=\"http://perldoc.perl.org/functions/readline.html\" rel=\"nofollow noreferrer\"><code>perldoc -f readline</code></a> (linked for your convenience)"}, {"owner": {"reputation": 35, "user_id": 4892296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hZvGc.png?s=128&g=1", "display_name": "Majestic Pixel", "link": "https://stackoverflow.com/users/4892296/majestic-pixel"}, "edited": false, "score": 0, "creation_date": 1439336677, "post_id": 31952597, "comment_id": 51816775, "body": "I tried this but somehow the variables <code>$service_input</code> and <code>$service</code> require explicit package name even though they have that."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 2, "last_activity_date": 1439329909, "creation_date": 1439329909, "answer_id": 31952597, "question_id": 31952309, "link": "https://stackoverflow.com/questions/31952309/perl-how-to-split-input-into-an-array/31952597#31952597", "title": "Perl - How to split input into an array?", "body": "<pre><code>foreach my $line (@service_list)\n{\n    open(my $service_input, \"service @service_list status|\");\n}\n</code></pre>\n\n<p>This loop doesn't use <code>$line</code>. You're passing the whole array <code>@service_list</code> to the service command, i.e. you're running <code>service ssh named cups status</code>. This causes an error because <code>service</code> thinks you want to execute the <code>named</code> action on the <code>ssh</code> service. To fix that, write <code>\"service $line status |\"</code>.</p>\n\n<p>But there's another issue: You never do anything with <code>$service_input</code> either. If you want to loop over each line of each service command output, you need something more like:</p>\n\n<pre><code>foreach my $service (@service_list)\n{\n    open(my $service_input, '-|', 'service', $service, 'status')\n        or die \"$0: can't run 'service': $!\\n\";\n\n    while (my $line = readline $service_input)\n    {\n        #Matches for \"running\".\n        if ($line =~ m/(\\(running\\))/)\n        {\n            print \"The service $service is running\\n\";\n        }\n        #Matches for \"dead\".\n        elsif ($line =~ m/(dead)/)\n        {\n            print \"The service $service is dead\\n\";\n        }\n    }\n}\n</code></pre>\n\n<p>I've changed your <code>open</code> line to use a separate mode argument <code>-|</code> (which is good style in general) and the list form of process open, which avoids the shell, which is also good in general (no issues with \"special characters\" in <code>$service</code>, for example).</p>\n"}], "owner": {"reputation": 35, "user_id": 4892296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hZvGc.png?s=128&g=1", "display_name": "Majestic Pixel", "link": "https://stackoverflow.com/users/4892296/majestic-pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439338360, "creation_date": 1439328599, "last_edit_date": 1439338360, "question_id": 31952309, "link": "https://stackoverflow.com/questions/31952309/perl-how-to-split-input-into-an-array", "title": "Perl - How to split input into an array?", "body": "<p>I have a small Perl script that is used to take user command line input, and then splitting the input into an array where each <strong>service</strong> should be its own element.</p>\n\n<p>My goal is to enable single arguments, as well as several arguments using a split character where every argument is separated by a comma sign. Examples of these would be:</p>\n\n<ul>\n<li>ssh</li>\n<li>ssh,named,cups</li>\n</ul>\n\n<p>My code looks as follows, it does compile without errors but the output is not the intended.</p>\n\n<pre><code>    print \"Please provide the service name that you wish to analyze (Named service):\\n\";\n    print \"Several services may be provided, using a comma sign as a separator.\\n\";\n\n    my $service_name_input = &lt;&gt;;\n    chomp($service_name_input);\n    my @service_list = split(/,/, $service_name_input);\n\n    foreach my $line (@service_list)\n    {\n        open(my $service_input, \"service @service_list status|\");\n    }\n\n    foreach my $line (@service_list)\n    {\n        #Matches for \"running\".\n        if ($line =~ m/(\\(running\\))/)\n        {\n            print \"The service @service_list is running\\n\";\n        }\n        #Matches for \"dead\".\n        elsif ($line =~ m/(dead)/)\n        {\n            print \"The service @service_list is dead\\n\";\n        }\n    }\n</code></pre>\n\n<p>The program should output if the <strong>service</strong> is running or dead, but I only get the following error code. When manually issuing the <strong>service</strong> command, it works just fine though.</p>\n\n<blockquote>\n  <p>The service command supports only basic LSB actions (start, stop,\n  restart, try-restart, reload, force-reload, status). For other\n  actions, please try to use systemctl.</p>\n</blockquote>\n\n<p>Any help regarding the steps I should take in order to achieve a working program will be much appreciated. Thank you for reading.</p>\n"}, {"tags": ["perl", "perl-module", "yum"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1439328209, "post_id": 31952075, "comment_id": 51813724, "body": "yum only knows about rpm&#39;s, but you didn&#39;t install Probe::Perl via an rpm. See <a href=\"http://stackoverflow.com/q/30687167/176646\">Missing Perl dependencies not actually missing</a>"}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439328565, "post_id": 31952075, "comment_id": 51813903, "body": "Hmm.  I installed the other packages like MM_Unix.pm the same way.  Okay thanks I tried the install on my end and got back: No package perl  [root@sandbox-prod Probe-Perl-0.03]# yum install -y &quot;perl(Probe::Perl)&quot; Loaded plugins: product-id, subscription-manager No package perl(Probe::Perl) available. Error: Nothing to do"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1439329251, "post_id": 31952075, "comment_id": 51814220, "body": "Package names of Perl modules on RPM-based systems generally follow the same pattern; the package name for module <code>Foo::Bar</code> is <code>perl-Foo-Bar</code>. You want <code>yum install perl-Probe-Perl</code>."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439329380, "post_id": 31952075, "comment_id": 51814289, "body": "thanks.  It is still saying package not available: rhel-rs-for-rhel-7-server-eus-rpms                                                                                                                                                      | 2.9 kB  00:00:00 No package perl-Probe-Perl available"}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439329469, "post_id": 31952075, "comment_id": 51814327, "body": "It must be under a different name.  can I search for that on the rpmfind.net site?"}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439329613, "post_id": 31952075, "comment_id": 51814392, "body": "Ok I found the package.  <a href=\"ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/p/perl-Probe-Perl-0.03-5.fc23.noarch.rpm\" rel=\"nofollow noreferrer\">195.220.108.108/linux/fedora/linux/development/rawhide/x86_6&zwnj;&#8203;4/&hellip;</a>"}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439329725, "post_id": 31952075, "comment_id": 51814443, "body": "Thanks @ThisSuitIsBlackNot did a yum install on that perl probe package and I have another module to install named :Error: Package: perl-Probe-Perl-0.03-5.fc23.noarch (/perl-Probe-Perl-0.03-5.fc23.noarch)            Requires: perl(:MODULE_COMPAT_5.22.0)  You could try using --skip-broken to work around the problem"}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439329822, "post_id": 31952075, "comment_id": 51814494, "body": "Please let me know how I can give you credit for this answer."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439366965, "post_id": 31952075, "comment_id": 51826862, "body": "@ThisSuitIsBlackNot just post it as an anser so OP can tick it :)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439388438, "post_id": 31952075, "comment_id": 51842225, "body": "@simbabque I&#39;m still trying to decide if I should VtC as a dupe of the question I linked in my first comment."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439388620, "post_id": 31952075, "comment_id": 51842390, "body": "@This I started deciding ;)"}], "owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "closed_date": 1439415467, "answer_count": 0, "score": 0, "last_activity_date": 1439327706, "creation_date": 1439327706, "question_id": 31952075, "link": "https://stackoverflow.com/questions/31952075/probeperl-package-installed-but-is-not-being-recognized", "closed_reason": "Duplicate", "title": "Probe::Perl package installed but is not being recognized", "body": "<p>I have installed the Perl Module Probe-Perl-0.k03 as the Sys Admin gave me a very stripped down version of Perl.  I have installed it along with the others, but when I go to run the yum install(yum install perl-CPAN*) it is still stating that they are not installed.  It appears to be pointing to the right location of my perl which is /usr/bin/perl.  Any guidance possibly?</p>\n\n<p><strong>Dependencies resolution errors given by yum install:</strong></p>\n\n<pre><code>--&gt; Finished Dependency Resolution\nError: Package: perl-CPAN-Reporter-1.2011-2.el7.noarch (epel)\n       Requires: perl(Probe::Perl)\nError: Package: perl-CPAN-Reporter-1.2011-2.el7.noarch (epel)\n       Requires: perl(Capture::Tiny)\nError: Package: perl-CPAN-Reporter-1.2011-2.el7.noarch (epel)\n       Requires: perl(File::HomeDir) &gt;= 0.58\nError: Package: perl-CPAN-Reporter-1.2011-2.el7.noarch (epel)\n       Requires: perl(Config::Tiny) &gt;= 2.08\n</code></pre>\n\n<p><strong>Perl package installed:</strong></p>\n\n<p>Probe-Perl-0.k03</p>\n\n<p><strong>Install steps:</strong></p>\n\n<pre><code>[root@sandbox-prod Probe-Perl-0.03]# pwd\n/root/Probe-Perl-0.03\n[root@sandbox-prod Probe-Perl-0.03]# perl Makefile.PL\nGenerating a Unix-style Makefile\nWriting Makefile for Probe::Perl\nWriting MYMETA.yml and MYMETA.json\n[root@sandbox-prod Probe-Perl-0.03]# make\nSkip blib/lib/Probe/Perl.pm (unchanged)\nManifying 1 pod document\n[root@sandbox-prod Probe-Perl-0.03]# make test\nPERL_DL_NONLAZY=1 \"/usr/bin/perl\" \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t\nt/author-critic.t .. skipped: these tests are for testing by the author\nt/basic.t .......... ok\nAll tests successful.\nFiles=2, Tests=19,  0 wallclock secs ( 0.02 usr  0.01 sys +  0.04 cusr  0.00 csys =  0.07 CPU)\nResult: PASS\n[root@sandbox-prod Probe-Perl-0.03]# make install\nManifying 1 pod document\nAppending installation info to /usr/lib64/perl5/perllocal.pod\n</code></pre>\n"}, {"tags": ["perl", "whitespace"], "comments": [{"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 3, "creation_date": 1439322818, "post_id": 31950716, "comment_id": 51810874, "body": "You don&#39;t need to put a backslash in front of a space in order for Perl to see it as a space.  What you are doing is assigning a string value to the scalar <code>$file</code>, and you are not doing anything with regular expressions at all.  Can you show us the actual code you&#39;re having a problem with and describe the problem?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1439322994, "post_id": 31950716, "comment_id": 51810971, "body": "What are you doing with <code>$file</code> that you think needs the spaces escaping? If you just want to open it for reading then <code>open my $fh, &#39;&lt;&#39;, $file</code> will work fine as it is"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1439328352, "last_edit_date": 1439328352, "creation_date": 1439323407, "answer_id": 31950949, "question_id": 31950716, "link": "https://stackoverflow.com/questions/31950716/perl-to-escape-whitespace-in-a-path/31950949#31950949", "title": "Perl to escape whitespace in a path", "body": "<p>Sounds like you are building a shell command. If so, you need to escape far more than just spaces.</p>\n\n<p>If you can't avoid the shell, you should be using <a href=\"http://search.cpan.org/perldoc?String::ShellQuote\" rel=\"nofollow\">String::ShellQuote</a>'s <code>shell_quote</code>.</p>\n\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nmy $cmd = shell_quote(\"xml-pretty\", $xml_qfn);\nmy $pretty_xml = `$cmd`;\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 2457075, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/dfc4ad74b7c0b54f413a448780025791?s=128&d=identicon&r=PG", "display_name": "user2457075", "link": "https://stackoverflow.com/users/2457075/user2457075"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 719, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1439328352, "creation_date": 1439322667, "last_edit_date": 1439323079, "question_id": 31950716, "link": "https://stackoverflow.com/questions/31950716/perl-to-escape-whitespace-in-a-path", "title": "Perl to escape whitespace in a path", "body": "<p>I have a path in a string with whitespace.</p>\n\n<p>For example: <code>$file=\"/application/Revenue Setting/settings.xml\"</code></p>\n\n<p>I know I need to put a \"\\\" in front of the whitespace to make it work.  I just cannot get the regex to make it work.</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["regex", "linux", "perl", "sed"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1439320977, "post_id": 31950174, "comment_id": 51809839, "body": "Please don&#39;t use <code>$a</code> and <code>$b</code>. It may have negative effects on uses of <code>sort</code>."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1439320974, "creation_date": 1439320974, "answer_id": 31950242, "question_id": 31950174, "link": "https://stackoverflow.com/questions/31950174/how-to-replace-the-specific-value-by-using-sed-command/31950242#31950242", "title": "How to replace the specific value by using sed command", "body": "<p>In Perl,</p>\n\n<pre><code># Generate a regex pattern that matches the string in $a\nmy $a_re = quotemeta($a);\n\ns/$a_re/$b/\n</code></pre>\n\n<p>The above can be shortened to</p>\n\n<pre><code>s/\\Q$a\\E/$b/\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5134520, "user_type": "registered", "profile_image": "https://graph.facebook.com/1031781753513718/picture?type=large", "display_name": "Hemant Belwal", "link": "https://stackoverflow.com/users/5134520/hemant-belwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439320974, "creation_date": 1439320720, "last_edit_date": 1439320857, "question_id": 31950174, "link": "https://stackoverflow.com/questions/31950174/how-to-replace-the-specific-value-by-using-sed-command", "title": "How to replace the specific value by using sed command", "body": "<p>I would like to know what is the regular expression in sed command to search <code>$a</code> value from <code>\"x\"</code> file and replace with <code>$b</code> value.</p>\n\n<pre><code>$a=\"o=SAR-9|csa_6fe_2ge_v2_r1:3|csa_16ds1_e1_r2|csa_ds3e3_4_r1|csa_aux_alarm|csa_oc3cc_4_r1|csa_oc3_2_asap_r1|csa_oc3cc_4_r1|\"\n\n$b=\"SAR-18\"\n</code></pre>\n\n<p>I tried to use below commands to search and replace the value but it didn't work in perl script. So i am looking for regular expression in sed to match <code>$a</code> value.</p>\n\n<pre><code>sed -i s/$a/$b/g &lt;file-name&gt;\n</code></pre>\n"}, {"tags": ["regex", "perl", "substitution"], "comments": [{"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "edited": false, "score": 4, "creation_date": 1439319772, "post_id": 31949860, "comment_id": 51809254, "body": "Add the rest of the code please. That first regex looks correct to me, so it could be another issue."}, {"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 1, "creation_date": 1439319869, "post_id": 31949860, "comment_id": 51809307, "body": "Your first regex is working fine for me. You need to provide exact code you are using. It seems that something in your code is issue not in regex."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1439319946, "post_id": 31949860, "comment_id": 51809339, "body": "The replacement is interpolated. Use <code>s&#47;&lt;&#47;\\\\&gt;&#47;g</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1439320073, "post_id": 31949860, "comment_id": 51809410, "body": "This works fine: <code>perl -E &#39;$_=&quot;&lt;&quot;;s&#47;&lt;&#47;&gt;&#47;g; say&#39;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1439320533, "post_id": 31949860, "comment_id": 51809634, "body": "Show your code, probably don&#39;t have correct operator, or its working on the default variable $_ ."}, {"owner": {"reputation": 5, "user_id": 5216416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c909145778e0864a142d5f9bfd1845?s=128&d=identicon&r=PG&f=1", "display_name": "Stalin Rios", "link": "https://stackoverflow.com/users/5216416/stalin-rios"}, "edited": false, "score": 0, "creation_date": 1439325215, "post_id": 31949860, "comment_id": 51812218, "body": "Thank you for all your comments, I found the problem. Later on my code I had &#39;@Words = split(/&gt;/, $line);&#39; which was eliminating the (&gt;). I fixed it. Thanks a lot!."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1439320628, "post_id": 31949984, "comment_id": 51809672, "body": "Transliterate is the way to go."}], "tags": [], "owner": {"reputation": 8276, "user_id": 3501958, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/weWwl.png?s=128&g=1", "display_name": "hata", "link": "https://stackoverflow.com/users/3501958/hata"}, "is_accepted": false, "score": 4, "last_activity_date": 1439320341, "last_edit_date": 1439320341, "creation_date": 1439320011, "answer_id": 31949984, "question_id": 31949860, "link": "https://stackoverflow.com/questions/31949860/regex-to-substitute-a-less-than-with-a-greater-than-symbol/31949984#31949984", "title": "Regex to substitute a less than (&lt;) with a greater than (&gt;) symbol", "body": "<p>If you want to substitute just one character with another one character, try with <strong><code>tr///</code></strong>:</p>\n\n<pre><code>$text =~ tr/&lt;/&gt;/;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1439320755, "last_edit_date": 1439320755, "creation_date": 1439320141, "answer_id": 31950011, "question_id": 31949860, "link": "https://stackoverflow.com/questions/31949860/regex-to-substitute-a-less-than-with-a-greater-than-symbol/31950011#31950011", "title": "Regex to substitute a less than (&lt;) with a greater than (&gt;) symbol", "body": "<p><code>s/&lt;/&gt;/g</code> is actually correct.</p>\n\n<pre><code>$ perl -E'\n    my $s = \"abc&lt;def&lt;ghi\";\n    $s =~ s/&lt;/&gt;/g;\n    say $s;\n'\nabc&gt;def&gt;ghi\n</code></pre>\n\n<p><code>tr/&lt;/&gt;/</code> would be faster, though.</p>\n\n<pre><code>$ perl -E'\n    my $s = \"abc&lt;def&lt;ghi\";\n    $s =~ tr/&lt;/&gt;/;\n    say $s;\n'\nabc&gt;def&gt;ghi\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 5216416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c909145778e0864a142d5f9bfd1845?s=128&d=identicon&r=PG&f=1", "display_name": "Stalin Rios", "link": "https://stackoverflow.com/users/5216416/stalin-rios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1514, "favorite_count": 0, "closed_date": 1439342170, "answer_count": 2, "score": -2, "last_activity_date": 1439320755, "creation_date": 1439319521, "question_id": 31949860, "link": "https://stackoverflow.com/questions/31949860/regex-to-substitute-a-less-than-with-a-greater-than-symbol", "closed_reason": "Not suitable for this site", "title": "Regex to substitute a less than (&lt;) with a greater than (&gt;) symbol", "body": "<p>In Perl, I need to substitute the less than symbol (&lt;) by the greater than symbol (>) by using a regular expression. I tried:</p>\n\n<pre><code>s/&lt;/&gt;/g;\n</code></pre>\n\n<p>as well as </p>\n\n<pre><code>s/&lt;/\\&gt;/g;\n</code></pre>\n\n<p>which can find the (&lt;) but it doesn't make the substitution.</p>\n\n<p>Any help please. I'm quite new to Perl.</p>\n"}, {"tags": ["perl", "makefile", "nmake"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1439329220, "post_id": 31949834, "comment_id": 51814204, "body": "I can&#39;t help you with your actual problem, but I installed <a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">Strawberry Perl</a> and it came with a complete development toolchain (compiler, make, etc) that just worked out of the box."}, {"owner": {"reputation": 31, "user_id": 5216357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbec124dd93aec8f7ed262a5d972acce?s=128&d=identicon&r=PG&f=1", "display_name": "joearf", "link": "https://stackoverflow.com/users/5216357/joearf"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1439378065, "post_id": 31949834, "comment_id": 51834385, "body": "Thanks. I&#39;ve seen the recommendations for Strawberry Perl elsewhere when searching for an answer to this, but had not heard of it before. Out of curiosity, I may set up yet another laptop with Strawberry Perl to test with; both as a resolution to this problem as well as to ensure some of my other scripts continue to work as expected (don&#39;t see why not, but it&#39;s usually  what you don&#39;t see that gets you)."}, {"owner": {"reputation": 31, "user_id": 5216357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbec124dd93aec8f7ed262a5d972acce?s=128&d=identicon&r=PG&f=1", "display_name": "joearf", "link": "https://stackoverflow.com/users/5216357/joearf"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1439398167, "post_id": 31949834, "comment_id": 51849150, "body": "[a bit later...] Strawberry Perl raised more errors than it fixed. Still trying."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1439403378, "post_id": 31949834, "comment_id": 51852021, "body": "@melpmene, He specifically said he didn&#39;t want to use the dmake/mingw chain"}, {"owner": {"reputation": 31, "user_id": 5216357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbec124dd93aec8f7ed262a5d972acce?s=128&d=identicon&r=PG&f=1", "display_name": "joearf", "link": "https://stackoverflow.com/users/5216357/joearf"}, "edited": false, "score": 0, "creation_date": 1439405845, "post_id": 31949834, "comment_id": 51853397, "body": "true enough, but I tried anyway."}, {"owner": {"reputation": 31, "user_id": 5216357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbec124dd93aec8f7ed262a5d972acce?s=128&d=identicon&r=PG&f=1", "display_name": "joearf", "link": "https://stackoverflow.com/users/5216357/joearf"}, "edited": false, "score": 0, "creation_date": 1440517775, "post_id": 31949834, "comment_id": 52301076, "body": "Just as update: I spent about an hour with Microsoft Visual Studio Support.  After examining every relevant bit of my environment, and trying what I had not tried (using the MSVS developer shell to run Makefile.PL), they, too, appear to be stumped.   As an extra step I installed the version of MSVS on the new laptop on an   older machine with AS Perl 5 v12 - no problem there. I&#39;m beginning to suspect the problem lies in the Active State version, but unfortunately I can&#39;t download anything older than v18 without shelling out. As previously stated: strawberry perl was no help."}, {"owner": {"reputation": 31, "user_id": 5216357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbec124dd93aec8f7ed262a5d972acce?s=128&d=identicon&r=PG&f=1", "display_name": "joearf", "link": "https://stackoverflow.com/users/5216357/joearf"}, "edited": false, "score": 0, "creation_date": 1440530975, "post_id": 31949834, "comment_id": 52308745, "body": "As luck would have it, Someone had an older install available - v5.8.8. That over came my problem, but, unfortunately, it&#39;s 32-bit, and didn&#39;t like my 64-bit libraries. Anyway, definitely an ActiveState problem, then."}], "owner": {"reputation": 31, "user_id": 5216357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbec124dd93aec8f7ed262a5d972acce?s=128&d=identicon&r=PG&f=1", "display_name": "joearf", "link": "https://stackoverflow.com/users/5216357/joearf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3479, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1471948532, "creation_date": 1439319446, "question_id": 31949834, "link": "https://stackoverflow.com/questions/31949834/perl-nmake-not-found", "title": "Perl: nmake not found", "body": "<p>I've seen two threads similar to my question, neither with an answer that helps me. </p>\n\n<p>I have been given a new laptop running Windows 7 Enterprise SP1 64-bit, on which I've installed Active Perl 5 'version 20, subversion 2 (v5.20.2) built for MSWin32-x64-multi-thread' and Microsoft Visual Studio Express 2015.</p>\n\n<p>Both 'C:\\perl64' and 'c:\\program files (32)\\Microsoft Visual Studio 14.0\\VC\\bin' are in my system path [without the single quotes, of course] and if I run nmake on the command line without any arguments and without a makefile in the pwd I get back the following message, definitely indicating that nmake can be found:</p>\n\n<blockquote>\n  <p>Microsoft (R) Program Maintenance Utility Version 14.00.23026.0\n  Copyright (C) Microsoft Corporation.  All rights reserved.</p>\n  \n  <p>NMAKE : fatal error U1064: MAKEFILE not found and no target specified\n  Stop.</p>\n</blockquote>\n\n<p>So far, so good. Now, when I run Makefile.PL to start installing a new package, I get the following message:</p>\n\n<blockquote>\n  <p>It looks like you don't have either nmake.exe or dmake.exe on your\n  PATH, so you will not be able to execute the commands from a Makefile.\n  You can install dmake.exe with the Perl Package Manager by running:</p>\n\n<pre><code>ppm install dmake\n</code></pre>\n  \n  <p>Checking if your kit is complete... Looks good Generating a\n  dmake-style Makefile</p>\n</blockquote>\n\n<p>What I don't understand and would like to resolve is why Perl does not see the nmake in my PATH environment? I've installed this same package previously on a number of different machines in the past - the only real variation in any of these has been in the version number of Perl and MSVS release and the bit-version of Perl [in almost all cases I've been working 32-bit instead of 64], but I don't see why either of these would make a difference to Perl not recognizing the MSVS bin directory in my %PATH%</p>\n\n<p>Installing dmake or minGW is not a solution for me: I've already done both and get a series of errors I've never experienced before with this package, so I'd really like to find a solution that would allow me to use nmake - if I still get errors afterwards, I'll work those out when I get to them.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 3, "last_activity_date": 1439317491, "last_edit_date": 1439317491, "creation_date": 1439317159, "answer_id": 31949170, "question_id": 31949142, "link": "https://stackoverflow.com/questions/31949142/whats-the-regular-expression-to-find-two-sets-of-parenthesis-in-a-row-using-per/31949170#31949170", "title": "what&#39;s the regular expression to find two sets of parenthesis in a row using perl?", "body": "<p>You can use this regex to match a line with exactly 2 parentheses sets:</p>\n\n<pre><code>m/^(\\([^)]*\\)\\s*){2}$/\n</code></pre>\n\n<p>OR:</p>\n\n<pre><code>m/^\\([^)]*\\)\\s*\\([^)]*\\)$/\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/pP0xG2/1\" rel=\"nofollow\">RegEx Demo</a></p>\n\n<p><code>[^)]*</code> will match any character but <code>)</code> and is more efficient than <code>.*?</code> or <code>.*</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 0, "last_activity_date": 1439317178, "creation_date": 1439317178, "answer_id": 31949175, "question_id": 31949142, "link": "https://stackoverflow.com/questions/31949142/whats-the-regular-expression-to-find-two-sets-of-parenthesis-in-a-row-using-per/31949175#31949175", "title": "what&#39;s the regular expression to find two sets of parenthesis in a row using perl?", "body": "<pre><code>^(?:\\s*\\([^\\)(]*\\)\\s*){2}$\n</code></pre>\n\n<p>You can define this pattern with anchors.See demo.</p>\n\n<p><a href=\"https://regex101.com/r/eX9gK2/10\" rel=\"nofollow\">https://regex101.com/r/eX9gK2/10</a></p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1439326941, "post_id": 31950776, "comment_id": 51813076, "body": "@H&#229;konH&#230;gland  - Not really. Its fully constrained. Must be minimum 2 blocks, cannot be 3 or more. Basically its <code>if ( x &gt;= 2 &amp;&amp; x &lt; 3 ), _x_ must equal 2</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439327879, "post_id": 31950776, "comment_id": 51813574, "body": "Yes I realized that, so I deleted my comment.. When you say this is a better solution, are you referring to the other answers?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439328003, "post_id": 31950776, "comment_id": 51813634, "body": "@H&#229;konH&#230;gland  - Absolutely. Leaving it here for brevity. Somebody will get something out of it."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 1, "last_activity_date": 1439322854, "creation_date": 1439322854, "answer_id": 31950776, "question_id": 31949142, "link": "https://stackoverflow.com/questions/31949142/whats-the-regular-expression-to-find-two-sets-of-parenthesis-in-a-row-using-per/31950776#31950776", "title": "what&#39;s the regular expression to find two sets of parenthesis in a row using perl?", "body": "<p>This is a better solution.   </p>\n\n<pre><code>while ( $text =~ //(?m)^(?=(?:.*?(?&amp;parens)){2})(?!(?:.*?(?&amp;parens)){3}).+$(?(DEFINE)(?&lt;parens&gt;\\([^)\\n]*\\)))/g )\n{\n    print $&amp;,\"\\n\";\n}\n</code></pre>\n\n<p><a href=\"http://www.regexformat.com\" rel=\"nofollow\">Formatted:</a></p>\n\n<pre><code> (?m)                          # Multi-line mode\n ^                             # BOL\n (?=                           # Must be 2 paren's blocks\n      (?:\n           .*? (?&amp;parens) \n      ){2}\n )\n (?!                           # Cannot be 3 paren's blocks\n      (?:\n           .*? (?&amp;parens) \n      ){3}\n )\n .+                            # Get the entire line\n $                             # EOL\n\n (?(DEFINE)\n      (?&lt;parens&gt; \\( [^)\\n]* \\) )    # (1)\n )\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 4175743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0eb14a2b0ab668f3492c2da318b7369e?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce Walker", "link": "https://stackoverflow.com/users/4175743/bruce-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 31949170, "answer_count": 3, "score": 1, "last_activity_date": 1439322854, "creation_date": 1439317077, "last_edit_date": 1439317412, "question_id": 31949142, "link": "https://stackoverflow.com/questions/31949142/whats-the-regular-expression-to-find-two-sets-of-parenthesis-in-a-row-using-per", "title": "what&#39;s the regular expression to find two sets of parenthesis in a row using perl?", "body": "<p>I have rows with different sets of parenthesis. For example</p>\n\n<pre><code>     (sdfsfs) (sfdsfd) \n     (sdfsfs) (sfdsfd) (sfdsfd) \n     (sdfsfs) (sfdsfd) (sfdsfd) (sfdsfd)\n     (sdfsfs) (sfdsfd) (sfdsfd) (sfdsfd) (sfdsfd)\n     (sdfsfs) (sfdsfd) (sfdsfd) (sfdsfd) (sfdsfd) \n</code></pre>\n\n<p>What's the regular expression to find only rows with two sets of parenthesis? In my example above, the first row.</p>\n\n<p>When the try this regular expression </p>\n\n<pre><code>/\\(.*\\) \\(.*\\)/\n</code></pre>\n\n<p>its returning all the rows</p>\n"}, {"tags": ["git", "perl", "docker", "yum"], "answers": [{"tags": [], "owner": {"reputation": 40726, "user_id": 2706422, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VpWGi.jpg?s=128&g=1", "display_name": "0x7d7b", "link": "https://stackoverflow.com/users/2706422/0x7d7b"}, "is_accepted": true, "score": 4, "last_activity_date": 1439317681, "creation_date": 1439317681, "answer_id": 31949342, "question_id": 31949084, "link": "https://stackoverflow.com/questions/31949084/need-to-install-perl-and-linux/31949342#31949342", "title": "Need to install Perl AND Linux", "body": "<p>By having a look at the <code>Dockerfile</code> of the <a href=\"https://github.com/perl/docker-perl/blob/r20150602.0/5.020.002-64bit,threaded/Dockerfile\" rel=\"nofollow\">official perl image</a> I saw that <code>apt-get</code> is available. So you could just do this instead of using <code>yum</code>:</p>\n\n<pre><code>apt-get install -y git\n</code></pre>\n"}], "owner": {"reputation": 693, "user_id": 400732, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9cf2d56acc9d7ade135c381be55da3cb?s=128&d=identicon&r=PG", "display_name": "egilchri", "link": "https://stackoverflow.com/users/400732/egilchri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 31949342, "answer_count": 1, "score": 1, "last_activity_date": 1439541760, "creation_date": 1439316853, "last_edit_date": 1439541760, "question_id": 31949084, "link": "https://stackoverflow.com/questions/31949084/need-to-install-perl-and-linux", "title": "Need to install Perl AND Linux", "body": "<p>I know how to use a Dockerfile to get the Perl I need:</p>\n\n<pre><code>FROM perl:latest\nRUN curl -L http://cpanmin.us | perl - App::cpanminus\nRUN cpanm JSON\nRUN cpanm Data::Dump\nRUN cpanm -f XML::SAX\nRUN cpanm XML::SAX::Expat\nRUN cpanm XML::Simple \n</code></pre>\n\n<p>But I also want to install git and make because I want to clone my perl code and then cd into a directory and run it using <code>make</code>.</p>\n\n<p>But adding </p>\n\n<pre><code>RUN yum install git \n</code></pre>\n\n<p>to the above, produced the error: </p>\n\n<pre><code>/bin/sh: 1: yum: not found\n</code></pre>\n\n<p>Can someone suggest an approach to this? I've tried by starting with Linux and doing a </p>\n\n<pre><code>RUN yum install perl\n</code></pre>\n\n<p>but then I don't get a Perl that works as smoothly as the offical one. In particular, it chokes when I try to add the modules I need.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["arrays", "perl", "hash", "subroutine"], "comments": [{"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 2, "creation_date": 1439316551, "post_id": 31948950, "comment_id": 51807407, "body": "There&#39;s no such thing as &#39;array context&#39; in Perl, I think: it&#39;s either <i>list</i>, scalar or void context. Why would you want such a functionality?"}, {"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 1, "creation_date": 1439316842, "post_id": 31948950, "comment_id": 51807579, "body": "Perhaps <a href=\"http://search.cpan.org/~robin/Want-0.26/Want.pm\" rel=\"nofollow noreferrer\">Want</a> module will be of interest for you, however."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1439316908, "post_id": 31948950, "comment_id": 51807622, "body": "just always return \\%hash and let the caller do <code>my @array = keys %{ foo() }</code> or <code>my %hash = %{ foo() }</code> (or better yet, just <code>my $hasherf = foo()</code>)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 2, "creation_date": 1439316950, "post_id": 31948950, "comment_id": 51807649, "body": "as @raina77ow says, wantarray is misnamed; it only tells you that there is list context"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1439317104, "post_id": 31948950, "comment_id": 51807733, "body": "@ysth, I know I can get the keys from a function returning a hash by using <code>keys %{ foo() }</code>, I&#39;m looking for a way to avoid just that."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 1, "creation_date": 1439317482, "post_id": 31948950, "comment_id": 51807961, "body": "By the way, is there someone just randomly going around downvoting Perl questions?  That &#39;-1&#39; was slapped on the instant I posted this question... I doubt whoever did it even had time to read it."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439320986, "post_id": 31948950, "comment_id": 51809845, "body": "See also <a href=\"https://metacpan.org/pod/Contextual::Return\" rel=\"nofollow noreferrer\"><code>Contextual::Return</code></a>"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439382731, "post_id": 31948950, "comment_id": 51837578, "body": "<code>Contextual::Return</code> looks interesting, but it looks like it only deals with ARRAYREF&#39;s or HASHREF&#39;s.  I&#39;m looking for a solution that will return an array or a hash, not a reference."}], "answers": [{"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439320206, "post_id": 31949742, "comment_id": 51809481, "body": "That is a valid solution, but is also something I was trying to avoid.  I want the function to be called the same whether you want a hash or an array, and adjust the output accordingly.  I understand what I am asking may not be possible, but I figured I would ask before completely giving up on it."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439321278, "post_id": 31949742, "comment_id": 51810013, "body": "I&#39;ve updated my answer with the only other way I can think of to do this (return a hash if <code>wantarray</code>, otherwise return an aref with the keys)"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439323955, "post_id": 31949742, "comment_id": 51811504, "body": "Funny, that&#39;s the exact opposite of Andrzej&#39;s response :) Those both seem to be the best options.  I selected his since using wantarray to return an array makes more sense logically than it would to return a hash, but I gave your answer a +1 because it is also equally as valid."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439328503, "post_id": 31949742, "comment_id": 51813868, "body": "I saw that right after I updated my answer :) It looked like you wanted to default to returning a hash, which is why I did it this way. Remember, as others have said, <code>wantarray</code> is not very aptly named. It should really be <code>wantlist</code> which both a hash and an array are."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439382331, "post_id": 31949742, "comment_id": 51837300, "body": "I agree, but due to its unfortunate choice of name, it makes more sense to a user if <code>wantarray</code> returns an array :)"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439382395, "post_id": 31949742, "comment_id": 51837334, "body": "I feel like Perl should have a better way of differentiating between arrays and hashes though... Maybe in Perl 6?"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1439321239, "last_edit_date": 1439321239, "creation_date": 1439319093, "answer_id": 31949742, "question_id": 31948950, "link": "https://stackoverflow.com/questions/31948950/optionally-return-either-an-array-or-a-hash-from-a-subroutine/31949742#31949742", "title": "Optionally return either an array or a hash from a subroutine?", "body": "<p>Just add a parameter so that if it's passed in, it returns keys:</p>\n\n<pre><code>sub foo {\n    my $want_keys = shift;\n\n    my %hash = (a =&gt; 1, b =&gt; 2, c =&gt; 3, );\n\n    return keys %hash if $want_keys;\n\n    return %hash;\n}\n\nmy %hash = foo();\n\nmy @keys = foo(1); # or foo('keys');\n</code></pre>\n\n<p>The only other way to do this is a hash is returned if a list is wanted, otherwise an array reference of the keys, which means the caller will have to dereference afterwards:</p>\n\n<pre><code>sub foo {\n    my %hash = (a=&gt;1, b=&gt;2);\n    return %hash if wantarray;\n    return [keys %hash];\n}\n\nmy $keys = foo();\nmy %hash = foo();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 2, "last_activity_date": 1439324539, "last_edit_date": 1439324539, "creation_date": 1439321224, "answer_id": 31950294, "question_id": 31948950, "link": "https://stackoverflow.com/questions/31948950/optionally-return-either-an-array-or-a-hash-from-a-subroutine/31950294#31950294", "title": "Optionally return either an array or a hash from a subroutine?", "body": "<p>Your subroutine may return array or <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">reference to hash</a>.</p>\n\n<pre><code>my @array = foo();  # @array contains \"keys %hash\"\nmy $hash_reference = foo();\n\nprint $array[0],\"\\n\"; # keys returned by foo are in random order\nprint $hash_reference-&gt;{key1},\"\\n\";\n\n\n# sample code\nsub foo {\n\n     # Define a hash\n     my %hash = (\n         'key1' =&gt; 'val1',\n         'key2' =&gt; 'val2',\n         'key3' =&gt; 'val3',\n     );\n\n     if( wantarray) {\n         return keys %hash;\n     }else{\n         return \\%hash\n     }\n}\n</code></pre>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 31950294, "answer_count": 2, "score": 0, "last_activity_date": 1439324539, "creation_date": 1439316462, "question_id": 31948950, "link": "https://stackoverflow.com/questions/31948950/optionally-return-either-an-array-or-a-hash-from-a-subroutine", "title": "Optionally return either an array or a hash from a subroutine?", "body": "<p>How can I return either a hash or an array from a subroutine, depending on what the user wants?</p>\n\n<p><strong>Basically I want a subroutine that when asked to return a hash it will return a hash, but when asked to return an array it will return an array containing what would be the keys of that hash.</strong></p>\n\n<p>ex:</p>\n\n<pre><code>my %hash = foo();\n\nmy @array = foo();  # @array contains \"keys %hash\"\n\n# pseudo code\nsub foo {\n\n     # Define a hash\n     my %hash = (\n         'key1' =&gt; 'val1',\n         'key2' =&gt; 'val2',\n         'key3' =&gt; 'val3',\n     );\n\n     # I know this is not valid Perl code, but it represents what I want.\n     return keys %hash if wantarray;\n     return %hash      if wanthash;\n}\n</code></pre>\n\n<p>I know you can use <code>wantarray</code> to determine whether you want an array or a scalar to be returned, but I need a similar functionality for optionally returning an array or a hash.</p>\n"}, {"tags": ["c#", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "MichaelT"}, "edited": false, "score": 4, "creation_date": 1439309511, "post_id": 31953646, "comment_id": 51816457, "body": "This is an implementation / debugging issue and should instead be asked on Stack Overflow."}, {"owner": {"reputation": 5236, "user_id": 8159, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/B3RDi.png?s=128&g=1", "display_name": "whatsisname", "link": "https://stackoverflow.com/users/8159/whatsisname"}, "edited": false, "score": 0, "creation_date": 1439309822, "post_id": 31953646, "comment_id": 51816458, "body": "What happens if you hex-&gt;bin the output?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439366125, "post_id": 31953646, "comment_id": 51826339, "body": "The first line in your C# already gives you a bunch of bytes. Those would be the same as the what <code>$ctx-&gt;digest</code> does in Perl. However, if you print stuff in Perl, it tries to represent it as character data. That&#39;s why you see the <i>weird</i> output. So in order to check if they are the same, you would to compare them you need to get them into the same representation. Hex is one of them. Converting them to a string that looks like binary (<code>1100101...</code>) might work also. Or you can try to figure out how to simply convert the bytes to whatever characters they are in C#. I&#39;ll edit the question for you"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1439373069, "last_edit_date": 1495541367, "creation_date": 1439373069, "answer_id": 31961739, "question_id": 31953646, "link": "https://stackoverflow.com/questions/31953646/how-can-i-output-arbitrary-binary-data-as-character-representation-in-c/31961739#31961739", "title": "How can I output arbitrary binary data as character representation in C#?", "body": "<p>As I already said in my comment above, you are mixing some things up. What the <code>digest</code> in Perl creates is a set of bytes. When those are printed, Perl will convert them automatically to a string-representation, because (simplified) it thinks if you print stuff it goes to a screen and you want to be able to read it. <strong>C# does not do that</strong>. That doesn't mean the Perl digest and the C# digest are not the same. Just their representation is different.</p>\n\n<p>You have already established that they are equal if you convert both of them to a hexadecimal representation.</p>\n\n<p>Now what you need to do to get output in C# that looks like the <em>string</em> that Perl prints when you do this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>print $ctx-&gt;digest; # output: \u00b8\u02dcE\u00d7\u00eb_\u0192\u02c6\u00e0\u00fc\u00c1Q\u00d6\u00c8\n</code></pre>\n\n<p>... is to convert the C# <code>byte[] data</code> to a string of characters.</p>\n\n<p>That has been answered before,f or example here: <a href=\"https://stackoverflow.com/questions/1003275/how-to-convert-byte-to-string\">How to convert byte[] to string?</a></p>\n\n<p>Using that technique, I believe your function to get it would look like this. <em>Please note I am a Perl developer and I have no means of testing this. Consider it C#-like pseudo-code.</em></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>static string GetMd5PerlishString(MD5 md5Hash, string input)\n    {\n\n        // Convert the input string to a byte array and compute the hash. \n        byte[] data = md5Hash.ComputeHash(Encoding.UTF8.GetBytes(input));\n\n        string result = System.Text.Encoding.UTF8.GetString(data);\n\n        return result;\n    }\n</code></pre>\n\n<p>Now it should look the same.</p>\n\n<hr>\n\n<p>Please also note that <a href=\"https://security.stackexchange.com/a/19908/21265\">MD5 is not a secure hashing algorithm for passwords any more</a>. <strong>Please do not store use it to store user passwords!</strong></p>\n"}], "migrated_from": {"other_site": {"aliases": ["http://programmer.stackexchange.com", "http://programmers.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1292524346, "open_beta_date": 1283972400, "closed_beta_date": 1283367600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/apple-touch-icon@2.png", "twitter_account": "StackSoftEng", "favicon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/apple-touch-icon.png", "audience": "professionals, academics, and students working within the systems development life cycle", "site_url": "https://softwareengineering.stackexchange.com", "api_site_parameter": "softwareengineering", "logo_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/logo.png", "name": "Software Engineering", "site_type": "main_site"}, "on_date": 1439335506, "question_id": 293440}, "owner": {"reputation": 21, "user_id": 5216169, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_T4ILsuu6AY/AAAAAAAAAAI/AAAAAAAAAFA/NPAAqRYlmZ4/photo.jpg?sz=128", "display_name": "Fredy", "link": "https://stackoverflow.com/users/5216169/fredy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 31961739, "answer_count": 1, "score": 2, "last_activity_date": 1439381741, "creation_date": 1439309387, "last_edit_date": 1439381741, "question_id": 31953646, "link": "https://stackoverflow.com/questions/31953646/how-can-i-output-arbitrary-binary-data-as-character-representation-in-c", "title": "How can I output arbitrary binary data as character representation in C#?", "body": "<p>I'm trying to recreate the functionallity of</p>\n\n<p><code>slappasswd -h {md5}</code></p>\n\n<p>on .Net</p>\n\n<p>I have this code on Perl</p>\n\n<pre><code>use Digest::MD5;\nuse MIME::Base64;\n$ctx = Digest::MD5-&gt;new;\n$ctx-&gt;add('fredy');\nprint \"Line $.: \", $ctx-&gt;clone-&gt;hexdigest, \"\\n\";\nprint \"Line $.: \", $ctx-&gt;digest, \"\\n\";\n$hashedPasswd = '{MD5}' . encode_base64($ctx-&gt;digest,'');\nprint $hashedPasswd . \"\\n\";\n</code></pre>\n\n<p>I've tried to do the same on VB.Net , C# etc etc , but only works the</p>\n\n<p><code>$ctx-&gt;clone-&gt;hexdigest  # result : b89845d7eb5f8388e090fcc151d618c8</code> </p>\n\n<p>part in C# using the MSDN Sample</p>\n\n<pre><code>static string GetMd5Hash(MD5 md5Hash, string input)\n    {\n\n        // Convert the input string to a byte array and compute the hash. \n        byte[] data = md5Hash.ComputeHash(Encoding.UTF8.GetBytes(input));\n\n        // Create a new Stringbuilder to collect the bytes \n        // and create a string.\n        StringBuilder sBuilder = new StringBuilder();\n\n        // Loop through each byte of the hashed data  \n        // and format each one as a hexadecimal string. \n        for (int i = 0; i &lt; data.Length; i++)\n        {\n            sBuilder.Append(data[i].ToString(\"x2\"));\n        }\n\n        // Return the hexadecimal string. \n        return sBuilder.ToString();\n    }\n</code></pre>\n\n<p>With this code in Console App :</p>\n\n<pre><code> string source = \"fredy\";\n        using (MD5 md5Hash = MD5.Create())\n        {\n            string hash = GetMd5Hash(md5Hash, source);\n\n            Console.WriteLine(\"The MD5 hash of \" + source + \" is: \" + hash + \".\");\n\n\n        }\n</code></pre>\n\n<p>outputs : <code>The MD5 hash of fredy is: b89845d7eb5f8388e090fcc151d618c8.</code></p>\n\n<p>but i need to implement the  <code>$ctx-&gt;digest</code> function, it outputs some binary data like</p>\n\n<p><code>\u00b8\u02dcE\u00d7\u00eb_\u0192\u02c6\u00e0\u00fc\u00c1Q\u00d6\u00c8</code></p>\n\n<p>this output happens on Linux and Windows with Perl.</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["xml", "perl", "parsing", "attributes", "elements"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1439308558, "post_id": 31946412, "comment_id": 51802799, "body": "Yes, you are. Even the documentation says not to use it. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439309521, "post_id": 31946412, "comment_id": 51803352, "body": "Also, welcome to Stack Overflow! This is a very good first question. :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1439311229, "post_id": 31946412, "comment_id": 51804392, "body": "No such thing as nested attributes?!?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5161289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d25501c00adc5f4ca03901918a431af?s=128&d=identicon&r=PG&f=1", "display_name": "JustaRedShirt", "link": "https://stackoverflow.com/users/5161289/justaredshirt"}, "edited": false, "score": 0, "creation_date": 1439310078, "post_id": 31946738, "comment_id": 51803686, "body": "To make sure i can understand the code, you&#39;re making an object with XML::Twig-&gt;new and setting the parameters to grab anything within the location tag, what is qw, and if I have a lot more attributes to work with do I have to list them all?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1439310460, "post_id": 31946738, "comment_id": 51803938, "body": "<code>qw( ... )</code> is the same as <code>split(&#39; &#39;, q( ... ))</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1439310515, "post_id": 31946738, "comment_id": 51803967, "body": "And yes, you will have to list them. How else are you going to make sure they&#39;re in the order you want?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1439310630, "post_id": 31946738, "comment_id": 51804036, "body": "I&#39;m not sure how helpful that explanation is @ikegami. <code>qw</code> constructs a list from quoted words. It&#39;s identical to (&#39;name&#39;, &#39;square_feet&#39;, &#39;highway&#39;)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1439310904, "post_id": 31946738, "comment_id": 51804205, "body": "You provided an explanation that works in one case. I provided an explanation that works in all cases. (Except I should have put the whole thing in parens.)"}, {"owner": {"reputation": 21, "user_id": 5161289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d25501c00adc5f4ca03901918a431af?s=128&d=identicon&r=PG&f=1", "display_name": "JustaRedShirt", "link": "https://stackoverflow.com/users/5161289/justaredshirt"}, "edited": false, "score": 0, "creation_date": 1439311712, "post_id": 31946738, "comment_id": 51804704, "body": "So I keep getting an error about &quot;use&quot; not being allowed in expression at the line (use XML::Twig ), but I&#39;m not sure how that is creating an error. is there supposed to be a semicolon after (use feature &#39;say&#39;)?"}, {"owner": {"reputation": 21, "user_id": 5161289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d25501c00adc5f4ca03901918a431af?s=128&d=identicon&r=PG&f=1", "display_name": "JustaRedShirt", "link": "https://stackoverflow.com/users/5161289/justaredshirt"}, "edited": false, "score": 0, "creation_date": 1439316060, "post_id": 31946738, "comment_id": 51807109, "body": "Thanks so much for the help with this!"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 5, "last_activity_date": 1439311771, "last_edit_date": 1439311771, "creation_date": 1439309181, "answer_id": 31946738, "question_id": 31946412, "link": "https://stackoverflow.com/questions/31946412/whats-the-best-way-to-parse-nested-attributes-in-xml-using-perl/31946738#31946738", "title": "What&#39;s the best way to parse nested attributes in XML using Perl?", "body": "<p>The <a href=\"https://metacpan.org/pod/XML::Simple#STATUS-OF-THIS-MODULE\" rel=\"nofollow\">XML::Simple docs say <strong>not to use it in new code</strong></a>. This is a good example why. Instead, you can use <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\">XML::Twig</a>, which has extensive documentation.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt;new(\n  twig_handlers =&gt; {\n    'Location' =&gt; sub {\n      my ( $twig, $elem ) = @_;\n      say join ';', map { $elem-&gt;att($_) } qw( name square_feet highway );\n    },\n});\n\n$twig-&gt;parse( \\*DATA );\n\n__DATA__\n&lt;Export land_name=\"tx\"&gt;\n&lt;Area&gt;\n    &lt;Location name=\"foo\"\n              square_feet=\"10,000\"\n              highway=\"I-35\"/&gt;\n    &lt;Location name=\"dog\"\n              square_feet=\"20,000\"\n              highway=\"I-45\"/&gt;\n&lt;/Area&gt;\n&lt;/Export&gt;\n</code></pre>\n\n<p>This defines a handler for the <code>&lt;Location&gt;</code> tag, and grabs the three attributes out of the tag. You can then do what you want with them.</p>\n\n<p>Since you want to write them to a CSV file you can use <a href=\"https://metacpan.org/pod/XML::Simple#STATUS-OF-THIS-MODULE\" rel=\"nofollow\">Text::CSV</a>. Set it up outside and call it to write stuff in the handler.</p>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"https://metacpan.org/pod/XML::Twig#XML::Twig::Elt\" rel=\"nofollow\">XML::Twig::Elt</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1439311192, "last_edit_date": 1439311192, "creation_date": 1439310370, "answer_id": 31947126, "question_id": 31946412, "link": "https://stackoverflow.com/questions/31946412/whats-the-best-way-to-parse-nested-attributes-in-xml-using-perl/31947126#31947126", "title": "What&#39;s the best way to parse nested attributes in XML using Perl?", "body": "<p>XML::Simple:</p>\n\n<pre><code># ForceArray =&gt; [qw( Location )],\n# KeyAttr    =&gt; [],\n# KeepRoot   =&gt; 1,\n\nfor my $node (@{ $doc-&gt;{Export}{Area}{Location} }) {\n   say join ';',\n      map { $node-&gt;{$_} }\n         qw( name square_feet highway );\n}\n</code></pre>\n\n<p>XML::Simple requires that you do all that configuration, and there are many gotchas. The module's own documentation advises you to avoid XML::Simple as a result.</p>\n\n<p>XML::LibXML:</p>\n\n<pre><code>for my $node ($doc-&gt;findnodes('/Export/Area/Location')) {\n   say join ';',\n      map { $node-&gt;getAttribute($_) }\n         qw( name square_feet highway );\n}\n</code></pre>\n\n<p>XML::Twig:</p>\n\n<pre><code>my $twig = XML::Twig-&gt;new(\n   twig_handlers =&gt; {\n      '/Export/Area/Location' =&gt; sub {\n         my ($twig, $elem) = @_;\n         say join ';',\n            map { $elem-&gt;att($_) }\n               qw( name square_feet highway );\n      },\n   },\n);\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5161289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d25501c00adc5f4ca03901918a431af?s=128&d=identicon&r=PG&f=1", "display_name": "JustaRedShirt", "link": "https://stackoverflow.com/users/5161289/justaredshirt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1439311771, "creation_date": 1439308202, "last_edit_date": 1439309610, "question_id": 31946412, "link": "https://stackoverflow.com/questions/31946412/whats-the-best-way-to-parse-nested-attributes-in-xml-using-perl", "title": "What&#39;s the best way to parse nested attributes in XML using Perl?", "body": "<p>So I'm working within an xml file that basically has a nested array of elements with each element having a lot of nested attributes:</p>\n\n<pre><code>&lt;Export land_name=\"tx\"&gt;\n&lt;Area&gt;\n    &lt;Location name=\"foo\"\n              square_feet=\"10,000\"\n              highway=\"I-35\"/&gt;\n    &lt;Location name=\"dog\"\n              square_feet=\"20,000\"\n              highway=\"I-45\"/&gt;\n&lt;/Area&gt;\n&lt;/Export&gt;\n</code></pre>\n\n<p>My goal is to parse out the attributes (square_feet, highway, name) and output them to a .csv file. I'm using XML::Simple but the more I've worked with it I think I'm using the wrong package. My main question is what is the best control structure to parse out the nested attributes? I keep getting caught up on referring to non-existent has references or array references. Here is the code I have so far:</p>\n\n<pre><code>use warnings;\nuse XML::Simple;\nuse Data::Dumper;\nmy $in = \"XML_in.xml\";\nmy $xml = XML::Simple-&gt;new(KeyAttr =&gt; [], ForceArray =&gt; [Device], KeepRoot =&gt; 1 );\nmy $Inv = $xml-&gt;XMLin($in);\nprint $Inv-&gt;{Export}-&gt;{Area}-&gt;{Location}-&gt;[0]-&gt;{name};\n</code></pre>\n\n<p>If my code is in error, is it the incorrect usage of the <code>KeyAttr</code>, <code>ForceArra</code>y, or <code>keeproot</code>?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 3, "creation_date": 1439307909, "post_id": 31946244, "comment_id": 51802392, "body": "Why iterate over hash at all when you can do simple <code>exists</code> lookup?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1439308219, "post_id": 31946244, "comment_id": 51802603, "body": "I could be wrong, but it sounds like you&#39;re trying to map fields in your data file to column names in your database. You can do that without messing with hash internals; please show an example of your data and we can help you come up with a better solution. (Also see <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">What is the XY problem?</a>)"}, {"owner": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "edited": false, "score": 1, "creation_date": 1439309412, "post_id": 31946244, "comment_id": 51803286, "body": "I am not sure if <code>exists</code> will help me here. What I am trying to do is just simplify stuff for me. I have an output, with many lines. I want to match a line to a regex. The regex is a substring of that line. I then want to remove that regex from the line, and that will give me the value I am looking for. This value is then uploaded to the database. The regex is the <code>key</code> of hash, and the column where the substring will go to in the database is the <code>value</code> of the hash."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439311174, "post_id": 31946244, "comment_id": 51804362, "body": "Can you actually put that into the question and add example code for it?"}, {"owner": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "edited": false, "score": 0, "creation_date": 1439311393, "post_id": 31946244, "comment_id": 51804499, "body": "That portion of the code has nothing to do with the question of whether or not it is possible, or if there is a way, to reset the internal iterator and then modify it to skip certain elements in the hash?!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1439311718, "post_id": 31946244, "comment_id": 51804710, "body": "No, but I think there is a better approach and for that I need to understand what you are trying to do. :-)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3521760"}, "edited": false, "score": 1, "creation_date": 1439312007, "post_id": 31946244, "comment_id": 51804846, "body": "With no disrespect intended, I had a hard time understanding what you were doing exactly. Does this &quot;The problem is, that the text can contain a repeating line with a repeating key, which has a duplicate info which I don&#39;t care about.&quot; Mean that you don&#39;t want to create a string out of a concatenated key and value where the value exists elsewhere in the hash?"}, {"owner": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1439314333, "post_id": 31946244, "comment_id": 51806178, "body": "@simbabque - ok, you are right. I have added the other loop in. As you can see, I write a shell command, and I want to read the output, line-by-line. Then I want to match each line to an already know regex which is stored in my <code>%hmyHash</code>. So I loop through the hash, in order to find the matching regex, if any. If I do find it, I add it to the columns and values variables - and then I want to write them to the database. But because some lines have a repeated info - columns are repeated - and that throws an error. I tried to delete $hash{$key} but it did not seem to help."}, {"owner": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "edited": false, "score": 1, "creation_date": 1439317608, "post_id": 31946244, "comment_id": 51808042, "body": "Yes, but for each shell output, I want to repeat the lookup only once for each regex string. NM. It works now after I added the delete"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1439384599, "post_id": 31946244, "comment_id": 51839153, "body": "It looks like <code>%my_hash</code> should be an array of pairs rather than a hash, because you&#39;re not using the regex string to access the corresponding value in the hash"}], "answers": [{"comments": [{"owner": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "edited": false, "score": 1, "creation_date": 1439312084, "post_id": 31947539, "comment_id": 51804888, "body": "Kinda, but not really. I look through the hash for each newline I get in order to match that line with the &quot;key&quot; of the hash which is the regex for matching. I will want the hash intact for the next line I read in."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "edited": false, "score": 0, "creation_date": 1439317026, "post_id": 31947539, "comment_id": 51807690, "body": "then I don&#39;t get it; you are already only looking once for each key in each line; what is it you want to prevent looking for?"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1439317125, "last_edit_date": 1439317125, "creation_date": 1439311674, "answer_id": 31947539, "question_id": 31946244, "link": "https://stackoverflow.com/questions/31946244/perl-looping-through-hash-and-changing-the-internal-iterator-counter/31947539#31947539", "title": "Perl - looping through Hash and changing the internal iterator counter?", "body": "<p>It sounds to me like you just want to delete the key from %myHash once you've found it.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1439312108, "post_id": 31947648, "comment_id": 51804902, "body": "I&#39;m on a phone, no documentation links for now."}, {"owner": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "edited": false, "score": 1, "creation_date": 1439314904, "post_id": 31947648, "comment_id": 51806513, "body": "OK, it worked, I placed the delete inside the first while loop, and I copy the original hash into a temp hash before the first while loop. That fixed it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "edited": false, "score": 1, "creation_date": 1439384491, "post_id": 31947648, "comment_id": 51839075, "body": "@KingsInnerSoul: If that&#39;s the only change you made, and the keys of your hash are really regex strings, then your code can&#39;t be working as <code>index</code> doesn&#39;t search for regex patterns"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1439314473, "last_edit_date": 1439314473, "creation_date": 1439312082, "answer_id": 31947648, "question_id": 31946244, "link": "https://stackoverflow.com/questions/31946244/perl-looping-through-hash-and-changing-the-internal-iterator-counter/31947648#31947648", "title": "Perl - looping through Hash and changing the internal iterator counter?", "body": "<p>Since you do not control the order of the keys, setting an internal pointer won't help. You can simply <a href=\"http://perldoc.perl.org/functions/delete.html\" rel=\"nofollow\"><code>delete</code></a> the key once you found it. Make a copy of your hash first if you want to hang on to the <em>used</em> ones or move them into a new hash, maybe <code>%used</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1439330884, "post_id": 31950630, "comment_id": 51814928, "body": "This is what I think the OP was really trying to do. I would make the minor addition of quoting the table and column names with <code>quote_identifier</code> just in case they contain special characters, although that seems unlikely."}, {"owner": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "edited": false, "score": 1, "creation_date": 1439336951, "post_id": 31950630, "comment_id": 51816838, "body": "It is NOT what I was trying to do. The KEYS of the hash  are only the regex I compare each line against. Once a matching regex is found for that string - the VALUE of the hash is used as the database&#39;s columns. The actual data I enter into each of the columns is the rest of the string - without the regex (the KEY of the has)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "edited": false, "score": 1, "creation_date": 1439383322, "post_id": 31950630, "comment_id": 51838041, "body": "@KingsInnerSoul: That should have gone into your question. You managed to fool at least two first-class Perl programmers into thinking is <i>was</i> what you wanted"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "edited": false, "score": 1, "creation_date": 1439384254, "post_id": 31950630, "comment_id": 51838864, "body": "@KingsInnerSoul: Do you realise that <code>index</code> doesn&#39;t do a regex match? It simply looks for one substring within another. That is one reason why your example code was misleading. It would also have help enormously to show an example of the output from your shell command"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1439384828, "post_id": 31950630, "comment_id": 51839332, "body": "@Borodin what did you just call me?! :D"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1439396075, "last_edit_date": 1592644375, "creation_date": 1439322412, "answer_id": 31950630, "question_id": 31946244, "link": "https://stackoverflow.com/questions/31946244/perl-looping-through-hash-and-changing-the-internal-iterator-counter/31950630#31950630", "title": "Perl - looping through Hash and changing the internal iterator counter?", "body": "<h3>Update</h3>\n<p>Now that you've explained a little better what you need, this code should do it for you. It keeps a hash <code>%wanted</code> that contains the names of the columns to be\ninserted and their corresponding values</p>\n<p>You must be careful about any whitespace that appears in the shell command's output between the column name and the data value: either the regex in the hash must allow for it or you must include a <code>\\s*</code> in the pattern being applied</p>\n<pre><code>my $table;\n\nopen my $cmd_fh, '-|', 'my shell command' or die &quot;Can't exec: $!&quot;;\n\nmy %wanted;\n\nwhile ( &lt;$cmd_fh&gt; ) {\n    s/\\s+\\z//;\n    while ( my ($re, $column) = each %my_hash ) {\n        if ( / $re (.*) /x ) {\n            %wanted{$column} //= $1;\n        }\n    }\n}\n\nmy @values        = values %wanted;\nmy $columns       = join ', ', keys %wanted;\nmy $placeholders  = join ', ', ( '?' ) x @values;\n\nmy $sql = sprintf 'INSERT INTO %s (%s) VALUES (%s)', $table, $columns, $placeholders;\nmy $command = $dbh-&gt;prepare( $sql );\n$command-&gt;execute( @values );\n</code></pre>\n<br/>\n<hr />\n<p>If I understand you correctly, you want to pick those keys from your hash that appear anywhere in the output of your shell command. Then you want to execute an SQL <code>INSERT</code> statement using those keys as column names and the corresponding hash values as the data to insert</p>\n<p>You've made things much more complicated than necessary. This code reads the entire file into variable <code>$lines</code>, and then <code>grep</code> is called to pick those hash keys that appear anywhere in <code>$lines</code></p>\n<p>From there it's simple to generate a comma-separated list of column names and a corresponding list of placeholder question marks that can be used to create an <code>INSERT</code> statement that is passed to <code>prepare</code>. The list of hash values is passed to <code>execute</code> which will quote them properly acording to data type</p>\n<pre><code>my $lines = do {\n    open my $cmd_fh, '-|', 'my shell command' or die &quot;Can't exec: $!&quot;;\n    local $/;\n    &lt;$fh&gt;;\n};\n\nmy @matching_keys = grep { index( $line, $_ ) &gt;= 0 } keys %my_hash;\nmy @values        = @my_hash{@matching_keys};\nmy $columns       = join ', ', @matching_keys;\nmy $placeholders  = join ', ', ( '?' ) x @values;\n\nmy $sql = sprintf 'INSERT INTO %s (%s) VALUES (%s)', $table, $columns, $placeholders;\nmy $command = $dbh-&gt;prepare( $sql );\n$command-&gt;execute( @values );\n</code></pre>\n<p>You're clearly used to writing in a different language. You should stick to lower-case letters for lexical identifiers. Perl reserves capitals for global identifiers such as package names</p>\n"}], "owner": {"reputation": 1175, "user_id": 1933657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DLTyD.png?s=128&g=1", "display_name": "KingsInnerSoul", "link": "https://stackoverflow.com/users/1933657/kingsinnersoul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 31950630, "answer_count": 3, "score": -1, "last_activity_date": 1439396075, "creation_date": 1439307747, "last_edit_date": 1439384956, "question_id": 31946244, "link": "https://stackoverflow.com/questions/31946244/perl-looping-through-hash-and-changing-the-internal-iterator-counter", "title": "Perl - looping through Hash and changing the internal iterator counter?", "body": "<p>I have a hash:</p>\n\n<pre><code>my %myHash= (\n    \"Key1\", \"val1\",\n    \"Key2\", \"val2\",\n    \"Key3\", \"val3\",\n    \"Key4\", \"val4\"\n);\n</code></pre>\n\n<p>I loop though it </p>\n\n<pre><code>open(EXEC, '-|', \"my Shell Command\") or die \"Can't exec: $!\\n\";\n\n# Now read the output just like a file\nwhile(my $line = &lt;EXEC&gt;) {\n    chomp $line;             # remove the newline from the read line\n    $line =~ s/^\\s+|\\s+$//g; # remove leading or trailing whitespaces\n    # reset the internal iterator, and loop through the hash\n    keys %myHash;\n    while(my($key, $val) = each %myHash) {\n        # find if it matches anything - and store it\n        my $keyWordIndex = index($line, $key);\n        if ($keyWordIndex != -1) {\n            # if the cols/vals query isnt empty, add comma to the end\n            if (length($queryCols) &gt; 1) { $queryCols .= \", \"; }\n            if (length($queryVals) &gt; 1) { $queryVals .= \", \"; }\n\n            # do some more stuff here\n            my $subLine  = substr($line, $someStart, $someLength);\n            # now build the columns and values to write out to the DB\n            $queryCols .= $val;\n            $queryVals .= \"'$subLine'\";\n        }\n    }\n}\n# prepare the DB query\n$command = $dbConnection-&gt;prepare(\"INSERT INTO $table($queryCols) VALUES ($queryVals)\")\nor die \"Could not prepare the query - $DBI::errstr\\n\";\n\n# execute the database update\neval { \n    my $db_results = $command-&gt;execute();\n};\n\nclose(EXEC);\n</code></pre>\n\n<p>What I do in the <code>while</code> loop is go through a text, line-by-line, and seek a match to one of the <code>keys</code>. The above <code>while</code> loop is nested inside another <code>while</code> loop that reads the text line-by-line. If there is a match, I concatiante a string which then I use to update my database. The string I concatinate is the value of the matching key in the hash. </p>\n\n<p>So my SQL query will look something like that:</p>\n\n<pre><code>INSERT INTO myTable(header1, header3, header2, header4)\nVALUES ('substr1','substr3','substr2','substr4');\n</code></pre>\n\n<p>The problem is, that the text can contain a repeating line with a repeating key, which has a duplicate info which I don't care about. </p>\n\n<p>The <code>keys %myHash</code> <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow\">resets</a> the internal iterator. Is there a way to modify the internal iterator if I found a key, so I will not iterate over it again after I reset it?</p>\n"}, {"tags": ["perl", "unix"], "comments": [{"owner": {"reputation": 85, "user_id": 5112162, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b38a04139eb6e0e9fc24ae825379296?s=128&d=identicon&r=PG&f=1", "display_name": "ZebraSocks", "link": "https://stackoverflow.com/users/5112162/zebrasocks"}, "reply_to_user": {"reputation": 182823, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1439307425, "post_id": 31946055, "comment_id": 51802098, "body": "But when I run it in the terminal it takes only half a second?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1439307696, "post_id": 31946055, "comment_id": 51802277, "body": "You might want to sanitize your <code>$INPUT</code> The way you are using it now it could be used to cause <b>a lot of damage</b>. Imagine a user passes something like <code>| rm -rf &#47;</code>. Make sure it&#39;s a file name. Maybe with <code>die &#39;wrong argument&#39; if $INPUT =~ m&#47;[|]&#47;;</code> Also <b>do not try with my sample input, it might wipe your system!!!</b>"}, {"owner": {"reputation": 85, "user_id": 5112162, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b38a04139eb6e0e9fc24ae825379296?s=128&d=identicon&r=PG&f=1", "display_name": "ZebraSocks", "link": "https://stackoverflow.com/users/5112162/zebrasocks"}, "edited": false, "score": 0, "creation_date": 1439307838, "post_id": 31946055, "comment_id": 51802343, "body": "You&#39;re right, I really need to add proper error checking/handling...I&#39;m always lazy and don&#39;t add it until the end when I absolutely must"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439307984, "post_id": 31946055, "comment_id": 51802447, "body": "You could also use Getop::Long or similar. Or taint-mode. That would help a lot here."}], "answers": [{"comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 3, "creation_date": 1439307524, "post_id": 31946138, "comment_id": 51802163, "body": "This seems like it should be a comment."}, {"owner": {"reputation": 110, "user_id": 5209177, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5aL6qpfet6o/AAAAAAAAAAI/AAAAAAAAAKA/qcQUw3TWYAI/photo.jpg?sz=128", "display_name": "razor", "link": "https://stackoverflow.com/users/5209177/razor"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1439307581, "post_id": 31946138, "comment_id": 51802200, "body": "@HunterMcMillen Comments require reputation 50."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1439307737, "post_id": 31946138, "comment_id": 51802301, "body": "@razor What you posted is not an answer in its current form. You could do several things to make it answer-worthy. e.g: look at the page @simbabque linked. You could also link to the perldoc page for <code>chomp</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1439307832, "post_id": 31946138, "comment_id": 51802339, "body": "In addition to what @Hunter said, you can also rephrase it to sound more like you know what you are talking about. That usually gives people who read your answer more confidence and they are more likely to trust you (and upvote)."}, {"owner": {"reputation": 85, "user_id": 5112162, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b38a04139eb6e0e9fc24ae825379296?s=128&d=identicon&r=PG&f=1", "display_name": "ZebraSocks", "link": "https://stackoverflow.com/users/5112162/zebrasocks"}, "edited": false, "score": 0, "creation_date": 1439307875, "post_id": 31946138, "comment_id": 51802371, "body": "I can&#39;t accept it for another 3 minutes, but I will when I can"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 3, "creation_date": 1439307929, "post_id": 31946138, "comment_id": 51802408, "body": "Also don&#39;t &quot;respond&quot; to comments in your answer. Just edit it so that new readers see it as a good source of information. Just leave a comment saying something like &quot;thanks for the suggestion @hunter, I added that to the answer&quot;, upvote the comment and move on. That way you will create a high-quality answer that half a year later someone new instantly understands."}, {"owner": {"reputation": 110, "user_id": 5209177, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5aL6qpfet6o/AAAAAAAAAAI/AAAAAAAAAKA/qcQUw3TWYAI/photo.jpg?sz=128", "display_name": "razor", "link": "https://stackoverflow.com/users/5209177/razor"}, "edited": false, "score": 1, "creation_date": 1439308041, "post_id": 31946138, "comment_id": 51802489, "body": "Thanks for the suggestions to a newbie. Advice taken."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1439308156, "post_id": 31946138, "comment_id": 51802560, "body": "I would suggest to have the <code>chomp</code> link to the perldoc, drop the line with with the <i>Here&#39;s the...</i> and instead have an example. That would be along the lines of <code>my $startline = </code>egrep ...; chomp $startline; # ...`. But in a block. :)"}], "tags": [], "owner": {"reputation": 110, "user_id": 5209177, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5aL6qpfet6o/AAAAAAAAAAI/AAAAAAAAAKA/qcQUw3TWYAI/photo.jpg?sz=128", "display_name": "razor", "link": "https://stackoverflow.com/users/5209177/razor"}, "is_accepted": true, "score": 5, "last_activity_date": 1439308116, "last_edit_date": 1439308116, "creation_date": 1439307444, "answer_id": 31946138, "question_id": 31946055, "link": "https://stackoverflow.com/questions/31946055/why-doesnt-the-unix-command-work-in-the-perl-script/31946138#31946138", "title": "Why doesn&#39;t the Unix command work in the Perl script?", "body": "<p>It's likely that your <code>$startline</code> has a newline in it, as it's consumed from command output. You should confirm this and then use <code>chomp()</code> on <code>$startline</code> prior to your <code>system()</code> call.</p>\n\n<p>Here's the <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\">perldoc for chomp</a> as suggested.</p>\n"}], "owner": {"reputation": 85, "user_id": 5112162, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b38a04139eb6e0e9fc24ae825379296?s=128&d=identicon&r=PG&f=1", "display_name": "ZebraSocks", "link": "https://stackoverflow.com/users/5112162/zebrasocks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 31946138, "answer_count": 1, "score": 2, "last_activity_date": 1439308116, "creation_date": 1439307193, "question_id": 31946055, "link": "https://stackoverflow.com/questions/31946055/why-doesnt-the-unix-command-work-in-the-perl-script", "title": "Why doesn&#39;t the Unix command work in the Perl script?", "body": "<p>I want to extract part of a text file starting at a certain pattern and store it in another file. My Perl script takes a single argument as the input text file. So far, I have:</p>\n\n<pre><code>my $INPUT = $ARGV[0];\nmy $LINES_TO_DUMP = 4000;\nmy $startline = `egrep -n \"^PATTERN\" $INPUT | head -1 | cut -f1 -d:`;\n\n# THIS LINE DOESN'T WORK\nsystem(\"tail +$startline $INPUT | head -$LINES_TO_DUMP &gt; extracted.txt\");\n</code></pre>\n\n<p>When I run my program, it gets 'stuck' running the second command (the <code>egrep</code> command works, and stores the correct number). I've run the command in my terminal to make sure it works.</p>\n\n<p>What is going wrong?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1439300958, "post_id": 31943399, "comment_id": 51797159, "body": "Programmers don&#39;t <code>die</code>, they just <code>GOSUB</code> without <code>RETURN</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1439300989, "post_id": 31943399, "comment_id": 51797181, "body": "I think what you actually want to do is use function calls. <code>do</code> is most likely a terrible idea. Please show some more of the actual code. It&#39;s also not clear how the user (is that a programmer) of the main script would call a secondary script."}, {"owner": {"reputation": 35, "user_id": 4892296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hZvGc.png?s=128&g=1", "display_name": "Majestic Pixel", "link": "https://stackoverflow.com/users/4892296/majestic-pixel"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439301329, "post_id": 31943399, "comment_id": 51797436, "body": "I thought so too. Using <code>do</code> is probably not the best way to go about but I am not really sure what my options are here."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1439301459, "post_id": 31943399, "comment_id": 51797543, "body": "If there is no shared memory/variables necessary, start a new process. Alternatively, refactor your two programs into modules that share the same interface and use those. This will be hard if there is a lot of global legacy stuff going on. As your program does not have <code>use strict</code> and <code>use warnings</code>, I will assume that is the case. Why are you doing this exactly?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1439303515, "post_id": 31943399, "comment_id": 51799199, "body": "Generally speaking, you&#39;re doing something wrong if you use <code>do</code>."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4892296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hZvGc.png?s=128&g=1", "display_name": "Majestic Pixel", "link": "https://stackoverflow.com/users/4892296/majestic-pixel"}, "edited": false, "score": 0, "creation_date": 1439301034, "post_id": 31943513, "comment_id": 51797216, "body": "I tried that but somehow the  <b>Task_A.pl</b> program just exits without returning to the main program."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1439301105, "post_id": 31943513, "comment_id": 51797272, "body": "You need to understand what <code>do</code> does. It&#39;s not a fork or a sub-process, it just slurps in the file and runs it in place. Over and over again, if you decide to do so."}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1439301367, "post_id": 31943513, "comment_id": 51797470, "body": "Yup, haven&#39;t used do in decades :-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439301523, "post_id": 31943513, "comment_id": 51797584, "body": "I use it with BLOCKs. But not with files."}, {"owner": {"reputation": 35, "user_id": 4892296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hZvGc.png?s=128&g=1", "display_name": "Majestic Pixel", "link": "https://stackoverflow.com/users/4892296/majestic-pixel"}, "edited": false, "score": 0, "creation_date": 1439301783, "post_id": 31943513, "comment_id": 51797781, "body": "I tried using <code>system(&#39;Task_A.pl&#39;);</code> instead and it worked like a charm. Thank you very much for your help."}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1439301929, "post_id": 31943513, "comment_id": 51797899, "body": "Great! You may want to mark the answer as a solution then."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1439302042, "post_id": 31943513, "comment_id": 51797998, "body": "I think you can greatly improve the answer by formatting it a bit, linking to the perldoc for <code>system</code> and explaining why that works, with a small example. Note I have not downvoted it."}], "tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": false, "score": 3, "last_activity_date": 1439365921, "last_edit_date": 1439365921, "creation_date": 1439300675, "answer_id": 31943513, "question_id": 31943399, "link": "https://stackoverflow.com/questions/31943399/exiting-a-secondary-perl-script-and-returning-to-the-main-program/31943513#31943513", "title": "Exiting a secondary Perl script and returning to the main program", "body": "<p><a href=\"http://perldoc.perl.org/functions/do.html\" rel=\"nofollow\">do</a> does not start another process. If that's what you want, use \"<a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\">system</a>()\".</p>\n\n<p>If you want <strong>do</strong>, then it's probably best to just put everything into a function in the file to be evaluated and call the function at the end of the file.</p>\n\n<p>Use \"<strong>return</strong>\" to leave the function and return to next instruction after <strong>do</strong>.</p>\n"}], "owner": {"reputation": 35, "user_id": 4892296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hZvGc.png?s=128&g=1", "display_name": "Majestic Pixel", "link": "https://stackoverflow.com/users/4892296/majestic-pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1439365921, "creation_date": 1439300361, "last_edit_date": 1439301250, "question_id": 31943399, "link": "https://stackoverflow.com/questions/31943399/exiting-a-secondary-perl-script-and-returning-to-the-main-program", "title": "Exiting a secondary Perl script and returning to the main program", "body": "<p>I am running a Perl script to control two other scripts. The user of the main program can call the two secondary scripts with the following line.</p>\n\n<pre><code>do 'Task_A.pl';\n</code></pre>\n\n<p>The script then runs <strong>Task_A.pl</strong> but I would like to find a way of then exiting <strong>Task_A.pl</strong> and return to the main program. If possible I would like to return to the function where I last called the secondary script. I am not sure as to what this is called but I appreciate any input for a possible solution.</p>\n\n<p>This is the whole main program, not much to it at the moment.</p>\n\n<pre><code>my $selecion;\n\n#Looping variables.\nmy $program_loop = 1;\n\nwhile ($program_loop == 1)\n{\n    print \"Please choose one of the programs listed in the menu.\\n\";\n\n    #Program menu where the user chooses from the presented options.\n    print \"[1] - Script A.\\n\";\n    print \"[2] - Script B.\\n\";\n    print \"[3] - Exit program.\\n\";\n\n    my $user_input = &lt;&gt;;\n\n    if ($user_input == 1) # &lt;-- Scrip_A.pl\n    {\n        do 'Task_A.pl';\n    }\n    elsif ($user_input == 2) # &lt;-- Scrip_B.pl\n    {\n        do 'Task_B.pl';     \n    }\n    elsif ($user_input == 3) # &lt;-- Exit Program\n    {\n        #The user can choose to exit from the menu.\n        print \"The program will now exit.\\n\";\n        exit;\n    }\n}\n</code></pre>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439299322, "post_id": 31942938, "comment_id": 51795882, "body": "Maybe the <code>@INC</code>, which comes from the environment, has not been built up."}, {"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "edited": false, "score": 0, "creation_date": 1439299509, "post_id": 31942938, "comment_id": 51796019, "body": "Check <code>perl -e &#39;print &quot;$_\\n&quot; for @INC&#39;</code>, perhaps it is broken."}, {"owner": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "edited": false, "score": 0, "creation_date": 1439300068, "post_id": 31942938, "comment_id": 51796452, "body": "I ran that from the shell while the machine was on and got:    <code>&#47;perl  &#47;netfort&#47;lib  &#47;usr&#47;local&#47;lib64&#47;perl5  &#47;usr&#47;local&#47;share&#47;perl5  &#47;usr&#47;lib64&#47;perl5&#47;vendor_perl  &#47;usr&#47;share&#47;perl5&#47;vendor_perl  &#47;usr&#47;lib64&#47;perl5  &#47;usr&#47;share&#47;perl5  .</code>  and then again while the machine was booting:   <code>&#47;usr&#47;local&#47;lib64&#47;perl5  &#47;usr&#47;local&#47;share&#47;perl5  &#47;usr&#47;lib64&#47;perl5&#47;vendor_perl  &#47;usr&#47;share&#47;perl5&#47;vendor_perl  &#47;usr&#47;lib64&#47;perl5  &#47;usr&#47;share&#47;perl5 .</code>"}], "answers": [{"comments": [{"owner": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "edited": false, "score": 0, "creation_date": 1439300451, "post_id": 31943184, "comment_id": 51796772, "body": "When checking my @INC at various times:  I ran that from the shell while the machine was on and got:    <code>&#47;perl  &#47;netfort&#47;lib  &#47;usr&#47;local&#47;lib64&#47;perl5  &#47;usr&#47;local&#47;share&#47;perl5  &#47;usr&#47;lib64&#47;perl5&#47;vendor_perl  &#47;usr&#47;share&#47;perl5&#47;vendor_perl  &#47;usr&#47;lib64&#47;perl5  &#47;usr&#47;share&#47;perl5  .</code>  and then again while the machine was booting:   <code>&#47;usr&#47;local&#47;lib64&#47;perl5  &#47;usr&#47;local&#47;share&#47;perl5  &#47;usr&#47;lib64&#47;perl5&#47;vendor_perl  &#47;usr&#47;share&#47;perl5&#47;vendor_perl  &#47;usr&#47;lib64&#47;perl5  &#47;usr&#47;share&#47;perl5 .</code>   Should I just add what&#39;s missing from the second list?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "edited": false, "score": 0, "creation_date": 1439300571, "post_id": 31943184, "comment_id": 51796876, "body": "I would start with that. But in any case having a directory twice doesn&#39;t really hurt. It might take a fraction longer if it looks there twice at startup, but I think that&#39;s neglegible."}, {"owner": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "edited": false, "score": 0, "creation_date": 1439301483, "post_id": 31943184, "comment_id": 51797562, "body": "It seemed like it had made progress, when I just included /perl, it gave an error saying it couldn&#39;t find another module (a custom one, which was located in /netfort/lib) but when I tried to include the two it went back to not finding strict.pm  Is this syntax correct for including multiple directories? Just a space between the two directory names <code>PERL5LIB=&#39;&#47;perl &#47;netfort&#47;lib&#39; &#47;mydirectory&#47;myscript &amp;</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "edited": false, "score": 0, "creation_date": 1439301881, "post_id": 31943184, "comment_id": 51797857, "body": "@Spellchamp see my edit. You need to use a colon <code>:</code>."}, {"owner": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "edited": false, "score": 1, "creation_date": 1439302998, "post_id": 31943184, "comment_id": 51798749, "body": "Perfect. I included all of the above directories just to be safe. Seems like The INC wasn&#39;t fully loaded by the time my script was called, or the two missing directories are part of this custom OS and are added to the INC at the end of the boot. Marked your answer as correct. Thank you very much."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1439301869, "last_edit_date": 1439301869, "creation_date": 1439299770, "answer_id": 31943184, "question_id": 31942938, "link": "https://stackoverflow.com/questions/31942938/why-does-a-perl-script-run-during-boot-on-centos-not-find-certain-modules/31943184#31943184", "title": "Why does a Perl script run during boot on CentOS not find certain modules?", "body": "<p>Maybe the <code>@INC</code>, which comes from the environment, has not been built up. It needs the paths to its libraries.</p>\n\n<p>You can either call it explicitly with the perl interpreter and the <code>-I</code> option, or set the <code>PERL5LIB</code> environment variable.</p>\n\n<pre><code>PERL5LIB='/usr/lib/perl5' /mydirectory/myscript &amp;\n</code></pre>\n\n<p>If there are several folders, separate them with a colon <code>:</code>.</p>\n\n<pre><code> PERL5LIB='/usr/lib/perl5:/tmp:/etc/lib/perl5' /mydirectory/myscript &amp;\n</code></pre>\n\n<p><strong>Please note that I don't know where the lib dir is in your CentOS</strong>, so I made that path up. </p>\n\n<p>You can find out by printing <code>@INC</code> from a regular shell like this:</p>\n\n<pre><code>$ perl -E 'say for @INC'\n</code></pre>\n\n<p>Append all the paths it lists to the environment variable for the call you make in your rc1 script and it should work.</p>\n"}], "owner": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 31943184, "answer_count": 1, "score": 3, "last_activity_date": 1439304207, "creation_date": 1439299211, "last_edit_date": 1439304207, "question_id": 31942938, "link": "https://stackoverflow.com/questions/31942938/why-does-a-perl-script-run-during-boot-on-centos-not-find-certain-modules", "title": "Why does a Perl script run during boot on CentOS not find certain modules?", "body": "<p>I am currently trying to run a perl script at boot in a custom version of CENTOS.</p>\n\n<p>I am doing so by calling it from an rc1 script, the call looks like this:</p>\n\n<pre><code>/mydirectory/myscript &amp;\n</code></pre>\n\n<p>But I'm getting the error \"Can't locate strict.pm in @INC\"</p>\n\n<p>This isn't specific to strict.pm, it throws that error at for whichever module is first on the use list. When I run the same command from the shell, however, it runs no problem.</p>\n\n<p>So why is it that my perl script cannot find the modules during bootup?</p>\n"}, {"tags": ["mysql", "sql", "perl"], "comments": [{"owner": {"reputation": 1106460, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "edited": false, "score": 2, "creation_date": 1439296198, "post_id": 31941815, "comment_id": 51793527, "body": "Only one <code>where</code> is needed.  Presumably the second should be <code>AND</code>."}, {"owner": {"reputation": 45, "user_id": 2185767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77459731ea2c6bc2f5f3f64e7fd46e81?s=128&d=identicon&r=PG", "display_name": "wrinkl3", "link": "https://stackoverflow.com/users/2185767/wrinkl3"}, "reply_to_user": {"reputation": 1106460, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "edited": false, "score": 0, "creation_date": 1439296879, "post_id": 31941815, "comment_id": 51794030, "body": "it&#39;s a nested query, isn&#39;t <code>where</code> appropriate there?"}, {"owner": {"reputation": 45, "user_id": 2185767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77459731ea2c6bc2f5f3f64e7fd46e81?s=128&d=identicon&r=PG", "display_name": "wrinkl3", "link": "https://stackoverflow.com/users/2185767/wrinkl3"}, "reply_to_user": {"reputation": 1106460, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "edited": false, "score": 0, "creation_date": 1439297381, "post_id": 31941815, "comment_id": 51794367, "body": "nevermind, just realized you weren&#39;t talking about the nested query."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1106460, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "edited": false, "score": 1, "creation_date": 1439297683, "post_id": 31941815, "comment_id": 51794601, "body": "@GordonLinoff: You should post that as an answer so that the OP can accept it"}, {"owner": {"reputation": 1106460, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1439303041, "post_id": 31941815, "comment_id": 51798787, "body": "@Borodin . . . Actually, the subject of duplicate where clauses comes up every so often.  I consider it a typographical error and vote to close instead."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1106460, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "edited": false, "score": 0, "creation_date": 1439311272, "post_id": 31941815, "comment_id": 51804421, "body": "@GordonLinoff: A vote to close may well never be actuated. If you can find a duplicate question then you should close this one one those grounds"}], "owner": {"reputation": 45, "user_id": 2185767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77459731ea2c6bc2f5f3f64e7fd46e81?s=128&d=identicon&r=PG", "display_name": "wrinkl3", "link": "https://stackoverflow.com/users/2185767/wrinkl3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1439297648, "creation_date": 1439296134, "last_edit_date": 1439297150, "question_id": 31941815, "link": "https://stackoverflow.com/questions/31941815/nfsen-error-mysql-you-have-an-error-in-your-sql-syntax", "title": "nfsen error: MySQL: You have an error in your SQL syntax;", "body": "<p>I'm trying to set up the mailing plugin in nfsen (it's written in perl).<br>\nAt one point the plugin generates the following sql query:<br>\n<code>SELECT event_id FROM events  WHERE Level=\"alarm\" AND Type=\"botlist1\" WHERE event_id NOT IN ( SELECT event_id FROM attributes WHERE Name=\"Notified\")</code><br>\nwhich prompts the error:   </p>\n\n<blockquote>\n  <p>Events: SQL ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'WHERE event_id NOT IN ( SELECT event_id FROM attributes WHERE Name=\"Notified\")' at line 1    </p>\n</blockquote>\n\n<p>I'm running nfsen 1.3.7, mysql server 5.5 and the table layouts of events and attributes are:  </p>\n\n<pre><code>+------------+------------------+------+-----+---------+----------------+\n| Field      | Type             | Null | Key | Default | Extra          |\n+------------+------------------+------+-----+---------+----------------+\n| event_id   | int(10) unsigned | NO   | PRI | NULL    | auto_increment |\n| starttime  | int(10)          | NO   |     | NULL    |                |\n| stoptime   | int(10)          | YES  | MUL | NULL    |                |\n| updatetime | int(10)          | NO   |     | NULL    |                |\n| level      | varchar(32)      | NO   |     | NULL    |                |\n| profile    | varchar(100)     | NO   |     | NULL    |                |\n| type       | varchar(32)      | NO   |     | NULL    |                |\n+------------+------------------+------+-----+---------+----------------+\n\n+--------------+------------------+------+-----+---------+----------------+\n| Field        | Type             | Null | Key | Default | Extra          |\n+--------------+------------------+------+-----+---------+----------------+\n| attribute_id | int(10) unsigned | NO   | PRI | NULL    | auto_increment |\n| event_id     | int(10) unsigned | YES  | MUL | NULL    |                |\n| name         | varchar(32)      | YES  |     | NULL    |                |\n| value        | varchar(64)      | YES  |     | NULL    |                |\n+--------------+------------------+------+-----+---------+----------------+\n</code></pre>\n\n<p>Edit: no idea why this was marked as duplicate, the issue in the linked question doesn't seem to be related at all, since none of the names here appear to be reserved keywords.</p>\n"}, {"tags": ["perl", "unicode", "utf-8"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1439296883, "post_id": 31940545, "comment_id": 51794032, "body": "You should consider using <i>statement modifiers</i> such as <code>next if if $misc eq &quot;&quot;</code> instead of <code>if ( $misc eq &quot;&quot; ) { next }</code>"}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1439297087, "post_id": 31940545, "comment_id": 51794151, "body": "@Borodin Thanks for the tip. I will modify the code"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1439313204, "post_id": 31940545, "comment_id": 51805542, "body": "ASCII does not mean what you think it means."}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1439366084, "post_id": 31940545, "comment_id": 51826318, "body": "I know that, I do not know much about encoding. I just wanted to convert whatever type of encoding to UNICODE. @Sinan&#220;n&#252;r"}], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1439297240, "post_id": 31941694, "comment_id": 51794254, "body": "Thank you so much!! You pointed out all the other things I was wondering about too."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 1, "creation_date": 1439308682, "post_id": 31941694, "comment_id": 51802892, "body": "@OneFace: Great. Have you managed to get it working without any of the <code>encode</code> calls?"}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1439309058, "post_id": 31941694, "comment_id": 51803100, "body": "I am re-checking the code right now. I have to re-map the font as the values of characters are very different when using <code>:std :encoding(utf-8)</code>. I am still enlarging the program adding various options. I will post the result once I re-map. Right now it&#39;s time for bed. Thank you once again for the extremely valuable help!"}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1439309102, "post_id": 31941694, "comment_id": 51803138, "body": "I was able to display the characters correctly in the terminal to get the font mapped. So the encoding works as you suggested"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1439309431, "post_id": 31941694, "comment_id": 51803299, "body": "@OneFace: Excellent. Good night to Sri Lanka (?)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 9, "last_activity_date": 1473521057, "last_edit_date": 1473521057, "creation_date": 1439295830, "answer_id": 31941694, "question_id": 31940545, "link": "https://stackoverflow.com/questions/31940545/printing-to-a-file-vs-printing-to-shell-in-perl/31941694#31941694", "title": "Printing to a file vs printing to shell in Perl", "body": "<p>Your open statement</p>\n\n<pre><code>open my $final, '&gt;:utf8', \"$result\";\n</code></pre>\n\n<p>sets your file handle to expect characters, and to encode into UTF-8 sequences then on the way out. But you are sending it pre-encoded byte sequences from the <code>%map</code> hash, which causes those bytes to be treated as character and encoded <em>again</em> by Perl IO</p>\n\n<p>In contrast, your terminal is set to expect UTF-8-encoded data, but <code>STDOUT</code> isn't set to do any encoding at all (<code>use open ':std'</code> has no effect on its own, see below) so it passes your UTF-8-encoded bytes through unchanged which happens to be what the terminal expects</p>\n\n<p>By the way, you have set a default open mode of <code>:encoding(UTF-8)</code> for input and output streams with</p>\n\n<pre><code>use open ':encoding(UTF-8)'\n</code></pre>\n\n<p>but have overridden it in your call to <code>open</code>. The <code>:utf8</code> mode does a very basic translation from wide characters to byte sequences, but <code>:encoding(UTF-8)</code> is far more useful because it checks that each character being printed is a valid Unicode value. There is a good chance that it would have caught a mistake like this, and it would have been better to allow the default and write just</p>\n\n<pre><code>open my $final, '&gt;', $result;\n</code></pre>\n\n<p>To keep things clean and tidy, your program should work in <em>characters</em>, and the file handles should be set to encode those characters to UTF-8 when those characters are printed</p>\n\n<p>You can set UTF-8 as the default encoding for all newly-opened file handles as well as <code>STDIN</code> and <code>STDOUT</code> by adding</p>\n\n<pre><code>use open qw/ :std :encoding(utf-8) /;\n</code></pre>\n\n<p>to the top of your program (<code>:encoding(utf-8)</code> is preferable to <code>:utf8</code>) and remove <em>all</em> calls to <code>encode</code>. You had it almost right, but the <code>:std</code> and <code>:encoding(utf-8)</code> need to be in the same <code>use</code> statement</p>\n\n<p>You should also add</p>\n\n<pre><code>use utf8;\n</code></pre>\n\n<p>at the very top so that you can use UTF-8 characters in the program itself</p>\n\n<p>You also have a few incidental errors. For instance</p>\n\n<ul>\n<li><p>In the statement</p>\n\n<pre><code>open my $in, '&lt;', \"$font\" || die \"can't open file: $!\";\n</code></pre>\n\n<p>it is almost always wrong to quote a single scalar variable like <code>$font</code> unless it happens to be an object and you want to invoke the stringification method</p>\n\n<p>You need <code>or</code> instead of <code>||</code>, otherwise you're just testing the truth of <code>$font</code></p>\n\n<p>If I asked you what a variable called <code>$in</code> might contain I think you'd be hesitant; <code>$in_fh</code> is better and is a common idiom</p>\n\n<p>It's always nice to put the <em>name</em> of the file into the <code>die</code> string as well as the <em>reason</em> from <code>$!</code></p>\n\n<p>Taking all of those into account makes your statement look like this</p>\n\n<pre><code>open my $in_fh, '&lt;', $font or die qq{Unable to open \"$font\" for input: $!};\n</code></pre></li>\n<li><p>You should be consistent between upper and lower case scalar variables, and lower case is the correct choice. So</p>\n\n<pre><code>open my $OUTPUT, '&gt;', $font || die \"can't open file\";\n</code></pre>\n\n<p>should be something like</p>\n\n<pre><code>open my $out_fh, '&gt;', $font or die qq{Unable to open \"$font\" for output: $!};\n</code></pre></li>\n<li><p>The line</p>\n\n<pre><code>$/ = undef;\n</code></pre>\n\n<p>should be <code>local $/</code> as you have used elsewhere, otherwise you are permanently modifying the input record separator for the rest of your program and modules. It also appears <em>after</em> the first read from the file handle, so your program will read and process one line, and then the whole of the rest of the file in the next iteration of the <code>while</code> loop</p></li>\n</ul>\n"}], "owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 1, "accepted_answer_id": 31941694, "answer_count": 1, "score": 7, "last_activity_date": 1473521057, "creation_date": 1439292507, "last_edit_date": 1495541203, "question_id": 31940545, "link": "https://stackoverflow.com/questions/31940545/printing-to-a-file-vs-printing-to-shell-in-perl", "title": "Printing to a file vs printing to shell in Perl", "body": "<p>I am writing a Perl program to convert my local language ASCII characters to Unicode characters (Tamil).</p>\n\n<p>This is my program</p>\n\n<pre><code>#!/bin/perl\nuse strict;\nuse warnings;\n\nuse open ':std';\nuse open ':encoding(UTF-8)';\n\nuse Encode qw( encode decode );\nuse Data::Dump qw(dump);\nuse Getopt::Long qw(GetOptions);\n\nGetopt::Long::Configure qw(gnu_getopt);\n\nmy $font;\nmy %map;\nGetOptions(\n    'font|f=s' =&gt; \\$font,\n    'help|h'   =&gt; \\&amp;usage,\n) or die \"Try $0 -h for help\";\n\nprint \"Do you want to map $font? (y/n)\";\nchomp( my $answer = lc &lt;STDIN&gt; );\n\n$font = lc( $font );\n$font =~ s/ /_/;\n$font =~ s/(.*?)\\.ttf/$1/;\n\nif ( $answer eq \"y\" ) {\n    map_font();\n}\nelse {\n    restore_map();\n}\n\nforeach ( @ARGV ) {\n\n    my $modfile = \"$_\";\n\n    $modfile =~ s/.*\\/(.*)/uni$1/;\n\n    process_file( $_, $modfile );\n}\n\nsub process_file {\n\n    my @options = @_;\n\n    open my $source, '&lt;', \"$options[0]\";\n    my $result = $options[1];\n    my $test   = \"./text\";\n    my $missingchar = join( \"|\", map( quotemeta, sort { length $b &lt;=&gt; length $a } keys %map ) );\n\n    while ( &lt;$source&gt; ) {\n        $/ = undef;\n        s/h;/u;/g;       #Might need change based on the tamil font\n        s/N(.)/$1N/g;    #Might need change based on the tamil font\n        s/n(.)/$1n/g;    #Might need change based on the font\n        s/($missingchar)/$map{$1}/g;\n\n        print \"$_\";\n\n        open my $final, '&gt;:utf8', \"$result\";\n        print $final \"$_\";\n        close $final;\n    }\n}\n\nsub map_font {\n\n    my @oddhexes = qw/0B95 0B99 0B9A 0B9E 0B9F 0BA3 0BA4 0BA8 0BAA 0BAE 0BAF 0BB0 0BB2 0BB5 0BB3 0BB4 0BB1 0BA9/;\n    my @missingletters = qw/0BC1 0BC2/;\n    my @rest = qw/0B85 0B86 0B87 0B88 0B89 0B8A 0B8E 0B8F 0B90 0B92 0B93 0B83  0BBE  0BBF  0BC0  0BC6  0BC7  0BC8  0BCD  0B9C  0BB7  0BB8  0BB9 0BCB 0BCA 0BCC/;\n\n    foreach ( @oddhexes ) {\n\n        my $oddhex = $_;\n\n        $_ = encode( 'utf8', chr( hex( $_ ) ) );\n        print \"Press the key for $_   :\";\n        chomp( my $bole = &lt;STDIN&gt; );\n        if ( $bole eq \"\" ) {\n            next;\n        }\n\n        $map{$bole} = $_;\n\n        foreach ( @missingletters ) {\n\n            my $oddchar = encode( 'utf8', chr( hex( $oddhex ) ) . chr( hex( $_ ) ) );\n\n            print \"Press the key for $oddchar   :\";\n            chomp( my $missingchar = &lt;STDIN&gt; );\n            if ( $missingchar eq \"\" ) {\n                next\n            }\n\n            $map{$missingchar} = $oddchar;\n        }\n\n    }\n\n    foreach ( @rest ) {\n\n        $_ = encode( 'utf8', chr( hex( $_ ) ) );\n\n        print \"Press the key for $_   :\";\n        chomp( my $misc = &lt;STDIN&gt; );\n        if ( $misc eq \"\" ) {\n            next\n        }\n\n        $map{$misc} = $_;\n    }\n\n    open my $OUTPUT, '&gt;', $font || die \"can't open file\";\n    print $OUTPUT dump( \\%map );\n    close $OUTPUT;\n}\n\nsub restore_map {\n\n    open my $in, '&lt;', \"$font\" || die \"can't open file: $!\";\n\n    {\n        local $/;\n        %map = %{ eval &lt;$in&gt; };\n    }\n\n    close $in;\n}\n\nsub usage {\n    print \"\\nUsage: $0 [options] {file1.txt file2.txt..} \\neg: $0 -f TamilBible.ttf chapter.txt\\n\\nOptions:\\n  -f --font - used to pass font name\\n  -h --help - Prints help\\n\\nManual mapping of font is essential for using this program\\n\";\n    exit;\n}\n</code></pre>\n\n<p>In subroutine <code>process_file</code>, output of <code>print \"$_\";</code> displays proper Tamil Unicode characters in the <a href=\"http://pastebin.com/kC2ZwK1y\" rel=\"nofollow noreferrer\">terminal</a>.</p>\n\n<p>However the <a href=\"http://pastebin.com/jZpLiPZ1\" rel=\"nofollow noreferrer\">output to the file handle</a> <code>$final</code> is very different.</p>\n\n<p>The <code>%map</code> is <a href=\"http://pastebin.com/m4QkjaLZ\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Why are the outputs different?</p>\n\n<p>How can I correct this behaviour?</p>\n\n<p>I have seen this <a href=\"https://stackoverflow.com/questions/627661/how-can-i-output-utf-8-from-perl\">question</a> but this is not the same. In my case the terminal displays the result correctly while the filehandle output is different.</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 5, "creation_date": 1439289070, "post_id": 31939317, "comment_id": 51788810, "body": "Your json is invalid but you want to repair it?"}, {"owner": {"reputation": 19, "user_id": 3561384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de990d60dbf6b711ea0a5ec6b5797097?s=128&d=identicon&r=PG&f=1", "display_name": "user3561384", "link": "https://stackoverflow.com/users/3561384/user3561384"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1439294004, "post_id": 31939317, "comment_id": 51792022, "body": "I&#39;m new to json so i dont know whether my input file ( that is json ) is only corrupted. How Can i repair it anyways.?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 3, "creation_date": 1439294292, "post_id": 31939317, "comment_id": 51792229, "body": "It would be difficult, perhaps impossible; better question is why it is corrupted in the first place."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439296115, "post_id": 31939317, "comment_id": 51793461, "body": "It seems like it&#39;s a pretty big JSON file. You could load it into a text editor that supports auto-indenting/beautifying JSON and see what happens. If this is a one-time thing you might be able to fix it manually. If it&#39;s a regular import, you need to talk to the soruce of the data to find a solution. And of course find out why it is invalid."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1439304407, "post_id": 31939317, "comment_id": 51799906, "body": "Try pushing the JSON through an online JSON validator. If it finds the problem then you can ask the people who supply the JSON to try the same test."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 3561384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de990d60dbf6b711ea0a5ec6b5797097?s=128&d=identicon&r=PG&f=1", "display_name": "user3561384", "link": "https://stackoverflow.com/users/3561384/user3561384"}, "edited": false, "score": 0, "creation_date": 1439353330, "post_id": 31942591, "comment_id": 51820724, "body": "Yes, the json file has only single line content. Actually that file is constructed by calling a url several time and writing that content into json. So i thing json file has serveral response feilds in it and it is unable to parse such file. Is it possible to correctly parse a json file which has several responses content at once .?"}, {"owner": {"reputation": 19, "user_id": 3561384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de990d60dbf6b711ea0a5ec6b5797097?s=128&d=identicon&r=PG&f=1", "display_name": "user3561384", "link": "https://stackoverflow.com/users/3561384/user3561384"}, "edited": false, "score": 0, "creation_date": 1439377633, "post_id": 31942591, "comment_id": 51834092, "body": "I used spilt function in perl to seperate the records and then parse each record which is present in a array. It worked fine. Thanks"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1439311055, "last_edit_date": 1592644375, "creation_date": 1439298145, "answer_id": 31942591, "question_id": 31939317, "link": "https://stackoverflow.com/questions/31939317/reading-from-json-file-garbage-after-json-object/31942591#31942591", "title": "Reading from Json File garbage after json object", "body": "<blockquote>\n<p>How can I fix this error?</p>\n</blockquote>\n<p>You can't fix JSON data automatically. There could be many &quot;fixes&quot; that will get the data through the parser, but it may be difficult to tell which of them is the correct one. You should talk to the source of the data and ask for a correct version</p>\n<p>It may be possible to fix the data manually, but you should only attempt this if there is no correct version of the data available. Finding the error in a 2.2MB+ text file by hand isn't a trivial job, and the character position 2326471 is only where the parser <em>found</em> an error, not where the correction should be made</p>\n<blockquote>\n<p>garbage after JSON object ...</p>\n</blockquote>\n<p>This implies that <code>from_json</code> has found the end of the JSON data -- i.e. the final closing brace <code>}</code> or bracket <code>]</code> -- but there is data in the string after that character. It may be that the file has been written correctly, but there really is spurious data after the end of the JSON. If so then that should be obvious just by examining the data file</p>\n<h3>Note</h3>\n<p>Unless you have redefined the <code>$/</code> variable, these lines</p>\n<pre><code>open(my $f, &quot;&lt;&quot;, &quot;$ARGV[1]&quot;);\nmy $content = &lt;$f&gt;;\n</code></pre>\n<p>will read just the <em>first line</em> of the file into <code>$content</code>. It may be that the file contains just a single very long line of tex (i.e. it contains no newline characters) but this line in your error handler</p>\n<pre><code>$content =~ s/\\n/ /g;\n</code></pre>\n<p>implies that ther <em>are</em> newlines in there.</p>\n<p>Reading only the first line of a multi-line JSON file wouldn't cause the error that you're seeing, but it is best to read the entire file into memory before decoding it as JSON data, just in case unexpected newlines have crept into the data</p>\n<p>Here is a better way of writing your code segment</p>\n<pre><code>print &quot;Input JSON\\n&quot;;\n\nmy $content - do {\n    open my $fh, '&lt;', $ARGV[1] or die qq{Unable to open &quot;$ARGV[1]&quot; for input: $!};\n    local $/;\n    &lt;$fh&gt;;\n};\n\n\nmy $structured = eval {\n    from_json( $content, {utf8 =&gt; 1} );\n};\n\nif ( my $err_msg = $@ ) {\n\n   $content =~ tr/\\n/ /;\n   $err_msg =~ tr/\\n/ /;\n\n   WriteInfo(&quot;Unparsable result for URL=$url, error: $err_msg\\n&quot;) ;\n};\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 3561384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de990d60dbf6b711ea0a5ec6b5797097?s=128&d=identicon&r=PG&f=1", "display_name": "user3561384", "link": "https://stackoverflow.com/users/3561384/user3561384"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4679, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1439311055, "creation_date": 1439288944, "last_edit_date": 1439289352, "question_id": 31939317, "link": "https://stackoverflow.com/questions/31939317/reading-from-json-file-garbage-after-json-object", "title": "Reading from Json File garbage after json object", "body": "<p>I'm using json file in a Perl program. I'm unable to parse the json file.</p>\n\n<p>It is giving following error:</p>\n\n<pre><code>garbage after JSON object, at character offset 2326471 (before \"{\"response\":{\"numFou...\") at /usr/local/share/perl5/JSON.pm line 171, &lt;$f&gt; line 1.\n</code></pre>\n\n<p>Here is the code:  </p>\n\n<pre><code>print \"input json\";\nopen(my $f, \"&lt;\", \"$ARGV[1]\");\nmy $content=&lt;$f&gt;;\nmy $structured;\neval {\n$structured = from_json($content, {utf8 =&gt; 1});\n};\n\nif ($@) {\n   $content =~ s/\\n/ /g;\n   my $errMsg = $@;\n   $errMsg =~ s/\\n/ /g;\n   WriteInfo(\"Unparseable result for url=$url, error: $errMsg\\n\") ;\n};\n</code></pre>\n\n<p>How can I fix this error?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 2, "creation_date": 1439288841, "post_id": 31939206, "comment_id": 51788641, "body": "Which lang you&#39;re running? Any attempts?"}, {"owner": {"reputation": 9, "user_id": 4640538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433cb855135123e34bb16540f9350a64?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Audsley", "link": "https://stackoverflow.com/users/4640538/nathan-audsley"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1439289208, "post_id": 31939206, "comment_id": 51788899, "body": "No attempts - planning stage at the moment but i&#39;m writing it in Perl, I planned on using RegEx to detect the pattern which I could then cut out using Perl. My Perl knowledge is also limited however, this is more of a learning experience for me."}, {"owner": {"reputation": 1691, "user_id": 4422908, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/48YJT.png?s=128&g=1", "display_name": "A. Abramov", "link": "https://stackoverflow.com/users/4422908/a-abramov"}, "reply_to_user": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "edited": false, "score": 0, "creation_date": 1439290005, "post_id": 31939206, "comment_id": 51789441, "body": "@ndn I dont think the <code>##start##</code> is a part of the file, but rather a comment he left to show where to start."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 4640538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433cb855135123e34bb16540f9350a64?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Audsley", "link": "https://stackoverflow.com/users/4640538/nathan-audsley"}, "edited": false, "score": 0, "creation_date": 1439289321, "post_id": 31939298, "comment_id": 51788971, "body": "The text inside the two areas will change and I have no idea what it could be in any circumstance. The starting text and ending text will always be the same, which is why I planned on using RegEx to find the starting pattern and ending pattern, then pass all of that to Perl to cut it out."}, {"owner": {"reputation": 1691, "user_id": 4422908, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/48YJT.png?s=128&g=1", "display_name": "A. Abramov", "link": "https://stackoverflow.com/users/4422908/a-abramov"}, "reply_to_user": {"reputation": 9, "user_id": 4640538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433cb855135123e34bb16540f9350a64?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Audsley", "link": "https://stackoverflow.com/users/4640538/nathan-audsley"}, "edited": false, "score": 0, "creation_date": 1439289951, "post_id": 31939298, "comment_id": 51789393, "body": "@NathanAudsley How do you know what is the text between the two areas? What do you know about the structure of the files? Add that to your question, it&#39;s relevant."}, {"owner": {"reputation": 9, "user_id": 4640538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433cb855135123e34bb16540f9350a64?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Audsley", "link": "https://stackoverflow.com/users/4640538/nathan-audsley"}, "edited": false, "score": 0, "creation_date": 1439290608, "post_id": 31939298, "comment_id": 51789880, "body": "I do not know what the text is. I know it will always follow the pattern       Blah     Blah     foo     random text     could be anything     bar     more text to keep"}], "tags": [], "owner": {"reputation": 1691, "user_id": 4422908, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/48YJT.png?s=128&g=1", "display_name": "A. Abramov", "link": "https://stackoverflow.com/users/4422908/a-abramov"}, "is_accepted": false, "score": 0, "last_activity_date": 1439288884, "creation_date": 1439288884, "answer_id": 31939298, "question_id": 31939206, "link": "https://stackoverflow.com/questions/31939206/regex-remove-from-x-to-y/31939298#31939298", "title": "Regex Remove From x To y", "body": "<p>That's not what RegEx is there for. RegEx is there to detect pattern - if you want simple string slice, you should simply iterate over the big string with a simple comparison (or, with other languages which include string operations, <code>indexOf(\"your string here\");</code> etc. )</p>\n\n<p>However, simple typing of the string would find you the matches:\n<code>This wants to be removed</code> will return all occurances of that specific string, and thus it is fit for you.</p>\n"}, {"comments": [{"owner": {"reputation": 1691, "user_id": 4422908, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/48YJT.png?s=128&g=1", "display_name": "A. Abramov", "link": "https://stackoverflow.com/users/4422908/a-abramov"}, "edited": false, "score": 1, "creation_date": 1439291516, "post_id": 31940021, "comment_id": 51790399, "body": "Neat way to put my words into practice. Completely forgot about flip flops. +1."}, {"owner": {"reputation": 9, "user_id": 4640538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433cb855135123e34bb16540f9350a64?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Audsley", "link": "https://stackoverflow.com/users/4640538/nathan-audsley"}, "edited": false, "score": 0, "creation_date": 1439291693, "post_id": 31940021, "comment_id": 51790506, "body": "The text I need to find will never appear on the input line. I plan on calling the perl script on the text file, which then edits the text file and outputs a modified version, e.g, ./script this_file.txt the text file is then modified, one of the modifications would be cutting out any text between and including two hard coded strings, these strings will never change and always need removing fully regardless of what is between the two strings, no exceptions. Another modification it would be doing is from a certain pattern to the top of the file, but I already have that sorted out."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1439296687, "post_id": 31940021, "comment_id": 51793892, "body": "If you&#39;re sure that the start and end markers won&#39;t appear anywhere else in the file, then the regex version will work fine for you."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1439296140, "last_edit_date": 1439296140, "creation_date": 1439291019, "answer_id": 31940021, "question_id": 31939206, "link": "https://stackoverflow.com/questions/31939206/regex-remove-from-x-to-y/31940021#31940021", "title": "Regex Remove From x To y", "body": "<p>Regexes are probably the wrong tool here. I'd probably use string equality along with the flip-flop operator.</p>\n\n<pre><code>while (&lt;$input_fh&gt;) {\n  print $output_fh unless ($_ eq \"foo\\n\" .. $_ eq \"bar\\n\");\n}\n</code></pre>\n\n<p>You could do it with a regex and a match operator.</p>\n\n<pre><code>while (&lt;$input_fh&gt;) {\n  print $output_fh unless /foo/ .. /bar/;\n}\n</code></pre>\n\n<p>That looks neater, but the regexes will match if the strings appear anywhere on an input line.</p>\n\n<p><strong>Update:</strong> Inverted the logic on the tests - so it's now correct.</p>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 4640538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433cb855135123e34bb16540f9350a64?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Audsley", "link": "https://stackoverflow.com/users/4640538/nathan-audsley"}, "edited": false, "score": 0, "creation_date": 1439292619, "post_id": 31940464, "comment_id": 51791118, "body": "That works mostly like how I want, the way it&#39;s called is a bit different to how I wanted but I can fiddle with that, the main thing I needed was the RegEx pattern - thanks!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1439296435, "post_id": 31940464, "comment_id": 51793731, "body": "If there are multiple occurrences of the deletion markers, then you&#39;ll want to change that middle <code>.*</code> to <code>.*?</code>. Also, you can simplify the substitution to <code>$str =~ s&#47;$start\\n.*$end\\n&#47;&#47;s;</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1439296596, "post_id": 31940464, "comment_id": 51793842, "body": "A nicer way to read a whole file is <code>my $str = do { local $&#47;; &lt;STDIN&gt; };</code>. But I&#39;d always prefer something that works line by line rather than slurping in the whole file."}], "tags": [], "owner": {"reputation": 353, "user_id": 5180005, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-M32Jfxg4qh4/AAAAAAAAAAI/AAAAAAAACbM/OcEns8RbTrc/photo.jpg?sz=128", "display_name": "oxagast", "link": "https://stackoverflow.com/users/5180005/oxagast"}, "is_accepted": true, "score": 0, "last_activity_date": 1439292274, "creation_date": 1439292274, "answer_id": 31940464, "question_id": 31939206, "link": "https://stackoverflow.com/questions/31939206/regex-remove-from-x-to-y/31940464#31940464", "title": "Regex Remove From x To y", "body": "<p>Are you looking for something like this?</p>\n\n<pre><code>#!/usr/bin/perl\n$start = \"foo\";\n$end = \"bar\";\nwhile (&lt;STDIN&gt;) {\n$str = $str . $_;\n}\n$str =~ s/(.*)$start\\n.*$end\\n(.*)/\\1\\2/s;\nprint $str;\n</code></pre>\n\n<p>The only part of real importance to you is the regex I suppose, but I declare the start and end, then read from standard input and tack each concurrent line onto $str.  Then I take str and say \"whatever is the first thing within perenthesis before foo put first, whatever is in the second after bar parenthesis put last\" (with the backslash \\1 and \\2)</p>\n\n<p>My output from a file containing your lines is:</p>\n\n<pre><code>marshall@marshall-desktop:~$ cat blah | ./haha \nHere is some random text\nThis wants to stay\nAnd this wants to stay\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4640538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433cb855135123e34bb16540f9350a64?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Audsley", "link": "https://stackoverflow.com/users/4640538/nathan-audsley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 31940464, "answer_count": 3, "score": 0, "last_activity_date": 1439296140, "creation_date": 1439288608, "last_edit_date": 1439290404, "question_id": 31939206, "link": "https://stackoverflow.com/questions/31939206/regex-remove-from-x-to-y", "title": "Regex Remove From x To y", "body": "<p>I'm new to regex, I know the basics but only the basics. I need to parse a string to remove all occurances of one string to another. For example,</p>\n\n<pre><code>Here is some random text\nThis wants to stay\nfoo\nThis wants to be removed \nbar\nAnd this wants to stay\n</code></pre>\n\n<p>So the desired output would be </p>\n\n<pre><code>Here is some random text\nThis wants to stay\nAnd this wants to stay\n</code></pre>\n\n<p>And removed would be </p>\n\n<pre><code>foo\nThis wants to be removed\nbar\n</code></pre>\n\n<p>It will always follow the pattern of match 'this string' to 'that string' and remove everything in between, including 'this string' and 'that string'.</p>\n\n<p>The file is a text file, for the sake of this question, the pattern will always start with foo and end with bar, removing foo, bar and everything in between.</p>\n\n<p>Foo and Bar ARE part of the file and need removing.</p>\n"}, {"tags": ["perl", "perl-module", "mod-perl"], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 0, "last_activity_date": 1439287682, "creation_date": 1439287682, "answer_id": 31938884, "question_id": 31938737, "link": "https://stackoverflow.com/questions/31938737/how-to-use-if-else-in-array/31938884#31938884", "title": "how to use if else in array", "body": "<p>It seems quite complicated to me to first build a hash, why not use \n<a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow\">grep</a>?</p>\n\n<pre><code>if ( grep { $_ eq $in }@array ){\nprint \"available\\n\";\n}else{\nprint \"not available\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1439287751, "creation_date": 1439287751, "answer_id": 31938911, "question_id": 31938737, "link": "https://stackoverflow.com/questions/31938737/how-to-use-if-else-in-array/31938911#31938911", "title": "how to use if else in array", "body": "<p>The value that you read from <code>&lt;&gt;</code> will include a newline character. None of the keys in your hash contain a newline. Therefore <code>$i</code> will never be found in your hash.</p>\n\n<p>You want to remove the newline from <code>$i</code> using <code>chomp()</code>.</p>\n\n<pre><code>chomp($i = &lt;&gt;);\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4315985, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6288c8da5c21978f523f9329b38bb253?s=128&d=identicon&r=PG&f=1", "display_name": "Rajendra Urs", "link": "https://stackoverflow.com/users/4315985/rajendra-urs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "closed_date": 1439294135, "answer_count": 2, "score": 0, "last_activity_date": 1439288429, "creation_date": 1439287254, "last_edit_date": 1439288429, "question_id": 31938737, "link": "https://stackoverflow.com/questions/31938737/how-to-use-if-else-in-array", "closed_reason": "Duplicate", "title": "how to use if else in array", "body": "<p>I want to use <code>if else</code> condition in array. while passing an array elements I am getting wrong data.</p>\n\n<p>here is my code</p>\n\n<pre><code>print \"Enter Item u want: \";\n\n$i=&lt;&gt;;\n\n@array=(\"coffee\",\"tea\",\"buttermilk\");\n\n%hash = map{ $_ =&gt;1 }@array;\n\nif(exists($para{$i})){\n\n    print \"available \\n\";\n\n}\n\nelse{\n\n    print \"Not available \\n\";\n\n}\n</code></pre>\n\n<p>even i am passing array items i am getting not available message </p>\n"}, {"tags": ["perl", "split"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 4, "creation_date": 1439280668, "post_id": 31936393, "comment_id": 51783715, "body": "<a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/split.html</a> <code>Splits the string EXPR into a list of strings and returns the list in list context, or the size of the list in scalar context.</code> <code>my ($file_name)=split &#47; &#47;, $secname;</code> &lt;== list context imposed by parens on the left side of assignment."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1439280858, "post_id": 31936393, "comment_id": 51783839, "body": "<a href=\"http://perlmaven.com/scalar-and-list-context-in-perl\" rel=\"nofollow noreferrer\">perlmaven.com/scalar-and-list-context-in-perl</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439281515, "post_id": 31936393, "comment_id": 51784207, "body": "Also note your output would be <code>Drive</code>, not <code>drive</code> unless you use the <code>lc</code> builtin on it."}, {"owner": {"reputation": 7, "user_id": 5214056, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c9981e4c298ddf323fa79f656c437d63?s=128&d=identicon&r=PG&f=1", "display_name": "ashvak", "link": "https://stackoverflow.com/users/5214056/ashvak"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1439281800, "post_id": 31936393, "comment_id": 51784389, "body": "@\u0421\u0443\u0445\u043e\u043927 here i can get the first words of each..wat about second word?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1439282250, "post_id": 31936393, "comment_id": 51784634, "body": "Values are populated from left to right. my (undef, $file_name)=split / /, $secname;"}, {"owner": {"reputation": 7, "user_id": 5214056, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c9981e4c298ddf323fa79f656c437d63?s=128&d=identicon&r=PG&f=1", "display_name": "ashvak", "link": "https://stackoverflow.com/users/5214056/ashvak"}, "edited": false, "score": 0, "creation_date": 1439283028, "post_id": 31936393, "comment_id": 51785097, "body": "<code>undef</code> what is that doing?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1439283321, "post_id": 31936393, "comment_id": 51785298, "body": "You can think of it as empty placeholder for first word/value which you want to skip."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1439284668, "post_id": 31937102, "comment_id": 51786057, "body": "No. <code>split</code> does not convert a scalar to an array. It converts a scalar to a list. Lists and arrays are not the same thing in Perl. Arrays have nothing to do with this example. You get the number of elements in the list because that is what <code>split</code> is <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">documented</a> to return in scalar context."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1439285884, "post_id": 31937102, "comment_id": 51786823, "body": "You over-corrrected :-) You store the results of the <code>split</code> in an array. I&#39;ve edited your post to say that. Hope you don&#39;t mind."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1439285588, "last_edit_date": 1439285588, "creation_date": 1439282586, "answer_id": 31937102, "question_id": 31936393, "link": "https://stackoverflow.com/questions/31936393/perl-split-function-for-the-first-word/31937102#31937102", "title": "Perl split function for the first word", "body": "<p>split converts scalar to list. You tried to split the each values of an list. </p>\n\n<p>The output <code>22</code> results because, it displays the total number of scalar in an list.</p>\n\n<p>For example </p>\n\n<pre><code>@ar = qw(1 4);\n$aa = @ar;\nprint $aa;\n</code></pre>\n\n<p>It results <code>2</code>. The same think was rises in your problem.</p>\n\n<p>So you store the splitting value into an array. And the print the expected output by the index key of array.</p>\n\n<p>Try this</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @sections = (\"Hard Drive\", \"Multi Drive\");\nforeach my $secname (sort @sections) \n{\n    my @file_name=split / /, $secname;\n    print $file_name[1],\"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 4, "creation_date": 1439284717, "post_id": 31937148, "comment_id": 51786088, "body": "Pedantically, that&#39;s not an anonymous array. It&#39;s a list slice."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1439286334, "post_id": 31937148, "comment_id": 51787083, "body": "Thank you for the clarification, you are, of course, perfectly correct. I will leave my answer as is, though, to not mess up this post."}], "tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 2, "last_activity_date": 1439282721, "creation_date": 1439282721, "answer_id": 31937148, "question_id": 31936393, "link": "https://stackoverflow.com/questions/31936393/perl-split-function-for-the-first-word/31937148#31937148", "title": "Perl split function for the first word", "body": "<p>Split returns a list of strings in list context only.</p>\n\n<p>As mentioned in the comments above, you can thus get the strings by using list context.</p>\n\n<p>For example, store them all in an array:</p>\n\n<pre><code>my @split_string = split / /, $secname;\nmy $wanted = $split_string[1]; # get the string you want (here, second)\n</code></pre>\n\n<p>If you do not need them later, you can also use an anonymous array for this,\nsaving yourself a variable:</p>\n\n<pre><code>my $wanted = (split / /,$secname)[1];\n</code></pre>\n\n<p>Most functions in perl are context-sensitive, i.e. return different values whether called in list or in scalar context, the return values are usually quite sensible when you think about it, but it takes some getting used to.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 6, "last_activity_date": 1439285117, "creation_date": 1439285117, "answer_id": 31937979, "question_id": 31936393, "link": "https://stackoverflow.com/questions/31936393/perl-split-function-for-the-first-word/31937979#31937979", "title": "Perl split function for the first word", "body": "<p>When you get unexpected behaviour from Perl function, your first step should be to read the documentation for that function. The <a href=\"http://perldoc.perl.org/functions/split.html\">documentation for <code>split</code></a> says this:</p>\n\n<blockquote>\n  <p>Splits the string EXPR into a list of strings and returns the list in\n  list context, or the size of the list in scalar context.</p>\n</blockquote>\n\n<p>So, in scalar context, <code>split</code> returns the number of element in the list, not the actual list. Your code:</p>\n\n<pre><code>my $file_name = split / /, $secname;\n</code></pre>\n\n<p>is calling <code>split</code> in scalar context (as you are assigning the result to a scalar variable). In order to get the result that you want, yo need to call <code>split</code> in list context. There are a number of ways to achieve this.</p>\n\n<pre><code># Assign to an array, take the second element\nmy @bits = split / /, $secname;\nmy $file_name = $bits[1];\n\n# Use a list slice to only get the value that you want\nmy $file_name = (split / /, $secname)[1];\n\n# Use a list assignment\nmy (undef, $file_name) = split / /, $secname);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1439285790, "last_edit_date": 1495541173, "creation_date": 1439285482, "answer_id": 31938142, "question_id": 31936393, "link": "https://stackoverflow.com/questions/31936393/perl-split-function-for-the-first-word/31938142#31938142", "title": "Perl split function for the first word", "body": "<p>As @\u0421\u0443\u0445\u043e\u043927 has <a href=\"https://stackoverflow.com/questions/31936393/perl-split-function-for-the-first-word#comment51783715_31936393\">commented</a> and from <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split doc</a>:</p>\n\n<blockquote>\n  <p>Splits the string EXPR into a list of strings and returns the list in list context, or the size of the list in scalar context.</p>\n</blockquote>\n\n<p>so you can do like this by creating list context:</p>\n\n<pre><code>my @sections = (\"Hard Drive\", \"Multi Drive\");\n\nforeach my $secname (sort @sections) \n{\n    my ($first, $file_name) = split / /, $secname;\n    print $file_name, \"\\n\";\n}\n</code></pre>\n\n<p>or if you don't want extra variable just define it as <code>undef</code>:</p>\n\n<pre><code>my (undef, $file_name) = split / /, $secname;\n</code></pre>\n\n<p>or assigning into an array: </p>\n\n<pre><code>my @file_name = split / /, $secname;\nprint $file_name[1], \"\\n\";\n</code></pre>\n\n<p>or you can use list slice:</p>\n\n<pre><code>my $file_name = (split / /, $secname)[1];\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 5214056, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c9981e4c298ddf323fa79f656c437d63?s=128&d=identicon&r=PG&f=1", "display_name": "ashvak", "link": "https://stackoverflow.com/users/5214056/ashvak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 646, "favorite_count": 0, "accepted_answer_id": 31937979, "answer_count": 4, "score": 1, "last_activity_date": 1439285937, "creation_date": 1439280447, "last_edit_date": 1439285937, "question_id": 31936393, "link": "https://stackoverflow.com/questions/31936393/perl-split-function-for-the-first-word", "title": "Perl split function for the first word", "body": "<p>I am completely new to the Perl programming.\nI am trying the split function.\nHere is my code: </p>\n\n<pre><code>#!perl;\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @sections = (\"Hard Drive\", \"Multi Drive\");\nforeach my $secname (sort @sections) \n{\n    my $file_name=split / /, $secname;\n    print $file_name;\n}\n</code></pre>\n\n<p>so I am trying to get the output like only second word only.</p>\n\n<p>output is \n<code>22</code></p>\n\n<p>The expected output is:</p>\n\n<pre><code>drive\ndrive\n</code></pre>\n\n<p>Here I am trying to get second word but it is not giving the expected output.</p>\n\n<p>Please anyone suggest and help me.</p>\n"}, {"tags": ["linux", "bash", "perl", "shell", "unix"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 3, "creation_date": 1439273935, "post_id": 31934392, "comment_id": 51780082, "body": "The child processes cannot set the environment in the parent (Perl) process.  Therefore, the first child cannot affect the environment of either the parent or the second child."}, {"owner": {"reputation": 1556, "user_id": 2243490, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/BWWMK.jpg?s=128&g=1", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/2243490/dinesh"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1439275146, "post_id": 31934392, "comment_id": 51780680, "body": "is there a way for the parent to know what env change child has done?"}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 3, "last_activity_date": 1439274605, "creation_date": 1439274605, "answer_id": 31934711, "question_id": 31934392, "link": "https://stackoverflow.com/questions/31934392/perl-set-and-get-env-in-different-bash-script/31934711#31934711", "title": "Perl set and get env in different bash script", "body": "<p>You can embed perl into bash script,</p>\n\n<pre><code>#!/bin/bash\n. setnameenv.sh\nexec perl -x \"$0\" \"$@\"\n\n#!perl\n# your script below\n\nprint `. getnameenv.sh`;\n</code></pre>\n\n<p>From <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\"><code>perldoc</code></a></p>\n\n<blockquote>\n  <p>-x\n  -xdirectory\n  tells Perl that the program is embedded in a larger chunk of unrelated text, such as in a mail message. Leading garbage will be discarded until the first line that starts with #! and contains the string \"perl\". Any meaningful switches on that line will be applied.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1556, "user_id": 2243490, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/BWWMK.jpg?s=128&g=1", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/2243490/dinesh"}, "is_accepted": true, "score": 0, "last_activity_date": 1439291337, "last_edit_date": 1495542808, "creation_date": 1439290791, "answer_id": 31939955, "question_id": 31934392, "link": "https://stackoverflow.com/questions/31934392/perl-set-and-get-env-in-different-bash-script/31939955#31939955", "title": "Perl set and get env in different bash script", "body": "<p>The child process can inherit the parent's environment but cannot make any changes. Similarly the parent cannot have access to the child's environment as well. Hence to catch environment of the child in parent the child should print the values as shown in the bellow code. The below code will set already existing environment variables as well, but this can be optimized</p>\n\n<pre><code># perlscript.pl\n\nmy $env_val = `. setnameenv.sh; env`;\nmy @env_list = split \"\\n\", $env_str;\n\nforeach (@env_list)\n{\n   /([\\w_]+)=(.*)/;\n   $ENV{$1} = $2;\n}\n\nprint `. getnameenv.sh`;\n</code></pre>\n\n<p>find the actual explanation in this <a href=\"https://stackoverflow.com/a/14071965/2243490\">SO answer</a></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1439306790, "last_edit_date": 1439306790, "creation_date": 1439303963, "answer_id": 31944838, "question_id": 31934392, "link": "https://stackoverflow.com/questions/31934392/perl-set-and-get-env-in-different-bash-script/31944838#31944838", "title": "Perl set and get env in different bash script", "body": "<p>You spawn a shell, execute some commands to change its environment, then exit the shell. You never used the environment variable you created before exiting the shell. If you want a <code>perl</code> to see it, you're going to have to launch Perl from that shell.</p>\n\n<pre><code>. setnameenv.sh ; perlscript.pl\n</code></pre>\n\n<p>If you can't change how <code>perlscript.pl</code> is launched, you have a couple of options, none of which are that friendly. One of the options is to bootstrap.</p>\n\n<pre><code>BEGIN {\n   if (!length($ENV{my_msg})) {\n      require String::ShellQuote;\n      my $cmd = join(' ; ',\n         '. setnameenv.sh',\n         String::ShellQuote::shell_quote($^X, $0, @ARGV),\n      );\n      exec($cmd)\n         or die $!;\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1380, "user_id": 2165806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2921d9118eb14ea118e5efe367c5203?s=128&d=identicon&r=PG", "display_name": "Vouze", "link": "https://stackoverflow.com/users/2165806/vouze"}, "is_accepted": false, "score": 0, "last_activity_date": 1439309592, "creation_date": 1439309592, "answer_id": 31946877, "question_id": 31934392, "link": "https://stackoverflow.com/questions/31934392/perl-set-and-get-env-in-different-bash-script/31946877#31946877", "title": "Perl set and get env in different bash script", "body": "<p>Variables are only exported for the child processes.</p>\n\n<p>You cannot export variables back to the father process.</p>\n\n<p>You'll need another way to transport variables back to the father or the brothers.</p>\n\n<p>For example, here is a example where all exported variables are saved and read from a file :</p>\n\n<pre><code>#!/bin/dash\n# setnameenv.sh\n\nexport my_msg='hello world!'\n\nexport &gt; savedVariables.sh\n</code></pre>\n\n<p>and</p>\n\n<pre><code>#!/bin/dash\n# getnameenv.sh\n\n. ./savedVariables.sh\n\necho \"$my_msg\"\n</code></pre>\n\n<p>Note : this works with dash. bash generates one line he cannot read back.</p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1485795744, "creation_date": 1485795744, "answer_id": 41941426, "question_id": 31934392, "link": "https://stackoverflow.com/questions/31934392/perl-set-and-get-env-in-different-bash-script/41941426#41941426", "title": "Perl set and get env in different bash script", "body": "<p>This can now be done in Perl with the <a href=\"http://metacpan.org/pod/Env::Modify\" rel=\"nofollow noreferrer\"><code>Env::Modify</code> module</a>.</p>\n\n<pre><code>use Env::Modify qw(source);\n\nsource(\"setnameenv.sh\");\n# env settings from setnameenv.sh are now available to Perl\n# and to the following  system  call\n\nprint `. getenvname.sh`;   # or source again, like source(\"getenvname.sh\")\n</code></pre>\n"}], "owner": {"reputation": 1556, "user_id": 2243490, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/BWWMK.jpg?s=128&g=1", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/2243490/dinesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 1, "accepted_answer_id": 31939955, "answer_count": 5, "score": 1, "last_activity_date": 1485795744, "creation_date": 1439273372, "last_edit_date": 1439290988, "question_id": 31934392, "link": "https://stackoverflow.com/questions/31934392/perl-set-and-get-env-in-different-bash-script", "title": "Perl set and get env in different bash script", "body": "<p>I have created a perl script which invokes two bash script. First script will set a envirnomental variable and the second will echo the environmental variable. I have given the contents of the files bellow</p>\n\n<pre><code># perlscript.pl\n\nprint `. setnameenv.sh`;\nprint `. getnameenv.sh`;\n</code></pre>\n\n<hr/>\n\n<pre><code># setnameenv.sh\n\nexport my_msg='hello world!'\n</code></pre>\n\n<hr/>\n\n<pre><code># getnameenv.sh\n\necho $my_msg\n</code></pre>\n\n<p>now when I run the perl script <code>perl perlscript.pl</code> I am expecting the 'hello world' to be printed on the screen but actually I don't see any output. I there any way to do this without modifying the bash scripts?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1439310182, "post_id": 31934366, "comment_id": 51803759, "body": "You&#39;re asking to evaluate the string as Perl code."}], "answers": [{"comments": [{"owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "edited": false, "score": 6, "creation_date": 1439277337, "post_id": 31935376, "comment_id": 51781815, "body": "Also, beware of where the string comes from. Executing as <code>eval</code> some user-defined expression can be dangerous."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 1, "creation_date": 1439279212, "post_id": 31935376, "comment_id": 51782808, "body": "Minor point of pedantry:  In addition to empty strings, the string &#39;0&#39; also evaluates as false."}], "tags": [], "owner": {"reputation": 352, "user_id": 4296256, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a95172d4146a185d7b7e7fd69f4d397c?s=128&d=identicon&r=PG&f=1", "display_name": "alisea", "link": "https://stackoverflow.com/users/4296256/alisea"}, "is_accepted": true, "score": 7, "last_activity_date": 1439277061, "creation_date": 1439277061, "answer_id": 31935376, "question_id": 31934366, "link": "https://stackoverflow.com/questions/31934366/how-to-use-a-string-as-an-operator/31935376#31935376", "title": "How to use a string as an operator?", "body": "<p>A non-empty string will always evaluate to true if you use it like this. What you want to do is to evaluate the content of the string as code, and perl provides the <a href=\"http://perldoc.perl.org/functions/eval.html\">eval-statement</a> for exactly this purpose: </p>\n\n<pre><code>my $ip = \"10 &gt; 0.2 &amp;&amp; 5 &lt; 1\";\nif( eval($ip) ) \n{\n    print \"Hello \\n\\n\";\n}\nelse  \n{\n    print \"wrong\\n\";\n}\n</code></pre>\n\n<p>This will give the expected output \"wrong\".</p>\n"}], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 31935376, "answer_count": 1, "score": 0, "last_activity_date": 1439277380, "creation_date": 1439273272, "last_edit_date": 1439277380, "question_id": 31934366, "link": "https://stackoverflow.com/questions/31934366/how-to-use-a-string-as-an-operator", "title": "How to use a string as an operator?", "body": "<p>It is possible to use a string as an operator? </p>\n\n<pre><code>my $ip = \"10 &gt; 0.2 &amp;&amp; 5 &lt; 1\";\nif($ip)\n{\n    print \"Hello\\n\\n\";\n}\nelse \n{\n    print \"wrong\\n\";\n}\n</code></pre>\n\n<p>How to consider the string <code>&gt; &amp;&amp; &lt;</code> as an operator?</p>\n"}, {"tags": ["perl", "ftp", "sftp", "file-permissions", "uid"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1439278216, "post_id": 31934280, "comment_id": 51782265, "body": "Looks like you might be able to use <code>$sftp-&gt;stat</code> and <code>$sftp-&gt;chown</code> and do it manually."}, {"owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1439278321, "post_id": 31934280, "comment_id": 51782324, "body": "$sftp-&gt;chown will modify the gid,uid of remote file not of local file.As after copying the file i want to retain the gid and uid, so i have to do this -          chown $a-&gt;uid, $a&gt;gid,  $file;  It is working for me."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439278792, "post_id": 31934280, "comment_id": 51782579, "body": "Please post your solution as an answer and accept it."}], "owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1439276034, "creation_date": 1439272908, "last_edit_date": 1439276034, "question_id": 31934280, "link": "https://stackoverflow.com/questions/31934280/how-to-retain-the-file-attributes-uid-and-gid-when-copy-the-file-from-remote-usi", "title": "How to retain the file attributes uid and gid when copy the file from remote using Net::SFTP::Foreign module?", "body": "<p>I am using <code>Net::SFTP::Foreign</code> module to copy the files from remote to some source machine and after copy operation, able to retain the file creation time and permissions except the gid and uid.</p>\n\n<p>After copy operation I have below attributes: </p>\n\n<pre><code>root@system # ls -n \n\n/dest/files -rw-r--r-- 1 0 0 4424 Jun 10 04:45 /dest/files/file.txt\n</code></pre>\n\n<p>While at source the attributes are: </p>\n\n<pre><code>root@source # ls -n \n\n/source/files -rw-r--r-- 1 1001 1002 4424 Jun 10 04:45 /source/files/file.txt\n</code></pre>\n\n<p>I used below code for SFTP operation:</p>\n\n<pre><code>my $sftp = Net::SFTP::Foreign-&gt;new(\n    host      =&gt; $host\n);\n$sftp-&gt;get( $file, $dest, copy_perm =&gt; 1)\n</code></pre>\n\n<p>I have not found any option in <a href=\"http://search.cpan.org/~salva/Net-SFTP-Foreign-1.77/lib/Net/SFTP/Foreign.pm\" rel=\"nofollow\">documentation of Net::SFTP::Foreign</a> for retaining the uid and gid.</p>\n\n<p>Is anybody has any idea?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1439267224, "post_id": 31933190, "comment_id": 51777800, "body": "What language are you using?"}, {"owner": {"reputation": 2139, "user_id": 553766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8489617c16330b18bb4f15cadb26275a?s=128&d=identicon&r=PG", "display_name": "SAN", "link": "https://stackoverflow.com/users/553766/san"}, "edited": false, "score": 0, "creation_date": 1439269274, "post_id": 31933190, "comment_id": 51778358, "body": "I dont understand what stops you from using the name of the variable if you know it beforehand. If you dont know the variable names, there are several ways to get it  <a href=\"http://www.perlmonks.org/?node_id=1002907\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1002907</a> <a href=\"http://stackoverflow.com/questions/747521/how-can-i-list-all-variables-that-are-in-a-given-scope\" title=\"how can i list all variables that are in a given scope\">stackoverflow.com/questions/747521/&hellip;</a> <a href=\"http://stackoverflow.com/questions/735386/what-s-the-best-way-to-discover-all-variables-a-perl-application-has-currently-d\" title=\"what s the best way to discover all variables a perl application has currently d\">stackoverflow.com/questions/735386/&hellip;</a>"}, {"owner": {"reputation": 9, "user_id": 5213496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1d047fa19691970c2bec4707fcfafd7?s=128&d=identicon&r=PG&f=1", "display_name": "Anu", "link": "https://stackoverflow.com/users/5213496/anu"}, "edited": false, "score": 0, "creation_date": 1439271239, "post_id": 31933190, "comment_id": 51779022, "body": "It is an existing code. and a single function is being used which will behave   differently for same condition execution."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1439289014, "post_id": 31933190, "comment_id": 51788760, "body": "Then come up with a short example where you would use this so we can understand what you are really asking. As it stands, if I am typing <code>$var</code> in the editor, I know what pattern the name of that variable matches before <code>perl</code> runs. Why do I need a regex match to figure it our?"}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1439270242, "last_edit_date": 1495541677, "creation_date": 1439270242, "answer_id": 31933739, "question_id": 31933190, "link": "https://stackoverflow.com/questions/31933190/match-variable-name-with-another-variables-name/31933739#31933739", "title": "Match variable name with another variable&#39;s name", "body": "<p>Whenever you find yourself wanting to perform string comparisons on variable names, think \"I should have used a hash\".</p>\n\n<p>See also <a href=\"https://stackoverflow.com/a/1549695/100754\">How can I use a variable as a variable name in Perl?</a>.</p>\n"}], "owner": {"reputation": 9, "user_id": 5213496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1d047fa19691970c2bec4707fcfafd7?s=128&d=identicon&r=PG&f=1", "display_name": "Anu", "link": "https://stackoverflow.com/users/5213496/anu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1439270242, "creation_date": 1439267067, "last_edit_date": 1439268504, "question_id": 31933190, "link": "https://stackoverflow.com/questions/31933190/match-variable-name-with-another-variables-name", "title": "Match variable name with another variable&#39;s name", "body": "<p>Can I search variable name as a regex in perl? and not its value. \nsomething like below algo</p>\n\n<pre><code>$var = 0;\n$pattern = \"abc\";\n\nif($i = var)   #here I want to check if \"pattern\" is \"var\" or not. and dont want to compare actual values of them like \"0\" and \"abc\".\nthen\n    do something\nendif\n</code></pre>\n\n<p>Can anybody please help?</p>\n"}, {"tags": ["perl", "travis-ci"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 2, "creation_date": 1439268970, "post_id": 31932957, "comment_id": 51778276, "body": "While the Help dropdown menu on <a href=\"http://travis-ci.org\" rel=\"nofollow noreferrer\">travis-ci.org</a> does have an &quot;Ask A Question&quot; link, there is also a documentation link which should perhaps be your first stop.  Within the help sub-site, the menu has a &quot;Contact&quot; section with <a href=\"https://twitter.com/travisci\" rel=\"nofollow noreferrer\">Twitter</a>, <a href=\"http://github.com/travis-ci\" rel=\"nofollow noreferrer\">GitHub</a>, and <a href=\"http://blog.travis-ci.com/\" rel=\"nofollow noreferrer\">blog</a> links.  The <a href=\"https://github.com/travis-ci/travis-ci/issues\" rel=\"nofollow noreferrer\">GitHub issue tracker for <code>travis-ci</code></a> seems to be the primary venue for support requests like yours. See in particular <a href=\"https://github.com/travis-ci/travis-ci/issues/4077\" rel=\"nofollow noreferrer\">github.com/travis-ci/travis-ci/issues/4077</a>"}, {"owner": {"reputation": 345, "user_id": 1229730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1238a6f9e7ca03cc6c2d982f81bbde16?s=128&d=identicon&r=PG", "display_name": "Jeffrey Ryan Thalhammer", "link": "https://stackoverflow.com/users/1229730/jeffrey-ryan-thalhammer"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1439354216, "post_id": 31932957, "comment_id": 51820944, "body": "Perfect, @tripleee. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 5, "last_activity_date": 1439267491, "creation_date": 1439267491, "answer_id": 31933261, "question_id": 31932957, "link": "https://stackoverflow.com/questions/31932957/how-can-i-get-perl-5-22-supported-on-travis-ci/31933261#31933261", "title": "How Can I Get Perl 5.22 Supported on Travis CI", "body": "<p>You can use the <a href=\"http://blogs.perl.org/users/graham_knop/2014/10/travis-ci-perl-helpers.html\">Travis Perl Helpers</a> which will allow testing on versions of perl not packaged by travis, allow testing against blead, allow building perl with and without threads, and other nifty tricks.</p>\n\n<p>At a minimum, adding the <code>before_install</code> stanza for the helpers with the <code>--perl</code> option and adding <code>\"5.22\"</code> to your <code>perl</code> list should add 5.22 (and any other version) support to an existing recipe.</p>\n"}], "owner": {"reputation": 345, "user_id": 1229730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1238a6f9e7ca03cc6c2d982f81bbde16?s=128&d=identicon&r=PG", "display_name": "Jeffrey Ryan Thalhammer", "link": "https://stackoverflow.com/users/1229730/jeffrey-ryan-thalhammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1439267491, "creation_date": 1439265512, "last_edit_date": 1439266840, "question_id": 31932957, "link": "https://stackoverflow.com/questions/31932957/how-can-i-get-perl-5-22-supported-on-travis-ci", "title": "How Can I Get Perl 5.22 Supported on Travis CI", "body": "<p>The \"Ask A Question\" link on <a href=\"https://travis-ci.org/\" rel=\"nofollow\">travis-ci.org</a> points to StackOverflow, so &hellip;</p>\n\n<p>Perl 5.22 has been in the wild since June. It appears that 5.20 is the latest that Travis supports. What can I do (or who should I pester) to bring Perl 5.22 support to <a href=\"https://travis-ci.org/\" rel=\"nofollow\">travis-ci.org</a>?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "edited": false, "score": 0, "creation_date": 1439268530, "post_id": 31930999, "comment_id": 51778161, "body": "Can someone link the duplicate post then? I searched several different keywords and could not find anything relevant. Update: Naturally the post shows up in the &quot;Related&quot; sidebar now -- was nowhere to be found when searching."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439298249, "post_id": 31930999, "comment_id": 51795050, "body": "The other question is also linked in the banner at the top of your question (which is why it now also appears in the &quot;Linked&quot; sidebar...there&#39;s a link to it in your question). Don&#39;t worry about not having found it earlier, duplicates happen."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 12, "last_activity_date": 1439251424, "creation_date": 1439251424, "answer_id": 31931077, "question_id": 31930999, "link": "https://stackoverflow.com/questions/31930999/perl-is-there-a-difference-between-use-warnings-and-w/31931077#31931077", "title": "Perl: Is there a difference between use warnings and -w?", "body": "<p>-w predates the lexical warnings enabled by the warnings pragma; I suspect they just haven't moved with the times.</p>\n\n<p><code>use warnings</code> gives you a lot more control of which warnings will be triggered, and also lets you promote some warnings to be fatal errors.  It also only applies to the lexical scope you are in, while -w will apply even to modules you load that don't expect to have warnings enabled (which fortunately are few and far between).</p>\n"}], "owner": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "closed_date": 1439256674, "accepted_answer_id": 31931077, "answer_count": 1, "score": 4, "last_activity_date": 1439251455, "creation_date": 1439250893, "question_id": 31930999, "link": "https://stackoverflow.com/questions/31930999/perl-is-there-a-difference-between-use-warnings-and-w", "closed_reason": "Duplicate", "title": "Perl: Is there a difference between use warnings and -w?", "body": "<p>I'm in the habit of starting any perl script with shebang/use strict/use warnings right off the bat. I notice other people around my work use \"-w\" on she shebang line instead. Is there any real difference? I ran some tests, intentionally causing warnings, and both methods had the same results, but is one more efficient, or otherwise better than the other?</p>\n\n<pre><code>#!/usr/bin/perl -w\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\n</code></pre>\n"}, {"tags": ["multithreading", "perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1439267850, "creation_date": 1439267850, "answer_id": 31933324, "question_id": 31930947, "link": "https://stackoverflow.com/questions/31930947/perl-thread-creation-failed-pthread-create-returned-11/31933324#31933324", "title": "Perl: Thread creation failed: pthread_create returned 11", "body": "<p>When <code>pthread_create</code> returns <code>EAGAIN</code>, it means</p>\n\n<blockquote>\n  <p>Insufficient  resources  to  create another thread, or a system-imposed limit on the number of threads was encountered.  The latter case may occur in two ways: the RLIMIT_NPROC soft resource limit (set via setrlimit(2)),  which limits  the  number of process for a real user ID, was reached; or the kernel's system-wide limit on the number of threads, /proc/sys/kernel/threads-max, was reached.</p>\n</blockquote>\n\n<p>Well, at least on my system.</p>\n"}], "owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "accepted_answer_id": 31933324, "answer_count": 1, "score": 0, "last_activity_date": 1439267850, "creation_date": 1439250409, "question_id": 31930947, "link": "https://stackoverflow.com/questions/31930947/perl-thread-creation-failed-pthread-create-returned-11", "title": "Perl: Thread creation failed: pthread_create returned 11", "body": "<p>My code is like below: </p>\n\n<pre><code>my $tcount :shared = 0;\n\nwhile( $message = $msgQueue-&gt;poll()){\n    if($tcount &lt; 4){\n        Logger::log(3, \"Number of active threads : \".$tcount.\" processing incomming message\");\n        threads-&gt;create(processData,$message,createMsgId());\n    } else {\n        Logger::log(2, \"Maximum number of threads reached. Waiting\");\n        sleep 1 until $tcount &lt; 4);\n        threads-&gt;create(processData,$message,createMsgId());\n    }\n}\n\nsub processData {\n    $tcount++;\n    # do something\n    $tcount--;\n    threads-&gt;exit();\n}\n</code></pre>\n\n<p>As per my understanding I am not creating more than 4 threads at a time. However, after running this script for a while I get:</p>\n\n<pre><code>Thread creation failed: pthread_create returned 11\n</code></pre>\n\n<p>What wrong am I doing?</p>\n"}, {"tags": ["multithreading", "perl"], "answers": [{"tags": [], "owner": {"reputation": 149, "user_id": 1858072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jLaIX.png?s=128&g=1", "display_name": "cjgriscom", "link": "https://stackoverflow.com/users/1858072/cjgriscom"}, "is_accepted": true, "score": 4, "last_activity_date": 1439269717, "last_edit_date": 1439269717, "creation_date": 1439248809, "answer_id": 31930723, "question_id": 31930554, "link": "https://stackoverflow.com/questions/31930554/using-threads-in-loop/31930723#31930723", "title": "Using threads in loop", "body": "<p>Your <code>@threads_arr</code> array never gets cleared after you join the first 5 threads. The old (already joined) threads still exist in the array the second time around the loop, so Perl throws the \"Thread already joined\" error when attempting to join them.  Clearing or locally initializing <code>@threads_arr</code> every time around the loop will fix the problem.</p>\n\n<pre><code>@threads_arr=(); # Reinitialize the array\npush @threads_arr, threads-&gt;create( \\&amp;thread_body ) for 1 .. 5;\n</code></pre>\n"}], "owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 31930723, "answer_count": 1, "score": 1, "last_activity_date": 1439269717, "creation_date": 1439247778, "last_edit_date": 1439269670, "question_id": 31930554, "link": "https://stackoverflow.com/questions/31930554/using-threads-in-loop", "title": "Using threads in loop", "body": "<p>I want to use threads in loops. The way I want to use this is that start threads in a loop and wait for them to finish. Once all threads are finished then sleep for some predefined number of time and then start those threads again. </p>\n\n<p>Actually I want to run these threads once every hour and that is why I am using sleep. Also I know that hourly run can be done via cron but I can't do that so I am using sleep. </p>\n\n<p>I am getting this error when I am trying to run my code:</p>\n\n<pre><code>Thread already joined at ex.pl line 33.\nPerl exited with active threads:\n5 running and unjoined\n0 finished and unjoined\n0 running and detached\n</code></pre>\n\n<p>This is my code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse threads;\nuse Thread::Queue;\n\nmy $queue = Thread::Queue-&gt;new();\nmy @threads_arr;\n\nsub main {\n    $queue-&gt;enqueue($_) for 1 .. 5;\n    $queue-&gt;enqueue(undef) for 1 .. 5;\n\n}\n\nsub thread_body {\n    while ( my $num = $queue-&gt;dequeue() ) {\n        print \"$num is popped by \" . threads-&gt;tid . \" \\n\";\n        sleep(5);\n    }\n}\n\nwhile (1) {\n    my $main_thread = threads-&gt;new( \\&amp;main );\n    push @threads_arr, threads-&gt;create( \\&amp;thread_body ) for 1 .. 5;\n\n    $main_thread-&gt;join();\n\n      foreach my $x (@threads_arr) {\n          $x-&gt;join();\n      }\n\n    sleep(1);\n    print \"sleep \\n\";\n}\n</code></pre>\n\n<p>Also I am able to see other questions similar to this but I am not able to  get any of them.</p>\n"}, {"tags": ["perl", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1439245280, "post_id": 31930048, "comment_id": 51772162, "body": "If your instructions fail the OP somehow then <code>cpanminus</code> won&#39;t help you to diagnose them. It isn&#39;t a solution to anything except frustration, and you should recommend <a href=\"http://search.cpan.org/~andk/CPAN-2.10/lib/CPAN.pm\" rel=\"nofollow noreferrer\"><b><i><code>CPAN</code></i></b></a> instead, which is already installed and gives useful diagnostics"}, {"owner": {"reputation": 4328, "user_id": 1473927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AO6Ui.jpg?s=128&g=1", "display_name": "Jonathan Cast", "link": "https://stackoverflow.com/users/1473927/jonathan-cast"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1439245536, "post_id": 31930048, "comment_id": 51772268, "body": "@Borodin: it&#39;s interesting you think that, because it hasn&#39;t been my experience at all.  I suppose if <code>CPAN</code> is already configured for the OP then it would work.  But my experience has been that any issue I have with <code>cpanm</code> can be solved by examining the log file it tells me to look at."}, {"owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "edited": false, "score": 0, "creation_date": 1439245549, "post_id": 31930048, "comment_id": 51772272, "body": "Thanks jcast.  Yes CPAN is not installed by default on this server.  I am on a new server so I was trying to install CPAN currently and these are the dependencies I have to install to use CPAN.  I will try that cpanmin.us and see if that works for me.  Thanks."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1439245717, "post_id": 31930048, "comment_id": 51772333, "body": "Or just <code>cpan version</code>. No need to go through all the trouble of installing <code>cpanm</code> first. Your whole configuration comment is nonsense. PERL_MM_OPT and PERL_MB_OPT are processed by EU::MM and M::B reguardless of whether the script was started by <code>cpan</code> or <code>cpanm</code>."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 4, "creation_date": 1439249705, "post_id": 31930048, "comment_id": 51773430, "body": "installing the cpan version is likely not the right thing; figuring out why the already installed perl doesn&#39;t have it and what distribution package(s) are missing is."}], "tags": [], "owner": {"reputation": 4328, "user_id": 1473927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AO6Ui.jpg?s=128&g=1", "display_name": "Jonathan Cast", "link": "https://stackoverflow.com/users/1473927/jonathan-cast"}, "is_accepted": true, "score": 1, "last_activity_date": 1439244726, "creation_date": 1439244726, "answer_id": 31930048, "question_id": 31929960, "link": "https://stackoverflow.com/questions/31929960/is-version-pm-available-in-cpan-any-longer/31930048#31930048", "title": "Is version.pm available in CPAN any longer?", "body": "<p>OK, so first: your link is to <code>CPAN/Version.pm</code>.  This is very different than <code>version.pm</code>.  Directory names and the path relative to Perl's include directory are very important to Perl, and putting a .pm file in the wrong location relative to the include path can break Perl pretty badly.</p>\n\n<p>Second: because of that, <em>never install Perl modules manually</em>.  Use <a href=\"http://cpanmin.us\" rel=\"nofollow\">cpanm</a> instead:</p>\n\n<pre><code>curl -L https://cpanmin.us | perl - --sudo App::cpanminus # Omit --sudo if your perl isn't installed as root\ncpanm version\n</code></pre>\n\n<p>Third: the <code>version.pm</code> that you want is this one: <a href=\"https://metacpan.org/pod/distribution/version/lib/version.pod\" rel=\"nofollow\">https://metacpan.org/pod/distribution/version/lib/version.pod</a>, in the JPEACOCK/version-0.9912 distribution.</p>\n"}, {"comments": [{"owner": {"reputation": 4328, "user_id": 1473927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AO6Ui.jpg?s=128&g=1", "display_name": "Jonathan Cast", "link": "https://stackoverflow.com/users/1473927/jonathan-cast"}, "edited": false, "score": 0, "creation_date": 1439303233, "post_id": 31930311, "comment_id": 51798945, "body": "He&#39;s probably using a perl compiled and packaged by somebody else and &quot;helpfully&quot; trimmed down to the &quot;bare essentials&quot;.  Also: note that he <i>doesn&#39;t have</i> <code>cpan</code>, since his perl is &quot;barebones&quot;!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1439267920, "last_edit_date": 1439267920, "creation_date": 1439246225, "answer_id": 31930311, "question_id": 31929960, "link": "https://stackoverflow.com/questions/31929960/is-version-pm-available-in-cpan-any-longer/31930311#31930311", "title": "Is version.pm available in CPAN any longer?", "body": "<p><em>version</em> has come with Perl since Perl 5.10, so it's weird that you would have to install it.</p>\n\n<pre><code>$ corelist version\nversion was first released with perl v5.9.0\n</code></pre>\n\n<p>But <a href=\"http://search.cpan.org/perldoc?version\" rel=\"nofollow\"><em>version</em></a> is also available on CPAN in its own <a href=\"http://search.cpan.org/dist/version\" rel=\"nofollow\">distribution</a> in order to allow people to upgrade <em>version</em> without upgrading Perl.</p>\n\n<p>So you may indeed install it as any other module.</p>\n\n<pre><code>cpan version\n</code></pre>\n"}], "owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1125, "favorite_count": 0, "accepted_answer_id": 31930048, "answer_count": 2, "score": 0, "last_activity_date": 1439269834, "creation_date": 1439244266, "last_edit_date": 1439269834, "question_id": 31929960, "link": "https://stackoverflow.com/questions/31929960/is-version-pm-available-in-cpan-any-longer", "title": "Is version.pm available in CPAN any longer?", "body": "<p>I am trying to find the Perl Module <code>version.pm</code> to fix the error below I am receiving while trying to install module <code>CPAN-Meta-Requirements-2.133</code>. But I don't see <code>version.pm</code>, the only one I see is <a href=\"http://search.cpan.org/~andk/CPAN-2.10/lib/CPAN/Version.pm\" rel=\"nofollow\">Version.PM</a> which is obviously not the one Perl is looking for. Can anyone point to where I can get this version or how I can fix this dependency if version.pm is no longer available?</p>\n\n<p><strong>Perl Version:</strong>\nv5.16.3</p>\n\n<p><strong>OS:</strong>\nGNU/Linux \nx86_64 x86_64 x86_64</p>\n\n<p><strong>Error:</strong>  </p>\n\n<pre><code>Can't locate version.pm in @INC (@INC contains:    # Line breaks added\n   /root/CPAN-Meta-Requirements-2.133/blib/lib     # for readability\n   /root/CPAN-Meta-Requirements-2.133/blib/arch\n   /usr/local/lib64/perl5\n   /usr/local/share/perl5\n   /usr/lib64/perl5/vendor_perl\n   /usr/share/perl5/vendor_perl\n   /usr/lib64/perl5\n   /usr/share/perl5\n   .) at (eval 1) line 2.\nBEGIN failed--compilation aborted at (eval 1) line 2.\nBEGIN failed--compilation aborted at /root/CPAN-Meta-Requirements-2.133/blib/lib/CPAN/Meta/Requirements.pm line 48.\nCompilation failed in require at t/accepts.t line 4.\nBEGIN failed--compilation aborted at t/accepts.t line 4.\nt/accepts.t ............ Dubious, test returned 255 (wstat 65280, 0xff00)\nNo subtests run\n</code></pre>\n"}, {"tags": ["perl", "ms-access", "odbc", "ms-access-2013"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1439244668, "post_id": 31928958, "comment_id": 51771938, "body": "Please show your code. Are you sure you want to block only write access? Reads from the database could return spurious data if they&#39;re unlocked. Are you  updating multiple tables?"}, {"owner": {"reputation": 153, "user_id": 2026318, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d4e7af7d5c39303396c5a411c34f7798?s=128&d=identicon&r=PG", "display_name": "user2026318", "link": "https://stackoverflow.com/users/2026318/user2026318"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1439265463, "post_id": 31928958, "comment_id": 51777343, "body": "@Borodin - True, I&#39;d rather block all reads and writes if I can.  I edited the post with the code.  Thanks for your help."}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 2026318, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d4e7af7d5c39303396c5a411c34f7798?s=128&d=identicon&r=PG", "display_name": "user2026318", "link": "https://stackoverflow.com/users/2026318/user2026318"}, "edited": false, "score": 0, "creation_date": 1439294976, "post_id": 31934554, "comment_id": 51792673, "body": "I edited the code to add an insert statement and check @@identity.  Is that also safe, given my settings?  Is there a way to explicitly lock the whole database against reads and writes using Perl?  I would prefer to do that if I can.  Thank you."}, {"owner": {"reputation": 43048, "user_id": 3527297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lyoyg.jpg?s=128&g=1", "display_name": "Gustav", "link": "https://stackoverflow.com/users/3527297/gustav"}, "reply_to_user": {"reputation": 153, "user_id": 2026318, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d4e7af7d5c39303396c5a411c34f7798?s=128&d=identicon&r=PG", "display_name": "user2026318", "link": "https://stackoverflow.com/users/2026318/user2026318"}, "edited": false, "score": 0, "creation_date": 1439297313, "post_id": 31934554, "comment_id": 51794304, "body": "The only option I know of is to open the database <i>exclusively</i> but that requires that no other process has the file open."}, {"owner": {"reputation": 153, "user_id": 2026318, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d4e7af7d5c39303396c5a411c34f7798?s=128&d=identicon&r=PG", "display_name": "user2026318", "link": "https://stackoverflow.com/users/2026318/user2026318"}, "edited": false, "score": 0, "creation_date": 1439310844, "post_id": 31934554, "comment_id": 51804172, "body": "It&#39;s only a handful of users and the load only takes a minute, so that would probably work.  I will look into how to lock exclusively using perl dbi:odbc with the MS Access driver, but if you happen to know offhand, maybe you can point me in the right direction."}, {"owner": {"reputation": 43048, "user_id": 3527297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lyoyg.jpg?s=128&g=1", "display_name": "Gustav", "link": "https://stackoverflow.com/users/3527297/gustav"}, "reply_to_user": {"reputation": 153, "user_id": 2026318, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d4e7af7d5c39303396c5a411c34f7798?s=128&d=identicon&r=PG", "display_name": "user2026318", "link": "https://stackoverflow.com/users/2026318/user2026318"}, "edited": false, "score": 0, "creation_date": 1439317925, "post_id": 31934554, "comment_id": 51808242, "body": "Sorry, no. I have zero knowledge about Perl."}], "tags": [], "owner": {"reputation": 43048, "user_id": 3527297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lyoyg.jpg?s=128&g=1", "display_name": "Gustav", "link": "https://stackoverflow.com/users/3527297/gustav"}, "is_accepted": true, "score": 0, "last_activity_date": 1439273997, "creation_date": 1439273997, "answer_id": 31934554, "question_id": 31928958, "link": "https://stackoverflow.com/questions/31928958/how-to-lock-an-access-database-against-writes/31934554#31934554", "title": "How to lock an Access database against writes", "body": "<p>I don't think you have a problem. The Id of a record appended by your process will not be stolen by another process.</p>\n"}], "owner": {"reputation": 153, "user_id": 2026318, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d4e7af7d5c39303396c5a411c34f7798?s=128&d=identicon&r=PG", "display_name": "user2026318", "link": "https://stackoverflow.com/users/2026318/user2026318"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 31934554, "answer_count": 1, "score": 0, "last_activity_date": 1439294867, "creation_date": 1439240001, "last_edit_date": 1439294867, "question_id": 31928958, "link": "https://stackoverflow.com/questions/31928958/how-to-lock-an-access-database-against-writes", "title": "How to lock an Access database against writes", "body": "<p>I can't find the answer to this question and it's hard to be sure by experimenting.</p>\n\n<p>I am bulk loading multiple tables into a Microsoft Access database using Perl with <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow\"><code>DBI</code></a> and <a href=\"https://metacpan.org/pod/DBD::ODBC\" rel=\"nofollow\"><code>DBD::ODBC</code></a>. All queries are done within a single transaction that gets committed at the end of the load (or rolled back on an error). The database is in a multi-user environment.  </p>\n\n<p>Ideally, I'd like to lock the database so that no other process can make any changes during my loading process, which only lasts about a minute and will be run once per day. One reason why this is important is that sometimes during the load I have to look at <code>@@identity</code> to get the autonumber ID of a record I've just inserted.</p>\n\n<ul>\n<li><p>What should my settings be for record locking? I am currently using</p>\n\n<pre><code>Default Open Mode \u2013 Shared\nDefault record locking \u2013 Edited Record\n</code></pre></li>\n<li><p>Will the transaction lock the whole database against writes until it is committed? If not, is there a way for me to lock against all writes using <code>DBI::ODBC</code>?</p></li>\n</ul>\n\n<p>Through experimentation I can tell that Access is doing some locking for me, but I can't be sure that it's a total lockdown.</p>\n\n<p>UPDATE: The code looks like this:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse DBI; #database connection library\n\n#open database connection\nmy $path='C:\\Users\\me\\Desktop\\mydb.accdb'; \nmy $datasource = \"Driver={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=$path\";\n\n\nmy $dbh = DBI-&gt;connect(\"dbi:ODBC:$datasource\", '', '',\n    {\n            PrintError =&gt; 0,\n            PrintWarn  =&gt; 1,\n            RaiseError =&gt; 1,\n            AutoCommit =&gt; 0,  \n        }) || die \"Error connecting: $!\";\n\n\n\n#Then I do various database operations.  Example:\n\n#insert into database:\nmy $sth_insert = $dbh-&gt;prepare(qq{\nINSERT INTO table1 (field1, field2)\nvalues (?,?)\n}) \n\n$sth_insert-&gt;execute($value1,$value2);  \n\n#get back the autonumber ID: last_insert_id(undef,undef,undef,undef) is not supported\nmy $sqlQuery = 'SELECT @@IDENTITY';\nmy $sth_select = $dbh-&gt;prepare( $sqlQuery );\n$sth_select-&gt;execute;\nmy $newId = $sth_select-&gt;fetchrow_array; #will this be reliable in multi-user environment with my settings?\n\n#Then I commit the transaction:\n$dbh-&gt;commit or die $DBI::errstr;\n</code></pre>\n\n<p>The whole thing is in an eval statement, so if it kicks out an error, I rollback instead of committing.</p>\n\n<p>I'd rather lock down everything (reads and writes) if I can.</p>\n"}, {"tags": ["perl", "module-build"], "comments": [{"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1439243886, "post_id": 31928876, "comment_id": 51771643, "body": "What is the goal of keeping these files separate from the <code>lib</code> directory?"}, {"owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "reply_to_user": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1439245624, "post_id": 31928876, "comment_id": 51772302, "body": "It&#39;s to conform with a custom system that we&#39;ve been using to manage multiple installations. Eventually, I&#39;d like to update it to use more a more standard installation tree, but so far it&#39;s been easier to update the build scripts."}, {"owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "reply_to_user": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1439246287, "post_id": 31928876, "comment_id": 51772535, "body": "Oh, can I keep a more standard sandbox to fix my testing issue, and somehow coerce Module::Build to install it in a non-standard place?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1439247826, "post_id": 31928876, "comment_id": 51772955, "body": "<code>PERL_MB_OPT</code> env var to tell M::B where to install it, and <code>PERL5LIB</code> to tell Perl where to look."}, {"owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "edited": false, "score": 0, "creation_date": 1439247918, "post_id": 31928876, "comment_id": 51772976, "body": "<code>PERL5LIB</code> has been my testing workaround.. I figure M::B should be able to figure it out on it&#39;s own though"}], "answers": [{"tags": [], "owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "is_accepted": true, "score": 0, "last_activity_date": 1439481708, "creation_date": 1439481708, "answer_id": 31993211, "question_id": 31928876, "link": "https://stackoverflow.com/questions/31928876/custom-perl-target-location-with-modulebuild/31993211#31993211", "title": "Custom Perl target location with Module::Build", "body": "<p>There isn't a good reason to keep this <code>perllib/</code> directory in the module. I renamed it to <code>lib/</code> and customized its installation location.</p>\n\n<pre><code>my $build = Module::Build-&gt;new();\n$build-&gt;install_base_relpaths(lib =&gt; 'perl');\n</code></pre>\n"}], "owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 31993211, "answer_count": 1, "score": 2, "last_activity_date": 1439481708, "creation_date": 1439239716, "last_edit_date": 1439240150, "question_id": 31928876, "link": "https://stackoverflow.com/questions/31928876/custom-perl-target-location-with-modulebuild", "title": "Custom Perl target location with Module::Build", "body": "<p>I've customized a <code>Module::Build</code> script to install files from a <code>perllib/</code> directory in my sandbox to <code>perl/</code> in the target directory.</p>\n\n<pre><code># Install perllib\n$build-&gt;add_build_element(\"perllib\");\n$build-&gt;install_path(perllib =&gt; \"$install_base/perl\");\n</code></pre>\n\n<p>When I run <code>./Build test</code>, Perl can't find the files under <code>blib/</code> because it doesn't know that that these <code>perllib</code> files belong on <code>@INC</code>.</p>\n\n<p>Is it possible to add the custom <code>perllib</code> directory to the installation, in such a way that the build system understands that they're Perl files, which should be included when we run tests?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1439236910, "post_id": 31928068, "comment_id": 51768393, "body": "I would recommend that you use JSON format and serialize the hash to file. See <a href=\"http://stackoverflow.com/questions/8463919/how-to-convert-a-simple-hash-to-json-in-perl\">How to convert a simple hash to json in Perl?</a>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1439237359, "post_id": 31928068, "comment_id": 51768632, "body": "Related: <a href=\"http://stackoverflow.com/questions/10352298\">stackoverflow.com/questions/10352298</a>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1439237419, "post_id": 31928068, "comment_id": 51768668, "body": "Also, you know this is a really bad idea, right?"}, {"owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1439237518, "post_id": 31928068, "comment_id": 51768707, "body": "@mob : I understand. But I have to do it this way considering the whole architecture of this software system I am dealing with"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 3, "creation_date": 1439237706, "post_id": 31928068, "comment_id": 51768798, "body": "This is such a bad idea, maybe you should talk about the problem you&#39;re trying to solve with it. We might be able to come up with something better."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1439237800, "post_id": 31928068, "comment_id": 51768853, "body": "You mean that your script only has access to itself, but not to the rest of the filesystem or to a database?"}], "answers": [{"comments": [{"owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "edited": false, "score": 0, "creation_date": 1439238752, "post_id": 31928448, "comment_id": 51769346, "body": "This makes it easier for me. Thanks for the answer. And yes, $var and getDataStructure are not the actual names :)"}, {"owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "edited": false, "score": 0, "creation_date": 1439238847, "post_id": 31928448, "comment_id": 51769402, "body": "The real problem is not altering private variable in .pm file. Instead it is for the other users to have an external script that can manipulate this .pm and add new entries. I understand that it is a bad mess I am dealing with but I do not have any option at this point either."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "edited": false, "score": 0, "creation_date": 1439239375, "post_id": 31928448, "comment_id": 51769652, "body": "@KedarJoshi Moving the data into a much easier to manipulate JSON file would seem to solve that problem. Is there a piece you&#39;re not telling us?"}, {"owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "edited": false, "score": 3, "creation_date": 1439239776, "post_id": 31928448, "comment_id": 51769860, "body": "Yes, JSON Solution indeed works for me. I will have a separate file in JSON format to store my data, Thanks a lot"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 6, "last_activity_date": 1439238531, "last_edit_date": 1439238531, "creation_date": 1439238152, "answer_id": 31928448, "question_id": 31928068, "link": "https://stackoverflow.com/questions/31928068/perl-modify-data-structure-in-pm-file-at-runtime/31928448#31928448", "title": "Perl: Modify data structure in .pm file at runtime", "body": "<p>This is a terrible idea.  I'm not going to bother answering it, all the solutions will just add an unmaintainable mess on top of whatever unmaintainable mess you're maintaining.  There are much better ways to alter a private variable in a .pm file that don't make things worse by trying to parse and alter Perl code.</p>\n\n<p>The simplest thing to do is call <code>getDataStructure</code> (I hope <code>$var</code> and <code>getDataStructure</code> are not the real names) and modify the returned reference.</p>\n\n<pre><code>my $data = getDataStructure;\n$data-&gt;{new_thing} = { new =&gt; \"stuff\" };\n</code></pre>\n\n<p>If for some reason this doesn't work for you, since you have the ability to rewrite the file, you should rewrite it to put the data into a separate file, probably in JSON.  That JSON file will be much easier to alter.</p>\n\n<pre><code>my $data;\nsub getDataStructure {\n    $data ||= loadDataStructure(\"some_config.json\");\n    return $data;\n}\n</code></pre>\n\n<p>If you can't have a separate file, you can put the JSON in a <a href=\"http://perldoc.perl.org/perldata.html#Scalar-value-constructors\"><code>__DATA__</code> section</a> at the end of the file and read it from the special <code>DATA</code> filehandle.</p>\n\n<pre><code>my $data;\nsub getDataStructure {\n    $data ||= loadDataStructure();\n    return $data;\n}\n\nrequire JSON;\nsub loadDataStructure {\n    my $json = join '', &lt;DATA&gt;;\n    return JSON-&gt;new-&gt;decode($json);\n}\n\n1;\n\n__DATA__\n\"xyz\": {\n    \"pqr\": ...\n}\n</code></pre>\n\n<p>It is far easier for another program to read everything after <code>__DATA__</code> as JSON, alter it, and write it back out after <code>__DATA__</code>.</p>\n\n<p>If for some reason THAT doesn't work, then instead of altering <code>$var</code> in place you can simply add to it.</p>\n\n<pre><code>my $var = {\n    ...blah blah blah...\n};\n\nsub getDataStructure() {\n  return $var;\n}\n\n# These lines are added at the end.\n$var-&gt;{new_thing} = { new =&gt; \"stuff\" };\n$var-&gt;{another_new_thing} = { other =&gt; \"stuff\" };\n\n1;\n</code></pre>\n\n<p>This is a maintenance nightmare, but it's much easier to append to the end of the .pm file than it is to alter the middle of a data structure.  Take care to leave the true value at the end, or eliminate that problem by using <a href=\"https://metacpan.org/pod/true\">true</a>.</p>\n"}], "owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 31928448, "answer_count": 1, "score": 0, "last_activity_date": 1439278563, "creation_date": 1439236665, "last_edit_date": 1439278563, "question_id": 31928068, "link": "https://stackoverflow.com/questions/31928068/perl-modify-data-structure-in-pm-file-at-runtime", "title": "Perl: Modify data structure in .pm file at runtime", "body": "<p>I have a .pm file where i have a data structure something like this:</p>\n\n<pre><code>my $var = {  \n    \"xyz\" =&gt; {\n        \"pqr\" =&gt; {\n            \"all\" =&gt; \"123\",\n        },\n    },\n    \"abc\" =&gt; {\n        \"zzz\" =&gt; {\n            \"f\"  =&gt; \"foo1\",\n            \"n\"  =&gt; \"foo2\",\n            \"g\"  =&gt; \"foo3\", \n        },\n    },\n};\n\nsub getDataStructure() {\n    return $var;\n}\n</code></pre>\n\n<p>This <code>getDataStructure</code> method is widely used by various programs on my system.</p>\n\n<p>What I want is to have a script which can write more entries into <code>$var</code>. Let us assume that these values are user inputs.</p>\n\n<p>I read the file line by line, went on until I got <code>};</code> of <code>$var</code>, and now I want to go back one line and use <code>print FH $newContent</code> where FH is my file handle.</p>\n\n<p>How do I do that? I tried using the <code>seek</code> function but can not figure out way to do it properly</p>\n\n<p>Please note: this question is not about how to write Perl hashes into file. This is about some trick which can modify an existing .pm file and write some new values into the data structure I mentioned.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1439236676, "post_id": 31928042, "comment_id": 51768282, "body": "Use a 2D array.. see <a href=\"http://perlmaven.com/multi-dimensional-arrays-in-perl\" rel=\"nofollow noreferrer\">Multi dimensional arrays in Perl</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1439236798, "post_id": 31928042, "comment_id": 51768328, "body": "To quote Sinan &#220;n&#252;r <a href=\"http://stackoverflow.com/a/28506350/176646\">quoting himself</a>, &quot;When you find yourself adding an integer suffix to variable names, think <b>&#39;I should have used an array&#39;</b>.&quot; In this case, you want an array of arrays, as H&#229;kon H&#230;gland said."}, {"owner": {"reputation": 1, "user_id": 5144661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c64efc949b216c2fd8f0b8cc2c26e1a?s=128&d=identicon&r=PG&f=1", "display_name": "Jack ", "link": "https://stackoverflow.com/users/5144661/jack"}, "edited": false, "score": 0, "creation_date": 1439236910, "post_id": 31928042, "comment_id": 51768392, "body": "Are you suggesting I create an array with 23 dimensions?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1439236989, "post_id": 31928042, "comment_id": 51768428, "body": "@Jack No, an array with 23 elements, where each element is a reference to another array."}, {"owner": {"reputation": 1, "user_id": 5144661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c64efc949b216c2fd8f0b8cc2c26e1a?s=128&d=identicon&r=PG&f=1", "display_name": "Jack ", "link": "https://stackoverflow.com/users/5144661/jack"}, "edited": false, "score": 0, "creation_date": 1439237094, "post_id": 31928042, "comment_id": 51768487, "body": "Sorry I was asking that to H&#229;kon H&#230;gland"}, {"owner": {"reputation": 1, "user_id": 5144661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c64efc949b216c2fd8f0b8cc2c26e1a?s=128&d=identicon&r=PG&f=1", "display_name": "Jack ", "link": "https://stackoverflow.com/users/5144661/jack"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439237133, "post_id": 31928042, "comment_id": 51768512, "body": "But can you give me a sample code please @ThisSuitIsBlackNot"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439237200, "post_id": 31928042, "comment_id": 51768552, "body": "@Jack Hunter McMillen already did. See the answer below."}, {"owner": {"reputation": 1, "user_id": 5144661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c64efc949b216c2fd8f0b8cc2c26e1a?s=128&d=identicon&r=PG&f=1", "display_name": "Jack ", "link": "https://stackoverflow.com/users/5144661/jack"}, "edited": false, "score": 0, "creation_date": 1439237232, "post_id": 31928042, "comment_id": 51768563, "body": "Ok thanks for your time"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5144661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c64efc949b216c2fd8f0b8cc2c26e1a?s=128&d=identicon&r=PG&f=1", "display_name": "Jack ", "link": "https://stackoverflow.com/users/5144661/jack"}, "edited": false, "score": 0, "creation_date": 1439237383, "post_id": 31928119, "comment_id": 51768643, "body": "Thanks and I would like to store a line that contains $snps, $pval, $pmid, $chrpos, and $chrid"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 5, "last_activity_date": 1439236882, "creation_date": 1439236882, "answer_id": 31928119, "question_id": 31928042, "link": "https://stackoverflow.com/questions/31928042/how-to-create-multiple-arrays-at-once-in-perl/31928119#31928119", "title": "How to create multiple arrays at once in perl", "body": "<p>You can use an array of arrays, where each subarray is stored at a sequentially increasing index in your array of arrays. Here is what that <em>could</em> look like, but it is still unclear to me what you want data you want to store:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy @chr;\nopen my $input_fh, '&lt;', $ARGV[0]\n   or die \"Unable to open $ARGV[0] for reading: $!\";\nwhile (&lt; $input_fh&gt; ) {\n    # you can unpack your data in a single statement\n    my ($snps, $pval, $pmid, $chrpos, $chrid) = split /\\t/;\n\n    # unclear what you actually want to store\n    push @{ $chr[$chrid] }, ( $snps, $pval, $pmid, $chrpos, $chrid );\n\n}\nclose $input_fh;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5144661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c64efc949b216c2fd8f0b8cc2c26e1a?s=128&d=identicon&r=PG&f=1", "display_name": "Jack ", "link": "https://stackoverflow.com/users/5144661/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 372, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1439237668, "creation_date": 1439236566, "last_edit_date": 1439237668, "question_id": 31928042, "link": "https://stackoverflow.com/questions/31928042/how-to-create-multiple-arrays-at-once-in-perl", "title": "How to create multiple arrays at once in perl", "body": "<p>I'm trying to create 23 arrays without typing out <code>@array1</code>, <code>@array2</code>, and so on, and load them each with the variables from the array <code>@r</code> if the <code>$chrid</code> matches the array number (if <code>$chrid=1</code> it should be placed in <code>@array1</code>). How can I achieve this?</p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy @chr;\nmy $input;\nopen ($input, \"$ARGV[0]\") || die;\nwhile (&lt;$input&gt;) {\n    my @r = split(/\\t/);\n    my $snps = $r[0];\n    my $pval = $r[1];\n    my $pmid = $r[2];\n    my $chrpos = $r[3];\n    my $chrid = $r[4];\n    for ($chrid) {\n        push (@chr, $chrid);\n    }\n}\n\nclose $input;\n</code></pre>\n"}, {"tags": ["xml", "perl", "xml-twig"], "answers": [{"comments": [{"owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "edited": false, "score": 0, "creation_date": 1439239531, "post_id": 31927780, "comment_id": 51769735, "body": "Michel, thanks for the quick reply. Your method works for a small snippet of the xml file. However, when use it on a big file (50M) with line over 8000 characters, the result is unexpected. None of the strings get replaced in new file (the output is a copy of original file with some attributes got replaced on the 1st line). Is there a way to debug?"}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "reply_to_user": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "edited": false, "score": 0, "creation_date": 1439269376, "post_id": 31927780, "comment_id": 51778398, "body": "I updated my answer so it would work better with big files: the tree is built only for the appropriate UML:Class elements, the rest is just output asis"}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "reply_to_user": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "edited": false, "score": 0, "creation_date": 1439269516, "post_id": 31927780, "comment_id": 51778455, "body": "debugging is done the same way you&#39;d debug any other code: you can use the debugger, and place breakpoints inside the handler, add warn/prints inside the handler..."}, {"owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "edited": false, "score": 0, "creation_date": 1439327373, "post_id": 31927780, "comment_id": 51813315, "body": "The XML is encoded with utf8, and there are html tags in the element. I.e.: &lt;definition value=&quot;&amp;#xA;&amp;lt;x:div class=&amp;quot; test string DEF here&quot; /&gt;.     So I added :utf8 in open subroutine. However, the flush seems to have converted the html. So in the output, only the first line gets converted..."}, {"owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "edited": false, "score": 0, "creation_date": 1439328581, "post_id": 31927780, "comment_id": 51813913, "body": "Also, is there a solution to keep some control characters such as &quot;^M&quot; (Windows) when processing it on Linux? Thanks a lot,"}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "reply_to_user": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "edited": false, "score": 0, "creation_date": 1439374786, "post_id": 31927780, "comment_id": 51832216, "body": "you&#39;re right, you need to open the output file with <code>:utf8</code> I am not sure about the &quot;the flush seems to have converted the html&quot; and &quot;only the first line gets converted&quot;, you would need to give an example of the input and output."}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "reply_to_user": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "edited": false, "score": 0, "creation_date": 1439374795, "post_id": 31927780, "comment_id": 51832222, "body": "The control characters I don&#39;t know, it could be that the parser (<code>expat</code>) converts them even before Perl sees the string. You can try using the <code>keep_encoding</code> option, but know that it&#39;s an evil hack that dates back to a pre-utf8 World and that it can lead to annoying bugs (I would guess that you would need to open the output filehandle as <code>:raw</code>, but I have very little experience processing windows files on Linux, for which I thank the appropriate deity ;--)"}], "tags": [], "owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "is_accepted": true, "score": 2, "last_activity_date": 1439269284, "last_edit_date": 1439269284, "creation_date": 1439235652, "answer_id": 31927780, "question_id": 31927531, "link": "https://stackoverflow.com/questions/31927531/xmltwig-replace-string-in-a-file-if-attribute-of-parent-tag-is-something/31927780#31927780", "title": "XML::Twig replace string in a file if attribute of parent tag is something", "body": "<p>You're mixing <code>print</code> and <code>print_to_file</code>. <code>print_to_file</code> is not magical, it doesn't cause all <code>print</code>s to go to the file. You need to modify the attribute value in the original document, then <code>print_to_file</code> will output the new value.</p>\n\n<p>I would do this this way:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n</code></pre>\n\n<p>open( my $out, '>', 'uml.model.new') or die \"cannot create uml.model.new: $!\";</p>\n\n<pre><code>XML::Twig-&gt;new( twig_roots =&gt; { 'UML:Class[@name=\"2012\"]' =&gt;\n                                   sub { my $def= $_-&gt;next_elt( 'def');\n                                         $def-&gt;latt( 'value')=~ s{ABC}{DEF};\n                                         $_-&gt;flush;\n                                       },\n                                 },\n                twig_print_outside_roots =&gt; $out,\n                pretty_print =&gt; 'indented',\n\n\n              )\n         -&gt;parsefile( 'uml.model');\n</code></pre>\n\n<p>A couple of notes:</p>\n\n<ul>\n<li>I used a complex trigger (<code>'UML:Class[@name=\"2012\"]'</code>) instead of a simple <code>UML:CLASS</code> and then testing the attribute value in the handler.</li>\n<li>the <code>latt</code> method gives you an attribute as an <code>lvalue</code> that you can change in place, you could alternatively use <code>$v= $def-&gt;att( 'value'); $v=~ s{ABC}{DEF}; $def-&gt;set_att( $v);</code>... but using <code>latt</code> makes it much simpler</li>\n<li>I chained the method calls (<code>new</code>/<code>parse</code>/<code>print_to_file</code>), I like this style for code that's as simple as this one YMMV</li>\n</ul>\n"}], "owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "accepted_answer_id": 31927780, "answer_count": 1, "score": 1, "last_activity_date": 1439277677, "creation_date": 1439234720, "last_edit_date": 1439277677, "question_id": 31927531, "link": "https://stackoverflow.com/questions/31927531/xmltwig-replace-string-in-a-file-if-attribute-of-parent-tag-is-something", "title": "XML::Twig replace string in a file if attribute of parent tag is something", "body": "<p>I have an XML file: uml.model</p>\n\n<pre><code>&lt;UML:Class name=\"2012\"&gt;\n  &lt;type2&gt;\n    &lt;type1&gt;\n        &lt;def value=\"test string ABC\" /&gt;\n    &lt;/type1&gt;\n  &lt;/type2&gt;\n&lt;/UML:Class&gt;\n\n&lt;UML:Class name=\"2013\"&gt;\n  &lt;type2&gt;\n    &lt;type1&gt;\n        &lt;def value=\"test string ABC\" /&gt;\n    &lt;/type1&gt;\n  &lt;/type2&gt;\n&lt;/UML:Class&gt;\n</code></pre>\n\n<p>I want to replace the ABC in 'UML:Class name=\"2012\"' into DEF and have the result to be output in a new file:</p>\n\n<pre><code>&lt;UML:Class name=\"2012\"&gt;\n  &lt;type2&gt;\n    &lt;type1&gt;\n        &lt;def value=\"test string DEF\" /&gt;\n    &lt;/type1&gt;\n  &lt;/type2&gt;\n&lt;/UML:Class&gt;\n\n&lt;UML:Class name=\"2013\"&gt;\n  &lt;type2&gt;\n    &lt;type1&gt;\n        &lt;def value=\"test string ABC\" /&gt;\n    &lt;/type1&gt;\n  &lt;/type2&gt;\n&lt;/UML:Class&gt;\n</code></pre>\n\n<p>The perl script I use is:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\n\nuse XML::Twig;\nmy $twig = XML::Twig-&gt;new( twig_roots =&gt; { 'UML:Class' =&gt; \\&amp;uml_class } );\n$twig-&gt;parsefile( 'uml.model' );\n$twig-&gt;print_to_file( 'uml.model.new' );\n\nsub uml_class {\n    my ( $twig, $section ) = @_;\n    my $subTwig;\n    my $year = $section-&gt;{'att'}-&gt;{'name'};\n\n    if ( $year eq '2012' ) {\n        $subTwig = XML::Twig-&gt;new( twig_roots =&gt; { 'type1/def' =&gt; \\&amp;type_def } );\n        $subTwig-&gt;parse( $section-&gt;sprint() };\n    }\n}\n\nsub type_def {\n    my ($twig, $elt) = @_;\n    $elt-&gt;print ();\n    print \"\\n\";\n}\n</code></pre>\n\n<p>It doesn't work as expected. How can I change it to get the desired result? Thanks a lot,</p>\n"}, {"tags": ["perl", "database-connection"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 4, "creation_date": 1439234048, "post_id": 31927269, "comment_id": 51766967, "body": "Please please please use placeholders."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1439234437, "post_id": 31927269, "comment_id": 51767170, "body": "The first things I notice is you are missing statement-ending semi-colons in the &quot;accessing&quot; script, and trying to interpolate <code>$qid1</code> within single-quotes which won&#39;t work. Please put <code>use strict;</code> and <code>use warnings;</code> in the script, remove the single-quotes around the variable, and correct the statements which have no <code>;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1439234647, "post_id": 31927477, "comment_id": 51767274, "body": "Note the missing <code>;</code> at the end of some of the statements in the same code snip..."}], "tags": [], "owner": {"reputation": 37163, "user_id": 603855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b541c001a51839aebfb1da088861b9?s=128&d=identicon&r=PG", "display_name": "Ekkehard.Horner", "link": "https://stackoverflow.com/users/603855/ekkehard-horner"}, "is_accepted": false, "score": 1, "last_activity_date": 1439235119, "last_edit_date": 1439235119, "creation_date": 1439234498, "answer_id": 31927477, "question_id": 31927269, "link": "https://stackoverflow.com/questions/31927269/unable-to-connect-database-inside-a-subroutine-perl/31927477#31927477", "title": "Unable to connect Database inside a subroutine perl", "body": "<p>Your <code>'$qid1'</code> won't interpolate/evaluate to <code>QTG</code>. Use plain <code>$qid1</code> (just the variable name, no quotes at all) in the function call.</p>\n\n<p>Evidence:</p>\n\n<pre><code>perl -e \"$qid1='QTG'; print '$qid1';\"\n$qid1\n\nperl -e \"$qid1='QTG'; print $qid1;\"\nQTG\n</code></pre>\n\n<p>Additional blunders found:</p>\n\n<ol>\n<li>Missing <code>;</code> # (c) stevieb</li>\n<li>Wrong sigil <code>@</code> when accessing array elements: <code>my $id=@idarr[0];</code> should be <code>my $id = $idarr[0];</code>.</li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 5211196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103fda1a826bd07e82fb4730146ccc3e?s=128&d=identicon&r=PG&f=1", "display_name": "Ashutosh Pareek", "link": "https://stackoverflow.com/users/5211196/ashutosh-pareek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439235480, "creation_date": 1439233769, "last_edit_date": 1439235480, "question_id": 31927269, "link": "https://stackoverflow.com/questions/31927269/unable-to-connect-database-inside-a-subroutine-perl", "title": "Unable to connect Database inside a subroutine perl", "body": "<p>I am facing a problem while creating a my <code>SQL</code> database connection  inside a <code>subroutine</code>. below code is saved on server with file name as \"ALabel\"</p>\n\n<pre><code>package ALabel;\nuse strict;\nuse warnings;\nuse DBI;\n#!/usr/bin/perl\nuse lib '/var/www/cgi-bin/ssiweb824/Navik';\n\n\n\nsub ALabelPipe\n{\n\n    my $sth;\n    my $sql;\n    my @idarr=@_;\nmy $id=@idarr[0];\nmy $databasename=@idarr[1];\nmy $code=@idarr[2];\n\n    my $dbh = DBI-&gt;connect('dbi:mysql:database=$databasename','username','password');        \n\n    $sql = \"SELECT * FROM Table1 where ID='\".$id.\"'\".\"and Pcode='\".$code.\"'\";\n    $sth = $dbh-&gt;prepare($sql);\n    $sth-&gt;execute;\n    $dbh-&gt;disconnect;\n    my @abc = $sth-&gt;fetchrow_array();\n    return $abc[2];\n\n\n}\n</code></pre>\n\n<p>And, below is how I am accessing the ALabel file and accessing this code.</p>\n\n<pre><code>#!/usr/bin/perl\nuse lib '/var/www/cgi-bin/ssiweb824/Navik';\nuse ALabel;\nmy $qid1=\"QTG\"\n$studyname=\"databasename\"\nmy $abc=ALabel::ALabelPipe('$qid1',$studyname,1);\nreturn $abc;\n</code></pre>\n\n<p>This code works fine when I write <code>$dbh</code> outside Alabel pipe subroutine, but since I need to make my database name dynamic and need to pass it as a parameter I need to call it inside ALabelpipe function. can someone please help me?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439233737, "post_id": 31927019, "comment_id": 51766789, "body": "Can there be quoted braces inside the function, for example inside strings? Or inside comments?"}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439233970, "post_id": 31927019, "comment_id": 51766920, "body": "No there is neither strings or quoted values in this primitive language. Good question btw."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1439234313, "post_id": 31927019, "comment_id": 51767096, "body": "I am not sure if this could be of interest, but see also : <a href=\"http://www.perl.com/pub/2012/10/an-overview-of-lexing-and-parsing.html\" rel=\"nofollow noreferrer\">An Overview of Lexing and Parsing</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1439235347, "post_id": 31927019, "comment_id": 51767640, "body": "Recursion already does the trick for you. What are you trying to do, rewrite it  with correct formatted indentation? You can do that without the trick."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1439235687, "post_id": 31927019, "comment_id": 51767796, "body": "Would <a href=\"http://learn.perl.org/faq/perlfaq6.html#Can-I-use-Perl-regular-expressions-to-match-balanced-text\" rel=\"nofollow noreferrer\">recursive regular expressions</a> help? Example: <code>&#47;(\\{(?:[^{}]++|(?1))*\\})&#47;</code>"}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439238854, "post_id": 31927019, "comment_id": 51769404, "body": "@H&#229;konH&#230;gland It&#39;s exactly what I was looking for. I should more practive with recursive regex. One question that I may ask is about the efficiency of the recursive regexes in comparaison with my original implementation. I should check that on Google."}], "answers": [{"comments": [{"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1439239410, "post_id": 31928749, "comment_id": 51769666, "body": "The use of <code>Marpa:R2</code> could be a nice alternative. I am afraid the complexity of this parser and its understanding can become higher than a low-level regex implementation."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 2, "last_activity_date": 1439240410, "last_edit_date": 1439240410, "creation_date": 1439239317, "answer_id": 31928749, "question_id": 31927019, "link": "https://stackoverflow.com/questions/31927019/recursive-pairwise-braces-matching-in-perl/31928749#31928749", "title": "Recursive pairwise braces matching in Perl", "body": "<p>You could try using recursive regular expressions. For example:</p>\n\n<pre><code>/(\\{(?:[^{}]++|(?1))*\\})/\n</code></pre>\n\n<p>will match a group of balanced braces. For more information, see</p>\n\n<ul>\n<li><a href=\"http://learn.perl.org/faq/perlfaq6.html#Can-I-use-Perl-regular-expressions-to-match-balanced-text\" rel=\"nofollow\">Can I use Perl regular expressions to match balanced text?</a> in <a href=\"http://learn.perl.org/faq/perlfaq6.html\" rel=\"nofollow\">perlfaq6</a>,</li>\n<li>Perl documentation <a href=\"http://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow\"><code>\"Extended patterns\"</code></a> in <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\">perlre</a>, and</li>\n<li><a href=\"https://metacpan.org/pod/Text::Balanced#extract_bracketed\" rel=\"nofollow\"><code>extract_bracketed</code></a> in <a href=\"https://metacpan.org/pod/Text::Balanced\" rel=\"nofollow\"><code>Text::Balanced</code></a>.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1439277936, "post_id": 31935223, "comment_id": 51782130, "body": "The meaning of this sentence is not very clear to me: <code>You will have a hard time doing this with a recursive regex because you can only get the last value of each capturing group and will lose all of the intervening values</code>"}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1439278366, "post_id": 31935223, "comment_id": 51782349, "body": "The issue I run into with <code>BNF</code> like parsers is that all the grammar must be defined. In my example, if I add the word <code>bug</code> after <code>&#47;&#47; Content qux</code>, the parser fails with a very obscure message for the final user. I feel that using a low-level regex approach would be a more robust approach since the whole grammar does not need to be defined. Am I wrong?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1439302856, "post_id": 31935223, "comment_id": 51798644, "body": "First comment: <code>perl -E&#39;$_=&quot;{foo{bar}}&quot;;say $2 if &#47;(\\{((?:(?&gt;[^{}]+)|(?0))*)\\})&#47;&#39;</code> uses a recursive regex to match nested curly braces. <code>$2</code> captures the contents of the curlies, but only stores the last value (i.e. the outermost). So you can capture <code>foo{bar}</code> but not <code>bar</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1439303668, "post_id": 31935223, "comment_id": 51799312, "body": "Second comment: All you have to do is change the grammar to accept random identifiers inside function definitions. (That&#39;s essentially what you&#39;re doing with <code>.*</code> in a regex.) Also, I haven&#39;t done any error handling in my example; see the section on <a href=\"https://metacpan.org/pod/Parse::RecDescent#Error-handling\" rel=\"nofollow noreferrer\">error handling</a> in the Parse::RecDescent docs for ways to make errors much more user friendly."}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1440409606, "post_id": 31935223, "comment_id": 52243813, "body": "@ThisSuitIsBackNot Could you please give me an example in order to accept other statements than the ones I am looking for?"}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 2, "last_activity_date": 1439276559, "creation_date": 1439276559, "answer_id": 31935223, "question_id": 31927019, "link": "https://stackoverflow.com/questions/31927019/recursive-pairwise-braces-matching-in-perl/31935223#31935223", "title": "Recursive pairwise braces matching in Perl", "body": "<p>You will have a hard time doing this with a recursive regex because you can only get the last value of each capturing group and will lose all of the intervening values. This task is more suited to a parser like <a href=\"https://metacpan.org/pod/Parse::RecDescent\" rel=\"nofollow\"><code>Parse::RecDescent</code></a>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse Parse::RecDescent;\n\nsub process {\n    my ($name, $args, $depth) = @_;\n    say \"$depth - $name($args)\";\n}\n\nmy $grammar = q{\n    { my $indent = 0; }\n    startrule     : expression(s /;/)\n    expression    : function_call\n                  | function_def[$indent]\n    function_call : identifier '(' arglist ')' ';'\n    function_def  : identifier '(' arglist ')' '{' expression[ $arg[0]++ ](s?) '}'\n                  { main::process( $item{identifier}, join(',', @$item{arglist}), $arg[0] ) }\n    arglist       : identifier(s? /,/)\n    identifier    : /\\w+/\n};\n\n# Tell parser to ignore spaces and C99 one-line comments\nmy $skip_spaces_and_comments = qr{ (?: \\s+ | // .*?$ )* }mxs;\n$Parse::RecDescent::skip = $skip_spaces_and_comments;\n\nmy $parser = Parse::RecDescent-&gt;new($grammar) or die 'Bad grammar';\n\nmy $text = do { local $/; &lt;DATA&gt; };\n\ndefined $parser-&gt;startrule($text) or die 'Failed to parse';\n\n__DATA__\nfoo() {\n    bar() {\n       bar();\n    }\n\n    baz() {\n        // Content baz\n        qux() {\n           // Content qux\n        }\n    }\n}\n</code></pre>\n\n<h3>Output:</h3>\n\n<pre><code>2 - bar()\n1 - qux()\n2 - baz()\n3 - foo()\n</code></pre>\n\n<p>Note that the depths are inverted (1 is the most nested) and this doesn't return the contents of the function definitions, but it should get you started.</p>\n"}], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 31928749, "answer_count": 2, "score": 2, "last_activity_date": 1439276559, "creation_date": 1439232737, "last_edit_date": 1439233714, "question_id": 31927019, "link": "https://stackoverflow.com/questions/31927019/recursive-pairwise-braces-matching-in-perl", "title": "Recursive pairwise braces matching in Perl", "body": "<p>Let's consider this piece of code which does not belong to any known language:</p>\n\n<pre><code>foo() {\n    bar() {\n       bar();\n    }\n\n    baz() {\n        // Content baz\n        qux() {\n           // Content qux\n        }\n    }\n}\n</code></pre>\n\n<p>I would like to iteratively process each <code>function</code> by calling a subroutine which receives: the function name, the arguments, the indentation level and the content.</p>\n\n<p>So far I have written this: </p>\n\n<pre><code>#!/usr/bin/env perl\nuse 5.010;\n$_ = do {local $/; &lt;&gt;};       \ns/([{}])/$1.($1 eq '{'?++$i:$i--).$1/eg;     \nparse($_);\n\nsub parse {\n    local $_ = shift;\n    while (/(?&lt;name&gt;\\w+)\\s*\\((?&lt;args&gt;.*?)\\)\\s*\\{(\\d)\\{(?&lt;content&gt;.*?)\\}(?&lt;level&gt;\\3)\\}/gs) {\n        parse($+{content});\n        process($+{content}, $+{args}, $+{level}, $+{content});\n    }\n}\n\nsub process {\n    my ($name, $args, $level, $content) = @_;\n    #...\n}\n</code></pre>\n\n<p>The tricky idea is to replace in-place each matched brace <code>{</code> with an indentation number. So this:</p>\n\n<pre><code>{\n    {\n    }\n}\n</code></pre>\n\n<p>will become this: </p>\n\n<pre><code>{1{\n    {2{\n    }2}\n}1}\n</code></pre>\n\n<p>It allows to easily write the parsing regex which simply become: </p>\n\n<pre><code>qr/\n  \\w+          # name\n  \\s* \\(.*?\\)  # arguments\n  \\s* \\{(\\d)\\{ # opening brace\n  .*?          # content\n  \\s* \\}\\1\\}   # closing brace\n/x\n</code></pre>\n\n<blockquote>\n  <p>How can I rewrite this without this trick?</p>\n</blockquote>\n\n<p>Note that the choice of <code>{1{</code> could be anything else like <code>{(1)</code>, <code>{1-</code>, <code>{[1]</code> or even <code>{1\u2708</code></p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1439232781, "post_id": 31926903, "comment_id": 51766305, "body": "<code>perl -lpe &#39;(([[:alnum:][:punct:]\\s]+)\\s+|\\|\\s*([[:alnum:][:punct:]\\s]+&zwnj;&#8203;)\\s*\\||\\s*([[:alnum:&zwnj;&#8203;][:punct:]\\s]+))&#39;</code> is nonsense. That&#39;s not valid Perl code."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439232990, "post_id": 31926903, "comment_id": 51766421, "body": "If you know that the pipes are unique as separators: <code>perl -E &#39;$s=&quot;mu  (micro) | 10^(-6) | millionth&quot;; @a=split &#47;\\|&#47;,$s; say &quot;| \\$&quot; . (join &quot;\\$ | \\$&quot;,@a) . &quot;\\$ |&quot;&#39;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1439234648, "last_edit_date": 1439234648, "creation_date": 1439232981, "answer_id": 31927078, "question_id": 31926903, "link": "https://stackoverflow.com/questions/31926903/perl-regex-nested-grouping-results/31927078#31927078", "title": "Perl regex nested grouping results", "body": "<pre><code>perl -pi -e 's/^(\\S+ +\\S+) +\\| +(\\S+) +\\| +(\\S+)$/| \\$$1\\$ | \\$$2\\$ | \\$$3\\$ |/g'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 0, "last_activity_date": 1439233040, "creation_date": 1439233040, "answer_id": 31927093, "question_id": 31926903, "link": "https://stackoverflow.com/questions/31926903/perl-regex-nested-grouping-results/31927093#31927093", "title": "Perl regex nested grouping results", "body": "<pre><code>perl -lpe '$_ = \"| \" . join(\" | \", map \"\\$$_\\$\", split / \\| /) . \" |\"'\n</code></pre>\n\n<p>In words: Split each line into fields (on <code>|</code>), wrap each field in <code>$...$</code>, join the fields with <code>|</code>, and add a <code>|</code> at the beginning and end.</p>\n"}], "owner": {"reputation": 1737, "user_id": 3657151, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a1eae85cb0bc9cf52b1b8cd64b31ec6?s=128&d=identicon&r=PG&f=1", "display_name": "user14492", "link": "https://stackoverflow.com/users/3657151/user14492"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 31927093, "answer_count": 2, "score": -1, "last_activity_date": 1439234648, "creation_date": 1439232344, "last_edit_date": 1439232726, "question_id": 31926903, "link": "https://stackoverflow.com/questions/31926903/perl-regex-nested-grouping-results", "title": "Perl regex nested grouping results", "body": "<p>I have files like this:</p>\n\n<pre><code>mu  (micro) | 10^(-6) | millionth\nm  (milli) | 0.001 | thousandth\nk  (kilo) | 10^3 | thousand\nM  (mega) | 10^6 | million\n</code></pre>\n\n<p>And I would like to to produce files like:</p>\n\n<pre><code>| $mu  (micro)$ | $10^(-6)$ | $millionth$ |\n| $m  (milli)$ | $0.001$ | $thousandth$ |\n| $k  (kilo)$ | $10^3$ | $thousand$ |\n| $M  (mega)$ | $10^6$ | $million$ |\n</code></pre>\n\n<p>I'm trying to use the perl regex. And so far the best reexpression I could come up with is:</p>\n\n<pre><code>perl -lpe '(([[:alnum:][:punct:]\\s]+)\\s+|\\|\\s*([[:alnum:][:punct:]\\s]+)\\s*\\||\\s*([[:alnum:][:punct:]\\s]+))'\n</code></pre>\n\n<p>I know it's got a few of redundant <code>\\s+</code>, but I tried removing them the result was worse. Current it only separates it in two part:</p>\n\n<pre><code>mu  (micro) | 10^(-6) | \nmillionth\n</code></pre>\n\n<p>So how can I improve upon this, to get the desired result? I know I can use <code>s/foo/bar/g</code> to replace it but I can't get the expression to separate properly. Also how will I access the nested groups?</p>\n\n<p>Perhaps there is a better way to do this, I'm open to suggestions.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 75, "user_id": 4893212, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/61e7b9c72beca0dc44da26057f485abc?s=128&d=identicon&r=PG&f=1", "display_name": "JQKP", "link": "https://stackoverflow.com/users/4893212/jqkp"}, "edited": false, "score": 1, "creation_date": 1439229000, "post_id": 31925907, "comment_id": 51764372, "body": "Note to future readers: &quot;<code>\\\\.</code> (which is <code>&#39;\\.&#39;</code>)&quot; in the question is <b>wrong</b>. The answer, below, fixes that assumption."}, {"owner": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "edited": false, "score": 0, "creation_date": 1439242600, "post_id": 31925907, "comment_id": 51771165, "body": "That&#39;s actually a bad regex; I&#39;m surprised they used it.  It works okay on valid inputs, but it&#39;s prone to false positives on invalid ones, <code>&quot;like \\&quot;this\\&quot;&quot;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 6691, "user_id": 3591273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e9f02f036080c8be4e2abfcf753be75?s=128&d=identicon&r=PG", "display_name": "Nikos M.", "link": "https://stackoverflow.com/users/3591273/nikos-m"}, "edited": false, "score": 0, "creation_date": 1439229018, "post_id": 31925928, "comment_id": 51764386, "body": "note that a regex is not good to parse strings which include escaped quotes (no regex can do that by definition), but it can be useful for simpler matches"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 5, "last_activity_date": 1439229021, "last_edit_date": 1439229021, "creation_date": 1439228791, "answer_id": 31925928, "question_id": 31925907, "link": "https://stackoverflow.com/questions/31925907/why-test-for-matching-if-testing-for-matching-anything-but-a-specific-charact/31925928#31925928", "title": "Why test for matching \\. if testing for matching anything but a specific character?", "body": "<p><code>'(\\\\.|[^'])*'</code> would match an escaped quote or escaped any special character like <code>'\\'\\\"'</code> where <code>'[^']*'</code> won't match <code>'\\''</code>, that's the main difference.</p>\n\n<p><code>'(\\\\.|[^'])*'</code></p>\n\n<ul>\n<li><code>'</code> matches a single quotes.</li>\n<li><code>\\\\.</code> Match any escaped character. If there is no backslash then the control shift to the negated character class <code>[^']</code>. So this would greedily match all the escaped characters.</li>\n<li><code>'</code> Match a single quote.</li>\n</ul>\n"}], "owner": {"reputation": 75, "user_id": 4893212, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/61e7b9c72beca0dc44da26057f485abc?s=128&d=identicon&r=PG&f=1", "display_name": "JQKP", "link": "https://stackoverflow.com/users/4893212/jqkp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 31925928, "answer_count": 1, "score": 0, "last_activity_date": 1439229881, "creation_date": 1439228693, "last_edit_date": 1592644375, "question_id": 31925907, "link": "https://stackoverflow.com/questions/31925907/why-test-for-matching-if-testing-for-matching-anything-but-a-specific-charact", "title": "Why test for matching \\. if testing for matching anything but a specific character?", "body": "<p><a href=\"http://perldoc.perl.org/Text/Balanced.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/Text/Balanced.html</a> says:</p>\n<blockquote>\n<p>The <code>extract_delimited</code> function formalizes the common idiom of extracting a single-character-delimited substring from the start of a string. For example, to extract a single-quote delimited string, the following code is typically used:</p>\n<pre><code>($remainder = $text) =~ s/\\A('(\\\\.|[^'])*')//s;\n$extracted = $1;\n</code></pre>\n</blockquote>\n<p><code>\\\\.</code> (which is <code>'\\.'</code>) seems to be covered by <code>([^'])*</code>. Why is <code>\\\\.|</code> in there? Why not use <code>s/\\A('[^']*')//s</code>?</p>\n"}, {"tags": ["linux", "perl", "ssh", "system"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439228664, "post_id": 31925720, "comment_id": 51764163, "body": "Try <code>ssh someUsername@someIpAddress &quot;su - anotherUser&quot;</code> Then you will change the user name on the other machine after you logged in with ssh.."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1439303386, "last_edit_date": 1439303386, "creation_date": 1439228508, "answer_id": 31925865, "question_id": 31925720, "link": "https://stackoverflow.com/questions/31925720/call-ssh-in-system-function-in-perl/31925865#31925865", "title": "call &quot;ssh&quot; in system function in perl", "body": "<p>You're telling the wrong shell to execute <code>ssh</code>.</p>\n\n<p>You spawn a shell and ask it to execute two commands, <code>su</code> and <code>ssh</code>. It first spawns <code>su</code>, which launches another shell. You didn't tell this new shell to do anything, so it waits for input. When it finally exits, the first shell executes the second command, <code>ssh</code>.</p>\n\n<p>Use:</p>\n\n<pre><code>system(\"su -c 'ssh someUsername@someIpAddress' - anotherUSer\");\n</code></pre>\n\n<p>But that's nasty! Why not just set up a key for the current user instead of becoming <code>anottherUSer</code> to use theirs?</p>\n"}], "owner": {"reputation": 33, "user_id": 4350639, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-wvg9rIRBkAM/AAAAAAAAAAI/AAAAAAAAAE8/vokpBFKn-W4/photo.jpg?sz=128", "display_name": "Guido Pujadas", "link": "https://stackoverflow.com/users/4350639/guido-pujadas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 428, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439303386, "creation_date": 1439227913, "question_id": 31925720, "link": "https://stackoverflow.com/questions/31925720/call-ssh-in-system-function-in-perl", "title": "call &quot;ssh&quot; in system function in perl", "body": "<p>i have a question related to connecting via ssh with \"system()\" function in perl.</p>\n\n<p>in my perl script i want to connect via ssh to another ip, run a command and return its value or redirect result value to a file.</p>\n\n<pre><code>system (\"su - anotherUSer ; ssh someUsername@someIpAddress\");\n</code></pre>\n\n<p>(i change my username so that i am not asked for a password)</p>\n\n<p>when i execute this only line it changes the username correctly but not connects via ssh. In other words, the second part of the system call is not done (or is done but not reflected on the terminal).</p>\n\n<p>If i enter mannualy to the server where this script executes and run this two commands, i can run them without errors.</p>\n\n<p>When i run \"exit\" command to logout my anotherUser user an error raises: </p>\n\n<p>(ssh: \"username\".\"ip\": node name or service name not known)</p>\n\n<p>I also tested it escaping '@' and '.'</p>\n\n<pre><code>system (\"su - anotherUSer ; ssh someUsername\\@number\\.number\\.number\\.number\");\n</code></pre>\n\n<p>in this case when i run the \"exit\" command, it askes for the password(Remember that i swiched users so that password could be ommited).</p>\n\n<p>I hope you understand my problem.</p>\n\n<p>Thanks!!!</p>\n"}, {"tags": ["regex", "perl", "numbers", "comma"], "comments": [{"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "edited": false, "score": 1, "creation_date": 1439226855, "post_id": 31925409, "comment_id": 51763248, "body": "Look for <code>lookahead</code> and <code>lookbehind</code>"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1439226938, "post_id": 31925409, "comment_id": 51763292, "body": "<a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html</a>"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1439227107, "post_id": 31925409, "comment_id": 51763393, "body": "The zero-width predicates are mainly useful when a match cannot be consumed. Your  pattern will fail to substitute one comma in <code>1,2,3</code> because 2 will be consumed before matching recommences. If you don&#39;t have matches of this type, your pattern is fine."}], "owner": {"reputation": 5017, "user_id": 4400590, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f9ed697c0343dcfa0bd740157cbe4e26?s=128&d=identicon&r=PG&f=1", "display_name": "lisprogtor", "link": "https://stackoverflow.com/users/4400590/lisprogtor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1439227024, "answer_count": 0, "score": 0, "last_activity_date": 1439227352, "creation_date": 1439226783, "last_edit_date": 1439227352, "question_id": 31925409, "link": "https://stackoverflow.com/questions/31925409/what-do-these-perl-codes-mean", "closed_reason": "Duplicate", "title": "What do these perl codes mean?", "body": "<p>I have seen this one-line perl code from the web when I searched Google <em>\"perl remove comma from numbers\"</em>:</p>\n\n<pre><code>perl -pe 's/(?&lt;=\\d),(?=\\d)//g' file\n</code></pre>\n\n<p>I don't understand <code>?&lt;=</code> and <code>?=</code></p>\n\n<p>I understand that <code>()</code> is for grouping and capturing; <code>(?:)</code> is without capture; and <code>s///</code> is to substitute, and <code>g</code> is to apply globally, and <code>\\d</code> is digit; my own code is <code>s/(\\d),(\\d)/$1$2/g</code></p>\n\n<p>Can someone please tell me <code>?&lt;=</code> and <code>?=</code>\nI cannot find explanation of this perl expression on the web.</p>\n\n<p>Thank you very much!</p>\n"}, {"tags": ["linux", "perl", "unix", "png", "tex"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1439227162, "post_id": 31925403, "comment_id": 51763428, "body": "See <a href=\"http://tex.stackexchange.com/questions/11866/compile-a-latex-document-into-a-png-image-thats-as-short-as-possible\">Compile a LaTeX document into a PNG image that&#39;s as short as possible</a>"}, {"owner": {"reputation": 409, "user_id": 2246892, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/93415c4ceb889b001baa29f0fdcf1381?s=128&d=identicon&r=PG", "display_name": "Viin", "link": "https://stackoverflow.com/users/2246892/viin"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439231341, "post_id": 31925403, "comment_id": 51765544, "body": "Thank you H&#229;kon! But I&#39;m hoping to use a standalone that needs no installation. Would that be possible?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439231467, "post_id": 31925403, "comment_id": 51765604, "body": "I am not sure.. You should ask at <a href=\"http://tex.stackexchange.com/\">tex.stackexchange.com</a>"}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1439232416, "creation_date": 1439232416, "answer_id": 31926929, "question_id": 31925403, "link": "https://stackoverflow.com/questions/31925403/convert-tex-file-into-png/31926929#31926929", "title": "Convert .tex file into PNG", "body": "<p>You could use Google's Charts API: <code>http://chart.apis.google.com/chart?cht=tx&amp;chl=\\begin{equation*}%20\\quad!{\\rm%20BP}%28{\\rm%20gCL}^{%20-%201}%20{\\rm%20h}^{%20-%201}%20%29%20=%20{\\rm%20mol}\\;{\\rm%20CL}^{%20-%201}%20{{\\rm%20h}^{%20-%201}}%20_{{\\rm%20inc}}%20\\times%201797%20\\times%200.86%20\\end{equation*}</code></p>\n\n<p>See <a href=\"https://developers.google.com/chart/image/docs/making_charts\" rel=\"nofollow noreferrer\">Google's Deprecated Image Charts API</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jLnCr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jLnCr.png\" alt=\"LaTeX rendered as PNG\"></a></p>\n\n<p>See also my crappy Template.pm plugin <a href=\"https://metacpan.org/pod/Template::Plugin::GoogleLaTeX\" rel=\"nofollow noreferrer\">Template::Plugin::GoogleLaTeX</a>. I am not sure if it still works. </p>\n"}], "owner": {"reputation": 409, "user_id": 2246892, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/93415c4ceb889b001baa29f0fdcf1381?s=128&d=identicon&r=PG", "display_name": "Viin", "link": "https://stackoverflow.com/users/2246892/viin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 487, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1439232712, "creation_date": 1439226757, "last_edit_date": 1439232712, "question_id": 31925403, "link": "https://stackoverflow.com/questions/31925403/convert-tex-file-into-png", "title": "Convert .tex file into PNG", "body": "<p>Does any one here know how to convert a .tex file into png using perl? </p>\n\n<h3><code>.tex</code> file content:</h3>\n\n<pre><code>\\begin{equation*}\n\\quad\\!{\\rm BP}({\\rm gCL}^{ - 1} {\\rm h}^{ - 1} ) = {\\rm mol}\\;{\\rm CL}^{ - 1} {{\\rm h}^{ - 1}} _{{\\rm inc}} \\times 1797 \\times 0.86\n\\end{equation*}\n</code></pre>\n\n<p>Is there a method in Perl that can convert this in PNG?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 5112162, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b38a04139eb6e0e9fc24ae825379296?s=128&d=identicon&r=PG&f=1", "display_name": "ZebraSocks", "link": "https://stackoverflow.com/users/5112162/zebrasocks"}, "edited": false, "score": 0, "creation_date": 1439226963, "post_id": 31925168, "comment_id": 51763308, "body": "Thanks for the links! If I want to do it for eight digits instead, but I want a space in between the first four and second four, is there a way to do that?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 85, "user_id": 5112162, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b38a04139eb6e0e9fc24ae825379296?s=128&d=identicon&r=PG&f=1", "display_name": "ZebraSocks", "link": "https://stackoverflow.com/users/5112162/zebrasocks"}, "edited": false, "score": 0, "creation_date": 1439227147, "post_id": 31925168, "comment_id": 51763416, "body": "you could do <code>sprintf(&#39;%04x %04x&#39;, $num&#47;0x10000, $num%0x10000)</code> (at least as long as $num is never negative)."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1439227642, "post_id": 31925168, "comment_id": 51763623, "body": "fixed link: <a href=\"http://perldoc.perl.org/perlfaq5.html#How-can-I-output-my-numbers-with-commas-added%3F\" rel=\"nofollow noreferrer\">perldoc.perl.org/&hellip;</a>"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 4, "last_activity_date": 1439226311, "last_edit_date": 1439226311, "creation_date": 1439225889, "answer_id": 31925168, "question_id": 31925103, "link": "https://stackoverflow.com/questions/31925103/convert-decimal-to-four-hex-digits/31925168#31925168", "title": "Convert decimal to four hex digits", "body": "<p>Use a 0 <a href=\"http://perldoc.perl.org/functions/sprintf.html#flags\" rel=\"nofollow\">flag</a> and a <a href=\"http://perldoc.perl.org/functions/sprintf.html#(minimum)-width\" rel=\"nofollow\">width</a> in your printf specifier:</p>\n\n<pre><code>sprintf('%04x', $DEC_NUM);\n</code></pre>\n\n<p>Though from your example, you may also want the '#' flag (but you'd have to increase the width to 6 to accommodate the 0x).</p>\n"}], "owner": {"reputation": 85, "user_id": 5112162, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b38a04139eb6e0e9fc24ae825379296?s=128&d=identicon&r=PG&f=1", "display_name": "ZebraSocks", "link": "https://stackoverflow.com/users/5112162/zebrasocks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 612, "favorite_count": 0, "accepted_answer_id": 31925168, "answer_count": 1, "score": 0, "last_activity_date": 1439226311, "creation_date": 1439225643, "question_id": 31925103, "link": "https://stackoverflow.com/questions/31925103/convert-decimal-to-four-hex-digits", "title": "Convert decimal to four hex digits", "body": "<p>Is there a way to convert decimal numbers to four hex digits? For example:</p>\n\n<pre><code>Decimal: 17    =&gt;   Hex: 0x0011 \nDecimal: 291   =&gt;   Hex: 0x0123\nDecimal: 4951  =&gt;   Hex: 0x1357\n</code></pre>\n\n<p>Basically, I want to preserve the leading zeroes. </p>\n\n<p>So far I have:</p>\n\n<pre><code>my $HEX_NUM = sprintf(\"%x\", $DEC_NUM);\n</code></pre>\n\n<p>Is there a way to get the leading zeros without hardcoding them?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1439225184, "post_id": 31924812, "comment_id": 51762368, "body": "Try adding non-destructive <code>r</code> modifier: <code>map { s&#47;xxx&#47;y&#47;r }</code> Available from Perl 5.13.2, see <a href=\"http://www.effectiveperlprogramming.com/2010/12/perl-5-14-adds-non-destructive-transliteration/\" rel=\"nofollow noreferrer\">effectiveperlprogramming.com/2010/12/&hellip;</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439226219, "post_id": 31924812, "comment_id": 51762919, "body": "The background for critic is described in chapter 5 of the <a href=\"http://shop.oreilly.com/product/9780596001735.do\" rel=\"nofollow noreferrer\">book</a>"}, {"owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439233364, "post_id": 31924812, "comment_id": 51766600, "body": "@H&#229;konH&#230;gland - i have the book, and also read it... edited the question to be (i hope) more clear."}], "answers": [{"tags": [], "owner": {"reputation": 29236, "user_id": 4727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a99498921b93509c73d390704bddf6?s=128&d=identicon&r=PG", "display_name": "Leon Timmermans", "link": "https://stackoverflow.com/users/4727/leon-timmermans"}, "is_accepted": true, "score": 11, "last_activity_date": 1439242558, "last_edit_date": 1439242558, "creation_date": 1439225243, "answer_id": 31924983, "question_id": 31924812, "link": "https://stackoverflow.com/questions/31924812/when-modifying-can-be-wrong/31924983#31924983", "title": "When modifying $_ can be wrong?", "body": "<p>One of the mottos of perl has always been TIMTOWTDI: there is more than one way to do it. If two ways have the same end result, they're equally correct. That doesn't mean there aren't reasons to prefer one way over the other.</p>\n\n<p>In the first case, it would be more obvious (to me, YMMV) to do something like </p>\n\n<pre><code>s/xxx/y/ for @some;\n</code></pre>\n\n<p>This is mainly because it's communicating intend better. <code>for</code> suggests it's all about the side effect, whereas <code>map</code> suggests it's about the return value. While functionally identical, this should be much easier to understand for your fellow programmer (and probably for yourself in 6 months from now).</p>\n\n<p>There's more than one way, but some are better than others.</p>\n"}, {"tags": [], "owner": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "is_accepted": false, "score": 7, "last_activity_date": 1439226675, "creation_date": 1439226675, "answer_id": 31925379, "question_id": 31924812, "link": "https://stackoverflow.com/questions/31924812/when-modifying-can-be-wrong/31925379#31925379", "title": "When modifying $_ can be wrong?", "body": "<p>Code like your example:</p>\n\n\n\n<pre class=\"lang-perl prettyprint-override\"><code>@some = map { s/xxx/y/; $_ } @some;\n</code></pre>\n\n<p>should be avoided because it's redundant and confusing.  It <em>looks like</em> the assignment on the left should be doing something, even though it's actually a no-op.  Indeed, just writing:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>map { s/xxx/y/; $_ } @some;\n</code></pre>\n\n<p>would have the exact same effect, as would:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>map { s/xxx/y/ } @some;\n</code></pre>\n\n<p>This version at least has the virtue of making it (reasonably) clear that the return value of <code>map</code> is being ignored, and that the actual purpose of the statement is to modify <code>@some</code> in place.</p>\n\n<p>But of course, as Leon has already pointed out, by far the clearest and most idiomatic way of writing this would be:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>s/xxx/y/ for @some;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1439311276, "last_edit_date": 1439311276, "creation_date": 1439306629, "answer_id": 31945857, "question_id": 31924812, "link": "https://stackoverflow.com/questions/31924812/when-modifying-can-be-wrong/31945857#31945857", "title": "When modifying $_ can be wrong?", "body": "<pre><code>@some = map { s/xxx/y/; $_ } @some;\n</code></pre>\n\n<p>will work fine, but it's very poor code because it's not obvious that you're effectively doing</p>\n\n<pre><code>map { s/xxx/y/ } @some; @some = @some;\n</code></pre>\n\n<p>This already shows you could simply have done</p>\n\n<pre><code>map { s/xxx/y/ } @some;\n</code></pre>\n\n<p>But that's a misleading and inefficient version of</p>\n\n<pre><code>s/xxx/y/ for @some;\n</code></pre>\n\n<p>It's all about readability and maintainability.</p>\n\n<hr>\n\n<p>Note that you can do</p>\n\n<pre><code>use List::MoreUtils qw( apply );\n\n@some = apply { s/xxx/y/ } @some;\n</code></pre>\n\n<p>And in Perl 5.14+,</p>\n\n<pre><code>@some = map { s/xxx/y/r } @some;\n</code></pre>\n"}], "owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 31924983, "answer_count": 3, "score": 6, "last_activity_date": 1439311276, "creation_date": 1439224661, "last_edit_date": 1439233327, "question_id": 31924812, "link": "https://stackoverflow.com/questions/31924812/when-modifying-can-be-wrong", "title": "When modifying $_ can be wrong?", "body": "<p><strong>When the following code could have side effects?</strong></p>\n\n<pre><code>@some = map { s/xxx/y/; $_ } @some;\n</code></pre>\n\n<p>The perlcritic explains it as dangerous, because for example:</p>\n\n<pre><code>@other = map { s/xxx/y/; $_ } @some;\n</code></pre>\n\n<p>and the members of the <code>@some</code> got <strong>also</strong> modified. Understand. I have the BPB book, and it shows the above with the example</p>\n\n<pre><code>@pm_files_without_pl_files\n         = grep { s/.pm\\z/.pl/xms &amp;&amp; !-e } @pm_files;\n</code></pre>\n\n<p>and also I read the chapter \"<em>List Processing Side Effects</em>\" / \"<em>Never modify $_ in a list function</em>.\" and its followers. Also i know the <code>/r</code>.</p>\n\n<p>To be clear (as much is possible with my terrible english):</p>\n\n<p>In the 1st example the main point is modifying the original <code>@some</code>.</p>\n\n<p>The question is about:</p>\n\n<ul>\n<li><strong>could the 1st example</strong> <code>@some = map { s/xxx/y/; $_ } @some;</code> <strong>causing some unwanted side-effects</strong>? If yes, when?</li>\n<li>or it is just the \"not recommented\" way (but <strong>harmless</strong> otherwise)?</li>\n</ul>\n\n<p>Looking for an answer what goes a bit deeper as some \"perl beginner's book\" - therefore still doesn't accepted any current answer. ;)</p>\n"}, {"tags": ["perl", "oop", "operator-overloading", "equals-operator"], "answers": [{"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439220180, "post_id": 31923011, "comment_id": 51759285, "body": "If it&#39;s not possible, then what does the documentation mean by this? &quot;Perl does have a way to make assignments to an object do whatever you want, but this involves using tie(), not overload.&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 1, "creation_date": 1439220382, "post_id": 31923011, "comment_id": 51759411, "body": "<code>tie</code> more-or-less exposes magic to Perl code. You can tie a variable so that a sub is called after a value is assigned to the variable, but that&#39;s a far cry from what you asked. As I pointed out, what you asked doesn&#39;t really make any sense."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439221126, "post_id": 31923011, "comment_id": 51759898, "body": "The code you wrote above would create a new object with the first <code>new</code> call, then would set the value of that object to another instance of the object with the second call."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439221153, "post_id": 31923011, "comment_id": 51759912, "body": "The second call would work like <code>$object-&gt;set_value(Object-&gt;new())</code>"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1439221178, "post_id": 31923011, "comment_id": 51759931, "body": "Not that that&#39;s useful, but i would assume that would be how it would work if it was set up that way."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1523983477, "post_id": 31923011, "comment_id": 86782812, "body": "Why would the same code do something vastly different the second time around? What if I wanted to replace the value of <code>$object</code> both times? Your answer to my rhetorical question proves my point: What you asked doesn&#39;t really make sense."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1439219080, "creation_date": 1439219080, "answer_id": 31923011, "question_id": 31922779, "link": "https://stackoverflow.com/questions/31922779/overloading-in-perl/31923011#31923011", "title": "Overloading &#39;=&#39; in Perl", "body": "<p>You can't do that. You can add magic to a variable so that a sub is called after a value is assigned to the variable, but that's a far cry from what you asked.</p>\n\n<hr>\n\n<p>Besides, what you asked doesn't really make sense. What should the following do?</p>\n\n<pre><code>my $object;\n$object = Object-&gt;new();\n$object = Object-&gt;new();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 1, "last_activity_date": 1439475880, "creation_date": 1439475880, "answer_id": 31990970, "question_id": 31922779, "link": "https://stackoverflow.com/questions/31922779/overloading-in-perl/31990970#31990970", "title": "Overloading &#39;=&#39; in Perl", "body": "<p>The perl documentation quoted above is somewhat poorly worded. There is no way to overload assignment into some storage location (i.e. variable) that currently contains some specific object or other; the current value of a variable is never important for assignment.</p>\n\n<p>However, what you can do is add magic to that variable directly, that captures the attempt to store into it (<code>SET</code> magic, implemented by the <code>STORE</code> method of the tied class). But it is important to realise this is magic on the variable itself, and not the value that it currently contains.</p>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "accepted_answer_id": 31923011, "answer_count": 2, "score": 5, "last_activity_date": 1439475880, "creation_date": 1439218434, "question_id": 31922779, "link": "https://stackoverflow.com/questions/31922779/overloading-in-perl", "title": "Overloading &#39;=&#39; in Perl", "body": "<p>Since simply overloading <code>'='</code> in Perl does not act as one would expect, what is the proper way to do this?</p>\n\n<p>Quote from <a href=\"http://perldoc.perl.org/overload.html#Overloadable-Operations\" rel=\"noreferrer\">overload</a> perldoc:</p>\n\n<blockquote>\n  <p>Simple assignment is not overloadable (the <code>'='</code> key is used for the Copy Constructor). Perl does have a way to make assignments to an object do whatever you want, but this involves using <code>tie()</code>, not <code>overload</code> - see <a href=\"http://perldoc.perl.org/functions/tie.html\" rel=\"noreferrer\">tie</a> and the <a href=\"http://perldoc.perl.org/overload.html#COOKBOOK\" rel=\"noreferrer\">COOKBOOK</a> examples below.</p>\n</blockquote>\n\n<p>I have read through the <a href=\"http://perldoc.perl.org/overload.html#COOKBOOK\" rel=\"noreferrer\">COOKBOOK</a> and the documentation for <a href=\"http://perldoc.perl.org/functions/tie.html\" rel=\"noreferrer\">tie</a> and am having trouble figuring out how you could use it in this way.</p>\n\n<hr>\n\n<p>I want to be able to create an object like so: <code>my $object = Object-&gt;new()</code> Then when I assign it to something I want it to do some special processing.</p>\n\n<p>For example: <code>$object = 3</code> would internally do something like <code>$object-&gt;set_value(3);</code></p>\n\n<p><strong>I know this isn't necessarily good practice.  This is more of an educational question.  I just want to know <em>how</em> this can be done.  Not whether it <em>should</em> be done.</strong></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1439217586, "post_id": 31922236, "comment_id": 51757441, "body": "<code>-0</code> (NUL-separated) should be <code>-0777</code> (read whole file)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439219067, "post_id": 31922236, "comment_id": 51758532, "body": "Wouldn&#39;t <code>$&amp;=~&#47;this&#47;</code> redefine <code>$&amp;</code> to become <code>this</code>? Apparently it does not, but I am curious why"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1439217508, "creation_date": 1439217508, "answer_id": 31922454, "question_id": 31922236, "link": "https://stackoverflow.com/questions/31922236/remove-xml-node-using-perl-this-or-that/31922454#31922454", "title": "Remove XML Node Using Perl - This or That", "body": "<p>Since your outside regular expression is using the pipe <code>|</code> as a delimiter you are breaking the pattern when you are using the pipe as <code>or</code> in your inner regex.</p>\n\n<pre><code>perl -0 -p -i -e 's{&lt;nodeName&gt;.*?&lt;/nodeName&gt;}{$&amp;=~/(?:this|that)/?\"\":$&amp;}gse' file\n</code></pre>\n\n<p>Like that it should work. I've replaced the pipes with <code>{}</code>. I've also added a non-capture group for good measure as there is no reason to keep the <code>this|that</code> available.</p>\n\n<p>You could of course also just escape the inner <code>|</code>, but the above solution is clearer.</p>\n\n<pre><code>perl -0 -p -i -e 's|&lt;nodeName&gt;.*?&lt;/nodeName&gt;|$&amp;=~/(this\\|that)/?\"\":$&amp;|gse' file\n</code></pre>\n\n<hr>\n\n<p>Also note that it might work for your one tag per line file, but it will break if your XML is more complex.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1439217668, "creation_date": 1439217668, "answer_id": 31922506, "question_id": 31922236, "link": "https://stackoverflow.com/questions/31922236/remove-xml-node-using-perl-this-or-that/31922506#31922506", "title": "Remove XML Node Using Perl - This or That", "body": "<pre><code>perl -i -0777pe's{\n   &lt;nodeName&gt;\n   (?: (?!&lt;/nodeName&gt;). )*\n   (?: this | that )\n   (?: (?!&lt;/nodeName&gt;). )*\n   &lt;/nodeName&gt;\n}{}xsg' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439222449, "post_id": 31922745, "comment_id": 51760813, "body": "OP says he doesn&#39;t have the authority to install stuff."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1439218334, "creation_date": 1439218334, "answer_id": 31922745, "question_id": 31922236, "link": "https://stackoverflow.com/questions/31922236/remove-xml-node-using-perl-this-or-that/31922745#31922745", "title": "Remove XML Node Using Perl - This or That", "body": "<p>Ugh, please don't do that. XML is not suitable for parsing with regular expressions. There are a variety of semantically identical things that you can do to XML which means regular expressions just don't match any more. </p>\n\n<p>Please - on behalf of future sysadmins and maintenance programmers - use a parser instead. </p>\n\n<p>If you want to delete 'nodeName' containing text 'this' or 'that':</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nXML::Twig-&gt;new(\n    'pretty_print'  =&gt; 'indented_a',\n    'twig_handlers' =&gt; {\n        'nodeName' =&gt; sub { $_-&gt;delete if $_-&gt;text =~ m/this|that/ }\n    }\n)-&gt;parse( \\*DATA )-&gt;print;\n\n__DATA__\n&lt;root&gt;\n&lt;nodeName&gt;\n    &lt;subNode&gt;those&lt;/subNode&gt;\n&lt;/nodeName&gt;\n&lt;nodeName&gt;\n    &lt;subNode&gt;this&lt;/subNode&gt;\n&lt;/nodeName&gt;\n&lt;nodeName&gt;\n    &lt;subNode&gt;that&lt;/subNode&gt;\n&lt;/nodeName&gt;\n&lt;nodeName&gt;\n    &lt;subNode&gt;these&lt;/subNode&gt;\n&lt;/nodeName&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>This sets a twig handler that 'catches' <code>nodeName</code> and deletes if if a condition applies. </p>\n\n<p>If you want to one-liner it:</p>\n\n<pre><code>perl -MXML::Twig -e 'XML::Twig-&gt;new( 'pretty_print'  =&gt; 'indented_a', 'twig_handlers' =&gt; {'nodeName' =&gt; sub { $_-&gt;delete if $_-&gt;text =~ m/this|that/ }})-&gt;parsefile( $ARGV[0] )-&gt;print;'\n</code></pre>\n\n<p>You can also use <code>parsefile_inplace</code> to change the original source file too. </p>\n"}], "owner": {"reputation": 613, "user_id": 4974005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/215e7fa08100b13dde18b97ae84f4c0e?s=128&d=identicon&r=PG&f=1", "display_name": "RussNS", "link": "https://stackoverflow.com/users/4974005/russns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 31922454, "answer_count": 3, "score": 2, "last_activity_date": 1439218334, "creation_date": 1439216882, "question_id": 31922236, "link": "https://stackoverflow.com/questions/31922236/remove-xml-node-using-perl-this-or-that", "title": "Remove XML Node Using Perl - This or That", "body": "<p>Standing on the greatness of others on the web (props to them), I ran across this command:</p>\n\n<pre><code>perl -0 -p -i -e 's|&lt;nodeName&gt;.*?&lt;/nodeName&gt;|$&amp;=~/this/?\"\":$&amp;|gse' file\n</code></pre>\n\n<p>It will find an XML node (in this case \"nodeName\"), look for a specific string (in this case, \"this\"), and delete the entire node.  It's pretty sweet.</p>\n\n<p>With this command, a file that looks like this:</p>\n\n<pre><code>&lt;nodeName&gt;\n    &lt;subNode&gt;those&lt;/subNode&gt;\n&lt;/nodeName&gt;\n&lt;nodeName&gt;\n    &lt;subNode&gt;this&lt;/subNode&gt;\n&lt;/nodeName&gt;\n&lt;nodeName&gt;\n    &lt;subNode&gt;that&lt;/subNode&gt;\n&lt;/nodeName&gt;\n&lt;nodeName&gt;\n    &lt;subNode&gt;these&lt;/subNode&gt;\n&lt;/nodeName&gt;\n</code></pre>\n\n<p>Will come out looking like this:</p>\n\n<pre><code>&lt;nodeName&gt;\n    &lt;subNode&gt;those&lt;/subNode&gt;\n&lt;/nodeName&gt;\n&lt;nodeName&gt;\n    &lt;subNode&gt;that&lt;/subNode&gt;\n&lt;/nodeName&gt;\n&lt;nodeName&gt;\n    &lt;subNode&gt;these&lt;/subNode&gt;\n&lt;/nodeName&gt;\n</code></pre>\n\n<p>However, my needs are for it to look for \"this\" or \"that\", and if it finds either, delete the entire node.  So to that effect, I'm using this command:</p>\n\n<pre><code>perl -0 -p -i -e 's|&lt;nodeName&gt;.*?&lt;/nodeName&gt;|$&amp;=~/this/?\"\":$&amp;|gse' file;perl -0 -p -i -e 's|&lt;nodeName&gt;.*?&lt;/nodeName&gt;|$&amp;=~/that/?\"\":$&amp;|gse' file\n</code></pre>\n\n<p>This is basically \"run a command twice to looking for 2 different things, but perform the same action.\"  My question in all of this is, can the original perl command be simplified to look for \"this\" OR \"that\" in one command?</p>\n\n<p>I've tried this:</p>\n\n<pre><code>perl -0 -p -i -e 's|&lt;nodeName&gt;.*?&lt;/nodeName&gt;|$&amp;=~/(this|that)/?\"\":$&amp;|gse' file\n</code></pre>\n\n<p>But I'm kinda green on perl.  I thought this would work similar to this:</p>\n\n<pre><code>s/(dog|cat)s are (invited|welcome)/$1s are not $2/;\n</code></pre>\n\n<p>But it doesn't.  I'm not sure if what I'm hoping to accomplish is even possible.  So in closing, I did get a bit rambly.  To restate the question: can the original perl command be simplified to look for \"this\" OR \"that\" in one command?</p>\n\n<p>Thank you in advance.</p>\n\n<p>NOTE:  I'm working on servers that do not have xmlstarlet installed, and I don't have authorization to install it.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 2, "creation_date": 1439214992, "post_id": 31921085, "comment_id": 51755465, "body": "Try <code>XML::Twig</code> Have a read of this gentle introduction for processing SNP data  <a href=\"http://people.cc.ku.edu/~grobe/Twig-intro.html\" rel=\"nofollow noreferrer\">people.cc.ku.edu/~grobe/Twig-intro.html</a>"}, {"owner": {"reputation": 39, "user_id": 4389780, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh6.googleusercontent.com/-w6i5MwvKw7Q/AAAAAAAAAAI/AAAAAAAAAK4/xoxIE6T7WL4/photo.jpg?sz=128", "display_name": "Ahmed Mahdi", "link": "https://stackoverflow.com/users/4389780/ahmed-mahdi"}, "edited": false, "score": 0, "creation_date": 1439215810, "post_id": 31921085, "comment_id": 51756107, "body": "I mean 30 base pair which is CTGTGCCGTATATA"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1439217008, "post_id": 31921085, "comment_id": 51757027, "body": "Please show us what you have tried and explain the problems you are having."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1439218549, "creation_date": 1439218549, "answer_id": 31922823, "question_id": 31921085, "link": "https://stackoverflow.com/questions/31921085/print-specific-snps-alleles-details-from-xml-file/31922823#31922823", "title": "print specific snps alleles details from XML file", "body": "<p>Something like this should do the trick:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt;new()-&gt;parse( \\*DATA );\nforeach my $sequence ( $twig-&gt;get_xpath('//Sequence') ) {\n    foreach my $element ( $sequence-&gt;children ) {\n        print $element -&gt;tag, \" =&gt; \", $element-&gt;trimmed_text, \"\\n\";\n    }\n}\n\n__DATA__\n&lt;root&gt;\n&lt;Ss ssId=\"76536062\" handle=\"AFFY\" batchId=\"52074\"\n    locSnpId=\"AFFY_6_1M_SNP_A-8397107\" subSnpClass=\"snp\" orient=\"forward\" \n    strand=\"bottom\" molType=\"genomic\" buildId=\"130\" methodClass=\"hybridize\" \n    validated=\"by-submitter\"&gt;\n    &lt;Sequence&gt;\n        &lt;Seq5&gt;TCACCTCTGGGACTGA&lt;/Seq5&gt;\n        &lt;Observed&gt;C/T&lt;/Observed&gt;\n        &lt;Seq3&gt;AATTAGGAAGAGCTGG&lt;/Seq3&gt;\n    &lt;/Sequence&gt;\n&lt;/Ss&gt;\n&lt;Ss ssId=\"104807776\" handle=\"KRIBB_YJKIM\" batchId=\"60510\"\n    locSnpId=\"KHS1200112\" subSnpClass=\"snp\" orient=\"forward\" strand=\"bottom\"\n    molType=\"genomic\" buildId=\"130\" methodClass=\"hybridize\"\n    validated=\"by-submitter\"&gt;\n    &lt;Sequence&gt;\n        &lt;Seq5&gt;\n             TAGGAACAAGGTACATTCGCGGGATAAATGTGGCCAAGTTTTATCTGCTGCCAGGGCTTTCAAATAGGTTGACCTGACAATGGGTCACCTCTGGGACTGA\n       &lt;/Seq5&gt;\n       &lt;Observed&gt;C/T&lt;/Observed&gt;\n       &lt;Seq3&gt;\n          AATTAGGAAGAGCTGGTACCTAAAATGAAAGATGCCCTTAAATTTCAGATTCACAATTTT\n       &lt;/Seq3&gt;\n   &lt;/Sequence&gt;\n&lt;/Ss&gt;\n&lt;/root&gt;\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4389780, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh6.googleusercontent.com/-w6i5MwvKw7Q/AAAAAAAAAAI/AAAAAAAAAK4/xoxIE6T7WL4/photo.jpg?sz=128", "display_name": "Ahmed Mahdi", "link": "https://stackoverflow.com/users/4389780/ahmed-mahdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1439218549, "creation_date": 1439213928, "last_edit_date": 1439215035, "question_id": 31921085, "link": "https://stackoverflow.com/questions/31921085/print-specific-snps-alleles-details-from-xml-file", "title": "print specific snps alleles details from XML file", "body": "<p>I am new perl user, I have the following lines in a file</p>\n\n<pre><code>&lt;Ss ssId=\"76536062\" handle=\"AFFY\" batchId=\"52074\"\n    locSnpId=\"AFFY_6_1M_SNP_A-8397107\" subSnpClass=\"snp\" orient=\"forward\" \n    strand=\"bottom\" molType=\"genomic\" buildId=\"130\" methodClass=\"hybridize\" \n    validated=\"by-submitter\"&gt;\n    &lt;Sequence&gt;\n        &lt;Seq5&gt;TCACCTCTGGGACTGA&lt;/Seq5&gt;\n        &lt;Observed&gt;C/T&lt;/Observed&gt;\n        &lt;Seq3&gt;AATTAGGAAGAGCTGG&lt;/Seq3&gt;\n    &lt;/Sequence&gt;\n&lt;/Ss&gt;\n&lt;Ss ssId=\"104807776\" handle=\"KRIBB_YJKIM\" batchId=\"60510\"\n    locSnpId=\"KHS1200112\" subSnpClass=\"snp\" orient=\"forward\" strand=\"bottom\"\n    molType=\"genomic\" buildId=\"130\" methodClass=\"hybridize\"\n    validated=\"by-submitter\"&gt;\n    &lt;Sequence&gt;\n        &lt;Seq5&gt;\n             TAGGAACAAGGTACATTCGCGGGATAAATGTGGCCAAGTTTTATCTGCTGCCAGGGCTTTCAAATAGGTTGACCTGACAATGGGTCACCTCTGGGACTGA\n       &lt;/Seq5&gt;\n       &lt;Observed&gt;C/T&lt;/Observed&gt;\n       &lt;Seq3&gt;\n          AATTAGGAAGAGCTGGTACCTAAAATGAAAGATGCCCTTAAATTTCAGATTCACAATTTT\n       &lt;/Seq3&gt;\n   &lt;/Sequence&gt;\n&lt;/Ss&gt;\n</code></pre>\n\n<hr>\n\n<p>I wan print the content between the both observed which is C/T. Also, I want to print just 30 bp for both seq5 and seq3. \nThanks in advance. Any idea to help me</p>\n"}, {"tags": ["windows", "perl", "shell"], "comments": [{"owner": {"reputation": 1269, "user_id": 29885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f49fe6290f8a973df9d54cb50e9709?s=128&d=identicon&r=PG", "display_name": "razong", "link": "https://stackoverflow.com/users/29885/razong"}, "edited": false, "score": 0, "creation_date": 1439210473, "post_id": 31919470, "comment_id": 51752089, "body": "The command grep is probably not installed. Can you call grep from the cygwin console?"}, {"owner": {"reputation": 41, "user_id": 4014263, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-krgRbqz5Bdc/AAAAAAAAAAI/AAAAAAAAAKI/JO3uSVu73jU/photo.jpg?sz=128", "display_name": "Aabha Geed", "link": "https://stackoverflow.com/users/4014263/aabha-geed"}, "reply_to_user": {"reputation": 1269, "user_id": 29885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f49fe6290f8a973df9d54cb50e9709?s=128&d=identicon&r=PG", "display_name": "razong", "link": "https://stackoverflow.com/users/29885/razong"}, "edited": false, "score": 0, "creation_date": 1439210709, "post_id": 31919470, "comment_id": 51752270, "body": "yes I am able to call grep from cygwin but i need to use the perl script in windows environment"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1439211218, "post_id": 31919470, "comment_id": 51752650, "body": "Is your path set correctly to find &#39;grep&#39;?  I have it installed at <code>&#47;usr&#47;bin&#47;grep</code> on my Cygwin.  Are you running perl from within Cygwin?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439212058, "post_id": 31919470, "comment_id": 51753288, "body": "Better to use the builtin Perl <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow noreferrer\"><code>grep</code></a> function."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1439212967, "post_id": 31919470, "comment_id": 51753967, "body": "This is a question that has 1. Nothing to do with programming in general; 2. Perl; 3. Windows."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1439214061, "creation_date": 1439214061, "answer_id": 31921134, "question_id": 31919470, "link": "https://stackoverflow.com/questions/31919470/how-to-run-shell-command-in-windows-perl-script/31921134#31921134", "title": "How to run shell command in windows perl script", "body": "<p>A Windows perl (such as ActiveState or Strawberry Perl) will use the Windows shell to execute all <code>system</code> and <code>qx</code> commands, but it looks like you want to run some commands under the Cygwin shell. Some options:</p>\n\n<ol>\n<li><p>Install and use <code>perl</code> on Cygwin. In Cygwin perl, the shell for <code>system</code> and <code>qx</code> commands is the Cygwin (bash) shell. Perl is easy to install from the setup program or to build from source.</p></li>\n<li><p>Instruct Windows shell to run the command in the Cygwin shell. The command might look something like this (not tested):</p>\n\n<pre><code>C:\\cygwin\\bin\\bash.exe -c \"strings -a -f /cygdrive/C/TestBox/Out/UT_*.o | grep 'Test_String'\"\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1439223852, "last_edit_date": 1439223852, "creation_date": 1439214864, "answer_id": 31921469, "question_id": 31919470, "link": "https://stackoverflow.com/questions/31919470/how-to-run-shell-command-in-windows-perl-script/31921469#31921469", "title": "How to run shell command in windows perl script", "body": "<p>This code was apparently written on Unix or Linux by someone who didn't think that it might, someday, be used on a platform that doesn't have a <code>grep</code> command (like Windows).</p>\n\n<p>And that's weird, because <code>grep</code>-like functionality is something that Perl is really good at. So it's hard to understand why they would rely on an external program that might not be installed.</p>\n\n<p>I'd rewrite that line like this:</p>\n\n<pre><code>open my $string_fh, '-|', 'strings -a -f /cygdrive/C/TestBox/Out/UT_*.o' or die $!;\nmy @strings = grep { /Test_String/ } &lt;$string_fh&gt;;\n</code></pre>\n\n<p>I suppose there's also an argument for rewriting the <code>strings</code> call in pure Perl - but that wouldn't be quite so simple.</p>\n"}], "owner": {"reputation": 41, "user_id": 4014263, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-krgRbqz5Bdc/AAAAAAAAAAI/AAAAAAAAAKI/JO3uSVu73jU/photo.jpg?sz=128", "display_name": "Aabha Geed", "link": "https://stackoverflow.com/users/4014263/aabha-geed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1497, "favorite_count": 0, "closed_date": 1439215756, "answer_count": 2, "score": -1, "last_activity_date": 1439223852, "creation_date": 1439209419, "question_id": 31919470, "link": "https://stackoverflow.com/questions/31919470/how-to-run-shell-command-in-windows-perl-script", "closed_reason": "Not suitable for this site", "title": "How to run shell command in windows perl script", "body": "<p>I am running following command in windows perl:</p>\n\n<pre><code>qx(strings -a -f /cygdrive/C/TestBox/Out/UT_*.o | grep \"Test_String\");\n</code></pre>\n\n<p>I get an error: 'grep' is not recognized as an internal or external command,\noperable program or batch file. How to resolve this?</p>\n"}, {"tags": ["perl", "session", "dancer"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439201917, "post_id": 31916550, "comment_id": 51746652, "body": "Please <a href=\"https://stackoverflow.com/posts/31916550/edit\">edit</a> your question and indent the code properly. It&#39;s very hard to read."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1439202150, "post_id": 31916550, "comment_id": 51746790, "body": "Off the top of my head: look at the D2 tutorials. You are not using the database plugin. Maybe DBIx::Class makes a lot more sense for you. At least opening a new DB connection with every request is <b>bad</b>. There are D2 plugins that handle authentication. I believe there is a tutorial or cookbook especially for this use case."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1439202237, "post_id": 31916550, "comment_id": 51746849, "body": "<a href=\"https://metacpan.org/pod/Dancer2::Plugin::Auth::Extensible\" rel=\"nofollow noreferrer\">metacpan.org/pod/Dancer2::Plugin::Auth::Extensible</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1439203080, "post_id": 31916550, "comment_id": 51747367, "body": "Is that really how you indent your code? If so, you are making life so much harder for yourself."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1439203356, "post_id": 31916550, "comment_id": 51747512, "body": "Also, are you really storing passwords in your database in plain text?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439210219, "post_id": 31916550, "comment_id": 51751930, "body": "You&#39;ve got a logic error: if a user enters a valid username but the wrong password, the <code>user_logged_in</code> and <code>role_of_user_logged_in</code> session variables still get set. I would recommend using D2::Plugin::Auth::Extensible as @simbabque suggested; see <a href=\"http://stackoverflow.com/a/29638155/176646\">this answer</a> I wrote for another question for an example of D1::Plugin::Auth::Extensible, which you should be able to use more or less the same as the D2 version. You don&#39;t have to write any of this type of authentication logic yourself, just configure you database connection."}, {"owner": {"reputation": 156, "user_id": 5210560, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-rbG4G0GT2lc/AAAAAAAAAAI/AAAAAAAAASI/uUZuKeAykOc/photo.jpg?sz=128", "display_name": "Rony", "link": "https://stackoverflow.com/users/5210560/rony"}, "edited": false, "score": 0, "creation_date": 1439216521, "post_id": 31916550, "comment_id": 51756649, "body": "Sorry for the indentation. To answer all your question: There are lots of dependency issues. To use Auth::Extensible i need to install Dancer-Plugin-Auth-Extensible-0.40.tar for which I need root access which i dont have for now. So for now i have to work with whatever i have. This project is just for preparing a prototype, so for now i&#39;m storing passwords in database. I even tried &lt;% IF FALSE %&gt; in my template page. Still its generating subsequent &lt;h1&gt; tags.  Somehow, IF is not working."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439219627, "post_id": 31916550, "comment_id": 51758908, "body": "@Rony <a href=\"http://stackoverflow.com/questions/3735836/how-can-i-install-perl-modules-without-root-privileges\">You don&#39;t need root to install CPAN modules.</a>"}], "answers": [{"tags": [], "owner": {"reputation": 156, "user_id": 5210560, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-rbG4G0GT2lc/AAAAAAAAAAI/AAAAAAAAASI/uUZuKeAykOc/photo.jpg?sz=128", "display_name": "Rony", "link": "https://stackoverflow.com/users/5210560/rony"}, "is_accepted": false, "score": 0, "last_activity_date": 1439222837, "last_edit_date": 1439222837, "creation_date": 1439221197, "answer_id": 31923752, "question_id": 31916550, "link": "https://stackoverflow.com/questions/31916550/if-session-logged-in-not-working-in-dancer2-main-tt/31923752#31923752", "title": "&lt;% IF SESSION.LOGGED_IN not working in dancer2 main.tt", "body": "<p>The problem was that I was using <code>template : \"simple\"</code>. I changed the config.yml file to the following and it worked:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>template: \"template_toolkit\"\nengines:\n  template:\n    template_toolkit:\n      start_tag: '&lt;%'\n      end_tag:   '%&gt;'\n</code></pre>\n\n<p>I will try to use Auth::Extensible in the future as suggested.</p>\n"}], "owner": {"reputation": 156, "user_id": 5210560, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-rbG4G0GT2lc/AAAAAAAAAAI/AAAAAAAAASI/uUZuKeAykOc/photo.jpg?sz=128", "display_name": "Rony", "link": "https://stackoverflow.com/users/5210560/rony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439222837, "creation_date": 1439200527, "last_edit_date": 1439205492, "question_id": 31916550, "link": "https://stackoverflow.com/questions/31916550/if-session-logged-in-not-working-in-dancer2-main-tt", "title": "&lt;% IF SESSION.LOGGED_IN not working in dancer2 main.tt", "body": "<p>I am totally new to dancer perl. Have some experience in j2ee/dot net web development.\nBelow is my login subroutine and main.tt master template to display name and role of logged in user.</p>\n\n<p>subroutine:</p>\n\n<pre><code>post '/login' =&gt; sub {\n    my $err;\n    my $next_home;\n    my $full_name;\n    my $pwd;\n    my $role;\n    my $given_uid=params-&gt;{'username'};\n    my $given_pwd=params-&gt;{'password'};\n\n    my $db_con = DBI-&gt;connect('&lt;db_connection_string&gt;') \n        or die $DBI::errstr;\n    my $sql = \"&lt;qwery to fetch user details&gt;\";\n    my $rs = $db_con-&gt;prepare($sql) or die $db_con-&gt;errstr;\n    $rs-&gt;execute or die $rs-&gt;errstr;\n    my @row = $rs-&gt;fetchrow_array;\n\n    if ( $#row lt 1 ) {\n        $err=\"Invalid Username\";\n        $next_home=\"index.tt\";\n    }\n    else {\n        $full_name=$row[0];\n        $pwd=$row[1];\n        $role=$row[2];\n        if ( $given_pwd ne $pwd ) {\n            $err = \"Invalid Password\";\n            $next_home=\"index.tt\";\n        } \n        else {\n            session 'logged_in' =&gt; true;\n            $err = 'Logged in Successfully';\n            if ( $role eq 'DEVELOPER') {\n                $next_home=\"developer_home.tt\";\n            }\n            elsif ( $role eq 'ADMIN' ) {\n                $next_home=\"admin_home.tt\";\n            }\n            elsif ( $role eq 'DEPLOYER' ) {\n                $next_home=\"deployer_home.tt\";\n            }\n            elsif ( $role eq 'APPROVER' ) {\n                $next_home=\"approver_home.tt\";\n            }\n            else {\n                $err = \"Invalid Role\";\n                $next_home=\"index.tt\";\n            }       \n        }\n        session user_logged_in =&gt; $full_name;\n        session role_of_user_logged_in =&gt; $role;\n        template \"$next_home\" , {\n            'NAME' =&gt; $full_name,\n            'ROLE' =&gt; $role,\n        }\n    }\n};\n</code></pre>\n\n<p>main.tt:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n        \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n   &lt;head&gt;\n      &lt;meta http-equiv=\"Content-type\" content=\"text/html; charset=&lt;% settings.charset %&gt;\" /&gt;\n      &lt;title&gt;MYFIRSTDANCE2&lt;/title&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n      &lt;div id=\"banner\" style=\"min-width:100%; background-image:url(&lt;% request.uri_base %&gt;/images/header.jpg);\"&gt;\n         &lt;h1 style=\"color:white\"&gt;&lt;center&gt; -:DEPLOY EVERYTHING WITH EASE:- &lt;/center&gt;&lt;/h1&gt;\n         &lt;% IF session.logged_in %&gt; \n            &lt;h3&gt;Welcome &lt;% session.user_logged_in %&gt; ,&lt;/h3&gt;\n            &lt;h3&gt;Role: &lt;% session.role_of_user_logged_in %&gt;&lt;/h3&gt;\n         &lt;% END %&gt;\n         &lt;h3&gt;\n         &lt;hr&gt;\n         &lt;br&gt;\n      &lt;/div&gt;\n      &lt;div id=\"main\"&gt;\n         &lt;% content %&gt;\n      &lt;/div&gt;\n      &lt;div id=\"footer\"&gt;\n      &lt;/div&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I have 2 questions:</p>\n\n<ol>\n<li><p>IF session.logged_in is not working in main.tt . When I am not logged in then also it displays Welcome Blank Space, Role: Blank Space.</p></li>\n<li><p>How can I redirect to index.tt page when username/password is wrong. In current code, browser window goes blank if any of them is wrong.</p></li>\n</ol>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["linux", "perl", "daemon"], "answers": [{"comments": [{"owner": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "edited": false, "score": 0, "creation_date": 1439208925, "post_id": 31917855, "comment_id": 51751077, "body": "Unfortunately I can&#39;t use Proc::Daemon as I am unable to install it. (I&#39;m missing yum, makeMaker.pm as well as a lot of other things) is there anything else I could try?"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "edited": false, "score": 0, "creation_date": 1439211649, "post_id": 31917855, "comment_id": 51752961, "body": "Why don&#39;t you use CPAN? Also check this: <a href=\"http://stackoverflow.com/questions/14066907/installing-perl-dependency-automatically-in-perl/14067234#14067234\" title=\"installing perl dependency automatically in perl\">stackoverflow.com/questions/14066907/&hellip;</a>"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "edited": false, "score": 0, "creation_date": 1439211708, "post_id": 31917855, "comment_id": 51753017, "body": "Just install App::cpanminus using &quot;cpan App::cpanminus&quot; command on your temrinal. Then type &quot;cpanm Proc::Daemon&quot;."}, {"owner": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "edited": false, "score": 0, "creation_date": 1439215162, "post_id": 31917855, "comment_id": 51755591, "body": "CPAN is also missing I&#39;m afraid. I&#39;ll see if I can get it installed."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1439215277, "post_id": 31917855, "comment_id": 51755688, "body": "Re &quot;I can&#39;t use Proc::Daemon as I am unable to install it.&quot;, Sure you can. If you can install your script, you can install Daemon::Daemonize  or Proc::Daemon."}, {"owner": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "edited": false, "score": 0, "creation_date": 1439215637, "post_id": 31917855, "comment_id": 51755979, "body": "Making my script was simply putting an rc1 file into a folder, it&#39;s just a bash script with a list of commands. There was no install needed, unless you&#39;re referring to something else?"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "edited": false, "score": 0, "creation_date": 1439221755, "post_id": 31917855, "comment_id": 51760346, "body": "@Spellchamp: Please check the question I&#39;ve linked. <a href=\"http://stackoverflow.com/a/768448/257635\">Bklyn&#39;s answer</a> shows how to do it using core modules. That might help you as you&#39;re unable to install new modules."}, {"owner": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "edited": false, "score": 0, "creation_date": 1439282770, "post_id": 31917855, "comment_id": 51784958, "body": "So I implemented that daemonize sub, but it still isn&#39;t running after a reboot. It&#39;s like the daemon is starting no problem, but something is stopping it before the boot is finished. Thanks for your help so far."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1439284145, "post_id": 31917855, "comment_id": 51785756, "body": "If you wish to add a new service to start when the machine boots you should add the necessary script to the directory /etc/init.d/. Many of the scripts already present in that directory will give you an example of the kind of things that you can do."}, {"owner": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "edited": false, "score": 0, "creation_date": 1439290513, "post_id": 31917855, "comment_id": 51789799, "body": "So since switching from using daemonize, I can see the errors, and it seems that I was wrong, and that the script isn&#39;t running at all. Instead I get &quot;Can&#39;t locate strict.pm in @INC&quot; which I find odd, since the script runs fine when the machine has booted fully.  Also my linux version isn&#39;t in a persistent state, so using init.d is an issue for me."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1439204547, "last_edit_date": 1495541173, "creation_date": 1439204547, "answer_id": 31917855, "question_id": 31915173, "link": "https://stackoverflow.com/questions/31915173/daemonize-a-perl-script-at-startup-linux/31917855#31917855", "title": "Daemonize a perl script at startup Linux", "body": "<p><a href=\"http://search.cpan.org/~akreal/Proc-Daemon-0.21/lib/Proc/Daemon.pod\" rel=\"nofollow noreferrer\">Proc::Daemon</a> offers what you're looking for.</p>\n\n<p>See this previously asked question: <a href=\"https://stackoverflow.com/questions/766397/how-can-i-run-a-perl-script-as-a-system-daemon-in-linux\">How can I run a Perl script as a system daemon in linux?</a></p>\n"}, {"tags": [], "owner": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "is_accepted": true, "score": 1, "last_activity_date": 1439303501, "creation_date": 1439303501, "answer_id": 31944633, "question_id": 31915173, "link": "https://stackoverflow.com/questions/31915173/daemonize-a-perl-script-at-startup-linux/31944633#31944633", "title": "Daemonize a perl script at startup Linux", "body": "<p>The problem was that @INC hadn't fully loaded all of the modules by the time my script was called, and so my daemon wasn't running. I used the <code>PERL5LIB</code> command to add the appropriate directories.</p>\n\n<pre><code>PERL5LIB='/perl:/custom/lib:/usr/local/lib64/perl5' /var/myfolder/myscript.pl &amp;\n</code></pre>\n\n<p>where <code>/perl</code>; <code>/custom/lib</code> and <code>/usr/local/lib64/perl5</code> are the directories which were missing from @INC</p>\n"}], "owner": {"reputation": 245, "user_id": 4994092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b318a46e0d1b10a0f657ca43102eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Spellchamp", "link": "https://stackoverflow.com/users/4994092/spellchamp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 721, "favorite_count": 0, "accepted_answer_id": 31944633, "answer_count": 2, "score": 2, "last_activity_date": 1439303501, "creation_date": 1439196164, "question_id": 31915173, "link": "https://stackoverflow.com/questions/31915173/daemonize-a-perl-script-at-startup-linux", "title": "Daemonize a perl script at startup Linux", "body": "<p>I have a custom version of CENTOS that I need to run a perl script as a daemon in at all times.</p>\n\n<p>To do this I want to get it to run on startup as a daemon.</p>\n\n<p>When the machine is on I can daemonize the script with the command</p>\n\n<pre><code>daemonize /var/myfolder/myscript.pl\n</code></pre>\n\n<p>And this works fine.</p>\n\n<p>So I have an rc1 script which has a number of commands that run when the machine starts, and the very last line in it is where I try to daemonize that script. Everything else in the rc1 script runs fine, and the script doesn't output any errors, however when I check to see if the daemon is running on start up, it isn't running.</p>\n\n<p>Is there another way that I can get the script to run on startup? Or any ideas on why this method doesn't work?</p>\n"}, {"tags": ["oracle", "perl"], "answers": [{"tags": [], "owner": {"reputation": 777, "user_id": 5056665, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/865617340181010/picture?type=large", "display_name": "Maiko Kingma", "link": "https://stackoverflow.com/users/5056665/maiko-kingma"}, "is_accepted": false, "score": 1, "last_activity_date": 1439197942, "creation_date": 1439197942, "answer_id": 31915709, "question_id": 31915111, "link": "https://stackoverflow.com/questions/31915111/oracle-group-by-get-a-group-at-a-time/31915709#31915709", "title": "oracle group by get a group at a time", "body": "<p>This is not possible. Sql is used to get data from a database which sometimes has a specific order. Further analysis of the received data is done in the tool you use to show the data. This can be a programming language or another tool that can use sql to receive data.</p>\n"}, {"tags": [], "owner": {"reputation": 2713, "user_id": 3883800, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7031586ff6c41e07314cca9fafa94eb4?s=128&d=identicon&r=PG&f=1", "display_name": "Tharunkumar Reddy", "link": "https://stackoverflow.com/users/3883800/tharunkumar-reddy"}, "is_accepted": false, "score": 2, "last_activity_date": 1439199029, "last_edit_date": 1439199029, "creation_date": 1439197956, "answer_id": 31915713, "question_id": 31915111, "link": "https://stackoverflow.com/questions/31915111/oracle-group-by-get-a-group-at-a-time/31915713#31915713", "title": "oracle group by get a group at a time", "body": "<p>Hi i think you may not know the exact functionality of group by clause. Below i have posted few lines for your understanding.</p>\n\n<blockquote>\n  <p>The Oracle GROUP BY clause is used in a SELECT statement to collect\n  data across multiple records and group the results by one or more\n  columns.</p>\n</blockquote>\n\n<p><strong>Syntax:</strong></p>\n\n<pre><code>SELECT col1, col2, ... coln, \n       aggregate_function (column_name)\nFROM tables\nWHERE conditions\nGROUP BY col1, col2, ... coln;\n</code></pre>\n\n<p>The column_names what and all you mentioned in select clause you should also mention in after group by keyword. \nAs per above syntax and your Question The required output query is:</p>\n\n<pre><code>select fname,lastname,dob,addr,sex,sum(ssn) as ssn from data group by fname,lastname,dob,addr,sex  having count(dob) &gt; 1\n</code></pre>\n\n<p>For More <a href=\"http://www.dba-oracle.com/t_oracle_group_by_having.htm\" rel=\"nofollow\">http://www.dba-oracle.com/t_oracle_group_by_having.htm</a></p>\n"}, {"tags": [], "owner": {"reputation": 6009, "user_id": 4687355, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ObdEUI7mMYo/AAAAAAAAAAI/AAAAAAAAAgc/fwxal6_6cBA/photo.jpg?sz=128", "display_name": "Sentinel", "link": "https://stackoverflow.com/users/4687355/sentinel"}, "is_accepted": true, "score": 1, "last_activity_date": 1439247233, "creation_date": 1439247233, "answer_id": 31930469, "question_id": 31915111, "link": "https://stackoverflow.com/questions/31915111/oracle-group-by-get-a-group-at-a-time/31930469#31930469", "title": "oracle group by get a group at a time", "body": "<p>You can use the <a href=\"http://docs.oracle.com/cd/E11882_01/server.112/e41084/functions141.htm#SQLRF00690\" rel=\"nofollow\">RANK</a> or <a href=\"http://docs.oracle.com/cd/E11882_01/server.112/e41084/functions052.htm#SQLRF00633\" rel=\"nofollow\">DENSE_RANK</a> analytic functions to assign grouping ID's and order by that:</p>\n\n<pre><code>with t1 as (\n  select data.*, dense_rank() over (order by dob) grp from data\n)\nselect t1.* from t1 order by grp;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 2791657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8180151ca04eb40687876ba8a72a044c?s=128&d=identicon&r=PG&f=1", "display_name": "sanal pillai", "link": "https://stackoverflow.com/users/2791657/sanal-pillai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 31930469, "answer_count": 3, "score": -1, "last_activity_date": 1439247233, "creation_date": 1439195935, "last_edit_date": 1439198642, "question_id": 31915111, "link": "https://stackoverflow.com/questions/31915111/oracle-group-by-get-a-group-at-a-time", "title": "oracle group by get a group at a time", "body": "<p>My Data looks like this</p>\n\n<pre><code> 1. Fname    Lastname   DOB       ADDR   SEX   SSN \n 2. Sanal    Pillai    12/11/85   Pune   M     - \n 3. Sunil    Pillai    05/11/80   Pune   M     123456 \n 4. Anju     Pillai    12/11/85   Pune   F     345679 \n 5. Arachana Pillai    05/11/80   Pune   M  \n</code></pre>\n\n<p>-</p>\n\n<p>Now is I do a group by on DOB I would get the data arranged accordingly</p>\n\n<pre><code>select fname,lastname,dob,addr,sex,ssn from data group by dob(..rest of the columns..) having count(dob) &gt; 1\n</code></pre>\n\n<p>But what I would like to know is, is it possible to get a group at a time, ie</p>\n\n<pre><code> 1. Sanal    Pillai    12/11/85   Pune   M     -\n 2. Anju     Pillai    12/11/85   Pune   F     345679\n</code></pre>\n\n<p>and then the rest two rows</p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439194118, "post_id": 31914128, "comment_id": 51742089, "body": "What does the  <code>product()</code> function do?"}, {"owner": {"reputation": 1047, "user_id": 4237058, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0e1102b67c00ae039e410c7a784528ba?s=128&d=identicon&r=PG&f=1", "display_name": "Chaker", "link": "https://stackoverflow.com/users/4237058/chaker"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439194170, "post_id": 31914128, "comment_id": 51742121, "body": "@simbabque <a href=\"https://docs.python.org/2/library/itertools.html#itertools.product\" rel=\"nofollow noreferrer\">DOC</a>?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1047, "user_id": 4237058, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0e1102b67c00ae039e410c7a784528ba?s=128&d=identicon&r=PG&f=1", "display_name": "Chaker", "link": "https://stackoverflow.com/users/4237058/chaker"}, "edited": false, "score": 1, "creation_date": 1439194256, "post_id": 31914128, "comment_id": 51742166, "body": "@ChakerBenhamed Thank you. I&#39;m a perl guy. I don&#39;t know where to look for Python documentation. I think if OP is asking for help translating code it&#39;s useful to link to the documentation of the stuff they use."}, {"owner": {"reputation": 157, "user_id": 4248989, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e56af82d618469731eb1a2d76137a380?s=128&d=identicon&r=PG&f=1", "display_name": "dan j", "link": "https://stackoverflow.com/users/4248989/dan-j"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1439195024, "post_id": 31914128, "comment_id": 51742590, "body": "@simbabque yes sorry about not linking to the python module. I&#39;m not that bothered whether I have to use another implementation of the cartesian product in perl, though I presume that will still be the most efficient way of doing it. I simply need the same results that I get from the python code."}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 4248989, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e56af82d618469731eb1a2d76137a380?s=128&d=identicon&r=PG&f=1", "display_name": "dan j", "link": "https://stackoverflow.com/users/4248989/dan-j"}, "edited": false, "score": 0, "creation_date": 1439196722, "post_id": 31915125, "comment_id": 51743564, "body": "Thank you, and also great you could explain it so well."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 157, "user_id": 4248989, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e56af82d618469731eb1a2d76137a380?s=128&d=identicon&r=PG&f=1", "display_name": "dan j", "link": "https://stackoverflow.com/users/4248989/dan-j"}, "edited": false, "score": 0, "creation_date": 1439197013, "post_id": 31915125, "comment_id": 51743727, "body": "I wasn&#39;t done explaining. Had to run. Will continue now."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1439198130, "last_edit_date": 1439198130, "creation_date": 1439195986, "answer_id": 31915125, "question_id": 31914128, "link": "https://stackoverflow.com/questions/31914128/python-to-perl-itertools-product-to-replace-a-char-in-string-in-each-possible-p/31915125#31915125", "title": "Python to perl: itertools product to replace a char in string in each possible position", "body": "<p>With <a href=\"https://metacpan.org/pod/Math::Cartesian::Product\" rel=\"nofollow\">Math::Cartesian::Product</a> it's possible to almost exactly translate your code. You will find <code>zip</code> in <a href=\"https://metacpan.org/pod/List::MoreUtils#zip-ARRAY1-ARRAY2-ARRAY3\" rel=\"nofollow\">List::MoreUtils</a>. </p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\nuse Math::Cartesian::Product;\nuse List::MoreUtils 'zip';\n\nsub dashed_combos {\n  my @words = split / /, shift;\n  my @permutations;\n  foreach my $product ( cartesian { return @_  } ([ q{ }, q{-}]) x scalar @words - 1 ) {\n    push @permutations, join q{}, grep { defined } zip @words, @$product;\n  }\n  return @permutations;\n}\n\nsay for dashed_combos('convert perl to python' );\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>convert perl to python\nconvert perl to-python\nconvert perl-to python\nconvert perl-to-python\nconvert-perl to python\nconvert-perl to-python\nconvert-perl-to python\nconvert-perl-to-python\n</code></pre>\n\n<p>Let's take a look at what I did:</p>\n\n<ul>\n<li>Functions in Perl get their arguments <a href=\"http://perldoc.perl.org/perlvar.html#%40ARG\" rel=\"nofollow\">in the array <code>@_</code></a> (read: at-underscore). <a href=\"http://perldoc.perl.org/functions/shift.html\" rel=\"nofollow\"><code>shift</code>ing</a> that array yields the first argument. Because <code>shift</code> acts on <code>@_</code> implicitly you can ommit it.</li>\n<li>Perl's <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split</code></a> takes a regular expression as the delimiter to split on. We used <code>/ /</code>, which is a single space.</li>\n<li>The <code>cartesian</code> function exported by Math::Cartesian::Product takes a <code>BLOCK</code> and a bunch of array references. There is no comma after the <code>BLOCK</code>. That's shorthand for passing a code reference (lambda function).</li>\n<li><a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow\">q{} is a quote-like operator</a> that is identical to <code>''</code>, but the readability is better for stuff like a single space <code></code>.</li>\n<li>The <a href=\"http://perldoc.perl.org/perlop.html#Multiplicative-Operators\" rel=\"nofollow\"><code>x</code> operator</a>, when used on a list, repeats the list n times. The list we repeat has one element, the array reference with a space <code></code> and a dash <code>-</code> in it.</li>\n<li>Arrays in Perl will return the number of elements when forced into <code>scalar</code> context.</li>\n<li><code>zip</code> from List::MoreUtils fills the smaller list with <a href=\"http://perldoc.perl.org/perldata.html#Scalar-values\" rel=\"nofollow\"><code>undef</code></a> if the two arrays are not the same size. Since that will give warnings when <code>join</code>ed we need to <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow\"><code>grep</code></a> for only <a href=\"http://perldoc.perl.org/functions/defined.html\" rel=\"nofollow\"><code>defined</code></a> (which is not <code>undef</code>).</li>\n<li><code>@$product</code> is dereferencing an array reference to an array.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 157, "user_id": 4248989, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e56af82d618469731eb1a2d76137a380?s=128&d=identicon&r=PG&f=1", "display_name": "dan j", "link": "https://stackoverflow.com/users/4248989/dan-j"}, "edited": false, "score": 0, "creation_date": 1439197177, "post_id": 31915294, "comment_id": 51743838, "body": "Thank you too. Works perfectly."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 2, "last_activity_date": 1439198468, "last_edit_date": 1439198468, "creation_date": 1439196619, "answer_id": 31915294, "question_id": 31914128, "link": "https://stackoverflow.com/questions/31914128/python-to-perl-itertools-product-to-replace-a-char-in-string-in-each-possible-p/31915294#31915294", "title": "Python to perl: itertools product to replace a char in string in each possible position", "body": "<p>You could try <code>Algorithm::Combinatorics</code>:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse Algorithm::Combinatorics qw( variations_with_repetition );\nuse List::MoreUtils qw( zip );\n\nmy $input_string = join ' ', @ARGV;\nprint \"Input string is '$input_string'\\n\";\n\nmy $tokens = ' -';\nmy @parts = split /[$tokens]/, $input_string;\n\nprint \"My string parts are : \", join (', ', map { \"'$_'\" } @parts) . \"\\n\";\nmy @tokens_to_use = split //, $tokens;\n\nmy @combos = variations_with_repetition( \\@tokens_to_use, scalar @parts - 1 );\n\nfor my $combo (@combos) {\n    my $string_variety = join '', zip( @parts, @$combo );\n    print $string_variety . \"\\n\";\n}\n</code></pre>\n\n<p>Which outputs:</p>\n\n<pre><code>Input string is 'convert perl to-python'\nMy string parts are : 'convert', 'perl', 'to', 'python'\nconvert perl to python\nconvert perl to-python\nconvert perl-to python\nconvert perl-to-python\nconvert-perl to python\nconvert-perl to-python\nconvert-perl-to python\nconvert-perl-to-python\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 4248989, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e56af82d618469731eb1a2d76137a380?s=128&d=identicon&r=PG&f=1", "display_name": "dan j", "link": "https://stackoverflow.com/users/4248989/dan-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 31915125, "answer_count": 2, "score": 0, "last_activity_date": 1439198468, "creation_date": 1439192611, "last_edit_date": 1439194522, "question_id": 31914128, "link": "https://stackoverflow.com/questions/31914128/python-to-perl-itertools-product-to-replace-a-char-in-string-in-each-possible-p", "title": "Python to perl: itertools product to replace a char in string in each possible position", "body": "<p>The following python code enables me to take a string of words and replace spaces with hyphens in every possible combination:</p>\n\n<pre><code>from itertools import product\n\ndef dashed_combos(inputstring):\n    words = inputstring.split()\n    for combo in product(' -', repeat=len(words) - 1):\n        yield ''.join(w for pair in zip(words, combo + ('',)) for w in pair)\n</code></pre>\n\n<p>This will produce the following combinations from the string <code>convert perl to-python</code></p>\n\n<pre><code>'convert perl-to python'\n'convert-perl to python'\n'convert perl-to-python'\n'convert-perl-to python'\n'convert-perl-to-python'\n</code></pre>\n\n<p>I'm now trying to do exactly the same with perl. I've found a few modules that can produce the cartesian product (e.g. <a href=\"https://metacpan.org/pod/Math::Cartesian::Product\" rel=\"nofollow\" title=\"Math::Cartesian::Product\">Math::Cartesian::Product</a> and <a href=\"https://metacpan.org/pod/Algorithm::Loops#NestedLoops1\" rel=\"nofollow\" title=\"Nested Loops\">nested loops from Algorithm::Loops</a>), although not being that familiar with perl I've struggled to get these to work to do what had worked so well in python. If anyone would be so kind as to help me here that would be great, as I've spent quite a while trying now, but with little joy. </p>\n"}, {"tags": ["perl", "file"], "comments": [{"owner": {"reputation": 109, "user_id": 4846332, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50720660a60facd09b3b86f06cd1ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "Awanti", "link": "https://stackoverflow.com/users/4846332/awanti"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1439192768, "post_id": 31913997, "comment_id": 51741347, "body": "yeah but i can read whole file and write but it cant cant able to write the sections seperately"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1439213451, "post_id": 31913997, "comment_id": 51754335, "body": "This is a CGI script which seems to be using code that was already cargo-cult back in 1999. <code>&amp;myReadParse()</code> which seems to store CGI parameters in global variables likely contains more security holes than you can count. Just so you know, there are modules to do this kind of thing. See <a href=\"https://metacpan.org/pod/CGI\" rel=\"nofollow noreferrer\">CGI</a>, <a href=\"https://metacpan.org/pod/CGI::Simple\" rel=\"nofollow noreferrer\">CGI::Simple</a> etc. So, create a new <code>Config::Simple</code> object for each section, and save that."}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 4846332, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50720660a60facd09b3b86f06cd1ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "Awanti", "link": "https://stackoverflow.com/users/4846332/awanti"}, "edited": false, "score": 0, "creation_date": 1439211514, "post_id": 31919974, "comment_id": 51752879, "body": "is it possible to do in Config::simple because as of now i cant to some other module??"}, {"owner": {"reputation": 109, "user_id": 4846332, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50720660a60facd09b3b86f06cd1ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "Awanti", "link": "https://stackoverflow.com/users/4846332/awanti"}, "edited": false, "score": 0, "creation_date": 1439212778, "post_id": 31919974, "comment_id": 51753810, "body": "from the above code in my post i can able to store all sections with there parameters in one file..how can i store it for separate file for separate section??"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 109, "user_id": 4846332, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50720660a60facd09b3b86f06cd1ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "Awanti", "link": "https://stackoverflow.com/users/4846332/awanti"}, "edited": false, "score": 0, "creation_date": 1439213281, "post_id": 31919974, "comment_id": 51754210, "body": "Before you call $cfg-&gt;write in your code, you can iterate over the sections, and split them out into separate files, as is shown above."}, {"owner": {"reputation": 109, "user_id": 4846332, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50720660a60facd09b3b86f06cd1ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "Awanti", "link": "https://stackoverflow.com/users/4846332/awanti"}, "edited": false, "score": 0, "creation_date": 1439214053, "post_id": 31919974, "comment_id": 51754791, "body": "another favor if u dont mind...how can i store it in different path?? how can i change it i this code?? my $new_conf = lc($section) . &#39;.conf&#39;;"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 109, "user_id": 4846332, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50720660a60facd09b3b86f06cd1ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "Awanti", "link": "https://stackoverflow.com/users/4846332/awanti"}, "edited": false, "score": 0, "creation_date": 1439214613, "post_id": 31919974, "comment_id": 51755195, "body": "$new_conf = &#39;/some/other/place/&#39; . lc($section) . &#39;.conf&#39;;"}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 0, "last_activity_date": 1439212642, "last_edit_date": 1439212642, "creation_date": 1439210761, "answer_id": 31919974, "question_id": 31913997, "link": "https://stackoverflow.com/questions/31913997/file-reading-and-writing-it-to-another-file/31919974#31919974", "title": "File reading and writing it to another file", "body": "<p>Try using <code>Config::Tiny</code> instead:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse Config::Tiny;\nuse Storable qw( dclone );\n\nmy $conf = Config::Tiny-&gt;read('new.conf');\n\nfor my $section (sort keys %$conf) {\n\n    # Make a Deep Copy of the Config::Tiny object\n    my $copy = dclone($conf);\n\n    # Delete all the other sections\n    delete $copy-&gt;{$_} for (grep { $section ne $_ } keys %$conf);\n\n    # Write out section to new file\n    my $new_conf = lc($section) . '.conf';\n    $copy-&gt;write( $new_conf );\n\n}\n</code></pre>\n\n<p>Which produces:</p>\n\n<p><em>section1.conf</em></p>\n\n<pre><code>[Section1]\nparam1=value1\nparam2=value2\n</code></pre>\n\n<p><em>section2.conf</em></p>\n\n<pre><code>[Section2]\nparam1=value1\nparam2=value2\n</code></pre>\n\n<p><em>section3.conf</em></p>\n\n<pre><code>[Section3]\nparam1=value1\nparam2=value2\n</code></pre>\n\n<p>Here is another version using <code>Config::Simple</code>.  Here we need to go into the guts of the Config::Simple object, which is inelegant.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse Config::Simple;\nuse Storable qw( dclone );\n\nmy $conf = Config::Simple-&gt;import_from('new.conf');\nmy @sections = keys %{$conf-&gt;{_DATA}};\n\nfor my $section ( @sections ) {\n\n    # Make a Deep Copy of the Config::Simple object\n    my $copy = dclone($conf);\n\n    # Delete all the other sections\n    delete $copy-&gt;{_DATA}-&gt;{$_} for (grep { $section ne $_ } @sections);\n\n    # Write out section to new file\n    my $new_conf = lc($section) . '.conf';\n    $copy-&gt;write( $new_conf );\n\n}\n</code></pre>\n\n<p>Which produces section files like this:</p>\n\n<p><em>section1.conf</em></p>\n\n<pre><code>; Config::Simple 4.58\n; Mon Aug 10 21:13:43 2015\n\n[Section1]\nparam2=value2\nparam1=value1\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 4846332, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50720660a60facd09b3b86f06cd1ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "Awanti", "link": "https://stackoverflow.com/users/4846332/awanti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 31919974, "answer_count": 1, "score": -1, "last_activity_date": 1439212642, "creation_date": 1439192193, "last_edit_date": 1439211730, "question_id": 31913997, "link": "https://stackoverflow.com/questions/31913997/file-reading-and-writing-it-to-another-file", "title": "File reading and writing it to another file", "body": "<p>Hi i am trying to implement the configuration file using the <a href=\"https://metacpan.org/pod/Config::Simple\" rel=\"nofollow\"><code>Config::Simple</code></a>.\nAs i able to parse the input and write the parameters to the file.\nMy config file is </p>\n\n<p>new.conf</p>\n\n<pre><code>[Section1]\nparam1=value1\nparam2=value2\n\n[Section2]\nparam1=value1\nparam2=value2\n\n[Section3]\nparam1=value1\nparam2=value2\n</code></pre>\n\n<p>Further i want to make a seperate sectionwise file i.e. in the above case i want to create the 3 files(because there are 3 sections)\nIn the first file i would want some like this</p>\n\n<p>section1.conf</p>\n\n<pre><code>[Section1]\nparam1=value1\nparam2=value2\n</code></pre>\n\n<p>In the second file \nsection2.conf</p>\n\n<pre><code>[Section2]\nparam1=value1\nparam2=value2\n</code></pre>\n\n<p>..so on</p>\n\n<p>I guess first i want parse the particular sections and those respective parameter and then write it to the new file. Please correct me if i am \nthinking wrong.</p>\n\n<p>The files should be created dynamically because file structure may vary after every form submission. </p>\n\n<p>I am breaking my head to do this please suggest me how to do.</p>\n\n<p>My code:</p>\n\n<pre><code>use Config::Simple;\n$cfg = new Config::Simple(syntax=&gt;'ini');\nif($ENV{'REQUEST_METHOD'} eq 'POST')\n{\n    &amp;myReadParse(); \n    my $cfg = Config::Simple-&gt;import_from('new.conf', \\my %config) or die Config::Simple-&gt;error();      \n    my %write_config= %config;      \n    foreach my $config_var (sort keys %write_config) \n    {\n        foreach  my $form_var ( @form_input )\n        {\n            local ($key, $value) = split(/=/, $form_var );\n            $key =~ s/^\\s+|\\s+$//g; \n            $value =~ s/^\\s+|\\s+$//g;\n            if ($config_var eq $key) \n            {\n                $cfg-&gt;param($config_var, $value);\n            }                   \n        }       \n    }\n    $cfg-&gt;write(\"new.conf\");    \n}\n</code></pre>\n\n<p>Any help that will appreciated and thanks in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439209952, "post_id": 31913040, "comment_id": 51751762, "body": "See <a href=\"http://unix.stackexchange.com/questions/145230/converting-docx-files-to-plain-text-and-preserving-line-breaks-to-maintain-line\">Converting .docx files to plain text and preserving line breaks to maintain line number references to source document: howto &amp; implications?</a> and <a href=\"http://www.perlmonks.org/?node_id=1029093\" rel=\"nofollow noreferrer\">How can I read the .docx file in perl?</a>"}, {"owner": {"reputation": 502, "user_id": 758481, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/827785da9c6441403eeb00af424986c5?s=128&d=identicon&r=PG", "display_name": "Jassi", "link": "https://stackoverflow.com/users/758481/jassi"}, "edited": false, "score": 0, "creation_date": 1439276952, "post_id": 31913040, "comment_id": 51781596, "body": "I am using Linux and I am able to create a docx file but I am not able to read a docx file using available CPAN modules."}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1439210719, "post_id": 31914276, "comment_id": 51752279, "body": "Note: <code>Win32::OLE</code> can not be used on Linux."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1439211184, "post_id": 31914276, "comment_id": 51752628, "body": "Also tested <code>Text::Extract::Word</code> on Linux to read a <code>.docx</code> file, but got error <code>&quot;This does not seem to be a Word document, but it is pretending to be one&quot;</code>. Maybe this module cannot read <code>.docx</code>?"}, {"owner": {"reputation": 502, "user_id": 758481, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/827785da9c6441403eeb00af424986c5?s=128&d=identicon&r=PG", "display_name": "Jassi", "link": "https://stackoverflow.com/users/758481/jassi"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439276984, "post_id": 31914276, "comment_id": 51781617, "body": "@H&#229;konH&#230;gland agreed with your comments (y)"}], "tags": [], "owner": {"reputation": 157, "user_id": 4248989, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e56af82d618469731eb1a2d76137a380?s=128&d=identicon&r=PG&f=1", "display_name": "dan j", "link": "https://stackoverflow.com/users/4248989/dan-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1439193123, "last_edit_date": 1495540411, "creation_date": 1439193123, "answer_id": 31914276, "question_id": 31913040, "link": "https://stackoverflow.com/questions/31913040/how-to-read-content-from-a-ms-word-file-using-perl/31914276#31914276", "title": "How to read content from a MS Word file using Perl", "body": "<p>From a quick google I've found the following solutions:</p>\n\n<p><a href=\"http://www.wellho.net/solutions/perl-using-perl-to-read-microsoft-word-documents.html\" rel=\"nofollow noreferrer\">Using Win32 modules</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/15616132/how-do-i-read-data-from-ms-word-document-using-perl-module-in-linux-support\">Using Text::Extract::Word</a></p>\n"}], "owner": {"reputation": 502, "user_id": 758481, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/827785da9c6441403eeb00af424986c5?s=128&d=identicon&r=PG", "display_name": "Jassi", "link": "https://stackoverflow.com/users/758481/jassi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1671, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1439193123, "creation_date": 1439188655, "last_edit_date": 1439192776, "question_id": 31913040, "link": "https://stackoverflow.com/questions/31913040/how-to-read-content-from-a-ms-word-file-using-perl", "title": "How to read content from a MS Word file using Perl", "body": "<p>I have a scenario where I need to look for some heading title from 2 MS Word doc(x) files and need to update the third one (which is again a MS Word file).</p>\n\n<p>To create MS Word file CPAN modules are there, but is there any CPAN modules to read it and manipulate the content accordingly?</p>\n"}, {"tags": ["perl", "version-control", "clearcase"], "answers": [{"comments": [{"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "edited": false, "score": 0, "creation_date": 1439187717, "post_id": 31912679, "comment_id": 51738801, "body": "Thanks a lot for your quick answer. Well I could be in the view in order t access the folder and sub-folders, but because I am using a code and then will execute from there the mentioned command then the Perl could not recognize it as a ClearCase command!"}, {"owner": {"reputation": 1034879, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "reply_to_user": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "edited": false, "score": 0, "creation_date": 1439187853, "post_id": 31912679, "comment_id": 51738872, "body": "@Royeh what perl command are you using? What is the exact error message you see? What version of ClearCase are you using? What OS is your client? (and your ClearCase server?)"}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "edited": false, "score": 0, "creation_date": 1439198391, "post_id": 31912679, "comment_id": 51744529, "body": "I am using <code>system(&quot;cleartool co -c &quot;Reason for massive checkout&quot; ...&#47;*&quot;)</code>. I have this error:  <code>C:\\Test&gt;perl test.pm Bareword found where operator expected at test.pm line 12, near &quot;&quot;cleartool co -c &quot;Reason&quot;         (Missing operator before Reason?) syntax error at test.pm line 12, near &quot;&quot;cleartool co -c &quot;Reason &quot; Execution of test.pm aborted due to compilation errors.</code>  I am using ClearCase <code>Version: 8.0.1</code> on Windows 7."}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "edited": false, "score": 0, "creation_date": 1439198777, "post_id": 31912679, "comment_id": 51744787, "body": "Thanks! but I have still an error!   <code>cleartool: Error: Unable to access &quot;...&#47;*&quot;: Invalid argument.</code>"}, {"owner": {"reputation": 1034879, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "reply_to_user": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "edited": false, "score": 0, "creation_date": 1439198876, "post_id": 31912679, "comment_id": 51744852, "body": "@Royeh maybe the &#39;*&#39; is not correctly interpreted. As I mention in the linked answer, try the other approach <code>cleartool find somedir -type f -exec &quot;cleartool checkout -c \\&quot;Reason for massive checkout\\&quot; \\&quot;%CLEARCASE_PN%\\&quot;&quot;</code> (this is the Windows syntax, but you still haven&#39;t mention the version and OS, as I asked before)"}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "edited": false, "score": 0, "creation_date": 1439200856, "post_id": 31912679, "comment_id": 51745990, "body": "I am using <code>Win7 Enterprise 64-bit</code> OS and ClearCase <code>Version: 8.0.1</code>"}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "edited": false, "score": 0, "creation_date": 1439201903, "post_id": 31912679, "comment_id": 51746641, "body": "Thanks you so much! well, when I wrote the command   <code>cleartool find &quot;C:&#47;Test&quot; -type f -exec &quot;cleartool checkout -c \\&quot;Reason for massive checkout\\&quot; \\&quot;%CLEARCASE_PN%\\&quot;&quot; </code>   inside my script and run it I have this error:   <code>cleartool: Error: Unable to access &quot;%CLEARCASE_PN%&quot;: No such file or directory.</code>"}], "tags": [], "owner": {"reputation": 1034879, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "is_accepted": false, "score": 1, "last_activity_date": 1439216296, "last_edit_date": 1610973280, "creation_date": 1439187172, "answer_id": 31912679, "question_id": 31912609, "link": "https://stackoverflow.com/questions/31912609/clearcase-checkout-the-whole-folder-and-subfolders/31912679#31912679", "title": "Clearcase checkout the whole folder and subfolders", "body": "<p>As I describe in &quot;<a href=\"https://stackoverflow.com/a/119595/6309\">How do I perform a recursive checkout using ClearCase?</a>&quot;, you would still have to:</p>\n<ul>\n<li>execute cleartool command</li>\n<li>be in in the view in order to access the folder and sub-elements you want to checkout.</li>\n</ul>\n<hr />\n<pre><code> system(&quot;cleartool co -c &quot;Reason for massive checkout&quot; .../*&quot;)\n</code></pre>\n<p>This seems to use multiple level of double-quotes: the ones inside the command should be escaped:</p>\n<pre><code> system(&quot;cleartool co -c \\\\\\&quot;Reason for massive checkout\\\\\\&quot; .../*&quot;)\n</code></pre>\n<p><a href=\"https://chat.stackoverflow.com/rooms/86594/discussion-between-royeh-and-vonc\">After discussion</a>, this should also work:</p>\n<pre><code>system(&quot;cleartool find . -all -exec \\&quot;cleartool checkout -nc \\\\\\&quot;%CLEARCASE_PN%\\\\\\&quot;\\&quot;&quot;)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "is_accepted": true, "score": 0, "last_activity_date": 1440490417, "creation_date": 1440490417, "answer_id": 32198819, "question_id": 31912609, "link": "https://stackoverflow.com/questions/31912609/clearcase-checkout-the-whole-folder-and-subfolders/32198819#32198819", "title": "Clearcase checkout the whole folder and subfolders", "body": "<p>I found very simple way which is more applied for me. Because I notice that the above answer is checking out <strong>the whole folders and sub-folders which are in the current drive</strong> while I need to check out <strong>only the current folder and it sub-folders</strong>. Then, here is what I found very helpful:</p>\n\n<p>for checking out:</p>\n\n<pre><code>system 'cleartool find . -version \"version(\\main\\LATEST)\" -exec \"cleartool co -nc \"%CLEARCASE_PN%\"';\n</code></pre>\n\n<p>and for checking in:</p>\n\n<pre><code>system 'cleartool find . -version \"version(\\main\\LATEST)\" -exec \"cleartool ci -nc \\\"%CLEARCASE_PN%\\\"\"';\n</code></pre>\n"}], "owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 1, "accepted_answer_id": 32198819, "answer_count": 2, "score": 1, "last_activity_date": 1440490417, "creation_date": 1439186803, "last_edit_date": 1495541278, "question_id": 31912609, "link": "https://stackoverflow.com/questions/31912609/clearcase-checkout-the-whole-folder-and-subfolders", "title": "Clearcase checkout the whole folder and subfolders", "body": "<p>I am new to Clearcase and wanted to know is there any way to checkout the whole folder and sub-folders from Clearcase using command line without entering to the Clearcaese environment. I mean in <a href=\"https://stackoverflow.com/questions/33577/how-do-i-perform-a-recursive-checkout-using-clearcase\">this</a> question one has to enter Clearcase environment and then type:</p>\n\n<pre><code>co -c \"Reason for massive checkout\" .../*\n</code></pre>\n\n<p>But I want to find out a way that works in a script or code in Perl for example.</p>\n"}, {"tags": ["regex", "perl", "text", "awk", "sed"], "comments": [{"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 1, "creation_date": 1439160198, "post_id": 31909531, "comment_id": 51732912, "body": "I&#39;m not sure sed is your tool of choice here."}, {"owner": {"reputation": 2022, "user_id": 1236128, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DxsJR.png?s=128&g=1", "display_name": "Jonathan Komar", "link": "https://stackoverflow.com/users/1236128/jonathan-komar"}, "reply_to_user": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1439160410, "post_id": 31909531, "comment_id": 51732960, "body": "@MarcusM&#252;ller\ua57a\ua57a Noted."}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1439160502, "post_id": 31909531, "comment_id": 51732976, "body": "Why don&#39;t you parse your post-latex .toc file?"}, {"owner": {"reputation": 2022, "user_id": 1236128, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DxsJR.png?s=128&g=1", "display_name": "Jonathan Komar", "link": "https://stackoverflow.com/users/1236128/jonathan-komar"}, "reply_to_user": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1439161639, "post_id": 31909531, "comment_id": 51733181, "body": "@MarcusM&#252;ller\ua57a\ua57a I appreciate your enthusiasm and quick replies. I do not see how parsing my <code>.toc</code> file relates to the question, however."}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1439222013, "post_id": 31909531, "comment_id": 51760519, "body": "much much simpler to parse, imho, as a simplification; I&#39;m not convinced that&#39;ll help you, on a second read; I read <i>how to ensure</i> as <i>how do I test</i>, but you probably want <i>how do I automatically fix</i>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439328775, "post_id": 31909531, "comment_id": 51814003, "body": "See the Perl module <a href=\"https://metacpan.org/pod/Lingua::EN::Titlecase\" rel=\"nofollow noreferrer\"><code>Lingua::EN::Titlecase</code></a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439331077, "post_id": 31909531, "comment_id": 51814998, "body": "How do you want to handle the second line : <code>\\subsection{another heading for \\myformatting{special}}</code>? Like this: <code>\\subsection{Another Heading for \\myformatting{Special}}</code>?"}, {"owner": {"reputation": 2022, "user_id": 1236128, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DxsJR.png?s=128&g=1", "display_name": "Jonathan Komar", "link": "https://stackoverflow.com/users/1236128/jonathan-komar"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439359409, "post_id": 31909531, "comment_id": 51822766, "body": "@H&#229;konH&#230;gland Yes, exactly! It would be nice to be able to toggle that, but I can&#39;t ask for too much at once :)  (And doing this in Perl would be soooo awesome! Although I am just getting started with Perl, I&#39;ve read several times that it is like <code>sed</code> and <code>awk</code> on steroids.)"}], "answers": [{"comments": [{"owner": {"reputation": 2022, "user_id": 1236128, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DxsJR.png?s=128&g=1", "display_name": "Jonathan Komar", "link": "https://stackoverflow.com/users/1236128/jonathan-komar"}, "edited": false, "score": 0, "creation_date": 1439189919, "post_id": 31910416, "comment_id": 51739881, "body": "Wow, thanks for the time and effort. It will take me some time to understanding all of the steps.  I am not sure I understand line 45 (currently the <code>1</code> as of writing this comment) or the <code>BEGIN {</code> function."}, {"owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "reply_to_user": {"reputation": 2022, "user_id": 1236128, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DxsJR.png?s=128&g=1", "display_name": "Jonathan Komar", "link": "https://stackoverflow.com/users/1236128/jonathan-komar"}, "edited": false, "score": 1, "creation_date": 1439191139, "post_id": 31910416, "comment_id": 51740436, "body": "No worries, I had most of this written for something else I was doing, I just needed to adapt it to your word list. :) As for your question, Awk uses constructs of <code>condition { statement; ... }</code>.  If no condition is provided, <code>true</code> is assumed. If no statement is provided, <code>{ print; }</code> is assumed.  A <code>1</code> evaluates as <code>true</code> for awk, so a 1 by itself on the line basically means &quot;print every line&quot;. Of course, it only gets run if the <i>previous</i> condition failed to match, as its last statement is <code>next;</code>."}, {"owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "reply_to_user": {"reputation": 2022, "user_id": 1236128, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DxsJR.png?s=128&g=1", "display_name": "Jonathan Komar", "link": "https://stackoverflow.com/users/1236128/jonathan-komar"}, "edited": false, "score": 1, "creation_date": 1439191215, "post_id": 31910416, "comment_id": 51740480, "body": "And the BEGIN block contains statements that are run prior to any input lines being matched.  It gets used to set up variables that will be needed throughout the rest of the script.  You can <code>man awk</code> (or ask Google) for additional documentation about how awk works."}], "tags": [], "owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "is_accepted": true, "score": 2, "last_activity_date": 1439169620, "creation_date": 1439169620, "answer_id": 31910416, "question_id": 31909531, "link": "https://stackoverflow.com/questions/31909531/how-can-i-use-regex-with-sed-or-equivalent-unix-command-line-tool-to-fix-title/31910416#31910416", "title": "How can I use regex with sed (or equivalent unix command line tool) to fix title case in LaTeX headings?", "body": "<p>So it seems to me as if you need to implement pseudo-code like this:</p>\n\n<ol>\n<li>Are we on the first word?  If yes, capitalize it and move on.</li>\n<li>Is the current word \"reserved\"?  If yes, lower it and move on.</li>\n<li>Is the current word a numeral?  If yes, lower it and move on.</li>\n<li>Are we still in the list?  If yes, print the line verbatim and move on.</li>\n</ol>\n\n<p>One other helpful rule might be to leave fully upper-case words as they are, just in case they're acronyms.</p>\n\n<p>The following awk script might do what you need.</p>\n\n<pre><code>#!/usr/bin/awk -f\n\nfunction toformal(subject) {\n  return toupper(substr(subject,1,1)) tolower(substr(subject,2))\n}\n\nBEGIN {\n  # Reserved word list gets split into an array for easy matching.\n  reserved=\"at by for in of on to up and as but if or nor\";\n  split(reserved,a_reserved,\" \"); for(i in a_reserved) r[a_reserved[i]]=1;\n  # Same with the list of compound numerals. If this isn't what you mean, say so.\n  numerals=\"hundred thousand million billion\";\n  split(numerals,a_numerals,\" \"); for(i in a_numerals) n[a_numerals[i]]=1;\n}\n\n# This awk condition matches the lines we're interested in modifying.\n/^\\\\(section|subsection|subsubsection|paragraph)[{]/ {\n\n  # Separate the particular section and the text, then split text to an array.\n  section=$0; sub(/\\\\/,\"\",section); sub(/[{].*/,\"\",section);\n  text=$0; sub(/^[^{]*[{]/,\"\",text); sub(/[}].*/,\"\",text);\n  size=split(text,atext,/[[:space:]]/);\n\n  # First word...\n  newtext=toformal(atext[1]);\n\n  for(i=2; i&lt;=size; i++) {\n    # Reserved word...\n    if (r[tolower(atext[i])]) { newtext=newtext \" \" atext[i]; continue; }\n    # Compound numerals...\n    if (n[tolower(atext[i])]) { newtext=newtext \" \" tolower(atext[i]); continue; }\n#    # Acronyms maybe...\n#    if (atext[i] == toupper(atext[i])) { newtext=newtext \" \" atext[i]; continue; }\n    # Everything else...\n    newtext=newtext \" \" toformal(atext[i]);\n  }\n\n  print newtext;\n  next;\n\n}\n\n# Print the line if we get this far. This is a non-condition with\n# a print-only statement.\n1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1439370676, "creation_date": 1439370676, "answer_id": 31960771, "question_id": 31909531, "link": "https://stackoverflow.com/questions/31909531/how-can-i-use-regex-with-sed-or-equivalent-unix-command-line-tool-to-fix-title/31960771#31960771", "title": "How can I use regex with sed (or equivalent unix command line tool) to fix title case in LaTeX headings?", "body": "<p>Here is an example of how you could do it in Perl using the module <a href=\"https://metacpan.org/pod/Lingua::EN::Titlecase\" rel=\"nofollow\"><code>Lingua::EN::Titlecase</code></a> and <a href=\"http://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow\">recursive regular expressions</a> :</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Lingua::EN::Titlecase;\n\nmy $tc = Lingua::EN::Titlecase-&gt;new();\nmy $data = do {local $/; &lt;&gt; };\n\nmy ($kw_regex) = map { qr/$_/ }\n  join '|', qw(section subsection subsubsection paragraph);\n$data =~ s/(\\\\(?: $kw_regex))(\\{(?:[^{}]++|(?2))*\\})/title_case($tc,$1,$2)/gex;\nprint $data;\n\nsub title_case {\n    my ($tc, $p1, $p2) = @_;\n\n    $p2 =~ s/^\\{//;\n    $p2 =~ s/\\}$//;\n    if ($p2 =~ /\\\\/ ) {\n        while ($p2 =~ /\\G(.*?)(\\\\.*?)(\\{(?:[^{}]++|(?3))*\\})/ ) {\n            my $next_pos = $+[0];\n            substr($p2, $-[1], $+[1] -$-[1], $tc-&gt;title($1));\n            substr($p2, $-[3], $+[3] -$-[3], title_case($tc,'',$3));\n            pos($p2) = $next_pos;\n        }\n        $p2 =~ s/\\G(.+)$/$tc-&gt;title($1)/e;\n    }\n    else {\n        $p2 = $tc-&gt;title($p2);\n    }\n    return $p1 . '{' . $p2 . '}';\n}\n</code></pre>\n"}], "owner": {"reputation": 2022, "user_id": 1236128, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DxsJR.png?s=128&g=1", "display_name": "Jonathan Komar", "link": "https://stackoverflow.com/users/1236128/jonathan-komar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 31910416, "answer_count": 2, "score": 2, "last_activity_date": 1439370676, "creation_date": 1439159983, "last_edit_date": 1495541376, "question_id": 31909531, "link": "https://stackoverflow.com/questions/31909531/how-can-i-use-regex-with-sed-or-equivalent-unix-command-line-tool-to-fix-title", "title": "How can I use regex with sed (or equivalent unix command line tool) to fix title case in LaTeX headings?", "body": "<h1>regular expression attempt</h1>\n\n<pre><code>(\\\\section\\{|\\\\subsection\\{|\\\\subsubsection\\{|\\\\paragraph[^{]*\\{)(\\w)\\w*([ |\\}]*)\n</code></pre>\n\n<h1>search text</h1>\n\n<pre><code>\\section{intro to installation of apps}\n\\subsection{another heading for \\myformatting{special}}\n\\subsubsection{good morning, San Francisco}\n\\paragraph{installation of backend services}\n</code></pre>\n\n<h1>desired output</h1>\n\n<p>All initial characters are capitalized except prepositions, conjunctions, and the usual parts of speech that are made upper case on titles.</p>\n\n<p>I supposed I should really narrow this down, so let me borrow from the <a href=\"http://www.gpo.gov/fdsys/pkg/GPO-STYLEMANUAL-2008/pdf/GPO-STYLEMANUAL-2008.pdf\" rel=\"nofollow noreferrer\">U.S. Government Printing Office Style Manual</a>:</p>\n\n<blockquote>\n  <p>The articles a, an, and the; the prepositions at, by, for, in, of, on, to, and up; the conjunctions and, as, but, if, or, and nor; and the second element of a compound numeral are not capitalized.</p>\n</blockquote>\n\n<p><em>Page 41</em></p>\n\n<p><code>\\subsection{Installation guide for the server-side app \\myapp{webgen}}</code></p>\n\n<p>changes to</p>\n\n<p><code>\\subsection{Installation Guide for the Server-side App \\myapp{Webgen}}</code></p>\n\n<p>OR</p>\n\n<p><code>\\subsection{Installation Guide for the Server-side App \\myapp{webgen}}</code></p>\n\n<p>How would you name this type of string modification? </p>\n\n<ol>\n<li><p>Applying REGEX to a string between strings?  </p></li>\n<li><p>Applying REGEX to a part of a string when that part falls between two other strings of characters? </p></li>\n<li><p>Applying REGEX to a substring that occurs between two\nother substrings within a string?</p></li>\n<li><p>&lt;<em>something else</em>></p></li>\n</ol>\n\n<h1>problem</h1>\n\n<p>I match each latex heading command, including the {. This means that my expresion does not match more than the first word in the actually heading text. I cannot surround the whole heading code with an \"OR space\" because then I will find nearly every word in the document. Also, I have to be careful of formatting commands within the headings themselves.</p>\n\n<h1>other helpful related questions</h1>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1538676/uppercasing-first-letter-of-words-using-sed\">Uppercasing First Letter of Words Using SED</a></li>\n<li><a href=\"https://superuser.com/questions/749164/how-to-use-regex-to-capitalise-the-first-letter-of-each-word-in-a-sentence\">https://superuser.com/questions/749164/how-to-use-regex-to-capitalise-the-first-letter-of-each-word-in-a-sentence</a></li>\n<li><a href=\"https://stackoverflow.com/questions/25962929/using-sed-to-capitalize-the-first-letter-of-each-word\">Using Sed to capitalize the first letter of each word</a></li>\n<li><a href=\"https://stackoverflow.com/questions/17440659/capitalize-first-letter-of-each-word-in-a-selection-using-vim\">Capitalize first letter of each word in a selection using vim</a></li>\n</ul>\n"}, {"tags": ["perl", "sorting"], "answers": [{"comments": [{"owner": {"reputation": 527, "user_id": 2561579, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bbbe41b11b947fed6fe1e10a366a01e4?s=128&d=identicon&r=PG", "display_name": "EarthIsHome", "link": "https://stackoverflow.com/users/2561579/earthishome"}, "edited": false, "score": 0, "creation_date": 1439160392, "post_id": 31909253, "comment_id": 51732958, "body": "Thanks for linking the algorithm! I can use this idiom for other strings, not just this use case :P"}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 2, "creation_date": 1439164661, "post_id": 31909253, "comment_id": 51733758, "body": "The only thing I would change is to swap out the comparatively expensive regex capture with a split instead: <code>map  { [ $_, (split &#39;,&#39;)[1] ] }</code>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1439172910, "post_id": 31909253, "comment_id": 51735243, "body": "I prefer to always use // around the split RE, just to show that it is a regular expression, not just a string (e.g. split &#39;|&#39; does not split on pipes) (the special <code>split &#39; &#39;</code> being an exception)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1439245503, "post_id": 31909253, "comment_id": 51772255, "body": "@ysth: It also helps to contrast <code>&#47; &#47;</code> and <code>&#39; &#39;</code> as the <i>PATTERN</i> parameter, which behave very differently"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1439247616, "post_id": 31909253, "comment_id": 51772892, "body": "careful when doing split/joins; split by default discards trailing fields, so your code will turn &quot;1, 2, &quot; into just &quot;1, 2&quot;; if you are going to want the original string, it is often better to just keep it around."}], "tags": [], "owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "is_accepted": true, "score": 6, "last_activity_date": 1439176097, "last_edit_date": 1439176097, "creation_date": 1439157673, "answer_id": 31909253, "question_id": 31909163, "link": "https://stackoverflow.com/questions/31909163/perl-sort-array-by-pattern-match/31909253#31909253", "title": "Perl sort array by pattern match", "body": "<p>Looks like you could use a <a href=\"https://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"nofollow\">Schwartzian transform</a>.  You had the right idea:</p>\n\n<pre><code>my @coords;\n$coords[1] = \"33.7683870, -84.3559850\";\n$coords[2] = \"33.7687753, -84.3541355\";\n$coords[0] = \"33.7645539, -84.3585973\";\n\nmy @sorted_coords = map  { $_-&gt;[0] }              # 3. extract the first element\n                    sort { $b-&gt;[1] &lt;=&gt; $a-&gt;[1] }  # 2. sort on the second\n                                                  #    element, descending\n                    map  { [ $_, /,\\s*(\\S+)$/ ] } # 1. create list of array refs\n                    @coords;\n\nforeach my $coord (@sorted_coords) {\n    print \"$coord\\n\";\n}\n</code></pre>\n\n<p>Edit: Adding Joshua's suggestion:</p>\n\n<pre><code>my @sorted_coords = map  { join ', ', @$_ }\n                    sort { $b-&gt;[1] &lt;=&gt; $a-&gt;[1] }  \n                    map  { [ split /, / ] }\n                    @coords;\n</code></pre>\n\n<p>It seems easier to look at and more descriptive than my original example.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 7, "last_activity_date": 1439242303, "last_edit_date": 1439242303, "creation_date": 1439165121, "answer_id": 31910021, "question_id": 31909163, "link": "https://stackoverflow.com/questions/31909163/perl-sort-array-by-pattern-match/31910021#31910021", "title": "Perl sort array by pattern match", "body": "<p>It is easy to submit to the temptation to use a fancy implementation instead of something straightforward and clear. Unless the data set is huge, the speed advantage of using a transform is negligible, and comes at the cost of much reduced legibility</p>\n\n<p>A standard sort block is all that's necessary here</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nmy @coords = (\n    \"33.7645539, -84.3585973\",\n    \"33.7683870, -84.3559850\",\n    \"33.7687753, -84.3541355\",\n);\n\nmy @sorted_coords = sort {\n    my ($aa, $bb) = map { (split)[1] } $a, $b;\n    $bb &lt;=&gt; $aa;\n} @coords;\n\n\nprint \"$_\\n\" for @sorted_coords;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>33.7687753, -84.3541355\n33.7683870, -84.3559850\n33.7645539, -84.3585973\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>If you prefer, the second field may be extracted from the input records using a regex instead. Replacing the <code>map</code> statement with something like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my ($aa, $bb) = map /.*(\\S+)/, $a, $b;\n</code></pre>\n\n<p>will work fine</p>\n"}], "owner": {"reputation": 527, "user_id": 2561579, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bbbe41b11b947fed6fe1e10a366a01e4?s=128&d=identicon&r=PG", "display_name": "EarthIsHome", "link": "https://stackoverflow.com/users/2561579/earthishome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 811, "favorite_count": 1, "accepted_answer_id": 31909253, "answer_count": 2, "score": 3, "last_activity_date": 1439242303, "creation_date": 1439156997, "question_id": 31909163, "link": "https://stackoverflow.com/questions/31909163/perl-sort-array-by-pattern-match", "title": "Perl sort array by pattern match", "body": "<p>I would like to sort this array based on the value after the comma</p>\n\n<pre><code>my @coords;\n$coords[0] = \"33.7645539, -84.3585973\";\n$coords[1] = \"33.7683870, -84.3559850\";\n$coords[2] = \"33.7687753, -84.3541355\";\n\nforeach my $coord (@sorted_coords) {\n    print \"$coord\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>33.7687753, -84.3541355\n33.7683870, -84.3559850\n33.7645539, -84.3585973\n</code></pre>\n\n<p>I've thought about using map, grep, and capture groups as the list input for <code>sort</code>, but I haven't gotten very far:</p>\n\n<p><code>my @sorted_coords = sort { $a &lt;=&gt; $b } map {$_ =~ /, (-*\\d+\\.\\d+)/} @unique_coords;</code></p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 55773, "user_id": 761202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ed58e42118df51f78d7cecbce3a67c1?s=128&d=identicon&r=PG", "display_name": "AD7six", "link": "https://stackoverflow.com/users/761202/ad7six"}, "edited": false, "score": 0, "creation_date": 1439156811, "post_id": 31909089, "comment_id": 51732134, "body": "In the second example, how are you determining what&#39;s nested?"}, {"owner": {"reputation": 10894, "user_id": 3150271, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/EXijl.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/3150271/anonymous"}, "edited": false, "score": 2, "creation_date": 1439157074, "post_id": 31909089, "comment_id": 51732202, "body": "You should include what you tried so far and explain why it didn&#39;t work."}, {"owner": {"reputation": 965, "user_id": 64319, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6b401fe54e5e06cef2707b36829c2bd8?s=128&d=identicon&r=PG", "display_name": "accelerate", "link": "https://stackoverflow.com/users/64319/accelerate"}, "edited": false, "score": 0, "creation_date": 1439157110, "post_id": 31909089, "comment_id": 51732210, "body": "Basically, anytime you see an <code>AAA</code> before a prior <code>AAA</code> has had a matching <code>ZZZ</code>, I consider it nested."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1439160630, "post_id": 31909089, "comment_id": 51732998, "body": "You can use a recursive regex like <code>&#47;(AAA(?: ( (?:[^Z])++ | (?:Z(?!ZZ)(?2)) | (?:ZZ(?!Z)(?2))) | (?1) )*ZZZ)*&#47;xg</code> but it would need some post processing of the returned capture groups to get your desired result.."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": true, "score": 4, "last_activity_date": 1439222370, "last_edit_date": 1439222370, "creation_date": 1439161789, "answer_id": 31909706, "question_id": 31909089, "link": "https://stackoverflow.com/questions/31909089/perl-regexp-matching-only-outermost-expression/31909706#31909706", "title": "Perl RegExp matching only outermost expression", "body": "<p>Here is an example of recursive parsing. In this case, you are only interested<br>\nin level 1 content.  </p>\n\n<p>**<em>Added example segment that parses all core's or single level core's (speeds things up).</em>  </p>\n\n<pre><code> # (?s)(?:((?&amp;content))|AAA((?&amp;core)|)ZZZ|((?:AAA|ZZZ)))(?(DEFINE)(?&lt;core&gt;(?&gt;(?&amp;content)|AAA(?:(?=.)(?&amp;core)|)ZZZ)+)(?&lt;content&gt;(?&gt;(?!(?:AAA|ZZZ)).)+))\n\n # //////////////////////////////////////////////////////\n # // The General Guide to 3-Part Recursive Parsing\n # // ----------------------------------------------\n # // Part 1. CONTENT\n # // Part 2. CORE\n # // Part 3. ERRORS\n\n (?s)\n\n (?:\n      (                                  # (1), Take off CONTENT\n           (?&amp;content) \n      )\n   |                                   # OR\n      AAA                                # Start-Delimiter\n      (                                  # (2), Take off The CORE\n           (?&amp;core) \n        |  \n      )\n      ZZZ                                # End-Delimiter\n\n   |                                   # OR\n      (                                  # (3), Take off Unbalanced (delimeter) ERRORS\n           (?: AAA | ZZZ )\n      )\n )\n\n # ///////////////////////\n # // Subroutines\n # // ---------------\n\n (?(DEFINE)\n\n      # core\n      (?&lt;core&gt;\n           (?&gt;\n                (?&amp;content) \n             |  \n                AAA \n                # recurse core\n                (?:\n                     (?= . )\n                     (?&amp;core) \n                  |  \n                )\n                ZZZ\n           )+\n      )\n\n      # content \n      (?&lt;content&gt;\n           (?&gt;\n                (?!\n                     (?: AAA | ZZZ )\n                )\n                . \n           )+\n      )\n\n )\n</code></pre>\n\n<p>Perl code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n$/ = undef;\nmy $content = &lt;DATA&gt;;\n\n# Set the error mode on/off here ..\nmy $BailOnError = 1;\nmy $IsError = 0;\n\nmy @vals = ();\nmy $level = 0;\n\nParseCore( $content );\n\nprint \"\\n@vals\";\nexit;\n\nsub ParseCore\n{\n    my ($core) = @_;\n    while ( $core =~ /(?s)(?:((?&amp;content))|AAA((?&amp;core)|)ZZZ|((?:AAA|ZZZ)))(?(DEFINE)(?&lt;core&gt;(?&gt;(?&amp;content)|AAA(?:(?=.)(?&amp;core)|)ZZZ)+)(?&lt;content&gt;(?&gt;(?!(?:AAA|ZZZ)).)+))/g )\n    {\n       if (defined $1)\n       {\n         # CONTENT\n           if ( $level == 1 ) {\n               push @vals, $1;\n           }\n       }\n       elsif (defined $2)\n       {\n         # CORE\n           my $k = $2;\n\n           # To parse all core's:\n           # -----------------------\n           # ++$level;\n           # ParseCore( $k );\n           # --$level;\n\n           # To parse just level 1 core's:\n           # ----------------------------------\n           if ( $level == 0 ) {\n              ++$level;\n              ParseCore( $k );\n              --$level;\n           }\n\n           if ( $BailOnError &amp;&amp; $IsError ) {\n               last;\n           }\n       }\n       else\n       {\n         # ERRORS\n           print \"Unbalanced '$3' at position = \", $-[0];\n           $IsError = 1;\n\n           # Decide to continue here ..\n           # If BailOnError is set, just unwind recursion. \n           # -------------------------------------------------\n           if ( $BailOnError ) {\n              last;\n           }\n       }\n    }\n}\n\n#================================================\n__DATA__\n\n000 AAA 111 ZZZ AAA 222 AAA 333 ZZZ ZZZ 444\nAAA 1 AAA 2 AAA 3 AAA 4 ZZZ ZZZ ZZZ ZZZ\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>111   222     1\n</code></pre>\n"}], "owner": {"reputation": 965, "user_id": 64319, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6b401fe54e5e06cef2707b36829c2bd8?s=128&d=identicon&r=PG", "display_name": "accelerate", "link": "https://stackoverflow.com/users/64319/accelerate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 1, "accepted_answer_id": 31909706, "answer_count": 1, "score": 1, "last_activity_date": 1439222370, "creation_date": 1439156303, "question_id": 31909089, "link": "https://stackoverflow.com/questions/31909089/perl-regexp-matching-only-outermost-expression", "title": "Perl RegExp matching only outermost expression", "body": "<p>Here's a simplified example of a string I want to parse:</p>\n\n<pre><code>$my_string = \"000 AAA 111 ZZZ AAA 222 AAA 333 ZZZ ZZZ 444\"\n</code></pre>\n\n<p>I want to retrieve what's in between <code>AAA</code> &amp; <code>ZZZ</code>, BUT I want to ignore what's in a nested <code>AAA</code>/<code>ZZZ</code>. So in the above example, I want <code>111</code> and <code>222</code> (they're numbers in this example, but they can be anything alphanumeric with the exception of <code>AAA</code> or <code>ZZZ</code>), but I'd ignore <code>333</code> because it's within a nested <code>AAA</code>/<code>ZZZ</code>. And there could be any number of nested <code>AAA</code>/<code>ZZZ</code>. Example:</p>\n\n<pre><code>$my_string2 = \"AAA 1 AAA 2 AAA 3 AAA 4 ZZZ ZZZ ZZZ ZZZ\"\n</code></pre>\n\n<p>In this second example, I would want only <code>1</code>.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439151643, "post_id": 31908440, "comment_id": 51730773, "body": "The first <code>while</code> loop seems to never run, since <code>$i = 0</code> it cannot be greater than 50"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439152093, "post_id": 31908440, "comment_id": 51730913, "body": "What is the purpose of the part of the regex <code>(```){1}</code> ? Why not just use ``` ? and <code>@code_bock_values[$i]</code> should be surrounded be parenthesis in order to capture any capture group"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439152745, "post_id": 31908440, "comment_id": 51731087, "body": "Sorry I missed the <code>@</code> sign in front of <code>@code_bock_values[$i]</code>.. maybe that is a typo? It seems more reasonable that is shold be a <code>$</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1439154085, "post_id": 31908440, "comment_id": 51731392, "body": "What system are you working on?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1439157669, "post_id": 31908440, "comment_id": 51732369, "body": "None of this works or even runs without errors (use strict; use warnings;). From the face of it looks like you are just trying to strip out the delimiters ``` Show your input and expected output, or add more examples of what you are trying to do."}, {"owner": {"reputation": 23, "user_id": 5208973, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rBBLJ0I249g/AAAAAAAAAAI/AAAAAAAAACY/1CR-UcD7_yE/photo.jpg?sz=128", "display_name": "David Thien", "link": "https://stackoverflow.com/users/5208973/david-thien"}, "edited": false, "score": 0, "creation_date": 1439240281, "post_id": 31908440, "comment_id": 51770113, "body": "I&#39;m new to Perl so I probably haven&#39;t been using the best practices/syntax. I&#39;m at work right now, but I will post what I eventually used when I get home."}], "answers": [{"tags": [], "owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "is_accepted": true, "score": 1, "last_activity_date": 1439159512, "creation_date": 1439159512, "answer_id": 31909473, "question_id": 31908440, "link": "https://stackoverflow.com/questions/31908440/perl-regex-replacement-in-file-skips-newlines/31909473#31909473", "title": "Perl regex replacement in file skips newlines", "body": "<p>My guess: </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n# Slurps DATA after __END__ into a scalar\nmy $data = do { local $/; &lt;DATA&gt; };\n\nmy @code_block_values;\n\n# Extract and replace code blocks with '(code_block)'\nwhile ($data =~ s/ (``` .*? ```) /(code_block)/xs) {\n    push @code_block_values, $1;\n}\n\nprintf \"\\n--| Replaced:\\n%s\", $data;\n\n# Restore '(code_block)' with actual content\n$data =~ s/ \\(code_block\\) / shift @code_block_values /xge;\n\nprintf \"\\n--| Restored:\\n%s\", $data;\n\n__END__\n\n```bash\n#!/bin/bash\necho \"Enter a number\"\nread count\nif [ $count -eq 100 ]\nthen\n  echo \"Example-3: Count is 100\"\nelif [ $count -gt 100 ]\nthen\n  echo \"Example-3: Count is greater than 100\"\nelse\n  echo \"Example-3: Count is less than 100\"\nfi\n```\n\n```perl\n#!/usr/bin/perl\nprint \"Hello World\\n\";\n```\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>--| Replaced:\n\n(code_block)\n\n(code_block)\n\n--| Restored:\n\n```bash\n#!/bin/bash\necho \"Enter a number\"\nread count\nif [ $count -eq 100 ]\nthen\n  echo \"Example-3: Count is 100\"\nelif [ $count -gt 100 ]\nthen\n  echo \"Example-3: Count is greater than 100\"\nelse\n  echo \"Example-3: Count is less than 100\"\nfi\n```\n\n```perl\n#!/usr/bin/perl\nprint \"Hello World\\n\";\n```\n</code></pre>\n\n<p>If you want to learn more about Perl's regular expressions, <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\">perlre</a> and <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow\">perlretut</a> is a good read.</p>\n"}], "owner": {"reputation": 23, "user_id": 5208973, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rBBLJ0I249g/AAAAAAAAAAI/AAAAAAAAACY/1CR-UcD7_yE/photo.jpg?sz=128", "display_name": "David Thien", "link": "https://stackoverflow.com/users/5208973/david-thien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 31909473, "answer_count": 1, "score": 0, "last_activity_date": 1439159512, "creation_date": 1439151420, "last_edit_date": 1439154320, "question_id": 31908440, "link": "https://stackoverflow.com/questions/31908440/perl-regex-replacement-in-file-skips-newlines", "title": "Perl regex replacement in file skips newlines", "body": "<p>I am currently trying to format text for use with pandoc, but my regex replacement isn't working.\nHere is my code so far:</p>\n\n<pre><code>#Importing the file\nmy $filename = 'example.md';\nmy $file = path($filename);\nmy $data = $file -&gt;slurp_utf8;\n\n#Placing code blocks into an array and replacing them in the file\nmy @code_block_values;\nmy $i = 0;\nwhile($i &gt; 50) {\n    @code_bock_values[$i] = ($data =~ /\\n\\t*```[^`]+(```){1}\\n/);\n    $data =~ s/\\n\\t*```[^`]+(```){1}\\n/(code_block)/;\n    $i = $i + 1;\n}\n\n#Replacing the code blocks\n$i = 0;\nwhile($i &lt; 50) {\n    $data =~ s/\\(code_block\\)/$code_block_values[$i]/;\n    $i = $i + 1;\n}\nprint $data;\n\n$file-&gt;spew_utf8( $data );\n</code></pre>\n\n<p>I realize that this probably isn't the most efficient way to be doing this, but right now I'm just trying to get it working.</p>\n\n<p>Basically, I am using github-flavored markdown for typing up my notes, and then trying to convert it with pandoc to a pdf file. I am doing some other formatting before-hand, but I have to extract the code blocks first (which are deliniated by triple backticks (```).)</p>\n\n<p>The following is a sample code block that would be a code block:</p>\n\n<pre><code>```bash\n#!/bin/bash\necho \"Enter a number\"\nread count\nif [ $count -eq 100 ]\nthen\n  echo \"Example-3: Count is 100\"\nelif [ $count -gt 100 ]\nthen\n  echo \"Example-3: Count is greater than 100\"\nelse\n  echo \"Example-3: Count is less than 100\"\nfi\n```\n</code></pre>\n\n<p>As far as I can tell, the regex is capturing everything that I need (as tested by an online regex tester), but Perl is only inserting newlines at certain points, specifically newlines followed by a tab.</p>\n\n<p>The previous example translates to:</p>\n\n<pre><code>```bash #!/bin/bash echo \"Enter a number\" read count if [ $count -eq 100 ] then\n  echo \"Example-3: Count is 100\" elif [ $count -gt 100 ] then\n  echo \"Example-3: Count is greater than 100\" else\n  echo \"Example-3: Count is less than 100\" fi\n```\n</code></pre>\n\n<p>As you can see, the tabs are also completely removed. I copied over all of the file contents from atom and the different lengths of tabs are as copied over from the editor (not sure that makes a difference.) I did my editing for the shell script in vim but the editing for the notes in atom itself.</p>\n\n<p>I am new to Perl, so any help would be appreciated.</p>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 21991, "user_id": 75103, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7dfc20ceb7d6e1686d9be8f68469afa7?s=128&d=identicon&r=PG", "display_name": "thebjorn", "link": "https://stackoverflow.com/users/75103/thebjorn"}, "edited": false, "score": 4, "creation_date": 1439139467, "post_id": 31906577, "comment_id": 51727198, "body": "you cannot change the environment of a parent process."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439139676, "post_id": 31906577, "comment_id": 51727249, "body": "You can do that with Bash and an alias command that  sources a bash script that changes current directory using cd. See for example : <a href=\"http://unix.stackexchange.com/questions/156036/creating-an-alias-to-change-directory-and-have-that-directory-be-the-current-wor\">Creating an alias to Change Directory and have that directory be the current working directory in new terminal tabs</a>"}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1439140004, "post_id": 31906577, "comment_id": 51727353, "body": "Well open a subshell to that directory..."}, {"owner": {"reputation": 1, "user_id": 5208643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f2daddbaf4ad4fe0fe025b4508e017f?s=128&d=identicon&r=PG&f=1", "display_name": "Gopinath Kannaiyan", "link": "https://stackoverflow.com/users/5208643/gopinath-kannaiyan"}, "edited": false, "score": 0, "creation_date": 1439140679, "post_id": 31906577, "comment_id": 51727565, "body": "Thanks for the responses,my rest of the tasks are written in PERL, so need a perl option"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 1, "creation_date": 1439142154, "post_id": 31906577, "comment_id": 51728006, "body": "<code>chdir</code> is (probably) working just fine. It&#39;s changing the current directory <i>of the process running the Perl script</i>."}], "owner": {"reputation": 1, "user_id": 5208643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f2daddbaf4ad4fe0fe025b4508e017f?s=128&d=identicon&r=PG&f=1", "display_name": "Gopinath Kannaiyan", "link": "https://stackoverflow.com/users/5208643/gopinath-kannaiyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "closed_date": 1441748575, "answer_count": 0, "score": 0, "last_activity_date": 1439184490, "creation_date": 1439139343, "last_edit_date": 1439142466, "question_id": 31906577, "link": "https://stackoverflow.com/questions/31906577/windows-change-directory-using-perl", "closed_reason": "Duplicate", "title": "windows change directory using perl", "body": "<p>I need a sample code to change directory in windows using a perl script</p>\n\n<p>Current Folder <code>C:\\Users\\emp1&gt;</code></p>\n\n<p>after executing the perl code the windows command prompt should point to <code>C:\\Users\\emp1\\newfolder&gt;</code></p>\n\n<p><code>chdir</code> is not working ,kindly need expert help</p>\n"}, {"tags": ["perl", "unit-testing", "test-more"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1439135412, "post_id": 31905774, "comment_id": 51725896, "body": "See <a href=\"http://stackoverflow.com/questions/1345296/how-can-i-redirect-the-test-output-from-perls-testsimple\">How can I redirect the test output from Perl&#39;s Test::Simple?</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439137007, "post_id": 31905774, "comment_id": 51726350, "body": "The equivalent to the command line flag <code>-MFoo::Bar</code> that you can use in a script is <code>use Foo::Bar;</code>, as documented in <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\"><code>perldoc perlrun</code></a>."}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439137207, "post_id": 31905774, "comment_id": 51726425, "body": "@ThisSuitIsBlackNot, yes but that won&#39;t work for this specific case, where you only want the module if the script is being run directly from the command line (and not already inside a test harness)."}], "answers": [{"comments": [{"owner": {"reputation": 2354, "user_id": 2203144, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c7fa1dd3aa4baa131c45c7e6cbd82d?s=128&d=identicon&r=PG", "display_name": "mareoraft", "link": "https://stackoverflow.com/users/2203144/mareoraft"}, "edited": false, "score": 0, "creation_date": 1439145570, "post_id": 31906327, "comment_id": 51729009, "body": "Thanks!  This is very convenient."}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 6, "last_activity_date": 1439137624, "creation_date": 1439137624, "answer_id": 31906327, "question_id": 31905774, "link": "https://stackoverflow.com/questions/31905774/suppress-passed-test-output-in-testmore/31906327#31906327", "title": "Suppress passed test output in Test::More", "body": "<p>Why not just use the <code>prove</code> command to run your test script?</p>\n\n<pre><code>prove path/to/test_JSONRegex.pl\n</code></pre>\n\n<p>is basically equivalent to</p>\n\n<pre><code>perl -MTest::Harness -e 'runtests @ARGV' path/to/test_JSONRegex.pl\n</code></pre>\n\n<p>but with less typing.</p>\n\n<p>Trying to get the test script to automatically determine whether it's already running inside a test harness is going to be tricky and error prone.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1439138200, "creation_date": 1439138200, "answer_id": 31906407, "question_id": 31905774, "link": "https://stackoverflow.com/questions/31905774/suppress-passed-test-output-in-testmore/31906407#31906407", "title": "Suppress passed test output in Test::More", "body": "<pre><code>-MTest::Harness\n</code></pre>\n\n<p>simply puts</p>\n\n<pre><code>use Test::Harness;\n</code></pre>\n\n<p>at the top of your script. But then what? How do you plan on calling <code>runtests</code>? This is oh-so-very wrong. If you want to save typing, use <code>prove</code> as @cjm mentioned, or create a second small script to run your tests.</p>\n\n<pre><code>#!/bin/sh\n# This is path/to/test_JSONRegex\nBASE=\"$( dirname \"$( readlink -e \"$0\" )\" )\"\nperl -MTest::Harness -e'runtests @ARGV' \"$BASE/test_JSONRegex.pl\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10432062, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/39743168a44a49c8c8526ead55ad39f8?s=128&d=identicon&r=PG", "display_name": "fdsdf dsfsa", "link": "https://stackoverflow.com/users/10432062/fdsdf-dsfsa"}, "is_accepted": false, "score": 2, "last_activity_date": 1538190814, "last_edit_date": 1538190814, "creation_date": 1538189700, "answer_id": 52564687, "question_id": 31905774, "link": "https://stackoverflow.com/questions/31905774/suppress-passed-test-output-in-testmore/52564687#52564687", "title": "Suppress passed test output in Test::More", "body": "<p>Show only errors during testing:</p>\n\n<pre><code>Test::More-&gt;builder-&gt;output(\"/dev/null\")                                        # \n</code></pre>\n"}], "owner": {"reputation": 2354, "user_id": 2203144, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c7fa1dd3aa4baa131c45c7e6cbd82d?s=128&d=identicon&r=PG", "display_name": "mareoraft", "link": "https://stackoverflow.com/users/2203144/mareoraft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 1, "accepted_answer_id": 31906327, "answer_count": 3, "score": 2, "last_activity_date": 1538190814, "creation_date": 1439133781, "question_id": 31905774, "link": "https://stackoverflow.com/questions/31905774/suppress-passed-test-output-in-testmore", "title": "Suppress passed test output in Test::More", "body": "<p>I have a Perl unit test that outputs \"ok\" for every passed test.  I find myself scrolling up and up to find the first failed test, since that's the only thing I'm interested in.  I am using Test::More.</p>\n\n<pre><code>use strict; use warnings;\nuse JSONRegex;\nuse Test::More;\n</code></pre>\n\n<p>I would like only failed tests to appear.  I tried the solution of using</p>\n\n<pre><code>perl -MTest::Harness -e 'runtests @ARGV' path/to/test_JSONRegex.pl\n</code></pre>\n\n<p>and it worked.  But I wanted to put that in the shebang line so I could just forget about it.  The shebang</p>\n\n<pre><code>#!/usr/bin/env perl -MTest::Harness\n</code></pre>\n\n<p>failed with message <code>Too late for \"-MTest::Harness\" option at ./test_JSONRegex.pl line 1.</code></p>\n\n<p>What is the best way to suppress passed test output while still using <code>strict</code> in my script?</p>\n"}, {"tags": ["regex", "perl", "replace"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1439131738, "post_id": 31905432, "comment_id": 51724796, "body": "See <a href=\"http://stackoverflow.com/questions/11058211/how-to-convert-letters-with-accents-umlauts-etc-to-their-ascii-counterparts-in\">How to convert letters with accents, umlauts, etc to their ASCII counterparts in Perl?</a>. Have you tried using single quotes instead of double quotes on the command line?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439132345, "post_id": 31905432, "comment_id": 51724942, "body": "Works fine on Linux.. with single quotes:  <code>perl -pe &#39;s&#47;(\\\\glossaryentry\\{(\\w|\\s|\\.)*)(&#233;|&#232;|&#234;|&#235;|&#201;|&#200;|&#202;|&#203;|\u0113)+&#47;$1e&#47;g&#39; a.glo</code>. I saved the file <code>a.glo</code> using UTF-8 encoding."}, {"owner": {"reputation": 41, "user_id": 5208271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f0adb37b075fe22b98107f5ca31dd95?s=128&d=identicon&r=PG", "display_name": "Carg", "link": "https://stackoverflow.com/users/5208271/carg"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439132908, "post_id": 31905432, "comment_id": 51725087, "body": "I got an error (&quot;&#39;\\s&#39; is not recognized as an internal or external command\u201d) with single quotes. Yes, <code>a.glo</code> is UTF-8."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439133392, "post_id": 31905432, "comment_id": 51725234, "body": "Yes maybe double quotes are needed on Windows.. have you tried using the <code>utf8</code> pragma? Add a <code>-Mutf8</code> option to the command line."}, {"owner": {"reputation": 41, "user_id": 5208271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f0adb37b075fe22b98107f5ca31dd95?s=128&d=identicon&r=PG", "display_name": "Carg", "link": "https://stackoverflow.com/users/5208271/carg"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439133962, "post_id": 31905432, "comment_id": 51725404, "body": "If I change the replace argument by removing the $1, the file is changed but the result is weird\u2026   <code>perl -pi -i.bak -e &quot;s&#47;(\\\\glossaryentry\\{(\\w|\\s|\\.)*)(&#233;|&#232;|&#234;|&#235;|&#201;|&#200;|&#202;|&#203;|e)+&#47;e&#47;g&quot; a.glo</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 4, "creation_date": 1439134620, "post_id": 31905432, "comment_id": 51725629, "body": "Try reduce the file to only two letters <code>e&#233;</code> and run <code>perl -Mutf8 -pe &quot;s&#47;(&#233;|&#232;|&#234;|&#235;|&#201;|&#200;|&#202;|&#203;|\u0113)+&#47;$1e&#47;g&quot; a.glo</code>.. What do you get?"}, {"owner": {"reputation": 41, "user_id": 5208271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f0adb37b075fe22b98107f5ca31dd95?s=128&d=identicon&r=PG", "display_name": "Carg", "link": "https://stackoverflow.com/users/5208271/carg"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439135380, "post_id": 31905432, "comment_id": 51725885, "body": "<code>Malformed UTF-8 character (unexpected non-continuation byte 0x7c, immediately after start byte 0xcb) at -e line 1. ee\u251c&#174;</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439135598, "post_id": 31905432, "comment_id": 51725952, "body": "Ok, interesting.. let&#39;s first try remove non-ASCII characters from the command line: <code>perl -Mutf8 -pe &quot;s&#47;(e)+&#47;$1e&#47;g&quot; a.glo</code>. Do you get the same error message?"}, {"owner": {"reputation": 41, "user_id": 5208271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f0adb37b075fe22b98107f5ca31dd95?s=128&d=identicon&r=PG", "display_name": "Carg", "link": "https://stackoverflow.com/users/5208271/carg"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439135881, "post_id": 31905432, "comment_id": 51726042, "body": "Something better, I assume <code>ee\u251c&#174;</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439135985, "post_id": 31905432, "comment_id": 51726073, "body": "Ok you did not get an error message.. it means that the error is probably located on the command line and not in the file. I suspect that the characters on the command line are ASCII encoded and not UTF-8..Can you check that the terminal window you are using is using UTF-8 encoding?"}, {"owner": {"reputation": 41, "user_id": 5208271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f0adb37b075fe22b98107f5ca31dd95?s=128&d=identicon&r=PG", "display_name": "Carg", "link": "https://stackoverflow.com/users/5208271/carg"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439137770, "post_id": 31905432, "comment_id": 51726616, "body": "It&#39;s <a href=\"https://technet.microsoft.com/fr-fr/library/bb490874.aspx\" rel=\"nofollow noreferrer\">technet.microsoft.com/fr-fr/library/bb490874.aspx</a> chcp 850 Multilingual (Latin I). Changing it to 65001, I get exactly the same error. Would it be the same problem if I don&#39;t do that with a oneliner?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439139254, "post_id": 31905432, "comment_id": 51727151, "body": "Let&#39;s continue this discussion in <a href=\"https://chat.stackoverflow.com/rooms/86551/replace-some-diacritics-with-perl-regex\">chat</a>"}, {"owner": {"reputation": 41, "user_id": 5208271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f0adb37b075fe22b98107f5ca31dd95?s=128&d=identicon&r=PG", "display_name": "Carg", "link": "https://stackoverflow.com/users/5208271/carg"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439140043, "post_id": 31905432, "comment_id": 51727368, "body": "I think you&#39;ve found the problem. That&#39;s working with a perl .pl script, so the Windows command line is the source of the issue\u2026 It displays the character correctly, but fails to interpret them correctly.The workaround is to avoid oneliner, but the solution is still to find (changing chcp to 65001 does not seem to be not enough)."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 2, "last_activity_date": 1439141504, "creation_date": 1439141504, "answer_id": 31906938, "question_id": 31905432, "link": "https://stackoverflow.com/questions/31905432/replace-some-diacritics-with-perl-regex/31906938#31906938", "title": "Replace some diacritics with perl regex", "body": "<p>I tried this on a windows box, it works.<br>\nI think though that the file has to open in its correct encoding.<br>\nI saved your text sample as ANSI text.  </p>\n\n<p><code>perl -pi -i.bak -e \"s/(\\\\glossaryentry\\{[\\w\\s.]*)[\\x{E9}\\x{E8}\\x{EA}\\x{EB}\\x{C9}\\x{C8}\\x{CA}\\x{CB}\\x{113}]+/$1e/g\" a.glo</code></p>\n\n<pre><code> # (\\\\glossaryentry\\{[\\w\\s.]*)[\\x{E9}\\x{E8}\\x{EA}\\x{EB}\\x{C9}\\x{C8}\\x{CA}\\x{CB}\\x{113}]+\n\n (                             # (1 start)\n      \\\\ glossaryentry \\{\n      [\\w\\s.]* \n )                             # (1 end)\n [\\x{E9}\\x{E8}\\x{EA}\\x{EB}\\x{C9}\\x{C8}\\x{CA}\\x{CB}\\x{113}]+ \n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5208271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f0adb37b075fe22b98107f5ca31dd95?s=128&d=identicon&r=PG", "display_name": "Carg", "link": "https://stackoverflow.com/users/5208271/carg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1439141504, "creation_date": 1439131512, "question_id": 31905432, "link": "https://stackoverflow.com/questions/31905432/replace-some-diacritics-with-perl-regex", "title": "Replace some diacritics with perl regex", "body": "<p>I want to replace <em>some</em> of the diacritics contained in a file by their ASCII equivalent. Please note that I don't want to remove all the diacritics: only those which are before the first \"@\" character of each line.</p>\n\n<p>In the simplified version of the file below (a.glo), there are four \"\u00e9\" (in bold) to replace by \"e\".\nThe (probably ugly) regex I use is:</p>\n\n<pre><code>(\\\\glossaryentry\\{(\\w|\\s|\\.)*)(\u00e9|\u00e8|\u00ea|\u00eb|\u00c9|\u00c8|\u00ca|\u00cb|\u0113)+\n</code></pre>\n\n<p>and it works with online tester like www.regex101.com/ and in notepad++!</p>\n\n<p>But nothing is changed when I type in the Windows command line:</p>\n\n<pre><code>perl -pi -i.bak -e \"s/(\\\\glossaryentry\\{(\\w|\\s|\\.)*)(\u00e9|\u00e8|\u00ea|\u00eb|\u00c9|\u00c8|\u00ca|\u00cb|\u0113)+/$1e/g\" a.glo\n</code></pre>\n\n<p>(fwiw, on my system, perl is v.5.20.2)</p>\n\n<p>a.glo:</p>\n\n<blockquote>\n  <p>\\glossaryentry{AHRF@ {\\memgloterm{AHRF}}{\\memglodesc{Annales historiques de la R\u00e9volution fran\u00e7aise}} {\\memgloref{}}|memjustarg}{1}</p>\n  \n  <p>\\glossaryentry{Ass. pl<strong>\u00e9</strong>n.@ {\\memgloterm{Ass. pl\u00e9n.}}{\\memglodesc{Assembl\u00e9e pl\u00e9ni\u00e8re}} {\\memgloref{}}|memjustarg}{1}</p>\n  \n  <p>\\glossaryentry{Ch. r<strong>\u00e9</strong>un.@ {\\memgloterm{Ch. r\u00e9un.}}{\\memglodesc{Chambres r\u00e9unies}} {\\memgloref{}}|memjustarg}{1}</p>\n  \n  <p>\\glossaryentry{chron.@ {\\memgloterm{chron.}}{\\memglodesc{chronique}} {\\memgloref{}}|memjustarg}{1}</p>\n  \n  <p>\\glossaryentry{Circ. min.@ {\\memgloterm{Circ. min.}}{\\memglodesc{Circulaire minist\u00e9rielle}} {\\memgloref{}}|memjustarg}{1}</p>\n  \n  <p>\\glossaryentry{<strong>\u00e9</strong>d.@ {\\memgloterm{\u00e9d.}}{\\memglodesc{\u00e9dition, \u00e9dit\u00e9 par}} {\\memgloref{}}|memjustarg}{1}</p>\n  \n  <p>\\glossaryentry{Int J Semiot Law@ {\\memgloterm{Int J Semiot Law}}{\\memglodesc{International Journal for the Semiotics of Law - Revue internationale de s\u00e9miotique juridique}} {\\memgloref{}}|memjustarg}{1}</p>\n  \n  <p>\\glossaryentry{Oxford J Legal Studies@ {\\memgloterm{Oxford J Legal Studies}}{\\memglodesc{Oxford Journal of Legal Studies}} {\\memgloref{}}|memjustarg}{1}</p>\n  \n  <p>\\glossaryentry{pr<strong>\u00e9</strong>c.@ {\\memgloterm{pr\u00e9c.}}{\\memglodesc{pr\u00e9cit\u00e9}} {\\memgloref{}}|memjustarg}{1}</p>\n  \n  <p>\\glossaryentry{Rev. adm.@ {\\memgloterm{Rev. adm.}}{\\memglodesc{Revue administrative}} {\\memgloref{}}|memjustarg}{1}</p>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1439123338, "post_id": 31904109, "comment_id": 51722667, "body": "Strange that you should get that error from a simple string assignment.. Maybe you should show some more of your code, the error could be on the line above for example?"}, {"owner": {"reputation": 97, "user_id": 4935588, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a80ba702dc2a4c4f5700557dbe4011bb?s=128&d=identicon&r=PG&f=1", "display_name": "Bayan B", "link": "https://stackoverflow.com/users/4935588/bayan-b"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439124420, "post_id": 31904109, "comment_id": 51722929, "body": "@H&#229;kon H&#230;gland The script has 300 lines, It is a part of it that has the error occured"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439124550, "post_id": 31904109, "comment_id": 51722962, "body": "It seems like you are using a deprecated config variable <code>TZ</code> and also an invalid time zone : <code>Date::Manip::DM6::Date_Init(&quot;TZ=+0430&quot;)</code>"}, {"owner": {"reputation": 97, "user_id": 4935588, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a80ba702dc2a4c4f5700557dbe4011bb?s=128&d=identicon&r=PG&f=1", "display_name": "Bayan B", "link": "https://stackoverflow.com/users/4935588/bayan-b"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439124644, "post_id": 31904109, "comment_id": 51722994, "body": "I am PHP expert and have not worked on Perl yet, because of the system upgrading I also had to solve the problem."}, {"owner": {"reputation": 97, "user_id": 4935588, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a80ba702dc2a4c4f5700557dbe4011bb?s=128&d=identicon&r=PG&f=1", "display_name": "Bayan B", "link": "https://stackoverflow.com/users/4935588/bayan-b"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439124754, "post_id": 31904109, "comment_id": 51723026, "body": "@H&#229;konH&#230;gland How should I replace it?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439126195, "post_id": 31904109, "comment_id": 51723406, "body": "I am not sure.. all I can say is that the error is <a href=\"https://metacpan.org/source/SBECK/Date-Manip-6.50/lib/Date/Manip/TZ.pm#L1768\" rel=\"nofollow noreferrer\">on line 1768 in Date::Manip::TZ.pm</a> and it caused by <code>__zone()</code> at <a href=\"https://metacpan.org/source/SBECK/Date-Manip-6.50/lib/Date/Manip/TZ.pm#L829\" rel=\"nofollow noreferrer\">line 829</a> returning the empty string.. Sorry, but I am not familiar with <code>Date::Manip</code>.."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439126904, "post_id": 31904109, "comment_id": 51723572, "body": "See also <a href=\"https://metacpan.org/pod/Date::Manip::Migration5to6\" rel=\"nofollow noreferrer\">Date::Manip::Migration5to6</a>"}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 4, "last_activity_date": 1439131552, "last_edit_date": 1592644375, "creation_date": 1439127778, "answer_id": 31904868, "question_id": 31904109, "link": "https://stackoverflow.com/questions/31904109/why-do-i-get-an-invalid-zone-in-setdate-error-when-using-datemanip/31904868#31904868", "title": "Why do I get an &quot;invalid zone in SetDate&quot; error when using Date::Manip?", "body": "<p>The deprecation is explained in <a href=\"https://metacpan.org/pod/Date::Manip::Config#TZ\" rel=\"nofollow noreferrer\"><code>Date::Manip::Config</code></a>:</p>\n<blockquote>\n<p><strong>TZ</strong></p>\n<p>This variable is deprecated, but will be supported for several releases. The <code>SetDate</code> or <code>ForceDate</code> variables (described next) should be used instead.</p>\n<p>The following are equivalent:</p>\n<pre><code>$date-&gt;config(&quot;tz&quot;,&quot;Europe/Rome&quot;);\n$date-&gt;config(&quot;setdate&quot;,&quot;now,Europe/Rome&quot;);\n</code></pre>\n</blockquote>\n<p>As for the warning about &quot;invalid zone,&quot; apparently* <code>Date::Manip</code> requires you to specify offsets in the format <code>+HH:MM:SS</code> (or <code>-HH:MM:SS</code>).</p>\n<p>To fix both warnings, change line 75 of adsl.pl from this:</p>\n<pre><code>Date_Init(&quot;TZ=+0430&quot;);\n</code></pre>\n<p>to this:</p>\n<pre><code>Date_Init(&quot;setdate=now,+04:30:00&quot;);\n</code></pre>\n<hr />\n<p>* I don't see this documented anywhere, but the warning is triggered by the following code in <a href=\"https://metacpan.org/source/SBECK/Date-Manip-6.50/lib/Date/Manip/TZ.pm#L910\" rel=\"nofollow noreferrer\"><code>Date::Manip::TZ</code></a>:</p>\n<pre><code>return undef  if (! exists $$self{'data'}{'Offmod'}{$offset});\n</code></pre>\n<p>This does a hash lookup in <a href=\"https://metacpan.org/source/SBECK/Date-Manip-6.50/lib/Date/Manip/Zones.pm#L2918\" rel=\"nofollow noreferrer\"><code>%Date::Manip::Zones::Offmod</code></a>, which only has keys in the format <code>+HH:MM:SS</code> (or <code>-HH:MM:SS</code>).</p>\n"}], "owner": {"reputation": 97, "user_id": 4935588, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a80ba702dc2a4c4f5700557dbe4011bb?s=128&d=identicon&r=PG&f=1", "display_name": "Bayan B", "link": "https://stackoverflow.com/users/4935588/bayan-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1075, "favorite_count": 0, "accepted_answer_id": 31904868, "answer_count": 1, "score": 2, "last_activity_date": 1439138594, "creation_date": 1439122522, "last_edit_date": 1439138594, "question_id": 31904109, "link": "https://stackoverflow.com/questions/31904109/why-do-i-get-an-invalid-zone-in-setdate-error-when-using-datemanip", "title": "Why do I get an &quot;invalid zone in SetDate&quot; error when using Date::Manip?", "body": "<p>I have some code that I'm running with Perl 5.20 on Debian 8.1. But I'm getting a warning and an error in the following line:</p>\n\n<pre><code>Date::Manip::DM6::Date_Init(\"TZ=+0430\");\n</code></pre>\n\n<p>Warning:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>WARNING: the TZ Date::Manip config variable is deprecated\n         and will be removed in March 2016.  Please use\n         the SetDate or ForceDate config variables instead.\n</code></pre>\n\n<p>Error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ERROR: [config_var] invalid zone in SetDate:\n at /usr/local/share/perl/5.20.2/Date/Manip/TZ.pm line 1768.\n        Date::Manip::TZ::_config_var_setdate(Date::Manip::TZ=HASH(0x3a11d80), \"now,+0430\", 0) called at     /usr/local/share/perl/5.20.2/Date/Manip/TZ.pm line 1641\n        Date::Manip::TZ::_config_var_tz(Date::Manip::TZ=HASH(0x3a11d80), \"tz\", \"+0430\") called at           /usr/local/share/perl/5.20.2/Date/Manip/TZ_Base.pm line 41\n        Date::Manip::TZ_Base::_config_var(Date::Manip::TZ=HASH(0x3a11d80), \"TZ\", \"+0430\") called at         /usr/local/share/perl/5.20.2/Date/Manip/Obj.pm line 250\n        Date::Manip::Obj::config(Date::Manip::Date=HASH(0x3a119f0), \"TZ\", \"+0430\") called at                /usr/local/share/perl/5.20.2/Date/Manip/DM6.pm line 96\n        Date::Manip::DM6::Date_Init(\"TZ=+0430\") called at adsl.pl line 75\n</code></pre>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["perl", "date"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439123015, "post_id": 31903991, "comment_id": 51722592, "body": "Try <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow noreferrer\"><code>Time::Piece</code></a>.. Se also <a href=\"http://stackoverflow.com/questions/31804463/perl-how-to-get-date-of-previous-wednesday-from-the-given-date-without-using-d\">Perl - How to get date of Previous wednesday from the given date without using DateTime</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1439242009, "post_id": 31903991, "comment_id": 51770932, "body": "I think you should read <a href=\"http://stackoverflow.com/help/someone-answers\"><b><i>What should I do when someone answers my question?</i></b></a>"}], "answers": [{"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1439123696, "creation_date": 1439123696, "answer_id": 31904284, "question_id": 31903991, "link": "https://stackoverflow.com/questions/31903991/perl-setting-day-month-and-year/31904284#31904284", "title": "Perl: Setting $day, $month and $year", "body": "<p>You could use this to get dates into variable i.e split with <code>/</code> and store it in variables:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse POSIX qw(strftime);  \nuse Time::Local qw(timegm);  \nmy ($d,$m,$y) = (localtime())[3,4,5];  \nmy ($day90,$month90,$year90) = split(/\\//,(strftime(\"%d/%m/%y\", gmtime(timegm(0,0,0,$d,$m,$y)-90*24*60*60))));\nmy ($day,$month,$year)=split(/\\//,(strftime(\"%d/%m/%y\", gmtime(timegm(0,0,0,$d,$m,$y)))));\n\nprint \"DATE(BEFORE 90 days): $day90 $month90 $year90 \\n\";\nprint \"DATE(CURRENT): $day $month $year \\n\";\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>DATE(BEFORE 90 days): 11 05 15 \nDATE(CURRENT): 09 08 15\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1439292904, "last_edit_date": 1439292904, "creation_date": 1439131031, "answer_id": 31905354, "question_id": 31903991, "link": "https://stackoverflow.com/questions/31903991/perl-setting-day-month-and-year/31905354#31905354", "title": "Perl: Setting $day, $month and $year", "body": "<p>One of the best ways to compare dates is by converting them to <code>%Y%m%d</code> format (or <code>%Y-%m-%d</code> if you want something more readable) and then you can compare them as text strings</p>\n\n<p>You can use the core module <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\"><code>Time::Piece</code></a> to do the formatting for you</p>\n\n<p>Here's an example. It defines the input format and the comparison format as <code>$dmy_format</code> and <code>$ymd_format</code> respectively</p>\n\n<p>The strings for today's date and 90 days earlier are defined and stored as <code>state</code> variables the first time <code>in_range</code> is called, and so never need to be calculated again. (You will need Perl 5 version 10 or better for the <code>state</code> keyword. If that's not available then just use <code>my</code> instead and move those definitions <em>outside</em> and <em>immediately before</em> the subroutine)</p>\n\n<p>The passed parameter is the date in <code>DD/MM/YY</code> format. It is parsed and reformatted as <code>YYYY-MM-DD</code> and the subroutine returns the result of comparing it with the two boundary dates</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;   # for 'state' variables\n\nuse Time::Piece;\nuse Time::Seconds 'ONE_DAY';\n\n\nfor my $month ( 1 .. 12 ) {\n  my $date = sprintf '14/%02d/15', $month;\n  printf \"date %s is %s\\n\", $date, in_range($date) ? 'in range' : 'out of range';\n}\n\n\nsub in_range {\n\n    state $ymd_format = '%Y-%m-%d';\n    state $dmy_format = '%d/%m/%y';\n\n    state $now = localtime;\n    state $today = $now-&gt;strftime($ymd_format);\n    state $days90 = ($now - 90 * ONE_DAY)-&gt;strftime($ymd_format);\n\n    my $date = Time::Piece-&gt;strptime(shift, $dmy_format)-&gt;strftime($ymd_format);\n\n    $date le $today and $date ge $days90;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>date 14/01/15 is out of range\ndate 14/02/15 is out of range\ndate 14/03/15 is out of range\ndate 14/04/15 is out of range\ndate 14/05/15 is in range\ndate 14/06/15 is in range\ndate 14/07/15 is in range\ndate 14/08/15 is out of range\ndate 14/09/15 is out of range\ndate 14/10/15 is out of range\ndate 14/11/15 is out of range\ndate 14/12/15 is out of range\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5207891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YTXux.jpg?s=128&g=1", "display_name": "Pete G", "link": "https://stackoverflow.com/users/5207891/pete-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1073, "favorite_count": 0, "accepted_answer_id": 31905354, "answer_count": 2, "score": 1, "last_activity_date": 1439292904, "creation_date": 1439121622, "last_edit_date": 1439183313, "question_id": 31903991, "link": "https://stackoverflow.com/questions/31903991/perl-setting-day-month-and-year", "title": "Perl: Setting $day, $month and $year", "body": "<p>I've managed to cobble together a script that reads through thousands of log entries and creates a summary of them.  All good so far.  What I also want to be able to do is for it to create a separate summary of the entries from just the last 90 days.  </p>\n\n<p>A single entry in the log looks like the following, with newer entries always being added to the bottom of the file :  </p>\n\n<blockquote>\n  <p>Serial No:  10123407<br>\n  Date:       14/08/15<br>\n  Time:       12:58<br>\n  Cycle type: 134 U<br>\n  Hold  time: 0180<br>\n  Cycle No:   1357<br>\n  Dry Time:   00 mins.  </p>\n  \n  <p>Cycle Start<br>\n  12:58.35  </p>\n  \n  <p>Hold Time    0000 Secs<br>\n  Cycle: Failed<br>\n  User_Message 13<br>\n  Ref.to User Manual  </p>\n  \n  <p>Cycle End<br>\n  13:01.32   </p>\n</blockquote>\n\n<p>The code I am using to return the current date and the date 90 days ago is:  </p>\n\n<pre><code>use POSIX qw(strftime);  \nuse Time::Local qw(timegm);  \nmy ($d,$m,$y) = (localtime())[3,4,5];  \nprint OUT (strftime(\"%d/%m/%y - \", gmtime(timegm(0,0,0,$d,$m,$y)-90*24*60*60)));  \nprint OUT (strftime(\"%d/%m/%y\\n\", gmtime(timegm(0,0,0,$d,$m,$y))));\n</code></pre>\n\n<p>I'm doing it like this because it's producing my dates in the format I want, the same as in the logs dd/mm/yy and always zero padded.<br>\nUsing this I get the following output:  </p>\n\n<blockquote>\n  <p>11/05/15 - 09/08/15  </p>\n</blockquote>\n\n<p>So if I can print it, how can I store the data as the variables: <code>$day90</code>, <code>$month90</code>, <code>$year90</code>, <code>$day</code>, <code>$month</code> and <code>$year</code>.  If I can do that then I think I can do the logical operations necessary to decide if the log entry is within the last 90 days and then create my summary as I want it.  </p>\n\n<p>I don't have any preconceived ideas as to how this is done so any and all solutions will be very much appreciated.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439121610, "post_id": 31903964, "comment_id": 51722233, "body": "The OP says that the numbers are tab separated.. so maybe <code>\\b</code> is not needed?"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439121647, "post_id": 31903964, "comment_id": 51722239, "body": "But without <code>\\b</code> it would match all the zeros."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1439122002, "post_id": 31903964, "comment_id": 51722333, "body": "I was just thinking that <code>\\b</code> will also match zeros that are space separated.. but probably it will not matter for the OP&#39;s problem"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 4, "last_activity_date": 1439121713, "last_edit_date": 1439121713, "creation_date": 1439121456, "answer_id": 31903964, "question_id": 31903954, "link": "https://stackoverflow.com/questions/31903954/finding-zero-values-and-replacing-with-whitespace-deleting-them-perl/31903964#31903964", "title": "Finding zero values and replacing with whitespace/deleting them - Perl", "body": "<p>simple , use word boundary <code>\\b</code> before and after to <code>0</code>. <code>\\b</code> matches between a word character and a non-word character (<em>vice-versa</em>).</p>\n\n<pre><code>perl -pe 's/\\b0\\b/ /g' file\n</code></pre>\n\n<p>Add <code>-i</code> parameter to do an in-place edit.</p>\n\n<pre><code>perl -i -pe 's/\\b0\\b/ /g' file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15122, "user_id": 4519059, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/MBHID.png?s=128&g=1", "display_name": "shA.t", "link": "https://stackoverflow.com/users/4519059/sha-t"}, "is_accepted": false, "score": 1, "last_activity_date": 1439122328, "creation_date": 1439122328, "answer_id": 31904081, "question_id": 31903954, "link": "https://stackoverflow.com/questions/31903954/finding-zero-values-and-replacing-with-whitespace-deleting-them-perl/31904081#31904081", "title": "Finding zero values and replacing with whitespace/deleting them - Perl", "body": "<p>You can use a regex like this:</p>\n\n<pre><code>/^(\\d+)\\t+((0)|(\\d+))\\t+(\\d+)$/gm\n</code></pre>\n\n<p>And use its substitution like this:</p>\n\n<pre><code>\\1\\t\\4\\t\\5\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/oI0mE8/1\" rel=\"nofollow\">[Regex Demo]</a></p>\n"}, {"tags": [], "owner": {"reputation": 353, "user_id": 5180005, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-M32Jfxg4qh4/AAAAAAAAAAI/AAAAAAAACbM/OcEns8RbTrc/photo.jpg?sz=128", "display_name": "oxagast", "link": "https://stackoverflow.com/users/5180005/oxagast"}, "is_accepted": false, "score": 1, "last_activity_date": 1439174473, "creation_date": 1439174473, "answer_id": 31910930, "question_id": 31903954, "link": "https://stackoverflow.com/questions/31903954/finding-zero-values-and-replacing-with-whitespace-deleting-them-perl/31910930#31910930", "title": "Finding zero values and replacing with whitespace/deleting them - Perl", "body": "<p>If you have a huge list of files to batch process this is more efficient:</p>\n\n<pre><code>perl -pe 's/\\t0\\t/\\t \\t/' blah\n</code></pre>\n\n<p>I think because perl is looking for all boundary characters instead of only tabs.</p>\n\n<pre><code>marshall@marshall-desktop:~$ ls -lh blah &amp;&amp; time perl -pe 's/\\b0\\b/ /' blah &gt;/dev/null &amp;&amp; time perl -pe 's/\\t0\\t/\\t \\t/' blah &gt;/dev/null\n-rw-r--r-- 1 marshall marshall 53M Aug  9 22:03 blah\n\nreal    0m4.077s\nuser    0m4.048s\nsys 0m0.028s\n\nreal    0m2.765s\nuser    0m2.752s\nsys 0m0.012s\n</code></pre>\n"}], "owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 31903964, "answer_count": 3, "score": -1, "last_activity_date": 1439174473, "creation_date": 1439121384, "question_id": 31903954, "link": "https://stackoverflow.com/questions/31903954/finding-zero-values-and-replacing-with-whitespace-deleting-them-perl", "title": "Finding zero values and replacing with whitespace/deleting them - Perl", "body": "<p>I have a tab-delimited columnar .txt file in this format:</p>\n\n<pre><code>61200   285700  22000\n61600   294000  22300\n64400   385200  22500\n66100   427600  24000\n70700   478500  24400\n72300   0       24700\n72700   0       24800\n78600   0       25200\n79900   0       25300\n83600   0       26100\n84700   0       26300\n86900   0       26600\n88300   0       27000\n91000   0       27200\n91900   0       27400\n92700   0       27500\n</code></pre>\n\n<p>And I want to find all \"0\" values (not inclusive of trailing zeroes) and delete these, or replace them with whitespace.</p>\n\n<p>Desired output:</p>\n\n<pre><code>61200   285700  22000\n61600   294000  22300\n64400   385200  22500\n66100   427600  24000\n70700   478500  24400\n72300           24700\n72700           24800\n78600           25200\n79900           25300\n83600           26100\n84700           26300\n86900           26600\n88300           27000\n91000           27200\n91900           27400\n92700           27500\n</code></pre>\n\n<p>What is the most efficient method of doing this that can scale? I will be batch processing large numbers of .txt files - and each one is >50Mb. </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 4, "creation_date": 1439069617, "post_id": 31898615, "comment_id": 51712648, "body": "@Schwern Excellent design decision"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1439074576, "post_id": 31898615, "comment_id": 51713777, "body": "The proposed <code>in_place</code> option is exactly equivalent to the <code>&#47;r</code> &quot;non-destructive&quot; modifier of <code>s&#47;&#47;&#47;</code>"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 8, "last_activity_date": 1439068171, "creation_date": 1439068171, "answer_id": 31898615, "question_id": 31898495, "link": "https://stackoverflow.com/questions/31898495/use-of-reference-to-elements-in-to-avoid-duplicating-code/31898615#31898615", "title": "Use of reference to elements in @_ to avoid duplicating code", "body": "<p>The \"in place\" flag changes the function's interface to the point where it should be a new function.  It will simplify the interface, testing, documentation and the internals to have two functions.  Rather than having to parse arguments and have a big if/else block, the user has already made that choice for you.</p>\n\n<p>Another way to look at it is the <code>in_place</code> option will always be set to a constant.  Because it fundamentally changes how the function behaves, there's no sensible case where you'd write <code>in_place =&gt; $flag</code>.</p>\n\n<p>Once you do that, the reuse becomes more obvious.  Write one function to do the operation in place.  Write another which calls that on a copy.</p>\n\n<pre><code>sub mod_str_in_place {\n    # ...Do work on $_[0]...\n\n    return;\n}\n\nsub mod_str {\n    my $str = $_[0];  # string is copied\n\n    mod_str_in_place($str);\n\n    return $str;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1439081585, "post_id": 31899370, "comment_id": 51714931, "body": "This is nice. It&#39;s cohesive, it&#39;s practical, and it doesn&#39;t require polluting the code and symbol table with unnecessary functions."}, {"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 0, "creation_date": 1439083104, "post_id": 31899370, "comment_id": 51715135, "body": "@Borodin This is how I was going to recommend solving Hakon&#39;s literal question as well.  However, I approve of Schwern&#39;s rephrasing it as an XY Problem."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 5, "creation_date": 1439095090, "post_id": 31899370, "comment_id": 51716791, "body": "@stevieb The symbol table isn&#39;t a nature preserve. Simplifying a function by splitting it in two is a proper use. Pollution is a module exporting 40 functions with common names when you really need 3."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 1, "creation_date": 1439133690, "post_id": 31899370, "comment_id": 51725328, "body": "+1  I&#39;d like this solution even more if the API were changed to drop <code>in_place =&gt; 1</code> in favor of <code>! defined(wantarray)</code>."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1439074375, "creation_date": 1439074375, "answer_id": 31899370, "question_id": 31898495, "link": "https://stackoverflow.com/questions/31898495/use-of-reference-to-elements-in-to-avoid-duplicating-code/31899370#31899370", "title": "Use of reference to elements in @_ to avoid duplicating code", "body": "<p>In the absence of the disgraced <code>given</code> I like using <code>for</code> as a topicalizer. This effectively aliases <code>$_</code> to either <code>$_[0]</code> or the local copy depending on the value of the <code>in_place</code> hash element. It's directly comparable to your <code>$ref</code> but with aliases, and a lot cleaner</p>\n\n<p>I see no reason to return a useless <code>undef</code> / <code>()</code> in the case that the string is modified in place; the subroutine may as well return the new value of the string. (I suspect the <em>old</em> value might be more useful, after the fashion of <code>$x++</code>, but that makes for uglier code!)</p>\n\n<p>I'm not sure whether this is readable code to anyone but me, so comments are welcome!</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $ss = 'abcabc';\nprintf \"%s %s\\n\", mod_str($ss), $ss;\n\n$ss = 'abcabc';\nprintf \"%s %s\\n\", mod_str($ss, in_place =&gt; 1), $ss;\n\nsub mod_str {\n\n    my ($copy, %opt) = @_;\n\n    for ( $opt{in_place} ? $_[0] : $copy ) {\n        s/a/A/g;\n        # .. do more stuff with $_\n        return $_;\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>AbcAbc abcabc\nAbcAbc AbcAbc\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 31898615, "answer_count": 2, "score": 7, "last_activity_date": 1439074375, "creation_date": 1439067348, "question_id": 31898495, "link": "https://stackoverflow.com/questions/31898495/use-of-reference-to-elements-in-to-avoid-duplicating-code", "title": "Use of reference to elements in @_ to avoid duplicating code", "body": "<p>Is it safe to take reference of elements of <code>@_</code> in a subroutine in order to avoid duplicating code? I also wonder if the following is good practice or can be simplified. I have a subroutine <code>mod_str</code> that takes an option saying if a string argument should be modified in-place or not:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy $str = 'abc';\n\nmy $mstr = mod_str( $str, in_place =&gt; 0 );\nsay $mstr;\nmod_str( $str, in_place =&gt; 1 );\nsay $str;\n\nsub mod_str {\n    my %opt;\n    %opt = @_[1..$#_];\n\n    if ( $opt{in_place} ) {\n        $_[0] =~ s/a/A/g;\n        # .. do more stuff with $_[0]\n        return;\n    }\n    else {\n        my $str = $_[0];\n        $str =~ s/a/A/g;\n        # .. do more stuff with $str\n        return $str;\n    }\n}\n</code></pre>\n\n<p>In order to avoid repeating/duplicating code in the <code>if</code> and <code>else</code> blocks above, I tried to improve <code>mod_str</code>:</p>\n\n<pre><code>sub mod_str {\n    my %opt;\n    %opt = @_[1..$#_];\n\n    my $ref;\n    my $str;\n    if ( $opt{in_place} ) {\n        $ref = \\$_[0];\n    }\n    else {\n        $str = $_[0];  # make copy\n        $ref = \\$str;\n    }\n    $$ref =~ s/a/A/g;\n    # .. do more stuff with $$ref\n    $opt{in_place} ? return : return $$ref;\n}\n</code></pre>\n"}, {"tags": ["perl", "dbi"], "comments": [{"owner": {"reputation": 35, "user_id": 3172920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MU7i.jpg?s=128&g=1", "display_name": "Peter C", "link": "https://stackoverflow.com/users/3172920/peter-c"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1439211726, "post_id": 31890805, "comment_id": 51753035, "body": "Thanks for all the answers. They were both very usefull."}], "answers": [{"comments": [{"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1439040807, "post_id": 31891804, "comment_id": 51703895, "body": "Borodin&#39;s comment regarding calls to <code>finish</code> or <code>disconnect</code> is true, but one of those rare cases did bite me in the butt when I was working with a pervasive database, so I now always explicitly call disconnect instead of expecting it to be done as part of Perl&#39;s cleanup process."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1439047872, "post_id": 31891804, "comment_id": 51706630, "body": "@RonBergin: If you need to call <code>disconnect</code> then you should probably also call <code>rollback</code>. Were you using <code>DBD::ODBC</code>?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 60130, "user_id": 13860, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6bdc06836b7bcec9fce2c5c6e5242192?s=128&d=identicon&r=PG", "display_name": "Flimzy", "link": "https://stackoverflow.com/users/13860/flimzy"}, "edited": false, "score": 0, "creation_date": 1439049898, "post_id": 31891804, "comment_id": 51707177, "body": "@Flimzy Hmm, that&#39;s the exact opposite of what the DBI docs say: &quot;Adding calls to finish after loop that fetches all rows is a common mistake, don&#39;t do it, it can mask genuine problems like uncaught fetch errors. When all the data has been fetched from a SELECT statement, the driver will automatically call finish for you. So you should not call it explicitly except when you know that you&#39;ve not fetched all the data from a statement handle and the handle won&#39;t be destroyed soon.&quot; Out of curiosity, can you give an example where this bit you? Maybe it&#39;s driver dependent..."}, {"owner": {"reputation": 60130, "user_id": 13860, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6bdc06836b7bcec9fce2c5c6e5242192?s=128&d=identicon&r=PG", "display_name": "Flimzy", "link": "https://stackoverflow.com/users/13860/flimzy"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439050177, "post_id": 31891804, "comment_id": 51707245, "body": "@ThisSuitIsBlackNot: Perhaps. I&#39;ve had problems with it in the past, and done large code audits to add it where necessary (note we did <i>not</i> add it across the board, because we <i>did</i> understand what was going on, and when it was and wasn&#39;t needed)."}, {"owner": {"reputation": 60130, "user_id": 13860, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6bdc06836b7bcec9fce2c5c6e5242192?s=128&d=identicon&r=PG", "display_name": "Flimzy", "link": "https://stackoverflow.com/users/13860/flimzy"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1439050220, "post_id": 31891804, "comment_id": 51707256, "body": "@ThisSuitIsBlackNot: If memory serves, we were dealing with connection pools shared across multiple forked processes... which, in retrospect, likely won&#39;t bite this user.  So I suppose I&#39;ll withdraw my objection and comment. :)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 60130, "user_id": 13860, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6bdc06836b7bcec9fce2c5c6e5242192?s=128&d=identicon&r=PG", "display_name": "Flimzy", "link": "https://stackoverflow.com/users/13860/flimzy"}, "edited": false, "score": 0, "creation_date": 1439050712, "post_id": 31891804, "comment_id": 51707394, "body": "@Flimzy Ah, that scenario makes sense, especially since DBI has some funky driver-dependent issues w.r.t. fork."}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1439052325, "post_id": 31891804, "comment_id": 51707837, "body": "@Borodin I was using DBD::ODBC but I was only doing selects, so no need for a rollback. The problem was that pervasive was still showing an open connection from my system after the script ended and after a number of these cases, the pervasive db reached its max connection limit which then prevented any other app to connect. Using an explicit disconnect statement solved the issue."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1439059003, "post_id": 31891804, "comment_id": 51709898, "body": "@RonBergin: Hmm that sounds like a bug, but it&#39;s rather late to investigate it! I guess your code was single-threaded?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1439027688, "last_edit_date": 1439027688, "creation_date": 1439027148, "answer_id": 31891804, "question_id": 31890805, "link": "https://stackoverflow.com/questions/31890805/perl-dbi-statement-handles-and-error-handling/31891804#31891804", "title": "Perl DBI Statement Handles and Error Handling", "body": "<p>This is by far the best way to do things. Stick with <code>prepare</code> (which you need to do only once) and <code>execute</code> and avoid <code>do</code>. You should also use question marks as <em>placeholders</em> for any parameters to the query and pass the values in the call to <code>execute</code>. Amongst other things, that way handles any necessary quoting of the values for you</p>\n\n<p>It is very rare that a call to <code>finish</code> or <code>disconnect</code> is necessary. You should leave them out until you know your way around <code>DBI</code> better</p>\n\n<p>You're correct, <code>$sth</code> will be <code>undef</code>, and the error code and error message will be returned by <code>$dbh-&gt;err</code> and <code>$dbh-&gt;errstr</code>. Also, by default the <code>PrintError</code> option is set, which causes <code>DBI</code> to generate a warning if there are any errors in execution. If you want your program to stop altogether instead then disable <code>PrintError</code> and enable <code>RaiseError</code></p>\n\n<p>Apart from that it's really down to what you choose to do in the case of an error. For instance, some errors might be recoverable, in which case you can disable <em>both</em> <code>PrintError</code> <em>and</em> <code>RaiseError</code> and test whether the returned value is <code>undef</code>. Then you would perform some action possibly based on the error code returned by <code>$dbh-&gt;err</code></p>\n\n<p>I hope that helps</p>\n"}, {"tags": [], "owner": {"reputation": 1033, "user_id": 77193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf82705f5ab43c73273ab5d690866b3?s=128&d=identicon&r=PG", "display_name": "Tim Bunce", "link": "https://stackoverflow.com/users/77193/tim-bunce"}, "is_accepted": true, "score": 5, "last_activity_date": 1439116633, "creation_date": 1439116633, "answer_id": 31903307, "question_id": 31890805, "link": "https://stackoverflow.com/questions/31890805/perl-dbi-statement-handles-and-error-handling/31903307#31903307", "title": "Perl DBI Statement Handles and Error Handling", "body": "<blockquote>\n  <p>So in a scenario where \"table\" doesn't have a column \"c\", the query would be invalid, making the handle $sth invalid and failing to execute. Right?</p>\n</blockquote>\n\n<p>It's not clear what you mean by \"invalid\".</p>\n\n<p>Some drivers, like DBD::Oracle, may send the SQL statement to the server when you call <code>prepare</code>, in which case the error will be detected by the server and <code>prepare</code> will fail, returning an undef. (See also @Borodin's note about RaiseError.)</p>\n\n<p>If the driver <em>doesn't</em> send the statement to the server when <code>prepare</code> is called then driver creates and returns a statement handle that has the statement string stored within it.</p>\n\n<blockquote>\n  <p>Now, in case of a failure as such, what happens to $sth? I can't call finish on it, because it is invalid.</p>\n</blockquote>\n\n<p>Again, it's not clear what you mean by \"invalid\". (I find it helpful to try to be <em>really</em> clear about the concepts and situations I'm thinking about. Forcing myself to do that often means I find the answers to my own questions because the 'problem' was in the words I was using.)</p>\n\n<p>So, as I described above, either <code>prepare</code> failed and returned an undef (or threw an exception due to RaiseError - recommended), or <code>prepare</code> returned a valid $sth.</p>\n\n<p>If <code>prepare</code> returned an undef then perl will throw an exception when you try to call execute.</p>\n\n<p>If <code>prepare</code> returned a valid $sth then <code>execute</code> will be called, the statement will be sent to the server, the server will detect the error, and <code>execute</code> will return false (or throw an exception if RaiseError is set - recommended).</p>\n\n<p>At no point would I call $sth \"invalid\". Either you don't have an $sth at all because prepare failed, or you have an $sth that's perfectly valid but experienced an error when executed.</p>\n\n<p>In that case calling <code>$sth-&gt;finish</code> would work but, as @ThisSuitIsBlackNot correctly noted, it would be pointless. (I should have renamed <code>finish</code> to <code>discard_pending_rows</code> many many years ago.)</p>\n"}], "owner": {"reputation": 35, "user_id": 3172920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MU7i.jpg?s=128&g=1", "display_name": "Peter C", "link": "https://stackoverflow.com/users/3172920/peter-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1614, "favorite_count": 0, "accepted_answer_id": 31903307, "answer_count": 2, "score": 2, "last_activity_date": 1439116633, "creation_date": 1439019089, "last_edit_date": 1439048972, "question_id": 31890805, "link": "https://stackoverflow.com/questions/31890805/perl-dbi-statement-handles-and-error-handling", "title": "Perl DBI Statement Handles and Error Handling", "body": "<p>Let's say I have a subroutine that connects to a DB. Then I want to make a query and receive the output and do something with it, of course, but what if the query is invalid?</p>\n\n<p>So let's assume I have something like:</p>\n\n<pre><code>$dbh = DBI-&gt;connect(&lt;db&gt;, &lt;user&gt;, &lt;pass&gt;);\n$query = 'select a, b, c from table';\n$sth = $dbh-&gt;prepare($query);\n$sth-&gt;execute();\n</code></pre>\n\n<p>I realise I could also use a \"do\", but this will be easier for me to understand. So in a scenario where \"table\" doesn't have a column \"c\", the query would be invalid, making the handle $sth invalid and failing to execute. Right?</p>\n\n<p>Now, in case of a failure as such, what happens to $sth? I can't call finish on it, because it is invalid.</p>\n"}, {"tags": ["perl", "hash", "slice"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1439028899, "creation_date": 1439028899, "answer_id": 31892025, "question_id": 31890125, "link": "https://stackoverflow.com/questions/31890125/pass-a-slice-of-hash-as-argument-in-perl/31892025#31892025", "title": "Pass a slice of hash as argument in Perl", "body": "<p>You can't create a smaller hash that is a subset of another without building it in some way as you have written</p>\n\n<p>It is probably best to pass the entire hash together with a list of keys to be processed, like this</p>\n\n<pre><code>process( \\%input_data, 'foobar', 'qwerty', 'test123')\n</code></pre>\n\n<p>You could use slices to build your smaller hash, like this</p>\n\n<pre><code>my @keys = ( 'foobar', 'qwerty', 'test123' );\nmy %subset;\n@subset{@keys} = @input_data{@keys};\nprocess(\\%subset);\n</code></pre>\n\n<p>Also, you should avoid capital letters in lexical identifiers. Capitals are reserved for use in global identifiers such as Package::Names, and some serious clashes can happen if you also use them for local variables and subroutines</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1439044794, "creation_date": 1439044794, "answer_id": 31894202, "question_id": 31890125, "link": "https://stackoverflow.com/questions/31890125/pass-a-slice-of-hash-as-argument-in-perl/31894202#31894202", "title": "Pass a slice of hash as argument in Perl", "body": "<p>Can I suggest that you don't need to do that? Why not instead use something like <code>Parallel::ForkManager</code> and just spawn a new fork for each key - limiting the concurrency seperately. </p>\n\n<p>E.g.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Parallel::ForkManager;\n\nmy $fm = Parallel::ForkManager -&gt; new ( 3 ); \n\nforeach my $key ( keys %inputData ) {\n   $fm -&gt; start and next;\n   process ( $inputData{$key} );\n   $fm -&gt; finish;\n}\n\n$fm -&gt; wait_all_children();\n</code></pre>\n\n<p>This sets your concurrency limit to 3, but spawns a new fork per element, and lets you trivially scale 'wider' by just changing that concurrency number. </p>\n\n<p>Otherwise I'd be thinking perhaps switching to using <code>threads</code> and feed elements via a <code>Thread::Queue</code> to multiple worker threads. </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1439061281, "creation_date": 1439061281, "answer_id": 31897595, "question_id": 31890125, "link": "https://stackoverflow.com/questions/31890125/pass-a-slice-of-hash-as-argument-in-perl/31897595#31897595", "title": "Pass a slice of hash as argument in Perl", "body": "<p>If the point of this is to split work among workers, a worker pool model that grabs work from a common queue would work better. The Parallel::Manager solution Sobrique is an example of this (though it might be better to reuse the workers).</p>\n\n<hr>\n\n<p>A simple solution:</p>\n\n<pre><code>my %data       = ...;\nmy $num_groups = ...;\n\nmy @groups;\nmy $i = 0;\nfor my $key (keys(%data)) {\n   $groups[$i]{$key} = $data{$key};\n   $i = ($i + 1) % $num_groups;\n}\n</code></pre>\n\n<p>Probably a bit faster, especially for large inputs.</p>\n\n<pre><code>my %data       = ...;\nmy $num_groups = ...;\n\nour @keys; local *keys = sub { \\@_ }-&gt;( keys(%data) );\nmy $r = @keys % $num_groups;\nmy $group_size = ( @keys - $r ) / $num_groups;\nfor my $i (0..$num_groups-1) {\n   our @group_keys; local *group_keys = sub { \\@_ }-&gt;(\n      splice(@keys, 0, $group_size + ( $i &lt; $r ? 1 : 0 ))\n   );\n   my %group;\n   @group{@group_keys} = @data{@group_keys};\n   push @groups, \\%group;\n}\n</code></pre>\n\n<hr>\n\n<p>Notes:</p>\n\n<ol>\n<li><p>&#x20;</p>\n\n<pre><code>our @a; local *a = sub { \\@_ }-&gt;( LIST );\n</code></pre>\n\n<p>is similar to</p>\n\n<pre><code>my @a = LIST;\n</code></pre>\n\n<p>except the elements of <code>@a</code> are the actual scalars returned by <code>LIST</code>, not copies of them.</p></li>\n<li><p>Since 5.20,</p>\n\n<pre><code>my %group;\n@group{@group_keys} = @data{@group_keys};\npush @groups, \\%group;\n</code></pre>\n\n<p>can be written</p>\n\n<pre><code>push @groups, { %data{@group_keys} };\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 152, "user_id": 3998705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/703599576/picture?type=large", "display_name": "user254173", "link": "https://stackoverflow.com/users/3998705/user254173"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 31894202, "answer_count": 3, "score": 1, "last_activity_date": 1439061281, "creation_date": 1439013192, "last_edit_date": 1439015347, "question_id": 31890125, "link": "https://stackoverflow.com/questions/31890125/pass-a-slice-of-hash-as-argument-in-perl", "title": "Pass a slice of hash as argument in Perl", "body": "<p>I have data in a hash that looks like this:</p>\n\n<pre><code>my %inputData;\n$inputData{'312'} = 'foobar';\n$inputData{'112'} = 'qwerty';\n$inputData{'232'} = 'test123';\n$inputData{'221'} = 'asdfg';\n</code></pre>\n\n<p>and so forth. </p>\n\n<p>I use forks to analyze the data, I use $n number of forks. The process() function launches a new fork to do the data analysis, like so:</p>\n\n<pre><code>for my $i ( 0 .. $n-1 )\n{\n    process( ... );\n}\n</code></pre>\n\n<p>How can I pass a hash reference as an argument to the process() function that contains a slice of the %inputData?</p>\n\n<p>For example, should $n = 2, the loop would run two iterations and first iterations would do:</p>\n\n<pre><code>my %hashSlice;\n$hashSlice{'312'} = 'foobar';\n$hashSlice{'112'} = 'qwerty';\nprocess(\\%hashSlice);\n</code></pre>\n\n<p>and at second iteration do:</p>\n\n<pre><code>my %hashSlice;\n$hashSlice{'232'} = 'test123';\n$hashSlice{'221'} = 'asdfg';\nprocess(\\%hashSlice);\n</code></pre>\n\n<p>Or, should $n = 3, the loop would run three iterations and first iterations would do:</p>\n\n<pre><code>my %hashSlice;\n$hashSlice{'312'} = 'foobar';\n$hashSlice{'112'} = 'qwerty';\nprocess(\\%hashSlice);\n</code></pre>\n\n<p>at second iteration do:</p>\n\n<pre><code>my %hashSlice;\n$hashSlice{'232'} = 'test123';\nprocess(\\%hashSlice);\n</code></pre>\n\n<p>and at third iteration do:</p>\n\n<pre><code>my %hashSlice;\n$hashSlice{'221'} = 'asdfg';\nprocess(\\%hashSlice);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1439010952, "post_id": 31889831, "comment_id": 51697088, "body": "What have you tried?  How would you check that the line contains the current run ID string?  How would you then extract the date/time portion from a line?  It all looks pretty straight-forward if you do it in two operations.  If you think you must do it all in one, then it can be done too, but doing the operations separately is probably simpler \u2014 and simple is probably better if you&#39;re having to ask how to do it."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 4, "last_activity_date": 1439011218, "creation_date": 1439011218, "answer_id": 31889923, "question_id": 31889831, "link": "https://stackoverflow.com/questions/31889831/regarding-regular-expression-in-perl/31889923#31889923", "title": "Regarding regular expression in Perl", "body": "<p>I wouldn't use a regex for this.  Instead, I would split the message on the <code>--</code> delimiter.  This simplifies the problem by separating parsing the whole line from parsing the date.</p>\n\n<pre><code># 07 Aug 2015 00:09:14 -- INFO -- *** CURRENT_RUN_ID=600\nmy($date_string, $flag, $message) = split /\\s*--\\s*/, $line, 3;\n</code></pre>\n\n<p>Then I'd turn the date into a Time::Piece object using <a href=\"https://metacpan.org/pod/Time::Piece#Date-Parsing\" rel=\"nofollow\">Time::Piece->strptime</a>.  This takes format arguments like <a href=\"http://linux.die.net/man/3/strftime\" rel=\"nofollow\">strftime</a>.</p>\n\n<pre><code>my $date = Time::Piece-&gt;strptime($date_string, '%d %b %Y %H:%M:%S');\n</code></pre>\n\n<p>Then you can play with <code>$date</code> as a handy Time::Piece object.</p>\n"}, {"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 1, "last_activity_date": 1439011347, "creation_date": 1439011347, "answer_id": 31889935, "question_id": 31889831, "link": "https://stackoverflow.com/questions/31889831/regarding-regular-expression-in-perl/31889935#31889935", "title": "Regarding regular expression in Perl", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nwhile (&lt;&gt;)\n{\n    if (m/^(\\d\\d) (\\w{3}) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) .*CURRENT_RUN_ID/)\n    {\n        my $var = \"$1$2$3$4$5$6\";\n        print \"$var\\n\";\n    }\n}\n</code></pre>\n\n<p>Look for 2 digits, 3 letters, 4 digits, and a sequence of pairs of digits with blanks and colons as separators, followed by <code>CURRENT_RUN_ID</code>.  If it matches, assemble the string without spaces or colons, and assign to a variable.  Print.</p>\n"}, {"tags": [], "owner": {"reputation": 4840, "user_id": 1051441, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/XfVDj.png?s=128&g=1", "display_name": "Shuwn Yuan Tee", "link": "https://stackoverflow.com/users/1051441/shuwn-yuan-tee"}, "is_accepted": false, "score": 1, "last_activity_date": 1439012156, "creation_date": 1439012156, "answer_id": 31890016, "question_id": 31889831, "link": "https://stackoverflow.com/questions/31889831/regarding-regular-expression-in-perl/31890016#31890016", "title": "Regarding regular expression in Perl", "body": "<p>First regex here to get the matching line. Second regex removes space &amp; ':' from date time.</p>\n\n<pre><code>my $string = '07 Aug 2015 00:09:14 -- INFO -- *** CURRENT_RUN_ID=600';\nif ($string =~ /^(\\d{2}\\s[A-Z][a-z]{2}\\s\\d{4}\\s\\d{2}:\\d{2}:\\d{2}).+CURRENT_RUN_ID/) {\n    my $datetime = $1;\n    $datetime =~ s/[\\s|:]//gc;\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5047700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09413769ab2397b2b743bd49d18f09b3?s=128&d=identicon&r=PG&f=1", "display_name": "STJ", "link": "https://stackoverflow.com/users/5047700/stj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1439012156, "creation_date": 1439010170, "last_edit_date": 1439010800, "question_id": 31889831, "link": "https://stackoverflow.com/questions/31889831/regarding-regular-expression-in-perl", "title": "Regarding regular expression in Perl", "body": "<p>I want to grep date and time written in below format and assign it to a variable removing the spaces and colons.  Please suggest regular expressions for this.</p>\n\n<pre><code>07 Aug 2015 00:09:14\n</code></pre>\n\n<p>The thing is that I want to grep this format in a specific line which contains \"CURRENT_RUN_ID\". For example: the line would be like this:</p>\n\n<pre><code>07 Aug 2015 00:09:14 -- INFO -- *** CURRENT_RUN_ID=600\n</code></pre>\n\n<p>I need to grab the date and time only from this specific line which contains \"CURRENT_RUN_ID\".</p>\n"}, {"tags": ["c#", "perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1438998627, "post_id": 31888733, "comment_id": 51695151, "body": "See also <a href=\"https://metacpan.org/pod/perlipc#Using-open-for-IPC\" rel=\"nofollow noreferrer\">Using open() for IPC</a>."}, {"owner": {"reputation": 61, "user_id": 5067331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/968864766499478/picture?type=large", "display_name": "Michael Riley", "link": "https://stackoverflow.com/users/5067331/michael-riley"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1438999237, "post_id": 31888733, "comment_id": 51695269, "body": "Sinan Unur you are correct that there are sort of two questions.  Both lead to the same result though.  I have been directed to make this program execute all of these tasks in a multithreaded fashion which I did to a point by executing the perl scripts as different processes but the GUI freezes during execution.  C# seems to be quite adept at file and string handling so I am not throwing out the perl code but utilizing it&#39;s functionality in a new language.  I guess what I don&#39;t understand about the perl script is what &#39;^&amp;&#39; this sort of stuff does and what $filename| does."}, {"owner": {"reputation": 61, "user_id": 5067331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/968864766499478/picture?type=large", "display_name": "Michael Riley", "link": "https://stackoverflow.com/users/5067331/michael-riley"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1438999588, "post_id": 31888733, "comment_id": 51695337, "body": "Sinan Unur, Thanks for the IPC link, I&#39;m reading it now...."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1438999609, "post_id": 31888733, "comment_id": 51695344, "body": "Where is the documentation for <code>link86</code>? It may have a command line argument limit, but the Perl script is reading arguments from <code>$tempfn</code>. Your multi-threading attempts are probably getting borked because of the fact that all the processes are trying to create the same helper files. For that, you would need to ensure that the Perl script uses distinct auxiliary files for each process."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 5067331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/968864766499478/picture?type=large", "display_name": "Michael Riley", "link": "https://stackoverflow.com/users/5067331/michael-riley"}, "edited": false, "score": 0, "creation_date": 1439001481, "post_id": 31888898, "comment_id": 51695607, "body": "Sorry I forgot the &#39;,&#39; after FILE.  So when link86 gets executed does it get the contents of whatever file is in <code>$tempfn</code> all at once as in: <code>link86 file.obj, file2.obj, file3.obj......file95.obj</code> or are they read in one at a time?  I think they all go at once and then link86 is executed because all of the object files need to be linked together.  I have been playing with this vai the command line and it seems that link86 needs all of the object files at once.  How would I emulate the perl functionality in C#?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 61, "user_id": 5067331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/968864766499478/picture?type=large", "display_name": "Michael Riley", "link": "https://stackoverflow.com/users/5067331/michael-riley"}, "edited": false, "score": 0, "creation_date": 1439001716, "post_id": 31888898, "comment_id": 51695640, "body": "The invocation <code>&quot;link86.exe ^&amp; response.file&quot;</code> is not Perl specific. Piping its output to the Perl program is. <a href=\"http://stackoverflow.com/questions/206323/how-to-execute-command-line-in-c-get-std-out-results\">How To: Execute command line in C#, get STD OUT results</a> ... The accepted answer gives the output in one go instead of line-by-line, but you should be able to figure out where to go based on that. See also <a href=\"https://msdn.microsoft.com/en-us/library/system.diagnostics.process.standardoutput.aspx\" rel=\"nofollow noreferrer\">Process.StandardOutput Property</a>"}, {"owner": {"reputation": 61, "user_id": 5067331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/968864766499478/picture?type=large", "display_name": "Michael Riley", "link": "https://stackoverflow.com/users/5067331/michael-riley"}, "edited": false, "score": 0, "creation_date": 1439002276, "post_id": 31888898, "comment_id": 51695714, "body": "Thanks so much!  I&#39;ll get to work and post when I reach a solution!"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 0, "last_activity_date": 1439000154, "last_edit_date": 1439000154, "creation_date": 1438999403, "answer_id": 31888898, "question_id": 31888733, "link": "https://stackoverflow.com/questions/31888733/c-process-parameter-invalid-while-running-link86-exe/31888898#31888898", "title": "C# process parameter invalid while running link86.exe", "body": "<p>Looking at the Perl part of the question:</p>\n\n<pre><code>open( FILE \"link86 ^&amp; &lt; $tempfn|\" ) || die \"Could not run link86: $!\\n\";\n</code></pre>\n\n<p>This is a syntax error. <code>FILE</code> is a bareword filehandle. You need a comma after that for the next argument to <a href=\"https://metacpan.org/pod/perlfunc/open\" rel=\"nofollow\">open</a>. So, the line should be:</p>\n\n<pre><code>open( FILE, \"link86 ^&amp; &lt; $tempfn|\" ) || die \"Could not run link86: $!\\n\";\n</code></pre>\n\n<p>The second argument is a command for the shell to execute. The trailing pipe indicates that the output of the command will be piped to your program via the <code>FILE</code> filehandle.</p>\n\n<p><code>^&amp;</code> will be interpreted by the shell executing this program. In this case, I am assuming the shell is <code>cmd.exe</code>. <code>^</code> is the escape character in <code>cmd.exe</code>. Therefore, it causes the following <code>&amp;</code> to be interpreted as a literal character. (See also, <a href=\"http://blogs.msdn.com/b/twistylittlepassagesallalike/archive/2011/04/23/everyone-quotes-arguments-the-wrong-way.aspx\" rel=\"nofollow\">Everyone quotes command line arguments the wrong way</a>: \"When cmd transforms a command line and sees a <code>^</code>, it ignores the <code>^</code> character itself and copies the next character to the new command line literally ...\")</p>\n\n<p>I am not exactly sure what it does, but it seems to basically execute <code>link86</code> using the contents of whatever filename is in <code>$tempfn</code>.</p>\n\n<pre><code>while( &lt;LINK&gt; )\n{\n    print; # what does the print without parameters do?\n    if( /^(EXCEPTION|ERROR)/i ) \n    {\n        $abflag = 1;\n    }\n    print $dlogH \"\\nabort Flag:  $abflag\\n\";\n}\n</code></pre>\n\n<p>This reads from the <code>LINK</code> bareword filehandle. Each line is stored in <code>$_</code>, and then printed. Without arguments, <code>print</code> prints the contents of <code>$_</code> to the currently selected output filehandle (most likely <code>STDOUT</code>).</p>\n\n<p>If the line contains either <code>EXCEPTION</code> or <code>ERROR</code>, it sets the abort flag. For each line read from <code>LINK</code>, it prints the value of abort flag. Once set, the abort flag remains set.</p>\n"}], "owner": {"reputation": 61, "user_id": 5067331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/968864766499478/picture?type=large", "display_name": "Michael Riley", "link": "https://stackoverflow.com/users/5067331/michael-riley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 31888898, "answer_count": 1, "score": -5, "last_activity_date": 1439000279, "creation_date": 1438997346, "last_edit_date": 1439000279, "question_id": 31888733, "link": "https://stackoverflow.com/questions/31888733/c-process-parameter-invalid-while-running-link86-exe", "title": "C# process parameter invalid while running link86.exe", "body": "<p>Good Afternoon Everyone.  I have taken on a C# programming assignment that was previously coded by someone else.  This program originally called two perl scripts for execution.  Those perl scripts were written back in the 90's and basically do a lot of formatting and filtering prior to calling various 8086 executables for assembling and linking .a86 files.  </p>\n\n<p>In the beginning I rewrote the perl scripts to increase speed and accept arguments in from the c# program.  I am not very good at interpreting some of what the original script was doing.  </p>\n\n<p>Now in the C# program I have instantiated processes for all of the executables  and am starting them successfully except for when running link86.exe I get errors.  The link86 process has the following info:</p>\n\n<pre><code>Process test = new Process();\nProcessStartInfo testproc = new ProcessStartInfo();\ntestproc.FileName = path + \"\\\\link86.exe\";\ntestproc.Arguments = procData; // procData is a string\ntest.testproc.Start();\n\n/* I'm having trouble passing all of these objects as arguments \n * to link86. link86 does not like the '&amp;' being in the string, \n * also the ' ' (space) is not required between arguments.  After \n * 6 objects as arguments the command line returns the following error\n * 'The system cannot execute the specified program' it seems as if the\n * the command line is trying to execute the .obj file I don't know why  \n * this is.\n * The error returned by the debugger says the 'Parameter was invalid'\n */ \n\nprocData = (in text visualizer)\nfile.OBJ, &amp;\nfile2.OBJ, &amp;\nTO outputfile.LNK OPTIONS\n\nprocData = (when hovering over object)\n\"file.OBJ, &amp;\\nfile2.OBJ, &amp;\\nTO outputfile.LNK OPTIONS\"\n</code></pre>\n\n<p>On the command line the following command works up until I enter a 7th .obj file.<br>\n    link86 file.obj, file2.obj,...TO outputfile.LNK OPTIONS</p>\n\n<p>I looked up some info about link86.exe and I have found out it has a command line length limit of 127 characters.  I am trying to pass about 95 .obj files to link86 as arguments.  </p>\n\n<p>If I could find a method to pass 90+ arguments to link86 via c# that would help immensely.  </p>\n\n<p>Thanks for your time and consideration in this matter!</p>\n"}, {"tags": ["perl", "ssh"], "comments": [{"owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 0, "creation_date": 1438989391, "post_id": 31887854, "comment_id": 51693399, "body": "I&#39;m not sure why you describe this as &quot;weird&quot;. &#39;publickey&#39; authentication is failing. In interactive mode, it falls back to prompting you for your password (&#39;keyboard-interactive&#39;), which works; in non-interactive mode, that&#39;s obviously not an option, so it fails. Have you made an attempt to set up public-key authentication?"}, {"owner": {"reputation": 61, "user_id": 2896918, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d082a874b5247017760b5c63eaf794ad?s=128&d=identicon&r=PG&f=1", "display_name": "screwuphead", "link": "https://stackoverflow.com/users/2896918/screwuphead"}, "reply_to_user": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 0, "creation_date": 1438992070, "post_id": 31887854, "comment_id": 51694043, "body": "Public-key authentication is not an option for what I need the script to accomplish."}, {"owner": {"reputation": 1901, "user_id": 2002471, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/222d816f24fcb2d01e92937b6af01d34?s=128&d=identicon&r=PG", "display_name": "chicks", "link": "https://stackoverflow.com/users/2002471/chicks"}, "edited": false, "score": 0, "creation_date": 1439040607, "post_id": 31887854, "comment_id": 51703842, "body": "Based on what you&#39;ve told us public key sounds like the way to go.  If you eliminate the logical option based on facts we don&#39;t have I&#39;m not sure what help we can give.  Or tell us what the other real non-arbitrary limitations are and we might have a chance to figure it out."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 2896918, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d082a874b5247017760b5c63eaf794ad?s=128&d=identicon&r=PG&f=1", "display_name": "screwuphead", "link": "https://stackoverflow.com/users/2896918/screwuphead"}, "edited": false, "score": 0, "creation_date": 1438995373, "post_id": 31888358, "comment_id": 51694645, "body": "Yea... I realize that after my last comment... oh well.. will think of another approch to log into the appliances that I have and run a few commands."}], "tags": [], "owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "is_accepted": true, "score": 1, "last_activity_date": 1438993326, "creation_date": 1438993326, "answer_id": 31888358, "question_id": 31887854, "link": "https://stackoverflow.com/questions/31887854/unable-to-login-with-netsshperl/31888358#31888358", "title": "Unable to Login with Net::SSH:Perl", "body": "<p>This part:</p>\n\n<pre><code>localhost.localdomain: Authentication methods that can continue: publickey,keyboard-interactive.\n</code></pre>\n\n<p>means that the server is allowing two methods for authenticating:</p>\n\n<ul>\n<li><code>publickey</code> &mdash; public-key authentication\n\n<ul>\n<li>You mention in a comment that this not an option for you.</li>\n</ul></li>\n<li><code>keyboard-interactive</code> &mdash; where you enter a password\n\n<ul>\n<li>It should hardly come as a surprise that this only works in interactive mode.</li>\n</ul></li>\n</ul>\n\n<p>So, what you're trying to do is not possible.</p>\n\n<p>The good news is, this sounds like the <a href=\"http://mywiki.wooledge.org/XyProblem\" rel=\"nofollow\">X-Y Problem</a>. If you give us more details about your <em>real</em> problem, we may be able to suggest a better approach.</p>\n"}], "owner": {"reputation": 61, "user_id": 2896918, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d082a874b5247017760b5c63eaf794ad?s=128&d=identicon&r=PG&f=1", "display_name": "screwuphead", "link": "https://stackoverflow.com/users/2896918/screwuphead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "accepted_answer_id": 31888358, "answer_count": 1, "score": 0, "last_activity_date": 1438993326, "creation_date": 1438988757, "question_id": 31887854, "link": "https://stackoverflow.com/questions/31887854/unable-to-login-with-netsshperl", "title": "Unable to Login with Net::SSH:Perl", "body": "<p>I am just starting to use Net::SSH::Perl and it seems that I ranning into something weird. If I set the interactive flag to 1 and input my password I am am to login remotely to the machine via ssh but if I leave the interactive flag off or set it to 0 the login fails. I confirm that I am able to use Net::SSH::Perl to log into my local machine so it must be something that I am doing wrong for this particular remote machine, which the under laying OS is SuSE. I also confirmed that I am able to ssh to the remote machine from a terminal window.</p>\n\n<pre><code>use Net::SSH::Perl;\nmy $cmd = 'uptime';\nmy $ssh = Net::SSH::Perl-&gt;new($host, interactive=&gt; 0, debug =&gt; 1);\n$ssh-&gt;login($user, $pass);\nmy($stdout, $stderr, $exit) = $ssh-&gt;cmd($cmd);\nprint $stdout;\n</code></pre>\n\n<p>Below is the logs that are output from debug when the interactive flag is set to 0. </p>\n\n<pre><code>localhost.localdomain: Reading configuration data /home/user/.ssh/config\nlocalhost.localdomain: Reading configuration data /etc/ssh_config\nlocalhost.localdomain: Connecting to 1.1.1.1, port 22.\nlocalhost.localdomain: Remote version string: SSH-2.0-OpenSSH_5.1\n\nlocalhost.localdomain: Remote protocol version 2.0, remote software version OpenSSH_5.1\nlocalhost.localdomain: Net::SSH::Perl Version 1.38, protocol version 2.0.\nlocalhost.localdomain: No compat match: OpenSSH_5.1\n.\nlocalhost.localdomain: Connection established.\nlocalhost.localdomain: Sent key-exchange init (KEXINIT), wait response.\nlocalhost.localdomain: Algorithms, c-&gt;s: 3des-cbc hmac-sha1 none\nlocalhost.localdomain: Algorithms, s-&gt;c: 3des-cbc hmac-sha1 none\nlocalhost.localdomain: Entering Diffie-Hellman Group 1 key exchange.\nlocalhost.localdomain: Sent DH public key, waiting for reply.\nlocalhost.localdomain: Received host key, type 'ssh-dss'.\nlocalhost.localdomain: Host '1.1.1.1' is known and matches the host key.\nlocalhost.localdomain: Computing shared secret key.\nlocalhost.localdomain: Verifying server signature.\nlocalhost.localdomain: Waiting for NEWKEYS message.\nlocalhost.localdomain: Send NEWKEYS.\nlocalhost.localdomain: Enabling encryption/MAC/compression.\nlocalhost.localdomain: Sending request for user-authentication service.\nlocalhost.localdomain: Service accepted: ssh-userauth.\nlocalhost.localdomain: Trying empty user-authentication request.\nlocalhost.localdomain: Authentication methods that can continue: publickey,keyboard-interactive.\nlocalhost.localdomain: Next method to try is publickey.\nlocalhost.localdomain: Publickey: testing agent key 'user@localhost.localdomain'\nlocalhost.localdomain: Authentication methods that can continue: publickey,keyboard-interactive.\nlocalhost.localdomain: Next method to try is publickey.\nlocalhost.localdomain: Publickey: testing agent key 'user'\nlocalhost.localdomain: Authentication methods that can continue: publickey,keyboard-interactive.\nlocalhost.localdomain: Next method to try is publickey.\nPermission denied at /home/user/workspace/perl-random/avamar_ssh.pl line 4.\n</code></pre>\n\n<p>I am guessing I am doing something wrong, so if someone could point in the right direction that would be awesome.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1439066250, "post_id": 31887701, "comment_id": 51711745, "body": "You&#39;d have to modify Perl to add your own allocator. On the plus side, Perl already indirects memory allocation (to support different allocators on different platforms), so this would be relatively easy."}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1439132680, "post_id": 31887701, "comment_id": 51725033, "body": "Thanks @ikegami, it&#39;s good to know perl can have different memory allocators."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1439137647, "post_id": 31887701, "comment_id": 51726564, "body": "Won&#39;t stop C libraries (e.g. XML::LibXML) from allocating their own memory. It would be far easier to run <code>perl</code> in a  separate process and limit the process size at the OS level."}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1439235903, "post_id": 31887701, "comment_id": 51767914, "body": "Very good point. Agree with your recommendation of OS level of limitation."}], "answers": [{"comments": [{"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1439132518, "post_id": 31890965, "comment_id": 51724988, "body": "Thanks @calle-dybedahl for pointing it out this file. Never looked into perl internals."}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": true, "score": 2, "last_activity_date": 1439020523, "creation_date": 1439020523, "answer_id": 31890965, "question_id": 31887701, "link": "https://stackoverflow.com/questions/31887701/restrict-perl-to-do-memory-allocation-from-a-fixed-range-of-memory/31890965#31890965", "title": "restrict perl to do memory allocation from a fixed range of memory", "body": "<p>I'm reasonably certain there is no way to do that in a normal Perl binary, but all perl's memory allocation code is nicely packaged in the <code>malloc.c</code> file in the source code. That file also has lots of comments on how Perl's memory allocation works under the hood. It's shouldn't be too hard to create a locally modified perl that does what you want, I think.</p>\n"}], "owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 31890965, "answer_count": 1, "score": 4, "last_activity_date": 1439020523, "creation_date": 1438987644, "question_id": 31887701, "link": "https://stackoverflow.com/questions/31887701/restrict-perl-to-do-memory-allocation-from-a-fixed-range-of-memory", "title": "restrict perl to do memory allocation from a fixed range of memory", "body": "<p>I have a C program with perl running as a thread. I would like to restrict the perl interpreter to use memory from a chunk that I pre-allocated (about 2GB). Wonder if it's possible and how to do it. </p>\n\n<p>Thanks.</p>\n"}, {"tags": ["windows", "git", "perl", "file"], "comments": [{"owner": {"reputation": 2353, "user_id": 1157272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ac0e051c9fabf087a0aa4bc2caba50?s=128&d=identicon&r=PG", "display_name": "joran", "link": "https://stackoverflow.com/users/1157272/joran"}, "edited": false, "score": 0, "creation_date": 1439015043, "post_id": 31887697, "comment_id": 51697819, "body": "The &quot;:&quot; is a reserved character in filenames on windows, this may give more info <a href=\"http://stackoverflow.com/questions/5991805/how-do-i-clone-files-with-colons-in-the-filename\" title=\"how do i clone files with colons in the filename\">stackoverflow.com/questions/5991805/&hellip;</a>. By the way you can make a shallow clone by adding <code>--depth 1</code>on your VM machine, if partial history is sufficient."}], "answers": [{"comments": [{"owner": {"reputation": 3688, "user_id": 282345, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/RGIlu.jpg?s=128&g=1", "display_name": "asgs", "link": "https://stackoverflow.com/users/282345/asgs"}, "edited": false, "score": 0, "creation_date": 1590177312, "post_id": 31890782, "comment_id": 109592457, "body": "Great! Never even thought of the possibility of doing a partial checkout like this"}], "tags": [], "owner": {"reputation": 20825, "user_id": 717372, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/048230d83d50ff15f0b4fb4e0c033e5e?s=128&d=identicon&r=PG", "display_name": "Philippe", "link": "https://stackoverflow.com/users/717372/philippe"}, "is_accepted": false, "score": 1, "last_activity_date": 1439018919, "creation_date": 1439018919, "answer_id": 31890782, "question_id": 31887697, "link": "https://stackoverflow.com/questions/31887697/issue-with-windows-and-git-with-illegal-filenames/31890782#31890782", "title": "Issue with Windows and Git with illegal filenames", "body": "<p>Surely you must use git sparse-checkout feature that permit to checkout only some directories and in your case ignore directories with not supported files. </p>\n\n<p>Example :</p>\n\n<p><a href=\"http://jasonkarns.com/blog/subdirectory-checkouts-with-git-sparse-checkout/\" rel=\"nofollow\">http://jasonkarns.com/blog/subdirectory-checkouts-with-git-sparse-checkout/</a></p>\n"}], "owner": {"reputation": 665, "user_id": 5203863, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b3918d7e8c3a33f29db835bc4a72c273?s=128&d=identicon&r=PG&f=1", "display_name": "rosenthal", "link": "https://stackoverflow.com/users/5203863/rosenthal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1918, "favorite_count": 0, "closed_date": 1439038321, "answer_count": 1, "score": 3, "last_activity_date": 1439018919, "creation_date": 1438987618, "question_id": 31887697, "link": "https://stackoverflow.com/questions/31887697/issue-with-windows-and-git-with-illegal-filenames", "closed_reason": "Duplicate", "title": "Issue with Windows and Git with illegal filenames", "body": "<p>So, I'm working on a component to my company's project in which we are using git as our version control. After I finished my task on the project, I needed to send my code in for review. </p>\n\n<p>The problem is, <strong>I'm working on a Windows machine</strong> with perl files names on the remote git branch that something similar to <strong>\"filename::123.pm\"</strong>. So what Windows does when I checkout this branch is just delete them from my local branch, and all file names with a :: in them are gone. Since these are important files, this is an issue for my additions on the local branch and cannot be merged since then the important perl files are gone.</p>\n\n<p><em>How do I avoid this?</em></p>\n\n<p>I wanted to try something like ignore the specific files for a git clone of the repo, so when I checkout they are ignored anyways and not removed, but this is impossible. Another thing I wanted to do was clone on a VM running linux and work from there to do commits. Well the cloning is super slow, and that isn't an option either.</p>\n\n<p>What is my best option for working with this repo where the filenames are invalid for a Windows machine to read? And no, renaming the files isn't going to work since so there is so much more work to be done if we did that. </p>\n"}, {"tags": ["perl", "recursion", "copy", "directory-structure"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1438981724, "post_id": 31886644, "comment_id": 51690953, "body": "Re &quot;I cannot install or modify the existing environment&quot;, So you can&#39;t add Perl code to the machine?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1438981735, "post_id": 31886644, "comment_id": 51690959, "body": "The source of <a href=\"https://metacpan.org/pod/File::Copy::Recursive\" rel=\"nofollow noreferrer\"><code>File::Copy::Recursive</code></a>is <a href=\"https://metacpan.org/source/DMUEY/File-Copy-Recursive-0.38/Recursive.pm\" rel=\"nofollow noreferrer\">here</a>.. It uses modules <code>File::Copy</code> and <code>File::Spec</code> .. You can just copy it to your local machine"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1438982066, "post_id": 31886644, "comment_id": 51691092, "body": "Does it have to be perl? <code>rsync</code>, <code>cp</code> or <code>tar</code> can do directory structure copies."}, {"owner": {"reputation": 149, "user_id": 3307441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HTg0F.png?s=128&g=1", "display_name": "vulpineblazeyt", "link": "https://stackoverflow.com/users/3307441/vulpineblazeyt"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438982345, "post_id": 31886644, "comment_id": 51691210, "body": "It must be perl. I am currently investigating @H&#229;konH&#230;gland comment."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438985178, "post_id": 31886644, "comment_id": 51692165, "body": "Are copying a directory that contains no link nodes to another brand new directory that is initially empty? If so then it is fairly simple, and the many tests that <code>File::Copy::Recursive::dircopy</code> makes are Unnecessary. It becomes a call to <code>File::Find::find</code> with appropriate use of use of <code>File::Spec-&gt;abs2rel</code>, <code>File::Spec-&gt;rel2abs</code>, <code>File::Path::make_path</code> and <code>File::Copy::copy</code>. If you confirm that your situation matches this reduced problem then I will write up a solution"}, {"owner": {"reputation": 149, "user_id": 3307441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HTg0F.png?s=128&g=1", "display_name": "vulpineblazeyt", "link": "https://stackoverflow.com/users/3307441/vulpineblazeyt"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438987373, "post_id": 31886644, "comment_id": 51692824, "body": "I didn&#39;t get that far with File:Copy, and just switched my approach to @ikegami &#39;s Answer. I think for posterity, the link to the source in File::Copy, and using a reduced featureset since it has a lot of check I didn&#39;t need, is the &#39;correct&#39; answer."}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 3307441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HTg0F.png?s=128&g=1", "display_name": "vulpineblazeyt", "link": "https://stackoverflow.com/users/3307441/vulpineblazeyt"}, "edited": false, "score": 0, "creation_date": 1438982289, "post_id": 31886705, "comment_id": 51691185, "body": "I require portability, which is my I didn&#39;t simply use a shell script. I cannot install <code>File::Copy::Recursive</code> on the target machine."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 149, "user_id": 3307441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HTg0F.png?s=128&g=1", "display_name": "vulpineblazeyt", "link": "https://stackoverflow.com/users/3307441/vulpineblazeyt"}, "edited": false, "score": 3, "creation_date": 1438982649, "post_id": 31886705, "comment_id": 51691298, "body": "Only in the sense you didn&#39;t do it right if you tried."}, {"owner": {"reputation": 149, "user_id": 3307441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HTg0F.png?s=128&g=1", "display_name": "vulpineblazeyt", "link": "https://stackoverflow.com/users/3307441/vulpineblazeyt"}, "edited": false, "score": 0, "creation_date": 1438984026, "post_id": 31886705, "comment_id": 51691758, "body": "I can&#39;t be sure what is available to me on the destination machine. (<i>Eg. bash shell handles flow control with different syntax than ksh</i>)  You make a point, that for this specific piece of the puzzle, I can probably assume the <code>cp</code> command is available. I&#39;ll test it and get back to you."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 149, "user_id": 3307441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HTg0F.png?s=128&g=1", "display_name": "vulpineblazeyt", "link": "https://stackoverflow.com/users/3307441/vulpineblazeyt"}, "edited": false, "score": 1, "creation_date": 1438984070, "post_id": 31886705, "comment_id": 51691776, "body": "No shell was involved in that use of <code>system</code>."}, {"owner": {"reputation": 149, "user_id": 3307441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HTg0F.png?s=128&g=1", "display_name": "vulpineblazeyt", "link": "https://stackoverflow.com/users/3307441/vulpineblazeyt"}, "edited": false, "score": 0, "creation_date": 1438987395, "post_id": 31886705, "comment_id": 51692834, "body": "I was able to use this to accomplish my goal."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1438981872, "creation_date": 1438981872, "answer_id": 31886705, "question_id": 31886644, "link": "https://stackoverflow.com/questions/31886644/how-can-i-copy-an-entire-directory-in-perl-without-using-filecopyrecursive/31886705#31886705", "title": "How can I copy an entire directory in Perl, without using File::Copy::Recursive?", "body": "<p>The system's tools are way better at this anyway.</p>\n\n<pre><code>system('cp', '-rp', '--', $src, $dst);\ndie(\"Can't launch cp: $!\\n\") if $? == -1;\ndie(\"cp killed by signal \".($? &amp; 0x7F).\"\\n\") if $? &amp; 0x7F;\ndie(\"cp exited with error \".($? &gt;&gt; 8).\"\\n\") if $? &gt;&gt; 8;\n</code></pre>\n\n<p>The downside is the lack of portability. If you want portability, install File::Copy::Recursive. If you can install your script on a machine, you can also install File::Copy::Recursive.</p>\n"}], "owner": {"reputation": 149, "user_id": 3307441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HTg0F.png?s=128&g=1", "display_name": "vulpineblazeyt", "link": "https://stackoverflow.com/users/3307441/vulpineblazeyt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1399, "favorite_count": 0, "accepted_answer_id": 31886705, "answer_count": 1, "score": -3, "last_activity_date": 1438982075, "creation_date": 1438981580, "last_edit_date": 1592644375, "question_id": 31886644, "link": "https://stackoverflow.com/questions/31886644/how-can-i-copy-an-entire-directory-in-perl-without-using-filecopyrecursive", "title": "How can I copy an entire directory in Perl, without using File::Copy::Recursive?", "body": "<h2>Question:</h2>\n<p>My question is pretty much identical to <a href=\"https://stackoverflow.com/questions/1865883/how-can-i-copy-an-entire-directory-in-perl\">this one here</a> except that I cannot use  File::Copy::Recursive.</p>\n<h3>Constraints:</h3>\n<p>I cannot install or modify the existing environment, so I am stuck with using what works.</p>\n<pre><code>use File::Copy;   # Works!\nuse File::Copy::Recursive # Doesn't Work :(\nuse File::Path # Works!\n</code></pre>\n<p>I get this error: (<em>I cannot fix this error, since I am only a user of this system, not admin or anything</em>)<br />\n<code>Can't locate File/Copy/Recursive.pm in @INC (@INC contains: /path/to/some/place /path/to/other/place .) at my_program.pl line 13.</code></p>\n<h3>Scenario:</h3>\n<p>If it helps, my scenario is that I want to copy the contents directory, lets say <code>~/my_dir</code> onto what already exists here <code>~/</code>. <code>~/my_dir</code> has a sub-folder <code>~/my_dir/sub_dir</code> and I want to copy that directory and all of it's contents too.</p>\n"}, {"tags": ["regex", "perl", "special-variables"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4982396, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SWkNtDCqScs/AAAAAAAAAAI/AAAAAAAAC3o/HzjXYljze5g/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/4982396/matt"}, "edited": false, "score": 0, "creation_date": 1438979807, "post_id": 31886188, "comment_id": 51690136, "body": "Ah, this works! does this have something to do with greedy?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 13, "user_id": 4982396, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SWkNtDCqScs/AAAAAAAAAAI/AAAAAAAAC3o/HzjXYljze5g/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/4982396/matt"}, "edited": false, "score": 0, "creation_date": 1438979863, "post_id": 31886188, "comment_id": 51690169, "body": "@Matt Yes the operator <code>.*?</code> is non-greedy. It is essential."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 13, "user_id": 4982396, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SWkNtDCqScs/AAAAAAAAAAI/AAAAAAAAC3o/HzjXYljze5g/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/4982396/matt"}, "edited": false, "score": 0, "creation_date": 1438980144, "post_id": 31886188, "comment_id": 51690306, "body": "@ikegami yes, of course.. thanks.. at least it still works :) But using regex without <code>\\g</code>, I need to set <code>pos</code> of course.."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1438980148, "post_id": 31886188, "comment_id": 51690310, "body": "Wow... That&#39;s way too complicated. You&#39;ve basically reimplemented <code>&#47;g</code>."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1438979594, "creation_date": 1438979594, "answer_id": 31886188, "question_id": 31886070, "link": "https://stackoverflow.com/questions/31886070/how-can-i-find-position-of-matched-regex-of-a-single-string-in-perl/31886188#31886188", "title": "How can I find position of matched regex of a single string in Perl?", "body": "<p>You could try:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy $str = \"XXXXXTPXXXXTPXXXXTP\";\n\n# Set position to 0 in order for \\G anchor to work correctly\npos ($str) = 0;\n\nwhile ( $str =~ /\\G.*?TP/s) {\n    say ($+[0] - 2);\n    pos ($str) = $+[0]; # update position to end of last match\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 4982396, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SWkNtDCqScs/AAAAAAAAAAI/AAAAAAAAC3o/HzjXYljze5g/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/4982396/matt"}, "edited": false, "score": 0, "creation_date": 1438980531, "post_id": 31886265, "comment_id": 51690470, "body": "Thank you for your response, this is useful as I will need to store them in a variable"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1438980321, "last_edit_date": 1438980321, "creation_date": 1438979895, "answer_id": 31886265, "question_id": 31886070, "link": "https://stackoverflow.com/questions/31886070/how-can-i-find-position-of-matched-regex-of-a-single-string-in-perl/31886265#31886265", "title": "How can I find position of matched regex of a single string in Perl?", "body": "<p><code>$-[1]</code> is the position of the text captured by the first capture. Your pattern has no captures.</p>\n\n<p>By calling <code>//g</code> in scalar context, only the next match is found, allowing you to grab the position of that match. Simply do this until you've found all the matches.</p>\n\n<pre><code>while ($string =~ /TP/g) {\n   say $-[0];\n}\n</code></pre>\n\n<p>Of course, you could just as easily store them in a variable.</p>\n\n<pre><code>my @positions;\nwhile ($string =~ /TP/g) {\n   push @positions, $-[0];\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4982396, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SWkNtDCqScs/AAAAAAAAAAI/AAAAAAAAC3o/HzjXYljze5g/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/4982396/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "closed_date": 1439038381, "accepted_answer_id": 31886265, "answer_count": 2, "score": 1, "last_activity_date": 1438980321, "creation_date": 1438979052, "last_edit_date": 1438979821, "question_id": 31886070, "link": "https://stackoverflow.com/questions/31886070/how-can-i-find-position-of-matched-regex-of-a-single-string-in-perl", "closed_reason": "Duplicate", "title": "How can I find position of matched regex of a single string in Perl?", "body": "<p>Let's say <code>my $string = \"XXXXXTPXXXXTPXXXXTP\";</code>\nIf I want to match: <code>$string =~ /TP/;</code> multiple times and return the position for each, how would I do so?</p>\n\n<p>I have tried<code>$-[0]</code>, <code>$-[1]</code>, <code>$-[2]</code> but I only get a position for <code>$-[0]</code>.</p>\n\n<p>EDIT:\nI have also tried the global modifier <code>//g</code> and it still does not work.</p>\n"}, {"tags": ["xml", "perl", "xml-libxml"], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 0, "last_activity_date": 1439001499, "creation_date": 1439001499, "answer_id": 31889078, "question_id": 31885918, "link": "https://stackoverflow.com/questions/31885918/adding-a-new-node-using-xmllibxml-throwing-error/31889078#31889078", "title": "Adding a new node using XML:libXML throwing error", "body": "<p>Have a look at the <a href=\"http://cpansearch.perl.org/src/ENNO/libxml-enno-1.00/html/XML/DOM/Node.html\" rel=\"nofollow\">error message description</a>: </p>\n\n<p>HIERARCHY_REQUEST_ERR is  </p>\n\n<p>\"Raised if this node is of a type that does not allow children of the type of the newChild node, or if the node to insert is one of this node's ancestors\"</p>\n\n<p>You are adding $new_item ( a child of $doc ) to the parent of a node you have found. I am <em>guessing</em> that $new_item is an ancestor of that node.</p>\n\n<p>You are looking for an \"Item\" node, which would fit: adding a child to $doc ( here: $new_item ) would be a level above Item, which is at least below RasdItemsList in the hierarchy.</p>\n\n<p>Hope it helps!</p>\n"}, {"tags": [], "owner": {"reputation": 105, "user_id": 1549994, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c8e377760c8b0c23dc3e0ed12048f0b7?s=128&d=identicon&r=PG", "display_name": "user1549994", "link": "https://stackoverflow.com/users/1549994/user1549994"}, "is_accepted": true, "score": 0, "last_activity_date": 1439221581, "creation_date": 1439221581, "answer_id": 31923875, "question_id": 31885918, "link": "https://stackoverflow.com/questions/31885918/adding-a-new-node-using-xmllibxml-throwing-error/31923875#31923875", "title": "Adding a new node using XML:libXML throwing error", "body": "<p>$new_parent is the culprit. It is used as the parent of the item node already, so can not be used again to be added as a child node of item. The following line is creating the problem. \n$new_item->appendChild($new_parent); </p>\n\n<p>I fixed these two lines and it worked.</p>\n\n<pre><code> my $new_parent =  $node-&gt;parentNode;\n $new_parent-&gt;appendChild($new_item);\n\nto \nmy $new_parent_node = $node-&gt;parentNode;\n$new_parent_node-&gt;appendChild($new_item);\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 1549994, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c8e377760c8b0c23dc3e0ed12048f0b7?s=128&d=identicon&r=PG", "display_name": "user1549994", "link": "https://stackoverflow.com/users/1549994/user1549994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 31923875, "answer_count": 2, "score": 0, "last_activity_date": 1439221581, "creation_date": 1438978434, "question_id": 31885918, "link": "https://stackoverflow.com/questions/31885918/adding-a-new-node-using-xmllibxml-throwing-error", "title": "Adding a new node using XML:libXML throwing error", "body": "<p>Here is what the xml looks like</p>\n\n<pre><code>&lt;RasdItemsList xmlns=\"http://www.vmware.com/vcloud/v1.5\" xmlns:rasd=\"...\"&gt;\n      &lt;Link rel=\"edit\" type=\"application/vnd.vmware.vcloud.rasdItemsList+xml\" href=\"...\"/&gt;\n      &lt;Item&gt;\n          &lt;rasd:AddressOnParent&gt;0&lt;/rasd:AddressOnParent&gt;\n          &lt;rasd:Description&gt;Hard disk&lt;/rasd:Description&gt;\n          &lt;rasd:ElementName&gt;Hard disk 1&lt;/rasd:ElementName&gt;\n          &lt;rasd:HostResource xmlns:ns12=\"http://www.vmware.com/vcloud/v1.5\" ns12:capacity=\"59392\" ns12:busSubType=\"lsilogic\" ns12:busType=\"6\"&gt;&lt;/rasd:HostResource&gt;\n          &lt;rasd:InstanceID&gt;2000&lt;/rasd:InstanceID&gt;\n          &lt;rasd:Parent&gt;2&lt;/rasd:Parent&gt;\n          &lt;rasd:ResourceType&gt;17&lt;/rasd:ResourceType&gt;\n      &lt;/Item&gt;\n      &lt;Item&gt;\n          &lt;rasd:AddressOnParent&gt;1&lt;/rasd:AddressOnParent&gt;\n          &lt;rasd:Description&gt;Hard disk&lt;/rasd:Description&gt;\n          &lt;rasd:ElementName&gt;Hard disk 2&lt;/rasd:ElementName&gt;\n          &lt;rasd:HostResource xmlns:ns12=\"http://www.vmware.com/vcloud/v1.5\" ns12:capacity=\"4\" ns12:busSubType=\"lsilogic\" ns12:busType=\"6\"&gt;&lt;/rasd:HostResource&gt;\n          &lt;rasd:InstanceID&gt;2001&lt;/rasd:InstanceID&gt;\n          &lt;rasd:Parent&gt;2&lt;/rasd:Parent&gt;\n          &lt;rasd:ResourceType&gt;17&lt;/rasd:ResourceType&gt;\n      &lt;/Item&gt;\n.. Some more items\n&lt;/RasdItemsList&gt;\n</code></pre>\n\n<p>I am trying to add a new Item node to this, i.e a new hard disk using XML::libXML. Here is my code </p>\n\n<pre><code>  my $doc    = $parser-&gt;parse_string ($data_xml); \n  my $xpc = XML::LibXML::XPathContext-&gt;new($doc);\n  $xpc-&gt;registerNs('x', 'http://www.vmware.com/vcloud/v1.5');\n  $xpc-&gt;registerNs('rasd', 'http:...');\n  $xpc-&gt;registerNs('ns2','http://www.vmware.com/vcloud/v1.5');\n\n  # add a new node\n  my $new_item = $doc-&gt;createElement(\"Item\");\n  my $new_address_on_parent = $doc-&gt; createElement(\"rasd:AddressOnParent\");\n  my $new_element_name = $doc-&gt;createElement(\"rasd:ElementName\"); \n  my $new_description = $doc-&gt;createElement(\"rasd:Description\");\n  my $new_InstanceID  = $doc-&gt;createElement(\"rasd:InstanceID\");\n  my $new_parent = $doc-&gt;createElement(\"rasd:Parent\");\n  my $new_resource_type = $doc-&gt;createElement(\"rasd:ResourceType\");\n  my $new_host_resource = $doc-&gt;createElement(\"rasd:HostResource\");\n  if( my ($node) =  $xpc-&gt;findnodes('/x:RasdItemsList/x:Item') )\n  {\n    my $new_parent =  $node-&gt;parentNode;\n    $new_parent-&gt;appendChild($new_item);\n    $new_item-&gt;appendChild($new_address_on_parent);\n    $new_item-&gt;appendChild($new_description);\n    $new_item-&gt;appendChild($new_element_name);\n    $new_item-&gt;appendChild($new_host_resource);\n    $new_item-&gt;appendChild($new_InstanceID);\n    $new_item-&gt;appendChild($new_parent);\n    $new_item-&gt;appendChild($new_resource_type);\n    $new_address_on_parent-&gt;appendText('4');\n    $new_description-&gt;appendText('Hard disk');\n    $new_element_name-&gt;appendText('Hard Disk 4');\n    $new_host_resource-&gt;appendText(\"What to add\");\n    $new_InstanceID-&gt;appendText('2004');\n    $new_parent-&gt;appendText('2');\n    $new_resource_type-&gt;appendText('17');\n</code></pre>\n\n<p>This is throwing error saying \"appendChild: HIERARCHY_REQUEST_ERR\". I tried to add child one by one and it works until I add Elementname. After that whatever I try to add I get the above error.  </p>\n\n<p>Also I am not sure how to add rasd:HostResource child text. </p>\n\n<p>Thanks in advance for the help. </p>\n"}, {"tags": ["perl", "file-io"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 5112162, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b38a04139eb6e0e9fc24ae825379296?s=128&d=identicon&r=PG&f=1", "display_name": "ZebraSocks", "link": "https://stackoverflow.com/users/5112162/zebrasocks"}, "edited": false, "score": 0, "creation_date": 1438972669, "post_id": 31884431, "comment_id": 51686628, "body": "Ahhh, that was an easy fix. I didn&#39;t even know there was a difference between the two."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1438976414, "post_id": 31884431, "comment_id": 51688452, "body": "method calls pass the object or class the method is being called on as the first parameter.  so your $IN_FILE in the sub was actually &quot;AnotherModule&quot;."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1438976517, "last_edit_date": 1438976517, "creation_date": 1438972228, "answer_id": 31884431, "question_id": 31884282, "link": "https://stackoverflow.com/questions/31884282/how-do-i-pass-an-opened-filehandle-as-the-parameter-of-a-function/31884431#31884431", "title": "How do I pass an opened filehandle as the parameter of a function?", "body": "<p>You are calling a function as a method.</p>\n\n<pre><code>AnotherModule-&gt;ProcessDBU($IN_FILE, $OUT_FILE); \n</code></pre>\n\n<p>should be</p>\n\n<pre><code>AnotherModule::ProcessDBU($IN_FILE, $OUT_FILE); \n</code></pre>\n\n<p>Three differences:</p>\n\n<ul>\n<li>Method calls search the inheritance hierarchy,</li>\n<li>method calls ignore prototypes, and</li>\n<li>method calls pass the invocant (what's left of <code>-&gt;</code>) as the first argument.</li>\n</ul>\n"}], "owner": {"reputation": 85, "user_id": 5112162, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b38a04139eb6e0e9fc24ae825379296?s=128&d=identicon&r=PG&f=1", "display_name": "ZebraSocks", "link": "https://stackoverflow.com/users/5112162/zebrasocks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 31884431, "answer_count": 1, "score": 1, "last_activity_date": 1438976517, "creation_date": 1438971643, "last_edit_date": 1438972198, "question_id": 31884282, "link": "https://stackoverflow.com/questions/31884282/how-do-i-pass-an-opened-filehandle-as-the-parameter-of-a-function", "title": "How do I pass an opened filehandle as the parameter of a function?", "body": "<p>I have a main script that calls a function from another module. I open a file in the main script, and I want to use the filehandle attached to this file as a parameter in the function called (I don't want to open the file in the function because I will be calling the same function on the same file several times, so opening it every time wouldn't make sense).</p>\n\n<p>In my main script:</p>\n\n<pre><code>open(my $IN_FILE, \"&lt;input.txt\") or die \"Can't open: $!\\n\";\nopen(my $OUT_FILE, \"&gt;output.txt\") or die \"Can't open: $!\\n\";\n\nAnotherModule-&gt;ProcessDBU($IN_FILE, $OUT_FILE); \n</code></pre>\n\n<p>In <code>AnotherModule</code>:</p>\n\n<pre><code>sub ProcessDBU{\n    my $IN_FILE = $_[0];\n    my $OUT_FILE = $_[1];\n\n    local $/ = ' ';\n\n    while(&lt;$IN_FILE&gt;){\n        SomeProcess();\n    }\n} \n</code></pre>\n\n<p>However, when I try to run the script, this error occurs:</p>\n\n<pre><code>readline() on unopened filehandle at AnotherModule.pm line 7.\n</code></pre>\n\n<p>What's preventing me from using the filehandle? Why is it unopened? What can I do to fix this problem?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 15304, "user_id": 777906, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/17b38cdcaa72a56bb584fdc6b55b2693?s=128&d=identicon&r=PG", "display_name": "DJ180", "link": "https://stackoverflow.com/users/777906/dj180"}, "edited": false, "score": 0, "creation_date": 1438976067, "post_id": 31883983, "comment_id": 51688300, "body": "Why is this down-voted? It&#39;s a valid question, I&#39;ve given a clear example and the answers below have been given good up votes. If you&#39;re going to down-vote you should at least comment why"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 2, "creation_date": 1438978311, "post_id": 31883983, "comment_id": 51689397, "body": "Can&#39;t explain why someone downvoted other than downvotes happen for many reasons, some irrational.  Anyway, this action: <code>my %myHash = %$hashRef;</code> constitutes &quot;pass by value&quot; or &quot;copy by value&quot;.  There is no lingering binding between <code>%myHash</code> and <code>$hashRef</code>"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1438970844, "post_id": 31884070, "comment_id": 51685727, "body": "<code>my $hashRef = @_[0];</code> better written as <code>my $hashRef = $_[0];</code> (which the OP would know if they used warnings)"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438971087, "post_id": 31884070, "comment_id": 51685867, "body": "Totally agreed... either that or <code>shift</code>. I just copy/pasted for the example. I&#39;ll fix it for other readers in the future. Thanks."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 5, "last_activity_date": 1438971527, "last_edit_date": 1438971527, "creation_date": 1438970739, "answer_id": 31884070, "question_id": 31883983, "link": "https://stackoverflow.com/questions/31883983/perl-passing-by-reference-does-not-modify-the-hash/31884070#31884070", "title": "Perl: Passing by reference does not modify the hash", "body": "<p>That's because when you do <code>my %myHash = %$hashRef;</code>, you're taking a copy of the dereferenced <code>$hashref</code> and putting it into <code>%myHash</code> which is the same thing as <code>my %myHash = %hash;</code>, so you're not working on the referenced hash at all.</p>\n\n<p>To work on the hash specified by the reference, try this...</p>\n\n<pre><code>sub modifyHash {\n    my $hashRef = $_[0];\n    $hashRef-&gt;{\"C\"} = \"3\";\n    print (keys %$hashRef);\n    print \"\\n\";\n}\n</code></pre>\n\n<p>As pointed out by ThisSuitIsBlackNot in the comments below, <code>@_[0]</code> is better written as <code>$_[0]</code>. You should always be using <code>use strict;</code> and <code>use warnings;</code>, as this would have been caught. Because you're sending in a reference, you could also have used <code>my $hashRef = shift;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5203291, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/95d6394cb54cee5c90c73aba2d128a37?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/5203291/scott"}, "is_accepted": false, "score": 1, "last_activity_date": 1438971904, "last_edit_date": 1438971904, "creation_date": 1438971792, "answer_id": 31884315, "question_id": 31883983, "link": "https://stackoverflow.com/questions/31883983/perl-passing-by-reference-does-not-modify-the-hash/31884315#31884315", "title": "Perl: Passing by reference does not modify the hash", "body": "<p>The problem is with the assignment:  </p>\n\n<pre><code>my %myHash = %$hashRef;\n</code></pre>\n\n<p>This is akin to saying:</p>\n\n<pre><code>$x = 5;\n$y = $x;\n</code></pre>\n\n<p>You're not setting $y to reference the same spot in memory, you're just giving the value of $x to $y.  In your example, you're creating a new hash (%myHash) and giving it the value of the hash stored at $hashRef.  Any future changes are to the new hash, not the original.</p>\n\n<p>If you want to manipulate the original, you should do something like:</p>\n\n<pre><code>${$hashRef}{\"C\"} = \"3\";\n</code></pre>\n\n<p>or </p>\n\n<pre><code>$hashRef-&gt;{\"D\"} = 4;\n</code></pre>\n\n<p>There might be a more elegant way of doing it, but as far as I know you want to work with the hash reference.</p>\n"}], "owner": {"reputation": 15304, "user_id": 777906, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/17b38cdcaa72a56bb584fdc6b55b2693?s=128&d=identicon&r=PG", "display_name": "DJ180", "link": "https://stackoverflow.com/users/777906/dj180"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 31884070, "answer_count": 2, "score": 0, "last_activity_date": 1438971904, "creation_date": 1438970356, "question_id": 31883983, "link": "https://stackoverflow.com/questions/31883983/perl-passing-by-reference-does-not-modify-the-hash", "title": "Perl: Passing by reference does not modify the hash", "body": "<p>My understanding was that in Perl we pass hashes to functions by reference</p>\n\n<p>Consider the following example, where we modify the hash in the modifyHash function</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nmy %hash;\n\n$hash{\"A\"} = \"1\";\n$hash{\"B\"} = \"2\";\n\n\nprint (keys %hash);\nprint \"\\n\";\n\nmodifyHash(\\%hash);\n\nprint (keys %hash);\nprint \"\\n\";\n\nsub modifyHash {\n    my $hashRef = @_[0];\n    my %myHash = %$hashRef;\n    $myHash{\"C\"} = \"3\";\n    print (keys %myHash);\n    print \"\\n\";\n}\n</code></pre>\n\n<p>The output of this script is:</p>\n\n<pre><code>AB\nABC\nAB\n</code></pre>\n\n<p>I would have expected it to be:</p>\n\n<pre><code>AB\nABC\nABC\n</code></pre>\n\n<p>...as we pass the hash by reference.</p>\n\n<p>What concept am I missing here about passing hashes to functions?</p>\n"}, {"tags": ["perl", "parsing"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438964333, "post_id": 31882086, "comment_id": 51682247, "body": "You could read the whole file into a string buffer and split it into words afterwards using regex"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 5112162, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b38a04139eb6e0e9fc24ae825379296?s=128&d=identicon&r=PG&f=1", "display_name": "ZebraSocks", "link": "https://stackoverflow.com/users/5112162/zebrasocks"}, "edited": false, "score": 0, "creation_date": 1438964960, "post_id": 31882386, "comment_id": 51682639, "body": "Okay, suppose my file is very large--wouldn&#39;t it be very slow to read it word by word starting at the beginning? Is there a way to read line by line until the pattern is found, then read word by word? Also, could you clarify what you mean by &#39;continue for a number of other iterations&#39;? Wouldn&#39;t <code>for (1 .. 7) { print scalar &lt;DATA&gt;; }</code> also start at the beginning of the file? Thanks!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 85, "user_id": 5112162, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b38a04139eb6e0e9fc24ae825379296?s=128&d=identicon&r=PG&f=1", "display_name": "ZebraSocks", "link": "https://stackoverflow.com/users/5112162/zebrasocks"}, "edited": false, "score": 1, "creation_date": 1438965075, "post_id": 31882386, "comment_id": 51682688, "body": "input is buffered, so it&#39;s a moot point. The actual reads from disk are in larger chunks. But you could set <code>$&#47;</code> after the pattern match - doubt it&#39;ll make much difference. Just bear in mind that you&#39;ve <i>already</i> read the whole line <code>a b c d e f</code>.  Reading <code>&lt;DATA&gt;</code> continues from where it last left off."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438965484, "post_id": 31882386, "comment_id": 51682909, "body": "Maybe <a href=\"http://perldoc.perl.org/functions/sysread.html\" rel=\"nofollow noreferrer\">sysread</a> could be used to bypass the buffering?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1438966716, "post_id": 31882386, "comment_id": 51683530, "body": "Why would you want to do that?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1438979348, "post_id": 31882386, "comment_id": 51689922, "body": "Buffering is a good thing. You read from disk at least a sector at a time, and probably a 1k block. This means that it is the same number of IO operations regardless of whether your script is &quot;reading&quot; a byte or a line."}, {"owner": {"reputation": 85, "user_id": 5112162, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b38a04139eb6e0e9fc24ae825379296?s=128&d=identicon&r=PG&f=1", "display_name": "ZebraSocks", "link": "https://stackoverflow.com/users/5112162/zebrasocks"}, "edited": false, "score": 0, "creation_date": 1439924916, "post_id": 31882386, "comment_id": 52057382, "body": "I&#39;ve realized now that setting <code>local $&#47; = &#39; &#39;;</code> is not good for my purposes. If I run the above code, it will give me <code>a b c d e f\\ng h</code> since it doesn&#39;t account for the newline following <code>g</code>, thus counting <code>f\\ng</code> as one word. How can I circumvent this problem?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 6, "last_activity_date": 1438965100, "last_edit_date": 1438965100, "creation_date": 1438964373, "answer_id": 31882386, "question_id": 31882086, "link": "https://stackoverflow.com/questions/31882086/perl-how-do-i-read-a-text-file-word-by-word-starting-at-a-particular-pattern/31882386#31882386", "title": "Perl: How do I read a text file word by word starting at a particular pattern?", "body": "<p>OK, so the trick here is to set <code>$/</code> - the record separator. If we set it to <code>' '</code> we can iterate one 'word' at a time. </p>\n\n<p>Then we can use the range operator to 'detect' if we are between our patterns. </p>\n\n<pre><code>local $/ = ' ';\n\nwhile ( &lt;DATA&gt; ) {\n    if ( m/a/ ..  10 ) { print; }\n}\n</code></pre>\n\n<p>Now, this prints <em>from</em> a to \"field 10\" - which isn't particularly helpful, because that \"count\" starts at the start of the file. (By</p>\n\n<p>So instead we probably want to 'trigger' when the seen condition is true, and continue for a number of other iterations:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nlocal $/ = ' ';\n\nwhile (&lt;DATA&gt;) {\n    if (m/a/) {\n        print;\n        for ( 2 .. 7 ) { print scalar &lt;DATA&gt;; } #2 because we already have \"1\"\n        last; #assuming we only want to do this once. \n    }\n}\n\n\n__DATA__\n1 2 3 4 5 6 \na b c d e f \ng h i j k j\n</code></pre>\n\n<p>Which prints:</p>\n\n<pre><code>a b c d e f \ng \n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 5112162, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b38a04139eb6e0e9fc24ae825379296?s=128&d=identicon&r=PG&f=1", "display_name": "ZebraSocks", "link": "https://stackoverflow.com/users/5112162/zebrasocks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 31882386, "answer_count": 1, "score": 2, "last_activity_date": 1438965100, "creation_date": 1438963282, "last_edit_date": 1495542609, "question_id": 31882086, "link": "https://stackoverflow.com/questions/31882086/perl-how-do-i-read-a-text-file-word-by-word-starting-at-a-particular-pattern", "title": "Perl: How do I read a text file word by word starting at a particular pattern?", "body": "<p>I'm trying to write a script that reads a space-delimited text file and recognizes a certain pattern <code>PATTERN</code>. After recognizing <code>PATTERN</code>, the script should read <code>RANDOM_NUMBER</code> of words starting at <code>PATTERN</code>. For example, suppose <code>PATTERN</code> is <code>a</code> and <code>RANDOM_NUMBER</code> is <code>7</code>. Then for this text file:</p>\n\n<pre><code>1 2 3 4 5 6\na b c d e f \ng h i j k j\n</code></pre>\n\n<p>I would want to get:</p>\n\n<pre><code>a b c d e f\ng\n</code></pre>\n\n<p>as output.</p>\n\n<p>So far, I've gotten to the point of recognizing these patterns, but I don't know how to handle it afterwards. What is the best way to read in the words? </p>\n\n<p>By the way, I've looked at <a href=\"https://stackoverflow.com/questions/18668853/read-text-file-in-perl-word-by-word-instead-of-line-by-line\">Read text file in Perl word by word instead of line by line</a> and it's a little too vague for my purposes. Also, the answers do not provide much explanation in terms of what the code is doing.</p>\n"}, {"tags": ["windows", "perl", "ssh"], "comments": [{"owner": {"reputation": 299, "user_id": 4114609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/txgU8.png?s=128&g=1", "display_name": "Gene", "link": "https://stackoverflow.com/users/4114609/gene"}, "edited": false, "score": 0, "creation_date": 1438959312, "post_id": 31880411, "comment_id": 51678993, "body": "Please include the error you get while trying to install Net::SSH::Perl."}, {"owner": {"reputation": 345, "user_id": 2653557, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/2b8c82755dceb54bf89daa412b5d42a5?s=128&d=identicon&r=PG", "display_name": "user2653557", "link": "https://stackoverflow.com/users/2653557/user2653557"}, "reply_to_user": {"reputation": 299, "user_id": 4114609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/txgU8.png?s=128&g=1", "display_name": "Gene", "link": "https://stackoverflow.com/users/4114609/gene"}, "edited": false, "score": 0, "creation_date": 1438959589, "post_id": 31880411, "comment_id": 51679175, "body": "Net::SNMP::Perl is old and unmaintained <a href=\"http://stackoverflow.com/questions/11329617/unable-to-install-the-perl-module-netsshperl-on-windows-64-bit\">link</a>  same as this: that is already 2 years old without solution. <a href=\"http://www.perlmonks.org/?node_id=1063317\" rel=\"nofollow noreferrer\">link</a>"}], "answers": [{"comments": [{"owner": {"reputation": 345, "user_id": 2653557, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/2b8c82755dceb54bf89daa412b5d42a5?s=128&d=identicon&r=PG", "display_name": "user2653557", "link": "https://stackoverflow.com/users/2653557/user2653557"}, "edited": false, "score": 0, "creation_date": 1438959990, "post_id": 31880832, "comment_id": 51679461, "body": "netcat for windows.. get flagged as virus by my company antivirus..I would prefer if possible use snmp modules."}, {"owner": {"reputation": 299, "user_id": 4114609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/txgU8.png?s=128&g=1", "display_name": "Gene", "link": "https://stackoverflow.com/users/4114609/gene"}, "reply_to_user": {"reputation": 345, "user_id": 2653557, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/2b8c82755dceb54bf89daa412b5d42a5?s=128&d=identicon&r=PG", "display_name": "user2653557", "link": "https://stackoverflow.com/users/2653557/user2653557"}, "edited": false, "score": 0, "creation_date": 1438964171, "post_id": 31880832, "comment_id": 51682163, "body": "What about cygwin?  It&#39;s possible to install netcat with that."}, {"owner": {"reputation": 345, "user_id": 2653557, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/2b8c82755dceb54bf89daa412b5d42a5?s=128&d=identicon&r=PG", "display_name": "user2653557", "link": "https://stackoverflow.com/users/2653557/user2653557"}, "edited": false, "score": 0, "creation_date": 1438971175, "post_id": 31880832, "comment_id": 51685912, "body": "This is a company server. perl and its modules is the maximum I can install and they made an exception because it is the only gateway to the network where the server I need to check is. I rather use Perl modules only."}], "tags": [], "owner": {"reputation": 299, "user_id": 4114609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/txgU8.png?s=128&g=1", "display_name": "Gene", "link": "https://stackoverflow.com/users/4114609/gene"}, "is_accepted": false, "score": 0, "last_activity_date": 1438959395, "creation_date": 1438959395, "answer_id": 31880832, "question_id": 31880411, "link": "https://stackoverflow.com/questions/31880411/return-remote-ssh-version-in-perl-using-netssh2/31880832#31880832", "title": "return remote ssh version in perl using Net::SSH2", "body": "<p>If you can install the netcat utility you could use that to check it.  For example:</p>\n\n<pre><code> my $NC = `nc -w 1 localhost 22`;\n print $NC;\n</code></pre>\n\n<p>In this example netcat connects to localhost on port 22 and times out after 1 second.</p>\n"}, {"comments": [{"owner": {"reputation": 345, "user_id": 2653557, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/2b8c82755dceb54bf89daa412b5d42a5?s=128&d=identicon&r=PG", "display_name": "user2653557", "link": "https://stackoverflow.com/users/2653557/user2653557"}, "edited": false, "score": 0, "creation_date": 1439222520, "post_id": 31885356, "comment_id": 51760855, "body": "how to simulate the fact that the connection times out? or when connection is refused. i get this instead:    can&#39;t call method print on an undefined value at check_ssh.pl line 44"}, {"owner": {"reputation": 299, "user_id": 4114609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/txgU8.png?s=128&g=1", "display_name": "Gene", "link": "https://stackoverflow.com/users/4114609/gene"}, "reply_to_user": {"reputation": 345, "user_id": 2653557, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/2b8c82755dceb54bf89daa412b5d42a5?s=128&d=identicon&r=PG", "display_name": "user2653557", "link": "https://stackoverflow.com/users/2653557/user2653557"}, "edited": false, "score": 0, "creation_date": 1439232402, "post_id": 31885356, "comment_id": 51766102, "body": "Simulate? Do you mean handle?  Take a look at the IO::Socket::INET documentation, there&#39;s a timeout parameter you can set.  <a href=\"http://perldoc.perl.org/IO/Socket/INET.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/IO/Socket/INET.html</a>"}], "tags": [], "owner": {"reputation": 299, "user_id": 4114609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/txgU8.png?s=128&g=1", "display_name": "Gene", "link": "https://stackoverflow.com/users/4114609/gene"}, "is_accepted": false, "score": 2, "last_activity_date": 1438976123, "creation_date": 1438976123, "answer_id": 31885356, "question_id": 31880411, "link": "https://stackoverflow.com/questions/31880411/return-remote-ssh-version-in-perl-using-netssh2/31885356#31885356", "title": "return remote ssh version in perl using Net::SSH2", "body": "<p>You can use the <code>IO::Socket::INET</code> module.  For example:</p>\n\n<pre><code>$ cat ssh.pl\n#!/usr/bin/perl\n\nuse IO::Socket::INET;\n\nmy $socket = IO::Socket::INET-&gt;new(\n  PeerHost =&gt; 'localhost',\n  PeerPort =&gt; 22,\n);\n\n$socket-&gt;print(\"\\n\");\nmy $output = join '', $socket-&gt;getlines();\n\nprint $output;\n</code></pre>\n\n<p>What the output would look like:</p>\n\n<pre><code>$ ./ssh.pl\nSSH-2.0-OpenSSH_6.2\nProtocol mismatch\n</code></pre>\n\n<p>From this point you simply need to parse the output.</p>\n"}], "owner": {"reputation": 345, "user_id": 2653557, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/2b8c82755dceb54bf89daa412b5d42a5?s=128&d=identicon&r=PG", "display_name": "user2653557", "link": "https://stackoverflow.com/users/2653557/user2653557"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1438976123, "creation_date": 1438958308, "question_id": 31880411, "link": "https://stackoverflow.com/questions/31880411/return-remote-ssh-version-in-perl-using-netssh2", "title": "return remote ssh version in perl using Net::SSH2", "body": "<p>I need to get the remote sshd version using Net::SSH2  from a windows</p>\n\n<pre><code>   ./check_ssh -H exemple.com \n    OpenSSH_6.0p1  (Protocol 2.0)\n</code></pre>\n\n<p>In case the ssh is shutdown just display Connection refused or Socket Timeout if the connection is not specifically refused. </p>\n\n<p>The end purpose would be to simulate the behavior of check_ssh nagios plugin from a windows box. I will be connecting from that windows box to an unix appliance and send the results of my script to nagios via nrpe. </p>\n\n<p>I do not need to login.\nI have been trying to install in dwim perl Net::SSH::Perl without success the only one I managed to install was Net::SSH2. I do not need support for ssh v1.</p>\n"}]