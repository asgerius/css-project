[{"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1432770865, "post_id": 30494562, "comment_id": 49067594, "body": "you can just do $qh-&gt;$return_type"}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1432772496, "post_id": 30494562, "comment_id": 49068004, "body": "Even with <code>use strict</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1432772972, "post_id": 30494928, "comment_id": 49068110, "body": "This would work but I was wondering if there might be some super concise way that&#39;s easy on the eye. I&#39;ll accept the answer if nothing better comes along."}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "reply_to_user": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1432773397, "post_id": 30494928, "comment_id": 49068198, "body": "Well, you did ask about using a dispatch table and this is the most concise way I can think of to set that up.  But if you want something shorter, then use the non-dispatch table method that ikegami showed."}], "tags": [], "owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "is_accepted": false, "score": 0, "last_activity_date": 1432771013, "last_edit_date": 1432771013, "creation_date": 1432770064, "answer_id": 30494928, "question_id": 30494562, "link": "https://stackoverflow.com/questions/30494562/how-do-write-a-dispatch-table-for-methods/30494928#30494928", "title": "How do write a dispatch table for methods?", "body": "<p>You will need to define the dispatch table after creating the statement handle.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse DBI;\nuse Data::Dumper;\n\nmy $dbh = DBI-&gt;connect(\"DBI:mysql:mysql:localhost\", 'user', 'password');\nmy $sth = $dbh-&gt;prepare(\"select * from user\");\nmy $return_type = 'fetchall_arrayref';\n\nmy %dispatch  = (fetchall_arrayref =&gt; sub {return $sth-&gt;fetchall_arrayref},\n                 fetchrow_array    =&gt; sub {return $sth-&gt;fetchrow_array});\n\n\n$sth-&gt;execute;\nprint Dumper $dispatch{$return_type}-&gt;();\n</code></pre>\n\n<p><strong>UPDATE:</strong>\nActually, let me make a correction.  You can, if you wish, define the dispatch table prior creating the statement handle.</p>\n\n<pre><code>my %dispatch  = (fetchall_arrayref =&gt; sub {return $_[0]-&gt;fetchall_arrayref},\n                 fetchall_hashref  =&gt; sub {return $_[0]-&gt;fetchall_hashref('User')},\n                 fetchrow_array    =&gt; sub {return $_[0]-&gt;fetchrow_array});\n\nmy $dbh = DBI-&gt;connect(\"DBI:mysql:mysql:localhost\", 'root', 'password') or die;\nmy $sth = $dbh-&gt;prepare(\"select * from user\");\n\nforeach my $type (qw(fetchall_arrayref fetchall_hashref fetchrow_array)) {\n    $sth-&gt;execute;\n    print Dumper $dispatch{$type}-&gt;($sth);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1432772996, "post_id": 30495099, "comment_id": 49068113, "body": "I&#39;m using <code>use strict</code> so I don&#39;t think this would work."}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1432774207, "post_id": 30495099, "comment_id": 49068381, "body": "Yup, you are right.  I should have second guessed myself."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 2, "creation_date": 1432782599, "post_id": 30495099, "comment_id": 49070257, "body": "Method calls and <code>\\&amp;$name</code> are exempt from strict refs checks."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1432782515, "last_edit_date": 1432782515, "creation_date": 1432771321, "answer_id": 30495099, "question_id": 30494562, "link": "https://stackoverflow.com/questions/30494562/how-do-write-a-dispatch-table-for-methods/30495099#30495099", "title": "How do write a dispatch table for methods?", "body": "<p>All you need is <code>$qh-&gt;$return_type(...)</code>.</p>\n\n<p>If you wish to validate, you can use a trivial lookup table.</p>\n\n<pre><code>my @valid_return_types = qw( fetchrow_array ... );\nmy %valid_return_types = map { $_ =&gt; 1 } @valid_return_types;\n\ndie \"...\" if !$valid_return_types{$return_type};\n</code></pre>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 30495099, "answer_count": 2, "score": 1, "last_activity_date": 1432782515, "creation_date": 1432767722, "question_id": 30494562, "link": "https://stackoverflow.com/questions/30494562/how-do-write-a-dispatch-table-for-methods", "title": "How do write a dispatch table for methods?", "body": "<p>I'm trying to get rid of the <code>if</code> statements at the end of a subroutine I'm writing to handle <code>SELECT</code> queries:</p>\n\n<pre><code>sub select_query {\n  my ($params, $query, $return_type) = @_; \n  my $qh = $dbx-&gt;prepare($query);\n  my $param_count = 1;\n  foreach my $param (@$params) {\n    $qh-&gt;bind_param($param_count++, $param);\n  }\n  $qh-&gt;execute;\n\n  if ($return_type eq 'fetchrow_array') {\n    return $qh-&gt;fetchrow_array;\n  }\n  if ($return_type eq 'fetchall_arrayref') {\n    return $qh-&gt;fetchall_arrayref;\n  }\n  ... AND SO ON ...\n}\n</code></pre>\n\n<p>I'm familiar with the idea of a dispatch table to call different subroutines. What code could I use to efficiently call the various dbi methods on the $qh handle?</p>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1432778993, "post_id": 30494202, "comment_id": 49069405, "body": "turn on debugging to see what variables-&gt;values are visible during what level of quoting (dbl-quote vs back quotes, vs single quotes). Good luck."}, {"owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "edited": false, "score": 0, "creation_date": 1432821167, "post_id": 30494202, "comment_id": 49092563, "body": "What does <code>print &quot;$cmd&quot;;</code> (Perl) give you?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4433012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4dfca7c1e6a498e342868392f3e16ff?s=128&d=identicon&r=PG&f=1", "display_name": "Pachapep", "link": "https://stackoverflow.com/users/4433012/pachapep"}, "edited": false, "score": 0, "creation_date": 1432818583, "post_id": 30494363, "comment_id": 49090584, "body": "Yes, $sh_Script is the path and $cmd is the command (my bad). I tried this solution, but it didn&#39;t work :-("}, {"owner": {"reputation": 1253, "user_id": 792479, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59768793d816fc6e44f67a9bb5ffbe13?s=128&d=identicon&r=PG", "display_name": "Raghuveer", "link": "https://stackoverflow.com/users/792479/raghuveer"}, "reply_to_user": {"reputation": 21, "user_id": 4433012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4dfca7c1e6a498e342868392f3e16ff?s=128&d=identicon&r=PG&f=1", "display_name": "Pachapep", "link": "https://stackoverflow.com/users/4433012/pachapep"}, "edited": false, "score": 0, "creation_date": 1432846040, "post_id": 30494363, "comment_id": 49108606, "body": "What was the error ? Did it not print anything on the script ? Does the script file exists already ? if not create the file using something like this  <code>exec (touch $sh_Script) if (! -e $sh_Script);</code>  And then use my above answer after that."}], "tags": [], "owner": {"reputation": 1253, "user_id": 792479, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59768793d816fc6e44f67a9bb5ffbe13?s=128&d=identicon&r=PG", "display_name": "Raghuveer", "link": "https://stackoverflow.com/users/792479/raghuveer"}, "is_accepted": false, "score": 0, "last_activity_date": 1432766644, "creation_date": 1432766644, "answer_id": 30494363, "question_id": 30494202, "link": "https://stackoverflow.com/questions/30494202/use-a-variable-to-store-a-command-line-in-perl-bash/30494363#30494363", "title": "Use a variable to store a command line in perl/bash", "body": "<p>Try the following</p>\n\n<pre><code>open (FH, \"&gt;\", \"$sh_Script\") or die \"Can't open File Handle\";\nprint FH \"$cmd\";\nclose FH;\n</code></pre>\n\n<p>I am assuming the <code>$sh_Script</code> is the path to your script which you want and <code>$cmd</code> is what you want to store in the file.</p>\n"}, {"tags": [], "owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "is_accepted": false, "score": 1, "last_activity_date": 1432824273, "creation_date": 1432824273, "answer_id": 30509842, "question_id": 30494202, "link": "https://stackoverflow.com/questions/30494202/use-a-variable-to-store-a-command-line-in-perl-bash/30509842#30509842", "title": "Use a variable to store a command line in perl/bash", "body": "<p>You can try this code. </p>\n\n<pre><code>open ('FH','&gt;',$sh) or die \"unable to open $!\\n\";\nmy @arr = split(/' '/,$cmd);\nforeach(@arr){ print FH $_;}\nclose(FH);\n</code></pre>\n\n<p>I am assuming that <code>$sh</code> is the script name and <code>$cmd</code> is the command which you want to write in script.</p>\n"}, {"comments": [{"owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "edited": false, "score": 0, "creation_date": 1432825844, "post_id": 30510469, "comment_id": 49096421, "body": "Very similar to other answers on here - apologies :)"}], "tags": [], "owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "is_accepted": false, "score": 0, "last_activity_date": 1432825823, "creation_date": 1432825823, "answer_id": 30510469, "question_id": 30494202, "link": "https://stackoverflow.com/questions/30494202/use-a-variable-to-store-a-command-line-in-perl-bash/30510469#30510469", "title": "Use a variable to store a command line in perl/bash", "body": "<p>My contribution (full script) which takes hardcoded values and creates a little shell script with a single line. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nmy $unzipCommand = \"gunzip\";\nmy $path2zippedfile = \"/home/honnor/zip1.gz\";\nmy $unzipperScript = \"unzipper.ksh\";\nmy $cmd = \"$unzipCommand $path2zippedfile\";\n\nprint \"$cmd\";\n\n\nopen( my $fh, \"&gt;\", $unzipperScript ) or die $!;\nprint $fh \"$cmd\";\nclose $fh;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4433012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4dfca7c1e6a498e342868392f3e16ff?s=128&d=identicon&r=PG&f=1", "display_name": "Pachapep", "link": "https://stackoverflow.com/users/4433012/pachapep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1432825823, "creation_date": 1432765776, "last_edit_date": 1432818201, "question_id": 30494202, "link": "https://stackoverflow.com/questions/30494202/use-a-variable-to-store-a-command-line-in-perl-bash", "title": "Use a variable to store a command line in perl/bash", "body": "<p>I am trying to write a script (mix of perl and bash) to unzip files. </p>\n\n<p>The unzip command is user-specific (depending on files), so the user needs to enter the beginning of the command, which is then store in a variable called $unzipCommand (perl). For example, the user could enter 'gunzip' or 'gunzip'. For example:</p>\n\n<pre><code>my $unzipCommand = \"gunzip\";\n</code></pre>\n\n<p>This variable is accessible and works, for example, I can print it to the screen. However, I want to use this to build a command line that I store in a .sh file.</p>\n\n<p>I have tried various ways to do this, but nothing seems to work. \nTha variable looks like this:</p>\n\n<pre><code>my $cmd = \"$unzipCommand $path2zippedfile &gt; $path2file\";\n</code></pre>\n\n<p>And to store it in a shell script, I have tried: </p>\n\n<pre><code>`echo \"$cmd\" &gt; $sh_script`;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>open $sh_script, \"&gt;\", \"$QSUB\" or die \"Can't open '$QSUB'\";\nprint $sh_script \"$cmd\";\nclose $sh_script;\n</code></pre>\n\n<p>It always seems that the command is 'executed' instead of printed in the file. </p>\n\n<p>I know that the command works because if I hard code the 'gunzip', I don't get this error.</p>\n\n<p>Any help would be greatly appreciated.\nThanks!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1432763821, "post_id": 30493723, "comment_id": 49065373, "body": "If I understand what you&#39;re asking, try <code>perl -00</code> to slurp in paragraph mode instead of <code>perl -0777</code>."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1432763870, "post_id": 30493723, "comment_id": 49065393, "body": "Also, you should use non-greedy asterisk: <code>DATABASE.*?\\)</code>"}, {"owner": {"reputation": 43, "user_id": 4946624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1b816e340de8dbb5cbbf5a0b877f748?s=128&d=identicon&r=PG&f=1", "display_name": "Raghu", "link": "https://stackoverflow.com/users/4946624/raghu"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1432764008, "post_id": 30493723, "comment_id": 49065445, "body": "@ThisSuitIsBlackNot exactly what I wanted. I just started messing around with perl recently. I just ran my command using your suggestion and it worked like a charm.         perl -00 -pe &#39;s/MANAGED BY DATABASE.*&#41;+?/MANAGED BY AUTOMATIC STORAGE/sg&#39; temp.txt CREATE  TABLESPACE TSASNCA  IN NODEGROUP IBMCATGROUP  PAGESIZE 8192  MANAGED BY AUTOMATIC STORAGE  EXTENTSIZE 8  BUFFERPOOL DPROPR8KBP;  CREATE  TABLESPACE TSASNUOW  IN NODEGROUP IBMCATGROUP  PAGESIZE 8192  MANAGED BY AUTOMATIC STORAGE  EXTENTSIZE 8  BUFFERPOOL DPROPR8KBP;"}, {"owner": {"reputation": 43, "user_id": 4946624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1b816e340de8dbb5cbbf5a0b877f748?s=128&d=identicon&r=PG&f=1", "display_name": "Raghu", "link": "https://stackoverflow.com/users/4946624/raghu"}, "reply_to_user": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1432764112, "post_id": 30493723, "comment_id": 49065482, "body": "@texasbruce thank you for the value adding answer to my question. I am on it."}, {"owner": {"reputation": 43, "user_id": 4946624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1b816e340de8dbb5cbbf5a0b877f748?s=128&d=identicon&r=PG&f=1", "display_name": "Raghu", "link": "https://stackoverflow.com/users/4946624/raghu"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1432764271, "post_id": 30493723, "comment_id": 49065535, "body": "@choroba thank you for the tip..."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 4946624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1b816e340de8dbb5cbbf5a0b877f748?s=128&d=identicon&r=PG&f=1", "display_name": "Raghu", "link": "https://stackoverflow.com/users/4946624/raghu"}, "edited": false, "score": 0, "creation_date": 1432766206, "post_id": 30494129, "comment_id": 49066204, "body": "for answering my question. This is my first time in a long time that I asked a question on this forum and I corrected the messup caused by formatting. FYI... the suggestion provided by @ThisSuitIsBlackNot helped my to accomplish what I need. If there are other solutions I would be more than happy to try them."}], "tags": [], "owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "is_accepted": false, "score": 0, "last_activity_date": 1432765419, "creation_date": 1432765419, "answer_id": 30494129, "question_id": 30493723, "link": "https://stackoverflow.com/questions/30493723/perl-multiline-replace-at-multiple-places-in-a-file/30494129#30494129", "title": "Perl multiline replace at multiple places in a file", "body": "<p>I'm not sure if I understood well your question, but you can use this regex:</p>\n\n<pre><code>\\*\\*.*?\\*\\*       with S flag (single line)\n                  or\n(?s)\\*\\*.*?\\*\\*   with S inline flag\n                  or\n\\*\\*[\\s\\S]*?\\*\\*  without S flag\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/mZ4eG1/1\" rel=\"nofollow\">Working demo</a></strong></p>\n\n<p>Your output will be this:</p>\n\n<pre><code>CREATE  TABLESPACE TSASNCA\n IN NODEGROUP IBMCATGROUP\n PAGESIZE 8192\n **MANAGED BY AUTOMATIC STORAGE**\n EXTENTSIZE 8\n BUFFERPOOL DPROPR8KBP;\n\nCREATE  TABLESPACE TSASNUOW\n IN NODEGROUP IBMCATGROUP\n PAGESIZE 8192\n **MANAGED BY AUTOMATIC STORAGE**\n EXTENTSIZE 8\n BUFFERPOOL DPROPR8KBP;\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4946624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1b816e340de8dbb5cbbf5a0b877f748?s=128&d=identicon&r=PG&f=1", "display_name": "Raghu", "link": "https://stackoverflow.com/users/4946624/raghu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1432766038, "creation_date": 1432763233, "last_edit_date": 1432766038, "question_id": 30493723, "link": "https://stackoverflow.com/questions/30493723/perl-multiline-replace-at-multiple-places-in-a-file", "title": "Perl multiline replace at multiple places in a file", "body": "<p>I have a file <code>temp.txt</code> with the following contents:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>CREATE  TABLESPACE TSASNCA\n IN NODEGROUP IBMCATGROUP\n PAGESIZE 8192\n MANAGED BY DATABASE\n USING\n(\n FILE 'TSASNCA' 482M\n)\n EXTENTSIZE 8\n BUFFERPOOL DPROPR8KBP;\n\nCREATE  TABLESPACE TSASNUOW\n IN NODEGROUP IBMCATGROUP\n PAGESIZE 8192\n MANAGED BY DATABASE\n USING\n(\n FILE 'TSASNUOW' 10M\n)\n EXTENTSIZE 8\n BUFFERPOOL DPROPR8KBP;\n</code></pre>\n\n<p>In the above file I would like to replace the two or n occurrences of text starting from \"MANAGED BY DATABASE\" and ending with \")\" with <code>MANAGED BY AUTOMATIC STORAGE</code>.</p>\n\n<p>I tried the following and it seems to be greedy and matching everything from the first occurrence of <code>MANAGED BY DATABASE</code> to the last occurrence of <code>)</code>:</p>\n\n<pre><code>perl -0777 -pe 's/MANAGED BY DATABASE.*\\)/MANAGED BY AUTOMATIC STORAGE/sg' temp.txt\nCREATE  TABLESPACE TSASNCA\n IN NODEGROUP IBMCATGROUP\n PAGESIZE 8192\n MANAGED BY AUTOMATIC STORAGE\n EXTENTSIZE 8\n BUFFERPOOL DPROPR8KBP;\n</code></pre>\n\n<p>Not exactly what I wanted. Then I tried to eliminate the greediness and still no luck:</p>\n\n<pre><code>perl -0777 -pe 's/MANAGED BY DATABASE.*\\)+?/MANAGED BY AUTOMATIC STORAGE/sg' temp.txt\nCREATE  TABLESPACE TSASNCA\n IN NODEGROUP IBMCATGROUP\n PAGESIZE 8192\n MANAGED BY AUTOMATIC STORAGE\n EXTENTSIZE 8\n BUFFERPOOL DPROPR8KBP;\n</code></pre>\n"}, {"tags": ["perl", "module"], "comments": [{"owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "edited": false, "score": 0, "creation_date": 1432764251, "post_id": 30493281, "comment_id": 49065531, "body": "Suggest <a href=\"http://search.cpan.org/~ilmari/SQL-Translator-0.11021/lib/SQL/Translator.pm#GETTING_HELP/SUPPORT\" rel=\"nofollow noreferrer\">contacting the module author</a>."}, {"owner": {"reputation": 10414, "user_id": 1251354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650becb7843763fb2a7e8f7135d9ef5e?s=128&d=identicon&r=PG", "display_name": "rutter", "link": "https://stackoverflow.com/users/1251354/rutter"}, "edited": false, "score": 1, "creation_date": 1432764308, "post_id": 30493281, "comment_id": 49065547, "body": "I&#39;m seeing all tests pass. Are you using up-to-date versions of Perl, <code>DBI</code>, and <code>DBD::SQLite</code>?"}, {"owner": {"reputation": 640, "user_id": 4946574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ca2c3f3c2c4652e75b33038d463db8?s=128&d=identicon&r=PG&f=1", "display_name": "sdemurjian", "link": "https://stackoverflow.com/users/4946574/sdemurjian"}, "edited": false, "score": 0, "creation_date": 1432764837, "post_id": 30493281, "comment_id": 49065722, "body": "Hi rutter, the server I&#39;m working with is running Perl 5.10.1, DBI 1.609, and DBD::SQLite 1.27. I am a bit wary about updating to the latest versions since I&#39;m not sure if it would mess with anything else on the server."}], "answers": [{"tags": [], "owner": {"reputation": 1253, "user_id": 792479, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59768793d816fc6e44f67a9bb5ffbe13?s=128&d=identicon&r=PG", "display_name": "Raghuveer", "link": "https://stackoverflow.com/users/792479/raghuveer"}, "is_accepted": true, "score": 1, "last_activity_date": 1432766922, "creation_date": 1432766922, "answer_id": 30494415, "question_id": 30493281, "link": "https://stackoverflow.com/questions/30493281/error-installing-perl-module-cpan-and-manually/30494415#30494415", "title": "Error installing perl module (cpan and manually)", "body": "<p>It could be because of missing dependencies and/or mismatch in version of other perl modules. Try using <a href=\"http://search.cpan.org/~miyagawa/App-cpanminus-1.7034/bin/cpanm\" rel=\"nofollow\">CPANM</a> to install your desired package. It will take care of dependencies for you.</p>\n"}, {"tags": [], "owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "is_accepted": false, "score": 0, "last_activity_date": 1432825523, "creation_date": 1432825523, "answer_id": 30510341, "question_id": 30493281, "link": "https://stackoverflow.com/questions/30493281/error-installing-perl-module-cpan-and-manually/30510341#30510341", "title": "Error installing perl module (cpan and manually)", "body": "<p>You can also try to install <code>libsql-translator-perl</code> library if you are on debian based systems. I am sure there will be a compatible library on red hat based systems too.</p>\n\n<p>Also if you want to install from cpan then use <code>CPANM</code> to install the module.</p>\n\n<p>Personally i prefer to use distro libraries in place of installing modules. </p>\n"}, {"tags": [], "owner": {"reputation": 640, "user_id": 4946574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ca2c3f3c2c4652e75b33038d463db8?s=128&d=identicon&r=PG&f=1", "display_name": "sdemurjian", "link": "https://stackoverflow.com/users/4946574/sdemurjian"}, "is_accepted": false, "score": 0, "last_activity_date": 1435007307, "creation_date": 1435007307, "answer_id": 30989849, "question_id": 30493281, "link": "https://stackoverflow.com/questions/30493281/error-installing-perl-module-cpan-and-manually/30989849#30989849", "title": "Error installing perl module (cpan and manually)", "body": "<p>In case anyone stumbles across this question, my solution was:</p>\n\n<ul>\n<li>install perlbrew</li>\n<li>install latest version of perl via perlbrew</li>\n<li>download required libraries</li>\n<li>install module</li>\n</ul>\n\n<p>It was much easier than dealing with the older system</p>\n"}], "owner": {"reputation": 640, "user_id": 4946574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ca2c3f3c2c4652e75b33038d463db8?s=128&d=identicon&r=PG&f=1", "display_name": "sdemurjian", "link": "https://stackoverflow.com/users/4946574/sdemurjian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 1, "accepted_answer_id": 30494415, "answer_count": 3, "score": 1, "last_activity_date": 1435007307, "creation_date": 1432761357, "last_edit_date": 1432764183, "question_id": 30493281, "link": "https://stackoverflow.com/questions/30493281/error-installing-perl-module-cpan-and-manually", "title": "Error installing perl module (cpan and manually)", "body": "<p>I'm trying to install the SQL::Translator module. Everything runs fine until it gets to this test:</p>\n\n<pre><code>DBD::SQLite::db do failed: not an error at t/sqlite-rename-field.t line 62.\n#   Failed test '-- Convert schema '' to '':;'\n#   at t/sqlite-rename-field.t line 62.\n# died: Died at t/sqlite-rename-field.t line 62.\n# Looks like you failed 1 test of 16.\nFailed 1/72 test programs. 1/1901 subtests failed.\nmake: *** [test_dynamic] Error 1\n</code></pre>\n\n<p>Any help is much appreciated, I was not able to find any similar questions. Thanks.</p>\n\n<p>cpan link: <a href=\"http://search.cpan.org/~ilmari/SQL-Translator-0.11021/lib/SQL/Translator.pm\" rel=\"nofollow\">http://search.cpan.org/~ilmari/SQL-Translator-0.11021/lib/SQL/Translator.pm</a></p>\n"}, {"tags": ["regex", "string", "perl"], "comments": [{"owner": {"reputation": 1090, "user_id": 2843157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qorh2.jpg?s=128&g=1", "display_name": "John Odom", "link": "https://stackoverflow.com/users/2843157/john-odom"}, "edited": false, "score": 0, "creation_date": 1432758319, "post_id": 30492312, "comment_id": 49062793, "body": "Can you please show some code on how you are using regex? Also what error are you getting?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1432760195, "post_id": 30492312, "comment_id": 49063677, "body": "So, you want all the content of the option tags? But you want to exclude entities within the content. Is that the question ?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 3118860, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120112288/picture?type=large", "display_name": "ce.arifemre", "link": "https://stackoverflow.com/users/3118860/ce-arifemre"}, "edited": false, "score": 0, "creation_date": 1432758076, "post_id": 30492341, "comment_id": 49062672, "body": "But when i do that, i can&#39;t find whatever i want."}, {"owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "reply_to_user": {"reputation": 21, "user_id": 3118860, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120112288/picture?type=large", "display_name": "ce.arifemre", "link": "https://stackoverflow.com/users/3118860/ce-arifemre"}, "edited": false, "score": 0, "creation_date": 1432758251, "post_id": 30492341, "comment_id": 49062766, "body": "So what is it about that line that makes it the one you want to match?  Could you edit your question to show us the pattern you&#39;re trying to use?"}, {"owner": {"reputation": 21, "user_id": 3118860, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120112288/picture?type=large", "display_name": "ce.arifemre", "link": "https://stackoverflow.com/users/3118860/ce-arifemre"}, "edited": false, "score": 0, "creation_date": 1432758504, "post_id": 30492341, "comment_id": 49062883, "body": "Actually i want string like what i wrote. But i&#39;m working on this txt. <a href=\"http://pastebin.com/0rrAq1sD\" rel=\"nofollow noreferrer\">pastebin.com/0rrAq1sD</a>"}], "tags": [], "owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "is_accepted": false, "score": 0, "last_activity_date": 1432757856, "creation_date": 1432757856, "answer_id": 30492341, "question_id": 30492312, "link": "https://stackoverflow.com/questions/30492312/perl-between-two-string-regex/30492341#30492341", "title": "Perl between two string regex", "body": "<p>You can always escape a <code>/</code> in your pattern by doing <code>\\/</code> so that <code>/</code> will not have special meaning to perl.</p>\n"}, {"comments": [{"owner": {"reputation": 1253, "user_id": 792479, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59768793d816fc6e44f67a9bb5ffbe13?s=128&d=identicon&r=PG", "display_name": "Raghuveer", "link": "https://stackoverflow.com/users/792479/raghuveer"}, "edited": false, "score": 0, "creation_date": 1432763139, "post_id": 30492432, "comment_id": 49065111, "body": "@karthikmanchala - Thats a pretty good tool that you have used here. Thanks for sharing that. I didnt know about it."}, {"owner": {"reputation": 21, "user_id": 3118860, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120112288/picture?type=large", "display_name": "ce.arifemre", "link": "https://stackoverflow.com/users/3118860/ce-arifemre"}, "edited": false, "score": 0, "creation_date": 1432922286, "post_id": 30492432, "comment_id": 49145823, "body": "@karthikmanchala thank you for your help :) but why didn&#39;t start value = 10. How can i start value = 1. I don&#39;t know so much regex. It&#39;s my fault :)"}, {"owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "edited": false, "score": 0, "creation_date": 1432956598, "post_id": 30492432, "comment_id": 49157010, "body": "I dint get you.. I haven&#39;t used any 10 or 1 in my regex... Is it that you want any specific values? Update your question..."}], "tags": [], "owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "is_accepted": false, "score": 1, "last_activity_date": 1432759668, "last_edit_date": 1432759668, "creation_date": 1432758184, "answer_id": 30492432, "question_id": 30492312, "link": "https://stackoverflow.com/questions/30492312/perl-between-two-string-regex/30492432#30492432", "title": "Perl between two string regex", "body": "<p>You can use the following regex and extract group 1.. i.e. <code>$1</code>:</p>\n\n<pre><code>&lt;OPTION[^&gt;]*&gt;([^;&lt;]+)&lt;\\/OPTION&gt;\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/mD9cK8/3\" rel=\"nofollow\">DEMO</a></p>\n"}], "owner": {"reputation": 21, "user_id": 3118860, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120112288/picture?type=large", "display_name": "ce.arifemre", "link": "https://stackoverflow.com/users/3118860/ce-arifemre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1432759668, "creation_date": 1432757738, "question_id": 30492312, "link": "https://stackoverflow.com/questions/30492312/perl-between-two-string-regex", "title": "Perl between two string regex", "body": "<p>I have text like that. Value goes to 100.</p>\n\n<pre><code>&lt;OPTION value=2&gt;&amp;nbsp;&amp;nbsp;2 - Switchable Glass: A possible medium for Evolvable Hardware (4)&lt;/OPTION&gt; \n&lt;OPTION value=3&gt;&amp;nbsp;&amp;nbsp;3 - An Efficient Multi-Objective Evolutionary Algorithm for Combinational Circuit Design (3)&lt;/OPTION&gt;\n&lt;OPTION value=4&gt;&amp;nbsp;&amp;nbsp;4 - A Background Mismatch Calibration for Capacitive Digital-to-Analog Converters (3)&lt;/OPTION&gt;\n</code></pre>\n\n<p>And I want this string for first line</p>\n\n<p><code>2 - Switchable Glass: A possible medium for Evolvable Hardware (4)</code></p>\n\n<p>But when i use regex, i face error. Because string has \"/\". </p>\n\n<p>How can i fix that? Thanks.</p>\n"}, {"tags": ["perl", "substitution"], "answers": [{"comments": [{"owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "edited": false, "score": 0, "creation_date": 1432759689, "post_id": 30491532, "comment_id": 49063441, "body": "thank you for your script. The input files are actually quite large and so I read them into the arrays small and big, and ran the script as posted, however the output is not in 3 columns. The inserted column is being placed under data with a matching numeric value."}, {"owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "edited": false, "score": 0, "creation_date": 1432759987, "post_id": 30491532, "comment_id": 49063570, "body": "I realize that my question may have been poorly worded, I have edited the example input files to make it more clear"}, {"owner": {"reputation": 141, "user_id": 4760160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7b530c7fa9c012c5ec47c6c04c3d770?s=128&d=identicon&r=PG&f=1", "display_name": "Zippers", "link": "https://stackoverflow.com/users/4760160/zippers"}, "reply_to_user": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "edited": false, "score": 0, "creation_date": 1432760852, "post_id": 30491532, "comment_id": 49064014, "body": "@EA00 if you&#39;re reading the file into arrays, are you making sure to <code>chomp</code> your input? The newlines in the file are probably what&#39;s causing your weird output."}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 1, "last_activity_date": 1432755138, "creation_date": 1432755138, "answer_id": 30491532, "question_id": 30491402, "link": "https://stackoverflow.com/questions/30491402/perl-add-column-from-one-file-to-the-end-of-a-second-file/30491532#30491532", "title": "Perl: Add column from one file to the end of a second file", "body": "<pre><code>use warnings;\nuse strict; \n\n\nmy @small   = qw/a b c d e/;\nmy @big = qw/A B C D E/;\n\nmy %hash;\n@hash{@small} = @big;\n\nprint \"$_ $hash{$_}\\n\" foreach sort keys %hash;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "edited": false, "score": 0, "creation_date": 1432761206, "post_id": 30491931, "comment_id": 49064206, "body": "thank you for the corrections. I have edited the script accordingly and am getting the following error: Use of uninitialized value in substitution (s///) at ./script.pl line 16, &lt;IN&gt; line 5."}, {"owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "reply_to_user": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "edited": false, "score": 1, "creation_date": 1432762519, "post_id": 30491931, "comment_id": 49064837, "body": "That means $line2_columns[1] is blank. Does your file have multiple spaces between each column? If so try <code>split &#47;\\s+&#47;, $line2;</code> instead."}, {"owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "edited": false, "score": 0, "creation_date": 1432833202, "post_id": 30491931, "comment_id": 49101172, "body": "Thank you, that fixed the error, however the output is not in columns: 11 aA12 bB13 cC14 dD. Should I implement a push function?"}, {"owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "reply_to_user": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "edited": false, "score": 0, "creation_date": 1432846825, "post_id": 30491931, "comment_id": 49109037, "body": "@EA00 Probably your substitution is replacing the whitespace which includes the newline. Maybe change last line of while loop to put the newline back in, e.g. <code>print OUT $line . &quot;\\n&quot;;</code>"}], "tags": [], "owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "is_accepted": false, "score": 0, "last_activity_date": 1432756374, "creation_date": 1432756374, "answer_id": 30491931, "question_id": 30491402, "link": "https://stackoverflow.com/questions/30491402/perl-add-column-from-one-file-to-the-end-of-a-second-file/30491931#30491931", "title": "Perl: Add column from one file to the end of a second file", "body": "<p>There is a problem in your code, <code>@ref = &lt;IN&gt;</code> is going to put each line of the file as an element of the <code>@ref</code> array. Then on every iteration of your loop you try to insert <code>$ref[2]</code> which is the second line of the file. That's obviously not what you want.</p>\n\n<p>You also have missed splitting up the lines of  by columns. Finally, remember array indices start at zero so if you want the second column, you're looking for element 1.</p>\n\n<p>Remove the <code>@ref = &lt;IN&gt;</code> and read it one line at a time. </p>\n\n<pre><code>while (my $line = &lt;TEXT&gt;) {\n   my $line2 = &lt;IN&gt;;\n   my @line2_columns = split /\\s/, $line2;\n   $line =~ s/\\s+$/$line2_columns[1]/s;\n   print OUT $line;\n}\n</code></pre>\n"}], "owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1432847125, "creation_date": 1432754705, "last_edit_date": 1432847125, "question_id": 30491402, "link": "https://stackoverflow.com/questions/30491402/perl-add-column-from-one-file-to-the-end-of-a-second-file", "title": "Perl: Add column from one file to the end of a second file", "body": "<p>I would like to add a specific column from File1 (A,B,C,D) next to the last column of File2 (a,b,c,d). An example input and output is shown below:</p>\n\n<pre><code>Input File1:\n1   A\n2   B\n3   C \n4   D\n\nInput File2:\n11   a  \n12   b  \n13   c  \n14   d  \n\nOutput:\n11  a  A\n12  b  B\n13  c  C\n14  d  D\n</code></pre>\n\n<p>This is my code, I'm having trouble specifying the substitution regex. Maybe there is a better way to do this all together?</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy $text = 'file1.txt';\nmy $column = 'file2.txt';\n\nopen IN, '&lt;', $column or die \"Can't open '$column' $!\";\nopen TEXT, '&lt;', $text or die \"Can't open '$text' $!\";\nopen OUT, '&gt;&gt;', 'output.txt' or die \"Can't open 'output.txt' $!\";\n\nmy @ref = &lt;IN&gt;;\n\nwhile ( my $line = &lt;TEXT&gt; ) {\n   $line =~ s/\\s+$/$ref[1]/s;\n   print OUT $line;\n }\n</code></pre>\n\n<p>UPDATE: Couldn't resolve with perl. Used awk instead:</p>\n\n<pre><code>awk -v f2=file2.txt ' { c = $2; getline &lt; f2; print $0, c; } ' file1.txt &gt; output.txt\n</code></pre>\n"}, {"tags": ["xml", "perl", "file", "for-loop"], "comments": [{"owner": {"reputation": 2494, "user_id": 1921546, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fe4ac75c43b846d9665f422cdac5cb03?s=128&d=identicon&r=PG", "display_name": "pii_ke", "link": "https://stackoverflow.com/users/1921546/pii-ke"}, "edited": false, "score": 0, "creation_date": 1432755286, "post_id": 30491364, "comment_id": 49060994, "body": "For what kind of &quot;check the value&quot; do you need user input for? You can print the value and name of file without any user input."}, {"owner": {"reputation": 1, "user_id": 4946231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53b1c5754bc2e59e7175b06b491adcf?s=128&d=identicon&r=PG&f=1", "display_name": "Anetha R", "link": "https://stackoverflow.com/users/4946231/anetha-r"}, "edited": false, "score": 0, "creation_date": 1432758279, "post_id": 30491364, "comment_id": 49062778, "body": "For e.g.: &lt;STDIN&gt;  is &lt;NUMBER&gt;  from the user and the &lt;NUMBER&gt; is searched in all the xml files and the value of &lt;NUMBER&gt;10&lt;NUMBER&gt; i.e. 10 is printed and differs for all xml values. so 50values from 50 xml values has to be printed."}, {"owner": {"reputation": 1, "user_id": 4946231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53b1c5754bc2e59e7175b06b491adcf?s=128&d=identicon&r=PG&f=1", "display_name": "Anetha R", "link": "https://stackoverflow.com/users/4946231/anetha-r"}, "edited": false, "score": 0, "creation_date": 1432761488, "post_id": 30491364, "comment_id": 49064345, "body": "#!/usr/bin/perl   @files = glob (&quot;C: Perl/*.xml&quot;); foreach $file (@files) { open   (FILE, &quot;$file&quot;); while($line= &lt;FILE&gt; ){ print &quot;$line&quot; if $line =~ /Number/; } close FILE;  } This code returns empty result. Pl help"}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 0, "creation_date": 1432777652, "post_id": 30491364, "comment_id": 49069094, "body": "I&#39;m guessing that your <code>glob</code> doesn&#39;t return what you think it does.  After the first semicolon above, add <code>print &quot;files are: @files\\n&quot;;</code> and see if you get what you expect.  Additionally, replace <code>open (FILE, &quot;$file&quot;);</code> with <code>open (FILE, $file) || die &quot;Can not open $file for reading ($!)&quot;;</code> and see if you get any errors from that."}, {"owner": {"reputation": 1, "user_id": 4946231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53b1c5754bc2e59e7175b06b491adcf?s=128&d=identicon&r=PG&f=1", "display_name": "Anetha R", "link": "https://stackoverflow.com/users/4946231/anetha-r"}, "edited": false, "score": 0, "creation_date": 1432812222, "post_id": 30491364, "comment_id": 49085697, "body": "When I changed and ran the code : The result is :Global symbol &quot;$line&quot; requires explicit package name at file.pl line 11. Execution of file.pl aborted due to compilation errors. Do not know what is the problem. somewhere &quot;if $line =~ /Number/&quot; is a problem. Pl help ."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1434975670, "creation_date": 1434975670, "answer_id": 30979894, "question_id": 30491364, "link": "https://stackoverflow.com/questions/30491364/perl-script-to-verify-values-present-in-xml-files/30979894#30979894", "title": "perl script to verify values present in xml files", "body": "<p>I would go with something like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $dir_to_search = \"/path/to_xml/files/\";\n\nprint \"Please enter a search term for the 'Number' field:\";\nmy $input = &lt;STDIN&gt;;\nchomp $input;\n$input = quotemeta $input;    #avoid regex injection\n\nforeach my $file ( glob \"$dir_to_search/*.xml\" ) {\n    my $twig = XML::Twig-&gt;new(\n        'pretty_print'  =&gt; 'indented_a',\n        'twig_handlers' =&gt; {\n            'Number' =&gt; sub {\n                if ( $_-&gt;text_only =~ m/^$input$/ ) {\n                    print \"$file contains \", $_-&gt;print,\"\\n\";\n                }\n            }\n        }\n    );\n    $twig-&gt;parsefile($file);\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4946231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53b1c5754bc2e59e7175b06b491adcf?s=128&d=identicon&r=PG&f=1", "display_name": "Anetha R", "link": "https://stackoverflow.com/users/4946231/anetha-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1434975670, "creation_date": 1432754550, "last_edit_date": 1432757588, "question_id": 30491364, "link": "https://stackoverflow.com/questions/30491364/perl-script-to-verify-values-present-in-xml-files", "title": "perl script to verify values present in xml files", "body": "<p>There are more than 50 xml files for me to check the value of </p>\n\n<pre><code>&lt;Number&gt;50&lt;Number&gt; present in the xml file.\n</code></pre>\n\n<p>The standard format of all xml files are the same. Sample below:</p>\n\n<pre><code>&lt;Employee&gt;\n    &lt;EmployeeId&gt;1&lt;/ EmployeeId &gt;\n    &lt;DeptId&gt;E&lt;/DeptId&gt;\n    &lt;InternId&gt;94&lt;/internId&gt;\n     &lt;Number&gt;10&lt;Number&gt;\n</code></pre>\n\n<p>1.I need to check the value of Number in all the 50 xml files.\n2. Need to get the input  from the user itself . e.g.: <code>my $input = &lt;STDIN&gt;;</code>\n3.Based on the input received from the user have to check the value in all xml files and print the value and the filename.</p>\n\n<p>Pl help. I am a beginner in Perl.</p>\n\n<p>I used :</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict; \nuse warnings; \nsub main\n{\n my $input = &lt;STDIN&gt;;\n print \"You entered: $input\";\n}\nmain(); \n</code></pre>\n\n<p>But do not know how to get to access the xml files after the getting the INPUT.\nhow to search all the files in a directory for a node  AND PRINT ITS VALUE.</p>\n"}, {"tags": ["string", "perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1432753996, "post_id": 30491070, "comment_id": 49060283, "body": "For your first example you can escape the backslashes <code>C:\\\\Dir\\\\myfile.txt</code>. I can&#39;t recreate your second example. Are you manipulating <code>$full_path</code> in any way?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1432754800, "post_id": 30491070, "comment_id": 49060688, "body": "Note that <code>C:&#47;Dir&#47;myfile.txt</code> and <code>C:\\Dir\\myfile.txt</code> are both valid Windows paths to the same file."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432754871, "post_id": 30491070, "comment_id": 49060730, "body": "What&#39;s the first line of <code>myscript.pl</code>?"}, {"owner": {"reputation": 800, "user_id": 1113720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6N9jm.jpg?s=128&g=1", "display_name": "Mathai", "link": "https://stackoverflow.com/users/1113720/mathai"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432755122, "post_id": 30491070, "comment_id": 49060890, "body": "@ikegami What I have posted is the entire script."}, {"owner": {"reputation": 800, "user_id": 1113720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6N9jm.jpg?s=128&g=1", "display_name": "Mathai", "link": "https://stackoverflow.com/users/1113720/mathai"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1432755153, "post_id": 30491070, "comment_id": 49060911, "body": "@HunterMcMillen I have edited my question. I wonder if it&#39;s anything to do with the environment I am running it on."}, {"owner": {"reputation": 800, "user_id": 1113720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6N9jm.jpg?s=128&g=1", "display_name": "Mathai", "link": "https://stackoverflow.com/users/1113720/mathai"}, "edited": false, "score": 0, "creation_date": 1432852047, "post_id": 30491070, "comment_id": 49111179, "body": "I found this link - <a href=\"http://www.hugoestrada.net/node/243\" rel=\"nofollow noreferrer\">hugoestrada.net/node/243</a>"}], "answers": [{"comments": [{"owner": {"reputation": 800, "user_id": 1113720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6N9jm.jpg?s=128&g=1", "display_name": "Mathai", "link": "https://stackoverflow.com/users/1113720/mathai"}, "edited": false, "score": 0, "creation_date": 1432754287, "post_id": 30491243, "comment_id": 49060439, "body": "Yes it works if i have spaces, but doesn&#39;t seem to work if I have backslashes. I was wondering if there is a way do this. It&#39;s okay even if it isn&#39;t portable."}, {"owner": {"reputation": 5903, "user_id": 790107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de1c480ed937e9291c4dcbf252e6d1f?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/790107/david"}, "reply_to_user": {"reputation": 800, "user_id": 1113720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6N9jm.jpg?s=128&g=1", "display_name": "Mathai", "link": "https://stackoverflow.com/users/1113720/mathai"}, "edited": false, "score": 0, "creation_date": 1432754367, "post_id": 30491243, "comment_id": 49060475, "body": "@Mathai That&#39;s the point, you don&#39;t need to enter the backslashes.  The module manages the backslashes (or forward slashes) for you, according to the OS on which you&#39;re running."}, {"owner": {"reputation": 800, "user_id": 1113720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6N9jm.jpg?s=128&g=1", "display_name": "Mathai", "link": "https://stackoverflow.com/users/1113720/mathai"}, "edited": false, "score": 0, "creation_date": 1432754474, "post_id": 30491243, "comment_id": 49060525, "body": "I copy the path from somewhere else and paste it when I need to run the script. That means I have to do the extra work of removing the slashes and replacing then with spaces."}, {"owner": {"reputation": 5903, "user_id": 790107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de1c480ed937e9291c4dcbf252e6d1f?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/790107/david"}, "reply_to_user": {"reputation": 800, "user_id": 1113720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6N9jm.jpg?s=128&g=1", "display_name": "Mathai", "link": "https://stackoverflow.com/users/1113720/mathai"}, "edited": false, "score": 0, "creation_date": 1432754641, "post_id": 30491243, "comment_id": 49060607, "body": "@Mathai Ok - got it.  I updated the solution to show that case, as well (see Example 2)."}, {"owner": {"reputation": 800, "user_id": 1113720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6N9jm.jpg?s=128&g=1", "display_name": "Mathai", "link": "https://stackoverflow.com/users/1113720/mathai"}, "edited": false, "score": 0, "creation_date": 1432754862, "post_id": 30491243, "comment_id": 49060725, "body": "I just tried that, but I get the same thing with all slashes removed. I wonder if its anything to do with the way I am running the script. This script is run on a cygwin shell in a windows environment."}, {"owner": {"reputation": 5903, "user_id": 790107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de1c480ed937e9291c4dcbf252e6d1f?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/790107/david"}, "reply_to_user": {"reputation": 800, "user_id": 1113720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6N9jm.jpg?s=128&g=1", "display_name": "Mathai", "link": "https://stackoverflow.com/users/1113720/mathai"}, "edited": false, "score": 0, "creation_date": 1432755254, "post_id": 30491243, "comment_id": 49060968, "body": "@Mathai Yes, I just confirmed your results.  The cygwin shell must be interpreting the slashes before the parameters are passed to the script. It will work from Win cmd or powershell."}, {"owner": {"reputation": 800, "user_id": 1113720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6N9jm.jpg?s=128&g=1", "display_name": "Mathai", "link": "https://stackoverflow.com/users/1113720/mathai"}, "reply_to_user": {"reputation": 5903, "user_id": 790107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de1c480ed937e9291c4dcbf252e6d1f?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/790107/david"}, "edited": false, "score": 0, "creation_date": 1432755315, "post_id": 30491243, "comment_id": 49061009, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/78944/discussion-between-mathai-and-david\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 5903, "user_id": 790107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de1c480ed937e9291c4dcbf252e6d1f?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/790107/david"}, "is_accepted": true, "score": 1, "last_activity_date": 1432755983, "last_edit_date": 1432755983, "creation_date": 1432754104, "answer_id": 30491243, "question_id": 30491070, "link": "https://stackoverflow.com/questions/30491070/backslashes-in-command-line-argument-under-cygwin/30491243#30491243", "title": "Backslashes in command-line argument under Cygwin", "body": "<p>use the <code>File::Spec</code> module.  This simplifies passing parameters to your script, since you don't need to use slashes, and it also makes your application portable across operating systems.</p>\n\n<pre><code>use File::Spec;\n\nmy $full_path = File::Spec-&gt;catfile(@ARGV);\nprint $full_path, \"\\n\";\n</code></pre>\n\n<p>Example:  </p>\n\n<pre><code>perl myscript.pl C: Dir myfile.txt\nC:\\Dir\\myfile.txt\n</code></pre>\n\n<p>Alternatively, if you need to use the full path string, then use the following line in place of the above:</p>\n\n<pre><code>my $full_path = File::Spec-&gt;canonpath($ARGV[0]);\n</code></pre>\n\n<p>Example 2:</p>\n\n<pre><code>perl myscript.pl C:\\Dir\\myfile.txt\n</code></pre>\n\n<p><strong>--OR--</strong></p>\n\n<pre><code>perl myscript.pl C:/Dir/myfile.txt\n\nC:\\Dir\\myfile.txt\n</code></pre>\n\n<p>Example 3 (for Cygwin) - surround parameter with single quotes:</p>\n\n<pre><code>perl myscript.pl 'C:\\Dir\\myfile.txt'\nC:\\Dir\\myfile.txt\n</code></pre>\n"}], "owner": {"reputation": 800, "user_id": 1113720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6N9jm.jpg?s=128&g=1", "display_name": "Mathai", "link": "https://stackoverflow.com/users/1113720/mathai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 571, "favorite_count": 0, "accepted_answer_id": 30491243, "answer_count": 1, "score": 1, "last_activity_date": 1432757462, "creation_date": 1432753558, "last_edit_date": 1432757462, "question_id": 30491070, "link": "https://stackoverflow.com/questions/30491070/backslashes-in-command-line-argument-under-cygwin", "title": "Backslashes in command-line argument under Cygwin", "body": "<p>I am passing in the full path to a file as a commandline argument in perl. \nFor example</p>\n\n<pre><code>myscript.pl C:\\Dir\\myfile.txt\n</code></pre>\n\n<p>In myscript.pl, I have</p>\n\n<pre><code>my $full_path = shift;            \nprint $full_path;\n</code></pre>\n\n<p>When I do this, my output is </p>\n\n<pre><code>C:Dirmyfile.txt\n</code></pre>\n\n<p>What I really want is <code>C:\\Dir\\myfile.txt</code>\nBut when I run my script as</p>\n\n<pre><code>myscript.pl 'C:\\Dir\\myfile.txt'\n</code></pre>\n\n<p>my output is <code>C:/Dir/myfile.txt</code>. Now it has forward slashes instead of backslashes. How do I get what I want? (The same text as what was passed in, file path with backslashes)</p>\n\n<p>I need to run be able to run this script on <strong>Cygwin</strong> in a windows environment. Note that the script serves a larger purpose, but what I have posted is the part I am stuck with. The path is something I copy from somewhere else, so I really don't want to do the extra work of replacing backslash with forward slash or spaces. </p>\n"}, {"tags": ["perl", "session"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1432741482, "post_id": 30487173, "comment_id": 49052831, "body": "<a href=\"https://metacpan.org/pod/CGI::Session#dataref\" rel=\"nofollow noreferrer\"><code>$session-&gt;dataref()</code></a>?"}, {"owner": {"reputation": 406, "user_id": 1879794, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hOga3.jpg?s=128&g=1", "display_name": "MrCleanX", "link": "https://stackoverflow.com/users/1879794/mrcleanx"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1432741948, "post_id": 30487173, "comment_id": 49053178, "body": "dataref() works great, but it updates _SESSION_ATIME."}], "answers": [{"comments": [{"owner": {"reputation": 406, "user_id": 1879794, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hOga3.jpg?s=128&g=1", "display_name": "MrCleanX", "link": "https://stackoverflow.com/users/1879794/mrcleanx"}, "edited": false, "score": 0, "creation_date": 1432742152, "post_id": 30487404, "comment_id": 49053335, "body": "I need to generate a report of active and inactive sessions. I also need to keep track of the various browsers people are using."}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "reply_to_user": {"reputation": 406, "user_id": 1879794, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hOga3.jpg?s=128&g=1", "display_name": "MrCleanX", "link": "https://stackoverflow.com/users/1879794/mrcleanx"}, "edited": false, "score": 0, "creation_date": 1432743067, "post_id": 30487404, "comment_id": 49053928, "body": "So there you go. read the file, eval the file into the variables, iterate over them.  If you steal code form CGI::Session, then you won&#39;t have to write much. In fact, if you copy it, and then delete the timestamp update statements, you&#39;ll be most of the way there."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1432743553, "post_id": 30487404, "comment_id": 49054240, "body": "The code is actually in CGI::Session::Serialize::default"}], "tags": [], "owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "is_accepted": false, "score": 0, "last_activity_date": 1432741941, "creation_date": 1432741941, "answer_id": 30487404, "question_id": 30487173, "link": "https://stackoverflow.com/questions/30487173/perl-convert-cgisession-file-into-a-hash/30487404#30487404", "title": "perl - convert cgi::session file into a hash", "body": "<p>If you read that session file, and then (if you really trust it) eval the contents, you'll end up with a scalar variable $D that is a reference to a hash of session key/value pairs. </p>\n\n<p>That will not update the time stamp. Your time stamps are getting updated by CGI::Session.</p>\n\n<p>I might be able to give you more specific advice if you told us what you want to accomplish by reading the session externally.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1432744347, "creation_date": 1432744347, "answer_id": 30488269, "question_id": 30487173, "link": "https://stackoverflow.com/questions/30487173/perl-convert-cgisession-file-into-a-hash/30488269#30488269", "title": "perl - convert cgi::session file into a hash", "body": "<p>That's exactly what <code>find</code> is for.</p>\n\n<pre><code>CGI::Session-&gt;find( sub {\n   my ($session) = @_;\n   ...\n} );\n</code></pre>\n\n<p>As a side effect, this will delete expired sessions, but it won't change the access time (or anything else) of any of the sessions.</p>\n"}], "owner": {"reputation": 406, "user_id": 1879794, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hOga3.jpg?s=128&g=1", "display_name": "MrCleanX", "link": "https://stackoverflow.com/users/1879794/mrcleanx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 30488269, "answer_count": 2, "score": 0, "last_activity_date": 1432768996, "creation_date": 1432741369, "last_edit_date": 1432768996, "question_id": 30487173, "link": "https://stackoverflow.com/questions/30487173/perl-convert-cgisession-file-into-a-hash", "title": "perl - convert cgi::session file into a hash", "body": "<p>I'm looking for a graceful way to read a cgi::session file into a hash, without loading the session and updating the access time. Here is what the data in the session file looks like...</p>\n\n<pre><code>$D = {\n    '_SESSION_ETIME' =&gt; 283824000,\n    '_SESSION_ID' =&gt; 'a07d36e7d9bc89d46a64ae271fe3709e',\n    'userid' =&gt; '99999',\n    '_SESSION_REMOTE_ADDR' =&gt; '111.222.333.444',\n    '_SESSION_CTIME' =&gt; 1432738284,\n    '_SESSION_ATIME' =&gt; 1432740281,\n    '_SESSION_EXPIRE_LIST' =&gt; {'~logged-in' =&gt; 120},\n    'HTTP_USER_AGENT' =&gt; 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101 Firefox/38.0'\n};;$D\n</code></pre>\n\n<p>I need to generate a report of active and inactive sessions. I also need to keep track of the various browsers people are using.</p>\n\n<p>EDIT: I did find comments in the Sessions.pm load() subroutine that eluded to passing any 'true' value as a 4th parameter and would make it read_only. I was unable to get it to work.</p>\n"}, {"tags": ["perl", "subroutine"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1432739110, "post_id": 30486183, "comment_id": 49051050, "body": "Please clarify. You only show one loop. What behaviour do you expect?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1432739341, "post_id": 30486183, "comment_id": 49051213, "body": "Also, how do you call <code>getGenes</code>?"}, {"owner": {"reputation": 1324, "user_id": 2884483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2j2D.jpg?s=128&g=1", "display_name": "Slade", "link": "https://stackoverflow.com/users/2884483/slade"}, "edited": false, "score": 0, "creation_date": 1432739958, "post_id": 30486183, "comment_id": 49051711, "body": "<code>my @names = shift;</code> looks fishy; it&#39;ll only ever have one element. You probably want something more along the lines of <code>my ($genome, @names) = @_;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 2790926, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff29bcf8ab19e49c75edd59afc6365c6?s=128&d=identicon&r=PG&f=1", "display_name": "WalterWhite", "link": "https://stackoverflow.com/users/2790926/walterwhite"}, "edited": false, "score": 0, "creation_date": 1432744431, "post_id": 30486520, "comment_id": 49054803, "body": "I passed the list as the last argument and it works. Thanks alot."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 8, "last_activity_date": 1432739660, "creation_date": 1432739660, "answer_id": 30486520, "question_id": 30486183, "link": "https://stackoverflow.com/questions/30486183/perl-subroutines-first-argument-is-not-the-class/30486520#30486520", "title": "Perl: Subroutines first argument is not the class", "body": "<p>Speculation: you called <code>getGenes</code> with several names:</p>\n\n<pre><code>getGenes(('name1', 'name2'), $genome);\n</code></pre>\n\n<p>List don't nest in Perl, so the arguments are flattened:</p>\n\n<pre><code>getGenes('name1', 'name2', $genome);\n</code></pre>\n\n<p><code>shift</code> can't return more than one element. Therefore,</p>\n\n<pre><code>my @names = shift;\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>my @names;\n$names[0] = shift;\n</code></pre>\n\n<p>The second name is still in <code>@_</code>, so it goes to <code>$genome</code>:</p>\n\n<pre><code>my $genome = shift;\n</code></pre>\n\n<p>If you need to pass a list to a sub, make it the last argument, or send a reference:</p>\n\n<pre><code>sub getGenes {\n    my $genome = shift;\n    my @names = @_;\n}\ngetGenes($genome, 'name1', 'name2');\n\n# OR\n\nsub getGenes {\n    my $names = shift;\n    my $genome = shift;\n    for my $name (@$names) {  # dereference\n        ...\n    }\n}\ngetGenes(['name1', 'name2'], $genome);\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 2790926, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff29bcf8ab19e49c75edd59afc6365c6?s=128&d=identicon&r=PG&f=1", "display_name": "WalterWhite", "link": "https://stackoverflow.com/users/2790926/walterwhite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 30486520, "answer_count": 1, "score": 1, "last_activity_date": 1432739660, "creation_date": 1432738721, "question_id": 30486183, "link": "https://stackoverflow.com/questions/30486183/perl-subroutines-first-argument-is-not-the-class", "title": "Perl: Subroutines first argument is not the class", "body": "<p>I'm relatively new to Perl so bear with me. </p>\n\n<p>My sub getGenes calls getFeaturesByGeneName in the class SequenceModule. The first loop runs fine however in the second loop it tries to invoke get_SeqFeatures (a BioPerl sub) on the string $name meaning that it skips my $self = shift.</p>\n\n<p>What am I missing?</p>\n\n<pre><code>sub getGenes\n{\n    my @names = shift;\n    my $genome = shift;\n    my @cds;\n\n    foreach my $name (@names)\n    {\n        my $feat = SequenceModule -&gt; getFeatureByGeneName($genome, $name);\n        push (@cds, $feat);\n    }\n\n    return @cds;\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>sub getFeatureByGeneName\n{\n    my $self = shift;\n\n    my $seq = shift;\n    my $name = shift;\n\n    my @cds = $seq -&gt; get_SeqFeatures(\"CDS\");\n\n    ...\n}\n</code></pre>\n"}, {"tags": ["perl", "smartmatch"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1432737785, "post_id": 30485739, "comment_id": 49050049, "body": "FYI, <a href=\"http://perldoc.perl.org/perl5180delta.html#The-smartmatch-family-of-features-are-now-experimental\" rel=\"nofollow noreferrer\">as of 5.18.0, smartmatch is experimental</a>: &quot;It is clear that smartmatch is almost certainly either going to change or go away in the future. Relying on its current behavior is not recommended.&quot;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1432738335, "post_id": 30485739, "comment_id": 49050456, "body": "You have <code>@global_excludes</code> and <code>$local_excludes</code>. The first one is a flat list (I assume), but the second one looks like an array ref. Regardless of if the smartmatch does what you want, it will have trouble going over a non-flat thing. It does dereference your <code>[ ... ]</code> automatically, but it will probably get stuck on the arrayref inside. Though this is unproofed speculation."}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1432738958, "post_id": 30485739, "comment_id": 49050927, "body": "yes, it&#39;s unproofed :) I don&#39;t think that&#39;s the problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432743143, "post_id": 30485739, "comment_id": 49053978, "body": "Re &quot;Why does smartmarch think that $file is a number?&quot;, There&#39;s no way to answer your question since you provided absolutely no information about how <code>$file</code> was populated and used."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432743315, "post_id": 30485739, "comment_id": 49054085, "body": "Simpler syntax: <code>sub exclude { my $file = shift; for (@_) { ... } return 0 } exclude($file, @global_excludes, $local_excludes)</code>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1432746961, "post_id": 30485739, "comment_id": 49056346, "body": "existing code looks perly enough to me"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1432748343, "post_id": 30485739, "comment_id": 49057144, "body": "@ysth, It&#39;s not about making more perly, it&#39;s about removing completely useless code. There&#39;s no reason to go to the trouble of building an array here."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432750150, "post_id": 30485739, "comment_id": 49058132, "body": "@ikegami: I was commenting on the question as a whole, the gist of which is &quot;looking to make solution more perly&quot;.  wrt your comment, your code is better (except for switching to $_/@_) <i>unless</i> they commonly call exclude with only one array of excludes or exclude takes more parameters than shown here"}], "answers": [{"comments": [{"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432744055, "post_id": 30486480, "comment_id": 49054579, "body": "@ikegami, sorry, but you&#39;re just wrong there.  <code>2 ~~ &quot;foo&quot;</code> does not give a non-numeric warning.  <code>&quot;foo&quot; ~~ 2</code> does.  This is because smartmatch is primarily (though not entirely) based on the type of the right-hand argument.  The string in the error message is changing because he&#39;s testing multiple values for <code>$file</code> in a loop."}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1432830076, "post_id": 30486480, "comment_id": 49099406, "body": "CJM: Explicit Stringyfying did not do the trick for me :( Is that because my perl is v10.5.1 ? Thanks"}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "reply_to_user": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1432831028, "post_id": 30486480, "comment_id": 49099938, "body": "@user3299282, it&#39;s probably in a nested arrayref.  The example code I gave for stringifying doesn&#39;t handle recursion.  Try dumping <code>[ @global_excludes, $local_excludes ]</code> with <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow noreferrer\">Data::Dumper</a> or <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow noreferrer\">Data::Dump</a> to see where the problem is."}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": false, "score": 2, "last_activity_date": 1432744165, "last_edit_date": 1432744165, "creation_date": 1432739559, "answer_id": 30486480, "question_id": 30485739, "link": "https://stackoverflow.com/questions/30485739/does-perls-smartmatch-work-against-arrays-or-arrayrefs-of-mixed-strings-and-c/30486480#30486480", "title": "Does Perl&#39;s smartmatch work against arrays (or arrayrefs) of mixed strings and compiled regexes?", "body": "<p>Yes, this does work.  The problem is that one of your excludes is a number, not a string.  When the right-hand side of a smartmatch is a number, Perl does an <code>==</code> numeric comparison.</p>\n\n<pre><code>my $s = 'foo';\n$s ~~ 2; # means $s == 2, warns \"$s isn't numeric\"\n$s ~~ '2'; # means $s eq '2', no warning\n</code></pre>\n\n<p>If you intend to do a string comparison, make sure your excludes are strings.  If necessary, stringify them first (e.g. <code>@array = map { ref($_) ? $_ : \"$_\" } @array</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "is_accepted": false, "score": 0, "last_activity_date": 1433175002, "creation_date": 1433175002, "answer_id": 30578228, "question_id": 30485739, "link": "https://stackoverflow.com/questions/30485739/does-perls-smartmatch-work-against-arrays-or-arrayrefs-of-mixed-strings-and-c/30578228#30578228", "title": "Does Perl&#39;s smartmatch work against arrays (or arrayrefs) of mixed strings and compiled regexes?", "body": "<p>Bug found! Was a simple empty string in one of the elements of</p>\n\n<pre><code>[ @global_excludes, $local_excludes ]\n</code></pre>\n\n<p>I guess in such case perl 5.10.1 figures an empty string for a number</p>\n"}], "owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1474302956, "creation_date": 1432737608, "last_edit_date": 1474302956, "question_id": 30485739, "link": "https://stackoverflow.com/questions/30485739/does-perls-smartmatch-work-against-arrays-or-arrayrefs-of-mixed-strings-and-c", "title": "Does Perl&#39;s smartmatch work against arrays (or arrayrefs) of mixed strings and compiled regexes?", "body": "<p>I'm hoping to use Perl's smart-matching to do look-ups against an array that contains both strings and compiled regexes:</p>\n\n<pre><code>do_something($file) unless ($file ~~ [ @global_excludes, $local_excludes ]);\n</code></pre>\n\n<p>(Both the <code>@global_excludes</code> array and the <code>$local_excludes</code> array reference can contain a mixture of strings or compiled regexes.)</p>\n\n<p>Is smart-matching in Perl that smart? Currently, when I run the above with v5.10.1 I get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Argument \"script.sh\" isn't numeric in smart match at test.pl line 422.\nArgument \"Debug.log\" isn't numeric in smart match at test.pl line 422.\nArgument \"lib.pm\" isn't numeric in smart match at test.pl line 422.\n...\n</code></pre>\n\n<p>Why does smartmatch think that <code>$file</code> is a number?</p>\n\n<p>For now, I'm just doing it manually:</p>\n\n<pre><code>do_something($file) unless exclude ($file, [ @global_excludes, $local_excludes ]);\n</code></pre>\n\n<p>where <code>exclude</code> looks like this:</p>\n\n<pre><code>sub exclude\n{\n    my ($file, $list) = @_;\n\n    foreach my $lookup (@$list)\n    {\n        if (is_regexp($lookup))\n        {\n            return 1 if $file =~ $lookup;\n        }\n        else\n        {\n            return 1 if $file eq $lookup;\n        }\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Basically, I'm looking to make the solution more Perly.</p>\n"}, {"tags": ["perl", "unicode"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1432732153, "post_id": 30483401, "comment_id": 49045417, "body": "Have you set your output encoding?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1432736070, "last_edit_date": 1432736070, "creation_date": 1432733316, "answer_id": 30483939, "question_id": 30483401, "link": "https://stackoverflow.com/questions/30483401/convert-hex-values-to-characters/30483939#30483939", "title": "Convert hex values to characters", "body": "<p>The code you posted is correct.</p>\n\n<p>The problem appears to be that you forgot to tell Perl to encode your output. This is normally done using</p>\n\n<pre><code>use open ':std', ':encoding(UTF-8)';\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 1197073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f392db62e253407a1b963b9dfdb8ce5a?s=128&d=identicon&r=PG", "display_name": "Birdy", "link": "https://stackoverflow.com/users/1197073/birdy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 30483939, "answer_count": 1, "score": 0, "last_activity_date": 1432736070, "creation_date": 1432731985, "question_id": 30483401, "link": "https://stackoverflow.com/questions/30483401/convert-hex-values-to-characters", "title": "Convert hex values to characters", "body": "<p>I have strings like: \"Film-DVD \\x{bb}Once / The Swell Season (Collector's Edition\\x{ab} John Carney\" which are the result of Data::Dumper.</p>\n\n<p>Now I want the hex-values \\x{bb}, \\x{ab} to be replaced with corresponding characters \u00bb and \u00ab.</p>\n\n<p>I already tried:</p>\n\n<pre><code>$a =~ s/\\\\x\\{(.{2})\\}/chr(hex($1))/eg;\n</code></pre>\n\n<p>But this returns me \"Film-DVD \ufffdOnce / The Swell Season (Collector's Edition\ufffd John Carney\"</p>\n\n<p>Do you have any ideas what i could do?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1432731143, "post_id": 30482901, "comment_id": 49044591, "body": "If you capture the alternation it will return what was matched."}], "answers": [{"comments": [{"owner": {"reputation": 352, "user_id": 4296256, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a95172d4146a185d7b7e7fd69f4d397c?s=128&d=identicon&r=PG&f=1", "display_name": "alisea", "link": "https://stackoverflow.com/users/4296256/alisea"}, "edited": false, "score": 1, "creation_date": 1432732887, "post_id": 30483031, "comment_id": 49046000, "body": "That was the missing bit of information, got it to work this way. Thanks!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1432731099, "creation_date": 1432731099, "answer_id": 30483031, "question_id": 30482901, "link": "https://stackoverflow.com/questions/30482901/how-do-i-find-out-if-a-string-begins-with-key-of-a-hash-table/30483031#30483031", "title": "How do I find out if a string begins with key of a hash table?", "body": "<p>You just need to capture what matched.</p>\n\n<pre><code>my $pat = join '|', map quotemeta, keys %nops;\nmy $re = qr/$pat/;\n\nfor my $n (@nop) {\n   my ($key) = $n =~ /^($re)/\n      or next;\n\n   my $val = $nops{$key};\n\n   ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 0, "last_activity_date": 1432733003, "last_edit_date": 1432733003, "creation_date": 1432731419, "answer_id": 30483166, "question_id": 30482901, "link": "https://stackoverflow.com/questions/30482901/how-do-i-find-out-if-a-string-begins-with-key-of-a-hash-table/30483166#30483166", "title": "How do I find out if a string begins with key of a hash table?", "body": "<p>Split the query and use it as a look up in the hash:</p>\n\n<pre><code>foreach(@nop){\n    my ($id) = split;\n    print \"$id\\n\" if $nops{$id};\n}\n</code></pre>\n\n<p>This assumes the key is separated from the rest of the string by whitespace.</p>\n"}, {"comments": [{"owner": {"reputation": 352, "user_id": 4296256, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a95172d4146a185d7b7e7fd69f4d397c?s=128&d=identicon&r=PG&f=1", "display_name": "alisea", "link": "https://stackoverflow.com/users/4296256/alisea"}, "edited": false, "score": 0, "creation_date": 1432800650, "post_id": 30484425, "comment_id": 49077686, "body": "Unfortunately, it&#39;s not always the case that the header name is followed by a space, so this solution won&#39;t work in my specific case, but might be useful when you can be sure that the header name is delimited in some way."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1432734485, "creation_date": 1432734485, "answer_id": 30484425, "question_id": 30482901, "link": "https://stackoverflow.com/questions/30482901/how-do-i-find-out-if-a-string-begins-with-key-of-a-hash-table/30484425#30484425", "title": "How do I find out if a string begins with key of a hash table?", "body": "<p>You can more efficiently deal with this by capturing <strong>up to 8 non-space characters</strong> from the start of each line, and using simple hash lookups.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy %nops = (\n    # Name and length of needed headers\n    'POS1'     =&gt; 308,\n    'POS2'     =&gt; 305,\n    'POSSBNOP' =&gt; 309,\n    'PERFORAT' =&gt; 10,\n    'DOCVV'    =&gt; 305,\n    'SPOOLING' =&gt; 308,\n    'DOCADR'   =&gt; 305,\n    'DOCFARBE' =&gt; 305,\n    'DOCMAIL'  =&gt; 305,\n);\n\nwhile (my $line = &lt;DATA&gt;) {\n    my ($key) = ($line =~ /\\A ( \\S{1,8} ) /x);\n    next unless $key and exists( $nops{ $key } );\n    print \"$key =&gt; $nops{ $key }\\n\";\n}\n\n__DATA__\nPOS1 000 # matches 'POS1'\nABCDEF00 # no match (this would be the vast majority of lines in a file)\nSPOOLING # matches 'SPOOLING'\nPOS2 Rec # matches 'POS2'\n</code></pre>\n\n<p>Output:</p>\n\n<pre>POS1 => 308\nSPOOLING => 308\nPOS2 => 305</pre>\n"}], "owner": {"reputation": 352, "user_id": 4296256, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a95172d4146a185d7b7e7fd69f4d397c?s=128&d=identicon&r=PG&f=1", "display_name": "alisea", "link": "https://stackoverflow.com/users/4296256/alisea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 30483031, "answer_count": 3, "score": -1, "last_activity_date": 1432734485, "creation_date": 1432730797, "last_edit_date": 1495535212, "question_id": 30482901, "link": "https://stackoverflow.com/questions/30482901/how-do-i-find-out-if-a-string-begins-with-key-of-a-hash-table", "title": "How do I find out if a string begins with key of a hash table?", "body": "<p>I need to check a specific substring of each line of a big file if the substring begins with one of a set of strings. Since I also need another attribute for each possible key, I've currently represented the search strings and associated values in a hash:</p>\n\n<pre><code>my %nops = (   # Name and length of needed headers\n                 'POS1'     =&gt; 308,\n                 'POS2'     =&gt; 305,\n                 'POSSBNOP' =&gt; 309,\n                 'PERFORAT' =&gt; 10,\n                 'DOCVV'    =&gt; 305,\n                 'SPOOLING' =&gt; 308,\n                 'DOCADR'   =&gt; 305,\n                 'DOCFARBE' =&gt; 305,\n                 'DOCMAIL'  =&gt; 305,\n               );\n</code></pre>\n\n<p>The maximal length of the search string is 8 characters, so I'm extracting the substring from each line of the input file. Some examples of possible substrings are my test data:</p>\n\n<pre><code>my @nop = ( 'POS1 000', # matches 'POS1'\n            'ABCDEF00', # no match (this would be the vast majority of lines in a file)\n            'SPOOLING', # matches 'SPOOLING'\n            'POS2 Rec', # matches 'POS2'\n          );\n</code></pre>\n\n<p>I have a working solution, which requires me to iterate over the keys of the hash to find the right entry if it exists:</p>\n\n<pre><code>for my $n (@nop) { # \n    while ( my ($key, $value) = each(%nops) ) {\n        if ( $n =~ /^$key/ ) {\n            print \"NOP $key found, length $value\\n\";\n            last;\n        }\n    }\n}\n</code></pre>\n\n<p>I am not happy with the solution, because it means running through all the iterations of the while loop for the majority of lines in the file. </p>\n\n<p>I found another partial solution <a href=\"https://stackoverflow.com/questions/26152923/test-if-a-string-contains-the-key-of-a-hash-in-perl\">here</a>, which I like for its conciseness, but it tells me only which lines match, not the key which matched, which I need to figure out the hash value:</p>\n\n<pre><code>my $nop_keys = qr/${\\ join('|', map quotemeta, keys %nops) }/;\nfor my $n (@nop) { # \n    print \"String matched: $n\\n\" if $n =~ $nop_keys;\n}\n</code></pre>\n\n<p>Are there better ways to solve this problem? <a href=\"https://stackoverflow.com/questions/4874946/how-do-i-get-elements-of-a-hash-whose-keys-match-a-given-regex\">This question</a> looks relevant, but deals with the opposite situation: the string matches the key, not the other way round. Maybe a different data structure would be more efficient here? </p>\n\n<p>Side conditions: I'm on Perl 5.10.0, and can only install any additional packages that already come with SUSE Linux Enterprise Server 11 SP2 (no CPAN available). </p>\n"}, {"tags": ["perl", "slurm"], "answers": [{"tags": [], "owner": {"reputation": 3172, "user_id": 2471963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb1bbcc21ab2f3878c5aaf3c8ad95bb3?s=128&d=identicon&r=PG", "display_name": "Carles Fenoy", "link": "https://stackoverflow.com/users/2471963/carles-fenoy"}, "is_accepted": false, "score": 1, "last_activity_date": 1432727897, "last_edit_date": 1432727897, "creation_date": 1432727063, "answer_id": 30481485, "question_id": 30480835, "link": "https://stackoverflow.com/questions/30480835/how-can-i-get-the-jobid-number-of-a-job-submitted-on-slurm-using-perl-script/30481485#30481485", "title": "How can I get the jobid number of a job submitted on slurm using perl script?", "body": "<p>If you want to capture the output of the sbatch command you can not use system but have to use backticks to capture the output. Use (untested code): </p>\n\n<pre><code>my $jobidA=0;\nmy $jobs = \"sbatch jobA.sh\";\nmy $output = `$jobs`\n($jobs =~ /^Submitted batch job (\\d+)/); \n\n$jobidA = $1;\n\nmy $jobs2 = \"$path/jobB.sh\";\n$jobs2 = \"sbatch --dependency=afterok:$jobidA $jobB.sh\";\nsystem $jobs2 || die \"Error:\\n$jobs2\\nerror\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 197, "user_id": 4488132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74c2a68f45d8c5ec1994caa7b2d844ba?s=128&d=identicon&r=PG&f=1", "display_name": "erhan", "link": "https://stackoverflow.com/users/4488132/erhan"}, "is_accepted": true, "score": 2, "last_activity_date": 1434570478, "last_edit_date": 1434570478, "creation_date": 1432754232, "answer_id": 30491275, "question_id": 30480835, "link": "https://stackoverflow.com/questions/30480835/how-can-i-get-the-jobid-number-of-a-job-submitted-on-slurm-using-perl-script/30491275#30491275", "title": "How can I get the jobid number of a job submitted on slurm using perl script?", "body": "<p>I tested the following code parts separately. They are OK. You can use them.</p>\n\n<p>If the jobB is dependent on the jobA, you can add the following part to your code. It was tested.</p>\n\n<pre><code>my $jobid1 = 0;\nmy $jobs = `sbatch jobA.sh`;\n$jobs =~ /^Submitted batch job (\\d+)/; \n$jobid1 = $1;\n\nmy $jobs2 = \"$path/jobB.sh\";\nmy $jobs2 = \"sbatch --dependency=afterok:$jobid1 $jobB.sh\";\nsystem $jobs2 || die \"Error:\\n$jobs2\\nerror\";\n</code></pre>\n\n<p>The following example has three jobs that are dependent on the previously submitted job. This was tested too.</p>\n\n<pre><code>my $jobid1 = 0;\nmy $jobs = `sbatch jobA.sh`;\n$jobs =~ /^Submitted batch job (\\d+)/; \n$jobid1 = $1;\n\nmy $jobs2 = \"$path/jobB.sh\";\nmy $jobs2 = `sbatch --dependency=afterok:$jobid1 $jobB.sh`;\n$jobs =~ /^Submitted batch job (\\d+)/; \n$jobid2 = $1;\n\nmy $jobs3 = \"$path/jobC.sh\";\nmy $jobs3 = \"sbatch --dependency=afterok:$jobid2 $jobC.sh\";\nsystem $jobs3 || die \"Error:\\n$jobs3\\nerror\";\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 4488132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74c2a68f45d8c5ec1994caa7b2d844ba?s=128&d=identicon&r=PG&f=1", "display_name": "erhan", "link": "https://stackoverflow.com/users/4488132/erhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2327, "favorite_count": 1, "accepted_answer_id": 30491275, "answer_count": 2, "score": 3, "last_activity_date": 1434570478, "creation_date": 1432725229, "question_id": 30480835, "link": "https://stackoverflow.com/questions/30480835/how-can-i-get-the-jobid-number-of-a-job-submitted-on-slurm-using-perl-script", "title": "How can I get the jobid number of a job submitted on slurm using perl script?", "body": "<p>I have two jobs, jobA.sh and jobB.sh. I want jobB.sh to start after jobA.sh has successfully completed. For this I have to get the jobid number of the jobA.sh. But the following part of my code is problematic. My code gives the following error. That error means the jobB.sh doesn't start. The code couldn't get the jobid number of the jobA.sh. How can I get the jobid number of the jobA.sh?</p>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>Submitted batch job 298784 sbatch: error: Batch job submission failed:\n  Job dependency problem</p>\n</blockquote>\n\n<p>The code submits the jobA.sh correctly but it gives above error for the jobB.sh.</p>\n\n<pre><code>my $jobidA=0;\nmy $jobs = \"sbatch jobA.sh\";\nsystem $jobs || die \"Error:\\n$jobs\\nerror\";\n# I think the following line captures jobid?\n($jobs =~ /^Submitted batch job (\\d+)/); \n# And the following line stores jobid?\nmy $jobidA = $1;\n\nmy $jobs2 = \"$path/jobB.sh\";\nmy $jobs2 = \"sbatch --dependency=afterok:$jobidA $jobB.sh\";\nsystem $jobs2 || die \"Error:\\n$jobs2\\nerror\";\n</code></pre>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 5, "creation_date": 1432724629, "post_id": 30479763, "comment_id": 49039801, "body": "You <i>really</i> don&#39;t want to do that"}, {"owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "edited": false, "score": 0, "creation_date": 1432725962, "post_id": 30479763, "comment_id": 49040728, "body": "How do you know what he wants to do?  He may be entering an obfuscated perl contest..."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1432731800, "post_id": 30479763, "comment_id": 49045134, "body": "String <code>eval</code> is dangerous because it could lead to code injection. Don&#39;t use it unless you really know about security. See <code>perldoc perlsec</code> <a href=\"http://perldoc.perl.org/perlsec.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlsec.html</a>"}, {"owner": {"reputation": 4097, "user_id": 1154447, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Dgc7K.jpg?s=128&g=1", "display_name": "bruziuz", "link": "https://stackoverflow.com/users/1154447/bruziuz"}, "edited": false, "score": 0, "creation_date": 1432745005, "post_id": 30479763, "comment_id": 49055127, "body": "Mmm, what I wanted is dynamic execution of forming code like python&#39;s exec...Form a code and feed it to eval. No I&#39;m not taking a part in obfuscated contest and It is not part of web project...."}, {"owner": {"reputation": 4097, "user_id": 1154447, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Dgc7K.jpg?s=128&g=1", "display_name": "bruziuz", "link": "https://stackoverflow.com/users/1154447/bruziuz"}, "edited": false, "score": 0, "creation_date": 1432745846, "post_id": 30479763, "comment_id": 49055662, "body": "perl security is absolutely not interesting for me at current moment of my life, but thanks for link) it was really just misprint in script, and quite perl interpreter behavior."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1432750127, "post_id": 30479763, "comment_id": 49058124, "body": "Security should be a concern for all programmers. If you&#39;re going to do something risky, at less know the risks. :)"}], "answers": [{"comments": [{"owner": {"reputation": 4097, "user_id": 1154447, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Dgc7K.jpg?s=128&g=1", "display_name": "bruziuz", "link": "https://stackoverflow.com/users/1154447/bruziuz"}, "edited": false, "score": 0, "creation_date": 1432724079, "post_id": 30480119, "comment_id": 49039413, "body": "I have misprint. eval(&quot;sub f {print 123;}&quot;); f(); works fine to me"}], "tags": [], "owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "is_accepted": false, "score": 4, "last_activity_date": 1432723240, "creation_date": 1432723240, "answer_id": 30480119, "question_id": 30479763, "link": "https://stackoverflow.com/questions/30479763/perls-equivalent-to-python-exec/30480119#30480119", "title": "Perl&#39;s equivalent to python exec?", "body": "<p>You have a wrong subroutine declaration. Try:</p>\n\n<pre><code>eval(\"sub f { print 123 }\"); f();\n</code></pre>\n\n<p>See also: <a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow\">http://perldoc.perl.org/perlsub.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 4097, "user_id": 1154447, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Dgc7K.jpg?s=128&g=1", "display_name": "bruziuz", "link": "https://stackoverflow.com/users/1154447/bruziuz"}, "edited": false, "score": 0, "creation_date": 1432724457, "post_id": 30480323, "comment_id": 49039673, "body": "Thanks for your proposed trick with anonymous function, but I only made a misprint in subroutine definition)"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1432724728, "post_id": 30480323, "comment_id": 49039861, "body": "Is there a reason for empty prototype? <code>sub () {..}</code>"}, {"owner": {"reputation": 4097, "user_id": 1154447, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Dgc7K.jpg?s=128&g=1", "display_name": "bruziuz", "link": "https://stackoverflow.com/users/1154447/bruziuz"}, "edited": false, "score": 0, "creation_date": 1432725580, "post_id": 30480323, "comment_id": 49040477, "body": "I think so, there is empty prototype + some colon sign + quiet model of eval invocation in Perl=&gt; all of it lead to unnecessary question in stackoverflow)"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1432726263, "post_id": 30480323, "comment_id": 49040927, "body": "@\u0421\u0443\u0445\u043e\u043927 It&#39;s early in the morning here. &quot;prototypes have no influence ... on indirect subroutine calls&quot;."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1432727001, "post_id": 30480323, "comment_id": 49041505, "body": "Np, I thought I&#39;ve missed something."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1432727107, "post_id": 30480323, "comment_id": 49041594, "body": "@\u0421\u0443\u0445\u043e\u043927 Sorry for the confusion. ;-)"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1432726200, "last_edit_date": 1432726200, "creation_date": 1432723784, "answer_id": 30480323, "question_id": 30479763, "link": "https://stackoverflow.com/questions/30479763/perls-equivalent-to-python-exec/30480323#30480323", "title": "Perl&#39;s equivalent to python exec?", "body": "<p>I don't know exactly what you are trying to achieve, but string eval will put the function in the package namespace (and will redefine if there is already a function by that name). If you only need this in one spot:</p>\n\n<pre><code>my $f = sub { my $v = shift; sub { print $v } }-&gt;(123);\n...\n$f-&gt;();\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>#!/usr/bin/env perl -l\n\nuse strict;\nuse warnings;\n\nsub f () { print 456 };\n\neval \"sub f() { print 123 }\";\n\nf();\n\nmy $f = sub { my $v = shift; sub { print $v } }-&gt;(123);\n\n$f-&gt;();\n</code></pre>\n\n<p>Output:</p>\n\n<pre>Subroutine f redefined at (eval 1) line 1.\n123\n123</pre>\n"}], "owner": {"reputation": 4097, "user_id": 1154447, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Dgc7K.jpg?s=128&g=1", "display_name": "bruziuz", "link": "https://stackoverflow.com/users/1154447/bruziuz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "closed_date": 1432727173, "accepted_answer_id": 30480323, "answer_count": 2, "score": -4, "last_activity_date": 1432745212, "creation_date": 1432722388, "last_edit_date": 1432745212, "question_id": 30479763, "link": "https://stackoverflow.com/questions/30479763/perls-equivalent-to-python-exec", "closed_reason": "Not suitable for this site", "title": "Perl&#39;s equivalent to python exec?", "body": "<p>Python legal code: </p>\n\n<pre><code>  exec(\"def f():print 123\"); f();\n</code></pre>\n\n<p>What is a Perl equivalent construction or how to bind symbols from eval to current scope from Perl's eval?</p>\n\n<pre><code>  eval(\"sub f(){ print 123;}\"); f();\n  \"Undefined subroutine &amp;main::f\"\n</code></pre>\n\n<p><strong>Question is not actual, because it has misprint in it first definition.</strong></p>\n"}, {"tags": ["perl", "unicode", "encoding", "mojolicious"], "comments": [{"owner": {"reputation": 180, "user_id": 1474833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2bf7b7b68876860990169fbbc561c12?s=128&d=identicon&r=PG", "display_name": "xlat", "link": "https://stackoverflow.com/users/1474833/xlat"}, "edited": false, "score": 0, "creation_date": 1432797439, "post_id": 30478043, "comment_id": 49075730, "body": "I see I have a confusion between unicode (standard) and utf* (encoding) after reading this <a href=\"http://stackoverflow.com/questions/3951722/whats-the-difference-between-unicode-and-utf8\">answers</a>. But in the Dump above, the flag utf8 followed but unicode characters keep me in trouble. (<code>[UTF8 &quot;\\x{e9}t\\x{e9}&quot;]</code>)"}, {"owner": {"reputation": 180, "user_id": 1474833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2bf7b7b68876860990169fbbc561c12?s=128&d=identicon&r=PG", "display_name": "xlat", "link": "https://stackoverflow.com/users/1474833/xlat"}, "edited": false, "score": 0, "creation_date": 1432800848, "post_id": 30478043, "comment_id": 49077816, "body": "In the Devel::Peek output line <code>PV = 0x5b62c48 &quot;\\303\\251t\\303\\251&quot;\\0 [UTF8 &quot;\\x{e9}t\\x{e9}&quot;]</code> : I did not notice that sequence \\303\\251 stand for C3 A9."}, {"owner": {"reputation": 180, "user_id": 1474833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2bf7b7b68876860990169fbbc561c12?s=128&d=identicon&r=PG", "display_name": "xlat", "link": "https://stackoverflow.com/users/1474833/xlat"}, "edited": false, "score": 0, "creation_date": 1432801000, "post_id": 30478043, "comment_id": 49077906, "body": "Another trap in my code was that <code>Data::HexDump</code> was not showing me the byte semantics of string buffer but the character semantic. In order to see the real binary data I must do something like <code>use Devel::Hexdump &#39;xd&#39;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 180, "user_id": 1474833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2bf7b7b68876860990169fbbc561c12?s=128&d=identicon&r=PG", "display_name": "xlat", "link": "https://stackoverflow.com/users/1474833/xlat"}, "edited": false, "score": 0, "creation_date": 1432728799, "post_id": 30479721, "comment_id": 49042848, "body": "I&#39;m not sure about what <code>path(2)</code> is supposed to do, I got <code>Error open (&lt;:unix) on &#39;2&#39;: No such file or directory at -e line 1.</code> with first oneliner, Butif I create a file named <code>2</code> it dump it&#39;s content. Sorry but I don&#39;t see how your answers help me to point what&#39;s wrong in my code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 180, "user_id": 1474833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2bf7b7b68876860990169fbbc561c12?s=128&d=identicon&r=PG", "display_name": "xlat", "link": "https://stackoverflow.com/users/1474833/xlat"}, "edited": false, "score": 0, "creation_date": 1432731410, "post_id": 30479721, "comment_id": 49044809, "body": "@xlat, looks like he placed a BOM and &quot;&#233;t&#233;&quot; in a UTF-8-encoded file named <code>2</code>."}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 1, "creation_date": 1432774433, "post_id": 30479721, "comment_id": 49068423, "body": "update for you, nothing wrong with your program, you are getting &#233;t&#233; like you wanted"}, {"owner": {"reputation": 180, "user_id": 1474833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2bf7b7b68876860990169fbbc561c12?s=128&d=identicon&r=PG", "display_name": "xlat", "link": "https://stackoverflow.com/users/1474833/xlat"}, "edited": false, "score": 0, "creation_date": 1432795081, "post_id": 30479721, "comment_id": 49074421, "body": "Thank you guys, I just figured out that my assumption was wrong, but now I am still in trouble with perl internal representation of a string flagged as utf8 which contain unicode (<code>\\xe9</code>) rather than utf8 (<code>\\xC3\\xA9</code>). So I may rename the subject to something like &quot;Perl internal representation of unicode string&quot; and read more manuals..."}], "tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": true, "score": 2, "last_activity_date": 1432774345, "last_edit_date": 1432774345, "creation_date": 1432722218, "answer_id": 30479721, "question_id": 30478043, "link": "https://stackoverflow.com/questions/30478043/perl-internal-representation-of-unicode-string/30479721#30479721", "title": "Perl internal representation of unicode string", "body": "<p>update: There is nothing wrong with your program, you are getting \u00e9t\u00e9 just like you wanted, its simply Dumped as the perl unicode string <code>\"\\xE9t\\xE9\"</code>, they're the same thing, perl unicode strings aren't stored in memory as utf8, they're decoded from utf into unicode codepoints/ordinals, utf8 is just a way to encode/represent unicode codepoints/ordinals\n\u00e9 is the ordinal 233, check the wikipedia link below (also updated program)</p>\n\n<p>Um, \u00e9t\u00e9 is only <code>C3 A9 74 C3 A9</code> in utf8, in numbers/ordinals \u00e9t\u00e9 is 233 116 233 </p>\n\n<p>which as a perl unicode string is <code>\\xE9t\\xE9</code>, the number 233 is  E9 in hex</p>\n\n<p>update:  before I created the utf8 file 2 with an editor, here its created with perl.  You can see its got the right bytes you expect, and dd the difference when you read it as utf or as raw</p>\n\n<pre><code>$ perl -CS -e \" print chr(233), chr(116), chr(233) \" &gt;2\n\n$ od -tx1 2\n0000000 c3 a9 74 c3 a9\n0000005\n\n$ type 2\n\u00e9t\u00e9\n$\n$ perl -MData::Dump -MPath::Tiny -e \" dd ( path(2)-&gt;slurp_raw ) \"\n\"\\xC3\\xA9t\\xC3\\xA9\"\n\n$ perl -MData::Dump -MPath::Tiny -e \" dd ( path(2)-&gt;slurp_utf8 ) \"\n\"\\xE9t\\xE9\"\n\n$ perl -MData::Dump -MPath::Tiny -e \" dd( map { [ $_, ord$_ ] } split //, path(2)-&gt;slurp_utf8 ) \"\n([\"\\xE9\", 233], [\"t\", 116], [\"\\xE9\", 233])\n</code></pre>\n\n<ul>\n<li><a href=\"http://perldoc.perl.org/perluniintro.html\" rel=\"nofollow\">http://perldoc.perl.org/perluniintro.html</a></li>\n<li><a href=\"http://perldoc.perl.org/functions/ord.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/ord.html</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/%C3%89#Character_mappings\" rel=\"nofollow\">https://en.wikipedia.org/wiki/%C3%89#Character_mappings</a></li>\n<li><a href=\"http://perldoc.perl.org/perlrebackslash.html#Hexadecimal-escapes\" rel=\"nofollow\">http://perldoc.perl.org/perlrebackslash.html#Hexadecimal-escapes</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1432735563, "creation_date": 1432735563, "answer_id": 30484897, "question_id": 30478043, "link": "https://stackoverflow.com/questions/30478043/perl-internal-representation-of-unicode-string/30484897#30484897", "title": "Perl internal representation of unicode string", "body": "<p><code>U+00E9</code> is the code point for <strong>\u00e9</strong>. <code>c3 a9</code> is the UTF-8 encoding. To see the UTF-8 encoded form of <code>'\u00e9'</code>, you need to UTF-8 encode it. For example:</p>\n\n<pre><code>#!/usr/bin/env perl -l\n\nuse utf8;\nuse strict;\nuse warnings;\nuse Unicode::UTF8 qw( encode_utf8 );\n\nbinmode STDOUT, ':encoding(UTF-8)';\n\nmy $\u00e9 = \"\\x{e9}\";\n\nprint $\u00e9;\nprintf \"%v02x\\n\", encode_utf8($\u00e9);\n</code></pre>\n\n<p>Output:</p>\n\n<pre>$ ./u.pl\n\u00e9\nc3.a9</pre>\n"}], "owner": {"reputation": 180, "user_id": 1474833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2bf7b7b68876860990169fbbc561c12?s=128&d=identicon&r=PG", "display_name": "xlat", "link": "https://stackoverflow.com/users/1474833/xlat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 1, "accepted_answer_id": 30479721, "answer_count": 2, "score": 1, "last_activity_date": 1432803311, "creation_date": 1432718047, "last_edit_date": 1432803311, "question_id": 30478043, "link": "https://stackoverflow.com/questions/30478043/perl-internal-representation-of-unicode-string", "title": "Perl internal representation of unicode string", "body": "<p>I am working on a perl + Mojolicious web application and my front-end send a POST query containing accents in a <code>\"a\"</code> parameter (<code>\"\u00e9t\u00e9\"</code>) using charset <code>utf-8</code> as I can spy in chrome network tab. But server side script decode that parameter using a charset that I didn't expect.\nI wrote the following script to reproduce that case.</p>\n\n<pre><code>use utf8; #script encoded in utf8 without bom\nuse Mojolicious::Lite; \nuse Data::HexDump;\n{\n    require Mojolicious;\n    say \"perl $^V, Mojolicious: v\", Mojolicious-&gt;VERSION, \", \", `chcp` ;\n}\n\npost '/' =&gt; sub{\n        my $self = shift;\n        my $params = $self-&gt;req-&gt;params-&gt;to_hash;\n        app-&gt;log-&gt;debug(\"received data:\\n\", HexDump( $params-&gt;{a} ) );\n        use Devel::Peek;\n        Dump( $params-&gt;{a} );\n        $self-&gt;render( text =&gt; \"ok for '$params-&gt;{a}'\" );\n    };\n\nif(my $pid = fork()){\n    use Mojo::UserAgent;\n    my $t = Mojo::UserAgent-&gt;new;\n    #simulate front-end query\n    my $tx  = $t-&gt;post('http://127.0.0.1:3042/' =&gt; \n                            { 'Content-Type' =&gt; 'application/x-www-form-urlencoded; charset=UTF-8' }, \n                            form =&gt; {  a =&gt; '\u00e9t\u00e9'} \n                        );\n    my $res = $tx-&gt;res-&gt;body;\n    say \"result:\\n\", HexDump($res);\n    use Devel::Peek;\n    Dump( $res );\n    kill 'SIGKILL', $pid;\n    exit(0);\n}\n\napp-&gt;start(qw(daemon --listen http://*:3042 ));\n</code></pre>\n\n<p>The ouput of this script was:</p>\n\n<pre><code>perl v5.20.1, Mojolicious: v6.05, Page de codes active : 850\n\n[Tue May 26 12:31:15 2015] [info] Listening at \"http://*:3042\"\nServer available at http://127.0.0.1:3042\n[Tue May 26 12:31:16 2015] [debug] Your secret passphrase needs to be changed\n[Tue May 26 12:31:16 2015] [debug] POST \"/\"\n[Tue May 26 12:31:16 2015] [debug] Routing to a callback\n[Tue May 26 12:31:16 2015] [debug] received data:\n\n          00 01 02 03 04 05 06 07 - 08 09 0A 0B 0C 0D 0E 0F  0123456789ABCDEF\n\n00000000  E9 74 E9                                           .t.\n\nSV = PVMG(0x5a7a198) at 0x4dce730\n  REFCNT = 1\n  FLAGS = (POK,pPOK,UTF8)\n  IV = 0\n  NV = 0\n  PV = 0x5b62c48 \"\\303\\251t\\303\\251\"\\0 [UTF8 \"\\x{e9}t\\x{e9}\"]\n  CUR = 5\n  LEN = 10\n[Tue May 26 12:31:16 2015] [debug] 200 OK (0.005052s, 197.941/s)\nresult:\n          00 01 02 03 04 05 06 07 - 08 09 0A 0B 0C 0D 0E 0F  0123456789ABCDEF\n\n00000000  6F 6B 20 66 6F 72 20 27 - C3 A9 74 C3 A9 27        ok for '..t..'\n\nSV = PV(0x41a73e8) at 0x4927070\n  REFCNT = 1\n  FLAGS = (PADMY,POK,IsCOW,pPOK)\n  PV = 0x5aa1328 \"ok for '\\303\\251t\\303\\251'\"\\0\n  CUR = 14\n  LEN = 16\n  COW_REFCNT = 1\n</code></pre>\n\n<p>So we can see that the server receive the <code>\"a\"</code> parameter in an string flagged <code>utf8</code> that contain the buffer <code>\"\\x{e9}t\\x{e9}\"</code>.</p>\n\n<p>I was expecting <code>\"\u00e9t\u00e9\"</code> with the hexa <code>\"C3 A9 74 C3 A9\"</code>.</p>\n\n<p>What is wrong?</p>\n"}, {"tags": ["perl", "text", "awk"], "comments": [{"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 2, "creation_date": 1432718079, "post_id": 30477731, "comment_id": 49035152, "body": "It would be much more useful if you showed us a small example of what you want to do (and preferably, your attempt at doing it). Of course, it&#39;s useful to know that you intend on working with much larger files but the principles are likely to be similar."}], "answers": [{"tags": [], "owner": {"reputation": 24415, "user_id": 3730397, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/d1OmM.png?s=128&g=1", "display_name": "firelynx", "link": "https://stackoverflow.com/users/3730397/firelynx"}, "is_accepted": false, "score": 1, "last_activity_date": 1432722999, "creation_date": 1432722999, "answer_id": 30480029, "question_id": 30477731, "link": "https://stackoverflow.com/questions/30477731/overlapping-split-and-merge-of-large-text-file/30480029#30480029", "title": "Overlapping split and merge of large text file", "body": "<p>Sounds like you are trying to re-invent the wheel</p>\n\n<p>Map/Reduce and it's implementation in <a href=\"https://hadoop.apache.org/\" rel=\"nofollow\">Hadoop</a> was invented for exactly \"I have a big file (100 GB +). I want to parallel process it.\"</p>\n\n<p>Since the invention of Hadoop, there have been many many additions to the bigdata toolbox. I would suggest you look into <a href=\"https://spark.apache.org/\" rel=\"nofollow\">spark</a> and maybe <a href=\"https://spark.apache.org/docs/0.9.1/python-programming-guide.html\" rel=\"nofollow\">python-spark</a>, if you like C, then you probably will like python. It's quite a natural next step (if not C++ first) in my opinion.</p>\n\n<p>Otherwise, splitting files can be done with bash by stacking <a href=\"http://ss64.com/bash/tee.html\" rel=\"nofollow\">tee</a> commands in streams with <a href=\"http://linux.die.net/man/1/head\" rel=\"nofollow\">head</a> and <a href=\"http://unixhelp.ed.ac.uk/CGI/man-cgi?tail\" rel=\"nofollow\">tail</a> attached to the output streams. You would have to do a binary split in each step, basically halving the file in each step. The command gets quite complicated but I have done this before and it does work. Just don't expect the code you produce to be understandable by someone else, it gets very very messy. I would advice against persuing this line of work and use something that already has been tested and proven, such as <a href=\"https://hadoop.apache.org/\" rel=\"nofollow\">Hadoop</a></p>\n"}, {"tags": [], "owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "is_accepted": false, "score": 0, "last_activity_date": 1432735792, "creation_date": 1432735792, "answer_id": 30485002, "question_id": 30477731, "link": "https://stackoverflow.com/questions/30477731/overlapping-split-and-merge-of-large-text-file/30485002#30485002", "title": "Overlapping split and merge of large text file", "body": "<p>Here's one way you can use awk to split a file into overlapping chunks:</p>\n\n<pre><code>BEGIN { file_f = -1 }          # initialise file suffix\n{ l = NR % 20 }                # 20 is the repeat length\nl == 1  { f = 1; file_f += 2 } # f is set for lines 1 to 12, inclusive\nl == 13 { f = 0 }\nl == 11 { g = 1; file_g +=2 }  # g is set for lines 11 to 2, inclusive\nl == 3  { g = 0 }\nf { print &gt;\"file_\"file_f }\ng { print &gt;\"file_\"file_g }\n</code></pre>\n\n<p>The flag <code>f</code> handles \"odd\" chunks and <code>g</code> handles \"even\" ones. The <code>file_f</code> and <code>file_g</code> suffixes are incremented by 2 for each new chunk, resulting in consecutively numbered output files.</p>\n\n<p>Testing this out on a small example (note that line numbers in awk start from 1):</p>\n\n<pre><code>$ seq 22 &gt; file\n$ awk -f script.awk file\n$ cat file_1\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n$ cat file_2\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n$ cat file_3\n21\n22\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4943821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1c1560638145b35e22a62e0bec83c16?s=128&d=identicon&r=PG&f=1", "display_name": "Yoav", "link": "https://stackoverflow.com/users/4943821/yoav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1432735792, "creation_date": 1432717219, "question_id": 30477731, "link": "https://stackoverflow.com/questions/30477731/overlapping-split-and-merge-of-large-text-file", "title": "Overlapping split and merge of large text file", "body": "<p>I have a big file (100 GB +).\nI want to parallel process it. I want to split it so the first file will contain line 0 to 1001 M the second file from 1000 M to 2001 M etc.\nAfter I process the files I have n overlapping lines between each two results (n is bounded but not constant. let's assume n can range between 100-900 k lines. The overlapping can happen only in line level)\nis there some way to achieve this task or do i have to write the splitting and merging using C?</p>\n"}, {"tags": ["perl", "google-authentication"], "comments": [{"owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "edited": false, "score": 0, "creation_date": 1432903453, "post_id": 30476405, "comment_id": 49133345, "body": "The ClientLogin API has been removed by Google. It was deprecated for 2 years. I&#39;ve filled a ticket (<a href=\"https://rt.cpan.org/Ticket/Display.html?id=104767\" rel=\"nofollow noreferrer\">RT#104767</a>), but the Net::Google::AuthSub got no updates during the last 5 years..."}], "answers": [{"comments": [{"owner": {"reputation": 3770, "user_id": 4731679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66a9b39bb57049590b4ba59423630ef6?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Doolittle", "link": "https://stackoverflow.com/users/4731679/edward-doolittle"}, "edited": false, "score": 0, "creation_date": 1432840410, "post_id": 30480924, "comment_id": 49105507, "body": "Awesome, works like a charm. Thanks so much for sharing."}], "tags": [], "owner": {"reputation": 260, "user_id": 4943604, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XKNmvKiqUEM/AAAAAAAAAAI/AAAAAAAAAPk/2P9MqArOj7M/photo.jpg?sz=128", "display_name": "J.T", "link": "https://stackoverflow.com/users/4943604/j-t"}, "is_accepted": true, "score": 12, "last_activity_date": 1432725481, "creation_date": 1432725481, "answer_id": 30480924, "question_id": 30476405, "link": "https://stackoverflow.com/questions/30476405/netgoogleauthsub-login-failed-with-new-google-drive-version/30480924#30480924", "title": "Net::Google::AuthSub login failed with new Google Drive version", "body": "<p>I have to answer my question as I was happy to find a solution. Google changed their authentication algorithm, so we have to use OAuth 2.0.\nYou will need to create Credentials at: <a href=\"https://console.developers.google.com/\">https://console.developers.google.com/</a></p>\n\n<p>APIs &amp; auth -> Credentials -> OAuth -> Client ID -> Installed application -> Other</p>\n\n<p>and enable your API i.e.: APIs &amp; auth -> APIs -> Google Apps APIs > Drive API</p>\n\n<p>The following code works fine:</p>\n\n<pre><code>use Net::Google::DataAPI::Auth::OAuth2;\nuse Net::Google::Spreadsheets;\nuse Storable; #to save and restore token for future use\n\nmy $oauth2 = Net::Google::DataAPI::Auth::OAuth2-&gt;new(\n    client_id =&gt; 'ID.apps.googleusercontent.com',\n    client_secret =&gt; 'SECRET',\n    scope =&gt; ['http://spreadsheets.google.com/feeds/'],\n  );\n#you can skip URL if you have your token saved and continue from RESTORE label\n\nmy $url = $oauth2-&gt;authorize_url();\n#you will need to put code here and receive token\nprint \"OAuth URL, get code: $url\\n\";\nuse Term::Prompt;\nmy $code = prompt('x', 'paste the code: ', '', ''); \nmy $token = $oauth2-&gt;get_access_token($code) or die;\n\n#save token for future use\nmy $session = $token-&gt;session_freeze;\nstore($session, 'google_spreadsheet.session');\n\nRESTORE:\nmy $session = retrieve('google_spreadsheet.session');\nmy $restored_token = Net::OAuth2::AccessToken-&gt;session_thaw($session,\n    auto_refresh =&gt; 1,\n    profile =&gt; $oauth2-&gt;oauth2_webserver,\n);\n$oauth2-&gt;access_token($restored_token);\n\nmy $service = Net::Google::Spreadsheets-&gt;new(auth =&gt; $oauth2);\n# and then as before..\n</code></pre>\n\n<p>Save and restore token session example found at <a href=\"https://gist.github.com/hexaddikt\">https://gist.github.com/hexaddikt</a></p>\n"}, {"comments": [{"owner": {"reputation": 260, "user_id": 4943604, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XKNmvKiqUEM/AAAAAAAAAAI/AAAAAAAAAPk/2P9MqArOj7M/photo.jpg?sz=128", "display_name": "J.T", "link": "https://stackoverflow.com/users/4943604/j-t"}, "edited": false, "score": 0, "creation_date": 1437161629, "post_id": 30605993, "comment_id": 50931909, "body": "Thanks for your input. But I generated token just once and it&#39;s already more than a month and not expired. I&#39;m not sure how it is working."}], "tags": [], "owner": {"reputation": 247, "user_id": 2574196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z9wOZ.jpg?s=128&g=1", "display_name": "ELNJ", "link": "https://stackoverflow.com/users/2574196/elnj"}, "is_accepted": false, "score": 1, "last_activity_date": 1433277037, "creation_date": 1433277037, "answer_id": 30605993, "question_id": 30476405, "link": "https://stackoverflow.com/questions/30476405/netgoogleauthsub-login-failed-with-new-google-drive-version/30605993#30605993", "title": "Net::Google::AuthSub login failed with new Google Drive version", "body": "<p>Thanks for this - very helpful.  One addition is that the code in the original poster's answer will generate a token that expires in an hour.  If you want to keep using it, you need to be sure to formulate the initial request so that it generates not only the access token, but also the refresh token.  To get this, change the initial </p>\n\n<pre><code>my $url = $oauth2-&gt;authorize_url();\n</code></pre>\n\n<p>to </p>\n\n<pre><code>my $url = $oauth2-&gt;authorize_url(access_type =&gt; 'offline',\n                                 approval_prompt =&gt; 'force');\n</code></pre>\n\n<p>Then the returned token will have the necessary refresh_token included. </p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 4019582, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "xjohn", "link": "https://stackoverflow.com/users/4019582/xjohn"}, "is_accepted": false, "score": 1, "last_activity_date": 1437260050, "last_edit_date": 1495540891, "creation_date": 1437071852, "answer_id": 31462000, "question_id": 30476405, "link": "https://stackoverflow.com/questions/30476405/netgoogleauthsub-login-failed-with-new-google-drive-version/31462000#31462000", "title": "Net::Google::AuthSub login failed with new Google Drive version", "body": "<p>That code above absolutely would not work for me.  After looking around for several hours, reading the documentation  and trying different things I finally ran across some code that worked. 90% of it is the same but it was the missing 10% and the accompanying explanations that made all the difference.  </p>\n\n<p><a href=\"http://pastebin.com/8LeMyLW4\" rel=\"nofollow noreferrer\">http://pastebin.com/8LeMyLW4</a></p>\n\n<p>(Originally from this Stack Overflow post: <a href=\"https://stackoverflow.com/questions/30735920/authenticating-in-a-google-sheets-application\">Authenticating in a Google sheets application</a>)</p>\n\n<pre><code>#!/usr/bin/perl\n\n# Code to get a web-based token that can be stored \n# and used later to authorize our spreadsheet access. \n\n# Based on code from https://gist.github.com/hexaddikt/6738162\n\n#-------------------------------------------------------------------\n\n# To use this code:\n\n# 1. Edit the lines below to put in your own\n#    client_id and client_secret from Google. \n# 2. Run this script and follow the directions on \n#    the screen, which will give step you \n#    through the following steps:\n# 3. Copy the URL printed out, and paste \n#    the URL in a browser to load the page. \n# 4. On the resulting page, click OK (possibly\n#    after being asked to log in to your Google \n#    account). \n# 5. You will be redirected to a page that provides \n#    a code that you should copy and paste back into the \n#    terminal window, so this script can exchange it for\n#    an access token from Google, and store the token.  \n#    That will be the the token the other spreadsheet access\n#    code can use. \n\n\nuse Net::Google::DataAPI::Auth::OAuth2;\nuse Net::Google::Spreadsheets;\nuse Storable; #to save and restore token for future use\nuse Term::Prompt;\n\n# Provide the filename in which we will store the access \n# token.  This file will also need to be readable by the \n# other script that accesses the spreadsheet and parses\n# the contents. \n\nmy $session_filename = \"stored_google_access.session\";\n\n\n# Code for accessing your Google account.  The required client_id\n# and client_secret can be found in your Google Developer's console \n# page, as described in the detailed instruction document.  This \n# block of code will also need to appear in the other script that\n# accesses the spreadsheet. \n\n# Be sure to edit the lines below to fill in your correct client \n# id and client secret!\nmy $oauth2 = Net::Google::DataAPI::Auth::OAuth2-&gt;new(\n    client_id =&gt; 'your_client_id.apps.googleusercontent.com',\n    client_secret =&gt; 'your_client_secret',\n    scope =&gt; ['http://spreadsheets.google.com/feeds/'],\n    redirect_uri =&gt; 'https://developers.google.com/oauthplayground',\n                             );\n# We need to set these parameters this way in order to ensure \n# that we get not only an access token, but also a refresh token\n# that can be used to update it as needed. \nmy $url = $oauth2-&gt;authorize_url(access_type =&gt; 'offline',\n                 approval_prompt =&gt; 'force');\n\n# Give the user instructions on what to do:\nprint &lt;&lt;END\n\nThe following URL can be used to obtain an access token from\nGoogle.  \n\n1. Copy the URL and paste it into a browser.  \n\n2.  You may be asked to log into your Google account if you \nwere not logged in already in that browser.  If so, go \nahead and log in to whatever account you want to have \naccess to the Google doc. \n\n3. On the next page, click \"Accept\" when asked to grant access. \n\n4.  You will then be redirected to a page with a box in the \nleft-hand column labeled  \"Authorization code\".  \nCopy the code in that box and come back here. \n\nHere is the URL to paste in your browser to get the code:\n\n$url\n\nEND\n    ;\n\n# Here is where we get the code from the user:\nmy $code = prompt('x', 'Paste the code obtained at the above URL here: ', '', ''); \n\n# Exchange the code for an access token:\nmy $token = $oauth2-&gt;get_access_token($code) or die;\n\n# If we get to here, it worked!  Report success: \nprint \"nToken obtained successfully!n\";\nprint \"Here are the token contents (just FYI):nn\";\nprint $token-&gt;to_string, \"n\";\n\n# Save the token for future use:\nmy $session = $token-&gt;session_freeze;\nstore($session, $session_filename);\n\nprint &lt;&lt;END2\n\nToken successfully stored in file $session_filename.\n\nUse that filename in your spreadsheet-access script to \nload the token as needed for access to the spreadsheet data. \n\nEND2\n    ;\n\nuse Net::Google::Spreadsheets;\nuse Net::Google::DataAPI::Auth::OAuth2;\nuse Net::OAuth2::AccessToken;\nuse Storable;\n\n# Authentication code based on example from gist at \n#  https://gist.github.com/hexaddikt/6738247\n\n# Get the token that we saved previously in order to authenticate:\nmy $session_filename = \"stored_google_access.session\";\n\n\n# Be sure to edit the lines below to fill in your correct client \n# id and client secret!\nmy $oauth2 = Net::Google::DataAPI::Auth::OAuth2-&gt;new(\n    client_id =&gt; 'your_client_id.apps.googleusercontent.com',\n    client_secret =&gt; 'your_client_secret',\n    scope =&gt; ['http://spreadsheets.google.com/feeds/'],\n    redirect_uri =&gt; 'https://developers.google.com/oauthplayground',\n                             );\n\n# Deserialize the file so we can thaw the session and reuse the refresh token\nmy $session = retrieve($sessionfile);\n\nmy $restored_token = Net::OAuth2::AccessToken-&gt;session_thaw($session,\n                                auto_refresh =&gt; 1,\n                                profile =&gt; $oauth2-&gt;oauth2_webserver,\n                                );\n\n$oauth2-&gt;access_token($restored_token);\n# Now we can use this token to access the spreadsheets \n# in our account:\nmy $service = Net::Google::Spreadsheets-&gt;new(\n                         auth =&gt; $oauth2);\n</code></pre>\n"}], "owner": {"reputation": 260, "user_id": 4943604, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XKNmvKiqUEM/AAAAAAAAAAI/AAAAAAAAAPk/2P9MqArOj7M/photo.jpg?sz=128", "display_name": "J.T", "link": "https://stackoverflow.com/users/4943604/j-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2485, "favorite_count": 6, "protected_date": 1437132439, "accepted_answer_id": 30480924, "answer_count": 3, "score": 7, "last_activity_date": 1437260050, "creation_date": 1432713389, "question_id": 30476405, "link": "https://stackoverflow.com/questions/30476405/netgoogleauthsub-login-failed-with-new-google-drive-version", "title": "Net::Google::AuthSub login failed with new Google Drive version", "body": "<p>This code in Perl was working for years and now my Spreadsheets logins failed, when I logged into my account I noticed switch to a new Drive version. Probably some authentication methods deprecated?</p>\n\n<pre><code>my $auth = Net::Google::AuthSub-&gt;new;\nmy $response = $auth-&gt;login('LOGIN@gmail.com', 'PASS');\nif ($response-&gt;is_success) {\n     print \"Hurrah! Logged in\\n\";\n} else {\n     die \"Login failed: \".$response-&gt;error.\"\\n\";\n}\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>Login failed: \n</code></pre>\n\n<p>And the code:</p>\n\n<pre><code>use Net::Google::Spreadsheets;\nmy $service = Net::Google::Spreadsheets-&gt;new(\n username =&gt; 'LOGIN@gmail.com',\n password =&gt; 'PASS'\n);\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>Net::Google::AuthSub login failed at /usr/local/share/perl/5.18.2/Net/Google/Spreadsheets.pm line 42.\n</code></pre>\n\n<p>As suggested somewhere I tried to skip SSL certificate checking with:</p>\n\n<pre><code>$ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} = 0;\n</code></pre>\n\n<p>but this doesn't help too.\nWhat can I do to make it work? Thanks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 96, "user_id": 4883117, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9LHw1ns8FV0/AAAAAAAAAAI/AAAAAAAAAj8/5CK0jih9xEo/photo.jpg?sz=128", "display_name": "Richard Sun", "link": "https://stackoverflow.com/users/4883117/richard-sun"}, "edited": false, "score": 0, "creation_date": 1432700730, "post_id": 30472923, "comment_id": 49026370, "body": "You do something like <a href=\"http://stackoverflow.com/a/15332095/4883117\">this</a>, matching <code>RemotePhoneBook0</code> and then reading and editing the next three lines."}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1432702534, "post_id": 30472923, "comment_id": 49026847, "body": "It looks like a ini file. Take a look at <a href=\"https://metacpan.org/pod/Config%3a%3aIniFiles\" rel=\"nofollow noreferrer\">metacpan.org/pod/Config%3a%3aIniFiles</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2368, "user_id": 2187142, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/75825c95e583c52419aa2c583c097789?s=128&d=identicon&r=PG", "display_name": "bart2puck", "link": "https://stackoverflow.com/users/2187142/bart2puck"}, "edited": false, "score": 0, "creation_date": 1432958588, "post_id": 30473541, "comment_id": 49157377, "body": "admins of server I am working on wont allow me to add any modules, and this server lacks IniFiles....."}], "tags": [], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "is_accepted": false, "score": 2, "last_activity_date": 1432702839, "creation_date": 1432702839, "answer_id": 30473541, "question_id": 30472923, "link": "https://stackoverflow.com/questions/30472923/perl-search-and-replace-with-new-lines/30473541#30473541", "title": "perl search and replace with new lines", "body": "<p>I'd use <code>Config::IniFiles</code> for such a task:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Config::IniFiles;\n\nmy $ini = Config::IniFiles-&gt;new( -file =&gt; \"stackoverflow_30472923.ini\" );\n\n# print $ini-&gt;val(\"RemotePhoneBook0\", \"path\");\n\n$ini -&gt; setval('RemotePhoneBook0', 'path', '/somePath/to/someDir');\n$ini -&gt; setval('RemotePhoneBook0', 'URL' , 'someUrl'             );\n$ini -&gt; setval('RemotePhoneBook0', 'Name', 'someName'            );\n\n$ini -&gt; WriteConfig(\"stackoverflow_30472923.modified.ini\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2368, "user_id": 2187142, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/75825c95e583c52419aa2c583c097789?s=128&d=identicon&r=PG", "display_name": "bart2puck", "link": "https://stackoverflow.com/users/2187142/bart2puck"}, "is_accepted": true, "score": 0, "last_activity_date": 1432958664, "creation_date": 1432958664, "answer_id": 30542113, "question_id": 30472923, "link": "https://stackoverflow.com/questions/30472923/perl-search-and-replace-with-new-lines/30542113#30542113", "title": "perl search and replace with new lines", "body": "<p>For posterity this is what i did:</p>\n\n<pre><code>    open my $in,\"&lt;\",\"$directory/$files\";\n    open my $out,\"&gt;\",\"$directory/temp.txt\";\n\n    my @lines = &lt;$in&gt;;\n    close $in;\n    #print \"@lines\";\n    for($index=0;$index&lt;=$#lines;$index++){\n            my $this = $lines[$index];\n            if ($this eq \"[ RemotePhoneBook0 ]\\n\"){\n                    $lines[$index] = \"[ RemotePhoneBook0 ]\\n\";\n                    $lines[$index+1] = \"path=\\n\";\n                    $lines[$index+2] = \"URL = http:\\/\\/someUrl\\n\";\n                    $lines[$index+3] = \"Name = Users\\n\";\n                    $lines[$index+4] = \"\\n\";\n                    $index++;\n                    $index++;\n                    $index++;\n                    $index++;\n                    }else{\n                            $lines[$index] = $this,\"\\n\";\n                    }\n    }\n    print $out @lines;\n</code></pre>\n\n<p>this prints each line while replacing the lines i care about.</p>\n"}], "owner": {"reputation": 2368, "user_id": 2187142, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/75825c95e583c52419aa2c583c097789?s=128&d=identicon&r=PG", "display_name": "bart2puck", "link": "https://stackoverflow.com/users/2187142/bart2puck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 30542113, "answer_count": 2, "score": 0, "last_activity_date": 1432958664, "creation_date": 1432699265, "question_id": 30472923, "link": "https://stackoverflow.com/questions/30472923/perl-search-and-replace-with-new-lines", "title": "perl search and replace with new lines", "body": "<p>I need to be able to run a perl script that searches and replaces the 3 lines under [ RemotePhoneBook0 ]</p>\n\n<p>so here is an excerpt from file:</p>\n\n<pre><code>[ RemotePhoneBook0 ]\npath = /config/Setting/Setting.cfg\nURL =\nName =\n\n[ RemotePhoneBook1 ]\npath = /config/Setting/Setting.cfg\nURL =\nName =\n</code></pre>\n\n<p>I can not touch [RemotePhoneBook1]. When I am done this same excerpt above should look like:</p>\n\n<pre><code>[ RemotePhoneBook0 ]\npath = /somePath/to/someDir\nURL = someUrl\nName = someName\n\n[ RemotePhoneBook1 ]\npath = /config/Setting/Setting.cfg\nURL =\nName =\n\n\n\ns/^&lt;&lt;&lt;what can i put here&gt;&gt;&gt;\\s*=.*/somePath/;\ns/^&lt;&lt;&lt;what can i put here&gt;&gt;&gt;\\s*=.*/someUrl/;\ns/^&lt;&lt;&lt;what can i put here&gt;&gt;&gt;\\s*=.*/someName/;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1432709501, "post_id": 30471823, "comment_id": 49029801, "body": "Note that the documentation for CGI says this <i>\u201cCGI.pm is no longer considered good practice for developing web applications,</i> <b><i>including quick prototyping and small web scripts.</i></b> <i>There are far better, cleaner, quicker, easier, safer, more scalable, more extensible, more modern alternatives available at this point in time. These [are] documented with <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\"><code>CGI::Alternatives</code></a>\u201d</i>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1433089638, "post_id": 30471823, "comment_id": 49190911, "body": "If you want to output plain text, then don&#39;t print out HTML :-)"}], "answers": [{"tags": [], "owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "is_accepted": true, "score": 7, "last_activity_date": 1432691686, "creation_date": 1432691686, "answer_id": 30471880, "question_id": 30471823, "link": "https://stackoverflow.com/questions/30471823/how-to-print-plain-text-in-cgi/30471880#30471880", "title": "How to print plain text in CGI?", "body": "<p>Just print it...</p>\n\n<pre><code> print $cgi-&gt;header(\"text/plain\"),\n       \"hello\";\n</code></pre>\n"}], "owner": {"reputation": 6672, "user_id": 2038901, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/88a2242eb110fda489eee0bcbde6f2bd?s=128&d=identicon&r=PG", "display_name": "Sato", "link": "https://stackoverflow.com/users/2038901/sato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 890, "favorite_count": 0, "accepted_answer_id": 30471880, "answer_count": 1, "score": 3, "last_activity_date": 1432691686, "creation_date": 1432691306, "question_id": 30471823, "link": "https://stackoverflow.com/questions/30471823/how-to-print-plain-text-in-cgi", "title": "How to print plain text in CGI?", "body": "<p>I'm using <code>HTTP::Server::Simple::CGI</code> </p>\n\n<pre><code> print $cgi-&gt;header(\"text/plain\"),\n       $cgi-&gt;start_html(\"Hello\"),\n       $cgi-&gt;h1(\"Hello $who!\"),\n       $cgi-&gt;end_html;\n</code></pre>\n\n<p>Is there something like <code>$cgi-&gt;start_text(\"hello\")</code>?</p>\n\n<p>I want to output plain text.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1432689231, "post_id": 30470742, "comment_id": 49023383, "body": "Welcome to Stack Overflow. Please read the <a href=\"https://stackoverflow.com/tour\">About</a> page soon.  You should show us what you&#39;ve tried and what it produces, so we can help you correct your code, rather than expecting us to write the code for you.  We help people who&#39;ve made a genuine attempt to solve a problem; we&#39;re less keen on helping people who&#39;ve not shown what they&#39;ve tried.  Have you come across negative lookahead yet?  (It won&#39;t be surprising if you haven&#39;t, but it could be material to solving your problem.  At least, one way to solve it uses negative lookahead.  There are probably others that don&#39;t.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432710325, "post_id": 30470742, "comment_id": 49030295, "body": "How did your data get into that mess in the first place?"}], "answers": [{"tags": [], "owner": {"reputation": 384, "user_id": 716496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c55e3001f29d87c826db7cb7259b1571?s=128&d=identicon&r=PG", "display_name": "mcglk", "link": "https://stackoverflow.com/users/716496/mcglk"}, "is_accepted": false, "score": 0, "last_activity_date": 1432689439, "creation_date": 1432689439, "answer_id": 30471560, "question_id": 30470742, "link": "https://stackoverflow.com/questions/30470742/perl-regex-grouping/30471560#30471560", "title": "Perl regex grouping", "body": "<p>From your problem description, it's unclear whether your input string is delimited between records; in other words, are these just tied together with spaces or not? If so, the problem gets a little trickier. In this case, I'm just going to strip the string in chunks:</p>\n\n<pre><code>use strict;\n# Concatenating these to suppress side-to-side scrolling:\nmy $string='1256789: David - This is assigned to David'\n    . ' 345678: Mike - This order 000345 assigned to Mike'\n    . ' 456901: Roger - This is assigned to Roger';\nmy %orders;\nwhile( $string ) {\n    my ($order, $desc, $rest) = $string =~ /^(\\d+):\\s+(.*?)\\s*(\\d+:.*)?$/;\n    $orders{$order} = $desc;\n    $string = $rest;\n}\n</code></pre>\n\n<p>at which point, <code>%orders</code> will have what you want. It's a little awkward this way. With a different regex, using the <code>g</code> regex modifier, you could probably unload all of them in one expression, but I'll leave that as an exercise.</p>\n"}, {"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 0, "last_activity_date": 1432704183, "creation_date": 1432704183, "answer_id": 30473798, "question_id": 30470742, "link": "https://stackoverflow.com/questions/30470742/perl-regex-grouping/30473798#30473798", "title": "Perl regex grouping", "body": "<p>Here's an alternative way of doing the job.  It uses positive lookahead (not negative as I mentioned in a comment).</p>\n\n<p>File: <code>pattern.pl</code></p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $string='1256789: David - This is assigned to David 345678: Mike - This order 000345 assigned to Mike 456901: Roger - This is assigned to Roger';\n\nwhile ($string =~ m/(\\d+): (\\w+ - .*?)(?=\\s*\\d+: \\w+ -|$)/g)\n{\n    print \"$1 == $2\\n\";\n}\n</code></pre>\n\n<p>Example run:</p>\n\n<pre><code>$ perl pattern.pl | so\n1256789 == David - This is assigned to David\n345678 == Mike - This order 000345 assigned to Mike\n456901 == Roger - This is assigned to Roger\n$\n</code></pre>\n\n<p>The regex looks for a sequence of one or more digits, a colon, a sequence of word characters, and a dash, followed by a non-greedy string of any characters up to a trailing context.  The trailing context is either some spaces, some digits, a colon, a word, and a dash or the end of the string.  The match is applied repeatedly via the <code>g</code> modifier or suffix.</p>\n\n<p>You can refine and improve the regex, using <code>\\s+</code> in place of spaces, for example, and using <code>x</code> as a modifier to allow it to be split for easier comprehension:</p>\n\n<pre><code>while ($string =~ m/(\\d+): \\s+ (\\w+ \\s+ - \\s+ .*?)(?=\\s*\\d+: \\s+ \\w+ \\s+ - \\s+ |$)/gx)\n</code></pre>\n\n<p>You could revise the printing to show that trailing spaces aren't included:</p>\n\n<pre><code>print \"[$1] == [$2]\\n\";\n</code></pre>\n\n<p>which yields:</p>\n\n<pre><code>[1256789] == [David - This is assigned to David]\n[345678] == [Mike - This order 000345 assigned to Mike]\n[456901] == [Roger - This is assigned to Roger]\n</code></pre>\n\n<p>Etcetera.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 1642408, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b1c29b3811ab8ce8c105f37aad6a50da?s=128&d=identicon&r=PG", "display_name": "user1642408", "link": "https://stackoverflow.com/users/1642408/user1642408"}, "edited": false, "score": 0, "creation_date": 1432842135, "post_id": 30475337, "comment_id": 49106544, "body": "This works good,i issue i am facing is what should i do if there is colon after 000345: which is still valid and should go into 345678 =&gt; &quot;Mike - This order 000345: assigned to Mike&quot;, the split should happens only between &quot;1256789: David -&quot; means a number: &lt;word&gt; &lt;-&gt; &lt;space&gt; rest should be ignored"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 1642408, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b1c29b3811ab8ce8c105f37aad6a50da?s=128&d=identicon&r=PG", "display_name": "user1642408", "link": "https://stackoverflow.com/users/1642408/user1642408"}, "edited": false, "score": 0, "creation_date": 1432843144, "post_id": 30475337, "comment_id": 49107090, "body": "That&#39;s impossible as you can&#39;t tell whether that&#39;s supposed to be <code>345678 =&gt; &quot;Mike - This order&quot;</code> and <code>000345 =&gt; &quot;assigned to Mike&quot;</code>"}, {"owner": {"reputation": 11, "user_id": 1642408, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b1c29b3811ab8ce8c105f37aad6a50da?s=128&d=identicon&r=PG", "display_name": "user1642408", "link": "https://stackoverflow.com/users/1642408/user1642408"}, "edited": false, "score": 0, "creation_date": 1432843973, "post_id": 30475337, "comment_id": 49107542, "body": "Can&#39;t we split based on &lt;number&gt;: &lt;name&gt; &lt;-&gt; &lt;space&gt; as a delimiter?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 1642408, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b1c29b3811ab8ce8c105f37aad6a50da?s=128&d=identicon&r=PG", "display_name": "user1642408", "link": "https://stackoverflow.com/users/1642408/user1642408"}, "edited": false, "score": 0, "creation_date": 1432845884, "post_id": 30475337, "comment_id": 49108516, "body": "But the text is presumably manual input, so something like <code>000345: assigned - to Mike</code> is also possible? The best way would be to store the data properly in the first place. How did it get to be all on one line?"}, {"owner": {"reputation": 11, "user_id": 1642408, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b1c29b3811ab8ce8c105f37aad6a50da?s=128&d=identicon&r=PG", "display_name": "user1642408", "link": "https://stackoverflow.com/users/1642408/user1642408"}, "edited": false, "score": 0, "creation_date": 1432846289, "post_id": 30475337, "comment_id": 49108762, "body": "if there is &#39;-&#39; after 000345: it is possible to assign to Mike, but as long as there is no - it will   be consider part of the 345678, the data that comes in the format is &lt;number&gt;: &lt;name&gt; &lt;-&gt; &lt;space&gt; &quot;string&quot; is standard and rest of the things are can be anything 123456: xxxxxxxxxx etc,so the best possible combination should be &lt;number&gt;: &lt;name&gt; &lt;-&gt; &lt;space&gt; and rest we don&#39;t have control on it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 1642408, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b1c29b3811ab8ce8c105f37aad6a50da?s=128&d=identicon&r=PG", "display_name": "user1642408", "link": "https://stackoverflow.com/users/1642408/user1642408"}, "edited": false, "score": 0, "creation_date": 1432847113, "post_id": 30475337, "comment_id": 49109185, "body": "Exactly. You have no control over the text after the hyphen, so there&#39;s no way to tell if a new record has started or if someone has just typed in something that looks exactly like the start of a record. Whatever generated the data that you have should never have put it all on one line"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1432710494, "last_edit_date": 1432710494, "creation_date": 1432710187, "answer_id": 30475337, "question_id": 30470742, "link": "https://stackoverflow.com/questions/30470742/perl-regex-grouping/30475337#30475337", "title": "Perl regex grouping", "body": "<p>A couple of simple <code>split</code> operations is all that's required</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $string = '1256789: David - This is assigned to David 345678: Mike - This order 000345 assigned to Mike 456901: Roger - This is assigned to Roger';\n\nmy @assignments = split /\\s+(?=\\d+:)/, $string;\nmy %assignments = map { split /\\s*:\\s*/, $_, 2 } @assignments;\n\nuse Data::Dump;\n\ndd \\%assignments;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>{\n  345678  =&gt; \"Mike - This order 000345 assigned to Mike\",\n  456901  =&gt; \"Roger - This is assigned to Roger\",\n  1256789 =&gt; \"David - This is assigned to David\",\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 1642408, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b1c29b3811ab8ce8c105f37aad6a50da?s=128&d=identicon&r=PG", "display_name": "user1642408", "link": "https://stackoverflow.com/users/1642408/user1642408"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1432718886, "creation_date": 1432683292, "last_edit_date": 1432689005, "question_id": 30470742, "link": "https://stackoverflow.com/questions/30470742/perl-regex-grouping", "title": "Perl regex grouping", "body": "<p>I need help to split the following string into key/value pairs.</p>\n\n<p>Example:</p>\n\n<pre><code>string='1256789: David - This is assigned to David 345678: Mike - This order 000345 assigned to Mike 456901: Roger - This is assigned to Roger'\n</code></pre>\n\n<p>I want to split the above string from matching pattern \"[0-9]: Name -\"</p>\n\n<p>So I need key/value pairs as shown below:</p>\n\n<pre><code>1256789=&gt;David - This is assigned to David\n345678=&gt;Mike - This order 000345 assigned to Mike\n456901=&gt;Roger - This is assigned to Roger\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1432684088, "post_id": 30470606, "comment_id": 49022003, "body": "In Perl, the extension is better written from <code>[^[:space:]]</code> to <code>[[:^space:]]</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1432684328, "post_id": 30470606, "comment_id": 49022075, "body": "Better not to use Posix in this case."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1432686384, "post_id": 30470694, "comment_id": 49022634, "body": "You can factor one of these out since they are redundant. ^<code>[^[:space:]]*([^[:space:]]*</code> ..."}, {"owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "edited": false, "score": 0, "creation_date": 1432686590, "post_id": 30470694, "comment_id": 49022694, "body": "Yes obviously, how did I miss that. I guess my method was a bit too constructive . Thanks for pointing that out!!"}, {"owner": {"reputation": 33, "user_id": 2123174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aa2f5810bd79609842719cd6b897d61?s=128&d=identicon&r=PG", "display_name": "Tomas Dosoudil", "link": "https://stackoverflow.com/users/2123174/tomas-dosoudil"}, "edited": false, "score": 0, "creation_date": 1432757359, "post_id": 30470694, "comment_id": 49062264, "body": "Unfortunately the result is same. If I use your final regex with input &quot;AX BX CX&quot; the result will be &quot;BX &quot;. I probably need to put whole regex into bracket but than I will receive again two results. One is expected  &quot;AX BX CX&quot; but the second is only &quot;BX &quot;."}, {"owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "edited": false, "score": 0, "creation_date": 1432766277, "post_id": 30470694, "comment_id": 49066231, "body": "Oh then use <code>(^(?:[^[:space:]]*[:space:]){2}[^[:space:]]*$)</code> as sln suggested. If <code>?:</code> are the first two chars of a group, it doesn&#39;t get captures."}], "tags": [], "owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "is_accepted": false, "score": 1, "last_activity_date": 1432766387, "last_edit_date": 1432766387, "creation_date": 1432682985, "answer_id": 30470694, "question_id": 30470606, "link": "https://stackoverflow.com/questions/30470606/regex-exact-space-match/30470694#30470694", "title": "Regex exact space match", "body": "<p>The regex you're looking for is <code>[^ ]* [^ ]\\+ [^ ]*</code>. Only when you're looking for <em>more</em> than two spaces you should use <code>{}</code>. For instance, three spaces would be matched: <code>[^ ]*\\( [^ ]\\+\\)\\{2\\} [^ ]*</code>.</p>\n\n<p>Test it out using:</p>\n\n<pre><code>grep '[^ ]*\\( [^ ]\\+\\)\\{2\\} [^ ]*'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>grep '[^ ]* [^ ]\\+ [^ ]*'\n</code></pre>\n\n<p>If two consecutive spaces are allowed, you could use:</p>\n\n<pre><code>grep '\\([^ ]* \\)\\{2\\}'\n</code></pre>\n\n<p>Increase the <code>2</code> for more spaces.</p>\n\n<p>In your case I'd try:</p>\n\n<pre><code>([^[:space:]]*[:space:]){2}\n</code></pre>\n\n<p>to match two spaces, if you want two spaces exactly on the line. </p>\n\n<pre><code>^([^[:space:]]*[:space:]){2}[^[:space:]]*$\n</code></pre>\n\n<p>Where we padded the double space with potential non space characters.</p>\n\n<p>Now to catch the entire line, place it in a group:</p>\n\n<pre><code>(^([^[:space:]]*[:space:]){2}[^[:space:]]*$)\n</code></pre>\n\n<p>All that's left is to ignore the middle group, which we do by adding <code>?:</code> at the beginning of the group. Making <strong>the final regex</strong>:</p>\n\n<pre><code>(^(?:[^[:space:]]*[:space:]){2}[^[:space:]]*$)\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1432684428, "last_edit_date": 1432684428, "creation_date": 1432683914, "answer_id": 30470842, "question_id": 30470606, "link": "https://stackoverflow.com/questions/30470606/regex-exact-space-match/30470842#30470842", "title": "Regex exact space match", "body": "<p>This works. Only two spaces in string.<br>\nIt uses the infamous un-rolled loop method.</p>\n\n<pre><code> # ^[^ ]*(?:[ ][^ ]*){2}$\n\n ^ \n [^ ]* \n (?:\n      [ ] \n      [^ ]* \n ){2}\n $\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 384, "user_id": 716496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c55e3001f29d87c826db7cb7259b1571?s=128&d=identicon&r=PG", "display_name": "mcglk", "link": "https://stackoverflow.com/users/716496/mcglk"}, "is_accepted": false, "score": 1, "last_activity_date": 1432690500, "creation_date": 1432690500, "answer_id": 30471703, "question_id": 30470606, "link": "https://stackoverflow.com/questions/30470606/regex-exact-space-match/30471703#30471703", "title": "Regex exact space match", "body": "<p>Doing this with a match-style regex is tricky. I might recommend something more along the lines of the following code:</p>\n\n<pre><code>my (@fields) = split( /\\s/, $input );\nif( scalar( @fields ) &lt; 3 ) {\n    warn \"'$input' didn't have enough spaces!\";\nelsif( scalar( @fields ) &gt; 3 ) {\n    warn \"'$input' had too many spaces!\";\n}\n</code></pre>\n\n<p><code>split</code>, if used this way, will take a string like <code>'  C'</code> and divide it into <code>( '', '', 'C' )</code>.</p>\n"}], "owner": {"reputation": 33, "user_id": 2123174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aa2f5810bd79609842719cd6b897d61?s=128&d=identicon&r=PG", "display_name": "Tomas Dosoudil", "link": "https://stackoverflow.com/users/2123174/tomas-dosoudil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1186, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1432766387, "creation_date": 1432682446, "question_id": 30470606, "link": "https://stackoverflow.com/questions/30470606/regex-exact-space-match", "title": "Regex exact space match", "body": "<p>I am trying to find proper regex which match exact number of spaces. Input text can contain any other literals.</p>\n\n<p>If I want 2 spaces for instance the pattern should match:</p>\n\n<pre><code>\" AX \"\n\"  AX\"\n\"AX BX CX\"\n</code></pre>\n\n<p>and any other combinations with two spaces. My current regex is:</p>\n\n<pre><code>\"^(([^[:space:]]*\\\\s[^[:space:]]*){2})$\"\n</code></pre>\n\n<p>However the regex always find two occurrence of pattern. In case of \"AX BX CX\" input it will find \"AX BX CX\" and \" CX\".</p>\n\n<p>For testing purpose I use simple perl script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nif ($#ARGV + 1 != 2) {\n    print \"Usage: match.pl pattern input\\n\";\n    exit;\n}\n\n$pattern = $ARGV[0];\n$input = $ARGV[1];\n\nif ($input =~ /$pattern/) {\n    print \"Matched: $1  - $2 \\n\";\n} else {\n    print \"Not matched.\\n\";\n}\n</code></pre>\n"}, {"tags": ["mysql", "perl", "placeholder", "dbi"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1432680803, "post_id": 30470290, "comment_id": 49021006, "body": "If you have a VARCHAR field, perhaps you should use a string, not a number, <code>my $number = &quot;-2&quot;</code>. Not that it should matter for Perl, but perhaps the DBI has something in their drivers that hard codes it. Can you for that matter do a <code>&lt;</code> comparison on a varchar field?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1432680902, "post_id": 30470290, "comment_id": 49021047, "body": "Also, always include error messages. What error does DBI report?"}, {"owner": {"reputation": 1343, "user_id": 1423189, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/46bad9390779f986b0a9a32b8fdfc02a?s=128&d=identicon&r=PG", "display_name": "schulwitz", "link": "https://stackoverflow.com/users/1423189/schulwitz"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1432681218, "post_id": 30470290, "comment_id": 49021138, "body": "Tried the string representation, no luck.  Yes you can do a &lt; comparison on VARCHAR, because it works just fine in every other context.  The only time it breaks is when there&#39;s both a negative number and a placeholder.  Positive numbers with placeholders work fine.  Negative numbers substituted directly into the $sql string work fine.  DBI reports no errors."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1432681667, "post_id": 30470290, "comment_id": 49021251, "body": "If DBI reports no errors, how do you know something is wrong? &quot;fails&quot; is a pretty weak description of what is wrong."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1432681923, "post_id": 30470290, "comment_id": 49021327, "body": "Oh I see. When you say &quot;fails&quot;, you mean it did not print anything. You should always be absolutely specific when describing your problem, in this case you should have said &quot;It does not print anything&quot;, not &quot;it fails&quot;."}, {"owner": {"reputation": 1343, "user_id": 1423189, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/46bad9390779f986b0a9a32b8fdfc02a?s=128&d=identicon&r=PG", "display_name": "schulwitz", "link": "https://stackoverflow.com/users/1423189/schulwitz"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1432683002, "post_id": 30470290, "comment_id": 49021653, "body": "I&#39;ll keep that in mind for the future, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 1343, "user_id": 1423189, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/46bad9390779f986b0a9a32b8fdfc02a?s=128&d=identicon&r=PG", "display_name": "schulwitz", "link": "https://stackoverflow.com/users/1423189/schulwitz"}, "edited": false, "score": 0, "creation_date": 1432681804, "post_id": 30470459, "comment_id": 49021289, "body": "That explains it.  Thank you for the awesome explanation!"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1432685084, "post_id": 30470459, "comment_id": 49022274, "body": "or more tersely, <code>where number &lt; round(?)</code>"}], "tags": [], "owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "is_accepted": true, "score": 6, "last_activity_date": 1432681514, "creation_date": 1432681514, "answer_id": 30470459, "question_id": 30470290, "link": "https://stackoverflow.com/questions/30470290/why-do-perls-dbi-placeholders-break-for-negative-number-mysql-queries/30470459#30470459", "title": "Why do Perl&#39;s DBI placeholders break for negative number MySQL queries?", "body": "<p>It is because MySQL is doing a string comparison, and the string \"-5\" is greater than the string \"-3\" even though the number -5 is less than the number -3. The behavior you are experiencing is expected, it is not \"broken\" as you claim.</p>\n\n<p>When using a placeholder, the bound value is typecast to a string, because the column type is varchar. Your query without the placeholder has an integer on the right side. In other words, the two queries below will understandably yield different results:</p>\n\n<pre><code>select * from numbers1 where number &lt; '$high_number';\nselect * from numbers1 where number &lt; $high_number;\n</code></pre>\n\n<p>If you really want to do this, and want to use a placeholder, you could use explicit typecasting:</p>\n\n<pre><code>my $sql = \"SELECT * FROM numbers1 WHERE \n           CAST(number AS SIGNED INTEGER) &lt; CAST(? AS SIGNED INTEGER)\";\n</code></pre>\n"}], "owner": {"reputation": 1343, "user_id": 1423189, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/46bad9390779f986b0a9a32b8fdfc02a?s=128&d=identicon&r=PG", "display_name": "schulwitz", "link": "https://stackoverflow.com/users/1423189/schulwitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 1, "accepted_answer_id": 30470459, "answer_count": 1, "score": 1, "last_activity_date": 1432681514, "creation_date": 1432680605, "last_edit_date": 1592644375, "question_id": 30470290, "link": "https://stackoverflow.com/questions/30470290/why-do-perls-dbi-placeholders-break-for-negative-number-mysql-queries", "title": "Why do Perl&#39;s DBI placeholders break for negative number MySQL queries?", "body": "<p>I have two MySQL databases, numbers1 and numbers2, both look like this:</p>\n<pre><code>+--------+\n| number |\n+--------+\n|     -5 |\n+--------+\n</code></pre>\n<p>However, numbers1 has a VARCHAR column, whereas numbers2 has an INT column.</p>\n<p>This code succeeds in printing &quot;number is: -5&quot; for numbers2, but fails for numbers1:</p>\n<pre><code>my $high_number = -2;\nmy $sql = &quot;select * from numbers1 where number &lt; ?&quot;;\nmy $sth = $dbh-&gt;prepare($sql);\n$sth-&gt;execute($high_number);\nwhile (my @row = $sth-&gt;fetchrow_array){\n        print &quot;number is: $row[0]\\n&quot;;\n}\n</code></pre>\n<p>However, if I remove the placeholder and substitute directly:</p>\n<pre><code>my $sql = &quot;select * from numbers1 where number &lt; $high_number&quot;;\n</code></pre>\n<p>the code works just fine for both numbers1 and numbers2.</p>\n<p>Thus, the culprit must be DBI's placeholders, which somehow break the mysql query for negative numbers (strangely positive numbers work just fine!)  Why do the DBI placeholders break for negative numbers here?</p>\n<p>Note, this is the same problem as that encountered in this as yet <a href=\"http://www.perlmonks.org/bare/?node_id=656378\" rel=\"nofollow noreferrer\">unsolved 2007 PerlMonks thread</a>.</p>\n"}, {"tags": ["perl", "sockets", "overflow"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432677460, "post_id": 30469527, "comment_id": 49019758, "body": "Is the value variable? If so, how are you storing it? In what format should it be sent?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1432677463, "post_id": 30469527, "comment_id": 49019761, "body": "&quot;... in one TCP packet...&quot; - there is no such thing as a TCP packet. TCP is a stream protocol."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1432677480, "post_id": 30469527, "comment_id": 49019766, "body": "@Steffen Ullrich, That&#39;s not true."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1432677549, "post_id": 30469527, "comment_id": 49019795, "body": "There are packets containing TCP data, but there is no packet (message) boundary for TCP. Any application which expects that read and writes have the same size has the wrong assumption. And a single write can result in multiple packets on the wire, also several writes can be combined into a single packet by the OS."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1432677790, "post_id": 30469527, "comment_id": 49019894, "body": "There are TCP packet streaming arbitrary data. You probably meant you can&#39;t control how data will be packetized or that you can&#39;t request to receive a packet."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1432677973, "post_id": 30469527, "comment_id": 49019963, "body": "Yes, that&#39;s what I mean. In this specific case if you do two print/send with the binary numbers and you don&#39;t know the length of the numbers at the peer, then you cannot find out at the peer where the boundary between the numbers is. So any requirement of &quot;must be in one TCP packet&quot; is usually based on wrong expectations how the protocol works and expects two send to be matched by two recv,"}, {"owner": {"reputation": 23, "user_id": 4505322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Zfxw.jpg?s=128&g=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/4505322/nicholas"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1432735597, "post_id": 30469527, "comment_id": 49048177, "body": "@Steffen Ullrich you are right. I meant to say one &quot;application&quot; packet. I don&#39;t care how TCP sends the data, as long as the binary number is brought up to the application layer in the server exactly how I sent it in the perl code. I will edit my question to fix that."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1432918492, "last_edit_date": 1432918492, "creation_date": 1432677374, "answer_id": 30469633, "question_id": 30469527, "link": "https://stackoverflow.com/questions/30469527/how-can-i-send-a-big-binary-command-to-a-socket-in-perl/30469633#30469633", "title": "How can I send a big binary command to a socket in Perl?", "body": "<p>As a 112-bit, big-endian, two's-complement, unsigned integer:</p>\n\n<pre><code>print($socket \"\\xCA\\x00\\x01\\x81\\x08\\x01\\x02\\x02\\x02\\x02\\x02\\x02\\x02\\x66\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>print($socket pack(\"H*\", \"CA00018108010202020202020266\"));\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4505322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Zfxw.jpg?s=128&g=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/4505322/nicholas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 612, "favorite_count": 0, "accepted_answer_id": 30469633, "answer_count": 1, "score": 1, "last_activity_date": 1432918492, "creation_date": 1432676909, "last_edit_date": 1432738969, "question_id": 30469527, "link": "https://stackoverflow.com/questions/30469527/how-can-i-send-a-big-binary-command-to-a-socket-in-perl", "title": "How can I send a big binary command to a socket in Perl?", "body": "<p>I have successfully established a TCP connection with my server. The server can only understand commands in binary. I'm having trouble sending the binary numbers. For example, if I want to send 0xCA00018108010202020202020266 in binary to the server, I get overflow errors. The entire number has to be sent at once (one application layer packet). How can I send this raw binary number to the server in one application layer packet? Unfortunately, I have to write this in Perl even though I was able to accomplish this in Python very quickly. </p>\n\n<p>My TCP connection works, by using \"use IO::Socket::INET\". I've tried \"print $socket\" and \"$socket->send\"</p>\n\n<p>The binary number is a command. The application running on the server must receive the entire binary command in one application layer packet. I cannot change this.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1432716332, "post_id": 30471340, "comment_id": 49033970, "body": "I would personally avoid embedding the count in the hash - relying on &#39;something that never appears&#39; is poor program logic. Why not instead use <code>values</code> on the subhashes?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1432733517, "post_id": 30471340, "comment_id": 49046508, "body": "... or a separate <code>count_of</code> hash? It&#39;s not like you&#39;re paying by the byte."}], "tags": [], "owner": {"reputation": 384, "user_id": 716496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c55e3001f29d87c826db7cb7259b1571?s=128&d=identicon&r=PG", "display_name": "mcglk", "link": "https://stackoverflow.com/users/716496/mcglk"}, "is_accepted": false, "score": -1, "last_activity_date": 1432687573, "creation_date": 1432687573, "answer_id": 30471340, "question_id": 30469182, "link": "https://stackoverflow.com/questions/30469182/how-to-count-frequency-in-each-column-corresponding-to-first-column-in-perl/30471340#30471340", "title": "How to count frequency in each column, corresponding to first column in perl", "body": "<p>This is a pretty simple homework problem (which is why this has been downvoted a couple of times, no doubt), but it's a good way to show the power of hashes if you're struggling with that.</p>\n\n<p>Let's break this down. You want to classify things by the first column (and count the number of occurrences), counting the associated data. Hashes are perfect for this.</p>\n\n<p>Let's assume that the final hash will look something like this:</p>\n\n<pre><code>{\n    'a' =&gt; {\n        '*count' =&gt; 3,\n        'x1' =&gt; 2,\n        'y1' =&gt; 1,\n    },\n    . . .\n}\n</code></pre>\n\n<p>(where <code>'*count'</code> is a string that should never appear in your data) and that your output will look like your specification.</p>\n\n<p>Parsing the data is pretty simple.</p>\n\n<pre><code>my $hash = {};\nmy $count = '*count';\nfor( @lines ) {\n    chomp;\n    my ($x, $y) = split( /\\s+/ );\n    $hash-&gt;{$x}-&gt;{$count}++;\n    $hash-&gt;{$x}-&gt;{$y}++;\n}\n</code></pre>\n\n<p>Printing it out is just as simple:</p>\n\n<pre><code>for my $x ( sort keys %{$hash} ) {\n    my @output = ( sprintf( '%s = %d', $x, $hash-&gt;{$x}-&gt;{$count} ) );\n    for my $y ( qw{ x1 y1 z1 } ) {\n        push( @output, sprintf( '%s = %d', $y, $hash-&gt;{$x}-&gt;{$y} ) );\n    }\n    print join( ', ', @output ) . \"\\n\";\n}\n</code></pre>\n\n<p>Note that if, say, <code>$hash-&gt;{'c'}-&gt;{'z1'}</code> doesn't exist, the value returned will still be 0. You can do the additional checking with <code>exists</code> if you like, but it shouldn't be necessary.</p>\n"}], "owner": {"reputation": 1, "user_id": 4942263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be13d6e125659306dd90a9142e1249e4?s=128&d=identicon&r=PG&f=1", "display_name": "Genome K", "link": "https://stackoverflow.com/users/4942263/genome-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1432743957, "creation_date": 1432675435, "last_edit_date": 1432675575, "question_id": 30469182, "link": "https://stackoverflow.com/questions/30469182/how-to-count-frequency-in-each-column-corresponding-to-first-column-in-perl", "title": "How to count frequency in each column, corresponding to first column in perl", "body": "<p>I have a input like this.</p>\n\n<pre><code>a x1\na x1\na y1\nb x1\nb y1\nb z1\nc y1\nc z1\n</code></pre>\n\n<p>Want a output like this</p>\n\n<pre><code>a = 3, x1= 2, y1= 1, z1= 0     \nb = 3, x1= 1, y1= 1, z1=1    \nc =2, x1=0, y1=1, z1=1\n</code></pre>\n\n<p>I want to make a perl program for this, but do not know .</p>\n\n<p>Please help.. </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 1, "creation_date": 1432667402, "post_id": 30466452, "comment_id": 49014344, "body": "As you probably already figured out, Backtracking Control Verbs (like <code>(*SKIP)</code>) were added in Perl 5.10.  Is there a reason you need to code to work with older versions of Perl (instead of just requiring Perl from 2007)?  Just to confirm, you want <code>This &#39;is only &#39;one kind&#39; of test&#39; that exists</code> to become <code>This \\&#39;is only &#39;one kind&#39; of test\\&#39; that exists</code>; correct?  (It seems almost backwards from the common practice of escaping the internal quotes.)"}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "reply_to_user": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 0, "creation_date": 1432667519, "post_id": 30466452, "comment_id": 49014411, "body": "Yes, this is input data from user that has to go to <code>.js</code> file and JS string has to start with <code>&#39;</code> and with <code>&#39;</code> and all other <code>&#39;</code> has to be escaped. In case user is trying to be too smart and escapes it, regex is taking care of this and NOT doing it all over again."}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 0, "creation_date": 1432667880, "post_id": 30466452, "comment_id": 49014610, "body": "Your description seems to be opposite of my example text and so I&#39;m confused.  Please include two or three lines of input and expected output."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "reply_to_user": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 0, "creation_date": 1432668575, "post_id": 30466452, "comment_id": 49014977, "body": "@kjpires updated with explanations"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1432670148, "post_id": 30466452, "comment_id": 49015886, "body": "The part about the first <code>&#39;</code> and last <code>&#39;</code> is a red herring. You don&#39;t actually know about any <i>other</i> <code>&#39;</code> until you locate the first and last."}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 0, "creation_date": 1432671234, "post_id": 30466452, "comment_id": 49016539, "body": "How do you wish multiple-internal backslashes to be handled?"}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "reply_to_user": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 0, "creation_date": 1432671682, "post_id": 30466452, "comment_id": 49016813, "body": "@kjpires just left them as they are!! :) <i>ikegami</i> made one really work as expected and now <i>anubhava</i>. Regexs are different but it seem to produce exactly the same output."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1432672230, "post_id": 30466452, "comment_id": 49017130, "body": "Actually, the <code>\\G</code> anchor is mostly misused in this case. Given the content is encased in unescaped single quotes is a no-brainer, 2 step process. Using <code>\\G</code> you don&#39;t know the ending <code>&#39;</code> until its too late. eg, it don&#39;t exist.."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432672749, "post_id": 30466452, "comment_id": 49017405, "body": "It&#39;s all about the logic. I suppose, it could be better design.. but it happened to be this way.. instead of re-building it.. I just made it work.. Escaping <code>&#39;</code> is a boring stuff. Doing what I wanted is challenging.. It&#39;s all about learning for me. Thank you for your points, really!"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 3, "creation_date": 1432673945, "post_id": 30466452, "comment_id": 49018176, "body": "If you want to escape data for Javascript, then I&#39;d recommend the <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow noreferrer\">JSON</a> module.  The <code>allow_nonref</code> option allows you to encode just a string (rather than an array or hash)."}], "answers": [{"comments": [{"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432667028, "post_id": 30466710, "comment_id": 49014101, "body": "Hmm. Thanks you! It seems to work, with one little problem and that is see what happens if you put <code>;</code> at the end."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432667268, "post_id": 30466710, "comment_id": 49014269, "body": "Interpreter in Perl gives an error: <code>Variable length lookbehind not implemented in regex</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1432667296, "post_id": 30466710, "comment_id": 49014288, "body": "What the OP is saying is that the first <code>&#39;</code> might not be the first char of the string, and the last <code>&#39;</code> might not be the last char of the string."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432667789, "post_id": 30466710, "comment_id": 49014558, "body": "Not might! It is. See it as JavaScript string. Copied from above: This is input data from user that has to go to .js file and JS string has to start with &#39; and with &#39; and all other &#39; has to be escaped. In case user is trying to be too smart and escapes it, regex is taking care of this and NOT doing it all over again.  @anubhava This regex is better <code>(?&lt;!^|\\\\)&#39;(?!$)</code> and it works in <code>regex101.com</code> but when I write it - it gives an error. I write it as this, right <code>s&#47;(?&lt;!^|\\\\)&#39;(?!$)&#47;\\\\&#39;&#47;gim</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432667802, "post_id": 30466710, "comment_id": 49014563, "body": "Still fails for <code>var = &#39;foo&#39;s&#39;;</code> and <code>var = &#39;foo\\\\&#39;s&#39;;</code>"}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432668273, "post_id": 30466710, "comment_id": 49014824, "body": "@anubhava Thank you for your help but Perl interpreter returns an error still"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1432668844, "post_id": 30466710, "comment_id": 49015127, "body": "I have updated answer with fully working perl code and have tested it on my system."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 1, "creation_date": 1432669131, "post_id": 30466710, "comment_id": 49015299, "body": "@anubhava, my friend, thanks! Isn&#39;t <code>(test test&#39;\\s test\\&#39;s string)</code> should be <code>(test test\\&#39;s test\\&#39;s string) </code>.. On first one it puts slash on the other side.."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1432669820, "post_id": 30466710, "comment_id": 49015688, "body": "Ah sorry I overlooked that part. It is updated now, please check."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432670037, "post_id": 30466710, "comment_id": 49015820, "body": "@now, :) if there is no <code>&#39;</code> in a string at all - it will escape last one! It&#39;s shouldn&#39;t! :D"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1432670197, "post_id": 30466710, "comment_id": 49015912, "body": "I tested with <code>var abc = 123;</code> <a href=\"https://regex101.com/r/yW3oJ9/19\" rel=\"nofollow noreferrer\">on this demo</a> and it didn&#39;t make any changes in last line. Is that what you mean?"}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1501439580, "post_id": 30466710, "comment_id": 77766778, "body": "@anubhava Could you please take a look at this question? <a href=\"https://stackoverflow.com/questions/45402769/\">stackoverflow.com/questions/45402769</a>"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 1, "last_activity_date": 1432671199, "last_edit_date": 1432671199, "creation_date": 1432666767, "answer_id": 30466710, "question_id": 30466452, "link": "https://stackoverflow.com/questions/30466452/perl-tricky-regex-conversion-to-be-supported-by-older-versions/30466710#30466710", "title": "Perl tricky regex conversion to be supported by older versions", "body": "<p>I believe you can use this regex that will work in older perl also:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nmy $string = \"'%3 successful login (test test's test\\'s string) alert for user's %1 from %2|%3 successful login alert|root'\";\n\n$string =~ s/^[^']*'.*?(?&lt;!\\\\)\\K(')(?![^']*$)|(?&lt;!^)(?&lt;!\\\\)(')(?![^']*$)/\\\\$1$2/gm;\n\nprint \"&lt;$string&gt;\\n\";\n</code></pre>\n\n<h3>Output:</h3>\n\n<blockquote>\n  <p><code>&lt;'%3 successful login (test test\\'s test\\'s string) alert for user\\'s %1 from %2|%3 successful login alert|root'&gt;</code></p>\n</blockquote>\n\n<p><a href=\"https://regex101.com/r/kX0nG4/3\" rel=\"nofollow\">RegEx Demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432667397, "post_id": 30466858, "comment_id": 49014340, "body": "Why not one string regex? Is this possible?"}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432668173, "post_id": 30466858, "comment_id": 49014764, "body": "Yes, it escapes the string two time in case there is <code>\\&#39;</code> on the input! Besides this it&#39;s perfect. Can you make <code>\\&#39;</code> not to be escaped?"}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432668832, "post_id": 30466858, "comment_id": 49015123, "body": "It&#39;s perfect, pal!! Thank you!"}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432668850, "post_id": 30466858, "comment_id": 49015131, "body": "@IliaRostovtsev finally you have it :) told you some pro perl guy :)"}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432668947, "post_id": 30466858, "comment_id": 49015186, "body": "@ikegami Not sure about first part of your answer but regex seems to shine! Unfortunately I don&#39;t understand it, so far at least.."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "reply_to_user": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "edited": false, "score": 0, "creation_date": 1432668975, "post_id": 30466858, "comment_id": 49015211, "body": "@vks ahh, you&#39;ve been following! :D"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 1, "creation_date": 1432669039, "post_id": 30466858, "comment_id": 49015246, "body": "@Ilia Rostovtsev, Actually, there were two bugs in the single substitution. Fixed. It&#39;s hard to read and hard to maintain. You shouldn&#39;t use it."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432670146, "post_id": 30466858, "comment_id": 49015881, "body": "@ikegami - so you propose to use bulky <code>if</code> method? It&#39;s boring, I could do it myself. I really like your regex! Can you recommend me some good tutorial, so I could understand it better... or it&#39;s like with everything else.. just experience, that comes with time?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1432669104, "last_edit_date": 1432669104, "creation_date": 1432667219, "answer_id": 30466858, "question_id": 30466452, "link": "https://stackoverflow.com/questions/30466452/perl-tricky-regex-conversion-to-be-supported-by-older-versions/30466858#30466858", "title": "Perl tricky regex conversion to be supported by older versions", "body": "<pre><code>my $first_idx = index($_, \"'\");\nif ($first_idx &gt;= 0) {\n   my $last_idx  = rindex($_, \"'\");\n   if ($last_idx != $first_idx) {\n      my $length = $last_idx - $first_idx + 1;\n      substr($_, $first_idx+1, $length-2) =~\n         s/\\G((?:[^'\\\\]+|\\\\.)*)'/$1\\\\'/sg;\n   }\n}\n</code></pre>\n\n<p>You could do it all in one complicated substitution, but it might hurt performance in addition to hurting readability and maintainability.</p>\n\n<pre><code>s/\n   \\G\n   (\n      (?: ^ [^']* ' | (?!^) )\n      (?: [^'\\\\]+ | \\\\. )*\n   )\n   '\n   (?! [^']* \\z )\n/\n   $1 . \"\\\\'\"\n/xseg;\n</code></pre>\n\n<p>Tested:</p>\n\n<pre><code>var x = 'abc'def\\'ghi\\\\'jkl\\\\\\'mno';\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>var x = 'abc\\'def\\'ghi\\\\\\'jkl\\\\\\'mno';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 1, "creation_date": 1432669827, "post_id": 30467515, "comment_id": 49015691, "body": "@sin :) no, no, then it escapes the first and the last <code>&#39;</code>, along with escaping already escaped ( <code>\\&#39;</code>) input data"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432670242, "post_id": 30467515, "comment_id": 49015942, "body": "Well, as I said in my comment above <code>The part about the first </code>&#39;` and last <code>&#39;</code> is a red herring. You don&#39;t actually know about any <i>other</i> <code>&#39;</code> until you locate the first and last.` .. that qualifying part is not valid."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432670399, "post_id": 30467515, "comment_id": 49016028, "body": "Oh.. you mean I should make regex to check only on what I need and make those 2 first and last <code>&#39;</code> compulsory, after the regex&#39;s checkup? If so, it makes sense!! I hadn&#39;t been thinking about it.."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432670790, "post_id": 30467515, "comment_id": 49016260, "body": "Well, what you could do is <code>s&#47;^\\s*&#39;(.+)&#39;\\s*$&#47;callback($1)&#47;e</code> then in the callback use the regex (above) on $1, where you return <code>&#39;&lt;converted&gt;&#39;</code>. I&#39;ll try to put up a code snippet."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432671063, "post_id": 30467515, "comment_id": 49016414, "body": "I see. I just didn&#39;t look at it this way.. I was just doing it this way <a href=\"https://github.com/qooob/authentic-theme/blob/master/authentic-lib.cgi#L1546-L1551\" rel=\"nofollow noreferrer\">github.com/qooob/authentic-theme/blob/master/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432671730, "post_id": 30467515, "comment_id": 49016853, "body": "In general, this is not a left - to - right thing. You can&#39;t correct a badly created delimited field this way because of the problem with closure. How you get the initial string is a mystery."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432672083, "post_id": 30467515, "comment_id": 49017047, "body": ":)) The input is coming from a user. Look down there in a video and you will understand what I wanted to do. <a href=\"https://youtu.be/f_oy3qX2GXo?t=2m3s\" rel=\"nofollow noreferrer\">youtu.be/f_oy3qX2GXo?t=2m3s</a> To make settings work both for Perl and JavaScript I write settings in simple and readable output (.js). Later, I make Perl parse that <code>settings.js</code> and read settings from it. It&#39;s crucial for <code>.js</code> to be valid, otherwise it will break. I make sure what ever user input is like - it will not fail. That&#39;s it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432672731, "post_id": 30467515, "comment_id": 49017396, "body": "I don&#39;t think JS does lookbehind assertions, but in this case there is a workaround. Find: <code>(^|[^\\\\])((?:\\\\\\\\)*)&#39;</code> and replace <code>$1$2\\\\&#39;</code>. Either way, a simple if ( input.match( /^\\s*&#39;([\\S\\s]+)&#39;\\s*$/ ) { var tmp = $1; /* do find/replace on tmp */ `input = &quot;&#39;&quot; + tmp + &quot;&#39;&quot;; } works with anything."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432672865, "post_id": 30467515, "comment_id": 49017493, "body": "I think I didn&#39;t explain it good enough! :) What does JS is irrelevant. I build <code>settings.js</code> using Perl and make sure that it&#39;s valid whatever user&#39;s input is like!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 1, "last_activity_date": 1432671348, "last_edit_date": 1432671348, "creation_date": 1432669405, "answer_id": 30467515, "question_id": 30466452, "link": "https://stackoverflow.com/questions/30466452/perl-tricky-regex-conversion-to-be-supported-by-older-versions/30467515#30467515", "title": "Perl tricky regex conversion to be supported by older versions", "body": "<p>Your probably overthinking this.<br>\nThe trick is to consume even preceding escapes before that which needs to be escaped.  </p>\n\n<p>Then write that back as part of the replacement.<br>\nThis always works with anything you need to escape.<br>\nThis is simple and is the fastest way it can be done..</p>\n\n<pre><code> #  s/(?&lt;!\\\\)((?:\\\\\\\\)*)'/$1\\\\'/g\n\n (?&lt;! \\\\ )\n (                             # (1 start)\n      (?: \\\\ \\\\ )*\n )                             # (1 end)\n '\n</code></pre>\n\n<p>I didn't do any format preservation of the outside <code>'</code>, but here is<br>\na code snippet to grab the guts and just escape the inside <code>'</code> where<br>\nnecessary.  The guts is passed to a callback (eval) to be escaped.<br>\nSimple really.</p>\n\n<pre><code> use strict;\n use warnings;\n\n $/ = \"\";\n\n my $input = &lt;DATA&gt;;\n print \"Input:\\n$input\\n\";\n\n sub callback\n {\n   my ($core) = @_;\n   $core =~ s/(?&lt;!\\\\)((?:\\\\\\\\)*)'/$1\\\\'/g;\n   return \"'\" . $core . \"'\";\n }\n\n $input =~ s/^\\s*'(.+)'\\s*$/ callback( $1 );  /es;\n\n\n print \"Output:\\n$input\\n\";\n\n __DATA__\n   '%3 successful login (test test's test\\'s string) alert for user %1 from %2|%3 successful login alert|root '\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432670666, "post_id": 30467775, "comment_id": 49016184, "body": "It wraps the string without quotes in quotes and messes with the last <code>;</code> Doesn&#39;t really work! Thank you for your effort!"}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "reply_to_user": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432670825, "post_id": 30467775, "comment_id": 49016281, "body": "Ignoring strings without quotes is easy, but I don&#39;t understand the last <code>;</code> portion: it wasn&#39;t in your example."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432671218, "post_id": 30467775, "comment_id": 49016526, "body": "Instead of <code>&#39;w&#39;;</code> I get <code>&#39;\\&#39;w\\&#39;;&#39;</code>"}], "tags": [], "owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "is_accepted": false, "score": 0, "last_activity_date": 1432670718, "last_edit_date": 1432670718, "creation_date": 1432670327, "answer_id": 30467775, "question_id": 30466452, "link": "https://stackoverflow.com/questions/30466452/perl-tricky-regex-conversion-to-be-supported-by-older-versions/30467775#30467775", "title": "Perl tricky regex conversion to be supported by older versions", "body": "<p>One-liner (regex inside of a regex):</p>\n\n<pre><code>s/^(.*'.*)$/my $x = $1; $x =~ s:\\\\?':\\\\':g; \"'$x'\"/me;\n</code></pre>\n\n<p>turns:</p>\n\n<pre><code>%3 successful login (test test's test\\'s test\\\\'s test\\\\\\'s string) alert for user %1 from %2|%3 successful login alert|root\n%3 successful login (test test's test\\'s test\\\\'s string) alert for user %1 from %2|%3 successful login alert|root\n%3 successful login (test test's test\\'s string) alert for user %1 from %2|%3 successful login alert|root\nThis is a normal string.\nLine ending in;\n</code></pre>\n\n<p>into:</p>\n\n<pre><code>'%3 successful login (test test\\'s test\\'s test\\\\'s test\\\\\\'s string) alert for user %1 from %2|%3 successful login alert|root'\n'%3 successful login (test test\\'s test\\'s test\\\\'s string) alert for user %1 from %2|%3 successful login alert|root'\n'%3 successful login (test test\\'s test\\'s string) alert for user %1 from %2|%3 successful login alert|root'\nThis is a normal string.\nLine ending in;\n</code></pre>\n\n<p>and should work for really old versions of Perl.</p>\n\n<p>If you want to reduce the number of backslashes to always 1 backslash, change the <code>?</code> to <code>*</code> in the inside regex.</p>\n"}], "owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 30466858, "answer_count": 4, "score": 2, "last_activity_date": 1432671348, "creation_date": 1432665861, "last_edit_date": 1592644375, "question_id": 30466452, "link": "https://stackoverflow.com/questions/30466452/perl-tricky-regex-conversion-to-be-supported-by-older-versions", "title": "Perl tricky regex conversion to be supported by older versions", "body": "<p>I have working regex</p>\n<p><code>s/^[^']*'(*SKIP)(*F)|'[^']*$(*SKIP)(*F)|(?&lt;!\\\\)'/\\\\'/gim</code></p>\n<p>that successfully escapes data in recent versions of Perl and fails in Perl 5.8.8 and older with the following error:</p>\n<p><code>Returned error in Perl 5.8.8 is Quantifier follows nothing in regex; marked by &lt;-- HERE in m/^[^']'( &lt;-- HERE SKIP)(F)|'[^']$(SKIP)(F)|(?&lt;!\\)'/</code></p>\n<p>This regex takes input data and makes sure that any <code>'</code> is escaped but NOT:</p>\n<p>a) The first <code>'</code>\nb) The last <code>'</code>\nc) And not already escaped one <code>\\'</code></p>\n<p><a href=\"https://regex101.com/r/yW3oJ9/2\" rel=\"nofollow noreferrer\">Example</a></p>\n<p>How do I convert my regex <em>to be compatible with old versions</em> of Perl?</p>\n<h3>EDIT:</h3>\n<p>Input data:</p>\n<p><code>%3 successful login (test test's test\\'s string) alert for user %1 from %2|%3 successful login alert|root</code></p>\n<p>Output data:</p>\n<p><code>'%3 successful login (test test\\'s test\\'s string) alert for user %1 from %2|%3 successful login alert|root'</code></p>\n<p>and not <code>.... (test test\\'s test\\\\'s string) ....</code></p>\n"}, {"tags": ["perl", "ssl", "lwp", "lwp-useragent"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 2, "creation_date": 1432662888, "post_id": 30465453, "comment_id": 49011654, "body": "Please provide the URL and the version of the dependent modules (probably IO::Socket::SSL) you are using and preferable the version of openssl too. And do you require a proxy?"}, {"owner": {"reputation": 1629, "user_id": 493892, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b9ba82cf7f994f43e3be72962921ea4d?s=128&d=identicon&r=PG", "display_name": "made_in_india", "link": "https://stackoverflow.com/users/493892/made-in-india"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1432664463, "post_id": 30465453, "comment_id": 49012586, "body": "IO::Socket::SSL-&gt;VERSION :  <code>Version1.54</code>"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1432666331, "post_id": 30465453, "comment_id": 49013680, "body": "Please enable debugging by running your code with <code>perl -MIO::Socket::SSL=debug4 app.pl</code>. For better help provide the OpenSSL version too (<code>perl -MIO::Socket::SSL -e &#39;printf &quot;%x\\n&quot;, Net::SSLeay::OPENSSL_VERSION_NUMBER()&#39;</code>. And unless it fails with all URLs you better provide the target host too if you expect help. For now a guess is that it is related to SNI which is only available since 1.56."}, {"owner": {"reputation": 1629, "user_id": 493892, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b9ba82cf7f994f43e3be72962921ea4d?s=128&d=identicon&r=PG", "display_name": "made_in_india", "link": "https://stackoverflow.com/users/493892/made-in-india"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1432669100, "post_id": 30465453, "comment_id": 49015289, "body": "Its failing with this specific url alone.Got to know the host that they have <code>disable sslv3 on purpose.</code>"}, {"owner": {"reputation": 1629, "user_id": 493892, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b9ba82cf7f994f43e3be72962921ea4d?s=128&d=identicon&r=PG", "display_name": "made_in_india", "link": "https://stackoverflow.com/users/493892/made-in-india"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1432669265, "post_id": 30465453, "comment_id": 49015380, "body": "<code>perl -MIO::Socket::SSL -e &#39;printf &quot;%x\\n&quot;, Net::SSLeay::OPENSSL_VERSION_NUMBER()&#39;</code> : <code>90701f</code>"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 2, "creation_date": 1432669925, "post_id": 30465453, "comment_id": 49015754, "body": "Congratulations that you manage to run a 12 year old version of openssl (0.9.7a). Any more help only if the URL is provided."}, {"owner": {"reputation": 1629, "user_id": 493892, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b9ba82cf7f994f43e3be72962921ea4d?s=128&d=identicon&r=PG", "display_name": "made_in_india", "link": "https://stackoverflow.com/users/493892/made-in-india"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1432671026, "post_id": 30465453, "comment_id": 49016391, "body": "@SteffenUllrich : the url is of client portal that I cnt share :("}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1432671346, "post_id": 30465453, "comment_id": 49016621, "body": "Then you are unfortunately on your own. There might be a lot of reasons why this fails and you can try to debug it yourself with the help of <a href=\"http://noxxi.de/howto/ssl-debugging.html\" rel=\"nofollow noreferrer\">noxxi.de/howto/ssl-debugging.html</a>. If possible I would suggest to you to use recent versions of openssl and IO::Socket::SSL, since lots of todays essential features like SNI, SHA-256 signatures or TLS1.1+ are not supported be the  old libraries you use."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432671534, "post_id": 30465453, "comment_id": 49016719, "body": "@made_in_india, We don&#39;t need the whole url, just the domain."}, {"owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "edited": false, "score": 0, "creation_date": 1432704603, "post_id": 30465453, "comment_id": 49027512, "body": "try adding <code>SSL_version =&gt; &#39;SSLv3&#39;</code> to your ssl options"}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1432728320, "post_id": 30465453, "comment_id": 49042519, "body": "Just a quick note: SSLv3 is considered insecure and many web sites have disabled it (and you&#39;ll need to use TLS).  I agree with @SteffenUllrich: you may need to upgrade your libraries."}, {"owner": {"reputation": 1629, "user_id": 493892, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b9ba82cf7f994f43e3be72962921ea4d?s=128&d=identicon&r=PG", "display_name": "made_in_india", "link": "https://stackoverflow.com/users/493892/made-in-india"}, "edited": false, "score": 0, "creation_date": 1432841833, "post_id": 30465453, "comment_id": 49106387, "body": "the issue was resolved. I just added the <code>SSL_version =&gt; &#39;TLSv1&#39;</code> in ssl option"}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 412245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e8a2825e01c22b33ee68af3e5090c06?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/412245/jason"}, "is_accepted": false, "score": 1, "last_activity_date": 1448911201, "creation_date": 1448911201, "answer_id": 34006258, "question_id": 30465453, "link": "https://stackoverflow.com/questions/30465453/error-500-cant-connect-to-foo-com443-unknown-errorerror140773f2ssl-routin/34006258#34006258", "title": "Error: 500 Can&#39;t connect to foo.com:443 ( unknown errorerror:140773F2:SSL routines:SSL23_GET_SERVER_HELLO:sslv3)", "body": "<p>Yeah... This sort of thing happens when some services account for the Poodle vulnerability. I haven't done the research to find the exact cause. It just appears the in some cases the client and server don't properly negotiate the protocol. We've gotten around it by adding <code>'SSL_version' =&gt; 'tlsv1'</code> to the \"<code>ssl_opts</code>\". I don't really like it though since next protocol upgrade it will need fixing again. I'd far rather let the libraries do the negotiation on their own.</p>\n"}], "owner": {"reputation": 1629, "user_id": 493892, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b9ba82cf7f994f43e3be72962921ea4d?s=128&d=identicon&r=PG", "display_name": "made_in_india", "link": "https://stackoverflow.com/users/493892/made-in-india"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2148, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448911201, "creation_date": 1432662501, "last_edit_date": 1495540785, "question_id": 30465453, "link": "https://stackoverflow.com/questions/30465453/error-500-cant-connect-to-foo-com443-unknown-errorerror140773f2ssl-routin", "title": "Error: 500 Can&#39;t connect to foo.com:443 ( unknown errorerror:140773F2:SSL routines:SSL23_GET_SERVER_HELLO:sslv3)", "body": "<p>I am using <code>LWP::UserAgent version 6.03</code> to fetch the status of website.</p>\n\n<pre><code>   my $ua = LWP::UserAgent-&gt;new(ssl_opts =&gt; {verify_hostname =&gt; 0},);\n   $ua-&gt;cookie_jar({});\n   $ua-&gt;agent('Mozilla/5.0');\n   push @{$ua-&gt;requests_redirectable}, 'POST';\n   push @{$ua-&gt;requests_redirectable}, 'GET';\n\n   my $url = 'https://foo.com'\n   $page = $ua-&gt;get($url);\n   print \"Error \".$page-&gt;status_line.\"\\n\";\n</code></pre>\n\n<p>When I am running this code on my unix machine it giving the following status and the error message for LWP module.</p>\n\n<pre><code>   #status\n   500 Can't connect to foo.com:443\n\n   #error\n   LWP::Protocol::https::Socket: SSL connect attempt failed with unknown \n   errorerror:140773F2:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert \n   unexpected message at /usr/local/lib/perl5/site_perl/5.8.9/LWP/Protocol/http.pm line 51.\n</code></pre>\n\n<p>I tried to make use of answer <a href=\"https://stackoverflow.com/questions/19397346/error-500-cant-connect-to-example-com443-certificate-verify-failed\">given to similar question</a> but it did not worked out. Need your valuable advice. </p>\n\n<p>ran the debug </p>\n\n<pre><code>DEBUG: .../IO/Socket/SSL.pm:193: set domain to 2\nDEBUG: .../IO/Socket/SSL.pm:1545: new ctx 74489552\nDEBUG: .../IO/Socket/SSL.pm:334: socket not yet connected\nDEBUG: .../IO/Socket/SSL.pm:336: socket connected\nDEBUG: .../IO/Socket/SSL.pm:349: ssl handshake not started\nDEBUG: .../IO/Socket/SSL.pm:379: set socket to non-blocking to enforce timeout=180\nDEBUG: .../IO/Socket/SSL.pm:392: Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:402: ssl handshake in progress\nDEBUG: .../IO/Socket/SSL.pm:412: waiting for fd to become ready: SSL wants a  read first\nDEBUG: .../IO/Socket/SSL.pm:432: socket ready, retrying connect\nDEBUG: .../IO/Socket/SSL.pm:392: Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:1276: SSL connect attempt failed with unknown errorerror:140773F2:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert unexpected message\n\nDEBUG: .../IO/Socket/SSL.pm:398: fatal SSL error: SSL connect attempt failed with unknown errorerror:140773F2:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert unexpected message\nDEBUG: .../IO/Socket/SSL.pm:1276: IO::Socket::INET6 configuration failederror:00000000:lib(0):func(0):reason(0)\nDEBUG: .../IO/Socket/SSL.pm:1582: free ctx 74489552 open=74489552\n\nDEBUG: .../IO/Socket/SSL.pm:1590: OK free ctx 74489552`\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 7, "creation_date": 1432662658, "post_id": 30465432, "comment_id": 49011520, "body": "What happens when you try running the code you&#39;ve posted? (The results should answer 2 of your 3 questions.)"}], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 2133925, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da4db90fa06d8e5459e52ab9ceba9eec?s=128&d=identicon&r=PG", "display_name": "user2133925", "link": "https://stackoverflow.com/users/2133925/user2133925"}, "edited": false, "score": 0, "creation_date": 1432667906, "post_id": 30465826, "comment_id": 49014620, "body": "Thank you! I must have accidentally reversed the two when I was attempting."}], "tags": [], "owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "is_accepted": false, "score": 1, "last_activity_date": 1432663737, "creation_date": 1432663737, "answer_id": 30465826, "question_id": 30465432, "link": "https://stackoverflow.com/questions/30465432/regex-pattern-matching-for-and-on-multiple-lines/30465826#30465826", "title": "Regex pattern matching for ; and / on multiple lines", "body": "<p>Use a backslash to escape your forward slash. Also why are you trying to match it in reverse order? Try <code>$Text =~ /\\/\\n;/</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "edited": false, "score": 2, "creation_date": 1432664305, "post_id": 30465891, "comment_id": 49012482, "body": "The modifier <code>m</code> changes the behavior of <code>^</code> and <code>$</code> and the modifier <code>s</code> changes the behavior of <code>.</code>. Thus the <code>&#47;ms</code> will have no effect in this case."}, {"owner": {"reputation": 337, "user_id": 2133925, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da4db90fa06d8e5459e52ab9ceba9eec?s=128&d=identicon&r=PG", "display_name": "user2133925", "link": "https://stackoverflow.com/users/2133925/user2133925"}, "edited": false, "score": 0, "creation_date": 1432667875, "post_id": 30465891, "comment_id": 49014605, "body": "Thank you! And I will make sure to bookmark the link."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1432668286, "post_id": 30465891, "comment_id": 49014836, "body": "You can avoid (or reduce) <a href=\"http://en.wikipedia.org/wiki/Leaning_toothpick_syndrome\" rel=\"nofollow noreferrer\">LTS</a> by using an alternate delimiter: <code>$foo =~ m{&#47;\\n;}</code>"}], "tags": [], "owner": {"reputation": 80, "user_id": 4025655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b708f7d61edb8730a8d2c5bf22afb1ed?s=128&d=identicon&r=PG&f=1", "display_name": "lamchob", "link": "https://stackoverflow.com/users/4025655/lamchob"}, "is_accepted": true, "score": 1, "last_activity_date": 1432664449, "last_edit_date": 1432664449, "creation_date": 1432663982, "answer_id": 30465891, "question_id": 30465432, "link": "https://stackoverflow.com/questions/30465432/regex-pattern-matching-for-and-on-multiple-lines/30465891#30465891", "title": "Regex pattern matching for ; and / on multiple lines", "body": "<p>To search for <code>/</code> you have to escape it with <code>\\</code>.</p>\n\n<p>To check your example however, you need to turn it around because you want to match the <code>/</code> before the <code>;</code>.\nIn the end it should look like this: <code>if ($Text =~ /\\/\\n;/)</code></p>\n\n<p>For more information, see <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow\">perlretut</a> to get an introduction\nto regular expressions in Perl.</p>\n"}], "owner": {"reputation": 337, "user_id": 2133925, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da4db90fa06d8e5459e52ab9ceba9eec?s=128&d=identicon&r=PG", "display_name": "user2133925", "link": "https://stackoverflow.com/users/2133925/user2133925"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 30465891, "answer_count": 2, "score": 0, "last_activity_date": 1432664449, "creation_date": 1432662428, "question_id": 30465432, "link": "https://stackoverflow.com/questions/30465432/regex-pattern-matching-for-and-on-multiple-lines", "title": "Regex pattern matching for ; and / on multiple lines", "body": "<p>I just started learning Perl today, and I am working with regular expressions to match text from within a file. </p>\n\n<p>I am checking to see if my file contains.</p>\n\n<pre><code>     / \n;\n</code></pre>\n\n<p>This is what I have attempted so far:</p>\n\n<pre><code>if ($Text =~ /;\\n//)\n{\n  //dostuff\n}\n</code></pre>\n\n<p>Is this syntax correct? Do I need to use the \\n or is there a character for end of line? Also, can I search for / or do I need some sort of escape character?</p>\n"}, {"tags": ["perl", "sorting", "hash", "key"], "comments": [{"owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "edited": false, "score": 1, "creation_date": 1432662138, "post_id": 30464985, "comment_id": 49011183, "body": "Please post an example hash and example output."}], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 2065959, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80fd9cfc83d7692441b04e90a8bd613e?s=128&d=identicon&r=PG", "display_name": "Le Ray", "link": "https://stackoverflow.com/users/2065959/le-ray"}, "edited": false, "score": 1, "creation_date": 1432661280, "post_id": 30465095, "comment_id": 49010684, "body": "But the values aren&#39;t sorted, how will count work in this case? And I&#39;m not sure how to arrange the values in order."}], "tags": [], "owner": {"reputation": 862, "user_id": 3586150, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1f0969599955a953e592034929ed7a23?s=128&d=identicon&r=PG", "display_name": "Neil H Watson", "link": "https://stackoverflow.com/users/3586150/neil-h-watson"}, "is_accepted": false, "score": -3, "last_activity_date": 1432661208, "creation_date": 1432661208, "answer_id": 30465095, "question_id": 30464985, "link": "https://stackoverflow.com/questions/30464985/perl-sorting-multiple-keys-hash/30465095#30465095", "title": "Perl Sorting Multiple Keys Hash", "body": "<p>Count them.</p>\n\n<pre><code>$count++;\nlast if $count &gt; 30;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 5, "last_activity_date": 1432661852, "creation_date": 1432661852, "answer_id": 30465267, "question_id": 30464985, "link": "https://stackoverflow.com/questions/30464985/perl-sorting-multiple-keys-hash/30465267#30465267", "title": "Perl Sorting Multiple Keys Hash", "body": "<p>This sorts the top 2 scores for each subject (just for illustrative purposes).  You should change <code>0 .. 1</code> to <code>0 .. 29</code> for the top 30:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy %grades = (\n    math =&gt; {bill=&gt;55, joe=&gt;66, mike=&gt;77},\n    hist =&gt; {bill=&gt;72, joe=&gt;33, mike=&gt;99},\n    read =&gt; {bill=&gt;95, joe=&gt;24, mike=&gt;22},\n);\n\nfor my $subject (sort keys %grades) {\n    my %gr = %{ $grades{$subject} };\n    for my $student ((reverse sort { $gr{$a} &lt;=&gt; $gr{$b} } keys %gr)[0 .. 1]) {\n        print \"$subject $student $gr{$student}\\n\";\n    }\n}\n\n__END__\n\nhist mike 99\nhist bill 72\nmath mike 77\nmath joe 66\nread bill 95\nread joe 24\n</code></pre>\n\n<p>Refer to <a href=\"http://perldoc.perl.org/perldsc.html#HASHES-OF-HASHES\">perldoc perldsc</a> and <a href=\"http://perldoc.perl.org/perlfaq4.html#How-do-I-sort-a-hash-%28optionally-by-value-instead-of-key%29?\">How do I sort a hash (optionally by value instead of key)?</a></p>\n"}], "owner": {"reputation": 357, "user_id": 2065959, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80fd9cfc83d7692441b04e90a8bd613e?s=128&d=identicon&r=PG", "display_name": "Le Ray", "link": "https://stackoverflow.com/users/2065959/le-ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 30465267, "answer_count": 2, "score": 1, "last_activity_date": 1432663193, "creation_date": 1432660744, "last_edit_date": 1432663193, "question_id": 30464985, "link": "https://stackoverflow.com/questions/30464985/perl-sorting-multiple-keys-hash", "title": "Perl Sorting Multiple Keys Hash", "body": "<p>I have a hash</p>\n\n<pre><code>%grades{$subject}{$student}=$score\n</code></pre>\n\n<p>I am trying to extract top 30 scores for each subject with students from the hash which requires sorting, but I'm not sure how to sort the multiple key hash.</p>\n\n<p>So far I have this, but this gives me every single one of the scores instead of the top 30 that I need for each subject. Also, is there a faster way to perform the query since I have almost 200K students.</p>\n\n<pre><code>foreach my $subject(sort keys %grades) {\n    foreach my $student(keys %{ $grades{$subject} }) {\n        print \"$subject, $student: $grades{$subject}{$student}\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1432659643, "post_id": 30464538, "comment_id": 49009733, "body": "How do you have perl and python in the same file? how does the python code get executed?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1432661136, "post_id": 30464538, "comment_id": 49010609, "body": "<a href=\"http://www.vendian.org/mncharity/dir3/multilang/file/\" rel=\"nofollow noreferrer\">Perl-Python polyglots</a>"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1432698128, "post_id": 30464538, "comment_id": 49025601, "body": "As in <a href=\"http://en.wikipedia.org/wiki/HP_Service_Activator\" rel=\"nofollow noreferrer\">HP Service Activator</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 1, "creation_date": 1432659793, "post_id": 30464649, "comment_id": 49009826, "body": "Whi is htis downvoted? While not containing some english text saying what is wanted is outright not doable, and external processes are the way to go, this answer is correct, since it answers the O.P."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 2, "creation_date": 1432659859, "post_id": 30464649, "comment_id": 49009864, "body": "@jsbueno please assume that if the downvoter wanted to comment, they would have; anybody else is just guessing, so the exercise is pointless"}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 5, "last_activity_date": 1432659471, "creation_date": 1432659471, "answer_id": 30464649, "question_id": 30464538, "link": "https://stackoverflow.com/questions/30464538/how-do-i-embed-perl-code-in-python/30464649#30464649", "title": "How do I embed Perl code in Python?", "body": "<p>Something like this?</p>\n\n<pre><code>from subprocess import call as sp_call\n\nperlscript = \"\"\"\n    use strict;\n    use warnings;\n\n    print \"EHLO world\\n\";\n  \"\"\"\n\nexitcode = sp_call(['perl', '-e', perlscript], shell=False)\n</code></pre>\n\n<p>If you need to capture the output from the Perl script etc, look at subprocess.Popen and friends.</p>\n"}], "owner": {"reputation": 11, "user_id": 3130862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fcc7cd262db96d5c183ac5872ac0e4?s=128&d=identicon&r=PG&f=1", "display_name": "shijo", "link": "https://stackoverflow.com/users/3130862/shijo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 613, "favorite_count": 0, "closed_date": 1432660930, "answer_count": 1, "score": -2, "last_activity_date": 1432659665, "creation_date": 1432659179, "last_edit_date": 1432659665, "question_id": 30464538, "link": "https://stackoverflow.com/questions/30464538/how-do-i-embed-perl-code-in-python", "closed_reason": "Needs details or clarity", "title": "How do I embed Perl code in Python?", "body": "<p>I have a Perl script I want to embed into Python. Whenever I run Python the Perl code also should execute. Both codes are in same file. I am running from HPSA so there is no filename associated with code run.</p>\n"}, {"tags": ["perl", "unix", "awk", "sed", "grep"], "comments": [{"owner": {"reputation": 2694, "user_id": 4533771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3keLI.jpg?s=128&g=1", "display_name": "Dhanuka", "link": "https://stackoverflow.com/users/4533771/dhanuka"}, "edited": false, "score": 2, "creation_date": 1432657179, "post_id": 30463855, "comment_id": 49008180, "body": "By coding, what have you tried?"}, {"owner": {"reputation": 349, "user_id": 2459643, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2a19c9ae6514a7489f9223c932cfdb7?s=128&d=identicon&r=PG", "display_name": "pankaj kushwaha", "link": "https://stackoverflow.com/users/2459643/pankaj-kushwaha"}, "reply_to_user": {"reputation": 2694, "user_id": 4533771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3keLI.jpg?s=128&g=1", "display_name": "Dhanuka", "link": "https://stackoverflow.com/users/4533771/dhanuka"}, "edited": false, "score": 0, "creation_date": 1432657444, "post_id": 30463855, "comment_id": 49008354, "body": "i have not tried anything , was just curious to know, like if i do grep &quot;kumar&quot; a.c than it will give all occurance of kumar in a.c , is there any way with mix of regular expressing so that i can force my grep to look only inside a function definition?"}], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 2459643, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2a19c9ae6514a7489f9223c932cfdb7?s=128&d=identicon&r=PG", "display_name": "pankaj kushwaha", "link": "https://stackoverflow.com/users/2459643/pankaj-kushwaha"}, "edited": false, "score": 0, "creation_date": 1432711677, "post_id": 30464149, "comment_id": 49031146, "body": "I have tried it in the program given in question (edited the Q just now), but its not working."}, {"owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "reply_to_user": {"reputation": 349, "user_id": 2459643, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2a19c9ae6514a7489f9223c932cfdb7?s=128&d=identicon&r=PG", "display_name": "pankaj kushwaha", "link": "https://stackoverflow.com/users/2459643/pankaj-kushwaha"}, "edited": false, "score": 0, "creation_date": 1432724646, "post_id": 30464149, "comment_id": 49039815, "body": "Right, forgot about multi-line functions. Try now."}, {"owner": {"reputation": 349, "user_id": 2459643, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2a19c9ae6514a7489f9223c932cfdb7?s=128&d=identicon&r=PG", "display_name": "pankaj kushwaha", "link": "https://stackoverflow.com/users/2459643/pankaj-kushwaha"}, "edited": false, "score": 0, "creation_date": 1432747038, "post_id": 30464149, "comment_id": 49056400, "body": "just one more thing , what if there is more than 1 file , say inputfile1.java and inputfile2.java , in that case , will following command work:       awk -v query=&quot;pankaj&quot; -v fun=&quot;void f[(]&quot; -f script.awk inputfile1.java inputfile2.java"}, {"owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "reply_to_user": {"reputation": 349, "user_id": 2459643, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2a19c9ae6514a7489f9223c932cfdb7?s=128&d=identicon&r=PG", "display_name": "pankaj kushwaha", "link": "https://stackoverflow.com/users/2459643/pankaj-kushwaha"}, "edited": false, "score": 0, "creation_date": 1432759739, "post_id": 30464149, "comment_id": 49063460, "body": "Yes you can, I will update the script to print the file name as well. You could also do <code>awk ... script.awk *.java</code>  to apply it to all java files in the current directory. You can even include more files bij adding them at the end of the command. <code>..&#47;*.java src&#47;*.c</code> for example also searches all java files in the parent directory and even c files in a directory called src."}, {"owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "reply_to_user": {"reputation": 349, "user_id": 2459643, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2a19c9ae6514a7489f9223c932cfdb7?s=128&d=identicon&r=PG", "display_name": "pankaj kushwaha", "link": "https://stackoverflow.com/users/2459643/pankaj-kushwaha"}, "edited": false, "score": 0, "creation_date": 1432812381, "post_id": 30464149, "comment_id": 49085795, "body": "My pleasure, you can always thank me by upvoting if you deemed it a quality answer."}, {"owner": {"reputation": 349, "user_id": 2459643, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2a19c9ae6514a7489f9223c932cfdb7?s=128&d=identicon&r=PG", "display_name": "pankaj kushwaha", "link": "https://stackoverflow.com/users/2459643/pankaj-kushwaha"}, "edited": false, "score": 0, "creation_date": 1432829937, "post_id": 30464149, "comment_id": 49099307, "body": "I upvoted you , but sombody gave you -1 before , so i was able to make it 0 only :)"}], "tags": [], "owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "is_accepted": true, "score": 0, "last_activity_date": 1432759775, "last_edit_date": 1432759775, "creation_date": 1432657890, "answer_id": 30464149, "question_id": 30463855, "link": "https://stackoverflow.com/questions/30463855/search-a-string-only-inside-a-function-definetion/30464149#30464149", "title": "search a string only inside a function definetion", "body": "<p>Of course, try this:</p>\n\n<pre><code>$0 ~ fun {\n    count = 1\n    while (! ($0 ~ /{/))\n        getline\n    getline\n}   \n\ncount &gt; 0 {\n    if ($0 ~ /{/)\n        count++\n    if ($0 ~ /}/)\n        count--\n    if ($0 ~ query)\n        print FILENAME \": l\" FNR \". \" $0\n}\n</code></pre>\n\n<p>And invoke the script like this:</p>\n\n<pre><code>awk -v query=\"pankaj\" -v fun=\"void f[(]\" -f script.awk inputfile.java\n</code></pre>\n\n<p>Where <code>query</code> is the string to search and <code>fun</code> the regex for the function name.</p>\n\n<p>This script counts <code>{</code> and <code>}</code> to see when we leave the function and should print the line if a match is found.</p>\n\n<p>Edit: you may want to extend the regex for counting brackets, perhaps an extra check to see if they aren't placed in comments is required (although you'd never do that).</p>\n"}], "owner": {"reputation": 349, "user_id": 2459643, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2a19c9ae6514a7489f9223c932cfdb7?s=128&d=identicon&r=PG", "display_name": "pankaj kushwaha", "link": "https://stackoverflow.com/users/2459643/pankaj-kushwaha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 30464149, "answer_count": 1, "score": -6, "last_activity_date": 1432759775, "creation_date": 1432656998, "last_edit_date": 1432711588, "question_id": 30463855, "link": "https://stackoverflow.com/questions/30463855/search-a-string-only-inside-a-function-definetion", "title": "search a string only inside a function definetion", "body": "<p>Is there any way to search a string only inside a function definition.\nI mean to say suppose there is a c program file a.c , in which there is definition of several functions are present , but i want output of search only when that string present inside specific function ( lets say do_something()) definition, is there any way to search string like that, from command prompt?<br>\nfor example , for following code:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nvoid f(int n,\n         int j,\n         int k)\n{\n   printf(\"name is is pankaj \");\n   printf(\"name is is kumar \");\n   printf(\"name is is mayank \");\n}\nint main()\n{\n   printf(\"name is is pankaj \");\n   return 0;\n}\n</code></pre>\n\n<p>for above program, I want only one occurrence of pankaj which is present in function f(), I don't want pankaj present in main function as output of search.\nPlease ignore any semantic or syntax error in program , my query is only for search of a string in program.</p>\n"}, {"tags": ["regex", "perl", "parsing", "replace"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1432653336, "creation_date": 1432653336, "answer_id": 30462526, "question_id": 30462082, "link": "https://stackoverflow.com/questions/30462082/how-to-replace-specific-characters-in-string-by-numbers/30462526#30462526", "title": "how to replace specific character(s) in string by number(s)", "body": "<p>Regular expressions (in perl) can have functions embedded if you use the <code>e</code> flag. Adding the <code>g</code> modifier will do it multiple times. </p>\n\n<p>So:</p>\n\n<pre><code>my $string = \"B##CDE###1\";\n$string =~ s/\\#/int rand(10)/ge;\nprint $string;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 2830317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67b0c75af1727b9972003ccb610b5bea?s=128&d=identicon&r=PG&f=1", "display_name": "palikexxl", "link": "https://stackoverflow.com/users/2830317/palikexxl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 30462526, "answer_count": 1, "score": 0, "last_activity_date": 1432656548, "creation_date": 1432652095, "last_edit_date": 1432652851, "question_id": 30462082, "link": "https://stackoverflow.com/questions/30462082/how-to-replace-specific-characters-in-string-by-numbers", "title": "how to replace specific character(s) in string by number(s)", "body": "<p>I would like to replace a string specific character(s) with numbers.</p>\n\n<p>lets assume I have such format string <code>\"B######\"</code> so it has one \"letter\" and 6 \"#\" characters. My need is to first figure out how many \"#\" it contains and based on this number, will generate random token </p>\n\n<pre><code>Session::Token-&gt;new(alphabet =&gt; ['0'..'9'], length =&gt; $length_from_format_string);\n</code></pre>\n\n<p>then, I need to replace that #... with the generated number. BUT...</p>\n\n<p>format string could be also <code>B##CDE###1</code> so it still has 6 \"#\" so generated number must be divided according to format :( and all this should be as effective as possible </p>\n\n<p>Thanks for your hints</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4441, "user_id": 1168884, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSY9r.png?s=128&g=1", "display_name": "matt freake", "link": "https://stackoverflow.com/users/1168884/matt-freake"}, "edited": false, "score": 7, "creation_date": 1432649005, "post_id": 30460776, "comment_id": 49002070, "body": "Is the ) meant to be there, just after the 20 ?"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 2, "creation_date": 1432649076, "post_id": 30460776, "comment_id": 49002135, "body": "Without the superfluous <code>)</code> it works for me."}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 2, "creation_date": 1432649139, "post_id": 30460776, "comment_id": 49002187, "body": "Ditto. Is this a simplified example, intended to show a warning happening in real code? If so, either provide the actual code, or a less-reduced example that actually <i>shows</i> the problem."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1432652105, "post_id": 30460776, "comment_id": 49004567, "body": "Code with bracket doesn&#39;t compile. Code without works fine. This is either a typo or an incomplete example."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432654496, "post_id": 30460776, "comment_id": 49006326, "body": "You are getting multiple downvotes because, apart from the usual advice to avoid C-style <code>for</code> loops, the code you show works fine. There is no way to guess what may be wrong with your real code unless you publish it, but then we would be glad to help"}, {"owner": {"reputation": 17, "user_id": 4177261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a672e6faeb7b996972ce348c20d099?s=128&d=identicon&r=PG&f=1", "display_name": "Jagan Mohan", "link": "https://stackoverflow.com/users/4177261/jagan-mohan"}, "edited": false, "score": 0, "creation_date": 1432655942, "post_id": 30460776, "comment_id": 49007341, "body": "Sorry guyz! The braces was a typo. The simpler code works perfectly without the braces. I have now pasted the actual code and the output. Did I make a big blunder somewhere?"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1432733761, "post_id": 30460776, "comment_id": 49046695, "body": "@JaganMohan Are you sure <code>@files</code> contains anything? Could you try <code>say scalar(@files);</code> just before the loop?"}, {"owner": {"reputation": 17, "user_id": 4177261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a672e6faeb7b996972ce348c20d099?s=128&d=identicon&r=PG&f=1", "display_name": "Jagan Mohan", "link": "https://stackoverflow.com/users/4177261/jagan-mohan"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1432804580, "post_id": 30460776, "comment_id": 49080311, "body": "@Biffen <code>@files</code> does contain the right values. And you can also see from the log that the loop actually ran 42 times (that&#39;s why it printed the value of key correctly). There are 42 elements in @files."}], "answers": [{"tags": [], "owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "is_accepted": false, "score": 0, "last_activity_date": 1433332124, "last_edit_date": 1433332124, "creation_date": 1433157008, "answer_id": 30571981, "question_id": 30460776, "link": "https://stackoverflow.com/questions/30460776/perl-use-of-uninitialized-value/30571981#30571981", "title": "Perl: Use of uninitialized value", "body": "<p>The first line in the inner loop has a <code>next</code> in it that the main process takes after each <code>start</code> call (because in the main process <code>start</code> returns the non-zero PID of the child; I'm guessing that it returns <code>-1</code> if it can't <code>start</code> like a system-level <code>fork</code> does) and thus <code>$key</code> remains undefined in the main thread through out the loop.</p>\n\n<p>Additionally, you can not set <code>$key</code> in a forked process and have it change in the parent: they are separate processes with no shared data.  You can use the second argument to <a href=\"https://metacpan.org/pod/Parallel::ForkManager\" rel=\"nofollow\">Parallel::ForkManager</a>'s <code>finish</code> method to send data back from child and <code>run_on_finish</code> to gather it.  Read the <a href=\"https://metacpan.org/pod/Parallel::ForkManager#RETRIEVING-DATASTRUCTURES-from-child-processes\" rel=\"nofollow\">RETRIEVING DATASTRUCTURES from child processes</a> section of the module's document for more information.</p>\n\n<p>Lastly, you may only get 16 children because <code>$MAX_PROCESSES</code> is 16 and <code>wait_all_children</code> doesn't happen until the loop is finished; adding <code>wait_for_available_procs();</code> in the loop just before the call to <code>start</code> should help.</p>\n"}], "owner": {"reputation": 17, "user_id": 4177261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a672e6faeb7b996972ce348c20d099?s=128&d=identicon&r=PG&f=1", "display_name": "Jagan Mohan", "link": "https://stackoverflow.com/users/4177261/jagan-mohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 422, "favorite_count": 0, "answer_count": 1, "score": -6, "last_activity_date": 1433332124, "creation_date": 1432648855, "last_edit_date": 1433019343, "question_id": 30460776, "link": "https://stackoverflow.com/questions/30460776/perl-use-of-uninitialized-value", "title": "Perl: Use of uninitialized value", "body": "<p>Below is a small excerpt from my code in Perl. I am getting the error</p>\n\n<blockquote>\n  <p>Error: Use of uninitialized value $key</p>\n</blockquote>\n\n<p>but have no clue why. <code>$key</code> changes within the inner for loop, but I can't access the value outside. Can anyone tell me what I am doing wrong?</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nuse Parallel::ForkManager;\nuse Cwd;\n\nmy $MAX_PROCESSES=16;\n\nprint(cwd);\nprint \"\\n\";\nmy $num_args = $#ARGV + 1;\nif ($num_args &lt; 2) {\n    print \"\\nUsage: rot_align_spider.pl &lt;folder containing particles&gt; &lt;reference&gt;\\n\";\nexit;\n}\n\nmy $folder_name=$ARGV[0];\nmy $ref=$ARGV[1];\n\nprint \"Input, $folder_name $ref\\n\";\nsystem('rm -r rot_align_spider');\nsystem('mkdir rot_align_spider');\nmy $mv_cmd=\"cp $folder_name/*.app rot_align_spider\";\nsystem($mv_cmd);\nsystem(\"cp $ref rot_align_spider\");\n\nchdir \"rot_align_spider\";\n\nmy @files=`ls *.app`;\n#print \"@files\";\n\nprint (cwd);\nprint \"\\n\";\nforeach (@files) {\n   chomp($_);\n   #print \"$_\\n\";\n   my $new_name=$_;\n   #print \"$new_name\\n\";\n   $new_name=~s/\\.app$//g;\n   my $rename_files_cmd=\"mv $_ $new_name\";\n   print \"Renaming file $_ to $new_name\\n\";\n   system($rename_files_cmd);\n}\n\nmy $ref_vol=substr($ref,0,-4);\nmy $new_ref_vol=$ref_vol.\"_iter_0\";\nmy $ref_cp_cmd=\"cp $ref $new_ref_vol.spi\";\nsystem($ref_cp_cmd);\n@files=`ls \"$folder_name\"*.spi`;\n\nfor(my $i=0;$i&lt;1;$i++) {\n    my $pm=new Parallel::ForkManager($MAX_PROCESSES);\n    my $ref_id=$i+1;\n    my $key; #$key defined here\n    my $j;\n    for($j=0;$j&lt;scalar(@files);$j++) {\n        my $pid=$pm-&gt;start and next;    \n        chomp($files[$j]);\n        my $base_name=substr($files[$j],0,-4);\n        #print \"$base_name\\n\";\n        my $soc_file_name=$base_name.\".soc\";\n        #print \"$soc_file_name\\n\";\n        my $exp_vol=substr($files[$j],0,-4);\n        my $aligned_exp_vol=$exp_vol.\"_iter\";\n        my $ref_vol=substr($ref,0,-4);\n        $key=$j+1;\n        open SOC,\"&gt;$soc_file_name\" || die \"Can't open file: $!\";\n        print SOC &lt;&lt;EOF;\n\nMD\nRESULTS OFF\n\nMD\nFBS ON\n\nOR 3Q [phi],[the],[psi],[cc]\n$exp_vol\n$new_ref_vol\n29\n0,0,0\n\nSD $key,[phi],[the],[psi],[cc]\ncc2n_spider\nSD E \n\nROT\n$exp_vol\n$aligned_exp_vol\n[phi],[the],[psi]\nF\nU\n\nEND\nEOF\n    close SOC;\n    my $spider_cmd=\"spider_linux_mp_intel64 soc\\/spi \\@$base_name\";\n    print \"$spider_cmd\\n\";\n    system($spider_cmd);\n    print \"$key\\n\"; #$key printed here in the inner-loop\n    $pm-&gt;finish;    \n}\n#$key=$j;\n$pm-&gt;wait_all_children; \nprint \"$ref_id $key\\n\"; #$key printed here in the outer-loop\nmy $avg_soc_file_name=$folder_name.\".soc\";\n$new_ref_vol=$ref_vol.\"_iter_\".$ref_id;\nopen SOC,\"&gt;$avg_soc_file_name\" || die \"Can't open file: $!\";\nprint SOC &lt;&lt;EOF;\n\nMD\nRESULTS OFF\n\nMD\nFBS ON\n\nAS S\n${folder_name}_bin4x_***_iter\n1-$key\nA\n$new_ref_vol\n\nEND\nEOF\n    close SOC;\n            my $spider_cmd=\"spider_linux_mp_intel64 soc\\/spi \\@$folder_name\";\n            print \"$spider_cmd\\n\";\n            system($spider_cmd);\n }\n</code></pre>\n\n<p>Log file after run -</p>\n\n<pre><code>  **** SPIDER NORMAL STOP ****\n 28\n  **** SPIDER NORMAL STOP ****\n 24\n  **** SPIDER NORMAL STOP ****\n 25\n  **** SPIDER NORMAL STOP ****\n 29\n   **** SPIDER NORMAL STOP ****\n 32\n   **** SPIDER NORMAL STOP ****\n 31\n   **** SPIDER NORMAL STOP ****\n 33\n   **** SPIDER NORMAL STOP ****\n 34\n   **** SPIDER NORMAL STOP ****\n 35\n   **** SPIDER NORMAL STOP ****\n 36\n   **** SPIDER NORMAL STOP ****\n 38\n   **** SPIDER NORMAL STOP ****\n 39\n   **** SPIDER NORMAL STOP ****\n 41\n   **** SPIDER NORMAL STOP ****\n 42\n    **** SPIDER NORMAL STOP ****\n 40\n    **** SPIDER NORMAL STOP ****\n 37\n  Use of uninitialized value $key in concatenation (.) or string at  ../../rot_align_spider.pl line 104.\n  Use of uninitialized value $key in concatenation (.) or string at ../../rot_align_spider.pl line 108.\n  1\n</code></pre>\n"}, {"tags": ["perl", "code-coverage"], "comments": [{"owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "edited": false, "score": 3, "creation_date": 1432648197, "post_id": 30460127, "comment_id": 49001413, "body": "Why? The purpose of DC is to determine how thoroughly your tests exercise your code. It is not intended to determine which portions of it are executed under normal operation. Furthermore, running under DC slows scripts down significantly. (Just how much depends on the types of coverage you collect.)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1432648881, "post_id": 30460127, "comment_id": 49001965, "body": "If you actually want to collect what lines of code are run at all, go with Devel::NYTProf. But that might be even slower! Also those profilers all only make sense for single runs of a program. It is no good to just collect data because they write their profiles into a file that gets overwritten with each new invocation. You need to compile the report."}, {"owner": {"reputation": 850, "user_id": 258130, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8ffcb13424f6eae71cd96a1c1a7c1d2c?s=128&d=identicon&r=PG", "display_name": "skarface", "link": "https://stackoverflow.com/users/258130/skarface"}, "edited": false, "score": 0, "creation_date": 1432653894, "post_id": 30460127, "comment_id": 49005904, "body": "I&#39;m not trying to do this in production.  Looking at splitting up codebase and I want to get some upfront idea as to what files are involved in executing vairous subsystems.  Trying to dig out from under a ball of mud.  Just doing some data gathering."}], "answers": [{"comments": [{"owner": {"reputation": 850, "user_id": 258130, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8ffcb13424f6eae71cd96a1c1a7c1d2c?s=128&d=identicon&r=PG", "display_name": "skarface", "link": "https://stackoverflow.com/users/258130/skarface"}, "edited": false, "score": 0, "creation_date": 1432653950, "post_id": 30460732, "comment_id": 49005944, "body": "Yup, the performance is going to be horrific.  Running some experiments, not trying to make this production.  :)  I should have been clearer."}, {"owner": {"reputation": 850, "user_id": 258130, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8ffcb13424f6eae71cd96a1c1a7c1d2c?s=128&d=identicon&r=PG", "display_name": "skarface", "link": "https://stackoverflow.com/users/258130/skarface"}, "edited": false, "score": 0, "creation_date": 1432661809, "post_id": 30460732, "comment_id": 49010997, "body": "this works for stuff that&#39;s coming out of the webserver (which is a good portion of the code I&#39;m working on).  Not sure how to shim the export into other areas.  Thanks."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 850, "user_id": 258130, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8ffcb13424f6eae71cd96a1c1a7c1d2c?s=128&d=identicon&r=PG", "display_name": "skarface", "link": "https://stackoverflow.com/users/258130/skarface"}, "edited": false, "score": 1, "creation_date": 1432669991, "post_id": 30460732, "comment_id": 49015796, "body": "@ska interesting, where did you put it? Just put it in your <code>.bashrc</code> and it will be available in your shells."}, {"owner": {"reputation": 850, "user_id": 258130, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8ffcb13424f6eae71cd96a1c1a7c1d2c?s=128&d=identicon&r=PG", "display_name": "skarface", "link": "https://stackoverflow.com/users/258130/skarface"}, "edited": false, "score": 0, "creation_date": 1432670891, "post_id": 30460732, "comment_id": 49016314, "body": "product I work on is an appliance ... there&#39;s code that&#39;s run as part of the post OS install ... haven&#39;t traced the OS install to see where to drop the shell var.  It&#39;s somewhere I&#39;m sure.  :)  Thanks for the help, getting this in the webserver has given me more than enough data to play with."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 7, "last_activity_date": 1432648754, "creation_date": 1432648754, "answer_id": 30460732, "question_id": 30460127, "link": "https://stackoverflow.com/questions/30460127/how-to-setup-perl-to-always-run-code-coverage/30460732#30460732", "title": "How to setup perl to always run code coverage", "body": "<p>You can set the environment variable <code>PERL5OPT</code> to always load <code>-MDevel::Cover</code>.</p>\n\n<pre><code>export PERL5OPT=\"-MDevel::Cover\"\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlrun.html#ENVIRONMENT\">perlrun</a> for an explanation of this.</p>\n\n<hr>\n\n<p>But as Michael Carman said, why would you do this? It will have <strong>significant performance costs</strong> and might not be useful if you don't run tests.</p>\n"}], "owner": {"reputation": 850, "user_id": 258130, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8ffcb13424f6eae71cd96a1c1a7c1d2c?s=128&d=identicon&r=PG", "display_name": "skarface", "link": "https://stackoverflow.com/users/258130/skarface"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 30460732, "answer_count": 1, "score": 3, "last_activity_date": 1432654024, "creation_date": 1432647274, "last_edit_date": 1432654024, "question_id": 30460127, "link": "https://stackoverflow.com/questions/30460127/how-to-setup-perl-to-always-run-code-coverage", "title": "How to setup perl to always run code coverage", "body": "<p>I'd like to setup my project to always run the scripts through perl's Devel::Cover module.  I've tried replacing the perl binary with something like this </p>\n\n<pre><code>#!/bin/sh\nexec /usr/local/bin/original-perl -MDevel::Cover $@\n</code></pre>\n\n<p>with no success.  I'd like to avoid modifying the <code>#!</code> for every script on my system (not the end of the world, I'd just like to figure out a more global solution).</p>\n\n<p>Any thoughts on how to turn on Devel::Cover globally?  </p>\n\n<p><strong>Edit:</strong> Not trying to run this in production, just trying some experiments to figure out how to split up a tightly coupled codebase.  Having some automated way to see what source files are needed for a given subsystem (at least as a start) would be helpful</p>\n"}, {"tags": ["regex", "perl", "sed", "grep", "tcl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1432644224, "post_id": 30458865, "comment_id": 48998441, "body": "Could you use <a href=\"http://stackoverflow.com/tags/pcregrep/info\">pcregrep</a> instead, which has multiline support?"}], "answers": [{"tags": [], "owner": {"reputation": 862, "user_id": 3586150, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1f0969599955a953e592034929ed7a23?s=128&d=identicon&r=PG", "display_name": "Neil H Watson", "link": "https://stackoverflow.com/users/3586150/neil-h-watson"}, "is_accepted": false, "score": 0, "last_activity_date": 1432644840, "creation_date": 1432644840, "answer_id": 30459196, "question_id": 30458865, "link": "https://stackoverflow.com/questions/30458865/grepping-second-pattern-after-matching-first-pattern/30459196#30459196", "title": "Grepping second pattern after matching first pattern", "body": "<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy ( %matches, $recent_foo );\n\nwhile(&lt;DATA&gt;)\n{\n   chomp;\n   ( $matches{$recent_foo} ) = $1 if m/(\\\\#\\d+)/;\n   ( $recent_foo ) = $1 if m/(0foo\\d+)/;\n}\n\nprint Dumper( \\%matches );\n\n__DATA__\n0foo1  \n0foo2  \n0foo3  \n\\#89888  \n0foo4  \n0foo5  \n\\#98980  \n 0foo6\n\n ./perl \n$VAR1 = {\n          '0foo5' =&gt; '\\\\#98980',\n          '0foo3' =&gt; '\\\\#89888'\n        };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6928, "user_id": 1015385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc84a03227c566697c4a16b2e9f8782?s=128&d=identicon&r=PG", "display_name": "JRFerguson", "link": "https://stackoverflow.com/users/1015385/jrferguson"}, "is_accepted": true, "score": 2, "last_activity_date": 1432645212, "creation_date": 1432645212, "answer_id": 30459315, "question_id": 30458865, "link": "https://stackoverflow.com/questions/30458865/grepping-second-pattern-after-matching-first-pattern/30459315#30459315", "title": "Grepping second pattern after matching first pattern", "body": "<p>A Perl one-liner to slurp the whole file and match across any newlines for the pattern you seek would look like:</p>\n\n<pre><code>perl -000  -nle 'm{(foo2).*(\\#89888)}s and print join \" \",$1,$2' file\n</code></pre>\n\n<p>The <code>-000</code> switch enables \"slurp\" mode which signals Perl not to split the file into chunks, but rather treat it as one large string.  The <code>s</code> modifier lets <code>.</code> match any character, including a newline.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 1625866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806ac97cb7e4bae54a69d8ad7c1e6680?s=128&d=identicon&r=PG", "display_name": "Barrie", "link": "https://stackoverflow.com/users/1625866/barrie"}, "is_accepted": false, "score": 0, "last_activity_date": 1432647257, "last_edit_date": 1432647257, "creation_date": 1432646237, "answer_id": 30459743, "question_id": 30458865, "link": "https://stackoverflow.com/questions/30458865/grepping-second-pattern-after-matching-first-pattern/30459743#30459743", "title": "Grepping second pattern after matching first pattern", "body": "<p>If what you want is <code>0foo1</code>, <code>0foo2</code> and <code>0foo3</code> to all have the same value the following will do:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy ( %matches, @recent_foo );\n\nwhile(&lt;DATA&gt;)\n{\n   chomp;\n   if (/^\\\\#/)\n   {\n     @matches{@recent_foo} = ($') x @recent_foo;\n     undef @recent_foo;\n   }\n   elsif (/^0/)\n   {\n     push @recent_foo, $';\n   }\n}\n\nprint Dumper( \\%matches );\n\n__DATA__\n0foo1\n0foo2\n0foo3\n\\#89888\n0foo4\n0foo5\n\\#98980\n0foo6\n</code></pre>\n\n<p>gives:</p>\n\n<pre><code>$VAR1 = {\n          'foo2' =&gt; '89888',\n          'foo1' =&gt; '89888',\n          'foo5' =&gt; '98980',\n          'foo3' =&gt; '89888',\n          'foo4' =&gt; '98980'\n        };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "is_accepted": false, "score": 0, "last_activity_date": 1432647791, "creation_date": 1432647791, "answer_id": 30460336, "question_id": 30458865, "link": "https://stackoverflow.com/questions/30458865/grepping-second-pattern-after-matching-first-pattern/30460336#30460336", "title": "Grepping second pattern after matching first pattern", "body": "<pre><code>Var='foo2'\nsed \"#n\n/${Var}/,/#[0-9]\\{1,\\}/ {\n   H\n   /#[0-9]\\{1,\\}/ !d\n   s/.*//;x\n   s/.//;s/\\n.*\\\\n/ /p\n   q\n   }\" YourFile\n</code></pre>\n\n<p>Not clear as request. It take first occurence of your pattern <em>foo2</em> until first <em>#number</em>, remove line between and print both line in 1 than quit (no other extract</p>\n"}, {"tags": [], "owner": {"reputation": 12685, "user_id": 488796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bec8145ec10828cf4988b6b2005bafa?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lewerin", "link": "https://stackoverflow.com/users/488796/peter-lewerin"}, "is_accepted": false, "score": 0, "last_activity_date": 1432649532, "creation_date": 1432649532, "answer_id": 30461067, "question_id": 30458865, "link": "https://stackoverflow.com/questions/30458865/grepping-second-pattern-after-matching-first-pattern/30461067#30461067", "title": "Grepping second pattern after matching first pattern", "body": "<p>A Tcl solution. The procedure runs in a little over 3 microseconds, so you'll need <em>very</em> large data files to have it run for days. If more than one token matches, the first match is used (it's easy to rewrite the procedure to return all matches).</p>\n\n<pre><code>set data {\n0foo1  \n0foo2  \n0foo3  \n\\#89888  \n0foo4  \n0foo5  \n\\#98980  \n 0foo6\n}\n\nproc find {data pattern} {\n    set idx [lsearch -regexp $data $pattern]\n    if {$idx &gt;= 0} {\n        lrange $data $idx $idx+1\n    }\n}\n\nfind $data 0foo3\n# -&gt; 0foo3 #89888\nfind $data 0f.*5\n# -&gt; 0foo5 #98980\n</code></pre>\n\n<p>Documentation: <a href=\"http://www.tcl.tk/man/tcl/TclCmd/if.htm\" rel=\"nofollow\" title=\"Execute scripts conditionally\">if</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/lrange.htm\" rel=\"nofollow\" title=\"Return one or more adjacent elements from a list\">lrange</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/lsearch.htm\" rel=\"nofollow\" title=\"See if a list contains a particular element\">lsearch</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/proc.htm\" rel=\"nofollow\" title=\"Create a Tcl procedure\">proc</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/set.htm\" rel=\"nofollow\" title=\"Read and write variables\">set</a></p>\n"}, {"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 0, "last_activity_date": 1432663565, "last_edit_date": 1432663565, "creation_date": 1432662890, "answer_id": 30465580, "question_id": 30458865, "link": "https://stackoverflow.com/questions/30458865/grepping-second-pattern-after-matching-first-pattern/30465580#30465580", "title": "Grepping second pattern after matching first pattern", "body": "<p>sed</p>\n\n<pre><code>sed -n '/foo2/,/#[0-9]\\+/ {s/^[[:space:]]*[0\\\\]//; p}' file | \nsed -n '1p; $p' | \npaste -s\n</code></pre>\n\n<ul>\n<li>The first sed prints all the lines between the first pattern and the 2nd, removing optional leading whitespace and the leading <code>0</code> or <code>\\</code>.  </li>\n<li>The second sed extracts only the first and last lines.</li>\n<li>The paste command prints the 2 lines as a single line, separated with a tab.</li>\n</ul>\n\n<hr>\n\n<p>awk</p>\n\n<pre><code>awk -v p1=foo5 '\n    $0 ~ p1 {found = 1} \n    found &amp;&amp; /#[0-9]+/ { sub(/^\\\\\\/, \"\"); print p1, $0; exit }\n' file\n</code></pre>\n\n<hr>\n\n<p>tcl</p>\n\n<pre><code>lassign $argv filename pattern1\nset found false\nset fid [open $filename r]\nwhile {[gets $fid line] != -1} {\n    if {[string match \"*$pattern1*\" $line]} {\n        set found true\n    }\n    if {$found &amp;&amp; [regexp {#\\d+} $line number]} {\n        puts \"$pattern1 $number\"\n        break\n    }\n}\nclose $fid\n</code></pre>\n\n<p>Then </p>\n\n<pre><code>$ tclsh 2patt.tcl file foo4\nfoo4 #98980\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1432672371, "creation_date": 1432672371, "answer_id": 30468349, "question_id": 30458865, "link": "https://stackoverflow.com/questions/30458865/grepping-second-pattern-after-matching-first-pattern/30468349#30468349", "title": "Grepping second pattern after matching first pattern", "body": "<p>Is this what you want?</p>\n\n<pre><code>$ awk -v tgt=\"foo2\" 'index($0,tgt){f=1} f&amp;&amp;/#[0-9]/{print tgt, $0; exit}' file\nfoo2 \\#89888\n\n$ awk -v tgt=\"foo5\" 'index($0,tgt){f=1} f&amp;&amp;/#[0-9]/{print tgt, $0; exit}' file\nfoo5 \\#98980\n</code></pre>\n\n<p>I'm using <code>index()</code> above as it searches for a string not a regexp and so could not care less what RE metacharacters are in foo - they are all just literal characters in a string.</p>\n\n<p>It's not clear from your question if you want to find a specific number after a specific foo or the first number after foo2 or even if you want to search for a specific foo value or all \"foo\"s or...</p>\n"}], "owner": {"reputation": 125, "user_id": 4940417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a020cfcf66bdaecb0e0a7ff63cdfc68?s=128&d=identicon&r=PG&f=1", "display_name": "valuable_asset", "link": "https://stackoverflow.com/users/4940417/valuable-asset"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1957, "favorite_count": 0, "accepted_answer_id": 30459315, "answer_count": 7, "score": 1, "last_activity_date": 1432672371, "creation_date": 1432644019, "last_edit_date": 1432644159, "question_id": 30458865, "link": "https://stackoverflow.com/questions/30458865/grepping-second-pattern-after-matching-first-pattern", "title": "Grepping second pattern after matching first pattern", "body": "<p>Is there any grep/sed option which will allow me to match a pattern after matching another pattern? For example: Input file (<code>foo</code>s are variable patterns starting with <code>0</code> mixed with random numbers preceded by <code>#</code> in front):</p>\n\n<pre><code>0foo1  \n0foo2  \n0foo3  \n\\#89888  \n0foo4  \n0foo5  \n\\#98980  \n 0foo6\n</code></pre>\n\n<p>So once I try to search for a variable pattern (eg. <code>foo2</code>), I also want to match another pattern (eg, <code>#number</code>) from this pattern line number, in this case, <code>#89888</code>.</p>\n\n<p>Therefore output for variable <code>foo2</code> must be:</p>\n\n<pre><code>foo2  #89888\n</code></pre>\n\n<p>For variable <code>foo5</code>:</p>\n\n<pre><code>foo5  #98980\n</code></pre>\n\n<p><code>foo</code>s consist of every character, including which may be considered metacharacters.</p>\n\n<p>I tried a basic regex match script using tcl which will first search for <code>foo*</code> and then search for next immediate <code>#</code>, but since I am working with a very large file, it will take days to finish. Any help is appreciated.</p>\n"}, {"tags": ["string", "perl", "indexing"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1432641112, "post_id": 30457693, "comment_id": 48996102, "body": "I can&#39;t reproduce this. Could you supply an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>?"}, {"owner": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "edited": false, "score": 0, "creation_date": 1432641297, "post_id": 30457693, "comment_id": 48996234, "body": "Any chance you are confusing the logic of <code>!=</code>? The expression you are using is true, if the string is found. It would help if showed us a <i>complete</i> program, stripped down to a few lines and still exhibiting the problem."}, {"owner": {"reputation": 65, "user_id": 3375676, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/af23c3c2ce51491fc845e72cf2ce7b78?s=128&d=identicon&r=PG&f=1", "display_name": "proquibas", "link": "https://stackoverflow.com/users/3375676/proquibas"}, "edited": false, "score": 0, "creation_date": 1432641336, "post_id": 30457693, "comment_id": 48996267, "body": "Hi and thanks, the logic is: <code>str = &quot;Hi sir, No data was received&quot; strtofind = &quot;No data was received&quot;  #It match if (index($str, $strtofind) != -1){ \t$flagger = 1; }  if($flagger == 0){ ...code here... }  str = &quot;Hi sir, No data was sent&quot; strtofind = &quot;No data was received&quot; #It match too if (index($str, $strtofind) != -1){ \t$flagger = 1; }</code>"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1432642152, "post_id": 30457693, "comment_id": 48996817, "body": "@proquibas That&#39;s not even valid code. There&#39;s something you&#39;re not showing us. Once again, an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> would be nice."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1432643331, "post_id": 30457693, "comment_id": 48997773, "body": "<a href=\"https://eval.in/370359\" rel=\"nofollow noreferrer\">eval.in/370359</a> so you need to set your $flagger like <code>$flagger = (index($str, $strtofind) != -1)</code>, or set it to zero prior to condition."}], "answers": [{"tags": [], "owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "is_accepted": false, "score": 2, "last_activity_date": 1432645207, "last_edit_date": 1432645207, "creation_date": 1432641307, "answer_id": 30457862, "question_id": 30457693, "link": "https://stackoverflow.com/questions/30457693/find-only-exact-string/30457862#30457862", "title": "Find only exact string", "body": "<p>The code you gave behaves in this way </p>\n\n<pre><code>  DB&lt;4&gt; $str=\"Hi sir, No data was received\"\n\n  DB&lt;5&gt; $strtofind=\"No data was received\"\n\n  DB&lt;6&gt; $str2=\"Hi sir, no data sent\"\n\n  DB&lt;7&gt; print index($str,$strtofind)\n8\n  DB&lt;8&gt; print index($str2,$strtofind)\n-1\n</code></pre>\n\n<p>Which is <em>correct</em> according to your requirements.  If you are having a problem, it's not with the matching, it's elsewhere</p>\n"}, {"comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1432642812, "post_id": 30457974, "comment_id": 48997379, "body": "Or <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\"><code>quotemeta</code></a>."}, {"owner": {"reputation": 65, "user_id": 3375676, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/af23c3c2ce51491fc845e72cf2ce7b78?s=128&d=identicon&r=PG&f=1", "display_name": "proquibas", "link": "https://stackoverflow.com/users/3375676/proquibas"}, "edited": false, "score": 0, "creation_date": 1432702131, "post_id": 30457974, "comment_id": 49026733, "body": "Thanks all for your help, all are correct, I was doing wrong comparison."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 0, "last_activity_date": 1432641623, "creation_date": 1432641623, "answer_id": 30457974, "question_id": 30457693, "link": "https://stackoverflow.com/questions/30457693/find-only-exact-string/30457974#30457974", "title": "Find only exact string", "body": "<p>You can do this by using the <code>\\Q</code> and <code>\\E</code> operators:</p>\n\n<pre><code>my $str = \"Hi sir, No data was received\";\nmy $strtofind = \"No data was received\";\nif ($str =~ /\\Q$strtofind\\E/)\n{\n    print \"Match\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 3375676, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/af23c3c2ce51491fc845e72cf2ce7b78?s=128&d=identicon&r=PG&f=1", "display_name": "proquibas", "link": "https://stackoverflow.com/users/3375676/proquibas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "closed_date": 1432655903, "accepted_answer_id": 30457974, "answer_count": 2, "score": -2, "last_activity_date": 1432645207, "creation_date": 1432640939, "last_edit_date": 1432642373, "question_id": 30457693, "link": "https://stackoverflow.com/questions/30457693/find-only-exact-string", "closed_reason": "Not suitable for this site", "title": "Find only exact string", "body": "<p>I'm trying to find a string inside a string with Perl. For example:</p>\n\n<pre><code>str = \"Hi sir, No data was received\"\nstrtofind = \"No data was received\"\n</code></pre>\n\n<p>I'm using:</p>\n\n<pre><code>if(index($str,$strtofind) != -1)\n</code></pre>\n\n<p>But if the script receive another input like: <code>\"Hi sir, No data sent\"</code> it matches too (<code>No data</code>).</p>\n\n<p>How to set TRUE if only it match all the <code>strtofind</code>?</p>\n"}, {"tags": ["perl", "redirect", "cgi"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1432638787, "post_id": 30456837, "comment_id": 48994387, "body": "How you access POST or query string data depends on which library you are using to interact with the web server. You should provide some code to show us how you are accessing the data and tell us what you are using (Dancer? Catalyst? PSGI directly? CGI.pm?)"}, {"owner": {"reputation": 1, "user_id": 4940079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23b6e2dde187a89c768fa7f2de72a5b7?s=128&d=identicon&r=PG&f=1", "display_name": "JBT", "link": "https://stackoverflow.com/users/4940079/jbt"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1432639863, "post_id": 30456837, "comment_id": 48995172, "body": "I guess the answer to your question is CGI."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1432640889, "post_id": 30456837, "comment_id": 48995947, "body": "You say you can <i>\u201cfigure out how to do it with a <code>POST</code>\u201d</i> yet your code uses a constant redirect URL, and not a parameter. Please can you show your working code?"}, {"owner": {"reputation": 1, "user_id": 4940079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23b6e2dde187a89c768fa7f2de72a5b7?s=128&d=identicon&r=PG&f=1", "display_name": "JBT", "link": "https://stackoverflow.com/users/4940079/jbt"}, "edited": false, "score": 0, "creation_date": 1432642409, "post_id": 30456837, "comment_id": 48997006, "body": "I am sorry, you are correct.  My code in the HTML says POST yet I am coding for a constant redirect.  So my POST does not work either.  I stopped trying to go down that POST path anyways since I need to do a GET.   If anyone has some code snippet to share, I can learn by example.  Coming into it brand new is difficult."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1433089474, "creation_date": 1433089474, "answer_id": 30559708, "question_id": 30456837, "link": "https://stackoverflow.com/questions/30456837/perl-cgi-script-that-accepts-parameter-url-for-redirect/30559708#30559708", "title": "perl cgi script that accepts parameter url for redirect", "body": "<p>Your solution seems rather over-engineered. I think this does all that you need.</p>\n\n<pre><code>#!/bin/env perl\n\nuse strict;\nuse warnings;\nuse CGI ':cgi'; # Only the CGI functions\n\nmy $url = param('URL');\n\nif ($url !~ /^http/) {\n  $url = \"http://$url\";\n}\n\nprint redirect($url);\n</code></pre>\n\n<p>In particular, your solution of using META HTTP-EQUIV in an HTML page seems really strange. HTTP-EQUIV is for situations where you can't alter the web server's headers. But as we're writing a CGI program, we can return whatever headers we warn. So using the <code>redirect()</code> function to return a 302 response seems to the be most obvious solution.</p>\n\n<p><strong>Note:</strong> If you get the input using the <code>param()</code> function, then it doesn't matter if it's a GET or POST request.</p>\n"}], "owner": {"reputation": 1, "user_id": 4940079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23b6e2dde187a89c768fa7f2de72a5b7?s=128&d=identicon&r=PG&f=1", "display_name": "JBT", "link": "https://stackoverflow.com/users/4940079/jbt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1100, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1433089474, "creation_date": 1432638524, "last_edit_date": 1432738143, "question_id": 30456837, "link": "https://stackoverflow.com/questions/30456837/perl-cgi-script-that-accepts-parameter-url-for-redirect", "title": "perl cgi script that accepts parameter url for redirect", "body": "<p>I need to create a Perl CGI script that will accept a single parameter as input.  The parameter will be a fully qualified URL and the script will redirect the browser to the URL that has been passed as the parameter.  The method is a GET and not a POST.</p>\n\n<p>The browser address bar will accept the full script with the URL parameter like this: <a href=\"http://webserver/cgi-bin/myscript.pl?URL=http://www.google.com\" rel=\"nofollow\">http://webserver/cgi-bin/myscript.pl?URL=http://www.google.com</a>  </p>\n\n<p>I am new to Perl and I can figure out how to do it with a POST, but not a GET. Any help would be greatly appreciated.</p>\n\n<p>I stole this code but it does not do a GET and I think I am using a bad example or one that does not apply to what I need to do:</p>\n\n<p>UPDATE:  This was my solution</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\n\n\nuse CGI qw(:standard);\nuse CGI::Carp qw(warningsToBrowser fatalsToBrowser);\nuse DBI;\nuse URI::Escape;\nuse strictures;\nuse CGI;\nuse URI;\n\nmy $q = new CGI ;\nmy $url = \"httpcandy\";\n\n# Process an HTTP request\n#my @values  = $q-&gt;multi_param('form_field');\nmy $value   = $q-&gt;param('param_name');\n\n\nprint \"Content-type: text/html\\n\\n\";\n#print \"&lt;pre&gt;\\n\";\n#\n#foreach my $key (sort keys(%ENV)) {\n#  print \"$key = $ENV{$key}&lt;br/&gt;\";\n#}\n#print \"&lt;/pre&gt;\\n\";\n\n\n\nmy $requested = URI-&gt;new( CGI::url() );\n$requested-&gt;query( $ENV{QUERY_STRING} || $ENV{REDIRECT_QUERY_STRING} )\n    if url_param();\n\n\n#print header(),\n#    start_html(),\n#    h1(\"requested:\"),\n#    blockquote($requested),\n#    h1(\"url:\"),\n#    blockquote($value),\n#    h1(\"nothing else\"),\n#\n#    end_html();\n#    \nif ($value =~ /http/)\n{\n   print \"&lt;META HTTP-EQUIV=refresh CONTENT=\\\"1;$value\\\"&gt;\\n\";\n}\nelse\n{\n   print \"&lt;META HTTP-EQUIV=refresh CONTENT=\\\"1;URL=http://$value\\\"&gt;\\n\";\n};\n\nexit;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "is_accepted": false, "score": 2, "last_activity_date": 1432664884, "last_edit_date": 1432664884, "creation_date": 1432636443, "answer_id": 30456053, "question_id": 30455945, "link": "https://stackoverflow.com/questions/30455945/regex-check-if-parts-are-the-same/30456053#30456053", "title": "Regex check if parts are the same", "body": "<p>You can use a back reference. Back references can be used to address the contents of a previously captured pattern - in the pattern itself. <code>\\1</code> addresses the contents of group <code>\\1</code> and so on. But note that if you have captured less than <code>10</code> groups, <code>\\11</code> would point to the contents of capturing group <code>1</code> <em>plus a literal <code>1</code></em></p>\n\n<p>Like this:</p>\n\n<pre><code>$a = \"123_abc_123\";\nif($a =~ /(\\d+)_abc_\\1/) {\n    print \"yes\";\n} else {\n    print \"no\";\n}\n\n$a = \"123_abc_456\";\nif($a =~ /(\\d+)_abc_\\1/) {\n    print \"yes\";\n} else {\n    print \"no\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1432644375, "last_edit_date": 1432644375, "creation_date": 1432637223, "answer_id": 30456346, "question_id": 30455945, "link": "https://stackoverflow.com/questions/30455945/regex-check-if-parts-are-the-same/30456346#30456346", "title": "Regex check if parts are the same", "body": "<p>You can try this:</p>\n\n<pre><code>^(\\d+)\\..*\\.\\1$\n</code></pre>\n\n<p><code>\\1</code> matches the same text as most recently matched by the 1st capturing group.</p>\n\n<p>Input:</p>\n\n<pre><code>123.XY12345.123\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4194, "user_id": 3026131, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/h5dWI.png?s=128&g=1", "display_name": "Nader Hisham", "link": "https://stackoverflow.com/users/3026131/nader-hisham"}, "is_accepted": false, "score": 1, "last_activity_date": 1432637357, "creation_date": 1432637357, "answer_id": 30456395, "question_id": 30455945, "link": "https://stackoverflow.com/questions/30455945/regex-check-if-parts-are-the-same/30456395#30456395", "title": "Regex check if parts are the same", "body": "<p>you can use this regex for your match , it will only match the whole string if third part is equal to the first part  </p>\n\n<pre><code>^([^.]+).[^.]+.\\1$\n</code></pre>\n\n<p>use this <a href=\"https://regex101.com/r/tK1oP1/2\" rel=\"nofollow\">Demo</a> for testing</p>\n"}, {"tags": [], "owner": {"reputation": 931, "user_id": 2751621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QOZRK.jpg?s=128&g=1", "display_name": "emartinelli", "link": "https://stackoverflow.com/users/2751621/emartinelli"}, "is_accepted": true, "score": 3, "last_activity_date": 1432637720, "creation_date": 1432637720, "answer_id": 30456533, "question_id": 30455945, "link": "https://stackoverflow.com/questions/30455945/regex-check-if-parts-are-the-same/30456533#30456533", "title": "Regex check if parts are the same", "body": "<p>Only add <code>\\1</code> at the end of your expression. It will match the first capture group.</p>\n\n<pre><code>([0-9]{3})[/.][a-zA-Z]{2}[0-9]{5}[/.]\\1\n</code></pre>\n\n<p><a href=\"http://regexr.com/3b2s7\" rel=\"nofollow\">DEMO</a></p>\n"}], "owner": {"reputation": 251, "user_id": 4454952, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/06b5b99d23cc74962544e91326ab1335?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/4454952/mateusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 30456533, "answer_count": 4, "score": 1, "last_activity_date": 1432664884, "creation_date": 1432636176, "question_id": 30455945, "link": "https://stackoverflow.com/questions/30455945/regex-check-if-parts-are-the-same", "title": "Regex check if parts are the same", "body": "<p>So I have for example expression, which have three parts, for example:\n123.XY12345.123\nHow can I check if first part (123) is the same like third part (123)?\nI tried something like this:</p>\n\n<pre><code>\\[0-9]{3}[/.][a-zA-Z]{2}[0-9]{5}[/.] _____ (here no idea)\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 1, "creation_date": 1432638387, "post_id": 30455817, "comment_id": 48994048, "body": "What are the rules? Do you want to always remove the <code>1</code> at the end?"}, {"owner": {"reputation": 9, "user_id": 4928827, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206651649390713/picture?type=large", "display_name": "Darshan Srinivasan", "link": "https://stackoverflow.com/users/4928827/darshan-srinivasan"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1432639176, "post_id": 30455817, "comment_id": 48994647, "body": "Yes, i need to remove only the 1&#39;s at the end. It is not necessary that number of 1&#39;s at the end is 3, it can be any number of times.   Eg:- @array1 = qw (1,1,1,2,3,4,4,4,5,6,1,1,1,1,1). From this array i have to extract an output as &quot;1,1,1,2,3,4,4,4,5,6&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432642649, "post_id": 30455817, "comment_id": 48997230, "body": "Please be more accurate with your question. ` qw(1,1,1,2,3,4,4,4,5,6,1,1,1)` will raise a warning message and create just a single array element, and <code>&quot;1,1,1,2,3,4,4,4,5,6&quot;</code> is a string, not a list. Please post an example of your data file"}, {"owner": {"reputation": 9, "user_id": 4928827, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206651649390713/picture?type=large", "display_name": "Darshan Srinivasan", "link": "https://stackoverflow.com/users/4928827/darshan-srinivasan"}, "edited": false, "score": 0, "creation_date": 1432643762, "post_id": 30455817, "comment_id": 48998110, "body": "My sincere apologies, i am very new to perl and hence so. Thanks for the understanding."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432657249, "post_id": 30455817, "comment_id": 49008226, "body": "@DarshanSrinivasan: Please stop fixing your question to remove the errors: it makes nonsense of the solutions that you have been offered"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 4928827, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206651649390713/picture?type=large", "display_name": "Darshan Srinivasan", "link": "https://stackoverflow.com/users/4928827/darshan-srinivasan"}, "edited": false, "score": 0, "creation_date": 1432639862, "post_id": 30456917, "comment_id": 48995171, "body": "Sure Chas. Owens, i will look into the Split function. Just to give more clarity,   Series can be in any order. Not necessarily ascending, can be any random number in-between the 1&#39;s. Between the value &#39;5&#39; &amp; &#39;6&#39;, as demonstrated below, there will not be any 1&#39;s either.   Say, my @array1 = (1,1,1,5,3,4,4,4,2,6,1,1,1,1,1);                                Expected output = (1,1,1,5,3,4,4,4,2,6)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432642728, "post_id": 30456917, "comment_id": 48997310, "body": "This doesn&#39;t seem to answer the question, which has nothing to do with uniqueness"}], "tags": [], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "is_accepted": false, "score": 0, "last_activity_date": 1432638730, "creation_date": 1432638730, "answer_id": 30456917, "question_id": 30455817, "link": "https://stackoverflow.com/questions/30455817/manipulate-a-data-series-perl/30456917#30456917", "title": "Manipulate a data series Perl", "body": "<p>Your <code>UniqueValues</code> function is correct.  The problem is probably in your handling of the input.  A quick way to debug this (besides using the built-in debugger) is to dumper that value contents of <code>@lines</code>  with something like JSON, YAML, or some other serialization format that targets text.  You simplicity's sake, I will use the <code>Data::Dumper</code> module since it is part of Core Perl:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $file = \"emm4.txt\"; #emm4.txt contains 1,1,1,2,3,4,4,4,5,6,1,1,1\n\n# always use the three argument version of open or you have a \n# a security hole (see open's documentation for more)\n# also, bareword filehandles have issues, lexical filehandles\n# are better\nopen my $fh, \"&lt;\", $file or die \"Can't open $file for read: $!\";\n\nmy @lines;\nwhile (my $line = &lt;$fh&gt;) {\n    chomp $line; #this is needed or there will be a newline at the end of the line\n    push (@lines, $line);\n}\n\nprint Dumper \\@lines;\n</code></pre>\n\n<p>If this does not print</p>\n\n<pre><code>$VAR1 = [\n          1,\n          1,\n          1,\n          2,\n          3,\n          4,\n          4,\n          4,\n          5,\n          6,\n          1,\n          1,\n          1\n        ];\n</code></pre>\n\n<p>Then you have done something wrong with the data from the file.  From your comment you seem to indicate that the file contains \"1,1,1,2,3,4,4,4,5,6,1,1,1\", if so, then you probably need to look into the <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">split</a> function.</p>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 4928827, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206651649390713/picture?type=large", "display_name": "Darshan Srinivasan", "link": "https://stackoverflow.com/users/4928827/darshan-srinivasan"}, "edited": false, "score": 0, "creation_date": 1432649194, "post_id": 30458234, "comment_id": 49002229, "body": "Thankyou @Borodin, it worked for me. I got (1,1,1,2,3,4,4,4,5,6) as output.   One quick doubt, In-case i need to get (1,1,1,2,3,4,4,4,5,6,1), i just have to add &#39;1&#39; at the end, i used push as below. Is there any shorter way to address the same.? Good day &amp; thanks again.  pop array while $array[-1] == 1; #.Gave 1,1,1,5,3,4,4,4,2,6 as expected.  push $array,1; #,Gave me 1,1,1,5,3,4,4,4,2,6,1"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9, "user_id": 4928827, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206651649390713/picture?type=large", "display_name": "Darshan Srinivasan", "link": "https://stackoverflow.com/users/4928827/darshan-srinivasan"}, "edited": false, "score": 0, "creation_date": 1432653449, "post_id": 30458234, "comment_id": 49005599, "body": "@DarshanSrinivasan: Are you saying that you want to reduce multiple occurrences of <code>1</code> at the end to a single <code>1</code>? It looks like you&#39;ve done it in two statements; do you need it to run even faster? By the way, please publish code by editing your question. It is unreadable in comments"}, {"owner": {"reputation": 9, "user_id": 4928827, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206651649390713/picture?type=large", "display_name": "Darshan Srinivasan", "link": "https://stackoverflow.com/users/4928827/darshan-srinivasan"}, "edited": false, "score": 0, "creation_date": 1432655816, "post_id": 30458234, "comment_id": 49007243, "body": "Yes, correct. I want to reduce multiple occurrences of 1 at the end to a single 1. Updates the question with your suggestion as well."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9, "user_id": 4928827, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206651649390713/picture?type=large", "display_name": "Darshan Srinivasan", "link": "https://stackoverflow.com/users/4928827/darshan-srinivasan"}, "edited": false, "score": 0, "creation_date": 1432658408, "post_id": 30458234, "comment_id": 49008946, "body": "@DarshanSrinivasan: Please leave your question untouched unless your original phrasing is completely wrong. It&#39;s now looking like you should ask a completely new question, but you <i>must</i> specify the requirement much better"}, {"owner": {"reputation": 9, "user_id": 4928827, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206651649390713/picture?type=large", "display_name": "Darshan Srinivasan", "link": "https://stackoverflow.com/users/4928827/darshan-srinivasan"}, "edited": false, "score": 0, "creation_date": 1432662528, "post_id": 30458234, "comment_id": 49011423, "body": "Oops, i edited since you asked me to publish code by editing the question as it is unreadable in comments . My apologies."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9, "user_id": 4928827, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206651649390713/picture?type=large", "display_name": "Darshan Srinivasan", "link": "https://stackoverflow.com/users/4928827/darshan-srinivasan"}, "edited": false, "score": 0, "creation_date": 1432708969, "post_id": 30458234, "comment_id": 49029489, "body": "@DarshanSrinivasan: I also apologise. You should always <i>add</i> to your question when editing it. Correcting errors that are adressed in comments or solutions puts them out of context"}, {"owner": {"reputation": 9, "user_id": 4928827, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206651649390713/picture?type=large", "display_name": "Darshan Srinivasan", "link": "https://stackoverflow.com/users/4928827/darshan-srinivasan"}, "edited": false, "score": 0, "creation_date": 1432710360, "post_id": 30458234, "comment_id": 49030310, "body": "No problem. For my learning purpose, I want to reduce multiple occurrences of 1 at the end to a single 1. How can i efficiently write a code without a push.?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9, "user_id": 4928827, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206651649390713/picture?type=large", "display_name": "Darshan Srinivasan", "link": "https://stackoverflow.com/users/4928827/darshan-srinivasan"}, "edited": false, "score": 0, "creation_date": 1432710779, "post_id": 30458234, "comment_id": 49030560, "body": "@DarshanSrinivasan: My update does as you ask. You shouldn&#39;t be trying to optimise until your application is complete and you have found it to be too slow. Then you run it through a profiler and find where the bottlenecks are"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -1, "last_activity_date": 1432654093, "last_edit_date": 1432654093, "creation_date": 1432642334, "answer_id": 30458234, "question_id": 30455817, "link": "https://stackoverflow.com/questions/30455817/manipulate-a-data-series-perl/30458234#30458234", "title": "Manipulate a data series Perl", "body": "<p><strong>Update</strong></p>\n\n<p>From your comments it looks like you need to reduce trailing array values until the final value is unique</p>\n\n<p>Try this, but note that it will remove <em>any</em> duplicate values. For instance <code>6 1 5 2 4 3 7 7 7</code> will be reduced to <code>6 1 5 2 4 3 7</code>, and <code>9 1 1 1 1 1 3</code> will be left unchanged</p>\n\n<pre><code>use 5.014;\n\nuse strict;\nuse warnings;\n\nmy @array = qw(1 1 1 2 3 4 4 4 5 6 1 1 1 );\n\nsay \"@array\";\n\npop @array while @array &gt; 1 and $array[-1] == $array[-2];\n\nsay \"@array\";\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>1 1 1 2 3 4 4 4 5 6 1 1 1\n1 1 1 2 3 4 4 4 5 6 1\n</code></pre>\n\n<hr>\n\n<p><strong>Original</strong></p>\n\n<p>It looks like all you need is</p>\n\n<pre><code>pop @array1 while $array1[-1] == 1;\n</code></pre>\n\n<p>But your input is confused and I can't tell how to fix it unless you show an accurate example of your data file</p>\n\n<p>Are the numbers in the file one per line? Then all you need to do is <code>chomp @array1</code> after the read loop</p>\n\n<p>Is there just one line in the file with comma-separated numbers? Then you just need <code>@array1 = /\\d+/g</code></p>\n"}], "owner": {"reputation": 9, "user_id": 4928827, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206651649390713/picture?type=large", "display_name": "Darshan Srinivasan", "link": "https://stackoverflow.com/users/4928827/darshan-srinivasan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1432657154, "creation_date": 1432635807, "last_edit_date": 1432657154, "question_id": 30455817, "link": "https://stackoverflow.com/questions/30455817/manipulate-a-data-series-perl", "title": "Manipulate a data series Perl", "body": "<p>I have an array Say, <code>@array1 = qw (1,1,1,2,3,4,4,4,5,6,1,1,1)</code>. From this array I have to extract an output as <code>\"1,1,1,2,3,4,4,4,5,6\"</code> (i.e. to remove the number of 1's from the end alone). In-fact I tried different methods suggestion for other similar questions, but I couldn't get to it. I am new to Perl, please do help me out. </p>\n\n<p>P.S.: Series can be in any order. Not necessarily ascending, can be any random number in-between the 1's. Between the value '5' &amp; '6', as demonstrated below, there will not be any 1's either. Say:</p>\n\n<pre><code>my @array1 = (1,1,1,5,3,4,4,4,2,6,1,1,1,1,1);\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>(1,1,1,5,3,4,4,4,2,6)\n</code></pre>\n\n<p>Vague steps, but couldn't get to where I wanted:</p>\n\n<pre><code>my $file = \"emm4.txt\"; #emm4.txt contains 1,1,1,2,3,4,4,4,5,6,1,1,1\n\nopen (FH, \"&lt; $file\") or die \"Can't open $file for read: $!\";\nmy @lines;\nwhile (&lt;FH&gt;) {\npush (@lines, $_);\n}    \nsub UniqueValues {\nmy %seen;\nreturn grep { !$seen{$_}++ } @_;\n   }  \nmy @unique;\n@unique = UniqueValues(@lines);\nprint @unique;\n\nclose FH or die \"Cannot close $file: $!\";\n</code></pre>\n"}, {"tags": ["windows", "perl", "batch-file", "perltk"], "comments": [{"owner": {"reputation": 28073, "user_id": 377037, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fb2956c6a757f40f0ee02aa30fd2090f?s=128&d=identicon&r=PG", "display_name": "Tom van der Woerdt", "link": "https://stackoverflow.com/users/377037/tom-van-der-woerdt"}, "edited": false, "score": 0, "creation_date": 1432636738, "post_id": 30455511, "comment_id": 48992860, "body": "Is it possible that the <code>start</code> command opens it as a background process instead of a blocking process? That would explain why it&#39;s so fast."}, {"owner": {"reputation": 1, "user_id": 4362389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0713e625934d1ceae21f26d73c05aa4b?s=128&d=identicon&r=PG&f=1", "display_name": "user4362389", "link": "https://stackoverflow.com/users/4362389/user4362389"}, "reply_to_user": {"reputation": 28073, "user_id": 377037, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fb2956c6a757f40f0ee02aa30fd2090f?s=128&d=identicon&r=PG", "display_name": "Tom van der Woerdt", "link": "https://stackoverflow.com/users/377037/tom-van-der-woerdt"}, "edited": false, "score": 0, "creation_date": 1432637715, "post_id": 30455511, "comment_id": 48993534, "body": "Yes ,its kind of a parallel process.I have to wait until that background/parallel process is executed ."}], "answers": [{"tags": [], "owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "is_accepted": false, "score": 0, "last_activity_date": 1432769097, "creation_date": 1432769097, "answer_id": 30494790, "question_id": 30455511, "link": "https://stackoverflow.com/questions/30455511/how-to-disable-a-perl-button-until-external-command-is-executed/30494790#30494790", "title": "How to disable a Perl button until external command is executed?", "body": "<p>You didn't close <code>launch</code> before executing your <code>system</code> command.</p>\n\n<p>If output to the <code>launch</code> file handle is buffered (typically to 4KB), then your file is probably empty at the time the <code>system</code> command is run.  If your <code>system</code> command would return right away in that case, then your button would reactivate immediately too.</p>\n\n<p>Just before your <code>system</code> command, you should:</p>\n\n<pre><code>close(launch);\n</code></pre>\n\n<p>(Also, it is traditional to use all-uppercase for file handles.)</p>\n"}, {"tags": [], "owner": {"reputation": 4391, "user_id": 2332415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fa5a4e5ffdf883a1fcb1840c915d485?s=128&d=identicon&r=PG", "display_name": "Slaven Rezic", "link": "https://stackoverflow.com/users/2332415/slaven-rezic"}, "is_accepted": false, "score": 0, "last_activity_date": 1434190655, "creation_date": 1434190655, "answer_id": 30817512, "question_id": 30455511, "link": "https://stackoverflow.com/questions/30455511/how-to-disable-a-perl-button-until-external-command-is-executed/30817512#30817512", "title": "How to disable a Perl button until external command is executed?", "body": "<p>There are a couple of issues in your approach. First, the sequence \"disable button\", \"doing something non-Tk-ish\", \"enable button\" does not work and the button always stays enabled. The reason is that display changes are only executed if a callback returns or if explicitly <code>update()</code> or <code>idletasks()</code> is called. To demonstrate this, in the following example the button is never disabled:</p>\n\n<pre><code>use Tk;\nmy $mw = tkinit;\nmy $b; $b = $mw-&gt;Button(-text =&gt; 'Click me!', -command =&gt; sub {\n    $b-&gt;configure(-state =&gt; 'disabled');\n    # $mw-&gt;idletasks; # or alternatively: $mw-&gt;update;\n    sleep 10; # simulate some task\n    $b-&gt;configure(-state =&gt; 'normal');\n})-&gt;pack;\nMainLoop;\n</code></pre>\n\n<p>But if the <code>idletasks()</code> or <code>update()</code> call is activated, then things work as expected.</p>\n\n<p>The example script has a flaw: while the <code>sleep()</code> (or any busy task) is active, no updates to the GUI can be done. The application appears to be frozen to the user. Even window refreshes don't happen anymore. If this is a problem, then the whole script has to be restructured in a non-blocking way. In this case it would be possible to start a new process in the background (as you already do it using the <code>start</code> command), but then you have to know when the background process is finished, and enable the button again. One simple approach is to use some kind of \"signal file\" and check periodically if this signal file was created from the background process. Here's an example which works on Unix systems (but should work on Windows, too, if a custom script is used in the <code>system()</code> call):</p>\n\n<pre><code>use Tk;\nmy $mw = tkinit;\nmy $b; $b = $mw-&gt;Button(-text =&gt; 'Click me!', -command =&gt; sub {\n    $b-&gt;configure(-state =&gt; 'disabled');\n    # no idletasks/update necessary now\n    system(\"(rm -f /tmp/signal_file; sleep 10; touch /tmp/signal_file) &amp;\");\n    my $repeater; $repeater = $mw-&gt;repeat(1000, sub {\n        if (-e \"/tmp/signal_file\") {\n        unlink \"/tmp/signal_file\";\n        $b-&gt;configure(-state =&gt; 'normal');\n        $repeater-&gt;cancel;\n    }\n    });\n})-&gt;pack;\nMainLoop;\n</code></pre>\n\n<p>This approach is not very elegant, because it requires a periodic check. A more elegant way can be written with the <code>Tk::IO</code> module, but it's possible that this is working only on Unix platforms:</p>\n\n<pre><code>use Tk;\nuse Tk::IO;\nmy $exec_fh;\nmy $mw = tkinit;\nmy $b; $b = $mw-&gt;Button(-text =&gt; 'Click me!', -command =&gt; sub {\n    $b-&gt;configure(-state =&gt; 'disabled');\n    # no idletasks/update necessary now\n    $exec_fh = Tk::IO-&gt;new(-linecommand =&gt; sub {\n    # empty, we're not interested in the output\n    }, -childcommand =&gt; sub {\n        $b-&gt;configure(-state =&gt; 'normal');\n    });\n    $exec_fh-&gt;exec(\"sleep 10\");\n})-&gt;pack;\nMainLoop;\n</code></pre>\n\n<p>Further good readings are the <code>Tk::fileevent</code> Pod and maybe you can give <code>AnyEvent</code> a try.</p>\n"}], "owner": {"reputation": 1, "user_id": 4362389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0713e625934d1ceae21f26d73c05aa4b?s=128&d=identicon&r=PG&f=1", "display_name": "user4362389", "link": "https://stackoverflow.com/users/4362389/user4362389"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 419, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1434190655, "creation_date": 1432634942, "last_edit_date": 1432639003, "question_id": 30455511, "link": "https://stackoverflow.com/questions/30455511/how-to-disable-a-perl-button-until-external-command-is-executed", "title": "How to disable a Perl button until external command is executed?", "body": "<pre><code>sub push_button2\n{\n    $but2-&gt;configure(-state =&gt; 'disabled');\n\n    open(launch, \"+&gt;C:\\\\integration\\\\check_label\\\\launch_check_label.bat\") or die \"Couldn't open file launch_check_label.bat$!\";\n    print launch \"$ARGV[1]:\\n\";\n    print launch \"perl C:\\\\integration\\\\check_label\\\\check_label.pl $ARGV[0] $ARGV[1] $text\";\n\n    system(\"start C:\\\\integration\\\\check_label\\\\external_command.bat\");\n    $but2-&gt;configure(-state =&gt; 'normal');\n}\n</code></pre>\n\n<p>Above code snippet didn't work out, it only disabled the button for some milliseconds and the button was active in no time even before the batch file ran.</p>\n"}, {"tags": ["perl", "libssh2"], "answers": [{"tags": [], "owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "is_accepted": false, "score": 0, "last_activity_date": 1432772228, "creation_date": 1432772228, "answer_id": 30495211, "question_id": 30453802, "link": "https://stackoverflow.com/questions/30453802/how-to-exec-quit-command-in-the-same-channel-in-the-perl/30495211#30495211", "title": "How to exec quit command in the same channel in the perl", "body": "<p>You can only execute one <code>exec</code> call on a channel.</p>\n\n<p>I believe you are trying to feed input to the <code>monitor interface  xx.xx</code> program that you <code>exec</code>ed.  If so, you should:</p>\n\n<pre><code>$chan-&gt;write(\"q\\n\");\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4939487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70814f80818031e7952453b6cbc753e3?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/4939487/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432772228, "creation_date": 1432630118, "last_edit_date": 1432764127, "question_id": 30453802, "link": "https://stackoverflow.com/questions/30453802/how-to-exec-quit-command-in-the-same-channel-in-the-perl", "title": "How to exec quit command in the same channel in the perl", "body": "<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nuse Net::SSH2;\n\n#--\nmy $server='x.x.x.x';\nmy $user='xxxx';\nmy $passwd='xxxx';\n#--\nmy $ssh2 = Net::SSH2-&gt;new();\n\nprint \"Connecting to $server...\\n\";\n$ssh2-&gt;connect($server) or die 'connect problem';\n\nif( $ssh2-&gt;auth_password($user, $passwd)) {\n    my $chan = $ssh2-&gt;channel();\n    $chan-&gt;exec(\"monitor interface  xx.xx\"); \n    $chan-&gt;exec(\"q\"); ### This is not working \n    my $buflen = 100000;\n    my $buf = '0' x $buflen;\n    $chan-&gt;read($buf, $buflen);\n    print \"Starting: $buf ::Ending \";\n}\n</code></pre>\n\n<p>I need to send the quit command (exec(\"q\")) in the same channel for to interrupt(stop) the \"monitor interface xxxx\" command execution, since it run continuously. Someone please help me on this. </p>\n"}, {"tags": ["perl", "parsing", "eval"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1432624919, "post_id": 30451977, "comment_id": 48985048, "body": "Show what you have tried."}, {"owner": {"reputation": 2216, "user_id": 1422010, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a0a57a087d07908ae751e8662b41bd90?s=128&d=identicon&r=PG", "display_name": "Anna", "link": "https://stackoverflow.com/users/1422010/anna"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1432625017, "post_id": 30451977, "comment_id": 48985103, "body": "@Jens I don&#39;t understand, I just wrote that in the question. I don&#39;t have a problem implementing it, just wondering if there&#39;s a neater solution without using <code>eval</code>."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1432625121, "post_id": 30451977, "comment_id": 48985177, "body": "<a href=\"http://stackoverflow.com/q/2816816/1030675\">stackoverflow.com/q/2816816/1030675</a>"}], "answers": [{"comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 2, "creation_date": 1432626811, "post_id": 30452156, "comment_id": 48986206, "body": "Other possible modules are: <a href=\"https://metacpan.org/pod/Number::Range\" rel=\"nofollow noreferrer\">Number::Range</a> or <a href=\"https://metacpan.org/pod/Set::IntSpan\" rel=\"nofollow noreferrer\">Set::Intspan</a> just to name two other modules."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 3, "last_activity_date": 1432627167, "last_edit_date": 1432627167, "creation_date": 1432625244, "answer_id": 30452156, "question_id": 30451977, "link": "https://stackoverflow.com/questions/30451977/parse-perl-range-string-such-as-1-4-7-10-11/30452156#30452156", "title": "Parse Perl range string such as &quot;1,4..7,10,11&quot;", "body": "<p>Have a look at CPAN module <a href=\"http://search.cpan.org/~grudziar/Text-NumericList-0.01/NumericList.pm\" rel=\"nofollow\">Text::NumericList</a>.</p>\n\n<p>Converting strings into arrays:</p>\n\n<pre><code>use Text::NumericList;\nmy $list = Text::NumericList-&gt;new;\n\n$list-&gt;set_string('1-3,5-7');\nmy @array = $list-&gt;get_array;     # Returns (1,2,3,5,6,7)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$list-&gt;set_string('1..3,5...7');\n@array = $list-&gt;get_array;        # Returns (1,2,3,5,6,7)\n</code></pre>\n\n<p>As @dgw has mentioned in comment other possible modules are:</p>\n\n<p><a href=\"https://metacpan.org/pod/Number::Range\" rel=\"nofollow\">Number::Range</a><br>\n<a href=\"https://metacpan.org/pod/Set::IntSpan\" rel=\"nofollow\">Set::Intspan</a></p>\n"}, {"comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 2, "creation_date": 1432626745, "post_id": 30452430, "comment_id": 48986166, "body": "Don&#39;t reinvent the wheel when there are many Modules on CPAN that are better tested and documented. Just my 2 cents."}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1432627872, "post_id": 30452430, "comment_id": 48986812, "body": "I strongly agree with your argument. But sometime it is not possible to install CPAN modules. In my company we have no access to CPAN and the people that use Perl scripts don&#39;t know how to manually install all the missing modules and all their dependencies. Also, this kind of problem is quite simple and following the KISS rule we do not always need a complex module (that require to be installed) in order to solve very simple and specific tasks."}, {"owner": {"reputation": 2216, "user_id": 1422010, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a0a57a087d07908ae751e8662b41bd90?s=128&d=identicon&r=PG", "display_name": "Anna", "link": "https://stackoverflow.com/users/1422010/anna"}, "edited": false, "score": 2, "creation_date": 1432655183, "post_id": 30452430, "comment_id": 49006806, "body": "If you eval anyway, why not just eval the entire string? <code>@out = eval &quot;(1,4..7,10,11)&quot;;</code>"}], "tags": [], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "is_accepted": false, "score": 0, "last_activity_date": 1432626415, "last_edit_date": 1432626415, "creation_date": 1432626067, "answer_id": 30452430, "question_id": 30451977, "link": "https://stackoverflow.com/questions/30451977/parse-perl-range-string-such-as-1-4-7-10-11/30452430#30452430", "title": "Parse Perl range string such as &quot;1,4..7,10,11&quot;", "body": "<p>Of course the simplest and ugly solution is to use <code>split</code> and <code>eval</code> like this:</p>\n\n<pre><code>$str = \"1,4..7,10,11\";\n\nmy @out;\nfor (split \",\", $str) {\n    if (/\\d+\\.\\.\\d+/) {\n        eval('push @out, $_ for '.$_);\n    }\n    else {\n        push @out, $_;\n    }\n}\nprint \"(\", join(',', sort {$a &lt;=&gt; $b} @out), \")\"; \n</code></pre>\n\n<p>You can avoid <code>eval</code> by extracting the two members of your range with <code>/([0-9]+)[.][.]([0-9]+)/</code> also writable <code>/(\\d+)\\.{2}(\\d+)/</code>:</p>\n\n<pre><code>$str = \"1,4..7,10,11\";\n\nmy @out;\nfor (split \",\", $str) {\n    if (/(\\d+)\\.\\.(\\d+)/) {\n        push @out, $_ for $1 .. $2;\n    }\n    else {\n        push @out, $_;\n    }\n}\nprint \"(\", join(',', sort {$a &lt;=&gt; $b} @out), \")\"; \n</code></pre>\n\n<p>From this we can simplify the code:</p>\n\n<pre><code>$str = \"1,4..7,10,11\";\n\nmy @out;\nfor (split \",\", $str) {\n    push @out, $_ for (/(\\d+)\\.\\.(\\d+)/)? $1 .. $2: $_; \n}\nprint \"(\", join(',', sort {$a &lt;=&gt; $b} @out), \")\"; \n</code></pre>\n\n<p>Last but not least, If you are using <code>bash</code> and your input string is passed to your program as an argument. You can use the brace expansion like this: </p>\n\n<pre><code>$ echo 1 2 {3..6} 10 11 | sort\n1 2 3 4 5 6 10 11\n</code></pre>\n"}], "owner": {"reputation": 2216, "user_id": 1422010, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a0a57a087d07908ae751e8662b41bd90?s=128&d=identicon&r=PG", "display_name": "Anna", "link": "https://stackoverflow.com/users/1422010/anna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "closed_date": 1432630004, "accepted_answer_id": 30452156, "answer_count": 2, "score": 1, "last_activity_date": 1432627167, "creation_date": 1432624734, "last_edit_date": 1432625350, "question_id": 30451977, "link": "https://stackoverflow.com/questions/30451977/parse-perl-range-string-such-as-1-4-7-10-11", "closed_reason": "Duplicate", "title": "Parse Perl range string such as &quot;1,4..7,10,11&quot;", "body": "<p>Given a <em>string</em> such as <code>1,4..7,10,11</code>, is there a neat way to parse it into the list <code>(1,4,5,6,7,10,11)</code>? The string is given as a command-line argument. My plan is ensure that the string fits <code>/^[0-9.,]+$/</code> and then <code>eval</code> it, but is there a neater way without <code>eval</code>?</p>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 5857, "user_id": 297373, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/lwUTS.png?s=128&g=1", "display_name": "lornova", "link": "https://stackoverflow.com/users/297373/lornova"}, "edited": false, "score": 0, "creation_date": 1432630333, "post_id": 30451484, "comment_id": 48988478, "body": "I just realized that the existing answers are very comprehensive. If those didn&#39;t work, this seems a tricky problem on your specific setup. Can you post more information about the error you get when you try to launch the script?"}, {"owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "reply_to_user": {"reputation": 5857, "user_id": 297373, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/lwUTS.png?s=128&g=1", "display_name": "lornova", "link": "https://stackoverflow.com/users/297373/lornova"}, "edited": false, "score": 0, "creation_date": 1432633980, "post_id": 30451484, "comment_id": 48990975, "body": "It doesn&#39;t give any errors, it just give few warnings which it gives while running it with perl keyword also."}, {"owner": {"reputation": 5857, "user_id": 297373, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/lwUTS.png?s=128&g=1", "display_name": "lornova", "link": "https://stackoverflow.com/users/297373/lornova"}, "edited": false, "score": 1, "creation_date": 1432635738, "post_id": 30451484, "comment_id": 48992195, "body": "Can you copy here those warnings?"}, {"owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "reply_to_user": {"reputation": 5857, "user_id": 297373, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/lwUTS.png?s=128&g=1", "display_name": "lornova", "link": "https://stackoverflow.com/users/297373/lornova"}, "edited": false, "score": 0, "creation_date": 1432637098, "post_id": 30451484, "comment_id": 48993072, "body": "included in question only @Lorenzo"}, {"owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "edited": false, "score": 0, "creation_date": 1432639049, "post_id": 30451484, "comment_id": 48994575, "body": "Just a suggestion but how about running <code>pl2bat myscript.pl</code> and then double clicking <code>myscript.bat</code>"}, {"owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "edited": false, "score": 0, "creation_date": 1432641173, "post_id": 30451484, "comment_id": 48996149, "body": "That to is not working"}, {"owner": {"reputation": 5857, "user_id": 297373, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/lwUTS.png?s=128&g=1", "display_name": "lornova", "link": "https://stackoverflow.com/users/297373/lornova"}, "edited": false, "score": 0, "creation_date": 1432648644, "post_id": 30451484, "comment_id": 49001761, "body": "OK... so what&#39;s the exact different behavior of the two cases?"}, {"owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "reply_to_user": {"reputation": 5857, "user_id": 297373, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/lwUTS.png?s=128&g=1", "display_name": "lornova", "link": "https://stackoverflow.com/users/297373/lornova"}, "edited": false, "score": 0, "creation_date": 1432709508, "post_id": 30451484, "comment_id": 49029807, "body": "@Lorenzo In the first case it just gives the warning but the script is not executed but in the second case it is executing the script fine."}], "answers": [{"comments": [{"owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "edited": false, "score": 0, "creation_date": 1432709927, "post_id": 30461351, "comment_id": 49030080, "body": "I uninstalled the strawberry one then I installed the Active perl, is it still possible that the strawberry perl Is still installed. assoc .pl=PerlScript ftype PerlScript=C:\\perl\\bin\\perl.exe &quot;%1&quot; %*, through this command I m pointing to my Active Perl directory. C:\\Perl\\bin this is the path to perl.exe"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "edited": false, "score": 0, "creation_date": 1432719109, "post_id": 30461351, "comment_id": 49035942, "body": "Without proper technical diagnostics, anything is &quot;possible&quot;. You should update the question to describe <b>exactly</b> what you did and <b>exactly</b> what the problem is."}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 1, "last_activity_date": 1432650262, "creation_date": 1432650262, "answer_id": 30461351, "question_id": 30451484, "link": "https://stackoverflow.com/questions/30451484/how-can-i-make-a-perl-script-executable-in-windows-64bit/30461351#30461351", "title": "How can I make a Perl script executable in Windows 64bit?", "body": "<p>The error message</p>\n\n<pre><code>Using a hash as a reference is deprecated\n</code></pre>\n\n<p>is a Perl message. Your script is being run just fine, but contains an error.</p>\n\n<p>(It is remotely possible that you have two Perl versions installed, and that you configured Windows to use the wrong one. Reconfigure it to use the correct on then, using the guides you already found.)</p>\n"}], "owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1555, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1432650262, "creation_date": 1432623299, "last_edit_date": 1495540266, "question_id": 30451484, "link": "https://stackoverflow.com/questions/30451484/how-can-i-make-a-perl-script-executable-in-windows-64bit", "title": "How can I make a Perl script executable in Windows 64bit?", "body": "<p>I am trying to run the perl script through command line but it is not reorganizing the script file ie.</p>\n\n<p>myscript.pl... is not working\nbut perl myscript.pl is working fine</p>\n\n<p>I have tried the following suggestions but they didn't work either</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4727480/how-do-i-make-my-perl-scripts-act-like-normal-programs-on-windows\">How do I make my Perl scripts act like normal programs on Windows?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3013341/perl-execution-from-command-line-question\">Perl execution from command line question</a></p>\n\n<p>I am using Active Perl:- Perl 5 , Version 18. </p>\n\n<p>It gives following warnings in both cases.\nUsing a hash as a reference is deprecated</p>\n\n<p>earlier I installed strawberry perl before installing active perl, is that causing some problem. </p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1432632904, "post_id": 30449865, "comment_id": 48990225, "body": "<code>some code here</code> may be  your problem - if your route &quot;stalls&quot; then you might have this problem."}, {"owner": {"reputation": 2781, "user_id": 2385424, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/8d9f555234b9a09676d4d3d5dcdfc5e4?s=128&d=identicon&r=PG&f=1", "display_name": "Vibhor Bhardwaj", "link": "https://stackoverflow.com/users/2385424/vibhor-bhardwaj"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1432633339, "post_id": 30449865, "comment_id": 48990531, "body": "@Sobrique ..Thanks for your reply, can your please elaborate your comment?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1432633498, "post_id": 30449865, "comment_id": 48990640, "body": "That without your code, we have no idea. But if your code - for example - goes into an infinite loop, or stalls - occasionally - you might see a similar problem."}, {"owner": {"reputation": 2781, "user_id": 2385424, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/8d9f555234b9a09676d4d3d5dcdfc5e4?s=128&d=identicon&r=PG&f=1", "display_name": "Vibhor Bhardwaj", "link": "https://stackoverflow.com/users/2385424/vibhor-bhardwaj"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1432726926, "post_id": 30449865, "comment_id": 49041454, "body": "@Sobrique ..Please check my code ..I am having same issue with this code.Would you please help me."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1432727856, "post_id": 30449865, "comment_id": 49042155, "body": "Don&#39;t do this: <code>my $self = undef;</code> That&#39;ll screw up all sorts of things. Scope the <code>self</code> object locally."}, {"owner": {"reputation": 2781, "user_id": 2385424, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/8d9f555234b9a09676d4d3d5dcdfc5e4?s=128&d=identicon&r=PG&f=1", "display_name": "Vibhor Bhardwaj", "link": "https://stackoverflow.com/users/2385424/vibhor-bhardwaj"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1432728506, "post_id": 30449865, "comment_id": 49042641, "body": "@Sobrique   # Route to the main page get &#39;/&#39; =&gt; sub { my $self = shift; $self-&gt;render(&#39;index&#39;);  };  I have declared it locally but still it fails some time."}, {"owner": {"reputation": 2781, "user_id": 2385424, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/8d9f555234b9a09676d4d3d5dcdfc5e4?s=128&d=identicon&r=PG&f=1", "display_name": "Vibhor Bhardwaj", "link": "https://stackoverflow.com/users/2385424/vibhor-bhardwaj"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1432818760, "post_id": 30449865, "comment_id": 49090725, "body": "@Sobrique : can you please see my simplest code block which also gives the same error page and help me out?"}], "answers": [{"tags": [], "owner": {"reputation": 2781, "user_id": 2385424, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/8d9f555234b9a09676d4d3d5dcdfc5e4?s=128&d=identicon&r=PG&f=1", "display_name": "Vibhor Bhardwaj", "link": "https://stackoverflow.com/users/2385424/vibhor-bhardwaj"}, "is_accepted": true, "score": 0, "last_activity_date": 1432901782, "creation_date": 1432901782, "answer_id": 30529398, "question_id": 30449865, "link": "https://stackoverflow.com/questions/30449865/page-not-found-yet-with-mojolicious/30529398#30529398", "title": "Page not found... yet! with Mojolicious", "body": "<p>Finally I find that this is a bug with mojilicious light(while rendering <strong>inline</strong> templetes).\n<a href=\"https://groups.google.com/forum/#!topic/mojolicious/7FDGtO-FV9k\" rel=\"nofollow\">bug report 1</a>\n<a href=\"http://irclog.perlgeek.de/mojo/2015-05-11\" rel=\"nofollow\">bug report 2</a></p>\n\n<hr>\n\n<p>I resolved my problem by using <a href=\"http://mojolicio.us/perldoc/Mojolicious/Guides/Tutorial#External-templates.\" rel=\"nofollow\">external templates</a></p>\n\n<p>Example:</p>\n\n<p>My application file:</p>\n\n<pre><code>#!/usr/bin/perl -T\nuse strict;\nuse Mojolicious::Lite;\n\nget '/' =&gt; 'index';\n\n# Run the Mojolicious script in CGI mode.\napp-&gt;start;\n</code></pre>\n\n<p>and my template file with name index.html.ep</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;My title&lt;/title&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        pass 15\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Note:</strong> We have to define this file in <strong>templates</strong> directory .</p>\n"}], "owner": {"reputation": 2781, "user_id": 2385424, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/8d9f555234b9a09676d4d3d5dcdfc5e4?s=128&d=identicon&r=PG&f=1", "display_name": "Vibhor Bhardwaj", "link": "https://stackoverflow.com/users/2385424/vibhor-bhardwaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 683, "favorite_count": 0, "accepted_answer_id": 30529398, "answer_count": 1, "score": -1, "last_activity_date": 1432901782, "creation_date": 1432616726, "last_edit_date": 1432818615, "question_id": 30449865, "link": "https://stackoverflow.com/questions/30449865/page-not-found-yet-with-mojolicious", "title": "Page not found... yet! with Mojolicious", "body": "<p>I am using Mojilicious Lite.</p>\n\n<pre><code>#!/usr/bin/perl -T\nuse strict;\nuse Mojolicious::Lite;\n\nget '/' =&gt; 'index';\n\n# Run the Mojolicious script in CGI mode.\napp-&gt;start;\n\n#template\n__DATA__\n@@ index.html.ep\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;My title&lt;/title&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        pass 15\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>All is working fine but I have an <strong>intermittent</strong> issue,some times I get error page which says:</p>\n\n<pre><code>\"Page not found... yet!\nNone of these routes could generate a response for your GET request for /, maybe you need to add a new one?\"\n</code></pre>\n\n<p><strong>This happen very rarely (1 out of 20 hit)</strong>.</p>\n\n<p>Can anyone please let me know what is the issue and how can I overcome of it?</p>\n\n<p>Thanks in advance..</p>\n\n<p><strong>My Error Log is:</strong></p>\n\n<pre><code>[Tue May 26 18:12:42 2015] [debug] GET \"/\".\n[Tue May 26 18:12:42 2015] [debug] Routing to a callback.\n[Tue May 26 18:12:42 2015] [debug] Template \"index.html.ep\" not found.\n[Tue May 26 18:12:42 2015] [debug] Template \"not_found.development.html.ep\" not found.\n[Tue May 26 18:12:42 2015] [debug] Template \"not_found.html.ep\" not found.\n[Tue May 26 18:12:42 2015] [debug] Rendering inline template \"3e3201ab0667c1fc7f39089209f0435c\".\n[Tue May 26 18:12:42 2015] [debug] Rendering inline template \"b2d451b47e2053ce583cbfdf7bcc6006\".\n</code></pre>\n"}, {"tags": ["sql", "perl", "placeholder", "dbi"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1432613356, "post_id": 30449216, "comment_id": 48980119, "body": "That INSERT would be pretty unwieldy even without placeholders. Are you really executing this query multiple times in your script with different sets of ID values?"}, {"owner": {"reputation": 6148, "user_id": 1383889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4Xk8P.jpg?s=128&g=1", "display_name": "Yasiru G", "link": "https://stackoverflow.com/users/1383889/yasiru-g"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1432614011, "post_id": 30449216, "comment_id": 48980294, "body": "At the moment only one ID value at a time."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432614875, "post_id": 30449415, "comment_id": 48980574, "body": "Your built SQL statement is missing lots of commas."}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 4, "last_activity_date": 1432614114, "creation_date": 1432614114, "answer_id": 30449415, "question_id": 30449216, "link": "https://stackoverflow.com/questions/30449216/perl-dbi-placeholders-other-than-s/30449415#30449415", "title": "Perl DBI placeholders other than ?s", "body": "<p>It's up to the database driver. Some of them support other placeholder formats, but most don't. You can look at the docs for yours (e.g. DBD::Pg, DBD::mysql) and see what's available.</p>\n\n<p>Your better options are:</p>\n\n<p>1: Write code to generate the SQL. You're best off using <em>all</em> placeholders; then you can start off with a structure like</p>\n\n<pre><code>my @data = (\n    [ $foo, 'penaltymemberslimit', 0, 0],\n    [ $bar, 'answered_elsewhere', 0, 0],\n    # ... a bunch more rows\n);\n</code></pre>\n\n<p>and follow it up with something like:</p>\n\n<pre><code>my $sql = \"INSERT INTO queues_details (id,keyword,data,flags) VALUES\";\nmy @binds;\nfor my $row (@data) {\n    $sql .= \" (?,?,?,?)\";\n    push @binds, @$row;\n}\n\nmy $sth = $dbh-&gt;prepare($sql);\n$dbh-&gt;execute(@binds);\n</code></pre>\n\n<p>2: Use <a href=\"http://p3rl.org/DBIx::Class\" rel=\"nofollow\">DBIx::Class</a>. If you create a schema with a class for your <code>queues_details</code> table, then you can just create one big array of hashes with column names as keys and values as values, and pass that to <code>populate</code>, and DBIC will write the insert for you. It might even use a more efficient way of inserting bulk data, for example using a special API or deferring constraints. You also have the option of creating objects and calling <code>create</code> on them.</p>\n"}, {"comments": [{"owner": {"reputation": 6148, "user_id": 1383889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4Xk8P.jpg?s=128&g=1", "display_name": "Yasiru G", "link": "https://stackoverflow.com/users/1383889/yasiru-g"}, "edited": false, "score": 0, "creation_date": 1432615562, "post_id": 30449523, "comment_id": 48980773, "body": "Good solution, thanks! Actually there will be one id at a time, forgot to mention in the question. I also reading bind_ param for this."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 6148, "user_id": 1383889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4Xk8P.jpg?s=128&g=1", "display_name": "Yasiru G", "link": "https://stackoverflow.com/users/1383889/yasiru-g"}, "edited": false, "score": 0, "creation_date": 1432615939, "post_id": 30449523, "comment_id": 48980897, "body": "That allows the solution to be simplified, although just a little. Updated answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1432615988, "last_edit_date": 1432615988, "creation_date": 1432614797, "answer_id": 30449523, "question_id": 30449216, "link": "https://stackoverflow.com/questions/30449216/perl-dbi-placeholders-other-than-s/30449523#30449523", "title": "Perl DBI placeholders other than ?s", "body": "<p>Use only placeholders</p>\n\n<pre><code>my $sql = \"INSERT INTO queues_detail (id,keyword,data,flags) VALUES \";\n$sql .= join ', ', (\"(?,?,?,?)\") x @data;\n\n$dbh-&gt;do($sql, $undef, map { $id, @$_ } @data);\n</code></pre>\n\n<p>Or don't use any at all</p>\n\n<pre><code>my $sql = \"INSERT INTO queues_detail (id,keyword,data,flags) VALUES \";\n$sql .= join(', ', map { \"(\" . join(', ', map $dbh-&gt;quote($_), $id, @$_) . \")\" } @data);\n\n$dbh-&gt;do($sql);\n</code></pre>\n\n<p>The above use the following:</p>\n\n<pre><code>my @data = (\n   [ 'penaltymemberslimit',         '0',                  0 ],\n   [ 'answered_elsewhere',          '0',                  0 ],\n   [ 'timeoutpriority',             'app',                0 ],\n   [ 'timeoutrestart',              'no',                 0 ],\n   [ 'memberdelay',                 '0',                  0 ],\n   [ 'servicelevel',                '60',                 0 ],\n   [ 'reportholdtime',              'no',                 0 ],\n   [ 'ringinuse',                   'yes',                0 ],\n   [ 'weight',                      '0',                  0 ],\n   [ 'autofill',                    'no',                 0 ],\n   [ 'eventmemberstatus',           'no',                 0 ],\n   [ 'eventwhencalled',             'no',                 0 ],\n   [ 'monitor-join',                'yes',                0 ],\n   [ 'monitor-format',              '',                   0 ],\n   [ 'periodic-announce-frequency', '0',                  0 ],\n   [ 'queue-thankyou',              'queue-thankyou',     0 ],\n   [ 'queue-callswaiting',          'queue-callswaiting', 0 ],\n   [ 'queue-thereare',              'queue-thereare',     0 ],\n   [ 'maxlen',                      '0',                  0 ],\n   [ 'joinempty',                   'yes',                0 ],\n   [ 'leavewhenempty',              'no',                 0 ],\n   [ 'strategy',                    'ringall',            0 ],\n   [ 'timeout',                     '15',                 0 ],\n   [ 'retry',                       '5',                  0 ],\n   [ 'wrapuptime',                  '0',                  0 ],\n   [ 'announce-frequency',          '60',                 0 ],\n   [ 'announce-holdtime',           'no',                 0 ],\n   [ 'announce-position',           'yes',                0 ],\n   [ 'queue-youarenext',            'queue-youarenext',   0 ],\n);\n</code></pre>\n"}], "owner": {"reputation": 6148, "user_id": 1383889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4Xk8P.jpg?s=128&g=1", "display_name": "Yasiru G", "link": "https://stackoverflow.com/users/1383889/yasiru-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 30449523, "answer_count": 2, "score": 1, "last_activity_date": 1432615988, "creation_date": 1432612670, "last_edit_date": 1432615948, "question_id": 30449216, "link": "https://stackoverflow.com/questions/30449216/perl-dbi-placeholders-other-than-s", "title": "Perl DBI placeholders other than ?s", "body": "<p>I'm trying to write prepare statement for insert SQL and it have many rows to insert at once. So current prepare statement is like below,</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare(\"INSERT INTO queues_details (id,keyword,data,flags) VALUES \n                             (?,'penaltymemberslimit','0','0'),\n                             (?,'answered_elsewhere','0','0'),\n                             (?,'timeoutpriority','app','0'),\n                             (?,'timeoutrestart','no','0'),\n                             (?,'memberdelay','0','0'),\n                             (?,'servicelevel','60','0'),\n                             (?,'reportholdtime','no','0'),\n                             (?,'ringinuse','yes','0'),\n                             (?,'weight','0','0'),\n                             (?,'autofill','no','0'),\n                             (?,'eventmemberstatus','no','0'),\n                             (?,'eventwhencalled','no','0'),\n                             (?,'monitor-join','yes','0'),\n                             (?,'monitor-format','','0'),\n                             (?,'periodic-announce-frequency','0','0'),\n                             (?,'queue-thankyou','queue-thankyou','0'),\n                             (?,'queue-callswaiting','queue-callswaiting','0'),\n                             (?,'queue-thereare','queue-thereare','0'),\n                             (?,'maxlen','0','0'),\n                             (?,'joinempty','yes','0'),\n                             (?,'leavewhenempty','no','0'),\n                             (?,'strategy','ringall','0'),\n                             (?,'timeout','15','0'),\n                             (?,'retry','5','0'),\n                             (?,'wrapuptime','0','0'),\n                             (?,'announce-frequency','60','0'),\n                             (?,'announce-holdtime','no','0'),\n                             (?,'announce-position','yes','0'),\n                             (?,'queue-youarenext','queue-youarenext','0');\");\n</code></pre>\n\n<p>Note that all the <code>?</code> values will be same id.</p>\n\n<p>This is complex to maintain and hard to add/remove rows from <code>prepare</code> and <code>execute</code>.\nIs there any kind of numbering method for these placeholders (?s) so I can easily find the rows I need to change.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["perl", "post", "cpanel"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432598031, "post_id": 30447317, "comment_id": 48976617, "body": "$cgi-&gt;postdata, IIRC. Read the docs"}, {"owner": {"reputation": 43, "user_id": 2635778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7b56405b9682467d002256fffe0a9e?s=128&d=identicon&r=PG", "display_name": "Simeon Mitev", "link": "https://stackoverflow.com/users/2635778/simeon-mitev"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432599399, "post_id": 30447317, "comment_id": 48976953, "body": "$cgi utilized the cgi perl library which is not available in the default perl modules set of the cPanel service. I know that this is an option, however I would like to stick to the default perl modules set."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432599483, "post_id": 30447317, "comment_id": 48976969, "body": "Huh? 1. CGI.pm comes with Perl. 2. Are you asking us to copy CGI.pm here?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432600177, "post_id": 30447317, "comment_id": 48977130, "body": "@SimeonMitev: What makes you think that <code>CGI</code> isn&#39;t part of <i>\u201cthe default perl modules set\u201d</i>? I see that you are calling it <code>cgi</code>, but if you <code>use cgi</code> in your program then it won&#39;t be found. It is spelled <code>CGI</code> and you need to <code>use CGI</code> for it to be found"}, {"owner": {"reputation": 43, "user_id": 2635778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7b56405b9682467d002256fffe0a9e?s=128&d=identicon&r=PG", "display_name": "Simeon Mitev", "link": "https://stackoverflow.com/users/2635778/simeon-mitev"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432600870, "post_id": 30447317, "comment_id": 48977281, "body": "Actually I think that I am seeing your point now, please excuse me @ikegami and thank you @Borodin!"}, {"owner": {"reputation": 43, "user_id": 2635778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7b56405b9682467d002256fffe0a9e?s=128&d=identicon&r=PG", "display_name": "Simeon Mitev", "link": "https://stackoverflow.com/users/2635778/simeon-mitev"}, "edited": false, "score": 0, "creation_date": 1432605049, "post_id": 30447317, "comment_id": 48978263, "body": "Thank you guys for opening my eyes! I have achieved what I was looking for!"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1432605012, "creation_date": 1432605012, "answer_id": 30448213, "question_id": 30447317, "link": "https://stackoverflow.com/questions/30447317/how-to-handle-post-request-to-perl-from-html/30448213#30448213", "title": "How to handle POST request to PERL from html", "body": "<p>All that you need to know is in <a href=\"https://datatracker.ietf.org/doc/rfc3875/\" rel=\"nofollow\"><strong><em>RFC3875</em></strong></a> \u2014 the specification for <em>The Common Gateway Interface Version 1.1</em></p>\n\n<p>Essentially, the CGI program is passed information about the incoming request message through both the environment variables and the <code>STDIN</code> input channel. If the CGI program is a Perl one then the environment variables can be accessed through the built-in hash <code>%ENV</code>, which will contain a fixed set of values such as <code>REQUEST_METHOD</code> (which will normally be <code>HEAD</code>, <code>GET</code>, or <code>POST</code>) or <code>CONTENT_LENGTH</code></p>\n\n<p>The body of the message is delivered to the CGI program via its STDIN channel, and the value of <code>CONTENT_LENGTH</code> indicates how many bytes should be read from the channel to fetch the complete message body</p>\n\n<p>In the case of a <code>POST</code> message that represents form input from the browser, <code>REQUEST_METHOD</code> will, obviouly, be <code>POST</code>; <code>CONTENT_TYPE</code> will be <code>application/x-www-form-urlencoded</code> (unless one of the form fields is a file upload); and <code>CONTENT_LENGTH</code> will hold the number of bytes of data in the request message body, which is the amount of data that the CGI program should read from <code>STDIN</code>. This should be done using <code>read STDIN</code> instead of the usual <code>&lt;STDIN&gt;</code> because the server may not put an EOF after the valid body data. Your code will look like</p>\n\n<pre><code>my $bytes_read = read STDIN, my $form_data, $ENV{CONTENT_LENGTH}\n</code></pre>\n\n<p>after which the form data will be saved in <code>$form_data</code> in the same format as the query portion of a <code>GET</code> URL (that's what the <code>urlencoded</code> part of the content type means)</p>\n\n<p>If you need to know any more about what the CGI environment provides and expects then take a look at the RFC that I have linked above. It's fairly straightforward to read</p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 2635778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7b56405b9682467d002256fffe0a9e?s=128&d=identicon&r=PG", "display_name": "Simeon Mitev", "link": "https://stackoverflow.com/users/2635778/simeon-mitev"}, "edited": false, "score": 0, "creation_date": 1433282893, "post_id": 30448476, "comment_id": 49282637, "body": "I have marked this answer as the correct one simply because this was exactly what I was looking for, however I would like to thank @Borodin for the detailed explanation of the STDIN approach. Unfortunately that approach does not suite my needs for simple check of 3 variables I am passing with Ajax request to perl script. The variables are then checked as suggested above with the following code:  my $q = new CGI;  my $combineCSS = $q-&gt;param(&#39;combineCSS&#39;); my $extendCache = $q-&gt;param(&#39;extendCache&#39;);  I would like to sincerely thank all of the people sparing some time for a newbie like me."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1432607200, "creation_date": 1432607200, "answer_id": 30448476, "question_id": 30447317, "link": "https://stackoverflow.com/questions/30447317/how-to-handle-post-request-to-perl-from-html/30448476#30448476", "title": "How to handle POST request to PERL from html", "body": "<pre><code>use CGI qw( );\nmy $cgi = CGI-&gt;new();\nmy $json = $cgi-&gt;param('POSTDATA');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 1824796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da06fdf47e2483bb09b3321bfca69887?s=128&d=identicon&r=PG", "display_name": "Pavel", "link": "https://stackoverflow.com/users/1824796/pavel"}, "is_accepted": false, "score": 1, "last_activity_date": 1432627235, "last_edit_date": 1495541246, "creation_date": 1432625700, "answer_id": 30452315, "question_id": 30447317, "link": "https://stackoverflow.com/questions/30447317/how-to-handle-post-request-to-perl-from-html/30452315#30452315", "title": "How to handle POST request to PERL from html", "body": "<p><a href=\"https://stackoverflow.com/a/30448213/1824796\">Borodin</a>'s answer says all. Basically, you don't need the CGI.pm <a href=\"https://youtu.be/jKOqtRMT85s\" rel=\"nofollow noreferrer\">overhead</a>:</p>\n\n<pre><code>#!/usr/bin/perl -T\nuse strict;\nuse warnings;\n\nmy %form;\nif ($ENV{REQUEST_METHOD} eq 'POST') {\n    read(STDIN, my $form_data, $ENV{CONTENT_LENGTH})\n      or die \"$!\\n\";\n\n    # URL decode\n    chomp($form_data);\n    $form_data =~ tr/+/ /;\n    $form_data =~ s/%([a-f0-9][a-f0-9])/chr(hex($1))/egi;\n\n    foreach (split /&amp;/, $form_data) {\n        # trim spaces\n        s/^\\s+|\\s+$//g;\n\n        # get the URL param\n        my($key, $value) = split(/=/, $_, 2);\n        $form{$key} = $value || '';\n    }\n}\n</code></pre>\n\n<p>a <strong>dichotomy</strong></p>\n\n<p><em>HTML</em> <code>&lt;input type=\"text\" name=\"email\" /&gt;</code></p>\n\n<p><em>CGI</em> <code>my $email = $form{email};</code></p>\n"}], "owner": {"reputation": 43, "user_id": 2635778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7b56405b9682467d002256fffe0a9e?s=128&d=identicon&r=PG", "display_name": "Simeon Mitev", "link": "https://stackoverflow.com/users/2635778/simeon-mitev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2480, "favorite_count": 2, "accepted_answer_id": 30448476, "answer_count": 3, "score": 0, "last_activity_date": 1432627235, "creation_date": 1432596913, "question_id": 30447317, "link": "https://stackoverflow.com/questions/30447317/how-to-handle-post-request-to-perl-from-html", "title": "How to handle POST request to PERL from html", "body": "<p>I am writing a small cPanel plugin which basically submit an html form to a perl file over ajax request to the perl file. </p>\n\n<p>The type of the request is POST as I need to send some data to the script. </p>\n\n<p><strong>My Question is how can I handle the POST data in perl?</strong></p>\n\n<p>Now, I have found few implementations with the CGI library, however I do not have that available as default cPanel perl module. Furthermore I have found few examples with the LWP library, however I am failing to understand those. Can someone give me any suggestion on this. </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["linux", "perl", "shell", "iptables", "tunnel"], "comments": [{"owner": {"reputation": 8263, "user_id": 32878, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e44c79ea155b0bca0a4027d9a38b11d0?s=128&d=identicon&r=PG", "display_name": "Jay Kominek", "link": "https://stackoverflow.com/users/32878/jay-kominek"}, "edited": false, "score": 1, "creation_date": 1432930968, "post_id": 30446693, "comment_id": 49150182, "body": "You might also be interested in the use of libnetfilter_queue / NFQUEUE. see <a href=\"https://home.regit.org/netfilter-en/using-nfqueue-and-libnetfilter_queue/\" rel=\"nofollow noreferrer\">home.regit.org/netfilter-en/&hellip;</a> for a brief discussion."}], "answers": [{"tags": [], "owner": {"reputation": 191202, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "is_accepted": true, "score": 3, "last_activity_date": 1432737038, "creation_date": 1432737038, "answer_id": 30485521, "question_id": 30446693, "link": "https://stackoverflow.com/questions/30446693/i-o-with-a-tun-interface/30485521#30485521", "title": "I/O with a Tun interface", "body": "<p>First, the TUN/TAP interface is documented <a href=\"https://www.kernel.org/doc/Documentation/networking/tuntap.txt\" rel=\"nofollow\">in the Linux kernel documentation</a>, which is worth a read if you haven't already seen it.  The examples are in C, of course, but hopefully still useful.</p>\n\n<blockquote>\n  <p>I see references to the second arguement being <code>TUNSETIFF</code>. All I know is that it has to be numeric. What is it asking for?</p>\n</blockquote>\n\n<p>This is a C library constant, the value of which you can determine with code like the following:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;sys/socket.h&gt;\n#include &lt;sys/ioctl.h&gt;\n#include &lt;linux/if.h&gt;\n#include &lt;linux/if_tun.h&gt;\n\nint main(int argc, char **argv) {\n  printf(\"TUNSETIFF: %d\\n\", TUNSETIFF);\n  return 0;\n}\n</code></pre>\n\n<p>Which on my system returns:</p>\n\n<pre><code>TUNSETIFF: 1074025674\n</code></pre>\n\n<blockquote>\n  <p>From what I've gathered, the third arguement is supposed to be flags of some sort, but I have not managed to find info on them. Presumably, one flag would be for selecting if it should be a Tun or Tap tunnel. Any info on this?</p>\n</blockquote>\n\n<p>The third argument is a pointer to a structure that has an\n<code>ifr_name</code> attribute, containing the device name, and an <code>ifr_flags</code>\nattribute containing the flags.  The kernel documentation provides the\nfollowing sample code:</p>\n\n<pre><code>  /* Flags: IFF_TUN   - TUN device (no Ethernet headers) \n   *        IFF_TAP   - TAP device  \n   *\n   *        IFF_NO_PI - Do not provide packet information  \n   */ \n  ifr.ifr_flags = IFF_TUN; \n  if( *dev )\n     strncpy(ifr.ifr_name, dev, IFNAMSIZ);\n\n  if( (err = ioctl(fd, TUNSETIFF, (void *) &amp;ifr)) &lt; 0 ){\n     close(fd);\n     return err;\n  }\n</code></pre>\n\n<p>You can find the values for the different flags (<code>IFF_TUN</code>, <code>IFF_TAP</code>)\nusing the same code from above that we used to find the value of\n<code>TUNSETIFF</code>.</p>\n\n<p>If you are writing code in Perl, you would need a way to create the\ncorresponding C-compatible structure.  My Perl is too rusty to suggest\nthe proper solution off the top of my head.</p>\n\n<p>However, there appear to be a number of Perl modules available that\nsimplify the whole process:</p>\n\n<ul>\n<li><a href=\"http://search.cpan.org/~mooli/Linux-TunTap-0.001/lib/Linux/TunTap.pm\" rel=\"nofollow\">http://search.cpan.org/~mooli/Linux-TunTap-0.001/lib/Linux/TunTap.pm</a></li>\n<li><a href=\"http://search.cpan.org/~gomor/Net-Libdnet/\" rel=\"nofollow\">http://search.cpan.org/~gomor/Net-Libdnet/</a></li>\n</ul>\n"}], "owner": {"reputation": 2705, "user_id": 1151171, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6g2ko.jpg?s=128&g=1", "display_name": "Jarmund", "link": "https://stackoverflow.com/users/1151171/jarmund"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1991, "favorite_count": 2, "accepted_answer_id": 30485521, "answer_count": 1, "score": 8, "last_activity_date": 1432938506, "creation_date": 1432592054, "last_edit_date": 1495535440, "question_id": 30446693, "link": "https://stackoverflow.com/questions/30446693/i-o-with-a-tun-interface", "title": "I/O with a Tun interface", "body": "<p>The intent is to have a program intercept a collection of IP packets and read its raw content and then reinsert it to the network after tinkering with it.</p>\n\n<p>My approach is based around setting up a Tuntap interface (Tun, to be specific), and then have iptables and similar redirect the desired packets to this tunnel interface.</p>\n\n<p>For testing purposes, I've written this short shell script that sets up the Tun interface and adds the required rules. For now, I intend to test this on any packet sent from my local machine with a destination of <code>123.123.123.123</code>. Here's the startup script:</p>\n\n<pre><code># Set up the tunnel\nip tuntap add dev maintun mode tun\nifconfig maintun inet 10.10.10.1 netmask 255.255.255.0 up\n\n# Mark packets for forwarding to tun\niptables -t mangle -A PREROUTING -d 123.123.123.123 -j MARK --set-mark 2\n\n# Apply ClientRouter table to mark 2 as it's defined in /etc/iproute2/rt_tables\n# 201 ClientRouter\nip rule add fwmark 2 table ClientRouter\n\n# Apply gw if to ClienRouter\nip route add default via 10.10.10.1 dev maintun table ClientRouter\n</code></pre>\n\n<p>I started writing a perl script to read from the Tun device, but I'm stuck on multiple points at once:</p>\n\n<ol>\n<li>It seems to me that the way to do this is to have the script itself create the interface by calling <code>ioctl()</code> on a filehandle to <code>/dev/net/tun</code>, but I'm unsure of the other arguements <code>ioctl()</code> wants. Which leads me to the next two points:</li>\n<li>I see references to the second arguement being <code>TUNSETIFF</code>. All I know is that it has to be numeric. What is it asking for?</li>\n<li>From what I've gathered, the third arguement is supposed to be flags of some sort, but I have not managed to find info on them. Presumably, one flag would be for selecting if it should be a Tun or Tap tunnel. Any info on this?</li>\n</ol>\n\n<p>As I'm stuck with the ioctl() flag, I would like to take a step back and ask: How does one programatically read from a Tun device, preferably a preconfigured one set up in advance?</p>\n\n<p>Also, if someone sees anything wrong with the startup-script, feel free to shout out.</p>\n\n<p>While ideally the sollution would be in perl, it doesn't have to be, it's just that that's the language that I can read the easiest. Java would also be decent. Unfortunately, my C literacy isn't even close to as good as it should be for this.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>If a different approach than Tun/Tap would allow me to do as described in the first paragraph, any suggestions would of course be welcome.</p>\n\n<hr>\n\n<p><strong>Note:</strong></p>\n\n<p>I came cross <a href=\"https://stackoverflow.com/questions/1003684/how-to-interface-with-the-linux-tun-driver\">this question</a> and while similar, it does not provide an answer to the ioctl() arguements. It was, however, what indicated the need for an <code>ioctl()</code> call.</p>\n"}, {"tags": ["perl", "matching"], "comments": [{"owner": {"reputation": 4937, "user_id": 1545014, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/d3a08ae3ab7ee246d592730f0dd2c923?s=128&d=identicon&r=PG", "display_name": "jcoppens", "link": "https://stackoverflow.com/users/1545014/jcoppens"}, "edited": false, "score": 1, "creation_date": 1432592208, "post_id": 30446644, "comment_id": 48975344, "body": "Try explaining what a match means for you..."}, {"owner": {"reputation": 21, "user_id": 1385055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74b08b8d706f8db587d2dae6020b0713?s=128&d=identicon&r=PG", "display_name": "user1385055", "link": "https://stackoverflow.com/users/1385055/user1385055"}, "reply_to_user": {"reputation": 4937, "user_id": 1545014, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/d3a08ae3ab7ee246d592730f0dd2c923?s=128&d=identicon&r=PG", "display_name": "jcoppens", "link": "https://stackoverflow.com/users/1545014/jcoppens"}, "edited": false, "score": 0, "creation_date": 1432593297, "post_id": 30446644, "comment_id": 48975599, "body": "Like the values of all the three columns of one file should be equal to the three columns of the second file and then it should print out the matching lines."}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 1, "creation_date": 1432613493, "post_id": 30446644, "comment_id": 48980151, "body": "Have you tried using a hash?"}, {"owner": {"reputation": 21, "user_id": 1385055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74b08b8d706f8db587d2dae6020b0713?s=128&d=identicon&r=PG", "display_name": "user1385055", "link": "https://stackoverflow.com/users/1385055/user1385055"}, "edited": false, "score": 0, "creation_date": 1432614726, "post_id": 30446644, "comment_id": 48980519, "body": "No.I am actually using perl after long time....m trying to refresh my memory.sorry."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1432628007, "creation_date": 1432628007, "answer_id": 30453046, "question_id": 30446644, "link": "https://stackoverflow.com/questions/30446644/matching-three-columns-of-one-file-with-three-columns-of-another-file-in-perl/30453046#30453046", "title": "Matching three columns of one file with three columns of another file in perl", "body": "<p>The solution to your problem here is read <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow\"><code>perldata</code></a> and have a look at the section on <code>hashes</code>. These are associative arrays, of key-value pairs. </p>\n\n<p>It makes the vast majority of your code redundant. </p>\n\n<pre><code>my %exists; \n\nwhile ( &lt;INFILE1&gt; ) {\n     my ( $chr, $firstnum, $secondnum) = split; \n     $exists{$chr}{$firstnum}{$secondnum}++; \n}\n\nwhile ( &lt;INFILE2&gt; ) {\n    my ( $chr, $mm, $thing, $firstnum, $secondnum ) = split;\n    print if $exists{$chr}{$firstnum}{$secondnum}; \n}\n</code></pre>\n\n<p>I would also suggest that you use 3 argument open with lexical file handles instead. </p>\n\n<p>e.g. : </p>\n\n<pre><code> open ( my $infile1_fh, \"&lt;\", $infile1 ) or die $!;\n</code></pre>\n\n<p>and then</p>\n\n<pre><code> while ( &lt;$infile1_fh&gt; ) {\n</code></pre>\n\n<p>Because then they're locally scoped rather than globals. </p>\n"}], "owner": {"reputation": 21, "user_id": 1385055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74b08b8d706f8db587d2dae6020b0713?s=128&d=identicon&r=PG", "display_name": "user1385055", "link": "https://stackoverflow.com/users/1385055/user1385055"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432628007, "creation_date": 1432591745, "last_edit_date": 1432595430, "question_id": 30446644, "link": "https://stackoverflow.com/questions/30446644/matching-three-columns-of-one-file-with-three-columns-of-another-file-in-perl", "title": "Matching three columns of one file with three columns of another file in perl", "body": "<p>I am trying to match 3 columns of one file( first three columns) with three columns 0,3,4 of second file. I am having problem with the code below:Please help me.Thanks.</p>\n\n<pre><code>#!usr/bin/perl\n  use strict;\n  use warnings;\n\n  my $infile1 = $ARGV[0];\n  my $infile2 = $ARGV[1];\n  my $outfile = $ARGV[2];\n\n  open (INFILE1,\"&lt;\", $infile1) || die \"Cannot open $infile1:$!\\n\";\n  open (INFILE2, \"&lt;\", $infile2) || die \"Cannot open $infile2:$!\\n\";\n  open (OUTFILE, \"&gt;\", $outfile) || die \"Cannot open $outfile:$!\\n\";\n\n  my @array1;\n  my @array2;\n  my @array3;\n  my @array4;\n  my $_;\n  while (&lt;INFILE1&gt;) {\n      chomp;\n      @array1 = split (' ', $_);\n      push (@array2, \"@array1\\n\");\n      #print \"@array2\\n\";\n  }\n  while (&lt;INFILE2&gt;) {\n      chomp;\n      @array3 = split (' ', $_);\n      push (@array4, \"@array3\\n\");\n      #print \"@array4\\n\";\n  }\n  #print \"@array2\\n\";\n  #print \"@array4\\n\";\n  foreach my $array2(@array2) {\n       my @line = split(/\\s+/,$array2);\n       my $chr1 = $line[0];\n       my $start1 = $line[1];\n       my $end1 = $line[2];\n       #print \"$line[0]\\n\";\n  foreach my $array4(@array4) {\n       my @values = split(/\\s+/, $array4);\n       my $chr2 = $values[0];\n       my $start2 = $values[3];\n       my $end2 = $values[4];\n      if (($chr1 eq $chr2) &amp;&amp; ($start1 eq $start2) &amp;&amp; ($end1 eq $end2)) {\n         #print  \"$start2\\n\";\n         print  \"$chr2\\t$start2\\t$end2\\n\";\n       }\n   }\n }\n</code></pre>\n\n<p>file1.txt few lines are as below:</p>\n\n<pre><code>chr10   40095550        40096075\nchr10   40102275        40102575\nchr10   40139575        40140100\n</code></pre>\n\n<p>file2.txt few lines are as below:</p>\n\n<pre><code>chr1    mm10_knownGene  exon    3205904 3207317 0.000000        -       .       gene_id \"uc007aet.1\"; transcript_id \"uc007aet.1\"; \nchr1    mm10_knownGene  exon    3213439 3215632 0.000000        -       .       gene_id \"uc007aet.1\"; transcript_id \"uc007aet.1\"; \nchr1    mm10_knownGene  stop_codon      3216022 3216024 0.000000        -       .       gene_id \"uc007aeu.1\"; transcript_id \"uc007aeu.1\"; \n</code></pre>\n"}, {"tags": ["perl", "oop", "object", "global"], "comments": [{"owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "edited": false, "score": 1, "creation_date": 1432622420, "post_id": 30446290, "comment_id": 48983584, "body": "Please do not write <code>new Classname</code>. In Perl, <code>new</code> is just the name of a method, not a keyword, and it can confuse the interpreter. Instead, use <code>Exception-&gt;new($message)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "edited": false, "score": 0, "creation_date": 1432591899, "post_id": 30446617, "comment_id": 48975253, "body": "Very interesting! I love the idea! It definitely centralizes it. I assume that there is no way to do just that in a means that allows me to use the syntax &quot;throw new someObj()&quot; by chance?  BTW, I was looking for how to do just this earlier. Perldocs is a bit vague sometimes."}, {"owner": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "edited": false, "score": 0, "creation_date": 1432592089, "post_id": 30446617, "comment_id": 48975304, "body": "Another note, I guess i&#39;ll add it above. My intention is to throw references to blessed exception objects. Hopefully in doing so I can store all kinds of useful information in them such as a stack trace. Thanks again!"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "edited": false, "score": 0, "creation_date": 1432592467, "post_id": 30446617, "comment_id": 48975407, "body": "@steve: <code>die</code> can throw exception objects."}, {"owner": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "edited": false, "score": 0, "creation_date": 1432592547, "post_id": 30446617, "comment_id": 48975423, "body": "I am aware. However, I do not like the syntax &quot;die new Exception()&quot; -- as stated above."}, {"owner": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "edited": false, "score": 0, "creation_date": 1432593056, "post_id": 30446617, "comment_id": 48975548, "body": "If there is no way to create an alias to a global perl function in global context, then this is the correct answer. Can you think of a way?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "edited": false, "score": 1, "creation_date": 1432593961, "post_id": 30446617, "comment_id": 48975789, "body": "The normal way would be to create a module <code>MyThrow</code> that exports <code>throw</code> and <code>use</code> it from other modules/scripts."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1432591589, "creation_date": 1432591589, "answer_id": 30446617, "question_id": 30446290, "link": "https://stackoverflow.com/questions/30446290/declaring-global-perl-subroutines-or-global-aliases/30446617#30446617", "title": "declaring global perl subroutines or global aliases", "body": "<p>You can add <code>throw</code> to the <code>UNIVERSAL</code> package (which isn't a good practice).</p>\n\n<p>Note that your <code>throw</code> ignores the message and displays just the class name.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\n{   package UNIVERSAL;\n\n    sub throw { die shift }\n}\n\n{   package MyClass;\n\n    sub new { bless {}, shift }\n}\n\nmy $c = 'MyClass'-&gt;new;\n$c-&gt;throw('Ouch!');\n</code></pre>\n\n<p>See <a href=\"http://p3rl.org/Try::Tiny\" rel=\"nofollow\">Try::Tiny</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "is_accepted": false, "score": 1, "last_activity_date": 1432623146, "creation_date": 1432623146, "answer_id": 30451429, "question_id": 30446290, "link": "https://stackoverflow.com/questions/30446290/declaring-global-perl-subroutines-or-global-aliases/30451429#30451429", "title": "declaring global perl subroutines or global aliases", "body": "<p>What about a paradigm such as this, which would solve both your issues at once?</p>\n\n<pre><code>package Exception;\n\nsub throw {\n  my $message = shift;\n  die Exception-&gt;new($message);\n}\n\nsub new {\n  # whatever\n}\n\n...\n</code></pre>\n\n<p>And then in any package you can use it thusly:</p>\n\n<pre><code>package SomeClass;\n\nsub do_something {\n  ...\n  if ($error) {\n    Exception-&gt;throw($message);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 30446617, "answer_count": 2, "score": 1, "last_activity_date": 1432626163, "creation_date": 1432589576, "last_edit_date": 1432626163, "question_id": 30446290, "link": "https://stackoverflow.com/questions/30446290/declaring-global-perl-subroutines-or-global-aliases", "title": "declaring global perl subroutines or global aliases", "body": "<p>my question is, HOPEFULLY simple.</p>\n\n<p>In Perl, how does one create a global scoped subroutine accessible to all objects thereafter?</p>\n\n<pre><code>sub throw\n{\n    die(shift);\n}\n</code></pre>\n\n<p>Seems to work in global scope, but is not accessible to packages afterwards. I would like to avoid doing something of the sort of declaring that in every object in my application stack.</p>\n\n<p>Side solution: How does one create an alias to a global keyword like die?</p>\n\n<p><strong>Please note: I do not really care if doing something like this is considered best practice. Although they perform the same function in Perl, die is not throw, and throw is not die. The following syntax does not follow the OOP principles that I am trying to follow:</strong></p>\n\n<pre><code>die new Exception($message);\n</code></pre>\n\n<p><strong>However logically similar, for the purpose of throwing exceptions, I would prefer the syntax of:</strong></p>\n\n<pre><code>throw new Exception($message);\n</code></pre>\n\n<p>Many thanks to the stackoverflow community!</p>\n"}, {"tags": ["perl", "tk"], "comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 1, "creation_date": 1432586615, "post_id": 30445361, "comment_id": 48973522, "body": "You can try and wrap the call to <code>start_timer</code> inside an anonymous sub like <code>-command =&gt; sub { start_timer( &#39;project1&#39; ) }</code>."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1432586701, "post_id": 30445361, "comment_id": 48973547, "body": "@dgw that&#39;s exactly what i was looking for, works like a charm, feel free to post as an answer and i will accept it."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1432587665, "post_id": 30445361, "comment_id": 48973904, "body": "Also seems the tk way is to use an array ref like <code>-command =&gt; [\\&amp;start_timer,&quot;project1&quot;]);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 62484, "user_id": 20745, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dc5d9e7efea07afc78d5408680438507?s=128&d=identicon&r=PG", "display_name": "friedo", "link": "https://stackoverflow.com/users/20745/friedo"}, "edited": false, "score": 2, "creation_date": 1432594517, "post_id": 30445994, "comment_id": 48975917, "body": "IMO it would be clearer (and more perlish) to write <code>-command =&gt; sub { start_timer( &quot;project2&quot;) } </code>"}], "tags": [], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "is_accepted": true, "score": 3, "last_activity_date": 1432587916, "creation_date": 1432587916, "answer_id": 30445994, "question_id": 30445361, "link": "https://stackoverflow.com/questions/30445361/can-i-store-subroutines-with-parameters-in-a-hash/30445994#30445994", "title": "Can i store subroutines with parameters in a hash?", "body": "<p>When using TK, the oreilly pocket guide says</p>\n\n<blockquote>\n  <p>Perl/Tk Callbacks A callback is a scalar, either a code reference or a\n  method name as a string. Either of these styles can take parameters by\n  passing an array reference, with the first element the code reference\n  or method name, and subsequent elements subroutine parameters.\n  \\&amp;subroutine [\\&amp;subroutine ?, args?] sub {...} [sub {...} ?, args?]\n  \u2019methodName\u2019 [\u2019methodName\u2019 ?, args?] Note that bind callbacks are\n  implicitly passed the bound widget reference as the first argument of\n  the parameter list. Refer to the section Bindings and Virtual Events\n  for related information.</p>\n</blockquote>\n\n<p>I tested this using the code below and it works as expected</p>\n\n<pre><code>#create buttons but dont pack them on the frame yet\nmy $info    = $mw-&gt;Button( -text =&gt; \"Good\",   -command =&gt; \\&amp;info_popup );\nmy $warning = $mw-&gt;Button( -text =&gt; \"Caution\", -command =&gt; \\&amp;warning_popup );\nmy $error   = $mw-&gt;Button( -text =&gt; \"Bad\",   -command =&gt; \\&amp;error_popup );\nmy $close   = $mw-&gt;Button( -text =&gt; \"Close\",   -command =&gt; \\&amp;close );\nmy $project1 = $mw-&gt;Button( -text =&gt; \"project1\", -command =&gt; [\\&amp;start_timer,\"project1\"]);\nmy $project2 = $mw-&gt;Button( -text =&gt; \"project2\", -command =&gt; [\\&amp;start_timer,\"project2\"]);\n\nsub start_timer {\n    my $project = shift;\n    print \"starting the timer for: $project\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 30445994, "answer_count": 1, "score": 2, "last_activity_date": 1432587916, "creation_date": 1432584501, "question_id": 30445361, "link": "https://stackoverflow.com/questions/30445361/can-i-store-subroutines-with-parameters-in-a-hash", "title": "Can i store subroutines with parameters in a hash?", "body": "<p>I am building a project in perl/tk that will allow timers to be started to track project work. I have ground to a halt with how to store the command for a button as subroutine but with a parameter. Since the subroutine with parameter is being executed then the result being stored as the command.</p>\n\n<p>How can i store a subroutine with parameter in a hash such that it will only be executed when the button is pressed.</p>\n\n<pre><code>#create buttons but dont pack them on the frame yet\nmy $info    = $mw-&gt;Button( -text =&gt; \"Good\",   -command =&gt; \\&amp;info_popup );\nmy $warning = $mw-&gt;Button( -text =&gt; \"Caution\", -command =&gt; \\&amp;warning_popup );\nmy $error   = $mw-&gt;Button( -text =&gt; \"Bad\",   -command =&gt; \\&amp;error_popup );\nmy $close   = $mw-&gt;Button( -text =&gt; \"Close\",   -command =&gt; \\&amp;close );\nmy $project1 = $mw-&gt;Button( -text =&gt; \"project1\", -command =&gt; \\&amp;start_timer(\"project1\"));\nmy $project2 = $mw-&gt;Button( -text =&gt; \"project2\", -command =&gt; \\&amp;start_timer(\"project2\"));\n\nsub start_timer {\n    my $project = shift;\n    print \"starting the timer for: $project\\n\";\n}\n</code></pre>\n\n<p>I suspect what i am attempting wont be possible so would apppreciate help on how to implement a solution that can fit this criteria that pressing a button will call subroutine with specific parameter for that button.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432584322, "post_id": 30445190, "comment_id": 48972614, "body": "We need to see the rest of your code"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1432607145, "post_id": 30445190, "comment_id": 48978724, "body": "If the range has 0 as its midpoint then you can use <code>abs</code> (as @Borodin points out) so it could be as short as <code>perl -anE &#39;say if abs $F[8] &lt;= 10 ;&#39; datafile.txt</code>."}], "answers": [{"comments": [{"owner": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "edited": false, "score": 0, "creation_date": 1432584582, "post_id": 30445250, "comment_id": 48972721, "body": "Hi Fugu, I might have been a little too broad with my description of what I need to do.  I&#39;d like to delete the entire line beginning with XP.sta1 (column 0) through column 8.  Then, all the lines following the line where the column 8 condition is true, just move those up."}, {"owner": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "edited": false, "score": 0, "creation_date": 1432584807, "post_id": 30445250, "comment_id": 48972804, "body": "Oh true!  I forgot about the next if operator.  I&#39;m going to implement that operator into my script to see if I can get my desired output.  Thanks for your help fugu."}, {"owner": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "edited": false, "score": 0, "creation_date": 1432587185, "post_id": 30445250, "comment_id": 48973730, "body": "Hi fugu, I tried to implement the next if statement; however, with my edited for loop above, if I used $tablec[9], it references the ninth line instead of the ninth column.  Any ideas on how to reference the ninth column instead of the ninth line?  Thanks."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "reply_to_user": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "edited": false, "score": 0, "creation_date": 1432587742, "post_id": 30445250, "comment_id": 48973932, "body": "@user78872  You should ask a new question, but at a first glance your loop is not doing what you think it is."}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": true, "score": 1, "last_activity_date": 1432584584, "last_edit_date": 1432584584, "creation_date": 1432583974, "answer_id": 30445250, "question_id": 30445190, "link": "https://stackoverflow.com/questions/30445190/remove-line-from-file-based-on-column-value-in-perl/30445250#30445250", "title": "Remove Line from File Based on Column Value in Perl", "body": "<p>I'd just skip the line:</p>\n\n<pre><code>use warnings;\nuse strict; \n\nwhile(&lt;DATA&gt;){\n    my @split = split;\n    next if $split[8] &gt; 10 or $split[8] &lt; -10;\n    print \"$_\\n\";\n}\n</code></pre>\n\n<hr>\n\n<pre><code> XP.sta2      3.5972    0.0500    0.7699    0.1213    0  E000.BHZ   300.5616     2.5545\n XP.sta3      3.7112    0.0267    0.7813    0.1457    0  E002.BHZ   300.6140     2.6160\n XP.sta4      4.2891    0.0214    0.6870    0.1308    0  E004.BHZ   301.2073     2.6006\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "edited": false, "score": 0, "creation_date": 1432599474, "post_id": 30445363, "comment_id": 48976968, "body": "@user78872: I&#39;ve seen it, but I&#39;m not clear what your point is"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1432584507, "creation_date": 1432584507, "answer_id": 30445363, "question_id": 30445190, "link": "https://stackoverflow.com/questions/30445190/remove-line-from-file-based-on-column-value-in-perl/30445363#30445363", "title": "Remove Line from File Based on Column Value in Perl", "body": "<p>You haven't shown enough of your code to diagnose the problem, but what you ask is very simply done like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile ( &lt;DATA&gt; ) {\n  print unless abs((split)[8]) &gt; 10;\n}\n\n__DATA__\n XP.sta1    -41.5166    0.0513    0.6842    0.1794    0  CPHI.BHZ   300.2458   -42.2436\n XP.sta2      3.5972    0.0500    0.7699    0.1213    0  E000.BHZ   300.5616     2.5545\n XP.sta3      3.7112    0.0267    0.7813    0.1457    0  E002.BHZ   300.6140     2.6160\n XP.sta4      4.2891    0.0214    0.6870    0.1308    0  E004.BHZ   301.2073     2.6006\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code> XP.sta2      3.5972    0.0500    0.7699    0.1213    0  E000.BHZ   300.5616     2.5545\n XP.sta3      3.7112    0.0267    0.7813    0.1457    0  E002.BHZ   300.6140     2.6160\n XP.sta4      4.2891    0.0214    0.6870    0.1308    0  E004.BHZ   301.2073     2.6006\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1432649748, "creation_date": 1432649748, "answer_id": 30461147, "question_id": 30445190, "link": "https://stackoverflow.com/questions/30445190/remove-line-from-file-based-on-column-value-in-perl/30461147#30461147", "title": "Remove Line from File Based on Column Value in Perl", "body": "<p>I thought your question had been answered, buit here's something that should help you with the contents of your edit</p>\n\n<p>Some points on your code</p>\n\n<ul>\n<li><p>Identifiers for lexical variables should contain only lower-case letters,  decimal digits, and underscore. Capital letters are reserved for global variables such as constants and package names</p></li>\n<li><p>You should use <em>lexical file handles</em> with the <em>three-parameter</em> form of <code>open</code></p></li>\n<li><p>You should always verify that an <code>open</code> succeeded. In the case of a failure your program should <code>die</code> and include the value of <code>$!</code> in the die string to reveal <em>why</em> the operation failed</p>\n\n<p>Together, those points mean that</p>\n\n<pre><code>open(TABLEC, $File);\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>open my $tablec_fh, '&lt;', $File or die qq{Unable to open \"$File\" for input: $!};\n</code></pre></li>\n<li><p>You can <code>chomp</code> an entire array at once with <code>chomp @tablec</code></p></li>\n<li><p>You should avoid the C-style <code>for</code> loop as it is rarely a good choice. Perl allows you to iterate over a range, and you should make use of that. So</p>\n\n<pre><code>for ($j = 2; $j &lt; $stop; $j++) { ... }\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>for my $j ( 2 .. $stop-1 ) { ... }\n</code></pre></li>\n<li><p><code>split /\\s+/</code> should almost always be <code>split ' '</code>. The latter is a special case for the operator, which prevents it from returning an initial empty field if the parameter string has leading spaces. If you call <code>split</code> without any parameters then it defaults to <code>split ' ', $_</code></p></li>\n</ul>\n\n<p>Here's a rewrite of your sample code that takes these points into account. I hope it's a better fit than my previous answer</p>\n\n<pre><code>open my $tablec_fh, '&lt;', $File or die qq{Unable to open \"$File\" for input: $!};\nmy @tablec = &lt;$tablec_fh&gt;;\nchomp @tablec;\nclose $tablec_fh;\n\nfor my $i ( 2 .. $stop-1 ) {\n  my $row = $tablec[$i];\n  my ($net_sta, $delay_time) = (split ' ', $row)[0,8];\n  next unless abs($delay_time) &lt;= 10;\n\n  # Do stuff with $row\n} \n</code></pre>\n"}], "owner": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 714, "favorite_count": 0, "accepted_answer_id": 30445250, "answer_count": 3, "score": 0, "last_activity_date": 1432649748, "creation_date": 1432583673, "last_edit_date": 1432585891, "question_id": 30445190, "link": "https://stackoverflow.com/questions/30445190/remove-line-from-file-based-on-column-value-in-perl", "title": "Remove Line from File Based on Column Value in Perl", "body": "<p>I wish to loop through multiple files, and their respective lines in the file.  I have done is successfully already.  Want I want to do now is remove lines in a file based on a numeric value in one of the columns.  </p>\n\n<p>If I have an input such as this:</p>\n\n<pre><code> XP.sta1    -41.5166    0.0513    0.6842    0.1794    0  CPHI.BHZ   300.2458   -42.2436\n XP.sta2      3.5972    0.0500    0.7699    0.1213    0  E000.BHZ   300.5616     2.5545\n XP.sta3      3.7112    0.0267    0.7813    0.1457    0  E002.BHZ   300.6140     2.6160\n XP.sta4      4.2891    0.0214    0.6870    0.1308    0  E004.BHZ   301.2073     2.6006\n</code></pre>\n\n<p>where the ninth column is the column I wish to look at.  I need to remove that value in column 9 (let's assign it a variable $time), in that if that $time is > 10 or less than -10, remove the entire line.  Thus far I have tried this:</p>\n\n<pre><code>unless (($time &lt; -10) || ($time &gt; 10) {     \nprint OUT2 ($stlat,\"  \",$stlon,\"  \",$eqlat,\"  \",$eqlong,\"  \",$eqdepth,\"  \",$time,\"\\n\");\n}}\n</code></pre>\n\n<p>However I get the following output:</p>\n\n<pre><code> XP.sta1    -41.5166    0.0513    0.6842    0.1794    0  CPHI.BHZ   300.2458   2.5545\n XP.sta2      3.5972    0.0500    0.7699    0.1213    0  E000.BHZ   300.5616    2.6160\n XP.sta3      3.7112    0.0267    0.7813    0.1457    0  E002.BHZ   300.6140     2.6006\n XP.sta4      4.2891    0.0214    0.6870    0.1308    0  E004.BHZ   301.2073 \n</code></pre>\n\n<p>As you can see, the entire line isn't deleted -- just the value that meets the true 'unless' condition, and then the other values move up in the 9th column.  How do I delete the entire line, rather than just the ninth column number?   </p>\n\n<p>Here's where I wish to edit my script:</p>\n\n<pre><code>open(TABLEC,$File);\n    @tablec = &lt;TABLEC&gt;;\n    for ($j = 2; $j &lt; $stop; $j++) {\n       chomp ($tablec[$j]);\n       ($netSta,$delayTime) = (split /\\s+/,$tablec[$j])[1,9] ;  \n        } \n</code></pre>\n\n<p>In this for loop, I'm looping through each file, reading in the lines from 2 to 'stop', and chopming the return character.  I set the 9th column to the delay time variable.  So I'm looping through each line, but I don't want to print anything yet (that comes later in my script).  I would just like to remove that entire line, so that later on in my script when I have to print the lines, the line where the 9th column values is >abs(10) does not exist.</p>\n"}, {"tags": ["perl", "configuration", "centos6", "cpan"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1432566401, "post_id": 30441210, "comment_id": 48964721, "body": "Are you behind a proxy?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1432566703, "post_id": 30441210, "comment_id": 48964833, "body": "You have to configure the proxy. In CPAN shell, use <code>o conf http_proxy</code>."}, {"owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1432568309, "post_id": 30441210, "comment_id": 48965605, "body": "@choroba, You are GREAT! ... it works finally! Thank you! ... Could you please add it as an answer so that I may mark it up and as solution for your points and for later devs who have same issue  ?"}], "answers": [{"tags": [], "owner": {"reputation": 175, "user_id": 4928701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XIO2n.jpg?s=128&g=1", "display_name": "sadnix", "link": "https://stackoverflow.com/users/4928701/sadnix"}, "is_accepted": false, "score": -1, "last_activity_date": 1432568504, "creation_date": 1432568504, "answer_id": 30441754, "question_id": 30441210, "link": "https://stackoverflow.com/questions/30441210/all-cpan-mirrors-are-not-working-in-cpan-configuration/30441754#30441754", "title": "All CPAN mirrors are not working in CPAN configuration?", "body": "<p>run cpan shell first:</p>\n\n<pre><code>$ sudo perl -MCPAN -eshell\n</code></pre>\n\n<p>or from root:</p>\n\n<pre><code># perl -MCPAN -eshell\n</code></pre>\n\n<p>then from the cpan shell:</p>\n\n<pre><code>cpan&gt; install Bundle::CPAN\n</code></pre>\n\n<p>exit from cpan shell and build modules list (maybe need root):</p>\n\n<pre><code>$ perl -MCPAN -eautobundle\n</code></pre>\n\n<p>and then install needed modules, for example:</p>\n\n<pre><code># perl -MCPAN -eshell\ncpan&gt; notest install Text::Iconv DateTime\n</code></pre>\n\n<p>modules will be installed to /usr/lib64/perl*/ for x86_64 system.</p>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 8, "last_activity_date": 1432569805, "creation_date": 1432569805, "answer_id": 30442075, "question_id": 30441210, "link": "https://stackoverflow.com/questions/30441210/all-cpan-mirrors-are-not-working-in-cpan-configuration/30442075#30442075", "title": "All CPAN mirrors are not working in CPAN configuration?", "body": "<p>You seem to be behind a proxy. You have to configure the proxy in CPAN shell:</p>\n\n<pre><code>o conf http_proxy 'http://user:password@proxy.com'\n</code></pre>\n"}], "owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6910, "favorite_count": 0, "accepted_answer_id": 30442075, "answer_count": 2, "score": 2, "last_activity_date": 1432569805, "creation_date": 1432566299, "last_edit_date": 1432566402, "question_id": 30441210, "link": "https://stackoverflow.com/questions/30441210/all-cpan-mirrors-are-not-working-in-cpan-configuration", "title": "All CPAN mirrors are not working in CPAN configuration?", "body": "<p>I am trying to install CPAN and configure it on Centos 6.</p>\n\n<p>I am getting this message in configuration:</p>\n\n<blockquote>\n  <p>CPAN.pm requires configuration, but most of it can be done\n  automatically. If you answer 'no' below, you will enter an interactive\n  dialog for each configuration option instead. Would you like to\n  configure as much as possible automatically? [yes]</p>\n</blockquote>\n\n<p>I chose yes, then I am prompted with this message:</p>\n\n<blockquote>\n  <p>Autoconfigured everything but 'urllist'.\n  Now you need to choose your\n  CPAN mirror sites.  You can let me pick mirrors for you, you can\n  select them from a list or you can enter them by hand. Would you like\n  me to automatically choose some CPAN mirror sites for you? (This means\n  connecting to the Internet) [yes]</p>\n</blockquote>\n\n<p>I also chose yes to get that message:</p>\n\n<blockquote>\n  <p>Trying to fetch a mirror list from the Internet Fetching with LWP:\n  <a href=\"http://www.perl.org/CPAN/MIRRORED.BY\" rel=\"nofollow\">http://www.perl.org/CPAN/MIRRORED.BY</a> Fetching with LWP:\n  <a href=\"http://www.perl.org/CPAN/MIRRORED.BY.gz\" rel=\"nofollow\">http://www.perl.org/CPAN/MIRRORED.BY.gz</a> Fetching with LWP:\n  <a href=\"ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY\" rel=\"nofollow\">ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY</a> Fetching with LWP:\n  <a href=\"ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY.gz\" rel=\"nofollow\">ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY.gz</a> Fetching with Net::FTP:\n  <a href=\"ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY\" rel=\"nofollow\">ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY</a>   Could not connect to host\n  'ftp.perl.org' with Net::FTP Fetching with Net::FTP\n  <a href=\"ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY.gz\" rel=\"nofollow\">ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY.gz</a>   Could not connect to host\n  'ftp.perl.org' with Net::FTP</p>\n  \n  <p>Trying with\n      /usr/bin/wget -O \"/home/abashir/.cpan/sources/MIRRORED.BY.tmp33459\" to get\n      <a href=\"http://www.perl.org/CPAN/MIRRORED.BY\" rel=\"nofollow\">http://www.perl.org/CPAN/MIRRORED.BY</a>\n  --2015-05-25 16:39:15--  <a href=\"http://www.perl.org/CPAN/MIRRORED.BY\" rel=\"nofollow\">http://www.perl.org/CPAN/MIRRORED.BY</a> Resolving www.perl.org... 108.161.188.196 Connecting to\n  www.perl.org|108.161.188.196|:80... failed: No route to host.</p>\n\n<pre><code>Function system(\"/usr/bin/wget -O \"/home/abashir/.cpan/sources/MIRRORED.BY.tmp33459\"\n</code></pre>\n  \n  <p>\"<a href=\"http://www.perl.org/CPAN/MIRRORED.BY\" rel=\"nofollow\">http://www.perl.org/CPAN/MIRRORED.BY</a>\" \")\n      returned status 4 (wstat 1024), left /home/abashir/.cpan/sources/MIRRORED.BY.tmp33459 with size 0</p>\n  \n  <p>Trying with\n      /usr/bin/wget -O \"/home/abashir/.cpan/sources/MIRRORED.BY.tmp33459\" to get\n      <a href=\"ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY\" rel=\"nofollow\">ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY</a>\n  --2015-05-25 16:39:15--  <a href=\"ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY\" rel=\"nofollow\">ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY</a>\n             => \u201c/home/abashir/.cpan/sources/MIRRORED.BY.tmp33459\u201d Resolving ftp.perl.org... 130.161.131.20, 131.211.32.146 Connecting to\n  ftp.perl.org|130.161.131.20|:21... failed: No route to host.\n  Connecting to ftp.perl.org|131.211.32.146|:21... failed: No route to\n  host.</p>\n\n<pre><code>Function system(\"/usr/bin/wget -O \"/home/abashir/.cpan/sources/MIRRORED.BY.tmp33459\"\n</code></pre>\n  \n  <p>\"<a href=\"ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY\" rel=\"nofollow\">ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY</a>\" \")\n      returned status 4 (wstat 1024), left /home/abashir/.cpan/sources/MIRRORED.BY.tmp33459 with size 0\n      Warning: no success downloading '/home/abashir/.cpan/sources/MIRRORED.BY.tmp33459'. Giving up on it.\n  No external ftp command available</p>\n  \n  <p>Fetching with LWP: <a href=\"http://www.perl.org/CPAN/MIRRORED.BY\" rel=\"nofollow\">http://www.perl.org/CPAN/MIRRORED.BY</a> Fetching with\n  LWP: <a href=\"http://www.perl.org/CPAN/MIRRORED.BY.gz\" rel=\"nofollow\">http://www.perl.org/CPAN/MIRRORED.BY.gz</a></p>\n  \n  <p>Trying with\n      /usr/bin/wget -O \"/home/abashir/.cpan/sources/MIRRORED.BY.tmp33459\" to get\n      <a href=\"http://www.perl.org/CPAN/MIRRORED.BY\" rel=\"nofollow\">http://www.perl.org/CPAN/MIRRORED.BY</a>\n  --2015-05-25 16:39:15--  <a href=\"http://www.perl.org/CPAN/MIRRORED.BY\" rel=\"nofollow\">http://www.perl.org/CPAN/MIRRORED.BY</a> Resolving www.perl.org... 108.161.188.196 Connecting to\n  www.perl.org|108.161.188.196|:80... failed: No route to host.</p>\n\n<pre><code>Function system(\"/usr/bin/wget -O \"/home/abashir/.cpan/sources/MIRRORED.BY.tmp33459\"\n</code></pre>\n  \n  <p>\"<a href=\"http://www.perl.org/CPAN/MIRRORED.BY\" rel=\"nofollow\">http://www.perl.org/CPAN/MIRRORED.BY</a>\" \")\n      returned status 4 (wstat 1024), left /home/abashir/.cpan/sources/MIRRORED.BY.tmp33459 with size 0\n      Warning: no success downloading '/home/abashir/.cpan/sources/MIRRORED.BY.tmp33459'. Giving up on it.\n  Fetching with LWP: <a href=\"ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY\" rel=\"nofollow\">ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY</a> Fetching\n  with LWP: <a href=\"ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY.gz\" rel=\"nofollow\">ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY.gz</a> Fetching with\n  Net::FTP: <a href=\"ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY\" rel=\"nofollow\">ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY</a>   Could not connect\n  to host 'ftp.perl.org' with Net::FTP Fetching with Net::FTP\n  <a href=\"ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY.gz\" rel=\"nofollow\">ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY.gz</a>   Could not connect to host\n  'ftp.perl.org' with Net::FTP</p>\n  \n  <p>Trying with\n      /usr/bin/wget -O \"/home/abashir/.cpan/sources/MIRRORED.BY.tmp33459\" to get\n      <a href=\"ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY\" rel=\"nofollow\">ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY</a>\n  --2015-05-25 16:39:17--  <a href=\"ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY\" rel=\"nofollow\">ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY</a>\n             => \u201c/home/abashir/.cpan/sources/MIRRORED.BY.tmp33459\u201d Resolving ftp.perl.org... 131.211.32.146, 130.161.131.20 Connecting to\n  ftp.perl.org|131.211.32.146|:21... failed: No route to host.\n  Connecting to ftp.perl.org|130.161.131.20|:21... failed: No route to\n  host.</p>\n\n<pre><code>Function system(\"/usr/bin/wget -O \"/home/abashir/.cpan/sources/MIRRORED.BY.tmp33459\"\n</code></pre>\n  \n  <p>\"<a href=\"ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY\" rel=\"nofollow\">ftp://ftp.perl.org/pub/CPAN/MIRRORED.BY</a>\" \")\n      returned status 4 (wstat 1024), left /home/abashir/.cpan/sources/MIRRORED.BY.tmp33459 with size 0\n      Warning: no success downloading '/home/abashir/.cpan/sources/MIRRORED.BY.tmp33459'. Giving up on it.\n  No external ftp command available</p>\n  \n  <p>Your urllist is empty! The urllist can be edited. E.g. with 'o conf\n  urllist push <a href=\"ftp://myurl/\" rel=\"nofollow\">ftp://myurl/</a>'</p>\n  \n  <p>Could not fetch MIRRORED.BY We failed to get a copy of the mirror list\n  from the Internet. You will need to provide CPAN mirror URLs yourself.</p>\n  \n  <p>Now you can enter your own CPAN URLs by hand. A local CPAN mirror can\n  be listed using a 'file:' URL like 'file:///path/to/cpan/'</p>\n  \n  <p>CPAN.pm needs at least one URL where it can fetch CPAN files from.</p>\n  \n  <p>Please enter your CPAN site: []</p>\n</blockquote>\n\n<p>Then I checked the list of mirrors to in <a href=\"https://metacpan.org/pod/perlmodlib\" rel=\"nofollow\">perlmodlib</a> for netherlands(where I live), and I entered them one by one, and configuration was terminated as follows.</p>\n\n<blockquote>\n  <p>Please enter your CPAN site: [] <a href=\"ftp://ftp.quicknet.nl/pub/CPAN/\" rel=\"nofollow\">ftp://ftp.quicknet.nl/pub/CPAN/</a> Enter\n  another URL or ENTER to quit: [] <a href=\"http://mirror.hostfuss.com/CPAN/\" rel=\"nofollow\">http://mirror.hostfuss.com/CPAN/</a>\n  Enter another URL or ENTER to quit: [] <a href=\"ftp://mirror.hostfuss.com/CPAN/\" rel=\"nofollow\">ftp://mirror.hostfuss.com/CPAN/</a>\n  Enter another URL or ENTER to quit: []\n  <a href=\"http://mirrors3.kernel.org/cpan/\" rel=\"nofollow\">http://mirrors3.kernel.org/cpan/</a> Enter another URL or ENTER to quit:\n  [] <a href=\"ftp://mirrors3.kernel.org/pub/CPAN/\" rel=\"nofollow\">ftp://mirrors3.kernel.org/pub/CPAN/</a> Enter another URL or ENTER to\n  quit: [] <a href=\"http://cpan.mirror.versatel.nl/\" rel=\"nofollow\">http://cpan.mirror.versatel.nl/</a> Enter another URL or ENTER to\n  quit: [] <a href=\"ftp://ftp.mirror.versatel.nl/cpan/\" rel=\"nofollow\">ftp://ftp.mirror.versatel.nl/cpan/</a> Enter another URL or ENTER\n  to quit: [] <a href=\"ftp://download.xs4all.nl/pub/mirror/CPAN/\" rel=\"nofollow\">ftp://download.xs4all.nl/pub/mirror/CPAN/</a> Enter another\n  URL or ENTER to quit: [] <a href=\"http://mirror.leaseweb.com/CPAN/\" rel=\"nofollow\">http://mirror.leaseweb.com/CPAN/</a> Enter\n  another URL or ENTER to quit: [] <a href=\"ftp://mirror.leaseweb.com/CPAN/\" rel=\"nofollow\">ftp://mirror.leaseweb.com/CPAN/</a> Enter\n  another URL or ENTER to quit: [] <a href=\"ftp://ftp.cpan.nl/pub/CPAN/\" rel=\"nofollow\">ftp://ftp.cpan.nl/pub/CPAN/</a> Enter\n  another URL or ENTER to quit: [] <a href=\"http://archive.cs.uu.nl/mirror/CPAN/\" rel=\"nofollow\">http://archive.cs.uu.nl/mirror/CPAN/</a>\n  Enter another URL or ENTER to quit: [] <a href=\"ftp://ftp.cs.uu.nl/mirror/CPAN/\" rel=\"nofollow\">ftp://ftp.cs.uu.nl/mirror/CPAN/</a>\n  Enter another URL or ENTER to quit: [] <a href=\"http://luxitude.net/cpan/\" rel=\"nofollow\">http://luxitude.net/cpan/</a> Enter\n  another URL or ENTER to quit: [] </p>\n  \n  <p>New urllist<br>\n  <a href=\"ftp://ftp.quicknet.nl/pub/CPAN/\" rel=\"nofollow\">ftp://ftp.quicknet.nl/pub/CPAN/</a>   <a href=\"http://mirror.hostfuss.com/CPAN/\" rel=\"nofollow\">http://mirror.hostfuss.com/CPAN/</a><br>\n  <a href=\"ftp://mirror.hostfuss.com/CPAN/\" rel=\"nofollow\">ftp://mirror.hostfuss.com/CPAN/</a>   <a href=\"http://mirrors3.kernel.org/cpan/\" rel=\"nofollow\">http://mirrors3.kernel.org/cpan/</a><br>\n  <a href=\"ftp://mirrors3.kernel.org/pub/CPAN/\" rel=\"nofollow\">ftp://mirrors3.kernel.org/pub/CPAN/</a>   <a href=\"http://cpan.mirror.versatel.nl/\" rel=\"nofollow\">http://cpan.mirror.versatel.nl/</a> \n  <a href=\"ftp://ftp.mirror.versatel.nl/cpan/\" rel=\"nofollow\">ftp://ftp.mirror.versatel.nl/cpan/</a><br>\n  <a href=\"ftp://download.xs4all.nl/pub/mirror/CPAN/\" rel=\"nofollow\">ftp://download.xs4all.nl/pub/mirror/CPAN/</a><br>\n  <a href=\"http://mirror.leaseweb.com/CPAN/\" rel=\"nofollow\">http://mirror.leaseweb.com/CPAN/</a>   <a href=\"ftp://mirror.leaseweb.com/CPAN/\" rel=\"nofollow\">ftp://mirror.leaseweb.com/CPAN/</a><br>\n  <a href=\"ftp://ftp.cpan.nl/pub/CPAN/\" rel=\"nofollow\">ftp://ftp.cpan.nl/pub/CPAN/</a>   <a href=\"http://archive.cs.uu.nl/mirror/CPAN/\" rel=\"nofollow\">http://archive.cs.uu.nl/mirror/CPAN/</a><br>\n  <a href=\"ftp://ftp.cs.uu.nl/mirror/CPAN/\" rel=\"nofollow\">ftp://ftp.cs.uu.nl/mirror/CPAN/</a>   <a href=\"http://luxitude.net/cpan/\" rel=\"nofollow\">http://luxitude.net/cpan/</a></p>\n  \n  <p>Autoconfiguration complete.</p>\n  \n  <p>commit: wrote '/home/abashir/.cpan/CPAN/MyConfig.pm'</p>\n  \n  <p>You can re-run configuration any time with 'o conf init' in the CPAN\n  shell</p>\n</blockquote>\n\n<p>Now, whenever I try to install any module, i get errors, for example trying to install <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow\">XML::Simple</a>, I get the following at the end of trials:</p>\n\n<blockquote>\n  <p>Please check, if the URLs I found in your configuration file\n  (<a href=\"ftp://ftp.quicknet.nl/pub/CPAN/\" rel=\"nofollow\">ftp://ftp.quicknet.nl/pub/CPAN/</a>, <a href=\"http://mirror.hostfuss.com/CPAN/\" rel=\"nofollow\">http://mirror.hostfuss.com/CPAN/</a>,\n  <a href=\"ftp://mirror.hostfuss.com/CPAN/\" rel=\"nofollow\">ftp://mirror.hostfuss.com/CPAN/</a>, <a href=\"http://mirrors3.kernel.org/cpan/\" rel=\"nofollow\">http://mirrors3.kernel.org/cpan/</a>,\n  <a href=\"ftp://mirrors3.kernel.org/pub/CPAN/\" rel=\"nofollow\">ftp://mirrors3.kernel.org/pub/CPAN/</a>, <a href=\"http://cpan.mirror.versatel.nl/\" rel=\"nofollow\">http://cpan.mirror.versatel.nl/</a>,\n  <a href=\"ftp://ftp.mirror.versatel.nl/cpan/\" rel=\"nofollow\">ftp://ftp.mirror.versatel.nl/cpan/</a>,\n  <a href=\"ftp://download.xs4all.nl/pub/mirror/CPAN/\" rel=\"nofollow\">ftp://download.xs4all.nl/pub/mirror/CPAN/</a>,\n  <a href=\"http://mirror.leaseweb.com/CPAN/\" rel=\"nofollow\">http://mirror.leaseweb.com/CPAN/</a>, <a href=\"ftp://mirror.leaseweb.com/CPAN/\" rel=\"nofollow\">ftp://mirror.leaseweb.com/CPAN/</a>,\n  <a href=\"ftp://ftp.cpan.nl/pub/CPAN/\" rel=\"nofollow\">ftp://ftp.cpan.nl/pub/CPAN/</a>, <a href=\"http://archive.cs.uu.nl/mirror/CPAN/\" rel=\"nofollow\">http://archive.cs.uu.nl/mirror/CPAN/</a>,\n  <a href=\"ftp://ftp.cs.uu.nl/mirror/CPAN/\" rel=\"nofollow\">ftp://ftp.cs.uu.nl/mirror/CPAN/</a>, <a href=\"http://luxitude.net/cpan/\" rel=\"nofollow\">http://luxitude.net/cpan/</a>) are valid.\n  The urllist can be edited. E.g. with 'o conf urllist push\n  <a href=\"ftp://myurl/\" rel=\"nofollow\">ftp://myurl/</a>'</p>\n  \n  <p>Could not fetch authors/01mailrc.txt.gz Lockfile removed.</p>\n</blockquote>\n\n<p>You can check the <a href=\"http://jpst.it/z6FP\" rel=\"nofollow\">Full log</a> of the final step <a href=\"http://jpst.it/z6FP\" rel=\"nofollow\">here</a></p>\n\n<p><strong>How may I solve this ?</strong></p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1432563897, "post_id": 30440496, "comment_id": 48963511, "body": "it&#39;s obvious you never tried to read about pcre."}], "answers": [{"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": true, "score": 5, "last_activity_date": 1432563891, "creation_date": 1432563891, "answer_id": 30440550, "question_id": 30440496, "link": "https://stackoverflow.com/questions/30440496/regex-to-match-last-character-of-a-string/30440550#30440550", "title": "Regex to match last character of a string", "body": "<p>The <code>$</code> matches the end of the string:</p>\n\n<pre><code>my $test = \"mama\";\n\nprint \"Terminal 'a' in $test\\n\" if $test =~ /a$/;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1432594017, "creation_date": 1432594017, "answer_id": 30446965, "question_id": 30440496, "link": "https://stackoverflow.com/questions/30440496/regex-to-match-last-character-of-a-string/30446965#30446965", "title": "Regex to match last character of a string", "body": "<p>In Perl, <a href=\"https://metacpan.org/pod/perlreref#ANCHORS\" rel=\"nofollow\"><code>$</code> does not necessarily match the end of the string</a>:</p>\n\n<blockquote>\n<pre>^  Match string start (or line, if /m is used)\n$  Match string end (or line, if /m is used) or before newline\n\\b Match word boundary (between \\w and \\W)\n\\B Match except at word boundary (between \\w and \\w or \\W and \\W)\n\\A Match string start (regardless of /m)\n\\Z Match string end (before optional newline)\n\\z Match absolute string end\n\\G Match where previous m//g left off\n\\K Keep the stuff left of the \\K, don't include it in $&</pre>\n</blockquote>\n\n<p>Therefore, to check if the last character of <code>$s</code> really is <code>'a'</code>, you <em>must</em> use:</p>\n\n<pre><code>if ($s =~ /a\\z/) { ...\n</code></pre>\n\n<p>because</p>\n\n<pre>$ perl -E 'say \"yes\" if \"a\\n\" =~ /a$/'\nyes</pre>\n"}], "owner": {"reputation": 251, "user_id": 4454952, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/06b5b99d23cc74962544e91326ab1335?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/4454952/mateusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10805, "favorite_count": 0, "accepted_answer_id": 30440550, "answer_count": 2, "score": -1, "last_activity_date": 1432594017, "creation_date": 1432563692, "last_edit_date": 1432582017, "question_id": 30440496, "link": "https://stackoverflow.com/questions/30440496/regex-to-match-last-character-of-a-string", "title": "Regex to match last character of a string", "body": "<p>So I have little problem, I need to check in perl if last character in string is \"a\". I know, that I can do it in this way:</p>\n\n<pre><code>$test = \"mama\";\n$test2 = substr $test, -1\n</code></pre>\n\n<p>And now just check if $test2 not equal \"a\". But how can I do this with regex?</p>\n"}, {"tags": ["windows", "perl", "shell", "disk-partitioning"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432564282, "post_id": 30438283, "comment_id": 48963716, "body": "That&#39;s exactly what I would write. But the OP was asking for a more <i>efficient</i> way, and I think creating an input file \u2014 as he was doing \u2014 is probably the most efficient technique"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432575440, "post_id": 30438283, "comment_id": 48968773, "body": "Actually he calls system in the loop for every single line of the input."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 3, "last_activity_date": 1432556487, "creation_date": 1432556487, "answer_id": 30438283, "question_id": 30438072, "link": "https://stackoverflow.com/questions/30438072/better-way-to-execute-diskpart-commands-in-loop-in-any-language/30438283#30438283", "title": "Better way to execute diskpart commands in loop, in any language?", "body": "<p>You can pipe commands on <code>diskpart.exe</code> standard input,</p>\n\n<pre><code>use strict;\nuse warnings;\nuse autodie;\n\nopen my $p, '|-', 'diskpart.exe';\nforeach my $i (1..100) {\n    print $p \"select disk $i\\nonline disk\\n\";\n}\nclose($p);\n</code></pre>\n"}], "owner": {"reputation": 516, "user_id": 2224218, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f7db38a8b0010381be6cde932b0f8b7b?s=128&d=identicon&r=PG", "display_name": "Subhash", "link": "https://stackoverflow.com/users/2224218/subhash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 944, "favorite_count": 1, "accepted_answer_id": 30438283, "answer_count": 1, "score": 0, "last_activity_date": 1432556569, "creation_date": 1432555793, "last_edit_date": 1432556569, "question_id": 30438072, "link": "https://stackoverflow.com/questions/30438072/better-way-to-execute-diskpart-commands-in-loop-in-any-language", "title": "Better way to execute diskpart commands in loop, in any language?", "body": "<p>I have 100 disks which I have to make online. I tried the below perl code to do the same.</p>\n\n<pre><code>foreach (1..100){\n    open(FILE, \"&gt;test.txt\");\n    print FILE (\"select disk $_\\nonline disk\");\n    close FILE;\n    system(\"diskpart.exe /s test.txt\");\n}\n</code></pre>\n\n<p>My question here, is there a better efficient way to execute diskpart commands in a loop, like use of shell script or anything else ?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1432555422, "post_id": 30437904, "comment_id": 48958911, "body": "What is expected output? Are you trying to ignore duplicates?"}, {"owner": {"reputation": 13, "user_id": 4870704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e37dfa339965c2c7259e740446a599?s=128&d=identicon&r=PG&f=1", "display_name": "ds_p", "link": "https://stackoverflow.com/users/4870704/ds-p"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1432557757, "post_id": 30437904, "comment_id": 48960145, "body": "Expected output should be 123 234 456 789 654 123"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 1, "creation_date": 1432559319, "post_id": 30437904, "comment_id": 48961067, "body": "@ds_p - your question doesn&#39;t really make any sense. You should think clearly about what exactly you&#39;re trying to achieve and re-word your question. You also need to provide some code that you&#39;ve written in an attempt to solve this yourself"}, {"owner": {"reputation": 13, "user_id": 4870704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e37dfa339965c2c7259e740446a599?s=128&d=identicon&r=PG&f=1", "display_name": "ds_p", "link": "https://stackoverflow.com/users/4870704/ds-p"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1432612025, "post_id": 30437904, "comment_id": 48979815, "body": "@fugu, my apologies for not being able to post the question clearly. I am very new to this group and this is the first question I have posted. Also  I am new to perl and started learning only from couple of days. Your code is absolutely working perfect. Thanks a lot. From now on I will try to follow the guidelines properly. Thanks again"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1432639589, "post_id": 30437904, "comment_id": 48994975, "body": "@ds_p: If <i>fugu</i>&#39;s code is working for you, then you must accept that as an answer, so it can be close as solved."}, {"owner": {"reputation": 13, "user_id": 4870704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e37dfa339965c2c7259e740446a599?s=128&d=identicon&r=PG&f=1", "display_name": "ds_p", "link": "https://stackoverflow.com/users/4870704/ds-p"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1432643822, "post_id": 30437904, "comment_id": 48998159, "body": "@serenesat  fugu&#39;s code is working fine ."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4870704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e37dfa339965c2c7259e740446a599?s=128&d=identicon&r=PG&f=1", "display_name": "ds_p", "link": "https://stackoverflow.com/users/4870704/ds-p"}, "edited": false, "score": 0, "creation_date": 1432558490, "post_id": 30438032, "comment_id": 48960572, "body": "this code gives me blank output.Please let me know if I need to add any thing extra for this to work. Thanks a lot for the answer though."}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": true, "score": 1, "last_activity_date": 1432560923, "last_edit_date": 1432560923, "creation_date": 1432555679, "answer_id": 30438032, "question_id": 30437904, "link": "https://stackoverflow.com/questions/30437904/how-to-read-a-file-in-perl-till-it-matches-certain-string-value/30438032#30438032", "title": "How to read a file in Perl till it matches certain string/value", "body": "<pre><code>#!/usr/bin perl\nuse strict;\nuse warnings;\n\n# open my $file, '&lt;', 'in.txt' or die $!; # If you're reading in from a file use this\n\nmy %seen;\nwhile (&lt;DATA&gt;) {\n    chomp;\n    $seen{$_}++;    \n    next if $seen{$_} == 2;\n    print \"$_\\n\";\n    last if $seen{$_} &gt; 2;\n}\n\n\n__DATA__\n123\n123\n234\n456\n789\n654\n123\n123\n123\n</code></pre>\n\n<p>---output---</p>\n\n<pre><code>123\n234\n456\n789\n654\n123\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4870704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e37dfa339965c2c7259e740446a599?s=128&d=identicon&r=PG&f=1", "display_name": "ds_p", "link": "https://stackoverflow.com/users/4870704/ds-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 30438032, "answer_count": 1, "score": -1, "last_activity_date": 1432560923, "creation_date": 1432555248, "last_edit_date": 1432560472, "question_id": 30437904, "link": "https://stackoverflow.com/questions/30437904/how-to-read-a-file-in-perl-till-it-matches-certain-string-value", "title": "How to read a file in Perl till it matches certain string/value", "body": "<p>I have one text file which has entries like</p>\n\n<pre><code>123\n123\n234\n456\n789\n654\n123\n123\n123\n</code></pre>\n\n<p>I am trying to write a perl script which opens and reads through the file (while doing so, it has to ignore second 123 and read through till next 123 is repeated):</p>\n\n<p>Desired output:</p>\n\n<pre><code>123 # Keep\n123 # Ignore\n234 # Keep\n456 # Keep\n789 # Keep\n654 # Keep\n123 # Keep and stop here\n</code></pre>\n"}, {"tags": ["perl", "download", "yahoo-finance"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 2, "creation_date": 1432547550, "post_id": 30435534, "comment_id": 48954403, "body": "What is the problem?"}, {"owner": {"reputation": 11, "user_id": 4936190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80d559ebff463a8bd5180d41e767b00b?s=128&d=identicon&r=PG&f=1", "display_name": "tangkb", "link": "https://stackoverflow.com/users/4936190/tangkb"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1432558893, "post_id": 30435534, "comment_id": 48960799, "body": "I do not know how to read the stock txt file into some sort of array to download. The download url can perhaps download 30 stocks at a time so I will need to loop it to download 30 stocks.The I need to join all the downloads into a single txt file. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 2503866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDlOa.jpg?s=128&g=1", "display_name": "LLFourn", "link": "https://stackoverflow.com/users/2503866/llfourn"}, "edited": false, "score": 0, "creation_date": 1432573579, "post_id": 30439141, "comment_id": 48967871, "body": "Just FYI you can get free quotes in XML or JSON format from: <a href=\"http://www.yahooapis.com/\" rel=\"nofollow noreferrer\">yahooapis.com</a> with their &quot;YQL&quot; thing. But it seems to be down right now. I think this is what OP should use."}, {"owner": {"reputation": 11, "user_id": 4936190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80d559ebff463a8bd5180d41e767b00b?s=128&d=identicon&r=PG&f=1", "display_name": "tangkb", "link": "https://stackoverflow.com/users/4936190/tangkb"}, "edited": false, "score": 0, "creation_date": 1432576745, "post_id": 30439141, "comment_id": 48969422, "body": "Dear Borodin, this is almost excatly what I needed. Thanks alot. Perl is a pain for me as I can&#39;t find a console that will highlight my errors. I have spent countless hours on this already.THANK YOU:)"}, {"owner": {"reputation": 11, "user_id": 4936190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80d559ebff463a8bd5180d41e767b00b?s=128&d=identicon&r=PG&f=1", "display_name": "tangkb", "link": "https://stackoverflow.com/users/4936190/tangkb"}, "edited": false, "score": 0, "creation_date": 1432576937, "post_id": 30439141, "comment_id": 48969512, "body": "I am new to this community so I cannot upvote the answer. Guys that find this useful, please upvote so that others can also benefit.:)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1432560778, "last_edit_date": 1432560778, "creation_date": 1432559262, "answer_id": 30439141, "question_id": 30435534, "link": "https://stackoverflow.com/questions/30435534/batch-download-data-from-yahoo/30439141#30439141", "title": "Batch download data from Yahoo", "body": "<p>You need to <code>splice</code> the required number of items from the beginning of the array until it is empty</p>\n\n<pre><code>while ( @contents ) {\n    my @chunk = splice @contents, 0, 30;\n    my $url = $livePriceLink . join(',', @chunk) . $livePriceLink2;\n    my $dataRef = get($url);\n    ...\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>Here's an example of how it might work in context. You'll have to expand on <code>print $data</code> as you need to process what is presumably JSON data to extract the fields you need</p>\n\n<p>Note that I've used <code>autodie</code> so that I don't have to check the status of the <code>open</code> and <code>chdir</code> calls; I've done a <code>chdir</code> to the root directory to avoid messing around concatenating path strings; I've declared all the constant strings as constants at the top of the program; I've used the <a href=\"https://metacpan.org/pod/URI\" rel=\"nofollow\"><code>URI</code></a> module to handle the URL more conveniently; and I've removed the unnecessary (on Windows) shebang line</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\nuse autodie;\n\nuse URI;\nuse URI::QueryParam;\nuse LWP::Simple;\nuse JSON;\n\nuse constant ROOT_DIR       =&gt; 'D:/Perl/data';\nuse constant STOCK_CODES    =&gt; 'HKGListYH.txt';\nuse constant RESULTS        =&gt; 'terryHKGResults.txt';\nuse constant LIVE_PRICE_URL =&gt; 'http://download.finance.yahoo.com/d/quotes.csv';\n\nchdir ROOT_DIR;\n\nopen my $stock_fh, '&lt;', STOCK_CODES;\nmy @content = &lt;$stock_fh&gt;;\nclose $stock_fh;\ns/\\s+\\z// for @content;\n\nmy $url = URI-&gt;new(LIVE_PRICE_URL);\n$url-&gt;query_form(\n  f =&gt; 'snl1p2a2p5p6rydj1s6j4t8s7m3m8m4m6kk5jk5',\n  e =&gt; '.csv',\n);\n\nmy @header = qw{  t  name  l  cp  av  p/s  p/b  p/e  d/p  d  mc  };\nopen my $results_fh, '&gt;', RESULTS;\nselect $results_fh;\nprint join(\"\\t\", @header), \"\\n\";\n\nwhile ( @content ) {\n    my @chunk = splice @content, 0, 30;\n    $url-&gt;query_param(s =&gt; join(',', @chunk));\n    say $url;\n\n    my $data = get($url);\n\n    print $data;  # Needs expanding\n}\n\nclose $results_fh;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4936190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80d559ebff463a8bd5180d41e767b00b?s=128&d=identicon&r=PG&f=1", "display_name": "tangkb", "link": "https://stackoverflow.com/users/4936190/tangkb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 896, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1434463472, "creation_date": 1432547476, "last_edit_date": 1434463472, "question_id": 30435534, "link": "https://stackoverflow.com/questions/30435534/batch-download-data-from-yahoo", "title": "Batch download data from Yahoo", "body": "<p>I want to batch download data from Yahoo Finance using Perl.</p>\n\n<ul>\n<li>First, I need to read stock codes from txt file into array.</li>\n<li>Second, I need to loop 30 codes to download.</li>\n<li>Third, I need to print the results into txt file.</li>\n</ul>\n\n<p>I have done something like below</p>\n\n<pre><code>#!D:/Perl/perl/bin/perl.exe\n\nuse strict;\nuse warnings;\n\nuse JSON;\nuse Data::Dumper;\nuse LWP::Simple;\n\nmy $rootDir = 'D:/Perl/data';\n\n# First read stockcodes from txt file into array (Need advise)\nmy $file = $rootDir . '/HKGListYH.txt';\nopen(FH, '&lt;' . $file) or die(\"cannot open \" . $file);\nwhile (my $record = &lt;FH&gt;) {\n  chomp($record);\n  $record =~ s/\\s*$//;\n  my @content = split(/\\t/, $record);\n}\nclose(FH);\n\n# Second I need to loop 30 codes to download (Need advise)\nmy $livePriceLink  = 'http://download.finance.yahoo.com/d/quotes.csv?s=';\nmy $livePriceLink2 = '&amp;f=snl1p2a2p5p6rydj1s6j4t8s7m3m8m4m6kk5jk5&amp;e=.csv';\n\n# some for loop needed\nmy $dataRef = get($livePriceLink . join(',', @content) . join('', $livePriceLink2));\n\n# Third I need to print the results into txt file (Need advise)\nmy @header = (\"t\", \"name\", \"l\", \"cp\", \"av\", \"p/s\", \"p/b\", \"p/e\", \"d/p\", \"d\", \"mc\");\nopen(FH, '&gt;' . $rootDir . '\\terryHKGResults.txt');\nprint FH join(\"\\t\", @header) . \"\\n\";\nprint FH $dataRef;\nclose(FH);\n</code></pre>\n\n<p><strong>Sample stock codes text file</strong></p>\n\n<pre><code>0001.HK\n0002.HK\n0003.HK\n0004.HK\n0005.HK\n0006.HK\n0007.HK\n0008.HK\n0009.HK\n0010.HK\n0011.HK\n0012.HK\n0013.HK\n0014.HK\n0015.HK\n</code></pre>\n\n<p><strong>Sample download Yahoo data</strong></p>\n\n<pre><code>http://download.finance.yahoo.com/d/quotes.csv?s=1288.HK,0753.HK,0914.HK,3988.HK,3328.HK,1211.HK,0939.HK,1359.HK,1898.HK,1800.HK,2628.HK,0916.HK,2883.HK,0390.HK,1088.HK,0728.HK,2202.HK,0998.HK,6030.HK,3968.HK,3323.HK,2601.HK,0489.HK,2238.HK,2333.HK,6837.HK,0902.HK,1398.HK,0358.HK,1988.HK,1336.HK,0857.HK,1339.HK,2328.HK,2318.HK,0386.HK,1099.HK,0168.HK,2338.HK,1066.HK&amp;f=snl1p2a2p5p6rydj1s6j4m8m6k5j6&amp;e=.csv\n</code></pre>\n"}, {"tags": ["perl", "parallel-processing", "cpu-usage"], "comments": [{"owner": {"reputation": 2493, "user_id": 4866989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ea9d94abae12663ba3ad2564619081?s=128&d=identicon&r=PG&f=1", "display_name": "Tim3880", "link": "https://stackoverflow.com/users/4866989/tim3880"}, "edited": false, "score": 3, "creation_date": 1432531278, "post_id": 30431522, "comment_id": 48947536, "body": "Just a guess. Your Perl script is busy preparing and sending data to database, waiting for response and use a lot of CPU while actually does little computing.  Loading large data usually requires special batch programming. You can try use Perl to format your data to CSV or tsv format and use database&#39;s own bulk loading tool to insert the data."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1432532145, "post_id": 30431522, "comment_id": 48947797, "body": "Reducing CPU usage is easy: Add <code>sleep</code> statements. That&#39;s really odd, though. Most people want their programs to run faster."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1432558580, "post_id": 30431522, "comment_id": 48960618, "body": "I think you should show us your code"}, {"owner": {"reputation": 81, "user_id": 4422783, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/04e34ec0193d21b45fb9a281a23994cb?s=128&d=identicon&r=PG&f=1", "display_name": "VasaraBharat", "link": "https://stackoverflow.com/users/4422783/vasarabharat"}, "edited": false, "score": 0, "creation_date": 1432614176, "post_id": 30431522, "comment_id": 48980339, "body": "Tim3880 thanks i will look in this direction .. may be a solution it is.."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4863136, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-c1pYKb2vWEU/AAAAAAAAAAI/AAAAAAAAAEQ/QaGohNPD9cA/photo.jpg?sz=128", "display_name": "Suhitha Edirisinghe", "link": "https://stackoverflow.com/users/4863136/suhitha-edirisinghe"}, "is_accepted": false, "score": 0, "last_activity_date": 1432568279, "creation_date": 1432568279, "answer_id": 30441700, "question_id": 30431522, "link": "https://stackoverflow.com/questions/30431522/parallel-processing-in-perl-cpu-usage-100/30441700#30441700", "title": "parallel processing in perl. CPU usage 100%", "body": "<p>Use a usleep when waiting for child processes.</p>\n\n<p><code>until (waitpid(-1, WNOHANG)) {\n   usleep(100);\n}</code></p>\n\n<p>Dramatically reduces cpu in parallel programs</p>\n"}], "owner": {"reputation": 81, "user_id": 4422783, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/04e34ec0193d21b45fb9a281a23994cb?s=128&d=identicon&r=PG&f=1", "display_name": "VasaraBharat", "link": "https://stackoverflow.com/users/4422783/vasarabharat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 590, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1432568279, "creation_date": 1432530192, "question_id": 30431522, "link": "https://stackoverflow.com/questions/30431522/parallel-processing-in-perl-cpu-usage-100", "title": "parallel processing in perl. CPU usage 100%", "body": "<p>i have developed a script for data extraction in perl.</p>\n\n<p>using a <code>parallel::ForkManager</code> module and its functionalities</p>\n\n<p>it works well when i run the script from 4core cpu.\nbut when i try to run it from different cpu which is of 2core only has a cpu usage 100%. </p>\n\n<p>my problem is to reduce that cpu usage n run script smoothly.\ni already reduces the max_Child_process to 10 previously it was 40.\nrestriction:  my script must parse all pages and store data in database  within a 25 seconds.\ncurrently it is doing it in 22-24 seconds but uses full cpu. can anybody gives me some idea about how and what to do for reducing my cpu usage. </p>\n"}, {"tags": ["perl", "www-mechanize"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432534692, "post_id": 30431494, "comment_id": 48948612, "body": "<a href=\"http://pastebin.com/ZaHuCL7u\" rel=\"nofollow noreferrer\">More info</a>, which means it can&#39;t verify the certificate for some reason. Also, the cert FF uses only came into effect a few days ago (2015-05-22T0:00:00Z), so something was changed on their end."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432535759, "post_id": 30431494, "comment_id": 48949032, "body": "Disabling certificate verification &quot;works&quot; at the cost of rendering the HTTPS useless"}, {"owner": {"reputation": 123, "user_id": 4918793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cccacf5511afd938daf8f15abf11f64?s=128&d=identicon&r=PG&f=1", "display_name": "mepstein", "link": "https://stackoverflow.com/users/4918793/mepstein"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432609061, "post_id": 30431494, "comment_id": 48979118, "body": "@ikegami: I tried your code from pastebin on my system, and it doesn&#39;t fail.  So apparently my issue&#39;s a little different.  I did get things to work by adding $ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} = 0;.  Does that disable all certificate verification, or only one piece of it?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1432614016, "post_id": 30431494, "comment_id": 48980295, "body": "It depends on the version of LWP used. It should only disable hostname verification from the name but in fact disables complete verification on your system. And even just disabling host name verification allows the same attacks as completely disabling verification, because then the man-in-the-middle could just use any certificate signed by trusted CA, i.e. also a certificate for his own domain."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 4918793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cccacf5511afd938daf8f15abf11f64?s=128&d=identicon&r=PG&f=1", "display_name": "mepstein", "link": "https://stackoverflow.com/users/4918793/mepstein"}, "edited": false, "score": 0, "creation_date": 1432607778, "post_id": 30434332, "comment_id": 48978860, "body": "OK, thanks.  That basically makes sense, but things still aren&#39;t quite clear.  For one thing, my system does have both those root CA certs (in /etc/ssl/certs).  (My system is Arch Linux, up-to-date, as of a few days ago -- I did mention that in my original post.)  Second, I tried adding that line specifying PERL_LWP_SSL_CA_FILE, and it didn&#39;t help (it said &quot;SSL_ca_file ... does not exist&quot;).  Third, I found that it worked after adding just this line: $ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} = 0;.  So, is that safe to do?  Is there a better solution?  Thanks."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 123, "user_id": 4918793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cccacf5511afd938daf8f15abf11f64?s=128&d=identicon&r=PG&f=1", "display_name": "mepstein", "link": "https://stackoverflow.com/users/4918793/mepstein"}, "edited": false, "score": 0, "creation_date": 1432613845, "post_id": 30434332, "comment_id": 48980250, "body": "First, it is not safe to disable verification unless you take https as something which must be worked around instead of a security feature. Next, LWP::UserAgent (super class of WWW::Mechanize) uses Mozilla::CA as CA store unless you are on Debian/Ubuntu where they patched it to use the system CA store. And finally you probably gave the wrong path to PERL_LWP_SSL_CA_FILE so that it complained that the file does not exist. My setting was just an example, I have no idea where you put the file yourself."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432613849, "post_id": 30434332, "comment_id": 48980253, "body": "If you do <code>$ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} = 0;</code>, encryption will still be used, but you don&#39;t check who you are talking to, so you could be sending your info to an attacker after telling them how to decode your encryption."}, {"owner": {"reputation": 123, "user_id": 4918793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cccacf5511afd938daf8f15abf11f64?s=128&d=identicon&r=PG&f=1", "display_name": "mepstein", "link": "https://stackoverflow.com/users/4918793/mepstein"}, "edited": false, "score": 0, "creation_date": 1432617519, "post_id": 30434332, "comment_id": 48981469, "body": "Ahh, OK.  Think I got it now.  I added the line <code>$ENV{PERL_LWP_SSL_CA_PATH} = &#39;&#47;etc&#47;ssl&#47;certs&#39;;</code> (and removed the line setting PERL_LWP_SSL_VERIFY_HOSTNAME), and the script works.  And I guess at some point Mozilla::CA will be updated, and that will eliminate the need for this line.  Thanks."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1432618496, "post_id": 30434332, "comment_id": 48981827, "body": "Yes, and you will get other problems when Mozilla::CA gets updated because of all the missing 1024 bit certificates, see <a href=\"http://stackoverflow.com/a/30068150/3081018\">stackoverflow.com/a/30068150/3081018</a>"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 7, "last_activity_date": 1432823756, "last_edit_date": 1432823756, "creation_date": 1432543541, "answer_id": 30434332, "question_id": 30431494, "link": "https://stackoverflow.com/questions/30431494/perl-script-using-wwwmechanize-to-connect-to-https-site-just-started-failing/30434332#30434332", "title": "Perl script using WWW::Mechanize to connect to https site just started failing", "body": "<blockquote>\n  <p>...  that script just stopped working the other day.</p>\n</blockquote>\n\n<p>Which in most cases is caused by server-side or client-side changes. But I assume that you did not make any changes on the client side.</p>\n\n<p>Calling your code with <code>perl -MIO::Socket::SSL=debug4...</code> gives:</p>\n\n<pre><code>DEBUG: ...SSL3_GET_SERVER_CERTIFICATE:certificate verify failed\n</code></pre>\n\n<p>Looking at the <a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=jobs.illinois.edu\" rel=\"nofollow noreferrer\">SSLLabs report</a> you see two trust paths, where one requires an extra download. The root-CA \"USERTrust RSA Certification Authority\" for the first trust path is not installed on my system (Ubuntu 14.04), and I guess it is not installed on yours (no information about your OS is known, so just guessing). This means the second trust chain will be used and the relevant Root-CA \"AddTrust External CA Root\" is also installed on my system. Unfortunately this trust chain is missing an intermediate certificate (\"Extra download\"), so the verification fails.</p>\n\n<p>To fix the problem, find the missing root-CA which should match the fingerprint 2b8f1b57330dbba2d07a6c51f70ee90ddab9ad8e and use it:</p>\n\n<pre><code>$ENV{PERL_LWP_SSL_CA_FILE} = '2b8f1b57330dbba2d07a6c51f70ee90ddab9ad8e.pem';\n</code></pre>\n\n<p>Looking at the certificate you see that it was issued on 22 May 2015, i.e. three days ago. This explains why the problem happened just now.</p>\n"}], "owner": {"reputation": 123, "user_id": 4918793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cccacf5511afd938daf8f15abf11f64?s=128&d=identicon&r=PG&f=1", "display_name": "mepstein", "link": "https://stackoverflow.com/users/4918793/mepstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2423, "favorite_count": 0, "accepted_answer_id": 30434332, "answer_count": 1, "score": 2, "last_activity_date": 1432823756, "creation_date": 1432530059, "question_id": 30431494, "link": "https://stackoverflow.com/questions/30431494/perl-script-using-wwwmechanize-to-connect-to-https-site-just-started-failing", "title": "Perl script using WWW::Mechanize to connect to https site just started failing", "body": "<p>I have a Perl script that uses WWW::Mechanize to connect to a site over\nhttps, and that script just stopped working the other day.  The status\nand error message I get back are 500 and \"Can't connect to\njobs.illinois.edu:443\".  The URL I'm trying to connect to is\n<a href=\"https://jobs.illinois.edu/\" rel=\"nofollow\">https://jobs.illinois.edu/</a>.  I can connect from my browser (Firefox).\nMy platform is Linux -- up-to-date Arch Linux.  I can also connect\n(using WWW::Mechanize) to other https sites.</p>\n\n<p>I tried using LWP::UserAgent, and the behavior is the same.</p>\n\n<p>I'm using ssl_opts => { SSL_version => 'TLSv1' }; I don't remember why\nI added that -- it may have been necessary to get it working at some\npoint.</p>\n\n<p>Any ideas on how to fix this, or how I might get more information as\nto what the problem is?  Are there other ssl options I can try?</p>\n\n<p>I have a feeling there was some slight configuration change on the\nsite that led to this problem -- maybe some SSL-protocol version\nchange or something like that.  (I don't think I updated anything\non my machine inbetween the times it worked and stopped working.)</p>\n\n<p>Thanks.</p>\n\n<p>Here's sample code that fails:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse constant AJB_URL =&gt; 'https://jobs.illinois.edu/academic-job-board';\n\nuse WWW::Mechanize;\n\nmy $mech = WWW::Mechanize-&gt;new( ssl_opts =&gt; { SSL_version =&gt; 'TLSv1' } );\n\n$mech-&gt;get( AJB_URL );\n</code></pre>\n\n<p>It returns:</p>\n\n<pre><code>Error GETing https://jobs.illinois.edu/academic-job-board: Can't connect to jobs.illinois.edu:443 at ./test2.pl line 12.\n</code></pre>\n"}, {"tags": ["excel", "perl"], "answers": [{"tags": [], "owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "is_accepted": false, "score": 4, "last_activity_date": 1432525574, "last_edit_date": 1592644375, "creation_date": 1432525574, "answer_id": 30430921, "question_id": 30430662, "link": "https://stackoverflow.com/questions/30430662/not-able-to-read-excel-2013-file-with-spreadsheetparseexcel-in-perl/30430921#30430921", "title": "Not able to read Excel 2013 file with Spreadsheet::ParseExcel in perl", "body": "<p>From the documentation for <a href=\"https://metacpan.org/pod/Spreadsheet::ParseExcel#DESCRIPTION\" rel=\"nofollow noreferrer\">Spreadsheet::ParseExcel</a>:</p>\n<blockquote>\n<p>The Spreadsheet::ParseExcel module can be used to read information from Excel 95-2003 binary files.</p>\n<p>The module cannot read files in the Excel 2007 Open XML XLSX format. See the <a href=\"https://metacpan.org/pod/Spreadsheet::XLSX\" rel=\"nofollow noreferrer\">Spreadsheet::XLSX</a> module instead.</p>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 4935363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75b91d54839496ef9c7972e4bf7107bf?s=128&d=identicon&r=PG&f=1", "display_name": "purly_kit_kat", "link": "https://stackoverflow.com/users/4935363/purly-kit-kat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1432525574, "creation_date": 1432523024, "question_id": 30430662, "link": "https://stackoverflow.com/questions/30430662/not-able-to-read-excel-2013-file-with-spreadsheetparseexcel-in-perl", "title": "Not able to read Excel 2013 file with Spreadsheet::ParseExcel in perl", "body": "<p>I have a simple piece of code,that is not loading the excel file. Can't figure out what I'm doing wrong :</p>\n\n<pre><code>my $parser = Spreadsheet::ParseExcel-&gt;new();\nmy $workbook = $parser-&gt;parse(\"test.xlsx\");\nif ( !defined $workbook ) {\n    print(\"Unable to load workbook \\n\");\n}\n</code></pre>\n\n<p>I also tried running with the full path of the file.\nThe test.xlsx is an Excel 2013 file\nI am running in Windows with Perl 5.14.2 and the file is in the same folder as the .pl file. </p>\n"}, {"tags": ["perl", "datetime"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1432523496, "post_id": 30430647, "comment_id": 48945786, "body": "Note: Since the format doesn&#39;t include any time zone information, you need to follow up with <code>$dt-&gt;set_time_zone(...)</code> if you&#39;re going to do any dt arithmetic."}], "tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": true, "score": 3, "last_activity_date": 1432522838, "creation_date": 1432522838, "answer_id": 30430647, "question_id": 30430623, "link": "https://stackoverflow.com/questions/30430623/perl-convert-datetime-stamp-to-datetime-object/30430647#30430647", "title": "Perl - Convert datetime stamp to datetime object", "body": "<p>use <a href=\"https://metacpan.org/pod/DateTime::Format::ISO8601\" rel=\"nofollow\"><code>DateTime::Format::ISO8601</code></a>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse DateTime::Format::ISO8601;\n\nmy $str = '2015-05-25T03:47:44';\n\nmy $dt = DateTime::Format::ISO8601-&gt;parse_datetime( $str );\n\nprint \"$dt\\n\";\n</code></pre>\n"}], "owner": {"reputation": 463, "user_id": 4368834, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9FDCf.jpg?s=128&g=1", "display_name": "th3v0id", "link": "https://stackoverflow.com/users/4368834/th3v0id"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 30430647, "answer_count": 1, "score": 1, "last_activity_date": 1432522838, "creation_date": 1432522580, "question_id": 30430623, "link": "https://stackoverflow.com/questions/30430623/perl-convert-datetime-stamp-to-datetime-object", "title": "Perl - Convert datetime stamp to datetime object", "body": "<p>How can I convert a DateTime stamp to a DateTime object? </p>\n\n<p>DateTime string: <code>2015-05-25T03:47:44</code></p>\n\n<p>Is there a way to instantiate a DateTime object with this timestamp? If not, what's the best way to create a DateTime object with it?</p>\n"}, {"tags": ["linux", "bash", "perl", "shell", "stdin"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1432522526, "post_id": 30429469, "comment_id": 48945631, "body": "<code>-t</code> returns true even if your script isn&#39;t on the read end of a pipe: <code>perl -wE &#39;say &quot;tty&quot; if -t&#39;</code>. The only way to know if something is being passed to STDIN is to try to read from it."}, {"owner": {"reputation": 509, "user_id": 2793771, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/cc6c3cc690339adfeeba4e9d11cef899?s=128&d=identicon&r=PG&f=1", "display_name": "Darwin", "link": "https://stackoverflow.com/users/2793771/darwin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1432528617, "post_id": 30429469, "comment_id": 48946842, "body": "@ThisSuitIsBlackNot Can you give an example?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1432531381, "post_id": 30429469, "comment_id": 48947564, "body": "i.e. <code>while (&lt;&gt;) { ... }</code>. This will block and wait for input if you don&#39;t pass a filename as an argument or pipe data to STDIN, which is exactly what *nix utilities (e.g. <code>cat</code>, <code>awk</code>, <code>wc</code>) typically do. In other words, I would remove the check you have now; you can&#39;t reliably test whether the user is inputting something to STDIN (they could be in the process of typing it when you do your check), so don&#39;t try. Instead, do what existing programs do: allow the user to pass a filename as an argument, enter data via a pipe, or manually via the prompt."}, {"owner": {"reputation": 17600, "user_id": 793796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mk3lA.jpg?s=128&g=1", "display_name": "anishsane", "link": "https://stackoverflow.com/users/793796/anishsane"}, "edited": false, "score": 1, "creation_date": 1432538658, "post_id": 30429469, "comment_id": 48950252, "body": "I think, if <code>@ARGV != 0</code>, you should simply ignore the <code>stdin</code>."}, {"owner": {"reputation": 509, "user_id": 2793771, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/cc6c3cc690339adfeeba4e9d11cef899?s=128&d=identicon&r=PG&f=1", "display_name": "Darwin", "link": "https://stackoverflow.com/users/2793771/darwin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1432677324, "post_id": 30429469, "comment_id": 49019703, "body": "@ThisSuitIsBlackNot Thanks. Updated my scripts to work like other *nix coreutils and everything is working now."}], "answers": [{"tags": [], "owner": {"reputation": 17600, "user_id": 793796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mk3lA.jpg?s=128&g=1", "display_name": "anishsane", "link": "https://stackoverflow.com/users/793796/anishsane"}, "is_accepted": false, "score": 0, "last_activity_date": 1432539068, "creation_date": 1432539068, "answer_id": 30433249, "question_id": 30429469, "link": "https://stackoverflow.com/questions/30429469/how-to-check-for-piped-data-in-perl-script/30433249#30433249", "title": "How to check for piped data in perl script", "body": "<p>Try this:</p>\n\n<pre><code>#!/bin/bash\nTTY=`tty`\nwhile read line\ndo\nperl_script &lt;flags&gt; $line  &lt; $TTY &gt;&gt; output_file\ndone &lt; file_names.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 618, "user_id": 2057516, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sEoLL.jpg?s=128&g=1", "display_name": "hepcat72", "link": "https://stackoverflow.com/users/2057516/hepcat72"}, "is_accepted": false, "score": 0, "last_activity_date": 1538667202, "creation_date": 1538667202, "answer_id": 52650523, "question_id": 30429469, "link": "https://stackoverflow.com/questions/30429469/how-to-check-for-piped-data-in-perl-script/52650523#52650523", "title": "How to check for piped data in perl script", "body": "<p>The outer script is supplying file_names.txt on STDIN to the loop, which gets picked up by any child process in the loop.  Your logic (in-so-far as your inner script is concerned) is correct.  However, it's getting input in 2 ways: a file name on the command line and as a redirect of the file_names.txt file on STDIN supplied to the loop that is not connected to a tty.  That's one of my main complaints about looping in bash.  The STDIN redirect is kind of a loose canon and gets picked up unwittingly by the loop contents.  That's why I like tcsh's foreach:</p>\n\n<pre><code>#!/bin/tcsh\nforeach line ( `cat file_names.txt` )\n  perl_script &lt;flags&gt; $line  &gt;&gt; output_file\nend\n</code></pre>\n\n<p>You may be able to do something like this in bash too, but I'm not certain whether your inner script would pick up the parent script's handle on STDIN (because I'm fairly new to bash and have been using tcsh for decades).  You can try it though and see if this works:</p>\n\n<pre><code>for line in `cat file_names.txt`; do perl_script &lt;flags&gt; $line  &gt;&gt; output_file; done\n</code></pre>\n"}], "owner": {"reputation": 509, "user_id": 2793771, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/cc6c3cc690339adfeeba4e9d11cef899?s=128&d=identicon&r=PG&f=1", "display_name": "Darwin", "link": "https://stackoverflow.com/users/2793771/darwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 344, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1538667202, "creation_date": 1432510608, "last_edit_date": 1432517406, "question_id": 30429469, "link": "https://stackoverflow.com/questions/30429469/how-to-check-for-piped-data-in-perl-script", "title": "How to check for piped data in perl script", "body": "<p>I am currently using these two if statements to decide if data is being piped in or is from a file:</p>\n\n<pre><code>pod2usage(\"$NAME: Requires at least one argument FILE.\\n\") if ((-t STDIN) &amp;&amp; (@ARGV == 0));\npod2usage(\"$NAME: zero if input is from STDIN.\\n\") if (!(-t STDIN) &amp;&amp; (@ARGV != 0));\n</code></pre>\n\n<p>This works fine when the perl script is run interactively from the shell. For example these work as expected:</p>\n\n<pre><code>$ perl_script &lt;flags&gt; filename\n$ cat | perl_script &lt;flags&gt;\n</code></pre>\n\n<p>However, when the perl script is called from a bash script or something like org-mode in emacs the script thinks it is having data being piped in and throws the pod2usage error when files are given as arguments. Here is an example that causes this behavior:</p>\n\n<pre><code>#!/bin/bash\nwhile read line\ndo\nperl_script &lt;flags&gt; $line  &gt;&gt; output_file\ndone &lt; file_names.txt\n</code></pre>\n\n<p>I am guessing that this is happening because <code>-t STDIN</code> is returning false because it is being run non-interactively so it is not attached to a terminal. Is there a way to make sure that I get the proper behavior if the script is being ran interactively or if being called from a shell script? </p>\n"}, {"tags": ["perl", "data-structures", "nosql"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1432628217, "post_id": 30430598, "comment_id": 48987011, "body": "Was going to suggest Mongo or elasticsearch. But you already did. So +1 :)"}], "tags": [], "owner": {"reputation": 156, "user_id": 3833326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5ad3b8b589ac87193ca10f7bd2a2ddf?s=128&d=identicon&r=PG&f=1", "display_name": "csirac2", "link": "https://stackoverflow.com/users/3833326/csirac2"}, "is_accepted": true, "score": 2, "last_activity_date": 1432522291, "creation_date": 1432522291, "answer_id": 30430598, "question_id": 30428155, "link": "https://stackoverflow.com/questions/30428155/store-query-semi-structure-data/30430598#30430598", "title": "store/query semi-structure data", "body": "<p>It sounds like your dataset is still small and manageable, so you need to be very careful about dismissing traditional database solutions at this early point. You haven't really offered any hard reasons as to why SQL solutions have been dismissed (new features in recent years are targeted squarely at NoSQL use-cases), so as someone that's trawled through this issue myself in the past (in a large perl project) I will offer some questions you should ask yourself:</p>\n\n<ol>\n<li>Will the new technology choice become the authoritative data store, or just something you want to bolt-on with minimum changes to help you service queries?\n<ul>\n<li>If you just want to quickly bolt-on a new API to service queries, NoSQL technologies such as MongoDB (with excellent <a href=\"https://metacpan.org/pod/MongoDB\" rel=\"nofollow\">perl driver</a>) become a viable option (and you can slurp in a perl hash as you've described with very little code). If you only use it as a (possibly read-only) cache, you mitigate all the durability concerns and avoid a lot of expensive data cleaning/validation/normalization effort to get you to an 80% solution very quickly.</li>\n<li>If you want something durable to replace your current data storage, it's true that there are options other than SQL RDBMS. XML stores like <a href=\"http://exist-db.org/exist/apps/homepage/index.html\" rel=\"nofollow\">eXistDB</a> are very powerful if you work with XML ecosystems already and your data fits the document-object paradigm where XQuery/XPath makes sense (there's even a perl RPC <a href=\"https://metacpan.org/pod/distribution/XML-ExistDB/lib/XML/eXistDB.pod\" rel=\"nofollow\">thing</a> for it). It's worth taking a look at commercial vendors like <a href=\"http://www.marklogic.com/\" rel=\"nofollow\">MarkLogic</a> or <a href=\"http://www.enterprisedb.com/nosql-for-enterprise\" rel=\"nofollow\">EnterpriseDB</a> if you have time pressures and a decent budget. If your data is <em>truly</em> messy and can be efficiently modeled as a graph of entities and relationships, it's tempting to consider things like <a href=\"http://www.sparkledb.net/\" rel=\"nofollow\">SparkleDB</a>, <a href=\"http://neo4j.com/\" rel=\"nofollow\">Neo4j</a> or <a href=\"http://virtuoso.openlinksw.com/\" rel=\"nofollow\">Virtuoso</a> however in my limited exposure to these things whilst they have a lot of potential for servicing otherwise impossible or difficult queries/analsyses, they make a terrible place to curate and manage your core business data.</li>\n</ul></li>\n<li>What kinds of queries, reports/analyses do you hope to do? This will determine how much data cleaning and normalization effort will be required. Answering this question will help you focus your choice:\n<ul>\n<li>If you think you'll end up doing data cleaning/validation/transformation in order to implement your final choice and make the data queryable, you might as well use a traditional SQL database but explore using it in a \"NoSQL\" way (there's lots of advice/comparison <a href=\"http://www.aptuz.com/blog/is-postgres-nosql-database-better-than-mongodb/\" rel=\"nofollow\">out there</a>).</li>\n<li>If you are hoping to avoid doing a lot of data cleaning/validation/normalization due to lack of time or budget, I'm afraid that the more mature XML/RDF/SPARQL solutions will require 10x more engineering effort to design and establish a working system built around the messy data than simply cleaning it properly in the first place.</li>\n<li>If you have truly messy, heterogeneous data (especially when you need to continuously import from 3rd-parties over which you have no control and you want to avoid constant data cleaning effort), then leaving your messy data \"as-is\" lands you in a spectrum of hurt. At one extreme (in terms of cost but also query power/expressiveness and accuracy) you have the XML/RDF/SPARQL solutions mentioned before. At the cheaper/quicker/simpler (perhaps too simple in many cases) you have contenders such as <a href=\"https://www.mongodb.org/\" rel=\"nofollow\">MongoDB</a>, <a href=\"http://cassandra.apache.org/\" rel=\"nofollow\">Cassandra</a> and <a href=\"http://couchdb.apache.org/\" rel=\"nofollow\">CouchDB</a> (this is by no means an exhaustive list, and they have differing levels of perl support or quality of perl clients).</li>\n</ul></li>\n</ol>\n"}], "owner": {"reputation": 25, "user_id": 3801158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715fac0ca3476eea8541ca92b64fd826?s=128&d=identicon&r=PG&f=1", "display_name": "user3801158", "link": "https://stackoverflow.com/users/3801158/user3801158"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1432628226, "accepted_answer_id": 30430598, "answer_count": 1, "score": -1, "last_activity_date": 1505460937, "creation_date": 1432500254, "last_edit_date": 1506103282, "question_id": 30428155, "link": "https://stackoverflow.com/questions/30428155/store-query-semi-structure-data", "closed_reason": "Needs more focus", "title": "store/query semi-structure data", "body": "<p>We had application written in perl that create complex data structure for our subscriber  (we have move than 4m subscribers). each subscriber have some conmen fields that are are present in all of them and some other subscriber has missing some.</p>\n\n<p>The data looks like this:</p>\n\n<pre><code>%subscribers = {\n    \"user_001\" = {\n        \"name\" =&gt; \"sam\",\n        \"age\" =&gt; \"13\",\n        \"color\" =&gt;['red','blue']\n        \"item\"=&gt;{\n            \"old\" =&gt;['PC','pen'],\n            \"new\" =&gt;['tap','car']\n        },\n    \"user_002\" = {\n        \"name\" =&gt; \"ali\",\n        \"age\" =&gt; \"54\",\n        \"color\" =&gt;['red','null','green']\n        \"item\"=&gt;{\n            \"old\" =&gt;['phone','TV']\n        },\n    \"user_003\" = {\n        \"name\" =&gt; \"foo\",\n        \"age\" =&gt; \"02\",\n        \"item\"=&gt;{\n            \"old\" =&gt;['']\n        },\n        ....\n    }\n}\n</code></pre>\n\n<p><em>our data are more nasty and complex</em></p>\n\n<p>Now we try to  store these data in DB then do some query in them like get user that have new 'TAPs' in item or there age is larger than 30 years.</p>\n\n<p>what we need to know is:\nWhat is the best method to store the data (as MySQL or Oracle db not option), we need something for semi-structure data. How to do these queries taken in mind the preformence.</p>\n\n<p>We jast need headline to start our search (and yes we did our homework using Google ^_^).</p>\n\n<p>BR,\nHosen</p>\n"}, {"tags": ["perl", "sharepoint"], "comments": [{"owner": {"reputation": 336, "user_id": 4735519, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155270638275276/picture?type=large", "display_name": "Graham", "link": "https://stackoverflow.com/users/4735519/graham"}, "edited": false, "score": 0, "creation_date": 1432521549, "post_id": 30426442, "comment_id": 48945480, "body": "What happens when you try to copy a larger file? Time out? Error? Error after partial transmission?"}, {"owner": {"reputation": 1, "user_id": 4934580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8c14914361d15a02c6bcf9fdce13fa9?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Johnson", "link": "https://stackoverflow.com/users/4934580/jeff-johnson"}, "reply_to_user": {"reputation": 336, "user_id": 4735519, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155270638275276/picture?type=large", "display_name": "Graham", "link": "https://stackoverflow.com/users/4735519/graham"}, "edited": false, "score": 0, "creation_date": 1432600982, "post_id": 30426442, "comment_id": 48977310, "body": "All failures look the same:&lt;br/&gt;  ~/bin/sharepointtest.pl&lt;br/&gt; 401 Unauthorized at /usr2/jjohnson/perl5/lib/perl5/SharePoint/SOAPHandler.pm line 374."}], "owner": {"reputation": 1, "user_id": 4934580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8c14914361d15a02c6bcf9fdce13fa9?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Johnson", "link": "https://stackoverflow.com/users/4934580/jeff-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1432489434, "creation_date": 1432489434, "last_edit_date": 1495542109, "question_id": 30426442, "link": "https://stackoverflow.com/questions/30426442/sharepointsoaphandler-file-size-limit", "title": "SharePoint::SOAPHandler file size limit", "body": "<p>I am having the same issue as described in <a href=\"https://stackoverflow.com/questions/26241046/sharepointsoaphandler-perl-script-works-for-display-not-copy\">SharePoint::SOAPHandler perl script works for display not copy</a></p>\n\n<p>In my case I have been able to narrow down the issue to file size.  I can successfully copy a 47332 byte file to sharepoint but I cannot copy a 53689 byte file to sharepoint.</p>\n\n<p>Note that using the WebUI I can successfully upload files of much larger size.</p>\n\n<p>Any thoughts on why uploading using SharePoint::SOAPHandler is failing in this manner?</p>\n"}, {"tags": ["perl", "fill", "expand", "wxperl"], "answers": [{"comments": [{"owner": {"reputation": 440, "user_id": 4596191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2b278821807be2599da53ed6f9155766?s=128&d=identicon&r=PG&f=1", "display_name": "tonychow0929", "link": "https://stackoverflow.com/users/4596191/tonychow0929"}, "edited": false, "score": 0, "creation_date": 1432533891, "post_id": 30425871, "comment_id": 48948356, "body": "Thanks! One more thing to ask: is there any comprehensive documentation which tells where the variables are defined?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 440, "user_id": 4596191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2b278821807be2599da53ed6f9155766?s=128&d=identicon&r=PG&f=1", "display_name": "tonychow0929", "link": "https://stackoverflow.com/users/4596191/tonychow0929"}, "edited": false, "score": 1, "creation_date": 1432557882, "post_id": 30425871, "comment_id": 48960204, "body": "@tony200910041: Do you mean the <i>constants</i>, like <code>wxHORIZONTAL</code>? They&#39;re defined in the wxWidgets library. They&#39;re pulled into the <code>Wx</code> module by the code in <code>Constants.xs</code> from various C header files in the wxWidgets include directory. If you want documentation on how to use them then the best place is the <a href=\"http://docs.wxwidgets.org/3.0/index.html\" rel=\"nofollow noreferrer\"><i>wxWidgets documentation</i></a>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1432491356, "last_edit_date": 1432491356, "creation_date": 1432485730, "answer_id": 30425871, "question_id": 30425171, "link": "https://stackoverflow.com/questions/30425171/wxperl-add-component-which-resizes-automatically-when-parent-frame-gets-resized/30425871#30425871", "title": "wxPerl: add component which resizes automatically when parent frame gets resized", "body": "<p><strong>Update</strong></p>\n\n<p>In case you weren't aware, the default sizer for any child window will make it fill its available space, so to achieve the effect you're asking for all you need is this</p>\n\n<pre><code>use strict;\nuse warnings;\n\npackage Information;\n\nour $VERSION_NO = 9.99;\n\n\npackage Main;\nuse Wx qw/ :colour /;\nuse parent 'Wx::App';\n\nsub OnInit {\n\n  my $frame = Wx::Frame-&gt;new(undef, -1, \"SimpleCalc $Information::VERSION_NO\");\n\n  my $centerPanel = Wx::Panel-&gt;new($frame);\n  $centerPanel-&gt;SetBackgroundColour(wxRED);\n\n  $frame-&gt;Center;\n  $frame-&gt;Show;\n\n  return 1;\n}\n\nmy $app = Main-&gt;new;\n$app-&gt;MainLoop;\n</code></pre>\n\n<hr>\n\n<p><strong>Original</strong></p>\n\n<p>It would have helped you a <em>lot</em> if you had <code>use strict</code> and <code>use warnings</code> in place! I and several others have to endlessly encourage people to do that but it seems sometimes that the message will never get across. Please try to make a habit of adding these statements to the top of every Perl program you write, and help us to spread the word</p>\n\n<p>There are two things preventing your program from working</p>\n\n<ul>\n<li><p>The value <code>wxHORIZONTAL</code> is undefined because you haven't imported it from <code>Wx</code>, so you are passing a value of zero to <code>Wx::BoxSizer-&gt;new</code> without any warning being raised</p></li>\n<li><p>You have used a value of zero for the third parameter to <code>$frameSizer-&gt;Add</code>, which prevents the panel from expanding transversly to the direction of the sizer. You need <code>wxEXPAND</code> in there to enable it, and you will also need to import the value of that constant of course</p></li>\n</ul>\n\n<p>Here's a rewrite of your code that fixes these problems, and also takes advantage of the defaults that will be used for missing parameters. I've also used <code>wxRED</code> instead of creating a new <code>Wx::Colour</code> object. I had to set a value for <code>$Information::VERSION_NO</code> too</p>\n\n<p>This code works as you expected</p>\n\n<pre><code>use strict;\nuse warnings;\n\npackage Information;\n\nour $VERSION_NO = 9.99;\n\n\npackage Main;\n\nuse Wx qw/ :sizer :colour /;\nuse parent 'Wx::App';\n\nsub OnInit {\n    my $frame = Wx::Frame-&gt;new(undef, -1, \"SimpleCalc $Information::VERSION_NO\");\n\n    my $centerPanel = Wx::Panel-&gt;new($frame);\n    $centerPanel-&gt;SetBackgroundColour(wxRED);\n\n    my $frameSizer = Wx::BoxSizer-&gt;new(wxHORIZONTAL);\n    $frameSizer-&gt;Add($centerPanel, 1, wxEXPAND);\n    $frame-&gt;SetSizer($frameSizer);\n\n    $frame-&gt;Center;\n    $frame-&gt;Show;\n\n    return 1;\n}\n\nmy $app = Main-&gt;new;\n$app-&gt;MainLoop;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<p><a href=\"http://bit.ly/1JNrrEL\" rel=\"nofollow noreferrer\">Fixed WxWidgets screen http://bit.ly/1JNrrEL</a></p>\n"}], "owner": {"reputation": 440, "user_id": 4596191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2b278821807be2599da53ed6f9155766?s=128&d=identicon&r=PG&f=1", "display_name": "tonychow0929", "link": "https://stackoverflow.com/users/4596191/tonychow0929"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 30425871, "answer_count": 1, "score": 0, "last_activity_date": 1432491356, "creation_date": 1432481107, "last_edit_date": 1495541154, "question_id": 30425171, "link": "https://stackoverflow.com/questions/30425171/wxperl-add-component-which-resizes-automatically-when-parent-frame-gets-resized", "title": "wxPerl: add component which resizes automatically when parent frame gets resized", "body": "<p>I am relatively new to Perl and I am using <code>wxPerl</code> to create a GUI application. Now, I want to add a <code>Panel</code> into a <code>Frame</code>, possibly using a <code>sizer</code> so that the panel resizes automatically as the frame gets resized.</p>\n\n<p>So here's what I got:</p>\n\n<p>(1) I have to use a <code>BoxSizer</code>, which stretch components in one direction.</p>\n\n<p>(2) I have to pass parameters in the <code>Add</code> subroutines to stretch components in another direction.</p>\n\n<p>I wrote the following code:</p>\n\n<pre><code>package Main;\nuse Wx;\nuse parent 'Wx::App';\n\nsub OnInit {\n    my $frame = Wx::Frame-&gt;new(undef, -1, \"SimpleCalc \".$Information::VERSION_NO, [-1,-1], [-1,-1]);\n    my $centerPanel = Wx::Panel-&gt;new($frame, -1, [-1,-1], [-1,-1]);\n    #set red background\n    $centerPanel-&gt;SetBackgroundColour(Wx::Colour-&gt;new(255,0,0));\n    my $frameSizer = Wx::BoxSizer-&gt;new(wxHORIZONTAL);\n    $frameSizer-&gt;Add($centerPanel, 1, 0, 0);\n    $frame-&gt;SetSizer($frameSizer);\n    $frame-&gt;Center();\n    $frame-&gt;Show(1);\n    return 1;\n}\n\nmy $app = Main-&gt;new;\n$app-&gt;MainLoop;\n</code></pre>\n\n<p>The unwanted result:</p>\n\n<p><img src=\"https://i.stack.imgur.com/iOpOD.png\" alt=\"unstretched\"></p>\n\n<p>What I want is to stretch the red panel in both (horizontal and vertical) direction, or in short, I want something similar to <code>BorderLayout</code> in <code>Java</code>.</p>\n\n<p>According to some online tutorials, I tried to replace <code>$frameSizer-&gt;Add($centerPanel, 1, 0, 0);</code> with \n<code>$frameSizer-&gt;Add($centerPanel, 1, wxEXPAND, 0);</code>, but the script doesn't run. An error occurs saying that it is unable to resolve overload for Wx::Sizer::Add(Wx::Panel, number, scalar, number). I also tried <code>$frameSizer-&gt;Add($centerPanel, 1, 0, 0, wxEXPAND);</code>, but the frame obtained is exactly the same as the frame in the image.</p>\n\n<p>Is it possible to have something similar to Java's <code>BorderLayout</code> in <code>wxPerl</code>? Thanks in advance.</p>\n\n<p>P.S. I know there is a <a href=\"https://stackoverflow.com/questions/11271412/designing-a-textctrl-which-fills-up-the-entire-frame\">duplicate</a>, but there are no concrete answers...</p>\n"}, {"tags": ["sql-server", "perl", "iis", "odbc", "windows-server-2012"], "comments": [{"owner": {"reputation": 2493, "user_id": 4866989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ea9d94abae12663ba3ad2564619081?s=128&d=identicon&r=PG&f=1", "display_name": "Tim3880", "link": "https://stackoverflow.com/users/4866989/tim3880"}, "edited": false, "score": 0, "creation_date": 1432479043, "post_id": 30424039, "comment_id": 48934892, "body": "I guess it&#39;s a privilege issue. The location of you mdb seems weird. Try move it some place else and make it read writable to all users."}, {"owner": {"reputation": 738, "user_id": 2056988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7ea2d50bbcc6f8812c34dab65a1923a?s=128&d=identicon&r=PG", "display_name": "FtLie", "link": "https://stackoverflow.com/users/2056988/ftlie"}, "reply_to_user": {"reputation": 2493, "user_id": 4866989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ea9d94abae12663ba3ad2564619081?s=128&d=identicon&r=PG&f=1", "display_name": "Tim3880", "link": "https://stackoverflow.com/users/4866989/tim3880"}, "edited": false, "score": 0, "creation_date": 1432498240, "post_id": 30424039, "comment_id": 48940567, "body": "should been folder\\Demo.mdb (corrected), all users have full control(!) over that folder (as a test, trying to find a solution)  I am more guessing the user is actually not running under the appliaction account like 100%, just 99% (ie i can read the field properties, and select an entire row, but not a specific field, I also see I have the environment from the user, but limted write permissions to the users temp folder."}, {"owner": {"reputation": 738, "user_id": 2056988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7ea2d50bbcc6f8812c34dab65a1923a?s=128&d=identicon&r=PG", "display_name": "FtLie", "link": "https://stackoverflow.com/users/2056988/ftlie"}, "reply_to_user": {"reputation": 2493, "user_id": 4866989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ea9d94abae12663ba3ad2564619081?s=128&d=identicon&r=PG&f=1", "display_name": "Tim3880", "link": "https://stackoverflow.com/users/4866989/tim3880"}, "edited": false, "score": 0, "creation_date": 1432498408, "post_id": 30424039, "comment_id": 48940615, "body": "Would guess I should look in direction of &quot;impersonate&quot;, pool user, load environment, and some related features in IIS 8.5, but cannot thing of any relevant ones."}], "answers": [{"tags": [], "owner": {"reputation": 738, "user_id": 2056988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7ea2d50bbcc6f8812c34dab65a1923a?s=128&d=identicon&r=PG", "display_name": "FtLie", "link": "https://stackoverflow.com/users/2056988/ftlie"}, "is_accepted": false, "score": 0, "last_activity_date": 1433254781, "creation_date": 1433254781, "answer_id": 30598721, "question_id": 30424039, "link": "https://stackoverflow.com/questions/30424039/service-account-has-different-database-behavior-under-iis-and-task-scheduler/30598721#30598721", "title": "Service account has different database behavior under IIS and task scheduler", "body": "<p>Finally found a solution:\nin IIS 8.5, for a service account to work, the same user (as pool user) must be set as Application  Pass-trough authentication.</p>\n\n<p>Creating an application under the Web Site, \nSelecting Basic Settings for this Application, assigning it to a separate pool run by the service account was not enought.</p>\n\n<p>In addtion, the \"Pass-throught autentication\" must be set as the same user, by selecting the \"Connect as...\"-button. </p>\n"}], "owner": {"reputation": 738, "user_id": 2056988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7ea2d50bbcc6f8812c34dab65a1923a?s=128&d=identicon&r=PG", "display_name": "FtLie", "link": "https://stackoverflow.com/users/2056988/ftlie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433254781, "creation_date": 1432474111, "last_edit_date": 1432498299, "question_id": 30424039, "link": "https://stackoverflow.com/questions/30424039/service-account-has-different-database-behavior-under-iis-and-task-scheduler", "title": "Service account has different database behavior under IIS and task scheduler", "body": "<p>I run the same script as an application account under IIS, and as a Scheduled task, and i get very different results.</p>\n\n<p>From IIS (as a web page), i can read e.g. field properties, and run very simple queries like </p>\n\n<pre><code>SELECT * FROM SYSTEMINFO\n</code></pre>\n\n<p>So connection to database is there.</p>\n\n<p>Anything more \"advanced\", gives get all sorts of errors:</p>\n\n<pre><code>SELECT SYSTEMINFOID FROM SYSTEMINFO\nor\nSELECT COUNT(*) FROM SYSTEMINFO\nor\nINSERT INTO SYSTEMINFO ( SYSTEMINFOID ) VALUES (1)\n</code></pre>\n\n<p>typically gives \"[Microsoft][ODBC Microsoft Access Driver] Unknown (SQL-42000)\" or \"[Microsoft][ODBC Microsoft Access Driver] Overflow (SQL-42000)\" which means \"missing access or syntax error\" according to some ms error message overviews (Quite broad group of errors...)</p>\n\n<p>If the application account is member of Administrators, all works fine (but not a good solution), any other memberships (user, power user, backup operator) gives the same error. (need to reboot server for such changes to take effect, so debugging is time consuming.)</p>\n\n<p>User has local policies to \"Replace a process token\", and \"Adjust memory quotas\" granted (as well as run as batch + service). </p>\n\n<p>Environment looks the same (except that in IIS web environment is added), and i can see in task manager that the scripts are run as the application account.</p>\n\n<p>connection string is </p>\n\n<pre><code>DBI:ODBC:driver=Microsoft Access Driver (*.mdb);DBQ=C:\\folder\\Demo.mdb;\n</code></pre>\n\n<p>running CGI, Perl 5.18, DBI, \non IIS 8.5 Win2012 std, appliction pool uses the application account,with load user profile, and Impersonate user as True</p>\n\n<p>Setting up the same on Win 2008 R2 works fine.</p>\n\n<p>Connection to e.g. a local ms sql express database gives SSL errors, even if SSL is not in use, and using a sql account for authentication.</p>\n\n<p>Spent four days on looking at all odd combinations, any suggestions for settings I may have overlooked?</p>\n\n<p>(summary: when running as application account, not being an administrator under iis 8.5 the script is running, connection to database works, but anything more than trivial queries results in odd errors. )</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 1, "last_activity_date": 1432451537, "creation_date": 1432451537, "answer_id": 30420986, "question_id": 30420969, "link": "https://stackoverflow.com/questions/30420969/regex-search-and-replace-match-only/30420986#30420986", "title": "Regex search and replace match only", "body": "<p>In Perl you can use:</p>\n\n<pre><code>$abc =~ s/Testvalue\\d+\\W+\\K\\d+/$i/;\n</code></pre>\n\n<p><code>\\K</code> resets the starting point of the reported match. Any previously consumed characters are no longer included in the final match.</p>\n\n<p><a href=\"https://regex101.com/r/wJ0zN7/1\" rel=\"nofollow\">RegEx Demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1432479822, "post_id": 30420995, "comment_id": 48935123, "body": "It is a little strange to use <code>\\W+</code> to match whitespace"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432488097, "post_id": 30420995, "comment_id": 48937444, "body": "@Borodin admittedly, I didn&#39;t think hard about the regex, I just copied and pasted what was in the question and made the needed adjustments for keeping the left part :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432489503, "post_id": 30420995, "comment_id": 48937894, "body": "Now you&#39;ve broken it! You want <code>\\s+</code>, not <code>\\W+</code> or <code>\\w+</code>"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432500246, "post_id": 30420995, "comment_id": 48941134, "body": "@borodin argh. Fix it please? I&#39;m away from a computer."}, {"owner": {"reputation": 173, "user_id": 2503866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDlOa.jpg?s=128&g=1", "display_name": "LLFourn", "link": "https://stackoverflow.com/users/2503866/llfourn"}, "edited": false, "score": 0, "creation_date": 1432574252, "post_id": 30420995, "comment_id": 48968163, "body": "You can also use postive lookbehind <code>(?&lt;=TestValue\\d+\\s+)\\d</code>"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 173, "user_id": 2503866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDlOa.jpg?s=128&g=1", "display_name": "LLFourn", "link": "https://stackoverflow.com/users/2503866/llfourn"}, "edited": false, "score": 0, "creation_date": 1432596047, "post_id": 30420995, "comment_id": 48976240, "body": "@LLFourn no you can&#39;t, because that&#39;s a variable-length lookbehind"}, {"owner": {"reputation": 173, "user_id": 2503866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDlOa.jpg?s=128&g=1", "display_name": "LLFourn", "link": "https://stackoverflow.com/users/2503866/llfourn"}, "edited": false, "score": 0, "creation_date": 1432602427, "post_id": 30420995, "comment_id": 48977668, "body": "Ah yep woops. I tested it on simpler value :)"}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 5, "last_activity_date": 1432500628, "last_edit_date": 1432500628, "creation_date": 1432451633, "answer_id": 30420995, "question_id": 30420969, "link": "https://stackoverflow.com/questions/30420969/regex-search-and-replace-match-only/30420995#30420995", "title": "Regex search and replace match only", "body": "<p>If you're using Perl 5.10 or newer:</p>\n\n<pre><code>$abc =~ s/ Testvalue \\d+ \\s+ \\K \\d+ /$i/x;\n</code></pre>\n\n<p>(mnemonic for <code>\\K</code>: \"keep\" everything to the left)</p>\n\n<p>If you're not:</p>\n\n<pre><code>$abc =~ s/ ( Testvalue \\d+ \\s+ ) \\d+ /$1$i/x;\n</code></pre>\n\n<p>(capturing the data you don't want to lose).</p>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 30420995, "answer_count": 2, "score": 1, "last_activity_date": 1432500628, "creation_date": 1432451402, "question_id": 30420969, "link": "https://stackoverflow.com/questions/30420969/regex-search-and-replace-match-only", "title": "Regex search and replace match only", "body": "<p>In perl I have a long string  but here is the important part <code>$abc = \"...Testvalue1   100...\";</code></p>\n\n<p>Is there a way to use Regex to search for the number right after Testvalue# and replace it with a variable?</p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>my $abc = \"...Testvalue1  100...\";\nfor my $i (1..100) {\n    $abc =~ s/Testvalue\\d+\\W+(\\d+)/$i/;\n    print $abc . \"\\n\";\n}\n</code></pre>\n\n<p>Unfortunately this replace the entire match with <code>$i</code>, not just the first match of (\\d+). Is there a way to do this?</p>\n\n<p>My desired output would be:</p>\n\n<pre><code>Testvalue1  1\nTestvalue1  2\n...\nTestvalue1  100\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 0, "creation_date": 1432423867, "post_id": 30418545, "comment_id": 48922901, "body": "Are you checking the file after a point at which it should be flushed?  Perhaps that output is still being buffered?  (this is even more likely if the size of the file is a power of 2 like 4096 or something)"}, {"owner": {"reputation": 329, "user_id": 3360439, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/63da06daffec34266d0b72030f141820?s=128&d=identicon&r=PG&f=1", "display_name": "user3360439", "link": "https://stackoverflow.com/users/3360439/user3360439"}, "reply_to_user": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 0, "creation_date": 1432424312, "post_id": 30418545, "comment_id": 48922984, "body": "Hi i have just noticed that the rest of the output is all in the last cell of line 128, so all the data is there  for some reason!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432428038, "post_id": 30418545, "comment_id": 48923681, "body": "Are those two lines really adjacent like that? Can you fill <code>@col</code> with something simpler like <code>&#39;A&#39; .. &#39;F&#39;</code> and get the same result? What do you mean exactly by <i>&quot;the rest of the output is all in the last cell&quot;</i>? Can you show some sample output?"}, {"owner": {"reputation": 329, "user_id": 3360439, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/63da06daffec34266d0b72030f141820?s=128&d=identicon&r=PG&f=1", "display_name": "user3360439", "link": "https://stackoverflow.com/users/3360439/user3360439"}, "edited": false, "score": 1, "creation_date": 1432429053, "post_id": 30418545, "comment_id": 48923893, "body": "I found the problem in a column someone had written a paragraph with a comma in the middle. ill have to do a grep to get rid of them at the beginning of the scripts."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432437002, "post_id": 30418545, "comment_id": 48925212, "body": "@user3360439: That doesn&#39;t explain why the behaviour is different when you specify a file handle. Please write the answer up properly as a solution and accept it, so that others can see that the problem has been resolved and that it coiuld be useful if they have a similar problem"}, {"owner": {"reputation": 329, "user_id": 3360439, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/63da06daffec34266d0b72030f141820?s=128&d=identicon&r=PG&f=1", "display_name": "user3360439", "link": "https://stackoverflow.com/users/3360439/user3360439"}, "edited": false, "score": 0, "creation_date": 1432439288, "post_id": 30418545, "comment_id": 48925521, "body": "Though removing the comma from a paragraph in a cell gave me the correct output, i do not know why this only affected the filehandle and not the screen print.."}], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 3360439, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/63da06daffec34266d0b72030f141820?s=128&d=identicon&r=PG&f=1", "display_name": "user3360439", "link": "https://stackoverflow.com/users/3360439/user3360439"}, "edited": false, "score": 0, "creation_date": 1432427596, "post_id": 30418683, "comment_id": 48923596, "body": "No Luck i&#39;d afraid. why would the 2 print lines produce a different result?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1432428219, "post_id": 30418683, "comment_id": 48923734, "body": "That is a wild stab in the dark. There&#39;s no reason a space after the function name should cause this behaviour as both statements are the same after the file handle. In any case whitespace at that point is ignored in Perl, and it would be bizarre if it caused the parentheses to be ignored"}], "tags": [], "owner": {"reputation": 345, "user_id": 1792486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3lh2g.jpg?s=128&g=1", "display_name": "Skylos", "link": "https://stackoverflow.com/users/1792486/skylos"}, "is_accepted": false, "score": -2, "last_activity_date": 1432424820, "creation_date": 1432424820, "answer_id": 30418683, "question_id": 30418545, "link": "https://stackoverflow.com/questions/30418545/perl-print-out-and-print-not-showing-the-same-data/30418683#30418683", "title": "perl print OUT and print not showing the same data", "body": "<p>You have a comma rather than a concatenation after the join command there.</p>\n\n<p>It is conceivable that what you're getting is more exactly join((',', @col), \"\\n\") in the second case.  This flies in the face of logic because we think of functions as requiring pareens</p>\n\n<p>join(',', \"dog\"), \"cat\" looks like it should yield a two entry list (\"dog\", \"cat\")</p>\n\n<p>but if you did join ',', \"dog\", \"cat\" you would expect a single string \"dog,cat\"</p>\n\n<p>Thanks to your extra space after the join, I wonder if it is seeing it in the latter pattern instead of the former.  Try concatenating to the join instead of using a comma and removing the space and see if that makes a difference.</p>\n"}, {"tags": [], "owner": {"reputation": 675, "user_id": 3227721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HtyqY.jpg?s=128&g=1", "display_name": "Atafar", "link": "https://stackoverflow.com/users/3227721/atafar"}, "is_accepted": false, "score": -1, "last_activity_date": 1432476403, "creation_date": 1432476403, "answer_id": 30424399, "question_id": 30418545, "link": "https://stackoverflow.com/questions/30418545/perl-print-out-and-print-not-showing-the-same-data/30424399#30424399", "title": "perl print OUT and print not showing the same data", "body": "<p>To be absolutely unambiguous, I would write the second line as follows:</p>\n\n<pre><code>print {$fh} join(',', @col), \"\\n\";\n</code></pre>\n\n<p>Then see whether this solves the issue. </p>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 13590695, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i5iJO7TqJ9s/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucm17UWxw9YeSyzN1Y2RV6VrtPwCaA/photo.jpg?sz=128", "display_name": "Vladimir", "link": "https://stackoverflow.com/users/13590695/vladimir"}, "is_accepted": false, "score": 0, "last_activity_date": 1605362546, "creation_date": 1605362546, "answer_id": 64834699, "question_id": 30418545, "link": "https://stackoverflow.com/questions/30418545/perl-print-out-and-print-not-showing-the-same-data/64834699#64834699", "title": "perl print OUT and print not showing the same data", "body": "<p>If you are running this and have a tail running on the $fh, this behavior will happen because most systems buffer output by default.  If you want to turn it off turn off buffering</p>\n<pre><code>select $fh;\n$|=1;\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 3360439, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/63da06daffec34266d0b72030f141820?s=128&d=identicon&r=PG&f=1", "display_name": "user3360439", "link": "https://stackoverflow.com/users/3360439/user3360439"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 3, "score": -5, "last_activity_date": 1605362546, "creation_date": 1432423505, "last_edit_date": 1432427493, "question_id": 30418545, "link": "https://stackoverflow.com/questions/30418545/perl-print-out-and-print-not-showing-the-same-data", "title": "perl print OUT and print not showing the same data", "body": "<p>Hi what would the reason be for <code>print</code> and <code>print $fh</code> showing different result. In this case the .csv  output to screen is 152 lines, but when it is printed to $fh it stops at line 128..</p>\n\n<pre><code>print  join (',', @col) . \"\\n\";\nprint $fh join (',', @col) . \"\\n\";\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1432417347, "post_id": 30417298, "comment_id": 48921636, "body": "The <code>utf8</code> module overload the <code>length</code> subroutine. I understand that <code>utf8</code> is also a core module but I don&#39;t really understand in what this is different."}, {"owner": {"reputation": 2022, "user_id": 4915222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wuFdJ.jpg?s=128&g=1", "display_name": "Peter Paul Kiefer", "link": "https://stackoverflow.com/users/4915222/peter-paul-kiefer"}, "reply_to_user": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1432419248, "post_id": 30417298, "comment_id": 48922048, "body": "&quot;utf8&quot; is something special. A so called &quot;pragma&quot; or better a &quot;feature&quot;. You can write &quot;use utf8;&quot;at the beginning of a script to tell perl that the text uses utf-8 encoding."}, {"owner": {"reputation": 2022, "user_id": 4915222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wuFdJ.jpg?s=128&g=1", "display_name": "Peter Paul Kiefer", "link": "https://stackoverflow.com/users/4915222/peter-paul-kiefer"}, "reply_to_user": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 1, "creation_date": 1432419462, "post_id": 30417298, "comment_id": 48922097, "body": "The overloading that utf8 induces is only visible in the script where you use the pragma. It&#39;s the same as &quot;use strict.&quot; Its scope is the script where it is written in."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432526886, "post_id": 30417298, "comment_id": 48946419, "body": "Re &quot;The utf8 module overload the length subroutine&quot;, No, it doesn&#39;t. <code>length</code> always returns the number of characters (elements) in the string."}], "tags": [], "owner": {"reputation": 2022, "user_id": 4915222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wuFdJ.jpg?s=128&g=1", "display_name": "Peter Paul Kiefer", "link": "https://stackoverflow.com/users/4915222/peter-paul-kiefer"}, "is_accepted": true, "score": 7, "last_activity_date": 1432416571, "last_edit_date": 1432416571, "creation_date": 1432413187, "answer_id": 30417298, "question_id": 30417028, "link": "https://stackoverflow.com/questions/30417028/how-to-override-a-subroutine-such-as-length-in-perl/30417298#30417298", "title": "How to override a subroutine such as `length` in Perl?", "body": "<p>Overwriting a core fuinction is not a good idea. If you use a library, that itselfes uses the core function the library function would be confronted with the overwritten function and may fail. You could create an own module/namespace ANSI:: or so.. then use ANSI::length, but I think it is bether to use a name like you proposed: ansi_length. </p>\n\n<p>If you still insist: \nYou can overwrite the core function with </p>\n\n<pre><code>BEGIN {\n  *CORE::GLOBAL::length = sub ... \n}\n</code></pre>\n\n<p>Whenever you need access to the origin CORE function, use \nCORE::length. </p>\n\n<p>This is valid for all build in functions of Perl.</p>\n\n<p>Here is a reference : <a href=\"http://perldoc.perl.org/CORE.html\" rel=\"noreferrer\">http://perldoc.perl.org/CORE.html</a></p>\n"}], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 30417298, "answer_count": 1, "score": 1, "last_activity_date": 1432417491, "creation_date": 1432411257, "last_edit_date": 1432417491, "question_id": 30417028, "link": "https://stackoverflow.com/questions/30417028/how-to-override-a-subroutine-such-as-length-in-perl", "title": "How to override a subroutine such as `length` in Perl?", "body": "<p>I would like to simply override the <code>length</code> subroutine to take in account ANSI escape sequences so I wrote this:</p>\n\n<pre><code>sub length {\n    my $str = shift;\n    if ($cfg{color}) {\n        return length($str =~ s/\\x1B\\[\\d+[^m]*m//gr);\n    } \n    return length($str);\n}\n</code></pre>\n\n<p>Unfortunately Perl detect the ambiguous call that is remplaced with  <code>CORE::length</code>.</p>\n\n<p>How can I just tell Perl to use the local declaration instead?</p>\n\n<p>Of course, an alternative solution would be to rename each call to <code>length</code> with <code>ansi_length</code> and rename the custom function accordingly.</p>\n\n<p>To those who want more details:</p>\n\n<p>The context where I would like to override the core module <code>length</code> is a short code that generate ASCII tables (a bit like <code>Text::ASCIITable</code>, but with different features like multicolumns and multirows). I don't want to write a dedicated Perl module because I would like to keep my program as monolithic as possible because the people what will use it are not familiar with CPAN or even modules installation. </p>\n\n<p>In this code, I need to know the width of each columns in each rows in order to align them properly. When a cell contain a colored text with an ANSI sequence like <code>^[[33mgreen^[[0m</code>, I need to ignore the coloring sequences. </p>\n\n<p>As I already use UTF-8 chars in my Program, I had to add this to my Program: </p>\n\n<pre><code>use utf8;\nuse open ':std', ':encoding(UTF-8)';\n</code></pre>\n\n<p>I noticed the <code>utf8</code> module also overload the core subroutine <code>length</code>. I realized this will also be a good solution in my case. </p>\n\n<p>Eventually I think I added enough details to this question. I would be glad to be notified why I got downvotes on this question. I don't think I can make this more clear. Also I think all these details are not usefull at all to understand the initial question...</p>\n"}, {"tags": ["perl", "binary", "hex", "ascii"], "comments": [{"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 2, "creation_date": 1432405016, "post_id": 30415993, "comment_id": 48918225, "body": "Put your effort here so we can look at where is wrong."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432405469, "post_id": 30415993, "comment_id": 48918350, "body": "Where did you get that display from? It is much more useful to display binary content in hex"}, {"owner": {"reputation": 9, "user_id": 4932537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69481ef7b909adcb7364da691eeec86?s=128&d=identicon&r=PG", "display_name": "Abhi", "link": "https://stackoverflow.com/users/4932537/abhi"}, "edited": false, "score": 0, "creation_date": 1432405606, "post_id": 30415993, "comment_id": 48918391, "body": "Ok. I just stupidly did a cat ... how do you see binary content in hex? xxd ... I see .."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 4932537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69481ef7b909adcb7364da691eeec86?s=128&d=identicon&r=PG", "display_name": "Abhi", "link": "https://stackoverflow.com/users/4932537/abhi"}, "edited": false, "score": 0, "creation_date": 1432406289, "post_id": 30416218, "comment_id": 48918579, "body": "yeah ... i guess long and short is not such a big issue for the template is clearly specifying it. signed / unsigned they didn&#39;t bother mentioning ... anyhow ... let me try your solution."}, {"owner": {"reputation": 9, "user_id": 4932537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69481ef7b909adcb7364da691eeec86?s=128&d=identicon&r=PG", "display_name": "Abhi", "link": "https://stackoverflow.com/users/4932537/abhi"}, "edited": false, "score": 0, "creation_date": 1432406488, "post_id": 30416218, "comment_id": 48918653, "body": "Ok. That did give me an output of - <code>$ .&#47;sug1.pl 3 1432179003 58</code> So it makes sense. You got the header ... I guess the timestamp is unix number which converts to epoch (05/21/2015 @ 3:30am (UTC)) and message length is offcourse header + data = 58. But I am still did not get any output for actual data ... let me tweak few things and see ..."}, {"owner": {"reputation": 44, "user_id": 4616534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f9ca9d18ebd1997e06996c5e3b6a2f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Blaylock", "link": "https://stackoverflow.com/users/4616534/ian-blaylock"}, "reply_to_user": {"reputation": 9, "user_id": 4932537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69481ef7b909adcb7364da691eeec86?s=128&d=identicon&r=PG", "display_name": "Abhi", "link": "https://stackoverflow.com/users/4932537/abhi"}, "edited": false, "score": 0, "creation_date": 1432406977, "post_id": 30416218, "comment_id": 48918797, "body": "oops! I made a typo in the second unpack statement and forgot to specify what I was unpacking! Try again."}, {"owner": {"reputation": 9, "user_id": 4932537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69481ef7b909adcb7364da691eeec86?s=128&d=identicon&r=PG", "display_name": "Abhi", "link": "https://stackoverflow.com/users/4932537/abhi"}, "edited": false, "score": 0, "creation_date": 1432407269, "post_id": 30416218, "comment_id": 48918898, "body": "No. i already caught that but it isn&#39;t making proper sense ... <code>.&#47;sug1.pl 3 1432179003 58 7 32760 1 32600 1 26475 1 0 32600 0 0 33000 0</code>"}, {"owner": {"reputation": 44, "user_id": 4616534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f9ca9d18ebd1997e06996c5e3b6a2f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Blaylock", "link": "https://stackoverflow.com/users/4616534/ian-blaylock"}, "reply_to_user": {"reputation": 9, "user_id": 4932537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69481ef7b909adcb7364da691eeec86?s=128&d=identicon&r=PG", "display_name": "Abhi", "link": "https://stackoverflow.com/users/4932537/abhi"}, "edited": false, "score": 0, "creation_date": 1432407927, "post_id": 30416218, "comment_id": 48919080, "body": "All I can really suggest without seeing any  further documentation regarding the dataset is to try different types of unpack characters for shorts and longs. &quot;n&quot; and &quot;N&quot; are the ones for big-endian byte order. You could also try &quot;s&quot; and &quot;l&quot; for shorts and longs as well. I learned most of what I know about byte unpacking by simply messing around with the different codes and seeing what happened. Anyway, best of luck!"}, {"owner": {"reputation": 9, "user_id": 4932537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69481ef7b909adcb7364da691eeec86?s=128&d=identicon&r=PG", "display_name": "Abhi", "link": "https://stackoverflow.com/users/4932537/abhi"}, "edited": false, "score": 0, "creation_date": 1432407930, "post_id": 30416218, "comment_id": 48919081, "body": "My bad ... it makes sense. This is just one iteration of the file. Its perfect. Thank you so much .. I was needlessly stuck in unpack (B2B4 kind) of syntax."}, {"owner": {"reputation": 44, "user_id": 4616534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f9ca9d18ebd1997e06996c5e3b6a2f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Blaylock", "link": "https://stackoverflow.com/users/4616534/ian-blaylock"}, "reply_to_user": {"reputation": 9, "user_id": 4932537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69481ef7b909adcb7364da691eeec86?s=128&d=identicon&r=PG", "display_name": "Abhi", "link": "https://stackoverflow.com/users/4932537/abhi"}, "edited": false, "score": 0, "creation_date": 1432408511, "post_id": 30416218, "comment_id": 48919250, "body": "No problem! Glad to help."}], "tags": [], "owner": {"reputation": 44, "user_id": 4616534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f9ca9d18ebd1997e06996c5e3b6a2f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Blaylock", "link": "https://stackoverflow.com/users/4616534/ian-blaylock"}, "is_accepted": true, "score": 1, "last_activity_date": 1432406944, "last_edit_date": 1432406944, "creation_date": 1432405915, "answer_id": 30416218, "question_id": 30415993, "link": "https://stackoverflow.com/questions/30415993/convert-binary-file-to-string-in-perl/30416218#30416218", "title": "Convert Binary File To String In Perl", "body": "<p>The biggest issue I see is that there's more to unpacking binary data than just knowing \"short\" or \"long\". </p>\n\n<p>For numeric values, you need to specify whether or not the byte data is in little or big endian order. You also need to know whether or not you're dealing with signed or unsigned values. </p>\n\n<p>For this example, I'm just going to assume everything is in little endian and unsigned: which is probably wrong, but it's up to you to tweak the pack templates once you find it out. In case you need a link, try <a href=\"http://perldoc.perl.org/functions/pack.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/pack.html</a></p>\n\n<p>I haven't tested this on my machine, so pardon if there are any errors, but this is roughly how I would go about what you're trying to do.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\n\n$/ = undef; #may not be necessary, I haven't tested this\nopen IN, \"path/to/file.ext\"; #open the file for reading\n\nread(IN,my $raw_header, 8); #read 8 bytes off of the file into $raw_header\n\nmy @header = unpack(\"vVv\", $raw_header); #unpack header into array\n\nread(IN,my $raw_data, 50); #similar\n\nmy @data = unpack(\"vVVVVVVVVVVVV\", $raw_data); #\"vV12\" is also acceptable, assuming everything is little endian and unsigned\n\nprint join \"\\n\", @header, @data; #print all the values in order on their own lines.\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4932537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69481ef7b909adcb7364da691eeec86?s=128&d=identicon&r=PG", "display_name": "Abhi", "link": "https://stackoverflow.com/users/4932537/abhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1608, "favorite_count": 1, "accepted_answer_id": 30416218, "answer_count": 1, "score": 0, "last_activity_date": 1432408202, "creation_date": 1432404342, "last_edit_date": 1432408202, "question_id": 30415993, "link": "https://stackoverflow.com/questions/30415993/convert-binary-file-to-string-in-perl", "title": "Convert Binary File To String In Perl", "body": "<p>Ok. I have spent the last 14 hours trying to figure this out. I have a binary file with the following contents - (much more, but this is truncated version). I wish to convert this to readable string format. </p>\n\n<blockquote>\n  <p>^@^P&lt;9A>^@^@^A^@^@\u0418^@^@^A^@^@\u039a^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^F&lt;9A>^@^@^@^@^@^@^C^@FQ]U:^@^M^@\n  ^B^@^E^@^@^@`ESC^B^@d^@^@^@^T^R^B^@^E^@^@^@^@^@^@^@^T^R^B^@^@^@^@^@^@^@^@^@^K^B^@^@^@^@^@^C^@HQ]U:^@^S^@^@^@(^@^@^@V^@^@2^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^C^@HQ]U:^@^V^@&lt;8C>I^B^@^E^@^@^@O^B^@\n  ^@^@^@O^B^@^E^@^@^@^@^@^@^@O^B^@^@^@^@^@^@^@^@^@^RK^B^@^@^@^@^@^C^@HQ]U:^@^Y^@0^A^@d^@^@^@1^A^@&lt;96>^@^@^@L0^A^@d^@^@^@^@^@^@\n  ^@71^A^@^@^@^@^@^@^@^@^@0^A^@^@^@^@^@^C^@=Q]U:^@\"^@&lt;92>T^@^@2^@^@^@CN^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^AT^@^@\n  ^@^@^@^@^C^@FQ]U:^@(^@$^M^A^@   ^@^@^@^G^A^@2^@^@^@^O^A^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@R^L^A^@^@^@^@^@^C^@=Q]U:^@.^@&lt;85>^B\n  ^@^@^G^@^@g^B^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@&lt;85>^B^@^@^@^@^@^@^C^@HQ]U:^@4^@^CH^@^@^Y^@^@^@G^@^@d^@^@^@\n  H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^CH^@^@^@^@^@^@^C^@HQ]U:^@O^@^M^@^@&lt;89>^@^@^@^G^M^@^@^A^@^@^P^N^@^@^@^@^@^@^@^@^@^@\n  ^@^@^@^@^@^@^@^@^@^@^@^@^M^@^@^@^@^@^@^C^@HQ]U:^@R^@^B^@^@^A^@^@^B^@^@&lt;8C>0^B^@^B^@^@^A^@^@^@^@^@^@^B^@^@^@^@^@^@^@^@^@^@^B^@^@^@^@^@^@^C^@HQ]U:^@d^@F^A^@\n  ^@^@^@^TJ^A^@\n  ^@^@^@&lt;98>M^A^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@&lt;8A>G^A^@^@^@^@^@^C^@HQ]U:^@y^@j;^@^@^A^@^@^@=;^@^@d^@^@^@(&lt;^@^@^C^@^@^@^@^@^@P&lt;^@^@^@^@^@^@^@^@^@^@=;^@^@^@^@^@^@^C^@FQ]U:^@&lt;88>^@&amp;^@^@^A^@^@^@&amp;^@^@d^@^@^@'^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@&amp;^@^@\n  ^@^@^@^@^C^@FQ]U:^@&lt;94>^@^H^@^@^@^@^@^H^@^@d^@^@^@\n  ^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^H^@^@^@^@^@^@^C^@HQ]U:^@&lt;9A>^@w^@^@^A^@^@^@\\^@^@^A^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@Z^@^@^@^@^@^@^C^@HQ]U:^@&lt;9D>^@^A^B^@\n  ^@^@^@^A^B^@^A^@^@^@^A^@\n  ^@^@^@^@^@^@^@\"^A^@^@^@^@^@^@^@^@^@<em>^A^@^@^@^@^@^C^@HQ]U:^@^@4I^@^@^A^@^@^@DH^@^@^A^@^@^@^]B^@^@&lt;9E>^@^@^@^@^@^@^@I^@^@^@^@^@^@^@^@^@^@MI^@^@^@^@^@^@^C^@FQ]U:^@^@y^@^@^A^@^@^@^Xy^@^@^A^@^@^@]a^@^@^C^@^@^@^@^@^@^@Px^@^@^@^@^@^@^@^@^@^@wy^@^@^@^@^@^@^C^@HQ]U:\n  ^@^@V^^@^@^T^@^@^@^^@^@^A^@^@^@ZU^@^@e^@^@^@^@^@^@^@$^^@^@^@^@^@^@^@^@^@^@^^@^@^@^@^@^@^C^@DQ]U:^@^@DESC^@^@^A^@^@XESC^@\n  ^@^A^@^@^@&lt;84>^\\^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@&lt;80>ESC^@^@^@^@^@^@^C^@HQ]U:^@^@ESC^@^@2^@^@^@ESC^@^@d^@^@^@ESC^@^@^@^@^@^@^@^@^@ESC^@^@^@^@^@^@^@^@^@^@ESC^@^@^@^@^@^@^C^@HQ]U:^@^@&lt;8B>-^A^@^@^@^@@-^A^@&lt;^@^@^@,^A^@@^@^@^@^@^@^@^@@-^A^@^@^@^@^@^@^@^@^@@-^A^@^@^@^@^@^C^@HQ]U:^@^@&lt;86>^A^@^@U^@^@&lt;86>^A^@^@@&lt;9C>^@^@&lt;90>^A^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@\n  &lt;86>^A^@^@^@^@^@^@^C^@FQ]U:^@^G^A^T^A^@\n  ^@^@^@Y^A^@Q^@^@^@^A^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^P^A^@^@^@^@^@^C^@HQ]U:^@^S^A^^^B^@^A^@^@^@&lt;80>2^B^@\n  ^@^@^@^O^B^@n^@^@^@^@^@^@^@^</em>^B^@^@^@^@^@^@^@^@^@^_^B^@^@^@^@^@^C^@DQ]U:^@^V^A4^A^@^@^@^@^P!^A^@K^@^@^@8D^A^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@*^A^@^@^@^@^@^C^@?Q]U:^@.^Aw^F^@^@^A^@^@^@h^F^@^@^O^@^@b^G^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@w^F^@^@^@^@^@^@^C^@HQ]U:^@1^A^A^@^A^@^@^@^A^@^\\^B^@^@X^O^B^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^A^@^@^@^@^@^C^@HQ]U:^@4^A^X^F^@^@^G^@^@x^E^@^@^Z^D^@^@@^F^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^X^F^@^@^@^@^@^@^C^@FQ]U:^@=^A^L^F^@^A^@^@^@\\^F^@^G^@^@^@X^F^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@S^F^@^@^@^@^@^C^@=Q]U:^@O^A^P!^A^@^@^@^@^@^@^@^@^@^A^@^@^@^H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@\n  \"^A^@^@^@^@^@^C^@BQ]U:^@R^AX^@^@^Y^@^@^@^@^@^E^@^@^@x^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^C^@HQ]U:^@U^A^R^Q^@^@^A^@^@^@^P^@^@2^@^@^@^P^@^@^A^@^@^@^@^@^@^@^P^@^@^@^@^@^@^@^@^@^@^H^Q^@^@^@^@^@^@^C^@@Q]U:^@^^An^A^@^A^@^@^@pM\n  ^A^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@hn^A^@^@^@^@^@^C^@HQ]U:^@p^A&lt;9D>^A^@^B^@^@^@d&lt;90>^A^@^E^@^@^@&lt;90>^A^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^R&lt;9C>^A^@^@^@^@^@^C^@HQ]U:^@s^A^A^@^Y^@^@^@\u0229^A^@^T^@^@^@\u0430^A^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@\n  ^@^@^@y^A^@^@^@^@^@^C^@HQ]U:^@|^A&lt;8E>^@^@^A^@^@M&lt;9E>^@^@d^@^@^@&lt;^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@</p>\n</blockquote>\n\n<p>I have the template definition for this file as follows - </p>\n\n<p><strong>HEADER</strong>\nTranscode Short 2 Bytes,\nTimestamp Long 4 Bytes,\nMessage Length Short 2 Bytes,\n<strong>(Total 8 Bytes)</strong></p>\n\n<p><strong>DATA</strong>\nSecurity Token Short 2 Bytes,\nLast Traded Price Long 4 Bytes,\nBest Buy Quantity Long 4 Bytes,\nBest Buy Price Long 4 Bytes,\nBest Sell Quantity Long 4 Bytes,\nBest Sell Price Long 4 Bytes,\nTotal Traded Quantity Long 4 Bytes,\nAverage Traded Price Long 4 Bytes,\nOpen Price Long 4 Bytes,\nHigh Price Long 4 Bytes,\nLow Price Long 4 Bytes,\nClose Price Long 4 Bytes,\nFiller Long 4 Bytes (Blank),\n<strong>(Total 50 Bytes)</strong></p>\n\n<p>I tried perl's pack, unpack, ord, reading byte by byte, getting rid of those \"^@\" and trying to make sense of what is remaining, seeming to be Hex code, but I am not able to make this readable in ASCII strings via perl. I also tried raw, encoding, decoding and even searched stackoverflow thoroughly. There were few problems in the same league but none of those guys shared the template to decode it back. I have it but still can't figure it out.</p>\n\n<p>There is something basic that I am missing but can't really point out. Would really appreciate if someone can show me step by step with code how this conversion is supposed to be done. </p>\n\n<p>Have never done this before ... </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>$ xxd 1.bin\r\n0000000: 0300 3b51 5d55 3a00 0700 f87f 0000 0100  ..;Q]U:.........\r\n0000010: 0000 587f 0000 0100 0000 6b67 0000 0100  ..X.......kg....\r\n0000020: 0000 0000 0000 587f 0000 0000 0000 0000  ......X.........\r\n0000030: 0000 e880 0000 0000 0000 0300 4851 5d55  ............HQ]U\r\n0000040: 3a00 0a00 109a 0000 f401 0000 d098 0000  :...............\r\n0000050: f401 0000 ce9a 0000 0000 0000 0000 0000  ................\r\n0000060: 0000 0000 0000 0000 0000 0000 069a 0000  ................\r\n0000070: 0000 0000 0300 4651 5d55 3a00 0d00 a80a  ......FQ]U:.....\r\n0000080: 0200 0500 0000 601b 0200 6400 0000 1412  ......`...d.....\r\n0000090: 0200 0500 0000 0000 0000 1412 0200 0000  ................\r\n00000a0: 0000 0000 0000 ac0b 0200 0000 0000 0300  ................\r\n00000b0: 4851 5d55 3a00 1300 f8f2 0000 2800 0000  HQ]U:.......(...\r\n00000c0: 56c2 0000 3200 0000 fbf9 0000 0000 0000  V...2...........\r\n00000d0: 0000 0000 0000 0000 0000 0000 0000 0000  ................\r\n00000e0: a3f2 0000 0000 0000 0300 4851 5d55 3a00  ..........HQ]U:.\r\n00000f0: 1600 8c49 0200 0500 0000 cc4f 0200 0a00  ...I.......O....\r\n0000100: 0000 cc4f 0200 0500 0000 0000 0000 cc4f  ...O...........O\r\n0000110: 0200 0000 0000 0000 0000 124b 0200 0000  ...........K....</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Still doesn't make much sense.</p>\n"}, {"tags": ["perl", "hashtable"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1432402479, "post_id": 30415476, "comment_id": 48917332, "body": "Have you tried anything?"}, {"owner": {"reputation": 11, "user_id": 2308880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f260cad31234e418bc87bdf6d573fbb?s=128&d=identicon&r=PG", "display_name": "Bhavesh Shah", "link": "https://stackoverflow.com/users/2308880/bhavesh-shah"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432431469, "post_id": 30415476, "comment_id": 48924298, "body": "I tried the sort command but would like to see if this is possible with Perl hash as I&#39;ve thousands of such entries and need something which can be done quicker. The sort command didn&#39;t though."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432431537, "post_id": 30415476, "comment_id": 48924309, "body": "A hash won&#39;t help you to sort data. Please show the code that you tried"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 2308880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f260cad31234e418bc87bdf6d573fbb?s=128&d=identicon&r=PG", "display_name": "Bhavesh Shah", "link": "https://stackoverflow.com/users/2308880/bhavesh-shah"}, "edited": false, "score": 0, "creation_date": 1432520537, "post_id": 30424065, "comment_id": 48945317, "body": "#! /usr/bin/perl    %dls;    open ( LOG, &quot;/tmp/input_file&quot; );    while ( $line = &lt;LOG&gt; ) {   #print $line;   $dl = substr $line, 0,1;   $timestamp = substr $line, 2;     if ( $timestamp &gt; $dls{dl} ) {     $dls{dl} = $timestamp;     }   }    foreach $dlname (sort keys %dls) {             print TMP &quot;$dlname,$dls{$dlname}\\n&quot;;           }    ~"}, {"owner": {"reputation": 11, "user_id": 2308880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f260cad31234e418bc87bdf6d573fbb?s=128&d=identicon&r=PG", "display_name": "Bhavesh Shah", "link": "https://stackoverflow.com/users/2308880/bhavesh-shah"}, "edited": false, "score": 0, "creation_date": 1432520902, "post_id": 30424065, "comment_id": 48945383, "body": "Sorry, I added two spaces on each line but still shows jumbled up..If you&#39;ve suggetions on how to format , please do let em know"}, {"owner": {"reputation": 21, "user_id": 4932271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2716cb86684549c6f474c5b40198b7?s=128&d=identicon&r=PG&f=1", "display_name": "erd", "link": "https://stackoverflow.com/users/4932271/erd"}, "reply_to_user": {"reputation": 11, "user_id": 2308880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f260cad31234e418bc87bdf6d573fbb?s=128&d=identicon&r=PG", "display_name": "Bhavesh Shah", "link": "https://stackoverflow.com/users/2308880/bhavesh-shah"}, "edited": false, "score": 0, "creation_date": 1432701495, "post_id": 30424065, "comment_id": 49026555, "body": "sorry for late comment. I see your code and at last what is <code>TMP</code> to which you are printing result."}], "tags": [], "owner": {"reputation": 21, "user_id": 4932271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2716cb86684549c6f474c5b40198b7?s=128&d=identicon&r=PG&f=1", "display_name": "erd", "link": "https://stackoverflow.com/users/4932271/erd"}, "is_accepted": false, "score": 1, "last_activity_date": 1432474259, "creation_date": 1432474259, "answer_id": 30424065, "question_id": 30415476, "link": "https://stackoverflow.com/questions/30415476/perl-sort-with-time-stamp-using-hash/30424065#30424065", "title": "Perl sort with time stamp using hash", "body": "<p>You can try to use your data(A,B etc) as key and timestamp as value in perl hash. \nThen read input file and compare timestamps using perl time datatype. This way you keep only latest entries and other can be discarded. Print result at the end. </p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 2308880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f260cad31234e418bc87bdf6d573fbb?s=128&d=identicon&r=PG", "display_name": "Bhavesh Shah", "link": "https://stackoverflow.com/users/2308880/bhavesh-shah"}, "edited": false, "score": 0, "creation_date": 1432676683, "post_id": 30458792, "comment_id": 49019448, "body": "Excellent. Thank you for guiding me and quick solution Sobrique. Thanks again for all your help."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1432643811, "creation_date": 1432643811, "answer_id": 30458792, "question_id": 30415476, "link": "https://stackoverflow.com/questions/30415476/perl-sort-with-time-stamp-using-hash/30458792#30458792", "title": "Perl sort with time stamp using hash", "body": "<p>A hash is good for coalescing duplicates.\nHowever sorting by <em>time stamp</em> requires converting the 'text' representation to an actual time. <a href=\"http://search.cpan.org/~rjbs/Time-Piece-1.30/Piece.pm\" rel=\"nofollow\"><code>Time::Piece</code></a> is one of the better options for doing this </p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\n\nuse Time::Piece;\nmy %things;\nwhile (&lt;DATA&gt;) {\n    my ( $letter, $M, $D, $T ) = split;\n    my $timestamp =\n        Time::Piece-&gt;strptime( \"$M $D $T 2015\", \"%b %d %H:%M:%S %Y\" );\n    if ( not defined $things{$letter}\n        or $things{$letter} &lt; $timestamp )\n    {\n        $things{$letter} = $timestamp;\n    }\n\n}\n\nforeach my $thing ( sort keys %things ) {\n    print \"$thing =&gt; \", $things{$thing}, \"\\n\";\n}\n\n__DATA__\nA May 19 23:59:14\nB May 19 21:59:14\nA May 22 07:59:14\nC Apr 10 12:23:00\nB May 11 10:23:34\n</code></pre>\n\n<p>Note though - your timestamps are ambiguous because they omit the year. You have to deal with this some way. I've gone for the easy road of just inserting 2015. That's not good practice - at the very least you should use some way of discovering 'current year' automatically - but bear in mind that at some points in the year, this will Just Break. </p>\n\n<p>You can format output date using the <code>strftime</code> method within <code>Time::Piece</code> - this is merely the default output.  </p>\n"}], "owner": {"reputation": 11, "user_id": 2308880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f260cad31234e418bc87bdf6d573fbb?s=128&d=identicon&r=PG", "display_name": "Bhavesh Shah", "link": "https://stackoverflow.com/users/2308880/bhavesh-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1457984630, "creation_date": 1432401120, "last_edit_date": 1457984630, "question_id": 30415476, "link": "https://stackoverflow.com/questions/30415476/perl-sort-with-time-stamp-using-hash", "title": "Perl sort with time stamp using hash", "body": "<p>I'm new to Perl and need help with sorting using the hash and/or any other possible method this can be done in Perl. </p>\n\n<p>I've an input file like below and would like to generate the output file as shown. </p>\n\n<p>I'm thinking if this can be done by putting it in hash and then comparing? Please also provide an explanations to the steps for the learning purpose if possible. </p>\n\n<p>If the file has duplicate/triplicate entries matching with different timestamp, it should only list the latest time stamp entry.  </p>\n\n<p>Input file </p>\n\n<pre>\nA May 19 23:59:14 \nB May 19 21:59:14\nA May 22 07:59:14\nC Apr 10 12:23:00\nB May 11 10:23:34\n</pre>\n\n<p>The output should be</p>\n\n<pre>\nA May 22 07:59:14\nB May 19 21:59:14\nC Apr 10 12:23:00\n</pre>\n"}, {"tags": ["bash", "perl", "awk", "sed", "grep"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1432402992, "creation_date": 1432402992, "answer_id": 30415762, "question_id": 30415310, "link": "https://stackoverflow.com/questions/30415310/extract-lines-between-a-and-b-or-c-containing-d/30415762#30415762", "title": "Extract lines between A and (B or C), containing D", "body": "<p>This will do as you ask. It accumulates into <code>$block</code> all the lines between the start and end patterns. When the end pattern is reached it prints the block if it contains <code>index</code></p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $block;\n\nwhile ( &lt;DATA&gt; ) {\n  my $state = /^proc sql\\b/ .. /^(?:quit|run)\\b/;\n  $block .= $_ if $state;\n  if ( $state =~ /E/ ) {\n    print $block, \"\\n\" if $block =~ /^index=/m;\n    $block = '';\n  }\n}\n\n__DATA__\nproc sql\nbla-bla-bla\nindex=10;\nquit\n\nproc sql\nbla-bla-bla\nquit;\n\nproc sql\nindex=10;\nrun\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>proc sql\nbla-bla-bla\nindex=10;\nquit\n\nproc sql\nindex=10;\nrun\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 872393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xvCk0.jpg?s=128&g=1", "display_name": "sjorsvb", "link": "https://stackoverflow.com/users/872393/sjorsvb"}, "is_accepted": false, "score": 0, "last_activity_date": 1432498654, "creation_date": 1432498654, "answer_id": 30427903, "question_id": 30415310, "link": "https://stackoverflow.com/questions/30415310/extract-lines-between-a-and-b-or-c-containing-d/30427903#30427903", "title": "Extract lines between A and (B or C), containing D", "body": "<p>Given that your input file is named input.txt, this will solve it in awk:</p>\n\n<pre><code>awk 'BEGIN {\n    procDetected = 0;\n    indexDetected = 0;\n}\n\n/proc/ {\n    buffer = \"\";\n    indexDetected = 0;\n    procDetected = 1;\n}\n\n/index/ {\n    indexDetected = 1;\n}\n\n{\n    if (procDetected) {\n        # Add the line to the buffer.\n        buffer = buffer $0 \"\\n\";\n    }\n}\n\n/run/ || /quit/ {\n    if (procDetected &amp;&amp; indexDetected) {\n        print buffer;\n    }\n    procDetected = 0;\n    indexDetected = 0;\n}' input.txt\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 1348356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd8edcfb0bfc69a8249fb1afbd5027e4?s=128&d=identicon&r=PG", "display_name": "kyarovoy", "link": "https://stackoverflow.com/users/1348356/kyarovoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 30415762, "answer_count": 2, "score": 2, "last_activity_date": 1432498654, "creation_date": 1432400236, "last_edit_date": 1432401050, "question_id": 30415310, "link": "https://stackoverflow.com/questions/30415310/extract-lines-between-a-and-b-or-c-containing-d", "title": "Extract lines between A and (B or C), containing D", "body": "<p>I need to extract text between A and (B or C) patterns, that contains D pattern inside.</p>\n\n<p>For example I have a file and need to extract all between \"proc sql\" and (\"quit\" or \"run\"), containing \"index\" inside.</p>\n\n<pre>\nproc sql\nbla-bla-bla\nindex=10;\nquit\n\nproc sql\nbla-bla-bla\nquit;\n\nproc sql\nindex=10;\nrun\n</pre>\n\n<p>Needed output:</p>\n\n<pre>\nproc sql\nbla-bla-bla\nindex=10;\nquit\n\nproc sql\nindex=10;\nrun\n</pre>\n\n<p>By now I have such solution:</p>\n\n<pre><code>perl -0777 -lne 'print for grep /\\bindex\\b/i, /^proc sql.*?quit.*?\\n/mgs' file\n</code></pre>\n\n<p>But it only extracts between \"proc sql\" and \"quit\" (NOT \"quit\" or \"run\"), containing \"index\". I don't know how to add OR operation.</p>\n\n<p>If you can propose alternative awk/sed/grep solution - would be nice.</p>\n"}, {"tags": ["perl", "file", "format", "alter", "phylogeny"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1432402277, "last_edit_date": 1432402277, "creation_date": 1432401132, "answer_id": 30415478, "question_id": 30415255, "link": "https://stackoverflow.com/questions/30415255/alter-a-file-using-information-from-another-file/30415478#30415478", "title": "Alter a file using information from another file", "body": "<p>Some guidelines on your own code</p>\n\n<ul>\n<li><p>The problem is almost certainly that you are opening the same file <code>$ARGV[0]</code> twice. Presumably one should be `$ARGV[1]</p></li>\n<li><p>You <strong><em>must always</em></strong> <code>use strict</code> and <code>use warnings</code> at the top of every Perl program you write (there is very little point in declaring your variables unless <code>use strict</code> is in place) and declare all your variables with <code>my</code> as close as possible to their first point of use. It is bad form to declare all your variables in a block at the start, because it makes them all effectively global, and you lose most of the advantages of declaring lexical variables</p></li>\n<li><p>You should use the three-parameter form of <code>open</code>, and it is a good idea to put the name of the file in the <code>die</code> string so that you can see which one failed. So</p>\n\n<pre><code>open(my $tree, \"$ARGV[0]\") or die \"Failed to open file: $!\\n\";\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>open my $tree, '&lt;', $ARGV[0] or die qq{Failed to open \"$ARGV[0]\" for input: $!\\n};\n</code></pre></li>\n<li><p>You should look for simpler solutions rather than apply regex methods every time. <code>$line =~ m/(\\w+)\\;+(\\w+\\s+\\w*)/</code> is much tidier as <code>chomp</code>, <code>split /;/</code></p></li>\n<li><p>You shouldn't use double-quotes around variables when you want just the value of the variable, so <code>print $new_tree \"$string\"</code> should be <code>print $new_tree $string</code></p></li>\n</ul>\n\n<p>Rather than trying to use the data from the <em>other file</em> (please try to use useful names for items in your question, as it's tough to know what to call them when writing a solution) it is best to build a hash that contains all the translations</p>\n\n<p>This program will do as you ask. It builds a regex consisting of an alternation of all the hash keys, and then converts all ocurrences of that pattern into its corresponding name. Only those names that are in your sample <em>other file</em> are translated: the others are left as they are</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.014;  # For non-destructive substitution\nuse autodie;\n\nmy %names;\nopen my $fh, '&lt;', 'other_file.txt';\nwhile ( &lt;$fh&gt; ) {\n  my ($k, $v) = split /;/, s/\\s+\\z//r;\n  $names{$k} = $v;\n}\n\nopen $fh, '&lt;', 'phylip.txt';\nmy $data = &lt;$fh&gt;;\nclose $fh;\n\nmy $re = join '|', sort { length $b &lt;=&gt; length $a } keys %names;\n$re = qr/(?:$re)/;\n$data =~ s/\\b($re)\\b/$names{$1}/g;\n\nprint $data;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>((Theileria parva:0.23400159127856412500,(((aaaaaaaaxv:0.44910864993667892753,aaaaaaaagf:0.51328033054009691849):0.06090419044604544752,((aaaaaaabyc:0.11709094683204501752,aaaaaaafzz:0.04488198976629347720):0.09529995111708353117,((aaaaaaadbn:0.34408087090010841536,Cryptosporidium hominis:0.47991503739434709930):0.06859184769990583908,((Ciona savignyi:0.09244297511609228524,Homo sapiens:0.12568841555837687030):0.28431\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>Here is a revised version of your own program with the above points accounted for and the bugs fixed</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen my $tree_fh, '&lt;', $ARGV[0] or die qq{Failed to open \"$ARGV[0]\" for input: $!\\n};\nmy $string = &lt;$tree_fh&gt;;\nclose $tree_fh;\n\nopen my $csv_fh,  '&lt;', $ARGV[1] or die qq{Failed to open \"$ARGV[1]\" for input: $!\\n};\nwhile ( &lt;$csv_fh&gt; ) {\n    chomp;\n    my ($find, $replace) = split /;/;\n    $string =~ s/$find/$replace/g;\n}\nclose $csv_fh;\n\nopen my $new_tree_fh, '&gt;', 'raxml_tree.phy' or die qq{Failed to open \"raxml_tree.phy\" for output: $!\\n};\nprint $new_tree_fh $string;\nclose $new_tree_fh;\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 3767953, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d63deb1aec93f67b9add5fa30a235bc4?s=128&d=identicon&r=PG&f=1", "display_name": "user3767953", "link": "https://stackoverflow.com/users/3767953/user3767953"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 30415478, "answer_count": 1, "score": 0, "last_activity_date": 1432402277, "creation_date": 1432399926, "last_edit_date": 1432400366, "question_id": 30415255, "link": "https://stackoverflow.com/questions/30415255/alter-a-file-using-information-from-another-file", "title": "Alter a file using information from another file", "body": "<p>I want to alter the names in a phylip file using information from another file. The phylip is just one continuous string of information, and the names I want to alter (e.g. <code>aaaaaaabyd</code>) are embedded in it. Like so</p>\n\n<pre><code>((aaaaaaabyd:0.23400159127856412500,(((aaaaaaaaxv:0.44910864993667892753,aaaaaaaagf:0.51328033054009691849):0.06090419044604544752,((aaaaaaabyc:0.11709094683204501752,aaaaaaafzz:0.04488198976629347720):0.09529995111708353117,((aaaaaaadbn:0.34408087090010841536,aaaaaaaafj:0.47991503739434709930):0.06859184769990583908,((aaaaaaaabk:0.09244297511609228524,aaaaaaaete:0.12568841555837687030):0.28431\n</code></pre>\n\n<p>(there are no new lines)</p>\n\n<p>The names within are like <code>aaaaaaaabk</code>. </p>\n\n<p>The other file has the information change to, like so in the other file,</p>\n\n<pre><code>aaaaaaaabk;Ciona savignyi\naaaaaaaete;Homo sapiens\naaaaaaaafj;Cryptosporidium hominis\naaaaaaaaad;Strongylocentrotus purpuratus\naaaaaaabyd;Theileria parva\naaaaaaaaaf;Plasmodium vivax\n</code></pre>\n\n<p>I have tried numerous things but this is the closest I got. The problem is it does it for one and doesn't print out the rest of the phylip file. I need to get to ((Theileria parva:0.23400159127856412500, etc.</p>\n\n<pre><code>open(my $tree, \"$ARGV[0]\") or die \"Failed to open file: $!\\n\";\nopen(my $csv,  \"$ARGV[0]\") or die \"Failed to open file: $!\\n\";\nopen(my $new_tree, \"&gt; raxml_tree.phy\");\n\n# Declare variables\nmy $find;\nmy $replace;\nmy $digest;\n\n# put the file of the tree into string variable\nmy $string = &lt;$tree&gt;;\n\n# open csv file\nwhile (my $line = &lt;$csv&gt;) {\n\n    # aaaaaaaaaa;Ciona savignyi\n\n    if ($line =~ m/(\\w+)\\;+(\\w+\\s+\\w*)/) {\n        $find    = $1;\n        $replace = $2;\n        $string =~ s/$find/$replace/g;\n    }\n}\nprint $new_tree \"$string\";\n\nclose $tree;\nclose $csv;\nclose $new_tree;\n</code></pre>\n"}, {"tags": ["perl", "xs"], "comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 4, "creation_date": 1432398729, "post_id": 30414411, "comment_id": 48916062, "body": "That sounds like an interesting feature. :)"}, {"owner": {"reputation": 173, "user_id": 2503866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDlOa.jpg?s=128&g=1", "display_name": "LLFourn", "link": "https://stackoverflow.com/users/2503866/llfourn"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1432399817, "post_id": 30414411, "comment_id": 48916420, "body": "I thought of it while getting annoyed doing <code>if( $dom-&gt;at(&#39;div&#39;)-&gt;at(&#39;h1&#39;)) { </code> in Mojo::DOM and getting can&#39;t call undefined becasue <code>div</code> didn&#39;t exist :)"}, {"owner": {"reputation": 173, "user_id": 2503866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDlOa.jpg?s=128&g=1", "display_name": "LLFourn", "link": "https://stackoverflow.com/users/2503866/llfourn"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1432483502, "post_id": 30414411, "comment_id": 48936202, "body": "I have not figured this out yet but this looks promising: <a href=\"https://metacpan.org/pod/B::Utils\" rel=\"nofollow noreferrer\">metacpan.org/pod/B::Utils</a>"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 1, "creation_date": 1432488155, "post_id": 30414411, "comment_id": 48937465, "body": "Have you considered using <code>autobox</code>? A very simple package with a fundamental <code>AUTOLOAD</code> routine would suffice. You wouldn&#39;t have a new operator, but adding all possible methods there are to <code>undef</code>. This would probably have terrible performance impacts. Like this: <code>use autobox UNDEF =&gt; &#39;SilentUndef&#39;; \u2026 your code\u2026 package SilentUndef; sub AUTOLOAD {sub{}}</code>."}, {"owner": {"reputation": 173, "user_id": 2503866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDlOa.jpg?s=128&g=1", "display_name": "LLFourn", "link": "https://stackoverflow.com/users/2503866/llfourn"}, "edited": false, "score": 0, "creation_date": 1432488712, "post_id": 30414411, "comment_id": 48937616, "body": "Thanks I hadn&#39;t seen autobox before. That looks like a good solution. Wouldn&#39;t it not be too bad performance wise because you are only &#39;autoboxing&#39; undef (which shouldn&#39;t be called on anyway). But  right now I&#39;m actually just trying to learn about the parser. The &quot;tentatively call&quot; thing above that avoids undef was just an example. BTW I now think I have to use: <a href=\"https://metacpan.org/pod/B::Hooks::OP::Check\" rel=\"nofollow noreferrer\">metacpan.org/pod/B::Hooks::OP::Check</a>."}, {"owner": {"reputation": 173, "user_id": 2503866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDlOa.jpg?s=128&g=1", "display_name": "LLFourn", "link": "https://stackoverflow.com/users/2503866/llfourn"}, "edited": false, "score": 0, "creation_date": 1437235371, "post_id": 30414411, "comment_id": 50949336, "body": "I never spent the time to figure out how to use B::Hooks to do this in perl5. I ended up doing it in perl6:  <a href=\"https://github.com/LLFourn/perl6-slang-dotty\" rel=\"nofollow noreferrer\">Slang::Dotty</a>. In perl6 you can actually change the the syntax at runtime arbitrarily. Which is called a &quot;slang&quot;."}, {"owner": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 2, "creation_date": 1441083228, "post_id": 30414411, "comment_id": 52522133, "body": "When I did some XS in the past (which I completely forgot at this point) I started from <a href=\"http://perldoc.perl.org/perlxstut.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlxstut.html</a>   For adding new operators, I would probably start from <a href=\"http://perldoc.perl.org/perlguts.html#Custom-Operators\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlguts.html#Custom-Operators</a>"}, {"owner": {"reputation": 173, "user_id": 2503866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDlOa.jpg?s=128&g=1", "display_name": "LLFourn", "link": "https://stackoverflow.com/users/2503866/llfourn"}, "reply_to_user": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 0, "creation_date": 1441095906, "post_id": 30414411, "comment_id": 52528101, "body": "@polettix That looks exactly what I need. I&#39;d say using B::Hooks::OP::Check and hooking the custom operator OP would be the place to start. I won&#39;t be able to test this theory for a month or so."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1446141925, "creation_date": 1446141925, "answer_id": 33421545, "question_id": 30414411, "link": "https://stackoverflow.com/questions/30414411/how-to-use-bhooks-to-manipulate-the-perl-parser/33421545#33421545", "title": "How to use B::Hooks to manipulate the perl parser", "body": "<p>I don't believe you can add infix operators (operators whose operands are before and after the operator), much less symbolic ones (as opposed to named operators), but you could write an an op checker that replaces method calls. This means you could cause <code>-&gt;foo</code> to behave differently. By writing your module as a pragma, you could limit the effect of your module to a lexical scope (e.g. <code>{ use mypragma; ...}</code>).</p>\n"}], "owner": {"reputation": 173, "user_id": 2503866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDlOa.jpg?s=128&g=1", "display_name": "LLFourn", "link": "https://stackoverflow.com/users/2503866/llfourn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 2, "accepted_answer_id": 33421545, "answer_count": 1, "score": 15, "last_activity_date": 1446141925, "creation_date": 1432394727, "last_edit_date": 1432539422, "question_id": 30414411, "link": "https://stackoverflow.com/questions/30414411/how-to-use-bhooks-to-manipulate-the-perl-parser", "title": "How to use B::Hooks to manipulate the perl parser", "body": "<p>I'm looking to play with perl parser manipulation. It looks like the various <code>B::Hooks</code> modules are what people use. I was wondering:</p>\n\n<ol>\n<li><p>Best place to start for someone who has no <code>XS</code> experience (yet). Any relevant blog posts?</p></li>\n<li><p>How much work would be involved in creating a new operator, for example:</p>\n\n<p><code>$a~&gt;one~&gt;two~&gt;three</code></p></li>\n</ol>\n\n<p><code>~&gt;</code> would work like <code>-&gt;</code> but it would not try to call on <code>undef</code> and would instead simply return <code>undef</code> to LHS.</p>\n\n<p>Although a source filter would work -- I'm more interested in seeing how you can manipulate the parser at a deeper level.</p>\n"}, {"tags": ["perl", "shell", "ssh"], "comments": [{"owner": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 0, "creation_date": 1432428589, "post_id": 30411707, "comment_id": 48923813, "body": "&quot;the shell script is invoked but ssh seems not to be working.&quot; That&#39;s pretty vague. What specifically happens? Do you get any error messages? Does anything appear in the web server log?"}], "answers": [{"tags": [], "owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "is_accepted": false, "score": 0, "last_activity_date": 1432385986, "creation_date": 1432385986, "answer_id": 30412968, "question_id": 30411707, "link": "https://stackoverflow.com/questions/30411707/unable-to-ssh-to-a-remote-machine-through-shell-script-while-accessing-it-from-u/30412968#30412968", "title": "Unable to ssh to a remote machine through shell script while accessing it from UI", "body": "<p>When you run it as yourself <code>ssh</code> is offering your keys to authenticate you.  When you run it through the webserver, the webserver user is trying to run the ssh command, and does not have your ssh keys to offer, so is probably being prompted for a password, and not successfully logging in.</p>\n\n<p>You could fix this by generating ssh keys for the webserver user and sharing that key with the target system as well, which has some security implications to say the least.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4932271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2716cb86684549c6f474c5b40198b7?s=128&d=identicon&r=PG&f=1", "display_name": "erd", "link": "https://stackoverflow.com/users/4932271/erd"}, "is_accepted": false, "score": 1, "last_activity_date": 1432473443, "creation_date": 1432473443, "answer_id": 30423941, "question_id": 30411707, "link": "https://stackoverflow.com/questions/30411707/unable-to-ssh-to-a-remote-machine-through-shell-script-while-accessing-it-from-u/30423941#30423941", "title": "Unable to ssh to a remote machine through shell script while accessing it from UI", "body": "<p>When you ssh from windows machine all connections are made as webuser which is not authorized to ssh into remote machine. On other hand when you ssh from linux terminal you are able to ssh as user there is authorized to do so. This is because linux user has its ssh key on remote server.</p>\n\n<p>You can also try to look into <code>ProxyCommand</code> which might come to rescue but i have no idea how it will work with windows. </p>\n\n<p>Other approach is to create ssh keys for webuser and put them into remomte server which will be security risk. </p>\n"}], "owner": {"reputation": 19, "user_id": 4930509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66d46a778b251739f615d562714e2b88?s=128&d=identicon&r=PG&f=1", "display_name": "Vineet Sharma", "link": "https://stackoverflow.com/users/4930509/vineet-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1432473443, "creation_date": 1432377755, "last_edit_date": 1432391090, "question_id": 30411707, "link": "https://stackoverflow.com/questions/30411707/unable-to-ssh-to-a-remote-machine-through-shell-script-while-accessing-it-from-u", "title": "Unable to ssh to a remote machine through shell script while accessing it from UI", "body": "<p>I have a Linux machine where I have created a cgi script (JarPatch.cgi), the code of which looks like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nprint \"Content-type: text/html\\n\\n\";\nsystem (\"sh JarPatch.sh\");\n</code></pre>\n\n<h2>The code of JarPatch.sh looks like this:</h2>\n\n<pre><code>#!/bin/bash\n\necho \"Inside jar patching tool\";\n\nPJS_DEV=app4915@slcai833.us.oracle.com;\nssh -f $PJS_DEV  \"cd /slot/ems4915/appmgr/tmp; echo stopping server ;  ./find_stop_servers.sh;\"\n\n   echo \"Exit jar patching tool\";\n</code></pre>\n\n<hr>\n\n<p>This script will basically shut  down a server running on the remote machine</p>\n\n<p>Problem statement is this:\nWhen I execute this cgi script through Linux terminal. I can see that the ssh commands are getting executed. Server is shut down.</p>\n\n<p>When I access the cgi script through a windows machine in a browser, the shell script is invoked but ssh seems not to be working. </p>\n\n<p>Can any one give me a pointer to resolve this issue please? \nI am new to perl/shell integration. So might be missing something small as well.\nThanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2399, "user_id": 420431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b661d2be6b4699e60f7b837a298451a0?s=128&d=identicon&r=PG", "display_name": "Grrrr", "link": "https://stackoverflow.com/users/420431/grrrr"}, "edited": false, "score": 2, "creation_date": 1432398978, "post_id": 30411620, "comment_id": 48916135, "body": "It will not, unless, as you mentioned, you <code>use lib</code> or wrap the push into a <code>BEGIN</code> block."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1432404114, "post_id": 30411620, "comment_id": 48917927, "body": "I don&#39;t really understand your question. What makes you think that <code>perl -c</code> is different from <code>perl</code> in this regard?"}], "answers": [{"tags": [], "owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "is_accepted": false, "score": 0, "last_activity_date": 1432415778, "creation_date": 1432415778, "answer_id": 30417681, "question_id": 30411620, "link": "https://stackoverflow.com/questions/30411620/usage-of-c-in-perl-with-code-that-modifies-inc/30417681#30417681", "title": "Usage of -c in perl with code that modifies @INC", "body": "<p>No, your sample code won't find the \"abc\" module when run as <code>perl -c</code>. It won't find it when run <em>without</em> <code>-c</code> either but you appear to know that already. <code>use</code> happens at compile time. The <code>push</code> won't happen until runtime unless it's wrapped in a <code>BEGIN</code> block. If you do that (or <code>use lib</code>) then it <em>will</em> work under <code>perl -c</code>. From perlrun:</p>\n\n<blockquote>\n  <p><strong><code>-c</code></strong><p>causes Perl to check the syntax of the program and then exit\n  without executing it. Actually, it will execute and <code>BEGIN</code>, <code>UNITCHECK</code>,\n  or <code>CHECK</code> blocks and any <code>use</code> statements: these are considered as\n  occurring outside the execution of your program. <code>INIT</code> and <code>END</code> blocks,\n  however, will be skipped.</p>\n</blockquote>\n"}], "owner": {"reputation": 39, "user_id": 4515099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6796e8cb665f5b80b2390d962d2b8fa?s=128&d=identicon&r=PG&f=1", "display_name": "Aniket Golatkar", "link": "https://stackoverflow.com/users/4515099/aniket-golatkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432415778, "creation_date": 1432377127, "last_edit_date": 1432377476, "question_id": 30411620, "link": "https://stackoverflow.com/questions/30411620/usage-of-c-in-perl-with-code-that-modifies-inc", "title": "Usage of -c in perl with code that modifies @INC", "body": "<p>Consider the following script \"test.pl\".</p>\n\n<h3>test.pl</h3>\n\n<pre><code>#usr/bin/perl -w\n\npush (@INC,\"path_for_abc\");\nuse abc;\n\n#rest of the code ...\n</code></pre>\n\n<h3>Command prompt:</h3>\n\n<pre><code>$ perl -c test.pl\n</code></pre>\n\n<p>I know that I will have to add \"use lib\" pragma or have to push the path inside @INC in Begin block to make it work.</p>\n\n<p>If the path for the module is not defined in defined in @INC,\nWill \"perl -c test.pl\"  push the \"path_for_abc\" while snytax checking?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 1650, "user_id": 1984756, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3a80da873a5a5eed96f9f9df4f8a24a3?s=128&d=identicon&r=PG", "display_name": "PYPL", "link": "https://stackoverflow.com/users/1984756/pypl"}, "edited": false, "score": 0, "creation_date": 1432367970, "post_id": 30409263, "comment_id": 48907648, "body": "are you sure <code>$sec_hash_key</code> is a string?"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1432371107, "post_id": 30409263, "comment_id": 48908289, "body": "Can you print your data structure using <code>Data::Dumper</code>?"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 2, "creation_date": 1432371151, "post_id": 30409263, "comment_id": 48908302, "body": "<code>use Data::Dumper;</code> <code>print Dumper \\%primary_hash;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 80, "user_id": 4025655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b708f7d61edb8730a8d2c5bf22afb1ed?s=128&d=identicon&r=PG&f=1", "display_name": "lamchob", "link": "https://stackoverflow.com/users/4025655/lamchob"}, "is_accepted": false, "score": -3, "last_activity_date": 1432366747, "last_edit_date": 1432366747, "creation_date": 1432363811, "answer_id": 30409834, "question_id": 30409263, "link": "https://stackoverflow.com/questions/30409263/removing-a-key-from-a-perl-hash/30409834#30409834", "title": "Removing a key from a Perl hash", "body": "<p>What do you mean by 'delete'? Free the memory, or just want the\nkey to be undefined, when checking for it in an <code>if</code> statement?</p>\n\n<p>The latter you can achieve my setting the key <code>undef</code>.</p>\n\n<p><code>$primary_hash{$sec_hash_key} = undef;</code>.</p>\n\n<p>But please provide a full working example of your problem, so\nit can be reproduced.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 4, "last_activity_date": 1432377989, "creation_date": 1432377989, "answer_id": 30411755, "question_id": 30409263, "link": "https://stackoverflow.com/questions/30409263/removing-a-key-from-a-perl-hash/30411755#30411755", "title": "Removing a key from a Perl hash", "body": "<p>In Perl, hash keys are <strong><em>always</em></strong> strings. If you specify a non-string object as a hash key, perl will stringify it to be able to use it as a key. Therefore, when you say:</p>\n\n<blockquote>\n  <p>I have hash in which it's [sic] keys are hashes</p>\n</blockquote>\n\n<p>you are wrong. They are not hashes, they are strings.</p>\n\n<p>Now, if you did something like:</p>\n\n<pre><code>my %h = (a =&gt; 1);\nmy %g = (%h =&gt; 2);\n</code></pre>\n\n<p>That would have created <code>%g</code> as:</p>\n\n<pre><code>(a =&gt; 1, 2 =&gt; undef);\n</code></pre>\n\n<p>If, instead, you did <code>%g = (\\%h =&gt; 2)</code>, that would have created something along the lines of:</p>\n\n<pre><code> %g = (\n      'HASH(0x7ff92882cbd8)' =&gt; 2\n );\n</code></pre>\n\n<p>Note that the key is a string. You cannot go back to the data structure from that string.</p>\n"}], "owner": {"reputation": 43, "user_id": 4082747, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4da281ab31b4b74371b7af8099a0b093?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Patel", "link": "https://stackoverflow.com/users/4082747/vivek-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1432399943, "creation_date": 1432359441, "last_edit_date": 1432399943, "question_id": 30409263, "link": "https://stackoverflow.com/questions/30409263/removing-a-key-from-a-perl-hash", "title": "Removing a key from a Perl hash", "body": "<p>I have a hash in which its keys are hashes. I want to rename some of the keys inside the primary hash by adding a key with the desired name and deleting the unwanted key. I succeeded in adding a key, but I'm unable to delete the original key.</p>\n\n<p>This statement isn't working</p>\n\n<pre><code>delete $primary_hash{$sec_hash_key};\n</code></pre>\n\n<p>If I print the value of <code>$primary_hash{$sec_hash_key}</code> it's returning <code>$HASH(0X*)</code>. I don't know what is missing in syntax?</p>\n"}, {"tags": ["json", "perl", "client", "perl-module"], "comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1432332197, "post_id": 30406429, "comment_id": 48900642, "body": "How are you actually accessing the ws response and trying to print the content? If you suspect an error there you should show that code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432333718, "post_id": 30406429, "comment_id": 48901146, "body": "It looks like the response body is correct. Please show what you&#39;re doing to access the JSON wihin it, or rather what you&#39;re doing to get <code>1</code> each time"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1432335439, "post_id": 30406429, "comment_id": 48901684, "body": "Unless you&#39;ve disabled deserialisation your variable <code>$results</code> will be a <code>SOAP::SOM</code> object. I suggest that you <code>use Data::Dump</code> and <code>dd $results-&gt;body</code> so that you can better see what you&#39;ve got. You should also show that dumper output if you need any further help"}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 1508963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff77f7fd7c7c7201b06254a674138f2?s=128&d=identicon&r=PG", "display_name": "DevZone", "link": "https://stackoverflow.com/users/1508963/devzone"}, "is_accepted": false, "score": 1, "last_activity_date": 1432831806, "creation_date": 1432831806, "answer_id": 30512616, "question_id": 30406429, "link": "https://stackoverflow.com/questions/30406429/perl-module-not-getting-correct-web-service-output/30512616#30512616", "title": "Perl module not getting correct web service output", "body": "<p>Sorry I missed the updates. I could use the dumper to see a proper response here, seems like I was receiving a hex value while doing a print on the results which was not right.</p>\n\n<p>The dumper returns a JSON string like - </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n          'return' =&gt; '{\"ATTUID\":\"pm304a\",\"GUID\":\"d353f542-43f6-421b-9573-4c9c39ce77e3\",\"CHRONICID\":420,\"OUTPUTFORMAT\":\"json\",\"USERNAME\":\"m91619\",\"STATUS_SUB_CODE_NAME\":\"Active\",\"SOURCESYSTEM\":\"Oasis\",\"STATUS_NAME\":\"Open\"}'\r\n        };</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now I am trying to parse this json using JSON:XS - decode_json, but end up in an error which says </p>\n\n<blockquote>\n  <p>Malformed JSON string neither array, object, number, string or atom,......</p>\n</blockquote>\n\n<p>I think thats because of the 'return' in the string, maybe I can strip it out and then pass to decode?</p>\n"}], "owner": {"reputation": 43, "user_id": 1508963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff77f7fd7c7c7201b06254a674138f2?s=128&d=identicon&r=PG", "display_name": "DevZone", "link": "https://stackoverflow.com/users/1508963/devzone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432831806, "creation_date": 1432331789, "last_edit_date": 1432333626, "question_id": 30406429, "link": "https://stackoverflow.com/questions/30406429/perl-module-not-getting-correct-web-service-output", "title": "Perl module not getting correct web service output", "body": "<p>Can someone validate this snippet and point out what I might be doing wrong?</p>\n\n<p>This is my code which creates and does a SOAP call.</p>\n\n<pre><code>my $soap = SOAP::Lite-&gt;new()-&gt;proxy($proxy)-&gt;ns('http://example.com', 'ser')-&gt;getInfo(\n  SOAP::Data-&gt;name(chronicId    =&gt; $ticket_num)-&gt;prefix('ser'),\n  SOAP::Data-&gt;name(sourceSystem =&gt; $sourceSystem)-&gt;prefix('ser'),\n  SOAP::Data-&gt;name(outputFormat =&gt; $outputFormat)-&gt;prefix('ser'),\n  SOAP::Data-&gt;name(uid          =&gt; $uid)-&gt;prefix('ser'),\n  SOAP::Data-&gt;name(username     =&gt; $username)-&gt;prefix('ser'),\n  SOAP::Data-&gt;name(guid         =&gt; $guid)-&gt;prefix('ser')\n);\n\n$results = $soap-&gt;call($method);\n</code></pre>\n\n<p>This is the result I get, when I use a test script to execute the above code.</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soapenv:Body&gt;\n    &lt;ns:getChronicInfoResponse xmlns:ns=\"http://example.com\"&gt;\n      &lt;ns:return xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type=\"xs:string\"&gt;\n        {\n          \"UID\":\"abc1234\",\n          \"GUID\":\"\",\n          \"CHRONICID\":123,\n          \"OUTPUTFORMAT\":\"json\",\n          \"USERNAME\":\"xyz\",\n          \"STATUS_SUB_CODE_NAME\":\"Active\",\n          \"SOURCESYSTEM\":\"abc\",\n          \"STATUS_NAME\":\"Open\"\n        }\n      &lt;/ns:return&gt;\n    &lt;/ns:getChronicInfoResponse&gt;\n  &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>However when I try to read the web server response into a variable and print it out, all I get is a 1 (it's not empty though) nothing else. The output is supposed to be in JSON, as shown above, which I would then need to parse.</p>\n\n<p>Any guesses what I might be doing wrong? I am new to Perl so it could be a silly thing.</p>\n"}, {"tags": ["perl", "list", "hash", "compare"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432324759, "post_id": 30404930, "comment_id": 48897651, "body": "You may not know how many lists there are when you write the program, but the program knows how many there are at the point of the call, right?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432331187, "post_id": 30404930, "comment_id": 48900301, "body": "I&#39;m glad your problem is fixed, but you shouldn&#39;t post another solution in order to say so. You don&#39;t have to say anything, but if you do then it should be as a comment on the answer that helped. Ultimately you can upvote (or downvote) solutions that you think are good (or useless) for whatever reason. And if your problem has been resolved then you should <i>accept</i> the solution that works best for you, by clicking the green tick mark, so that others can see that the question needs no further input. Welcome to Stack Overflow"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1432332624, "last_edit_date": 1432332624, "creation_date": 1432325547, "answer_id": 30405165, "question_id": 30404930, "link": "https://stackoverflow.com/questions/30404930/how-do-i-pass-a-variable-number-of-arrays-in-a-hash-to-the-listcompare-perl-mo/30405165#30405165", "title": "How do I pass a variable number of arrays in a hash to the List::Compare perl module?", "body": "<p>The problem with your parameter construction is that you are defining <code>%l</code> (a dreadful identifier, by the way) as a hash containing a hash of arrays, like this</p>\n\n<pre><code>(\n  lists =&gt; {\n    a =&gt; [\"fred\", \"barney\", \"pebbles\", \"bambam\", \"dino\"],\n    b =&gt; [\"george\", \"jane\", \"elroy\", \"judy\"],\n    c =&gt; [\"homer\", \"bart\", \"marge\", \"maggie\"],\n    d =&gt; [\"fred\", \"barney\", \"pebbles\", \"bambam\", \"dino\"],\n    e =&gt; [\"fred\", \"george\", \"jane\", \"elroy\", \"judy\", \"pebbles\"],\n  },\n)\n</code></pre>\n\n<p>but the documentation is clear that it should be a simple hash containing an array of arrays</p>\n\n<pre><code>(\n  lists =&gt; [\n    [\"fred\", \"barney\", \"pebbles\", \"bambam\", \"dino\"],\n    [\"george\", \"jane\", \"elroy\", \"judy\"],\n    [\"homer\", \"bart\", \"marge\", \"maggie\"],\n    [\"fred\", \"barney\", \"pebbles\", \"bambam\", \"dino\"],\n    [\"fred\", \"george\", \"jane\", \"elroy\", \"judy\", \"pebbles\"],\n  ],\n)\n</code></pre>\n\n<p>Furthermore, it doesn't help your problem that <em>\u201c[You] don't know how many lists (arrays) will be passed to the constructor\u201d</em> because all that you are doing is pushing the problem inside a data structure instead of keeping it at the parameter level</p>\n\n<p>It is difficult to help you with the data you have given because the intersection is the empty set, so here's a sample program you can experiment with that generates between five and ten sets of sixteen random alphabet letters. It creates different data to work with each time it is run, and passes the list of array references directly as parameters to the <code>new</code> constructor instead of using a reference to a hash with a single <code>lists</code> element</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse List::Util 'shuffle';\nuse List::Compare;\n\nmy @sets;\n\nmy $num_sets = 5 + rand(6);\n\nfor (1 .. $num_sets) {\n  my @set = (shuffle 'A' .. 'Z')[0..16];\n  push @sets, [ sort @set ];\n}\n\nmy $lc = List::Compare-&gt;new(@sets);\nmy @overlap = $lc-&gt;get_intersection;\n\nprint \"Sets:\\n\";\nprintf \"  %s\\n\", join ', ', @$_ for @sets;\nprint \"\\n\";\n\nprint \"Intersection:\\n\";\nprintf \"  %s\\n\", @overlap ? join(', ', @overlap) : 'None';\nprint \"\\n\";\n</code></pre>\n\n<p><strong>sample outputs</strong></p>\n\n<pre><code>Sets:\n  B, C, D, E, F, G, K, L, M, O, P, Q, S, U, V, W, X\n  B, C, D, F, G, I, J, L, M, P, R, T, U, V, W, X, Y\n  A, B, C, D, F, G, H, K, L, M, O, R, T, U, V, W, Y\n  A, B, D, G, H, I, K, L, M, O, R, T, U, V, W, Y, Z\n  A, B, C, D, E, F, H, J, K, L, M, P, Q, S, U, V, Z\n\nIntersection:\n  B, D, L, M, U, V\n</code></pre>\n\n\n\n<pre><code>Sets:\n  A, B, C, D, F, J, K, L, M, N, Q, R, U, V, W, X, Y\n  A, E, F, G, H, I, J, L, O, P, Q, R, S, T, V, X, Z\n  B, E, G, H, J, K, L, M, N, P, S, T, U, V, W, Y, Z\n  B, C, D, E, F, G, H, I, J, N, O, Q, R, T, V, W, Z\n  A, B, C, E, F, G, H, I, L, N, O, Q, T, U, W, X, Y\n\nIntersection:\n  None\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>With regard to the updated code in your question, your identifier <code>$num_sets</code> is wrongly-named as it is the <em>index</em> of the final element in <code>@sets</code>, or one less than the actual number of sets</p>\n\n<p>If you want to use a variable then you should say</p>\n\n<pre><code>my $num_sets = @sets_to_process;\n</code></pre>\n\n<p>and then loop like this</p>\n\n<pre><code>for my $i ( 0 .. $num_sets-1 ) { ... }\n</code></pre>\n\n<p>But in this case you don't need the indices at all, and it's probably best to forget about <code>$num_sets</code> and write just this</p>\n\n<pre><code>for my $set ( @sets_to_process ) {\n    my @set = get_ids_in_list($dbh, $set);\n    push @sets, \\@set;\n}\n</code></pre>\n\n<p>or even just use <code>map</code> like this</p>\n\n<pre><code>my @sets = map [ get_ids_in_list($dbh, $_) ], @sets_to_process;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4929889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87173a2c0b4683bd2ffe591a2dc864bb?s=128&d=identicon&r=PG&f=1", "display_name": "bryan", "link": "https://stackoverflow.com/users/4929889/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 30405165, "answer_count": 1, "score": -1, "last_activity_date": 1432332624, "creation_date": 1432324561, "last_edit_date": 1432332476, "question_id": 30404930, "link": "https://stackoverflow.com/questions/30404930/how-do-i-pass-a-variable-number-of-arrays-in-a-hash-to-the-listcompare-perl-mo", "title": "How do I pass a variable number of arrays in a hash to the List::Compare perl module?", "body": "<p>I know this question has been asked before here (<a href=\"https://stackoverflow.com/questions/11320012/compare-multiple-hashes-for-common-keys-merge-values\">compare multiple hashes for common keys merge values</a>). As far as I can tell, it went unanswered.  If you answer, please include an example that uses the List::Compare->new() constructor.</p>\n\n<p><a href=\"https://metacpan.org/pod/List::Compare\" rel=\"nofollow\">List::Compare</a> has the ability to accept multiple arrays as input. However, there are no examples that explain how to do so if you do not know in advance how many there will be passed to the constructor.</p>\n\n<p>Example from the man page:</p>\n\n<pre><code>$lcm = List::Compare-&gt;new(\\@Al, \\@Bob, \\@Carmen, \\@Don, \\@Ed);\n</code></pre>\n\n<p>or...</p>\n\n<p>You may use the 'single hashref' constructor format to build a\nList::Compare object to process three or more lists at once:</p>\n\n<p><code>$lcm = List::Compare-&gt;new( { lists =&gt; [\\@Al, \\@Bob, \\@Carmen, \\@Don, @Ed], } );</code></p>\n\n<p>or</p>\n\n<pre><code>$lcm = List::Compare-&gt;new( { \n        lists =&gt; [\\@Al, \\@Bob, \\@Carmen, \\@Don, \\@Ed],\n        unsorted =&gt; 1, } );\n</code></pre>\n\n<p>I need to use this 'single hashref' constructor above, because I don't know how many lists (arrays) will be passed to the constructor. The closest I come is this:</p>\n\n<pre><code>my %l;\nmy @a = (\"fred\", \"barney\", \"pebbles\", \"bambam\", \"dino\");\nmy @b = (\"george\", \"jane\", \"elroy\", \"judy\");\nmy @c = (\"homer\", \"bart\", \"marge\", \"maggie\");\nmy @d = (\"fred\", \"barney\", \"pebbles\", \"bambam\", \"dino\");\nmy @e = (\"fred\", \"george\", \"jane\", \"elroy\", \"judy\", \"pebbles\");\n\n$l{'lists'}{'a'} = [ @a ];\n$l{'lists'}{'b'} = [ @b ];\n$l{'lists'}{'c'} = [ @c ];\n$l{'lists'}{'d'} = [ @d ];\n$l{'lists'}{'e'} = [ @e ];\n\nmy $lc = List::Compare-&gt;new(\\%l);\nmy @intersection = $lc-&gt;get_intersection;\nprint @intersection . \"\\n\";\n</code></pre>\n\n<p>I am getting:</p>\n\n<p>Need to define 'lists' key properly:  at /usr/local/share/perl5/List/Compare.pm line 21.</p>\n\n<p>The Compare.pm code (line 21) is:</p>\n\n<pre><code>die \"Need to define 'lists' key properly: $!\"\n        unless ( ${$argref}{'lists'}\n             and (ref(${$argref}{'lists'}) eq 'ARRAY') );\n</code></pre>\n\n<p>Can someone tell me how to construct and name this hash from simple arrays?  I need to be able to process a wide and varied number of them continuously. There could possibly be hundreds of arrays involved.</p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>@Borodin's answer was exactly what I needed. I apologize for the bad data, was trying to come up with something concise.  Here is what derived from that code</p>\n\n<pre><code>my @sets_to_process = qw( DOW SP500 has_trend_lines_day );\nmy @sets;\nmy $num_sets = $#sets_to_process;\n\nfor my $i (0 .. $num_sets) {\n    my @set = get_ids_in_list( $dbh, $sets_to_process[$i] );\n    push @sets, \\@set;\n}\n\nmy $lc = List::Compare-&gt;new(@sets);\nmy @intersection = $lc-&gt;get_intersection;\n\nprint \"Sets:\\n\";\nprintf \"  %s\\n\", join ', ', @$_ for @sets;\nprint \"\\n\";\n\nprint \"Intersection:\\n\";\nprintf \"  %s\\n\", @intersection? join(', ', @intersection) : 'None';\nprint \"\\n\";\n</code></pre>\n"}, {"tags": ["python", "bash", "perl", "subprocess"], "comments": [{"owner": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 2, "creation_date": 1432324954, "post_id": 30404890, "comment_id": 48897752, "body": "is the perl script writing to the file?"}, {"owner": {"reputation": 71, "user_id": 4236912, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d016468ccfc1bfdfa3ec1a011e9bb2cf?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Kieft", "link": "https://stackoverflow.com/users/4236912/brandon-kieft"}, "reply_to_user": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1432328338, "post_id": 30404890, "comment_id": 48899218, "body": "No, it is not directly writing to the file I pass into the perl script. Perl is taking a file as input (the file made from my python script) and creating a new file based on that information. This new file is what I would like to put back into my python script for further manipulation"}, {"owner": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1432328442, "post_id": 30404890, "comment_id": 48899257, "body": "so you are passing a filename or the content? Also would it not be easier do all the work in one or the other instead of both?"}, {"owner": {"reputation": 71, "user_id": 4236912, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d016468ccfc1bfdfa3ec1a011e9bb2cf?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Kieft", "link": "https://stackoverflow.com/users/4236912/brandon-kieft"}, "reply_to_user": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1432328950, "post_id": 30404890, "comment_id": 48899486, "body": "I only know how to code in python, but I have a handy script given to me by my adviser that is written in perl. What I figured I could do was the following: Start my python script - it creates a file in the directory where I ran it. I then run the perl script by writing a child process to the command line (./my_perl.pl file_created_from_python.txt out_perl_file.txt). The perl script takes created_from_python.txt and makes a new file called out_perl_file.txt. Then I want the python program (still running) to read in the out_perl_file.txt for further manipulation."}, {"owner": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1432329316, "post_id": 30404890, "comment_id": 48899628, "body": "I am not familiar with perl but you would just want to make sure the data was written to the file before you opened it in perl and the same when you open it again in python to read the updated content."}], "answers": [{"comments": [{"owner": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1432325248, "post_id": 30405050, "comment_id": 48897885, "body": "The OP wants to pass a file to perl  then reopen it in python so I think there is going to be a bit more involved than this"}, {"owner": {"reputation": 3049, "user_id": 47603, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/dcGAA.jpg?s=128&g=1", "display_name": "Vince V.", "link": "https://stackoverflow.com/users/47603/vince-v"}, "reply_to_user": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1432325416, "post_id": 30405050, "comment_id": 48897938, "body": "@Padraic he can pass a string as an argument or the filepath as an argument. Then his call will wait until its done. He can then check if the error code is 0 and go further. That way he doesn&#39;t need to check async if the perl program is done. If I understand correctly."}, {"owner": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1432325785, "post_id": 30405050, "comment_id": 48898105, "body": "using <code>check_call</code> or <code>check_output</code> would be much simpler depending on what the perl script is doing,  if the OP is writing to the file in both python and perl then it may also get more complicated."}], "tags": [], "owner": {"reputation": 3049, "user_id": 47603, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/dcGAA.jpg?s=128&g=1", "display_name": "Vince V.", "link": "https://stackoverflow.com/users/47603/vince-v"}, "is_accepted": false, "score": 0, "last_activity_date": 1432324989, "creation_date": 1432324989, "answer_id": 30405050, "question_id": 30404890, "link": "https://stackoverflow.com/questions/30404890/how-can-i-pass-a-file-from-a-python-program-to-a-perl-script-and-then-reopen-it/30405050#30405050", "title": "How can I pass a file from a python program to a perl script and then reopen it in python?", "body": "<p>You can use the popen method of the subprocess module. </p>\n\n<pre><code>from subprocess import Popen, PIPE\n\np = Popen(['perl', 'myscript.perl'], stdin=PIPE, stdout=PIPE, stderr=PIPE)\noutput, err = p.communicate(b\"input data that is passed to subprocess' stdin\")\nrc = p.returncode\n</code></pre>\n\n<p>output variable is then your text.</p>\n"}], "owner": {"reputation": 71, "user_id": 4236912, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d016468ccfc1bfdfa3ec1a011e9bb2cf?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Kieft", "link": "https://stackoverflow.com/users/4236912/brandon-kieft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1432324989, "creation_date": 1432324415, "question_id": 30404890, "link": "https://stackoverflow.com/questions/30404890/how-can-i-pass-a-file-from-a-python-program-to-a-perl-script-and-then-reopen-it", "title": "How can I pass a file from a python program to a perl script and then reopen it in python?", "body": "<p>I have a python program that opens and manipulates a file. It takes a file with a single fasta entry (ex1) and splits it into a mulit-fasta file (ex2).</p>\n\n<p>ex1:</p>\n\n<pre><code>&gt;genome_fasta\nATCG.... (thousands of chars)\n</code></pre>\n\n<p>ex 2:</p>\n\n<pre><code>&gt;genome_split_1\nATCG.... (300 chars)\n&gt;genome_split_2\nGCTT.... (300 chars)\n&gt;genome_split_3\nATGG....(300 chars, etc.)\n</code></pre>\n\n<p>That is working fine. But now I want to get the penta-nucleotide frequencies for each one of these fasta entries. I have a perl script that does this nicely and formats the output how I want it.</p>\n\n<p>How can I pass my file (ex2) to this perl script, run it and get my output file, then pass the file back into my python script for further manipulation? </p>\n\n<p>I have tried to understand the subprocess module because that seems like the easiest idea (i.e. just run a subprocess on the terminal that runs the ./perl_script.pl), but can't figure it out.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1432323494, "post_id": 30404537, "comment_id": 48896982, "body": "Don&#39;t understand - what would the expected output look like if you extend the example to include &#39;3&#39;?"}, {"owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1432324014, "post_id": 30404537, "comment_id": 48897279, "body": "@fugu these numbers represent data extracted from corresponding numbered files (1-n), each file has a CO at the beginning and end of an arbitrary sequence, I want to keep the ending CO of each data set. As 1 ends with a CO, 2 begins with a CO, I want to delete the beginning CO. If it was extended to 3, I would keep the terminal CO in the end of 2 and delete the first CO lines in 3. Hope this makes sense."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1432325182, "post_id": 30404537, "comment_id": 48897856, "body": "Maybe you could include that in the question"}, {"owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1432325442, "post_id": 30404537, "comment_id": 48897948, "body": "@fugu sure, it&#39;s referenced here <a href=\"http://stackoverflow.com/questions/30043537/in-perl-mapping-between-a-reference-file-and-a-series-of-files\" title=\"in perl mapping between a reference file and a series of files\">stackoverflow.com/questions/30043537/&hellip;</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1432327116, "post_id": 30404537, "comment_id": 48898669, "body": "In you <code>while</code> loop the <code>chomp</code> will not remove the newline character from <code>$line</code> because you did not specify that. It will operate implicitly on <code>$_</code>, which is not what you want. Say <code>chomp $line;</code> instead."}], "answers": [{"comments": [{"owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "edited": false, "score": 0, "creation_date": 1432507109, "post_id": 30405476, "comment_id": 48942957, "body": "thank you for your code. It works! However, I can&#39;t seem to run it when I read the text file into a string using: open my $fh, &#39;&lt;&#39;, &#39;data.txt&#39; or die $!&quot;; my $input = do { local $/; &lt;$fh&gt;}; Isn&#39;t that what your first line $/ = &quot;&quot;; is doing?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "edited": false, "score": 1, "creation_date": 1432664666, "post_id": 30405476, "comment_id": 49012705, "body": "@EA00 - <code>$&#47;</code> is the record separator. Setting it to the <i><code>empty</code></i> string will read the whole file into memory on a $var = &lt;$fh&gt;; If you want to preserve the default <code>$&#47;</code> var, I think `do{local $/ = &quot;&quot;; $var = &lt;$fh&gt;;} should do it, but I&#39;m not a Perl expert."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": true, "score": 1, "last_activity_date": 1432345807, "last_edit_date": 1432345807, "creation_date": 1432326912, "answer_id": 30405476, "question_id": 30404537, "link": "https://stackoverflow.com/questions/30404537/perl-keep-only-one-of-two-consecutive-characters/30405476#30405476", "title": "Perl: Keep only one of two consecutive characters", "body": "<p>You could maybe do it all at once. Read the whole file into a string.<br>\nThen put it through this regex.  </p>\n\n<pre><code> # s/(?m)(^\\h+(\\d+)\\h+C.*\\s+^\\h+\\2\\h+O.*\\n)\\s*^\\h+(?!\\2)(\\d+)\\h+C.*\\s+^\\h+\\3\\h+O.*\\n(?!\\s*\\z)/$1/g\n\n (?xm-)\n # C-O in the bottom of a segment\n (                             # (1 start), Keep this\n      ^ \\h+                         # new line\n      ( \\d+ )                       # (2), col 1 number\n      \\h+ C .* \\s+                  # C\n      ^ \\h+                         # next line\n      \\2 \\h+ O .* \\n                # \\2 .. O \n )                             # (1 end)\n # Throw this away\n # C-O in the top of next segment\n \\s* \n ^ \\h+                         # new line\n (?! \\2 )                      # Not \\2\n ( \\d+ )                       # (3), col 1 num\n \\h+ C .* \\s+                  # C\n ^ \\h+                         # next line\n \\3 \\h+ O .* \\n                # \\3 .. O\n (?! \\s* \\z )                  # Not the last in file\n</code></pre>\n\n<p>Perl code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n$/ = \"\";\n\nmy $input = &lt;DATA&gt;;\nprint \"Input:\\n$input\\n\";\n\n$input =~\n\n s/(?xm-)\n     # C-O in the bottom of a segment\n     (                             # (1 start), Keep this\n          ^ \\h+                         # new line\n          ( \\d+ )                       # (2), col 1 number\n          \\h+ C .* \\s+                  # C\n          ^ \\h+                         # next line\n          \\2 \\h+ O .* \\n                # \\2 .. O \n     )                             # (1 end)\n     # Throw this away\n     # C-O in the top of next segment\n     \\s* \n     ^ \\h+                         # new line\n     (?! \\2 )                      # Not \\2\n     ( \\d+ )                       # (3), col 1 num\n     \\h+ C .* \\s+                  # C\n     ^ \\h+                         # next line\n     \\3 \\h+ O .* \\n                # \\3 .. O\n     (?! \\s* \\z )                  # Not the last in file\n/$1/g;\n\nprint \"Output:\\n$input\\n\";\n\n__DATA__\n    1       H       27.5310\n    1       H       27.0882\n    1       C       36.8857\n    1       O       -118.2564\n    2       C       36.6954\n    2       O       -118.5597\n    2       N       133.6704\n    2       H       28.3581\n</code></pre>\n\n<p>Code output:  </p>\n\n<pre><code>Input:\n    1       H       27.5310\n    1       H       27.0882\n    1       C       36.8857\n    1       O       -118.2564\n    2       C       36.6954\n    2       O       -118.5597\n    2       N       133.6704\n    2       H       28.3581\n\nOutput:\n    1       H       27.5310\n    1       H       27.0882\n    1       C       36.8857\n    1       O       -118.2564\n    2       N       133.6704\n    2       H       28.3581\n</code></pre>\n"}], "owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 30405476, "answer_count": 1, "score": 1, "last_activity_date": 1439587885, "creation_date": 1432322954, "last_edit_date": 1439587885, "question_id": 30404537, "link": "https://stackoverflow.com/questions/30404537/perl-keep-only-one-of-two-consecutive-characters", "title": "Perl: Keep only one of two consecutive characters", "body": "<p>I'm having trouble applying a regex to keep only one of two specific consecutive characters in a column. I have the following file in which C-O appears for number 1 and number 2, as indicated. I would like to write a new file in which only C-O in number 1 is present. This functionality needs to be repeated throughout the file, for example between number 2 and 3 (keep number 2), and number 3 and 4 (keep number 3) etc . </p>\n\n<pre><code>Input:\n    1       H       27.5310\n    1       H       27.0882\n    1       C       36.8857\n    1       O       -118.2564\n    2       C       36.6954\n    2       O       -118.5597\n    2       N       133.6704\n    2       H       28.3581\n\nOutput:\n    1       H       27.5310\n    1       H       27.0882\n    1       C       36.8857\n    1       O       -118.2564\n    2       N       133.6704\n    2       H       28.3581\n</code></pre>\n\n<p>This is what I have so far, hope my logic is semi-clear. I'm still learning and any commentary is greatly appreciated! </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $file = 'data.txt';\n\nopen my $fh, '&lt;', $file or die \"Can't read $file: $!\";\n\nwhile (my $line = &lt;fh&gt;) {\n    chomp $line;\n    my @column = split(/\\t/,$line);\n    if ($column[1] =~ s/COCO/\\s+/g) {\n    print \"@columns\\n\";\n   }\n }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1432323125, "post_id": 30404435, "comment_id": 48896787, "body": "Related: <a href=\"http://stackoverflow.com/q/1873329/176646\">How do I install Perl modules on machines without an Internet connection?</a>"}, {"owner": {"reputation": 850, "user_id": 258130, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8ffcb13424f6eae71cd96a1c1a7c1d2c?s=128&d=identicon&r=PG", "display_name": "skarface", "link": "https://stackoverflow.com/users/258130/skarface"}, "edited": false, "score": 0, "creation_date": 1432328688, "post_id": 30404435, "comment_id": 48899362, "body": "you can mirror cpan to a drive, then mount the drive."}], "owner": {"reputation": 11, "user_id": 4930324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8697550f518052a0e315716523c450?s=128&d=identicon&r=PG&f=1", "display_name": "issac", "link": "https://stackoverflow.com/users/4930324/issac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 351, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1432322647, "creation_date": 1432322647, "question_id": 30404435, "link": "https://stackoverflow.com/questions/30404435/how-to-install-perl-modules-with-all-dependencies-in-a-rhel-machine-without-inte", "title": "How to install perl modules with all dependencies in a RHEL machine without internet", "body": "<p>I would like to know is there any way to install perl modules with all its dependencies in a Redhat Linux machine without internet connection(for some security reasons the machine is not connected to internet)...I can download the modules from some other machine which have internet and then transfer the files using shared drive. But the challenge is to download all the dependencies of the package....Is there any other tool like cpan to download the packages with its dependencies. Thanks in advance!</p>\n"}, {"tags": ["perl", "module", "namespaces"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432321684, "post_id": 30403766, "comment_id": 48896011, "body": "It&#39;s <code>package</code> that does that, not <code>use</code>. That&#39;s the whole point of <code>package</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1432322213, "post_id": 30403766, "comment_id": 48896297, "body": "I think you are mistaken. If you test carefully you will find that, if <code>use Custom::Module</code> doesn&#39;t allow you to call <code>get_coll</code> directly, then neither does <code>require Custom::Module</code>. If you implement <code>Custom::Module</code> correctly using <code>Exporter</code> <i>and also</i> <code>use Custom::Module</code> then it will import the symbol into the calling code&#39;s namespace. Otherwise you must fully-qualify it as <code>Custom::Module::get_coll</code>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432322360, "post_id": 30404038, "comment_id": 48896389, "body": "Recently, it is recognised that <i>importing</i> from <code>Exporter</code> is better than <i>subclassing</i> it. So <code>use base &#39;Exporter&#39;</code> should be <code>use Exporter &#39;import&#39;</code>. Also, <code>*main::foo = *Custom::Module::foo</code> copies the entire <code>foo</code> glob, and should be <code>*main::foo = \\&amp;Custom::Module::foo</code>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432323146, "post_id": 30404038, "comment_id": 48896802, "body": "Unless you say <code>@EXPORT = qw(&amp;foo)</code>, <code>Exporter</code> will also copy the entire <code>foo</code> glob."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432328674, "post_id": 30404038, "comment_id": 48899358, "body": "No, it won&#39;t. See <a href=\"https://metacpan.org/pod/Exporter#How-to-Export\" rel=\"nofollow noreferrer\"><b><i>How to Export</i></b> in the <code>Exporter</code> documentation</a> which says <i>\u201cThe symbols must be given by full name with the exception that the ampersand in front of a function is optional\u201d</i>. I admit that&#39;s not definitive about what else may be exported, but the empirical truth is that <code>use Module &#39;foo&#39;</code> imports <i>only</i> <code>&amp;Module::foo</code> and not <code>@Module::foo</code>, <code>$Module::foo</code> etc."}, {"owner": {"reputation": 100, "user_id": 1038174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c08c97999819282eaa197292ba9a4843?s=128&d=identicon&r=PG", "display_name": "Fincher", "link": "https://stackoverflow.com/users/1038174/fincher"}, "edited": false, "score": 0, "creation_date": 1432342835, "post_id": 30404038, "comment_id": 48903131, "body": "I understand your comment, but don&#39;t feel like it addresses my main issue that I don&#39;t understand."}, {"owner": {"reputation": 100, "user_id": 1038174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c08c97999819282eaa197292ba9a4843?s=128&d=identicon&r=PG", "display_name": "Fincher", "link": "https://stackoverflow.com/users/1038174/fincher"}, "edited": false, "score": 0, "creation_date": 1432343277, "post_id": 30404038, "comment_id": 48903189, "body": "I have subroutine get_coll() in file1.pm. I have other subroutines in a file with package Custom::Package.&lt;br/&gt;   If I only require &quot;file1.pm&quot; I can call get_coll() in main.pl and it works. If I add &quot;use Custom::Package&quot;, then get_coll() is no longer in the main namespace.  I can call the function if I change the call to Custom::Package::get_coll(). If I change &quot;use Custom::Package&quot; to &quot;require Custom::Package&quot; the &quot;get_coll()&quot; works again.  Seems pretty obviously a namespace issue, no?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 100, "user_id": 1038174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c08c97999819282eaa197292ba9a4843?s=128&d=identicon&r=PG", "display_name": "Fincher", "link": "https://stackoverflow.com/users/1038174/fincher"}, "edited": false, "score": 0, "creation_date": 1432398331, "post_id": 30404038, "comment_id": 48915940, "body": "@Fincher: Okay, that sounds pretty much the same as you wrote in the question except that, confusingly, you&#39;ve changed the names of the files. Please take a look at my solution, where I&#39;ve created three files that match your description. I can&#39;t make them behave as you describe, so you should copy what I have written and make minimal changes so that it displays the same behaviour as you&#39;re seeing"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1432321472, "last_edit_date": 1432321472, "creation_date": 1432321094, "answer_id": 30404038, "question_id": 30403766, "link": "https://stackoverflow.com/questions/30403766/subroutines-defined-in-required-file-assigned-to-wrong-namespace-after-use-of-cu/30404038#30404038", "title": "Subroutines defined in required file assigned to wrong namespace after use of custom module", "body": "<p>You are mistaken about <code>require</code> being any different from <code>use</code> with respect to what namespace subroutines get defined in. It is not. And you are mistaken about <code>use</code> affecting the current package. It does not.</p>\n\n<pre><code># Custom/Module.pm\npackage Custom::Module;\n# the namespace is now \"Custom::Module\"\nsub foo { ... }  # defines  &amp;Custom::Module::foo\nsub bar { ... }  # defines  &amp;Custom::Module::bar\n1;   # end of Custom/Module.pm\n\n---\n\n# mainScript.pl\n# without an explicit 'package' statement, we are in namespace \"main\"\nuse Custom::Module;    # parses Custom/Module.pm\n# but when the 'use' statement is complete, we are still in namespace \"main\"\nsub baz { ... }   # defines  &amp;main::baz\n$x = baz();       # calls &amp;main::baz\n$y = foo();       # calls &amp;main::foo, error if main::foo not defined\n$z = Custom::Module::bar();  # calls &amp;Custom::Module::bar\n...\n</code></pre>\n\n<p>The comments describe what namespace we are in in each part of each file. None of that would be any different if we said <code>require Custom::Module</code> instead of <code>use Custom::Module</code>.</p>\n\n<p>Now it can be a hassle to keep typing <code>Custom::Module::bar()</code> all the time when there is no <code>main::bar()</code> and there's no ambiguity about which <code>bar</code> subroutine you would be referring to. The key to getting perl to recognize your call to <code>bar</code> as referring to <code>Custom::Module::bar</code> is to copying the subroutine reference from <code>Custom::Module</code> into your current namespace. That is, making <code>main::bar()</code> refer to the same subroutine as <code>Custom::Module::bar()</code>.</p>\n\n<p>The canonical way to do this is with the <a href=\"http://metacpan.org/pod/Exporter\" rel=\"nofollow\"><code>Exporter</code></a> module. The low level way to do this (and what <code>Exporter</code> does behind the scenes) is to manipulate perl's symbol tables.</p>\n\n<p>For your specific problem, you would use <code>Exporter</code> like this:</p>\n\n<pre><code> # Custom/Module.pm\n package Custom::Module;\n use base 'Exporter';      # make Custom::Module inherit from Exporter\n our @EXPORT = qw(foo bar);\n sub foo { ... }\n sub bar { ... }\n ...\n 1;\n</code></pre>\n\n<p>Now any other file that calls <code>use Custom::Module</code> will get the function <code>get_coll</code> imported into its namespace. This gets done behind the scenes in <code>Exporter</code> by manipulating the symbol table. Specifically, calling <code>use Custom::Module</code> from package <code>main</code> will get <code>Exporter</code> to make a typeglob assignment like</p>\n\n<pre><code>*main::foo = *Custom::Module::foo;\n</code></pre>\n\n<p>and this will make your function call from <code>main::foo()</code> invoke the code that was defined in <code>Custom::Module::foo()</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 100, "user_id": 1038174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c08c97999819282eaa197292ba9a4843?s=128&d=identicon&r=PG", "display_name": "Fincher", "link": "https://stackoverflow.com/users/1038174/fincher"}, "edited": false, "score": 0, "creation_date": 1432646207, "post_id": 30406127, "comment_id": 48999984, "body": "Ah... I think you are on to something. The file with the get_coll subroutine IS also require&#39;d in the Custom::Module package. Since it was being use&#39;d, then it would load that subroutine in that namespace!  So simple of an error. Thanks for your help and explanations!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 100, "user_id": 1038174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c08c97999819282eaa197292ba9a4843?s=128&d=identicon&r=PG", "display_name": "Fincher", "link": "https://stackoverflow.com/users/1038174/fincher"}, "edited": false, "score": 0, "creation_date": 1432650032, "post_id": 30406127, "comment_id": 49002923, "body": "@Fincher: You&#39;re welcome. In general you should stick to <code>use</code> rather thasn <code>require</code> unless you have a good reason to do otherwise"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1432649976, "last_edit_date": 1432649976, "creation_date": 1432330083, "answer_id": 30406127, "question_id": 30403766, "link": "https://stackoverflow.com/questions/30403766/subroutines-defined-in-required-file-assigned-to-wrong-namespace-after-use-of-cu/30406127#30406127", "title": "Subroutines defined in required file assigned to wrong namespace after use of custom module", "body": "<p>I've tried to recreate the files exactly as you describe them. Here are my three source files</p>\n\n<p>You say</p>\n\n<blockquote>\n  <p>In a script I am working on, I have something similar to the following:</p>\n\n<pre><code>require \"environment.pm\"; # Various definitions, including subroutine get_coll()\nuse Custom::Module;\n</code></pre>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>When I try to call get_coll() I get an error about it</p>\n</blockquote>\n\n<p>Although you don't say where you're calling <code>get_coll</code>, I guess it's in the main script and I think that amounts to this script file</p>\n\n<p><strong>my_script.pl</strong></p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nrequire 'environment.pm';\n\nuse Custom::Module;\n\nsay get_coll();\n</code></pre>\n\n<p>and this module file</p>\n\n<p><strong>environment.pm</strong></p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nsub get_coll {\n  return 'coll';\n}\n\n1;\n</code></pre>\n\n<p>And then you say</p>\n\n<blockquote>\n  <p>In the <code>Custom::Module</code> file, I start with</p>\n\n<pre><code>package Custom::Module;\n</code></pre>\n  \n  <p>and end with</p>\n\n<pre><code>1;\n</code></pre>\n</blockquote>\n\n<p>So I wrote this module file. It doesn't have any contents because you didn't describe any</p>\n\n<p><strong>Custom/Module.pm</strong></p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\npackage Custom::Module;\n\n1;\n</code></pre>\n\n<p>Now, when I run <code>my_script.pl</code> I get</p>\n\n<pre><code>coll\n</code></pre>\n\n<p>with no warnings or error messages, which is exactly as I expected</p>\n\n<p><strong><em>I am concerned that you say <code>environment.pm</code> contains <code>get_coll</code>, yet you are able to call <code>Custom::Module::get_coll</code>. Does <code>Custom/Module.pm</code> also have a <code>require 'environment.pm'</code>?</em></strong></p>\n\n<p>If you can point out where I have misinterpreted your description then please do, as I cannot replicate your problem at present and so am unable to help you</p>\n\n<p>Otherwise, I recommend that you play with these three files to create a <a href=\"http://sscce.org/\" rel=\"nofollow\"><em>Short, Self-Contained, Correct Example</em></a> of your problem. That will help us enormously to find a solution for you</p>\n"}], "owner": {"reputation": 100, "user_id": 1038174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c08c97999819282eaa197292ba9a4843?s=128&d=identicon&r=PG", "display_name": "Fincher", "link": "https://stackoverflow.com/users/1038174/fincher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 30406127, "answer_count": 2, "score": 0, "last_activity_date": 1432649976, "creation_date": 1432320104, "last_edit_date": 1432320584, "question_id": 30403766, "link": "https://stackoverflow.com/questions/30403766/subroutines-defined-in-required-file-assigned-to-wrong-namespace-after-use-of-cu", "title": "Subroutines defined in required file assigned to wrong namespace after use of custom module", "body": "<p>In a script I am working on, I have something similar to the following:</p>\n\n<pre><code>require \"environment.pm\"; # Various definitions, including subroutine get_coll()\nuse Custom::Module;\n</code></pre>\n\n<p>In the <code>Custom::Module</code> file, I start with </p>\n\n<pre><code>package Custom::Module;\n</code></pre>\n\n<p>and end with </p>\n\n<pre><code>1;\n</code></pre>\n\n<p>When I try to call <code>get_coll()</code> I get an error about it:</p>\n\n<blockquote>\n  <p>( main::get_coll() ) being undefined. </p>\n</blockquote>\n\n<p>If I require <code>Custom::Module</code> instead of using or change the call to be</p>\n\n<pre><code>Custom::Module::get_coll();\n</code></pre>\n\n<p>it works fine. This leads me to be believe that the \"use\" statement of <code>CustomModule</code> is changing the \"active\" namespace so when <code>get_coll()</code> is processed (since it is processed at the time of calling) it gets assigned to that namespace instead of main.  This doesn't seem to be an issue with regular perl modules, but from the ones I've looked through, I haven't noticed anything different that would cause the namespace to \"revert\" back to main after the module has loaded.  Any help in better understanding the namespace usage or fixing the module to not cause this problem would be greatly appreciated.</p>\n\n<p>Side note: It isn't a huge issue for me to just \"require\" the module, but it was unexpected behavior to me so I mostly just want to better understand why what happened happened.</p>\n"}, {"tags": ["perl", "if-statement"], "comments": [{"owner": {"reputation": 1130, "user_id": 1985541, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/df4e5a1651fede44ab461995efdd77ef?s=128&d=identicon&r=PG", "display_name": "Zuzlx", "link": "https://stackoverflow.com/users/1985541/zuzlx"}, "edited": false, "score": 0, "creation_date": 1432318661, "post_id": 30403331, "comment_id": 48894413, "body": "try &quot;and&quot;-ing them together in one line.  Disclaimer, I haven&#39;t done perl in 13 years."}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "reply_to_user": {"reputation": 1130, "user_id": 1985541, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/df4e5a1651fede44ab461995efdd77ef?s=128&d=identicon&r=PG", "display_name": "Zuzlx", "link": "https://stackoverflow.com/users/1985541/zuzlx"}, "edited": false, "score": 2, "creation_date": 1432318732, "post_id": 30403331, "comment_id": 48894459, "body": "Wouldn&#39;t it be OR? A number cant be both equal to 1 and greater than some other value"}, {"owner": {"reputation": 1130, "user_id": 1985541, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/df4e5a1651fede44ab461995efdd77ef?s=128&d=identicon&r=PG", "display_name": "Zuzlx", "link": "https://stackoverflow.com/users/1985541/zuzlx"}, "edited": false, "score": 1, "creation_date": 1432318784, "post_id": 30403331, "comment_id": 48894492, "body": "whatever the logic calls for :)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1432323264, "post_id": 30403331, "comment_id": 48896864, "body": "@Bijan &quot;A number cant be both equal to 1 and greater than some other value&quot; 1 is equal to 1 and greater than 0."}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1432323348, "post_id": 30403331, "comment_id": 48896904, "body": "It wasnt in my code but $count is initialized to 0. So the ++$count would make it become 1 right away"}], "answers": [{"comments": [{"owner": {"reputation": 1130, "user_id": 1985541, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/df4e5a1651fede44ab461995efdd77ef?s=128&d=identicon&r=PG", "display_name": "Zuzlx", "link": "https://stackoverflow.com/users/1985541/zuzlx"}, "edited": false, "score": 2, "creation_date": 1432319053, "post_id": 30403421, "comment_id": 48894653, "body": "Just note that with <code>or</code> as soon as a <code>true</code> value is found the others won&#39;t get evaluated since any true value in <code>or</code> renders the whole thing as <code>true</code>."}, {"owner": {"reputation": 5492, "user_id": 28532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e15c26146183817151f9eeaeb20362b?s=128&d=identicon&r=PG", "display_name": "cms", "link": "https://stackoverflow.com/users/28532/cms"}, "reply_to_user": {"reputation": 1130, "user_id": 1985541, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/df4e5a1651fede44ab461995efdd77ef?s=128&d=identicon&r=PG", "display_name": "Zuzlx", "link": "https://stackoverflow.com/users/1985541/zuzlx"}, "edited": false, "score": 0, "creation_date": 1432319219, "post_id": 30403421, "comment_id": 48894720, "body": "@Zuzlx that&#39;s OK though, the RHS of the <code>or</code> don&#39;t introduce any side effects in any of the cases ?"}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "reply_to_user": {"reputation": 1130, "user_id": 1985541, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/df4e5a1651fede44ab461995efdd77ef?s=128&d=identicon&r=PG", "display_name": "Zuzlx", "link": "https://stackoverflow.com/users/1985541/zuzlx"}, "edited": false, "score": 1, "creation_date": 1432319294, "post_id": 30403421, "comment_id": 48894765, "body": "@Zuzlx so long as the <code>++</code> is on the first command, it won&#39;t matter."}, {"owner": {"reputation": 5492, "user_id": 28532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e15c26146183817151f9eeaeb20362b?s=128&d=identicon&r=PG", "display_name": "cms", "link": "https://stackoverflow.com/users/28532/cms"}, "reply_to_user": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1432319376, "post_id": 30403421, "comment_id": 48894799, "body": "@Bijan yes, but it&#39;s better not to include modifiers in complicated expressions, because of these kind of traps, which is why I moved it. I think it&#39;s a good point to beware of."}, {"owner": {"reputation": 1130, "user_id": 1985541, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/df4e5a1651fede44ab461995efdd77ef?s=128&d=identicon&r=PG", "display_name": "Zuzlx", "link": "https://stackoverflow.com/users/1985541/zuzlx"}, "edited": false, "score": 1, "creation_date": 1432319396, "post_id": 30403421, "comment_id": 48894814, "body": "I dunno what else to say than, bugs bugs bugs.  :)"}], "tags": [], "owner": {"reputation": 5492, "user_id": 28532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e15c26146183817151f9eeaeb20362b?s=128&d=identicon&r=PG", "display_name": "cms", "link": "https://stackoverflow.com/users/28532/cms"}, "is_accepted": false, "score": 9, "last_activity_date": 1432318828, "creation_date": 1432318828, "answer_id": 30403421, "question_id": 30403331, "link": "https://stackoverflow.com/questions/30403331/perl-shorthand-for-if-statement/30403421#30403421", "title": "Perl shorthand for if statement", "body": "<p>I think something like </p>\n\n<p><code>next if ++$count == 1 or $count &gt; $other_value;</code></p>\n\n<p>ought to just work. It's quite dense though, and reliant on the side effect of the increment, and the order of precedence</p>\n\n<p>I'd be tempted to add parentheses and move the increment away</p>\n\n<pre><code>$count++;\nnext if ($count == 1) or ($count &gt; $other_value);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1432320030, "creation_date": 1432320030, "answer_id": 30403751, "question_id": 30403331, "link": "https://stackoverflow.com/questions/30403331/perl-shorthand-for-if-statement/30403751#30403751", "title": "Perl shorthand for if statement", "body": "<p>If you want to test the <em>incremented</em> value of <code>$count</code> for two separate conditions then it would be best to increment it in a separate statement rather than testing once against <code>++$count</code> and once against <code>$count</code></p>\n\n<p>So your code would be</p>\n\n<pre><code>++$count;\nnext if $count == 1 or $count &gt; $some_other_value;\n</code></pre>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1021, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1432320030, "creation_date": 1432318478, "question_id": 30403331, "link": "https://stackoverflow.com/questions/30403331/perl-shorthand-for-if-statement", "title": "Perl shorthand for if statement", "body": "<p>I have the following code in Perl:</p>\n\n<pre><code>next if ++$count == 1;\n</code></pre>\n\n<p>which should be the equivalent of</p>\n\n<pre><code>if (++$count == 1) {\n    next;\n}\n</code></pre>\n\n<p>Is there a way to run <code>next;</code> if I add more conditions? (i.e. if ++$count is equal to 1 or greater than some other value?</p>\n"}, {"tags": ["perl", "mongodb", "aggregation-framework"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1432317330, "post_id": 30401797, "comment_id": 48893676, "body": "Are you actually inserting single-quoted variables like <code>&#39;$project&#39;</code>, or is that an artifact of your example?  Because those don&#39;t interpolate."}, {"owner": {"reputation": 1, "user_id": 4929776, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dLKp18S_ZMI/AAAAAAAAAAI/AAAAAAAAALc/FNyoy9oJud4/photo.jpg?sz=128", "display_name": "Spear5030", "link": "https://stackoverflow.com/users/4929776/spear5030"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1432319517, "post_id": 30401797, "comment_id": 48894876, "body": "Yeah. It is single-quoted. It is strings - operators for MongoDB"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4929776, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dLKp18S_ZMI/AAAAAAAAAAI/AAAAAAAAALc/FNyoy9oJud4/photo.jpg?sz=128", "display_name": "Spear5030", "link": "https://stackoverflow.com/users/4929776/spear5030"}, "is_accepted": true, "score": 0, "last_activity_date": 1432319802, "creation_date": 1432319802, "answer_id": 30403668, "question_id": 30401797, "link": "https://stackoverflow.com/questions/30401797/mongodb-perl-driver-different-result-after-aggregation/30403668#30403668", "title": "MongoDB perl driver : different result after aggregation", "body": "<blockquote>\n  <p>{'$sort' => {av => -1, scr => -1, time => -1}},</p>\n  \n  <p>This is likely to be the issue if you're on a recent perl that\n  randomizes hash order. The sort clause needs to be an ordered\n  document. See <a href=\"https://metacpan.org/pod/Mango::BSON#bson_doc\" rel=\"nofollow\">https://metacpan.org/pod/Mango::BSON#bson_doc</a> for how to\n  do that.</p>\n</blockquote>\n\n<p>(c) from <a href=\"https://github.com/dagolden\" rel=\"nofollow\">https://github.com/dagolden</a></p>\n"}], "owner": {"reputation": 1, "user_id": 4929776, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dLKp18S_ZMI/AAAAAAAAAAI/AAAAAAAAALc/FNyoy9oJud4/photo.jpg?sz=128", "display_name": "Spear5030", "link": "https://stackoverflow.com/users/4929776/spear5030"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 30403668, "answer_count": 1, "score": 0, "last_activity_date": 1432319802, "creation_date": 1432312521, "question_id": 30401797, "link": "https://stackoverflow.com/questions/30401797/mongodb-perl-driver-different-result-after-aggregation", "title": "MongoDB perl driver : different result after aggregation", "body": "<p>I have collection 'books': </p>\n\n<pre><code>{\n\"_id\" : ObjectId(\"54901b078b823f2014080700\"),\n\"title\" : \"title1\",\n\"available\" : 0,\n\"time\" : 14318789245,\n\"score\" : 1,\n\"categories\" : [\"fiction\",\"humor\"]\n},\n{\n\"_id\" : ObjectId(\"54901b078b823f2014080701\"),\n\"title\" : \"title2\",\n\"available\" : 1,\n\"time\" : 14318789745,\n\"score\" : 1,\n\"score_fiction\": 5,\n\"categories\" : [\"fiction\",]\n}\n...\n{\n\"_id\" : ObjectId(\"54901b078b823f2014080751\"),\n\"title\" : \"titleN\",\n\"available\" : 1,\n\"time\" : 14318789545,\n\"score\" : 4,\n\"score_fiction\": 2,\n}\n</code></pre>\n\n<p>I will aggregate it with this script:</p>\n\n<pre><code>my $books = $mango-&gt;db('test')-&gt;collection('books')-&gt;aggregate([\n  {'$match' =&gt; {categories =&gt; fiction}},\n  {'$project' =&gt; \n    {\n    'av' =&gt; {'$cmp' =&gt; ['$available', 0] },\n    title =&gt; 1,\n    scr =&gt; {'$ifNull' =&gt; ['$score_fiction' , '$score'] },\n    time =&gt;1}\n    },\n{'$sort' =&gt; {av =&gt; -1, scr =&gt; -1, time =&gt; -1}},\n{'$limit' =&gt; 10}\n]);\n\nwhile (my $book = $books-&gt;next) {\n    print $book-&gt;{title} . \" [\" . $book-&gt;{scr} . \"]\\n\";\n</code></pre>\n\n<p>After 5-7 runs I get two different results: </p>\n\n<ul>\n<li>With sorting by required fields. </li>\n<li>Without sorting. (possibly with sorting by time or the \"$natural\"<br>\ntime of addition).</li>\n</ul>\n\n<p>When I run this aggregation pipeline in mongo's shell - it works with correctly sorting.</p>\n\n<pre><code>db.books.aggregate([{'$match' : {categories : 'fiction'},\n    {'$project' : {'av' : {'$cmp' : ['$available', 0] },\n    title : 1,\n    scr : {'$ifNull' : ['$score_fiction' , '$score'] },\n    time:1}},\n    {'$sort' : {av : -1,scr :-1, time : -1}},\n    {'$limit': 10}]);\n</code></pre>\n\n<p>Is the problem in the driver or in my head?</p>\n\n<p>PS I tried Mango and official MongoDB driver, but the result is the same.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 294, "user_id": 3666209, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f6803f57b94dc8c889b807cfc3c08836?s=128&d=identicon&r=PG&f=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/3666209/cody"}, "is_accepted": true, "score": 0, "last_activity_date": 1432974449, "creation_date": 1432974449, "answer_id": 30543995, "question_id": 30400347, "link": "https://stackoverflow.com/questions/30400347/unable-to-input-with-keyboard-in-ptkdb/30543995#30543995", "title": "Unable to input with keyboard in ptkdb", "body": "<p>Problem resolved! It is because perl-tk can't work with input method, if you have any. So the workaround is <code>XMODIFIERS='' perl -dptkdb foo.pl</code>, which temporarily disable the input method for perl.</p>\n"}], "owner": {"reputation": 294, "user_id": 3666209, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f6803f57b94dc8c889b807cfc3c08836?s=128&d=identicon&r=PG&f=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/3666209/cody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 30543995, "answer_count": 1, "score": 1, "last_activity_date": 1432974449, "creation_date": 1432307810, "question_id": 30400347, "link": "https://stackoverflow.com/questions/30400347/unable-to-input-with-keyboard-in-ptkdb", "title": "Unable to input with keyboard in ptkdb", "body": "<p>I'm using Devel::ptkdb which is provided by Debian package libdevel-ptkdb-perl. The command I used to debug is <code>perl -dptkdb foo.pl</code>, where foo.pl is the script being debugged. After the GUI shows up, I can use mouse to click on the buttons or menu items to control the debugging flow, but the keyboard inputs are all ignored. Any idea? Thanks a lot.</p>\n"}, {"tags": ["python", "linux", "perl", "shell"], "comments": [{"owner": {"reputation": 20694, "user_id": 531222, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9bec8a835a986f86131125137da13a83?s=128&d=identicon&r=PG&f=1", "display_name": "tamasgal", "link": "https://stackoverflow.com/users/531222/tamasgal"}, "edited": false, "score": 2, "creation_date": 1432301726, "post_id": 30398074, "comment_id": 48883962, "body": "Maybe you show us <code>start_view</code>, since we can only guess\u2026"}, {"owner": {"reputation": 7536, "user_id": 1691146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RW9zE.jpg?s=128&g=1", "display_name": "RobEarl", "link": "https://stackoverflow.com/users/1691146/robearl"}, "edited": false, "score": 1, "creation_date": 1432302359, "post_id": 30398074, "comment_id": 48884453, "body": "Have you tried <code>;</code> instead of <code>&amp;&amp;</code> ? Perhaps the first command returns unsuccessfully."}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1432302596, "post_id": 30398074, "comment_id": 48884616, "body": "If <code>start_view</code> is starting a new shell, it may simply not be returning.  Perhaps <code>start_view</code> takes an option to allow it to start a process in the shell that it creates."}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 0, "creation_date": 1432303943, "post_id": 30398074, "comment_id": 48885608, "body": "If this is like <b>ClearCase</b>, <code>start_view</code> will have an option (e.g. <code>-c</code>) where you can give it a command to run in the shell that has been launched in the view&#39;s context; if it exists, move the rest of your command into there.    Additionally, <code>&amp;&amp;</code> short-circuits upon failure (i.e. non-zero status), but <code>;</code> does not (i.e. each command runs in succession).  You can also do <code>||</code> for reverse short-circuit (i.e. execute only if there&#39;s a failure).  For example try:  <code>&#47;bin&#47;true &amp;&amp; echo TRUE || echo FALSE</code>  and  <code>&#47;bin&#47;false &amp;&amp; echo TRUE || echo FALSE</code>"}, {"owner": {"reputation": 3535, "user_id": 1409374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d424fe924f2139812a4a6de1ef6b79?s=128&d=identicon&r=PG", "display_name": "rickhg12hs", "link": "https://stackoverflow.com/users/1409374/rickhg12hs"}, "edited": false, "score": 0, "creation_date": 1432304004, "post_id": 30398074, "comment_id": 48885645, "body": "Are you using Rational ClearCase&#39;s <code>startview</code>?  Maybe you want <code>setview -c your_commands_here</code>? <a href=\"https://www-01.ibm.com/support/knowledgecenter/SSSH27_8.0.1/com.ibm.rational.clearcase.cc_ref.doc/topics/ct_setview.htm?cp=SSSH27_8.0.1%2F4-0-0-0-1-66\" rel=\"nofollow noreferrer\">setview doc</a>"}, {"owner": {"reputation": 1465, "user_id": 1734929, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fa94be4b6d99305d3854003af58f5a41?s=128&d=identicon&r=PG", "display_name": "anders", "link": "https://stackoverflow.com/users/1734929/anders"}, "edited": false, "score": 0, "creation_date": 1432559373, "post_id": 30398074, "comment_id": 48961103, "body": "I needed to add the -exec command as you above and that made the trick. Thanks for the help =)"}], "answers": [{"tags": [], "owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "is_accepted": true, "score": 1, "last_activity_date": 1432302612, "creation_date": 1432302612, "answer_id": 30398484, "question_id": 30398074, "link": "https://stackoverflow.com/questions/30398074/running-multiple-command-line-after-each-other-linux-python/30398484#30398484", "title": "Running multiple command line after each other linux python", "body": "<p>In general multiple dependent commands should work when invoked from os.system():</p>\n\n<pre><code>&gt;&gt;&gt; rv = os.system(\"ls /dev/null &amp;&amp; grep mhawke /etc/passwd\")\n/dev/null\nmhawke:x:1000:1000:mhawke:/home/mhawke:/bin/bash\n&gt;&gt;&gt; rv\n0\n</code></pre>\n\n<p>But if one command fails (as determined by a non-zero exit status) the following commands are not executed:</p>\n\n<pre><code>&gt;&gt;&gt; rv = os.system(\"ls /phantom &amp;&amp; grep mhawke /etc/passwd\")\nls: cannot access /phantom: No such file or directory\n&gt;&gt;&gt; rv\n512\n</code></pre>\n\n<p>So, are you sure that <code>start_view</code> returns exit code 0? Are you sure that <code>start_view</code> returns at all? - could it be blocked waiting for input. Are you sure that the command isn't actually <a href=\"https://www-01.ibm.com/support/knowledgecenter/SSSH27_8.0.1/com.ibm.rational.clearcase.cc_ref.doc/topics/ct_startview.htm?cp=SSSH27_8.0.1%2F4-0-0-0-1-68\" rel=\"nofollow\"><code>startview myView</code></a>?</p>\n\n<p>You could find out by executing this on the command line:</p>\n\n<pre><code>$ start_view myView\n$ echo $?\n</code></pre>\n\n<p>If it displays <code>0</code>, then try the next command in the chain until you find the culprit.</p>\n"}], "owner": {"reputation": 1465, "user_id": 1734929, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fa94be4b6d99305d3854003af58f5a41?s=128&d=identicon&r=PG", "display_name": "anders", "link": "https://stackoverflow.com/users/1734929/anders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1990, "favorite_count": 0, "accepted_answer_id": 30398484, "answer_count": 1, "score": 0, "last_activity_date": 1432302612, "creation_date": 1432301528, "question_id": 30398074, "link": "https://stackoverflow.com/questions/30398074/running-multiple-command-line-after-each-other-linux-python", "title": "Running multiple command line after each other linux python", "body": "<p>I want to run multiple commands in the same line after the previous is done.</p>\n\n<p>I do the following bellow in a python script:</p>\n\n<pre><code>os.system(\"start_view myView &amp;&amp; perl /home/user/Development/count_test.pl -rev 001 -project myproject &amp;&amp; /usr/bin/python /home/user/Development/setDoneFlag_Count_Lines.py\")\n</code></pre>\n\n<p>First I set a view in clearcase <strong>start_view myview</strong>, then I want to execute a perl program. Problem is it doesn't, it just sets the view (which I need in order for me to execute the perl program) but it never actually starts the perl program, so the question is am I doing anything wrong? It seems like <strong>start_view myView</strong> starts a new shell, so how do I execute a perl script in the newly created shell that the view starts?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["arrays", "hash", "perl"], "answers": [{"comments": [{"owner": {"reputation": 2626, "user_id": 2317381, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8cdbf09138cf04471950f1089e9a1a0a?s=128&d=identicon&r=PG", "display_name": "Ricky", "link": "https://stackoverflow.com/users/2317381/ricky"}, "edited": false, "score": 0, "creation_date": 1432300837, "post_id": 30397285, "comment_id": 48883304, "body": "Thanks! That worked. What is the difference between &quot;reference the original array&quot; method versus &quot;reference a copy&quot; method? And what is meant by &quot;reference&quot;? Is this the same as in C?"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 2626, "user_id": 2317381, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8cdbf09138cf04471950f1089e9a1a0a?s=128&d=identicon&r=PG", "display_name": "Ricky", "link": "https://stackoverflow.com/users/2317381/ricky"}, "edited": false, "score": 1, "creation_date": 1432308119, "post_id": 30397285, "comment_id": 48888412, "body": "@Ricky <code>[ @books ]</code> (you can call <code>[ ]</code>the anonymous array constructor) takes <code>@books</code> and makes a copy that can be held as a reference &quot;anonymously&quot;.  With <code>\\@books</code> you are referring to the original array. This makes a difference if you change any of the elements - <i>i.e</i>.does it change the copy or the reference <b>and</b> the original? See <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\"><code>perldoc perlreftut</code></a> and <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\"><code>perldoc perlref</code></a>. There&#39;s many a handy guide/blog post comparing <a href=\"http://www.teaser.fr/~amajorel/psgfcp/\" rel=\"nofollow noreferrer\">perl references and  C pointers</a> :-)"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 2626, "user_id": 2317381, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8cdbf09138cf04471950f1089e9a1a0a?s=128&d=identicon&r=PG", "display_name": "Ricky", "link": "https://stackoverflow.com/users/2317381/ricky"}, "edited": false, "score": 0, "creation_date": 1432308911, "post_id": 30397285, "comment_id": 48888951, "body": "@Ricky  Fire up the <a href=\"https://metacpan.org/pod/Devel::REPL\" rel=\"nofollow noreferrer\"><b><code>re.pl</code></b></a> or the debugger and try: <code>my @test1 = qw&#47; q w e r t y &#47; ; my $test2 = \\@test1 ; my $test3 = [ @test1 ]</code>.  Then <code>pop</code> an element from each of those <code>$test2</code> and <code>$test3</code> array references and see how it affects <code>@test1</code>."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "is_accepted": false, "score": 9, "last_activity_date": 1432299310, "creation_date": 1432299310, "answer_id": 30397285, "question_id": 30397146, "link": "https://stackoverflow.com/questions/30397146/perl-assign-an-array-to-another-variable/30397285#30397285", "title": "Perl - Assign an array to another variable", "body": "<p>Array elements and hash values are scalars, so when you are nesting arrays and hashes, you must use references. Just as <code>$authors-&gt;[$x]</code> is not a hash but a reference to a hash, you must set <code>$authors-&gt;[$x]-&gt;{'books'}</code> to a reference to the array.</p>\n\n<pre><code>$authors-&gt;[$x]-&gt;{'books'} = \\@books; # reference the original array\n$authors-&gt;[$x]-&gt;{'books'} = [@books]; # reference a copy\n</code></pre>\n\n<p>You would then access elements of the array using something like</p>\n\n<pre><code>$authors-&gt;[$x]-&gt;{'books'}-&gt;[0]\n</code></pre>\n\n<p>which can be abbreviated</p>\n\n<pre><code>$authors-&gt;[$x]{books}[0]\n</code></pre>\n\n<p>or access the whole array as</p>\n\n<pre><code>@{$authors-&gt;[$x]{books}}\n</code></pre>\n\n<p>Your original attempt</p>\n\n<pre><code>$authors-&gt;[$x]-&gt;{'books'} = @books;\n</code></pre>\n\n<p>is exactly equivalent to</p>\n\n<pre><code>$authors-&gt;[$x]-&gt;{'books'} = scalar @books;\n</code></pre>\n\n<p>because the left operand of the <code>=</code> operator is a hash value, which is a scalar, so the right operand is evaluated in scalar context to provide something that can be assigned there.</p>\n\n<p>P.S.</p>\n\n<p>On rereading this answer I realized it may be confusing to say \"a hash value is a scalar\" because of the possible interpretation of \"hash value\" as meaning \"the value of a hash variable\" i.e. \"the whole hash\". What I mean when I write \"hash value\" is an item that is <em>stored in</em> a hash as a value (as opposed to a key).</p>\n"}, {"comments": [{"owner": {"reputation": 80, "user_id": 4025655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b708f7d61edb8730a8d2c5bf22afb1ed?s=128&d=identicon&r=PG&f=1", "display_name": "lamchob", "link": "https://stackoverflow.com/users/4025655/lamchob"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1432307284, "post_id": 30397566, "comment_id": 48887898, "body": "yes, your are right, its the same as <code>$authors-&gt;[$x]-&gt;{&#39;books&#39;} = [@books]; # reference a copy</code>. My bad, should have looked better at the other awnser."}], "tags": [], "owner": {"reputation": 80, "user_id": 4025655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b708f7d61edb8730a8d2c5bf22afb1ed?s=128&d=identicon&r=PG&f=1", "display_name": "lamchob", "link": "https://stackoverflow.com/users/4025655/lamchob"}, "is_accepted": false, "score": 2, "last_activity_date": 1432300123, "creation_date": 1432300123, "answer_id": 30397566, "question_id": 30397146, "link": "https://stackoverflow.com/questions/30397146/perl-assign-an-array-to-another-variable/30397566#30397566", "title": "Perl - Assign an array to another variable", "body": "<p>While the first awnser is absolutely right,\nas an alternative, you could also fo this:</p>\n\n<pre><code>push @{$authors-&gt;[$x]-&gt;{'books'}}, @books;\n</code></pre>\n\n<p>Then <code>$authors-&gt;[$x]-&gt;{'books'}</code> will be an Array that contains a copy of all \nthe elements from <code>@books</code>.\nThis might be more \"foolproof\" then working with references, as\nmentioned above.</p>\n"}], "owner": {"reputation": 2626, "user_id": 2317381, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8cdbf09138cf04471950f1089e9a1a0a?s=128&d=identicon&r=PG", "display_name": "Ricky", "link": "https://stackoverflow.com/users/2317381/ricky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2270, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1432300123, "creation_date": 1432298928, "last_edit_date": 1432299153, "question_id": 30397146, "link": "https://stackoverflow.com/questions/30397146/perl-assign-an-array-to-another-variable", "title": "Perl - Assign an array to another variable", "body": "<p>I'm trying to assign an array to a value in my hash as follows:</p>\n\n<pre><code>$authors-&gt;[$x]-&gt;{'books'} = @books;\n</code></pre>\n\n<p><code>$authors</code> is an <em>array of hashes</em> that contains his/her first name, last name, date of birth, etc. And now I'm creating a <code>books</code> key where I want to assign an array of books. However, when I try to print it afterwords, it's just printing the size of the array, as if I'm doing <code>$value = scalar @books</code>. </p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["arrays", "perl", "multidimensional-array", "reference", "grep"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 3, "creation_date": 1432295595, "post_id": 30395983, "comment_id": 48879621, "body": "Dereference first element as array <code>grep .., @{ $valid_values[0] }</code>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1432295935, "post_id": 30395983, "comment_id": 48879874, "body": "Perl has extensive documentation <a href=\"https://metacpan.org/pod/perldsc\" rel=\"nofollow noreferrer\">perldsc</a>. Also, never use <code>@a[0]</code>, always <code>$a[0]</code>."}, {"owner": {"reputation": 23, "user_id": 4928818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8487b6827ede27fac976416ec8a2f20?s=128&d=identicon&r=PG&f=1", "display_name": "90nbd", "link": "https://stackoverflow.com/users/4928818/90nbd"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1432296030, "post_id": 30395983, "comment_id": 48879940, "body": "@\u0421\u0443\u0445\u043e\u043927 thanks, this worked :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1432296383, "post_id": 30395983, "comment_id": 48880188, "body": "@C you should add that as an answer so people can find it easier in the future."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1432301866, "last_edit_date": 1432301866, "creation_date": 1432298984, "answer_id": 30397170, "question_id": 30395983, "link": "https://stackoverflow.com/questions/30395983/perl-return-array-from-multidimensional-array/30397170#30397170", "title": "Perl return array from multidimensional array", "body": "<p>The first element of <code>@valid_values</code> is accessed as <code>$valid_values[0]</code>.</p>\n\n<p>The value in the first element is an array reference. To dereference an array reference, you use <code>@{ ... }</code>.</p>\n\n<p>So to get the array referenced by the array reference in the first element of <code>@valid_values</code> you want <code>@{ $valid_values[0] }</code>.</p>\n\n<p>For more details about how to deal with data structures like this, see <a href=\"http://perldoc.perl.org/perllol.html\" rel=\"nofollow\">perllol</a>, <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\">perldsc</a> and <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">perlreftut</a>.</p>\n"}], "owner": {"reputation": 23, "user_id": 4928818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8487b6827ede27fac976416ec8a2f20?s=128&d=identicon&r=PG&f=1", "display_name": "90nbd", "link": "https://stackoverflow.com/users/4928818/90nbd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 1, "accepted_answer_id": 30397170, "answer_count": 1, "score": -1, "last_activity_date": 1432301866, "creation_date": 1432295492, "last_edit_date": 1432296307, "question_id": 30395983, "link": "https://stackoverflow.com/questions/30395983/perl-return-array-from-multidimensional-array", "title": "Perl return array from multidimensional array", "body": "<p>I've got this multidimensional array:</p>\n\n<pre><code>@valid_values = ([\"val00\", \"val01\", \"val02\"], [\"val10\", \"val11\", \"val12\"]);\n</code></pre>\n\n<p>Via grep I want to check, if a certain value exists within the first array of the multidimensional array.\nI've tried something like this:</p>\n\n<pre><code>if (grep $_ eq $check_value, @valid_values[0]) {print \"ok\\n\"}\n</code></pre>\n\n<p>This doesn't work though. I've also tried using <code>$valid_values[0]</code>, but I think this will only return a reference to the array, so I used <code>@</code> to dereference it.</p>\n\n<p>Any suggestions on how I can return the whole first array of the 2d-array, so I can use it for the grep function?</p>\n"}, {"tags": ["perl", "character", "ascii"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432290102, "post_id": 30394030, "comment_id": 48876064, "body": "Presumably the character <code>FS</code> (<code>&quot;\\x1C&quot;</code>) is already present in the <code>$trunkid</code> variable. What is the source of that value?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432290345, "post_id": 30394030, "comment_id": 48876208, "body": "Please add the following <code>use Data::Dumper;</code> <code>$Data::Dumper::Useqq = 1;</code> <code>print Dumper \\@trunkarray;</code> and show the results"}, {"owner": {"reputation": 1, "user_id": 4762341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1RBox.jpg?s=128&g=1", "display_name": "Sruthi Nalin", "link": "https://stackoverflow.com/users/4762341/sruthi-nalin"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432292823, "post_id": 30394030, "comment_id": 48877816, "body": "The source for trunkid is from the form, the checkboxes being checked is the result for the trunkid, separated by a &#39;:&#39; (colon)."}, {"owner": {"reputation": 1, "user_id": 4762341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1RBox.jpg?s=128&g=1", "display_name": "Sruthi Nalin", "link": "https://stackoverflow.com/users/4762341/sruthi-nalin"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432293319, "post_id": 30394030, "comment_id": 48878133, "body": "I has selected the following three numbers: 428331   428332   428333    And after using your above sent code &quot;use Data::Dumper; $Data::Dumper::Useqq = 1; print Dumper \\@trunkarray;&quot;  I got the following output for the print :  $VAR1 = [ 428331, &quot;\\034428332&quot;, &quot;\\034428333&quot; ];"}, {"owner": {"reputation": 1, "user_id": 4762341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1RBox.jpg?s=128&g=1", "display_name": "Sruthi Nalin", "link": "https://stackoverflow.com/users/4762341/sruthi-nalin"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432293953, "post_id": 30394030, "comment_id": 48878517, "body": "ALso, I just found out that this special character I&#39;m receiving while querying the database itself.  Could you please tell me how to remove this special character while splitting the queried output?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1432294166, "post_id": 30394030, "comment_id": 48878641, "body": "The simple answer is <code>tr&#47;\\x1C&#47;&#47;d</code>, but that is a hack to work around a separate bug in your code. You should fix the bug rather than remove its effects. If the value of <code>$trunkid</code> is the contents of a single database column then it may well be a problem with the code that writes to the database, but you should show the SQL statement that retrieves is for us to be sure"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432295884, "post_id": 30394030, "comment_id": 48879833, "body": "@Borodin: I think the simple answer would be to add it in the split regex <code>split(&#47;:\\0?&#47;,$trunkid)</code>. But you are right, there is a bug lingering somewhere else."}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1432296001, "post_id": 30394030, "comment_id": 48879921, "body": "@SruthiNalin: <a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">You really should use <code>$dbh-&gt;prepare</code></a>!! It&#39;s probably unsafe if you don&#39;t."}, {"owner": {"reputation": 1, "user_id": 4762341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1RBox.jpg?s=128&g=1", "display_name": "Sruthi Nalin", "link": "https://stackoverflow.com/users/4762341/sruthi-nalin"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432296043, "post_id": 30394030, "comment_id": 48879947, "body": "I am adding a module into the existing code. I may not be able to change the existing code for the way it generates the database output when queried. But thanks @Borodin, I was able to execute my update query now with the transliteration operator you mentioned."}, {"owner": {"reputation": 1, "user_id": 4762341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1RBox.jpg?s=128&g=1", "display_name": "Sruthi Nalin", "link": "https://stackoverflow.com/users/4762341/sruthi-nalin"}, "reply_to_user": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1432296085, "post_id": 30394030, "comment_id": 48879975, "body": "@PatrickJ.S., what would dbh -&gt; prepare do?"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1432296852, "post_id": 30394030, "comment_id": 48880551, "body": "You would write your query with <code>?</code> at the place you want your variables and then put the variables in the <code>execute</code>. like this:  <code>my  $UPDATE = &quot;update TRUNKGROUP set source=&#39;D&#39; where trunkgrpid in (?)&quot;; \u2026 my $sth = $dbh-&gt;prepare($UPDATE); $sth-&gt;execute($trunkgrplist);</code> This circumvents all the fallacies you could fall into if you want to escape the data yourself. Here is the documentation for <code>DBI</code>: <a href=\"https://metacpan.org/pod/DBI#prepare\" rel=\"nofollow noreferrer\">metacpan.org/pod/DBI#prepare</a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 1, "creation_date": 1432321320, "post_id": 30394030, "comment_id": 48895861, "body": "@PatrickJ.S.: That would be <code>split &#47;:\\x1C?&#47;, $trunkid</code>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432316517, "post_id": 30398474, "comment_id": 48893204, "body": "woops! I wrote <code>FC</code> everywhere instead of <code>1C</code>. Fixed."}, {"owner": {"reputation": 1, "user_id": 4762341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1RBox.jpg?s=128&g=1", "display_name": "Sruthi Nalin", "link": "https://stackoverflow.com/users/4762341/sruthi-nalin"}, "edited": false, "score": 0, "creation_date": 1432612752, "post_id": 30398474, "comment_id": 48979979, "body": "Thanks everyone. That helped. :)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1432316497, "last_edit_date": 1432316497, "creation_date": 1432302588, "answer_id": 30398474, "question_id": 30394030, "link": "https://stackoverflow.com/questions/30394030/how-to-remove-the-ascii-code-28-0x1c-fs-from-a-perl-cgi-script/30398474#30398474", "title": "How to remove the ASCII code 28 0x1C (FS) from a Perl CGI script?", "body": "<p>For whatever reason, you have the equivalent of</p>\n\n<pre><code>my $compString = \"428331:\\x{1C}428332:\\x{1C}428333\";\n</code></pre>\n\n<p>You can fix it with</p>\n\n<pre><code>$compString =~ s/\\x1C//g;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$compString =~ tr/\\x1C//d;\n</code></pre>\n\n<p>Your code becomes</p>\n\n<pre><code>sub updateOperation {                                  # XXX Bad name\n   my @trunk_grp_ids = @_;\n\n   while (@trunk_grp_ids) {\n      my $trunk_grp_ids_list =\n         join ', ',\n            map $dbh-&gt;quote($_),\n               splice(@trunk_grp_ids, 0, 500);\n\n      $dbh-&gt;do(\"\n         UPDATE TRUNKGROUP\n            SET source='D'\n          WHERE trunkgrpid in ( $trunk_grp_ids_list )\n      \");\n   }\n}   \n\nmy $compString = \"428331:\\x{1C}428332:\\x{1C}428333\";   # XXX Bad name\n$compString =~ tr/\\x1C//d;\nmy @trunk_grp_ids = split /:/, $compString;\nupdateOperation(@trunk_grp_ids);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4762341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1RBox.jpg?s=128&g=1", "display_name": "Sruthi Nalin", "link": "https://stackoverflow.com/users/4762341/sruthi-nalin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432316497, "creation_date": 1432289640, "last_edit_date": 1432290592, "question_id": 30394030, "link": "https://stackoverflow.com/questions/30394030/how-to-remove-the-ascii-code-28-0x1c-fs-from-a-perl-cgi-script", "title": "How to remove the ASCII code 28 0x1C (FS) from a Perl CGI script?", "body": "<p>I have the following code snippet</p>\n\n<pre><code>@trunkarray = split(/:/,$trunkid);\nmy $compString = \"\";\n\nforeach $value ( @trunkarray ) {\n    print \"&lt;TR&gt; &lt;TD&gt; $value &lt;/TD&gt; &lt;/TR&gt;\";\n\n    if ( ! ($compString) ) {\n        $compString = \"$value\";\n    }\n    else {\n        $compString = $compString . \",$value\";\n    }\n}   \n\n&amp;updateOperation($compString);\n</code></pre>\n\n<p>The <code>$CompString</code> variable is sent to <code>updateOperation</code>.</p>\n\n<p>My script is giving a special character <code>FS</code> (code point 28 or 0x1C) after the comma <code>,</code> along with <code>$value</code> in the above statement. I found this special character's occurrence when I pasted the output in Notepad++.</p>\n\n<p>Can anyone please tell me the reason why I'm getting this special character, and if there is a way to remove it?</p>\n\n<p>Due to this special character, my database operation (under the updateOperation subroutine) is getting aborted; As this string is passed as an argument for an update operation like this:</p>\n\n<pre><code>sub updateOperation\n{\n    my($trunkgrplist) = @_;\n    $UPDATE= \"update TRUNKGROUP set source='D' where trunkgrpid in ($trunkgrplist)\";\n..\n}\n</code></pre>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1432286877, "post_id": 30392557, "comment_id": 48873994, "body": "Can you please add the exact outut from your terminal and check the encoding of you file?"}, {"owner": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1432287454, "post_id": 30392557, "comment_id": 48874366, "body": "I am trying to encode the &#39;&#163;&#39; and inserted into DB it is storing as &#39;&amp;Acirc;&amp;pound;&#39;,while fetching it is displaying as  &#194;&#163;, I am decoded this data , but eventhough it is displaying as &#194;&#163;.Using perl script ,"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1432287554, "post_id": 30392557, "comment_id": 48874424, "body": "You&#39;ve already said that in the question. But without additional information it&#39;s impossible to understand what is going on. <b>Please <a href=\"https://stackoverflow.com/posts/30392557/edit\">edit</a> your question</b> and add your complete terminal output, including how you run the script and what it prints."}, {"owner": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1432290240, "post_id": 30392557, "comment_id": 48876151, "body": "I have changed the question along with brief explaination. Please check it"}], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "edited": false, "score": 0, "creation_date": 1432305145, "post_id": 30395890, "comment_id": 48886476, "body": "I have added &#39;use utf8&#39; in my script,  added   binmode(STDOUT, &quot;:utf8&quot;);  before printing the result. But same error I am getting It is displaying   &#194;&#163; in UI"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "reply_to_user": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "edited": false, "score": 0, "creation_date": 1432319908, "post_id": 30395890, "comment_id": 48895105, "body": "It <i>should</i> work this way. can you make a script with just <code>use utf8; use HTML::Entities; print encode_entities(&quot;&#163;&quot;);</code> it should print <code>&amp;pound;</code>."}, {"owner": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "edited": false, "score": 0, "creation_date": 1432804123, "post_id": 30395890, "comment_id": 49079968, "body": "yes , It is printing &amp;pound; But while inserting in DB it  is changing it as &amp;Acirc;&amp;pound;"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "reply_to_user": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "edited": false, "score": 0, "creation_date": 1432810693, "post_id": 30395890, "comment_id": 49084569, "body": "You could test with a <code>print &quot;$str\\n&quot;</code> right before your <code>execute</code> what your variable contains. If it prints <code>&amp;pound;</code> The problem is within your database driver. If it prints <code>&amp;acirc;&amp;pound;</code> You have encoded the string twice somewhere. A saner way to do this is to use the debugger and find out where it gets broken. Run your script with <code>perl -d</code>. <code>n</code> goes to the next command, <code>x $str</code> prints the contents <code>$str</code>, <code>s</code> goes into an command (you can use this to find out if your db-driver does some wrong encoding, maybe you forgot to set an option somewhere)."}, {"owner": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "edited": false, "score": 0, "creation_date": 1432811954, "post_id": 30395890, "comment_id": 49085515, "body": "I found that actual problem causing this is, That  &quot;&#163;&quot; data is coming from textbox  field from UI,  after encoding it is converting as &amp;acirc;&amp;pound;         Some htmlentities issue.. Please tell me how to fix this"}, {"owner": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "edited": false, "score": 0, "creation_date": 1432828204, "post_id": 30395890, "comment_id": 49098181, "body": "I have added  $dbh-&gt;do(&quot;SET NAMES &#39;utf8&#39;&quot;);   in my script so It is inserting properly ,But fetching the same data  &#39;&#163;&#39; from DB to UI  is  displaying  as &#194;&#163;."}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "reply_to_user": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "edited": false, "score": 0, "creation_date": 1432837754, "post_id": 30395890, "comment_id": 49103875, "body": "You should really ask another question, or update this one, since the input from somewhere and a string literal are two totally different things. Whichever of these options you choose, you&#39;ll have to include more information! UI can literally be anything. Is it <a href=\"https://metacpan.org/pod/distribution/Gtk-Perl/Gtk/cookbook.pod\" rel=\"nofollow noreferrer\">gtk</a>, <a href=\"https://metacpan.org/pod/Wx\" rel=\"nofollow noreferrer\">Wx</a>, or something else? If your UI is a webpage, what framework are you using? Dancer, Mojolicious, Catalyst, CGI.pm or something different? Are you using mod_perl? UI can mean so much things, you&#39;ll have to be a little more specific."}], "tags": [], "owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1432295240, "creation_date": 1432295240, "answer_id": 30395890, "question_id": 30392557, "link": "https://stackoverflow.com/questions/30392557/encoding-of-latin-characters-like-%c2%a3-pound-is-throwing-junk-value-after-encodin/30395890#30395890", "title": "Encoding of latin characters like &#163; (pound) is throwing junk value after encoding using perl script", "body": "<p>If you have characters outside the ascii-range inside your perl-script you have to <code>use utf8</code> and ensure that your script is stored in the utf-8 encoding (it is).</p>\n\n<p>The main purpose nowadays for <code>use utf8</code> is to tell perl that your script is stored in utf8. If you want to use it for something else, read <code>perldoc perlunicode</code> first, probably you'll need some other pragma or module.</p>\n\n<p>Also you didn't state what your database driver is. Probably your database is capable of either storing the value as binary data, you can then decode it with <code>Encode::decode</code>, or your driver is capable of storing utf-8 text, then you could use that. </p>\n"}], "owner": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 30395890, "answer_count": 1, "score": 0, "last_activity_date": 1432822732, "creation_date": 1432285402, "last_edit_date": 1432822732, "question_id": 30392557, "link": "https://stackoverflow.com/questions/30392557/encoding-of-latin-characters-like-%c2%a3-pound-is-throwing-junk-value-after-encodin", "title": "Encoding of latin characters like &#163; (pound) is throwing junk value after encoding using perl script", "body": "<p>I am trying to encode the '\u00a3' and inserted into DB it is storing as '&Acirc;&pound;',while fetching it is displaying as  \u00c2\u00a3, I am decoded this data , but eventhough it is displaying as \u00c2\u00a3.Using perl script , Here is my code.</p>\n\n<pre><code>#!/usr/local/perl-5.20.1/bin/perl\nuse HTML::Entities;\n$str=\"\u00a3\";\n$str=HTML::Entities::encode($str);\nmy $sth = $dbh-&gt;prepare(\"INSERT INTO notes VALUES (null,'FD',?,?)\");\n$sth-&gt;execute('1','2',time(),$str);\n$sth = $dbh-&gt;execute(\"SELECT content FROM notes WHERE requestID = 1);\nwhile (my @temp = $sth-&gt;fetchrow_array()) {\n $note = HTML::Entities::decode($temp[0]);\n}\n</code></pre>\n\n<p>In terminal it is displaying as \u00c2\u00a3 after decoding of fetched DB data  (&Acirc;&pound;)</p>\n"}, {"tags": ["perl", "soap", "wsdl", "soaplite"], "comments": [{"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 1, "creation_date": 1432283023, "post_id": 30391402, "comment_id": 48871691, "body": "Maybe <a href=\"http://www.perlmonks.org/?node_id=920498\" rel=\"nofollow noreferrer\">this will help</a>."}, {"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 1, "creation_date": 1432283213, "post_id": 30391402, "comment_id": 48871795, "body": "And <a href=\"http://search.cpan.org/dist/SOAP-Lite/lib/SOAP/Data.pod\" rel=\"nofollow noreferrer\">this</a> will help even more.  It shows you how the Perl code will map to XML.  You will need to look at your WSDL for more information and we probably cannot give you a definitive answer."}, {"owner": {"reputation": 61, "user_id": 4927980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d271d0dd6db82f3edb5620760ec28e94?s=128&d=identicon&r=PG&f=1", "display_name": "PPX", "link": "https://stackoverflow.com/users/4927980/ppx"}, "reply_to_user": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1432298618, "post_id": 30391402, "comment_id": 48881777, "body": "Researching further : I see hints that if I want to serialize using the SOAP::Data module, I should (must ?) not use the service wsdl at all but rather create the SOAP::Lite handle using proxy and uri. Is this true ? I could not find solid evidence about that..."}, {"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1432400645, "post_id": 30391402, "comment_id": 48916672, "body": "Post your WSDL and we can probably give you real code to use."}, {"owner": {"reputation": 61, "user_id": 4927980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d271d0dd6db82f3edb5620760ec28e94?s=128&d=identicon&r=PG&f=1", "display_name": "PPX", "link": "https://stackoverflow.com/users/4927980/ppx"}, "reply_to_user": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1433400589, "post_id": 30391402, "comment_id": 49338506, "body": "Apologies for the delay - I was offsite."}, {"owner": {"reputation": 61, "user_id": 4927980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d271d0dd6db82f3edb5620760ec28e94?s=128&d=identicon&r=PG&f=1", "display_name": "PPX", "link": "https://stackoverflow.com/users/4927980/ppx"}, "reply_to_user": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1433401648, "post_id": 30391402, "comment_id": 49339120, "body": "I attached the relevant parts of the WSDL to the initial question. Thank you !"}, {"owner": {"reputation": 61, "user_id": 4927980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d271d0dd6db82f3edb5620760ec28e94?s=128&d=identicon&r=PG&f=1", "display_name": "PPX", "link": "https://stackoverflow.com/users/4927980/ppx"}, "reply_to_user": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1433406816, "post_id": 30391402, "comment_id": 49342085, "body": "Would anyone be able to comment on this basic question above ? \t Researching further : I see hints that if I want to serialize using the SOAP::Data module, I should (must ?) not use the service wsdl at all but rather create the SOAP::Lite handle using proxy and uri. Is this true ? I could not find solid evidence about that.."}], "answers": [{"comments": [{"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1433776097, "post_id": 30659931, "comment_id": 49482960, "body": "Check the resources given above to see how you can handle an array."}], "tags": [], "owner": {"reputation": 61, "user_id": 4927980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d271d0dd6db82f3edb5620760ec28e94?s=128&d=identicon&r=PG&f=1", "display_name": "PPX", "link": "https://stackoverflow.com/users/4927980/ppx"}, "is_accepted": false, "score": 1, "last_activity_date": 1433486326, "creation_date": 1433486326, "answer_id": 30659931, "question_id": 30391402, "link": "https://stackoverflow.com/questions/30391402/perl-soaplite-and-complex-data/30659931#30659931", "title": "Perl soap::lite and complex data", "body": "<p>Update and resolution.\nIt looks like using the proxy/uri method to create the SOAP::Lite object (instead of simply referencing the WSDL \"service\") strings is mandatory if you want to pass complex data\nTherefore the code now looks as follows for the simple request :</p>\n\n<pre><code> my $base=\"https://XXXXX/GDBIncidentWebService/Config?wsdl&amp;style=rpc\";\n my $uri=\"urn:GDBIncidentWebServiceVi\"\n my $ticketID='20054106';\n my $lite = SOAP::Lite -&gt; proxy($base)\n             -&gt; uri($uri);\n my $res = $lite -&gt; readIncident(SOAP::Data-&gt;('ticketID' =&gt; $ticketID))\n             -&gt; result;\n print Dumper($res);\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 4927980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d271d0dd6db82f3edb5620760ec28e94?s=128&d=identicon&r=PG&f=1", "display_name": "PPX", "link": "https://stackoverflow.com/users/4927980/ppx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1462, "favorite_count": 2, "answer_count": 1, "score": 5, "last_activity_date": 1433486326, "creation_date": 1432281754, "last_edit_date": 1433401621, "question_id": 30391402, "link": "https://stackoverflow.com/questions/30391402/perl-soaplite-and-complex-data", "title": "Perl soap::lite and complex data", "body": "<p>I am using perl soap::lite to build a web services client.\nThe implementation works fine for simple methods, which will e.g. require a single scalar argument.\nEG, the following works fine.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse SOAP::Lite  +trace=&gt;debug;\nuse strict;\nuse Data::Dumper;\n$SOAP::Constants::PREFIX_ENV = 'SOAP-ENV';\nmy $base=\"https://XXXX:60001/GDBIncidentWebService/Config?wsdl&amp;style=rpc\";\nmy $user=\"XXXX\";\nmy $pwd=\"XXXX\";\n\nmy $lite = SOAP::Lite -&gt; readable(1)\n                  -&gt; service($base) ;\nmy @res=$lite-&gt;readIncident(\"123456\");\nprint Dumper(\\@res);\nexit;\nsub SOAP::Transport::HTTP::Client::get_basic_credentials { return $user =&gt; $pwd ; }\n</code></pre>\n\n<p>I need to call one method which requires a more complex set of arguments(a few scalars plus one array of key-value pairs).\nI figure I should use the SOAP::Data module to serialize my data correctly but fail to get it to work.\nEven the \"simple\" methods (like the one above) do not seem to work.\nEG (just showing lines changed from above script) :</p>\n\n<pre><code>my $arg= SOAP::Data-&gt;new()-&gt;type('xs:string')-&gt; value(\"20054106\");\nmy @res=$lite-&gt;readIncident($arg);\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>String value expected instead of SOAP::Data reference\n</code></pre>\n\n<p>Any idea on how to fix this ? Thanks a lot !\nFor reference here is the wsdl for the method called in my script</p>\n\n<pre><code> &lt;wsdl:operation name=\"readIncident\"&gt;\n  &lt;soap:operation soapAction=\"\"/&gt;\n  &lt;wsdl:input&gt;\n    &lt;soap:body use=\"literal\" namespace=\"urn:GDBIncidentWebServiceVi\" parts=\"ticketID \"/&gt;\n  &lt;/wsdl:input&gt;\n  &lt;wsdl:output&gt;\n    &lt;soap:body use=\"literal\" namespace=\"urn:GDBIncidentWebServiceVi\"/&gt;\n  &lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n</code></pre>\n\n<p>The full WSDL looks like follows - spread into 3 files. Main WSDL file:</p>\n\n<pre><code> &lt;wsdl:definitions xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" name=\"GDBIncidentWebServiceWsd\" targetNamespace=\"urn:GDBIncidentWebServiceWsd\" xmlns:bns0=\"urn:GDBIncidentWebServiceWsd/Config/rpc\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\"&gt;\n   &lt;wsdl:import location=\"./bindings/Config_rpc.wsdl\" namespace=\"urn:GDBIncidentWebServiceWsd/Config/rpc\"/&gt;\n   &lt;wsdl:service name=\"GDBIncidentWebService\"&gt;\n     &lt;wsdl:port name=\"ConfigPort_Rpc\" binding=\"bns0:ConfigBinding\"&gt;\n       &lt;soap:address location=\"http://xxxx/GDBIncidentWebService/Config?style=rpc\"/&gt;\n     &lt;/wsdl:port&gt;\n  &lt;/wsdl:service&gt;\n &lt;/wsdl:definitions&gt;\n</code></pre>\n\n<p>Bindings file (extract)</p>\n\n<pre><code>&lt;wsdl:definitions xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\"  xmlns:ns1=\"http://www.w3.org/2001/XMLSchema\" xmlns:ns0=\"urn:com.dbag.gde.gdb.types\" targetNamespace=\"urn:GDBIncidentWebServiceWsd/GDBIncidentWebServiceVi/rpc\" xmlns:tns=\"urn:GDBIncidentWebServiceWsd/GDBIncidentWebServiceVi/rpc\" xmlns:ns2=\"urn:java/lang\"&gt;\n       &lt;wsdl:types&gt;\n        &lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" targetNamespace=\"urn:com.dbag.gde.gdb.types\" xmlns:tns=\"urn:com.dbag.gde.gdb.types\" elementFormDefault=\"qualified\"&gt;\n       &lt;xs:complexType name=\"KeyValuePair\"&gt;\n         &lt;xs:sequence&gt;\n            &lt;xs:element name=\"key\" type=\"xs:string\" nillable=\"true\" minOccurs=\"0\"/&gt;\n         &lt;xs:element name=\"value\" type=\"xs:string\" nillable=\"true\" minOccurs=\"0\"/&gt;\n        &lt;/xs:sequence&gt;\n      &lt;/xs:complexType&gt;\n       &lt;xs:complexType name=\"ArrayOfKeyValuePair\"&gt;\n        &lt;xs:sequence&gt;\n           &lt;xs:element maxOccurs=\"unbounded\" minOccurs=\"0\" name=\"KeyValuePair\" type=\"tns:KeyValuePair\" nillable=\"true\"/&gt;\n         &lt;/xs:sequence&gt;\n       &lt;/xs:complexType&gt;\n      &lt;/xs:schema&gt;\n     &lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" targetNamespace=\"urn:java/lang\" xmlns:tns=\"urn:java/lang\" elementFormDefault=\"qualified\"&gt;\n       &lt;xs:complexType name=\"ArrayOfString\"&gt;\n         &lt;xs:sequence&gt;\n           &lt;xs:element maxOccurs=\"unbounded\" minOccurs=\"0\" name=\"String\" type=\"xs:string\" nillable=\"true\"/&gt;\n        &lt;/xs:sequence&gt;\n      &lt;/xs:complexType&gt;\n    &lt;/xs:schema&gt;\n  &lt;/wsdl:types&gt;\n  &lt;wsdl:message name=\"createInsourcingIncidentIn\"&gt;\n    &lt;wsdl:part name=\"externalKey\" type=\"ns1:string\"/&gt;\n    &lt;wsdl:part name=\"title\" type=\"ns1:string\"/&gt;\n    &lt;wsdl:part name=\"description\" type=\"ns1:string\"/&gt;\n    &lt;wsdl:part name=\"impact\" type=\"ns1:string\"/&gt;\n    &lt;wsdl:part name=\"urgency\" type=\"ns1:string\"/&gt;\n    &lt;wsdl:part name=\"contact\" type=\"ns1:string\"/&gt;\n    &lt;wsdl:part name=\"creatorGroup\" type=\"ns1:string\"/&gt;\n    &lt;wsdl:part name=\"category1\" type=\"ns1:string\"/&gt;\n    &lt;wsdl:part name=\"category2\" type=\"ns1:string\"/&gt;\n    &lt;wsdl:part name=\"category3\" type=\"ns1:string\"/&gt;\n    &lt;wsdl:part name=\"extReference\" type=\"ns0:ArrayOfKeyValuePair\"/&gt;\n    &lt;wsdl:part name=\"attachments\" type=\"ns0:ArrayOfAttachment\"/&gt;\n    &lt;wsdl:part name=\"additionalFields\" type=\"ns0:ArrayOfKeyValuePair\"/&gt;\n    &lt;wsdl:part name=\"assignmentGroup\" type=\"ns1:string\"/&gt;\n    &lt;wsdl:part name=\"assignmentSubGroup\" type=\"ns1:string\"/&gt;\n    &lt;wsdl:part name=\"productId\" type=\"ns1:string\"/&gt;\n    &lt;wsdl:part name=\"productName\" type=\"ns1:string\"/&gt;\n    &lt;wsdl:part name=\"service\" type=\"ns1:string\"/&gt;\n    &lt;wsdl:part name=\"customer\" type=\"ns1:string\"/&gt;\n  &lt;/wsdl:message&gt;\n\n  &lt;wsdl:portType name=\"GDBIncidentWebServiceVi_Rpc\"&gt;\n    &lt;wsdl:operation name=\"createInsourcingIncident\"&gt;\n      &lt;wsdl:input message=\"tns:createInsourcingIncidentIn\"/&gt;\n      &lt;wsdl:output message=\"tns:createInsourcingIncidentOut\"/&gt;\n    &lt;/wsdl:operation&gt;\n   &lt;/wsdl:portType&gt;\n&lt;/wsdl:definitions&gt;\n</code></pre>\n\n<p>Operation definition</p>\n\n<pre><code>    &lt;wsdl:operation name=\"createInsourcingIncident\"&gt;\n      &lt;soap:operation soapAction=\"\"/&gt;\n      &lt;wsdl:input&gt;\n        &lt;soap:body use=\"literal\" namespace=\"urn:GDBIncidentWebServiceVi\" parts=\"externalKey title description impact urgency contact creatorGroup category1 category2 category3 extReference attachments additionalFields assignmentGroup assignmentSubGroup productId productName service customer \"/&gt;\n      &lt;/wsdl:input&gt;\n      &lt;wsdl:output&gt;\n        &lt;soap:body use=\"literal\" namespace=\"urn:GDBIncidentWebServiceVi\"/&gt;\n      &lt;/wsdl:output&gt;\n    &lt;/wsdl:operation&gt;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 1, "creation_date": 1432275830, "post_id": 30389651, "comment_id": 48867946, "body": "what is supposed to loop over what?"}, {"owner": {"reputation": 1631, "user_id": 2580649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HjN4u.png?s=128&g=1", "display_name": "PakkuDon", "link": "https://stackoverflow.com/users/2580649/pakkudon"}, "edited": false, "score": 3, "creation_date": 1432275836, "post_id": 30389651, "comment_id": 48867951, "body": "Have you read the Perldoc page on <a href=\"http://perldoc.perl.org/perlsyn.html#For-Loops\" rel=\"nofollow noreferrer\">Perl syntax</a>?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1432280766, "post_id": 30389651, "comment_id": 48870499, "body": "That is not Perl code."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1432285795, "post_id": 30389651, "comment_id": 48873342, "body": "Ever heard of google?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1432293202, "post_id": 30389651, "comment_id": 48878063, "body": "<code>[I&#39;m feeling lucky]</code> <a href=\"http://perlmaven.com/for-loop-in-perl\" rel=\"nofollow noreferrer\">perlmaven.com/for-loop-in-perl</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1432301612, "post_id": 30389651, "comment_id": 48883872, "body": "I assume you were just trying to make a point with this post, but it could genuinely be helpful for someone in the future, so I&#39;ve edited out the inflammatory language and made it more generic."}, {"owner": {"reputation": 565, "user_id": 4671121, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eyiN7.png?s=128&g=1", "display_name": "OB7", "link": "https://stackoverflow.com/users/4671121/ob7"}, "edited": false, "score": 0, "creation_date": 1432311454, "post_id": 30389651, "comment_id": 48890586, "body": "Thanks I appreciate that."}], "answers": [{"comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 5, "creation_date": 1432277616, "post_id": 30389721, "comment_id": 48868769, "body": "Do not use <code>my</code> as a variable name, as <a href=\"http://perldoc.perl.org/functions/my.html\" rel=\"nofollow noreferrer\">my()</a> use in Perl for variable declaration."}, {"owner": {"reputation": 565, "user_id": 4671121, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eyiN7.png?s=128&g=1", "display_name": "OB7", "link": "https://stackoverflow.com/users/4671121/ob7"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1432278494, "post_id": 30389721, "comment_id": 48869224, "body": "Its not a reserved variable name."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1432279519, "post_id": 30389721, "comment_id": 48869794, "body": "Its always a good practice to <i>not</i> use any <i>function</i> name as a variable name."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 5, "creation_date": 1432281014, "post_id": 30389721, "comment_id": 48870652, "body": "It&#39;s not a reserved word, but it <i>is</i> potentially confusing to maintenance programmers."}], "tags": [], "owner": {"reputation": 565, "user_id": 4671121, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eyiN7.png?s=128&g=1", "display_name": "OB7", "link": "https://stackoverflow.com/users/4671121/ob7"}, "is_accepted": false, "score": 2, "last_activity_date": 1432301301, "last_edit_date": 1432301301, "creation_date": 1432275940, "answer_id": 30389721, "question_id": 30389651, "link": "https://stackoverflow.com/questions/30389651/how-is-a-for-loop-written-in-perl/30389721#30389721", "title": "How is a for loop written in Perl?", "body": "<p>To write a <code>for</code> loop in Perl the syntax would look like this:</p>\n\n<pre><code>for my $foo (@array) {\n    print \"$foo\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 5, "last_activity_date": 1432275958, "creation_date": 1432275958, "answer_id": 30389726, "question_id": 30389651, "link": "https://stackoverflow.com/questions/30389651/how-is-a-for-loop-written-in-perl/30389726#30389726", "title": "How is a for loop written in Perl?", "body": "<p>There are two types of for loop in perl, in addition to the for statement modifier.  They look like this:</p>\n\n<pre><code># c-style for loop\nfor ( my $i = 0; $i &lt; 12; ++$i ) {\n    ...\n}\n\n# regular for loop\nfor my $i (0..11) {\n    ...\n}\n\n# statement modifier\n... for 0..11;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1432280705, "post_id": 30389779, "comment_id": 48870456, "body": "<code>for</code> and <code>foreach</code> are aliases to each other, so it is the syntax, not the word that determines which kind of for-loop is used."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 1, "creation_date": 1432285601, "post_id": 30389779, "comment_id": 48873224, "body": "always use strict; use warnings;"}], "tags": [], "owner": {"reputation": 1589, "user_id": 4842052, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a65750be5a40c97eaa6d1d08a64db803?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Michalski", "link": "https://stackoverflow.com/users/4842052/adam-michalski"}, "is_accepted": false, "score": 0, "last_activity_date": 1432286071, "last_edit_date": 1432286071, "creation_date": 1432276168, "answer_id": 30389779, "question_id": 30389651, "link": "https://stackoverflow.com/questions/30389651/how-is-a-for-loop-written-in-perl/30389779#30389779", "title": "How is a for loop written in Perl?", "body": "<p>for</p>\n\n<pre><code>for(my $i = 1; $i &lt; 5; $i++) {\n    something...\n}\n</code></pre>\n\n<p>or foreach</p>\n\n<pre><code>my @names = qw(Steve Bill Connor Bradley);\nforeach my $name (@names) {\n    something...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1432301777, "post_id": 30389955, "comment_id": 48884005, "body": "<code>for</code> loops are awkward for all but the simplest of cases. The above can be replaced with a <code>foreach</code> loop: <code>for my $i ( 0 .. 9 ){ print &quot;$i\\n&quot;; }</code> The rule of thumb is: for bounded loops, use <code>foreach</code>; for unbounded ones, use <code>while</code>."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 1, "creation_date": 1432301986, "post_id": 30389955, "comment_id": 48884172, "body": "OP is asking for <code>for loop</code> in Perl. And I think I have given a right syntax, so there is no meaning of down vote. It can be improve by editing."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1432306924, "post_id": 30389955, "comment_id": 48887669, "body": "@shawnhcorey I assume you mean &quot;C-style loops are awkward...&quot;, since <code>for</code> and <code>foreach</code> <a href=\"http://perldoc.perl.org/perlsyn.html#Foreach-Loops\" rel=\"nofollow noreferrer\">are synonyms</a> and can be used interchangeably."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1432307481, "post_id": 30389955, "comment_id": 48888028, "body": "@shawnhcorey Of course, <code>perlsyn</code> uses the same confusing terminology, even after mentioning that the keywords are equivalent."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1432318497, "post_id": 30389955, "comment_id": 48894327, "body": "Because it comes from Perl 4. :) Back then, <code>foreach</code> had only one meaning, the iteration loop."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1432325408, "post_id": 30389955, "comment_id": 48897935, "body": "C-style for loops can be very nice, <code>for (my $entry=$linked_list-&gt;head; $entry; $entry=$entry-&gt;next)</code> for instance"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": -1, "last_activity_date": 1432276871, "creation_date": 1432276871, "answer_id": 30389955, "question_id": 30389651, "link": "https://stackoverflow.com/questions/30389651/how-is-a-for-loop-written-in-perl/30389955#30389955", "title": "How is a for loop written in Perl?", "body": "<p>The syntax of a for loop in Perl is:</p>\n\n<pre><code>for ( init; condition; increment )\n{\n   statement(s);\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>for (my $i=0; $i &lt;= 9; $i++)\n{\n   print \"$i\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 565, "user_id": 4671121, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eyiN7.png?s=128&g=1", "display_name": "OB7", "link": "https://stackoverflow.com/users/4671121/ob7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 1, "accepted_answer_id": 30389726, "answer_count": 4, "score": -8, "last_activity_date": 1432301301, "creation_date": 1432275662, "last_edit_date": 1432301164, "question_id": 30389651, "link": "https://stackoverflow.com/questions/30389651/how-is-a-for-loop-written-in-perl", "title": "How is a for loop written in Perl?", "body": "<p>How do you write a <code>for</code> loop in Perl? I've tried the following to no avail:</p>\n\n<pre><code>my $i = 0;\nfor my $foo; do\n    $i=$[i+1];\ndone &lt; bar;\n</code></pre>\n"}, {"tags": ["perl", "parsing", "wikipedia"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1432299486, "post_id": 30388285, "comment_id": 48882365, "body": "<code>Can&#39;t locate object method &quot;namespaces&quot; via package &quot;MediaWiki::DumpFile::Pages&quot;</code> has nothing to do with your input file; it means that the MediaWiki::DumpFile::Pages package doesn&#39;t provide a <code>namespaces</code> method. Do you perhaps have a really old version of MediaWiki::DumpFile::Pages? According to the docs, the <code>namespaces</code> method wasn&#39;t added until v0.0.7. Check your version with <code>perl -MMediaWiki::DumpFile::Pages -e &#39;print $MediaWiki::DumpFile::Pages::VERSION&#39;</code>."}, {"owner": {"reputation": 2293, "user_id": 811921, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f09eaf7b1c438f76d4d27781d837f286?s=128&d=identicon&r=PG", "display_name": "com", "link": "https://stackoverflow.com/users/811921/com"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1432301179, "post_id": 30388285, "comment_id": 48883556, "body": "@ThisSuitIsBlackNot, thank you very much for your comment, my version is 0.2.2."}, {"owner": {"reputation": 301, "user_id": 3257283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f75bc2564fc95cd1ec1f371044eb40a?s=128&d=identicon&r=PG", "display_name": "Sergey Kirgizov", "link": "https://stackoverflow.com/users/3257283/sergey-kirgizov"}, "edited": false, "score": 0, "creation_date": 1432889169, "post_id": 30388285, "comment_id": 49123758, "body": "Where I can get enwiki.xml.0001.gz in order to test your command?"}, {"owner": {"reputation": 301, "user_id": 3257283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f75bc2564fc95cd1ec1f371044eb40a?s=128&d=identicon&r=PG", "display_name": "Sergey Kirgizov", "link": "https://stackoverflow.com/users/3257283/sergey-kirgizov"}, "edited": false, "score": 0, "creation_date": 1432890541, "post_id": 30388285, "comment_id": 49124708, "body": "anyway, let&#39;s continue our discussion <a href=\"https://github.com/kerzol/wikiprep/issues/1\" rel=\"nofollow noreferrer\">here</a>"}], "owner": {"reputation": 2293, "user_id": 811921, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f09eaf7b1c438f76d4d27781d837f286?s=128&d=identicon&r=PG", "display_name": "com", "link": "https://stackoverflow.com/users/811921/com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1432268175, "creation_date": 1432268175, "question_id": 30388285, "link": "https://stackoverflow.com/questions/30388285/wikiprep-mediawikidumpfile-namespace", "title": "wikiprep MediaWiki::DumpFile namespace", "body": "<p>I am trying to use <a href=\"https://github.com/kerzol/wikiprep\" rel=\"nofollow\">wikiprep</a> with support of <a href=\"http://search.cpan.org/~triddle/MediaWiki-DumpFile-0.2.2/\" rel=\"nofollow\">MediaWiki::DumpFile</a> to parse wikipedia dump.</p>\n\n<p>The problem is it doesn't work. </p>\n\n<pre><code>wikiprep -format composite -compress -f enwiki.xml.0001.gz\nCan't locate object method \"namespaces\" via package \"MediaWiki::DumpFile::Pages\" at /usr/local/share/perl5/MediaWiki/DumpFile/Compat.pm line 148.\n</code></pre>\n\n<p>But I do have namespaces.</p>\n\n<pre><code>...\n&lt;siteinfo&gt;\n&lt;sitename&gt;Wikipedia&lt;/sitename&gt;\n&lt;dbname&gt;enwiki&lt;/dbname&gt;\n&lt;base&gt;http://en.wikipedia.org/wiki/Main_Page&lt;/base&gt;\n&lt;generator&gt;MediaWiki 1.25wmf23&lt;/generator&gt;\n&lt;case&gt;first-letter&lt;/case&gt;\n&lt;namespaces&gt;\n  &lt;namespace key=\"-2\" case=\"first-letter\"&gt;Media&lt;/namespace&gt;\n  ...\n</code></pre>\n\n<p>I don't understand how to run this parser.</p>\n"}, {"tags": ["html", "perl", "bioinformatics", "bioperl"], "comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1432268695, "post_id": 30388177, "comment_id": 48865563, "body": "It may be helpful to include more details from the error message."}, {"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1432269087, "post_id": 30388177, "comment_id": 48865647, "body": "what you are doing with <code>count2--</code> doesn&#39;t make much sense to me."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1432281025, "post_id": 30388177, "comment_id": 48870655, "body": "You should not compress your code so much that it is no longer readable. Make use of whitespace. And <code>use warnings</code>. And don&#39;t use <code>use Switch</code>, the module is deprecated -- use if-else instead."}, {"owner": {"reputation": 67, "user_id": 4515574, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/18766c10f3f4f8872f47c1769004b522?s=128&d=identicon&r=PG&f=1", "display_name": "eugheugh", "link": "https://stackoverflow.com/users/4515574/eugheugh"}, "edited": false, "score": 0, "creation_date": 1432314899, "post_id": 30388177, "comment_id": 48892370, "body": "This error message corresponds to the second to last case: Use of uninitialized value $parsed[101] in string ne at /home/adur/workspace/BI7643/GOexamp.pl line 105, &lt;IN&gt; line 1.                                              I didn&#39;t include the error message earlier because it includes information regarding working code outside of what I posted. Count2-- moves the index back so that &#39;Feedback&#39; isn&#39;t included in the array slice. The reason I compressed the switch part is because I lose points for whitespace. I&#39;ll replace it with if-else."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 4515574, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/18766c10f3f4f8872f47c1769004b522?s=128&d=identicon&r=PG&f=1", "display_name": "eugheugh", "link": "https://stackoverflow.com/users/4515574/eugheugh"}, "edited": false, "score": 0, "creation_date": 1432323382, "post_id": 30388756, "comment_id": 48896925, "body": "That actually requires having the database downloaded. I can&#39;t use it, but thank you. It&#39;s mainly a parsing problem now."}], "tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": false, "score": 5, "last_activity_date": 1432271858, "last_edit_date": 1432271858, "creation_date": 1432271383, "answer_id": 30388756, "question_id": 30388177, "link": "https://stackoverflow.com/questions/30388177/perl-uninitialized-value-error-after-parsing-html/30388756#30388756", "title": "Perl uninitialized value error after parsing html", "body": "<p>Did you mean to not quote the second and third call to parse?</p>\n\n<pre><code>htmlparse('GO:0000001');\nhtmlparse(GO:0000002);\nhtmlparse(GO:0000003); \n</code></pre>\n\n<p>Should be;</p>\n\n<pre><code>htmlparse('GO:0000001');\nhtmlparse('GO:0000002');\nhtmlparse('GO:0000003'); \n</code></pre>\n\n<p>Also, make sure to add to the top of your file the following</p>\n\n<pre><code>use warnings;\nuse diagnostics;\n</code></pre>\n\n<p>Post back the resulting error messages if there is still a problem.</p>\n\n<p>Also, according to <a href=\"http://geneontology.org/page/lead-database-guide\">http://geneontology.org/page/lead-database-guide</a> you can query the online database directly without having to parse html, they provide the following example using their tool;</p>\n\n<pre><code>GOshell.pl -d go_latest -dbuser go_select -dbauth amigo -port 4085 -h mysql.ebi.ac.uk\n</code></pre>\n\n<p>Relevent cpan information; <a href=\"http://cpansearch.perl.org/src/SJCARBON/go-db-perl-0.04/doc/go-db-perl-doc.html\">http://cpansearch.perl.org/src/SJCARBON/go-db-perl-0.04/doc/go-db-perl-doc.html</a></p>\n"}], "owner": {"reputation": 67, "user_id": 4515574, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/18766c10f3f4f8872f47c1769004b522?s=128&d=identicon&r=PG&f=1", "display_name": "eugheugh", "link": "https://stackoverflow.com/users/4515574/eugheugh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1432317601, "creation_date": 1432267450, "last_edit_date": 1432317601, "question_id": 30388177, "link": "https://stackoverflow.com/questions/30388177/perl-uninitialized-value-error-after-parsing-html", "title": "Perl uninitialized value error after parsing html", "body": "<p>I'm using <code>Bioperl</code> to find <code>GOterms</code> for genes. \nI retrieve an <code>html</code> file, convert it to text, get rid of all extra spaces and newlines, and try to go through the resulting array.</p>\n\n<p>However, I keep getting errors for accessing uninitialized values in the array. I put in many checks to make sure the array is not empty and that I'm not going out of bounds. How can I get rid of this error? </p>\n\n<p>I reposted the code in a more readable format. Thank you for your help.</p>\n\n<p>It seems to successfully parse out the correct data from the html so I don't know what's wrong.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse LWP::Simple;\nuse HTML::TreeBuilder;\nuse HTML::FormatText;\n\nmy $URL         = get(\"http://amigo.geneontology.org/amigo/term/GO:0000001\");\nmy $Format      = HTML::FormatText-&gt;new;\nmy $TreeBuilder = HTML::TreeBuilder-&gt;new;\n$TreeBuilder-&gt;parse($URL);\nmy $Parsed = $Format-&gt;format($TreeBuilder);\nprint \"$Parsed\";\nmy @parsed = split( /[ ]{2,}|(\\n+)|(\\r+)/, $Parsed );\nif ( @parsed == 1 ) { return; }\n\nmy %termhash;\nmy $count = 0;\n\nwhile ( $count &lt; @parsed ) {\n    if ( defined $parsed[$count] &amp;&amp; $parsed[$count] eq 'Name' ) {\n        my $count2 = $count;\n        while ( ( $parsed[$count2] ne 'Feedback' ) &amp;&amp; ( $count2 &lt; @parsed ) ) {\n            $count2++;\n        }\n        $count2--;\n        @parsed = @parsed[ $count .. $count2 ];    # Gets the slice of the array needed\n        last;\n    }\n    $count++;\n}\n\nif ( @parsed &lt;= 1 ) { return; }\nprint \"\\n\";\n\nprint @parsed;\n\n$count = 0;\nwhile ( $count &lt; @parsed ) {\n    if ( $parsed[$count] eq 'Name' ) {\n        while ( $parsed[$count] ne 'Ontology' &amp;&amp; ( $count &lt; @parsed )) {\n            $termhash{'Name'} .= $parsed[$count];\n            $count++;\n        }\n    }\n    if ( $parsed[$count] eq 'Ontology' ) {\n        while ( $parsed[$count] ne 'Synonyms' &amp;&amp; ( $count &lt; @parsed )) {\n            $termhash{'Category'} .= $parsed[$count];\n            $count++;\n        }\n    }\n    if ( $parsed[$count] eq 'Synonyms' ) {\n        while ( $parsed[$count] ne 'Definition' &amp;&amp; ( $count &lt; @parsed )) {\n            $termhash{'Aliases'} .= $parsed[$count];\n            $count++;\n        }\n    }\n    if ( $parsed[$count] eq 'Definition' ) {\n        while ( $parsed[$count] ne 'Comment' &amp;&amp; ( $count &lt; @parsed )) {\n            $termhash{'Definition'} .= $parsed[$count];\n            $count++;\n        }\n    }\n    if ( $parsed[$count] eq 'Comment' ) {\n        while ( $parsed[$count] ne 'History' &amp;&amp; ( $count &lt; @parsed )) {\n            $termhash{'Comment'} .= $parsed[$count];\n            $count++;\n        }\n    }\n    if ( $parsed[$count] eq 'History' ) {\n        while ( $parsed[$count] ne 'Subset' &amp;&amp; ( $count &lt; @parsed )) {\n            $termhash{'Version'} .= $parsed[$count];\n            $count++;\n        }\n    }\n    if ( $parsed[$count] eq 'Subset' ) {\n        while ( ( $parsed[$count] ne 'Community' ) &amp;&amp; ( $count &lt; @parsed ) ) {\n            $count++;\n        }\n    }\n    if ( $parsed[$count] eq 'Community' ) {\n        while ( ( $parsed[$count] ne 'Related' ) &amp;&amp; ( $count &lt; @parsed ) ) {\n            $count++;\n        }\n    }\n    if ( $parsed[$count] eq 'Related' ) {\n        for ( $count &lt; @parsed ) {\n            $termhash{'Definition references'} .= $parsed[$count];\n            $count++;\n        }\n    }\n}\nif ( $termhash{'Definition'} =~ m/OBSOLETE/ ) { $termhash{'Is obsolete'} = 1 }\nelse { $termhash{'Is obsolete'} = 0 }\n#print %termhash;\n</code></pre>\n\n<p><strong>The main error messages are:</strong></p>\n\n<ul>\n<li><p>Use of uninitialized value $parsed[127] in string ne at\n/home/adur/workspace/BI7643/ParseGOhtml.pl line 23.</p>\n\n<p>Use of uninitialized value $parsed[1] in print at\n/home/adur/workspace/BI7643/ParseGOhtml.pl line 35.</p>\n\n<p>Use of uninitialized value $parsed[1] in string ne at\n/home/adur/workspace/BI7643/ParseGOhtml.pl line 42.</p>\n\n<p>Use of uninitialized value $parsed[1] in concatenation (.) or string\nat /home/adur/workspace/BI7643/ParseGOhtml.pl line 41.</p>\n\n<p>Use of uninitialized value $parsed[17] in string ne at\n/home/adur/workspace/BI7643/ParseGOhtml.pl line 48.</p>\n\n<p>Use of uninitialized value $parsed[17] in concatenation (.) or string\nat /home/adur/workspace/BI7643/ParseGOhtml.pl line 47.</p>\n\n<p>Use of uninitialized value $parsed[29] in string ne at\n/home/adur/workspace/BI7643/ParseGOhtml.pl line 54.</p>\n\n<p>Use of uninitialized value $parsed[29] in concatenation (.) or string\nat /home/adur/workspace/BI7643/ParseGOhtml.pl line 53.</p>\n\n<p>Use of uninitialized value $parsed[41] in string ne at\n/home/adur/workspace/BI7643/ParseGOhtml.pl line 60.</p>\n\n<p>Use of uninitialized value $parsed[41] in concatenation (.) or string\nat /home/adur/workspace/BI7643/ParseGOhtml.pl line 59.</p>\n\n<p>Use of uninitialized value $parsed[79] in string ne at\n/home/adur/workspace/BI7643/ParseGOhtml.pl line 66.</p>\n\n<p>Use of uninitialized value $parsed[79] in concatenation (.) or string\nat /home/adur/workspace/BI7643/ParseGOhtml.pl line 65.</p>\n\n<p>Use of uninitialized value $parsed[83] in string ne at\n/home/adur/workspace/BI7643/ParseGOhtml.pl line 72.</p>\n\n<p>Use of uninitialized value $parsed[83] in concatenation (.) or string\nat /home/adur/workspace/BI7643/ParseGOhtml.pl line 71.</p>\n\n<p>Use of uninitialized value $parsed[95] in string ne at\n/home/adur/workspace/BI7643/ParseGOhtml.pl line 77.</p>\n\n<p>Use of uninitialized value $parsed[107] in string ne at\n/home/adur/workspace/BI7643/ParseGOhtml.pl line 82.</p></li>\n</ul>\n"}, {"tags": ["mysql", "perl"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4863863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56d2b35504b56fcb880381f8b48513d5?s=128&d=identicon&r=PG", "display_name": "ShutterAce", "link": "https://stackoverflow.com/users/4863863/shutterace"}, "edited": false, "score": 0, "creation_date": 1432423920, "post_id": 30388294, "comment_id": 48922903, "body": "I will spend some time with this over the weekend and see if I can make it work. I added the correct table structure to my op. Thank you."}], "tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": false, "score": 3, "last_activity_date": 1432270527, "last_edit_date": 1432270527, "creation_date": 1432268238, "answer_id": 30388294, "question_id": 30385210, "link": "https://stackoverflow.com/questions/30385210/mysql-how-do-i-select-fields-from-multiple-tables-for-insert-to-a-third-table/30388294#30388294", "title": "MySQL: How do I select fields from multiple tables for insert to a third table?", "body": "<p>That is a pretty obfuscate query, with way to many unnecessary nested queries.</p>\n\n<p>First lets clean it up, assuming the following database structure;</p>\n\n<pre><code>projects     categories     time_entries\n--------     ----------     ------------\nid           id             id\ncat_id       title          project_id\nusr_id                      user_id\ntitle                       user_id\n                            category_id\n                            start\n                            end\n</code></pre>\n\n<p>We can simplify your query to a more developer friendly version;</p>\n\n<pre><code>INSERT INTO `time_entries` (`project_id`, `user_id`, `category_id`, `start`)\n\nSELECT project_id, user_id, category_id, now()\nFROM projects JOIN category ON projects.cat_id = category.id\nWHERE project_id NOT IN (\n          SELECT project_id\n          FROM time_entries\n          WHERE title = $scanin[0]\n             AND `user_id` = $scanin[1]\n             AND `category_id` = $scanin[2]\n             AND `end` = '0000-00-00 00:00:00'\n         )\n</code></pre>\n\n<p>Ok, so now it should be much easier to add another table as you requested by using the following pattern;</p>\n\n<pre><code>INSERT INTO time_e... ,  column_n, column_n_plus_1\n....\nFROM proj....\n      JOIN table_n on id_n = project_id\n      JOIN table_n_plus_one on id_n_plus_one = project_id\n....\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 4863863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56d2b35504b56fcb880381f8b48513d5?s=128&d=identicon&r=PG", "display_name": "ShutterAce", "link": "https://stackoverflow.com/users/4863863/shutterace"}, "is_accepted": true, "score": 1, "last_activity_date": 1432485578, "creation_date": 1432485578, "answer_id": 30425844, "question_id": 30385210, "link": "https://stackoverflow.com/questions/30385210/mysql-how-do-i-select-fields-from-multiple-tables-for-insert-to-a-third-table/30425844#30425844", "title": "MySQL: How do I select fields from multiple tables for insert to a third table?", "body": "<p>Adding an index gave me the behavior I was looking for.</p>\n\n<pre><code>ALTER TABLE `time_entries` ADD UNIQUE `unique_record_index`(`project_id`,`user_id`,`category_id`,`end`)\n</code></pre>\n\n<p>Thanks for the help!</p>\n"}], "owner": {"reputation": 23, "user_id": 4863863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56d2b35504b56fcb880381f8b48513d5?s=128&d=identicon&r=PG", "display_name": "ShutterAce", "link": "https://stackoverflow.com/users/4863863/shutterace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 30425844, "answer_count": 2, "score": 1, "last_activity_date": 1432485578, "creation_date": 1432246258, "last_edit_date": 1432424161, "question_id": 30385210, "link": "https://stackoverflow.com/questions/30385210/mysql-how-do-i-select-fields-from-multiple-tables-for-insert-to-a-third-table", "title": "MySQL: How do I select fields from multiple tables for insert to a third table?", "body": "<p>I am implementing a time tracking solution for our small company.I have this query that does an insert into a table through a Perl script. The basic query works fine but I have two inputs, <code>project_id</code> and <code>category_id</code>, that I need to use to select the id from another table for insert.    </p>\n\n<pre><code>INSERT INTO `time_entries` (`project_id`, `user_id`, `category_id`, `start`)\n SELECT a.`project_id`, a.`user_id`, a.`category_id`, a.`start` FROM\n   (SELECT\n    (SELECT `id` FROM `projects` WHERE `title` = $scanin[0]) `project_id`,\n  $scanin[1] `user_id`,\n  (SELECT `id` FROM `categories` WHERE `barcode` = $scanin[2]) `category_id`,\n   NOW() `start`) a\n WHERE NOT EXISTS\n   ( SELECT 1 FROM `time_entries` WHERE `project_id` = (SELECT `id` FROM `projects` WHERE `title` = $scanin[0])\n   AND `user_id` = $scanin[1]\n   AND `category_id` = $scanin[2]\n   AND `end` = '0000-00-00 00:00:00')\n</code></pre>\n\n<p>It works fine if I am selecting from one table for insert but obviously won't work with two tables. Is it even possible to do this? I am pretty good with simple SQL statements but this is complex and joins have always been a problem for me.I just don't do a lot of it.</p>\n\n<pre><code>time_entries    projects        categories\n------------    --------        ----------\nid                  id              id\nproject_id      title           barcode\nuser_id\ncategory_id\nstart\nend\n</code></pre>\n"}, {"tags": ["perl", "ipc", "inter-process-communicat"], "comments": [{"owner": {"reputation": 876, "user_id": 1577347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z5wJu.png?s=128&g=1", "display_name": "Chris Smeele", "link": "https://stackoverflow.com/users/1577347/chris-smeele"}, "edited": false, "score": 0, "creation_date": 1432241622, "post_id": 30383892, "comment_id": 48857417, "body": "Your example seems to work for me. Perhaps the <code>Somebody sent (...)</code> message isn&#39;t shown in your case due to output buffering? Try adding a <code>\\n</code> to that print statement."}, {"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "reply_to_user": {"reputation": 876, "user_id": 1577347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z5wJu.png?s=128&g=1", "display_name": "Chris Smeele", "link": "https://stackoverflow.com/users/1577347/chris-smeele"}, "edited": false, "score": 0, "creation_date": 1432242008, "post_id": 30383892, "comment_id": 48857623, "body": "I added <code>\\n</code>, but its printing <code>Somebody sent me a SIG INT!</code> only when I hit control-c, not every 5 seconds."}, {"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "reply_to_user": {"reputation": 876, "user_id": 1577347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z5wJu.png?s=128&g=1", "display_name": "Chris Smeele", "link": "https://stackoverflow.com/users/1577347/chris-smeele"}, "edited": false, "score": 0, "creation_date": 1432243105, "post_id": 30383892, "comment_id": 48858164, "body": "Aah, it works good on Linux (perl version 5.14), but not on windows, I use perl 5.18 on windows"}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 0, "creation_date": 1432256957, "post_id": 30383892, "comment_id": 48862846, "body": "Not every aspect of Perl works on Windows (as well as it does on UNIX or at all sometimes) and it might also depend on the distribution of Perl on Windows (e.g. &quot;DWIM Perl&quot;, &quot;Strawberry Perl&quot;, &quot;ActiveState Perl&quot;) you are using too.  Specifically I believe form(), Signals and Pipes which are modeled on how UNIX does stuff are emulated in Perl on Windows."}, {"owner": {"reputation": 862, "user_id": 1155333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dcec13071dd7747b48798a80a6fa59b?s=128&d=identicon&r=PG", "display_name": "Cornel Ghiban", "link": "https://stackoverflow.com/users/1155333/cornel-ghiban"}, "edited": false, "score": 0, "creation_date": 1432260799, "post_id": 30383892, "comment_id": 48863816, "body": "possibly a duplicate of <a href=\"http://stackoverflow.com/questions/22165867/perl-win32-signal-handling-between-perl-processes\" title=\"perl win32 signal handling between perl processes\">stackoverflow.com/questions/22165867/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1432261231, "post_id": 30387127, "comment_id": 48863885, "body": "don&#39;t see how forks is relevant here; care to expand on that?"}], "tags": [], "owner": {"reputation": 862, "user_id": 1155333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dcec13071dd7747b48798a80a6fa59b?s=128&d=identicon&r=PG", "display_name": "Cornel Ghiban", "link": "https://stackoverflow.com/users/1155333/cornel-ghiban"}, "is_accepted": false, "score": 0, "last_activity_date": 1432261847, "last_edit_date": 1432261847, "creation_date": 1432259268, "answer_id": 30387127, "question_id": 30383892, "link": "https://stackoverflow.com/questions/30383892/perl-ipc-child-to-send-interrupt-to-parent/30387127#30387127", "title": "Perl IPC, child to send interrupt to parent", "body": "<p><a href=\"http://www.perlmonks.org/?node_id=736477\" rel=\"nofollow\">Windows doesn't do signals</a>. You probably want to use <a href=\"https://gist.github.com/gordolio/9371193\" rel=\"nofollow\">sockets</a> instead.</p>\n"}], "owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432261847, "creation_date": 1432240684, "last_edit_date": 1432243566, "question_id": 30383892, "link": "https://stackoverflow.com/questions/30383892/perl-ipc-child-to-send-interrupt-to-parent", "title": "Perl IPC, child to send interrupt to parent", "body": "<p>I am new to IPC, can anyone give me a simple IPC example with Perl where child can send a signal to its parent and parent could catch and react.\nI tried many things, but it reacts only when I press control-C, but not every 5 seconds as I intended it to do...</p>\n\n<p>Note: it works on Linux, but not on Windows.</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $parent_pid = $$;\nmy $pid = fork();\nif($pid == 0) {\n   while (1) {\n       print \"In Child...\\n\";\n       sleep 5;\n       print \"Sending INT to my parent...\\n\";\n       kill 'INT', $parent_pid;\n   }\n}\nelse {\n   sub catch_zap {\n      my $signame = shift;\n      print \"Somebody sent me a SIG $signame!\";\n   }\n   while(1){\n      sleep 1;\n      print \"inside parent\\n\";\n      eval {\n         $SIG{INT} = \\&amp;catch_zap;\n      };\n   }\n}\n</code></pre>\n"}, {"tags": ["perl", "charts", "gnuplot"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1432255754, "post_id": 30383763, "comment_id": 48862586, "body": "The dots <i>do</i> appear in the legend, they&#39;re just minuscule."}, {"owner": {"reputation": 44000, "user_id": 2604213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O7ThK.png?s=128&g=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/2604213/christoph"}, "edited": false, "score": 0, "creation_date": 1432276916, "post_id": 30383763, "comment_id": 48868435, "body": "You could plot with the <code>points</code> style, pointtype 7 and a small point size. The point in the key isn&#39;t affected by the small point size."}], "answers": [{"comments": [{"owner": {"reputation": 699, "user_id": 1922559, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dlloJ.png?s=128&g=1", "display_name": "TWhite", "link": "https://stackoverflow.com/users/1922559/twhite"}, "edited": false, "score": 0, "creation_date": 1432657977, "post_id": 30386652, "comment_id": 49008691, "body": "This worked as you explained. I do have another question on your fill-circle point. What are you doing to make it a circle? My png&#39;s are coming out as boxes with two small lines coming out the top and bottom. I cannot actually seem to graph a circle point, only boxes with lines."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 699, "user_id": 1922559, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dlloJ.png?s=128&g=1", "display_name": "TWhite", "link": "https://stackoverflow.com/users/1922559/twhite"}, "edited": false, "score": 0, "creation_date": 1432658741, "post_id": 30386652, "comment_id": 49009162, "body": "@TWhite That&#39;s controlled by <code>pointtype =&gt; &#39;fill-circle&#39;</code> in the parameters for the dummy dataset (<code>pointtype =&gt; 7</code> should do the same thing). Anything in <a href=\"https://github.com/gitpan/Chart-Gnuplot/blob/master/doc/pointtypes.txt\" rel=\"nofollow noreferrer\">this list of recognized point types</a> should work, although I suppose it&#39;s possible that the particular driver you&#39;re using doesn&#39;t support all of them. Check the output of the <code>test</code> command as described in <a href=\"http://stackoverflow.com/questions/16736861/pointtype-command-for-gnuplot\">this post</a> to make sure."}, {"owner": {"reputation": 699, "user_id": 1922559, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dlloJ.png?s=128&g=1", "display_name": "TWhite", "link": "https://stackoverflow.com/users/1922559/twhite"}, "edited": false, "score": 0, "creation_date": 1432659836, "post_id": 30386652, "comment_id": 49009846, "body": "I have been setting the type as you have said. I must not support circles. I can draw the triangles, squares, astric stars, etc. just not circles. Circles come out as squares with lines. <i>Sigh</i> Thanks for the help."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 2, "last_activity_date": 1432255820, "last_edit_date": 1495542105, "creation_date": 1432255242, "answer_id": 30386652, "question_id": 30383763, "link": "https://stackoverflow.com/questions/30383763/cant-visualize-dots-in-chartgnuplot-graph-legend/30386652#30386652", "title": "Can&#39;t visualize dots in Chart::Gnuplot graph legend", "body": "<p>There's <a href=\"http://www.gnuplot.info/docs_5.0/gnuplot.pdf#132\" rel=\"nofollow noreferrer\">no option</a> to change the point size in the legend (or \"key,\" as Gnuplot calls it) so you have to use a hack to achieve the desired effect.</p>\n\n<p>First, plot your dataset using the <code>dots</code> style, but don't assign it a title; then plot a dummy dataset using a different style and assign a title:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Chart::Gnuplot;\n\nmy @x = map { rand } 0 .. 10_000;\nmy @y = map { $_ + 0.1 - rand 0.2 } @x;\n\nmy $chart = Chart::Gnuplot-&gt;new(\n    output  =&gt; 'gnuplot.png',\n    legend  =&gt; {\n        position =&gt; 'outside top',\n        align    =&gt; 'left'\n    }\n);\n\nmy $color = '#ff0000';\n\nmy $dataset = Chart::Gnuplot::DataSet-&gt;new(\n    xdata =&gt; \\@x,\n    ydata =&gt; \\@y,\n    style =&gt; 'dots',\n    color =&gt; $color\n);\n\nmy $dummy = Chart::Gnuplot::DataSet-&gt;new(\n    ydata     =&gt; [ 'inf' ],\n    style     =&gt; 'points',\n    pointtype =&gt; 'fill-circle',\n    pointsize =&gt; 1,\n    title     =&gt; 'foo',\n    color     =&gt; $color\n);\n\n$chart-&gt;plot2d($dataset, $dummy);\n</code></pre>\n\n<h3>Output:</h3>\n\n<p><img src=\"https://i.stack.imgur.com/U0qOf.png\" alt=\"Scatter plot with readable legend\"></p>\n\n<p>Note that this has been <a href=\"https://stackoverflow.com/q/12310236/176646\">asked elsewhere</a> for the command line version of Gnuplot, but it's actually pretty difficult to create a dummy dataset that plots nothing with <code>Chart::Gnuplot</code>. Using a y-value of <code>\"inf\"</code> was the only thing I could get to work that didn't require knowing the range of your axes.</p>\n"}], "owner": {"reputation": 699, "user_id": 1922559, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dlloJ.png?s=128&g=1", "display_name": "TWhite", "link": "https://stackoverflow.com/users/1922559/twhite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 1, "accepted_answer_id": 30386652, "answer_count": 1, "score": 2, "last_activity_date": 1432255820, "creation_date": 1432240145, "last_edit_date": 1432241266, "question_id": 30383763, "link": "https://stackoverflow.com/questions/30383763/cant-visualize-dots-in-chartgnuplot-graph-legend", "title": "Can&#39;t visualize dots in Chart::Gnuplot graph legend", "body": "<p>I'm hoping someone can help me figure out what is either wrong or possible when plotting a chart using Chart::Gnuplot module and 'dots' in Perl. </p>\n\n<p>Here is what I have for my dataset:</p>\n\n<pre><code>    # RFE Chart object\n   my $chart_RFE = Chart::Gnuplot-&gt;new(\n       output =&gt; $out_file_RFE,\n       terminal =&gt; \"png\",\n       title =&gt; {\n         text =&gt; \"Step ROCOF\",\n         font =&gt; \"arial, 12\",\n         },\n       xlabel =&gt; $chart_xlabel, \n       ylabel =&gt; \"ROCOF Error (Hz/s)\",\n       legend =&gt; {\n         position =&gt; \"outside top\",\n         align =&gt; \"left\",\n       },\n   );\n\n   # RFE Dataset\n   $dataSet = Chart::Gnuplot::DataSet-&gt;new(\n      xdata =&gt; \\@dataX,\n      ydata =&gt; \\@dataY,\n      style =&gt; 'dots',\n      color =&gt; $COLORS[3],\n      title=&gt; 'RFE',\n   );\n</code></pre>\n\n<p>I want the dots because I have lot of data points to graph. However, the legend of the graph it produces shows no dots next to the legend names. If I change style to 'points'</p>\n\n<pre><code>style =&gt; 'points',\n</code></pre>\n\n<p>the different points show up in the graph's legend. Is there a way to get the dots to show? I've zoomed in on the legend area wondering if maybe they were just small but nothing shows up. I've also tried setting the width => option but that doesn't do anything (as I suspect it wouldn't since it's for lines). </p>\n\n<p>Anyone know if this is even possible?</p>\n"}, {"tags": ["macos", "perl", "path", "osx-mavericks", "activeperl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1432239558, "post_id": 30383288, "comment_id": 48856211, "body": "Also, specifying the specific interpreter you want in your scripts is a <b><i>feature</i></b>, not something to be avoided."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1432239628, "post_id": 30383288, "comment_id": 48856245, "body": "It seems <code>#!&#47;usr&#47;local&#47;ActivePerl5.20.2&#47;bin&#47;perl</code> is being found before <code>&#47;usr&#47;bin&#47;perl</code> in your shell&#39;s <code>$PATH</code>. Can you set the $PATH in the environment running the CGI scripts? You could then place <code>&#47;usr&#47;local&#47;ActivePerl5.20.2&#47;bin&#47;</code> earlier in the path and call <code>#!&#47;usr&#47;bin&#47;env perl</code>. That <i>may</i> work but pointing at the specific version is best."}, {"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1432239737, "post_id": 30383288, "comment_id": 48856302, "body": "@Sinan&#220;n&#252;r Thanks. It was typo (and copypasting with typo). My scripts, of course, have no typos in shebang lines )))"}], "answers": [{"comments": [{"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 1, "creation_date": 1432239859, "post_id": 30383645, "comment_id": 48856366, "body": "Thank you for your answer!"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 4, "last_activity_date": 1432263368, "last_edit_date": 1432263368, "creation_date": 1432239747, "answer_id": 30383645, "question_id": 30383288, "link": "https://stackoverflow.com/questions/30383288/how-to-use-default-path-for-activeperl-5-20-mac-os-x-usr-bin-perl-instead-of/30383645#30383645", "title": "How to use default path for ActivePerl 5.20 Mac OS X (/usr/bin/perl) instead of /usr/local/ActivePerl...?", "body": "<blockquote>\n  <p>The question is: is it somehow possible to change the directory for using in my scripts from <code>#!/usr/local/ActivePerl5.20.2/bin/perl</code> to simple and familiar <code>#!/usr/bin/perl</code> keeping running under ActivePerl instead of built in.</p>\n</blockquote>\n\n<p>Don't even try. That way lies damnation, not salvation. The ability to specify the specific interpreter that will handle your scripts is an important feature.</p>\n\n<p>Instead, package your CGI script as a simple CPAN module. Then, install it using the familiar </p>\n\n<pre><code>$ /usr/local/ActivePerl5.20.2/bin/perl Makefile.PL\n$ make install\n</code></pre>\n\n<p>routine. The shebang line will be automatically adjusted to reflect the <code>perl</code> that was used to build and install your package.</p>\n"}, {"comments": [{"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 0, "creation_date": 1432240535, "post_id": 30383711, "comment_id": 48856747, "body": "Thanks! Couldn&#39;t you tell me, please, how to define the $PATH variable? Is it that in .bash_profile in the user dir? Can you, please, show me a simple example? I have there now the next strings: PATH=/usr/local/ActivePerl-5.20/bin:$PATH PATH=/usr/local/ActivePerl-5.20/site/bin:$PATH export PATH"}, {"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 0, "creation_date": 1432240948, "post_id": 30383711, "comment_id": 48857006, "body": "I would like to override the system&#39;s default version. That is what I want))"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1432250314, "post_id": 30383711, "comment_id": 48861010, "body": "You are forgetting that the OP is running CGI scripts. IMHO, it is not a good idea to to put <code>#!&#47;usr&#47;bin&#47;env perl</code> in anything other than throwaway command line scripts. Far better to just package it with a <code>Makefile.PL</code>. Then, it does not matter what else is going on. The server gets to use the right <code>perl</code> every time."}], "tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": true, "score": 2, "last_activity_date": 1432239950, "creation_date": 1432239950, "answer_id": 30383711, "question_id": 30383288, "link": "https://stackoverflow.com/questions/30383288/how-to-use-default-path-for-activeperl-5-20-mac-os-x-usr-bin-perl-instead-of/30383711#30383711", "title": "How to use default path for ActivePerl 5.20 Mac OS X (/usr/bin/perl) instead of /usr/local/ActivePerl...?", "body": "<p>First, instead of specifying a particular path to your Perl interpreter in your script:</p>\n\n<pre><code>#! /usr/local/ActivePerl5.20.2/bin/perl\n</code></pre>\n\n<p>or</p>\n\n<pre><code>#! /usr/bin/perl\n</code></pre>\n\n<p>Specify this:</p>\n\n<pre><code>#! /usr/bin/env perl\n</code></pre>\n\n<p>This will find the first executable Perl interpreter in your <code>$PATH</code> and then use that to execute your Perl script. This way, instead of having to change your program, you only have to change the <code>$PATH</code> variable.</p>\n\n<p>Next time, take a look at <a href=\"http://perlbrew.pl\" rel=\"nofollow\">PerlBrew</a> for installing a different version of Perl. PerlBrew will allow you to install multiple versions of Perl all under user control, and let you select which version of Perl you'd like to use.</p>\n\n<p>I also recommend to put <code>/usr/local/bin</code> as the first entry in your <code>$PATH</code>. Then, link the executables you want to run to that directory. You can use something like this to create your links:</p>\n\n<pre><code>for file in $/usr/local/ActivePerl5.20.2/bin/*\ndo\n    basename=$(basename $file)\n    ln -s \"$file\" \"/usr/local/bin/$basename\"\ndone\n</code></pre>\n\n<p>This way, all programs you want to execute are in the same directory which makes setting <code>$PATH</code> so much easier. I even put <code>/usr/local/bin</code> in before <code>/usr/bin</code> and <code>/bin</code> because I want to be able to <em>override</em> the system's default version.</p>\n"}], "owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2112, "favorite_count": 0, "accepted_answer_id": 30383711, "answer_count": 2, "score": 1, "last_activity_date": 1432263368, "creation_date": 1432238489, "last_edit_date": 1432240985, "question_id": 30383288, "link": "https://stackoverflow.com/questions/30383288/how-to-use-default-path-for-activeperl-5-20-mac-os-x-usr-bin-perl-instead-of", "title": "How to use default path for ActivePerl 5.20 Mac OS X (/usr/bin/perl) instead of /usr/local/ActivePerl...?", "body": "<p>I have installed ActivePerl 5.20.2 today on Mac OS X 10.9.5\nChecking the version of perl in Terminal (<code>perl -v</code>) I see 5.20.2\nSo everything seems to be ok. But..\nWhen I start my CGI scripts the script is running under built in perl (which is 5.16) (if using <code>#!/usr/bin/perl</code>).\nIf I use <code>#!/usr/local/ActivePerl5.20.2/bin/perl</code> then it runs under 5.20.2 that is required.</p>\n\n<p>The question is: is it somehow possible to change the directory for using in my scripts from <code>#!/usr/local/ActivePerl5.20.2/bin/perl</code> to simple and familiar #!/usr/bin/perl keeping running under ActivePerl instead of built in.</p>\n\n<p>I need to override the system's default version with the new ActivePerl.</p>\n\n<p>I would be appreciated for your <strong>detailed</strong> answers (with name of files and directories where they are located) if ones are to be changed to implement salvation.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "printf"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1432234782, "post_id": 30382078, "comment_id": 48853500, "body": "Minor, but <code>say sprintf $fmt, $foo</code> is probably better written <code>printf &quot;$fmt\\n&quot;, $foo</code>."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1432234982, "post_id": 30382078, "comment_id": 48853639, "body": "@ThisSuitIsBlackNot fair point. I couldn&#39;t really tell how the data was going to be used after this, <code>say</code> could just be for testing, so I left it as is."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432235207, "post_id": 30382078, "comment_id": 48853758, "body": "I use <code>say sprintf</code> all the time. Aside from the gains for one-liners in Windows, it&#39;s more consistent with the surrounding <code>say</code>."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 4, "last_activity_date": 1432234455, "creation_date": 1432234455, "answer_id": 30382078, "question_id": 30381992, "link": "https://stackoverflow.com/questions/30381992/perl-print-a-letter-after-a-constant-format-with-sprintf/30382078#30382078", "title": "Perl, print a letter after a constant format with sprintf()", "body": "<p>This is a common issue in interpolation, you can simply wrap your variable name in braces to separate it from strings that are not a part of the variable's name: </p>\n\n<pre><code>my $seconds_resolution= '%.4f';\nmy $seconds = 5.12345;\n\nsay sprintf(\"${seconds_resolution}s\" , $seconds);\n</code></pre>\n\n<p>without the braces, Perl can't know where the variable name stops and bare words begin. </p>\n\n<p>Another approach would be to include the <code>s</code> in your format string, then you don't have to worry about interpolation at all. Note: This is what your 3rd example is actually doing:</p>\n\n<pre><code>my $seconds_resolution= '%.4fs';\nmy $seconds = 5.12345;\n\nsay sprintf($seconds_resolution, $seconds);\n</code></pre>\n\n<p>Also, in case you aren't already (I don't see them in your example), you should  always enable <a href=\"http://perldoc.perl.org/strict.html\" rel=\"nofollow\"><code>use strict;</code></a> and <a href=\"http://perldoc.perl.org/warnings.html\" rel=\"nofollow\"><code>use warnings;</code></a></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1432235428, "creation_date": 1432235428, "answer_id": 30382360, "question_id": 30381992, "link": "https://stackoverflow.com/questions/30381992/perl-print-a-letter-after-a-constant-format-with-sprintf/30382360#30382360", "title": "Perl, print a letter after a constant format with sprintf()", "body": "<p>Concatenation:</p>\n\n<pre><code>my $seconds_resolution = '%.4f';\nsprintf \"${seconds_resolution}s\", $seconds\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>my $seconds_resolution = '%.4f';\nsprintf $seconds_resolution.\"s\", $seconds\n</code></pre>\n\n<p>Unit in format:</p>\n\n<pre><code>my $seconds_resolution = '%.4fs';\nsprintf $seconds_resolution, $seconds\n</code></pre>\n\n<p>Variable unit:</p>\n\n<pre><code>my $seconds_resolution = '%.4f%s';\nsprintf $seconds_resolution, $seconds, 's'\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 4705673, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yWQJUy1EoMM/AAAAAAAAAAI/AAAAAAAAAXg/VsMuloD23Y4/photo.jpg?sz=128", "display_name": "Colton Love", "link": "https://stackoverflow.com/users/4705673/colton-love"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 30382078, "answer_count": 2, "score": 0, "last_activity_date": 1432235428, "creation_date": 1432234133, "question_id": 30381992, "link": "https://stackoverflow.com/questions/30381992/perl-print-a-letter-after-a-constant-format-with-sprintf", "title": "Perl, print a letter after a constant format with sprintf()", "body": "<p>So I'm trying to format a string with sprintf and I have a variable format setup for multiple use. But using it in my sprintf I cannot figure out how to print a letter after it without a Perl concatenation '.' which I feel is mixing two types of formatting and not the best for readability, or maintainability. </p>\n\n<p>Example of what I mean is</p>\n\n<pre><code>my $seconds_resolution= '%.4f';\nmy $seconds = 5.12345;\n\nsay sprintf(\"$seconds_resolutions\" , $seconds);\n</code></pre>\n\n<p>Throws an error</p>\n\n<pre><code>my $seconds_resolution= '%.4f';\nmy $seconds = 5.12345;\nsay sprintf(\"$seconds_resolution s\" , $seconds);\n</code></pre>\n\n<p>Doesn't make sense to the user for a space to be there</p>\n\n<pre><code>my $seconds_resolution= '%.4f';\nmy $seconds = 5.12345;\nsay sprintf($seconds_resolution .'s' , $seconds);\n</code></pre>\n\n<p>And this is really hard to read</p>\n\n<p>Any suggestions would be greatly appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1864610"}, "edited": false, "score": 0, "creation_date": 1432233094, "post_id": 30381629, "comment_id": 48852478, "body": "I see no colons here at all. Do you mean commas?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1432233438, "post_id": 30381629, "comment_id": 48852715, "body": "This can be done with <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">Text::CSV</a>. You need to show some research effort, see <a href=\"http://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\" title=\"how much research effort is expected of stack overflow users\">meta.stackoverflow.com/questions/261592/&hellip;</a>"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1432233580, "post_id": 30381629, "comment_id": 48852836, "body": "Very unclear what you are asking. Example output based on your input would go far. Any fields that might have embedded commas? I have no idea what <code>I need to remove any occurrence of more than 1 column, no matter where it occurs in the file</code> means."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1432233673, "post_id": 30381629, "comment_id": 48852890, "body": "What if row 1 is <code>foo,,bar,baz</code> and row 2 is <code>pony,unicorn,zebra,giraffe</code>? If you remove the empty field, row 1 will only have 3 columns, while row 2 will have 4 columns; processing this data consistently would now be very difficult."}, {"owner": {"reputation": 39446, "user_id": 4301306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1461d0104809c90e2a252a2d4b0ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Wintermute", "link": "https://stackoverflow.com/users/4301306/wintermute"}, "edited": false, "score": 0, "creation_date": 1432233900, "post_id": 30381629, "comment_id": 48853034, "body": "Do you mean something like <code>perl -pe &#39;s&#47;,*$&#47;&#47;&#39; filename</code>, to remove all trailing commas from each line? I&#39;m not certain from your description."}, {"owner": {"reputation": 565, "user_id": 4671121, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eyiN7.png?s=128&g=1", "display_name": "OB7", "link": "https://stackoverflow.com/users/4671121/ob7"}, "edited": false, "score": 0, "creation_date": 1432272812, "post_id": 30381629, "comment_id": 48866715, "body": "Sorry I meant to write comma, not colon."}, {"owner": {"reputation": 565, "user_id": 4671121, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eyiN7.png?s=128&g=1", "display_name": "OB7", "link": "https://stackoverflow.com/users/4671121/ob7"}, "reply_to_user": {"reputation": 39446, "user_id": 4301306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1461d0104809c90e2a252a2d4b0ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Wintermute", "link": "https://stackoverflow.com/users/4301306/wintermute"}, "edited": false, "score": 0, "creation_date": 1432273117, "post_id": 30381629, "comment_id": 48866805, "body": "@Wintermute: Your example would work but it only remove commas at end of line, where I still need  duplicates gone in between values. I&#39;ve updated my example."}, {"owner": {"reputation": 565, "user_id": 4671121, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eyiN7.png?s=128&g=1", "display_name": "OB7", "link": "https://stackoverflow.com/users/4671121/ob7"}, "edited": false, "score": 0, "creation_date": 1432273689, "post_id": 30381629, "comment_id": 48867021, "body": "I never wrote column not sure how it got changed to column from colon but either way I meant to write comma."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1432276668, "post_id": 30381629, "comment_id": 48868325, "body": "desired output adds a space before &quot;Over&quot;; I&#39;m guessing that was an error?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1432276798, "post_id": 30381629, "comment_id": 48868380, "body": "assuming so, and that you want <i>all</i> trailing commas gone, not just all but one, <code>s&#47;,+(?=[,\\n])&#47;&#47;g</code>."}], "answers": [{"tags": [], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "is_accepted": false, "score": 0, "last_activity_date": 1432706575, "creation_date": 1432706575, "answer_id": 30474312, "question_id": 30381629, "link": "https://stackoverflow.com/questions/30381629/how-to-remove-extra-commas-in-csv-with-perl/30474312#30474312", "title": "How to remove extra commas in csv with Perl", "body": "<p>Here an example:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\n\nwhile(&lt;DATA&gt;) {\n    s/,+[\\t ]*/, /g; # Remove extra commas\n    s/ $//g;         # Remove trailing space\n    print;\n}\n\n__DATA__\nIFB, Northpole, Alaska, 907-555-5555,,,,\nWalmart, Fairbanks, Alaska,,,,,\nChicken, Anchorage, Alaska, 907-555-5555,,,,,\nBeef, Somewhere,,,,,Over the Rainbow,,,907-555-5555\netc...\n</code></pre>\n\n<p>You can also use Perl as <code>sed</code> with <code>perl -pe</code>:</p>\n\n<pre><code>cat myfile | perl -pe 's/,+[\\t ]*/, /g;'\n</code></pre>\n"}], "owner": {"reputation": 565, "user_id": 4671121, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eyiN7.png?s=128&g=1", "display_name": "OB7", "link": "https://stackoverflow.com/users/4671121/ob7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1432764993, "creation_date": 1432232926, "last_edit_date": 1432764993, "question_id": 30381629, "link": "https://stackoverflow.com/questions/30381629/how-to-remove-extra-commas-in-csv-with-perl", "title": "How to remove extra commas in csv with Perl", "body": "<p>I've done this before with sed, but I would like to know how this is done in Perl.\nI have an CSV file that looks something like this:<br></p>\n\n<pre><code>IFB, Northpole, Alaska, 907-555-5555,,,,\nWalmart, Fairbanks, Alaska,,,,,\nChicken, Anchorage, Alaska, 907-555-5555,,,,,\nBeef, Somewhere,,,,, Over the Rainbow,,,907-555-5555\netc...\n</code></pre>\n\n<p>What I need is to remove the extra commas, but not the single commas separating the values.  This means I need to remove any occurrence of more than 1 commas, no matter where it occurs in the file.<br>\nDesired output:</p>\n\n<pre><code>IFB, Northpole, Alaska, 907-555-5555\nWalmart, Fairbanks, Alaska\nChicken, Anchorage, Alaska, 907-555-5555\nBeef, Somewhere, Over the Rainbow, 907-555-5555\n</code></pre>\n"}]