[{"tags": ["c#", "ruby", "perl", "pdf", "pypdf2"], "comments": [{"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1509573700, "post_id": 47064033, "comment_id": 81076964, "body": "how do those partial documents differ? How had they been merged? In which programming language using which pdf library do you plan to implement your pdf splitter?"}, {"owner": {"reputation": 21, "user_id": 2221883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28e45b3e1fbf27d8e59dd8b561cbd55?s=128&d=identicon&r=PG", "display_name": "Rasmus Riis", "link": "https://stackoverflow.com/users/2221883/rasmus-riis"}, "reply_to_user": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1509574820, "post_id": 47064033, "comment_id": 81077389, "body": "They are made by varying products. A quick test showed BancTec? and Adobe. But they are images, text and more. Can&#39;t differentiate them that way. I would prefer to make the splitter in python and PyPDF2"}, {"owner": {"reputation": 3835, "user_id": 4254700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5225a3969314fb32ff3192e48c752c1?s=128&d=identicon&r=PG", "display_name": "joelgeraci", "link": "https://stackoverflow.com/users/4254700/joelgeraci"}, "edited": false, "score": 0, "creation_date": 1509579615, "post_id": 47064033, "comment_id": 81078880, "body": "If the cross-reference tables (xref) were never consolidated, it might be possible but again, it depends on how they were assembled. You could use the xref tables to basically undo the merge by stripping off the last merged file all the way back to the first file. If I could see an example PDF, I could tell for sure."}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1509602321, "post_id": 47064033, "comment_id": 81084957, "body": "@Rasmus <i>&quot;I would prefer to make the splitter in python and PyPDF2&quot;</i> - please mention this in your question and tag it accordingly."}, {"owner": {"reputation": 21, "user_id": 2221883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28e45b3e1fbf27d8e59dd8b561cbd55?s=128&d=identicon&r=PG", "display_name": "Rasmus Riis", "link": "https://stackoverflow.com/users/2221883/rasmus-riis"}, "reply_to_user": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1509607941, "post_id": 47064033, "comment_id": 81087513, "body": "@mkl I have tagged them and revised the question"}, {"owner": {"reputation": 21, "user_id": 2221883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28e45b3e1fbf27d8e59dd8b561cbd55?s=128&d=identicon&r=PG", "display_name": "Rasmus Riis", "link": "https://stackoverflow.com/users/2221883/rasmus-riis"}, "reply_to_user": {"reputation": 3835, "user_id": 4254700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5225a3969314fb32ff3192e48c752c1?s=128&d=identicon&r=PG", "display_name": "joelgeraci", "link": "https://stackoverflow.com/users/4254700/joelgeraci"}, "edited": false, "score": 0, "creation_date": 1509607994, "post_id": 47064033, "comment_id": 81087535, "body": "@joelgeraci I have an example document for you. Where should i send it to?"}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1509614360, "post_id": 47064033, "comment_id": 81091114, "body": "If possible, share example documents not individually but to all readers of your question, e.g. by creating a public share with them in dropbox or google drive and posting the URL here."}, {"owner": {"reputation": 3835, "user_id": 4254700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5225a3969314fb32ff3192e48c752c1?s=128&d=identicon&r=PG", "display_name": "joelgeraci", "link": "https://stackoverflow.com/users/4254700/joelgeraci"}, "reply_to_user": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1509635057, "post_id": 47064033, "comment_id": 81105617, "body": "As @mkl commented, any publicly addressable URL will be fine. It would also help to know if all of the PDFs were merged using the same application and in the same manner."}, {"owner": {"reputation": 21, "user_id": 2221883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28e45b3e1fbf27d8e59dd8b561cbd55?s=128&d=identicon&r=PG", "display_name": "Rasmus Riis", "link": "https://stackoverflow.com/users/2221883/rasmus-riis"}, "reply_to_user": {"reputation": 3835, "user_id": 4254700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5225a3969314fb32ff3192e48c752c1?s=128&d=identicon&r=PG", "display_name": "joelgeraci", "link": "https://stackoverflow.com/users/4254700/joelgeraci"}, "edited": false, "score": 0, "creation_date": 1509656149, "post_id": 47064033, "comment_id": 81118220, "body": "@joelgeraci and mkl. The documents we work with are classified. But I have uploaded a similar document which is public. The state decided to &#39;digitize&#39; all the documents regarding properties, so they decided to scann all the documents and merge them into 1 huge pdf. It is up to the rest of us to seperate the documents when we need them. A case of digitalization gone wrong :-) But as such I cannot guarantee which program is used. But most seem to be made by BancTec..  I have uploaded a public document to my gdrive: <a href=\"https://drive.google.com/open?id=1k1yKTNsuGCF11u0DoQ8UtCKm2umaEPom\" rel=\"nofollow noreferrer\">drive.google.com/open?id=1k1yKTNsuGCF11u0DoQ8UtCKm2umaEPom</a>"}, {"owner": {"reputation": 3835, "user_id": 4254700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5225a3969314fb32ff3192e48c752c1?s=128&d=identicon&r=PG", "display_name": "joelgeraci", "link": "https://stackoverflow.com/users/4254700/joelgeraci"}, "edited": false, "score": 0, "creation_date": 1509658099, "post_id": 47064033, "comment_id": 81119186, "body": "Well... unfortunately, I&#39;m only seeing one cross-reference table. I&#39;m not seeing any metadata that you might be able to use in the images either. I&#39;m not sure if you&#39;ll ever be able to burst these into the separate files based on the content of the pages."}, {"owner": {"reputation": 21, "user_id": 2221883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28e45b3e1fbf27d8e59dd8b561cbd55?s=128&d=identicon&r=PG", "display_name": "Rasmus Riis", "link": "https://stackoverflow.com/users/2221883/rasmus-riis"}, "edited": false, "score": 0, "creation_date": 1509682351, "post_id": 47064033, "comment_id": 81126251, "body": "Damn. I really hoped there would be a way. Thank you for trying!"}], "owner": {"reputation": 21, "user_id": 2221883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28e45b3e1fbf27d8e59dd8b561cbd55?s=128&d=identicon&r=PG", "display_name": "Rasmus Riis", "link": "https://stackoverflow.com/users/2221883/rasmus-riis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1509607080, "creation_date": 1509572017, "last_edit_date": 1509607080, "question_id": 47064033, "link": "https://stackoverflow.com/questions/47064033/splitting-pdf-with-varying-page-lengths", "title": "Splitting pdf with varying page lengths", "body": "<p>I have a number of pdfs that are merged from various other pdfs of varying length.</p>\n\n<p>That gives a lot of problems when you have to examine the pdf to find out where to split it, open Adobe and then split the document up into the 10-20 different documents.</p>\n\n<p>Is there a way to detect where the pdfs have been merged and possibly split them automatically. Preferably in python using PyPDF2, but any language would do. I'm just interested in getting something that works. </p>\n"}, {"tags": ["linux", "perl", "sockets", "networking"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1509557631, "post_id": 47060303, "comment_id": 81068647, "body": "Is there a firewall running?"}, {"owner": {"reputation": 576, "user_id": 5252277, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jxfJU.jpg?s=128&g=1", "display_name": "gatorreina", "link": "https://stackoverflow.com/users/5252277/gatorreina"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1509558418, "post_id": 47060303, "comment_id": 81069095, "body": "@choroba You need to put that as the answer so I can give you the up-vote! There absolutely was a firewall running. When I saw no iptables I assumed I was good to go but CentOS 7 uses firewalld so &quot;service firewalld stop&quot; and &quot;chkconfig firewalld off&quot; solved my problem. Thank you."}, {"owner": {"reputation": 3676, "user_id": 414279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd8e859d8cf73f2d49eb640964605bb?s=128&d=identicon&r=PG", "display_name": "rurban", "link": "https://stackoverflow.com/users/414279/rurban"}, "edited": false, "score": 0, "creation_date": 1509660265, "post_id": 47060303, "comment_id": 81120103, "body": "Now have two problems. An old script and an insecure machine. Add a firewall rule for your udp service, and don&#39;t just turn it off."}, {"owner": {"reputation": 576, "user_id": 5252277, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jxfJU.jpg?s=128&g=1", "display_name": "gatorreina", "link": "https://stackoverflow.com/users/5252277/gatorreina"}, "edited": false, "score": 0, "creation_date": 1511187048, "post_id": 47060303, "comment_id": 81740927, "body": "The machine is running on a private LAN with only a handful of other machines none of which are connected to the internet."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1509560855, "creation_date": 1509560855, "answer_id": 47061388, "question_id": 47060303, "link": "https://stackoverflow.com/questions/47060303/perl-iosocket-is-deaf-on-a-new-centos-7-machine/47061388#47061388", "title": "perl IO::Socket is deaf on a New Centos 7 machine", "body": "<p>Make sure there's no firewall running that blocks the traffic. If there is, change its configuration to allow your specific packets to get through.</p>\n"}], "owner": {"reputation": 576, "user_id": 5252277, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jxfJU.jpg?s=128&g=1", "display_name": "gatorreina", "link": "https://stackoverflow.com/users/5252277/gatorreina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 47061388, "answer_count": 1, "score": 1, "last_activity_date": 1509560855, "creation_date": 1509556672, "question_id": 47060303, "link": "https://stackoverflow.com/questions/47060303/perl-iosocket-is-deaf-on-a-new-centos-7-machine", "title": "perl IO::Socket is deaf on a New Centos 7 machine", "body": "<p>The code below has worked for over a decade and still does on the handful of machines (on a private LAN) running various flavors of linux, that I have it installed on -- until yesterday. Yesterday, I tried it on a freshly installed CentOS 7 machine and although I do not get any errors nothing is ever received. I have also checked the upd sending machine and it is definitely sending to the local IP address of this new machine. Is there something about the network protocalls in CentOS 7 that would prevent UDP packets from being received? I did notice a few things different when setting up the new machine on the lan: ifconfig not there (I installed it), eth0 was called something like enp9so I changed it to eth0 and the /usr/sbin/setup utility does not see my nic in order to allow me to configure it. I was -- I believe -- able to overcome all these obstacles and the machine performs all network functions ping, ssh, ypbind, etc. normally however this mysterious deafness of $sock->recv persists. Does anyone know how I can fix this?  </p>\n\n<pre><code>use Socket;\nuse IO::Socket;\nmy ($sock, $oldmsg, $newmsg, $MAXLEN);  #porto def.\n$MAXLEN = 1024;\nmy $PORTNO = 5151;\n\nmy $sock = IO::Socket::INET-&gt;new(LocalPort =&gt; $PORTNO, Proto =&gt; 'udp')\n    or die \"socket: $@\";\n$oldmsg = \"This is the starting message.\";\n\nwhile ($sock-&gt;recv($newmsg, $MAXLEN)) {\n\n# do some stuff with the data received.\n\n}\n</code></pre>\n"}, {"tags": ["windows", "perl", "encoding", "strawberry-perl", "cp1252"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1509550490, "post_id": 47057994, "comment_id": 81064086, "body": "<i>Schei\ufffd Encoding...</i> :)"}, {"owner": {"reputation": 25, "user_id": 2235186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a7bd5e9c9d4c5882245bc57530e2f73?s=128&d=identicon&r=PG", "display_name": "drvolk", "link": "https://stackoverflow.com/users/2235186/drvolk"}, "edited": false, "score": 0, "creation_date": 1509606000, "post_id": 47057994, "comment_id": 81086512, "body": "Thanks a lot for that fast and great answer. So the &quot;encoding type&quot; is not stored as a &quot;key&quot; within the file but it will just defined by its binary values stored in it, right ? My missunderstatement came from the case that my editor gives me the option to store a file with a selected codeset .. By the way, what is the reason to enclose the two &quot;open&quot; statement within brackets ?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 25, "user_id": 2235186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a7bd5e9c9d4c5882245bc57530e2f73?s=128&d=identicon&r=PG", "display_name": "drvolk", "link": "https://stackoverflow.com/users/2235186/drvolk"}, "edited": false, "score": 0, "creation_date": 1509614010, "post_id": 47057994, "comment_id": 81090887, "body": "@drvolk Correct. Text files don&#39;t store their own encoding. Programs have to just know somehow what the encoding is (or take a guess based on the bytes in the file, but that can go wrong). The blocks in my code are to limit the scope of the <code>$out</code> handle."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 5, "last_activity_date": 1509549516, "last_edit_date": 1509549516, "creation_date": 1509549109, "answer_id": 47057994, "question_id": 47057930, "link": "https://stackoverflow.com/questions/47057930/how-to-force-codeset-cp1252-for-output-file-in-perl-5-18-within-windows-10/47057994#47057994", "title": "How to force codeset cp1252 for output file in perl &gt;=5.18 within Windows 10?", "body": "<p>I think your question is based on a misunderstanding. <code>testfile1.txt</code> contains the text <code>this is a test</code>. These characters have the same encoding in ASCII, Latin-1, UTF-8, and CP-1252. <code>testfile1.txt</code> is valid in all of these encodings simultaneously.</p>\n\n<hr>\n\n<p>To include literal Unicode characters in your source code like this:</p>\n\n<pre><code>print OUT encode('cp-1252',\"this is a test with german umlauts &lt;\u00c4\u00e4\u00dc\u00fc\u00d6\u00f6\u00df&gt;\");\n</code></pre>\n\n<p>you need</p>\n\n<pre><code>use utf8;\n</code></pre>\n\n<p>at the top.</p>\n\n<p>Also, don't combine encoding layers on filehandles with explicit <code>encode()</code> calls. Either set an encoding layer and print Unicode text to it, or use <code>binmode(OUT)</code> and print raw bytes (as returned from <code>encode()</code>) to it.</p>\n\n<hr>\n\n<p>By the way, you shouldn't use <code>-w</code> anymore. It's been supplanted by the</p>\n\n<pre><code>use warnings;\n</code></pre>\n\n<p>pragma.</p>\n\n<p>Similarly, bareword filehandles and two-argument open are pre-5.6 style code and shouldn't be used in code written after 2000. (perl 5.005 and earlier didn't support Unicode/encodings anyway.)</p>\n\n<p>A fixed version of your code looks like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse utf8;\n\n{\n    open(my $out, '&gt;:encoding(cp-1252)', 'testfile1.txt') or die \"$0: testfile1.txt: $!\\n\";    \n    print $out \"this is a test\\n\";\n    close($out);\n}\n\n{\n    open(my $out, '&gt;encoding(cp-1252)', 'testfile2.txt') or die \"$0: testfile2.txt: $!\\n\";    \n    print $out \"this is a test with german umlauts &lt;\u00c4\u00e4\u00dc\u00fc\u00d6\u00f6\u00df&gt;\\n\";\n    close($out);\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 2235186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a7bd5e9c9d4c5882245bc57530e2f73?s=128&d=identicon&r=PG", "display_name": "drvolk", "link": "https://stackoverflow.com/users/2235186/drvolk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 0, "accepted_answer_id": 47057994, "answer_count": 1, "score": 2, "last_activity_date": 1509549516, "creation_date": 1509548929, "question_id": 47057930, "link": "https://stackoverflow.com/questions/47057930/how-to-force-codeset-cp1252-for-output-file-in-perl-5-18-within-windows-10", "title": "How to force codeset cp1252 for output file in perl &gt;=5.18 within Windows 10?", "body": "<p>I need to make shure that the output file i create with my perl script has the codeset cp1252 and not UTF-8 because it will be used within a UNIX SQLplus framework which handles german \"umlauts\" not correctly when it insert that values into the database columns (I use strawberry perl v5.18 within Windows 10 and i cannot set NLS_LANG or chcp within the UNIX SQL environment).</p>\n\n<p>With this little test script i can reproduce that the output file \"testfile1.txt\" is allways in UTF-8 but \"testfile2.txt\" is CP1252 as expected.\nHow can i force the output for \"testfile1.txt\" to be also CP1252 even if there are no \"special\" chars within the text ? </p>\n\n<pre><code>#!/usr/bin/env perl -w\nuse strict;\nuse Encode;\n\n# the result file under Windows 10 will have UTF-8 codeset\nopen(OUT,'&gt; testfile1.txt');    \nbinmode(OUT,\"encoding(cp-1252)\");\nprint OUT encode('cp-1252',\"this is a test\");\nclose(OUT);\n\n# the result file under Windows 10 will have Windows-cp1252 codeset\nopen(OUT,'&gt; testfile2.txt');    \nbinmode(OUT,\"encoding(cp-1252)\");\nprint OUT encode('cp-1252',\"this is a test with german umlauts &lt;\u00c4\u00e4\u00dc\u00fc\u00d6\u00f6\u00df&gt;\");\nclose(OUT);\n</code></pre>\n"}, {"tags": ["perl", "email", "unix"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1509547324, "post_id": 47057396, "comment_id": 81062014, "body": "You could pipe it to a mail command... your question is way too vague."}, {"owner": {"reputation": 85, "user_id": 7854056, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d75dfefc367145352edc4341c08a4025?s=128&d=identicon&r=PG&f=1", "display_name": "emma", "link": "https://stackoverflow.com/users/7854056/emma"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509547449, "post_id": 47057396, "comment_id": 81062115, "body": "Actually I need my output to be printed on the screen as well as mailed."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1509547649, "post_id": 47057396, "comment_id": 81062230, "body": "What have you tried so far? Show us your code so we can point you in the right direction"}, {"owner": {"reputation": 85, "user_id": 7854056, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d75dfefc367145352edc4341c08a4025?s=128&d=identicon&r=PG&f=1", "display_name": "emma", "link": "https://stackoverflow.com/users/7854056/emma"}, "edited": false, "score": 0, "creation_date": 1509548141, "post_id": 47057396, "comment_id": 81062549, "body": "Actually I have a script which is currently printing a lot of information about memory utilization of instances, logging information etc. Now, I just need to add a functionality to my script so as to be able to send all the output that is currently being printed as an email in which the one running the script provides an email id.  Output is something like: memory: 234.3 MB CPU:... and other stats.  I want to run my script like: ./script -mail xyz@gmail.com and hence send all output on screen to this email id also."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1509548689, "post_id": 47057396, "comment_id": 81062894, "body": "What have you tried? What problems are you having? Please show us your code. If you don&#39;t have any code, Stack Overflow is probably not the best place for your question."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1509549012, "creation_date": 1509549012, "answer_id": 47057961, "question_id": 47057396, "link": "https://stackoverflow.com/questions/47057396/modify-a-program-to-accept-an-email-address-where-the-output-will-be-sent/47057961#47057961", "title": "Modify a program to accept an email address where the output will be sent", "body": "<p>You haven't shown us what you have tried so far, so don't expect anyone to give you too much help. But here are a couple of pointers.</p>\n\n<ul>\n<li>If you are having problems defining and parsing command line options (like <code>--mail</code>) then see the standard Perl module <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"nofollow noreferrer\">Getopt::Long</a>.</li>\n<li>If you're having trouble creating and sending email then see the CPAN modules <a href=\"https://metacpan.org/pod/Email::Sender\" rel=\"nofollow noreferrer\">Email::Sender</a> or <a href=\"https://metacpan.org/pod/Email::Stuffer\" rel=\"nofollow noreferrer\">Email::Stuffer</a>.</li>\n</ul>\n"}], "owner": {"reputation": 85, "user_id": 7854056, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d75dfefc367145352edc4341c08a4025?s=128&d=identicon&r=PG&f=1", "display_name": "emma", "link": "https://stackoverflow.com/users/7854056/emma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1509551904, "creation_date": 1509547146, "last_edit_date": 1509551904, "question_id": 47057396, "link": "https://stackoverflow.com/questions/47057396/modify-a-program-to-accept-an-email-address-where-the-output-will-be-sent", "title": "Modify a program to accept an email address where the output will be sent", "body": "<p>I am developing a Perl script which should take an email address as a parameter. The entire output of the script should be sent to that address as well as printed in screen. Any suggestions?</p>\n\n<pre><code>./script -mail xyz@gmail.com\n</code></pre>\n\n<p>Actually I already have a script which is currently printing information about memory utilization of instances, logging information etc. I need to add functionality to that script so that the output is mailed to the address provided as a parameter.</p>\n\n<p>The output is something like</p>\n\n<pre><code>memory: 234.3 MB CPU: ...\n</code></pre>\n\n<p>and other stats. I want to run my script like</p>\n\n<pre><code>./script -mail xyz@gmail.com\n</code></pre>\n\n<p>and send all output to this email address as well as displaying it on screen.</p>\n"}, {"tags": ["bash", "perl", "sed", "converter"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 4, "creation_date": 1509539015, "post_id": 47054622, "comment_id": 81056321, "body": "The goal is that you add some code of your own to show at least the research effort you made to solve this yourself."}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1509539049, "post_id": 47054622, "comment_id": 81056347, "body": "What did you try so far? Your above information doesn&#39;t help. You need to give some sample examples to identify <code>text</code> part and the counter part <code>A</code>, <code>AB</code>"}, {"owner": {"reputation": 339, "user_id": 2898925, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/66b581399ac3e51b2750d2a4590a9e39?s=128&d=identicon&r=PG&f=1", "display_name": "Birdie", "link": "https://stackoverflow.com/users/2898925/birdie"}, "edited": false, "score": 0, "creation_date": 1509539181, "post_id": 47054622, "comment_id": 81056437, "body": "The point is that I want to enumerate each line in a text file using the alphabet as my counter. I have seen many examples of how to do this using arabic numbers, but for my purposes I need to use the alphabet as my counter."}, {"owner": {"reputation": 339, "user_id": 2898925, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/66b581399ac3e51b2750d2a4590a9e39?s=128&d=identicon&r=PG&f=1", "display_name": "Birdie", "link": "https://stackoverflow.com/users/2898925/birdie"}, "edited": false, "score": 0, "creation_date": 1509539293, "post_id": 47054622, "comment_id": 81056510, "body": "For instance, I have read about a function called nl in coreutils in Linux, but I do not think it supports enumeration using the latin alphabet."}], "answers": [{"comments": [{"owner": {"reputation": 4917, "user_id": 2320961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdwXN.png?s=128&g=1", "display_name": "Nic3500", "link": "https://stackoverflow.com/users/2320961/nic3500"}, "edited": false, "score": 1, "creation_date": 1509540641, "post_id": 47055204, "comment_id": 81057419, "body": "Very nice, I did not know that incrementing a letter past Z would result in AA!"}, {"owner": {"reputation": 339, "user_id": 2898925, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/66b581399ac3e51b2750d2a4590a9e39?s=128&d=identicon&r=PG&f=1", "display_name": "Birdie", "link": "https://stackoverflow.com/users/2898925/birdie"}, "edited": false, "score": 0, "creation_date": 1509540816, "post_id": 47055204, "comment_id": 81057530, "body": "Yes, this seems to (almost) provide the desired feature. But I do not want to print the list, I want to modify (overwrite) the original file with the enumeration."}, {"owner": {"reputation": 4917, "user_id": 2320961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdwXN.png?s=128&g=1", "display_name": "Nic3500", "link": "https://stackoverflow.com/users/2320961/nic3500"}, "edited": false, "score": 0, "creation_date": 1509540917, "post_id": 47055204, "comment_id": 81057600, "body": "Take the output from Cyrus&#39; script then mv it over the original file.  Trivial.  PS: let this be a lesson about the quality of questions :-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 339, "user_id": 2898925, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/66b581399ac3e51b2750d2a4590a9e39?s=128&d=identicon&r=PG&f=1", "display_name": "Birdie", "link": "https://stackoverflow.com/users/2898925/birdie"}, "edited": false, "score": 1, "creation_date": 1509540961, "post_id": 47055204, "comment_id": 81057639, "body": "@Birdie look at the other command line flags perl has. There is one for that."}, {"owner": {"reputation": 339, "user_id": 2898925, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/66b581399ac3e51b2750d2a4590a9e39?s=128&d=identicon&r=PG&f=1", "display_name": "Birdie", "link": "https://stackoverflow.com/users/2898925/birdie"}, "reply_to_user": {"reputation": 4917, "user_id": 2320961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdwXN.png?s=128&g=1", "display_name": "Nic3500", "link": "https://stackoverflow.com/users/2320961/nic3500"}, "edited": false, "score": 0, "creation_date": 1509541100, "post_id": 47055204, "comment_id": 81057723, "body": "@Nic3500: Sorry for asking a stupid question. But really, I am not that familiar with either Perl, sed or saving a print output, and when reading solutions to similar questions it seems to me that one would usually not start with a print if it is not among the desired features."}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "reply_to_user": {"reputation": 339, "user_id": 2898925, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/66b581399ac3e51b2750d2a4590a9e39?s=128&d=identicon&r=PG&f=1", "display_name": "Birdie", "link": "https://stackoverflow.com/users/2898925/birdie"}, "edited": false, "score": 0, "creation_date": 1509541379, "post_id": 47055204, "comment_id": 81057916, "body": "@Birdie: Your question was not stupid but unclear/incomplete."}, {"owner": {"reputation": 339, "user_id": 2898925, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/66b581399ac3e51b2750d2a4590a9e39?s=128&d=identicon&r=PG&f=1", "display_name": "Birdie", "link": "https://stackoverflow.com/users/2898925/birdie"}, "edited": false, "score": 0, "creation_date": 1509541659, "post_id": 47055204, "comment_id": 81058088, "body": "@Cyrus: Thank you for your solution. But I cannot locate the relevant perl flag which will allow me to write to a file. My guess would have been -i, but it does not seem to work. :-/"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 339, "user_id": 2898925, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/66b581399ac3e51b2750d2a4590a9e39?s=128&d=identicon&r=PG&f=1", "display_name": "Birdie", "link": "https://stackoverflow.com/users/2898925/birdie"}, "edited": false, "score": 1, "creation_date": 1509541907, "post_id": 47055204, "comment_id": 81058263, "body": "@Birdie: <i>&quot;I do not want to print the list, I want to modify (overwrite) the original file with the enumeration&quot;</i> You don&#39;t say that anywhere in your question. You need to be much more careful to be clear and complete with your questions, or you will soon be looking at a question ban."}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "reply_to_user": {"reputation": 339, "user_id": 2898925, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/66b581399ac3e51b2750d2a4590a9e39?s=128&d=identicon&r=PG&f=1", "display_name": "Birdie", "link": "https://stackoverflow.com/users/2898925/birdie"}, "edited": false, "score": 1, "creation_date": 1509542538, "post_id": 47055204, "comment_id": 81058684, "body": "@Birdie: Replace <code>-e</code> with <code>-i -e</code>."}, {"owner": {"reputation": 339, "user_id": 2898925, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/66b581399ac3e51b2750d2a4590a9e39?s=128&d=identicon&r=PG&f=1", "display_name": "Birdie", "link": "https://stackoverflow.com/users/2898925/birdie"}, "edited": false, "score": 0, "creation_date": 1509543652, "post_id": 47055204, "comment_id": 81059449, "body": "Thank you, @Cyrus! I tried writing &#39;-e -i&#39;. But it apparently does not commute."}], "tags": [], "owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "is_accepted": true, "score": 5, "last_activity_date": 1509540350, "creation_date": 1509540350, "answer_id": 47055204, "question_id": 47054622, "link": "https://stackoverflow.com/questions/47054622/add-alphabet-counter-to-beginning-of-each-line/47055204#47055204", "title": "Add alphabet counter to beginning of each line", "body": "<p>With Perl:</p>\n\n<pre><code>perl -e '$x=A; while (&lt;&gt;) {print $x++.\" $_\";}' file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1509543304, "creation_date": 1509543304, "answer_id": 47056144, "question_id": 47054622, "link": "https://stackoverflow.com/questions/47054622/add-alphabet-counter-to-beginning-of-each-line/47056144#47056144", "title": "Add alphabet counter to beginning of each line", "body": "<p>Adapting Cyrus' answer to add the <code>-p</code> command-line option and changing the code to overwrite the original file:</p>\n\n<pre><code>$ perl -pi -e 'BEGIN { $x=\"A\" }; $_ = $x++ . \" $_\"' your_file_here\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2285, "user_id": 8592975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fea54eef1c73000439a2c38b53d422?s=128&d=identicon&r=PG&f=1", "display_name": "ctac_", "link": "https://stackoverflow.com/users/8592975/ctac"}, "is_accepted": false, "score": 0, "last_activity_date": 1509544085, "creation_date": 1509544085, "answer_id": 47056412, "question_id": 47054622, "link": "https://stackoverflow.com/questions/47054622/add-alphabet-counter-to-beginning-of-each-line/47056412#47056412", "title": "Add alphabet counter to beginning of each line", "body": "<p>With sed</p>\n\n<pre><code>sed -E 's/([^A-Z]+)([A-Z]+)(.*)/\\2 \\1\\2\\3/' infile\n</code></pre>\n\n<p>add -i to overwrite</p>\n"}], "owner": {"reputation": 339, "user_id": 2898925, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/66b581399ac3e51b2750d2a4590a9e39?s=128&d=identicon&r=PG&f=1", "display_name": "Birdie", "link": "https://stackoverflow.com/users/2898925/birdie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 47055204, "answer_count": 3, "score": 1, "last_activity_date": 1509544085, "creation_date": 1509538579, "last_edit_date": 1509542006, "question_id": 47054622, "link": "https://stackoverflow.com/questions/47054622/add-alphabet-counter-to-beginning-of-each-line", "title": "Add alphabet counter to beginning of each line", "body": "<p>I would like to add a counter to each line in a text file which is indexed over the alphabet. Are there any straight forward ways of doing this? For instance, if my text file looks like this</p>\n\n<pre><code>textAblabla\ntextBblabla\ntextCblabla\n...\ntextABblabla\ntextACblabla\n</code></pre>\n\n<p>it should be converted into</p>\n\n<pre><code>A textAblabla\nB textBblabla\nC textCblabla\n...\nAB textABblabla\nAC textACblabla\n</code></pre>\n\n<p>EDIT: It should be noted that it may very well be the case that each line is distinct. I now highlight this since it seems that my original question has caused some confusion.</p>\n\n<p>EDIT 2: I do not want to print the list, I want to modify (overwrite) the original file with the enumeration.</p>\n"}, {"tags": ["perl", "jenkins"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1509538219, "post_id": 47054256, "comment_id": 81055860, "body": "Thanks, For loop looks good to me. But how can i achieve the above code. &#39;$Artifactname = &quot;Android_{$app_name}.$ver&#39;  $app-name menioned in my  jenkins conf page for example APPNAME=Test. and also versionName i set as env variable using the following command &#39;set /p versionName=&lt;versionName.txt&#39; this versionName is assigned to $ver, dont know how to do that, please can u advise on this."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "edited": false, "score": 0, "creation_date": 1509710912, "post_id": 47054256, "comment_id": 81140122, "body": "@krishna: Your comment looks a lot like you are asking a new question. Probably best to post that as a completely new question."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1509538253, "last_edit_date": 1509538253, "creation_date": 1509537412, "answer_id": 47054256, "question_id": 47054171, "link": "https://stackoverflow.com/questions/47054171/perl-tool-chain-using-jenkins-envinject-variables/47054256#47054256", "title": "Perl tool chain using jenkins envinject variables", "body": "<p>So first off:</p>\n\n<pre><code>$Artifactname = \"Android_{$app_name}.$ver\n</code></pre>\n\n<p>But you declare <code>$appname</code>. The error message tells you this. </p>\n\n<p>And then - <code>$ver</code> you read out of <code>@ARGV</code> - it clobbers what you set it to from <code>%ENV</code>. But you never check if there is an <code>@ARGV</code> containing data, so chances are - no arguments are passed, and thus this value is also undefined. </p>\n\n<pre><code>my ( $buildno, $ver ) = @ARGV;\n</code></pre>\n\n<p>(And that <code>my</code> redeclares it to, so that'll error as well).</p>\n\n<p>If you want to do a default, then:</p>\n\n<pre><code>my ( $buildno, $ver ) = @ARGV;\n$ver //= $ENV{'versionName'}; #conditional assignment. \n</code></pre>\n\n<p>Also - given you're doing an <code>opendir</code>/<code>readdir</code>/<code>grep</code> have you considered just using <code>glob</code> instead? </p>\n\n<pre><code>foreach my $filename ( glob ( \"$sourcedir/*.$filetype\") ) { \n</code></pre>\n\n<p>As this will also give you full paths. </p>\n"}], "owner": {"reputation": 5, "user_id": 8641125, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/321e32cba60ee45fd4cc38670dbe368c?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/8641125/krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1509538253, "creation_date": 1509537098, "last_edit_date": 1509537238, "question_id": 47054171, "link": "https://stackoverflow.com/questions/47054171/perl-tool-chain-using-jenkins-envinject-variables", "title": "Perl tool chain using jenkins envinject variables", "body": "<p>I have written some Perl code and using Perl tool chain. Here is my code</p>\n\n<pre><code>my $sourcedir = $ENV{\"SOURCE\"};\nmy $targetdir = $variables{'DRIVE_LOCATION'};\nmy $artifactdir = $ENV{\"ARTIFACT\"};\nmy $appname = $ENV{\"APPNAME\"};\nmy $filetype = $ENV{\"FILETYPE\"};\nmy $ver = $ENV{versionName};\nprint \"targetdir $target_dir \\n\";\nmy ( $buildno, $ver ) = @ARGV;\n$Artifactname = \"Android_{$app_name}.$ver\";\nprint \"artifact $Artifactname\\n\";\nmkdir $Artifactname;\nopendir( my $DIR, $sourcedir ) || die \"can't opendir $source_dir: $!\";\nmy @files = readdir($DIR);\nforeach my $t ( sort grep( /^.*\\.$filetype/, @files ) )\n{\n   if (\"$sourcedir/$t\")\n   {\n      copy \"$sourcedir/$t\", \"./$Artifactname/$t\";\n      print \" pathname $artifactdir/$Artifactname \\n \";\n      dircopy( \"$artifactdir/$Artifactname\", \"$targetdir/$Artifactname\" );\n   }\n}\nclosedir($DIR);\n</code></pre>\n\n<p>when i run this code i am getting the below error </p>\n\n<pre><code>Use of uninitialized value $app_name_ in concatenation (.) or string at\nScripts/perl/copyfiles.pl line 29 (#3)\n Use of uninitialized value $ver in concatenation (.) or string at\nScripts/perl/copyfiles.pl line 29 (#3)\n</code></pre>\n\n<p>Also not able to create the directory with the values. please can anyone help with this. \n<code>my $ver = $ENV{versionName} // versionName</code> is environment variable. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1509533117, "post_id": 47053008, "comment_id": 81052954, "body": "... why do you have a sub definition embedded within your foreach loop?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1509542324, "post_id": 47053196, "comment_id": 81058543, "body": "It&#39;s also worth noting that <code>@data</code> should be <code>chomped</code>, although I think <code>LWP::Simple</code> ignores trailing whitespace."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1509533496, "creation_date": 1509533496, "answer_id": 47053196, "question_id": 47053008, "link": "https://stackoverflow.com/questions/47053008/get-image-src-links-from-urls-using-perl-and-store-in-db/47053196#47053196", "title": "Get image src links from urls using perl and store in DB", "body": "<p>Your problem is likely here:</p>\n\n<pre><code>foreach my $da ( $links{$key} ) {\n</code></pre>\n\n<p>Because it looks like you're assuming that <code>$links{$key}</code> is an array, when it cannot be - it can <em>only</em> be an array reference. And this will have the problem you described if you print it - it'll out put <code>ARRAY(0xDEADBEEF)</code> type format, because that's how an array ref stringifies. </p>\n\n<p>So you <em>might</em> find that changing it to:</p>\n\n<pre><code>foreach my $da ( @{$links{$key}} ) {\n</code></pre>\n\n<p>Will do the trick. </p>\n\n<p>But I'd also suggest </p>\n\n<ul>\n<li>embedding a sub within a foreach loop is bad style.</li>\n<li>Use 3 argument open with lexical file handles - e.g. <code>open my $input, '&lt;', 'file.name' or die $!</code>.</li>\n<li>iterate that with a <code>while</code> loop, rather than reading it into an array that you don't then reuse. </li>\n<li>you declare <code>my $key</code> twice - the first instance isn't used, and is misleading. </li>\n<li>You write your output to <code>$image</code> as <code>FILES</code> and then you open the same file and read it back in again. You don't seem to need the intermediate file though, so why not just stash it in the <code>@img</code> array in the first place? </li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 3923, "user_id": 3640699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NxDM0.jpg?s=128&g=1", "display_name": "Karthikeyan.R.S", "link": "https://stackoverflow.com/users/3640699/karthikeyan-r-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1509533620, "creation_date": 1509533620, "answer_id": 47053239, "question_id": 47053008, "link": "https://stackoverflow.com/questions/47053008/get-image-src-links-from-urls-using-perl-and-store-in-db/47053239#47053239", "title": "Get image src links from urls using perl and store in DB", "body": "<p>your problem lies here.</p>\n\n<pre><code>my @in     = split ';', $lin;\nmy $image1 = [0];\nmy $image2 = [1];\nmy $image3 = [2];\n</code></pre>\n\n<p>You are assigning the anonymous array to your variable. Above line should be like this.</p>\n\n<pre><code>my $image1 = $in[0];\nmy $image2 = $in[1];\nmy $image3 = $in[2];\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 7897207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lsw64.jpg?s=128&g=1", "display_name": "prakash", "link": "https://stackoverflow.com/users/7897207/prakash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 47053196, "answer_count": 2, "score": 0, "last_activity_date": 1509548232, "creation_date": 1509532905, "last_edit_date": 1509548232, "question_id": 47053008, "link": "https://stackoverflow.com/questions/47053008/get-image-src-links-from-urls-using-perl-and-store-in-db", "title": "Get image src links from urls using perl and store in DB", "body": "<p>I am trying to extract image src links using the following Perl code. Don't get where I am making mistake.\n 1. open a file and read URLs in it</p>\n\n<p>My text file looks like this</p>\n\n<pre><code>https://zzzzzz.com/\nhttps://yyyyyyy.com/\nhttps://xxxxxxxxxx.com/\nhttps://stackoverflow.com/\nhttps://www.google.com/\nhttps://www.yahoo.com/\n</code></pre>\n\n<ol start=\"2\">\n<li><code>foreach</code> URL in text file extracting img src</li>\n<li>print the retrieved data into another file</li>\n<li>again open the file using new file handle and read it into an array</li>\n<li>while dereferencing array it shows error <code>ARRAY(0x2e14a48) ARRAY(0x3125528) ARRAY(0x312e170)</code>.</li>\n</ol>\n\n<p>Perl code is</p>\n\n<pre><code>#!/usr/bin/perl\nprint \"Content-type: text/html\\n\\n\";\nuse strict;\nuse warnings;\nuse DBI;\nuse LWP::Simple;\nuse HTML::LinkExtor;\n\nmy $filename = \"/path/to/file\";\n\nopen FILE, '&lt;', $filename or print \"cant open file: $!\";\nmy @data = &lt;FILE&gt;;\nclose(FILE);\n\nmy $image = \"/path/to/file\";\n\nopen FILES, '&gt;', $image or print \"cant write to file: $!\";\n\nforeach my $urls (@data) {\n   my $url = get(\"$urls\");\n\n   my $linkextor = HTML::LinkExtor-&gt;new( \\&amp;links );\n\n   $linkextor-&gt;parse($url);\n\n   my $key;\n\n   sub links {\n      ( my $tag, my %links ) = @_;\n      if ( $tag eq \"img\" ) {\n         foreach my $key ( keys %links ) {\n            if ( $key eq \"src\" ) {\n               foreach my $da ( @{$links{$key}} ) {\n                  if ( $da =~ /^[a-zA-Z]/ ) {\n                     print FILES \"$da;\\n\";\n                  } #if\n               } #foreach\n            }    #if\n         }    #foreach\n      }    #if\n   }    #sub\n\n   print FILES \"\\n\";\n\n}    #foreach\nclose(FILES);\n</code></pre>\n\n<p>Until this, there is no problem I got all the src links like </p>\n\n<pre><code>https://zzzzzz.com/;https://yyyyyyy.com/;https://xxxxxxxxxx.com/;\n\nhttps://zzzzzz.com/;https://yyyyyyy.com/;https://xxxxxxxxxx.com/;\n\nhttps://zzzzzz.com/;https://yyyyyyy.com/;https://xxxxxxxxxx.com/;\n\nhttps://zzzzzz.com/;https://yyyyyyy.com/;https://xxxxxxxxxx.com/;\n</code></pre>\n\n<p>This is the format I have output in the text file, all I need is to insert all these urls by order as <code>$image1, $image2, $image3</code> in image column</p>\n\n<pre><code>my $platform = \"mysql\";\nmy $database = \"xxx\";\nmy $host     = \"xxxxx\";\nmy $port     = \"xxxx\";\nmy $user     = \"xxxxx\";\nmy $pw       = \"xxxxxxxxx\";\n\nmy $dbh = DBI-&gt;connect( \"DBI:$platform:$database:$host:$port\", $user, $pw );\n\nopen FILED, '&lt;', $image or die \"cannot open file: $!\";\nmy @img = &lt;FILED&gt;;\nclose(FILED);\n\nforeach my $lin (@img) {\n   chomp $lin;\n   my @in     = split ';', $lin;\n   my $image1 = $in[0];\n   my $image2 = $in[1];\n   my $image3 = $in[2];\n\n   print \"$image1 $image2 $image3 \\n\";\n\n   $sth-&gt;execute( $li, $val, $parsed, $htmls, $image1, $image2, $image3 );\n\n}\n\nexit;\n</code></pre>\n\n<p>I thought that I am making mistakes in foreach loop, am I right. Thanks in advance.</p>\n"}, {"tags": ["perl", "perl-xs"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1509514752, "post_id": 47048306, "comment_id": 81044661, "body": "Looks like there&#39;s a <code>depend</code> attribute that could be useful."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1509546367, "post_id": 47048306, "comment_id": 81061326, "body": "The <code>XS</code> directive may be of help as well, but I&#39;ve never used it so I&#39;m a little unsure."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1509554125, "post_id": 47048306, "comment_id": 81066482, "body": "I found that dealing with multiple XS files is much easier when using Module::Build instead of MakeMaker. You just plop your XS files into <code>lib&#47;</code> as if they were a normal module, and write a corresponding <code>.pm</code> module to load each. The drawback is that you now have multiple dynamic libraries that need to be loaded. If the project is sufficiently small, it may also be sufficient to do a clean build each time"}], "owner": {"reputation": 753, "user_id": 3436341, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/4ec14d5c7ed144e815ae376dd2d9c4d4?s=128&d=identicon&r=PG&f=1", "display_name": "vdudouyt", "link": "https://stackoverflow.com/users/3436341/vdudouyt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1509510890, "creation_date": 1509510890, "question_id": 47048306, "link": "https://stackoverflow.com/questions/47048306/having-multiple-xs-files-in-one-project", "title": "Having multiple .xs files in one project", "body": "<p>In my root XS file, I have an include of other XS file which I have to do in order to maintain a clean project structure:</p>\n\n<pre><code>MODULE = MyModule       PACKAGE = MyPackage\n# ...\nINCLUDE: xs/MySubpackage.xs\n</code></pre>\n\n<p>Everything is working fine, except that I have to manually delete 'MyPackage.c' each time when I edit MySubpackage.xs - as otherwise the changes are not getting reflected.</p>\n\n<p>Is there an easy way to make ExtUtils::MakeMaker to automatically rebuild MyModule.c each time when MySubpackage.xs is getting changed?</p>\n"}, {"tags": ["perl", "unicode", "filenames", "solaris"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1509499034, "post_id": 47046553, "comment_id": 81040863, "body": "&quot;Unix&quot; is probably not specific enough; which unix?  And what filesystem?  And what exactly do you see that says -e will not work?"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1509499663, "post_id": 47046553, "comment_id": 81041020, "body": "Click on the link I provided and it will tell you.  It&#39;s Solaris."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1509500587, "post_id": 47046553, "comment_id": 81041224, "body": "I don&#39;t think you are reading it correctly; it just gives a list of places where unicode may not be portable.  That said, did you try it?  It works fine for me on linux 4.13/ext4.   Try <code>$fn=&quot;s\\xf4l\\xe2r\\xees&quot;; open $fh, &quot;&gt;&quot;, $fn;</code> and see if that creates a file <code>s&#244;l&#226;r&#238;s</code>.  If that doesn&#39;t work, try doing <code>utf8::encode($fn);</code> first.  Then try <code>-e $fn</code> both with and without utf8::encode."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1509506917, "post_id": 47046553, "comment_id": 81042768, "body": "Thanks for this. I worked out that the filenames on the Unix file system were in <code>cp1252</code> so doing this made it work <code>$filename = encode(&quot;cp1252&quot;, decode(&quot;utf-8&quot;, $filename))</code>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1509522789, "post_id": 47046553, "comment_id": 81047699, "body": "See also <a href=\"https://stackoverflow.com/q/37027051/2173773\">In what encoding does readdir return a filename?</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1509534000, "post_id": 47046553, "comment_id": 81053487, "body": "@CJ7 <i>I worked out that the filenames on the Unix file system were in <code>cp1252</code></i> - I&#39;d be astonished if that was true. <code>cp1252</code> is a Microsoft encoding, used on legacy Windows systems. I bet what you&#39;re seeing is <code>ISO-8859-1</code> but you haven&#39;t come across any of the codepoints that differentiate it from <code>cp1252</code>."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1509573126, "post_id": 47046553, "comment_id": 81076722, "body": "@DaveCross &quot;It is very common (on the Internet) to mislabel Windows-1252 text with the charset label ISO-8859-1.&quot; from <a href=\"https://en.wikipedia.org/wiki/ISO/IEC_8859-1\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ISO/IEC_8859-1</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1509576962, "post_id": 47046553, "comment_id": 81078066, "body": "@CJ7: I don&#39;t doubt it. But just because it&#39;s a common mistake, that doesn&#39;t mean that we shouldn&#39;t try to avoid falling into it."}], "answers": [{"comments": [{"owner": {"reputation": 477, "user_id": 1541776, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5d79d7df984a5440a0e08fc05cf8371f?s=128&d=identicon&r=PG", "display_name": "user1541776", "link": "https://stackoverflow.com/users/1541776/user1541776"}, "edited": false, "score": 0, "creation_date": 1509503028, "post_id": 47047144, "comment_id": 81041785, "body": "is file name not a sequence of bytes on any other OS? Also, if file name is a sequence of bytes, is it possible that unix system has any problems with decoding them, or any program modifying file name must use the system specified encoding when changing file name? Could you please post a link to documentation clarifying this in more details?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 477, "user_id": 1541776, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5d79d7df984a5440a0e08fc05cf8371f?s=128&d=identicon&r=PG", "display_name": "user1541776", "link": "https://stackoverflow.com/users/1541776/user1541776"}, "edited": false, "score": 2, "creation_date": 1509504464, "post_id": 47047144, "comment_id": 81042165, "body": "@user1541776, In unix, any NUL-terminated sequence of bytes is a valid path. In Windows, they are encoded text, the encoding being UTF-16le or the machine&#39;s &quot;ANSI&quot; encoding, depending on the API used. Semantics (what characters are allowed) are associated with the decoded version, not how they are encoded."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1509506955, "post_id": 47047144, "comment_id": 81042774, "body": "@ikegami Thanks for this. I worked out that the filenames on the Unix file system were in <code>cp1252</code> so doing this made it work <code>$filename = encode(&quot;cp1252&quot;, decode(&quot;utf-8&quot;, $filename))</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1509514316, "post_id": 47047144, "comment_id": 81044543, "body": "Far more likely to be iso-8859-1 than a Windows-specific encoding."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1509573221, "post_id": 47047144, "comment_id": 81076770, "body": "@ikegami Someone copy and pasted from Windows to create the filenames.  Win 7 uses cp1252.  Also note: &quot;It is very common (on the Internet) to mislabel Windows-1252 text with the charset label ISO-8859-1.&quot; from <a href=\"https://en.wikipedia.org/wiki/ISO/IEC_8859-1\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ISO/IEC_8859-1</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1509577544, "post_id": 47047144, "comment_id": 81078257, "body": "Exactly. I believe you made that mistake."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 7, "last_activity_date": 1509501791, "creation_date": 1509501791, "answer_id": 47047144, "question_id": 47046553, "link": "https://stackoverflow.com/questions/47046553/how-to-check-if-unicode-filename-exists/47047144#47047144", "title": "How to check if unicode filename exists?", "body": "<p>On unix systems, file names are simply sequence of bytes. You have to pass to <code>-e</code> the same sequence of bytes as the actual file name. There's a good chance that it's these bytes of the UTF-8 encoding of the text you see. So if you have have Unicode Code Points (\"decoded text\"), try the following:</p>\n\n<pre><code>utf8::encode( my $fn = $decoded_text );\nsay -e $fn ? \"exists\" : \"doesn't exist\";\n</code></pre>\n\n<p>Don't forget to prepend the directory name if necessary.</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1509539222, "creation_date": 1509496633, "last_edit_date": 1509539222, "question_id": 47046553, "link": "https://stackoverflow.com/questions/47046553/how-to-check-if-unicode-filename-exists", "title": "How to check if unicode filename exists?", "body": "<p>As per <a href=\"https://perldoc.perl.org/perlunicode.html#When-Unicode-Does-Not-Happen\" rel=\"nofollow noreferrer\">perlunicode</a>, <code>-e</code> will not work with unicode filenames, so how can I check for the existence of a unicode filename?  On a Solaris system.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1509488301, "post_id": 47045197, "comment_id": 81038006, "body": "<code>bc</code> is forked and run as a separate process with an independent STDOUT. You need to run it using something like <a href=\"https://metacpan.org/pod/IPC::Run3\" rel=\"nofollow noreferrer\"><code>IPC::Run3</code></a> to capture the result."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1509488260, "creation_date": 1509488260, "answer_id": 47045319, "question_id": 47045197, "link": "https://stackoverflow.com/questions/47045197/stdout-redirected-to-variable-not-catching-pipe-output/47045319#47045319", "title": "STDOUT redirected to variable not catching pipe output", "body": "<p>This is ... not possible.</p>\n\n<p>Standard output of piped opens and <code>system</code> calls are written to file descriptor 1. Normally, Perl's <code>STDOUT</code> file handle is associated with file descriptor 1, but that can be manipulated.</p>\n\n<p>In this example, the <code>system</code> calls writes to <code>STDOUT</code> filehandle, which writes to the file <code>foo</code>.</p>\n\n<pre><code>close STDOUT;             # closes file descriptor 1\nopen STDOUT, '&gt;', 'foo';  # reopens STDOUT as file descriptor 1\nsystem(\"echo bar\");\nclose STDOUT;\nprint STDERR \"foo: \",`cat foo`;\n# result:  \"foo: bar\"\n</code></pre>\n\n<p>But in this example, the <code>system</code> calls writes to the <code>BAZ</code> filehandle.</p>\n\n<pre><code>close STDOUT;             # closes file descriptor 1\nopen BAZ, '&gt;', 'baz';     # attaches fd 1 to handle BAZ\nopen STDOUT, '&gt;', 'foo';  # opens new file descriptor, maybe fd 3\nsystem(\"echo bar\");\nclose STDOUT;\nprint STDERR \"foo: \",`cat foo`;\nprint STDERR \"baz: \",`cat baz`;\n# result:  \"foo: baz: bar\"\n</code></pre>\n\n<p>An in-memory filehandle is not a real filehandle. If you call <code>fileno</code> on it, you will (generally, may be OS dependent) get a negative number.</p>\n\n<pre><code>open STDOUT, '&gt;', \\$scalar;\nprint STDERR fileno(STDOUT);     #   -1\n</code></pre>\n\n<p>Piped opens and system calls will not be able to write to this filehandle.</p>\n\n<p>You will need a more complicated workaround, like writing the piped open output to a file, and then copying that file into the in-memory variable.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1522360827, "last_edit_date": 1522360827, "creation_date": 1509491994, "answer_id": 47045913, "question_id": 47045197, "link": "https://stackoverflow.com/questions/47045197/stdout-redirected-to-variable-not-catching-pipe-output/47045913#47045913", "title": "STDOUT redirected to variable not catching pipe output", "body": "<p>You have a detailed explanation in <a href=\"https://stackoverflow.com/a/47045319/4653379\">mob's answer</a> of why you cannot redirect a child's <code>STDOUT</code> to a variable, which isn't really a filehandle.</p>\n\n<p>Instead, you can use a module for running external programs, that can redirect standard streams to variables. Then you can combine strings with redirected output as you wish.</p>\n\n<p>An example with <a href=\"http://search.cpan.org/~rjbs/IPC-Run3-0.048/lib/IPC/Run3.pm\" rel=\"nofollow noreferrer\">IPC::Run3</a></p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse IPC::Run3;\n\nopen my $fh, \"&gt;\", \\my $so_1;     \nmy $old = select $fh;         # make $fh the default for output,\nsay \"To select-ed default\";   # so prints end up in $so_1\n\nrun3 [\"ls\", \"-l\", \"./\"], undef, \\my $so_2;   # output goes to $so_2\n\nselect $old;                  # restore STDOUT as default for output\nprint $so_1, $so_2;\n</code></pre>\n\n<p>Here I used <a href=\"https://perldoc.perl.org/functions/select.html\" rel=\"nofollow noreferrer\">select</a> to manipulate where prints go by default (without a filehandle specified).</p>\n\n<p>Note that the example redirects <code>run3</code> to a different variable (<code>$so_2</code>) than the one used for a previous redirect.  If you'd rather append to the same variable specify this in <a href=\"http://search.cpan.org/~rjbs/IPC-Run3-0.048/lib/IPC/Run3.pm#%5C%options\" rel=\"nofollow noreferrer\"><code>%options</code></a></p>\n\n<pre><code>run3 [\"ls\", \"-l\", \"./\"], undef, \\$so_1, { append_stdout =&gt; 1 };\n</code></pre>\n\n<p>and remove <code>$so_2</code> from the printing statement.</p>\n\n<p>The module uses temporary files for this redirection, as mob also indicated in the answer.</p>\n\n<p>Some other options are <a href=\"http://search.cpan.org/~dagolden/Capture-Tiny-0.46/lib/Capture/Tiny.pm\" rel=\"nofollow noreferrer\">Capture::Tiny</a> that can redirect output from nearly any code, with a simple and clean interface, and the very powerfull, rounded, and more complex <a href=\"http://search.cpan.org/~toddr/IPC-Run-0.96/lib/IPC/Run.pm\" rel=\"nofollow noreferrer\">IPC::Run</a>.</p>\n"}], "owner": {"reputation": 2624, "user_id": 393262, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/49a7ee5012c5ee27f94f16be6cd13d1b?s=128&d=identicon&r=PG", "display_name": "Philippe A.", "link": "https://stackoverflow.com/users/393262/philippe-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 295, "favorite_count": 0, "accepted_answer_id": 47045319, "answer_count": 2, "score": 4, "last_activity_date": 1522360827, "creation_date": 1509487492, "question_id": 47045197, "link": "https://stackoverflow.com/questions/47045197/stdout-redirected-to-variable-not-catching-pipe-output", "title": "STDOUT redirected to variable not catching pipe output", "body": "<p>I want to temporarily redirect stdout to an in memory variable. Prints are correctly redirected to my variable but not the output of a pipe (bc in my example). What is going on? </p>\n\n<pre><code>#!/usr/bin/perl\n\nmy $stdout_sink;\nopen(my $orig_stdout, \"&gt;&amp;STDOUT\") || die $!;\nclose STDOUT;\nopen(STDOUT, \"&gt;\", \\$stdout_sink) || die $!;\n\n# produce some output in different ways\nprint \"before bc\\n\"; # ok\nopen my $fh, \"| bc\";\nprint $fh \"2+2\\n\";   # not ok\nclose $fh;\n\nclose STDOUT;  \nopen(STDOUT, \"&gt;&amp;\", $orig_stdout) || die $!;\nprint \"$stdout_sink\";\n</code></pre>\n\n<p>Actual ouput will be:</p>\n\n<pre><code>before bc\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>before bc\n4\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1509484359, "post_id": 47044576, "comment_id": 81036544, "body": "How did you install Digest::MD5?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509484384, "post_id": 47044576, "comment_id": 81036553, "body": "Your script is in <code>&#47;opt&#47;myapp&#47;bin&#47;script&#47;</code> and you have no <i>lib</i> directory in between?"}, {"owner": {"reputation": 645, "user_id": 3331519, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/12c0eea0a0d26b9ed99b905f3154f798?s=128&d=identicon&r=PG", "display_name": "marcusds", "link": "https://stackoverflow.com/users/3331519/marcusds"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1509484481, "post_id": 47044576, "comment_id": 81036597, "body": "@melpomene I downloaded the source .pm files."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1509484513, "post_id": 47044576, "comment_id": 81036610, "body": "Yeah, that&#39;s not going to work. Why not use the Red Hat system package for Digest::MD5?"}], "answers": [{"tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": false, "score": 0, "last_activity_date": 1510034451, "creation_date": 1510034451, "answer_id": 47150950, "question_id": 47044576, "link": "https://stackoverflow.com/questions/47044576/perl-including-digestmd5-in-package-not-working/47150950#47150950", "title": "Perl: Including Digest::MD5 in package not working", "body": "<p>What you may not realize is that the <code>::</code> in <code>Digest::MD5</code> implies that MD5.pm is expected to be in a parent folder/directory named Digest. Make a directory named Digest, move MD5.pm into it and you should be fine.</p>\n\n<p>Other ways to have Perl look in alternate locations are to set the environment variable PERL5LIB</p>\n\n<pre><code>setenv PERL5LIB /opt/myapp/bin/script\n</code></pre>\n\n<p>or the generally frowned upon manipulation of @INC</p>\n\n<pre><code>BEGIN {\n  push @INC, \"/opt/myapp/bin/script\";\n}\n</code></pre>\n"}], "owner": {"reputation": 645, "user_id": 3331519, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/12c0eea0a0d26b9ed99b905f3154f798?s=128&d=identicon&r=PG", "display_name": "marcusds", "link": "https://stackoverflow.com/users/3331519/marcusds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 919, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510034451, "creation_date": 1509484177, "last_edit_date": 1592644375, "question_id": 47044576, "link": "https://stackoverflow.com/questions/47044576/perl-including-digestmd5-in-package-not-working", "title": "Perl: Including Digest::MD5 in package not working", "body": "<p>I am trying to loading Digest::MD5 from the directory my Perl script is existing in (since I can't install through PPM on my enviroment.)</p>\n<p>I've tried a bunch of combinations, but what appears to work on Strawberry perl on Windows, but not in Red Hat linux is having a Digest directory with MD5.pm, base.pm, and file.pm in it. Then I am using this code to load the module.</p>\n<pre><code>use FindBin;\nuse lib &quot;$FindBin::Bin/&quot;;\nuse Digest::MD5 qw(md5_hex);\n</code></pre>\n<p>But I get this error:</p>\n<blockquote>\n<p>Can't locate loadable object for module Digest::MD5 in @INC (@INC\ncontains: /opt/myapp/bin/script/ /usr/local/lib64/perl5\n/usr/local/share/perl5 /usr/lib64/perl5/vendor_perl\n/usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at\n./app.pl line 21. Compilation failed in require at ./app.pl line 21.\nBEGIN failed--compilation aborted at ./app.pl line 21.</p>\n</blockquote>\n<p>I'm tired of banging my head on my desk, anyone have any ideas?</p>\n<h3>Edit:</h3>\n<p>This was marked as an exact duplicate of a very different question. This is not about a missing module, it is about including a module directly with a perl script so it can be packaged and installed without installing a module through PPM or CPAN or something.</p>\n"}, {"tags": ["perl", "hash", "ldap", "dn"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1509477667, "post_id": 47042821, "comment_id": 81033220, "body": "Add <code>use Data::Dumper</code>, then <code>print Dumper $href;</code>. In the output, find the key that&#39;s associated with the field you want, then you can do <code>print &quot;$href-&gt;{field_name}\\n&quot;;</code>. Essentially, you have to dereference the hashref and pull out the data you want by using the key that maps to the data you want."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509483167, "post_id": 47042821, "comment_id": 81036023, "body": "Why do you have Config::Simple and Try::Tiny in that code? You&#39;re not using it."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1509483491, "post_id": 47042821, "comment_id": 81036184, "body": "The <code>search</code> method should be returning an object of <code>Net::LDAP::Search</code>..."}, {"owner": {"reputation": 103, "user_id": 8139165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bebd0c29be4940f8dc9ffca9ae9e2ae0?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Wilson", "link": "https://stackoverflow.com/users/8139165/alan-wilson"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509537597, "post_id": 47042821, "comment_id": 81055515, "body": "@simbabque I had a different approach before this one using some previously written code and just forgot to take it out."}, {"owner": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "edited": false, "score": 0, "creation_date": 1509630840, "post_id": 47042821, "comment_id": 81102453, "body": "(@AlanWilson - If a solution works for you, please accept it. SO is &quot;gamified&quot; and everybody appreciates the reputation points earned by successfully fixing somebody&#39;s problem.)"}], "answers": [{"tags": [], "owner": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "is_accepted": true, "score": 0, "last_activity_date": 1509502050, "last_edit_date": 1509502050, "creation_date": 1509500950, "answer_id": 47047056, "question_id": 47042821, "link": "https://stackoverflow.com/questions/47042821/ldap-search-for-user-dn-returns-a-hash-perl/47047056#47047056", "title": "LDAP Search for User DN Returns a Hash - Perl", "body": "<p>You get back a whole object which you need to get the results from, and from that, navigate to what you want. I believe this will work, if indeed \"<code>entrydn</code>\" is the correct name.</p>\n\n<pre><code>my $entries = $result-&gt;entries;\nmy $dn = $entries[0]-&gt;get_value('entrydn');\n</code></pre>\n\n<p>(If you expect to return more than one entry, of course you will have to iterate. If you may get no results, you need to check for that too.)</p>\n"}], "owner": {"reputation": 103, "user_id": 8139165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bebd0c29be4940f8dc9ffca9ae9e2ae0?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Wilson", "link": "https://stackoverflow.com/users/8139165/alan-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 662, "favorite_count": 0, "accepted_answer_id": 47047056, "answer_count": 1, "score": 0, "last_activity_date": 1509502050, "creation_date": 1509476496, "question_id": 47042821, "link": "https://stackoverflow.com/questions/47042821/ldap-search-for-user-dn-returns-a-hash-perl", "title": "LDAP Search for User DN Returns a Hash - Perl", "body": "<p>All I am trying to do is search for a user and return the user's DN in a Perl script. However, my script is printing a reference to a hash instead of the actual DN of the user.</p>\n\n<p>The DN needs to be put into another variable later on so I need the DN to be right.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Net::LDAPS;\nuse Net::LDAP;\nuse Config::Simple;\nuse Try::Tiny;\n\n#LDAP connection.\nmy $ldap;\n\nmy $hostname = \"Hostname\";\nmy $port = 2389;\nmy $rootDN = \"username\";\nmy $password = \"password\";\n\n#Connect to LDAP\n$ldap = Net::LDAP-&gt;new( $hostname, port =&gt; $port ) or die $@;\n\n#Send username and password\nmy $mesg = $ldap-&gt;bind(dn =&gt; $rootDN, password =&gt; $password) or die $@;\n\n\nmy $result = $ldap-&gt;search(\n  base   =&gt; \"ou=AllProfiles\",\n  filter =&gt; \"(cn=Alice Lee)\",\n  attrs =&gt; ['*','entrydn'],\n);\n\nmy $href = $result;\nprint \"$href\\n\";\n</code></pre>\n\n<p>Here is my output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vsrKL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vsrKL.png\" alt=\"enter image description here\"></a></p>\n\n<p>Does anyone know why I am getting this? Or know how to fix it?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": true, "score": 2, "last_activity_date": 1509477123, "creation_date": 1509477123, "answer_id": 47042971, "question_id": 47041185, "link": "https://stackoverflow.com/questions/47041185/i-want-replace-special-strings-in-a-file-with-perl/47042971#47042971", "title": "i want replace special strings in a file with perl", "body": "<p>Start with creating a regex that matches the lines you want to change:</p>\n\n<pre><code>perl -n -e '/PATTERN/&amp;&amp;print' mosi.php\n</code></pre>\n\n<p>In your case:</p>\n\n<pre><code>perl -n -e '/&lt;input type=\"hidden\" name=\"token\" value=\"&lt;\\?=token2\\(\\);\\?&gt;\" \\/&gt;/&amp;&amp;print' mosi.php\n</code></pre>\n\n<p>Now, add capture parentheses:</p>\n\n<pre><code>perl -n -e 'print \"$_\\n\"for /(&lt;input type=\"hidden\" name=\")token(\" value=\")&lt;\\?=token2\\(\\);\\?&gt;(\" \\/&gt;)/' mosi.php\n</code></pre>\n\n<p>Now that you can collect the parts, put them together for the result:</p>\n\n<pre><code>perl -p -e 's/(&lt;input type=\"hidden\" name=\")token(\" value=\")&lt;\\?=token2\\(\\);\\?&gt;(\" \\/&gt;)/$1&lt;?=rrobot();?&gt;$2&lt;?=mrobot();?&gt;$3$1&lt;?=trobot();?&gt;$2&lt;?=rtoken();?&gt;$3/' mosi.php\n</code></pre>\n\n<p>And once you're absolutely sure it is correct, change the file:</p>\n\n<pre><code>perl -pi -e 's/(&lt;input type=\"hidden\" name=\")token(\" value=\")&lt;\\?=token2\\(\\);\\?&gt;(\" \\/&gt;)/$1&lt;?=rrobot();?&gt;$2&lt;?=mrobot();?&gt;$3$1&lt;?=trobot();?&gt;$2&lt;?=rtoken();?&gt;$3/' mosi.php\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8863888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4d5ebe8fa49f7cb3f5c50500c6809e?s=128&d=identicon&r=PG&f=1", "display_name": "Mosi_71", "link": "https://stackoverflow.com/users/8863888/mosi-71"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 47042971, "answer_count": 1, "score": 0, "last_activity_date": 1509477123, "creation_date": 1509470729, "last_edit_date": 1509471332, "question_id": 47041185, "link": "https://stackoverflow.com/questions/47041185/i-want-replace-special-strings-in-a-file-with-perl", "title": "i want replace special strings in a file with perl", "body": "<p>I use this command for simple strings in lunux server</p>\n\n<pre><code>perl -pi -e 's/oldstring/newstring/' mosi.php\n</code></pre>\n\n<p>but i want replace this code :</p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"token\" value=\"&lt;?=token2();?&gt;\" /&gt;\n</code></pre>\n\n<p>with this code in the same file : </p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"&lt;?=rrobot();?&gt;\" value=\"&lt;?=mrobot();?&gt;\"/&gt;&lt;input type=\"hidden\" name=\"&lt;?=trobot();?&gt;\" value=\"&lt;?=rtoken();?&gt;\"/&gt;\n</code></pre>\n\n<p>But I do not know what to do</p>\n\n<p>please help me </p>\n"}, {"tags": ["perl", "terminal"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 3, "creation_date": 1509463385, "post_id": 47038911, "comment_id": 81024360, "body": "<code>perldoc -f open</code> ... see &quot;pipe opens&quot;."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1509463700, "post_id": 47038911, "comment_id": 81024585, "body": "and <a href=\"http://perldoc.perl.org/perlipc.html#Using-open()-for-IPC\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlipc.html#Using-open()-for-IPC</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1509466626, "post_id": 47038911, "comment_id": 81026572, "body": "What do you intend to do with the ouput of multiple processes as it&#39;s coming?  You can <code>fork</code> and each child can deal with its own process but you can&#39;t sensibly print (for example) in real time; it would all end up interleaved and messed up."}, {"owner": {"reputation": 127, "user_id": 8312588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f526528e96c1fc2f91e923f2d82fc7e9?s=128&d=identicon&r=PG&f=1", "display_name": "leopardsticks", "link": "https://stackoverflow.com/users/8312588/leopardsticks"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1509472723, "post_id": 47038911, "comment_id": 81030458, "body": "@zdim I&#39;m going to have the output written into a database"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1509475130, "post_id": 47038911, "comment_id": 81031823, "body": "If you want to read from multiple children, you want <a href=\"http://search.cpan.org/perldoc?IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a>. Otherwise, you get into seriously complex code involving IO::Select or threads."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1509466826, "creation_date": 1509466826, "answer_id": 47040028, "question_id": 47038911, "link": "https://stackoverflow.com/questions/47038911/how-to-read-a-continuous-stream-of-output-from-a-terminal-with-perl/47040028#47040028", "title": "How to read a continuous stream of output from a terminal with perl", "body": "<p>If you have a question about Inter-Process Communication in Perl, then the <a href=\"http://perldoc.perl.org/perlipc.htm\" rel=\"nofollow noreferrer\">perlipc manual page</a> might be a good place to start. Specifically, in this case, the section on <a href=\"http://perldoc.perl.org/perlipc.html#Using-open()-for-IPC\" rel=\"nofollow noreferrer\">Using <code>open()</code> for IPC</a> seems useful.</p>\n\n<p>Basically, you can use <code>open()</code> to open a handle onto a process which you can then read data from in the same way as you read data from any filehandle.</p>\n\n<p>The example in the document uses <code>netstat</code>:</p>\n\n<pre><code>open(STATUS, \"netstat -an 2&gt;&amp;1 |\")\n    || die \"can't fork: $!\";\n\nwhile (&lt;STATUS&gt;) {\n    next if /^(tcp|udp)/;\n    print;\n}\n\nclose STATUS        || die \"bad netstat: $! $?\";\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 8312588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f526528e96c1fc2f91e923f2d82fc7e9?s=128&d=identicon&r=PG&f=1", "display_name": "leopardsticks", "link": "https://stackoverflow.com/users/8312588/leopardsticks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 2, "accepted_answer_id": 47040028, "answer_count": 1, "score": 3, "last_activity_date": 1509466826, "creation_date": 1509463327, "question_id": 47038911, "link": "https://stackoverflow.com/questions/47038911/how-to-read-a-continuous-stream-of-output-from-a-terminal-with-perl", "title": "How to read a continuous stream of output from a terminal with perl", "body": "<p>I understand that <code>backticks</code> can be used for retrieving the output of a command after it has finished execution but I don't know how to read outputs as they come in while the command is still executing or how to do this with multiple terminals at the same time.</p>\n\n<p>The OS the script is runnning on is Ubuntu 17.04</p>\n"}, {"tags": ["regex", "perl", "multidimensional-array", "hash", "tabular"], "comments": [{"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1509457288, "post_id": 47036575, "comment_id": 81020055, "body": "I apologize for the edit. Apparently SO doesn&#39;t allow tab characters in posts. There is a <a href=\"https://meta.stackoverflow.com/a/275946/3600709\">workaround</a> to get the raw data, however."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1509458854, "post_id": 47036575, "comment_id": 81021169, "body": "It&#39;s unclear how the bit after the &#39;samples&#39; are to be parsed?"}, {"owner": {"reputation": 1979, "user_id": 2789312, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4OgOz.png?s=128&g=1", "display_name": "palik", "link": "https://stackoverflow.com/users/2789312/palik"}, "edited": false, "score": 0, "creation_date": 1509459497, "post_id": 47036575, "comment_id": 81021615, "body": "It seems to be a case for <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">Text::CSV</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1509461060, "post_id": 47036575, "comment_id": 81022748, "body": "Nah. <code>Text::CSV</code> is great if you&#39;ve got quoted fields and embedded linefeeds. It&#39;s overkill for simple delimters."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1509461034, "creation_date": 1509461034, "answer_id": 47038123, "question_id": 47036575, "link": "https://stackoverflow.com/questions/47036575/storing-table-in-data-structure-with-perl/47038123#47038123", "title": "Storing table in data structure with perl", "body": "<p>So a few points - if you're reading from a file specified on command line - an easy shorthand is:</p>\n\n<pre><code>while ( &lt;&gt; ) {\n</code></pre>\n\n<p>Which has perl <em>either</em> reading STDIN <em>or</em> files specified on command line. Exactly how you'd get with sed/grep.</p>\n\n<p>Second step - you can use hash slices to parse tab-separated date. </p>\n\n<p>So assuming you're looking at extracting just the CT_Mean:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy %results; \n\n#read header row\nchomp ( my @header = split /\\t/, &lt;&gt; ); \n#tidy up leading whitespace in the fields (there's some in your example data)\ns/^\\s+// for @header;\n#iterate the rest of STDIN or files on command line. \nwhile ( &lt;&gt; ) {\n   #remove trailing linefeed. \n   chomp;\n   #tidy up leading whitespace again. \n   s/^\\s+//g;\n\n   my %row;\n   #use hash slice to read key-value. \n   @row{@header} = split /\\t/;\n   #print for debug\n   print Dumper \\%row;\n\n   #skip the H2O lines. \n   next if $row{'Sample Name'} eq 'H2O';\n\n   #Cosmetic assignments - could rewrite to a single one\n   my $sample_name = $row{'Sample Name'};\n   my $ct_mean = $row{'Ct Mean'};\n   my $target_name = $row{'Target Name'};\n\n   $results{$sample_name}{$target_name} = $ct_mean; \n}\n\nprint Dumper \\%results;\n</code></pre>\n\n<p>Gives you:</p>\n\n<pre><code>$VAR1 = {\n          'Sample 2' =&gt; {\n                          'occludin' =&gt; '27,831',\n                          'actin' =&gt; '20,416',\n                          'claudin' =&gt; '25,611'\n                        },\n          'Sample 3' =&gt; {\n                          'occludin' =&gt; '34,556',\n                          'actin' =&gt; '24,213',\n                          'claudin' =&gt; '32,065'\n                        },\n          'Sample 1' =&gt; {\n                          'claudin' =&gt; '30,544',\n                          'occludin' =&gt; '31,183',\n                          'actin' =&gt; '20,514'\n                        }\n        };\n</code></pre>\n\n<p>(Note - hashes are explicitly unordered)</p>\n"}], "owner": {"reputation": 113, "user_id": 8159524, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c3d055c75d0873fb3c0b190620c9ab5?s=128&d=identicon&r=PG&f=1", "display_name": "ic23oluk", "link": "https://stackoverflow.com/users/8159524/ic23oluk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509465190, "creation_date": 1509456288, "last_edit_date": 1509465190, "question_id": 47036575, "link": "https://stackoverflow.com/questions/47036575/storing-table-in-data-structure-with-perl", "title": "Storing table in data structure with perl", "body": "<p>I am thinking of how to store the table below into a complex data structure, and which data structure to use. The input is a tab-separated text file, derived from Excel. Note that some cells are empty (in this case \"RQ Max\"). Here's the table:</p>\n\n<pre><code>Well    Sample Name Target Name RQ Max  Ct Mean\n1   Sample 1    actin       20,514\n2   Sample 1    claudin     30,544\n3   Sample 1    occludin        31,183\n25  Sample 1    actin       20,514\n26  Sample 1    claudin     30,544\n27  Sample 1    occludin        31,183\n49  Sample 2    actin       20,416\n50  Sample 2    claudin     25,611\n51  Sample 2    occludin        27,831\n73  Sample 2    actin       20,416\n74  Sample 2    claudin     25,611\n75  Sample 2    occludin        27,831\n97  Sample 3    actin       24,213\n98  Sample 3    claudin     32,065\n99  Sample 3    occludin        34,556\n194 H2O claudin     \n195 H2O occludin        \n217 H2O actin       \n218 H2O claudin     \n219 H2O occludin \n</code></pre>\n\n<p>and here is my code:</p>\n\n<pre><code>#! usr/bin/perl\nuse strict;\nuse warnings;\n\n\n# CHECK FOR CORRECT USAGE\nunless (@ARGV == 1){\n    die \"Usage: perl $0 \\\"file.txt\\\"\\n\";\n}\n\nmy $input = \"$ARGV[0]\";\n#chomp ($input);\n\nopen (READ, $input) || die \"Cannot open $input: $!\\n\";\n\nmy $line = '';\nmy %data;\nwhile ($line = &lt;READ&gt;){\n    chomp $line;\n    if ($line =~ m/^[0-9]/i);\n        $i++;\n        $data{\"$i\"} = [ split /\\t{1}/, $line ];\n    }\n}\n</code></pre>\n\n<p>As you can see, I am at the very beginning of my program, because I am not sure which structure to use. Actually I only need three columns of the entire table, which is \"Sample Name\", \"Target Name\" and \"Ct Mean\". As I later want to calculate something for each Sample, it might be helpful to have these as the keys. In a hash of hashes structure, I'd like to have the Target Names as the \"second keys\". Could somebody push me into the right direction? I'm currently struggling with the storing of the data, as I haven't used perl for a longer period...</p>\n\n<p>This is what I'd like to have in the end:</p>\n\n<pre><code>%data = (\n            Sample 1 =&gt; {\n                actin       =&gt; 20.514,\n                claudin     =&gt; 30.544,\n                occludin    =&gt; 31.183,\n            },\n            Sample 2 =&gt; {\n                    actin       =&gt; 20.416,\n                    claudin     =&gt; 25.611,\n                    occludin    =&gt; 27.831,\n                },\n                ...\n);\n</code></pre>\n"}, {"tags": ["c++", "perl", "command-prompt", "data-distribution-service", "opendds"], "comments": [{"owner": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1509454697, "post_id": 47035888, "comment_id": 81018226, "body": "Did you install ActiveState Perl first? What version of Visual Studio?"}, {"owner": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1509455539, "post_id": 47035888, "comment_id": 81018777, "body": "I had no trouble installing it in a developer command prompt using Visual Studio 2017 Community with Perl available."}, {"owner": {"reputation": 95, "user_id": 8415734, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-DjnnvQW76Zc/AAAAAAAAAAI/AAAAAAAAABo/lHDY2V2G5UI/photo.jpg?sz=128", "display_name": "\uc774\ub3d9\uc9c4", "link": "https://stackoverflow.com/users/8415734/%ec%9d%b4%eb%8f%99%ec%a7%84"}, "reply_to_user": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1509497674, "post_id": 47035888, "comment_id": 81040579, "body": "Yes I already installed ActiveState Perl. And I also use Visual Studio 2017 Community"}, {"owner": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1509498054, "post_id": 47035888, "comment_id": 81040659, "body": "Make sure you actually installed C++ with Visual Studio. It is easy to not install it. If it is installed then cl /? in the developer prompt should give you some output."}, {"owner": {"reputation": 95, "user_id": 8415734, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-DjnnvQW76Zc/AAAAAAAAAAI/AAAAAAAAABo/lHDY2V2G5UI/photo.jpg?sz=128", "display_name": "\uc774\ub3d9\uc9c4", "link": "https://stackoverflow.com/users/8415734/%ec%9d%b4%eb%8f%99%ec%a7%84"}, "reply_to_user": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1509594611, "post_id": 47035888, "comment_id": 81082545, "body": "When I type the message &quot;cl /?&quot; in VS prompt, prompt print &quot;c/c++ compiler option&quot;. I think it is no problem about my VS prompt."}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 8415734, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-DjnnvQW76Zc/AAAAAAAAAAI/AAAAAAAAABo/lHDY2V2G5UI/photo.jpg?sz=128", "display_name": "\uc774\ub3d9\uc9c4", "link": "https://stackoverflow.com/users/8415734/%ec%9d%b4%eb%8f%99%ec%a7%84"}, "edited": false, "score": 0, "creation_date": 1509812567, "post_id": 47101163, "comment_id": 81175465, "body": "When I type the message &quot;cl /?&quot; in VS prompt, prompt print &quot;version 19.00.24215.1&quot;. I think it is no problem about my VS prompt. But, I don&#39;t know why OpenDDS Colud not detect Visual C++ version."}, {"owner": {"reputation": 2841, "user_id": 596545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4726914ef76517e96e937ab607455?s=128&d=identicon&r=PG", "display_name": "Johnny Willemsen", "link": "https://stackoverflow.com/users/596545/johnny-willemsen"}, "reply_to_user": {"reputation": 95, "user_id": 8415734, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-DjnnvQW76Zc/AAAAAAAAAAI/AAAAAAAAABo/lHDY2V2G5UI/photo.jpg?sz=128", "display_name": "\uc774\ub3d9\uc9c4", "link": "https://stackoverflow.com/users/8415734/%ec%9d%b4%eb%8f%99%ec%a7%84"}, "edited": false, "score": 0, "creation_date": 1509902670, "post_id": 47101163, "comment_id": 81198964, "body": "It seems OpenDDS expects 19.1 as compiler output for Visual Studio 2017, have you installed all Visual Studio 2017 updates?"}], "tags": [], "owner": {"reputation": 2841, "user_id": 596545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4726914ef76517e96e937ab607455?s=128&d=identicon&r=PG", "display_name": "Johnny Willemsen", "link": "https://stackoverflow.com/users/596545/johnny-willemsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1509729334, "creation_date": 1509729334, "answer_id": 47101163, "question_id": 47035888, "link": "https://stackoverflow.com/questions/47035888/how-to-install-opendds-3-12-on-windows-system/47101163#47101163", "title": "How to install OpenDDS 3.12 on windows system", "body": "<p>You have to run configure from the Visual Studio command prompt. When it still gives the same error post the output of </p>\n\n<blockquote>\n  <p>cl /?</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 9978556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a00f2bb285c3d39f121f2bfe6aef069?s=128&d=identicon&r=PG&f=1", "display_name": "francois", "link": "https://stackoverflow.com/users/9978556/francois"}, "is_accepted": true, "score": 2, "last_activity_date": 1539035800, "last_edit_date": 1539035800, "creation_date": 1529674066, "answer_id": 50989037, "question_id": 47035888, "link": "https://stackoverflow.com/questions/47035888/how-to-install-opendds-3-12-on-windows-system/50989037#50989037", "title": "How to install OpenDDS 3.12 on windows system", "body": "<p>I encountered the same issue while I had my visual studio correctly installed. I figured out that the configure script of openDDS is checking the output of the cl.exe command and expect a compiler version displayed in English!. Mine was displayed in french, so it didn't work. I had to install the English package to get the visual studio command prompt in English. it worked after that.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10851171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dd659067a1520f7cc5bfef823a10184?s=128&d=identicon&r=PG&f=1", "display_name": "Safdar Sikander", "link": "https://stackoverflow.com/users/10851171/safdar-sikander"}, "is_accepted": false, "score": 0, "last_activity_date": 1546243799, "creation_date": 1546243799, "answer_id": 53985098, "question_id": 47035888, "link": "https://stackoverflow.com/questions/47035888/how-to-install-opendds-3-12-on-windows-system/53985098#53985098", "title": "How to install OpenDDS 3.12 on windows system", "body": "<p>VS2015 / VS2017 doesn't install c++ compiler by default. </p>\n\n<ul>\n<li>Modify VS VS2015 / VS2017 and select c++ compiler and install if VS VS2015 / VS2017 already install.</li>\n<li>configure </li>\n</ul>\n\n<p>Note: OpenDDS-3.12 will not build on VS 2012</p>\n"}], "owner": {"reputation": 95, "user_id": 8415734, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-DjnnvQW76Zc/AAAAAAAAAAI/AAAAAAAAABo/lHDY2V2G5UI/photo.jpg?sz=128", "display_name": "\uc774\ub3d9\uc9c4", "link": "https://stackoverflow.com/users/8415734/%ec%9d%b4%eb%8f%99%ec%a7%84"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 800, "favorite_count": 0, "accepted_answer_id": 50989037, "answer_count": 3, "score": 0, "last_activity_date": 1546243799, "creation_date": 1509454192, "last_edit_date": 1509497579, "question_id": 47035888, "link": "https://stackoverflow.com/questions/47035888/how-to-install-opendds-3-12-on-windows-system", "title": "How to install OpenDDS 3.12 on windows system", "body": "<p>I recently try to install OpenDDS-3.12 on my windows7 OS.</p>\n\n<p>But, it has make trouble.</p>\n\n<p>When I try to type <code>configure</code> on VS command prompt, it can't detect Visual C++ version!</p>\n\n<p>Error code is like this:</p>\n\n<pre><code>Colud not detect Visual C++ version, try running this script from\n the Visual Studio Command Prompt.\nStopped at configure line 410.\n</code></pre>\n\n<p>Somebody help me my problem.</p>\n\n<p>(Active perl version is 5.24.1, VS version is 2017)</p>\n"}, {"tags": ["python", "regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1509456227, "creation_date": 1509456227, "answer_id": 47036561, "question_id": 47033353, "link": "https://stackoverflow.com/questions/47033353/convert-reg-ex-across-all-files-in-folder/47036561#47036561", "title": "Convert reg-ex across all files in folder", "body": "<pre><code>perl -pi.bak -e's/FIXED\\(/FIXED_SET(setAll, /g' &lt;files&gt;\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 5151559, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0004195da11fb0300f7f0b028997aca7?s=128&d=identicon&r=PG&f=1", "display_name": "homeGrown", "link": "https://stackoverflow.com/users/5151559/homegrown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1509456227, "creation_date": 1509446486, "last_edit_date": 1509446788, "question_id": 47033353, "link": "https://stackoverflow.com/questions/47033353/convert-reg-ex-across-all-files-in-folder", "title": "Convert reg-ex across all files in folder", "body": "<p>I am a novice with reg-ex and would like to know how to convert the following in every c file in a folder.</p>\n\n<pre><code>#Before\nTEST_RESULTS *setAll = FIXED(TEST_VALUES_ONE);\n\n#After\nTEST_RESULTS *setAll = FIXED_SET(setAll, TEST_VALUES_ONE);\n</code></pre>\n\n<p>The only constant in this is <code>FIXED</code>, whereas the others are variables and will have different names throughout the files. One other thing some of the files with this expression cover two lines. Does that need to be different I guess? e.g.</p>\n\n<pre><code>TEST_RESULTS_TWO *setAllTwo =\n            FIXED(TEST_VALUES_ONE));\n</code></pre>\n\n<p>Preferably carried out in python/perl</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 1, "creation_date": 1509460343, "post_id": 47032849, "comment_id": 81022248, "body": "Can you post a <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> please? And fix the formatting, your post is hard to read."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8713367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f12e6a5dcae6017ead707868de4ecf0?s=128&d=identicon&r=PG&f=1", "display_name": "Nischitha ", "link": "https://stackoverflow.com/users/8713367/nischitha"}, "edited": false, "score": 0, "creation_date": 1509446824, "post_id": 47033117, "comment_id": 81013242, "body": "m getting thois error: Can&#39;t use an undefined value as a HASH reference"}], "tags": [], "owner": {"reputation": 769, "user_id": 2753071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31e555425bc10ffabad47e780f75fa76?s=128&d=identicon&r=PG&f=1", "display_name": "Avinash", "link": "https://stackoverflow.com/users/2753071/avinash"}, "is_accepted": false, "score": 0, "last_activity_date": 1509445838, "creation_date": 1509445838, "answer_id": 47033117, "question_id": 47032849, "link": "https://stackoverflow.com/questions/47032849/remove-bracket-inside-hash-in-perl/47033117#47033117", "title": "Remove bracket inside hash in perl", "body": "<p>your expected output doesn't make any sense to me but you can achieve it by change <code>push @{$hash{metrics}-&gt;{appOptions}},$appOptk;</code> to</p>\n\n<pre><code>${@{$hash{metrics}-&gt;{appOptions}}[0]-&gt;{$varName}} = $varValue;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": true, "score": 0, "last_activity_date": 1509457740, "last_edit_date": 1509457740, "creation_date": 1509456600, "answer_id": 47036669, "question_id": 47032849, "link": "https://stackoverflow.com/questions/47032849/remove-bracket-inside-hash-in-perl/47036669#47036669", "title": "Remove bracket inside hash in perl", "body": "<p>It would be easier to read if everything was in Perl. I think this is what you want.</p>\n\n<pre><code>$hash{metrics}{appOptions}[-1]{$varName} = $varValue;\n</code></pre>\n\n<p>Of course, you have to decide when a new array is added to the list.</p>\n\n<pre><code># add new array\npush @{$hash{metrics}{appOptions}}, {};\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8713367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f12e6a5dcae6017ead707868de4ecf0?s=128&d=identicon&r=PG&f=1", "display_name": "Nischitha ", "link": "https://stackoverflow.com/users/8713367/nischitha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 47036669, "answer_count": 2, "score": 0, "last_activity_date": 1509457740, "creation_date": 1509444980, "question_id": 47032849, "link": "https://stackoverflow.com/questions/47032849/remove-bracket-inside-hash-in-perl", "title": "Remove bracket inside hash in perl", "body": "<p>My program looks like this which is defined with hash:\nwhere $varname and $varValue are passed dynamically from the file:Below is my program:</p>\n\n<pre><code>$appOptk= {\n%hash{$varName}=&gt;$varValue,                                                                         \n                };\npush @{$hash{metrics}-&gt;{appOptions}},$appOptk;\n\n\nOutput of the program looks like this:\n\n\"metrics\": {\n            \"appOptions\": [{\n                    \"shell.common.report_default_significant_digits                \": \"4\"\n                }, {\n                    \"time.remove_clock_reconvergence_pessimism                     \": \"true\"\n                \"route.detail.hop_layers_to_fix_antenna \": \"true \"\n            }, {\n                \"clock_opt.flow.optimize_layers                                \": \"false\"\n            }, {\n                \"clock_opt.flow.skip_placement                                 \": \"true\"\n                }\n            ],\n</code></pre>\n\n<p>Can anyone please tell how to get below output by removing brackets inside the hash</p>\n\n<pre><code>\"metrics\": {\n\n            \"appOptions\": [{\n        \"shell.common.report_default_significant_digits             \": \"4\"\n    \"time.remove_clock_reconvergence_pessimism                    \": \"true\"\n            \"route.detail.hop_layers_to_fix_antenna \": \"true \"\n        \"clock_opt.flow.optimize_layers                           \": \"false\"\n    \"clock_opt.flow.skip_placement                                 \": \"true\"\n            ],\n</code></pre>\n"}, {"tags": ["javascript", "html", "perl", "cgi"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1509448798, "post_id": 47032546, "comment_id": 81014373, "body": "By &quot;the same value&quot; do you mean one has the value <code>&quot;http:&#47;&#47;google.com&quot;</code> and one has the value <code>&quot;&lt;a href=http:&#47;&#47;google.com&gt;http:&#47;&#47;google.com&lt;&#47;a&gt;</code> - because those are <b>not</b> the same! Are you asking how to parse HTML in Perl so you can extract the text content of the <code>&lt;a&gt;</code> element?"}, {"owner": {"reputation": 11, "user_id": 3302134, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64ecd7428d22a19c625f0489eae2703f?s=128&d=identicon&r=PG&f=1", "display_name": "user3302134", "link": "https://stackoverflow.com/users/3302134/user3302134"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1509449237, "post_id": 47032546, "comment_id": 81014618, "body": "By same value I mean, example - one is a scalar variable that has the value &quot;Foo Bar&quot;. <code>$var = &quot;Foo Bar&quot;;</code> and another is <code>$var2 = &lt;a href=http:&#47;&#47;google.com&gt;Foo Bar&lt;&#47;a&gt;</code>. So, if I was to print both of these in the browser using <code>print &quot;$var - $var2&quot;</code>, I would get <code>Foo Bar - Foo Bar</code>. But the only problem is, one is a text value and another is an anchor. So when I go to compare them using <code>if($var eq $var2){print &quot;hi&quot;}</code>, it doesn&#39;t return true."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 3, "creation_date": 1509449264, "post_id": 47032546, "comment_id": 81014633, "body": "Both are text values. One just has more text in it. Go and find an HTML parser library so you can extract the bit of text you care about from the HTML before you try to compare it to the other value."}, {"owner": {"reputation": 11, "user_id": 3302134, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64ecd7428d22a19c625f0489eae2703f?s=128&d=identicon&r=PG&f=1", "display_name": "user3302134", "link": "https://stackoverflow.com/users/3302134/user3302134"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1509449390, "post_id": 47032546, "comment_id": 81014708, "body": "I have added a picture in the question to show how it appears."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 3302134, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64ecd7428d22a19c625f0489eae2703f?s=128&d=identicon&r=PG&f=1", "display_name": "user3302134", "link": "https://stackoverflow.com/users/3302134/user3302134"}, "edited": false, "score": 0, "creation_date": 1509500240, "post_id": 47038900, "comment_id": 81041134, "body": "I am not defining the anchor tag within the same block I&#39;m running my if condition. The anchor tag is being read from the file as mentioned in the question. Because it is a cgi script, when <code>&lt;a href=http:&#47;&#47;google.com&gt;Variable&lt;&#47;a&gt;</code> from the file, it only outputs Variable. I have no way of using these methods since I am not explicitly defining the variable. However, I appreciate your help. The Perl FAQ sent me in the right direction, so thank you for that!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 11, "user_id": 3302134, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64ecd7428d22a19c625f0489eae2703f?s=128&d=identicon&r=PG&f=1", "display_name": "user3302134", "link": "https://stackoverflow.com/users/3302134/user3302134"}, "edited": false, "score": 0, "creation_date": 1509516387, "post_id": 47038900, "comment_id": 81045226, "body": "@user3302134: <i>I am not defining the anchor tag within the same block I&#39;m running my if condition</i> - I didn&#39;t say that you were. I just did it like that to make it easier to demonstrate what was going on. <i>The anchor tag is being read from the file as mentioned in the question</i> - I realise that. You made it very clear. But it has no impact on my answer. <i>I have no way of using these methods since I am not explicitly defining the variable</i> - That is not true."}, {"owner": {"reputation": 11, "user_id": 3302134, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64ecd7428d22a19c625f0489eae2703f?s=128&d=identicon&r=PG&f=1", "display_name": "user3302134", "link": "https://stackoverflow.com/users/3302134/user3302134"}, "edited": false, "score": 0, "creation_date": 1509570364, "post_id": 47038900, "comment_id": 81075491, "body": "I tried your first method and it did not work for me. However, I did not try with the <code>HTML::Strip</code> module since I am not using a private server, thus, that module is not installed. I trust that your second method works, however, because I had access to <code>HTML::FormatText</code> I used that method and wrote an answer for it."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 11, "user_id": 3302134, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64ecd7428d22a19c625f0489eae2703f?s=128&d=identicon&r=PG&f=1", "display_name": "user3302134", "link": "https://stackoverflow.com/users/3302134/user3302134"}, "edited": false, "score": 0, "creation_date": 1509577048, "post_id": 47038900, "comment_id": 81078096, "body": "@user3302134: My first method works. But unless you show us how you used it, we can&#39;t tell you what you are doing wrong :-)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1509532037, "last_edit_date": 1509532037, "creation_date": 1509463284, "answer_id": 47038900, "question_id": 47032546, "link": "https://stackoverflow.com/questions/47032546/converting-href-perl-variables-to-normal-scalar-variables/47038900#47038900", "title": "Converting href perl variables to normal scalar variables", "body": "<p>There is no such thing as an \"href variable\". You have two scalar variables. One contains plain text and the other contains HTML. Your task is to extract the text inside the HTML <code>&lt;a&gt;</code> tag from the HTML variable and to compare that text with the text from the plain text variable.</p>\n\n<p>One way to do that would be to remove the HTML from the HTML variable.</p>\n\n<pre><code>my $html = '&lt;a href=http://google.com&gt;Variable&lt;/a&gt;';\nmy $text = 'Variable';\n\n$html =~ s/&lt;.+?&gt;//g;\n\nif ($html eq $text) {\n  say \"Equal\";\n} else {\n  say \"Not Equal [$html/$text]\";\n}\n</code></pre>\n\n<p>But it cannot be emphasised enough that parsing HTML using a regular expression is very fragile and is guaranteed not to work in many cases. Far better to use a real HTML parser. <a href=\"https://metacpan.org/pod/HTML::Strip\" rel=\"nofollow noreferrer\">HTML::Strip</a> is made for this very purpose.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\nuse HTML::Strip;\n\nmy $html = '&lt;a href=http://google.com&gt;Variable&lt;/a&gt;';\nmy $text = 'Variable';\n\nmy $parser = HTML::Strip-&gt;new;\n$html = $parser-&gt;parse($html);\n\nif ($html eq $text) {\n  say \"Equal\";\n} else {\n  say \"Not Equal [$html/$text]\";\n}\n</code></pre>\n\n<p>It's also worth pointing out that this is answered in the <a href=\"https://perldoc.perl.org/perlfaq9.html#How-do-I-remove-HTML-from-a-string%3F\" rel=\"nofollow noreferrer\">Perl FAQ</a></p>\n\n<blockquote>\n  <p><strong>How do I remove HTML from a string?</strong></p>\n  \n  <p>Use HTML::Strip, or HTML::FormatText which not only removes HTML but\n  also attempts to do a little simple formatting of the resulting plain\n  text.</p>\n</blockquote>\n\n<p><strong>Update:</strong> In a comment, you say</p>\n\n<blockquote>\n  <p>I have no way of using these methods since I am not explicitly defining the variable.</p>\n</blockquote>\n\n<p>Which is clearly not true. How a variable is initialised has no bearing whatsoever on how you can use it.</p>\n\n<p>I assume your HTML text is in the variable <code>$from_picture</code>, so you would strip the HTML with code like this:</p>\n\n<pre><code>my $parser = HTML::Strip-&gt;new;\nmy $stripped = $parser-&gt;parse($from_picture);\n\nif($collect_zids{$key} eq $stripped){\n  print \"&lt;h1&gt;Hello&lt;/h1&gt;\";\n}\n</code></pre>\n\n<p>I have no idea where you got the idea that you couldn't use my solution because I was directly initialising the variables, where you were reading the data from a file. An important skill in programming is the ability to see through complex situations and extract the relevant details. It appears you need to do some more work in this area :-)</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1509534190, "post_id": 47047065, "comment_id": 81053588, "body": "*I was able to get the raw string that was being read, instead of it being interpreted as HTML&quot; - It&#39;s not a case of anything being &quot;interpreted&quot; as HTML. You have text that contains HTML mark-up. You need to remove that mark-up. That&#39;s what HTML::FormatText is doing for you (and HTML::Strip would have done exactly the same thing)."}], "tags": [], "owner": {"reputation": 11, "user_id": 3302134, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64ecd7428d22a19c625f0489eae2703f?s=128&d=identicon&r=PG&f=1", "display_name": "user3302134", "link": "https://stackoverflow.com/users/3302134/user3302134"}, "is_accepted": false, "score": 0, "last_activity_date": 1509501002, "creation_date": 1509501002, "answer_id": 47047065, "question_id": 47032546, "link": "https://stackoverflow.com/questions/47032546/converting-href-perl-variables-to-normal-scalar-variables/47047065#47047065", "title": "Converting href perl variables to normal scalar variables", "body": "<p>I found the answer using the Perl module <code>HTML::FormatText;</code></p>\n\n<pre><code>use HTML::FormatText;\nmy $formatter = HTML::FormatText-&gt;new();\nmy $string = HTML::FormatText-&gt;format_file(\"path_to_the_file\"); #$string variable to hold the result and the path must be for a file.\n</code></pre>\n\n<p>After using the <code>HTML::FormatText</code> module, I was able to get the raw string that was being read, instead of it being interpreted as HTML. So, I was getting <code>&lt;a href=http://google.com&gt;Variable&lt;/a&gt;</code> returned, instead of just <code>Variable</code>. After getting the raw string, I could use regex to extract the parts that I needed.</p>\n\n<p>Credit to - <a href=\"https://metacpan.org/pod/HTML::FormatText\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/HTML::FormatText</a></p>\n"}], "owner": {"reputation": 11, "user_id": 3302134, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64ecd7428d22a19c625f0489eae2703f?s=128&d=identicon&r=PG&f=1", "display_name": "user3302134", "link": "https://stackoverflow.com/users/3302134/user3302134"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1509532037, "creation_date": 1509444099, "last_edit_date": 1509449442, "question_id": 47032546, "link": "https://stackoverflow.com/questions/47032546/converting-href-perl-variables-to-normal-scalar-variables", "title": "Converting href perl variables to normal scalar variables", "body": "<p>I have these two variables that I am trying to compare. They both have the same value, however, one is a href variable - meaning, it's being read from a file like this </p>\n\n<pre><code>&lt;a href=http://google.com&gt;Variable&lt;/a&gt;\n</code></pre>\n\n<p>It's read like this, but displayed as an anchor tag in the browser, so when I go to compare a value using <code>print \"$collect_zids{$key} --&gt; $temp\";</code>I see in the browser as </p>\n\n<p>Variable --> <strong><a href=\"http://google.com\" rel=\"nofollow noreferrer\">Variable</a></strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/l5Yt0.png\" rel=\"nofollow noreferrer\">How it appears in the browser. One text another link.</a></p>\n\n<p>I'm assuming these two values are different hence why this code does not run</p>\n\n<pre><code>if($collect_zids{$key} eq $from_picture){\n    print \"&lt;h1&gt;Hello&lt;/h1&gt;\";\n}\n</code></pre>\n\n<p>Is there a way I can convert the href variable into a normal scalar variable so that I can compare them?</p>\n\n<p>Thanks!</p>\n\n<p>P.S. I think Javascript might be the only way, however, I don't have any experience with it.</p>\n"}, {"tags": ["perl", "timeout", "kill-process", "backticks"], "comments": [{"owner": {"reputation": 2496, "user_id": 2469275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b7EZh.png?s=128&g=1", "display_name": "janh", "link": "https://stackoverflow.com/users/2469275/janh"}, "edited": false, "score": 0, "creation_date": 1509440970, "post_id": 47031401, "comment_id": 81009522, "body": "Maybe it&#39;s easier to not do this in perl but use the <code>timeout</code> command instead?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1509505805, "post_id": 47031401, "comment_id": 81042522, "body": "Easiest with <a href=\"http://search.cpan.org/perldoc?IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a>"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1509441270, "creation_date": 1509441270, "answer_id": 47031700, "question_id": 47031401, "link": "https://stackoverflow.com/questions/47031401/perl-implement-timeout-kill-for-process-invoked-via-backticks/47031700#47031700", "title": "Perl : Implement timeout (&amp; kill) for process invoked via backticks", "body": "<p>Don't run the command with backticks, and use <code>open</code> instead. For bonus points - use <code>IO::Select</code> and <code>can_read</code> to see if you've got any output:</p>\n\n<pre><code>use IO::Select; \nmy $pid = open ( my $output_fh, '-|', 'ls -lrt' );\nmy $select = IO::Select -&gt; new ( $output_fh ); \nwhile ( $select -&gt; can_read ( 5 ) ) { \n    my $line = &lt;$output_fh&gt;;\n    print \"GOT: $line\"; \n}\n##timed out after 5s waiting.  \nkill 15, $pid;\n</code></pre>\n"}], "owner": {"reputation": 695, "user_id": 2178956, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6efb8df1c31a08f8eb04b075170fd1f5?s=128&d=identicon&r=PG", "display_name": "Soumya", "link": "https://stackoverflow.com/users/2178956/soumya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1509441848, "creation_date": 1509440314, "question_id": 47031401, "link": "https://stackoverflow.com/questions/47031401/perl-implement-timeout-kill-for-process-invoked-via-backticks", "title": "Perl : Implement timeout (&amp; kill) for process invoked via backticks", "body": "<p>I am trying to implement a routine which will take in a \"command\" and associated \"timeout\". \nIf the command completes within the specified time, it should return the output.\nOr else - it should kill the process.</p>\n\n<pre><code>sub runWithTimeout {\n\n   my ($pCommand,$pTimeOut) = @_;\n   my (@aResult);\n\n   print \"Executing command [$pCommand] with timeout [$pTimeOut] sec/s \\n\";\n   eval {\n        local $SIG{ALRM} = sub { die \"alarm\\n\" };\n        alarm $pTimeOut;\n        @aResult = `$pCommand`;\n        alarm 0;\n   };\n   if ($@) {\n        print(\"Command [$pCommand] timed out\\n\");\n        # Need to kill the process.However I don't have the PID here.\n        # kill -9 pid\n    } else {\n        print \"Command completed\\n\";\n        #print Dumper(\\@aResult);\n    }\n}\n</code></pre>\n\n<p>Sample Invocation : </p>\n\n<pre><code>&amp;runWithTimeout('ls -lrt',5);\n\nExecuting command [ls -lrt] with timeout [5] sec/s \nCommand completed\n\n\n&amp;runWithTimeout('sleep 10;ls -lrt',5);\n\nExecuting command [sleep 10;ls -lrt] with timeout [5] sec/s \nCommand [sleep 10;ls -lrt] timed out\n</code></pre>\n\n<p>Guess if I have the PID with me - I can use \"kill\" on the PID in the if block.</p>\n\n<p>Any pointer on how can I get the PID(or any other better approach) - it would be a great help.</p>\n"}, {"tags": ["perl", "terminal"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1509413164, "post_id": 47026157, "comment_id": 81000254, "body": "Which OS? ? ? ?"}, {"owner": {"reputation": 127, "user_id": 8312588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f526528e96c1fc2f91e923f2d82fc7e9?s=128&d=identicon&r=PG&f=1", "display_name": "leopardsticks", "link": "https://stackoverflow.com/users/8312588/leopardsticks"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1509414022, "post_id": 47026157, "comment_id": 81000450, "body": "I&#39;m running Ubuntu"}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 8312588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f526528e96c1fc2f91e923f2d82fc7e9?s=128&d=identicon&r=PG&f=1", "display_name": "leopardsticks", "link": "https://stackoverflow.com/users/8312588/leopardsticks"}, "edited": false, "score": 0, "creation_date": 1509416483, "post_id": 47026182, "comment_id": 81000986, "body": "This does allow me to run more code before a terminal command has finished but I still need to be able to run each command in its own separate terminal"}], "tags": [], "owner": {"reputation": 318, "user_id": 2519491, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fd168e3abd991d6c6d83109997eef665?s=128&d=identicon&r=PG", "display_name": "hahahakebab", "link": "https://stackoverflow.com/users/2519491/hahahakebab"}, "is_accepted": true, "score": 3, "last_activity_date": 1509417363, "last_edit_date": 1509417363, "creation_date": 1509409679, "answer_id": 47026182, "question_id": 47026157, "link": "https://stackoverflow.com/questions/47026157/how-to-open-several-active-terminals-with-perl/47026182#47026182", "title": "How to open several active terminals with perl", "body": "<p>You just need to add \"&amp;\" at the end of the call to not wait for the process to complete. e.g.</p>\n\n<pre><code>system \"get_mail &amp;\";\n</code></pre>\n\n<p>More information can be found <a href=\"http://www.perlmonks.org/bare/?node_id=22764\" rel=\"nofollow noreferrer\">Here</a></p>\n\n<p>EDIT:\nAfter understanding what exactly you want, try this command:</p>\n\n<pre><code>system(\"gnome-terminal -e yourcommand &amp;\");\n</code></pre>\n\n<p>This will create a new terminal and run the command given. You can use this as many times to create as many windows you wish.</p>\n\n<p>Depending on your OS you may need to change 'gnome-terminal' to what is needed.</p>\n"}], "owner": {"reputation": 127, "user_id": 8312588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f526528e96c1fc2f91e923f2d82fc7e9?s=128&d=identicon&r=PG&f=1", "display_name": "leopardsticks", "link": "https://stackoverflow.com/users/8312588/leopardsticks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "accepted_answer_id": 47026182, "answer_count": 1, "score": 3, "last_activity_date": 1509417363, "creation_date": 1509409466, "question_id": 47026157, "link": "https://stackoverflow.com/questions/47026157/how-to-open-several-active-terminals-with-perl", "title": "How to open several active terminals with perl", "body": "<p>In my Perl script I need to open several terminals at the same time which will all be actively outputting information. </p>\n\n<p>I can use the <code>system</code> function to run one terminal but the problem is that the script then waits for that terminal to finish executing before moving on and opening the next terminal whereas I need every terminal to be running concurrently and not consecutively.</p>\n"}, {"tags": ["perl", "reference"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1509408149, "post_id": 47025968, "comment_id": 80999116, "body": "The <code>.._hashref</code> returns a hash <i>reference</i>, not a hash; you need to assign it to a scalar, say <code>$data</code>.  Then <code>$stash-&gt;{hashdata} = $data</code> is the same as <code>$stash-&gt;{stashdata} = $sth-&gt;...</code>"}, {"owner": {"reputation": 147, "user_id": 8469861, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qMnAc.jpg?s=128&g=1", "display_name": "bailey.bailey", "link": "https://stackoverflow.com/users/8469861/bailey-bailey"}, "edited": false, "score": 0, "creation_date": 1509408699, "post_id": 47025968, "comment_id": 80999255, "body": "Sorry, incorrectly typed the question I&#39;m just asking for knowledge on how the language handles this scenario not for syntax concerns. Thanks though!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1509418231, "post_id": 47025968, "comment_id": 81001378, "body": "Alright, and you got the answer.  My first comment applies equally to the changed question -- <code>{ ... }</code> is a hash <i>reference</i> (just like the return of the <code>fetch_hashref</code> was in the original question) and not a hash -- so you need to assign it to a scalar, and then the first bit is the same as the second one."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1509418356, "post_id": 47025968, "comment_id": 81001408, "body": "One other upshot from the detailed answer you got: always have <code>use warnings;</code> (and <code>use strict;</code>) at the top of your programs."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1509425140, "post_id": 47025968, "comment_id": 81003057, "body": "Re &quot;<i>I&#39;m just unsure if it $stash-&gt;{hashdata} automatically becomes a reference</i>&quot;, Both <code>\\%data</code> and <code>{ }</code> return a reference to a hash, so yes."}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1509408912, "creation_date": 1509408912, "answer_id": 47026094, "question_id": 47025968, "link": "https://stackoverflow.com/questions/47025968/assigning-array-hash-to-data-structure-with-arrow-operator-perl/47026094#47026094", "title": "Assigning array/hash to data structure with arrow operator. Perl", "body": "<p><code>{ ... }</code> is the syntax for a hash reference (similarly, <code>[ ... ]</code> is for array references).</p>\n\n<p>When you assign something to a hash, it is interpreted as a list of alternating keys/values. If the list has an odd number of elements (such as 1), you get this warning:</p>\n\n<pre><code>Odd number of elements in hash assignment at ...\n</code></pre>\n\n<p>... unless it's only a single value that is a reference, in which case you get:</p>\n\n<pre><code>Reference found where even-sized list expected at ...\n</code></pre>\n\n<p>In any case, the last element is interpreted as a key with a corresponding value of <code>undef</code>.</p>\n\n<p>Thus, if you try to assign a reference to a hash:</p>\n\n<pre><code>my %data = { ... };\n</code></pre>\n\n<p>A warning is emitted and the code behaves as if you had written:</p>\n\n<pre><code>my %data = ({ ... } =&gt; undef);\n</code></pre>\n\n<p>Hash keys are always strings, so the reference is implicitly stringified, yielding something like <code>\"HASH(0xdeadbeef)\"</code>:</p>\n\n<pre><code>my %data = ('HASH(0xdeadbeef)' =&gt; undef);\n</code></pre>\n\n<p>This is never what you want.</p>\n\n<hr>\n\n<p>The equivalent of </p>\n\n<pre><code>$stash-&gt;{hashdata} = { thing =&gt; 1, otherthing =&gt; 2 };\n</code></pre>\n\n<p>with a named hash would look like:</p>\n\n<pre><code>my %data = ( thing =&gt; 1, otherthing =&gt; 2 );\n$stash-&gt;{hashdata} = \\%data;\n</code></pre>\n\n<p>Note: There is no reference in the first line. We're assigning a plain list to <code>%data</code>.</p>\n\n<p>In fact, you can think of <code>{ LIST }</code> as syntactic sugar for:</p>\n\n<pre><code>do { my %tmp = LIST; \\%tmp }\n</code></pre>\n\n<p>The block limits the scope of <code>%tmp</code> to this location in the code; the <code>do</code> keyword turns the block into an expression that returns the result of the last statement in the block.</p>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1509457045, "creation_date": 1509457045, "answer_id": 47036808, "question_id": 47025968, "link": "https://stackoverflow.com/questions/47025968/assigning-array-hash-to-data-structure-with-arrow-operator-perl/47036808#47036808", "title": "Assigning array/hash to data structure with arrow operator. Perl", "body": "<p>This is an error.</p>\n\n<pre><code>my %data = { thing =&gt; 1, otherthing =&gt; 2 };\n</code></pre>\n\n<p>It should be.</p>\n\n<pre><code>my %data = ( thing =&gt; 1, otherthing =&gt; 2 );\n</code></pre>\n\n<p>What is the difference between these two?</p>\n\n<pre><code>$stash-&gt;{hashdata} = \\%data;\n$stash-&gt;{hashdata} = { thing =&gt; 1, otherthing =&gt; 2 };\n</code></pre>\n\n<p>The first one means any changes to <code>%data</code> will also happen in <code>$stash-&gt;{hashdata}</code> and vice versa, because it has a reference to <code>%data</code>.</p>\n\n<p>The second means <code>%data</code> and <code>$stash-&gt;{hashdata}</code> are independent. Changes in one will not happen in the other.</p>\n\n<p>Yes, there is a <strong>big difference between the two.</strong></p>\n"}], "owner": {"reputation": 147, "user_id": 8469861, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qMnAc.jpg?s=128&g=1", "display_name": "bailey.bailey", "link": "https://stackoverflow.com/users/8469861/bailey-bailey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "accepted_answer_id": 47026094, "answer_count": 2, "score": 1, "last_activity_date": 1509457045, "creation_date": 1509407996, "last_edit_date": 1509408645, "question_id": 47025968, "link": "https://stackoverflow.com/questions/47025968/assigning-array-hash-to-data-structure-with-arrow-operator-perl", "title": "Assigning array/hash to data structure with arrow operator. Perl", "body": "<p>Just asking because i can't find the answer I'm looking for...\nWhat is the difference between these lines, I'm under the assumption that there isn't a difference.</p>\n\n<p>I'm just unsure if it $stash->{hashdata} automatically becomes a reference.</p>\n\n<pre><code>my %data = { thing =&gt; 1, otherthing =&gt; 2 };\n$stash-&gt;{hashdata} = \\%data;\n\n\n$stash-&gt;{hashdata} = { thing =&gt; 1, otherthing =&gt; 2 };\n</code></pre>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1509401475, "post_id": 47024898, "comment_id": 80997041, "body": "I haven&#39;t tried myself, but think you got a better chance by installing perl and GnuPG::Interface on <a href=\"http://cygwin.org\" rel=\"nofollow noreferrer\">cygwin.org</a> or <a href=\"http://mingw.org\" rel=\"nofollow noreferrer\">mingw.org</a> The error message you got implies that it need the <code>which</code> and <code>gpg</code> commands."}, {"owner": {"reputation": 23, "user_id": 8859027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dda42fb09733b43db160a8a31afdef0?s=128&d=identicon&r=PG&f=1", "display_name": "jacko238", "link": "https://stackoverflow.com/users/8859027/jacko238"}, "reply_to_user": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1509472071, "post_id": 47024898, "comment_id": 81030032, "body": "I used cygwin and it compiled correctly. thank you."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 1, "last_activity_date": 1509464241, "last_edit_date": 1509464241, "creation_date": 1509463335, "answer_id": 47038913, "question_id": 47024898, "link": "https://stackoverflow.com/questions/47024898/how-to-install-gnupginterface-perl-module-on-windows/47038913#47038913", "title": "how to install GnuPG::Interface perl module on windows?", "body": "<p><a href=\"https://metacpan.org/source/ALEXMV/GnuPG-Interface-0.52/Makefile.PL#L6\" rel=\"nofollow noreferrer\">This line in <code>Makefile.PL</code></a>:</p>\n\n<pre><code>system(\"which\", \"gpg\");\ndie \"gpg (GnuPG) not found\" if ( $? != 0 );\n</code></pre>\n\n<p>is attempting to check if <code>gpg</code> exists in your <code>%PATH%</code> but since you do not have the standard *nix utility <code>which</code>, it fails. You can install Perl's <a href=\"https://metacpan.org/pod/App::pwhich\" rel=\"nofollow noreferrer\">App::pwhich</a> and replace that line with <code>system(\"pwhich\", \"gpg\");</code> if you want or, if you know that <code>gpg</code> is in your <code>%PATH%</code>, delete that line from <code>Makefile.PL</code> entirely.</p>\n\n<p>Alternatively, you can install <a href=\"https://git-scm.com/download/win\" rel=\"nofollow noreferrer\">Git for Windows</a> which will provide both <code>which</code> and <code>gpg</code> along with <code>perl 5.24.1</code>.</p>\n\n<p>If one were to rewrite this <code>Makefile.PL</code> from scratch, I would recommend using <a href=\"https://metacpan.org/pod/File::Which\" rel=\"nofollow noreferrer\">File::Which</a> to check for all locations on your <code>%PATH%</code> where a <code>gpg</code> executable exists.</p>\n"}], "owner": {"reputation": 23, "user_id": 8859027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dda42fb09733b43db160a8a31afdef0?s=128&d=identicon&r=PG&f=1", "display_name": "jacko238", "link": "https://stackoverflow.com/users/8859027/jacko238"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "accepted_answer_id": 47038913, "answer_count": 1, "score": 0, "last_activity_date": 1509464241, "creation_date": 1509400990, "question_id": 47024898, "link": "https://stackoverflow.com/questions/47024898/how-to-install-gnupginterface-perl-module-on-windows", "title": "how to install GnuPG::Interface perl module on windows?", "body": "<p>When I try to do this : cpan install GnuPG::Interface\neither on Strawberry or Activeperl ( windows ) I get this error : \nI use last perl version available 5.26.1.1</p>\n\n<pre><code>CPAN: File::Temp loaded ok (v0.2304)\nCPAN: YAML::XS loaded ok (v0.66)\nCPAN: CPAN::Meta::Requirements loaded ok (v2.140)\nCPAN: Parse::CPAN::Meta loaded ok (v2.150010)\nCPAN: CPAN::Meta loaded ok (v2.150010)\nCPAN: Module::CoreList loaded ok (v5.20170821)\nConfiguring A/AL/ALEXMV/GnuPG-Interface-0.52.tar.gz with Makefile.PL\nwhich gpg ... 'which' is not recognized as an internal or external command,\noperable program or batch file.\ngpg (GnuPG) not found at Makefile.PL line 7.\n Warning: No success on command[C:\\Perl64\\bin\\perl.exe Makefile.PL INSTALLDIRS=si\nte]\n   ALEXMV/GnuPG-Interface-0.52.tar.gz\n   C:\\Perl64\\bin\\perl.exe Makefile.PL INSTALLDIRS=site -- NOT OK\n</code></pre>\n\n<p>Any tip ? Im actually trying to install Mail::GnuPG but GnuPG::Interface is required.\nthank you</p>\n"}, {"tags": ["perl", "hashtable"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1509395228, "post_id": 47023600, "comment_id": 80994291, "body": "You want a HoA? Seems like an AoH would make more sense."}, {"owner": {"reputation": 119, "user_id": 7322704, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/966d59492d819d6674f055dbbb9eb6fd?s=128&d=identicon&r=PG&f=1", "display_name": "PatStarks", "link": "https://stackoverflow.com/users/7322704/patstarks"}, "edited": false, "score": 0, "creation_date": 1509397956, "post_id": 47023600, "comment_id": 80995574, "body": "Does AoH stand for Array of Hashes?  I just want a table or matrix to hold these values.  I am not sure what it is called in perl.  Nevertheless, what is syntax for pushing these tables into a Perl AoH?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1509398030, "post_id": 47023600, "comment_id": 80995602, "body": "There&#39;s no such thing as a &quot;table&quot; or a &quot;matrix&quot; in Perl, only arrays and hashes. My question stands; we have no idea what you want."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509406026, "post_id": 47023600, "comment_id": 80998562, "body": "What do you want to do with your data after you stored it in your data structure? That is important to give you advice on what data structure to use and how to get it in."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1509457207, "post_id": 47023600, "comment_id": 81020002, "body": "What is the keys of the hash? How do you plan to access the hash?  If you don&#39;t know what the keys are, then you can&#39;t use a hash."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1509398087, "creation_date": 1509398087, "answer_id": 47024263, "question_id": 47023600, "link": "https://stackoverflow.com/questions/47023600/how-to-create-a-hash-from-multiple-arrays-in-perl/47024263#47024263", "title": "How to Create a Hash from Multiple Arrays in Perl", "body": "<blockquote>\n  <p><em>I ultimately want a list of all the node numbers with condition where Ycoordinate == 0 and Zcoordinate == 0.</em></p>\n</blockquote>\n\n<pre><code>my $qfn = 'xyzNodeCoords.lis';\n\nopen(my $fh, '&lt;', $qfn)\n   or die(\"Can't open \\\"$qfn\\\": $!\\n\");\n\nmy @list;\nwhile (&lt;$fh&gt;) {\n   s/^\\s+//;\n   my ($node, $x, $y, $z) = split;\n   push @list, $node if $y == 0 &amp;&amp; $z == 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 7322704, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/966d59492d819d6674f055dbbb9eb6fd?s=128&d=identicon&r=PG&f=1", "display_name": "PatStarks", "link": "https://stackoverflow.com/users/7322704/patstarks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 47024263, "answer_count": 1, "score": -2, "last_activity_date": 1509398087, "creation_date": 1509395049, "question_id": 47023600, "link": "https://stackoverflow.com/questions/47023600/how-to-create-a-hash-from-multiple-arrays-in-perl", "title": "How to Create a Hash from Multiple Arrays in Perl", "body": "<p>I have a text file exported from Ansys which contains four columns (NodeNumber, Xcoordinate, Ycoordinate, and Zcoordinate).  I would like to take the contents of this text file and create a hash table in perl.  I am able to create an array for each value in the columns through a regular expression, but my question is how can I take these arrays and put them in a hash table?  I ultimately want a list of all the node numbers with condition where Ycoordinate == 0 and Zcoordinate == 0.</p>\n\n<p>Here is my code below:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Cwd;\n\nuse lib \"C:/begperl\";\nuse BeginPerlBioinfo;\n\nopen (MYINPUTFILE, \"&lt;xyzNodeCoords.lis\");\n\nmy @XYZcoordData = &lt;MYINPUTFILE&gt;;\nmy @NodeNumber;\nmy @xCoord;\nmy @yCoord;\nmy @zCoord;\n\n\nforeach (@XYZcoordData)\n{\n    if($_ =~ m/^\\s+(\\d+)\\s+(\\S+)\\s+(\\S+)\\s+(\\S+)/i)\n    {\n        push(@NodeNumber,$1);\n        push(@xCoord,$2);\n        push(@yCoord,$3);\n        push(@zCoord,$4);\n    }\n\n}\n\nexit(0);\n</code></pre>\n\n<p>How can I take four arrays above (@NodeNumber, @xCoord, @yCoord, @zCoord) and push them into a table?  The NodeNumber value is unique so it shall be used as a primary key.</p>\n"}, {"tags": ["perl", "mojolicious"], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1509389897, "creation_date": 1509389897, "question_id": 47022426, "link": "https://stackoverflow.com/questions/47022426/how-to-use-route-name-of-mounted-application-in-link-to-helper", "title": "How to use route name of mounted application in link_to helper?", "body": "<p>I can mount application in Mojolicious like this:</p>\n\n<pre><code>$r-&gt;under( '/as_user/:user_id' )-&gt;route('/')-&gt;detour( 'App' );\n</code></pre>\n\n<p>Also I know that mounted application <code>App</code> has <code>show_package</code> route.</p>\n\n<p><strong>How to use this route name in <code>link_to</code> helper?</strong></p>\n\n<p>Next example will render host application route instead of mounted:</p>\n\n<pre><code>%= link_to 'Slave App package' =&gt; 'show_package', { user_id =&gt; 7, id =&gt; 32 };\n</code></pre>\n\n<p>This will render link to: <code>/packages/32</code> but I want <code>/as_user/7/packages/32</code></p>\n"}, {"tags": ["perl", "perl-module", "perl-exporter"], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1509378243, "post_id": 47018947, "comment_id": 80985010, "body": "Please don&#39;t use indirect object notation. <code>import Foo $bar</code> is better written as <code>Foo-&gt;import($bar)</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1509379423, "post_id": 47018947, "comment_id": 80985826, "body": "@melpomene, <code>import</code> is documented as an operator, and it doesn&#39;t work like other method calls. (It doesn&#39;t fail if the method doesn&#39;t exist.)  I don&#39;t see you going around telling people not to use <code>print STDERR ...;</code>"}, {"owner": {"reputation": 1080, "user_id": 6077215, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2ba25df799998565664260f69e149858?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey", "link": "https://stackoverflow.com/users/6077215/alexey"}, "edited": false, "score": 0, "creation_date": 1509380053, "post_id": 47018947, "comment_id": 80986227, "body": "@ikegami, thanks a lot! This clarifies all the mess in my head )"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1509380412, "post_id": 47018947, "comment_id": 80986429, "body": "@ikegami The difference is that <code>print</code> is a (built-in) operator while <code>import</code> is just a subroutine: <code>perl -we &#39;sub import; import Foo&#39;</code> does a normal function call, <code>import(Foo)</code>. You&#39;re right that <code>import</code> is a special method (calls to it don&#39;t fail if the method can&#39;t be found), but nevertheless it is just a user-defined method."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1509380517, "post_id": 47018947, "comment_id": 80986474, "body": "@ikegami While <code>import</code> is documented in perlfunc, it says \u201cThere is no builtin import function. It is just an ordinary method\u201d.  The <code>import</code> method is always inherited from UNIVERSAL in which case this method returns immediately (from the UNIVERSAL source: \u201cThe existence of import() below is an historical accident that can&#39;t be fixed without breaking code\u201d). It is certainly not magic, just a specially named method expected by the <code>use</code> operator."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 1, "creation_date": 1509382037, "post_id": 47018947, "comment_id": 80987314, "body": "@amon, The passage you quoted (&quot;It is just an ordinary method&quot;) is demonstrably wrong, as I already mentioned. (e.g. <code>perl -e&#39;__PACKAGE__-&gt;import; __PACKAGE__-&gt;importx&#39;</code>) <code>import</code> IS very magical, and this SHOULD be made obvious to the reader. Your claim that <code>import</code> is inherited from UNIVERSAL is false. (e.g. <code>perl -E&#39;say for keys %UNIVERSAL::&#39;</code>.) The way I see it, I&#39;m using the <code>import</code> operator, which may call the <code>import</code> method."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1509382558, "post_id": 47018947, "comment_id": 80987608, "body": "@ikegami Thanks for that clarification. It seems <a href=\"https://github.com/Perl/perl5/blob/v5.26.0/gv.c#L1083\" rel=\"nofollow noreferrer\">the <code>gv_fetchmethod_*()</code> function treats calls to <code>import</code> and <code>unimport</code> methods specially</a>. Your interpretation of <code>import</code> as an operator makes sense since it has special semantics, even though there&#39;s no <code>import</code> keyword. Apparently UNIVERSAL.pm is just a dummy that should never be loaded, thus being a red herring."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1509457440, "post_id": 47018947, "comment_id": 81020159, "body": "A note for <code>$RealBin</code>: it will not break the script if there is a symbolic link in its path. That&#39;s what <code>$RealBin</code> is for."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1509377973, "last_edit_date": 1509377973, "creation_date": 1509377387, "answer_id": 47018947, "question_id": 47018844, "link": "https://stackoverflow.com/questions/47018844/using-module-in-the-same-directory-undefined-subroutine-called-at/47018947#47018947", "title": "Using module in the same directory. &quot;Undefined subroutine called at&quot;", "body": "<pre><code>use test_utils qw( :ALL );\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>BEGIN {\n   require test_utils;\n   import test_utils qw( :ALL );\n}\n</code></pre>\n\n<p>but you want</p>\n\n<pre><code>BEGIN {\n   require test_utils;\n   import TestUtils qw( :ALL );\n}\n</code></pre>\n\n<p>Use the same name for the file and the package to avoid this problem.</p>\n\n<hr>\n\n<p>By the way, you should replace</p>\n\n<pre><code>use File::Basename qw( dirname );\nuse lib dirname(__FILE__);\n</code></pre>\n\n<p>with</p>\n\n<pre><code>use Cwd qw( abs_path );\nuse File::Basename qw( dirname );\nuse lib dirname(abs_path(__FILE__));\n</code></pre>\n\n<p>or simply</p>\n\n<pre><code>use FindBin qw( $RealBin );\nuse lib $RealBin;\n</code></pre>\n\n<p>Your version will break if a symlink to the script is used.</p>\n"}], "owner": {"reputation": 1080, "user_id": 6077215, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2ba25df799998565664260f69e149858?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey", "link": "https://stackoverflow.com/users/6077215/alexey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 995, "favorite_count": 1, "accepted_answer_id": 47018947, "answer_count": 1, "score": 0, "last_activity_date": 1509377973, "creation_date": 1509377051, "question_id": 47018844, "link": "https://stackoverflow.com/questions/47018844/using-module-in-the-same-directory-undefined-subroutine-called-at", "title": "Using module in the same directory. &quot;Undefined subroutine called at&quot;", "body": "<p>I have <strong>test_utils.pm</strong>:</p>\n\n<pre><code>package TestUtils;\nuse strict;\nuse warnings;\n\nuse Exporter 'import';\nour @EXPORT = qw / print_diagnostic /;\n\nsub print_diagnostic { &lt;some_code_here&gt; }\n</code></pre>\n\n<p>And I'd like to call <code>print_diagnostic</code> from my main script <strong>tester.pl</strong> which is located in the same folder (I've used <a href=\"https://stackoverflow.com/a/7446317/6077215\">this solution</a>):</p>\n\n<pre><code>#!/usr/bin/perl\nuse lib dirname (__FILE__);\nuse test_utils qw (:ALL);\n\nprint_diagnostic(&lt;some_message&gt;);\n</code></pre>\n\n<p>The problem is that I'm getting</p>\n\n<blockquote>\n  <p>Undefined subroutine &amp;main::print_diagnostic called at ...</p>\n</blockquote>\n\n<p>Calling the function with explicit package name <code>TestUtils::print_diagnostic</code> works fine, but for various reasons I do want to call it w/o such a prefix.</p>\n\n<pre><code>use test_utils qw(print_diagnostic);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>require test_utils;\n</code></pre>\n\n<p>yields the same results.</p>\n\n<p>I've dug over few scores of similar questions, tried the answers and \"solutions\", but all that doesn't seem to work for me, and I'm getting really confused with all that \"export\", \"import\" and all the things around it, that I can't seize these concepts, so counterintuitive, comparing C++ and Java.</p>\n\n<p>All what I want to do, is to split very complex scripts into several modules and reuse the code (now there is a lot of duplication).</p>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1510250207, "last_edit_date": 1510250207, "creation_date": 1509380120, "answer_id": 47019814, "question_id": 47017941, "link": "https://stackoverflow.com/questions/47017941/how-to-login-with-user-but-still-stay-admin/47019814#47019814", "title": "How to login with user but still stay admin?", "body": "<p>Seems I found the answer:</p>\n\n<pre><code>$r-&gt;under( '/as_user/:user_id', sub{\n    # FIX THE SESSION HERE. Just like:\n    # $_[0]-&gt;session-&gt;{ user_id } =  _[0]-&gt;match-&gt;stack-&gt;[-1]-&gt;{ user_id };\n    return 1; # Required to not break the dispatch chain\n})-&gt;route('/')-&gt;detour( 'App' );\n</code></pre>\n\n<p>Instead of application instance you should pass application class and Mojolicious will instantiate it itself.</p>\n\n<p>PS. Infinite loop maybe because of cyclic refs. (But Mojolicious check refs <a href=\"https://metacpan.org/source/SRI/Mojolicious-7.49/lib/Mojolicious/Routes.pm#L101\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<p><strong>UPD</strong> \nInfinite loop because of <a href=\"https://github.com/kraih/mojo/issues/1148\" rel=\"nofollow noreferrer\">bug</a></p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1510250207, "creation_date": 1509374258, "question_id": 47017941, "link": "https://stackoverflow.com/questions/47017941/how-to-login-with-user-but-still-stay-admin", "title": "How to login with user but still stay admin?", "body": "<p>I want to implement feature when operator/admin may login as user. Do something under user's credentials and then return back and continue as operator/admin</p>\n\n<p>I try to mount whole application under <code>/as_user/:user_id</code> route. So when request come I adjust session to <code>:user_id</code>.</p>\n\n<p>I try <a href=\"https://metacpan.org/pod/Mojolicious::Routes::Route#detour\" rel=\"nofollow noreferrer\"><code>detour</code></a></p>\n\n<pre><code>$app-&gt;routes-&gt;route( '/as_user/:app_user' )-&gt;detour( app =&gt; $app );\n</code></pre>\n\n<p>But in this case when <code>GET /as_user/17/packages</code> request come the application fall into infinite loop</p>\n\n<p>Also I think to append <code>?U=17</code> query parameter. But I do not know how and where rewrite code in such way: All link should be rendered with <code>?U=17</code> appended.</p>\n\n<p>Please advice how to login with another user but still stay admin.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1509372185, "post_id": 47017024, "comment_id": 80980688, "body": "What do you mean by &quot;context evaluation&quot;?"}, {"owner": {"reputation": 4690, "user_id": 280485, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AoKsl.jpg?s=128&g=1", "display_name": "Ali SAID OMAR", "link": "https://stackoverflow.com/users/280485/ali-said-omar"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1509372651, "post_id": 47017024, "comment_id": 80981047, "body": "The fact to know what value to be returned, i&#39;m not sure about the term to use"}], "answers": [{"comments": [{"owner": {"reputation": 4690, "user_id": 280485, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AoKsl.jpg?s=128&g=1", "display_name": "Ali SAID OMAR", "link": "https://stackoverflow.com/users/280485/ali-said-omar"}, "edited": false, "score": 0, "creation_date": 1509372533, "post_id": 47017165, "comment_id": 80980949, "body": "In real production code, how to determine which function is responsible for the last &quot;evaluation&quot; ?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 4690, "user_id": 280485, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AoKsl.jpg?s=128&g=1", "display_name": "Ali SAID OMAR", "link": "https://stackoverflow.com/users/280485/ali-said-omar"}, "edited": false, "score": 0, "creation_date": 1509372658, "post_id": 47017165, "comment_id": 80981054, "body": "@AliSAIDOMAR I don&#39;t understand this question. You determine things about the code by looking at the code. How does using / not using <code>return</code> affect this?"}, {"owner": {"reputation": 4690, "user_id": 280485, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AoKsl.jpg?s=128&g=1", "display_name": "Ali SAID OMAR", "link": "https://stackoverflow.com/users/280485/ali-said-omar"}, "edited": false, "score": 0, "creation_date": 1509373291, "post_id": 47017165, "comment_id": 80981534, "body": "I wondering, if a way to know from what function the last statement came from :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4690, "user_id": 280485, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AoKsl.jpg?s=128&g=1", "display_name": "Ali SAID OMAR", "link": "https://stackoverflow.com/users/280485/ali-said-omar"}, "edited": false, "score": 0, "creation_date": 1509373795, "post_id": 47017165, "comment_id": 80981876, "body": "@Ali SAID OMAR, Code (incl statements) usually comes from programmers, but it could also be machine-generated. There&#39;s no general way to tell which. /// But I think you mean the value returned by a sub. The value returned by a sub came from that sub (by definition). To see how that sub constructed the value, you need to look at the source code for that sub."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1509374566, "post_id": 47017165, "comment_id": 80982434, "body": "<i>&quot;it returns the result of evaluating the last statement&quot;</i>. That&#39;s wrong. The value of the last statement is returned <i>only if it is an expression</i>, otherwise the value returned is unspecified. <a href=\"http://perldoc.perl.org/perlsub.html#DESCRIPTION\" rel=\"nofollow noreferrer\">The documentation</a> is very clear on this."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 4690, "user_id": 280485, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AoKsl.jpg?s=128&g=1", "display_name": "Ali SAID OMAR", "link": "https://stackoverflow.com/users/280485/ali-said-omar"}, "edited": false, "score": 0, "creation_date": 1509374916, "post_id": 47017165, "comment_id": 80982712, "body": "@AliSAIDOMAR: <i>&quot;I wondering, if a way to know from what function the last statement came from&quot;</i>. You need to explain your situation better. You have provided an over-simplified example where the origin is obvious. Are you having problems debugging your programs, or do you want to write code that can tell at run time where a value was passed from?"}, {"owner": {"reputation": 4690, "user_id": 280485, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AoKsl.jpg?s=128&g=1", "display_name": "Ali SAID OMAR", "link": "https://stackoverflow.com/users/280485/ali-said-omar"}, "edited": false, "score": 0, "creation_date": 1509375438, "post_id": 47017165, "comment_id": 80983125, "body": "I asked this because i&#39;m working on legacy code doing modification on unittest.   The existing test does assert on the returned value of (simplified exemple) f3,"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 4690, "user_id": 280485, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AoKsl.jpg?s=128&g=1", "display_name": "Ali SAID OMAR", "link": "https://stackoverflow.com/users/280485/ali-said-omar"}, "edited": false, "score": 0, "creation_date": 1509379153, "post_id": 47017165, "comment_id": 80985636, "body": "@AliSAIDOMAR so you ran into problems because the code does not have explicit return statements and you don&#39;t know if the return value of something is on purpose? Bad luck. ;-) again, you start by the outside sun, check the last line and move up until you hit an expression. Note that it could be inside a block, like an else."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "reply_to_user": {"reputation": 4690, "user_id": 280485, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AoKsl.jpg?s=128&g=1", "display_name": "Ali SAID OMAR", "link": "https://stackoverflow.com/users/280485/ali-said-omar"}, "edited": false, "score": 1, "creation_date": 1509457631, "post_id": 47017165, "comment_id": 81020282, "body": "@AliSAIDOMAR <i>In real production code, how to determine which function is responsible for the last &quot;evaluation&quot; ?</i> It is difficult. That&#39;s why PBP (Perl Best Practice) recommends to always have a <code>return</code> statement."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 6, "last_activity_date": 1509375441, "last_edit_date": 1509375441, "creation_date": 1509372049, "answer_id": 47017165, "question_id": 47017024, "link": "https://stackoverflow.com/questions/47017024/what-function-does-the-context-evaluation/47017165#47017165", "title": "What function does the context evaluation", "body": "<blockquote>\n  <p>the last \"expression\" is evaluated and returned</p>\n</blockquote>\n\n<p>That is all there is to it.</p>\n\n<p><code>$r</code> is assigned the result of evaluating <code>f3()</code>.</p>\n\n<p>The sub <code>f3</code> has no return statement, so it returns the result of evaluating the last statement, which is <code>f2()</code>.</p>\n\n<p>The sub <code>f2</code> has no return statement, so it returns the result of evaluating the last statement, which is <code>f1()</code>.</p>\n\n<p><code>f1</code> does have an explicit return statement, so it returns that string.</p>\n"}], "owner": {"reputation": 4690, "user_id": 280485, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AoKsl.jpg?s=128&g=1", "display_name": "Ali SAID OMAR", "link": "https://stackoverflow.com/users/280485/ali-said-omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 47017165, "answer_count": 1, "score": -1, "last_activity_date": 1509375441, "creation_date": 1509371697, "last_edit_date": 1509373977, "question_id": 47017024, "link": "https://stackoverflow.com/questions/47017024/what-function-does-the-context-evaluation", "title": "What function does the context evaluation", "body": "<p>I know that, without an explicit <code>return</code>, the most recently evaluated expression is returned, but it is not clear to me how it applies in this code.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub f1 {\n    return \"test 1\\n\";\n}\n\nsub f2 {\n    f1();\n}\n\nsub f3 {\n    f2();\n}\n\nmy $r = f3();\n\nprint $r; # prints \"test 1\"\n</code></pre>\n\n<p>In this case the returned value came from an inner second-level call. I'm looking for a reference explaining the rule about this point. How to figure out what function does the context evaluation? </p>\n"}, {"tags": ["perl", "hash", "reference", "return", "arguments"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1509371893, "post_id": 47016658, "comment_id": 80980466, "body": "print <code>%h1</code> in <code>my_function</code> after the assignment statement for enlightenment"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6284868"}, "edited": false, "score": 0, "creation_date": 1509373680, "post_id": 47017025, "comment_id": 80981789, "body": "Hallo, thank you for your answer! In fact I did not add &quot;my&quot; when recuperating the result of the function (I changed the message now btw). I shall add a more important part of the code then."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6284868"}, "edited": false, "score": 0, "creation_date": 1509374557, "post_id": 47017025, "comment_id": 80982425, "body": "Hallo, it is done, I posted more code in the head message. What do you mean by arguments being &quot;consumed&quot; ? I give 5 arguments and I set them in variables (shift) in the function. I launch the function with 5 arguments. I do not see your point."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1509378918, "post_id": 47017025, "comment_id": 80985476, "body": "Run the sample code. All those 5 arguments are fed into the first &#39;list&#39; context assignment - the first hash you assign to. And they&#39;re references to hashes, not hashes ."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1509378982, "post_id": 47017025, "comment_id": 80985520, "body": "Your extra code makes the problem even worse - why are you mixing assigning <code>@_</code> and <code>shift</code> - they operate on the same thing."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509379355, "post_id": 47017025, "comment_id": 80985770, "body": "Shouldn&#39;t it be <i>lexical</i> scope?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1509379382, "last_edit_date": 1509379382, "creation_date": 1509371699, "answer_id": 47017025, "question_id": 47016658, "link": "https://stackoverflow.com/questions/47016658/perl-hash-in-argument-return-reuse/47017025#47017025", "title": "PERL -- hash in argument / return / reuse", "body": "<p><code>my</code> declares variables in the lexical scope. So the instant you exit your 'if' clause, <code>%$h1</code> etc. vanishes again.</p>\n\n<p>Also, you're doing some strange things with the assigning, which I don't think will be working thew way you think - you're deferencing your hash-references, and as such returning a list of values. </p>\n\n<p>Those will <em>all</em> be going into <code>%$h1</code> because of the way list assignments work. </p>\n\n<p>But on the flip side - when you're <em>reading</em> in <code>myfunction</code> your assignment probably isn't doing what you think.</p>\n\n<p>Because you're calling <code>myfunction</code> and passing a list of values, but you're doing a list assignment for <code>%h1</code>. That means all your arguments are 'consumed':</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\nsub myfunction {\n    my (%h1, %h2, %h3, %h4, $param) = @_;\n    print Dumper \\%h1; \n\n    print Dumper \\%h2; \n}\n\n# launch function : \n\nmy %h1 = ( a =&gt; \"test\" );\nmy %h2 = ( b =&gt; \"wibble\" );\n\nmyfunction ( \\%h1, \\%h2 );\n</code></pre>\n\n<p>As you will see - your arguments are all consumed by the assignment to <code>%h1</code> and none are left for the rest of your assignments. </p>\n\n<p>More importantly - your code doesn't even compile, because if you do this:</p>\n\n<pre><code> my (%$h1, %$h2, %$h3, %$h4) = myfunction (\\%h1, \\%h2, \\%h3, \\%h4, \"a\");\n</code></pre>\n\n<p>You get:</p>\n\n<pre><code>Can't declare hash dereference in \"my\"\n</code></pre>\n\n<p>So perhaps give us some sample code that actually illustrates the problem - and runs, with some sample data? </p>\n\n<p>Edit: With the more code - the problem is right here:</p>\n\n<pre><code>sub extractMLResult {\n    my (%h1, %h2, %h3, %h4, $param) = @_;\n</code></pre>\n\n<p>Because that's not doing what you think it's doing. Because <code>%h1</code> is a hash, and it's assigned in a list context - all the arguments of <code>@_</code> are inserted into it. So <code>%h2, %h3, %h4, $param</code> will always be empty/undefined. </p>\n\n<p>You don't indicate whether you're actually using <code>%h1</code> though, which just means it's confusing nonsense - potentially. </p>\n\n<p>But this bit:</p>\n\n<pre><code>    my $h1= shift;\n    my $h2= shift;\n    my $h3= shift;\n    my $h4_parents = shift;\n</code></pre>\n\n<p>Ok, so you're extracting some hash references here, which is perhaps a little more sane. But naming the same as the hashes is confusing - there's <em>NO</em> relationship between <code>$h1</code> and <code>%h1</code>, and you'll confuse things in your code if you do that. (Because <code>$h1{key}</code> is from <code>%h1</code> and nothing to do with <code>$h1</code> in turn).</p>\n\n<p>But the same problem exists in return:</p>\n\n<pre><code>(%h1, %h2, %h3, %h4) = extractMLResult(\\%h1, \\%h2, \\%h3, \\%h4, 'a');\n</code></pre>\n\n<p>Because your <code>return</code>: </p>\n\n<pre><code>return (%$h1, %$h2, %$h3, %$h4);\n</code></pre>\n\n<p>This return will give you back an unrolled list containing all the elements in the hashes. But given the way you're packing the hashes, they'll probably be a <em>partially</em> unrolled list, containing hash-references.</p>\n\n<p>But then, they'll <em>all</em> be consumed by <code>%h1</code> again, in the assignment. </p>\n\n<p>You would need to:</p>\n\n<p>return ( $h1, $h2, $h3, $h4);</p>\n\n<p>And then in your function:</p>\n\n<p>( $h1_ret, $h2_ret, $h3_ret, $h4_ret ) = extractMLResult(\\%h1, \\%h2, \\%h3, \\%h4, 'a');</p>\n\n<p>And <em>then</em> unpack:</p>\n\n<pre><code>%h1 = %$h1_ret; \n</code></pre>\n\n<p>Or just stick with working with references all the way through, which is probably clearer for all concerned. </p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6284868"}, "edited": false, "score": 0, "creation_date": 1509378585, "post_id": 47018987, "comment_id": 80985251, "body": "Thank you for your answer! The problem is that I want my function to return several hashes (what I mean is that the function fills the hashes several times). How shall I return several hashes then?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1509378757, "post_id": 47018987, "comment_id": 80985356, "body": "That&#39;s not a problem at all. In the same way that you can&#39;t pass multiple hashes to a subroutine without using references, you can&#39;t return multiple hashes from a subroutine without using references. You&#39;re already using references (or you will be when you fix the problems) so it should all just work."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1509377489, "creation_date": 1509377489, "answer_id": 47018987, "question_id": 47016658, "link": "https://stackoverflow.com/questions/47016658/perl-hash-in-argument-return-reuse/47018987#47018987", "title": "PERL -- hash in argument / return / reuse", "body": "<p>You are passing hash references into your subroutine. This is a good idea. But inside your subroutine, you are treating your parameters as hashes (not hash references). This is a bad idea.</p>\n\n<p>A hash is initialised from a list. It should be a list with an even number of elements. Each pair of elements in the list will become a key/value pair in the hash.</p>\n\n<pre><code>my %french =&gt; ('one', 'un', 'two', 'deux', 'three', 'trois');\n</code></pre>\n\n<p>We often use the \"fat comma\" to emphasise the link between keys and values.</p>\n\n<pre><code>my %french =&gt; (one =&gt; 'un', two =&gt; 'deux', three =&gt; 'trois');\n</code></pre>\n\n<p>This means that hash initialisation is a greedy operation. It will use up all of any list that it is given. You cannot initialise two hashes in the same statement:</p>\n\n<pre><code>my (%french, %german) = (one =&gt; 'un', two =&gt; 'deux',\n                         three =&gt; 'drei', four =&gt; 'vier');\n</code></pre>\n\n<p>This doesn't work, as all of the pairs will end up in <code>%french</code>, leaving nothing to populate <code>%german</code>.</p>\n\n<p>This is the same mistake that you are making when extracting the parameters within your subroutine. You have this:</p>\n\n<pre><code>my (%h1, %h2, %h3, %h4, $param) = @_;\n</code></pre>\n\n<p>Nothing will end up in <code>%h2,</code>%h3<code>,</code>%h4<code>or</code>$param<code>as the assignment to</code>%h<code>is greedy and will take all of the data values from</code>@_` - leaving nothing for the other variables.</p>\n\n<p>But, as you are passing hash <strong>references</strong>, your code shouldn't look like that. A hash reference is a scalar value (that's pretty much the point of them) so it is stored in a scalar variable.</p>\n\n<p>What you want is this:</p>\n\n<pre><code># Note, scalars ($), not hashes (%)\nmy ($h1, $h2, $h3, $h4, $param) = @_;\n</code></pre>\n\n<p>This should get you started. Note also, that you'll now need to deal with hash references (<code>$h1-&gt;{key}</code>) rather than hashes (<code>$h1{key}</code>).</p>\n\n<p>And, please, always include both <code>use strict</code> and <code>use warnings</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6284868"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1509382454, "creation_date": 1509370599, "last_edit_date": 1509382454, "question_id": 47016658, "link": "https://stackoverflow.com/questions/47016658/perl-hash-in-argument-return-reuse", "title": "PERL -- hash in argument / return / reuse", "body": "<p>I wish to fill a hash table successively by applying a function several times. The function takes a hash reference in argument, fills it, and returns it. The hash is taken again in argument by the function. \nIt seems that the hash is not filled at all.</p>\n\n<p>Here is my code : </p>\n\n<p>Can someone tell me where might be the error please ? </p>\n\n<pre><code>sub extractMLResult {\n    my (%h1, %h2, %h3, %h4, $param) = @_;\n    my $h1= shift;\n    my $h2= shift;\n    my $h3= shift;\n    my $h4=shift;\n    $params= shift;\n\n    # read csv file, split it, fill hashes with values \n    $h1-&gt;{$key1}{$key2}{'p'}=$val1;\n    # ... do the same for the other hashes ... \n    return (%$h1, %$h2, %$h3, %$h4);\n}\n\nmy %myhash = ();\nmy %h1= ();\nmy %h2= ();\nmy %h3= ();\nmy %h4= ();\n$myhash{'a'}{'x'}=1;\n$myhash{'b'}{'y'}=1;\n\n\nif (exists $myhash{'a'}){\n    (%h1, %h2, %h3, %h4) = extractMLResult(\\%h1, \\%h2, \\%h3, \\%h4, 'a');\n}\n\nif (exists $myhash{'b'}){\n    (%h1, %h2, %h3, %h4) = extractMLResult(\\%h1, \\%h2, \\%h3, \\%h4, 'b');\n}\n</code></pre>\n"}, {"tags": ["linux", "bash", "perl", "encryption"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1509360063, "post_id": 47013125, "comment_id": 80972750, "body": "This might help: <a href=\"http://unix.stackexchange.com/q/155551/74329\">How to debug a bash script?</a>"}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1509361338, "post_id": 47013125, "comment_id": 80973612, "body": "<i>&quot;I realized that the different linux tools for creating and modifying a user password gave results of different pattern...&quot;</i> - The digested passwords are salted or randomized, so the same password should produce different results on each invocation. Also see <a href=\"https://security.stackexchange.com/q/22596/29925\">What key does Linux use when storing user passwords?</a> and <a href=\"https://unix.stackexchange.com/q/8229/56041\">What methods are used to encrypt passwords in /etc/passwd and /etc/shadow?</a> Or see the <a href=\"http://man7.org/linux/man-pages/man3/crypt.3.html\" rel=\"nofollow noreferrer\"><code>crypt(3)</code> man page</a>."}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1509361943, "post_id": 47013125, "comment_id": 80973973, "body": "Please take a look at: <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 92, "user_id": 8041146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ViRHT.png?s=128&g=1", "display_name": "patol", "link": "https://stackoverflow.com/users/8041146/patol"}, "edited": false, "score": 0, "creation_date": 1509361334, "post_id": 47013522, "comment_id": 80973608, "body": "Where do you assign a value to PSWD? I don&#39;t understand they are test scripts, I put the hard values \u200b\u200bin variable!"}], "tags": [], "owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "is_accepted": true, "score": 1, "last_activity_date": 1509361328, "last_edit_date": 1509361328, "creation_date": 1509360944, "answer_id": 47013522, "question_id": 47013125, "link": "https://stackoverflow.com/questions/47013125/check-password-linux-user/47013522#47013522", "title": "check password linux user", "body": "<p>Replace <code>PSWD</code> with <code>PASSWD</code> and replace <code>PASSWD=\"aabbcc\"</code> with <code>export PASSWD=\"aabbcc\"</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 92, "user_id": 8041146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ViRHT.png?s=128&g=1", "display_name": "patol", "link": "https://stackoverflow.com/users/8041146/patol"}, "is_accepted": false, "score": 0, "last_activity_date": 1509361847, "creation_date": 1509361847, "answer_id": 47013813, "question_id": 47013125, "link": "https://stackoverflow.com/questions/47013125/check-password-linux-user/47013813#47013813", "title": "check password linux user", "body": "<p>YES is good now\nit's been hours that I'm on and I could not see anything!</p>\n\n<pre><code>    #!/bin/bash\nUSERNAME=$1 # \"toto02\"\n    export PASSWD=$2 # \"aabbcc\"\n    ORIGPASS=`grep -w \"$USERNAME\" /etc/shadow | cut -d: -f2`\n    export ALGO=`echo $ORIGPASS | cut -d\"$\" -f2`\n    export SALT=`echo $ORIGPASS | cut -d\"$\" -f3`\n    echo \"algo: -$ALGO-\"\n    echo \"salt: -$SALT-\"\n    echo \"pw entr\u00e9: -$PASSWD-\"\n    echo \"shadow: -$ORIGPASS-\"\n    GENPASS=\"$(perl -e 'print crypt(\"$ENV{PASSWD}\",\"\\$$ENV{ALGO}\\$$ENV{SALT}\\$\")')\" \n    echo \"pass g\u00e9n\u00e9re: -$GENPASS-\"\n\n    if [ \"$GENPASS\" == \"$ORIGPASS\" ]; then\n       echo \"Valid Password\"\n       exit 0\n    else\n       echo \"Invalid Password\"\n       exit 1\n    fi\n\n\nalgo: -6-\nsalt: -rYc.lGtG-\npw entr\u00e9: -aabbcc-\nshadow: -$6$rYc.lGtG$wMHAM.nXHk1J5sDRmcHeBLW1sRQA/xQcjJSZxkls4BratyWf.KoQST14pPjNWDiUKwfegC96Lhjgjbj4YbZoc.-\npass g\u00e9n\u00e9re: -$6$rYc.lGtG$wMHAM.nXHk1J5sDRmcHeBLW1sRQA/xQcjJSZxkls4BratyWf.KoQST14pPjNWDiUKwfegC96Lhjgjbj4YbZoc.-\nValid Password\n</code></pre>\n\n<p>Thank you very much, but is there a way to have the same type of password with <code>useradd</code> and <code>chpasswd</code></p>\n"}], "owner": {"reputation": 92, "user_id": 8041146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ViRHT.png?s=128&g=1", "display_name": "patol", "link": "https://stackoverflow.com/users/8041146/patol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3775, "favorite_count": 0, "accepted_answer_id": 47013522, "answer_count": 2, "score": 2, "last_activity_date": 1509361847, "creation_date": 1509359609, "last_edit_date": 1509360908, "question_id": 47013125, "link": "https://stackoverflow.com/questions/47013125/check-password-linux-user", "title": "check password linux user", "body": "<p>I am on debian 9. \nI have a problem to check the password of a linux user in my scripts. I realized that the different linux tools for creating and modifying a user password gave results of different pattern in <code>/etc/shadow</code></p>\n\n<p><strong>To create a user</strong></p>\n\n<pre><code>pwLinux=\"abcdef1234\"\nuserLinux=\"toto02\"\npwCrypt=$(perl -e 'print crypt($ARGV[0], \"zzz\")' $pwLinux)\nuseradd -m -G adm,dip,plugdev,www-data,sudo -p $pwCrypt $userLinux\n</code></pre>\n\n<p>I have in <code>/etc/shadow</code></p>\n\n<pre><code>toto02:zzDxrNjXuUs3U:17469:0:99999:7:::\n</code></pre>\n\n<p>In another script I want <strong>check the password</strong> input by the user with</p>\n\n<pre><code>USERNAME=\"toto02\"\nPASSWD=\"abcdef1234\"\nORIGPASS=`grep -w \"$USERNAME\" /etc/shadow | cut -d: -f2`\nORIGPASS=`echo $ORIGPASS | cut -d\"$\" -f2`\n\nGENPASS=$(perl -e 'print crypt($ARGV[0], \"zzz\")' $PASSWD)\nif [ \"$GENPASS\" == \"$ORIGPASS\" ]; then\n   echo \"Valid Password\"\n   exit 0\nelse\n   echo \"Invalid Password\"\n   exit 1\nfi\n</code></pre>\n\n<p>it's ok\nThe trouble starts here: if I want to <strong>change passwords</strong> in a script I use</p>\n\n<pre><code># username \"toto02\", newPwd \"aabbcc\"\necho \"${username}:${newPwd}\" | chpasswd\n</code></pre>\n\n<p>I can not use <code>passwd</code> because everything has to be done without interactivity.</p>\n\n<p>I have in <code>/etc/shadow</code></p>\n\n<pre><code>toto02:$6$rLklwx9K$Brv4lvNjR.S7f8i.Lmt8.iv8pgcbKhwDgINzhT1XwCBbD7XkB98lCtwUK3/4hdylkganoLuh/eIc38PtMArgZ/:17469:0:99999:7:::\n</code></pre>\n\n<p>If i want to <strong>check this password</strong> i must use a different script.<br>\n<em>First problem how to have the same pattern of password in both cases?</em> </p>\n\n<p>i use:</p>\n\n<pre><code>#!/bin/bash\n\nUSERNAME=\"toto02\"\nPASSWD=\"aabbcc\"\nORIGPASS=`grep -w \"$USERNAME\" /etc/shadow | cut -d: -f2`\nexport ALGO=`echo $ORIGPASS | cut -d\"$\" -f2`\nexport SALT=`echo $ORIGPASS | cut -d\"$\" -f3`\necho \"algo: -$ALGO-\"\necho \"salt: -$SALT-\"\necho \"pwd entr\u00e9: -$PASSWD-\"\necho \"shadow:        -$ORIGPASS-\"\nGENPASS=\"$(perl -e 'print crypt(\"$ENV{PSWD}\",\"\\$$ENV{ALGO}\\$$ENV{SALT}\\$\")')\" \necho \"pwd g\u00e9n\u00e9r\u00e9: -$GENPASS-\"\n\nif [ \"$GENPASS\" == \"$ORIGPASS\" ]; then\n   echo \"Valid Password\"\n   exit 0\nelse\n   echo \"Invalid Password\"\n   exit 1\nfi\n</code></pre>\n\n<p>Which give:</p>\n\n<pre><code>algo: -6-\nsalt: -rLklwx9K-\npwd entr\u00e9: -aabbcc-\nshadow:        -$6$rLklwx9K$Brv4lvNjR.S7f8i.Lmt8.iv8pgcbKhwDgINzhT1XwCBbD7XkB98lCtwUK3/4hdylkganoLuh/eIc38PtMArgZ/-\npwd g\u00e9n\u00e9r\u00e9: -$6$rLklwx9K$AIX1bUMAK9bwdd2g3ST5VtXTvHlHXHxnh4Xj.fLdxjaEkAAvHeeN5islid0wtmZN5u1zWQBup./IP8IH9i6W7/-\nInvalid Password\n</code></pre>\n\n<p><em>The generated chain is different! why? \nHow to cure it ?</em><br>\nThank you</p>\n"}, {"tags": ["bash", "macos", "perl", "sed", "whitespace"], "comments": [{"owner": {"reputation": 1353, "user_id": 6919746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/919c91b8e4a8f42a12854292a1caa3da?s=128&d=identicon&r=PG&f=1", "display_name": "tobiasegli_te", "link": "https://stackoverflow.com/users/6919746/tobiasegli-te"}, "edited": false, "score": 0, "creation_date": 1509350494, "post_id": 47010412, "comment_id": 80967132, "body": "Escaping the <code>\\t</code> with an additional backslash?"}, {"owner": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "reply_to_user": {"reputation": 1353, "user_id": 6919746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/919c91b8e4a8f42a12854292a1caa3da?s=128&d=identicon&r=PG&f=1", "display_name": "tobiasegli_te", "link": "https://stackoverflow.com/users/6919746/tobiasegli-te"}, "edited": false, "score": 0, "creation_date": 1509350559, "post_id": 47010412, "comment_id": 80967161, "body": "@tobiasegli_te then I get a &#39;\\&#39; and a &#39;t&#39;, but no tab"}, {"owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "edited": false, "score": 3, "creation_date": 1509350571, "post_id": 47010412, "comment_id": 80967169, "body": "In bash, try <code>sed &#39;s&#47;^\\([^ ]*\\) &#47;\\1&#39;$&#39;\\t&#39;&#39;&#47;&#39; filename</code>"}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 2, "creation_date": 1509350697, "post_id": 47010412, "comment_id": 80967222, "body": "@C\u0153ur: Or more simply just do <code>sed -e &quot;s&#47; &#47;$(printf &#39;\\t&#39;)&#47;&quot; &lt;file</code>"}, {"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 4, "creation_date": 1509350912, "post_id": 47010412, "comment_id": 80967330, "body": "with perl, <code>perl -pe &#39;s&#47; &#47;\\t&#47;&#39;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "is_accepted": true, "score": 4, "last_activity_date": 1521425691, "last_edit_date": 1521425691, "creation_date": 1509351293, "answer_id": 47010622, "question_id": 47010412, "link": "https://stackoverflow.com/questions/47010412/replace-first-space-on-each-line-by-a-tab/47010622#47010622", "title": "Replace first space on each line by a tab", "body": "<p>Good answers were posted in the comments. Here are some credits:</p>\n\n<p>Thanks Leon and Inian for this solution:</p>\n\n<pre><code>sed 's/ /'$'\\t''/' filename\n</code></pre>\n\n<p>Thanks Sundeep for this solution:</p>\n\n<pre><code>perl -pe 's/ /\\t/' filename\n</code></pre>\n\n<p>Thanks Sundeep for finding the duplicate question, which gives this literal solution where the replacement string is a tab obtained in bash through <kbd>Ctrl</kbd>+<kbd>V</kbd>, <kbd>Tab</kbd> (note: copy-pasting it from Stack Overflow will <em>not</em> work):</p>\n\n<pre><code>sed 's/ / /' filename\n</code></pre>\n"}], "owner": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4530, "favorite_count": 0, "closed_date": 1509351725, "accepted_answer_id": 47010622, "answer_count": 1, "score": 1, "last_activity_date": 1521425691, "creation_date": 1509350412, "last_edit_date": 1521079484, "question_id": 47010412, "link": "https://stackoverflow.com/questions/47010412/replace-first-space-on-each-line-by-a-tab", "closed_reason": "Duplicate", "title": "Replace first space on each line by a tab", "body": "<p>On macOS command line, how to replace first occurrence of a space by a tab, on each line of a file?</p>\n\n<p>Examples of available tools on macOS: <strong>bash 3.2</strong>, <strong>BSD sed</strong>, awk, tr, perl 5, python 2.7, swift 4, etc.</p>\n\n<p>I tried:</p>\n\n<pre><code>sed 's/^\\([^ ]*\\) /\\1\\t/' filename\n</code></pre>\n\n<p>But instead of a tab, I get the character 't'.</p>\n"}, {"tags": ["perl", "nginx", "reverse-proxy", "mojolicious"], "answers": [{"comments": [{"owner": {"reputation": 542, "user_id": 1150133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ed8e50a887128bd9a3e01a5dd291111e?s=128&d=identicon&r=PG", "display_name": "gypark", "link": "https://stackoverflow.com/users/1150133/gypark"}, "edited": false, "score": 0, "creation_date": 1509352482, "post_id": 47010547, "comment_id": 80968078, "body": "Thank you! I was afraid that there may be the case that I should NOT modify the <code>req-&gt;url-&gt;base-&gt;scheme</code>. Now I can feel peace :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 542, "user_id": 1150133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ed8e50a887128bd9a3e01a5dd291111e?s=128&d=identicon&r=PG", "display_name": "gypark", "link": "https://stackoverflow.com/users/1150133/gypark"}, "edited": false, "score": 1, "creation_date": 1509353027, "post_id": 47010547, "comment_id": 80968322, "body": "@gypark you should in theory also be able to configure your nginx to do the conversion for you. That may be a smart thing to do, but I don&#39;t know how."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1509357010, "post_id": 47010547, "comment_id": 80970770, "body": "Doesn&#39;t Mojolicious have a <code>behind_proxy</code> setting like Dancer2 has for this exact purpose?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1509357108, "post_id": 47010547, "comment_id": 80970825, "body": "@PerlDuck it might. I didn&#39;t research."}, {"owner": {"reputation": 542, "user_id": 1150133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ed8e50a887128bd9a3e01a5dd291111e?s=128&d=identicon&r=PG", "display_name": "gypark", "link": "https://stackoverflow.com/users/1150133/gypark"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1509406521, "post_id": 47010547, "comment_id": 80998697, "body": "@PerlDuck @simbabque oh, my... Thank you so much. I read the Dancer2 document, looked for the equivalent thing in Mojolicious, and found <code>MOJO_REVERSE_PROXY=1</code> did the same role. <a href=\"http://mojolicious.org/perldoc/Mojolicious/Guides/Cookbook#PSGI-Plack\" rel=\"nofollow noreferrer\">mojolicious.org/perldoc/Mojolicious/Guides/Cookbook#PSGI-Pla&zwnj;&#8203;ck</a> I tried it in my code and it works very well without the hook. (That link also shows the use of hook just like in this post: <a href=\"http://mojolicious.org/perldoc/Mojolicious/Guides/Cookbook#Rewriting\" rel=\"nofollow noreferrer\">mojolicious.org/perldoc/Mojolicious/Guides/Cookbook#Rewritin&zwnj;&#8203;g</a> )"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 542, "user_id": 1150133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ed8e50a887128bd9a3e01a5dd291111e?s=128&d=identicon&r=PG", "display_name": "gypark", "link": "https://stackoverflow.com/users/1150133/gypark"}, "edited": false, "score": 1, "creation_date": 1509442839, "post_id": 47010547, "comment_id": 81010706, "body": "@gypark This is a funny coincidence :-). Just two days ago I had the same problem because I have set up an Apache proxy for client certificate authentication for my Dancer2 app. Dancer2 then always wanted to load <code>http:&#47;&#47;...&#47;style.css</code> instead of <code>https:&#47;&#47;...&#47;style.css</code> etc. because of the &quot;wrong&quot; <code>request.uri_base</code>. Luckily I found the <a href=\"http://search.cpan.org/dist/Dancer2/lib/Dancer2/Config.pod#behind_proxy_(boolean)\" rel=\"nofollow noreferrer\"><code>behind_proxy</code></a> setting and am glad to hear that you found a similar setting for Mojolicious."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1569492228, "last_edit_date": 1569492228, "creation_date": 1509350920, "answer_id": 47010547, "question_id": 47009434, "link": "https://stackoverflow.com/questions/47009434/how-to-make-mojoliciouss-url-for-to-abs-return-correct-scheme-http-or-htt/47010547#47010547", "title": "how to make Mojolicious&#39;s url_for()-&gt;to_abs() return correct scheme (http or https) behind nginx", "body": "<p><strong>Yes</strong>, that's a good way, <strong>but</strong> I would make it more flexible.</p>\n\n<p>First, there is never <em>a correct way</em> in Perl. Mojolicious is just Perl, too. <a href=\"https://en.wikipedia.org/wiki/There%27s_more_than_one_way_to_do_it\" rel=\"nofollow noreferrer\">There is more than one way to do it</a>. Sometimes one or more ways are more correct than others. This is such a case.</p>\n\n<p>Your code is fine and will get the job done. However, if you decide to deploy the application in a different way, and that header goes away, things go boom. So you should at least check for its existence.</p>\n\n<pre><code># change 'scheme' of request url\nhook 'before_dispatch' =&gt; sub {\n  my $c = shift;\n  $c-&gt;req-&gt;url-&gt;base-&gt;scheme( $c-&gt;req-&gt;headers-&gt;header('X-Forwarded-Proto'))\n    if $c-&gt;req-&gt;headers-&gt;header('X-Forwarded-Proto');\n};\n</code></pre>\n\n<p>Now if you run it locally with <code>morbo</code> and you don't have the header set, things should still work (assuming they broke in the first place, which sounds like a reasonable assumption I did not verify).</p>\n\n<p>To see how to write unit tests for it, please refer to <a href=\"https://stackoverflow.com/q/46960660/1331451\">this recent question</a>. It comes at the problem from a different side, but applies exactly.</p>\n"}], "owner": {"reputation": 542, "user_id": 1150133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ed8e50a887128bd9a3e01a5dd291111e?s=128&d=identicon&r=PG", "display_name": "gypark", "link": "https://stackoverflow.com/users/1150133/gypark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 349, "favorite_count": 1, "accepted_answer_id": 47010547, "answer_count": 1, "score": 2, "last_activity_date": 1569492228, "creation_date": 1509345986, "last_edit_date": 1509350263, "question_id": 47009434, "link": "https://stackoverflow.com/questions/47009434/how-to-make-mojoliciouss-url-for-to-abs-return-correct-scheme-http-or-htt", "title": "how to make Mojolicious&#39;s url_for()-&gt;to_abs() return correct scheme (http or https) behind nginx", "body": "<p>Here is my situation:</p>\n\n<p>1) Nginx listens both 80 and 443 port and forwards a request to Mojolicious app.</p>\n\n<pre><code>upstream ssltest {\n    server 127.0.0.1:9000;\n}\n\nserver {\n    listen 80;\n    listen 443 ssl;\n\n    server_name ssltest.server.com;\n\n    location / {\n        proxy_pass http://ssltest/;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        proxy_set_header Host $host;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    }\n}\n</code></pre>\n\n<p>2) In the Mojolicious app, I put this code:</p>\n\n<pre><code>get '/' =&gt; sub {\n  my $c = shift;\n\n  warn $c-&gt;url_for('/somepath')-&gt;to_abs;  # HERE\n\n  $c-&gt;render(template =&gt; 'index');\n};\n</code></pre>\n\n<p>I want that <code>url_for('/somepath')-&gt;to_abs</code> returns <code>https://ssltest.server.com/somepath</code> or <code>http://.../somepath</code>, depending on which protocol I use in my browser. <strong>But it always returns <code>http</code></strong></p>\n\n<p>(There is some reason that I have to create an absolute path, rather than relative path)</p>\n\n<p>So, I've tried to search in web.</p>\n\n<p><a href=\"https://groups.google.com/d/msg/mojolicious/zL-c4Tx1vCk/_ihsLRsNAgAJ\" rel=\"nofollow noreferrer\">https://groups.google.com/d/msg/mojolicious/zL-c4Tx1vCk/_ihsLRsNAgAJ</a></p>\n\n<p>This link taught me I can pass the current protocol(http or https) to the Mojo app via a custom header <code>X-Forward-Proto</code>. However, url_for() still returned only <code>http</code>.</p>\n\n<p>Then I tried such code:</p>\n\n<pre><code>warn $c-&gt;url_for('/somepath')-&gt;to_abs-&gt;scheme(\n  $c-&gt;req-&gt;headers-&gt;header('X-Forwarded-Proto')\n);\n</code></pre>\n\n<p>It worked! But now I have to modify every occurrences of <code>url_for-&gt;to_abs</code> in the code.</p>\n\n<p>Next, I found this link: <a href=\"https://stackoverflow.com/a/27834805/1150133\">https://stackoverflow.com/a/27834805/1150133</a>\nwhich uses a hook to modify <code>$c-&gt;req-&gt;url-&gt;base</code> itself. I tried to apply it:</p>\n\n<pre><code># change 'scheme' of request url\nhook 'before_dispatch' =&gt; sub {\n  my $c = shift;\n  $c-&gt;req-&gt;url-&gt;base-&gt;scheme( $c-&gt;req-&gt;headers-&gt;header('X-Forwarded-Proto'));\n};\n\nget '/' =&gt; sub {\n  my $c = shift;\n\n  # url_for() seems to refer the request url to determine new url\n  warn $c-&gt;url_for('/somepath')-&gt;to_abs;\n\n  $c-&gt;render(template =&gt; 'index');\n};\n</code></pre>\n\n<p>It worked very well.</p>\n\n<p><strong>Now I want to know whether this is a correct way or not.</strong> Is there any problem that would occur? Is there a better or the best way to acquire my goal?</p>\n\n<p>Any advice would be appreciated.</p>\n"}, {"tags": ["linux", "bash", "shell", "perl", "log4perl"], "answers": [{"tags": [], "owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "is_accepted": false, "score": 0, "last_activity_date": 1509312878, "creation_date": 1509312878, "answer_id": 47005470, "question_id": 47004937, "link": "https://stackoverflow.com/questions/47004937/how-to-set-log4perl-log-level-on-the-command-line/47005470#47005470", "title": "How to set Log4perl log level on the command line?", "body": "<p>You may use somthing like this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>Log::Log4perl-&gt;get_logger()-&gt;level(\n    Log::Log4perl::Level::to_priority($ENV{APP_LOG_LEVEL})\n);\n</code></pre>\n\n<p>and run script:</p>\n\n<pre><code>APP_LOG_LEVEL=DEBUG perl app.pl\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 48006, "user_id": 96588, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/425fed56a46504d37ec907d99b09ecde?s=128&d=identicon&r=PG", "display_name": "l0b0", "link": "https://stackoverflow.com/users/96588/l0b0"}, "edited": false, "score": 0, "creation_date": 1509391177, "post_id": 47010283, "comment_id": 80992427, "body": "I specifically don&#39;t want to change the original logging setup, to avoid complicating the code base."}], "tags": [], "owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "is_accepted": false, "score": 0, "last_activity_date": 1509349863, "creation_date": 1509349863, "answer_id": 47010283, "question_id": 47004937, "link": "https://stackoverflow.com/questions/47004937/how-to-set-log4perl-log-level-on-the-command-line/47010283#47010283", "title": "How to set Log4perl log level on the command line?", "body": "<p>If you use the configuration file syntax to define your appenders (note that you don't have to place this into a real file; you can also have the configuration definition inside your program), you already have environment variable substitution out of the box. See the section named \"Variable Substitution\" in the <a href=\"http://search.cpan.org/~mschilli/Log-Log4perl-1.49/lib/Log/Log4perl.pm\" rel=\"nofollow noreferrer\">Log4Perl documentation</a>. </p>\n"}], "owner": {"reputation": 48006, "user_id": 96588, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/425fed56a46504d37ec907d99b09ecde?s=128&d=identicon&r=PG", "display_name": "l0b0", "link": "https://stackoverflow.com/users/96588/l0b0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 258, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1509349863, "creation_date": 1509309057, "last_edit_date": 1509314520, "question_id": 47004937, "link": "https://stackoverflow.com/questions/47004937/how-to-set-log4perl-log-level-on-the-command-line", "title": "How to set Log4perl log level on the command line?", "body": "<p>Is it possible to set the log level globally for Log4perl by passing a command line flag or setting an environment variable (and not changing the original logging setup)? The <a href=\"http://search.cpan.org/~mschilli/Log-Log4perl-1.49/lib/Log/Log4perl.pm\" rel=\"nofollow noreferrer\">documentation</a> and <a href=\"http://log4perl.sourceforge.net/releases/Log-Log4perl/docs/html/Log/Log4perl/FAQ.html\" rel=\"nofollow noreferrer\">FAQ</a> don't seem to mention any way to do this.</p>\n"}, {"tags": ["arrays", "perl", "reference", "slice"], "answers": [{"comments": [{"owner": {"reputation": 340, "user_id": 2339053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29242cf1bb773a66126fb23036196624?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Santos", "link": "https://stackoverflow.com/users/2339053/andr%c3%a9-santos"}, "edited": false, "score": 0, "creation_date": 1509287518, "post_id": 47001218, "comment_id": 80949229, "body": "Got it, thanks for the answer. For what i see you de-reference the list with <code>@{...}</code> and then apply the slice to the de-referenced version of the list, which makes perfect sense. I guess my mistake was to think that the <code>-&gt;</code> (and it&#39;s syntactic sugar version <code>{...}[...]</code>) would de-reference anything automatically, instead of making it <code>${thing_to_derefence}[...]</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 340, "user_id": 2339053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29242cf1bb773a66126fb23036196624?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Santos", "link": "https://stackoverflow.com/users/2339053/andr%c3%a9-santos"}, "edited": false, "score": 1, "creation_date": 1509287627, "post_id": 47001218, "comment_id": 80949260, "body": "@Andr&#233;Santos <code>@</code> and <code>[]</code> aren&#39;t separate constructs. <code>@ ... [ ]</code> is the syntax for an array slice. There&#39;s also a list slice operator, spelled <code>( ... )[ ]</code>. But you can&#39;t have a subscript of <code>[]</code> all by itself; it&#39;s always part of some bigger construct."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 6, "last_activity_date": 1509296507, "last_edit_date": 1509296507, "creation_date": 1509286654, "answer_id": 47001218, "question_id": 47001068, "link": "https://stackoverflow.com/questions/47001068/slicing-a-reference-of-array/47001218#47001218", "title": "Slicing a reference of array", "body": "<p>That's not a slice. If you had an <code>@array</code>, a slice would look like this:</p>\n\n<pre><code>@array[0, 1, 2]\n</code></pre>\n\n<p>What you wrote is the equivalent of this:</p>\n\n<pre><code>$array[0, 1, 2]\n</code></pre>\n\n<p>... which uses <code>,</code> in scalar context and is equivalent to <code>$array[2]</code>.</p>\n\n<p>In fact,</p>\n\n<pre><code>$cps_per_level{$level}[0,1]\n</code></pre>\n\n<p>is shorthand for</p>\n\n<pre><code>$cps_per_level{$level}-&gt;[0,1]\n</code></pre>\n\n<p>which is syntactic sugar for</p>\n\n<pre><code>${ $cps_per_level{$level} }[0, 1]\n</code></pre>\n\n<p>which just means</p>\n\n<pre><code>${ $cps_per_level{$level} }[1]\n</code></pre>\n\n<p>What you should do instead is:</p>\n\n<pre><code>@{ $cps_per_level{$level} }[0, 1]\n</code></pre>\n\n<p>The <code>@</code> means you're trying to get multiple elements out.</p>\n\n<p>If your perl is new enough (5.20 and no longer experimental since 5.24), you can also use a postfix dereference form like this:</p>\n\n<pre><code>$cps_per_level{$level}-&gt;@[0, 1]\n</code></pre>\n"}], "owner": {"reputation": 340, "user_id": 2339053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29242cf1bb773a66126fb23036196624?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Santos", "link": "https://stackoverflow.com/users/2339053/andr%c3%a9-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 47001218, "answer_count": 1, "score": 0, "last_activity_date": 1509296507, "creation_date": 1509285817, "question_id": 47001068, "link": "https://stackoverflow.com/questions/47001068/slicing-a-reference-of-array", "title": "Slicing a reference of array", "body": "<p>I have the following map:</p>\n\n<pre><code>my %cps_per_level = (\n                     Bronze      =&gt;  [100 , 65  ],\n                     Silver      =&gt;  [200 , 125 ],\n                     Gold        =&gt;  [400 , 250 ],\n                     Platinum    =&gt;  [800 , 500 ],\n                     Diamond     =&gt;  [1200, 750 ],\n                     Master      =&gt;  [2000, 1200],\n                     Grandmaster =&gt;  [3000, 1750],\n                );\n</code></pre>\n\n<p>In my code i want to get both values of the list for a particular entry to 2 variables. My first attempt was to de-reference the list for a particular entry then apply a list slice and assign that to the variables i want, like shown below. Here <code>$level</code> holds one key of the map.</p>\n\n<pre><code>my ($cps_before, $cps_after) = $cps_per_level{$level}[0,1];\n</code></pre>\n\n<p>But this doesn't work. <code>$cps_before</code> gets the first value of the list, but <code>$cps_after</code> gets nothing. I managed to make it work by writing this in 2 lines:</p>\n\n<pre><code>my $cps_before= $cps_per_level{$level}[0];\nmy $cps_after = $cps_per_level{$level}[1];\n</code></pre>\n\n<p>My question is: why didn't the slice work? What am i missing?</p>\n"}, {"tags": ["c", "perl", "chmod"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1509280516, "post_id": 47000235, "comment_id": 80947047, "body": "The C program already has executable permission?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1509280853, "post_id": 47000235, "comment_id": 80947143, "body": "Because we do not run the <code>pg.c</code> program but the compiled version of it, e.g. <code>a.out</code>. And that <code>a.out</code> (usually) <i>does</i> have the <code>x</code> flags set."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1509307556, "post_id": 47000235, "comment_id": 80955740, "body": "Don&#39;t use 777 - that gives every user account on the computer write access to your script. A more conservative choice would be 755."}], "answers": [{"tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": false, "score": 4, "last_activity_date": 1509280685, "creation_date": 1509280685, "answer_id": 47000263, "question_id": 47000235, "link": "https://stackoverflow.com/questions/47000235/why-do-we-need-to-give-executable-permission-using-chmod-while-running-perl-scri/47000263#47000263", "title": "Why do we need to give executable permission using chmod while running Perl script but no such thing is done while running the c program?", "body": "<p>A C program is usually not executed directly but compiled into an executable file. The compiler sets the permissions on that file so that it can be executed directly.</p>\n\n<p>Note that the executable flag is not necessary to run a script when explicitly invoking the interpreter. Running <code>perl script.pl</code> always works, similar to how <code>gcc pg.c</code> always works. The executable flag is only needed when the script is run without an explicit interpreter, i.e. as <code>./script.pl</code>. The operating system will then determine the correct interpreter from the file itself (e.g. from the <code>#!/usr/bin/perl</code> line).</p>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 691584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fb1ddfe07aa4245fa68c200c6f388d1?s=128&d=identicon&r=PG", "display_name": "Mohan Gutta", "link": "https://stackoverflow.com/users/691584/mohan-gutta"}, "is_accepted": false, "score": 0, "last_activity_date": 1509284729, "creation_date": 1509284729, "answer_id": 47000877, "question_id": 47000235, "link": "https://stackoverflow.com/questions/47000235/why-do-we-need-to-give-executable-permission-using-chmod-while-running-perl-scri/47000877#47000877", "title": "Why do we need to give executable permission using chmod while running Perl script but no such thing is done while running the c program?", "body": "<p>When you compiled c program it already gives you executable binary to use. But in case of Perl being a interpreted language you no need to compile it first, you can directly execute. Because of the +x permission is required.</p>\n"}], "owner": {"reputation": 11, "user_id": 8440316, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2EH39AbYNeo/AAAAAAAAAAI/AAAAAAAAF4A/NSbaOAwplZs/photo.jpg?sz=128", "display_name": "Chaitanya Asati", "link": "https://stackoverflow.com/users/8440316/chaitanya-asati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "closed_date": 1509284821, "answer_count": 2, "score": 0, "last_activity_date": 1509284729, "creation_date": 1509280445, "question_id": 47000235, "link": "https://stackoverflow.com/questions/47000235/why-do-we-need-to-give-executable-permission-using-chmod-while-running-perl-scri", "closed_reason": "Needs more focus", "title": "Why do we need to give executable permission using chmod while running Perl script but no such thing is done while running the c program?", "body": "<p>chmod 777 script.pl is used when we run the script in the terminal.\nBut why we do not use chmod pg.c when we run the c program</p>\n"}, {"tags": ["perl", "postfix-operator", "prefix-operator"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1509278004, "post_id": 46999794, "comment_id": 80946297, "body": "Missing <code>use strict; use warnings;</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1509278016, "post_id": 46999794, "comment_id": 80946299, "body": "Don&#39;t <code>use English</code>, it makes code harder to read."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1509278100, "post_id": 46999794, "comment_id": 80946316, "body": "Your code can be simplified to: <code>my $i = 0; print ++$i, &quot;\\n&quot;; my $j = 0; print $j++, &quot;\\n&quot;;</code>"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1509280296, "post_id": 46999794, "comment_id": 80946993, "body": "@melpomene To be fair: that isn&#39;t the equivalent of the whole code. But it shows the difference between <code>++$i</code> and <code>$i++</code>."}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 3, "last_activity_date": 1509378458, "last_edit_date": 1509378458, "creation_date": 1509280321, "answer_id": 47000215, "question_id": 46999794, "link": "https://stackoverflow.com/questions/46999794/perl-where-am-i-going-wrong-with-postfix-prefix-precedence/47000215#47000215", "title": "Perl: Where am I going wrong with postfix/prefix precedence?", "body": "<p>This is not about precedence of operations but about what prefix and postfix ++ return. From perldoc perlop:</p>\n\n<blockquote>\n  <p>\"++\" and \"--\" work as in C. That is, if placed before a variable, they\n      increment or decrement the variable by one before returning the value, and\n      if placed after, increment or decrement after returning the value.</p>\n</blockquote>\n\n<p>Essentially you could define these as functions:</p>\n\n<pre><code>sub prefix_plusplus {\n    $_[0] = $_[0] + 1;   # increment value\n    return $_[0];        # returns value after increment\n}\n\nsub postfix_plusplus {\n    my $before = $_[0];\n    $_[0] = $_[0] + 1;  # increment value\n    return $before;     # returns value before increment\n}\n\n\nmy $x = my $y = 5;\nprintf \"%d,%d\\n\", prefix_plusplus($x), postfix_plusplus($y);   #  6,5\nprintf \"%d,%d\\n\", $x, $y;                                      #  6,6\n\n# and same thing with the ++ operand\n$x = $y = 5;\nprintf \"%d,%d\\n\", ++$x, $y++;                                  #  6,5\nprintf \"%d,%d\\n\", $x, $y;                                      #  6,6\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 272858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73da4cb8b175ea394df2aff14628909d?s=128&d=identicon&r=PG", "display_name": "John White", "link": "https://stackoverflow.com/users/272858/john-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 47000215, "answer_count": 1, "score": -1, "last_activity_date": 1509378458, "creation_date": 1509277746, "last_edit_date": 1509337324, "question_id": 46999794, "link": "https://stackoverflow.com/questions/46999794/perl-where-am-i-going-wrong-with-postfix-prefix-precedence", "title": "Perl: Where am I going wrong with postfix/prefix precedence?", "body": "<p>The following fragment shows a simple n-perline output procedure.</p>\n\n<p>Two cases are shown, one using prefix ++, the other postfix ++, in a boolean expression.</p>\n\n<p>Since '++' has higher precedence than '==', I expected the results to be the same, but they are not: one does 5 per line, the other 6.</p>\n\n<pre><code>use English;\n\nmy @arr = (1,2,3,4,5,6,7,8,9,8,7,6);\nmy $perline = 5;\nmy $ndone = 0;\n\nfor(@arr) {\n    print \"  $ARG\";\n    if(++$ndone == $perline) {\n        $ndone = 0;\n        print \"\\n\";\n    }\n}\n\nprint \"\\n---\\n\";\n\nmy $perline = 5;\nmy $ndone = 0;\n\nfor(@arr) {\n    print \"  $ARG\";\n    if($ndone++ == $perline) {\n        $ndone = 0;\n        print \"\\n\";\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>  1  2  3  4  5\n  6  7  8  9  8\n  7  6\n---\n  1  2  3  4  5  6\n  7  8  9  8  7  6\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1509269918, "post_id": 46998547, "comment_id": 80944189, "body": "What error do you get? Does <code>last</code> work when run from the shell (without Perl)?"}], "answers": [{"comments": [{"owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "edited": false, "score": 3, "creation_date": 1509275254, "post_id": 46998758, "comment_id": 80945554, "body": "Other options: <code>Win32::EventLog</code> to read  Audit Logon events. Currently logged user, the <code>quser</code> command."}], "tags": [], "owner": {"reputation": 2496, "user_id": 2469275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b7EZh.png?s=128&g=1", "display_name": "janh", "link": "https://stackoverflow.com/users/2469275/janh"}, "is_accepted": true, "score": 4, "last_activity_date": 1509270224, "creation_date": 1509270224, "answer_id": 46998758, "question_id": 46998547, "link": "https://stackoverflow.com/questions/46998547/command-for-login-history-in-strawberry-perl-in-windows/46998758#46998758", "title": "Command for login history in Strawberry Perl in Windows", "body": "<p>You can't use the <code>last</code> command under windows, you'll have to use something like <a href=\"https://msdn.microsoft.com/en-us/library/bb742610.aspx\" rel=\"nofollow noreferrer\">wmic</a>, <code>net user</code> or similar, depending on what info you need/want.</p>\n"}], "owner": {"reputation": 939, "user_id": 7547739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a4001c729d2bb2d1ef7943a1a63936b?s=128&d=identicon&r=PG", "display_name": "Milad Hatami", "link": "https://stackoverflow.com/users/7547739/milad-hatami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 46998758, "answer_count": 1, "score": 1, "last_activity_date": 1509273744, "creation_date": 1509268458, "last_edit_date": 1509273744, "question_id": 46998547, "link": "https://stackoverflow.com/questions/46998547/command-for-login-history-in-strawberry-perl-in-windows", "title": "Command for login history in Strawberry Perl in Windows", "body": "<p>I am getting error i.e last is not recognized as a internal or external in cmd prompt</p>\n\n<p>What I have tried:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $d=system(\"last\");\nprint $d;\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509267320, "post_id": 46996702, "comment_id": 80943486, "body": "Using the <code>values</code> instead of the <code>keys</code> if you don&#39;t need the keys is an idiom that somehow never got stuck in my head. I have to remember it."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509267441, "post_id": 46996702, "comment_id": 80943515, "body": "@simbabque It&#39;s neat because you can use it to modify the values themselves: <code>for my $v (values %h) { $v++; }</code>. <code>values</code> returns a list of aliases and <code>for</code> aliases the loop variable to the current item, so <code>$v</code> directly refers each hash value."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509267704, "post_id": 46996702, "comment_id": 80943604, "body": "Yes, that&#39;s very useful. And it saves an arrow, if you use them, which I do. :-)"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509270249, "post_id": 46996702, "comment_id": 80944262, "body": "@simbabque Not only it saves an arrow, it also saves the hash lookup for <code>$v = $h{$k}</code>."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1509249130, "creation_date": 1509249130, "answer_id": 46996702, "question_id": 46996605, "link": "https://stackoverflow.com/questions/46996605/how-do-i-access-the-hash-represented-by-this-dumper-output/46996702#46996702", "title": "How do I access the hash represented by this dumper output?", "body": "<p>According to that output, <code>$paths</code> is a reference to a hash of references to hashes.</p>\n\n<p>If you know which path you want to extend, you don't need to iterate:</p>\n\n<pre><code>$paths-&gt;{'/foo/bar'}{'my_attribute'} = 42;\n</code></pre>\n\n<p>If you want to do this uniformly to all paths, you can do this:</p>\n\n<pre><code>for my $attrs (values %$paths) {\n    $attrs-&gt;{'my_attribute'} = 42;\n}\n</code></pre>\n\n<p>See <a href=\"https://metacpan.org/pod/perldata\" rel=\"nofollow noreferrer\"><code>perldoc perldata</code></a> for information about hashes and <a href=\"https://metacpan.org/pod/perlreftut\" rel=\"nofollow noreferrer\"><code>perldoc perlreftut</code></a> for references and nested data structures.</p>\n"}], "owner": {"reputation": 115, "user_id": 1684141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b494b6b50396c10b276e395da6335efe?s=128&d=identicon&r=PG", "display_name": "Lance Reynolds", "link": "https://stackoverflow.com/users/1684141/lance-reynolds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 46996702, "answer_count": 1, "score": 0, "last_activity_date": 1509282192, "creation_date": 1509248009, "last_edit_date": 1509282192, "question_id": 46996605, "link": "https://stackoverflow.com/questions/46996605/how-do-i-access-the-hash-represented-by-this-dumper-output", "title": "How do I access the hash represented by this dumper output?", "body": "<p>I am hacking a git-svn Perl script. I have a <code>$paths</code> variable which I think contains an array of individual paths, but I am having a hard time iterating over it. My end goal is to to add an additional attribute to one path.</p>\n\n<p>Here is the dumper output.</p>\n\n<pre><code>{\n    \"/dira\" =&gt; {\n        action        =&gt; \"A\",\n        copyfrom_path =&gt; undef,\n        copyfrom_rev  =&gt; -1\n    },\n    \"/dira/dirb\" =&gt; {\n        action        =&gt; \"A\",\n        copyfrom_path =&gt; undef,\n        copyfrom_rev  =&gt; -1\n    },\n    \"/dira/dirb/test.55mb.file\" =&gt; {\n        action        =&gt; \"A\",\n        copyfrom_path =&gt; undef,\n        copyfrom_rev  =&gt; -1\n    },\n}\n</code></pre>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509208937, "post_id": 46991277, "comment_id": 80930677, "body": "I would render error messages manually when they are not related to form validation. What you are proposing mixed up things and breaks the separation of concerns."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509362746, "post_id": 46991277, "comment_id": 80974423, "body": "@simbabque: How about <code>-&gt;error</code> helper which will allow to setup error: <code>$c-&gt;error( error_name =&gt; [ &#39;error_str&#39;, @context_data ]</code> and the <code>-&gt;errors</code> which will return controller and validation errors: { <code>%{ $c-&gt;{ error }, %{ $v-&gt;{ error } } }</code>"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1509204007, "creation_date": 1509204007, "question_id": 46991277, "link": "https://stackoverflow.com/questions/46991277/how-to-setup-general-errors-in-mojolicious", "title": "How to setup general errors in Mojolicious?", "body": "<p>The <a href=\"http://mojolicious.org/\" rel=\"nofollow noreferrer\">Mojolicious</a> has Validation and <a href=\"http://mojolicious.org/perldoc/Mojolicious/Validator/Validation#error\" rel=\"nofollow noreferrer\"><code>error</code></a> method to setup errors while validating <code>POST</code>ed form data.</p>\n\n<p>Should I use <code>$c-&gt;Validation-&gt;error</code> to setup general errors. Such as <em>login password error</em> or <em>captured database exception</em></p>\n\n<p>Example #1:</p>\n\n<pre><code>$c-&gt;validation-&gt;error( auth =&gt;  [ 'required_level', 'Forbidden', $rl ] );\n$c-&gt;render( 'auth/login',  status =&gt; 403 );\n</code></pre>\n\n<p>Example #2:</p>\n\n<pre><code>eval{ $package-&gt;db-&gt;update( $data ); 1}   or do {\n    $v-&gt;error( update =&gt; [ db =&gt; $@,  $package ] );\n    return $self-&gt;render( 'package/edit' );\n}\n</code></pre>\n\n<p>I am doubt because actually I have no <code>auth</code> and <code>update</code> fields.</p>\n\n<p>Please advice. Should I continue to use <code>Validation</code> object to setup such general errors or there are other best practices exist?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6201, "user_id": 1797006, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b1a413ea490f70dc5d27f3d7eba6b4f6?s=128&d=identicon&r=PG", "display_name": "Karl Richter", "link": "https://stackoverflow.com/users/1797006/karl-richter"}, "edited": false, "score": 3, "creation_date": 1509197520, "post_id": 46990230, "comment_id": 80927011, "body": "Show us the code you&#39;ve tried so far."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1509198096, "post_id": 46990230, "comment_id": 80927204, "body": "You need to use a reference to the array. A hash key can only hold a scalar."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1509199221, "post_id": 46990230, "comment_id": 80927536, "body": "Push is the wrong word here. You can push values into an array, but what you describe is that you want to store a reference of an existing array as the value of the key in a hash reference."}, {"owner": {"reputation": 35, "user_id": 5421926, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AoRB7OACZmQ/AAAAAAAAAAI/AAAAAAAAAMM/vRjw95mtmsU/photo.jpg?sz=128", "display_name": "Gyan Prakash Mishra", "link": "https://stackoverflow.com/users/5421926/gyan-prakash-mishra"}, "reply_to_user": {"reputation": 6201, "user_id": 1797006, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b1a413ea490f70dc5d27f3d7eba6b4f6?s=128&d=identicon&r=PG", "display_name": "Karl Richter", "link": "https://stackoverflow.com/users/1797006/karl-richter"}, "edited": false, "score": 0, "creation_date": 1509201777, "post_id": 46990230, "comment_id": 80928351, "body": "@KarlRichter i have edited my post and included code as well"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1509217163, "post_id": 46990230, "comment_id": 80933171, "body": "Note that if you want to make <code>@value</code> an array of hashes, I would use a fat comma <code>=&gt;</code> instead of regular comma. Maybe you wanted to make <code>@value</code> an array of arrays and not an array of hashes?"}], "answers": [{"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1509286106, "creation_date": 1509286106, "answer_id": 47001122, "question_id": 46990230, "link": "https://stackoverflow.com/questions/46990230/how-to-push-an-array-into-nested-hash/47001122#47001122", "title": "How to push an array into nested hash", "body": "<p>Use square brackets for anonymous arrays. Use curly braces for anonymous hashes.</p>\n\n<pre><code>    push @value, [ $region[3], $region[4] ];\n    push @{$hash{$div[1]}{$region[0]}}, [ $region[3], $region[4] ];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": true, "score": 0, "last_activity_date": 1509363112, "creation_date": 1509363112, "answer_id": 47014201, "question_id": 46990230, "link": "https://stackoverflow.com/questions/46990230/how-to-push-an-array-into-nested-hash/47014201#47014201", "title": "How to push an array into nested hash", "body": "<p>Here is the code to create the multidimensional hash.</p>\n\n<pre><code>my $filename = 'out.txt';\nmy %hash = ();\nopen(my $fh, $filename) or die \"Could not open file '$filename' $!\";\nwhile (my $line = &lt;$fh&gt;) {\n        chomp $row;\n        if ($line !~ /#/)\n        {\n                @region = split /\\t/, $line;\n                $len = scalar @region;\n                if($len &gt;8){\n                        @ancestor = split /:/, $region[8];\n                        my @div = split /\\s/, $ancestor[0];\n                        push @value, {$region[3],$region[4]};\n                        push @{$hash{$div[1]}{$region[0]}},[$region[3],$region[4]];\n                }\n        }\n}\n</code></pre>\n\n<p>Now to access the hash you can use the below code:</p>\n\n<pre><code>for my $key1 (keys %hash) {\n        print(\"Hello $key1\");\n        for my $key2 (keys %{$hash{$key1}}){\n                print(\"\\t$key2\\n\");\n                @res = @{$hash{$key1}{$key2}};\n                foreach my $arr(@res){\n                        print(\"\\t\\t\");\n                        print join(\",\", @{$arr}), \"\\n\";\n                }\n\n        }\n        print(\"\\n\");\n}\n</code></pre>\n\n<p>Hope the above code will work for you.If you need any further help, let me know in comments. </p>\n"}], "owner": {"reputation": 35, "user_id": 5421926, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AoRB7OACZmQ/AAAAAAAAAAI/AAAAAAAAAMM/vRjw95mtmsU/photo.jpg?sz=128", "display_name": "Gyan Prakash Mishra", "link": "https://stackoverflow.com/users/5421926/gyan-prakash-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "accepted_answer_id": 47014201, "answer_count": 2, "score": -1, "last_activity_date": 1509363112, "creation_date": 1509197208, "last_edit_date": 1509201744, "question_id": 46990230, "link": "https://stackoverflow.com/questions/46990230/how-to-push-an-array-into-nested-hash", "title": "How to push an array into nested hash", "body": "<p>Does anybody can explain that how can i push array into nested hash. suppose I create a nested hash and want to push an array into key which is a value of another key and also how to access those values of array. pardon me, If i am technically wrong in explaining my query.</p>\n\n<p>Here is part of my code:</p>\n\n<pre><code>    if ($line !~ /#/)\n    {\n            @region = split /\\t/, $line;\n            @ancestor = split /:/, $region[8];\n            my @div = split /\\s/, $ancestor[0];\n            push @value, {$region[3],$region[4]};\n            #print \"$region[3],$region[4]\\n\";\n            push @{$hash{$div[1]}{$region[0]}},$region[3],$region[4];\n     }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1509199885, "post_id": 46988473, "comment_id": 80927763, "body": "No, the code is not fine. Replace the first semi-colon with a comma. <code>print color(&quot;red&quot;), &quot;INPUT&gt;&quot;, color(&quot;reset&quot;);</code>  Copy and paste the code rather than recreate it. Place each statement on a new line for easier reading."}], "answers": [{"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 6, "last_activity_date": 1509186072, "last_edit_date": 1509186072, "creation_date": 1509185461, "answer_id": 46988543, "question_id": 46988473, "link": "https://stackoverflow.com/questions/46988473/error-trying-to-insert-colored-print-in-perl/46988543#46988543", "title": "Error trying to insert colored print in perl", "body": "<p>Use the <a href=\"https://metacpan.org/pod/Term::ANSIColor\" rel=\"noreferrer\"><code>Term::ANSIColor</code></a> module.</p>\n\n<p>From the <a href=\"https://metacpan.org/pod/Term::ANSIColor#SYNOPSIS\" rel=\"noreferrer\">documentation</a>:</p>\n\n<pre><code>use Term::ANSIColor;\nprint color('bold blue');\nprint \"This text is bold blue.\\n\";\nprint color('reset');\nprint \"This text is normal.\\n\";\nprint colored(\"Yellow on magenta.\", 'yellow on_magenta'), \"\\n\";\nprint \"This text is normal.\\n\";\nprint colored(['yellow on_magenta'], 'Yellow on magenta.', \"\\n\");\nprint colored(['red on_bright_yellow'], 'Red on bright yellow.', \"\\n\");\nprint colored(['bright_red on_black'], 'Bright red on black.', \"\\n\");\nprint \"\\n\";\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8825940"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1509186072, "creation_date": 1509184908, "question_id": 46988473, "link": "https://stackoverflow.com/questions/46988473/error-trying-to-insert-colored-print-in-perl", "title": "Error trying to insert colored print in perl", "body": "<p>That's the code:   </p>\n\n<pre><code>print color(\"red\"), \"INPUT&gt;\"; color(\"reset\"); chomp($ip = &lt;STDIN&gt;);\n</code></pre>\n\n<p>In cmd, everything is fine 'til this line. The error is: <em>Undefined subroutine &amp;main::color called at script2.pl line 7.</em></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1509246852, "post_id": 46987497, "comment_id": 80939552, "body": "<b>Always</b> use <code>use strict; use warnings qw( all );</code>!!!"}], "answers": [{"comments": [{"owner": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "edited": false, "score": 0, "creation_date": 1509177646, "post_id": 46987539, "comment_id": 80921847, "body": "Can you explain how the strings are being cast with the <code>==</code> operator such that they&#39;re equal? I would expect them to be compared by length with that operator, but that&#39;s obviously not the case."}, {"owner": {"reputation": 872, "user_id": 8077259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E1wSe.jpg?s=128&g=1", "display_name": "caylee", "link": "https://stackoverflow.com/users/8077259/caylee"}, "reply_to_user": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "edited": false, "score": 2, "creation_date": 1509177771, "post_id": 46987539, "comment_id": 80921875, "body": "Strings evaluate to the number zero always. Note &quot;2foo&quot; would fail. See <a href=\"https://stackoverflow.com/a/14046696\">stackoverflow.com/a/14046696</a>"}, {"owner": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "edited": false, "score": 0, "creation_date": 1509178002, "post_id": 46987539, "comment_id": 80921911, "body": "Oh, thanks! I was mixing the string-&gt;number coercion with vector-&gt;number coercion. I&#39;ve been on Perl 6 for a while, so I&#39;ve forgotten the implicit details, since everything is more explicit in the next generation."}, {"owner": {"reputation": 872, "user_id": 8077259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E1wSe.jpg?s=128&g=1", "display_name": "caylee", "link": "https://stackoverflow.com/users/8077259/caylee"}, "reply_to_user": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "edited": false, "score": 0, "creation_date": 1509178306, "post_id": 46987539, "comment_id": 80921980, "body": "Thanks in advance for accepting my answer :)"}, {"owner": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "edited": false, "score": 0, "creation_date": 1509178895, "post_id": 46987539, "comment_id": 80922083, "body": "It&#39;s not my question--I was trying to write an answer myself before you did, but I got stuck in explaining why the problem occurs. (Hence, my question to you.) Why don&#39;t you add that to your main answer above? That way you can not only correct, but teach."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 2, "creation_date": 1509183197, "post_id": 46987539, "comment_id": 80923089, "body": "@xanoetux - Strings do <b>not</b> always evaluate numerically to 0. A string beginning with a number (such as your &quot;2foo&quot; example) evaluates as the number it begins with: <code>perl -E &#39;say &quot;2foo&quot; + 0&#39;</code> prints <code>2</code>, not <code>0</code>, and <code>perl -E &#39;say &quot;foo&quot; == &quot;2foo&quot; ? &quot;equal&quot; : &quot;not equal&quot;&#39;</code> says <code>not equal</code>."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 1, "creation_date": 1509183753, "post_id": 46987539, "comment_id": 80923221, "body": "(My preceding comment is in reference to your comment which incorrectly states &quot;Strings evaluate to the number zero always.&quot;  The actual answer has it right.)"}, {"owner": {"reputation": 872, "user_id": 8077259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E1wSe.jpg?s=128&g=1", "display_name": "caylee", "link": "https://stackoverflow.com/users/8077259/caylee"}, "edited": false, "score": 0, "creation_date": 1509183844, "post_id": 46987539, "comment_id": 80923244, "body": "Yes, I saw that too. But I cannot correct it now. As you said, the answer is clear"}], "tags": [], "owner": {"reputation": 872, "user_id": 8077259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E1wSe.jpg?s=128&g=1", "display_name": "caylee", "link": "https://stackoverflow.com/users/8077259/caylee"}, "is_accepted": false, "score": 4, "last_activity_date": 1509180582, "last_edit_date": 1509180582, "creation_date": 1509177585, "answer_id": 46987539, "question_id": 46987497, "link": "https://stackoverflow.com/questions/46987497/if-in-perl-doesnt-work-did-i-made-a-mistake/46987539#46987539", "title": "If in Perl doesn&#39;t work. Did I made a mistake?", "body": "<p>To compare strings the <code>eq</code> operator is used. I made this mistake often, too.</p>\n\n<pre><code>\u2026\nif ($password eq \"admin\")\n\u2026\n</code></pre>\n\n<p>If you are using the <code>==</code> operator on strings, a number contained in the string is converted: <code>foo</code> goes to zero, <code>2foo</code> goes to <code>2</code></p>\n"}, {"tags": [], "owner": {"reputation": 1427, "user_id": 4381423, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W5qHX.jpg?s=128&g=1", "display_name": "Mark Mucha", "link": "https://stackoverflow.com/users/4381423/mark-mucha"}, "is_accepted": false, "score": 2, "last_activity_date": 1509177675, "creation_date": 1509177675, "answer_id": 46987550, "question_id": 46987497, "link": "https://stackoverflow.com/questions/46987497/if-in-perl-doesnt-work-did-i-made-a-mistake/46987550#46987550", "title": "If in Perl doesn&#39;t work. Did I made a mistake?", "body": "<p>Perl uses eq instead of == for string comparison.</p>\n\n<p>Change </p>\n\n<pre><code>if ($password == \"admin\")\n{\n     print \"Password is correct!\";\n}\n</code></pre>\n\n<p>To </p>\n\n<pre><code>if ($password eq \"admin\")\n{\n     print \"Password is correct!\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 8846994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2df8d48632a5f07f0e5561fb790dc46?s=128&d=identicon&r=PG&f=1", "display_name": "ushertwice", "link": "https://stackoverflow.com/users/8846994/ushertwice"}, "is_accepted": false, "score": 5, "last_activity_date": 1509177891, "creation_date": 1509177891, "answer_id": 46987571, "question_id": 46987497, "link": "https://stackoverflow.com/questions/46987497/if-in-perl-doesnt-work-did-i-made-a-mistake/46987571#46987571", "title": "If in Perl doesn&#39;t work. Did I made a mistake?", "body": "<p>The Comparison Operator \"==\" is used to compare numbers whereas the operator \"eq\" is used to compare strings.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8825940"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "closed_date": 1509181208, "answer_count": 3, "score": 1, "last_activity_date": 1509180582, "creation_date": 1509177257, "question_id": 46987497, "link": "https://stackoverflow.com/questions/46987497/if-in-perl-doesnt-work-did-i-made-a-mistake", "closed_reason": "Duplicate", "title": "If in Perl doesn&#39;t work. Did I made a mistake?", "body": "<p>I began learning Perl yesterday. I have written this code:</p>\n\n<pre><code>print \"Please type in your password.\\n\";\nprint \"Password: \";\nchomp($password = &lt;&gt;);\nif ($password == \"admin\")\n{\n print \"Password is correct!\";\n}\nelse\n{\n print \"Password is incorrect!\";\n}\n</code></pre>\n\n<p>When I write \"admin\" it tells me that the password is correct but when I write every other password it tells me the same thing. It's like the if doesn't execute. What can I do?</p>\n"}, {"tags": ["perl", "if-statement", "directory"], "answers": [{"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 3, "last_activity_date": 1509162840, "creation_date": 1509162840, "answer_id": 46986073, "question_id": 46985791, "link": "https://stackoverflow.com/questions/46985791/perl-directory-is-getting-past-if-d-statement-readdir-results/46986073#46986073", "title": "Perl directory is getting past if(! -d) statement? [readdir results]", "body": "<p><code>$fp</code> as set by <code>readdir</code> is relative to scanned directory. <code>chdir</code> to the scanned directory or prepend the scanned directory name for <code>-d</code> test.</p>\n\n<p>You use <code>\"$ARGV[0]/$fp\"</code> as argument to move function.</p>\n\n<p><code>perldoc -f readdir</code></p>\n\n<blockquote>\n  <p>readdir DIRHANDLE<br>\n              Returns the next directory entry for a directory opened by\n              \"opendir\". [\u2026]<br>\n              If you're planning to filetest the return values out of a\n              \"readdir\", you'd better prepend the directory in question.\n              Otherwise, because we didn't \"chdir\" there, it would have been\n              testing the wrong file.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1509203104, "creation_date": 1509203104, "answer_id": 46991141, "question_id": 46985791, "link": "https://stackoverflow.com/questions/46985791/perl-directory-is-getting-past-if-d-statement-readdir-results/46991141#46991141", "title": "Perl directory is getting past if(! -d) statement? [readdir results]", "body": "<p>Some suggestions.</p>\n\n<p>\u2023 Don't use the -w flag with Perl. Some modules turn warnings off to do their work but the -w flag is global. With it, they will report warnings that should be ignored.</p>\n\n<p>\u2023 Always have these two lines at the top of every script.</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>These will catch a lot of errors in your code. See <a href=\"http://perldoc.perl.org/strict.html\" rel=\"nofollow noreferrer\"><code>perldoc strict</code></a> and <a href=\"http://perldoc.perl.org/warnings.html\" rel=\"nofollow noreferrer\"><code>perldoc warnings</code></a> for more details.</p>\n\n<p>\u2023 Use <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow noreferrer\"><code>glob()</code></a> or <a href=\"http://perldoc.perl.org/File/Find.html\" rel=\"nofollow noreferrer\"><code>Find::Find</code></a> instead of opendir/readdir/closedir.</p>\n\n<p>\u2023 Use  <code>make_path()</code> from <a href=\"http://perldoc.perl.org/File/Path.html\" rel=\"nofollow noreferrer\"><code>File::Path</code></a> instead of <code>mkdir</code>.</p>\n\n<p>\u2023 Use an <code>if</code> statement for conditional execution instead of <code>&amp;&amp;</code>.</p>\n\n<p>\u2023 Place blank lines in your code to make reading it easier.</p>\n\n<p><code>File::Find</code> and <code>File::path</code> are standard modules that come installed with Perl. For a list of the standard modules, see <a href=\"http://perldoc.perl.org/perlmodlib.html\" rel=\"nofollow noreferrer\"><code>perldoc perlmodlib</code></a>.</p>\n\n<pre><code>#!/usr/bin/perl\n\n# --------------------------------------\n# pragmas\n\nuse strict;\nuse warnings;\n\n# --------------------------------------\n# modules\nuse File::Copy;\nuse File::Path   qw( make_path );\n\n# --------------------------------------\n# main\n\n# make sure there is something to work on\nif(@ARGV &lt; 1){\n    print \"\\nUsage: proj6.pl &lt;directory&gt;\\n\\n\";\n    exit;\n}\n\n# arguments should be directories\nfor my $src_dir ( @ARGV ){\n\n    # validate the source directory\n    die(\"\\n$src_dir does not exist\\n\\n\")     if( ! -e $src_dir);\n    die(\"\\n$src_dir is not a directory\\n\\n\") if( ! -d $src_dir);\n\n    # move proj* files\n    for my $proj ( glob( \"$src_dir/proj*\" )){\n\n        # get the proj number\n        ( my $number ) = $proj =~ m/proj(.*)\\./;\n\n        # get the destination directory\n        my $dst_dir = \"$src_dir/assignment$number\";\n\n        # create the directory where it goes\n        if( ! -d $dst_dir ){\n            make_path( $dst_dir ) or die \"could not make path $dst_dir\";\n        }\n\n        # move the file\n        move( $proj, $dst_dir ) or die( \"could not move file $proj to destination $dst_dir\" );\n\n    } # end of $proj files\n\n    # move other files\n    for my $file ( grep { ! -d } glob( \"$src_dir/*\" )){\n\n        # get the destination directory\n        my $dst_dir = \"$src_dir/misc\";\n\n        # create the directory where it goes\n        if( ! -d $dst_dir ){\n            make_path( $dst_dir ) or die \"could not make path $dst_dir\";\n        }\n\n        # move the file\n        move( $file, $dst_dir ) or die( \"could not move file $file to destination $dst_dir\" );\n\n    } # end other files\n\n} # end of src_dir\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 7594127, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/965c731d858cdf1a15090769f9171075?s=128&d=identicon&r=PG&f=1", "display_name": "below_avg_st", "link": "https://stackoverflow.com/users/7594127/below-avg-st"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 46986073, "answer_count": 2, "score": 0, "last_activity_date": 1509203104, "creation_date": 1509159500, "last_edit_date": 1509169415, "question_id": 46985791, "link": "https://stackoverflow.com/questions/46985791/perl-directory-is-getting-past-if-d-statement-readdir-results", "title": "Perl directory is getting past if(! -d) statement? [readdir results]", "body": "<p>Okay so I have a program that basically looks into a passed in directory, if any file names match a pattern I will make a directory and move that specific file and any that matches it (regardless of extension) into that directory. Now if they don't match I should move them into the <code>PassedInDir/misc/</code> directory.</p>\n\n<p>I have a condition in both cases to avoid passing in any directory (as my program isn't ready to deal with those yet) something like <code>if( ! -d $fp)</code>.</p>\n\n<p>Everything works fine when I run it the first time in the directory. However when I run it again on the same directory (which should now only contain directories) I get the Error <code>Could not move file assignmentZ to destination DataB/misc at projectSorter.pl line 16.</code>. AssignmentZ is a directory however its somehow getting past the <code>(!-d)</code> in the second case.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse File::Copy;\nif(@ARGV &lt; 1){\n    print \"\\nUsage: proj6.pl &lt;directory&gt;\\n\\n\";\n    exit;\n}\ndie(\"\\nDirectory $ARGV[0] does not exist\\n\\n\") if( ! -e $ARGV[0]);\nopendir( DIR, $ARGV[0]) or die(\"\\nCould not open directory $ARGV[0]\\n\\n\");\nwhile(($fp = readdir(DIR))){\n    if($fp =~ m/proj(.*)\\./){\n        (! -d \"$ARGV[0]/assignment$1\") &amp;&amp; (mkdir \"$ARGV[0]/assignment$1\");\n        move(\"$ARGV[0]/$fp\" , \"$ARGV[0]/assignment$1\") or die(\"Could not move file $fp to destination $ARGV[0]/assignment$1\");\n    }\n    elsif(! -d $fp){  #gets past here!!!\n        (! -d \"$ARGV[0]/misc\") &amp;&amp; (mkdir \"$ARGV[0]/misc\");\n        move(\"$ARGV[0]/$fp\" , \"$ARGV[0]/misc\") or die(\"Could not move file $fp to destination $ARGV[0]/misc\");\n    }\n}\n</code></pre>\n\n<p>It is the only directory to do it out of the ones previously made by running my program once. I am curious about why this is happening.</p>\n"}, {"tags": ["perl", "sockets", "remote-server", "mojolicious"], "comments": [{"owner": {"reputation": 146, "user_id": 7408563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U871e.jpg?s=128&g=1", "display_name": "asthman", "link": "https://stackoverflow.com/users/7408563/asthman"}, "edited": false, "score": 0, "creation_date": 1509161019, "post_id": 46985729, "comment_id": 80919003, "body": "Address already is use, the default port is 8080. You can change the port of the Mojo app or kill the app running in 8080."}, {"owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "reply_to_user": {"reputation": 146, "user_id": 7408563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U871e.jpg?s=128&g=1", "display_name": "asthman", "link": "https://stackoverflow.com/users/7408563/asthman"}, "edited": false, "score": 0, "creation_date": 1509163550, "post_id": 46985729, "comment_id": 80919329, "body": "How should I check and kill the running app?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1509181455, "post_id": 46985729, "comment_id": 80922664, "body": "<code>hypnotoad --stop</code>"}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 4, "last_activity_date": 1509205099, "creation_date": 1509205099, "answer_id": 46991446, "question_id": 46985729, "link": "https://stackoverflow.com/questions/46985729/how-to-open-socket-for-hypnotoad/46991446#46991446", "title": "How to open socket for Hypnotoad", "body": "<p>With <code>netstat</code> you can find <code>PID</code> of process holding 8080 port, and send <code>SIGTERM</code> to stop it,</p>\n\n<pre><code>netstat -lntp | perl -nE '/:8080/ or next; say and kill(15, $_) for m|(\\d+)/|'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1493, "user_id": 555451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92649572223f7fa0485d3e87805159b4?s=128&d=identicon&r=PG", "display_name": "Stuart Cardall", "link": "https://stackoverflow.com/users/555451/stuart-cardall"}, "is_accepted": false, "score": 2, "last_activity_date": 1521474077, "last_edit_date": 1521474077, "creation_date": 1521473674, "answer_id": 49366797, "question_id": 46985729, "link": "https://stackoverflow.com/questions/46985729/how-to-open-socket-for-hypnotoad/49366797#49366797", "title": "How to open socket for Hypnotoad", "body": "<p>To start <code>hypnotoad</code> on a different port to the default <code>8080</code> I use:</p>\n\n<pre><code>#myapp\n\nuse Mojolicious::Lite;\n\n# mojo will look for a *.conf with the same name \n# as the application\napp-&gt;plugin('Config');\napp-&gt;start;\n</code></pre>\n\n<p>with a config file:</p>\n\n<pre><code># myapp.conf\n{\n  hypnotoad =&gt; {\n    listen  =&gt; ['http://*:3000'],\n    workers =&gt; 4\n  }\n};\n</code></pre>\n\n<p>See the <a href=\"http://www.mojolicious.org/perldoc/Mojo/Server/Hypnotoad\" rel=\"nofollow noreferrer\">Perldoc</a> for the various config options.</p>\n"}], "owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "accepted_answer_id": 46991446, "answer_count": 2, "score": 2, "last_activity_date": 1521474077, "creation_date": 1509158556, "question_id": 46985729, "link": "https://stackoverflow.com/questions/46985729/how-to-open-socket-for-hypnotoad", "title": "How to open socket for Hypnotoad", "body": "<p>Trying to give mojolicious apps a try but having difficulty running them from the server with hypnotoad.</p>\n\n<pre><code>[user@server public_html]$ hypnotoad -t app/script/app \nEverything looks good!\n[user@server public_html]$ hypnotoad app/script/app \nCan't create listen socket: Address already in use at /usr/local/share/perl5/Mojo/IOLoop.pm line 126.\n</code></pre>\n\n<p>It would appear that everything is in place to be able to start app in hypnotoad but this doesn't work. How would one go about closing whatever is stopping mojolicous from listening on the socket? Or is there a better way to solve this?</p>\n"}, {"tags": ["regex", "perl", "file", "grep"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1509151523, "post_id": 46985183, "comment_id": 80917679, "body": "Start every Perl file with <code>use strict; use warnings;</code>. Don&#39;t use <code>-w</code>; it&#39;s been superseded by <code>warnings</code> in 2000."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1516305630, "last_edit_date": 1516305630, "creation_date": 1509176844, "answer_id": 46987446, "question_id": 46985183, "link": "https://stackoverflow.com/questions/46985183/how-to-handle-files-that-do-not-contain-a-pattern/46987446#46987446", "title": "How to handle files that do not contain a pattern?", "body": "<p>In order to decide whether to print or not a file based on its content you have to first read the file. With your criterion -- that a phrase does not exist -- you have to check the whole file.</p>\n\n<p>A standard way is to use a separate variable (\"flag\") to record the condition then go back to print</p>\n\n<pre><code>my $has_match;\nwhile (&lt;$fh&gt;) {\n   if (/$pattern/) {\n       $has_match = 1;\n       last;\n   }\n}\nif (not $has_match) {\n    seek $fh, 0, 0;     # rewind to the beginning\n    print while &lt;$fh&gt;;\n}\n</code></pre>\n\n<p>This can be simplified by reading the file into a variable first, and by using <a href=\"https://perldoc.perl.org/functions/next.html\" rel=\"nofollow noreferrer\">labels</a> (also see <a href=\"https://perldoc.perl.org/perlsyn.html\" rel=\"nofollow noreferrer\">perlsyn</a>)</p>\n\n<pre><code>FILE: foreach my $file (@filesmatch) {\n    open my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n    my @lines = &lt;$fh&gt;;\n\n    for (@lines) {\n        next FILE if /$pattern/;\n    }   \n    print for @lines;\n}\n</code></pre>\n\n<p>Note that skipping an iteration in the middle of a loop isn't the cleanest way since one has to always keep in mind  that the rest of the loop may not run. </p>\n\n<p>Each file is read first so that we don't read it twice, but don't do that if any of the files can be huge.  </p>\n\n<hr>\n\n<p>If there is any command line processing it is better to use a module; <a href=\"https://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow noreferrer\">Getopt::Long</a> is nice.</p>\n\n<pre><code>use Getopt::Long;\n\nmy ($inverse, $pattern);    \nGetOptions('inverse|i' =&gt; \\$inverse, 'pattern=s' =&gt; \\$pattern)\n    or usage(), exit;    \nusage(), exit if not $pattern or not @ARGV;\n\nsub usage { say STDERR \"Usage: $0 ... \" }\n</code></pre>\n\n<p>Call the program as <code>progname [-i] --patern PATTERN files</code>. The module provides a lot, please see docs.  For example, in this case you can also just use <code>-p PATTERN</code>. </p>\n\n<p>As <code>GetOptions</code> parses the command line the submitted options are removed from <code>@ARGV</code> and what remains in it are file names. And you have the <code>$inverse</code> variable to nicely make decisions.</p>\n\n<hr>\n\n<p>Please have <code>use warnings;</code> (<em>not</em> <code>-w</code>) and <code>use strict;</code> at the top of every program.</p>\n"}], "owner": {"reputation": 177, "user_id": 7594127, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/965c731d858cdf1a15090769f9171075?s=128&d=identicon&r=PG&f=1", "display_name": "below_avg_st", "link": "https://stackoverflow.com/users/7594127/below-avg-st"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 1, "accepted_answer_id": 46987446, "answer_count": 1, "score": 2, "last_activity_date": 1516305630, "creation_date": 1509151407, "last_edit_date": 1516000852, "question_id": 46985183, "link": "https://stackoverflow.com/questions/46985183/how-to-handle-files-that-do-not-contain-a-pattern", "title": "How to handle files that do not contain a pattern?", "body": "<p>I need help with my Perl program. The idea is to pass in a pattern and a file list from the command line. If\u00a0the\u00a0file\u00a0name\u00a0matches the pattern, print the file name. Then if the file name doesn't match, it should look for instances of the pattern in the text of the file and print <strong>filename : first line of text that contained occurrence</strong>. </p>\n\n<p>However should the user add the <code>-i</code> option at the beginning the opposite should occur. If the filename does not match print it. Then print any files that do not contain any instances of the pattern in their text.</p>\n\n<p>This last part is where I'm struggling I'm not exactly sure how to get files that don't have the pattern in their text. For example in my code</p>\n\n<pre><code>#!/usr/bin/perl -w\ndie(\"\\n Usage: find.pl [-i] &lt;perlRegexPattern&gt; &lt;listOfFiles&gt;\\n\\n\") if(@ARGV&lt;2);\n\nmy (@array,$pattern,@filesmatch,@files);\n#I can separate files based on name match\n($pattern,@array) = ($ARGV[0] eq \"-i\") ? (@ARGV[1 .. $#ARGV]) : (@ARGV);\n\nforeach(@array){\n    ($_ =~ m/.*\\/?$pattern/) ? (push @filesmatch,$_) : (push @files, $_);\n}\n#and I can get files that contain a pattern match in their text\nif($ARGV[0] ne \"-i\"){\n    for my $matches(@filesmatch){ #remove path print just file name\n        $matches =~s/.*\\///;      #/\n        print \"$matches\\n\";\n    }\n    for my $file(@files){\n        open(FILE,'&lt;',$file) or die(\"\\nCould not open file $file\\n\\n\");\n        while(my $line = &lt;FILE&gt;){\n            if($line =~ m/$pattern/){\n                $file =~ s/.*\\///; #/ remove path print just file name\n                print \"$file: $line\";\n                next;\n            }\n        }\n    }\n}\n#however I'm not sure how to say this file dosen't have any matches so print it\nelse{\n    for my $matches(@files){ #remove path print just file name\n        $matches =~ s/.*\\///;\n        print \"$matches\\n\";\n    }\n    for my $file(@filesmatch){\n        open(FILE,'&lt;',$file) or die(\"\\nCould not open file $file\\n\\n\");;\n        while(my $line = &lt;FILE&gt;){...\n</code></pre>\n\n<p>I'm not sure if something like <code>grep</code> could be used to do this but I'm having a hard time working with Perl's <code>grep</code>.</p>\n"}, {"tags": ["perl", "unicode", "encoding", "utf-8"], "comments": [{"owner": {"reputation": 146, "user_id": 7408563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U871e.jpg?s=128&g=1", "display_name": "asthman", "link": "https://stackoverflow.com/users/7408563/asthman"}, "edited": false, "score": 0, "creation_date": 1509158681, "post_id": 46984007, "comment_id": 80918672, "body": "You need to check the $record-&gt;{&#39;lastname&#39;} and $record-&gt;{&#39;firstname&#39;} utf8 flag use Encode:is_utf8(). If they are all utf8 or not, you can concat them."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1509164793, "post_id": 46984007, "comment_id": 80919503, "body": "Please provide the output of <code>sprintf &quot;%vX&quot;, $value</code> for a string that doesn&#39;t work well, and provide what you expect to see for that string."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1509164854, "post_id": 46984007, "comment_id": 80919510, "body": "<b>Never</b> use <code>Encode::is_utf8</code> except in debug statements. Code that relies on its result is guaranteed to be buggy."}, {"owner": {"reputation": 731, "user_id": 5613367, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-ZDZV06Q_DNI/AAAAAAAAAAI/AAAAAAAAAH8/yz_JRBIXnoM/photo.jpg?sz=128", "display_name": "Pat Jones", "link": "https://stackoverflow.com/users/5613367/pat-jones"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1509398595, "post_id": 46984007, "comment_id": 80995845, "body": "Thanks @ikegami. I get: 53.C3.B8.72.65.6E, for a string that I expect to appear as &quot;S&#248;ren&quot; but instead is appearing as &quot;S&#195;&#184;ren&quot;. My test script correctly prints &quot;S&#248;ren&quot; and &quot;53.F8.72.65.6E&quot; to the console."}, {"owner": {"reputation": 731, "user_id": 5613367, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-ZDZV06Q_DNI/AAAAAAAAAAI/AAAAAAAAAH8/yz_JRBIXnoM/photo.jpg?sz=128", "display_name": "Pat Jones", "link": "https://stackoverflow.com/users/5613367/pat-jones"}, "edited": false, "score": 0, "creation_date": 1509398809, "post_id": 46984007, "comment_id": 80995948, "body": "It would seem that I&#39;m reading from the database just fine, and that it is the HTTP response encoding that is causing the problem (as Dave is, I think, suggesting below)."}], "answers": [{"comments": [{"owner": {"reputation": 731, "user_id": 5613367, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-ZDZV06Q_DNI/AAAAAAAAAAI/AAAAAAAAAH8/yz_JRBIXnoM/photo.jpg?sz=128", "display_name": "Pat Jones", "link": "https://stackoverflow.com/users/5613367/pat-jones"}, "edited": false, "score": 0, "creation_date": 1509398626, "post_id": 47016896, "comment_id": 80995860, "body": "I&#39;m not a Perl developer, or even much of a web developer; this just landed in my lap, so I appreciate the direction. The database tables are encoded as &quot;SQL_Latin1_General_CP1_CI_AS&quot;. The database connection utilizes DBI...I&#39;m fairly certain that it is automatically decoding, since the same code is writing the proper characters to the console in my test script. That&#39;s what leads me to believe that your third question is the key here. How can I determine my HTTP response encoding?"}, {"owner": {"reputation": 731, "user_id": 5613367, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-ZDZV06Q_DNI/AAAAAAAAAAI/AAAAAAAAAH8/yz_JRBIXnoM/photo.jpg?sz=128", "display_name": "Pat Jones", "link": "https://stackoverflow.com/users/5613367/pat-jones"}, "edited": false, "score": 0, "creation_date": 1509407498, "post_id": 47016896, "comment_id": 80998962, "body": "To be clear, the HTML header has &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;, which I take to mean that the browser expects UTF-8, which I think is what you meant by your third question."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1509371359, "creation_date": 1509371359, "answer_id": 47016896, "question_id": 46984007, "link": "https://stackoverflow.com/questions/46984007/perl-drop-down-menus-and-unicode/47016896#47016896", "title": "Perl drop down menus and Unicode", "body": "<p>Hard to give a definitive solution as you don't give us much useful information. But here are some pointers that might help.</p>\n\n<ul>\n<li><code>use utf8</code> only tells Perl that your source code is encoded as UTF-8. It does nothing useful here.</li>\n<li>Reading <a href=\"https://perldoc.perl.org/perlunitut.html\" rel=\"nofollow noreferrer\">perldoc perlunitut</a> would be a good start.</li>\n<li>Do you know how your database tables are encoded?</li>\n<li>Do you know whether your database connection is configured to automatically decode data coming from the database into Perl characters?</li>\n<li>What encoding are you telling the browser that you have encoded your HTTP response in?</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 731, "user_id": 5613367, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-ZDZV06Q_DNI/AAAAAAAAAAI/AAAAAAAAAH8/yz_JRBIXnoM/photo.jpg?sz=128", "display_name": "Pat Jones", "link": "https://stackoverflow.com/users/5613367/pat-jones"}, "edited": false, "score": 0, "creation_date": 1509468463, "post_id": 47027979, "comment_id": 81027683, "body": "Absolutely correct. When I removed the <code>binmode(STDOUT, &quot;:utf8&quot;)</code> and used <code>Encode::decode(&#39;UTF-8&#39;, $record-&gt;{&#39;lastname&#39;} . &quot;, &quot; . $record-&gt;{&#39;nickname&#39;})</code> - all was well. Thank you for your help. I&#39;m just starting to learn how encoding and character sets work so I appreciate the patience."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 731, "user_id": 5613367, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-ZDZV06Q_DNI/AAAAAAAAAAI/AAAAAAAAAH8/yz_JRBIXnoM/photo.jpg?sz=128", "display_name": "Pat Jones", "link": "https://stackoverflow.com/users/5613367/pat-jones"}, "edited": false, "score": 0, "creation_date": 1509470164, "post_id": 47027979, "comment_id": 81028813, "body": "NO!!! Keep <code>binmode(STDOUT, &quot;:utf8&quot;)</code>. You need to encode your outputs!"}, {"owner": {"reputation": 731, "user_id": 5613367, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-ZDZV06Q_DNI/AAAAAAAAAAI/AAAAAAAAAH8/yz_JRBIXnoM/photo.jpg?sz=128", "display_name": "Pat Jones", "link": "https://stackoverflow.com/users/5613367/pat-jones"}, "edited": false, "score": 0, "creation_date": 1509470652, "post_id": 47027979, "comment_id": 81029102, "body": "Retaining <code>binmode(STDOUT, &quot;:utf8&quot;)</code> causes the output to revert to garbage though. I&#39;m confused..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 731, "user_id": 5613367, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-ZDZV06Q_DNI/AAAAAAAAAAI/AAAAAAAAAH8/yz_JRBIXnoM/photo.jpg?sz=128", "display_name": "Pat Jones", "link": "https://stackoverflow.com/users/5613367/pat-jones"}, "edited": false, "score": 0, "creation_date": 1509470843, "post_id": 47027979, "comment_id": 81029214, "body": "Then you have an additional problem to fix you mentioned nothing about."}, {"owner": {"reputation": 731, "user_id": 5613367, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-ZDZV06Q_DNI/AAAAAAAAAAI/AAAAAAAAAH8/yz_JRBIXnoM/photo.jpg?sz=128", "display_name": "Pat Jones", "link": "https://stackoverflow.com/users/5613367/pat-jones"}, "edited": false, "score": 0, "creation_date": 1509499046, "post_id": 47027979, "comment_id": 81040866, "body": "I edited my post with a more comprehensive code snippet. I can&#39;t think of what else to provide, but I do appreciate your help. Thanks."}, {"owner": {"reputation": 731, "user_id": 5613367, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-ZDZV06Q_DNI/AAAAAAAAAAI/AAAAAAAAAH8/yz_JRBIXnoM/photo.jpg?sz=128", "display_name": "Pat Jones", "link": "https://stackoverflow.com/users/5613367/pat-jones"}, "edited": false, "score": 0, "creation_date": 1509558458, "post_id": 47027979, "comment_id": 81069126, "body": "Thank you! Inserting <code>-type =&gt; &quot;text&#47;html; charset=UTF-8&quot;</code> did it. It was strange because we have that built into the page&#39;s template, and yet typing <code>document.characterSet</code> in Chrome&#39;s console still yielded <code>windows-1252</code>. Your fix corrects it, but I still wonder why the browser wasn&#39;t picking up our &lt;meta&gt; tag in the HTML template...but that&#39;s a question for another thread!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 731, "user_id": 5613367, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-ZDZV06Q_DNI/AAAAAAAAAAI/AAAAAAAAAH8/yz_JRBIXnoM/photo.jpg?sz=128", "display_name": "Pat Jones", "link": "https://stackoverflow.com/users/5613367/pat-jones"}, "edited": false, "score": 0, "creation_date": 1509558544, "post_id": 47027979, "comment_id": 81069181, "body": "The actual header must override the &quot;header-equivalent&quot; tag"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1509502331, "last_edit_date": 1509502331, "creation_date": 1509424558, "answer_id": 47027979, "question_id": 46984007, "link": "https://stackoverflow.com/questions/46984007/perl-drop-down-menus-and-unicode/47027979#47027979", "title": "Perl drop down menus and Unicode", "body": "<p><strong>Problem #1: Decoding inputs</strong></p>\n\n<p><code>53.C3.B8.72.65.6E</code> is the UTF-8 encoding for <code>S\u00f8ren</code>. When you instruct Perl to encode it all over again (by printing it to handle with the <code>:utf8</code> layer), you are producing garbage.</p>\n\n<p>You need to decode your inputs (<code>$record-&gt;{id}</code>, <code>$record-&gt;{lastname}</code>, <code>$record-&gt;{firstname}</code>, etc)! This will transform The UTF-8 bytes <code>53.C3.B8.72.65.6E</code> (\"encoded text\") into the Unicode Code Points <code>53.F8.72.65.6E</code> (\"decoded text\").</p>\n\n<p>In this form, you will be able to use <code>uc</code>, regex matches, etc. You will also be able to print them out to a handle with an encoding layer (e.g. <code>:encoding(UTF-8)</code>, or the improper <code>:utf8</code>).</p>\n\n<p>You let on that these inputs come from a database. Most DBD have a flag that causes strings to be decoded. For example, if it's a MySQL database, you should pass <code>mysql_enable_utf8mb4 =&gt; 1</code> to <code>connect</code>.</p>\n\n<hr>\n\n<p><strong>Problem #2: Communicating encoding</strong></p>\n\n<p>If you're going to output UTF-8, don't tell the browser it's ISO-8859-1!</p>\n\n<pre><code>$ perl -e'use CGI qw( :standard ); print header()'\nContent-Type: text/html; charset=ISO-8859-1\n</code></pre>\n\n<p>Fixed:</p>\n\n<pre><code>$ perl -e'use CGI qw( :standard ); print header( -type =&gt; \"text/html; charset=UTF-8\" )'\nContent-Type: text/html; charset=UTF-8\n</code></pre>\n"}], "owner": {"reputation": 731, "user_id": 5613367, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-ZDZV06Q_DNI/AAAAAAAAAAI/AAAAAAAAAH8/yz_JRBIXnoM/photo.jpg?sz=128", "display_name": "Pat Jones", "link": "https://stackoverflow.com/users/5613367/pat-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 47027979, "answer_count": 2, "score": 2, "last_activity_date": 1509502331, "creation_date": 1509141891, "last_edit_date": 1509499358, "question_id": 46984007, "link": "https://stackoverflow.com/questions/46984007/perl-drop-down-menus-and-unicode", "title": "Perl drop down menus and Unicode", "body": "<p>I've been going around on this for some time now and can't quite get it. This is Perl 5 on Ubuntu. I have a drop down list on my web page:</p>\n\n<pre><code>$output .= start_form . \"Student: \" . popup_menu(-name=&gt;'student', -values=&gt;['', @students], -labels=&gt;\\%labels, -onChange=&gt;'Javascript:submit()') . end_form;\n</code></pre>\n\n<p>It's just a set of names in the form \"Last, First\" that are coming from a SQL Server table. The labels are created from the SQL columns like so:</p>\n\n<pre><code>$labels{uc($record-&gt;{'id'})} = $record-&gt;{'lastname'} . \", \" . $record-&gt;{'firstname'}; \n</code></pre>\n\n<p>The issue is that the drop down isn't displaying some Unicode characters correctly. For instance, \"S\u00f8ren\" shows up in the drop down as \"S\u00c3\u00b8ren\". I have in my header:</p>\n\n<pre><code>use utf8;\nbinmode(STDOUT, \":utf8\");\n</code></pre>\n\n<p>...and I've also played around with various takes on the \"<strong>decode( )</strong>\" function, to no avail. To me, the funny thing is that if I pull <strong>$labels</strong> into a test script and print the list to the console, the names appear just fine! So what is it about the drop down that is causing this? Thank you in advance.</p>\n\n<p>EDIT:</p>\n\n<p>This is the relevant functionality, which I've stripped down to this script that runs in the console and <em>yields the correct results</em> for three entries that have Unicode characters:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse DBI;\nuse lib '/home/web/library';\nuse mssql_util;\nuse Encode;\n\nbinmode(STDOUT, \":utf8\");\n\n$query = \"[SQL query here]\";\n\n$dbh  = &amp;connect;\n$sth  = $dbh-&gt;prepare($query);\n$result = $sth-&gt;execute();\n\nwhile ($record = $sth-&gt;fetchrow_hashref())\n{\n        if ($record-&gt;{'id'})\n        {\n                $labels{uc($record-&gt;{'id'})} = Encode::decode('UTF-8', $record-&gt;{'lastname'} . \", \" . $record-&gt;{'nickname'} . \" (\" . $record-&gt;{'entryid'} . \")\");\n        }\n}\n\n$sth-&gt;finish();\n\nprint \"$labels{'ST123'}\\n\";\nprint \"$labels{'ST456'}\\n\";\nprint \"$labels{'ST789'}\\n\";\n</code></pre>\n\n<p>The difference in what the production script is doing is that instead of printing to the console like above, it's printing to HTTP:</p>\n\n<pre><code>$my_output = \"&lt;p&gt;$labels{'ST123'}&lt;/p&gt;&lt;br&gt;\n              &lt;p&gt;$labels{'ST456'}&lt;/p&gt;&lt;br&gt;\n              &lt;p&gt;$labels{'ST789'}&lt;/p&gt;\";\n\n$template =~ s/\\$body/$my_output/;\n\nprint header(-cookie=&gt;$cookie) . $template; \n</code></pre>\n\n<p>This gives, i.e., strings like \"Zo\u00c3\u00ab\" and \"S\u00c3\u00b8ren\" on the page. BUT, if I remove <code>binmode(STDOUT, \":utf8\");</code> from the top of the production script, then the strings appear just fine on the page (i.e. I get \"Zo\u00eb\" and \"S\u00f8ren\"). </p>\n\n<p>I believe that the binmode( ) line is necessary when writing UTF-8 to output, and yet removing it here produces the correct results. What gives?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1509136099, "post_id": 46982857, "comment_id": 80913259, "body": "Looks like you need something like <code>&#47;\\w*[fs][pd]\\w*&#47;g</code>. Your regex contains alternation opertors and two of the alternatives allow empty string mstch at the start and end of the string."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1509136208, "post_id": 46982857, "comment_id": 80913317, "body": "Your pattern <code>^|\\s(.*[fs][\u02c8|\u02cc]?[pd].*)\\s|$</code> says to match the beginning of a line, or <code>\\s(.*[fs][\u02c8|\u02cc]?[pd].*)\\s</code>, or the end of a line. Clearly any string has a beginning and an end, so any data will match. It&#39;s hard to know what you mean by the middle part <code>\\s(.*[fs][\u02c8|\u02cc]?[pd].*)\\s</code>. I think you need to give examples of what should and should not match for us to help."}], "answers": [{"tags": [], "owner": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "is_accepted": false, "score": 1, "last_activity_date": 1509157026, "last_edit_date": 1509157026, "creation_date": 1509140986, "answer_id": 46983873, "question_id": 46982857, "link": "https://stackoverflow.com/questions/46982857/regex-to-match-and-capture-a-word/46983873#46983873", "title": "Regex to match and capture a word", "body": "<blockquote>\n  <p>find and capture a word that contains the sequence \"fp\", \"fd\", \"sp\" or\n  \"sd\" in a sentence. However, the word may contain some non-word\n  characters like \u03b8 or \u00f0.</p>\n</blockquote>\n\n<p>You should match Unicode letters <code>\\p{L}</code> instead of regular word characters <code>\\w</code>:</p>\n\n<p><a href=\"https://regex101.com/r/MdjQnf/2\" rel=\"nofollow noreferrer\"><code>\\p{L}*[fs][pd]\\p{L}*</code></a></p>\n\n<p>Click on the pattern to try it online. I have simplified the pattern according to your latest edits.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse utf8;\nuse open \":std\", \":encoding(UTF-8)\";\n\nmy @regex = qr/\\p{L}*[fs][pd]\\p{L}*/mp;\nmy @strs = 'fpg\u03b8 tig &lt;br/&gt;\ntig gfp\u03b8 tig&lt;br/&gt;\ntig g\u03b8fp&lt;br/&gt;\nfptig gfp\u03b8 tig&lt;br/&gt;\nsddgsd\u03b8(\u03b8@) tig g\u03b8fp&lt;br/&gt;';\n\nfor (@strs) \n{\n    my @m = /@regex/gm;\n    print \"@m\" if @m;   # no space allowed by the pattern\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1509142612, "last_edit_date": 1509142612, "creation_date": 1509141096, "answer_id": 46983886, "question_id": 46982857, "link": "https://stackoverflow.com/questions/46982857/regex-to-match-and-capture-a-word/46983886#46983886", "title": "Regex to match and capture a word", "body": "<p>There is still a little openness in the description, but this works with shown data</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse utf8;\nuse open \":std\", \":encoding(UTF-8)\";\n\nmy @strs = ( \n    '(fpg\u03b8) tig &lt;br/&gt;',\n    'tig (gfp\u03b8) tig&lt;br/&gt;',\n    'tig (g\u03b8fp)&lt;br/&gt;',\n);\n\nfor (@strs) \n{\n    my @m = /\\b( \\S*? [fs][pd] \\S*? )\\b/gx; \n\n    say \"@m\" if @m;   # no space allowed by the pattern\n}\n</code></pre>\n\n<p>Depending on clarifications you may want to tweak the <code>\\S</code> and <code>\\b</code> that are used. I capture into an array, with <code>/g</code>, for strings with more than one match. I left parentheses in for an additional test.</p>\n\n<p>The <a href=\"http://perldoc.perl.org/utf8.html\" rel=\"nofollow noreferrer\"><code>use utf8</code></a> allows UTF-8 in the source, so it's for my <code>@strs</code> array only.  </p>\n\n<p>The <a href=\"http://perldoc.perl.org/open.html\" rel=\"nofollow noreferrer\"><code>use open</code></a> pragma, however, is essential as it sets default (PerlIO) input and output layers, in this case standard streams for <code>UTF-8</code>.  So you can read from a file and print to a file or console.</p>\n"}], "owner": {"reputation": 728, "user_id": 5209289, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3874e84d81711bf6751461e0be235976?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/5209289/lisa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "accepted_answer_id": 46983886, "answer_count": 2, "score": 1, "last_activity_date": 1509157026, "creation_date": 1509135728, "last_edit_date": 1509137318, "question_id": 46982857, "link": "https://stackoverflow.com/questions/46982857/regex-to-match-and-capture-a-word", "title": "Regex to match and capture a word", "body": "<p>I wrote a regex in a perl script to find and capture a word that contains the sequence <code>\"fp\"</code>, <code>\"fd\"</code>, <code>\"sp\"</code> or <code>\"sd\"</code> in a sentence. However, the word may contain some non-word characters like \u03b8 or \u00f0. The word may be at the beginning or end of the sentence. When I tested this regex on <a href=\"http://www.regex101.com\" rel=\"nofollow noreferrer\">regex101.com</a>, it matches even when the input is nothing.The way I interpret this regex is: match one of the patterns \"fp\", \"fd\", \"sp\" or \"sd\" and capture everything around it until either a whitespace or the beginning of the line on the left side and a whitespace or end of the line on the right side. <p> This is the regex: <code>^|\\s(.*[fs][\u02c8|\u02cc]?[pd].*)\\s|$</code> <p> I also tried using the <code>?</code> quantifier to make the <code>.*</code> pattern lazy, but it still shows a match when the input is nothing.</p>\n\n<p>Here are some examples of what I need it to capture in parentheses:<p></p>\n\n<pre><code>(fpg\u03b8) tig &lt;br/&gt;\ntig (gfp\u03b8) tig&lt;br/&gt;\ntig (g\u03b8fp)&lt;br/&gt;\n</code></pre>\n\n<p>Edit: I forgot to explain the middle part. The <code>[\u02c8\u02cc]?</code> part (I made a mistake, I don't need the <code>|</code>) just allows for those characters to be between the <code>[fs]</code> and <code>[pd]</code>. I wouldn't want it to match things like <code>tigf pg</code>. I want it to match any word (defined by the space around it - so in a sentence like <code>tig you r\u03b8\u00f0</code>the words it contains are <code>tig</code>, <code>you</code>, and <code>r\u03b8\u00f0</code>). This \"word\" could be at the end, at the beginning, or in the middle of the sentence. Is there a way to assert the position at the beginning of the string within a bracket? I think that would solve my problem. <p> Also, I tried using <code>\\w</code>, but because I have things like <code>\u03b8</code> or <code>\u00f0</code> it doesn't match those.</p>\n"}, {"tags": ["arrays", "perl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1509128859, "post_id": 46980868, "comment_id": 80910099, "body": "It&#39;s troubling that someone&#39;s tribalism was so intense."}, {"owner": {"reputation": 1501, "user_id": 253127, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/295bde0b45467c2c5bca676b01605e89?s=128&d=identicon&r=PG", "display_name": "nmz787", "link": "https://stackoverflow.com/users/253127/nmz787"}, "edited": false, "score": 0, "creation_date": 1509132631, "post_id": 46980868, "comment_id": 80911753, "body": "obviously the poster is unfamiliar with Perl, otherwise such a simple question wouldn&#39;t have been asked. The mention of Python was obviously to establish some credibility and parity between a language in which they know how to get their stuff done."}, {"owner": {"reputation": 1501, "user_id": 253127, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/295bde0b45467c2c5bca676b01605e89?s=128&d=identicon&r=PG", "display_name": "nmz787", "link": "https://stackoverflow.com/users/253127/nmz787"}, "edited": false, "score": 0, "creation_date": 1509132830, "post_id": 46980868, "comment_id": 80911848, "body": "@ borodin so you&#39;re commenting on your own tribalism?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1501, "user_id": 253127, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/295bde0b45467c2c5bca676b01605e89?s=128&d=identicon&r=PG", "display_name": "nmz787", "link": "https://stackoverflow.com/users/253127/nmz787"}, "edited": false, "score": 0, "creation_date": 1509133855, "post_id": 46980868, "comment_id": 80912298, "body": "@nmz787: The OP is sufficiently familiar with Perl to write a few dozen lines of code. I don&#39;t think it&#39;s a simple question at all; what would your solution be? I don&#39;t understand your point about mentioning Python; are you saying that they were trying to prove that they aren&#39;t clueless? That seems an odd take on things, and <i>&quot;if this [were] Python, it would be as simple as...&quot;</i> is provocative from all but the most naive points of view. I think it is for the OP to explain their intent, and battling me over my interpretation of their words is fruitless."}, {"owner": {"reputation": 1501, "user_id": 253127, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/295bde0b45467c2c5bca676b01605e89?s=128&d=identicon&r=PG", "display_name": "nmz787", "link": "https://stackoverflow.com/users/253127/nmz787"}, "edited": false, "score": 0, "creation_date": 1509134122, "post_id": 46980868, "comment_id": 80912406, "body": "I was helping OP earlier on chat elsewhere... we pieced this example together from Google snippets... based on the actual similar-enough piece of code that is failing. Yes, I was attempting to prove we are not completely clueless. Yes I am naive, like a simple compiler."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1501, "user_id": 253127, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/295bde0b45467c2c5bca676b01605e89?s=128&d=identicon&r=PG", "display_name": "nmz787", "link": "https://stackoverflow.com/users/253127/nmz787"}, "edited": false, "score": 0, "creation_date": 1509134161, "post_id": 46980868, "comment_id": 80912420, "body": "@nmz787: I like to think that I have little bias when it comes to programming languages. I have a hatred of the likes of Java and C#, but that is along the lines of preferring brown sugar in my coffee and I would never think that my preference was &quot;right&quot;. I wonder much more about why you are attacking me, and why I have been downvoted. That is where the real tribalism lies."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1501, "user_id": 253127, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/295bde0b45467c2c5bca676b01605e89?s=128&d=identicon&r=PG", "display_name": "nmz787", "link": "https://stackoverflow.com/users/253127/nmz787"}, "edited": false, "score": 3, "creation_date": 1509134486, "post_id": 46980868, "comment_id": 80912551, "body": "@nmz787: <i>&quot;I was helping OP earlier on chat elsewhere&quot;</i> Then it is unreasonable of you to expect others to take a question on face value when you know that there is a lot more behind it. It is also unreasonable to take it personally when your advice results in a poorly-presented question."}, {"owner": {"reputation": 1501, "user_id": 253127, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/295bde0b45467c2c5bca676b01605e89?s=128&d=identicon&r=PG", "display_name": "nmz787", "link": "https://stackoverflow.com/users/253127/nmz787"}, "edited": false, "score": 0, "creation_date": 1509134594, "post_id": 46980868, "comment_id": 80912597, "body": "I downvoted your answer because it didn&#39;t fit into the test-code as it was posted. There is a for loop, can&#39;t get around it at this point. I&#39;m not taking it personally, I just want to get the issue solved."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1501, "user_id": 253127, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/295bde0b45467c2c5bca676b01605e89?s=128&d=identicon&r=PG", "display_name": "nmz787", "link": "https://stackoverflow.com/users/253127/nmz787"}, "edited": false, "score": 1, "creation_date": 1509135613, "post_id": 46980868, "comment_id": 80913038, "body": "@nmz787: I don&#39;t understand. It is your solution that doesn&#39;t behave in the same way as the OP&#39;s code. I wouldn&#39;t normally overwrite the original data, but I wrote it that way as that is what the OP asked for. You had to write a comment to explain how to change your solution so that the original array was modified. Either way I don&#39;t see that either your answer or mine deserves a negative vote. This whole exchange is about anger and hurt feelings rather than good programming."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1509147510, "post_id": 46980868, "comment_id": 80916876, "body": "I don&#39;t see any language bigotry or ridiculousness in &quot;If this were Python&quot;; that says there is a trivlal way to do what they want in Python, but doesn&#39;t say there isn&#39;t also such a way in Perl, just that they don&#39;t know it.  You are reading into it commentary on Perl that isn&#39;t actually there."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1509128040, "last_edit_date": 1509128040, "creation_date": 1509126751, "answer_id": 46980868, "question_id": 46980709, "link": "https://stackoverflow.com/questions/46980709/convert-an-array-of-strings-into-a-array-of-arrays-of-strings/46980868#46980868", "title": "Convert an array of strings into a array of arrays of strings", "body": "<p>I'm wondering why you want to do this, but it's</p>\n\n<pre><code>@array = map { ref ? $_ : [ $_ ] } @array\n</code></pre>\n\n<p>And please don't call arrays <code>@array</code>; that's what the <code>@</code> is for.</p>\n\n<h2><br/></h2>\n\n<p>Your comment is ridiculous</p>\n\n<pre><code>#if this was Python, it would be as simple as:\n#  if is not instance(item, array):\n#     # item wasn't a list\n#     item = [item]\n</code></pre>\n\n<p>If you were familiar with Perl then you wouldn't need to ask the question. You must be aware that there is no one-to-one translation from Python to Perl. Python is much less expressive than either Perl or C, but I can't imagine you demanding a simple conversion to C.</p>\n\n<p>Please get over your bigotry.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1509128670, "post_id": 46980926, "comment_id": 80910024, "body": "Why use <code>for</code> when you want <code>map</code>?"}, {"owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1509130039, "post_id": 46980926, "comment_id": 80910601, "body": "Because I matched my answer to his example. He&#39;s clearly coming from python and is new to perl. I&#39;ve found it&#39;s much easier for people to adapt to a new language if you use code structures they&#39;re already familiar with."}, {"owner": {"reputation": 1501, "user_id": 253127, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/295bde0b45467c2c5bca676b01605e89?s=128&d=identicon&r=PG", "display_name": "nmz787", "link": "https://stackoverflow.com/users/253127/nmz787"}, "edited": false, "score": 0, "creation_date": 1509132766, "post_id": 46980926, "comment_id": 80911817, "body": "can you answer with the in-line modification, rather than creating a new array?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1509132877, "post_id": 46980926, "comment_id": 80911872, "body": "That&#39;s fair, but the OP seemed to have written a solution using Perl and <code>for</code>. Doesn&#39;t it work? They didn&#39;t say either way, but I assumed it was working code that should have been as brief as their Python original. I can&#39;t run any code at present as I&#39;m on my commute. Hopefully this will stop soon."}, {"owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1509134511, "post_id": 46980926, "comment_id": 80912561, "body": "@Borodin: no, the example code doesn&#39;t work they way he&#39;s wanting it to. The original array remains unchanged and the item array is being overwritten in the for loop."}, {"owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "reply_to_user": {"reputation": 1501, "user_id": 253127, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/295bde0b45467c2c5bca676b01605e89?s=128&d=identicon&r=PG", "display_name": "nmz787", "link": "https://stackoverflow.com/users/253127/nmz787"}, "edited": false, "score": 0, "creation_date": 1509134827, "post_id": 46980926, "comment_id": 80912684, "body": "@nmz787: If you want to update the original array in the fewest lines possible or without explicitly copying the array to a new one, then Borodin&#39;s answer to use a map is the way to go."}, {"owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "reply_to_user": {"reputation": 1501, "user_id": 253127, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/295bde0b45467c2c5bca676b01605e89?s=128&d=identicon&r=PG", "display_name": "nmz787", "link": "https://stackoverflow.com/users/253127/nmz787"}, "edited": false, "score": 0, "creation_date": 1509135014, "post_id": 46980926, "comment_id": 80912773, "body": "@nmz787: If you just want to keep using using the original array variable after doing the modifications in my example, then you can just reassign the new array back to the old one after the loop. ( eg. <code>@array = @new_array;</code> )"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1509135146, "post_id": 46980926, "comment_id": 80912831, "body": "@interduo: Okay. Then the OP is very badly phrased. It contains no question, and says nothing about whether the <i>&quot;current test code&quot;</i> is functional. The impression I got was that the question was about why Perl couldn&#39;t be as concise as Python. Your answer is a good one, and pretty much what I would write if I were asked to use loops. I don&#39;t think either your answer or mine deserve the down votes that they have, but hey, people don&#39;t like being wrong."}, {"owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1509136234, "post_id": 46980926, "comment_id": 80913326, "body": "@Borodin: I can see how you could get that impression from the way the question is worded. I think my years doing customer support and access to an editor gave me an edge there. :) Your answer is definitely the one I would go with when writing production code."}], "tags": [], "owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "is_accepted": false, "score": 0, "last_activity_date": 1509126988, "creation_date": 1509126988, "answer_id": 46980926, "question_id": 46980709, "link": "https://stackoverflow.com/questions/46980709/convert-an-array-of-strings-into-a-array-of-arrays-of-strings/46980926#46980926", "title": "Convert an array of strings into a array of arrays of strings", "body": "<p>If you push the values to a new array, you don't need to do more than evaluate whether or not <code>$item</code> is an arrayref:</p>\n\n<pre><code>#! perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy @array=(\"red\", \"blue\", \"green\", [\"purple\", \"orange\"]);\n\nmy @new_array;\nforeach my $item (@array) {\n\n    if ( ref($item) eq  'ARRAY' ) {\n        push @new_array, $item;\n    }\n    else {\n        push @new_array, [$item];\n    }\n}\n\nprint Dumper \\@new_array;\n</code></pre>\n\n<p>Output from Dumper:</p>\n\n<pre><code>$VAR1 = [\n          [\n            'red'\n          ],\n          [\n            'blue'\n          ],\n          [\n            'green'\n          ],\n          [\n            'purple',\n            'orange'\n          ]\n        ];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 2, "last_activity_date": 1509147306, "creation_date": 1509147306, "answer_id": 46984774, "question_id": 46980709, "link": "https://stackoverflow.com/questions/46980709/convert-an-array-of-strings-into-a-array-of-arrays-of-strings/46984774#46984774", "title": "Convert an array of strings into a array of arrays of strings", "body": "<p>The comment about python maps pretty directly to perl.</p>\n\n<pre><code>my @array = (\"red\", \"blue\", \"green\", [\"purple\", \"orange\"] );\n\nforeach $item ( @array ) {\n   #if this was Python, it would be as simple as:\n   #  if is not instance(item, array):\n   #     # item wasn't a list\n   #     item = [item]\n   if (ref $item ne 'ARRAY') {\n       $item = [ $item ];\n   }\n}\n</code></pre>\n\n<p>though using map as in Borodin's answer would be more natural.</p>\n"}, {"tags": [], "owner": {"reputation": 1501, "user_id": 253127, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/295bde0b45467c2c5bca676b01605e89?s=128&d=identicon&r=PG", "display_name": "nmz787", "link": "https://stackoverflow.com/users/253127/nmz787"}, "is_accepted": false, "score": 0, "last_activity_date": 1509156805, "creation_date": 1509156805, "answer_id": 46985596, "question_id": 46980709, "link": "https://stackoverflow.com/questions/46980709/convert-an-array-of-strings-into-a-array-of-arrays-of-strings/46985596#46985596", "title": "Convert an array of strings into a array of arrays of strings", "body": "<p>After a long day of learning more Perl than I ever thought/wanted to learn... here's what I think is a workable solution:</p>\n\n<pre><code>#! perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\n\nmy %the_dict = (duts =&gt; \n                    {dut_a =&gt; {UDF =&gt; 'hamnet'},\n                     dut_b =&gt; {UDF =&gt; [ '1', '2', '3', ]},\n                     dut_c =&gt; {UDF =&gt; [ 'Z' ], }});\n\nprint Dumper \\%the_dict;\n\nforeach my $dut (keys %{$the_dict{duts}}) {\n    # convert the dut's UDF value to an array if it wasn't already\n    if ( 'ARRAY' ne ref $the_dict{duts}-&gt;{$dut}{UDF} ) { \n        $the_dict{duts}-&gt;{$dut}{UDF} = [ $the_dict{duts}-&gt;{$dut}{UDF} ]; \n    }\n    # now append a new value to the array\n    push(@{$the_dict{duts}{$dut}{UDF}}, 'works');\n}\n\nprint Dumper \\%the_dict;\n</code></pre>\n\n<p>when run we see these print-outs:</p>\n\n<pre><code>$VAR1 = {\n          'duts' =&gt; {\n                      'dut_a' =&gt; {\n                                   'UDF' =&gt; 'hamnet'\n                                 },\n                      'dut_c' =&gt; {\n                                   'UDF' =&gt; [\n                                              'Z'\n                                            ]\n                                 },\n                      'dut_b' =&gt; {\n                                   'UDF' =&gt; [\n                                              '1',\n                                              '2',\n                                              '3'\n                                            ]\n                                 }\n                    }\n        };\n$VAR1 = {\n          'duts' =&gt; {\n                      'dut_a' =&gt; {\n                                   'UDF' =&gt; [\n                                              'hamnet',\n                                              'works'\n                                            ]\n                                 },\n                      'dut_c' =&gt; {\n                                   'UDF' =&gt; [\n                                              'Z',\n                                              'works'\n                                            ]\n                                 },\n                      'dut_b' =&gt; {\n                                   'UDF' =&gt; [\n                                              '1',\n                                              '2',\n                                              '3',\n                                              'works'\n                                            ]\n                                 }\n                    }\n        };\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 8396690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e55vW.jpg?s=128&g=1", "display_name": "Dibyendu Dey", "link": "https://stackoverflow.com/users/8396690/dibyendu-dey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 1, "answer_count": 4, "score": 1, "last_activity_date": 1509156805, "creation_date": 1509126103, "last_edit_date": 1509127100, "question_id": 46980709, "link": "https://stackoverflow.com/questions/46980709/convert-an-array-of-strings-into-a-array-of-arrays-of-strings", "title": "Convert an array of strings into a array of arrays of strings", "body": "<p>My goal is to convert this</p>\n\n<pre><code>my @array=(\"red\", \"blue\", \"green\", [\"purple\", \"orange\"]);\n</code></pre>\n\n<p>into this</p>\n\n<pre><code>my @array = ( [\"red\"], [\"blue\"], [\"green\"], [\"purple\", \"orange\"]);\n</code></pre>\n\n<p>Current test code:</p>\n\n<pre><code>my @array = (\"red\", \"blue\", \"green\", [\"purple\", \"orange\"] );\n\nforeach $item ( @array ) {\n   #if this was Python, it would be as simple as:\n   #  if is not instance(item, array):\n   #     # item wasn't a list\n   #     item = [item]\n\n   if(ref($item) ne 'ARRAY'){\n      #It's an array reference...\n      #you can read it with $item-&gt;[1]\n      #or dereference it uisng @newarray = @{$item}\n      #print \"We've got an array!!\\n\";\n      print $item, \"\\n\";\n      # keep a copy of our string\n      $temp = $item;\n      # re-use the variable but convert to an empty list\n      @item = ();\n      # add the temp-copy as first list item\n      @item[0] = $temp;\n      # print each list item (should be just one item)\n      print \"$_\\n\" for $item;\n   }else{\n      #not an array in any way...\n       print \"ALREADY an array!!\\n\";\n\n   }\n}\n\n#  EXPECTED my @array=([\"red\"], [\"blue\"], [\"green\"], [\"purple\", \"orange\"]);\nprint @array , \"\\n\";\n\nforeach $item (@array){\n    if(ref($item) ne 'ARRAY'){\n    #\n    #say for $item;\n    print \"didn't convert properly to array\\n\";\n   }\n}\n</code></pre>\n"}, {"tags": ["mysql", "perl", "dbd-mysql", "dbix-connector"], "comments": [{"owner": {"reputation": 10803, "user_id": 2548147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cfKie.jpg?s=128&g=1", "display_name": "Raymond Nijland", "link": "https://stackoverflow.com/users/2548147/raymond-nijland"}, "edited": false, "score": 1, "creation_date": 1509119578, "post_id": 46978797, "comment_id": 80905535, "body": "What does <code>SELECT LAST_INSERT_ID()</code>  return?"}, {"owner": {"reputation": 202, "user_id": 1606164, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6306a99514c0a21ba2e88e58b998505e?s=128&d=identicon&r=PG", "display_name": "Tigran Khachikyan", "link": "https://stackoverflow.com/users/1606164/tigran-khachikyan"}, "reply_to_user": {"reputation": 10803, "user_id": 2548147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cfKie.jpg?s=128&g=1", "display_name": "Raymond Nijland", "link": "https://stackoverflow.com/users/2548147/raymond-nijland"}, "edited": false, "score": 0, "creation_date": 1509119924, "post_id": 46978797, "comment_id": 80905724, "body": "it correctly returned the new id."}, {"owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "edited": false, "score": 2, "creation_date": 1509120891, "post_id": 46978797, "comment_id": 80906162, "body": "With <code>DBD::MySQL</code> the <code>last_insert_id</code> has to be called immediately after the insert. I guess that the <code>DBIx::Connector</code>, which you seem to be using, inserts the <code>ping</code> call after it, so that the call doesn&#39;t follow insert immediately. Try without <code>DBIx::Connector</code> and see if it works."}], "owner": {"reputation": 202, "user_id": 1606164, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6306a99514c0a21ba2e88e58b998505e?s=128&d=identicon&r=PG", "display_name": "Tigran Khachikyan", "link": "https://stackoverflow.com/users/1606164/tigran-khachikyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 347, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1509118811, "creation_date": 1509118811, "question_id": 46978797, "link": "https://stackoverflow.com/questions/46978797/perl-mysql-last-insert-id-returns-0", "title": "Perl/MySQL: last_insert_id returns 0", "body": "<p><code>last_insert_id</code> returns for the newly inserted row.</p>\n\n<p>Everything is working just fine with Perl 5.18.</p>\n\n<p>From the forums I understand that it might be because of some loosing connection. But can't see anything in the trace. </p>\n\n<p>Here is the code sample:</p>\n\n<pre><code>  $self-&gt;_dbx-&gt;query(q{DROP TABLE IF EXISTS user_tbl;});\n\n  $self-&gt;_dbx-&gt;query(q{\n    CREATE TABLE user_tbl(\n      user_id INT NOT NULL AUTO_INCREMENT,\n      user_name VARCHAR(100) NOT NULL,\n      PRIMARY KEY ( user_id )\n    );\n  });\n\n  $self-&gt;_dbx-&gt;query(q{\n    INSERT INTO user_tbl \n              (user_name)\n      VALUES  ('DUMMY1');\n  });\n\n  print Dumper $self-&gt;_dbx-&gt;last_insert_id(undef, undef, undef, \"user_id\" ) or warn \"Warn: Can not get it?\";\n\n  print Dumper $self-&gt;_dbx-&gt;query(q{\n    SELECT * FROM user_tbl\n      WHERE user_name= 'DUMMY1';\n  })-&gt;hash;\n</code></pre>\n\n<p>DBI_TRACE:</p>\n\n<pre><code>    &lt;- ping= ( 1 ) [1 items] at Driver.pm line 28\n    &lt;- prepare('\n    CREATE TABLE user_tbl(\n      user_id INT NOT NULL AUTO_INCREMENT,\n      user_name VARCHAR(100) NOT NULL,\n      PRIMARY KEY ( user_id )\n    );\n  ')= ( DBI::st=HASH(0x70f4468) ) [1 items] at Simple.pm line 168\n    &lt;- execute= ( '0E0' ) [1 items] at Simple.pm line 187\n    &lt;- finish= ( 1 ) [1 items] at Simple.pm line 286\n    &lt;- FETCH('Active')= ( 1 ) [1 items] at Connector.pm line 129\n    &lt;- FETCH('Active')= ( 1 ) [1 items] at Connector.pm line 129\n    &lt;- ping= ( 1 ) [1 items] at Driver.pm line 28\n    &lt;- prepare('\n    INSERT INTO user_tbl \n              (user_name)\n      VALUES  ('DUMMY1');\n  ')= ( DBI::st=HASH(0x70f47c8) ) [1 items] at Simple.pm line 168\n    &lt;- execute= ( 1 ) [1 items] at Simple.pm line 187\n    &lt;- finish= ( 1 ) [1 items] at Simple.pm line 286\n    &lt;- FETCH('Active')= ( 1 ) [1 items] at Connector.pm line 129\n    &lt;- FETCH('Active')= ( 1 ) [1 items] at Connector.pm line 129\n    &lt;- ping= ( 1 ) [1 items] at Driver.pm line 28\n    &lt;- last_insert_id(undef, undef, ...)= ( '0' ) [1 items] at Simple.pm line 216\n</code></pre>\n\n<p>STDOUT:</p>\n\n<pre><code>$VAR1 = '0';\n$VAR1 = {\n          'user_id' =&gt; 1,\n          'user_name' =&gt; 'DUMMY1'\n        };\n</code></pre>\n\n<p>Versions:</p>\n\n<ul>\n<li>Perl => 5.22  </li>\n<li>DBD::mysql => 4.043</li>\n<li>MySQL Server 5.6</li>\n</ul>\n"}, {"tags": ["perl", "loadrunner"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1509111867, "post_id": 46976170, "comment_id": 80900493, "body": "See <a href=\"https://stackoverflow.com/q/43738235/5899240\">How to locate Perl modules in the same directory as the script</a>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8843843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f57a56ae0736541b184ef26e5ee54c7?s=128&d=identicon&r=PG&f=1", "display_name": "fiz", "link": "https://stackoverflow.com/users/8843843/fiz"}, "edited": false, "score": 0, "creation_date": 1509113323, "post_id": 46976546, "comment_id": 80901474, "body": "Hi, thanks for your help. I added your code in and to other pl files.  It is start up now but not working properly. With the following error codes:  dump() better written as CORE::dump(). dump() will no longer be available in Perl 5.30 at C:/WebTours/cgi-bin/reservations.pl line 90 Use of assignment to $[ is deprecated at C:/WebTours/cgi-bin/timelocal.pl Undefined subroutine &amp;main::startform called at C:/WebTours/cgi-bin/reservations.pl"}, {"owner": {"reputation": 11, "user_id": 8843843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f57a56ae0736541b184ef26e5ee54c7?s=128&d=identicon&r=PG&f=1", "display_name": "fiz", "link": "https://stackoverflow.com/users/8843843/fiz"}, "edited": false, "score": 0, "creation_date": 1509116018, "post_id": 46976546, "comment_id": 80903314, "body": "Hi, I changed the dump and deleted $[ liines.  Two error still there: &quot;CGI::param called in list context from C:/WebTo Undefined subroutine &amp;main::startform called at&quot;"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1509112642, "last_edit_date": 1509112642, "creation_date": 1509111846, "answer_id": 46976546, "question_id": 46976170, "link": "https://stackoverflow.com/questions/46976170/loadrunner-web-tours-cannot-locate-systempaths/46976546#46976546", "title": "LoadRunner Web Tours cannot locate systemPaths", "body": "<p><em>[I'm assuming <code>C:\\WebTours\\cgi-bin\\systemPaths.pm</code> exists.]</em></p>\n\n<p>Add the following to <code>C:\\WebTours\\cgi-bin\\welcome.pl</code>:</p>\n\n<pre><code>use FindBin qw( $RealBin );\nuse lib $RealBin;\n</code></pre>\n\n<p>The module search path (<code>@INC</code>) used to include the current work directory (<code>.</code>), that many scripts incorrectly used as a proxy for the directory in which the script resides. So <code>welcome.pl</code> was buggy, which became very apparent with recent versions of Perl.</p>\n"}], "owner": {"reputation": 11, "user_id": 8843843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f57a56ae0736541b184ef26e5ee54c7?s=128&d=identicon&r=PG&f=1", "display_name": "fiz", "link": "https://stackoverflow.com/users/8843843/fiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "accepted_answer_id": 46976546, "answer_count": 1, "score": 0, "last_activity_date": 1509112642, "creation_date": 1509110757, "last_edit_date": 1509112218, "question_id": 46976170, "link": "https://stackoverflow.com/questions/46976170/loadrunner-web-tours-cannot-locate-systempaths", "title": "LoadRunner Web Tours cannot locate systemPaths", "body": "<p>Having problems setting up LoadRunner Web Tours. Getting the following error in error.log.</p>\n\n<blockquote>\n  <p>Can't locate systemPaths in @INC (@INC contains:\n  C:/strawberry/perl/site/lib C:/strawberry/perl/vendor/lib\n  C:/strawberry/perl/lib) at C:/WebTours/cgi-bin/welcome.pl line 16.,\n  referer: <a href=\"http://localhost:8080/WebTours/\" rel=\"nofollow noreferrer\">http://localhost:8080/WebTours/</a></p>\n</blockquote>\n\n<p>I have setup those links in Env Variable Paths. systemPaths is not a file in there. In the welcome.pl, there is \"require \"systemPaths\";\" line, I do not know perl. Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1509102095, "post_id": 46973284, "comment_id": 80894308, "body": "And if you want to ship your code to a customer who should not see the source, forget about it. The best way to do that is a licence agreement."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1509110147, "post_id": 46973284, "comment_id": 80899331, "body": "@PerlDuck, hum... That&#39;s about making a file appear different based on who reads it. I don&#39;t see how that&#39;s in the least bit related."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1509111286, "post_id": 46973284, "comment_id": 80900107, "body": "Neither the linked question nor its answer deals with making the script unreadable. It touches making data used by the script unreadable, but that&#39;s not useful here."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1509110749, "post_id": 46973421, "comment_id": 80899711, "body": "Re &quot;<i>The only work around  I can think of would be to rewrite the script as a webservice.</i>&quot;, Or more generically, have the script run by a different user than the one that shouldn&#39;t be able to read the script. That could be a web service, but it could also be via impersonation (<code>sudo</code>), etc."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 2, "last_activity_date": 1509101677, "creation_date": 1509101677, "answer_id": 46973421, "question_id": 46973284, "link": "https://stackoverflow.com/questions/46973284/locking-my-own-perl-script/46973421#46973421", "title": "Locking My Own Perl Script", "body": "<p>This depends on your operating system, which you haven't specified.</p>\n\n<p>Typically, this is not possible.</p>\n\n<p>On a UNIX based system (such as Linux or Mac OS) there are three permissions that can be given to users, groups and everyone: Read, Write, and Execute.</p>\n\n<p>You can remove Write permission easily enough, but Read permission is required to allow the script to be executed.</p>\n\n<p>(I assume you would experience a similar problem on Windows).</p>\n\n<hr>\n\n<p>The only work around I can think of would be to rewrite the script as a webservice. Then the HTTP server would need to be able to read it, but the users themselves would not.</p>\n"}, {"tags": [], "owner": {"reputation": 525, "user_id": 3694028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a631f2f9266385b14ff6301c02f2071b?s=128&d=identicon&r=PG&f=1", "display_name": "Richard RP", "link": "https://stackoverflow.com/users/3694028/richard-rp"}, "is_accepted": false, "score": 1, "last_activity_date": 1509109265, "creation_date": 1509109265, "answer_id": 46975683, "question_id": 46973284, "link": "https://stackoverflow.com/questions/46973284/locking-my-own-perl-script/46975683#46975683", "title": "Locking My Own Perl Script", "body": "<p>If the system at hand is Linux/Unix and you have administrative access then you can use <code>sudo</code>.</p>\n\n<p>With the following line in <code>/etc/sudoers</code>, anyone would be able to run, as <em>author1</em>, any executable file in the <code>public_bin</code> folder:</p>\n\n<pre><code>ALL  ALL = (author1) /home/author1/public_bin/*\n</code></pre>\n\n<p>However, take a look at <code>man sudoers</code> to understand implications wrt. environment and command line arguments.</p>\n"}, {"tags": [], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "is_accepted": false, "score": 0, "last_activity_date": 1509111682, "creation_date": 1509111682, "answer_id": 46976476, "question_id": 46973284, "link": "https://stackoverflow.com/questions/46973284/locking-my-own-perl-script/46976476#46976476", "title": "Locking My Own Perl Script", "body": "<p>755 is the *nix permission you'll need. This will give the owner full access and other read and execute. </p>\n\n<p>As other has said, there is no way to make your code unreadable. However,can you obfuscate you code so only a reasonably good programmer could decode it. There are online tools, if you search \"perl obfuscate\" on bing you'll get some good results; these tools will mean no module is required. Or my personal favorite is the module Acme::Bleach.</p>\n"}], "owner": {"reputation": 15, "user_id": 8113037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4eca18ae11c60e9401ac93f264d096?s=128&d=identicon&r=PG&f=1", "display_name": "Sugumar", "link": "https://stackoverflow.com/users/8113037/sugumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 46973421, "answer_count": 3, "score": 0, "last_activity_date": 1509111682, "creation_date": 1509101282, "question_id": 46973284, "link": "https://stackoverflow.com/questions/46973284/locking-my-own-perl-script", "title": "Locking My Own Perl Script", "body": "<p>How can I lock my Perl script, list I have to do</p>\n\n<ol>\n<li><p>Prevent Others from read or write Perl Script.</p></li>\n<li><p>They should have only Permission to  Executing the Perl script.</p></li>\n</ol>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1509094114, "post_id": 46970075, "comment_id": 80889272, "body": "Check mysql log, <a href=\"https://stackoverflow.com/questions/5441972/how-to-see-log-files-in-mysql\" title=\"how to see log files in mysql\">stackoverflow.com/questions/5441972/&hellip;</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1509094472, "post_id": 46970075, "comment_id": 80889502, "body": "This reads as if you turn on <code>autocommit</code> after the <code>execute</code>. is that right?"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 4144716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38764b518be1e1f25b89c54f2c8db1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Silica quartz", "link": "https://stackoverflow.com/users/4144716/silica-quartz"}, "is_accepted": false, "score": 2, "last_activity_date": 1509111735, "creation_date": 1509111735, "answer_id": 46976501, "question_id": 46970075, "link": "https://stackoverflow.com/questions/46970075/mysql-update-is-delayed-a-few-seconds-perl-dbi/46976501#46976501", "title": "Mysql UPDATE is delayed a few seconds (Perl dbi)", "body": "<p>Turns out the problem was never with either mysql or Perl.</p>\n\n<p>The problem was that the two scripts were running as a script called by a crontab job. Unless specified, crontab did not run using the bash shell.</p>\n\n<p>See\n<a href=\"https://askubuntu.com/questions/117978/script-doesnt-run-via-crontab-but-works-fine-standalone\">https://askubuntu.com/questions/117978/script-doesnt-run-via-crontab-but-works-fine-standalone</a></p>\n\n<p>for more information.</p>\n"}], "owner": {"reputation": 21, "user_id": 4144716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38764b518be1e1f25b89c54f2c8db1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Silica quartz", "link": "https://stackoverflow.com/users/4144716/silica-quartz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509111735, "creation_date": 1509090748, "question_id": 46970075, "link": "https://stackoverflow.com/questions/46970075/mysql-update-is-delayed-a-few-seconds-perl-dbi", "title": "Mysql UPDATE is delayed a few seconds (Perl dbi)", "body": "<p>I have encountered a strange behavior in mysql, using dbi in Perl.</p>\n\n<p>At the end of a perl program, I issue a mysql <code>UPDATE</code> command to a table. The command is executed using <code>$dbh-&gt;execute();</code> and autocommit is turned on.\nAfter the execute, the program issues <code>$dbh-&gt;disconnect();</code> and exits.</p>\n\n<p>The perl program runs as part of a script. Immediately when the perl program has stopped, another script executes. This script looks as the table that was updated, and here is when things become confusing to me.</p>\n\n<p>Sometimes script 2 reads the old data in the table. Sometimes it sees what was just updated. I cannot understand how the initial perl program can do the <code>$dbh-&gt;execute();</code> and yet it seems that the mysql table is updated several seconds later.</p>\n\n<p>Any insight would be helpful! Cheers in advance.</p>\n"}, {"tags": ["perl", "winapi", "move", "ole", "worksheet"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 7061050, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jY4m8.jpg?s=128&g=1", "display_name": "Laurent Zotto", "link": "https://stackoverflow.com/users/7061050/laurent-zotto"}, "edited": false, "score": 0, "creation_date": 1509269420, "post_id": 46972929, "comment_id": 80944044, "body": "Sorry for no comment!  I have to try this! I did not get the chance until now... I keep you informed"}, {"owner": {"reputation": 27, "user_id": 7061050, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jY4m8.jpg?s=128&g=1", "display_name": "Laurent Zotto", "link": "https://stackoverflow.com/users/7061050/laurent-zotto"}, "edited": false, "score": 0, "creation_date": 1509437214, "post_id": 46972929, "comment_id": 81007522, "body": "Hello The &quot;Move&quot; method works as you described it.. Thank you for the hint!"}], "tags": [], "owner": {"reputation": 13842, "user_id": 2790621, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/b7bSs.jpg?s=128&g=1", "display_name": "xMRi", "link": "https://stackoverflow.com/users/2790621/xmri"}, "is_accepted": true, "score": 1, "last_activity_date": 1509100022, "creation_date": 1509100022, "answer_id": 46972929, "question_id": 46969238, "link": "https://stackoverflow.com/questions/46969238/perl-win32ole-howto-move-excel-worksheet-or-change-position/46972929#46972929", "title": "perl WIN32::OLE - HowTo move Excel Worksheet (or change position)", "body": "<p>You need to use the <a href=\"https://msdn.microsoft.com/de-de/VBA/Excel-VBA/articles/worksheet-move-method-excel\" rel=\"nofollow noreferrer\">Worksheet.Move</a> method with the After attribute</p>\n\n<p>I am not a perl specialist, but the syntax should be:</p>\n\n<pre><code>$Book-&gt;Worksheets(\"Sheet1\")-&gt;Move({After =&gt; $workbook-&gt;Worksheets($workbook-&gt;Worksheets(\"Sheet2\"))});\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7061050, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jY4m8.jpg?s=128&g=1", "display_name": "Laurent Zotto", "link": "https://stackoverflow.com/users/7061050/laurent-zotto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 46972929, "answer_count": 1, "score": 0, "last_activity_date": 1509100022, "creation_date": 1509087552, "question_id": 46969238, "link": "https://stackoverflow.com/questions/46969238/perl-win32ole-howto-move-excel-worksheet-or-change-position", "title": "perl WIN32::OLE - HowTo move Excel Worksheet (or change position)", "body": "<p>In the article <a href=\"https://stackoverflow.com/questions/27613878/list-of-perl-commands-to-manipulate-windows-excel-with-win32ole-module\">List of Perl commands to manipulate Windows Excel with Win32::OLE module</a> it is mentioned how to add an Excel WorkSheet before or after an existing WorkSheet!</p>\n\n<p>I want to move, so change the position of an existing WorkSheet, before or after an other WorkSheet. How can I achieve this? Is it just to replace the <code>add</code> in <code>$Book-&gt;Worksheets-&gt;Add({After =&gt; $workbook-&gt;Worksheets($workbook-&gt;Worksheets-&gt;{Count})});</code> by <code>move</code> (or <code>copy</code> if I want to copy)?</p>\n\n<p>thank you for your hints!\nRegards\nLaurent</p>\n"}, {"tags": ["multithreading", "perl"], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1509087379, "post_id": 46968311, "comment_id": 80885619, "body": "@ikegami Ah, yes!  Thank you!  (Need to figure out how to &quot;have fire-and-forget threads&quot;)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1509093517, "post_id": 46968311, "comment_id": 80888902, "body": "As far as I can tell,  when it comes to &#39;fire-and-forget threads&#39; the answer is &#39;pretty much never&#39; - there&#39;s a race condition &#39;for free&#39; if your program exits before the thread. And even if that were not so, perl threading model is heavyweight, not light weight and so not well suited for the &#39;fire-and-forget&#39; thing anyway."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1509121955, "post_id": 46968311, "comment_id": 80906701, "body": "@Sobrique  Right ... I thought that by that phrase ikegami was referring to a thread model or libraries.  It was actually about his posted method, that implements that. Another great piece to work on :). I somehow don&#39;t use threads in production, in Perl (I do in C++). I rarely have long running jobs with a need for pools, or data exchange that&#39;d be too heavy for IPC, and I just don&#39;t see why I would use them otherwise -- I fork.  Still waiting for a problem where threads would be a superior solution."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1509122633, "last_edit_date": 1509122633, "creation_date": 1509083488, "answer_id": 46968311, "question_id": 46968165, "link": "https://stackoverflow.com/questions/46968165/how-do-i-detect-if-thread-s-is-running/46968311#46968311", "title": "How do I detect if thread/s is running", "body": "<p>Why are you doing this?  Detaching a thread means that you <em>don't care</em> about its return or fate; it will finish and exit or be killed as the program is about to exit.</p>\n\n<p>If you want to wait for it don't <code>detach</code> but <code>join</code>.</p>\n\n<hr>\n\n<p>As for the question of how to use <code>is_running</code>, you need a thread object</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\nuse threads;\n$| = 1;\n\nsub thread_sub\n{\n    my $thr = threads-&gt;create(sub\n    {\n        ## threads-&gt;detach();\n        sleep 2; say \"\\tprocessing ..\";\n        sleep 2; say \"\\tdone\";\n    });\n    return $thr;\n}\n\nmy $thr = thread_sub();\n\nwhile ($thr-&gt;is_running) {  # or: while (threads-&gt;list)\n    sleep 1;\n    say \"main\";\n}\n\n$_-&gt;join for threads-&gt;list;  # instead of detaching\n\nsay \"done\";\n</code></pre>\n\n<p>Btw, a detached thread is also covered by <code>is_running</code> (or <code>list</code>) and the above works for it as well. But doing that doesn't make sense; I am just discussing the method you ask about.</p>\n"}, {"comments": [{"owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "edited": false, "score": 0, "creation_date": 1509089982, "post_id": 46968312, "comment_id": 80886885, "body": "Thank you, btw, with thread pool creation (last code) I got: Can&#39;t locate object method &quot;end&quot; via package &quot;Thread::Queue&quot; at ./multi.pl line 24."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1509093388, "post_id": 46968312, "comment_id": 80888809, "body": "Update your version of <code>Thread::Queue</code>, you&#39;re running an old one."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "edited": false, "score": 0, "creation_date": 1509122638, "post_id": 46968312, "comment_id": 80907038, "body": "@Lucas Rey, You need version 3.01 or newer. // You might want to look into Thread::Pool instead of writing your own pool. (Added mention and link to answer.)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1509111221, "last_edit_date": 1509111221, "creation_date": 1509083490, "answer_id": 46968312, "question_id": 46968165, "link": "https://stackoverflow.com/questions/46968165/how-do-i-detect-if-thread-s-is-running/46968312#46968312", "title": "How do I detect if thread/s is running", "body": "<p>To wait for a thread to finish, one typically uses the following:</p>\n\n<pre><code>$thread-&gt;join();\n</code></pre>\n\n<p>To wait for all threads, one would therefore use the following:</p>\n\n<pre><code>$_-&gt;join() for threads-&gt;list();\n</code></pre>\n\n<p>Don't detach the thread if this is what you are going to do.</p>\n\n<hr>\n\n<p>About <code>detach</code>...</p>\n\n<p>If you had fire-and-forget threads, you could use</p>\n\n<pre><code>use threads;\nuse threads::shared;\n\nmy $thread_count :shared = 0;\n\nsub thread_sub {\n   { lock $thread_count; ++$thread_count; cond_signal($thread_count); }\n   my $thread = async {\n      sleep 5;\n\n      { lock $thread_count; --$thread_count; cond_signal($thread_count); }\n   };\n\n   $thread-&gt;detach();  # Free the small thread object as soon as it completes.\n}\n\nthread_sub();\n\n# When it's time to exit:\n{ lock($thread_count); cond_wait($thread_count) while $thread_count != 0; }\n</code></pre>\n\n<p>But that doesn't gain you much over just joining the threads, which is far simpler.</p>\n\n<pre><code>use threads;\n\nsub thread_sub {\n   async {\n      sleep 5;\n   };\n}\n\nthread_sub();\n\n# Periodically:\n$_-&gt;join() for threads-&gt;list(threads::joinable);\n\n# When it's time to exit:\n$_-&gt;join() for threads-&gt;list();\n</code></pre>\n\n<p>Finally, it's more common in practice to create a pool of threads and reuse them rather then creating threads on the fly because thread creation is expensive in Perl. In this situation, detaching makes even less sense.</p>\n\n<pre><code>use threads;\n\nuse Thread::Queue qw( );  # 3.01+\n\nuse constant NUM_WORKERS =&gt; 3;\n\nsub process_job { sleep 5 }\n\nmy $q = Thread::Queue-&gt;new();\nfor (1..NUM_WORKERS) {\n   async {\n      while (my $job = $q-&gt;dequeue()) {\n         process_job($job);\n      }\n   };\n}\n\n$q-&gt;enqueue('some_job');\n\n# When it's time to exit:\n$q-&gt;end();\n$_-&gt;join() for threads-&gt;list();\n</code></pre>\n\n<p>I haven't used it, but look into <a href=\"http://search.cpan.org/perldoc?Thread::Pool\" rel=\"nofollow noreferrer\">Thread::Pool</a>.</p>\n\n<hr>\n\n<p>By the way, <code>async { ... }</code> is just a cleaner way of saying <code>threads-&gt;create(sub { ... })</code>.</p>\n"}], "owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1509122633, "creation_date": 1509082645, "last_edit_date": 1509102753, "question_id": 46968165, "link": "https://stackoverflow.com/questions/46968165/how-do-i-detect-if-thread-s-is-running", "title": "How do I detect if thread/s is running", "body": "<p>The following is a simple code example I'm working on. It just starts a thread, wait 5 seconds, and then terminate it. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse threads;\n\nsub thread_sub\n {\n   threads-&gt;create(sub\n    {\n        sleep 5;   # HERE A WHILE ROUTINEs EMULATED BY SLEEP\n        threads-&gt;detach();\n    });\n}\n\nthread_sub();\nexit;\n</code></pre>\n\n<p><strong>But the result is:</strong></p>\n\n<pre><code># ./multithread.pl \nPerl exited with active threads:\n        1 running and unjoined\n        0 finished and unjoined\n        0 running and detached\n</code></pre>\n\n<p>This because it runs the thread but after that exit without waiting.\nSo, how can I wait for thread to finish before exit? I know there is <code>is_running</code>, but I don't known how to implement it in my code. Obliviously the reported code is just an example to understand how to implement is_running. Thank you.</p>\n"}, {"tags": ["perl", "curl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509105738, "post_id": 46967642, "comment_id": 80896503, "body": "I don&#39;t see why people use WWW::Curl::Easy. I take that it&#39;s fast, but <a href=\"http://www.martin-evans.me.uk/node/169\" rel=\"nofollow noreferrer\">it&#39;s not that much faster</a> than HTTP::Tiny really, and apparently it&#39;s really not that <i>easy</i>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509106101, "post_id": 46967642, "comment_id": 80896738, "body": "When translating <code>curl</code> command line options, you would usually first refer to the manpage. If you find that tedious, try <a href=\"https://explainshell.com/explain?cmd=curl+https%3A%2F%2Fapi.stripe.com%2Fv1%2Fcharges+%5C++++-u+sk_test_a02zSeLS9cMPlJvu2GkWgSDB%3A+%5C++++-d+amount%3D1000+%5C++++-d+currency%3Dsgd+%5C++++-d+description%3D%22Example+charge%22+%5C++++-d+source%3Dtok_2s0QJK6exWUdbSGZb4SpAKep\" rel=\"nofollow noreferrer\">explainshell.com</a>. Now you know what <code>-d</code> and <code>-u</code> do. Refer to <a href=\"https://curl.haxx.se/\" rel=\"nofollow noreferrer\">curl.haxx.se</a> to learn what the internal representation of those options is to use them with the Perl bindings."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1509124091, "post_id": 46967642, "comment_id": 80907806, "body": "<a href=\"https://metacpan.org/pod/WWW::Curl#WWW::Curl::Easy\" rel=\"nofollow noreferrer\">&quot;This is not an ::Easy module in the sense normally used on CPAN.&quot;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 15161, "user_id": 1067003, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e3af2bd4b5604b0b661b5e6646544eba?s=128&d=identicon&r=PG", "display_name": "hanshenrik", "link": "https://stackoverflow.com/users/1067003/hanshenrik"}, "is_accepted": false, "score": 0, "last_activity_date": 1509117900, "creation_date": 1509117900, "answer_id": 46978518, "question_id": 46967642, "link": "https://stackoverflow.com/questions/46967642/perl-curl-code-equivalent-for-d-u/46978518#46978518", "title": "perl curl code equivalent for -d -u", "body": "<p>as you can see in the examples <a href=\"http://search.cpan.org/~szbalint/WWW-Curl-4.17/lib/WWW/Curl.pm\" rel=\"nofollow noreferrer\">here</a>,</p>\n\n<pre><code>use WWW::Curl::Form;\nmy $curlf = WWW::Curl::Form-&gt;new;\n$curlf-&gt;formadd(\"amount\", \"1000\");\n$curlf-&gt;formadd(\"currency\", \"sgd\");\n$curlf-&gt;formadd(\"description\", \"Example charge\");\n$curlf-&gt;formadd(\"source\", \"tok_2s0QJK6exWUdbSGZb4SpAKep\");\n$curl-&gt;setopt(CURLOPT_HTTPPOST, $curlf);\n$curl-&gt;setopt(CURLOPT_USERPWD,\"sk_test_a02zSeLS9cMPlJvu2GkWgSDB:\");\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 2417072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0b29eedd3aa6912959817a73f80748f?s=128&d=identicon&r=PG", "display_name": "Zubinn Tan", "link": "https://stackoverflow.com/users/2417072/zubinn-tan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 401, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509117900, "creation_date": 1509079340, "question_id": 46967642, "link": "https://stackoverflow.com/questions/46967642/perl-curl-code-equivalent-for-d-u", "title": "perl curl code equivalent for -d -u", "body": "<p>how can the below curl code from the command prompt curl be represented in the perl WWW:Curl ?</p>\n\n<pre><code>curl https://api.stripe.com/v1/charges \\\n   -u sk_test_a02zSeLS9cMPlJvu2GkWgSDB: \\\n   -d amount=1000 \\\n   -d currency=sgd \\\n   -d description=\"Example charge\" \\\n   -d source=tok_2s0QJK6exWUdbSGZb4SpAKep\n</code></pre>\n\n<h1>perl</h1>\n\n<pre><code>use WWW::Curl::Easy;\nmy $curl = WWW::Curl::Easy-&gt;new;\n\n$curl-&gt;setopt(CURLOPT_HEADER,1);\n$curl-&gt;setopt(CURLOPT_URL, 'https://api.stripe.com/v1/charges');\n\n# A filehandle, reference to a scalar or reference to a typeglob can be used here.\nmy $response_body;\n$curl-&gt;setopt(CURLOPT_WRITEDATA,\\$response_body);\n\n# Starts the actual request\nmy $retcode = $curl-&gt;perform;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1509073240, "post_id": 46966811, "comment_id": 80881094, "body": "Warnings = you didn&#39;t handle some case, probably missing data.  Why don&#39;t you print them out and take a look."}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1509074207, "post_id": 46966811, "comment_id": 80881298, "body": "@zdim Other parts work just fine. I don&#39;t need to declare <code>$a</code>, please read the comment from my previous question <a href=\"https://stackoverflow.com/questions/46739301/tons-of-use-of-uninitialized-value-within-genetic-code-in-substitution-iterato\" title=\"tons of use of uninitialized value within genetic code in substitution iterato\">stackoverflow.com/questions/46739301/&hellip;</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1509074372, "post_id": 46966811, "comment_id": 80881336, "body": "@zdim, <code>$a</code> is always declared."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1509074434, "post_id": 46966811, "comment_id": 80881347, "body": "@Wenjia Zhai, You know <code>$a</code> is special, yet you use it anyway? Bad you!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1509074476, "post_id": 46966811, "comment_id": 80881352, "body": "@ikegami  yeah ... didn&#39;t think it works always ... <i>why</i> would one want to go for that ... sigh"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1509074671, "post_id": 46966811, "comment_id": 80881388, "body": "@Wenjia Zhai, I&#39;m not sure what the point of that comment was."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1509074674, "post_id": 46966811, "comment_id": 80881390, "body": "@Wenjia Zhai, You assign to <code>$geneID1{$1}</code>, but you check the contents  of <code>$geneID1{$array1[$a]}</code>..."}, {"owner": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "edited": false, "score": 0, "creation_date": 1509075650, "post_id": 46966811, "comment_id": 80881613, "body": "@WenjiaZhai You just changed <code>$geneID1{$1}</code> into <code>$geneID1{$array1[$a]}</code>. You shouldn&#39;t do that, since it&#39;s a totally different situation now. This might obscur the warnings. And what about the two answers you got, don&#39;t you want to comment on them?"}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "reply_to_user": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "edited": false, "score": 0, "creation_date": 1509075983, "post_id": 46966811, "comment_id": 80881686, "body": "@yacc I tried both ways and the warning insists. I need to understand those answers before I can comment"}, {"owner": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "edited": false, "score": 0, "creation_date": 1509076219, "post_id": 46966811, "comment_id": 80881753, "body": "@WenjiaZhai And in a prior version $a started from 1. It doesn&#39;t help people to understand your code if you change it while they&#39;re at it. I suggest to print $a so you get a hint on which line this occurs, and the content of that line maybe would be good to know, too."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1509077952, "post_id": 46966811, "comment_id": 80882167, "body": "I would guess that your data doesn&#39;t have tab characters, but (4 or 8) spaces, or perhaps multiple tabs where you expect one.  This is very common. Try with <code>\\s+</code> instead of <code>\\t</code> (in both places!).  I edited my answer with a comment on this."}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1509078777, "post_id": 46966811, "comment_id": 80882377, "body": "@zdim This kind of file is standardized, the empty space should be tabs."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1509079059, "post_id": 46966811, "comment_id": 80882456, "body": "Re &quot;<i>I found the solution: use while loop instead</i>&quot;, No, that did nothing to solve the problem, and <i>you</i> aren&#39;t the one that &quot;found&quot; it. As mentioned above, the problem is that you were using the wrong key. (You assigned to <code>$geneID1{$1}</code>, but you check the contents of <code>$geneID1{$array1[$a]}</code>)"}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1509080011, "post_id": 46966811, "comment_id": 80882736, "body": "@ikegami I can&#39;t agree. Before I posted, I used same variables, buy there was still a warning."}, {"owner": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "edited": false, "score": 0, "creation_date": 1509080155, "post_id": 46966811, "comment_id": 80882777, "body": "@WenjiaZhai I&#39;d also be interested in the root cause of the warning, but the code has changed so much that&#39;s impossible to tell now. However..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "edited": false, "score": 0, "creation_date": 1509082993, "post_id": 46966811, "comment_id": 80883807, "body": "@yacc, As I mentioned twice already, the warning was caused by Wenjia Zhai printing <code>$geneID1{&quot;PNMA3\\tQ9H0A4\\tHomo sapiens\\tparaneoplastic antigen MA3&quot;}</code> instead of <code>$geneID1{&quot;Q9H0A4&quot;}</code> (the element they just set) because of a typo."}, {"owner": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1509083113, "post_id": 46966811, "comment_id": 80883847, "body": "Ok I got it now. That&#39;s a good example why question authors shouldn&#39;t <i>improve</i> their code samples. @ikegami"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1509077093, "post_id": 46967053, "comment_id": 80881968, "body": "Thank you for your suggestion. After I tried while loop, it does work. I&#39;ve put the new code in my original post"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 1, "creation_date": 1509079163, "post_id": 46967053, "comment_id": 80882492, "body": "It&#39;s unfortunate that re-added the mistakes I removed?!? <code>$1</code> is garbage unless you make sure your match succeeded, and your regex is a poorly readable and slow way of splitting on tabs. It&#39;s also unfortunate that you reverted to an inflexible interface instead of accepting the file name as an argument."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "edited": false, "score": 1, "creation_date": 1509079397, "post_id": 46967053, "comment_id": 80882561, "body": "@yacc, You are wrong. A failed match does not change <code>$1</code> whatsoever, as you can see by running the following: <code>perl -Mfeature=say -e&#39;for (qw( abc def )) { &#47;(b)&#47;; say $1 &#47;&#47; &quot;[undef]&quot;; }&#39;</code> /// Furthermore, failed match setting <code>$1</code> to <code>undef</code> would actually have been a good thing, and my program does exactly the same thing (sets <code>$id</code> to <code>undef</code> if there&#39;s no tabs)."}, {"owner": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "edited": false, "score": 0, "creation_date": 1509079635, "post_id": 46967053, "comment_id": 80882632, "body": "You&#39;re right, I got that wrong. Maybe I got this from an earlier Perl version. @ikegami"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1509074870, "creation_date": 1509074870, "answer_id": 46967053, "question_id": 46966811, "link": "https://stackoverflow.com/questions/46966811/how-to-assign-a-value-to-a-hash-in-perl/46967053#46967053", "title": "how to assign a value to a hash in perl", "body": "<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature qw( say );\n\n&lt;&gt;; # Skip header.\n\nmy %geneID1;\nwhile (&lt;&gt;) {\n   chomp;\n   my @fields = split /\\t/;\n   my $id = $fields[1];\n   $geneID1{$id} = $_;\n}\n\nsay \"$_ =&gt; $geneID1{$_}\" for sort keys %geneID1;\n</code></pre>\n\n<p>(Pass <code>geneIDs3_MouseToUniProtAccessions.txt</code> as an argument.)</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1509075857, "post_id": 46967055, "comment_id": 80881657, "body": "Thank you for your advice. I declare <code>$inFH1</code> early for readability. It&#39;s just my style. I don&#39;t know what is C-style, I just learn programming, I want to be as clear as possible."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1509076884, "post_id": 46967055, "comment_id": 80881922, "body": "@WenjiaZhai (1) With <code>open</code> there is no scope benefit in fact, but it is generally better to declare right where you need it.  When it&#39;s declared right under <code>open</code> there is never confusion about where it belongs. (2) &quot;C-style&quot; loop normally refers to <code>for (my $i = 0, $i &lt; SIZE; ++$i)</code> -- like you do a loop in C.  Perl is a much higher-level language and offers other, more convenient ways."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1509076941, "post_id": 46967055, "comment_id": 80881933, "body": "@WenjiaZhai Keep learning, enjoy it :).  Find your style (but also note &quot;good practices&quot;)"}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1509077983, "post_id": 46967055, "comment_id": 80882177, "body": "One major reason for declaring a variable ahead is that I usually countered an error <code>Global symbol requires explicit package name</code> even after I use <code>my</code>. I couldn&#39;t find the reason why I have it, but I found that if I declare variables earlier, I won&#39;t have this error."}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1509078074, "post_id": 46967055, "comment_id": 80882196, "body": "Thank you for your encouragement! I do have fun while programming. I also learn a lot from this forum."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1509078176, "post_id": 46967055, "comment_id": 80882229, "body": "@WenjiaZhai That means that you use the variable either outside of &quot;<i>scope</i>&quot; in which it is declared, or before you declare it. It is something you absolutely want to clear up. Perhaps post a question with the <i>exact</i> code that gives you this?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1509078221, "post_id": 46967055, "comment_id": 80882237, "body": "@WenjiaZhai  Also ... I have to ask .. you <i>are</i> reading some good book or a modern well-regarded tutorial while you are learning, right?"}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1509078590, "post_id": 46967055, "comment_id": 80882333, "body": "I just started my MS program in bioinformatics this fall. Yes, I&#39;ve been reading some books, but in most of time, I&#39;m reading handouts from class and do assignments."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1509124478, "last_edit_date": 1509124478, "creation_date": 1509074897, "answer_id": 46967055, "question_id": 46966811, "link": "https://stackoverflow.com/questions/46966811/how-to-assign-a-value-to-a-hash-in-perl/46967055#46967055", "title": "how to assign a value to a hash in perl", "body": "<p>It's hard to tell what the error is, with tabs (are they tabs?) and changing code in the question.</p>\n\n<p>However, there are many elements in the code that can be improved</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy $file = 'geneIDs3_MouseToUniProtAccessions.txt';\nopen my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nmy %geneID1;\n\nmy $header = &lt;$fh&gt;;    \nwhile (&lt;$fh&gt;) {\n    chomp;\n    $geneID1{ (split /\\t/)[1] } = $_; \n}\n\nsay \"$_ =&gt; $geneID1{$_}\" for sort keys %geneID1;\n</code></pre>\n\n<p>The one \"wild card\" is your data; if you are unsure about <code>TAB</code> characters use <code>\\s+</code> (matches tabs as well), since you only need the second field. By <code>split</code> defaults then you can do <code>(split)[1]</code>.</p>\n\n<p>Comments on the original code</p>\n\n<ul>\n<li><p>Read a file ahead of time only when there is a very specific reason for that</p></li>\n<li><p>Declare everything, even if some special feature allows you not to (<code>$a</code>)</p></li>\n<li><p>Declare in smallest scope possible and close to where it's needed: <code>open my $fh, ...</code></p></li>\n<li><p>Do not use special variables like <code>$a</code> except for what they are meant for!</p></li>\n<li><p>There is practically never a need for a C-style <code>for</code> loop. If you need indices in iteration</p>\n\n<pre><code>foreach my $i (0 .. $#ary) { ... }\n</code></pre>\n\n<p>where <code>$#ary</code> is the index of the last element of array <code>@ary</code></p></li>\n</ul>\n"}], "owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 799, "favorite_count": 0, "accepted_answer_id": 46967053, "answer_count": 2, "score": -2, "last_activity_date": 1509124478, "creation_date": 1509072948, "last_edit_date": 1509082582, "question_id": 46966811, "link": "https://stackoverflow.com/questions/46966811/how-to-assign-a-value-to-a-hash-in-perl", "title": "how to assign a value to a hash in perl", "body": "<p>This is a part of work. In this part, I'm trying to write a program to create a hash. The keys are accession numbers in a file, the values are the entire lines. However, the program gives me a warning. The code is:</p>\n\n<pre><code>#!/usr/bin/perl\n\n#psuedocode:\n#open file1, store uniport accesion as key and the line as value\n#open file2, store uniport accesion as key and the line as value which lines contain \"IDA\"\n#compare keys in two hashes, find out matched keys\n#print out lines from file2 that match\n\nuse strict;\nuse warnings;\nuse feature qw(say);\n\nmy $infile1 = \"geneIDs3_MouseToUniProtAccessions.txt\";\nmy $inFH1;\nopen ($inFH1, \"&lt;\", $infile1) or die join (\" \", \"Can't open\", $infile1, \"for reading:\", $!);\nmy @array1 = &lt;$inFH1&gt;;\nclose $inFH1;\nshift @array1;\nmy %geneID1;\nfor ($a = 0; $a &lt; scalar @array1; $a++){\n    chomp $array1[$a];\n    $array1[$a] =~ /.*?\\t(.*?)\\t.*/;\n    $geneID1{$1} = $array1[$a];\n    #say (\"$1\", '-&gt;', \"$geneID1{$array1[$a]}\");    #test if the hash has been successfully created, however it doesn't\n    #say $array1[$a];              #test if the program can recognize the elements, it does\n}\n</code></pre>\n\n<p>the file <code>geneIDs3_MouseToUniProtAccessions.txt</code> contains 1,000 lines so the warnings are numerous. The first two lines are:</p>\n\n<pre><code>From    To  Species Gene Name\nPNMA3   Q9H0A4  Homo sapiens    paraneoplastic antigen MA3\n</code></pre>\n\n<p>The warning likes this:</p>\n\n<pre><code>Use of uninitialized value within %geneID1 in string at match_for_part_III_10.pl line 24.\nQ9H0A4-&gt;\n</code></pre>\n\n<p>I found the solution: use <code>while</code> loop instead. Not only it works, but also it is more elegant. The new code is:</p>\n\n<pre><code> #!/usr/bin/perl\n\n#psuedocode:\n#open file1, store uniport accesion as key and the line as value\n#open file2, store uniport accesion as key and the line as value which lines contain \"IDA\"\n#compare keys in two hashes, find out matched keys\n#print out lines from file2 that match\n\nuse strict;\nuse warnings;\nuse feature qw(say);\n\nmy $infile1 = \"geneIDs3_MouseToUniProtAccessions.txt\";\nmy $inFH1;\nopen ($inFH1, \"&lt;\", $infile1) or die join (\" \", \"Can't open\", $infile1, \"for reading:\", $!);\nmy %geneID1;\n\nwhile (&lt;$inFH1&gt;){\n    $_ =~ /.*?\\t(.*?)\\t.*/;\n    $geneID1{$1} = $_;\n    say (\"$1\", '-&gt;', \"$geneID1{$1}\");\n}\nclose $inFH1;\n</code></pre>\n\n<p>Thank you all for your incredible help!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 4, "creation_date": 1509063535, "post_id": 46965666, "comment_id": 80879025, "body": "It&#39;s been 23 years since the release of perl 5.0. You&#39;re allowed to <code>use strict;</code> and <code>use warnings;</code> now."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 4, "creation_date": 1509063558, "post_id": 46965666, "comment_id": 80879030, "body": "Your code only reads one line from the file."}, {"owner": {"reputation": 146, "user_id": 7408563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U871e.jpg?s=128&g=1", "display_name": "asthman", "link": "https://stackoverflow.com/users/7408563/asthman"}, "edited": false, "score": 0, "creation_date": 1509069642, "post_id": 46965666, "comment_id": 80880283, "body": "$_=&lt;INPUTFILEHANDLE&gt;; #  Just read the first line from file"}, {"owner": {"reputation": 1, "user_id": 4638063, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s8bmYZkWL2w/AAAAAAAAAAI/AAAAAAAAAGc/wDzGPwGimQo/photo.jpg?sz=128", "display_name": "Raelean P.", "link": "https://stackoverflow.com/users/4638063/raelean-p"}, "edited": false, "score": 0, "creation_date": 1509124707, "post_id": 46965666, "comment_id": 80908104, "body": "Makes sense, thank you for the clarification. I used a similar script on other text file but in that case it worked probably because the entire text was probably one line (no LF/CR)"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4638063, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s8bmYZkWL2w/AAAAAAAAAAI/AAAAAAAAAGc/wDzGPwGimQo/photo.jpg?sz=128", "display_name": "Raelean P.", "link": "https://stackoverflow.com/users/4638063/raelean-p"}, "edited": false, "score": 0, "creation_date": 1509124403, "post_id": 46965761, "comment_id": 80907961, "body": "Thank you. I will install the Cpanel::JSON::XS module ant use it!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1509064110, "creation_date": 1509064110, "answer_id": 46965761, "question_id": 46965666, "link": "https://stackoverflow.com/questions/46965666/while-loop-ends-prematurely-on-a-regex/46965761#46965761", "title": "While loop ends prematurely on a regex", "body": "<p>You only ever read one line!</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Cpanel::JSON::XS qw( );\n\nmy $parser = Cpanel::JSON::XS-&gt;new();\n\nwhile (&lt;&gt;) {\n    my $rec = $parser-&gt;decode($_);\n    print(\"timestamp: $rec-&gt;{timestamp} accountID: $rec-&gt;{accountId}\\n\")\n        if $rec-&gt;{accountId};\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>script nr_raw.txt &gt;results.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4638063, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s8bmYZkWL2w/AAAAAAAAAAI/AAAAAAAAAGc/wDzGPwGimQo/photo.jpg?sz=128", "display_name": "Raelean P.", "link": "https://stackoverflow.com/users/4638063/raelean-p"}, "edited": false, "score": 1, "creation_date": 1509125016, "post_id": 46977979, "comment_id": 80908253, "body": "I works as a charm, thank you. Now I realize it is exactly what I was supposed to do. I I was confused because the same script worked on other text files (probably because they were just one lin, no LF/CR). Thank you again!"}], "tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1509116226, "creation_date": 1509116226, "answer_id": 46977979, "question_id": 46965666, "link": "https://stackoverflow.com/questions/46965666/while-loop-ends-prematurely-on-a-regex/46977979#46977979", "title": "While loop ends prematurely on a regex", "body": "<p>Put the regex in an if statement and make the while loop read every line.</p>\n\n<pre><code>    #!/usr/bin/env perl\n    use strict;\n    use warnings;\n    use autodie; # See http://perldoc.perl.org/autodie.html\n\n    my $inputfile = \"nr_raw.txt\";\n    my $outputfile = \"results.txt\";  #create this output file (it will be created automatically in the current folder)\n\n    # autodie handles errors automatically.\n    open my $out_fh, '&gt;', $outputfile;\n    open my $in_fh, '&lt;', $inputfile;\n\n    while( my $line = &lt;$in_fh&gt; ){\n        if( $line =~ /{.*?\"timestamp\":(\\d+).*?\"accountId\":(\\d+).*?}\\n/sg ){\n            my $info = \"timestamp: $1 accountID: $2\";\n\n            print \"$info \\n\";\n            print $out_fh $info ;\n        }\n    }\n\n# autodie handles errors automatically.\nclose $out_fh;\nclose $in_fh;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4638063, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s8bmYZkWL2w/AAAAAAAAAAI/AAAAAAAAAGc/wDzGPwGimQo/photo.jpg?sz=128", "display_name": "Raelean P.", "link": "https://stackoverflow.com/users/4638063/raelean-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1509116226, "creation_date": 1509063431, "last_edit_date": 1509063652, "question_id": 46965666, "link": "https://stackoverflow.com/questions/46965666/while-loop-ends-prematurely-on-a-regex", "title": "While loop ends prematurely on a regex", "body": "<p>I am running the following Perl script via ActivePerl to extract the time and ID numerical values from a text. \nFor some reason, the while loop ends after the first line of the text is checked. </p>\n\n<p>Here is the Perl code I use:</p>\n\n<pre><code>#!/usr/bin/perl -w\n$inputfile = \"nr_raw.txt\";\n$outputfile = \"results.txt\";  #create this output file (it will be created automatically in the current folder)\nopen (OUTPUTFILEHANDLE, \"&gt; $outputfile\") || die \"I can't find or open $file: error $!\\n\";\nopen (INPUTFILEHANDLE, $inputfile) || die \"I can't find or open $file!\\n\";\n$_=&lt;INPUTFILEHANDLE&gt;;\nwhile (/{.*?\"timestamp\":(\\d+).*?\"accountId\":(\\d+).*?}\\n/sg)\n{\n$info=\"timestamp: $1 accountID: $2\";\nprint \"$info \\n\";\nprint OUTPUTFILEHANDLE $info ;\n}\nclose OUTPUTFILEHANDLE;\n</code></pre>\n\n<p><code>nr_raw.txt</code>: (No <code>accountId</code> entry on third line)</p>\n\n<pre><code>{\"eventType\":\"alarm\",\"timestamp\":1508845227478,...,\"accountId\":1275676,\"Version\":\"1.3\",....}\n{\"eventType\":\"alarm\",\"timestamp\":1508845166740,...,\"accountId\":1274721,\"Version\":\"1.1\",....}\n{\"eventType\":\"alarm\",\"timestamp\":1508845187479,....,..................,\"Version\":\"1.1\",....}\n{\"eventType\":\"alarm\",\"timestamp\":1508845166980,...,\"accountId\":1347376,\"Version\":\"1.2\",....}\n</code></pre>\n\n<p><code>results.txt</code>: (Nothing else)</p>\n\n<pre><code>timestamp 1508845227478 account ID1275676\n</code></pre>\n"}, {"tags": ["perl", "pdf", "pdf-generation"], "comments": [{"owner": {"reputation": 4411, "user_id": 2105284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759991764080ee52a3dc02b3d88ec4fc?s=128&d=identicon&r=PG", "display_name": "dwarring", "link": "https://stackoverflow.com/users/2105284/dwarring"}, "edited": false, "score": 0, "creation_date": 1509061351, "post_id": 46963970, "comment_id": 80878471, "body": "Are you reasoably up-to-date with PDF::API2? (<code>perl -MPDF::API2 -E&#39;say $PDF::API2::VERSION&#39;</code>). Latest is 2.033"}, {"owner": {"reputation": 21, "user_id": 7962628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105bb38df60e6fe023dadaa61558d8f4?s=128&d=identicon&r=PG&f=1", "display_name": "Bastian", "link": "https://stackoverflow.com/users/7962628/bastian"}, "reply_to_user": {"reputation": 4411, "user_id": 2105284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759991764080ee52a3dc02b3d88ec4fc?s=128&d=identicon&r=PG", "display_name": "dwarring", "link": "https://stackoverflow.com/users/2105284/dwarring"}, "edited": false, "score": 0, "creation_date": 1509090705, "post_id": 46963970, "comment_id": 80887312, "body": "My version actually is 2.033."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509115427, "post_id": 46963970, "comment_id": 80902914, "body": "Can you show your code for option three, and provide an example PDF? I worked a lot with PDFs in Perl in the past, but don&#39;t remember a lot any more. I&#39;d like to play around with your stuff. Maybe I&#39;ll get lucky."}], "owner": {"reputation": 21, "user_id": 7962628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105bb38df60e6fe023dadaa61558d8f4?s=128&d=identicon&r=PG&f=1", "display_name": "Bastian", "link": "https://stackoverflow.com/users/7962628/bastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1509052661, "creation_date": 1509052661, "question_id": 46963970, "link": "https://stackoverflow.com/questions/46963970/how-to-manipulate-pdf-file-properties-e-g-trimbox-using-perl", "title": "How to manipulate PDF file properties (e.g. TrimBox) using Perl", "body": "<p>What I'm trying to achieve is to add a TrimBox to a number of existing PDF documents. I'd like to use Perl for this task.</p>\n\n<p>I already researched and tried a number of approaches, but without success. I'm happy about suggestions for driving any of these approaches further:</p>\n\n<p><strong>1) PDF::API2</strong><br />\nThis one looked very promising for the start, and I managed to add TrimBoxes programmatically with an approach like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse PDF::API2;\n\nmy $pdfsource = \"test.pdf\";\nmy $pdftarget = \"output.pdf\"\nmy $pdf = PDF::API2-&gt;open($pdfsource);\nmy $page = $pdf-&gt;openpage(1);\n$page-&gt;trimbox(255, 9, 1042, 536);\n$pdf-&gt;saveas($pdftarget);\n</code></pre>\n\n<p>This code works perfectly fine for quite some PDFs, but unfortunately corrupts approx. ~25% of the PDF files. When trying to open the output files in Acrobat reader, I get <em>\"An error exists on this page. Acrobat may not display the page correctly.\"</em></p>\n\n<p>The very same problem occurs if I just open and save the PDF using PDF::API2 without any modification:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse PDF::API2;\n\nmy $pdfsource = \"test.pdf\";\nmy $pdftarget = \"output.pdf\"\nmy $pdf = PDF::API2-&gt;open($pdfsource);\n$pdf-&gt;saveas($pdftarget);\n</code></pre>\n\n<p>Any hint how to avoid or further diagnose this behavior of PDF::API2, only affecting some PDFs, would be highly welcome, since this library is most convenient to use.</p>\n\n<p><strong>2) Directly changing the file on raw level</strong><br />\nMy next idea was: I want to change the values of only one existing object in the PDF. Probably PDF::API2 does too much and rewrites the entire file, this breaking it. So why not keep my access as minimal as possible, just read the file line by line in Perl and substitute the specific value I'd like to change?</p>\n\n<p>This was the dirty piece of code I wrote for that (please don't laugh):</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $pdfsource = \"test.pdf\";\nmy $pdftarget = \"output.pdf\";\nopen my $fh, '&lt;', $pdfsource or die;\nbinmode($fh);\nopen my $fho, '&gt;', $pdftarget or die;\nbinmode($fho);\nmy $line = undef;\n\nwhile(&lt;$fh&gt;) {\n    if ($_ =~ /\\/TrimBox/) {\n        $line = $_;\n        my $index = index($line, \"/TrimBox\");\n        my @parts = split /\\/TrimBox/, $line;\n        $parts[0] = $parts[0] . \"/Trimbox\";\n        $parts[1] =~ s/0 0 1296 864/255 9 1042 536/;\n        $line = $parts[0] . $parts[1];\n        print $fho $line;\n    } else {\n       print $fho $_;\n}   \n}\nclose $fh;\nclose $fho;\n</code></pre>\n\n<p>Unfortunately, this approach corrupts all output files - so either there's a mistake in the code, or PDFs are somehow checksum-protected against changes like this one.</p>\n\n<p><strong>3) CAM::PDF</strong><br />\nI then researched CAM::PDF, because I was searching for an option to manipulate a specific object in the PDF without having to work on raw level. Unfortunately, this model isn't documented too deeply, why I only managed to read the existing TrimBox node from my PDF file, but found no way to <em>update</em> the node with the values I need.</p>\n\n<p>If you believe this approach could work, I'd be grateful for an example showing how to effectively pull a specific node and to alter its values.</p>\n\n<p>Of course, any other idea how the objective could be achieved, apart from any of these approaches, is also highly welcome. Thanks much!</p>\n"}, {"tags": ["bash", "macos", "perl", "zsh", "gnu-parallel"], "comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 1, "creation_date": 1509046255, "post_id": 46962226, "comment_id": 80872327, "body": "You could try <code>\u2014parens ,,,,</code> and then use <code>,, \u2018$_++\u2019 ,,</code>"}, {"owner": {"reputation": 7892, "user_id": 3310334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/BTb0z.jpg?s=128&g=1", "display_name": "theonlygusti", "link": "https://stackoverflow.com/users/3310334/theonlygusti"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1509046604, "post_id": 46962226, "comment_id": 80872543, "body": "@MarkSetchell wow, worked perfectly first time. Do you want to add it as an answer?"}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1509047397, "post_id": 46962226, "comment_id": 80873017, "body": "I think @chepner\u2019s is a better, more legible solution than mine, but may add it as an answer when I am back near a computer. I\u2019m voting for his ;-)"}, {"owner": {"reputation": 7892, "user_id": 3310334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/BTb0z.jpg?s=128&g=1", "display_name": "theonlygusti", "link": "https://stackoverflow.com/users/3310334/theonlygusti"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1509047674, "post_id": 46962226, "comment_id": 80873191, "body": "@MarkSetchell chepner&#39;s didn&#39;t work. I didn&#39;t tell them that it didn&#39;t work because they deleted their answer too quickly, so maybe they figured that out for themselves. Should I add your comment as an answer then or wait for you? I&#39;m not so sure of the etiquette."}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1509048053, "post_id": 46962226, "comment_id": 80873410, "body": "Go ahead and put it as an answer - you&#39;re welcome. I am kind of offline as I am building a new desk and decorating my office - sigh!"}], "answers": [{"comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1509047326, "post_id": 46962409, "comment_id": 80872974, "body": "More generally, the <code>=}</code> seems to be what zsh is treating specially; it should be enough to quote just that: <code>seq 10 | parallel echo {} + 1 is {= &#39;$_++&#39; &#39;=}&#39;</code>. It happens that <code>parallel</code> doesn&#39;t care whether it receives one argument with embedded spaces or several arguments, but other commands might."}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1509047486, "post_id": 46962409, "comment_id": 80873084, "body": "Ah, right; it&#39;s trying to expand <code>=}</code> to the full path where <code>}</code> is found in a <code>PATH</code> directory. On principle, though, you don&#39;t want any of this expression subject to shell expansion, so you may as well be explicit about what you want to be passed to <code>parallel</code>."}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1509050528, "post_id": 46962409, "comment_id": 80874660, "body": "It is a matter of taste, but I would write it like: <code>seq 10 | parallel echo &#39;{}&#39; + 1 is &#39;{= $_++ =}&#39;</code>"}], "tags": [], "owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 4, "last_activity_date": 1509047231, "last_edit_date": 1509047231, "creation_date": 1509046423, "answer_id": 46962409, "question_id": 46962226, "link": "https://stackoverflow.com/questions/46962226/gnu-parallel-with-perl-expression-zsh-parse-error-near/46962409#46962409", "title": "GNU parallel with Perl expression; zsh: parse error near `}&#39;", "body": "<p>As with any command, quote whatever <code>zsh</code> will try to interpret itself if left unquoted.</p>\n\n<pre><code>seq 10 | parallel 'echo {} + 1 is {= $_++ =}'\n</code></pre>\n\n<p>In this case, <code>parallel</code> is just going to join the various elements into a single string, <em>then</em> subject it to its own parsing, before passing the result to a shell; you may as well just pass a single string to start.</p>\n"}, {"tags": [], "owner": {"reputation": 7892, "user_id": 3310334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/BTb0z.jpg?s=128&g=1", "display_name": "theonlygusti", "link": "https://stackoverflow.com/users/3310334/theonlygusti"}, "is_accepted": true, "score": 1, "last_activity_date": 1509049259, "creation_date": 1509049259, "answer_id": 46963138, "question_id": 46962226, "link": "https://stackoverflow.com/questions/46962226/gnu-parallel-with-perl-expression-zsh-parse-error-near/46963138#46963138", "title": "GNU parallel with Perl expression; zsh: parse error near `}&#39;", "body": "<p>(Thanks to <a href=\"https://stackoverflow.com/users/2836621/mark-setchell\">@MarkSetchell</a>)</p>\n\n<p>This worked perfectly for me:</p>\n\n<pre><code>seq 10 | parallel --parens ,,,, echo {} + 1 is ,, '$_++' ,,\n</code></pre>\n\n<p>Setting <code>--parens</code> to <code>,,,,</code> and then quoting the perl expression as <code>,,<i>perl expression</i>,,</code>.</p>\n"}], "owner": {"reputation": 7892, "user_id": 3310334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/BTb0z.jpg?s=128&g=1", "display_name": "theonlygusti", "link": "https://stackoverflow.com/users/3310334/theonlygusti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 46963138, "answer_count": 2, "score": 1, "last_activity_date": 1509049259, "creation_date": 1509045641, "question_id": 46962226, "link": "https://stackoverflow.com/questions/46962226/gnu-parallel-with-perl-expression-zsh-parse-error-near", "title": "GNU parallel with Perl expression; zsh: parse error near `}&#39;", "body": "<p>Trying to run this example command (from the man page):</p>\n\n<pre><code>seq 10 | parallel echo {} + 1 is {= '$_++' =}\n</code></pre>\n\n<p>I get the error</p>\n\n<pre><code>zsh: parse error near `}'\n</code></pre>\n\n<p>How can I fix this and use <code>{=<i>perl expression</i>=}</code> replacement strings in my parallel commands?</p>\n\n<p>I'm in iTerm 2 on macOS, using zsh.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 3, "creation_date": 1509045195, "post_id": 46962071, "comment_id": 80871686, "body": "Which line is line 47?  I&#39;m not in the mood for squint-counting at my screen."}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "reply_to_user": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 1, "creation_date": 1509045308, "post_id": 46962071, "comment_id": 80871748, "body": "<code>unless (open (@list, &quot;&gt;&quot;, &quot;match_1.txt&quot;)){</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1509045317, "post_id": 46962071, "comment_id": 80871754, "body": "For one, you are trying to use the scalar representation of <code>@list</code> as your filehandle for the last <code>open</code> call. That&#39;s wrong."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509045363, "post_id": 46962071, "comment_id": 80871781, "body": "I think what you want is <code>open my $fh, &#39;&gt;&#39;, &#39;match_1.txt&#39;; print $fh @list;</code>. This is going to be a facepalm moment. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1509045530, "post_id": 46962071, "comment_id": 80871884, "body": "You might also want to post that code on <a href=\"https://codereview.stackexchange.com\">Code Review</a>, there are a few things that can be improved to make your code way more readable. If you&#39;re interested, that is. Some of them include using <code>$a</code> and <code>$b</code>, which are global variables reserved for <code>sort</code>. Also, your <code>@list</code> will always contain a blank line."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1509046799, "post_id": 46962185, "comment_id": 80872688, "body": "OK, it seems to be the problem. However after I tried to modify the last part of code to <code>my $inFH; @list1_new = &lt;$inFH&gt;; unless (open ($inFH, &quot;&gt;&quot;, &quot;match_1.txt&quot;)){ \tdie join (&#39; &#39;, &quot;can&#39;t write the common interest&quot;); }</code>, it gives me a new error <code>Use of uninitialized value $inFH in &lt;HANDLE&gt; at match_for_part_III_9.pl line 54. readline() on unopened filehandle at match_for_part_III_9.pl line 54.</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1509046987, "post_id": 46962185, "comment_id": 80872799, "body": "@WenjiaZhai why are you reusing a filehandle with a name that&#39;s clearly for reading? And why are you reading from a filehandle that was opened for writing? Line 54 is not included in your question, so I can only guess."}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 1, "creation_date": 1509047570, "post_id": 46962185, "comment_id": 80873135, "body": "It&#39;s a new file handle. I want to use this filehandle for writing but I don&#39;t know how to put values into a filehandle."}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 1, "creation_date": 1509047961, "post_id": 46962185, "comment_id": 80873351, "body": "Thank you! Problem solved. I didn&#39;t realize it is the solution."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1509045473, "creation_date": 1509045473, "answer_id": 46962185, "question_id": 46962071, "link": "https://stackoverflow.com/questions/46962071/cant-use-string-as-a-symbol-ref-while-strict-refs-in-use/46962185#46962185", "title": "Can&#39;t use string as a symbol ref while &quot;strict refs&quot; in use", "body": "<p>You are trying to use the scalar representation of <code>@list</code> as your filehandle to open <code>match_1.txt</code> for writing in line 47.</p>\n\n<blockquote>\n<pre><code>#             VVVV\nunless (open (@list, \"&gt;\", \"match_1.txt\")){\n    die join (' ', \"can't write the common interest\");\n}\n</code></pre>\n</blockquote>\n\n<p>Instead, you want to create a new file handle, and <code>print</code> your <code>@list</code> to that handle.</p>\n\n<pre><code>open my $fh, '&gt;', 'match_1.txt' or die \"Can't write the common interest: $!\";\nprint $fh @list; # will join on $\\ implicitly\nclose $fh;\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1179, "favorite_count": 0, "accepted_answer_id": 46962185, "answer_count": 1, "score": 0, "last_activity_date": 1509045473, "creation_date": 1509045064, "question_id": 46962071, "link": "https://stackoverflow.com/questions/46962071/cant-use-string-as-a-symbol-ref-while-strict-refs-in-use", "title": "Can&#39;t use string as a symbol ref while &quot;strict refs&quot; in use", "body": "<p>I'm trying to compare two large files and write every line containing the same content with \"Mus musculus\" into a new file. My code is:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy $infile1 = \"geneIDs3_MouseToUniProtAccessions.txt\";\nmy $inFH1;\nunless (open ($inFH1, \"&lt;\", $infile1)){\n    die join (' ', \"can't open\", $infile1, \"for reading\", $!);\n}\nmy @list1 = &lt;$inFH1&gt;;\nshift @list1;\nclose $inFH1;\n\nmy @list1_new;\nfor ($a = 0; $a &lt; scalar @list1; $a++){\n    if ($list1[$a] =~ /(.*Mus musculus.*)/){\n        push @list1_new, $1;\n    }\n}\n\nmy $infile2 = \"affymetrixIDs_MouseToUniProtAccessions.txt\";\nmy $inFH2;\nunless (open ($inFH2, \"&lt;\", $infile2)){\n    die join (' ', \"can't open\", $infile2, \"for reading\", $!);\n}\nmy @list2 = &lt;$inFH2&gt;;\nshift @list2;\nclose $inFH2;\n\nmy @list2_new;\nfor ($a = 0; $a &lt; scalar @list2; $a++){\n    if ($list2[$a] =~ /(.*Mus musculus.*)/){\n        push @list2_new, $1;\n    }\n}\n\nmy @list = (\"\");\nfor ($a = 0; $a &lt; scalar @list1_new; $a++){\n    for ($b = 0; $b &lt; scalar @list2_new; $b++){\n        if ($list1_new[$a] eq $list2_new[$b]){\n            push @list, $list1_new[$a];\n        }\n    }\n}\n\nunless (open (@list, \"&gt;\", \"match_1.txt\")){\n    die join (' ', \"can't write the common interest\");\n}\n</code></pre>\n\n<p>After running, perl gives me an error stated <code>Can't use string (\"1\") as a symbol ref while \"strict refs\" in use at match_for_part_III_9.pl line 47.</code></p>\n\n<p>Does anyone know how to fix it? Any suggestion will be greatly appreciated.</p>\n"}, {"tags": ["perl", "unit-testing", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 12, "last_activity_date": 1509041248, "creation_date": 1509041248, "answer_id": 46961035, "question_id": 46960660, "link": "https://stackoverflow.com/questions/46960660/how-do-i-fake-the-client-ip-address-in-a-unit-test-for-a-mojolicious-app/46961035#46961035", "title": "How do I fake the client IP address in a unit test for a Mojolicious app?", "body": "<p>The author of Mojolicious pointed out on IRC to look at the unit tests in the Mojo dist for the <code>X-Forwarded-For</code> header implementation, <a href=\"https://grep.metacpan.org/search?size=20&amp;q=X-Forwarded-For&amp;qd=Mojolicious&amp;qft=\" rel=\"noreferrer\">so I did</a>.</p>\n\n<p>We need to set the <code>$ENV{MOJO_REVERSE_PROXY}</code> to a true value in the unit test and restart the server, then send an <code>X-Forwarded-For</code> header with the new IP address and things will just work.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Test::More;\nuse Test::Mojo;\nuse Mojolicious::Lite;\n\nget '/foo' =&gt; sub { my $c = shift; $c-&gt;render( text =&gt; $c-&gt;tx-&gt;remote_address ) };\n\nmy $t = Test::Mojo-&gt;new;\n$t-&gt;get_ok('/foo')-&gt;content_like(qr/\\Q127.0.0.1/);\n\n{\n    local $ENV{MOJO_REVERSE_PROXY} = 1;\n    $t-&gt;ua-&gt;server-&gt;restart;\n    $t-&gt;get_ok( '/foo' =&gt; { 'X-Forwarded-For' =&gt; '10.1.1.1' } )-&gt;content_like(qr/\\Q10.1.1.1/);\n}\n\ndone_testing;\n</code></pre>\n\n<p>The tests now pass.</p>\n\n<pre><code>ok 1 - GET /foo\nok 2 - content is similar\nok 3 - GET /foo\nok 4 - content is similar\n1..4\n</code></pre>\n"}], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 3, "accepted_answer_id": 46961035, "answer_count": 1, "score": 12, "last_activity_date": 1509446473, "creation_date": 1509039853, "question_id": 46960660, "link": "https://stackoverflow.com/questions/46960660/how-do-i-fake-the-client-ip-address-in-a-unit-test-for-a-mojolicious-app", "title": "How do I fake the client IP address in a unit test for a Mojolicious app?", "body": "<p>In my Mojolicious app I need to use the client's IP address (<code>$c-&gt;tx-&gt;remote_address</code>) for rate limiting of a service. This works well.</p>\n\n<p>I am now trying to build a unit test for this feature, but I am having trouble faking the client's IP in my tests.</p>\n\n<p>First I thought that <a href=\"https://metacpan.org/pod/Mojo::UserAgent#local_address\" rel=\"noreferrer\"><code>local_address</code> in Mojo::UserAgent</a> might do what I want, but that's where the user agent binds the application locally, and changing it breaks everything because it cannot find the app any more.</p>\n\n<p>I then tried using <a href=\"https://metacpan.org/pod/Sub::Override\" rel=\"noreferrer\">Sub::Override</a> to replace the <a href=\"https://metacpan.org/pod/Mojo::Transaction#remote_address\" rel=\"noreferrer\"><code>remote_address</code> in Mojo::Transaction</a>, but that already applies to the client when I do <code>$t-&gt;post_ok</code>, it tries sending a request to the IP that doesn't exist because the remote address on the client side is the server's address, and I am stuck with a waiting blocking request that will never succeed because the server it wants does not exist.</p>\n\n<p>You can use the following MCVE to try around. The expected result is for the tests to pass.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Test::More;\nuse Test::Mojo;\nuse Mojolicious::Lite;\n\nget '/foo' =&gt; sub { my $c = shift; $c-&gt;render( text =&gt; $c-&gt;tx-&gt;remote_address ) };\n\nmy $t = Test::Mojo-&gt;new;\n$t-&gt;get_ok('/foo')-&gt;content_like(qr/\\Q127.0.0.1/);\n\n# TODO change client IP address to 10.1.1.1\n# in a way that the /foo route sees it\n$t-&gt;get_ok('/foo')-&gt;content_like(qr/\\Q10.1.1.1/);\n\ndone_testing;\n</code></pre>\n\n<p>I know how to do this with Catalyst and Dancer (or other Test::Plack based systems), but those approaches don't work here.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 2, "creation_date": 1509036209, "post_id": 46959529, "comment_id": 80866633, "body": "Always put <code>use strict;</code> and <code>use warnings;</code> at the top of your perl code as that&#39;ll highlight mistakes you&#39;ve made in your code."}, {"owner": {"reputation": 366, "user_id": 4488775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-c7dUxZESZzs/AAAAAAAAAAI/AAAAAAAAAGI/OxEft3Nihy4/photo.jpg?sz=128", "display_name": "Bala Krishnan", "link": "https://stackoverflow.com/users/4488775/bala-krishnan"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1509036262, "post_id": 46959529, "comment_id": 80866663, "body": "The above is just a part of my code. I always add use strict and warnings to my script document."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1509036589, "post_id": 46959529, "comment_id": 80866850, "body": "then why not include them in your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in your question? currently the code you&#39;ve supplied wouldn&#39;t run if you did add them"}, {"owner": {"reputation": 366, "user_id": 4488775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-c7dUxZESZzs/AAAAAAAAAAI/AAAAAAAAAGI/OxEft3Nihy4/photo.jpg?sz=128", "display_name": "Bala Krishnan", "link": "https://stackoverflow.com/users/4488775/bala-krishnan"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1509036782, "post_id": 46959529, "comment_id": 80866971, "body": "Added. Can you tell me what went wrong?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1509038308, "post_id": 46959529, "comment_id": 80867814, "body": "The only possible way to get the warning in what you show is if the call to <code>$domObj</code> fails to return for <code>$ipv4</code>, so then it is used (evaluated) while undefined (&quot;uninitialized&quot;) in the regex."}], "answers": [{"comments": [{"owner": {"reputation": 366, "user_id": 4488775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-c7dUxZESZzs/AAAAAAAAAAI/AAAAAAAAAGI/OxEft3Nihy4/photo.jpg?sz=128", "display_name": "Bala Krishnan", "link": "https://stackoverflow.com/users/4488775/bala-krishnan"}, "edited": false, "score": 0, "creation_date": 1509037122, "post_id": 46959807, "comment_id": 80867156, "body": "Thanks a bunch! Will test it and accept the answer!! I did not have idea about the &quot;dot&quot; being special in regex and it had to be escaped. Thanks again! Is there any other way to escape special characters like dot or * ??"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 366, "user_id": 4488775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-c7dUxZESZzs/AAAAAAAAAAI/AAAAAAAAAGI/OxEft3Nihy4/photo.jpg?sz=128", "display_name": "Bala Krishnan", "link": "https://stackoverflow.com/users/4488775/bala-krishnan"}, "edited": false, "score": 0, "creation_date": 1509037233, "post_id": 46959807, "comment_id": 80867208, "body": "@BalaKrishnan  Inside a regex itself you can use <code>&#47;\\Q...\\E&#47;</code>, which does the same.  Thanks for the reminder, adding to the answer .."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1509037381, "post_id": 46959807, "comment_id": 80867297, "body": "But the dots would match literal dots in the input, too. So the IP addresses should match. This should only lead to false positives, shouldn&#39;t it?"}, {"owner": {"reputation": 366, "user_id": 4488775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-c7dUxZESZzs/AAAAAAAAAAI/AAAAAAAAAGI/OxEft3Nihy4/photo.jpg?sz=128", "display_name": "Bala Krishnan", "link": "https://stackoverflow.com/users/4488775/bala-krishnan"}, "edited": false, "score": 0, "creation_date": 1509037399, "post_id": 46959807, "comment_id": 80867305, "body": "Thanks a bunch! @zdim Will test this tomorrow morning."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509037815, "post_id": 46959807, "comment_id": 80867540, "body": "@simbabque  Right -- I don&#39;t see from the question why it fails to match and throws error so I just called the error.  I should comment (adding), thank you."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509037843, "post_id": 46959807, "comment_id": 80867553, "body": "Essentially <code>say &#39;1.2.3&#39; =~ m&#47;1.2.3&#47;;</code> prints <code>1</code>, but so does <code>say &#39;112233&#39; =~ m&#47;1.2.3&#47;;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509038153, "post_id": 46959807, "comment_id": 80867740, "body": "@simbabque  Right, and one can come up with somewhat realistic concerns like <code>10220.30.40</code> &quot;matching&quot; <code>10.20.30.40</code>.  Or <code>1_2_3</code> for <code>1.2.3</code> which I could <i>imagine</i> actually showing up in data (this is what I tested with)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509038232, "post_id": 46959807, "comment_id": 80867777, "body": "Yes, definitely. I&#39;m not saying you&#39;re wrong This is a good point. I&#39;m just wondering if you are solving their problem. I think something else is going on in OP&#39;s code."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509038371, "post_id": 46959807, "comment_id": 80867838, "body": "@simbabque  The same thinking here, and their update clears it up, updating the answer"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 366, "user_id": 4488775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-c7dUxZESZzs/AAAAAAAAAAI/AAAAAAAAAGI/OxEft3Nihy4/photo.jpg?sz=128", "display_name": "Bala Krishnan", "link": "https://stackoverflow.com/users/4488775/bala-krishnan"}, "edited": false, "score": 0, "creation_date": 1509038872, "post_id": 46959807, "comment_id": 80868125, "body": "@BalaKrishnan  Edited the answer to reflect edits in your question."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1509122524, "last_edit_date": 1509122524, "creation_date": 1509036833, "answer_id": 46959807, "question_id": 46959529, "link": "https://stackoverflow.com/questions/46959529/perl-check-for-presence-of-ip-address-in-a-file/46959807#46959807", "title": "Perl - check for presence of IP address in a file", "body": "<p>The warning in the (edited) question can only be due to  <code>$domObj</code>, see end. We cannot fix that here.  </p>\n\n<p>But there is also a direct error in the shown code so let's clear that up.</p>\n\n<p>Your IPv4 address contains <code>.</code> which is special when used in a regex.  So when you use <code>$ipv4</code> as a pattern in a regex those <code>.</code> match any character and the whole thing is wrong.  (It should still match the literal <code>.</code> as well but it allows other characters, too.)</p>\n\n<p>Form the regex pattern using <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">quotemeta</a>, which escapes all non-word characters</p>\n\n<pre><code>my $re_ipv4 = quotemeta $ivp4;\n\nmy @list;\n\nwhile (&lt;$fh&gt;) \n{\n    while (/\\b($re_ipv4)\\b/g) {\n        push @list, $1;\n    }\n}\n</code></pre>\n\n<p>I put them on an array, which you can later <code>join</code> in a string.  If you wish to form a string directly remember to add a space, <code>$list .= \"$1 \"</code></p>\n\n<p>Inside of a regex this is effected by <code>\\Q</code> (and <code>\\E</code> to stop it)</p>\n\n<pre><code>/\\b\\Q($ipv4)\\E\\b/\n</code></pre>\n\n<p>Search for <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\"><code>\\Q</code> in perlop</a>. It is also documented in <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a> and <a href=\"http://perldoc.perl.org/perlrebackslash.html\" rel=\"nofollow noreferrer\">perlbackslash</a>.</p>\n\n<hr>\n\n<p>The edited question has one clear way to get the mentioned warning. It seems that</p>\n\n<pre><code>$domObj-&gt;getElementsByTagName('ipv4-address');\n</code></pre>\n\n<p>doesn't do as expected and returns <code>undef</code> (or nothing) and thus <code>$ipv4</code> stays undefined.</p>\n\n<p>Then it is used (evaluated) in a regex and you get the appropriate warning.</p>\n\n<p>Another possibility is that the warning is in fact emited from <code>getElementsByTagName</code> but you should be able to tell since the warning should show the line of code at which it's triggered.</p>\n"}], "owner": {"reputation": 366, "user_id": 4488775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-c7dUxZESZzs/AAAAAAAAAAI/AAAAAAAAAGI/OxEft3Nihy4/photo.jpg?sz=128", "display_name": "Bala Krishnan", "link": "https://stackoverflow.com/users/4488775/bala-krishnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 46959807, "answer_count": 1, "score": -1, "last_activity_date": 1509122524, "creation_date": 1509035815, "last_edit_date": 1509036749, "question_id": 46959529, "link": "https://stackoverflow.com/questions/46959529/perl-check-for-presence-of-ip-address-in-a-file", "title": "Perl - check for presence of IP address in a file", "body": "<p>I understand that this question can be classified as is a frequently asked question, but I do not find any answers for my specific scenario. I have been trying to get this done for the past few hours.</p>\n\n<p>Simple scenario:</p>\n\n<p>I have an IP address in a variable, I want to check if the IP address is present in a file (which has list of IP addresses).</p>\n\n<p>Below is the part of my code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $list = \"IP addresses: \";\nmy $ipv4 = $domObj-&gt;getElementsByTagName('ipv4-address');\nopen my $fh, '&lt;' , 'sample.txt';\nwhile(&lt;$fh&gt;)\n{\n    if(/\\b$ipv4\\b/)\n    {\n        $list .= $ipv4;\n        print \"IP address found!!\";\n    }\n}\n</code></pre>\n\n<p>When I run the above code it shows me some unintialized variable error. It does not find the IP address value present in <code>$ipv4</code> correction from the <code>sample.txt</code> file.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["perl", "perlop"], "comments": [{"owner": {"reputation": 1787, "user_id": 1712449, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/PlwBV.gif?s=128&g=1", "display_name": "hymie", "link": "https://stackoverflow.com/users/1712449/hymie"}, "edited": false, "score": 1, "creation_date": 1509022435, "post_id": 46954689, "comment_id": 80856792, "body": "Are you getting some sort of error?  What exactly is <code>checked=&gt;1</code> supposed to be?  That&#39;s not a value that I recognize."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 1787, "user_id": 1712449, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/PlwBV.gif?s=128&g=1", "display_name": "hymie", "link": "https://stackoverflow.com/users/1712449/hymie"}, "edited": false, "score": 0, "creation_date": 1509026310, "post_id": 46954689, "comment_id": 80859879, "body": "@hymie: 1. I get syntax error. 2. <code>checked =&gt; 1</code> It is the list: <code>&#39;checked&#39;,1</code>"}, {"owner": {"reputation": 1787, "user_id": 1712449, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/PlwBV.gif?s=128&g=1", "display_name": "hymie", "link": "https://stackoverflow.com/users/1712449/hymie"}, "edited": false, "score": 1, "creation_date": 1509027952, "post_id": 46954689, "comment_id": 80861201, "body": "<code>@list =  2,3;</code> may be correct <b>syntax</b>, but did you check to see what the resulting list actually contains?"}, {"owner": {"reputation": 1787, "user_id": 1712449, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/PlwBV.gif?s=128&g=1", "display_name": "hymie", "link": "https://stackoverflow.com/users/1712449/hymie"}, "edited": false, "score": 1, "creation_date": 1509028086, "post_id": 46954689, "comment_id": 80861285, "body": "<code>checked=&gt;1</code> is not a list.  <code>(checked =&gt; 1)</code> is a hash.  The parentheses are part of the syntax, not an option to be ignored."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1787, "user_id": 1712449, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/PlwBV.gif?s=128&g=1", "display_name": "hymie", "link": "https://stackoverflow.com/users/1712449/hymie"}, "edited": false, "score": 4, "creation_date": 1509030812, "post_id": 46954689, "comment_id": 80863291, "body": "@hymie: <code>( checked =&gt; 1 )</code> is <i>not</i> a hash: it&#39;s a list of two values."}], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1509026210, "post_id": 46954921, "comment_id": 80859795, "body": "I know how to fix the problem. The question is why perl can not paththrough the <code>checked =&gt; 1</code> to the outer context. It seems to be correct"}, {"owner": {"reputation": 1787, "user_id": 1712449, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/PlwBV.gif?s=128&g=1", "display_name": "hymie", "link": "https://stackoverflow.com/users/1712449/hymie"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 1, "creation_date": 1509028618, "post_id": 46954921, "comment_id": 80861702, "body": "@EugenKonkov &quot;It seems to be correct&quot;  It isn&#39;t.  <code>perl</code> has a syntax specification that it expects you to follow."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1509028992, "post_id": 46954921, "comment_id": 80861971, "body": "hymie: I thought that only perl 6 has syntax specification... May you please point me to the specification for perl 5?"}, {"owner": {"reputation": 1787, "user_id": 1712449, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/PlwBV.gif?s=128&g=1", "display_name": "hymie", "link": "https://stackoverflow.com/users/1712449/hymie"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1509029428, "post_id": 46954921, "comment_id": 80862283, "body": "@EugenKonkov Sure -- <code>perldoc perldata</code>"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 1787, "user_id": 1712449, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/PlwBV.gif?s=128&g=1", "display_name": "hymie", "link": "https://stackoverflow.com/users/1712449/hymie"}, "edited": false, "score": 0, "creation_date": 1509031466, "post_id": 46954921, "comment_id": 80863735, "body": "@hymie: There is nothing about ternary operator"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 7, "last_activity_date": 1509022478, "creation_date": 1509022478, "answer_id": 46954921, "question_id": 46954689, "link": "https://stackoverflow.com/questions/46954689/why-operator-cannot-return-list/46954921#46954921", "title": "Why &quot;?:&quot; operator cannot return list?", "body": "<p>This has nothing to do with context. You need to put parenthesis around the middle part for Perl to properly parse your syntax.</p>\n\n<pre><code>my $hash = { ( 1 ? ( checked =&gt; 1 ) : () ), };\n</code></pre>\n\n<p>Without those, there is a syntax error.</p>\n\n<blockquote>\n  <p>syntax error at /home/simbabque/code/scratch/scratch.pl line 109, near \"checked =>\"</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 525, "user_id": 3694028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a631f2f9266385b14ff6301c02f2071b?s=128&d=identicon&r=PG&f=1", "display_name": "Richard RP", "link": "https://stackoverflow.com/users/3694028/richard-rp"}, "is_accepted": true, "score": 7, "last_activity_date": 1509027862, "creation_date": 1509027862, "answer_id": 46956907, "question_id": 46954689, "link": "https://stackoverflow.com/questions/46954689/why-operator-cannot-return-list/46956907#46956907", "title": "Why &quot;?:&quot; operator cannot return list?", "body": "<p>The problem is that <code>,</code> and <code>=&gt;</code> (the list separators) have lower precedence than <code>?:</code>  and <code>=</code>. </p>\n\n<p>So it's not a question about whether perl is passing the right hand side of <code>=</code> as a list or scalar. It's a syntax error because <code>@list=1?2</code> and <code>3:()</code> are handled as separate items of a list, each containing half a <code>?:</code> statement which is not allowed.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 1, "accepted_answer_id": 46956907, "answer_count": 2, "score": 2, "last_activity_date": 1509027862, "creation_date": 1509021799, "last_edit_date": 1509026544, "question_id": 46954689, "link": "https://stackoverflow.com/questions/46954689/why-operator-cannot-return-list", "title": "Why &quot;?:&quot; operator cannot return list?", "body": "<p>Why <code>?:</code> operator can not return list?</p>\n\n<pre><code>my $hash =  {\n    ...\n    ($row-&gt;active?checked=&gt;1:()),\n};\n</code></pre>\n\n<p>The <a href=\"https://perldoc.perl.org/perlop.html#Conditional-Operator\" rel=\"nofollow noreferrer\">DOC</a> say nothing about scalar or list context</p>\n\n<p><strong>UPD</strong><br>\nAnother example:</p>\n\n<pre><code>@list =  2,3;         # CORRECT\n@list =  1? 2,3 : (); # Syntax error\n</code></pre>\n\n<p>Why first is OK, but second is not? It seems there should not be the problem for perl to just propagate <code>2,3</code> to the outer context;</p>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 6179, "user_id": 2969544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8b66660630d54cf58a7d4675be1d6ff?s=128&d=identicon&r=PG", "display_name": "oklas", "link": "https://stackoverflow.com/users/2969544/oklas"}, "edited": false, "score": 0, "creation_date": 1509024565, "post_id": 46954521, "comment_id": 80858513, "body": "Does it print ok for this code: <code>if ($EXTERN &lt;=10){ print &quot;OK&quot; }</code>?"}, {"owner": {"reputation": 6179, "user_id": 2969544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8b66660630d54cf58a7d4675be1d6ff?s=128&d=identicon&r=PG", "display_name": "oklas", "link": "https://stackoverflow.com/users/2969544/oklas"}, "edited": false, "score": 0, "creation_date": 1509024711, "post_id": 46954521, "comment_id": 80858631, "body": "What is printed for this code: 1. <code>print exec &#39;&#39;</code> 2. <code>print exec &#39;echo&#39;</code> 3. <code>print exec &#39;perl -c exit&#39;</code>?"}, {"owner": {"reputation": 6179, "user_id": 2969544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8b66660630d54cf58a7d4675be1d6ff?s=128&d=identicon&r=PG", "display_name": "oklas", "link": "https://stackoverflow.com/users/2969544/oklas"}, "edited": false, "score": 0, "creation_date": 1509024818, "post_id": 46954521, "comment_id": 80858720, "body": "Check the environment variable PATH. Is it avalable to run perl from any folder?"}], "owner": {"reputation": 19, "user_id": 8837658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8879b2b311f3d1ed07c8b6fee06ec76?s=128&d=identicon&r=PG&f=1", "display_name": "HPM", "link": "https://stackoverflow.com/users/8837658/hpm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1509100983, "creation_date": 1509021361, "last_edit_date": 1509100983, "question_id": 46954521, "link": "https://stackoverflow.com/questions/46954521/in-perl-the-exec-command-does-not-work-under-windows-10", "title": "In perl the exec command does not work under windows 10", "body": "<p>Here is a very simple script that works under Windows 7 fine, but with Windows 10 it does not work. The exec command is waiting on the console of an input. I don\u00b4t know where the problem is.</p>\n\n<pre><code>#bin/perl\n\nuse strict;\nuse warnings;\n\nour $EXTERN=$ARGV[0];\n\n$EXTERN +=1;\n\nprint __LINE__. \"&gt;&gt;&gt; Extern $EXTERN  $$\\n\\n\";\n\nif ($EXTERN &lt;=10){\n    exec (\"perl exec_test.pl $EXTERN\");\n}   \nexit();\n</code></pre>\n"}, {"tags": ["macos", "perl", "openssl", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 3537, "user_id": 4047472, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff35f5eec781a627435222fa094575dc?s=128&d=identicon&r=PG&f=1", "display_name": "Rekovni", "link": "https://stackoverflow.com/users/4047472/rekovni"}, "edited": false, "score": 0, "creation_date": 1509019771, "post_id": 46952938, "comment_id": 80854832, "body": "I don&#39;t know much about the modules, but the software I&#39;m using has a <code>PREREQ_PM</code> for <code>Crypt::SSLeay =&gt; &#39;0.51&#39;</code>. Just a bit confused, so I don&#39;t install the PM and instead just include the headers and libraries in the <code>perl</code> command when running the <code>Makefile.PL</code>?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 3537, "user_id": 4047472, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff35f5eec781a627435222fa094575dc?s=128&d=identicon&r=PG&f=1", "display_name": "Rekovni", "link": "https://stackoverflow.com/users/4047472/rekovni"}, "edited": false, "score": 0, "creation_date": 1509020107, "post_id": 46952938, "comment_id": 80855060, "body": "@Rekovni: there are multiple ways to install Perl files. One is cpan or cpanm and the instructions for use with cpanm are in the README too. Or you can unpack the *.tgz, run <code>perl Makefile.PL &amp;&amp; make test install</code> in which case the instructions I&#39;ve cited from the README apply. For more details please read the README, it has this name for a reason."}, {"owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 0, "creation_date": 1509029648, "post_id": 46952938, "comment_id": 80862452, "body": "And you may run into other issues too, on MacOS do <code>brew install openssl</code> to get your needed files to build Net::SSLeay"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 3, "last_activity_date": 1509016805, "creation_date": 1509016805, "answer_id": 46952938, "question_id": 46952306, "link": "https://stackoverflow.com/questions/46952306/installing-cryptssleay-on-mac-os-x/46952938#46952938", "title": "Installing Crypt::SSLeay on Mac OS X", "body": "<blockquote>\n  <p>OPENSSLDIR: \"/usr/local/mac-dev-env/openssl-1.1.0f/ssl\"</p>\n</blockquote>\n\n<p>This is not a standard location for openssl. Which explains why it cannot find the necessary files:</p>\n\n<blockquote>\n  <p>Cannot link with any of the requested SSL libraries 'ssl, crypto, ssl32, ssleay32, eay32, libeay32, z'</p>\n</blockquote>\n\n<p>When looking at the <a href=\"https://metacpan.org/source/NANIS/Crypt-SSLeay-0.72/README.md\" rel=\"nofollow noreferrer\">README</a> for Crypt::SSLeay you will find:</p>\n\n<blockquote>\n  <p>If you have OpenSSL headers and libraries in nonstandard locations, you can use<br>\n     &nbsp;&nbsp;$ perl Makefile.PL --incpath=... --libpath=...</p>\n</blockquote>\n\n<p>There are further instructions in the README how to set the path when using cpanm etc.</p>\n\n<p>Apart from that, in most cases you don't want to install Crypt::SSLeay but instead Net::SSLeay. Crypt::SSLeay is only supported to keep older versions of LWP working, all newer things (including current versions of LWP) use Net::SSLeay and IO::Socket::SSL on top of Net::SSLeay.</p>\n"}, {"tags": [], "owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "is_accepted": false, "score": 1, "last_activity_date": 1550084453, "creation_date": 1550084453, "answer_id": 54677553, "question_id": 46952306, "link": "https://stackoverflow.com/questions/46952306/installing-cryptssleay-on-mac-os-x/54677553#54677553", "title": "Installing Crypt::SSLeay on Mac OS X", "body": "<p>If this is related to installing <code>LWP::Protocol::https</code> , because you wanted to use <code>LWP::UserAgent</code> ... you will be bettor off installing: <code>IO::Socket::SSL</code> instead off aforementioned <code>Crypt::SSLeay</code></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11433005, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LuHOiv4t3Ko/AAAAAAAAAAI/AAAAAAAAS4U/6kRvYh2dsYE/photo.jpg?sz=128", "display_name": "Jo&#227;o Paulo Ventorim", "link": "https://stackoverflow.com/users/11433005/jo%c3%a3o-paulo-ventorim"}, "is_accepted": false, "score": 1, "last_activity_date": 1584552272, "creation_date": 1584552272, "answer_id": 60744570, "question_id": 46952306, "link": "https://stackoverflow.com/questions/46952306/installing-cryptssleay-on-mac-os-x/60744570#60744570", "title": "Installing Crypt::SSLeay on Mac OS X", "body": "<p>As stated above, in README it's mentioned \"--incpath\" and \"--libpath\" to use custom paths to your  openssl instalation.</p>\n\n<p>So it should be something like this (Note:check your openssl version, in this example it's 1.1.1d):</p>\n\n<pre><code>$ sudo perl Makefile.PL --incpath=\"/usr/local/Cellar/openssl@1.1/1.1.1d/include\" --libpath=\"/usr/local/Cellar/openssl@1.1/1.1.1d/lib\"\n</code></pre>\n\n<p>I struggled to understand what path should be used on those parameters. Those worked though.</p>\n"}], "owner": {"reputation": 3537, "user_id": 4047472, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff35f5eec781a627435222fa094575dc?s=128&d=identicon&r=PG&f=1", "display_name": "Rekovni", "link": "https://stackoverflow.com/users/4047472/rekovni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2188, "favorite_count": 0, "accepted_answer_id": 46952938, "answer_count": 3, "score": 0, "last_activity_date": 1584552272, "creation_date": 1509014629, "question_id": 46952306, "link": "https://stackoverflow.com/questions/46952306/installing-cryptssleay-on-mac-os-x", "title": "Installing Crypt::SSLeay on Mac OS X", "body": "<p>When trying to install <code>Crypt::SSLeay</code> on Mac OS X I get the following error:</p>\n\n<pre><code>$ sudo perl -MCPAN -e shell\ncpan[1]&gt; install Crypt::SSLeay\nReading '/Users/.cpan/Metadata'\n  Database was generated on Thu, 26 Oct 2017 01:53:54 GMT\nRunning install for module 'Crypt::SSLeay'\nRunning make for N/NA/NANIS/Crypt-SSLeay-0.72.tar.gz\nChecksum for /Users/.cpan/sources/authors/id/N/NA/NANIS/Crypt-SSLeay-0.72.tar.gz ok\nScanning cache /Users/.cpan/build for sizes\n............................................................................DONE\n\n  CPAN.pm: Building N/NA/NANIS/Crypt-SSLeay-0.72.tar.gz\n\nCannot link with any of the requested SSL libraries 'ssl, crypto, ssl32, ssleay32, eay32, libeay32, z'\nNo 'Makefile' created'YAML' not installed, will not store persistent state\n  NANIS/Crypt-SSLeay-0.72.tar.gz\n  /usr/bin/perl Makefile.PL -- NOT OK\nRunning make test\n  Make had some problems, won't test\nRunning make install\n  Make had some problems, won't install\nCould not read metadata file. Falling back to other methods to determine prerequisites\nFailed during this command:\n NANIS/Crypt-SSLeay-0.72.tar.gz               : writemakefile NO -- No 'Makefile' created\n</code></pre>\n\n<p>I have installed openssl as per the instructions found <a href=\"http://mac-dev-env.patrickbougie.com/openssl/\" rel=\"nofollow noreferrer\">here</a> and the output of <code>openssl version -a</code> is:</p>\n\n<pre><code>OpenSSL 1.1.0f  25 May 2017\nbuilt on: reproducible build, date unspecified\nplatform: darwin64-x86_64-cc\ncompiler: cc -DDSO_DLFCN -DHAVE_DLFCN_H -DNDEBUG -DOPENSSL_THREADS -DOPENSSL_NO_STATIC_ENGINE -DOPENSSL_PIC -DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_MONT5 -DOPENSSL_BN_ASM_GF2m -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DRC4_ASM -DMD5_ASM -DAES_ASM -DVPAES_ASM -DBSAES_ASM -DGHASH_ASM -DECP_NISTZ256_ASM -DPADLOCK_ASM -DPOLY1305_ASM -DOPENSSLDIR=\"\\\"/usr/local/mac-dev-env/openssl-1.1.0f/ssl\\\"\" -DENGINESDIR=\"\\\"/usr/local/mac-dev-env/openssl-1.1.0f/lib/engines-1.1\\\"\" \nOPENSSLDIR: \"/usr/local/mac-dev-env/openssl-1.1.0f/ssl\"\nENGINESDIR: \"/usr/local/mac-dev-env/openssl-1.1.0f/lib/engines-1.1\"\n</code></pre>\n\n<p>I'm not sure what else I can do, as I have the ssl library required but it doesn't seem to link it?</p>\n"}, {"tags": ["shell", "perl", "date", "datetime"], "comments": [{"owner": {"reputation": 210, "user_id": 7684247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En7gm.jpg?s=128&g=1", "display_name": "L. O. van Ingen", "link": "https://stackoverflow.com/users/7684247/l-o-van-ingen"}, "edited": false, "score": 2, "creation_date": 1509011924, "post_id": 46951326, "comment_id": 80849598, "body": "Show us your code! What have you tried so far?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1509012126, "post_id": 46951326, "comment_id": 80849729, "body": "What do you mean by call? Do you want to <i>create</i> it, or parse an existing one? What do you want to do with it?"}, {"owner": {"reputation": 3, "user_id": 8836863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d446478c3b717be21bbab847667dc22?s=128&d=identicon&r=PG&f=1", "display_name": "dzrasd", "link": "https://stackoverflow.com/users/8836863/dzrasd"}, "edited": false, "score": 0, "creation_date": 1509012445, "post_id": 46951326, "comment_id": 80849954, "body": "I dont have a code so far. I want to append it to a file name, i.e. FILENAME.timestamp"}, {"owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "edited": false, "score": 1, "creation_date": 1509014842, "post_id": 46951326, "comment_id": 80851556, "body": "So you have a filename and a that timestamp and want to concatenate them or what? Your question is quite unclear."}, {"owner": {"reputation": 3, "user_id": 8836863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d446478c3b717be21bbab847667dc22?s=128&d=identicon&r=PG&f=1", "display_name": "dzrasd", "link": "https://stackoverflow.com/users/8836863/dzrasd"}, "edited": false, "score": 0, "creation_date": 1509015635, "post_id": 46951326, "comment_id": 80852051, "body": "Yes, that is correct, i need to concatenate the filename and the timestamp. I apologize if my initial explanation was unlcear, as I am kind of new to all of this."}, {"owner": {"reputation": 525, "user_id": 3694028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a631f2f9266385b14ff6301c02f2071b?s=128&d=identicon&r=PG&f=1", "display_name": "Richard RP", "link": "https://stackoverflow.com/users/3694028/richard-rp"}, "edited": false, "score": 1, "creation_date": 1509018302, "post_id": 46951326, "comment_id": 80853813, "body": "Don&#39;t you mean that the last digit signifies <i>tens of seconds</i> with a range of (0-5) rather than <i>tenth of a milisecond</i> which would have a range of (0-599999)? Thus having [4] imply 40-49 seconds."}], "answers": [{"tags": [], "owner": {"reputation": 525, "user_id": 3694028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a631f2f9266385b14ff6301c02f2071b?s=128&d=identicon&r=PG&f=1", "display_name": "Richard RP", "link": "https://stackoverflow.com/users/3694028/richard-rp"}, "is_accepted": true, "score": 4, "last_activity_date": 1509020306, "creation_date": 1509020306, "answer_id": 46954153, "question_id": 46951326, "link": "https://stackoverflow.com/questions/46951326/add-custom-letter-to-timestamp-instead-of-month-in-shell-or-perl/46954153#46954153", "title": "Add custom letter to timestamp instead of month in shell or perl", "body": "<p>Assuming that:</p>\n\n<ul>\n<li>time is <em>now</em>,</li>\n<li>time zone is GMT,</li>\n<li>you want a fixed length timestamp,</li>\n<li>the last digit should be <em>tens of seconds</em>.</li>\n</ul>\n\n<p>I suggest something like: </p>\n\n<pre><code>my ($s, $m, $h, $D, $M) = gmtime;\nmy $prefix = \"snapshot\";\nmy $filename = sprintf \"%s.%s%02d%02d%02d%d\", \n   $prefix, chr($M+ord \"A\"), $D, $h, $m, $s/10; \nprint $filename, \"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>snapshot.J2612182\n</code></pre>\n\n<p>You can use <code>localtime</code> instead of <code>gmtime</code> if you don't want to use GMT. </p>\n\n<p>Both <code>*time</code> functions take a UNIX timestamp as argument, in case you need something other than <em>now</em>. </p>\n"}], "owner": {"reputation": 3, "user_id": 8836863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d446478c3b717be21bbab847667dc22?s=128&d=identicon&r=PG&f=1", "display_name": "dzrasd", "link": "https://stackoverflow.com/users/8836863/dzrasd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 46954153, "answer_count": 1, "score": -2, "last_activity_date": 1509020306, "creation_date": 1509011829, "last_edit_date": 1509015614, "question_id": 46951326, "link": "https://stackoverflow.com/questions/46951326/add-custom-letter-to-timestamp-instead-of-month-in-shell-or-perl", "title": "Add custom letter to timestamp instead of month in shell or perl", "body": "<p>So, I am not a coder but i have to write a shell script that can \"call\" a timestamp in format [A][21][16][30][4] where A is the Month (A for January, B for February, C for March and so on), 21 is the day, 16 is the hours, 30 is the minutes and 4 are the tenth of a milisecond (0-5). Brackets are only for visualization, so the timestamp should be A2116304</p>\n\n<p>This needs to be either a shell script or a perl code, that is part of a shell script (i need to put this is an existing shell script).</p>\n\n<p>I tried searching for solution, but couldnt find anything useful.</p>\n\n<p>The idea is that i need to append this custom timestamp to a file name, like\nFILENAME.TIMESTMAP</p>\n\n<p>Thanks !</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1509009875, "post_id": 46950354, "comment_id": 80848158, "body": "I am not sure what you want to do, but <code>$str =~ &#47;^abc1(?:2|3)$&#47;</code> will match only  <code>abc12</code> and <code>abc13</code>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8836597, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1ILYDxnuwmI/AAAAAAAAAAI/AAAAAAAAAAA/IQOJG-5IWic/photo.jpg?sz=128", "display_name": "user8836597", "link": "https://stackoverflow.com/users/8836597/user8836597"}, "edited": false, "score": 0, "creation_date": 1509011306, "post_id": 46950536, "comment_id": 80849151, "body": "abc1[23] work for this example. But what if I want to match abc12 and abc23, whatever I just mean to match several substrings inside a regular expresssion. Is it possible? Thanks a lot."}, {"owner": {"reputation": 13, "user_id": 8836597, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1ILYDxnuwmI/AAAAAAAAAAI/AAAAAAAAAAA/IQOJG-5IWic/photo.jpg?sz=128", "display_name": "user8836597", "link": "https://stackoverflow.com/users/8836597/user8836597"}, "edited": false, "score": 0, "creation_date": 1509012024, "post_id": 46950536, "comment_id": 80849662, "body": "Excellent! That&#39;s exactly what I want, I know the expression ?:, but never thought it could do this! Thanks a lot."}], "tags": [], "owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "is_accepted": true, "score": 3, "last_activity_date": 1509011520, "last_edit_date": 1509011520, "creation_date": 1509009883, "answer_id": 46950536, "question_id": 46950354, "link": "https://stackoverflow.com/questions/46950354/how-to-match-different-substring-using-perl-regular-expression/46950536#46950536", "title": "How to match different substring using perl regular expression?", "body": "<p>Your current regex is not doing what you think it is:</p>\n\n<pre><code>abc[(12)|(13)]\n</code></pre>\n\n<p>This says to match <code>abc</code> followed by any one of the following characters:</p>\n\n<pre><code>1, 2, 3, (, ), or |\n</code></pre>\n\n<p>The characters inside the bracket are part of a <em>character class</em>, or group of characters which can be matched.  For your use case, you probably want something like this:</p>\n\n<pre><code>abc1[23]\n</code></pre>\n\n<p>This matches <code>abc1</code> followed by only a <code>2</code> or a <code>3</code>.</p>\n\n<p>If you wanted to match <code>abc12</code> or <code>abc23</code> you could use this:</p>\n\n<pre><code>abc(?:12|23)\n</code></pre>\n\n<p>Here we can't really use a character class, but we can use an <em>alternation</em> instead.  The quantity in parentheses will match either <code>12</code> or <code>23</code>.  If you are wondering what <code>?:</code> does, it simply tells the Perl regex engine <em>not</em> to capture what is inside parentheses, which is what it would be doing by default.</p>\n"}], "owner": {"reputation": 13, "user_id": 8836597, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1ILYDxnuwmI/AAAAAAAAAAI/AAAAAAAAAAA/IQOJG-5IWic/photo.jpg?sz=128", "display_name": "user8836597", "link": "https://stackoverflow.com/users/8836597/user8836597"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 46950536, "answer_count": 1, "score": 1, "last_activity_date": 1509011520, "creation_date": 1509009446, "last_edit_date": 1509010290, "question_id": 46950354, "link": "https://stackoverflow.com/questions/46950354/how-to-match-different-substring-using-perl-regular-expression", "title": "How to match different substring using perl regular expression?", "body": "<p>Take below strings for example </p>\n\n<pre><code>abc12, abc13, abc23, abc288, abd12\n</code></pre>\n\n<p>What regular string should be used if I only want to match abc12 and abc13.</p>\n\n<p>I thought it should be <code>abc[(12)|(13)]</code>, so <code>12</code> and <code>13</code> will be grouped together and match either of them, but it turns out, this string will match all strings above.</p>\n"}, {"tags": ["perl", "iso8601"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1509036557, "post_id": 46949771, "comment_id": 80866834, "body": "Re &quot;<i>However, the DateTime::Duration format cannot be used to convert a year to seconds</i>&quot;, It can; just not easily. This should do it: <code>my $dt1 = DateTime-&gt;from_epoch( epoch =&gt; 0, time_zone =&gt; &#39;floating&#39;); my $dt2 = $dt1-&gt;clone-&gt;add_duration($dur); my $secs = $dt2-&gt;delta_ms($dt1)-&gt;in_units(&#39;seconds&#39;);</code>"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 7, "last_activity_date": 1522033829, "last_edit_date": 1522033829, "creation_date": 1509007868, "answer_id": 46949771, "question_id": 46949468, "link": "https://stackoverflow.com/questions/46949468/converting-iso8601-duration-p3y6m-to-seconds-in-perl/46949771#46949771", "title": "Converting ISO8601 duration (P3Y6M...) to seconds in perl", "body": "<p>There is <a href=\"https://metacpan.org/pod/DateTime::Format::Duration::ISO8601\" rel=\"nofollow noreferrer\">DateTime::Format::Duration::ISO8601</a>, which can convert the ISO 8601 duration string into a <a href=\"https://metacpan.org/pod/DateTime::Duration\" rel=\"nofollow noreferrer\">DateTime::Duration</a> object. You can then convert that to seconds.</p>\n\n<pre><code>use DateTime::Duration;\nuse DateTime::Format::Duration::ISO8601;\n\nmy $format = DateTime::Format::Duration::ISO8601-&gt;new;\nmy $d = $format-&gt;parse_duration('P3Y6M4DT12H30M5S');\n</code></pre>\n\n<p>However, the DateTime::Duration format cannot be used to convert a year to seconds, as explained <a href=\"https://metacpan.org/pod/DateTime::Duration#$dur-%3Ein_units(-...-)\" rel=\"nofollow noreferrer\">in the docs here</a>.</p>\n\n<blockquote>\n  <p>The last example demonstrates that there will not be any conversion\n  between units which don't have a fixed conversion rate. The only\n  conversions possible are:</p>\n\n<pre><code>years &lt;=&gt; months\nweeks &lt;=&gt; days\nhours &lt;=&gt; minutes\nseconds &lt;=&gt; nanoseconds\n</code></pre>\n  \n  <p>For the explanation of why this is the case, please see the <a href=\"https://metacpan.org/pod/DateTime#How-DateTime-Math-Works\" rel=\"nofollow noreferrer\">How\n  DateTime Math Works</a> section of the DateTime.pm documentation</p>\n</blockquote>\n\n<p>You can use <a href=\"https://metacpan.org/pod/DateTime::Format::Duration\" rel=\"nofollow noreferrer\">DateTime::Format::Duration</a> with the <code>%s</code> <a href=\"https://metacpan.org/pod/DateTime::Format::Duration#Patterns\" rel=\"nofollow noreferrer\">pattern</a> to circumvent that. A complete implementation might look like this.</p>\n\n<pre><code>use DateTime::Duration;\nuse DateTime::Format::Duration::ISO8601;\nuse DateTime::Format::Duration;\n\nmy $format = DateTime::Format::Duration::ISO8601-&gt;new;\nmy $d      = $format-&gt;parse_duration('P3Y6M4DT12H30M5S');\n\nmy $output_format = DateTime::Format::Duration-&gt;new( pattern =&gt; '%s' );\nprint $output_format-&gt;format_duration($d);\n</code></pre>\n\n<p>Or, in short if you only need it once.</p>\n\n<pre><code>use DateTime::Duration;\nuse DateTime::Format::Duration::ISO8601;\nuse DateTime::Format::Duration;\n\nprint DateTime::Format::Duration-&gt;new( pattern =&gt; '%s' )\n    -&gt;format_duration(\n    DateTime::Format::Duration::ISO8601-&gt;new-&gt;parse_duration('P3Y6M4DT12H30M5S') );\n</code></pre>\n\n<p>Both of these will print</p>\n\n<pre><code>109254605\n</code></pre>\n"}], "owner": {"reputation": 9501, "user_id": 55366, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/89489696e09f6d1307ce5726c35a2c3e?s=128&d=identicon&r=PG", "display_name": "Orjanp", "link": "https://stackoverflow.com/users/55366/orjanp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "accepted_answer_id": 46949771, "answer_count": 1, "score": 3, "last_activity_date": 1522033829, "creation_date": 1509007012, "question_id": 46949468, "link": "https://stackoverflow.com/questions/46949468/converting-iso8601-duration-p3y6m-to-seconds-in-perl", "title": "Converting ISO8601 duration (P3Y6M...) to seconds in perl", "body": "<p>I'm trying to convert an <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">ISO 8601</a> time duration format, P3Y6M4DT12H30M5S, to seconds in perl. Is there a library that does this? I've tried searching, but I've only found a js library. Looking through DateTime and Time::Moment didn't provide a solution either.</p>\n"}, {"tags": ["perl", "ssl", "tls1.2"], "answers": [{"tags": [], "owner": {"reputation": 9291, "user_id": 13189, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tKLRf.jpg?s=128&g=1", "display_name": "eckes", "link": "https://stackoverflow.com/users/13189/eckes"}, "is_accepted": false, "score": 1, "last_activity_date": 1509007382, "creation_date": 1509007382, "answer_id": 46949597, "question_id": 46948934, "link": "https://stackoverflow.com/questions/46948934/switch-from-ssl-to-tls-connection/46949597#46949597", "title": "Switch from SSL to TLS connection", "body": "<p>This is an sample how to switch to LWP and enforce TLS1.2:</p>\n\n<pre><code>use LWP::UserAgent;\n\nmy $ua = LWP::UserAgent-&gt;new(\n    ssl_opts =&gt; {\n            SSL_version =&gt; 'TLSv12:!SSLv2:!SSLv3:!TLSv1:!TLSv11',\n    }\n);\n$ua-&gt;timeout(30);\nmy $response = $ua-&gt;get('https://www.example.com/');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91978, "user_id": 387076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/cFyP6.jpg?s=128&g=1", "display_name": "Gilles &#39;SO- stop being evil&#39;", "link": "https://stackoverflow.com/users/387076/gilles-so-stop-being-evil"}, "is_accepted": false, "score": 3, "last_activity_date": 1509008489, "creation_date": 1509008489, "answer_id": 46950011, "question_id": 46948934, "link": "https://stackoverflow.com/questions/46948934/switch-from-ssl-to-tls-connection/46950011#46950011", "title": "Switch from SSL to TLS connection", "body": "<p>You are already using TLS. \u201cSSL\u201d is the name for old versions of the protocol, \u201cTLS\u201d is the name for new versions. Most websites no longer accept connections with the versions of the protocol that are officially called \u201cSSL\u201d. Here's a summary of the status of TLS versions:</p>\n\n<ul>\n<li>SSLv1: so broken it wasn't even released publicly.</li>\n<li>SSLv2: old and buried.</li>\n<li>SSLv3: broken, don't use unless you have an ancient device that you can't upgrade and that is on a well-protected network, not Internet-facing.</li>\n<li>TLSv1.0: deprecated but can still be used safely.</li>\n<li>TLSv1.1: deprecated but can still be used safely.</li>\n<li>TLSv1.2: recommended.</li>\n<li>TLSv1.3: coming soon.</li>\n</ul>\n\n<p>You can call <a href=\"http://search.cpan.org/~mikem/Net-SSLeay-1.81/lib/Net/SSLeay.pod\" rel=\"nofollow noreferrer\"><code>Net::SSLeay::get_options</code></a> to check whether SSLv3 is disabled, i.e. to check that your client will refuse to connect to an SSLv3-only server. You should ensure that SSLv3 is disabled on your client: an attacker who wanted to break your security might pretend to be the legitimate server, get your client to connect, and then exploit a vulnerability of the old protocol to be able to successfully impersonate the legitimate server. Since you're connecting to a specific server, if that server supports TLS 1.2, also disable TLS 1.0 and 1.1, by calling <code>Net::SSLeay::set_options</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 329, "user_id": 3571511, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fbadf349bd02fc217a1d7d0b3a88ebca?s=128&d=identicon&r=PG&f=1", "display_name": "Sourav Mehra", "link": "https://stackoverflow.com/users/3571511/sourav-mehra"}, "edited": false, "score": 0, "creation_date": 1509014784, "post_id": 46950500, "comment_id": 80851527, "body": "I get the below error in logs,                                                                    500 proxy connect failed: PROXY ERROR HEADER, could be non-SSL URL: HTTP/1.1 403 Forbidden"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 329, "user_id": 3571511, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fbadf349bd02fc217a1d7d0b3a88ebca?s=128&d=identicon&r=PG&f=1", "display_name": "Sourav Mehra", "link": "https://stackoverflow.com/users/3571511/sourav-mehra"}, "edited": false, "score": 0, "creation_date": 1509015329, "post_id": 46950500, "comment_id": 80851855, "body": "@SouravMehra: You get this if the proxy refuses you access (403 Forbidden). I have no idea why the proxy refuses you access. Just to make sure that this is not because of old known and fixed bugs in LWP when using a proxy: please provide the version of LWP::UserAgent you are using."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1509010979, "last_edit_date": 1509010979, "creation_date": 1509009803, "answer_id": 46950500, "question_id": 46948934, "link": "https://stackoverflow.com/questions/46948934/switch-from-ssl-to-tls-connection/46950500#46950500", "title": "Switch from SSL to TLS connection", "body": "<blockquote>\n  <p>... = Net::SSLeay::get_https3(\"$buba_srv\", 443, \"/\");</p>\n</blockquote>\n\n<p>There is nothing in your code which limits the access to SSL (you probably mean SSL 3.0) only. In fact, unless <code>$Net::SSLeay::ssl_version</code> was explicitly set differently <code>get_https3</code> will create a default SSL context which will use by default the best SSL/TLS version the underlying OpenSSL library supports, which is TLS 1.2 since OpenSSL 1.0.1 (released 2012).</p>\n\n<p>Thus, if your code does not already use TLS 1.2 (have you even checked?) then check if <code>$Net::SSLeay::ssl_version</code> is set somewhere in your code or if your OpenSSL version is too old.</p>\n\n<p>Apart from that, I really recommend against using <code>Net::SSLeay::get_https3</code> and similar. These function do not properly validate the certificate (this is documented) so you will not realize if their is a man in the middle attack unless you explicitly add your own validation - which is not trivial and your code does not even attempt to do it.</p>\n\n<p>Instead use higher level modules like <a href=\"https://metacpan.org/pod/LWP::UserAgent\" rel=\"nofollow noreferrer\">LWP::UserAgent</a> which makes doing HTTPS simple, uses sane defaults (at least in the current versions) and also properly validates the certificate:</p>\n\n<pre><code>use LWP::UserAgent; \nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;proxy(https =&gt; \"http://proxye.hypo.de:80\");\nmy $response = $ua-&gt;get(\"https://$buba_srv/\");\nmy $page = $response-&gt;decoded_content;\nmy $headers = $response-&gt;headers-&gt;as_string;\n</code></pre>\n\n<p>You can also use <a href=\"https://metacpan.org/pod/HTTP::Tiny\" rel=\"nofollow noreferrer\">HTTP::Tiny</a> or <a href=\"https://metacpan.org/pod/Mojo::UserAgent\" rel=\"nofollow noreferrer\">Mojo::UserAgent</a>. But contrary to LWP you need to explicitly enable proper certificate validation when using these modules by using <code>verify_SSL</code> option with <code>HTTP::Tiny</code> and the <code>ca</code> argument with <code>Mojo::UserAgent</code>.</p>\n"}], "owner": {"reputation": 329, "user_id": 3571511, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fbadf349bd02fc217a1d7d0b3a88ebca?s=128&d=identicon&r=PG&f=1", "display_name": "Sourav Mehra", "link": "https://stackoverflow.com/users/3571511/sourav-mehra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3276, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1509010979, "creation_date": 1509005224, "last_edit_date": 1509006505, "question_id": 46948934, "link": "https://stackoverflow.com/questions/46948934/switch-from-ssl-to-tls-connection", "title": "Switch from SSL to TLS connection", "body": "<p>I have a Perl script which was using SSL for some file upload to server. Now we need to change this to TLS. As I am not aware how to do this, could someone help. Below is the block handling the certificate function.</p>\n\n<pre><code>sub check_ssl_cert {\nuse Net::SSLeay;\nNet::SSLeay::set_proxy(\"proxye.hypo.de\",80);\n# $Net::SSLeay::trace = 9 if ($opt_d);\nmy ($page, $response, $headers, $server_cert) = Net::SSLeay::get_https3(\"$buba_srv\", 443, \"/\");\nprint DEBUG \"\\n\",\"#\"x80,\"\\n\", 'CERT:  ' . $server_cert . \"\\n\",\"-\"x80,\"\\n\" . $headers . \"\\n\",\"-\"x80,\"\\n\" if ($opt_d);\nif (!defined($server_cert) || ($server_cert == 0)) {\n    my $subject=\"Der BuBa Server gibt kein Zertifikat raus. Mit denen red ich nicht.\";\n    my $message=\"HTTP Response: &lt;\" . $response . \"&gt;\\n\" .\n             \"HTTP Headers:  ---------------------------------------------------------------\\n\" .\n             $headers .\n             \"HTTP Body: -------------------------------------------------------------------\\n\" .\n             $page .\n             \"------------------------------------------------------------------------------\\n\" ;\n    &amp;send_errormail($buba_srv, $subject, $message);\nexit 5;\n}\nmy $ssl_subject_name = Net::SSLeay::X509_NAME_oneline(Net::SSLeay::X509_get_subject_name($server_cert));\nmy $ssl_issuer_name = Net::SSLeay::X509_NAME_oneline(Net::SSLeay::X509_get_issuer_name($server_cert)); \n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["perl", "perl-module", "strawberry-perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509003979, "post_id": 46948539, "comment_id": 80844181, "body": "So you are on Windows, and you are behind a proxy. What Perl did you use before you installed Strawberry? Did you have an ActivePerl installation?"}, {"owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509004141, "post_id": 46948539, "comment_id": 80844275, "body": "I am on windows and i am behind a proxy. I have not used Perl before, the Perl version i do have is &#39;This is Perl 5, version 26, subversion 1 (v5.26.1) built for MSWin32-x64-multi-thread&#39;.So i just downloaded the most recent Strawberry and never had ActivePerl because its my first time using Perl."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509004194, "post_id": 46948539, "comment_id": 80844305, "body": "Your question said you had a <code>cpan</code> client installed, and that after that worked, but didn&#39;t install anything, you installed Strawberry. So what was it before? In any case, it seems you need to set the proxy configuration."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509004281, "post_id": 46948539, "comment_id": 80844363, "body": "Refer to <a href=\"http://www.perlmonks.org/?node_id=982508\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=982508</a> for how to set the proxy in your <code>cpan</code> client. It also explains how to build LWP by hand if it&#39;s not there yet."}, {"owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509004283, "post_id": 46948539, "comment_id": 80844366, "body": "I never said it worked, i just typed CPAN in CMD and in CMD it returned cpan&gt;  so i am assuming thats the cpan shell? and im not sure about the proxy details but i know for sure i am behind a proxy"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509004359, "post_id": 46948539, "comment_id": 80844414, "body": "If you don&#39;t know the proxy settings, you&#39;re out of luck. Telling <code>cpan</code> about them is quite easy, but you have to know them. Maybe they are in your internet settings in the operating system, or deep inside your browser settings. Poke around there to find them, then follow that guide."}, {"owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509004539, "post_id": 46948539, "comment_id": 80844539, "body": "do i just need to input the http proxy or ftp proxy?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509004611, "post_id": 46948539, "comment_id": 80844583, "body": "I am not certain. I believe it will try HTTP first, then FTP, so either one should work."}, {"owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509004774, "post_id": 46948539, "comment_id": 80844692, "body": "After I save the proxy setting then I just need to run the cpan&gt; install foo and it should install the modules i need?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509004817, "post_id": 46948539, "comment_id": 80844713, "body": "Yes. <code>install Net::SFTP</code> in your case I guess."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509004892, "post_id": 46948539, "comment_id": 80844745, "body": "Related: <a href=\"https://stackoverflow.com/q/42649791/1331451\">stackoverflow.com/q/42649791/1331451</a>"}, {"owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509005617, "post_id": 46948539, "comment_id": 80845221, "body": "@simbabque, i added the http and ftp proxy and i ran the command install foo and got a error of Catching error: &quot;Proxy must be specified as absolute URI; &#39;.........:8080&#39; i s not at C:\\\\Strawberry\\\\perl\\\\lib/CPAN/FTP.pm line 357.\\cJ&quot; at C:/Strawberry/pe rl/lib/CPAN.pm line 392, &lt;STDIN&gt; line 5."}, {"owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509005744, "post_id": 46948539, "comment_id": 80845298, "body": "is there a way to install the 01mailrc.txt.gz as i have it install locally"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509005912, "post_id": 46948539, "comment_id": 80845410, "body": "Looks like you used the wrong format for the proxy URL. Does it start with <code>http</code> or <code>https</code>?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509005930, "post_id": 46948539, "comment_id": 80845422, "body": "<i>is there a way to install the 01mailrc.txt.gz as i have it install locally</i> - I don&#39;t know."}, {"owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509006049, "post_id": 46948539, "comment_id": 80845519, "body": "the way i added the proxy for HTTP_proxy is -  &lt;http_proxy&gt; Your http_proxy? [I_PUT_MY_IP_HERE:8080] and added my user id and password and then i done a commit"}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1509006851, "post_id": 46948539, "comment_id": 80846036, "body": "The CPAN client needs to download fresh index files such as the mailrc in order to search for the most recent version of your requested modules and their dependencies. That may take a moment. What happens <i>after</i> the \u201cFetching with LWP\u201d message? That message is not an error. Does the request time out, do you get an error, is the correct module going to be downloaded?"}, {"owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "edited": false, "score": 0, "creation_date": 1509007283, "post_id": 46948539, "comment_id": 80846312, "body": "the request times out"}], "owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 973, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1509014207, "creation_date": 1509003920, "last_edit_date": 1509014207, "question_id": 46948539, "link": "https://stackoverflow.com/questions/46948539/how-to-install-a-missing-perl-module-net-sftp-pm", "title": "How to install a missing Perl module (Net/SFTP.pm)?", "body": "<p>I am trying to install some missing Perl modules because when I run my Perl script I am getting the error:</p>\n\n<blockquote>\n  <p>Can't locate Net/SFTP.pm in @INC (you may need to install the Net::SFTP module)</p>\n</blockquote>\n\n<p>The first step I have taken to install this is:</p>\n\n<p>I have brought up CPAN in CMD and run the command <code>cpan&gt; install foo</code> but no luck because after I run the command I am getting:</p>\n\n<blockquote>\n  <p>Fetching with LWP:<br>\n  <a href=\"http://cpan.strawberryperl.com/authors/01mailrc.txt.gz\" rel=\"nofollow noreferrer\">http://cpan.strawberryperl.com/authors/01mailrc.txt.gz</a></p>\n</blockquote>\n\n<p>I am on a proxy so I am wondering if there is a way round the proxy?</p>\n\n<p>Another step I have taken is that I have installed strawberry Perl from <a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">http://strawberryperl.com/</a> but still no luck.</p>\n\n<p>Lastly, I have the file <code>01mailrc.txt.gz</code> locally install in my download folder but not sure how to install it.</p>\n\n<p>FYI: I am on Windows. I have not used Perl before. The Perl version I use is:</p>\n\n<blockquote>\n  <p>This is Perl 5, version 26, subversion 1 (v5.26.1) built for MSWin32-x64-multi-thread</p>\n</blockquote>\n\n<p>Could someone help me on this or show me a way around on how to install it?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 318, "user_id": 2519491, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fd168e3abd991d6c6d83109997eef665?s=128&d=identicon&r=PG", "display_name": "hahahakebab", "link": "https://stackoverflow.com/users/2519491/hahahakebab"}, "edited": false, "score": 0, "creation_date": 1508992306, "post_id": 46945713, "comment_id": 80838915, "body": "The program runs fine for me."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508993961, "post_id": 46945713, "comment_id": 80839433, "body": "What you posted doesn&#39;t demonstrate the problem you claim it does. Please fix your question. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3144, "user_id": 5001360, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c5714d1e2c81fd7fd0bfb567ee8c5d6b?s=128&d=identicon&r=PG&f=1", "display_name": "chrisrhyno2003", "link": "https://stackoverflow.com/users/5001360/chrisrhyno2003"}, "edited": false, "score": 0, "creation_date": 1508993954, "post_id": 46946021, "comment_id": 80839432, "body": "Weirdly, my local box was throwing me errors. I&#39;ll try updating my perl version just in case."}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "reply_to_user": {"reputation": 3144, "user_id": 5001360, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c5714d1e2c81fd7fd0bfb567ee8c5d6b?s=128&d=identicon&r=PG&f=1", "display_name": "chrisrhyno2003", "link": "https://stackoverflow.com/users/5001360/chrisrhyno2003"}, "edited": false, "score": 0, "creation_date": 1508994072, "post_id": 46946021, "comment_id": 80839473, "body": "Try running this code i pasted to confirm that it&#39;s your perl version that is creating issues. You could also try running in <a href=\"https://www.tutorialspoint.com/execute_perl_online.php\" rel=\"nofollow noreferrer\">tutorialspoint.com/execute_perl_online.php</a>"}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "reply_to_user": {"reputation": 3144, "user_id": 5001360, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c5714d1e2c81fd7fd0bfb567ee8c5d6b?s=128&d=identicon&r=PG&f=1", "display_name": "chrisrhyno2003", "link": "https://stackoverflow.com/users/5001360/chrisrhyno2003"}, "edited": false, "score": 0, "creation_date": 1508994177, "post_id": 46946021, "comment_id": 80839507, "body": "As your code was not giving desired output for me also"}, {"owner": {"reputation": 3144, "user_id": 5001360, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c5714d1e2c81fd7fd0bfb567ee8c5d6b?s=128&d=identicon&r=PG&f=1", "display_name": "chrisrhyno2003", "link": "https://stackoverflow.com/users/5001360/chrisrhyno2003"}, "edited": false, "score": 0, "creation_date": 1508994311, "post_id": 46946021, "comment_id": 80839559, "body": "Your code now gives me the desired results. Was there something I was missing?"}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "reply_to_user": {"reputation": 3144, "user_id": 5001360, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c5714d1e2c81fd7fd0bfb567ee8c5d6b?s=128&d=identicon&r=PG&f=1", "display_name": "chrisrhyno2003", "link": "https://stackoverflow.com/users/5001360/chrisrhyno2003"}, "edited": false, "score": 0, "creation_date": 1508994396, "post_id": 46946021, "comment_id": 80839590, "body": "I hope issue was in this line-  $hash2-&gt;{$accountId} where does accountid come from"}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "reply_to_user": {"reputation": 3144, "user_id": 5001360, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c5714d1e2c81fd7fd0bfb567ee8c5d6b?s=128&d=identicon&r=PG&f=1", "display_name": "chrisrhyno2003", "link": "https://stackoverflow.com/users/5001360/chrisrhyno2003"}, "edited": false, "score": 0, "creation_date": 1508994490, "post_id": 46946021, "comment_id": 80839611, "body": "also the way of receiving params, you need to change them to hash"}, {"owner": {"reputation": 3144, "user_id": 5001360, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c5714d1e2c81fd7fd0bfb567ee8c5d6b?s=128&d=identicon&r=PG&f=1", "display_name": "chrisrhyno2003", "link": "https://stackoverflow.com/users/5001360/chrisrhyno2003"}, "edited": false, "score": 0, "creation_date": 1508994565, "post_id": 46946021, "comment_id": 80839633, "body": "Ah I see, I was under the assumption I can use the hashrefs the way they are and wasn&#39;t completely required to change them to a hash."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1509366615, "post_id": 46946021, "comment_id": 80976871, "body": "<i>also the way of receiving params, you need to change them to hash</i> - No. He doesn&#39;t need to change that. Using hash references is a perfectly reasonable way to write this code."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 3144, "user_id": 5001360, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c5714d1e2c81fd7fd0bfb567ee8c5d6b?s=128&d=identicon&r=PG&f=1", "display_name": "chrisrhyno2003", "link": "https://stackoverflow.com/users/5001360/chrisrhyno2003"}, "edited": false, "score": 0, "creation_date": 1509366652, "post_id": 46946021, "comment_id": 80976899, "body": "@chrisrhyno2003: *I was under the assumption I can use the hashrefs the way they are and wasn&#39;t completely required to change them to a hash.&quot; - You are correct. Your original code was fine."}], "tags": [], "owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "is_accepted": true, "score": 0, "last_activity_date": 1508993138, "creation_date": 1508993138, "answer_id": 46946021, "question_id": 46945713, "link": "https://stackoverflow.com/questions/46945713/perl-merge-hash-containing-duplicate-keys/46946021#46946021", "title": "Perl - Merge hash containing duplicate keys", "body": "<p>PFB the updated code with proper syntax and it is giving the desired output also:</p>\n\n<pre><code>my %hash1= ();\n$hash1{'apple'} = 10;\n$hash1{'banana'} = 15;\n$hash1{'kiwi'} = 20;\n\nmy %sourceHash = ();\n$sourceHash{'apple'} = 12;\n$sourceHash{'orange'} = 13;\n$sourceHash{'banana'} = 5;\n\nmergeHash(\\%hash1, \\%sourceHash);\n\n\nsub mergeHash {\n    my $param1 = shift;\n    my %hash1 = %$param1;\n    my $param2 = shift;\n    my %hash2 = %$param2;\n\n    foreach my $key (keys %hash1){\n        if(exists $hash2{$key}){\n            print \"coming in here for $hash1-&gt;{$key} \\n\";\n            $hash2{$key} = $hash1{$key} + $hash2{$key};\n        }\n        else{\n            $hash2{$key} = $hash1{$key};\n        }\n    }\n    showHash(\\%hash2);\n}\nsub showHash{\n\n    my $param = shift;\n    my %param_hash = %$param;\n\n\n    for my $fruit (keys %param_hash) {\n    print \"The value of '$fruit' is $param_hash{$fruit}\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1509366539, "creation_date": 1509366539, "answer_id": 47015308, "question_id": 46945713, "link": "https://stackoverflow.com/questions/46945713/perl-merge-hash-containing-duplicate-keys/47015308#47015308", "title": "Perl - Merge hash containing duplicate keys", "body": "<p>You say:</p>\n\n<blockquote>\n  <p>I  expect the result of hash1 to be</p>\n\n<pre><code>hash1{'apple'} = 22;\nhash1{'orange'} = 13;\nhash1{'banana'} = 20;\nhash1{'kiwi'} = 20;\n</code></pre>\n</blockquote>\n\n<p>But in your code, you iterate over the keys of <code>$hash1</code>:</p>\n\n<blockquote>\n<pre><code> foreach my $key (keys %{$hash1})\n</code></pre>\n</blockquote>\n\n<p>And alter the contents of <code>$hash2</code>:</p>\n\n<blockquote>\n<pre><code>if (exists $hash2-&gt;{$key}) {\n    ${hash2}-&gt;{$key} = $hash1-&gt;{$key} + $hash2-&gt;{$key};\n} else {\n    ${hash2}-&gt;{$key} = $hash1-&gt;{$key};\n}\n</code></pre>\n</blockquote>\n\n<p>So you shouldn't expect to see any changes in <code>$hash1</code>, you are changing <code>$hash2</code>.</p>\n\n<p>I added this to your code:</p>\n\n<pre><code>use Data::Dumper;\n</code></pre>\n\n<p>And, after the call to <code>mergeHash()</code>:</p>\n\n<pre><code>print Dumper \\%hash1, \\%sourceHash;\n</code></pre>\n\n<p>I got this output:</p>\n\n<pre><code>$VAR1 = {\n          'apple' =&gt; 10,\n          'kiwi' =&gt; 20,\n          'banana' =&gt; 15\n        };\n$VAR2 = {\n          'orange' =&gt; 13,\n          'banana' =&gt; 20,\n          'kiwi' =&gt; 20,\n          'apple' =&gt; 22\n        };\n</code></pre>\n\n<p>So your code is doing what you wanted. It's just doing it to the other hash. There's nothing wrong with your code.</p>\n"}], "owner": {"reputation": 3144, "user_id": 5001360, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c5714d1e2c81fd7fd0bfb567ee8c5d6b?s=128&d=identicon&r=PG&f=1", "display_name": "chrisrhyno2003", "link": "https://stackoverflow.com/users/5001360/chrisrhyno2003"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1464, "favorite_count": 0, "accepted_answer_id": 46946021, "answer_count": 2, "score": 0, "last_activity_date": 1509366539, "creation_date": 1508990920, "last_edit_date": 1508994535, "question_id": 46945713, "link": "https://stackoverflow.com/questions/46945713/perl-merge-hash-containing-duplicate-keys", "title": "Perl - Merge hash containing duplicate keys", "body": "<p>I have two hashes which can contain the same keys. I am trying to merge the two hashes in such a way that if the key exists in both the hashes, I want to add the values in the respective hashes. </p>\n\n<pre><code>my %hash1= ();\n$hash1{'apple'} = 10;\n$hash1{'banana'} = 15;\n$hash1{'kiwi'} = 20;\n\nmy %sourceHash = ();\n$sourceHash{'apple'} = 12;\n$sourceHash{'orange'} = 13;\n$sourceHash{'banana'} = 5;\n\n\nmergeHash(\\%hash1, \\%sourceHash);\n\n\nsub mergeHash {\n    my $hash1 = shift;\n    my $hash2 = shift;\n\n    foreach my $key (keys %{$hash1})\n    {\n        if (exists $hash2-&gt;{$key}) {\n            ${hash2}-&gt;{$key} = $hash1-&gt;{$key} + $hash2-&gt;{$key};\n        } else {\n            ${hash2}-&gt;{$key} = $hash1-&gt;{$key};\n        }\n    }\n}\n</code></pre>\n\n<p>I expect the result of hash1 to be </p>\n\n<pre><code>hash1{'apple'} = 22;\nhash1{'orange'} = 13;\nhash1{'banana'} = 20;\nhash1{'kiwi'} = 20;\n</code></pre>\n\n<p>But I get an exception saying Can't modify constant item in scalar assignment. What am I doing wrong?</p>\n"}, {"tags": ["perl", "parameter-passing", "command-line-arguments"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508987293, "post_id": 46945189, "comment_id": 80837701, "body": "You call <code>exit</code> when more than one file is passed (<code>@ARGV &gt; 3</code>)..."}, {"owner": {"reputation": 177, "user_id": 7594127, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/965c731d858cdf1a15090769f9171075?s=128&d=identicon&r=PG&f=1", "display_name": "below_avg_st", "link": "https://stackoverflow.com/users/7594127/below-avg-st"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508987381, "post_id": 46945189, "comment_id": 80837720, "body": "@ikegami I don&#39;t quite get what you mean."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1508987998, "post_id": 46945189, "comment_id": 80837843, "body": "Maybe if you didn&#39;t call <code>exit</code>, your program wouldn&#39;t <code>exit</code>."}, {"owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1508988708, "post_id": 46945189, "comment_id": 80838000, "body": "I think what @ikegami may be referring to in his first comment is that you most likely are passing in more than one file name with your dataA/* arg. The shell you are using (i.e. bash, tcsh etc...) will expand to dataA/file1 dataA/file2 before your Perl program even starts to run. Type echo -a &quot;.*proj1.*&quot; DataA/* to see what I mean."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1509005856, "creation_date": 1509005856, "answer_id": 46949107, "question_id": 46945189, "link": "https://stackoverflow.com/questions/46945189/perl-passing-command-line-arguments/46949107#46949107", "title": "Perl passing command line arguments", "body": "<p>Your problem here is - the shell expands the wildcards <em>before</em> your perl script gets to them. </p>\n\n<p>Try adding:</p>\n\n<pre><code>use Data::Dumper;\nprint Dumper \\@ARGV;\n</code></pre>\n\n<p>And you'll see what's getting passed into your program. </p>\n\n<p>Given you're using wildcards, it's likely it'll match more than one thing - and if it does, then your program will be receiving additional arguments. Only your program will <em>only</em> accept 3. </p>\n"}, {"tags": [], "owner": {"reputation": 525, "user_id": 3694028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a631f2f9266385b14ff6301c02f2071b?s=128&d=identicon&r=PG&f=1", "display_name": "Richard RP", "link": "https://stackoverflow.com/users/3694028/richard-rp"}, "is_accepted": false, "score": 1, "last_activity_date": 1509026726, "creation_date": 1509026726, "answer_id": 46956500, "question_id": 46945189, "link": "https://stackoverflow.com/questions/46945189/perl-passing-command-line-arguments/46956500#46956500", "title": "Perl passing command line arguments", "body": "<p>Take a look at the standard modules <code>Getopt::Std</code> and <code>File::Find</code> and note that you can save some <code>open/close</code> statements by using a <code>local</code>ized <code>@ARGV</code>:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse Getopt::Std;\nuse File::Find;\n\n##  Parse option(s)\ngetopts 'i', \\my %opt;\n\n##  Show help\ndie &lt;&lt;usage unless @ARGV &gt; 1;\nUsage:\n  $0 [options] pattern searchpaths...\n\nOptions:\n  -i    Case insensitive search\nusage\n\n##  Compile regex\nmy $re = shift;\nif ($opt{i}) { $re = qr($re)i }\nelse         { $re = qr($re) }\n\n##  Walk searchpaths\nfind (sub\n  {\n    ##  Filename matches the regex\n    if (/$re/)\n    {\n      printf \"match name:    %s\\n\", $File::Find::name\n    }\n    ##  File is regular, name ends with .txt, and...\n    elsif (-f and /\\.txt$/)\n    {\n      local @ARGV = $_;\n      while (&lt;&gt;)\n      {\n        ##  ... a line in the file matches the regex.\n        chomp;\n        /$re/ \n          and printf \"match content: %s: %s\\n\", $File::Find::name, $_\n          and last;\n      }\n    }\n  },\n  @ARGV);\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>find.pl -i ^fa /usr/share/doc/lighttpd\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>match name:    /usr/share/doc/lighttpd/fastcgi-state.txt\nmatch name:    /usr/share/doc/lighttpd/fastcgi.txt\nmatch content: /usr/share/doc/lighttpd/security.txt: FastCGI\nmatch content: /usr/share/doc/lighttpd/accesslog.txt: fastcgi + chroot\nmatch content: /usr/share/doc/lighttpd/performance.txt: failed'. This is very rare and might only occur in test setups.\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 7594127, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/965c731d858cdf1a15090769f9171075?s=128&d=identicon&r=PG&f=1", "display_name": "below_avg_st", "link": "https://stackoverflow.com/users/7594127/below-avg-st"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "accepted_answer_id": 46949107, "answer_count": 2, "score": 0, "last_activity_date": 1509026726, "creation_date": 1508986912, "last_edit_date": 1508987846, "question_id": 46945189, "link": "https://stackoverflow.com/questions/46945189/perl-passing-command-line-arguments", "title": "Perl passing command line arguments", "body": "<p>I have a program that currently takes either 2 or 3 command line arguments <code>find.pl [i] &lt;perlRegexPattern&gt; &lt;listOfFiles&gt;.</code> Now the program will get through my if statements if I pass <code>find.pl proj1 Data</code> or <code>find.pl -i proj1 Data</code>, however I want to change it so that my program will accept something like <code>find.pl -i \".*proj1.*\"\u00a0DataA/*</code>, when I try to pass it my program doesn't make it past the 2nd if statement. I don't quite understand how to pass these as parameters and then use them in my program.</p>\n\n<pre><code>#!/usr/bin/perl -w\nif(@ARGV &lt; 2){\n    print \"\\n2) Usage: find.pl [-i] &lt;perlRegexPattern&gt; &lt;listOfFiles&gt;\\n\\n\";\n    exit;\n}\nif(@ARGV &gt; 3){\n    print \"\\n3) Usage: find.pl [i] &lt;perlRegexPattern&gt; &lt;listOfFiles&gt;\\n\\n\";\n    exit;\n}\nif(@ARGV == 3 &amp;&amp; $ARGV[0] ne \"-i\"){\n    die \"\\n4) Usage: find.pl [i] &lt;perlRegexPattern&gt; &lt;listOfFiles&gt;\\n\\n\";\n}\n\nif ($#ARGV eq 1 ){\n    print \"normal case\\n\";\n    my ($pattern, $filelist) = @ARGV;\n    print \"$pattern $filelist\\n\";\n    opendir( DIR , $filelist ) or die \"\\nCannot open directory $filelist\\n\\n\";\n\n    while ( ($fp = readdir(DIR)) ){\n        if( $fp =~ m/$pattern/){\n            print \"$fp\\n\";\n        }\n        elsif( $fp =~ m/.*\\.txt/){\n            print \"$fp is a text file\\n\";   #Still working on this part\n            open( FILE, '&lt;' , $fp) or die (\"\\nCould not open file $fp\\n\\n\");\n            while( &lt;FILE&gt; ){\n                if($_ =~ m/$pattern/){\n                    print \"$fp : $_ : line pattern match\\n\";\n                    last;\n                }\n            }\n            close(FILE);\n        }\n    }\n}\nelse{\n    print \"-i case\\n\";\n    my ($pattern, $filelist) = @ARGV[1 .. 2];\n    print \"$pattern $filelist\\n\";\n    #TODO\n}\n</code></pre>\n"}]