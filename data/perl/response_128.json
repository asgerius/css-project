[{"tags": ["perl", "lwp", "lwp-useragent"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1498076356, "post_id": 44685211, "comment_id": 76355235, "body": "That&#39;s impossible to say without the real URL. The headers look fine. In any case, the server shouldn&#39;t respond with 500 if you are doing something wrong. 500 means the server did something wrong. Since you don&#39;t control the server, there seems to be not much we can do about it, unless the server is too stupid to behave correctly (which might be on purpose)."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 3, "creation_date": 1498077783, "post_id": 44685211, "comment_id": 76355895, "body": "Try to run your code with <code>perl -MIO::Socket::SSL=debug4 program.pl</code> which gives you information in case the problem is at the SSL level. Also add the full response you got since the headers usually contain a more detailed error description. And please add the version of LWP you are using. And if you are using a proxy make sure to use at least LWP version 6.06. Apart from that: I&#39;m pretty sure that LWP cannot deal with <code>br</code> compression but you announce this in <code>Accept-Encoding</code>."}, {"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "edited": false, "score": 1, "creation_date": 1498108185, "post_id": 44685211, "comment_id": 76364558, "body": "LWP::UserAgent will also return a 500 error on a connection failure, making the presumption that the server is at fault but this is by no means guaranteed. Are you behind a proxy?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1498193383, "post_id": 44685211, "comment_id": 76408913, "body": "I propose to close the question since the OP is not providing any of the suggested information and shows no reaction to any of the comments. In the current state of missing information one can only guess what might be the case and since there are many possible reasons this makes the question too broad."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1498124392, "post_id": 44690697, "comment_id": 76374429, "body": "You can also use <a href=\"https://metacpan.org/pod/LWP::ConsoleLogger::Everywhere\" rel=\"nofollow noreferrer\">metacpan.org/pod/LWP::ConsoleLogger::Everywhere</a>. Just drop it in and it will tell you all about all your LWP::UAs everywhere in your code."}, {"owner": {"reputation": 2098, "user_id": 5025060, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/eUCHO.jpg?s=128&g=1", "display_name": "CODE-REaD", "link": "https://stackoverflow.com/users/5025060/code-read"}, "edited": false, "score": 0, "creation_date": 1535816313, "post_id": 44690697, "comment_id": 91209624, "body": "Note that installing as <code>cpan -i LWP::ConsoleLogger::Everywhere</code> results in an extensive rebuild, apparently attaching the <i>logger</i> code to every installed Perl module that uses LWP.  Just saying."}], "tags": [], "owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1498108714, "creation_date": 1498108714, "answer_id": 44690697, "question_id": 44685211, "link": "https://stackoverflow.com/questions/44685211/getting-500-internal-server-error-retrieving-page-with-lwpuseragent/44690697#44690697", "title": "Getting &quot;500 Internal Server Error&quot; retrieving page with LWP::UserAgent", "body": "<p>On our corporate network which has a proxy (and an out of date <code>perl</code> version - there may be better options in newer versions) we tend to add the following for one-offs:</p>\n\n<pre><code>BEGIN {\n    $ENV{HTTPS_DEBUG} = 1; # optional but can help if you get a response\n    $ENV{HTTPS_PROXY} = 'https://proxy.server.here.net:8080';\n}\n</code></pre>\n\n<p>If we don't do this the script simply fails to connect with no other information.</p>\n\n<p>You may also want to add something like this if you want to inspect the messages:</p>\n\n<pre><code>$browserObj-&gt;add_handler(\"request_send\",  sub { shift-&gt;dump; return });\n$browserObj-&gt;add_handler(\"response_done\", sub { shift-&gt;dump; return });\n</code></pre>\n"}], "owner": {"reputation": 525, "user_id": 3272110, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/3a30dbd0c0785ff9369805ebafc853dc?s=128&d=identicon&r=PG&f=1", "display_name": "Zippy1970", "link": "https://stackoverflow.com/users/3272110/zippy1970"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 836, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498108714, "creation_date": 1498074986, "question_id": 44685211, "link": "https://stackoverflow.com/questions/44685211/getting-500-internal-server-error-retrieving-page-with-lwpuseragent", "title": "Getting &quot;500 Internal Server Error&quot; retrieving page with LWP::UserAgent", "body": "<p>I'm trying to retrieve a page using LWP::UserAgent but I keep getting a \"500 Internal Server Error\" as a response. Retrieving the exact same page in Firefox (using a fresh \"Private Window\" - so without any cookies set yet) succeeds without a problem.</p>\n\n<p>I've duplicated the headers exactly as sent by Firefox, but that still does not make a difference. Here's my full code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse LWP::UserAgent;\n\nmy $browserObj = LWP::UserAgent-&gt;new();\n$browserObj-&gt;cookie_jar( {} );\n$browserObj-&gt;timeout(600);\n\nmy @header = (\n  'Host' =&gt; 'www.somedomain.com',\n  'User-Agent' =&gt; 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:53.0) Gecko/20100101 Firefox/53.0',\n  'Accept-Language' =&gt; 'en-US,en;q=0.5',\n  'Accept' =&gt; 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n  'Accept-Encoding' =&gt; 'gzip, deflate, br',\n  'DNT' =&gt; '1',\n  'Connection' =&gt; 'keep-alive',\n  'Upgrade-Insecure-Requests' =&gt; '1'\n);\n\nmy $URL = \"https://www.somedomain.com\";\n\nmy $response = $browserObj-&gt;get( $URL, @header );\nif( $response-&gt;is_success ) {\n  print \"Success!\\n\";\n} else {\n  print \"Error: \" . $response-&gt;status_line . \".\\n\" );\n}\n</code></pre>\n\n<p>The real web address is something other than \"www.somedomain.com\". In fact, it's a URL to an online casino, but I don't want my question be regarded as spam.</p>\n\n<p>But anyone any idea what could be wrong?</p>\n"}, {"tags": ["perl", "gnuplot"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498085061, "post_id": 44684985, "comment_id": 76358788, "body": "Did you look through all the examples regarding ticks at <a href=\"https://metacpan.org/release/Chart-Gnuplot\" rel=\"nofollow noreferrer\">metacpan.org/release/Chart-Gnuplot</a>?"}, {"owner": {"reputation": 44000, "user_id": 2604213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O7ThK.png?s=128&g=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/2604213/christoph"}, "edited": false, "score": 0, "creation_date": 1498119724, "post_id": 44684985, "comment_id": 76371037, "body": "Doing that in gnuplot itself is a bit tricky, you must use <code>xticklabel</code> and manually format the time for the tics: <code>plot &#39;file.dat&#39; u 1:0::xticlabel(strftime(&quot;%d.%m.%Y&quot;, timecolumn(1)))</code>. But I have no idea how that would be done via Chart::Gnuplot. Judging from search.cpan.org/dist/Chart-Gnuplot/lib/Chart/Gnuplot.pm I would say, that it&#39;s not possible."}, {"owner": {"reputation": 44000, "user_id": 2604213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O7ThK.png?s=128&g=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/2604213/christoph"}, "edited": false, "score": 0, "creation_date": 1498120191, "post_id": 44684985, "comment_id": 76371364, "body": "Maybe you can use <code>xtics =&gt; labels</code>."}], "answers": [{"tags": [], "owner": {"reputation": 160, "user_id": 1904419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39d37936b9196c1bd27da76c2a608b3?s=128&d=identicon&r=PG", "display_name": "redwizard792", "link": "https://stackoverflow.com/users/1904419/redwizard792"}, "is_accepted": true, "score": 3, "last_activity_date": 1498198371, "last_edit_date": 1498198371, "creation_date": 1498181967, "answer_id": 44711775, "question_id": 44684985, "link": "https://stackoverflow.com/questions/44684985/cant-get-perl-chart-gnuplot-to-label-all-tics-on-axis/44711775#44711775", "title": "Can&#39;t get Perl Chart (gnuplot) to label all tics on axis", "body": "<p>You can use <code>xtics =&gt; { labels=&gt;[...] }</code> but you need to respect that </p>\n\n<blockquote>\n  <p>In case of timeseries data, position values must be given as quoted dates or times according to the format <strong>timefmt</strong>.</p>\n</blockquote>\n\n<p>from <a href=\"http://gnuplot.sourceforge.net/docs_4.2/node295.html\" rel=\"nofollow noreferrer\">gnuplot documentation</a>.</p>\n\n<p>Assuming the array <code>@x</code> contains the data set's time values in <strong>timefmt</strong>, x-tick labels can be forced at each of those times like this.</p>\n\n<pre><code>xtics =&gt; {\n    labels=&gt;[map { q(').$_.q(') } @x]\n}\n</code></pre>\n\n<p>There are plenty of ways to add single quotes around each time, but I think the <code>map</code> above is cleanest. </p>\n\n<p>You can of course provide your own labels, just make sure they are quoted properly and the same as <strong>timefmt</strong>. I think Perl's <code>q()</code> quoting operator is the way to go.</p>\n\n<pre><code>labels=&gt;[ q('2005-6-7_07:04:53') , q('2005-6-7_07:05:10') ]\n</code></pre>\n\n<h3>Full working example</h3>\n\n<p>Here is a full working example, modified from the gnuplot tick examples.</p>\n\n<pre><code>    #!/usr/bin/perl -w\n    use strict;\n    use Chart::Gnuplot;\n\n    # Change the date time format of the tic labels\n    # - the solution is the same as change the number format\n\n    # Date array\n    my @x = qw(\n    2005-6-7_07:00:00\n    2005-6-7_07:05:00\n    2005-6-7_07:10:00\n    2005-6-7_07:15:00\n    );\n\n    my @y = qw(\n    3562279127\n    3710215571\n    3877469703\n    3876354871\n    );\n\n    # Create the chart object\n    my $chart = Chart::Gnuplot-&gt;new(\n        output   =&gt; 'test.png',\n        xtics    =&gt; {\n            rotate =&gt; -90,\n            labelfmt =&gt; \"%m-%d %H\",\n            labels=&gt;[map { q(').$_.q(') } @x]\n        },\n        timeaxis =&gt; \"x\", # declare that x-axis uses time format\n    );\n\n    # Data set object\n    my $data = Chart::Gnuplot::DataSet-&gt;new(\n        xdata   =&gt; \\@x,\n        ydata   =&gt; \\@y,\n        style   =&gt; 'linespoints',\n        timefmt =&gt; '%Y-%m-%d_%H:%M:%S',\n    );\n\n    # Plot the graph\n    $chart-&gt;plot2d($data);\n</code></pre>\n\n<p>Without the <code>labels</code>, you'll get something like this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/F3V68.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F3V68.png\" alt=\"Without specifying labels you get automatic ones\"></a></p>\n\n<p>With the <code>labels</code>, you'll get something like this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ym0Na.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ym0Na.png\" alt=\"Fixing label locations to provided values\"></a></p>\n"}], "owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 44711775, "answer_count": 1, "score": 3, "last_activity_date": 1498198371, "creation_date": 1498074142, "last_edit_date": 1498074369, "question_id": 44684985, "link": "https://stackoverflow.com/questions/44684985/cant-get-perl-chart-gnuplot-to-label-all-tics-on-axis", "title": "Can&#39;t get Perl Chart (gnuplot) to label all tics on axis", "body": "<p>Using <code>Chart::Gnuplot</code> in perl.</p>\n\n<p>The x axis is to be for date/time.  </p>\n\n<p>I'm specifying </p>\n\n<pre><code>timeaxis =&gt; \"x\"   (seems to work)\n</code></pre>\n\n<p>I'm using </p>\n\n<pre><code>timefmt =&gt; '%Y-%m-%d_%H:%M:%S' \n</code></pre>\n\n<p>to read the elements in the array ref passed to xdata in the <code>Chart::Gnuplot::DataSet-&gt;new</code>.  (that seems to work too)</p>\n\n<p>Using </p>\n\n<pre><code>xtics =&gt; {labelfmt =&gt; \"%m-%d %H\", rotate =&gt; -90} \n</code></pre>\n\n<p>to display the labels the way I want them.  (that all seems to work too) </p>\n\n<p>And indeed, everything looks good except for the fact that it's only labeling a handful of tics on the x (date/time) axis.  I want to label them all (or every other one, or have some control over this)</p>\n\n<p>I found lots of examples of how to do this for numbers (note dates) using... start, incr, end, etc... .  And I tried lots of experiments to get this to work.  But I think I've exhausted all that I can find on this googling around and I'm still stuck :-(</p>\n\n<p>And so, if there is any advise on how to get this to label all the tics with the date/time, I'd very much appreciate it.  </p>\n"}, {"tags": ["perl", "member-variables"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1498058178, "post_id": 44680005, "comment_id": 76344424, "body": "You shouldn&#39;t go to the internals. Define accessor methods instead. The internal implementation of your objects can change. Go with a defined API instead. Also, this is an object, not a class."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1498058204, "post_id": 44680005, "comment_id": 76344449, "body": "You can prevent keys from being added, but that doesn&#39;t prevent from reading from non-existent keys. As you hinted, this does return <code>undef</code>, which should lead to an error down the line if you were expecting a value."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1498058250, "post_id": 44680005, "comment_id": 76344486, "body": "You could make your object array-based instead of hash-based to make it harder to use incorrectly (at least unintentionally). There are other tricks as well, but at some point, you just have say: &quot;If you don&#39;t use the accessors we&#39;ve provided, it&#39;s your own fault if you get bitten!&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1498064499, "post_id": 44680519, "comment_id": 76348428, "body": "DRY -- unless you&#39;re getting paid by the amount of lines wasted on writing accessors."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1498070376, "post_id": 44680519, "comment_id": 76351757, "body": "The principle is fine, but those accessors fail very poorly when the caller tries to set the value to undef (intentionally or not). You should check the number of args provided (<code>my $self = shift; $self-&gt;{x} = shift if @_; return $self-&gt;{x};</code>) and <i>add</i> checks and conversions to that if desired."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 0, "last_activity_date": 1498059352, "creation_date": 1498059352, "answer_id": 44680519, "question_id": 44680005, "link": "https://stackoverflow.com/questions/44680005/catching-undefined-value-accessing-in-perl/44680519#44680519", "title": "Catching undefined value accessing in Perl", "body": "<p>You do this by providing proper getter/setter methods that wrap around your class/instance variables. The internals should never be accessed directly, particularly from outside of the class itself (it's wise to not do so within the class either, except for the actual method that maintains that specific attribute. Here's a very basic example:</p>\n\n<pre><code>use warnings;\nuse strict;\n\npackage A;\n\nsub new {\n    my ($class, %args) = @_;\n    my $self = bless {}, $class;\n\n    $self-&gt;x($args{x});\n    $self-&gt;y($args{y});\n\n    return $self;\n}\nsub x {\n    my ($self, $x) = @_;\n    $self-&gt;{x} = $x if defined $x;\n    return $self-&gt;{x} // 1;\n}\nsub y {\n    my ($self, $y) = @_;\n    $self-&gt;{y} = $y if defined $y;\n    return $self-&gt;{y} // 2;\n}\n\npackage main;\n\nmy $obj = A-&gt;new(x =&gt; 5, y =&gt; 3);\n\nprint $obj-&gt;x .\"\\n\";\nprint $obj-&gt;y .\"\\n\";\n</code></pre>\n\n<p>Now, you could just as easily do <code>print $obj-&gt;{x}</code>, but that's where your problem is. What happens when the code is much more complicated than this, and for some reason you want to change the <code>x</code> attribute name to <code>foo</code>, but retain the <code>x()</code> method? <code>$obj-&gt;{x}</code> will now be <code>undef</code> as its never set.</p>\n\n<p>Always use the provided methods for accessing attributes of a class/object. Encapsulation such as this is a staple of OO programming.</p>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1498064451, "post_id": 44680709, "comment_id": 76348396, "body": "<code>AUTOLOAD</code> would be the last thing I would recommend for this.  Generating accessors for a well-defined list takes no more code and is much more robust. Beyond that, there <code>Object::Accessor</code>, <code>Class::Accessor::*</code>, <code>Moo(se)?</code> etc."}, {"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "edited": false, "score": 1, "creation_date": 1498133304, "post_id": 44680709, "comment_id": 76380667, "body": "A good primer on inside-out objects is at <a href=\"http://perltraining.com.au/tips/2006-03-31.html\" rel=\"nofollow noreferrer\">perltraining.com.au/tips/2006-03-31.html</a> and while there are now many modules to do it and more, I think it explains the concept really well."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1498059841, "creation_date": 1498059841, "answer_id": 44680709, "question_id": 44680005, "link": "https://stackoverflow.com/questions/44680005/catching-undefined-value-accessing-in-perl/44680709#44680709", "title": "Catching undefined value accessing in Perl", "body": "<p>You can, but you probably shouldn't. The problem here is - if you access a variable within a class directly... then you just can. You can prevent this with a couple of workarounds - and this is where things like Moose come in.</p>\n\n<p>And there's a couple of slightly hacky tricks like inside-out objects (which I think aren't common practice any more - Perl Best Practice advocated them some years back) or using anonymous hashes to hold state.</p>\n\n<p>But failing that - why not use an accessor, and auto-generate one using 'AUTOLOAD'. </p>\n\n<pre><code>#!/usr/bin/env perl\n\npackage MyClass;\nuse strict;\nuse warnings; \n\nuse vars '$AUTOLOAD';\nsub AUTOLOAD { \n   my ( $self ) = @_; \n\n   my $subname = $AUTOLOAD =~ s/.*:://r;\n\n   if ( $self -&gt; {$subname} ) { \n      return $self -&gt; {$subname}; \n   }\n   warn \"Sub called $subname was called\\n\";\n   return \"$subname\"; \n}\n\nsub new {\n   my ( $class ) = @_;\n   my $self = {};\n   bless $self, $class;\n}\n\npackage main; \nuse strict;\nuse warnings;\n\nmy $object = MyClass -&gt; new; \n$object -&gt; {var} = \"fleeg\";\n\nprint \"Undef fiddle was: \", $object -&gt; fiddle,\"\\n\";\nprint \"But 'var' was: \", $object -&gt; var,\"\\n\";\n</code></pre>\n\n<p>This has the same problem, in that changing method names might cause things to break. However it has the advantage that you can handle 'invalid' method calls however you like. </p>\n\n<p>But really - explicit 'get' and 'set' methods are better choices for most use-cases. </p>\n"}], "owner": {"reputation": 233, "user_id": 8149371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cb7da58594625cf366befdba7d29f29?s=128&d=identicon&r=PG&f=1", "display_name": "user2309843", "link": "https://stackoverflow.com/users/8149371/user2309843"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "accepted_answer_id": 44680519, "answer_count": 2, "score": 0, "last_activity_date": 1498059841, "creation_date": 1498058025, "question_id": 44680005, "link": "https://stackoverflow.com/questions/44680005/catching-undefined-value-accessing-in-perl", "title": "Catching undefined value accessing in Perl", "body": "<p>How can I catch access to member variables?</p>\n\n<pre><code>$Class1-&gt;{Class2}\n</code></pre>\n\n<p>If the <code>Class2</code> field doesn't exist, is is possible to catch this from an internal function?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1498055761, "post_id": 44678837, "comment_id": 76342366, "body": "Please update your question with the code in the <code>get_returns()</code> function."}, {"owner": {"reputation": 233, "user_id": 8149371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cb7da58594625cf366befdba7d29f29?s=128&d=identicon&r=PG&f=1", "display_name": "user2309843", "link": "https://stackoverflow.com/users/8149371/user2309843"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1498056072, "post_id": 44678837, "comment_id": 76342634, "body": "@stevieb, I have updated the question"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1498056207, "post_id": 44678837, "comment_id": 76342760, "body": "Ok, so that&#39;s a single list that&#39;s being returned. What does: <code>use Data::Dumper; my @ret = get_returns(); print Dumper \\@ret;</code> show?"}, {"owner": {"reputation": 233, "user_id": 8149371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cb7da58594625cf366befdba7d29f29?s=128&d=identicon&r=PG&f=1", "display_name": "user2309843", "link": "https://stackoverflow.com/users/8149371/user2309843"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1498056420, "post_id": 44678837, "comment_id": 76342940, "body": "@stevieb: $VAR1 = [[&#39;e1&#39;, &#39;e2&#39;], [&#39;e1&#39;, &#39;e2&#39;]];"}], "answers": [{"comments": [{"owner": {"reputation": 233, "user_id": 8149371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cb7da58594625cf366befdba7d29f29?s=128&d=identicon&r=PG&f=1", "display_name": "user2309843", "link": "https://stackoverflow.com/users/8149371/user2309843"}, "edited": false, "score": 0, "creation_date": 1498056794, "post_id": 44679284, "comment_id": 76343265, "body": "This solution definitely works. I was mainly hoping that the users do not have to change the way they call the function. Is it normal for Perl users to do something like my($array1, $array2) = get_returns() instead of my(@array1, @array2) = get_returns?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 233, "user_id": 8149371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cb7da58594625cf366befdba7d29f29?s=128&d=identicon&r=PG&f=1", "display_name": "user2309843", "link": "https://stackoverflow.com/users/8149371/user2309843"}, "edited": false, "score": 1, "creation_date": 1498056902, "post_id": 44679284, "comment_id": 76343372, "body": "Don&#39;t know what you mean by &quot;with array returns&quot;, but <code>my($array1, $array2) = get_returns()</code> is very common."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 233, "user_id": 8149371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cb7da58594625cf366befdba7d29f29?s=128&d=identicon&r=PG&f=1", "display_name": "user2309843", "link": "https://stackoverflow.com/users/8149371/user2309843"}, "edited": false, "score": 1, "creation_date": 1498056944, "post_id": 44679284, "comment_id": 76343407, "body": "@d33 Those are <i>array references</i> being returned, not arrays, and what ikegami has shown is exceptionally common. You could also do it like this: <code>my @a = get_returns();</code> which would put aref1 into <code>$a[0]</code> and aref2 into <code>$a[1]</code>. Then you could deref like this <code>$a[0]-&gt;[0]</code> or <code>for (@{ $a[0] }){...}</code>. Whatever makes the code more understandable is the way to go here."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1498056515, "last_edit_date": 1498056515, "creation_date": 1498056117, "answer_id": 44679284, "question_id": 44678837, "link": "https://stackoverflow.com/questions/44678837/arrays-how-to-dynamically-dereference-array-perl/44679284#44679284", "title": "Arrays - how to dynamically dereference array? (Perl)", "body": "<blockquote>\n  <p><em>the get_returns function returns a list of two arrays.</em></p>\n</blockquote>\n\n<p>No, it returns a number of scalars. That's the only thing a sub can return. In this specific case, it returns two references to arrays. You could grab them as follows:</p>\n\n<pre><code>my ($array1, $array2) = get_returns();\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>I also do not want to have to dereference the array outside of the function</p>\n</blockquote>\n\n<p>To do that, you'd need named arrays outside of <code>get_returns</code> for <code>get_returns</code> to populate.</p>\n\n<pre><code>sub get_returns {\n    my $data_json = remotely_call_some_function();\n    my $data = $json-&gt;decode($data_json);\n    my $returns = $data-&gt;{returns};\n    @{ $_[0] } = $returns-&gt;[0];\n    @{ $_[1] } = $returns-&gt;[1];\n}\n\nget_returns(\\my @array1, \\my @array2);\n</code></pre>\n\n<p>I recommend against this.</p>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1498056765, "creation_date": 1498056765, "answer_id": 44679523, "question_id": 44678837, "link": "https://stackoverflow.com/questions/44678837/arrays-how-to-dynamically-dereference-array-perl/44679523#44679523", "title": "Arrays - how to dynamically dereference array? (Perl)", "body": "<p>Per a comment that includes <code>Data::Dumper</code> output in the OP, you're receiving <code>$VAR1 = [['e1', 'e2'], ['e1', 'e2']]</code>. That's an array of array references. Here's how you can receive and then dereference the inner arefs:</p>\n\n<pre><code>my ($aref1, $aref2) = get_returns();\n\n# deref and print each element of an array reference\n\nfor my $elem (@$aref1){\n    print \"$elem\\n\";\n}\n\n# get a single element\n\nmy $x = $aref2-&gt;[0];\n</code></pre>\n"}], "owner": {"reputation": 233, "user_id": 8149371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cb7da58594625cf366befdba7d29f29?s=128&d=identicon&r=PG&f=1", "display_name": "user2309843", "link": "https://stackoverflow.com/users/8149371/user2309843"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 44679284, "answer_count": 2, "score": 0, "last_activity_date": 1498056765, "creation_date": 1498054998, "last_edit_date": 1498056048, "question_id": 44678837, "link": "https://stackoverflow.com/questions/44678837/arrays-how-to-dynamically-dereference-array-perl", "title": "Arrays - how to dynamically dereference array? (Perl)", "body": "<p>When I do:</p>\n\n<pre><code>my (@array1, @array2) = get_returns();\n</code></pre>\n\n<p>The <code>get_return</code> function returns a list of arbitrary elements.\nIn this particular case, the <code>get_returns</code> function returns a list of two arrays. However this stores all the contents of the return into <code>array1</code> instead of splitting the two arrays up.</p>\n\n<p>I am not sure how to dereference the arrays through the function I am calling using something explicit like <code>@{$arr}</code>. I am doing a form of RPC calling where the returns (and their types) are not known beforehand by the program. I also do not want to have to dereference the array outside of the function call. <strong>Is there a workaround to dynamically dereference the arrays?</strong></p>\n\n<p><strong>Update</strong></p>\n\n<p>In the <code>get_returns</code> function, I am sending and receiving a response from a server. This returns a JSON table where the \"returns\" field is an array of returns:</p>\n\n<pre><code>sub get_returns {\n    my $data = remotely_call_some_function();\n    $t = $json-&gt;decode($data);\n    my @returns = @{$t-&gt;{\"returns\"}};\n    return @returns;\n}\n</code></pre>\n"}, {"tags": ["perl", "loops", "hash", "reference", "vlookup"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1498054861, "post_id": 44678548, "comment_id": 76341581, "body": "Your files are simple CSV? Can you include demo data that is not indented like a table please? You can <a href=\"https://stackoverflow.com/posts/44678548/edit\">edit</a> your question. You can also instead of a file just use the <code>__DATA__</code> block at the end of the file, get rid of the <code>open</code> and just read from <code>&lt;DATA&gt;</code> instead. That will make working on your code considerable easier for the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1498054967, "post_id": 44678548, "comment_id": 76341688, "body": "There&#39;s also a missing <code>$</code> at <code>my new_id</code>. Don&#39;t re-write your code into Stack Overflow please. Show your real code. We don&#39;t want to go chasing syntax errors that are not really there. I believe that&#39;s because you translated some variable names from Dutch (or Afrikaans?) to English. You did miss one in the deepest part of your loop."}, {"owner": {"reputation": 31, "user_id": 8002776, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iyR5NyhEKvU/AAAAAAAAAAI/AAAAAAAAACE/tZLOb96mGpo/photo.jpg?sz=128", "display_name": "Donn&#233; Kruger", "link": "https://stackoverflow.com/users/8002776/donn%c3%a9-kruger"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1498118475, "post_id": 44678548, "comment_id": 76370171, "body": "Thank you - yes I did translate (Afrikaans), but will keep in mind for future to give code exactly and CSV as is! Thanks also for your answer - this is why I love stackoverflow, you really do learn a lot - especially when your knowledge is very lacking!!"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498056931, "post_id": 44679150, "comment_id": 76343397, "body": "I don&#39;t have time right now to explain what you did wrong. But you do need to learn more about hashes. You were using arrays to look up stuff, which is extremely inefficient. That&#39;s what hashes are for."}, {"owner": {"reputation": 31, "user_id": 8002776, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iyR5NyhEKvU/AAAAAAAAAAI/AAAAAAAAACE/tZLOb96mGpo/photo.jpg?sz=128", "display_name": "Donn&#233; Kruger", "link": "https://stackoverflow.com/users/8002776/donn%c3%a9-kruger"}, "edited": false, "score": 1, "creation_date": 1498118598, "post_id": 44679150, "comment_id": 76370248, "body": "Thank you for your very detailed answer - will definitely go brush up on arrays and hashes!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 31, "user_id": 8002776, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iyR5NyhEKvU/AAAAAAAAAAI/AAAAAAAAACE/tZLOb96mGpo/photo.jpg?sz=128", "display_name": "Donn&#233; Kruger", "link": "https://stackoverflow.com/users/8002776/donn%c3%a9-kruger"}, "edited": false, "score": 0, "creation_date": 1498118819, "post_id": 44679150, "comment_id": 76370413, "body": "@Donn&#233;Kruger there are a couple of perldoc pages about this stuff. <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perldsc.html</a>, <a href=\"http://perldoc.perl.org/perllol.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perllol.html</a>, <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perldata.html</a>, <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlref.html</a> and <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlreftut.html</a>. In general I would suggest to get the book <i>Beginning Perl</i> by Curtis Poe. If you know some programming and want to understand how Perl works, it&#39;s a good choice."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1498056215, "last_edit_date": 1498056215, "creation_date": 1498055850, "answer_id": 44679150, "question_id": 44678548, "link": "https://stackoverflow.com/questions/44678548/perl-use-reference-has-for-other-hash/44679150#44679150", "title": "Perl: use reference has for other hash", "body": "<p>Your approach is complicated. I'll first focus on a different approach, which I will explain.</p>\n\n<p>You need to make two passes over the data. In the first pass, you generate a map of old ids and new ids. The algorithm to create the new id is just to start at 10 and increment, so that's simple. We can use a regular hash with the old id as the key, and the new id as the value.</p>\n\n<p>In my approach, we also save the row data in this first pass into an array of array references. That way I can reuse it in the second pass. If you have a lot of records, that might not be smart as it takes a lot of memory. In that case, you would re-read the data and <code>print</code> instead of changing the values like I did.</p>\n\n<p>In the second pass, we iterate the rows and simply replace all of them from the lookup hash.</p>\n\n<ul>\n<li>The value for <em>ani</em> is easy. Take the current value and look it up.</li>\n<li>The value for <em>sire</em> should only be replaced if it's not <code>1</code> or <code>2</code>. In Perl that can translate to <code>unless</code> it's smaller than <code>3</code>. Look it up in that case, else do nothing.</li>\n<li>The value for <em>dam</em> works the same way.</li>\n</ul>\n\n\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Printer;\n\nmy $new_id = 10;\n\nmy %new_ids;\nmy @rows;\nwhile (my $line = &lt;DATA&gt;) {\n    $line =~ s/\\s*$//g;\n\n    my ( $ani, $sire, $dam ) = split( '\\,', $line );\n\n    # map old -&gt; new\n    $new_ids{$ani} = $new_id;\n\n    # save row\n    push @rows, [$ani, $sire, $dam];\n\n    ++$new_id;\n}\n\n# iterate all rows and replace the ids\nforeach my $row (@rows) {\n    $row-&gt;[0] = $new_ids{$row-&gt;[0]};\n    $row-&gt;[1] = $new_ids{$row-&gt;[1]} unless $row-&gt;[1] &lt; 3;\n    $row-&gt;[2] = $new_ids{$row-&gt;[2]} unless $row-&gt;[2] &lt; 3;\n}\n\np @rows;\n__DATA__\n15,1,2\n12,1,2\n30,15,12\n18,15,2\n26,15,30\n48,18,30\n32,26,48\n50,26,30\n</code></pre>\n\n<p>My program prints the result with <a href=\"https://metacpan.org/pod/Data::Printer\" rel=\"nofollow noreferrer\">Data::Printer</a>.</p>\n\n<pre><code>[\n    [0] [\n        [0] 10,\n        [1] 1,\n        [2] 2\n    ],\n    [1] [\n        [0] 11,\n        [1] 1,\n        [2] 2\n    ],\n    [2] [\n        [0] 12,\n        [1] 10,\n        [2] 11\n    ],\n    [3] [\n        [0] 13,\n        [1] 10,\n        [2] 2\n    ],\n    [4] [\n        [0] 14,\n        [1] 10,\n        [2] 12\n    ],\n    [5] [\n        [0] 15,\n        [1] 13,\n        [2] 12\n    ],\n    [6] [\n        [0] 16,\n        [1] 14,\n        [2] 15\n    ],\n    [7] [\n        [0] 17,\n        [1] 14,\n        [2] 12\n    ]\n]\n</code></pre>\n\n<hr>\n\n<p>In terms of execution time, I created a file with 1.5M records randomly with this program.</p>\n\n<pre><code>$ perl -E 'say join \",\", int rand 10000, int rand 10000, int rand 10000 for 1 .. 1_500_000' &gt; animals.csv\n</code></pre>\n\n<p>Running this through my code (changed to <code>open</code> the file) took about 8s on my Core i7 quadcore laptop and Perl 5.20.1.</p>\n\n<pre><code>$ time perl scratch.pl \nreal    0m7.863s\nuser    0m7.260s\nsys     0m0.436s\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8002776, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iyR5NyhEKvU/AAAAAAAAAAI/AAAAAAAAACE/tZLOb96mGpo/photo.jpg?sz=128", "display_name": "Donn&#233; Kruger", "link": "https://stackoverflow.com/users/8002776/donn%c3%a9-kruger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1498056215, "creation_date": 1498054280, "question_id": 44678548, "link": "https://stackoverflow.com/questions/44678548/perl-use-reference-has-for-other-hash", "title": "Perl: use reference has for other hash", "body": "<p>I'm firstly not even sure what to search for, as I know how to do this in excel but cannot find a simple way (with my limited knowledge) to do it in perl. I need to renumber a pedigree file (over 1.4 million records) and unfortunately an excel vlookup won't suffice, both due to PC power and excel spreadsheet power.</p>\n\n<p>The file needs to be renumbered so that the individual does not have a lower number than the parents, so my test file looks something like this:</p>\n\n<pre><code>Ani | Sire | Dam\n----------------\n15  |   1  | 2\n12  |   1  | 2\n30  |  15  | 12\n18  |  15  | 2\n26  |  15  | 30\n48  |  18  | 30\n32  |  26  | 48\n50  |  26  | 30\n</code></pre>\n\n<p>1 and 2 indicates an unknown parent (I will leave them as 1/2), and the renumbering begins from 10 so that the \"new ids\" are as follow:</p>\n\n<pre><code>Old_ID | New_ID\n---------------\n 15    | 10\n 12    | 11\n 30    | 12\n 18    | 13\n 26    | 14\n 48    | 15\n 32    | 16\n 50    | 17\n</code></pre>\n\n<p>So the output that I would like to see would then be</p>\n\n<pre><code>new_ani | new_sire | new_dam\n----------------------------\n   10   | 1        | 2\n   11   | 1        | 2\n   12   | 10       | 11\n   13   | 10       | 2\n   14   | 10       | 12\n   15   | 13       | 30\n   16   | 14       | 15\n   17   | 14       | 12\n</code></pre>\n\n<p>Using two hashes, I have tried (unsuccessfully) to firstly link the first column to the new IDs (which I could do), and then sire and dam column (which I cant do').</p>\n\n<p>To lessen the code a bit, I left out the block calculating the new dam ids as it would be a replica of the sire. I My code thus far is as follows:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $input_file = .../pedigree.csv;\nopen (INPUT, \"&lt;\", $input_file) or die \"Cant open $input_file: $!\";\n\nmy new_id = 0;\n\nmy %old_ped = ();\nmy %new_id = ();\n\nwhile (&lt;INPUT&gt;){\n\n        my $line = $_;\n           $line =~ s/\\s*$//g;\n\n        my ($ani,$sire,$dam) = split('\\,',$line);\n\n        next if $ani eq 'db_animal' or !$ani or $ani eq 'ani';\n\n        $old_ped{$ani}[0] = $ani;\n        $old_ped{$ani}[1] = $sire;\n        $old_ped{$ani}[2] = $dam;\n\n        $new_id++;\n\n        $new_id{$ani}[0] = $ani;\n        $new_id{$ani}[1] = $new_id;\n\n}\nclose INPUT;\n\nforeach my $tt (sort keys %old_ped){\n\n        #animal\n        if ($old_ped{$tt}[0] == $new_id{$tt}[0]){\n                print \"$new_id{$tt}[1],\";\n\n                #sires\n                if ($old_ped{$tt}[1] == 1){\n                       print \" 1,\";\n                }\n                else{\n                        foreach my $tt (sort keys %new_id) {\n                                if ($old_ped{$tt}[1] == $nuwe_id{$tt}[0]){\n                                       print \"$new_id{$tt}[1],\";                                           \n                                }\n                        }\n                }\n        }\n\n# AND REPEAT SIRE BLOCK FOR DAM\n\nprint \"\\n\";\n}\n</code></pre>\n\n<p>However... I'm obviously get the wrong output as the references aren't connecting, so there are no matches for the sires (or dams). </p>\n\n<p>I tried instead creating 2 additional hashes, one for sire and dam, using the sire and dam ID as the reference:</p>\n\n<pre><code>$sire{$sire}[0] = $sire;\n$sire{$sire}[1] = $dierid;\n\n$dam{$dam}[0] = $dam;\n$dam{$dam}[1] = $dierid;\n</code></pre>\n\n<p>and using them in the foreach as follows:</p>\n\n<pre><code>foreach my $tt (sort keys %old_ped){\n\n        #animal\n        if ($old_ped{$tt}[0] == $new_id{$tt}[0]){\n                print \"$new_id{$tt}[1],\";\n\n                #sires\n                if ($old_ped{$tt}[1] == 1){\n                       print \" 1,\";\n                }\n                else{\n                        foreach my $tt (sort keys %sire) {\n                                if ($sire{$tt}[0] == $nuwe_id{$tt}[0]){\n                                       print \"$new_id{$tt}[1],\";                                           \n                                }\n\n                        }\n                }\n        }\n\n# AND REPEAT SIRE BLOCK FOR DAM\n\nprint \"\\n\";\n}\n</code></pre>\n\n<p>I'm guessing I am not using my hashes correctly, or perhaps I need to use a different loop? However, my perl knowledge is still very basic and lacking. </p>\n\n<p>Any help will be tremendously appreciated!!</p>\n"}, {"tags": ["perl", "unix", "warnings", "strict"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 7854056, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d75dfefc367145352edc4341c08a4025?s=128&d=identicon&r=PG&f=1", "display_name": "emma", "link": "https://stackoverflow.com/users/7854056/emma"}, "edited": false, "score": 0, "creation_date": 1498051105, "post_id": 44676749, "comment_id": 76338651, "body": "Can I use &lt;$globallines //= &quot;name&quot;;&gt; for a string value also??"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 85, "user_id": 7854056, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d75dfefc367145352edc4341c08a4025?s=128&d=identicon&r=PG&f=1", "display_name": "emma", "link": "https://stackoverflow.com/users/7854056/emma"}, "edited": false, "score": 0, "creation_date": 1498057829, "post_id": 44676749, "comment_id": 76344159, "body": "Er. Yes. I think. But it&#39;s not <code>&lt;</code> for code quotes, but backticks. But perl doesn&#39;t care. You can assign using <code>$globallines &#47;&#47;= &quot;a name here&quot;;</code> just the same as a numeric value. But your <code>&gt;0</code> test will error still if you do this. (Unless the string is <code>&quot;0.0&quot;</code> or otherwise numerically convertible to zero)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1498049642, "creation_date": 1498049642, "answer_id": 44676749, "question_id": 44676538, "link": "https://stackoverflow.com/questions/44676538/use-of-uninitialized-variable-warning/44676749#44676749", "title": "Use of uninitialized variable warning", "body": "<p>What's happening is - if there's no argument supplied, the value is undefined. (not zero). </p>\n\n<p>So comparing it numerically gives an error.</p>\n\n<p>There's a few possible solutions, but the easiest is:</p>\n\n<pre><code>if ( $globallines and $globallines &gt; 0 ) { \n</code></pre>\n\n<p>Or perhaps just initialise it if undefined:</p>\n\n<pre><code>$globallines //= 0; #sets it to zero if undef. \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1498049717, "creation_date": 1498049717, "answer_id": 44676782, "question_id": 44676538, "link": "https://stackoverflow.com/questions/44676538/use-of-uninitialized-variable-warning/44676782#44676782", "title": "Use of uninitialized variable warning", "body": "<p>If the <code>-lines</code> option is... er... optional(!), what do you want the behaviour to be when the option is omitted? Choose a default value and assign that before calling <code>GetOptions()</code>.</p>\n\n<pre><code>my $globallines = 0; # Or whatever value is appropriate\n\nGetOptions(\n   'lines=s' =&gt; \\$globallines,\n);\n</code></pre>\n\n<p>Also, don't you want <code>lines=i</code> rather than <code>lines=s</code>? That will ensure you only get an integer.</p>\n"}], "owner": {"reputation": 85, "user_id": 7854056, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d75dfefc367145352edc4341c08a4025?s=128&d=identicon&r=PG&f=1", "display_name": "emma", "link": "https://stackoverflow.com/users/7854056/emma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "accepted_answer_id": 44676749, "answer_count": 2, "score": -1, "last_activity_date": 1498049717, "creation_date": 1498049093, "last_edit_date": 1498049687, "question_id": 44676538, "link": "https://stackoverflow.com/questions/44676538/use-of-uninitialized-variable-warning", "title": "Use of uninitialized variable warning", "body": "<p>I am using GetOptions to get values from perl</p>\n\n<pre><code>GetOptions(\n       'lines=s'=&gt;\\$globallines,\n        );\n</code></pre>\n\n<p>Here, <code>lines</code> is an optional argument. When the user does not enter a value, I am getting a <code>use of uninitialized variable</code> warning where I am using the <code>lines</code> variable in an if statement. I am unable to fix this warning. Can you please help him?</p>\n\n<p>Sorry if it is a silly question,I am new to perl.</p>\n\n<pre><code>if($globallines&gt;0){#&lt;SOME CODEEE&gt;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1498044830, "post_id": 44674653, "comment_id": 76333735, "body": "Please <a href=\"https://stackoverflow.com/posts/44674653/edit\">edit</a> your question and include example input and output. What do you want to do? Your regex is strange. You are capturing <code>&quot;\\d+</code> or <code>\\d+</code> or <code>&quot;</code> (one double quote). Then there is optional whitespace, and you replace all of that with the capture. Do you want <code>$word</code> to be the altered line, or the thing inside the capture group?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1498045767, "post_id": 44674653, "comment_id": 76334431, "body": "Please <a href=\"https://stackoverflow.com/posts/44674653/edit\">edit your question</a> to fix the obvious syntax error (that the syntax highlighting is making very clear!) While you&#39;re there, you might consider fixing the indentation too. If you want a large number of strangers to read and understand your code, you can help them by making it as easy to follow as possible."}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1498046658, "post_id": 44674653, "comment_id": 76335085, "body": "syntax error fixed and also added indentation. @DaveCross"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498046762, "post_id": 44674653, "comment_id": 76335166, "body": "Wow. That&#39;s a <i>lot</i> of indentation :-) You should also take note of @simbabque&#39;s requests as without the clarification he asks for, it&#39;s going to be hard to answer your question."}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1498047064, "post_id": 44674653, "comment_id": 76335407, "body": "added my input and output part along with the error @DaveCross"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498047288, "post_id": 44674653, "comment_id": 76335578, "body": "Thanks. Now this is a good question. Please add <code>$!</code> to your error handling to see the real error message."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498047388, "post_id": 44674653, "comment_id": 76335645, "body": "@simbabque: Oh, the file is opened successfully. The problem is a little more subtle than that. See my answer :-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1498047448, "post_id": 44674653, "comment_id": 76335693, "body": "@DaveCross indeed. I didn&#39;t see that part. In <a href=\"https://stackoverflow.com/revisions/44674653/1\">the original code before the indentation edit</a> that was <code>my $word</code>, not <code>$fh</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1498047497, "post_id": 44674653, "comment_id": 76335732, "body": "@DaveCross also are you not at TPC?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498047619, "post_id": 44674653, "comment_id": 76335826, "body": "@simbabque: No, I&#39;ve never been to The Conference Formerly Known As YAPC in the US. And I&#39;m not about to start while border control is (potentially) asking for laptop/phone passwords."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1498047756, "post_id": 44674653, "comment_id": 76335934, "body": "@DaveCross ah. Yeah, I agree. I was tempted, but that was one of the main reasons for me not to go. Anyway, come to the German Perl Workshop next week in Hamburg. I promise there will not be a control of that kind on our Schengen border (I don&#39;t know what your guys are doing nowadays though)."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1498048991, "post_id": 44674653, "comment_id": 76336926, "body": "You&#39;ve asked more or less the same question as last time, and the problem is the same - you cannot &#39;overwrite&#39; a file handle like that."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1498050462, "post_id": 44674653, "comment_id": 76338139, "body": "Imagine you have a box full of toys. What you want to do is replace one toy at a time. What you are doing is taking the first toy, changing it to some new toy, and then throwing away the whole box and only keeping the new toy."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1498069557, "post_id": 44674653, "comment_id": 76351265, "body": "Please clearify whether you want (like title says) to write into a <b>new</b> file or you want to change something in the same file you have opened."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1498069845, "post_id": 44674653, "comment_id": 76351436, "body": "When the file writing/overwriting problem is solved, what do you expect your regex replacement to achieve? To me it reads like replace a or b or c (of which only b will ever occur in your input file) and any number of white space, by b. That would not turn your sample input into your desired output."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 0, "creation_date": 1498047636, "post_id": 44675835, "comment_id": 76335843, "body": "The think is i want to remove all the digits from the file using that regular expression.After removing digits the output should be written in new file name. @Dave Cross"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 1, "creation_date": 1498047705, "post_id": 44675835, "comment_id": 76335898, "body": "@salar33: Ok. And why do you think that overwriting your filehandle is a good way to achieve that?"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 0, "creation_date": 1498047824, "post_id": 44675835, "comment_id": 76335995, "body": "Because i want to use same file handle and perform some other operations in such case i feel it will be better if it overwrites the same file handle .@Dave Cross"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 0, "creation_date": 1498047862, "post_id": 44675835, "comment_id": 76336025, "body": "@salar33: But, you&#39;re overwriting a filehandle with an integer. That&#39;s never going to work."}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 0, "creation_date": 1498047951, "post_id": 44675835, "comment_id": 76336099, "body": "Then how can i do by overwriting the same filehandle and use the same file handle to save its contents in new file name. @DaveCross"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1498048368, "last_edit_date": 1498048368, "creation_date": 1498047307, "answer_id": 44675835, "question_id": 44674653, "link": "https://stackoverflow.com/questions/44674653/how-to-write-result-of-regular-expression-variable-into-new-file-using-perl/44675835#44675835", "title": "How to write result of regular expression variable into new file using perl?", "body": "<p>I'm not entirely sure what you're trying to do. But I can see what is generating your errors. The problem is this line:</p>\n\n<pre><code>$fh=s/(\"\\d+|\\d+|\")\\s*/$1/g;\n</code></pre>\n\n<p>Before you execute this line of code, <code>$fh</code> contains the filehandle that you are reading data from. But with this line of code, you overwrite that value with the results from your substitution. That's either going to be the number of substitutions made (which is an integer) or an empty string (if the substitution fails). In either of those two cases, <code>$fh</code> will no longer contain your filehandle.</p>\n\n<p>So at the end of the first iteration of the loop, <code>$fh</code> no longer contains a filehandle. So when you execute <code>while (&lt;$fh&gt;)</code> at the start of the second iteration, that will fail (because, as the error says, <code>$fh</code> is not an open filehandle). That read fails and the loop is skipped. The next line executed is the call the <code>close()</code>. And that also fails for exactly the same reason.</p>\n\n<p>I'm not at all sure what you think that line of code is doing. But what it's <strong>actually</strong> doing is breaking your program :-)</p>\n\n<p><strong>Update:</strong> I suspect that reading (and, more importantly, understanding) the Perl FAQ <a href=\"https://perldoc.perl.org/perlfaq5.html#How-do-I-change%2C-delete%2C-or-insert-a-line-in-a-file%2C-or-append-to-the-beginning-of-a-file%3F\" rel=\"nofollow noreferrer\">How do I change, delete, or insert a line in a file, or append to the beginning of a file?</a> will be a very profitable use of your time at this point. It looks like you don't understand how basic file manipulation works.</p>\n"}], "owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 44675835, "answer_count": 1, "score": 1, "last_activity_date": 1498048368, "creation_date": 1498043985, "last_edit_date": 1498047662, "question_id": 44674653, "link": "https://stackoverflow.com/questions/44674653/how-to-write-result-of-regular-expression-variable-into-new-file-using-perl", "title": "How to write result of regular expression variable into new file using perl?", "body": "<p>From the below code I want to store the regular expression result variable contents (i.e $fh result into new file name ). How can I do it?</p>\n\n<p>Is there any possible way  to do get regex variable output (i.e <code>$fh</code> output) written in new file?\nHere is my code :</p>\n\n<pre><code>use strict;\nuse warnings;\nopen my $fh,'&lt;',\"open.txt\" or die \"$!\";\nwhile(&lt;$fh&gt;)\n  {\n    $fh=s/(\"\\d+|\\d+|\")\\s*/$1/g;\n    print $fh;\n  }\nclose $fh;\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>readline() on unopened filehandle 1 at fr.pl line 7.\nclose() on unopened filehandle 1 at fr.pl line 9.\n</code></pre>\n\n<p>Open.txt</p>\n\n<pre><code>1\n2\n3\nradio\nvendor\nversion114\nversion115\n</code></pre>\n\n<p>Output:</p>\n\n<p>Note:\n$fh has regular expression values.Now those $fh values  should be stored in new file and print the same contents as like below.</p>\n\n<pre><code>radio\nvendor\nversion\nversion\n</code></pre>\n"}, {"tags": ["perl", "version", "versioning"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498033622, "post_id": 44670559, "comment_id": 76325716, "body": "I get output. It&#39;s two unprintable characters. I think i&#39;s 00 and 11"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1498033636, "post_id": 44670559, "comment_id": 76325728, "body": "Doubles quotes around <code>v1.02</code> and it will be fine"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1498033693, "post_id": 44670559, "comment_id": 76325766, "body": "@Dada doesn&#39;t that beat the purpose of the <code>version</code> pragma?"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1498034070, "post_id": 44670559, "comment_id": 76326030, "body": "<code>v1.02</code> is the character with value <code>1</code> followed by the character with value <code>2</code> (they are not printable; but for instance if you do <code>say v65.66</code>, it will print <code>AB</code>). Now I don&#39;t know about the <code>version</code> module, but from what I see on CPAN, isn&#39;t the standard way to use it something like <code>our $VERSION = version-&gt;declare(&quot;v1.02&quot;)</code> ? @simbabque"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1498035144, "post_id": 44670559, "comment_id": 76326810, "body": "@Dada I was going to say the <code>declare</code> part too. Yes."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1498057823, "post_id": 44670559, "comment_id": 76344152, "body": "<code>v1.02</code> (and <code>v1.2</code>) produces the same two-character string as <code>&quot;\\x01\\x02&quot;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": true, "score": 6, "last_activity_date": 1498041750, "last_edit_date": 1498041750, "creation_date": 1498038070, "answer_id": 44672425, "question_id": 44670559, "link": "https://stackoverflow.com/questions/44670559/why-version-is-not-printable/44672425#44672425", "title": "Why version is not printable?", "body": "<p>I have found this <a href=\"https://metacpan.org/pod/perldata#Version-Strings\" rel=\"noreferrer\">DOC</a></p>\n\n<pre><code>print v9786;              # prints SMILEY, \"\\x{263a}\"\nprint v102.111.111;       # prints \"foo\"\nprint 102.111.111;        # same\n</code></pre>\n\n<p>Answering to my question:<br>\nDespite on that <code>v1.02</code> is <code>v-string</code> that is not string internally. And when we want to print it we should do extra steps. For example, use module <a href=\"https://metacpan.org/pod/distribution/version/lib/version.pm\" rel=\"noreferrer\"><code>version</code> </a> as suggested above.</p>\n\n<p><strong>UPD</strong><br>\nI found next solution (<a href=\"https://perldoc.perl.org/functions/sprintf.html#vector-flag\" rel=\"noreferrer\">DOC</a>):</p>\n\n<pre><code>printf \"%vd\", $VERSION;  # prints \"1.2\"\n</code></pre>\n\n<p><strong>UPD</strong></p>\n\n<p>And <a href=\"https://metacpan.org/pod/distribution/version/lib/version/Internals.pod#What-about-v-strings?\" rel=\"noreferrer\">this</a> should be read:</p>\n\n<blockquote>\n  <p>There are two ways to enter v-strings: a bare number with two or more decimal points, or a bare number with one or more decimal points and a leading 'v' character (also bare). For example:</p>\n</blockquote>\n\n<pre><code>$vs1 = 1.2.3; # encoded as \\1\\2\\3\n$vs2 = v1.2;  # encoded as \\1\\2\n</code></pre>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 44672425, "answer_count": 1, "score": 3, "last_activity_date": 1498041750, "creation_date": 1498033256, "last_edit_date": 1498035525, "question_id": 44670559, "link": "https://stackoverflow.com/questions/44670559/why-version-is-not-printable", "title": "Why version is not printable?", "body": "<p>I have this one liner:</p>\n\n<p><code>perl -Mversion -e 'our $VERSION = v1.02; print $VERSION'</code></p>\n\n<p>The output is (It is not visible, there is two characters: 1, 2):</p>\n\n<p><a href=\"https://i.stack.imgur.com/Lj7KR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lj7KR.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Why module version is not printable? I expect to see <code>v1.02</code></p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 7145, "user_id": 267398, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/beea308e4f0cd2781b8b3a362bac5493?s=128&d=identicon&r=PG", "display_name": "sebnukem", "link": "https://stackoverflow.com/users/267398/sebnukem"}, "is_accepted": false, "score": 0, "last_activity_date": 1498003573, "creation_date": 1498003573, "answer_id": 44664850, "question_id": 44664549, "link": "https://stackoverflow.com/questions/44664549/perl-command-meaning-with-d/44664850#44664850", "title": "Perl command meaning with -d", "body": "<p>I don't think this is valid. The <code>-d</code> operator is testing whether a path string is a directory in Bash or in Perl, but I'm not aware of file operators in Groovy. This looks like <a href=\"https://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">Perl code</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7782963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mrWZ7.jpg?s=128&g=1", "display_name": "Elizabeth Woodward", "link": "https://stackoverflow.com/users/7782963/elizabeth-woodward"}, "is_accepted": false, "score": 1, "last_activity_date": 1498003697, "creation_date": 1498003697, "answer_id": 44664871, "question_id": 44664549, "link": "https://stackoverflow.com/questions/44664549/perl-command-meaning-with-d/44664871#44664871", "title": "Perl command meaning with -d", "body": "<p>That looks very much like perl syntax, given the parentheses. If so, (-d $string_value) checks to see if $string_value is a directory. The if statement executes if $string_value is ! (not) a directory.</p>\n"}, {"comments": [{"owner": {"reputation": 873, "user_id": 128537, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e4c215b175778c1594fab8f42ff9defd?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce227", "link": "https://stackoverflow.com/users/128537/bruce227"}, "edited": false, "score": 0, "creation_date": 1498055782, "post_id": 44667088, "comment_id": 76342386, "body": "The issue is that the statement is returning different values(true/false) for the same $string_value and I can&#39;t figure out why that is.  What are criteria for making it a directory?  If there are spaces maybe before or after can cause an issue?"}, {"owner": {"reputation": 873, "user_id": 128537, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e4c215b175778c1594fab8f42ff9defd?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce227", "link": "https://stackoverflow.com/users/128537/bruce227"}, "edited": false, "score": 0, "creation_date": 1498061910, "post_id": 44667088, "comment_id": 76347012, "body": "or maybe the length is too long or special characters in the $string_value?"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 873, "user_id": 128537, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e4c215b175778c1594fab8f42ff9defd?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce227", "link": "https://stackoverflow.com/users/128537/bruce227"}, "edited": false, "score": 0, "creation_date": 1498068026, "post_id": 44667088, "comment_id": 76350389, "body": "I&#39;m not sure about string length is too long. But your string having special character use the <code>quotemeta</code>  to escape all special character"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1498021255, "last_edit_date": 1498021255, "creation_date": 1498020752, "answer_id": 44667088, "question_id": 44664549, "link": "https://stackoverflow.com/questions/44664549/perl-command-meaning-with-d/44667088#44667088", "title": "Perl command meaning with -d", "body": "<p>From perldoc</p>\n\n<blockquote>\n  <blockquote>\n    <p><a href=\"https://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">-d</a>   Check whether File is a directory.</p>\n    \n    <p><a href=\"http://perldoc.perl.org/perlop.html#Symbolic-Unary-Operators\" rel=\"nofollow noreferrer\">!</a>  It is Symbolic Unary Operators. It is performs logical negation, that is, \"not\".</p>\n  </blockquote>\n</blockquote>\n\n<p>If <code>$string_value</code> is a directory it will give the result for <code>-d $string_value</code> is true(<code>1</code>). But you are checking whether satisfying condition should be false. it means <code>!1</code> so if it is not a directory block will be execute.</p>\n\n<p>It can be written as <code>unless(-d $string_value)</code></p>\n"}], "owner": {"reputation": 873, "user_id": 128537, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e4c215b175778c1594fab8f42ff9defd?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce227", "link": "https://stackoverflow.com/users/128537/bruce227"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1498061872, "creation_date": 1498001394, "last_edit_date": 1498061872, "question_id": 44664549, "link": "https://stackoverflow.com/questions/44664549/perl-command-meaning-with-d", "title": "Perl command meaning with -d", "body": "<p>I found this program and I can't figure out what this <code>if</code> statement is</p>\n\n<pre><code>if(!(-d \"$string_value\"))\n</code></pre>\n\n<p>The <code>string_value</code> may have <code>/default/main/folder1</code>.</p>\n"}, {"tags": ["linux", "perl", "daemon"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1497992351, "post_id": 44662336, "comment_id": 76311461, "body": "Please provide a minimal, runable demonstration of the problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497992458, "post_id": 44662336, "comment_id": 76311507, "body": "Sending errors to <code>&#47;dev&#47;null</code> makes it rather hard to debug. You should start by fixing that!"}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1497993410, "post_id": 44662336, "comment_id": 76311953, "body": "Try adding debugging <code>print</code> statements so you can see what the values of the variables are."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1497993443, "post_id": 44662336, "comment_id": 76311972, "body": "Do you really need to call an external program to get the length of a string? Doesn&#39;t Perl have built-in functions for that?"}, {"owner": {"reputation": 1211, "user_id": 130639, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ab7aaf4e9821bbdbd726f3a6e920e5da?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/130639/jim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1497994528, "post_id": 44662336, "comment_id": 76312405, "body": "I see a couple of issues, but the biggest I see is <code>exec</code>ing calls to <code>tail</code>, <code>ls</code>, and <code>printf</code> (whaaa? Perl has a <code>printf</code>). I&#39;d recommend, though it&#39;s not necessarily wrong, to use Perl&#39;s ability to iterate the array vs the traditional <code>for-loop</code> IE <code>for my $item ( @RequestFilesArray )</code>. I&#39;d also suggest putting your <code>sleep(2)</code> at the end of the loop, not the front. I parrot what the others before me say. You should use <code>glob()</code> to get your file list. Please answer @ikegami&#39;s question."}, {"owner": {"reputation": 1211, "user_id": 130639, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ab7aaf4e9821bbdbd726f3a6e920e5da?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/130639/jim"}, "edited": false, "score": 0, "creation_date": 1497999064, "post_id": 44662336, "comment_id": 76313941, "body": "Also, I&#39;ve never used <code>Proc::Daemon</code> as far as I can remember, but according to <a href=\"http://search.cpan.org/~akreal/Proc-Daemon-0.23/lib/Proc/Daemon.pod\" rel=\"nofollow noreferrer\">search.cpan.org/~akreal/Proc-Daemon-0.23/lib/Proc/Daemon.pod</a>&zwnj;&#8203;, it doesn&#39;t look like you&#39;re using it right...at all."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1211, "user_id": 130639, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ab7aaf4e9821bbdbd726f3a6e920e5da?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/130639/jim"}, "edited": false, "score": 1, "creation_date": 1498020108, "post_id": 44662336, "comment_id": 76318934, "body": "@Jim, It&#39;s a correct and documented usage. That said, it would be more useful to instruct it to redirect STDERR to an actual file instead of the default <code>&#47;dev&#47;null</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1498037281, "post_id": 44662336, "comment_id": 76328395, "body": "Can I offer that <a href=\"https://stackoverflow.com/questions/26296206/perl-daemonize-with-child-daemons\">Example code for daemon stuff</a>might be worth a look? I&#39;m not a big fan of <code>Proc::Daemon</code> as a first port of call - threading/forking isn&#39;t <i>that</i> hard a concept to grok, and you really need to before doing much parallel code."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1497997107, "creation_date": 1497997107, "answer_id": 44663898, "question_id": 44662336, "link": "https://stackoverflow.com/questions/44662336/perl-daemon-doesnt-go-through-entire-loop/44663898#44663898", "title": "Perl daemon doesn&#39;t go through entire loop", "body": "<p>You have written <em>way too much code</em> before attempting to test it. You have also started shell processes at every opportunity rather than learning the correct way to achieve things in Perl</p>\n\n<p>The first mistake is to use <code>ls</code> to discover what jobs are waiting. <code>ls</code> prints multiple files per line, and you treat the whole of each line as a file name, using the bizarre <code>printf \"$RequestFilesArray[$b]\" | wc -m</code> instead of <code>length $RequestFilesArray[$b]</code></p>\n\n<p>Things only get worse after that</p>\n\n<p>I suggest the following</p>\n\n<ul>\n<li><p>Start again from scratch</p></li>\n<li><p>Write your program in Perl. Perl isn't a shell language</p></li>\n<li><p>Advance in <em>very small increments</em>, making sure that your code compiles and does what it is supposed to every three or four lines. It does wonders for the confidence to know that you're enhancing working code rather than creating a magical sequence of random characters</p></li>\n<li><p>Learn how to debug. You appear to be staring at your code hoping for inspiration to strike in the manner of someone staring at their car engine in the hope of seeing why it won't start</p></li>\n<li><p>Delete request files as part of processing the request, and only once the request has been processed and the answer file successfully written. It shouldn't be done in a separate loop</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1498020271, "post_id": 44664526, "comment_id": 76318981, "body": "Re &quot;<i>your use of Proc::Daemon::Init is suspect.</i>&quot;, It&#39;s a correct and documented usage. That said, it would be more useful to instruct it to redirect STDERR to an actual file instead of the default <code>&#47;dev&#47;null</code>."}], "tags": [], "owner": {"reputation": 1211, "user_id": 130639, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ab7aaf4e9821bbdbd726f3a6e920e5da?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/130639/jim"}, "is_accepted": false, "score": 0, "last_activity_date": 1498064464, "last_edit_date": 1498064464, "creation_date": 1498001263, "answer_id": 44664526, "question_id": 44662336, "link": "https://stackoverflow.com/questions/44662336/perl-daemon-doesnt-go-through-entire-loop/44664526#44664526", "title": "Perl daemon doesn&#39;t go through entire loop", "body": "<p>Taking what you provided, here's some pseudocode I've devised for you that you can use as somewhat of a template. This is by NO MEANS exhaustive. I think the advice @Borodin gave is sound and prudent.</p>\n\n<p>This is all untested and much of the new stuff is pseudocode. However, hopefully, there are some breadcrumbs from which to learn. Also, as I stated above, your use of <code>Proc::Daemon::Init</code> is suspect. At the very least, it is so minimally used that it is gobbling up whatever error(s) is/are occurring and you've no idea what's wrong with the script. </p>\n\n<pre><code>#!/usr/bin/perl -wl\n\nuse strict;\nuse File::Basename;\nuse File::Spec;\nuse Proc::Daemon;\nuse Data::Dumper;\n\n# turn off buffering\n$|++;\n\n#FUNCTIONS DEFINTIONS\nsub FindAuthor\n{\n#try to find book by this author in the catalogue\n}\n\n\nsub FindTitle\n{\n#try to find book with this title in the catalogue\n}\n\n\nsub CheckIfCanBeReturned\n{\n#check if the book is borrowed and by whom\n}\n\nsub tail\n{\n  my $file = shift;\n\n# do work\n}\n\nsub find_by\n{\n  my $file = shift;\n  my $val  = shift;\n  my $by   = shift;\n  my @results;\n  my $xt   = 0;\n\n# sanity check args\n# do work\n\n  if ( $by eq 'author' )\n  {\n    my @results = FindByAuthor(blah);\n  }\n  elsif ( $by eq 'blah' )\n  {\n    @results = blah();\n  }\n  #...etc \n\n  # really should use File::Spec IE\n  my $filename = File::Spec-&gt;catfile('home', 'Ex5', 'Answers', $file);\n\n  # might be a good idea to either append or validate you're not clobbering\n  # an existent file here because this is currently clobbering.\n  open (my $answerFile, '&gt;', $filename) or die \"$!\";\n\n  for ( @results )\n  {\n    print $answerFile $_,\"\\n\";\n  }\n  close $answerFile;\n\n  # have some error checking in place and set $xt to 1 if an error occurs\n  return $xt;\n}\n\n#attempt at daemonization\n# whatever this is is completely broken methinks.\n#Proc::Daemon::Init;\n\nmy $continueWork++;\nmy $r_dir = '/home/user/Requests';\n\n$SIG{TERM} = sub { $continueWork = 0 };\n\n# going with pseudocode\nwhile ( $continueWork )\n{\n  #list all requests currently in the Request folder\n  my @RequestFilesArray = grep(/[^\\.]/, &lt;$r_dir/*&gt;);\n\n  #the requests are formatted in such way,\n  #that the first 2 letters indicate what the client wants to be done\n  #and the rest is taken parameters used in the processing\n\n  for my $request_file ( @RequestFilesArray )\n  {\n    my $result    = 0;\n\n    $request_file = basename($request_file);\n    my $cut       = length($request_file) - 1;\n    my $work_on   = substr $request_file, 0, $cut;\n\n    my $UserRequest = tail($request_file);\n    my $fix       = length($UserRequest) - 1;\n     $UserRequest = substr $UserRequest, 0, $fix;\n\n    my $RequestType = substr $UserRequest, 0, 2;\n    my $RequestedValue = substr $UserRequest, 3;\n\n    if ($RequestType eq \"fa\")\n    {\n      #FIND BY AUTHOR\n      $result = find_by($request_file, $RequestedValue, 'author');\n    }\n    elsif ($RequestType eq \"ft\")\n    {\n      #FIND BY TITLE\n      $result = find_by($request_file, $RequestedValue, 'title');\n    }\n    elsif ($RequestType eq \"br\")\n    {\n      #BOOK RETURN\n      $result = CheckIfCanBeReturned ($RequestedValue, $request_file) or handle();\n    }\n    elsif ($RequestType eq \"bb\")\n    {\n      #BOOK BORROW\n      $result = CheckIfCanBeBorrowed ($RequestedValue, $request_file) or handle();\n    }\n    else\n    {\n      print STDERR \"something went wrong with this request\";\n    }\n  }\n\n  #deleting processed requests\n  if ( $result == 1 )\n  {\n      unlink $work_on;\n  }\n\n  sleep(2);\n}\n</code></pre>\n\n<p>Take special note to my \"mild\" attempt and DRYing up your code by using the <code>find_by</code> subroutine. You had a LOT of duplicate code in your original script, which I moved into a single sub routine. DRY eq 'Don't Repeat Yourself'.</p>\n"}], "owner": {"reputation": 11, "user_id": 7429721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed3b24d48c43da9685faeac342995004?s=128&d=identicon&r=PG&f=1", "display_name": "Olekman", "link": "https://stackoverflow.com/users/7429721/olekman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1498064464, "creation_date": 1497990142, "question_id": 44662336, "link": "https://stackoverflow.com/questions/44662336/perl-daemon-doesnt-go-through-entire-loop", "title": "Perl daemon doesn&#39;t go through entire loop", "body": "<p>I'm trying to make a program that works like a very simple server in Perl.</p>\n\n<p>The program itself is meant to work as a library catalogue, giving the user options of searching for books by title or author, and borrowing or returning books. The list of books is provided in a separate file.</p>\n\n<p>Basically, it's supposed to take requests (files) from \"Requests\" folder, process them, and then give answers (also files) in \"Answers\" folder. After the process is over, it deletes the old requests and repeats the process (answers are deleted by the client after they are accepted).</p>\n\n<p>It's meant to run as a daemon, but for some reason only the loop responsible for deleting the request files works in the background - the requests are not processed into answers, but are just deleted. Whenever a new request appears, it's almost immediately deleted.</p>\n\n<p>I'm learning to use daemons and tried to emulate what is in <a href=\"https://stackoverflow.com/questions/766397/how-can-i-run-a-perl-script-as-a-system-daemon-in-linux\">this thread</a>. </p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Proc::Daemon;\n\n#FUNCTIONS DEFINTIONS\nsub FindAuthor \n{\n#try to find book by this author in the catalogue\n}\n\n\nsub FindTitle\n{\n#try to find book with this title in the catalogue\n}\n\n\nsub CheckIfCanBeReturned\n{\n#check if the book is borrowed and by whom\n}\n\n#attempt at daemonization\nProc::Daemon::Init;\n\nmy $continueWork = 1;\n$SIG{TERM} = sub { $continueWork = 0 };\n\nwhile ( $continueWork )\n{\n\n    sleep(2);\n    my @RequestFilesArray = `ls /home/Ex5/Requests`;\n\n    #list all requests currently in the Request folder\n    for ( my $b = 0; $b &lt; @RequestFilesArray; $b++)\n    {\n        my $cut = `printf \"$RequestFilesArray[$b]\" | wc -m`;\n        $cut = $cut - 1;\n        $RequestFilesArray[$b] = substr $RequestFilesArray[$b], 0, $cut;    \n    }\n\n\n    #the requests are formatted in such way,\n    #that the first 2 letters indicate what the client wants to be done\n    #and the rest is taken parameters used in the processing\n\n    for (my $i = 0; $i &lt; @RequestFilesArray; $i++)\n    {\n        my $UserRequest = `tail -1 Requests/$RequestFilesArray[$i]`;\n            my $fix = `printf \"$UserRequest\" | wc -m`;\n            $fix = $fix - 1;\n            $UserRequest = substr $UserRequest, 0, $fix;\n\n        my $RequestType = substr $UserRequest, 0, 2;\n        my $RequestedValue = substr $UserRequest, 3;\n\n        my $RequestNumber = $i;\n\n        if ($RequestType eq \"fa\")\n        {\n            #FIND BY AUTHOR\n            my @results = FindAuthor ($RequestedValue);\n\n            my $filename = \"/home/Ex5/Answers/\" . $RequestFilesArray[$RequestNumber];\n\n            open (my $answerFile, '&gt;', $filename) or die \"$!\";\n\n            for (my $a = 0; $a &lt; @results; $a++)\n            {\n                print $answerFile $results[$a],\"\\n\";\n            }\n            close $answerFile;\n\n        }\n        elsif ($RequestType eq \"ft\")\n        {\n            #FIND BY TITLE\n            my @results = FindTitle ($RequestedValue);\n\n            my $filename = \"/home/Ex5/Answers/\" . $RequestFilesArray[$RequestNumber];\n\n            open ( my $answerFile, '&gt;', $filename) or die \"$!\";\n\n            for (my $a = 0; $a &lt; @results; $a++)\n            {\n                print $answerFile $results[$a],\"\\n\";\n            }\n            close $answerFile;\n\n        }\n        elsif ($RequestType eq \"br\")\n        {\n            #BOOK RETURN\n            my $result = CheckIfCanBeReturned ($RequestedValue, $RequestFilesArray[$RequestNumber]);\n\n            my $filename = \"/home/Ex5/Answers/\" . $RequestFilesArray[$RequestNumber];\n\n            open ( my $answerFile, '&gt;', $filename) or die \"$!\";\n            print $answerFile $result;\n            close $answerFile;\n        }\n        elsif ($RequestType eq \"bb\")\n        {\n            #BOOK BORROW\n            my $result = CheckIfCanBeBorrowed ($RequestedValue, $RequestFilesArray[$RequestNumber]);\n\n            my $filename = \"/home/Ex5/Answers/\" . $RequestFilesArray[$RequestNumber];\n\n            open ( my $answerFile, '&gt;', $filename) or die \"$!\";\n            print $answerFile $result;\n            close $answerFile;\n        }\n        else\n        {\n            print \"something went wrong with this request\";\n        }\n    }\n\n    #deleting processed requests\n    for ( my $e = 0; $e &lt; @RequestFilesArray; $e++)\n    {   \n        my $removeReq = \"/home/Ex5/Requests/\" . $RequestFilesArray[$e];\n        unlink $removeReq;\n    }\n\n#$continueWork =0;\n}\n</code></pre>\n"}, {"tags": ["postgresql", "perl", "amazon-web-services"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1497988898, "post_id": 44661855, "comment_id": 76309630, "body": "You probably need the header files of the libpg library to compile the XS components."}, {"owner": {"reputation": 137, "user_id": 2533201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629d53f972d26843dd019f479b7041a5?s=128&d=identicon&r=PG", "display_name": "Jorge_Freitas", "link": "https://stackoverflow.com/users/2533201/jorge-freitas"}, "edited": false, "score": 0, "creation_date": 1497989734, "post_id": 44661855, "comment_id": 76310067, "body": "@Sinar-&#220;n&#252;r  being completely honest, I just ran the command line to install Perl. I had no idea DynaLoader was already there, or I wouldn&#39;t have tried to install it again."}, {"owner": {"reputation": 137, "user_id": 2533201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629d53f972d26843dd019f479b7041a5?s=128&d=identicon&r=PG", "display_name": "Jorge_Freitas", "link": "https://stackoverflow.com/users/2533201/jorge-freitas"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498155933, "post_id": 44661855, "comment_id": 76396484, "body": "My God, how can I have missed that?? My bad @Sinan&#220;n&#252;r . BTW, I confirmed that DynaLoader was already installed, and that was the cause of the error I was getting - there was nothing else to be installed/updated."}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 2533201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629d53f972d26843dd019f479b7041a5?s=128&d=identicon&r=PG", "display_name": "Jorge_Freitas", "link": "https://stackoverflow.com/users/2533201/jorge-freitas"}, "edited": false, "score": 1, "creation_date": 1498155682, "post_id": 44662569, "comment_id": 76396365, "body": "Your solution wasn&#39;t perfect but pointed me on the right path. First, I&#39;m not sure if the variables POSTGRES_INCLUDE and POSTGRES_LIB were not set properly when the script was first imported, but when I did it again with your parameters it worked just fine. However, the error still occurred, this time because of some Postgres dependencies that were missing (notably libpq-fe.h ) and because GCC was not installed. After importing the missing .h and installing GCC, the import was succesfull."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 0, "last_activity_date": 1497991454, "last_edit_date": 1497991454, "creation_date": 1497991087, "answer_id": 44662569, "question_id": 44661855, "link": "https://stackoverflow.com/questions/44661855/making-perl-cpans-pg-module-work-on-amazons-aws-server/44662569#44662569", "title": "Making Perl CPAN&#39;s Pg module work on Amazon&#39;s AWS server", "body": "<p>I have never used <a href=\"https://metacpan.org/pod/Pg\" rel=\"nofollow noreferrer\">Pg</a>, so let's try on my ArchLinux install.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ curl -O https://cpan.metacpan.org/authors/id/M/ME/MERGL/pgsql_perl5-1.9.0.tar.gz\n$ tar xvf pgsql_perl5-1.9.0.tar.gz\n$ cd pgsql_perl5-1.9.0\n$ perl Makefile.PL\n$ perl Makefile.PL \nConfiguring Pg\nRemember to actually read the README file !\nplease set environment variables POSTGRES_INCLUDE and POSTGRES_LIB \n</code></pre>\n\n<p>So, if you installed <code>Pg</code>, you had to have set those variables. Simplest would be to install your chosen distro's package for those libraries. On ArchLinux, the following command installs them for me:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ sudo pacman -S postgresql-libs\n</code></pre>\n\n<p>Then:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ POSTGRES_INCLUDE=/usr/include POSTGRES_LIB=/usr/lib perl Makefile.PL \nConfiguring Pg\nRemember to actually read the README file !\nOS: linux\nGenerating a Unix-style Makefile\nWriting Makefile for Pg\nWriting MYMETA.yml and MYMETA.json\n</code></pre>\n\n<p>The build works but I can't test because I do not have a Postgresql instance to connect to. However, this works:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -I blib/lib -I blib/arch -e 'use Pg; print \"ok\\n\"'\nok\n</code></pre>\n\n<p>Note the <code>-I</code> switches above would not have been necessary had I chosen to install this module that was last updated 17 years ago.</p>\n"}], "owner": {"reputation": 137, "user_id": 2533201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629d53f972d26843dd019f479b7041a5?s=128&d=identicon&r=PG", "display_name": "Jorge_Freitas", "link": "https://stackoverflow.com/users/2533201/jorge-freitas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 44662569, "answer_count": 1, "score": -2, "last_activity_date": 1497991454, "creation_date": 1497988177, "last_edit_date": 1497991414, "question_id": 44661855, "link": "https://stackoverflow.com/questions/44661855/making-perl-cpans-pg-module-work-on-amazons-aws-server", "title": "Making Perl CPAN&#39;s Pg module work on Amazon&#39;s AWS server", "body": "<p>I\u00b4m trying to port a Perl legacy software to Amazon's AWS servers, but I keep running on problems when trying to make all the components I need work.</p>\n\n<p>Currently, I have Perl up and running (version 5.16.3), and PostgreSQL (9.2.18) as my database with no problems. They both run fine separately, but I simply can't make them work together.</p>\n\n<p>This legacy software uses <a href=\"https://metacpan.org/pod/Pg\" rel=\"nofollow noreferrer\">Pg</a> library (I'm not referring to <a href=\"https://metacpan.org/pod/DBD::Pg\" rel=\"nofollow noreferrer\">DBD::Pg</a>, just <a href=\"https://metacpan.org/pod/Pg\" rel=\"nofollow noreferrer\">Pg</a>). However, I'm not able to run a script that references that specific library. I get the following error:</p>\n\n<blockquote>\n  <p><code>Can't locate loadable object for module Pg in @INC (@INC contains:  /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 /var/www/cgi-bin) at /var/www/cgi-bin/teste.pl line 8.</code></p>\n</blockquote>\n\n<p>After some research, I understand that I'm somehow missing a dependency that <code>Pg</code> requires to work properly. I opened Pg.pm script to check which what it uses, and tried to import those through CPAN as well.</p>\n\n<p>I managed to import <code>Exporter</code> and <code>Carp</code> successfully through <code>cpan</code> but <code>DynaLoader</code> simply won't install - apparently it needs to be compiled??</p>\n\n<p>What do I need to do to properly install <code>Pg</code>?</p>\n"}, {"tags": ["perl", "zip", "7zip", "strawberry-perl", "activestate"], "comments": [{"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "edited": false, "score": 0, "creation_date": 1498050529, "post_id": 44660693, "comment_id": 76338203, "body": "Okay I would also like to add, I have now tried writing the commands to a batch file to execute, with no luck... same thing."}], "answers": [{"comments": [{"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "edited": false, "score": 0, "creation_date": 1498047985, "post_id": 44668373, "comment_id": 76336126, "body": "Just to clarify, it&#39;s not the extraction of the PDFs, it&#39;s either extraction. If you run the XMLs first XMLs get extracted and not the PDFs and vice versa. (Because the 7zip has been processed already...)"}, {"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "edited": false, "score": 0, "creation_date": 1498050022, "post_id": 44668373, "comment_id": 76337744, "body": "This is the only error I have to go off of....  <code>No files to process  Files: 0 Size:       0 Compressed: 3114222</code>"}, {"owner": {"reputation": 401, "user_id": 3999721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xtS1c.jpg?s=128&g=1", "display_name": "Karthik Kumar", "link": "https://stackoverflow.com/users/3999721/karthik-kumar"}, "reply_to_user": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "edited": false, "score": 0, "creation_date": 1498127284, "post_id": 44668373, "comment_id": 76376552, "body": "I feel the 7z process is not returning back to perl code which may be making it hung. if possible you can attach a sample 7z file, I can run the code across &amp; check it."}, {"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "edited": false, "score": 0, "creation_date": 1498133640, "post_id": 44668373, "comment_id": 76380927, "body": "I really appreciate it, but I solved it. It was actually working perfectly, the XMLs weren&#39;t in the correct directory. I should have checked that first -_-."}], "tags": [], "owner": {"reputation": 401, "user_id": 3999721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xtS1c.jpg?s=128&g=1", "display_name": "Karthik Kumar", "link": "https://stackoverflow.com/users/3999721/karthik-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1498026647, "creation_date": 1498026647, "answer_id": 44668373, "question_id": 44660693, "link": "https://stackoverflow.com/questions/44660693/7zip-execute-2-extractions-from-2-different-subfolders-only-first-executes/44668373#44668373", "title": "7Zip execute 2 extractions from 2 different subfolders (only first executes)", "body": "<p>Check exit status <code>$?</code>, if you feel it's hung.\nAlso you can try first extracting xmls then pdfs to really make sure, if extracting pdfs command is making issue.</p>\n\n<p>share console output, Which can show much details.</p>\n"}, {"tags": [], "owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "is_accepted": true, "score": 0, "last_activity_date": 1498052274, "creation_date": 1498052274, "answer_id": 44677777, "question_id": 44660693, "link": "https://stackoverflow.com/questions/44660693/7zip-execute-2-extractions-from-2-different-subfolders-only-first-executes/44677777#44677777", "title": "7Zip execute 2 extractions from 2 different subfolders (only first executes)", "body": "<p>User error... Works just how it should.\nI had a condition: </p>\n\n<pre><code>unless ($number_of_pdfs == $number_of_xmls)\n    {\n      print STDOUT \"The number of PDFs and XMLs did not match!\\n\\n\";\n      print STDOUT \"PDFs: $number_of_pdfs \\nXMLs: $number_of_xmls\\nFile: $sevenzip_file \\nExtraction Directory: $output_directory\\n\\n\";\n\n      die;\n    }\n</code></pre>\n\n<p>and in the first file I was extracting, the XML was not in the correct path... Someone didn't follow pattern. Very embarrassing thanks for the response. </p>\n"}], "owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 44677777, "answer_count": 2, "score": 1, "last_activity_date": 1498052274, "creation_date": 1497983846, "question_id": 44660693, "link": "https://stackoverflow.com/questions/44660693/7zip-execute-2-extractions-from-2-different-subfolders-only-first-executes", "title": "7Zip execute 2 extractions from 2 different subfolders (only first executes)", "body": "<p>Okay I'm at a total loss.</p>\n\n<p>I am trying to extract all the XMLs and PDFs from a 7zip file.\nThere is more stuff inside said file, so I just want to extract from the PDF folder and the XML folder. Leaving the file structure behind and not searching in any other folders.</p>\n\n<p>I am using the 7Zip command line to do this.</p>\n\n<p>I have two sub routines that I execute which are almost identical.</p>\n\n<pre><code>sub Extract_pdfs_from_this\n{\n  my ($file, $destination) = @_;\n\n  my $sevenzip_executable = '\\\\\\\\server\\7-Zip\\7z.exe';\n  my $extract_pdfs = \"$sevenzip_executable e -y  -o$destination $file output\\\\JETPDF\\\\DISB\\\\*.pdf \";\n\n  print STDOUT \"\\n\\nExtracting PDFs From $file \\n&gt;&gt;$extract_pdfs \\n\";\n  eval{system($extract_pdfs)};\n  print STDOUT \"Finished Extracting PDFs \\n\";\n\n  return;\n}\n</code></pre>\n\n<p>..</p>\n\n<pre><code>sub Extract_xmls_from_this\n{\n  my ($file, $destination) = @_;\n\n  my $sevenzip_executable = '\\\\\\\\server\\7-Zip\\7z.exe';\n  my $extract_xmls = \"$sevenzip_executable e -y  -o$destination $file staging\\\\DISB\\\\OnBase\\\\*.xml \";\n\n  print STDOUT \"\\n\\nExtracting XMLs From $file \\n&gt;&gt;$extract_xmls \\n\";\n  eval{system($extract_xmls)};\n  print STDOUT \"Finished Extracting XMLs \\n\";\n\n  return;\n}\n</code></pre>\n\n<p>and I use it like so...</p>\n\n<pre><code>    my $in_extraction_directory = dirname(__FILE__);\n    my $input_subdirectory = \"$directory\\\\$subdirectory\";\n    my @in_seven_zip_files = Get_all_sevenzips_in($input_subdirectory);\n\n    foreach my $sevenzip_file (@in_seven_zip_files)\n    {\n          $sevenzip_file = \"$input_subdirectory\\\\$sevenzip_file\";\n      Extract_pdfs_from_this($sevenzip_file, $in_extraction_directory);\n      Extract_xmls_from_this($sevenzip_file, $in_extraction_directory);\n    }\n</code></pre>\n\n<p>When executed the PDFs get extracted but not the XMLs.\nI get an error, there are no files to process.</p>\n\n<p>I feel like 7zip is hung up on the file from the previous call. Is there a way to close it or release the file?</p>\n\n<p>Any help appreciated, much time wasted on this. </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["bash", "perl", "if-statement", "conditional", "system"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1497980045, "post_id": 44659577, "comment_id": 76304348, "body": "<code>system</code> returns the return code, not the output. Use <code>qx&#47;&#47;</code> instead."}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 2, "creation_date": 1497980176, "post_id": 44659577, "comment_id": 76304430, "body": "why are you using grep in perl?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1497980861, "post_id": 44659577, "comment_id": 76304858, "body": "Get package list: <code>my @libcUnconfigured = grep { &#47;libc-bin|iF&#47; } qx(dpkg -l)</code>.  The <code>qx</code> (&quot;backticks&quot;) returns a list, which <code>grep</code> filters and you get a list (array).  The <code>qx</code> uses <code>&#47;bin&#47;sh</code> or whatever the system supplies for it so you may need to specify the command path"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497983210, "post_id": 44659577, "comment_id": 76306314, "body": "You haven&#39;t asked a question. Why are you rewriting this shell script? It is counterproductive to just wrap <code>system(...)</code> around every line of the original code. Have you debugged the Perl code? Presumably <code>$libcUnconfigured || $libcDevUnconfigured</code> isn&#39;t returning what you expect, so what are those two values? What did you expect them to be? What does the documentation say about calls to <code>system</code>? If <code>system</code> is an acceptable approach then what&#39;s wrong with <code>system(&#39;.&#47;shellscript&#39;)</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1497983321, "post_id": 44659577, "comment_id": 76306389, "body": "@zdim: If you&#39;re going to answer this dreadful question then please post an answer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1497985561, "post_id": 44659577, "comment_id": 76307722, "body": "@Borodin Can&#39;t get to it now ... perhaps in an hour or a few unless somebody covers it by then. (It would be also nice to know from the OP whether that comment may be enough.)  Please by all means answer if you feel like it. sorry for the delay in responding"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1497999045, "post_id": 44659577, "comment_id": 76313933, "body": "This is a bad idea to start with. Shell provides facilities for executing code safely -- if you have a name in a variable, you can refer to <code>&quot;$var&quot;</code> (in quotes), and be certain that it&#39;ll only evaluate to its literal contents -- no escapes, no redirections, no command substitutions or arbitrary code execution. When you start generating and executing shell scripts from other shell languages, you need to go to lengths to pass data out-of-band from code to keep those same security guarantees. Thus, wrapping shell scripts in other languages is inherently fault-prone, unless 100% hardcoded."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1497999220, "post_id": 44659577, "comment_id": 76313987, "body": "...in the example given here that&#39;s true, but if the practice is continued it&#39;s unlikely to <i>remain</i> true for long. Still, though -- if you want to write a Perl script, why don&#39;t you <i>write a perl script</i> rather than a script that embeds a bunch of shell inside of Perl?"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1577330414, "last_edit_date": 1577330414, "creation_date": 1497996887, "answer_id": 44663862, "question_id": 44659577, "link": "https://stackoverflow.com/questions/44659577/translating-bash-to-perl/44663862#44663862", "title": "Translating Bash to Perl", "body": "<p>In order to receive output from an external command use the <a href=\"http://perldoc.perl.org/5.8.9/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\"><code>qx</code> operator</a>, not <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system</a> which returns the exit status of the program as returned by <code>wait</code>.</p>\n\n<p>I suggest to use external programs only for things that you cannot do in Perl or, rarely, when they greatly simplify your work.  For all else use Perl's extensive processing capabilities.</p>\n\n<p>In this case filter the return from <code>dpkg -l</code> by <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow noreferrer\">grep</a></p>\n\n<pre><code>my @libcUnconfigured = grep { /libc-bin|iF/ } qx(dpkg -l);\n\nchomp @libcUnconfigured;\n\nprint \"Do something with $_\\n\" for @libUnconfigured;\n</code></pre>\n\n<p>The <code>qx</code> returns a list of lines of output when used in <a href=\"http://perldoc.perl.org/perldata.html#Context\" rel=\"nofollow noreferrer\">list context</a>, here imposed by <code>grep</code>. The code block in <code>grep</code> is run on an element at a time where each is available in the default <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\"><code>$_</code> variable</a>; the regex match is by default done on <code>$_</code>. The items for which the code evaluates to true pass and are returned as a list, here assigned to an array.</p>\n\n<p>Note that <code>qx</code> uses <code>/bin/sh</code>, generally relegated to another shell on your system. So put the command together carefully. See linked docs and <a href=\"http://perldoc.perl.org/perlvar.html#$?\" rel=\"nofollow noreferrer\"><code>$?</code> in perlvar</a> for error checking.</p>\n\n<p>Each line of output in the returned list comes with its newline, which I remove assuming some non-trivial processing with those filenames. (Wouldn't need to <code>chomp</code> for printing alone of course.)</p>\n\n<p>Alternatively, you can reach for one of a number of modules.  A nice one is <a href=\"http://search.cpan.org/~dagolden/Capture-Tiny-0.44/lib/Capture/Tiny.pm\" rel=\"nofollow noreferrer\">Capture::Tiny</a></p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse Capture::Tiny qw(capture);\n\nmy @cmd = qw(dpkg -l);\n\nmy ($stdout, $stderr) = capture {\n    system (@cmd);\n};\n\nwarn \"Error with @cmd: $stderr\" if $stderr;\n\nsay \"Do something with $_\" for (split /\\n/, $stdout);\n</code></pre>\n\n<p>for its clean syntax, the fact that it hands us the error, and for its ability to run nearly any code</p>\n\n<blockquote>\n  <p>Capture::Tiny provides a simple, portable way to capture almost anything sent to STDOUT or STDERR, regardless of whether it comes from Perl, from XS code or from an external program.</p>\n</blockquote>\n\n<p>Here the command is formed as a list, what allows <code>system</code> to bypass the shell. This is better, unless you <em>need</em> the shell. The return in this case is a (possibly multiline) string which is thus <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> to process lines with package information.</p>\n\n<p>Some others, in increasing capability and complexity of use, are <a href=\"http://search.cpan.org/~rjbs/IPC-Run3-0.048/lib/IPC/Run3.pm\" rel=\"nofollow noreferrer\">IPC::Run3</a> and <a href=\"http://search.cpan.org/~toddr/IPC-Run-0.94/lib/IPC/Run.pm\" rel=\"nofollow noreferrer\">IPC::Run</a></p>\n\n<p>Also see <a href=\"http://perldoc.perl.org/perlfaq8.html#How-can-I-capture-STDERR-from-an-external-command%3f\" rel=\"nofollow noreferrer\">this entry in perlfaq8</a>. Note that <a href=\"http://perldoc.perl.org/IPC/Open3.html\" rel=\"nofollow noreferrer\">IPC::Open3</a> used in some examples is rather low-level.</p>\n"}], "owner": {"reputation": 547, "user_id": 2569803, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/10f2197d1f447f56df05389e07eb1ace?s=128&d=identicon&r=PG", "display_name": "user2569803", "link": "https://stackoverflow.com/users/2569803/user2569803"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 44663862, "answer_count": 1, "score": -1, "last_activity_date": 1577330414, "creation_date": 1497979891, "last_edit_date": 1497982845, "question_id": 44659577, "link": "https://stackoverflow.com/questions/44659577/translating-bash-to-perl", "title": "Translating Bash to Perl", "body": "<p>I am rewriting a bash script in Perl.</p>\n\n<p>The original script checks to see whether a Linux package is in an <em>unconfigured</em> state, and deletes and reinstalls it if so.</p>\n\n<pre><code>#!/bin/bash\nif [[ $(dpkg -l | grep libc-bin | grep iF) || $(dpkg -l | grep libc-dev-bin | grep iU) ]] ; then\n    echo \"do something\"\nfi\n</code></pre>\n\n<p>I started to see if I could use system calls and store them as variables and then just run an <code>if</code> statement of these multiple variables. This did not seem to work.</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy $libcUnconfigured    = system(\"dpkg -l | grep libc-bin | grep iF\");\nmy $libcDevUnconfigured = system(\"dpkg -l | grep libc-dev-bin | grep iF\");\n\nif ( $libcUnconfigured || $libcDevUnconfigured ) {\n    print \"Do something\";\n}\n</code></pre>\n"}, {"tags": ["perl", "class", "namespaces", "autoload"], "answers": [{"comments": [{"owner": {"reputation": 233, "user_id": 8149371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cb7da58594625cf366befdba7d29f29?s=128&d=identicon&r=PG&f=1", "display_name": "user2309843", "link": "https://stackoverflow.com/users/8149371/user2309843"}, "edited": false, "score": 0, "creation_date": 1497972729, "post_id": 44657252, "comment_id": 76299944, "body": "thank you that worked! Can you explain what it does?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1497972823, "post_id": 44657252, "comment_id": 76300008, "body": "If <code>$AUTOLOAD</code> contains <code>Foo::Bar::baz</code>, it returns <code>baz</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497974255, "post_id": 44657252, "comment_id": 76300960, "body": "The invocant and the other arguments you need are in <code>@_</code>. (I don&#39;t know why you&#39;d need the calling &quot;class&quot;, but the calling package is available via <code>caller</code>.)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1497974008, "last_edit_date": 1497974008, "creation_date": 1497972575, "answer_id": 44657252, "question_id": 44657219, "link": "https://stackoverflow.com/questions/44657219/perl-autoload-get-name-of-unknown-method-without-class-name/44657252#44657252", "title": "Perl AUTOLOAD - get name of unknown method without class name", "body": "<pre><code>( my $method_name = our $AUTOLOAD ) =~ s/^.*:://s;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $method_name = our $AUTOLOAD =~ s/^.*:://sr;    # 5.14+\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 233, "user_id": 8149371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cb7da58594625cf366befdba7d29f29?s=128&d=identicon&r=PG&f=1", "display_name": "user2309843", "link": "https://stackoverflow.com/users/8149371/user2309843"}, "edited": false, "score": 0, "creation_date": 1497983880, "post_id": 44657622, "comment_id": 76306723, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/147194/discussion-between-borodin-and-achang27\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1497976536, "last_edit_date": 1497976536, "creation_date": 1497973672, "answer_id": 44657622, "question_id": 44657219, "link": "https://stackoverflow.com/questions/44657219/perl-autoload-get-name-of-unknown-method-without-class-name/44657622#44657622", "title": "Perl AUTOLOAD - get name of unknown method without class name", "body": "\n\n<p>To retain the calling class name as well as the method name, write</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my ($class, $method) = $AUTOLOAD =~ /(.+)::(.+)/;\n</code></pre>\n\n<p>This splits the string in <code>$AUTOLOAD</code> into two parts: the part up to the last occurrence of <code>::</code> and the part afterwards.</p>\n\n<p>Using your own example</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nour $AUTOLOAD = 'ExampleClass::unknownmethodname';\n\nmy ($class, $method) = $AUTOLOAD =~ /(.+)::(.+)/;\n\nsay \"\\$class  = $class\";\nsay \"\\$method = $method\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>$class  = ExampleClass\n$method = unknownmethodname\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>I can't imagine why you would want to split on the <em>first</em> occurrence of <code>::</code>, as it would result in an arbitrary chunk of the class name for the first part, followed by the rest of the class name and the method name for the second part</p>\n\n<p>But you could just use <code>split</code> with a limit</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>my ($part1, $part2) = split /::/, $AUTOLOAD, 2;\n</code></pre>\n\n<p>or using a similar regex to the above</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>my ($part1, $part2) = $AUTOLOAD =~ /([^:]+)::(.+)/;\n</code></pre>\n"}], "owner": {"reputation": 233, "user_id": 8149371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cb7da58594625cf366befdba7d29f29?s=128&d=identicon&r=PG&f=1", "display_name": "user2309843", "link": "https://stackoverflow.com/users/8149371/user2309843"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 44657252, "answer_count": 2, "score": -2, "last_activity_date": 1498144150, "creation_date": 1497972512, "last_edit_date": 1498144150, "question_id": 44657219, "link": "https://stackoverflow.com/questions/44657219/perl-autoload-get-name-of-unknown-method-without-class-name", "title": "Perl AUTOLOAD - get name of unknown method without class name", "body": "<p>I am writing an <code>AUTOLOAD</code> subroutine for a Perl class. I can get the name of the unknown method with <code>$name = $ExampleClass::AUTOLOAD;</code>. However this gets me the full identifier: <code>ExampleClass::unknownmethodname</code>. I just need <code>unknownmethodname</code>. How can I only get that portion of the name? Thanks!</p>\n"}, {"tags": ["perl", "hyperlink", "www-mechanize"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1497966705, "post_id": 44654882, "comment_id": 76295234, "body": "Not with the things in <code>@links</code> I believe. According to the code of that module (<a href=\"https://metacpan.org/source/OALDERS/WWW-Mechanize-1.84/lib/WWW/Mechanize/Link.pm\" rel=\"nofollow noreferrer\">metacpan.org/source/OALDERS/WWW-Mechanize-1.84/lib/WWW/&hellip;</a>) they don&#39;t know where they are from. I think you&#39;ll have to grab the HTML of the whole page out of the mechanize and use a different parser."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497966869, "post_id": 44654882, "comment_id": 76295362, "body": "<a href=\"https://metacpan.org/source/OALDERS/WWW-Mechanize-1.84/lib/WWW/Mechanize.pm#L1509\" rel=\"nofollow noreferrer\">metacpan.org/source/OALDERS/WWW-Mechanize-1.84/lib/WWW/&hellip;</a> is where the TokeParser stuff gets turned into WWW::Mechanize::Link object. I don&#39;t see how you would get around that. I&#39;d suggest using a different parser with <code>$mech-&gt;content</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497969431, "post_id": 44654882, "comment_id": 76297478, "body": "Please supply a sample HTML page for testing."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1497972226, "last_edit_date": 1497972226, "creation_date": 1497971733, "answer_id": 44656960, "question_id": 44654882, "link": "https://stackoverflow.com/questions/44654882/get-html-within-an-a-element-using-wwwmechanize/44656960#44656960", "title": "Get HTML within an &lt;a&gt; element using WWW::Mechanize", "body": "<p>As <a href=\"https://stackoverflow.com/questions/44654882/get-html-code-inside-a-href-using-wwwmechanizelink#comment76295234_44654882\"><strong>simbabque</strong> has said</a> you can't do that with <code>WWW::Mechanize</code></p>\n\n<p>In fact there's very little point in using <code>WWW::Mechanize</code> if you don't want any of its features. If all you're using it for is to fetch a web page, then use <a href=\"https://metacpan.org/pod/LWP::UserAgent\" rel=\"nofollow noreferrer\"><code>LWP::UserAgent</code></a> instead. <code>WWW::Mechanize</code> is just a subclass of <code>LWP::UserAgent</code> with lots of additional stuff that you don't want</p>\n\n<p>Here's an example that uses <a href=\"https://metacpan.org/pod/HTML::TreeBuilder\" rel=\"nofollow noreferrer\"><code>HTML::TreeBuilder</code></a> to construct a parse tree of the HTML and locate the links that you want. I've used <code>HTML::TreeBuilder</code> because it's pretty good at tolerating malformed HTML in a way similar to modern browsers</p>\n\n<p>I've been unable to test it as you haven't provided proper sample data and I'm not inclined to create my own</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse WWW::Mechanize;\nuse HTML::TreeBuilder;\n\nmy $mech = WWW::Mechanize-&gt;new;\n$mech-&gt;get('http://www.example.com/');\n\nmy $tree = HTML::TreeBuilder-&gt;new_from_content($mech-&gt;content);\n\nfor my $link ( @{ $tree-&gt;extract_links('a') } ) {\n\n    my ($href, $elem, $attr, $tag) = @$link;\n\n    # Exclude non-CGI links\n    next unless $link =~ /cgi-bin/;\n\n    # Find all immediate child text nodes and concatenate them\n    # References are non-text children\n    my $text = join ' ', grep { not ref } $elem-&gt;content_list;\n    next unless $text =~ /\\S/;\n\n    # Trim and consolidate spaces\n    $text =~ s/\\A\\s+|\\s+\\z//g;\n    $text =~ s/\\s+/ /g;\n\n    say $text;\n}\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 6346341, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f39862506b69245ba4856dfc01fefda5?s=128&d=identicon&r=PG&f=1", "display_name": "DOB", "link": "https://stackoverflow.com/users/6346341/dob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1497972448, "creation_date": 1497966383, "last_edit_date": 1497972448, "question_id": 44654882, "link": "https://stackoverflow.com/questions/44654882/get-html-within-an-a-element-using-wwwmechanize", "title": "Get HTML within an &lt;a&gt; element using WWW::Mechanize", "body": "<p>I'm extracting special links within an HTML page by using <a href=\"https://metacpan.org/pod/WWW::Mechanize\" rel=\"nofollow noreferrer\"><code>WWW::Mechanize</code></a>.</p>\n\n<pre><code>my $mech = WWW::Mechanize-&gt;new();\n\n$mech-&gt;get( $uri );\n\nmy @links = $mech-&gt;find_all_links(url_regex =&gt; qr/cgi-bin/);\n\nfor my $link ( @links ) {\n    # try to get everything between &lt;a href=\"[...]\"&gt;HERE&lt;/a&gt;\n}\n</code></pre>\n\n<p>The links look like this</p>\n\n<pre><code>&lt;a href=\"[...]\"&gt;&lt;div&gt;&lt;div&gt;&lt;span&gt;foo bar&lt;/span&gt; I WANT THIS TEXT&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;\n</code></pre>\n\n<p>By using <code>$link-&gt;text</code> I get <code>foo bar I WANT THIS TEXT</code> without knowing which text was inside the <code>&lt;span&gt;</code> element.</p>\n\n<p>Is there any way to get the raw HTML code instead of the stripped text?</p>\n\n<p>In other words I need to find a way to only get <code>I WANT THIS TEXT</code> without knowing the exact text within the <code>&lt;span&gt;</code> tag.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498024854, "post_id": 44653081, "comment_id": 76320642, "body": "Be more specific, what do you want to filter? The order of elements from <code>$word</code> before is not the same with the order of the expected output."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498025146, "post_id": 44653081, "comment_id": 76320796, "body": "Does it has something to do with the <code>tv*5</code> elements which needs to remain and the other ones to be filtered?"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498025792, "post_id": 44653081, "comment_id": 76321082, "body": "Yes here tv5 (i.e the digit 5 is bigger compared to other tv).So other rows remain to be same where ever tv range starts at that range it should compare with other tv and print the greatest one.Like wise after few more rows we will find tv11..tv15.At point it should print tv15.For your knowledge the other rows should not be affected while doing for tv* @JohnDoe"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498025842, "post_id": 44653081, "comment_id": 76321107, "body": "$word prints any characters but we should consider only with tv* and should bring like expected output .@JohnDoe"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498026024, "post_id": 44653081, "comment_id": 76321184, "body": "For your information in my expected output i had shown how the tv should be displayed.The main part is to work with tv* @JohnDoe"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498026177, "post_id": 44653081, "comment_id": 76321247, "body": "FYI, please provide this kind of informations when you are posting the question, otherwise this might get you some downvotes :)"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498026239, "post_id": 44653081, "comment_id": 76321271, "body": "The <code>tv*</code> s are always ordered ascending?"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498026303, "post_id": 44653081, "comment_id": 76321299, "body": "Those values may shuffle it wont be in ascending order always @JohnDoe"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 0, "creation_date": 1498031802, "post_id": 44668739, "comment_id": 76324596, "body": "i face error when i using with filehandle .I had posted same altered code with the question .@John Doe"}], "tags": [], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "is_accepted": true, "score": 0, "last_activity_date": 1498030092, "last_edit_date": 1498030092, "creation_date": 1498027906, "answer_id": 44668739, "question_id": 44653081, "link": "https://stackoverflow.com/questions/44653081/how-to-change-the-regular-expression-for-word-using-perl/44668739#44668739", "title": "How to change the regular expression for $word using Perl?", "body": "<p>Maybe not the most efficient or correct way to do it, but it ain't stupid if it works, right? (not really).</p>\n\n<pre><code>use strict;\nuse warnings;\n\n# read the $word, you will ignore this part since you already have it\nmy $word = \"\";\nwhile( &lt;DATA&gt;)\n{\n    $word .= $_;\n}\n\n# split each line from $word and store the lines in an array\nmy @lines = split /\\n/, $word;\n\n# the initial value is 0\nmy $max_value = 0;\n\n# iterate over the lines\nfor (my $i = 0; $i &lt; scalar (@lines); $i++)\n{\n    # if the current line matches the pattern tv1234*\n    if ( $lines[$i] =~ /tv(\\d*)/)\n    {\n        # $max_value will store the 1234*\n        $max_value = int($1);\n        # get the index of the next line\n        my $j = $i+1;\n\n        # if the next element matches the pattern tv1234*\n        if ( $lines[$j] =~ /tv(\\d*)/)\n        {\n            # check if the value if the value from the next line is \n            # lower than the max value\n            if ( int($1) &lt; $max_value)\n            {\n                # if it is remove the next line\n                splice(@lines, $j, 1);\n            }\n            else\n            {\n                # max value is the value of the next line\n                $max_value = int ($1);\n                # otherwise remove the current one\n                splice ( @lines, $i, 1);\n                # since we delete the current index, decrement it to don't skip\n                $i--;\n            }\n        }\n        # we finished the block of tv*s so we reset the max value\n        else\n        {\n            $max_value = 0;\n        }\n    }\n}\n\n# recompute the initial $word with the filtered lines\nmy $word = join (\"\\n\", @lines);\nprint $word;\n\n__DATA__\nDAC_Datapath\nJESD_RX\nOverall_DV\nRNM_model\ntv1\ntv2\ntv3\ntv4\ntv5\n1\n2\n3\npath\nRX\nOverall_DV\nM_model\ntv11\ntv12\ntv13\ntv14\ntv15\n1\n2\n3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498036152, "post_id": 44670249, "comment_id": 76327559, "body": "<code>open my $word1,&#39;&lt;&#39;,$word or die &quot;error&quot;;</code> look from where you are reading -_-"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498043857, "post_id": 44670249, "comment_id": 76333076, "body": "actually your flow of code will work properly but the thing is i had used regular expression in my $word which i had showed up in my question.Now the same $word should read inside the while loop.Now passing $word directly into while loop it fails to read the $word variable contents .I need some help in that part .How can i pass regular expression result variable into while loop inside yuor same code .@JohnDoe"}], "tags": [], "owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "is_accepted": false, "score": 0, "last_activity_date": 1498036615, "last_edit_date": 1498036615, "creation_date": 1498032337, "answer_id": 44670249, "question_id": 44653081, "link": "https://stackoverflow.com/questions/44653081/how-to-change-the-regular-expression-for-word-using-perl/44670249#44670249", "title": "How to change the regular expression for $word using Perl?", "body": "<p>Here is my reference link which i had revamped the code .\n<a href=\"https://stackoverflow.com/questions/44653081/how-to-change-the-regular-expression-for-word-using-perl\">code copy and utilization</a></p>\n\n<p>My code:</p>\n\n<pre><code>if(-f $outfile)\n\n{\n\nmy $word = \"\";\n$word=~s/(\"\\S+|\\S+|\")\\s*/$1/g;\nopen my $word1,'&lt;',$word or die \"error\";\nwhile( &lt;$word1&gt;)\n{\n    $word .= $_;\n}\nclose $word1;\n\n# split each line from $word and store the lines in an array\nmy @lines = split /\\n/, $word;\n\n# the initial value is 0\nmy $max_value = 0;\n\n# iterate over the lines\nfor (my $i = 0; $i &lt; scalar (@lines); $i++)\n{\n    # if the current line matches the pattern tv1234*\n    if ( $lines[$i] =~ /tv(\\d*)/)\n    {\n        # $max_value will store the 1234*\n        $max_value = int($1);\n        # get the index of the next line\n        my $j = $i+1;\n\n        # if the next element matches the pattern tv1234*\n        if ( $lines[$j] =~ /tv(\\d*)/)\n        {\n            # check if the value if the value from the next line is \n            # lower than the max value\n            if ( int($1) &lt; $max_value)\n            {\n                # if it is remove the next line\n                splice(@lines, $j, 1);\n            }\n            else\n            {\n                # max value is the value of the next line\n                $max_value = int ($1);\n                # otherwise remove the current one\n                splice ( @lines, $i, 1);\n                # since we delete the current index, decrement it to don't skip\n                $i--;\n            }\n        }\n        # we finished the block of tv*s so we reset the max value\n        else\n        {\n            $max_value = 0;\n        }\n    }\n}\n\n# recompute the initial $word with the filtered lines\nmy $word = join (\"\\n\", @lines);\nprint $word;\n</code></pre>\n\n<p>}           </p>\n\n<p>Error:</p>\n\n<p>error at ./generate_dcms_html.pl line 4, </p>\n"}, {"tags": [], "owner": {"reputation": 401, "user_id": 3999721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xtS1c.jpg?s=128&g=1", "display_name": "Karthik Kumar", "link": "https://stackoverflow.com/users/3999721/karthik-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1498033444, "creation_date": 1498033444, "answer_id": 44670620, "question_id": 44653081, "link": "https://stackoverflow.com/questions/44653081/how-to-change-the-regular-expression-for-word-using-perl/44670620#44670620", "title": "How to change the regular expression for $word using Perl?", "body": "<p>Here is your solution code.\nJust a suggestion, please try to elaborate question, so that person can easily understand.</p>\n\n<p>Code:</p>\n\n<pre><code>use strict;\n\nmy @in = qw/DAC_Datapath JESD_RX Overall_DV RNM_model tv1 tv2 tv3 tv4 tv5 1 2 3 path RX Overall_DV M_model tv11 tv12 tv13 tv14 tv15 1 2 3/;\n\nprint \"Input is :\\n\" . join(\"\\n\", @in) . \"\\n\\n\" . '-'x40 . \"\\n\\n\";\n\nmy @out;\nmy @tv;\nmy $biggerTV;\n\nforeach my $data (@in) {\n    if($data =~ /^tv/i){\n        push(@tv, $data);       \n    }\n    else{\n        if(@tv){\n            # find bigger tv now\n            foreach my $tv (@tv){\n                my $tvNum = $tv; $tvNum =~ s/tv//i;\n                my $biggerTVNum = $biggerTV; $biggerTVNum =~ s/tv//i;\n                $biggerTV=$tv if($tvNum &gt; $biggerTVNum);\n                # print \"$biggerTV\\n\";\n            }\n            push(@out,$biggerTV);\n            @tv = (); # empty TV array\n            $biggerTV = \"\";\n        }\n        push(@out,$data);\n    }\n}\n\nprint \"Output is :\\n\" . join(\"\\n\", @out);\n</code></pre>\n\n<p>Code Execution output:</p>\n\n<p><code>Input is :</code></p>\n\n<pre><code>DAC_Datapath\nJESD_RX\nOverall_DV\nRNM_model\ntv1\ntv2\ntv3\ntv4\ntv5\n1\n2\n3\npath\nRX\nOverall_DV\nM_model\ntv11\ntv12\ntv13\ntv14\ntv15\n1\n2\n3\n</code></pre>\n\n<p><code>Output is :</code></p>\n\n<pre><code>DAC_Datapath\nJESD_RX\nOverall_DV\nRNM_model\ntv5\n1\n2\n3\npath\nRX\nOverall_DV\nM_model\ntv15\n1\n2\n3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498046933, "post_id": 44672813, "comment_id": 76335311, "body": "The user as you may have ( or not) observed is kinda new to Perl ( can&#39;t even read properly from the file). This is close enough to obusfucated code. So no offence, but without some comments ... your code is not really helpfull."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": -1, "last_activity_date": 1498039006, "creation_date": 1498039006, "answer_id": 44672813, "question_id": 44653081, "link": "https://stackoverflow.com/questions/44653081/how-to-change-the-regular-expression-for-word-using-perl/44672813#44672813", "title": "How to change the regular expression for $word using Perl?", "body": "<p>Try this</p>\n\n<pre><code>use warnings;\nuse strict;\nchomp(my @ar = &lt;DATA&gt;);\nmy $f = 0;\nmy @dumy;\nmy @vr;\nforeach (@ar)\n{\n    (/(^\\d+$|\\D+$)/)?\"@{[push(@vr,$_) and $f=0]}\":push(@dumy,$_) and $f = 1;\n    if(($f == 0) &amp;&amp; @dumy)\n    {\n        push(@vr,(sort{$b cmp $a} @dumy)[0]);\n        ($vr[-1],$vr[-2]) = ($vr[-2],$vr[-1]);\n        @dumy = ();\n    }\n\n}\n\nprint join \"\\n\",@vr,\"\\n\";\n\n\n__DATA__\nDAC_Datapath\nJESD_RX\nOverall_DV\nRNM_model\ntv1\ntv2\ntv3\ntv4\ntv5\n1\n2\n3\npath\nRX\nOverall_DV\nM_model\ntv11\ntv12\ntv13\ntv14\ntv15\n1\n2\n3\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 44668739, "answer_count": 4, "score": 1, "last_activity_date": 1498039006, "creation_date": 1497961647, "last_edit_date": 1498026402, "question_id": 44653081, "link": "https://stackoverflow.com/questions/44653081/how-to-change-the-regular-expression-for-word-using-perl", "title": "How to change the regular expression for $word using Perl?", "body": "<p>In below I had showed you the part of the code where i struck to do  using perl regular expression.</p>\n\n<p>Part of code where i struck with how to do:</p>\n\n<pre><code>if(-f $outfile)\n        {\n        $word=~s/(\"\\S+|\\S+|\")\\s*/$1/g; \n\n                print $fh_out '&lt;a href=\"' .$word.'/'.$word. '.html\"&gt;'.$word.'&lt;/a&gt;';\n        }   \n        else\n        {\n            print \"invalid\";\n        }   \n</code></pre>\n\n<p>Consider only the $word part:</p>\n\n<p>Here $word has the following contents:</p>\n\n<pre><code>DAC_Datapath\nJESD_RX\nOverall_DV\nRNM_model\ntv1\ntv2\ntv3\ntv4\ntv5\n1\n2\n3\npath\nRX\nOverall_DV\nM_model\ntv11\ntv12\ntv13\ntv14\ntv15\n1\n2\n3\n</code></pre>\n\n<p>For your kind information:</p>\n\n<p>here tv5 (i.e the digit 5 is bigger compared to other tv).So other rows remain to be same where ever tv range starts at that range it should compare with other tv and print the greatest one.Like wise after few more rows we will find tv11..tv15.At point it should print tv15.For your knowledge the other rows should not be affected while doing for tv* </p>\n\n<p>I want to bring the <code>$word</code> into the following contents. How can I do it with regular expression?</p>\n\n<p>Expected output from <code>$word</code>:</p>\n\n<pre><code>DAC_Datapath\nJESD_RX\nOverall_DV\nRNM_model\ntv5\n1\n2\n3\npath\nRX\nOverall_DV\nM_model\ntv15\n1\n2\n3\n</code></pre>\n"}, {"tags": ["perl", "rounding", "pdl"], "answers": [{"comments": [{"owner": {"reputation": 8251, "user_id": 2912665, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XrRhd.jpg?s=128&g=1", "display_name": "CinCout", "link": "https://stackoverflow.com/users/2912665/cincout"}, "edited": false, "score": 0, "creation_date": 1497957874, "post_id": 44651714, "comment_id": 76288392, "body": "I am looking to round the values towards zero, not away from it. Also, if my pdl variable is <code>$myPDL</code>, how will I use <code>abs()</code> and <code>&lt;=&gt;</code>? Will the <code>$x</code> become <code>$myPdl</code> instead, with the function being applied to each entry in the PDL automatically?"}, {"owner": {"reputation": 8251, "user_id": 2912665, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XrRhd.jpg?s=128&g=1", "display_name": "CinCout", "link": "https://stackoverflow.com/users/2912665/cincout"}, "edited": false, "score": 0, "creation_date": 1497958163, "post_id": 44651714, "comment_id": 76288600, "body": "In the condition <code>($x &gt;= 0)</code>, <code>$x</code> is an individual variable. How do I make this check for each entry in the PDL and then go for either <code>floor()</code> or <code>ceil()</code>?"}, {"owner": {"reputation": 8251, "user_id": 2912665, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XrRhd.jpg?s=128&g=1", "display_name": "CinCout", "link": "https://stackoverflow.com/users/2912665/cincout"}, "edited": false, "score": 0, "creation_date": 1497958649, "post_id": 44651714, "comment_id": 76288986, "body": "Should the statement be <code>($myPdl &gt;= 0) ? floor($myPdl) : ceil($myPdl);</code> and it will do it for all the entries?"}, {"owner": {"reputation": 8251, "user_id": 2912665, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XrRhd.jpg?s=128&g=1", "display_name": "CinCout", "link": "https://stackoverflow.com/users/2912665/cincout"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1497958959, "post_id": 44651714, "comment_id": 76289224, "body": "@choroba <code>floor()</code> will not round <i>towards</i> zero. Will fail for, say, <code>-12.2</code>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 8251, "user_id": 2912665, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XrRhd.jpg?s=128&g=1", "display_name": "CinCout", "link": "https://stackoverflow.com/users/2912665/cincout"}, "edited": false, "score": 0, "creation_date": 1497959469, "post_id": 44651714, "comment_id": 76289646, "body": "@CinCout: That&#39;s why there&#39;s <code>abs</code>. See my reply."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1497970718, "last_edit_date": 1497970718, "creation_date": 1497957798, "answer_id": 44651714, "question_id": 44651640, "link": "https://stackoverflow.com/questions/44651640/rounding-towards-zero-on-a-pdl/44651714#44651714", "title": "Rounding towards zero on a PDL", "body": "<p><a href=\"https://metacpan.org/pod/PDL::Math\" rel=\"nofollow noreferrer\">PDL::Math</a> has <code>floor</code>, <code>ceil</code>, and <code>rint</code>. All these functions work in place.</p>\n\n<p>Therefore, something like the following should work:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\n\nuse PDL;\n\nmy $pdl = 'PDL'-&gt;new(\n    [  1,  1.3,  1.9,  2,  2.1,  2.7 ],\n    [ -1, -1.3, -1.9, -2, -2.1, -2.7 ]\n);\n\nprint $pdl;\n\nfloor(inplace $pdl-&gt;where($pdl &gt;= 0));\nceil (inplace $pdl-&gt;where($pdl &lt;  0));\n\nprint $pdl;\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[\n [   1  1.3  1.9    2  2.1  2.7]\n [  -1 -1.3 -1.9   -2 -2.1 -2.7]\n]\n\n[\n [ 1  1  1  2  2  2]\n [-1 -1 -1 -2 -2 -2]\n]\n</code></pre>\n\n<p>PS: @choroba's answer seems to run about 20% faster in the following benchmark with non-threaded <code>perl</code> 5.24 on <a href=\"https://www.nu42.com/2017/01/mid-2010-macbookpro-new-battery.html\" rel=\"nofollow noreferrer\">an ancient MacBook Pro</a>:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\n\nuse constant N_ELEMS =&gt; $ARGV[0] || 100_000;\n\nuse Dumbbench;\nuse PDL;\n\nsub one_scan {\n    my $pdl = 100 * grandom(N_ELEMS);\n    $pdl = floor(abs($pdl)) * ($pdl &lt;=&gt; 0);\n    return;\n}\n\nsub two_scans {\n    my $pdl = 100 * grandom(N_ELEMS);\n    floor(inplace $pdl-&gt;where($pdl &gt;= 0));\n    ceil (inplace $pdl-&gt;where($pdl &lt;  0));\n    return;\n}\n\nsub baseline {\n    my $pdl = 100 * grandom(N_ELEMS);\n    return;\n}\n\nmy $bench = Dumbbench-&gt;new;\n\n$bench-&gt;add_instances(\n    Dumbbench::Instance::PerlSub-&gt;new(code =&gt; \\&amp;baseline,  name =&gt; 'Baseline'),\n    Dumbbench::Instance::PerlSub-&gt;new(code =&gt; \\&amp;one_scan,  name =&gt; 'One Scan'),\n    Dumbbench::Instance::PerlSub-&gt;new(code =&gt; \\&amp;two_scans, name =&gt; 'Two Scans'),\n);\n\n$bench-&gt;run;\n$bench-&gt;report;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1497984075, "post_id": 44652124, "comment_id": 76306851, "body": "@KoshVery: Updated, that was related to an older version of the code."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1497984051, "last_edit_date": 1497984051, "creation_date": 1497958954, "answer_id": 44652124, "question_id": 44651640, "link": "https://stackoverflow.com/questions/44651640/rounding-towards-zero-on-a-pdl/44652124#44652124", "title": "Rounding towards zero on a PDL", "body": "<p>The documentation of the <code>rint</code> function in <a href=\"http://p3rl.org/PDL::Math\" rel=\"nofollow noreferrer\">PDL::Math</a> says:</p>\n\n<blockquote>\n  <p>If you want to round half-integers away from zero, try <code>floor(abs($x)+0.5)*($x&lt;=&gt;0)</code>.</p>\n</blockquote>\n\n<p>Just change it slightly to make it work the way you want:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse PDL;\n\nmy $pdl = 'PDL'-&gt;new(\n    [  1,  1.3,  1.9,  2,  2.1,  2.7 ],\n    [ -1, -1.3, -1.9, -2, -2.1, -2.7 ]\n);\n$pdl = floor(abs($pdl)) * ($pdl &lt;=&gt; 0);\nprint $pdl;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[\n [ 1  1  1  2  2  2]\n [-1 -1 -1 -2 -2 -2]\n]\n</code></pre>\n"}], "owner": {"reputation": 8251, "user_id": 2912665, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XrRhd.jpg?s=128&g=1", "display_name": "CinCout", "link": "https://stackoverflow.com/users/2912665/cincout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 44652124, "answer_count": 2, "score": 0, "last_activity_date": 1497984051, "creation_date": 1497957558, "last_edit_date": 1497957858, "question_id": 44651640, "link": "https://stackoverflow.com/questions/44651640/rounding-towards-zero-on-a-pdl", "title": "Rounding towards zero on a PDL", "body": "<p>I have a PDL (type <code>double</code>) of mixed values (both positive and negative). I want to round each entry towards zero.\nSo <code>+1.2</code> becomes <code>+1</code>, <code>+1.7</code> becomes <code>+1</code>, <code>-1.2</code> becomes <code>-1</code>, and <code>-1.7</code> becomes <code>-1</code>, </p>\n\n<p>I thought of using <code>int()</code>, but it doesn't work on PDL types.</p>\n\n<p>I can also use <code>round(abs($x) - 0.5) * ($x &lt;=&gt; 0)</code>, but not sure how to use this logic on a PDL.</p>\n\n<p>Pointers?</p>\n"}, {"tags": ["git", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1497953393, "post_id": 44649791, "comment_id": 76285177, "body": "does <code>-B</code> test work on your binary file normally?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1497954955, "post_id": 44649791, "comment_id": 76286231, "body": "Does <code>-e $file</code> work? I&#39;m thinking that <code>$file</code> might not be the full path to the file."}, {"owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1497955781, "post_id": 44649791, "comment_id": 76286822, "body": "Dave Cross, yeah, looks like it. how can i make it work properly?"}], "answers": [{"comments": [{"owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1497959923, "post_id": 44652278, "comment_id": 76289982, "body": "yeah, I got it. How can I make a check on the result of git cat-file $new:$file?"}], "tags": [], "owner": {"reputation": 23129, "user_id": 733345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UrLrZ.png?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/733345/joe"}, "is_accepted": false, "score": 1, "last_activity_date": 1497975152, "last_edit_date": 1497975152, "creation_date": 1497959429, "answer_id": 44652278, "question_id": 44649791, "link": "https://stackoverflow.com/questions/44649791/git-hook-doesnt-block-binary-files/44652278#44652278", "title": "Git hook doesn&#39;t block binary files", "body": "<p>See <a href=\"https://stackoverflow.com/questions/20226132/is-there-a-git-hook-which-can-prevent-binary-check-ins\">Is there a git hook which can prevent binary check-ins</a> for examples of hooks to prevent binary files being checked in.</p>\n\n<p>You're checking the file size in the new commit:</p>\n\n<pre><code>$size = `git cat-file -s $new:$file`;\n</code></pre>\n\n<p>but then making the binary check using the local filesystem:</p>\n\n<pre><code>if (-B $file)\n</code></pre>\n\n<p>You probably want this to be on the result of <code>git cat-file $new:$file</code> instead, using (<a href=\"https://stackoverflow.com/questions/1236089/how-can-i-read-the-output-from-external-commands-in-real-time-in-perl\">How can I read the output from external commands in real time in Perl?</a>) something like:</p>\n\n<pre><code>open my $fh, '-|', 'git', 'cat-file', \"$new:$file\";\n\nif (-B $fh)\n{\n    exit 1;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1497975448, "creation_date": 1497975448, "answer_id": 44658239, "question_id": 44649791, "link": "https://stackoverflow.com/questions/44649791/git-hook-doesnt-block-binary-files/44658239#44658239", "title": "Git hook doesn&#39;t block binary files", "body": "<p>Not an answer, but an important comment.</p>\n\n<pre><code>`git diff --name-only $old..$new`\n</code></pre>\n\n<p>and</p>\n\n<pre><code>`git cat-file -s $new:$file`\n</code></pre>\n\n<p>suffer from a shell injection bugs. For example, consider what would happen if a file with a space were added to the repository.</p>\n\n<p>Fixed:</p>\n\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nmy $cmd = shell_quote('git', 'diff', '--name-only', \"$old..$new\");\n`$cmd`\n</code></pre>\n\n<p>and</p>\n\n<pre><code>my $cmd = shell_quote('git', 'cat-file', '-s', \"$new:$file\");\n`$cmd`\n</code></pre>\n"}], "owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1497975448, "creation_date": 1497952549, "question_id": 44649791, "link": "https://stackoverflow.com/questions/44649791/git-hook-doesnt-block-binary-files", "title": "Git hook doesn&#39;t block binary files", "body": "<p>I've done a <strong>pre-receive</strong> git hook on the server side. It doesn't allow to push big files and doesn't allow to push binary files.</p>\n\n<p>Here is a part of code, that has problems.</p>\n\n<pre><code>my @new_file_list =  `git diff --name-only $old..$new`;;\nforeach $file (@new_file_list)\n{\n  $size = `git cat-file -s $new:$file`;\n  print \"!!! file $file\";\n  print \"!!! size $size\";\n  chomp($file);\n\n  # Check if file is binary\n  if (-B $file)\n  {\n    print STDERR \"ERROR: $file is binary.\\n\";\n    print STDERR \"Please check with repo owner before committing binary files.\\n\";\n    print STDERR \"To bypass this warning re-run your commit with the '--no-verify' option\\n\";\n    exit 1;\n  }\n\n  # Check if file is too large\n  if ($size &gt; $limit)\n  {\n    my $hsize = hsize($size);\n    my $hlimit = hsize($limit);\n    print STDERR \"ERROR: $file is greater than $hlimit bytes. Size of file is $hsize\\n\";\n    print STDERR \"Please check with repo owner before committing very large files.\\n\";\n    print STDERR \"To bypass this warning re-run your commit with the '--no-verify' option\\n\";\n    exit 1;\n  }\n}\n</code></pre>\n\n<p>Check for size limit works well, but it doesn't block binary files at all. Could you tell, what is wrong in my code. Thanks.</p>\n\n<p>Here is an output</p>\n\n<pre><code>remote: !!! file Chrysanthemum.jpg\nremote: !!! size 879394\nremote: !!! file Koala.jpg\nremote: !!! size 780831\n</code></pre>\n"}, {"tags": ["python", "linux", "perl", "text-extraction"], "comments": [{"owner": {"reputation": 3554, "user_id": 1017247, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/vKHq9.jpg?s=128&g=1", "display_name": "moritzg", "link": "https://stackoverflow.com/users/1017247/moritzg"}, "edited": false, "score": 0, "creation_date": 1497942968, "post_id": 44646259, "comment_id": 76277666, "body": "Why is this tagged as <code>python</code>?"}, {"owner": {"reputation": 69, "user_id": 7531038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a69b1663f76a5551eb44be345cdcc33?s=128&d=identicon&r=PG&f=1", "display_name": "RPS", "link": "https://stackoverflow.com/users/7531038/rps"}, "reply_to_user": {"reputation": 3554, "user_id": 1017247, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/vKHq9.jpg?s=128&g=1", "display_name": "moritzg", "link": "https://stackoverflow.com/users/1017247/moritzg"}, "edited": false, "score": 0, "creation_date": 1497943088, "post_id": 44646259, "comment_id": 76277745, "body": "I would prefer linux command but even perl/python script will do."}, {"owner": {"reputation": 191, "user_id": 7027905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfa838f6e4b787ad23cb7f26494ef7e4?s=128&d=identicon&r=PG&f=1", "display_name": "Pantoofle", "link": "https://stackoverflow.com/users/7027905/pantoofle"}, "edited": false, "score": 0, "creation_date": 1497943565, "post_id": 44646259, "comment_id": 76278093, "body": "If you have motivation, <code>strings some.docx</code> and sort it by hand but it will be long and painful"}, {"owner": {"reputation": 69, "user_id": 7531038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a69b1663f76a5551eb44be345cdcc33?s=128&d=identicon&r=PG&f=1", "display_name": "RPS", "link": "https://stackoverflow.com/users/7531038/rps"}, "edited": false, "score": 0, "creation_date": 1497943697, "post_id": 44646259, "comment_id": 76278175, "body": "Why is sort needed? I want extracted text alone. Even skipping out the images is fine."}, {"owner": {"reputation": 1036, "user_id": 6505499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9632fb64ecb7a04e5f65d92a4063288?s=128&d=identicon&r=PG&f=1", "display_name": "bballdave025", "link": "https://stackoverflow.com/users/6505499/bballdave025"}, "edited": false, "score": 0, "creation_date": 1555430910, "post_id": 44646259, "comment_id": 98105469, "body": "You have a great solution in your question. I&#39;ve been looking for the exact parsing you have to extract the text from docx files (albeit without images.) Bravo."}], "answers": [{"tags": [], "owner": {"reputation": 16938, "user_id": 4637585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2ff170e0cfa0be15efaabd3acef4df34?s=128&d=identicon&r=PG&f=1", "display_name": "Rolf of Saxony", "link": "https://stackoverflow.com/users/4637585/rolf-of-saxony"}, "is_accepted": false, "score": 4, "last_activity_date": 1563833553, "last_edit_date": 1563833553, "creation_date": 1497944445, "answer_id": 44646815, "question_id": 44646259, "link": "https://stackoverflow.com/questions/44646259/extract-text-content-from-docx-and-pptx-that-contains-text-images-linux/44646815#44646815", "title": "Extract text content from docx and pptx that contains text &amp; images - linux", "body": "<p>The SO question <a href=\"https://stackoverflow.com/questions/5671988/how-to-extract-just-plain-text-from-doc-docx-files-unix\">How to extract just plain text from .doc &amp; .docx files?</a> provides other options.<br>\nThe <code>libreoffice</code> answer almost works, probably did in 2012.<br>\nNow (LibreOffice 5.1) try:</p>\n\n<pre><code>libreoffice --convert-to txt text some.docx\n</code></pre>\n\n<p>or</p>\n\n<pre><code>libreoffice --headless --convert-to txt text some.docx\n</code></pre>\n\n<p>Be sure that you do not have <code>libreoffice</code> already open.</p>\n"}], "owner": {"reputation": 69, "user_id": 7531038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a69b1663f76a5551eb44be345cdcc33?s=128&d=identicon&r=PG&f=1", "display_name": "RPS", "link": "https://stackoverflow.com/users/7531038/rps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 769, "favorite_count": 1, "closed_date": 1497947359, "answer_count": 1, "score": 1, "last_activity_date": 1563833553, "creation_date": 1497942873, "last_edit_date": 1497943803, "question_id": 44646259, "link": "https://stackoverflow.com/questions/44646259/extract-text-content-from-docx-and-pptx-that-contains-text-images-linux", "closed_reason": "Not suitable for this site", "title": "Extract text content from docx and pptx that contains text &amp; images - linux", "body": "<p><strong>docx to txt:</strong></p>\n\n<p>I tried the following code for extracting text from docx. It does not work when docx has images.</p>\n\n<pre><code>unzip -p some.docx word/document.xml | sed -e 's/&lt;[^&gt;]\\{1,\\}&gt;//g; s/[^[:print:]]\\{1,\\}//g'\n</code></pre>\n\n<p>For <strong>pptx to txt</strong>, I found a Perl script to extract txt. It does not work when the pptx has images - the same.</p>\n\n<p>I want extracted txt content for enabling search option among documents. So a command/script that will skip the images and convert the docx text content to txt will even help!</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1497974231, "post_id": 44646138, "comment_id": 76300944, "body": "This is not the kind of question that is appropriate for Stackoverflow (lacking a clear specific problem with a clear and specific answer/solution), but it has elicited a couple of very high quality answers that provide a starting point. However, this is not the kind of material one can learn well from these sorts of answers. One would be best served by <a href=\"http://shop.oreilly.com/product/0636920012689.do\" rel=\"nofollow noreferrer\">getting a book</a> and studying the material while asking specific questions about specific problems. See also <a href=\"https://metacpan.org/pod/perlmod\" rel=\"nofollow noreferrer\"><code>perldoc perlmod</code></a> which is installed with Perl."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498031560, "post_id": 44646138, "comment_id": 76324427, "body": "@Sinan&#220;n&#252;r and now they deleted their account. Meh. If SO documentation didn&#39;t suck so much I&#39;d say we move the answers there, but well..."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1497948867, "post_id": 44648309, "comment_id": 76281656, "body": "Damn you, I am almost done... :D"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497948952, "post_id": 44648309, "comment_id": 76281724, "body": "Oops. Sorry about that:-P"}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 1, "creation_date": 1547050349, "post_id": 44648309, "comment_id": 95060970, "body": "You wrote <i><code>use Some::Module (); # turn off exports</code></i>. Why are you using the module developer perspective for the comment instead of <i>turn off imports</i>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1547052101, "post_id": 44648309, "comment_id": 95062065, "body": "@Wolf: Well, I can&#39;t remember what I was thinking when I wrote that eighteen months ago. But I often use the two terms interchangeably."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 6, "last_activity_date": 1497948850, "creation_date": 1497948850, "answer_id": 44648309, "question_id": 44646138, "link": "https://stackoverflow.com/questions/44646138/how-do-perl-modules-work/44648309#44648309", "title": "How do Perl modules &quot;work&quot;?", "body": "<p>(Your question would be a lot easier to read if you used capital letters.)</p>\n\n<blockquote>\n  <p>can modules \"use\" other modules?</p>\n</blockquote>\n\n<p>Yes. You can load a module within another module. If you had looked at almost any CPAN module code, you would have seen examples of this.</p>\n\n<blockquote>\n  <p>must i use export, or can i get away with dropping that stuff?</p>\n</blockquote>\n\n<p>You can stop using Exporter.pm if you want. But if you want to export symbol names from your modules then you either use Exporter.pm or you implement your own export mechanism. Most people choose to go with Export.pm as it's easier. Or you could look at alternatives like Exporter::Lite and Exporter::Simple.</p>\n\n<blockquote>\n  <p>how do i solve circular use (security.pm uses html.pm and html.pm uses security.pm)</p>\n</blockquote>\n\n<p>By repartitioning your libraries to get rid of these circular dependencies. It might mean that you're putting too much into one module. Perhaps make smaller, more specialised, modules. Without seeing more explicit examples, it's hard to be much help here.</p>\n\n<blockquote>\n  <p>if i remove all \"use\" clauses from all of my PM's...then i have to use full sub qualifiers. for example, pm::html::get_user_friends($dbh, $uid) will use security to determine if a friend is a banned user or not (banned is part of security)</p>\n</blockquote>\n\n<p>You're misunderstanding things here.</p>\n\n<p>Calling <code>use</code> does two things. Firstly, it loads the module and secondly, it runs the module's <code>import()</code> subroutine. And it's the <code>import()</code> subroutine that does all of the Exporter.pm magic. And it's the Exporter.pm magic that allows you to call subroutines from other modules using short names rather than fully-qualified names.</p>\n\n<p>So, yes, if you remove <code>use</code> statements from a module, then you will probably lose the ability to use short names for subroutines from other modules. But you're also relying on some other code in your program to actually load the module. So if you remove all <code>use</code> statements that load a particular module, then you won't be able to call the subroutines from that module. Which seems counter-productive.</p>\n\n<p>It's generally a very good idea for all code (whether it's your main calling program or a module) to explicitly load (with <code>use</code>) any modules that it needs. Perl keeps track of modules that have already been loaded, so there is no problem with inefficiency due to modules being loaded multiple times. If you want to load a module and turn off any exporting of symbol names, then you can do that using syntax like:</p>\n\n<pre><code>use Some::Module (); # turn off exports\n</code></pre>\n\n<p>The rest of your question just seems like a rant. I can't find any more questions to answer.</p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 16, "last_activity_date": 1497951112, "last_edit_date": 1497951112, "creation_date": 1497950790, "answer_id": 44649041, "question_id": 44646138, "link": "https://stackoverflow.com/questions/44646138/how-do-perl-modules-work/44649041#44649041", "title": "How do Perl modules &quot;work&quot;?", "body": "<p>Modules in Perl come in several flavors and have several different things that make them a module.</p>\n\n<h2>Definition</h2>\n\n<p>Something qualifies as a <em>module</em> if the following things are true:</p>\n\n<ul>\n<li>the filename ends in <code>.pm</code>,</li>\n<li>there is a <a href=\"http://perldoc.perl.org/functions/package.html\" rel=\"noreferrer\"><code>package</code> declaration</a> in the file,</li>\n<li>the <a href=\"http://perldoc.perl.org/perlmod.html#Packages\" rel=\"noreferrer\">package name matches the filename</a> and path; <code>Data/Dumper.pm</code> contains <code>package Data::Dumper</code>,</li>\n<li>it ends with a <code>1</code> <a href=\"http://returnvalues.useperl.at/\" rel=\"noreferrer\">or another true value</a>.</li>\n</ul>\n\n<h2>Conventions</h2>\n\n<p>Then there are some accepted conventions:</p>\n\n<ul>\n<li>modules should usually only contain one <code>package</code>,</li>\n<li>module names should be <a href=\"https://en.wikipedia.org/wiki/Camel_case\" rel=\"noreferrer\">camel case</a> and should not contain underscores <code>_</code> (example: <code>Data::Dumper</code>, <code>WWW::Mechanize::Firefox</code>)</li>\n<li>modules that are in small letters completely are not modules, they are <a href=\"http://perldoc.perl.org/perlpragma.html\" rel=\"noreferrer\"><em>pragmas</em></a>.</li>\n</ul>\n\n<p>Usually a module either contains a collection of functions (<code>sub</code>s) or it is <a href=\"http://perldoc.perl.org/perlootut.html\" rel=\"noreferrer\">object oriented</a>. Let's look at the collections first.</p>\n\n<h2>Modules as function collections</h2>\n\n<p>A typical module that bundles a bunch of functionality that is related uses a way to <em>export</em> those functions into your code's namespace. A typical example is <a href=\"https://metacpan.org/pod/List::Util\" rel=\"noreferrer\">List::Util</a>. There are several ways to export things. The most common one is <a href=\"https://metacpan.org/pod/Exporter\" rel=\"noreferrer\">Exporter</a>.</p>\n\n<p>When you take a function from a module to put it into your code, that's called <em>importing</em> it. That is useful if you want to use the function a lot of times, as it keeps the name short. When you import it, you can call it directly by its name.</p>\n\n<pre><code>use List::Util 'max';\nprint max(1, 2, 3);\n</code></pre>\n\n<p>When you don't import it, you need to use the fully qualified name.</p>\n\n<pre><code>use List::Util (); # there's an empty list to say you don't want to import anything\nprint List::Util::max(1, 2, 3); # now it's explicit\n</code></pre>\n\n<p>This works because Perl installs a reference to the function behind <code>List::Util::max</code> into your namespace under the name <code>max</code>. If you don't do that, you need to use the full name. It's a bit like a shortcut on your desktop in Windows.</p>\n\n<p>Your module does not have to provide exporting/importing. You can just use it as a collection of stuff and call them by their full names.</p>\n\n<h2>Modules as a collection of packages</h2>\n\n<p>While every <code>.pm</code> file called a <em>module</em>, people often also refer to a whole collection of things that are a <em>distribution</em> as a module. Something like <a href=\"https://metacpan.org/release/DBI\" rel=\"noreferrer\">DBI</a> comes to mind, which contains a lot of <code>.pm</code> files, which are all modules, but still people talk about the <em>DBI module</em> only.</p>\n\n<h2>Object oriented modules</h2>\n\n<p>Not every module needs to contain stand-alone functions. A module (now we're more talking about the one directly above) can also contain a <a href=\"https://en.wikipedia.org/wiki/Class_(computer_programming)\" rel=\"noreferrer\"><em>class</em></a>. In that case it usually does not export any functions. In fact, we do not call the <code>sub</code>s <em>functions</em> any more, but rather <em>methods</em>. The <code>package</code> name becomes the name of the class, you create <em>instances</em> of the class called <em>objects</em>, and you call methods on those objects, which ends up being the functions in your package.</p>\n\n<h2>Loading modules</h2>\n\n<p>There are two main ways of loading a module in Perl. You can do it at <em>compile time</em> and at <em>run time</em>. The perl<sup>1</sup> compiler (yes, there is a compiler although it's interpreted language) loads files, compiles them, then switches to run time to run the compiled code. When it encounters a new file to load, it switches back to compile time, compiles the new code, and so on.</p>\n\n<p><strong>Compile time</strong></p>\n\n<p>To load a module at compile time, you <code>use</code> it.</p>\n\n<pre><code>use Data::Dumper;\nuse List::Util qw( min max );\nuse JSON ();\n</code></pre>\n\n<p>This is equivalent to the following.</p>\n\n<pre><code>BEGIN {\n  require Data::Dumper;\n  Data::Dumper-&gt;import;\n\n  require List::Util;\n  List::Util-&gt;import('min', 'max');\n\n  require JSON;\n  # no import here\n}\n</code></pre>\n\n<p>The <a href=\"http://perldoc.perl.org/perlmod.html#BEGIN%2C-UNITCHECK%2C-CHECK%2C-INIT-and-END\" rel=\"noreferrer\"><code>BEGIN</code> block</a> gets called during compile time. The example in the linked doc helps understand the concept of those switches back and forth.</p>\n\n<p>The <code>use</code> statements usually go at the top of you program. You do <em>pragmas</em> first (<code>use strict</code> and <code>use warnings</code> should always be your very first things after the shebang), then <code>use</code> statements. They should be used so your program loads everything it needs during startup. That way at run time, it will be faster. For things that run for a long time, or where startup time doesn't matter, like a web application that runs on <a href=\"https://metacpan.org/pod/Plack\" rel=\"noreferrer\">Plack</a> this is what you want.</p>\n\n<p><strong>Run time</strong></p>\n\n<p>When you want to load something during run time, you use <code>require</code>. It does not import anything for you. It also switches to compile time for the new file momentarily, but then goes back to run time where it left of. That makes it possible to load modules conditionally, which can be useful especially in a CGI context, where the additional time it takes to parse a new file during the run outweighs the cost of loading everything for every invocation of the program although it might not be needed.</p>\n\n<pre><code>require Data::Dumper;\n\nif ($foo) {\n    require List::Util;\n    return List::Util::max( 1, 2, 3, $foo );\n}\n</code></pre>\n\n<p>It is also possible to pass a string or a variable to <code>require</code>, so you can not only conditionally load things, but also dynamically.</p>\n\n<pre><code>my $format = 'CSV'; # or JSON or XML or whatever\nrequire \"My::Parser::$format\";\n</code></pre>\n\n<p>This is pretty advanced, but there are use-cases for it.</p>\n\n<p>In addition, it's also possible to <code>require</code> normal Perl files with a <code>.pl</code> ending at run time. This is often done in legacy code (which I would call spaghetti). Don't do it in new code. Also don't do it in old code. It's bad practice.</p>\n\n<h2>Where to load what</h2>\n\n<p>In general you should always <code>use</code> or <code>require</code> every module that you depend on in any given module. Never rely on the fact that some other <a href=\"https://en.wikipedia.org/wiki/Downstream_(software_development)\" rel=\"noreferrer\"><em>downstream</em></a> part of your code loads things for you. Modules are meant to <a href=\"https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\" rel=\"noreferrer\">encapsulate</a> functionality, so they should be able to at least stand on their own a little bit. If you want to reuse one of your modules later, and you forgot to include a dependency it will cause you grief.</p>\n\n<p>It also makes it easier to read your code, as clearly stated dependencies and imports at the top help the maintenance guy (or <a href=\"https://xkcd.com/1421/\" rel=\"noreferrer\">future you</a>) to understand what your code is about, what it does and how it does it.</p>\n\n<h2>Not loading the same thing twice</h2>\n\n<p>Perl takes care of that for you. When it parses the code at compile time, it keeps track of what it has loaded. Those things to into the super-global <a href=\"http://perldoc.perl.org/perlvar.html#%25INC\" rel=\"noreferrer\">variable <code>%INC</code></a>, which is a hash of names that have been loaded, and where they came from.</p>\n\n<pre><code>$ perl -e 'use Data::Dumper; print Dumper \\%INC'\n$VAR1 = {\n          'Carp.pm' =&gt; '/home/foo/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1/Carp.pm',\n          'warnings.pm' =&gt; '/home/foo/perl5/perlbrew/perls/perl-5.20.1/lib/5.20.1/warnings.pm',\n          'strict.pm' =&gt; '/home/foo/perl5/perlbrew/perls/perl-5.20.1/lib/5.20.1/strict.pm',\n          'constant.pm' =&gt; '/home/foo/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1/constant.pm',\n          'XSLoader.pm' =&gt; '/home/foo/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1/x86_64-linux/XSLoader.pm',\n          'overloading.pm' =&gt; '/home/foo/perl5/perlbrew/perls/perl-5.20.1/lib/5.20.1/overloading.pm',\n          'bytes.pm' =&gt; '/home/foo/perl5/perlbrew/perls/perl-5.20.1/lib/5.20.1/bytes.pm',\n          'warnings/register.pm' =&gt; '/home/julien/perl5/perlbrew/perls/perl-5.20.1/lib/5.20.1/warnings/register.pm',\n          'Exporter.pm' =&gt; '/home/foo/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1/Exporter.pm',\n          'Data/Dumper.pm' =&gt; '/home/foo/perl5/perlbrew/perls/perl-5.20.1/lib/5.20.1/x86_64-linux/Data/Dumper.pm',\n          'overload.pm' =&gt; '/home/foo/perl5/perlbrew/perls/perl-5.20.1/lib/5.20.1/overload.pm'\n        };\n</code></pre>\n\n<p>Every call to <code>use</code> and <code>require</code> adds a new entry in that hash, unless it's already there. In that case, Perl does not load it again. It still imports names for you if you <code>use</code>d the module though. This makes sure that there are no circular dependencies.</p>\n\n<p>Another important thing to keep in mind with regards to legacy code is that if you <code>require</code> normal <code>.pl</code> files, you need to get the path right. Because the key in <code>%INC</code> will not be the module name, but instead the string you passed, doing the following will result in the same file being loaded twice.</p>\n\n<pre><code>perl -MData::Dumper -e 'require \"scratch.pl\"; require \"./scratch.pl\"; print Dumper \\%INC'\n$VAR1 = {\n          './scratch.pl' =&gt; './scratch.pl',\n          'scratch.pl' =&gt; 'scratch.pl',\n          # ...\n        };\n</code></pre>\n\n<h2>Where modules are loaded from</h2>\n\n<p>Just like <code>%INC</code>, there is also a super global <a href=\"http://perldoc.perl.org/perlvar.html#40INC\" rel=\"noreferrer\">variable <code>@INC</code></a>, which contains the paths that Perl looks for modules in. You can add stuff to it by using the <code>lib</code> pragma, or via the environment variable <code>PERL5LIB</code> among other things.</p>\n\n<pre><code>use lib `lib`;\nuse My::Module; # this is in lib/My/Module.pm\n</code></pre>\n\n<h2>Namespaces</h2>\n\n<p>The packages you use in your modules define namespaces in Perl. By default when you create a Perl script without a <code>package</code>, you are in the package <code>main</code>.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nsub foo { ... }\n\nour $bar;\n</code></pre>\n\n<p>The <code>sub foo</code> will be available as <code>foo</code> inside the main <code>.pl</code> file, but also as <code>main::foo</code> from anywhere else. The shorthand is <code>::foo</code>. The same goes for the package variable <code>$bar</code>. It's really <code>$main::bar</code> or just <code>$::bar</code>. Use this sparingly. You don't want stuff from your script to leak over in your modules. That's a very bad practice that will come back and bite you later.</p>\n\n<p>In your modules, things are in the namespace of the package they are declared in. That way, you can access them from the outside (unless they are <em>lexically scoped</em> with <code>my</code>, which you should do for most things). That is mostly ok, but you should not be messing with internals of other code. Use the defined interface instead unless you want to break stuff.</p>\n\n<p>When you import something into your namespace, all it is is a shortcut as described above. This can be useful, but you also do not want to pollute your namespaces. If you import a lot of things from one module to another module, those thing will become available in that module too.</p>\n\n<pre><code>package Foo;\nuse List::Util 'max';\n\nsub foo { return max(1, 2, 3) }\n\npackage main; # this is how you switch back\nuse Foo;\n\nprint Foo::max(3, 4, 5); # this will work\n</code></pre>\n\n<p>Because you often do not want this to happen, you should chose carefully what you want to import into your namespace. On the other hand you might not care, which can be fine, too.</p>\n\n<h2>Making things private</h2>\n\n<p>Perl does not understand the concept of private or public. When you know how the namespaces work you can pretty much get to everything that is not lexical. There are even ways to get to lexicals to, but they involve some arcane black magic and I'll not go into them.</p>\n\n<p>However, there is a convention on how to mark things as private. Whenever a function or variable starts with an underscore, it should be considered private. Modern tools like <a href=\"https://metacpan.org/pod/Data::Printer\" rel=\"noreferrer\">Data::Printer</a> take that into account when displaying data.</p>\n\n<pre><code>package Foo;\n\n# this is considered part of the public interface\nsub foo { \n    _bar();\n}\n\n# this is considered private\nsub _bar {\n    ...\n}\n</code></pre>\n\n<p>It's good practice to start doing things like that, and to keep away from the internals of modules on CPAN. Things that are named like that are not considered stable, they are not part of the API and they can change at any time.</p>\n\n<h2>Conclusion</h2>\n\n<p>This was a very broad overview of some of the concepts involved here. Most of it will quickly become second nature to you once you've used it a few times. I remember that it took me about a year during my training as a developer to wrap my head around that, especially exporting.</p>\n\n<p>When you start a new module, the perldoc page <a href=\"http://perldoc.perl.org/perlnewmod.html\" rel=\"noreferrer\">perlnewmod</a> is very helpful. You should read that and make sure you understand what it says.</p>\n\n<hr>\n\n<p><sup>1: notice the small <code>p</code> in <em>perl</em>? I'm talking about the program here, not <a href=\"https://en.wikipedia.org/wiki/Perl#Name\" rel=\"noreferrer\">the name of the language</a>, which is <em>Perl</em>.</sup></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4281768"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 967, "favorite_count": 1, "closed_date": 1497966167, "answer_count": 2, "score": -1, "last_activity_date": 1497971819, "creation_date": 1497942531, "last_edit_date": 1497971819, "question_id": 44646138, "link": "https://stackoverflow.com/questions/44646138/how-do-perl-modules-work", "closed_reason": "Needs more focus", "title": "How do Perl modules &quot;work&quot;?", "body": "<p>I am confused about Perl modules. I get that a module <em>can</em> be used to dump a whole bunch of subs into, tidying main code.</p>\n\n<p>But, what is the relationship between modules?</p>\n\n<p>Can modules \"use\" other modules?</p>\n\n<p>Must I use export, or can I get away with dropping that stuff?</p>\n\n<p>How do I solve circular use? (<code>Security.pm</code> uses <code>Html.pm</code> and <code>Html.pm</code> uses <code>Security.pm</code>).  I know the obvious answer, but in some cases I need to use <code>Security.pm</code> routines in <code>Html.pm</code> and vice versa - not sure how to get around the problem.</p>\n\n<p>If I remove all \"use\" clauses from all of my modules ... Then I have to use full sub qualifiers. For example, <code>Pm::Html::get_user_friends($dbh, $uid)</code> will use <code>Security</code> to determine if a friend is a banned user or not (banned is part of <code>Security</code>).</p>\n\n<p>I just don't get this module thing.  All the \"tutorials\" only speak of one module, never multiple, nor do they use real world examples.</p>\n\n<p>The only time I've come across multiple modules is when using OO code. But nothing that tells me definitively one way or another how multiple modules interact.</p>\n"}, {"tags": ["json", "perl", "mason"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1497940260, "post_id": 44644805, "comment_id": 76275830, "body": "&gt; I am able to access the requests by using $data[&#39;requests&#39;].  Did you mean <code>$data{&#39;requests&#39;}</code> instead of <code>$data[&#39;requests&#39;]</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "is_accepted": true, "score": 2, "last_activity_date": 1497945114, "last_edit_date": 1497945114, "creation_date": 1497938429, "answer_id": 44644943, "question_id": 44644805, "link": "https://stackoverflow.com/questions/44644805/accessing-json-objects-in-perl-and-reuse-it-in-another-json/44644943#44644943", "title": "Accessing Json objects in perl and reuse it in another JSON", "body": "<p>The <code>$data['requests']</code> object should be an hash in your way. So you can access to the keys like in the following:</p>\n\n<pre><code>$data['requests']-&gt;{'locationId'}\n$data['requests']-&gt;{'uniqueId'}\n\nor \n\n$requests = $data['requests']\n$locationId = $requests-&gt;{'locationId'}\n$uniqueId = $requests-&gt;{'uniqueId'}\n</code></pre>\n"}], "owner": {"reputation": 4048, "user_id": 1692342, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1d368ad2d022237279a697202cca3510?s=128&d=identicon&r=PG", "display_name": "user1692342", "link": "https://stackoverflow.com/users/1692342/user1692342"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 44644943, "answer_count": 1, "score": 2, "last_activity_date": 1497945114, "creation_date": 1497937926, "question_id": 44644805, "link": "https://stackoverflow.com/questions/44644805/accessing-json-objects-in-perl-and-reuse-it-in-another-json", "title": "Accessing Json objects in perl and reuse it in another JSON", "body": "<p>I have received arguments in my mason handler which looks in the following format:</p>\n\n<pre><code>$data = {\n    'cacheParams' =&gt; 0,\n    'requests' =&gt; {\n        'locationId' =&gt; 1,\n        'uniqueId' =&gt; [\n            'ABC',\n            'DEF',\n            'XYZ'\n        ]\n    }\n};\n</code></pre>\n\n<p>I am able to access the requests by using <code>$data['requests']</code>. How do I access the values stored in requests, i.e. locationId and uniqueId ? I need to use these values to form another JSON in the following way:</p>\n\n<pre><code>my $input = {\n    stateID =&gt; 44,\n    locationId =&gt; requests.locationId,\n    uniqueId =&gt; requests.uniqueId\n    .\n    .\n    .\n\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 649, "user_id": 6843900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tAcBr.png?s=128&g=1", "display_name": "Tamar", "link": "https://stackoverflow.com/users/6843900/tamar"}, "edited": false, "score": 0, "creation_date": 1497935267, "post_id": 44644204, "comment_id": 76273724, "body": "using pipe: <a href=\"https://stackoverflow.com/questions/10765311/how-to-read-to-and-write-from-a-pipe-in-perl\" title=\"how to read to and write from a pipe in perl\">stackoverflow.com/questions/10765311/&hellip;</a>"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 1, "creation_date": 1497935301, "post_id": 44644204, "comment_id": 76273739, "body": "Please dont use all caps. IT MEANS SHOUTING..."}, {"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 0, "creation_date": 1497936658, "post_id": 44644204, "comment_id": 76274218, "body": "Welcome to StackOverflow. You need to explain more about the pairing. Please give more sample input. Taking the tour is highly recommended and you definitly should read [link] (<a href=\"https://stackoverflow.com/questions/how-to-ask\">stackoverflow.com/questions/how-to-ask</a>) How to Ask."}], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 5535981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EL9hq.png?s=128&g=1", "display_name": "redneckProgrammer", "link": "https://stackoverflow.com/users/5535981/redneckprogrammer"}, "is_accepted": false, "score": 0, "last_activity_date": 1498197144, "creation_date": 1498197144, "answer_id": 44713976, "question_id": 44644204, "link": "https://stackoverflow.com/questions/44644204/how-to-make-output-file-of-one-script-as-an-input-file-for-the-another-script/44713976#44713976", "title": "How to make output file of one script, as an input file for the another script?", "body": "<p>Tamar is right. You can use pipe command: \"|\". You can do this no matter if you're using windows or a unix based operating system.</p>\n\n<p>Here's a simple example of what you're doing: </p>\n\n<p>Code to output data \nout.pl</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $file = \"output.txt\";\nmy $data = \"gasp\";\n\nunless(-e $file){\n    open(my $fh, '&gt;', $file);\n    print $fh $data;\n    close $fh;\n}\n</code></pre>\n\n<p>Code that takes input file \nin.pl</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $gaspage = &lt;STDIN&gt;;\nchomp $gaspage;\nprint $gaspage.\"\\n\";\n</code></pre>\n\n<p>Then you just run it with the commands below that can be run within your perl application or just in the terminal:</p>\n\n<pre><code>perl out.pl\ncat output.pl | in.pl\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8186354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a00296b0f82fb22e7689e323d54d210?s=128&d=identicon&r=PG&f=1", "display_name": "Aishwarya ", "link": "https://stackoverflow.com/users/8186354/aishwarya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1498197144, "creation_date": 1497935065, "last_edit_date": 1497935282, "question_id": 44644204, "link": "https://stackoverflow.com/questions/44644204/how-to-make-output-file-of-one-script-as-an-input-file-for-the-another-script", "title": "How to make output file of one script, as an input file for the another script?", "body": "<p>I am currently working on a project where in I am using Perl language to create command line application of one online tool.\nThere are total nine modules (for each module there is separate Perl script).</p>\n\n<p>This <strong>Command Line</strong> Application should work in the following way-</p>\n\n<ol>\n<li><p>Out of these nine modules user would be able to select any number of modules. (in short pipeline should be built).</p></li>\n<li><p>after running first selected module, output files are generated.</p></li>\n<li><p>output file of first module should be taken as an input file by the next module selected by the user.</p></li>\n</ol>\n\n<p>My doubt is how we can make output file of first module as an input file for the next selected module.\nIt will be a great help if you solve my doubt as I am new to Perl programming.\nThanking you!  </p>\n"}, {"tags": ["regex", "linux", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497933164, "post_id": 44642904, "comment_id": 76273095, "body": "Please explain <i>&quot;without making <code>$db_string_param1</code> an array&quot;</i>. The only sensible way to do this is to turn one of the strings into a list of tokens."}], "answers": [{"comments": [{"owner": {"reputation": 560, "user_id": 10850601, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3R2h7RDJ9yU/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYNkQa9HPTd778Jo28o4mlsEFPJpw/mo/photo.jpg?sz=128", "display_name": "Ed Grimm", "link": "https://stackoverflow.com/users/10850601/ed-grimm"}, "edited": false, "score": 0, "creation_date": 1547597121, "post_id": 44643907, "comment_id": 95243720, "body": "This answer would probably be a bit better if it had <code>\\s+</code> rather than <code>\\s</code> in the first capture group - otherwise having extra spaces in the <code>$db_string_param1</code> could result in false positives."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 0, "last_activity_date": 1497935825, "last_edit_date": 1497935825, "creation_date": 1497933303, "answer_id": 44643907, "question_id": 44642904, "link": "https://stackoverflow.com/questions/44642904/regex-logic-comparison-simplification/44643907#44643907", "title": "Regex logic comparison simplification", "body": "<p>Suppose your data hasn't contain the special character you could use simple <code>|</code> in a substitution <code>s/\\s/|/g</code>.</p>\n\n<p>In below RegEx substitution I have handle the special characters. </p>\n\n<p>Group the space and non word character. Then <code>e</code> flag used for evaluate the right-hand side as an expression. Then check if <code>$1</code> is defined or not if it is defined use <code>|</code> to separate. if it is not defined it means <code>$2</code> contain the special character so you could escape the character.</p>\n\n<pre><code>$file_string_param1 = 'AK1B25';\n\n$db_string_param1 = 'AA1 AB AC1 AK1 BKK2';\n\n$db_string_param1=~s/(\\s)|(\\W)/ defined($1) ? \"|\" : \"\\\\$2\" /ge;\n\n\n$file_string_param1=~m/$db_string_param1/;\n\nprint $&amp;,\"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 7849763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e69f9da2ea93de69b4a78830e6d0e240?s=128&d=identicon&r=PG&f=1", "display_name": "Dem", "link": "https://stackoverflow.com/users/7849763/dem"}, "edited": false, "score": 0, "creation_date": 1497936171, "post_id": 44643996, "comment_id": 76274043, "body": "Thanks man! If I use an array and loop it, my code will look more complex besides all the other logic involved. I just wanna try to make it simple as possible with all the logic involved."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -1, "last_activity_date": 1497933888, "creation_date": 1497933888, "answer_id": 44643996, "question_id": 44642904, "link": "https://stackoverflow.com/questions/44642904/regex-logic-comparison-simplification/44643996#44643996", "title": "Regex logic comparison simplification", "body": "<p>You don't explain why you don't want your database parameter converted into an array so it is hard to understand your intention, but this program demonstrates how to convert the string into a regex pattern and test the file parameter against it</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $db_string_param1   = 'AA1 AB AC1 AK1 BKK2';\nmy $file_string_param1 = 'AK1B25';\n\n( my $db_re = $db_string_param1 ) =~ s/\\A\\s+|\\s+\\z//g;\n$db_re =~ s/\\s+/|/g;\n$db_re = qr/$db_re/;\n\nsay $file_string_param1 =~ /(?&lt;![A-Z])(?:$db_re)(?![0-9])/ ? 'found' : 'not found';\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>found\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 43, "user_id": 7849763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e69f9da2ea93de69b4a78830e6d0e240?s=128&d=identicon&r=PG&f=1", "display_name": "Dem", "link": "https://stackoverflow.com/users/7849763/dem"}, "edited": false, "score": 1, "creation_date": 1498577831, "post_id": 44644003, "comment_id": 76549597, "body": "Re &quot;<i>This solution doesn&#39;t suffer from regex injection bug</i>&quot;, While this moderator-provided text does imply that other solutions do suffer from this bug, I&#39;d like to point out that mkHun&#39;s solution doesn&#39;t."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1498574432, "last_edit_date": 1498574432, "creation_date": 1497933922, "answer_id": 44644003, "question_id": 44642904, "link": "https://stackoverflow.com/questions/44642904/regex-logic-comparison-simplification/44644003#44644003", "title": "Regex logic comparison simplification", "body": "<p>This solution doesn't suffer from regex injection bug. It will work no matter what characters are separated by whitespace.</p>\n\n<pre><code>my $pat = join '|', map quotemeta, split ' ', $db_string_param1;\n\nif ( $file_string_param1 =~ /$pat/ ) {\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 7849763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e69f9da2ea93de69b4a78830e6d0e240?s=128&d=identicon&r=PG&f=1", "display_name": "Dem", "link": "https://stackoverflow.com/users/7849763/dem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 1, "accepted_answer_id": 44643907, "answer_count": 3, "score": 0, "last_activity_date": 1498574432, "creation_date": 1497926087, "last_edit_date": 1497933139, "question_id": 44642904, "link": "https://stackoverflow.com/questions/44642904/regex-logic-comparison-simplification", "title": "Regex logic comparison simplification", "body": "<p>I have multiple complex logic and one of them is comparison of 2 strings.</p>\n\n<pre><code>$db_string_param1 = 'AA1 AB AC1 AK1 BKK2';\n\n$file_string_param1 = 'AK1B25';\n</code></pre>\n\n<p>I need to test whether <code>$file_string_param1</code> contains any of the content of <code>$db_string_param1</code>, delimited by space without making <code>$db_string_param1</code> an array.</p>\n\n<p>I am thinking maybe this is possible using regex, and for now I am not that good using complex regex.</p>\n"}, {"tags": ["perl", "mason"], "answers": [{"comments": [{"owner": {"reputation": 4048, "user_id": 1692342, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1d368ad2d022237279a697202cca3510?s=128&d=identicon&r=PG", "display_name": "user1692342", "link": "https://stackoverflow.com/users/1692342/user1692342"}, "edited": false, "score": 0, "creation_date": 1497923339, "post_id": 44642525, "comment_id": 76270767, "body": "Dumper has to be written twice or once?"}, {"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "reply_to_user": {"reputation": 4048, "user_id": 1692342, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1d368ad2d022237279a697202cca3510?s=128&d=identicon&r=PG", "display_name": "user1692342", "link": "https://stackoverflow.com/users/1692342/user1692342"}, "edited": false, "score": 0, "creation_date": 1497923527, "post_id": 44642525, "comment_id": 76270815, "body": "exactly as you see"}, {"owner": {"reputation": 4048, "user_id": 1692342, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1d368ad2d022237279a697202cca3510?s=128&d=identicon&r=PG", "display_name": "user1692342", "link": "https://stackoverflow.com/users/1692342/user1692342"}, "edited": false, "score": 0, "creation_date": 1497923726, "post_id": 44642525, "comment_id": 76270870, "body": "I get an error: &#39;require&#39; trapped by operation mask at"}, {"owner": {"reputation": 4048, "user_id": 1692342, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1d368ad2d022237279a697202cca3510?s=128&d=identicon&r=PG", "display_name": "user1692342", "link": "https://stackoverflow.com/users/1692342/user1692342"}, "edited": false, "score": 0, "creation_date": 1497924345, "post_id": 44642525, "comment_id": 76270989, "body": "the error comes on the line where I wrote use Data::Dumper;  I am still getting it"}, {"owner": {"reputation": 4048, "user_id": 1692342, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1d368ad2d022237279a697202cca3510?s=128&d=identicon&r=PG", "display_name": "user1692342", "link": "https://stackoverflow.com/users/1692342/user1692342"}, "edited": false, "score": 0, "creation_date": 1497924619, "post_id": 44642525, "comment_id": 76271060, "body": "resolved it. I just had to remove use Data::Dumper line! :D"}], "tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": true, "score": 3, "last_activity_date": 1497924028, "last_edit_date": 1497924028, "creation_date": 1497923229, "answer_id": 44642525, "question_id": 44641926, "link": "https://stackoverflow.com/questions/44641926/printing-contents-of-arguments-in-mason/44642525#44642525", "title": "Printing Contents of arguments in Mason", "body": "<pre><code>use Data::Dumper;\nFLLogError(Dumper $data);\n</code></pre>\n\n<p>or if you want all the args:</p>\n\n<pre><code>use Data::Dumper;\nFLLogError(Dumper \\%ARGS);\n</code></pre>\n"}], "owner": {"reputation": 4048, "user_id": 1692342, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1d368ad2d022237279a697202cca3510?s=128&d=identicon&r=PG", "display_name": "user1692342", "link": "https://stackoverflow.com/users/1692342/user1692342"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 0, "accepted_answer_id": 44642525, "answer_count": 1, "score": 1, "last_activity_date": 1498076197, "creation_date": 1497918764, "last_edit_date": 1498076197, "question_id": 44641926, "link": "https://stackoverflow.com/questions/44641926/printing-contents-of-arguments-in-mason", "title": "Printing Contents of arguments in Mason", "body": "<p>I have a mason file which accepts arguments</p>\n\n<pre><code>&lt;%args&gt;\n  $data\n&lt;/%args&gt;\n</code></pre>\n\n<p>When I use <code>FLLogError</code> to print <code>$data</code> it prints <code>HASH(0x853e6654)</code>.</p>\n\n<p>Is there a way to print the contents of this hash so that I can verify that it is getting the required parameters?</p>\n"}, {"tags": ["html", "mysql", "perl", "graph", "charts"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1497904199, "post_id": 44639378, "comment_id": 76264777, "body": "SO is not a code writing service. Please show us the code that you&#39;ve tried and need help with."}, {"owner": {"reputation": 39, "user_id": 6437245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/153d6f05213702f3781d7e2c341fd5a9?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/6437245/nicolas"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1497905378, "post_id": 44639378, "comment_id": 76265363, "body": "I&#39;m not asking for someone to write it for me, just help to point me in the right direction."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1497906010, "post_id": 44639378, "comment_id": 76265656, "body": "The piece of code you&#39;ve shown creates an image, and prints it to a file. If you want to include that in an HTML page, you&#39;d have to include that image. Alternatively you can use this code as a CGI script, and instead of opening a file, just print to STDOUT. Send the correct <code>image&#47;png</code> headers first. Use the URL to the script in your HTML in a <code>&lt;img src=&quot;foo.pl&quot;&gt;</code> tag."}, {"owner": {"reputation": 39, "user_id": 6437245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/153d6f05213702f3781d7e2c341fd5a9?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/6437245/nicolas"}, "edited": false, "score": 0, "creation_date": 1497907109, "post_id": 44639378, "comment_id": 76266189, "body": "Even when I leave it as it is though I still don&#39;t get an image. How exactly do I incorporate the additions you mentioned?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1497913112, "post_id": 44639378, "comment_id": 76268310, "body": "You first need to understand how &quot;the Web&quot; works: Servers, clients, requests, and responses; contents types, HTML, how images are embedded in a page etc. Without the basics, you will be lost. What you learn here will not be enough."}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1497913147, "post_id": 44640242, "comment_id": 76268323, "body": "Why is this more idiomatic then responding with <code>image&#47;png</code> content type and the image data?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1497915124, "post_id": 44640242, "comment_id": 76268864, "body": "You need <code>binmode $out</code> or <code>open my $out, &#39;&gt;:unix&#39;, ...</code> to ensure <a href=\"https://www.nu42.com/2014/12/when-bits-dont-stick.html\" rel=\"nofollow noreferrer\">correct behavior on Windows</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1497945422, "post_id": 44640242, "comment_id": 76279300, "body": "Encouraging the use of raw HTML in CGI programs is never a good idea."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": -2, "last_activity_date": 1497907656, "creation_date": 1497907656, "answer_id": 44640242, "question_id": 44639378, "link": "https://stackoverflow.com/questions/44639378/how-do-i-add-a-graph-to-a-webpage-using-perl/44640242#44640242", "title": "How Do I Add A Graph to a Webpage Using Perl?", "body": "<p>If you know enough about <code>GD::Graph</code> to generate an image file (say, a PNG file), then the usual idiom for displaying it in a web browser is</p>\n\n<pre><code>...\nuse GD::Graph;\nmy $graph = ...;\nmy $file = \"bars-$$.png\";     # a unique file name\n# replace  /var/www/htdocs  here with the root document directory for your server\nopen my $out, '&gt;', '/var/www/htdocs/bars/$file';\nprint $out $graph-&gt;gd-&gt;png;\nclose $out;\n\n# now write the web page\nprint \"Content-type: text/html\\n\\n\";\nprint \"&lt;html&gt;&lt;head&gt;&lt;title&gt;Bar Graph&lt;/title&gt;&lt;head&gt;\\n\";\nprint \"&lt;body&gt;\";\nprint ...\nprint \"&lt;h2&gt;Here is a bar graph&lt;/h2&gt;\\n\";\nprint \"&lt;img src='/bars/$file'&gt;\\n\";\nprint ...\nprint \"&lt;/body&gt;&lt;/html&gt;\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 6437245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/153d6f05213702f3781d7e2c341fd5a9?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/6437245/nicolas"}, "edited": false, "score": 0, "creation_date": 1497994515, "post_id": 44647412, "comment_id": 76312396, "body": "This was super helpful and I got exactly the result I was looking for. Thanks"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 39, "user_id": 6437245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/153d6f05213702f3781d7e2c341fd5a9?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/6437245/nicolas"}, "edited": false, "score": 0, "creation_date": 1498026224, "post_id": 44647412, "comment_id": 76321267, "body": "@Nicolas: <a href=\"https://stackoverflow.com/help/someone-answers\">What to do when someone answers my question</a>"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1497949463, "last_edit_date": 1497949463, "creation_date": 1497946253, "answer_id": 44647412, "question_id": 44639378, "link": "https://stackoverflow.com/questions/44639378/how-do-i-add-a-graph-to-a-webpage-using-perl/44647412#44647412", "title": "How Do I Add A Graph to a Webpage Using Perl?", "body": "<p>Your sample programs works for me. I get a file called <code>bars.png</code> which contains the expected image. If you need help getting that program working then you need to give us more information than \"Heres an example program I was playing with that I couldn't get to work\". Exactly what unexpected behaviour did you get? Was the file written? Did it contain the correct image? Did your computer burst into flames?</p>\n\n<p>Having got that program to work, it's a simple process to turn it into a CGI program that writes the image to STDOUT. It would look something like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n# Added: Use the CGI library\n# (not essential, but makes your life easier)\nuse CGI 'header';\nuse GD::Graph::bars;\nuse GD::Graph::Data;\n\nmy $data = GD::Graph::Data-&gt;new([\n    [\"1st\",\"2nd\",\"3rd\",\"4th\",\"5th\",\"6th\",\"7th\", \"8th\", \"9th\"],\n    [    1,    2,    5,    6,    3,  1.5,    1,     3,     4],\n]) or die GD::Graph::Data-&gt;error;\n\nmy $graph = GD::Graph::bars-&gt;new;\n\n$graph-&gt;set(\n     x_label         =&gt; 'X Label',\n     y_label         =&gt; 'Y label',\n     title           =&gt; 'A Simple Bar Chart',\n\n     #y_max_value     =&gt; 7,\n     #y_tick_number   =&gt; 8,\n     #y_label_skip    =&gt; 3,\n\n     #x_labels_vertical =&gt; 1,\n\n     #bar_spacing     =&gt; 10,\n     #shadow_depth    =&gt; 4,\n     #shadowclr       =&gt; 'dred',\n\n     #transparent     =&gt; 0,\n) or die $graph-&gt;error;\n\n$graph-&gt;plot($data) or die $graph-&gt;error;\n\n# Added: print the content-type header\nprint header('image/png');\n\n# Removed: opening an image file\n# Changed: Run binmode against STDOUT, not your image file\nbinmode STDOUT;\n# Changed: Print image to STDOUT, not your image file\nprint $graph-&gt;gd-&gt;png;\n# Removed: Don't close the filehandle, that you didn't open :-)\n</code></pre>\n\n<p>If you put that code in a file somewhere on your web server where it is recognised as a CGI program (doing that is outside the scope of this answer - but there are plenty of good answers about it on this site), then you will be able to enter the URL of the file into your browser to see the image. Once that works, you will also be able to embed the image into an HTML page using an <code>&lt;img src=\"...\"&gt;</code> tag.</p>\n\n<p>If you need any more help with this, please ask more specific questions.</p>\n"}], "owner": {"reputation": 39, "user_id": 6437245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/153d6f05213702f3781d7e2c341fd5a9?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/6437245/nicolas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 923, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1497949463, "creation_date": 1497903992, "last_edit_date": 1497934522, "question_id": 44639378, "link": "https://stackoverflow.com/questions/44639378/how-do-i-add-a-graph-to-a-webpage-using-perl", "title": "How Do I Add A Graph to a Webpage Using Perl?", "body": "<p>I need to create a graph using data in Perl pulled form a MySQL database.</p>\n\n<p>I've seen the <code>GD::Graph</code> recommendation and other ways but I don't know how to use any of them and can't find much online. </p>\n\n<p>I've entered a <code>GD::Graph</code> script for the web page but nothing comes up. I'm assuming I have to somehow incorporate HTML to display the graph but I don't know how to do that either. </p>\n\n<p>I just need a basic line graph so any simple example would help a lot.</p>\n\n<p>Heres an example program I was playing with that I couldn't get to work:</p>\n\n<pre><code>use GD::Graph::bars;\nuse GD::Graph::Data;\n\nmy $data = GD::Graph::Data-&gt;new([\n    [\"1st\",\"2nd\",\"3rd\",\"4th\",\"5th\",\"6th\",\"7th\", \"8th\", \"9th\"],\n    [    1,    2,    5,    6,    3,  1.5,    1,     3,     4],\n]) or die GD::Graph::Data-&gt;error;\n\nmy $graph = GD::Graph::bars-&gt;new;\n\n$graph-&gt;set( \n     x_label         =&gt; 'X Label',\n     y_label         =&gt; 'Y label',\n     title           =&gt; 'A Simple Bar Chart',\n\n     #y_max_value     =&gt; 7,\n     #y_tick_number   =&gt; 8,\n     #y_label_skip    =&gt; 3,\n\n     #x_labels_vertical =&gt; 1,\n\n     #bar_spacing     =&gt; 10,\n     #shadow_depth    =&gt; 4,\n     #shadowclr       =&gt; 'dred',\n\n     #transparent     =&gt; 0,\n) or die $graph-&gt;error;\n\n$graph-&gt;plot($data) or die $graph-&gt;error;\n\nmy $file = 'bars.png';\nopen(my $out, '&gt;', $file) or die \"Cannot open '$file' for write: $!\";\nbinmode $out;\nprint $out $graph-&gt;gd-&gt;png;\nclose $out;\n</code></pre>\n"}, {"tags": ["arrays", "perl", "filter", "grep"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1497897843, "post_id": 44637148, "comment_id": 76261418, "body": "<code>use warnings;</code>, <code>use strict;</code> at the top of all of your Perl files."}], "answers": [{"comments": [{"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1497896425, "post_id": 44637293, "comment_id": 76260662, "body": "I&#39;m not actually filtering out even numbers. That was just the example that I used.  I do actually need the warning for every filtered value."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1497896707, "post_id": 44637293, "comment_id": 76260814, "body": "It doesn&#39;t matter what you are filtering. Outputting the same message repeatedly is not useful."}, {"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1497896768, "post_id": 44637293, "comment_id": 76260850, "body": "I edited the OP.  I&#39;m not just warning &quot;even number&quot;. I&#39;m informing the user of what the number is."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1497896803, "post_id": 44637293, "comment_id": 76260868, "body": "That&#39;s the alternative, but I was sure you could figure out how to do that, so I didn&#39;t bother showing you."}, {"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1497896811, "post_id": 44637293, "comment_id": 76260872, "body": "the actual use case involves iterating through files and filtering which files fail a certain set of criteria. It&#39;s exceptionally useful print out the full list of files, rather than just &quot;one or more files failed criteria&quot;"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1497896046, "creation_date": 1497896046, "answer_id": 44637293, "question_id": 44637148, "link": "https://stackoverflow.com/questions/44637148/perl-filtering-with-grep-including-warnings-for-filtered-values/44637293#44637293", "title": "perl: filtering with grep, including warnings for filtered values", "body": "<p>That code dies with</p>\n\n<pre><code>Can't return outside a subroutine at a.pl line 10.\n</code></pre>\n\n<p>The callback isn't a subroutine. You can't use <code>return</code>.</p>\n\n<pre><code>my @l = (1,2,3,4,5);\n@l = grep {\n  if ($_ % 2) {\n    1\n  } else {\n    warn \"even number!!!\";\n    0\n  }\n} @l;\n</code></pre>\n\n<p>Printing <code>even number!!!</code> more than once isn't that useful.</p>\n\n<pre><code>my @nums = 1..5;\nmy @odds = grep { $_ % 2 } @nums;\nwarn(\"One or more even numbers!\\n\") if @odds != @nums;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1497896194, "post_id": 44637298, "comment_id": 76260521, "body": "<code>Can&#39;t return outside a subroutine</code> is thrown, nor warned."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1497896060, "creation_date": 1497896060, "answer_id": 44637298, "question_id": 44637148, "link": "https://stackoverflow.com/questions/44637148/perl-filtering-with-grep-including-warnings-for-filtered-values/44637298#44637298", "title": "perl: filtering with grep, including warnings for filtered values", "body": "<p>You <em>do</em> get warnings (you do need to <code>use warnings; use strict;</code> though):</p>\n\n<pre><code>Can't return outside a subroutine\n</code></pre>\n\n<p>This is because <code>grep</code> takes an <em>expression</em> or a block - it's not strictly a sub.</p>\n\n<p>This will work:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy @numbers = ( 1, 2, 3, 4, 5 );\nmy @odd_numbers = grep {\n    if ( $_ % 2 == 0 ) {\n        warn \"even number $_\";\n        0;\n    }\n    else {\n        1;\n    }\n\n} @numbers;\n\nprint @odd_numbers;\n</code></pre>\n\n<p>Also: Don't use single letter variable names. It's bad style.</p>\n"}, {"tags": [], "owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "is_accepted": false, "score": 0, "last_activity_date": 1497903674, "creation_date": 1497903674, "answer_id": 44639284, "question_id": 44637148, "link": "https://stackoverflow.com/questions/44637148/perl-filtering-with-grep-including-warnings-for-filtered-values/44639284#44639284", "title": "perl: filtering with grep, including warnings for filtered values", "body": "<p>KISS</p>\n\n<p>don't try to be to smart, grep is indeed the right thing for creating a new list out of an existing list, using a positive match. Yes, you can do all sorts of fancy things inside.</p>\n\n<p>but what is wrong with an ordinary <code>foreach</code>?\njust loop over the list, do whatever intelligent selection and push the positives onto another list. and you have an entire code block available to handle the ones you don't need and make super interesting warnings for different kind off reasons...</p>\n\n<pre><code>foreach my $item ( @numbers ) {\n    if ( $item %2 ) {\n        warn \"fiz\";\n        next\n    }\n    unless ( $item % 3 ) {\n        warn \"buzz\";\n        next\n    }\n    push @good, $item\n}\n</code></pre>\n\n<p>and everyone a few days later can tell what is happening here</p>\n"}], "owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 44637293, "answer_count": 3, "score": 0, "last_activity_date": 1497903674, "creation_date": 1497895510, "last_edit_date": 1497896084, "question_id": 44637148, "link": "https://stackoverflow.com/questions/44637148/perl-filtering-with-grep-including-warnings-for-filtered-values", "title": "perl: filtering with grep, including warnings for filtered values", "body": "<p>I want to filter an array using <code>grep</code>, but I want to include a warning for all filtered values, rather than silently filtering them out.  I've tried this:</p>\n\n<pre><code>my @l = (1,2,3,4,5);\n@l = grep {\n  if ($_%2 == 0) {\n    warn \"$_ is an even number!!!\";\n    return 0;\n  }\n  return 1;\n} @l;\n</code></pre>\n\n<p>But this doesn't work. I get no warnings, and the list isn't filtered.  How can I do this?</p>\n"}, {"tags": ["perl", "return-value", "subroutine", "data-dumper"], "comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1497895630, "post_id": 44637092, "comment_id": 76260206, "body": "you are returning an from your sub but not storing it anywhere."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497896426, "post_id": 44637092, "comment_id": 76260664, "body": "Also, that <code>foreach $_ (@_) { ... }</code> should be replace with just <code>...</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497896474, "post_id": 44637092, "comment_id": 76260692, "body": "And you should be using an array other than <code>@_</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497896502, "post_id": 44637092, "comment_id": 76260705, "body": "And <code>Dumper(@a)</code> should be <code>Dumper(\\@a)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1497897624, "post_id": 44637683, "comment_id": 76261294, "body": "You beat me to the <i>exact</i> same solution by one second (except I return <code>$name</code> if the <code>if</code> doesn&#39;t match ;) ++"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497903249, "post_id": 44637683, "comment_id": 76264284, "body": "Either way, they all clobber <code>Foo LeBlanc</code>, <code>Bar von Braun</code>, <code>Baz Hansen-Sinfield</code>, etc."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497907652, "post_id": 44637683, "comment_id": 76266431, "body": "@ikegami  Thank you, added to the answer"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1592520336, "last_edit_date": 1592520336, "creation_date": 1497897574, "answer_id": 44637683, "question_id": 44637092, "link": "https://stackoverflow.com/questions/44637092/perl-return-an-array-from-subroutine/44637683#44637683", "title": "Perl: return an array from subroutine", "body": "<p>You don't assign the return to anything.  Also, the sub manipulates <code>@_</code> which it shouldn't be doing, as discussed below. It can also be greatly simplified</p>\n\n<pre><code>sub check_name {\n    my ($class, $name) = @_;\n\n    if ($name =~ /^\\w+\\s+\\w+$/) {\n        return join ' ', map { ucfirst lc } split ' ', $name;\n    }\n\n    return;  # returns \"undef\" (as input wasn't in expected format)    \n}\n</code></pre>\n\n<p>Then the caller can do</p>\n\n<pre><code>my $fullname = Jhusbands::Loginpass-&gt;check_name($name);\n\nprint \"$fullname\\n\" if $fullname;\n</code></pre>\n\n<p>A sub's return should always be checked but in this case even more so, since it processes its input conditionally. I renamed the input to sub (to <code>$name</code>), for clarity.</p>\n\n<p>If the code in the sub is meant to change the <code>$fullname</code> by writing directly to <code>@_</code> (and you had no return for that reason), that fails since after the specific manipulations <code>$_[0]</code> isn't any more aliased to the argument that was passed.  </p>\n\n<p>In any case, doing that is very tricky, can lead to opaque code -- and is unneeded. To directly change the argument pass it as a reference and write to it.  However, it is probably far clearer and less error prone to return the result in this case.</p>\n\n<hr>\n\n<p>It should be noted that the above name \"processing\" runs into the standard problems with processing of names, due to their bewildering variety. If this needs to be comprehensive then the name parsing should be dispatched to a rounded library (or procedure) that can deal with the possible dirersity.</p>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> for comments bringing this up with examples, as well as a more direct way:</p>\n\n<pre><code>$name =~ s/(\\w+)/\\u\\L$1/g; \nreturn $name;\n</code></pre>\n\n<p>which with <code>/r</code> introduced in v5.14 can be written as</p>\n\n<pre><code>return $name =~ s/(\\w+)/\\u\\L$1/gr;\n</code></pre>\n\n<p>If <code>$name</code> has no word-characters (<code>\\w</code>) and there is no match this returns the same string.</p>\n"}], "owner": {"reputation": 43, "user_id": 8022431, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-W0Dl5ATqPGU/AAAAAAAAAAI/AAAAAAAAVd4/o7yD9Na0Gzk/photo.jpg?sz=128", "display_name": "Jason Husbands", "link": "https://stackoverflow.com/users/8022431/jason-husbands"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 721, "favorite_count": 0, "accepted_answer_id": 44637683, "answer_count": 1, "score": 1, "last_activity_date": 1592520336, "creation_date": 1497895284, "last_edit_date": 1592520183, "question_id": 44637092, "link": "https://stackoverflow.com/questions/44637092/perl-return-an-array-from-subroutine", "title": "Perl: return an array from subroutine", "body": "<p>Perl noob.</p>\n\n<p>I am having trouble understanding returning an array value from a subroutine in a module.</p>\n\n<p>The script has the following:</p>\n\n<pre><code>print \"Enter your first and last name.\\n\";\n    chomp(my $fullname = &lt;STDIN&gt;); #input is 'testing this' all lower case\n\nJhusbands::Loginpass-&gt;check_name($fullname);\n\nprint \"$fullname\\n\";\n</code></pre>\n\n<p>The module includes the following subroutine:</p>\n\n<pre><code>sub check_name {\n    my $class = shift;\n    if ($_[0] =~ /^\\w+\\s+\\w+$/ ) {\n        @_ = split( / /, $_[0]);\n\n            foreach $_ (@_) {\n                $_ = ucfirst lc for @_;\n                @_ = join(\" \", @_);\n                print Dumper(@_) . \"\\n\";\n                return @_;\n            }\n      }   \n}\n</code></pre>\n\n<p>I am taking the name, checking it for only first and last (I'll get to else statements later), splitting it, correcting the case, and joining again. Dumper displays the final array as:</p>\n\n<pre><code>$VAR1 = 'Testing This';\n</code></pre>\n\n<p>So it appears to be working that far. However, the return vale for <code>$fullname</code> in the script displays the all lower case:</p>\n\n<pre>\ntesting this \n</pre>\n\n<p>Why is it not taking the corrected uppercase variable that Dumper displays as the last array iteration?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500852972, "post_id": 44634898, "comment_id": 77504575, "body": "I don&#39;t see why <code>print $logline;</code> would be buffered with <code>$|</code> set, the good answers notwithstanding. Perhaps <code>ssh</code> is to blame?  Btw, that <code>&amp;</code> in front of function calls <a href=\"https://stackoverflow.com/a/8915304/4653379\">doesn&#39;t seem needed</a>."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 8, "last_activity_date": 1497887574, "creation_date": 1497887574, "answer_id": 44634984, "question_id": 44634898, "link": "https://stackoverflow.com/questions/44634898/what-is-the-scope-of-perls-output-autoflush-setting/44634984#44634984", "title": "What is the scope of Perl&#39;s $| (OUTPUT_AUTOFLUSH) setting?", "body": "<p><code>$|</code> affects only the currently selected default output filehandle.</p>\n\n<p>You can explicitly set it for a filehandle like:</p>\n\n<pre><code>LOGFILE-&gt;autoflush(1);\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlvar.html#Variables-related-to-filehandles\" rel=\"noreferrer\">http://perldoc.perl.org/perlvar.html#Variables-related-to-filehandles</a></p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1497887931, "post_id": 44634989, "comment_id": 76255826, "body": "Trivia: <code>print $foo;</code> isn&#39;t short for <code>print STDOUT $foo;</code>; it&#39;s short for <code>print { select() } $foo;</code>."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1497888331, "post_id": 44634989, "comment_id": 76256078, "body": "Btw, what <code>{ local $| = 1; }</code> does to the handle, and how to check whether handle is already set to autoflush?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1497890276, "post_id": 44634989, "comment_id": 76257169, "body": "@\u0421\u0443\u0445\u043e\u04392, Turns autoflush on for the selected handle, then immediately restores the old setting. This will have the effect of flushing the handle. This is abstracted by <code>$handle-&gt;flush</code>. /// You can read <code>$|</code> to obtain the current setting for the currently selected handle."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 7, "last_activity_date": 1497890414, "last_edit_date": 1497890414, "creation_date": 1497887587, "answer_id": 44634989, "question_id": 44634898, "link": "https://stackoverflow.com/questions/44634898/what-is-the-scope-of-perls-output-autoflush-setting/44634989#44634989", "title": "What is the scope of Perl&#39;s $| (OUTPUT_AUTOFLUSH) setting?", "body": "<p><a href=\"http://perldoc.perl.org/perlvar.html#%24%7c\" rel=\"noreferrer\"><code>$|</code></a> isn't a pragma; changing <code>$|</code> changes a flag in the currently <a href=\"http://perldoc.perl.org/functions/select.html\" rel=\"noreferrer\"><code>select</code></a>ed file handle in a \"permanent\" fashion. By default, that handle is STDOUT.</p>\n\n<p>You can affect other file handles by using</p>\n\n<pre><code>use IO::Handle qw( );  # Only required on older versions of Perl.\n$handle-&gt;autoflush(1);\n</code></pre>\n\n<p>This is a shortcut for</p>\n\n<pre><code>my $temp = select($handle); $| = 1; select($temp);\n</code></pre>\n\n<p>except it tries to handle exceptions.</p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1497887720, "creation_date": 1497887720, "answer_id": 44635035, "question_id": 44634898, "link": "https://stackoverflow.com/questions/44634898/what-is-the-scope-of-perls-output-autoflush-setting/44635035#44635035", "title": "What is the scope of Perl&#39;s $| (OUTPUT_AUTOFLUSH) setting?", "body": "<p>Per <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlvar.pod#$OUTPUT_AUTOFLUSH\" rel=\"nofollow noreferrer\"><code>perlvar</code></a>, <code>$|</code> has global scope and it applies only to the <em>currently selected output channel</em>. This is <code>STDOUT</code> at the beginning of any program, but can be changed with the 1-arg <code>select</code> call.</p>\n\n<pre><code>$| = 1;            # set autoflush on STDOUT\nopen LOGFILE, '&gt;log';\nmy $fh = select LOGFILE;   # change \"selected output channel\"\n$| = 1;            # set autoflush on LOGFILE\nselect $fh;        # restore STDOUT as \"selected output channel\"\n$| = 0;            # turnoff autoflush on STDOUT\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1380, "user_id": 2165806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2921d9118eb14ea118e5efe367c5203?s=128&d=identicon&r=PG", "display_name": "Vouze", "link": "https://stackoverflow.com/users/2165806/vouze"}, "is_accepted": false, "score": 0, "last_activity_date": 1497888407, "creation_date": 1497888407, "answer_id": 44635231, "question_id": 44634898, "link": "https://stackoverflow.com/questions/44634898/what-is-the-scope-of-perls-output-autoflush-setting/44635231#44635231", "title": "What is the scope of Perl&#39;s $| (OUTPUT_AUTOFLUSH) setting?", "body": "<p>If what you do is not working, you should look somewhere else.</p>\n\n<p>If you redirect ssh to a file, it will not use a pseudo-terminal.</p>\n\n<p>So you may want to use \"ssh -t\" to force the use of a pseudo-terminal.</p>\n\n<p>You can also use the unbuffered write in perl :</p>\n\n<pre><code>syswrite(STDOUT, \"Hello\\n\");\nsyswrite(LOGFILE, $logline);\n</code></pre>\n\n<p>Note that it is not a good idea to mix buffered and unbuffered writes on the same file handle.</p>\n"}], "owner": {"reputation": 112608, "user_id": 419, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/dySwp.jpg?s=128&g=1", "display_name": "Kev", "link": "https://stackoverflow.com/users/419/kev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 1, "accepted_answer_id": 44635035, "answer_count": 4, "score": 7, "last_activity_date": 1497890414, "creation_date": 1497887314, "question_id": 44634898, "link": "https://stackoverflow.com/questions/44634898/what-is-the-scope-of-perls-output-autoflush-setting", "title": "What is the scope of Perl&#39;s $| (OUTPUT_AUTOFLUSH) setting?", "body": "<p>I have a Perl script running on an old CentOS 5.6 server which has Perl 5.8.8 installed. Unfortunately I can't upgrade either the OS or the version of Perl that's running on this server. </p>\n\n<p>When I'm running this script from the command prompt, despite there being a <code>$| = 1;</code> statement at the top of the script (in the global scope), it still seems to buffer output to the console (over a ssh session).</p>\n\n<p>Writes to both a log file and <code>STDOUT</code> are carried out by a function, for example:</p>\n\n<pre><code>#!/usr/bin/perl\n$| = 1;\n\n&amp;writelog(\"Started...\");\n\n# Do work with lots of writelog'ing\n\n&amp;writelog(\"...Done.\");\n\nexit(0);\n\nsub writelog {\n\n    # This is greatly simplified for the purpose of this question\n\n    my ($logentry) = @_;\n    my $logfile = \"/var/log/thelog.log\";\n    my $logline = \"$logentry\\n\";\n    print $logline;\n    open (LOGFILE, \"&gt;&gt;$logfile\");\n    print LOGFILE, \"$logline\";\n    close (LOGFILE);\n}\n</code></pre>\n\n<p>Does the value of <code>$|</code> only affect output in the current scope, i.e. in this case the script's global scope? Or should it, in the example above, also cause immediate flushing to <code>STDOUT</code>/<code>LOGFILE</code> by the <code>print</code> statements in <code>writelog</code>?</p>\n"}, {"tags": ["perl", "powershell"], "comments": [{"owner": {"reputation": 10781, "user_id": 447901, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/11ea5dd4ad290e75422e32e1e340772e?s=128&d=identicon&r=PG", "display_name": "lit", "link": "https://stackoverflow.com/users/447901/lit"}, "edited": false, "score": 0, "creation_date": 1497886428, "post_id": 44634440, "comment_id": 76254776, "body": "See also: <a href=\"https://stackoverflow.com/questions/2770124/executing-powershell-from-perl?rq=1\" title=\"executing powershell from perl\">stackoverflow.com/questions/2770124/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1497886573, "post_id": 44634543, "comment_id": 76254884, "body": "<code>foreach my $line ($output) { print $line; }</code> is better written as <code>print $output;</code>"}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497886684, "post_id": 44634543, "comment_id": 76254972, "body": "that is the same command i mentioned in the question and i specifically told its not working , this is the output i get  , the name of the cmdlet  and its module name"}, {"owner": {"reputation": 10781, "user_id": 447901, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/11ea5dd4ad290e75422e32e1e340772e?s=128&d=identicon&r=PG", "display_name": "lit", "link": "https://stackoverflow.com/users/447901/lit"}, "edited": false, "score": 0, "creation_date": 1497886879, "post_id": 44634543, "comment_id": 76255106, "body": "Please edit the question to include the code and output. It is not possible to do this in comments."}, {"owner": {"reputation": 10781, "user_id": 447901, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/11ea5dd4ad290e75422e32e1e340772e?s=128&d=identicon&r=PG", "display_name": "lit", "link": "https://stackoverflow.com/users/447901/lit"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1497892364, "post_id": 44634543, "comment_id": 76258429, "body": "@mob - I iterated over the output with the expectation that the OP would want to do something with the data."}], "tags": [], "owner": {"reputation": 10781, "user_id": 447901, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/11ea5dd4ad290e75422e32e1e340772e?s=128&d=identicon&r=PG", "display_name": "lit", "link": "https://stackoverflow.com/users/447901/lit"}, "is_accepted": false, "score": -1, "last_activity_date": 1497887087, "last_edit_date": 1497887087, "creation_date": 1497886336, "answer_id": 44634543, "question_id": 44634440, "link": "https://stackoverflow.com/questions/44634440/how-can-i-write-this-powershell-cmdlet-in-perl-script/44634543#44634543", "title": "How can i write this powershell cmdlet in perl script", "body": "<p>I feel confident that running an external program in Perl has been asked and answered many times.</p>\n\n<pre><code>my @output = qx(powershell -NoProfile -Command \"icm HOST01 { gci -n -rec D:\\\\file1 }\");\n\nforeach my $line (@output) {\n    print $line;\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $output = qx(powershell -NoProfile -Command \"icm HOST01 { gci -n -rec D:\\\\file1 }\");\n\nprint $output;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1497887031, "last_edit_date": 1497887031, "creation_date": 1497886354, "answer_id": 44634549, "question_id": 44634440, "link": "https://stackoverflow.com/questions/44634440/how-can-i-write-this-powershell-cmdlet-in-perl-script/44634549#44634549", "title": "How can i write this powershell cmdlet in perl script", "body": "<p><code>invoke-command HOST01 { cmd /C dir /S /B D:\\file1 }</code> isn't a shell (<code>cmd</code>) command. It's a PowerShell command, so you need to start by invoking PowerShell.</p>\n\n<p>This is what you'd run from the command line:</p>\n\n<pre><code>PowerShell -NoProfile -Command \"Invoke-Command HOST01 { cmd /C dir /S /B D:\\file1 }\"\n</code></pre>\n\n<p>So you want:</p>\n\n<pre><code>qx{PowerShell -NoProfile -Command \"Invoke-Command HOST01 { cmd /C dir /S /B D:\\file1 }\"}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "closed_date": 1497950763, "answer_count": 2, "score": -3, "last_activity_date": 1497887087, "creation_date": 1497886007, "question_id": 44634440, "link": "https://stackoverflow.com/questions/44634440/how-can-i-write-this-powershell-cmdlet-in-perl-script", "closed_reason": "Duplicate", "title": "How can i write this powershell cmdlet in perl script", "body": "<pre><code> invoke-command HOST01 { cmd /C dir /S /B D:\\file1 }\n</code></pre>\n\n<p>How can i include this command in a perl script i tried using </p>\n\n<p><code>qx(invoke-command HOST01 { cmd /C dir /S /B D:\\file1 })</code> it doesn't work ,the program runs forever.</p>\n"}, {"tags": ["perl", "foreach", "while-loop", "truncate", "truncated"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497896963, "post_id": 44634352, "comment_id": 76260966, "body": "<a href=\"http://search.cpan.org/perldoc?Text::Wrap\" rel=\"nofollow noreferrer\">Text::Wrap</a>"}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1497901085, "post_id": 44634539, "comment_id": 76263092, "body": "Because <code>truncate</code> is a perl builtin and the <code>&amp;sigil</code> is one of many ways (because it&#39;s Perl) to suppress the <code>Ambiguous call resolved as CORE::truncate ...</code> message. OP is hereby warned <a href=\"https://metacpan.org/pod/Perl::Critic::Policy::Subroutines::ProhibitAmpersandSigils\" rel=\"nofollow noreferrer\">to avoid the <code>&amp;</code> sigil</a>,  <a href=\"https://metacpan.org/pod/Perl::Critic::Policy::Subroutines::ProhibitSubroutinePrototypes\" rel=\"nofollow noreferrer\">to use prototypes sparingly</a> and <a href=\"https://metacpan.org/pod/Perl::Critic::Policy::Subroutines::ProhibitBuiltinHomonyms\" rel=\"nofollow noreferrer\">to not use subroutine names that are the same as a builtin Perl function</a>."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1497886324, "creation_date": 1497886324, "answer_id": 44634539, "question_id": 44634352, "link": "https://stackoverflow.com/questions/44634352/truncate-all-lines-in-a-file-while-preserving-whole-words/44634539#44634539", "title": "truncate all lines in a file while preserving whole words", "body": "<p>You have no output because you have no input.</p>\n\n<pre><code>1. my @file = &lt;$file&gt;;  #each line of the file into an array\n2. while (my $line = &lt;$file&gt;) { ...\n</code></pre>\n\n<p>The <code>&lt;$file&gt;</code> operation line 1 is in list context \"consumes\" all the input and loads it into <code>@file</code>. The <code>&lt;$file&gt;</code> operation in line 2 has no more input to read, so the <code>while</code> loop does not execute.</p>\n\n<p>You either want to stream from the filehandle</p>\n\n<pre><code># don't call @file = &lt;$file&gt;\nwhile (my $line = &lt;$file&gt;) {\n    chomp $line; \n    my $truncated = &amp;truncate($line, 96);\n    ...\n}\n</code></pre>\n\n<p>Or read from the array of file contents</p>\n\n<pre><code>my @file = &lt;$file&gt;;\nforeach my $line (@file) {\n    chomp $line; \n    my $truncated = &amp;truncate($line, 96);\n    ...\n}\n</code></pre>\n\n<p>If the input is large, the former format has the advantage of just loading a single line into memory at a time.</p>\n"}], "owner": {"reputation": 32, "user_id": 3643012, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa0638fb5347f875c4ee24b2a683ece4?s=128&d=identicon&r=PG&f=1", "display_name": "user3643012", "link": "https://stackoverflow.com/users/3643012/user3643012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 44634539, "answer_count": 1, "score": -1, "last_activity_date": 1497886324, "creation_date": 1497885782, "question_id": 44634352, "link": "https://stackoverflow.com/questions/44634352/truncate-all-lines-in-a-file-while-preserving-whole-words", "title": "truncate all lines in a file while preserving whole words", "body": "<p>I'm trying to shorten each line of a file to 96 characters while preserving whole words.  If a line is under or equal to 96 chars, I want to do nothing with that line.  If it over 96 chars, I want it cut it down to the closest amount less than 96 while preserving whole words.  When I run this code, I get a blank file.</p>\n\n<pre><code>use Text::Autoformat;\n\nuse strict;\nuse warnings;\n\n#open the file\nmy $filename = $ARGV[0]; # store the 1st argument into the variable\nopen my $file, '&lt;', $filename;\nopen my $fileout, '&gt;&gt;', $filename.96;\n\nmy @file = &lt;$file&gt;;  #each line of the file into an array\n\nwhile (my $line = &lt;$file&gt;) {\n  chomp $line;\n  foreach (@file) {\n#######\nsub truncate($$) {\n    my ( $line, $max ) = @_;\n\n    # always do nothing if already short enough \n    ( length( $line ) &lt;= $max ) and return $line;\n\n    # forced to chop a word anyway\n    if ( $line =~ /\\s/ ) {\n       return substr( $line, 0, $max );\n    }\n    # otherwise truncate on word boundary \n    $line =~ s/\\S+$// and return $line;\n\n    die; # unreachable\n}\n####### \n\nmy $truncated  = &amp;truncate($line,96);\n\nprint $fileout \"$truncated\\n\";\n\n  }\n}       \nclose($file);\nclose($fileout);\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "is_accepted": false, "score": 1, "last_activity_date": 1497883212, "creation_date": 1497883212, "answer_id": 44633497, "question_id": 44633424, "link": "https://stackoverflow.com/questions/44633424/matching-first-end-bracket-in-perl-regexp/44633497#44633497", "title": "Matching first end bracket in perl regexp", "body": "<p>Found it!  so I think the negation operator (<code>^</code>) was including the end bracket in the capture..</p>\n\n<p>Solution:</p>\n\n<pre><code>perl -pi -w -e \"s/(\\bgetnitemc)\\(([^,]+),([^,)]+)\\)/\\$1\\(\\$2,\\$3,1,1,''\\)/g;\" d_*.sas\n</code></pre>\n\n<p>(<code>[^,)]</code>)</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": -1, "last_activity_date": 1497886597, "last_edit_date": 1497886597, "creation_date": 1497885924, "answer_id": 44634407, "question_id": 44633424, "link": "https://stackoverflow.com/questions/44633424/matching-first-end-bracket-in-perl-regexp/44634407#44634407", "title": "Matching first end bracket in perl regexp", "body": "<p>The simple solution is to exclude <code>)</code> from <code>getnitemc</code>'s argument list. All you need to match the existing arguments is <code>[^)]*</code>.</p>\n\n<p>After some cleanup, you get</p>\n\n<pre><code>perl -i -wpe's/\\b(getnitemc\\([^)]*)/$1,1,1,\\x27\\x27/g' d_*.sas\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -i -wpe's/\\bgetnitemc\\([^)]*\\K/,1,1,\\x27\\x27/g' d_*.sas   # 5.10+\n</code></pre>\n"}], "owner": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1497886903, "creation_date": 1497882989, "last_edit_date": 1497886903, "question_id": 44633424, "link": "https://stackoverflow.com/questions/44633424/matching-first-end-bracket-in-perl-regexp", "title": "Matching first end bracket in perl regexp", "body": "<p>I have the following regex:</p>\n\n<pre><code>perl -pi -w -e \"s/(\\bgetnitemc)\\(([^,]+),([^,]+)\\)/\\$1\\(\\$2,\\$3,1,1,''\\)/g;\" d_*.sas\n</code></pre>\n\n<p>Which has the following impact (git diff):</p>\n\n<pre><code>-               if getnitemc(l_sub2,'OBJTYPE') = 'SLIST' then\n-                  l_tempa = insertc(l_tempa,getnitemc(l_sub2,'OBJNAME'));\n+               if getnitemc(l_sub2,'OBJTYPE',1,1,'') = 'SLIST' then\n+                  l_tempa = insertc(l_tempa,getnitemc(l_sub2,'OBJNAME'),1,1,'');\n</code></pre>\n\n<p>So the behaviour for the first line is working as desired.  However, in the second line, the part I'm trying to add (<code>,1,1,''</code>) is applied to the wrapper function (<code>insertc</code>) rather than the target function (<code>getnitemc</code>).  It kind of 'skips a bracket' if you can see what I mean.</p>\n\n<p>Where am I going wrong?</p>\n"}, {"tags": ["regex", "string", "perl", "text-manipulation"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1497869758, "post_id": 44628344, "comment_id": 76242769, "body": "You need <code>shift @pattern</code> instead of <code>pop</code>."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1497870661, "last_edit_date": 1497870661, "creation_date": 1497868773, "answer_id": 44628344, "question_id": 44628272, "link": "https://stackoverflow.com/questions/44628272/replace-a-string-with-a-different-string-every-time-it-occurs/44628344#44628344", "title": "Replace a string with a different string every time it occurs", "body": "<p>There's a useful feature of perl, that is <code>/e</code> flag to regex, that says 'evaluate an expression. </p>\n\n<p>So you can do it like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings; \n\nmy @pattern = ( \"apple\",\"mango\",\"orange\" );\n\nwhile ( &lt;DATA&gt; ) {\n   s/object/shift @pattern/eg; \n   print ;\n}\n\n__DATA__\nThere is an object on the table\nThe object is under the chair\nThere might be an object in my pocket\n</code></pre>\n\n<p>Although note that because you're <code>shift</code>ing <code>@pattern</code> it'll empty out as you go. (the 4th replacement will be 'undefined').</p>\n\n<p>But you can do something similar if you're looking to do a rotating pattern. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings; \n\nmy @pattern = ( \"apple\",\"mango\",\"orange\" );\nmy $hit_count = 0; \n\nwhile ( &lt;&gt; ) {\n   s/object/$pattern[$hit_count++ % @pattern]/eg; \n   print ;\n}\n</code></pre>\n\n<p>This keeps a running total of how many times the pattern has matched, and uses the modulo operator to select the right array element, so future hits get replaced in rotating order. </p>\n"}], "owner": {"reputation": 1, "user_id": 5030420, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Lh9HX2Pr76g/AAAAAAAAAAI/AAAAAAAAAEk/UxsfvLrBqJA/photo.jpg?sz=128", "display_name": "Shreyas Tater", "link": "https://stackoverflow.com/users/5030420/shreyas-tater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 2, "answer_count": 1, "score": -3, "last_activity_date": 1497870661, "creation_date": 1497868547, "last_edit_date": 1497869600, "question_id": 44628272, "link": "https://stackoverflow.com/questions/44628272/replace-a-string-with-a-different-string-every-time-it-occurs", "title": "Replace a string with a different string every time it occurs", "body": "<p>I have a text file with three occurrences of the string 'object'.</p>\n\n<pre><code>There is an object on the table\nThe object is under the chair\nThere might be an object in my pocket\n</code></pre>\n\n<p>I want to write a Perl script to replace every occurrence of 'object' with another string contained in an array of three elements. The first element of the array is matched to the first occurrence of 'object', the second element to the second occurrence, and so on.</p>\n\n<p>For example, if</p>\n\n<pre><code>my @pattern = ( \"apple\", \"mango\", \"orange\" );\n</code></pre>\n\n<p>Then the output must be:</p>\n\n<pre><code>There is an apple on the table\nThe mango is under the chair\nThere might be an orange in my pocket\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1497873918, "post_id": 44628023, "comment_id": 76245676, "body": "@Sinan&#220;n&#252;r: This is not actually <code>*ini</code> file however we renamed the <code>*txt</code> as <code>*ini</code>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1497878717, "post_id": 44628023, "comment_id": 76249029, "body": "Here is why your question is unclear: I&#39;ve read it at least 10 times, and I am just beginning to understand that your question is about a configuration file which has a list of TeX/LaTeX macro names to replace sequences of TeX/LaTeX commands in a Tex/LaTeX document. You do not provide sample input nor do you provide a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>. It is still very unclear to me what the code snippet you provide is supposed to be doing."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1497879724, "post_id": 44628023, "comment_id": 76249768, "body": "@Sinan&#220;n&#252;r: Accept my sincere apologies for my way of question posted. Just this is enough I thought, what we could get the ideas from champs from the SO. Simple I have <code>*ini</code> supporting file from users and I need to change {thisstring} = {thatstring}. Now if the <code>thatstring</code> now with space or without space (but in the <code>*ini</code> there is no space default). This is my question"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1497879924, "post_id": 44628023, "comment_id": 76249907, "body": "No need to apologize, but note that even your comment is ambiguous. Show something that is self-contained and others can run. Are you trying to replace (i) <code>{thisstring}</code> with <code>{thatstring}</code>; or (ii) <code>thisstring</code> with <code>thatstring</code>; or (iii) <code>thisstring</code> with <code>{thatstring}</code>?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1497881626, "post_id": 44628023, "comment_id": 76251319, "body": "don&#39;t consider the brackets since brackets grouping the values for replacing only. The <code>*ini</code> file contains <code>thisstring</code> = <code>{thatstring}</code>. In this case please not consider the curly braces <code>thisstring</code> = <code>thatstring</code> that&#39;s all."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1497883286, "post_id": 44628023, "comment_id": 76252521, "body": "<code>thatstring</code> having space or without space. But in the <code>*ini</code> there is no space. Hence we need to check in the main file with and without space."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1497883439, "post_id": 44628023, "comment_id": 76252641, "body": "You keep missing the point: <b><i>Show something that is self-contained and others can run.</i></b> I tried to point out to you that your comments do not resolve any uncertainty."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1497884143, "post_id": 44628023, "comment_id": 76253186, "body": "I will clearly update the question soon"}], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1497952794, "post_id": 44629490, "comment_id": 76284751, "body": "Awesome. I got the expected output from your answer."}], "tags": [], "owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "is_accepted": false, "score": 1, "last_activity_date": 1497872071, "creation_date": 1497872071, "answer_id": 44629490, "question_id": 44628023, "link": "https://stackoverflow.com/questions/44628023/find-a-string-with-space-and-without-space-from-the-ini-file/44629490#44629490", "title": "Find a string with space and without space from the INI file", "body": "<p>You can create an array of single commands from your combination of commands: <code>my @cmds = $replaceStr =~ /\\\\[^\\\\]+/g</code>. And then join them with optional spaces in between: <code>join '\\s*', @cmds</code>.<br>\nHowever, you also need to escape the special characters of <code>$replaceStr</code> (like the backslashes) or they will bother you in the regex. You can do that with the <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\"><code>quotemeta</code></a> built-in. (This can also be done from inside the regex with <code>\\Q...\\E</code>, but since here you won't want the <code>\\s*</code> to be escaped, <code>quotemeta</code> will be more convenient).</p>\n\n<p>Put together, it becomes:</p>\n\n<pre><code>my @cmds = $replaceStr =~ /\\\\[^\\\\]+/g\nmy @esc_cmds = map { quotemeta } @cmds;\nmy $re = join '\\s*', @esc_cmds;\n</code></pre>\n\n<p>But you can combine it in a single line (if it's readable enough for you):</p>\n\n<pre><code>my $re = join '\\s*', map { quotemeta } ($replaceStr =~ /\\\\[^\\\\]+/g);\n</code></pre>\n\n<p>For instance, this script works the way you want:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nmy @tags = ( '\\nleftarrow = {\\not\\leftarrow}',\n             '\\nrightarrow = {\\not\\rightarrow}',\n             '\\nleftrightarrow = {\\not\\leftrightarrow}' );\n\n# Only the last 2 lines should be left unchanged\nmy $str = '\\not\\leftarrow\n\\not \\leftarrow\n \\not\\leftarrow\n\\ not\\leftarrow\n\\leftarrow';\n\nsay \"Before:\\n$str\";\nforeach my $repStr(@tags) {\n    my ($findStr, $replaceStr) = ($repStr =~ /^([^\\s]*)\\s*=\\s*\\{([^\\{\\}]*)\\}/i);\n\n    my $re = join '\\s*', map { quotemeta } ($replaceStr =~ /\\\\[^\\\\]+/g);\n\n    $str =~ s/$re/$findStr/g;\n}\nsay \"\\nAfter:\\n$str\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 1, "last_activity_date": 1497909309, "creation_date": 1497909309, "answer_id": 44640585, "question_id": 44628023, "link": "https://stackoverflow.com/questions/44628023/find-a-string-with-space-and-without-space-from-the-ini-file/44640585#44640585", "title": "Find a string with space and without space from the INI file", "body": "<p>To fix ideas, the following are given:</p>\n\n<h3>A configuration file</h3>\n\n<p>This maps TeX/LaTeX macro names to sequences of TeX/LaTeX commands. It is in <code>macro name = command sequence</code> format. E.g.:</p>\n\n<pre class=\"lang-ini prettyprint-override\"><code>\\nleftarrow = {\\not\\leftarrow}\n\\nrightarrow = {\\not\\rightarrow}\n\\nleftrightarrow = {\\not\\leftrightarrow}\n</code></pre>\n\n<p>It is not clear what function is served by the braces which enclose the replacements. Do they appear in the source file (see below)? Or, do they delimit whitespace? In short, are they supposed to be stripped?</p>\n\n<p><strong><em>It would have been much better if you had provided just a paragraph of sample text instead of requiring us to make assumptions about it.</em></strong></p>\n\n<h3>A TeX/LaTeX source file</h3>\n\n<p>In this, there are command sequences which need to be replaced with macro names based on the mapping in the configuration file mentioned above. However, <a href=\"https://tex.stackexchange.com/a/31094/610\">because TeX eats spaces after macro invocations</a>, one needs to consider the possibility of a space character in between every command in the replacement sequence. In the example above, there are only two commands in each replacement sequence, but it is not hard to imagine more.</p>\n\n<p><strong><em>It would have been much better if you had provided just a paragraph of sample text instead of requiring us to construct it.</em></strong></p>\n\n<p>You seem to have cooked up a custom way of parsing the mapping of replacements. I would recommend using a decent parser instead, e.g. <a href=\"https://metacpan.org/pod/Config::INI::Reader\" rel=\"nofollow noreferrer\">Config::INI::Reader</a>.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Config::INI::Reader;\n\nmy $ini_contents = &lt;&lt;'EO_INI';\n\\nleftarrow = {\\not\\leftarrow}\n\\nrightarrow = {\\not\\rightarrow}\n\\nleftrightarrow = {\\not\\leftrightarrow}\nEO_INI\n\nmy $tex_source = &lt;&lt;'EO_TEX';\nLorem ipsum dolor \\not\\leftarrow{} sit amet, ea quem idque senserit eum, in\n\\not \\rightarrow{} duo amet recusabo sensibus. Mei velit suavitate ei, ferri\nconsequuntur vis eu, qui unum volumus an. Rebum democritum no nec, et \\not\n\\leftrightarrow{} eam natum patrioque, mentitum evertitur reprimique nec te.\nUsu et docendi \\not\\rightarrow{} partiendo, eos ut assum errem simul.\nEO_TEX\n\n# Helper function to deal with matches with spaces\n# because our mapping does not have sequences\n# containing spaces.\nsub match_to_key {\n    my ($s) = @_;\n    $s =~ s/\\s+//g;\n    return $s;\n}\n\n# Assume mappings appear in a single global section only\nmy $macro_definition = Config::INI::Reader-&gt;read_string($ini_contents)-&gt;{_};\n\n# Assuming { and } need to be removed\nfor (values %$macro_definition) {\n    s/^\\{//;\n    s/\\}\\z//;\n}\n\n# map command sequences to replacement macros\n$macro_definition = { reverse %$macro_definition };\n\nmy $command_sequence_pat = join '|',\n    sort { length($b) &lt;=&gt; length($a) }\n    map join('\\s?', map quotemeta, m{ (\\\\\\w+) }gx),\n    keys %$macro_definition\n;\n\nprint \"Text before replacement:\\n\";\n\nprint \"&gt;&gt;&gt;$tex_source&lt;&lt;&lt;\\n\\n\";\n\n$tex_source =~ s/($command_sequence_pat)/$macro_definition-&gt;{match_to_key($1)}/g;\n\nprint \"Text after replacement:\\n\";\n\nprint \"&gt;&gt;&gt;$tex_source&lt;&lt;&lt;\\n\\n\";\n</code></pre>\n\n<p>Note that the wrapping of original text might get messed up.</p>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Text before replacement:\n&gt;&gt;&gt;Lorem ipsum dolor \\not\\leftarrow{} sit amet, ea quem idque senserit eum, in\n\\not \\rightarrow{} duo amet recusabo sensibus. Mei velit suavitate ei, ferri\nconsequuntur vis eu, qui unum volumus an. Rebum democritum no nec, et \\not\n\\leftrightarrow{} eam natum patrioque, mentitum evertitur reprimique nec te.\nUsu et docendi \\not\\rightarrow{} partiendo, eos ut assum errem simul.\n&lt;&lt;&lt;\n\nText after replacement:\n&gt;&gt;&gt;Lorem ipsum dolor \\nleftarrow{} sit amet, ea quem idque senserit eum, in\n\\nrightarrow{} duo amet recusabo sensibus. Mei velit suavitate ei, ferri\nconsequuntur vis eu, qui unum volumus an. Rebum democritum no nec, et \\nleftrightarrow{} eam natum patrioque, mentitum evertitur reprimique nec te.\nUsu et docendi \\nrightarrow{} partiendo, eos ut assum errem simul.\n&lt;&lt;&lt;\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 44640585, "answer_count": 2, "score": 0, "last_activity_date": 1497909309, "creation_date": 1497867769, "question_id": 44628023, "link": "https://stackoverflow.com/questions/44628023/find-a-string-with-space-and-without-space-from-the-ini-file", "title": "Find a string with space and without space from the INI file", "body": "<p>My Input <code>*INI</code> file:</p>\n\n<pre><code>\\nleftarrow = {\\not\\leftarrow}\n\\nrightarrow = {\\not\\rightarrow}\n\\nleftrightarrow = {\\not\\leftrightarrow}\n</code></pre>\n\n<p>I need to find the <code>\\not\\leftarrow</code> and replace with the string <code>\\nleftarrow</code>.  The things is here <code>\\not\\leftarrow</code> we need to check whether the space is available in the finding string eg: <code>\\not \\leftarrow</code>. Both the things we need to replace the string.</p>\n\n<p>In Main file:</p>\n\n<pre><code> $str=~s/\\\\not\\\\leftarrow/\\\\nleftarrow/g;\n $str=~s/\\\\not \\\\leftarrow/\\\\nleftarrow/g;\n</code></pre>\n\n<p>My Code:</p>\n\n<pre><code>foreach my $repStr(@tags) #storing all the `*INI` lines in the Array\n{\n    my ($findStr, $replaceStr) = ($repStr =~ /^([^\\s]*)\\s*=\\s*\\{([^\\{\\}]*)\\}/i);\n    $str=~s/$replaceStr/$findStr/g;\n\n    #I need to check the string with space\n\n}\n</code></pre>\n\n<p>Could anyone can guide me the way to code the request.</p>\n"}, {"tags": ["perl", "svn"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1497866757, "creation_date": 1497866757, "answer_id": 44627638, "question_id": 44626983, "link": "https://stackoverflow.com/questions/44626983/svnclient-commit-with-comment-message-option/44627638#44627638", "title": "SVN::Client commit with comment/message option", "body": "<p><a href=\"http://search.cpan.org/~mschwern/Alien-SVN-v1.8.11.0/src/subversion/subversion/bindings/swig/perl/native/Client.pm\" rel=\"nofollow noreferrer\">The documentation of SVN::Client</a> says you need to use the <code>log_msg</code> callback.</p>\n\n<blockquote>\n  <p>$client->commit($targets, $nonrecursive, $pool);  </p>\n  \n  <p>Commit files or directories referenced by target. Will use the log_msg callback to obtain the log message for the commit.</p>\n</blockquote>\n\n<p>Here's what the doc says about <code>log_msg</code>.</p>\n\n<blockquote>\n  <p>$client->log_msg(\\&amp;log_msg)</p>\n  \n  <p>Sets the log_msg callback for the client\n  context to a code reference that you pass. It always returns the\n  current codereference set.</p>\n  \n  <p>The subroutine pointed to by this coderef will be called to get the\n  log message for any operation that will commit a revision to the repo.</p>\n  \n  <p>It receives 4 parameters. The first parameter is a reference to a\n  scalar value in which the callback should place the log_msg. If you\n  wish to cancel the commit you can set this scalar to undef. The 2nd\n  value is a path to any temporary file which might be holding that log\n  message, or undef if no such file exists (though, if log_msg is undef,\n  this value is undefined). The log message MUST be a UTF8 string with\n  LF line separators. The 3rd parameter is a reference to an array of\n  svn_client_commit_item3_t objects, which may be fully or only\n  partially filled-in, depending on the type of commit operation. The\n  4th and last parameter will be a pool.</p>\n  \n  <p>If the function wishes to return an error it should return a\n  svn_error_t object made with SVN::Error::create. Any other return\n  value will be interpreted as SVN_NO_ERROR.</p>\n</blockquote>\n\n<p>According to this, probably the easiest way is to just call that every time you want to make a commit, and install a new message.</p>\n\n<pre><code>$client-&gt;log_msg( sub { \n    my ( $msg_ref, $path, $array_of_commit_obj, $pool ) = @_;\n\n    # set the message, beware the scalar reference\n    $$msg_ref = \"Initial commit\\n\\nFollowed by a wall of text...\";\n\n    return; # undef should be treated like SVN_NO_ERROR\n});\n\n$client-&gt;commit($targets, $nonrecursive, $pool);\n\n# possibly call log_msg again to reset it. \n</code></pre>\n\n<p>If you want this to be easier, you can install that same handler once, but use a (possibly global or package) variable for the message.</p>\n\n<pre><code>our $commit_message;\n$client-&gt;log_msg( sub { \n    my ( $msg_ref, $path, $array_of_commit_obj, $pool ) = @_;\n\n    # set the message, beware the scalar reference\n    $$msg_ref = $commit_message;\n\n    return; # undef should be treated like SVN_NO_ERROR\n});\n\n# ...\n\nfor my $targets ( @list_of_targets ) {\n    $commit_message = get_msg($targets); # or whatever\n    $client-&gt;commit($targets, $nonrecursive, $pool);\n}\n</code></pre>\n\n<p>This way you are reusing the callback, but changing the message every time.</p>\n\n<hr>\n\n<p>Please note that I have not tried this. All I've done is read the documentation and making some wild guesses.</p>\n"}], "owner": {"reputation": 71, "user_id": 1831645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78370eaea0b6f6d71249f42878917f0?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1831645/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1497866757, "creation_date": 1497864946, "question_id": 44626983, "link": "https://stackoverflow.com/questions/44626983/svnclient-commit-with-comment-message-option", "title": "SVN::Client commit with comment/message option", "body": "<p>I am trying to automate some svn tasks with perl <strong>SVN::Client</strong> module.</p>\n\n<p>Unfortunately I couldn't find an option to commit a file with commit message.\nCurrenty I am using following method.</p>\n\n<pre><code>$client-&gt;commit($targets, $nonrecursive, $pool);\n</code></pre>\n\n<p>Does anyone know how can I add comment/message in svn commit with SVN::Client?\nIs there any alternative options with perl to do this?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["regex", "perl", "greedy", "regex-greedy"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497886782, "post_id": 44625866, "comment_id": 76255033, "body": "Re &quot;<i>Perl Non-greedy Matching \u2014 Is the \u201c?\u201d character used correctly?</i>&quot;, If you&#39;re using it as anything but an optimization, I would argue no."}], "answers": [{"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 2, "last_activity_date": 1497861939, "creation_date": 1497861939, "answer_id": 44625942, "question_id": 44625866, "link": "https://stackoverflow.com/questions/44625866/perl-non-greedy-matching-is-the-character-used-correctly/44625942#44625942", "title": "Perl Non-greedy Matching -- Is the &quot;?&quot; character used correctly?", "body": "<p>Replace the <code>.*?</code> with <code>[^][]*</code> to match 0+ chars other than <code>]</code> and <code>[</code>:</p>\n\n<pre><code>/(\\w+)(\\s*\\[[^][]*])*\\s*=/\n            ^^^^^^\n</code></pre>\n\n<p>You may also turn the second capturing group into a non-capturing one if you are not using that value.</p>\n\n<p><strong>Pattern details</strong>:</p>\n\n<ul>\n<li><code>(\\w+)</code> - Group 1: one or more word chars</li>\n<li><code>(\\s*\\[[^][]*])*</code> - a capturing group (add <code>?:</code> after <code>(</code> to make it non-capturing) zero or more occurrences of:\n\n<ul>\n<li><code>\\s*</code> - 0+ whitespaces</li>\n<li><code>\\[</code> - a literal <code>[</code></li>\n<li><code>[^][]*</code> -  a negated character class matching zero or more chars other than <code>]</code> and <code>[</code></li>\n<li><code>]</code> - a literal <code>]</code></li>\n</ul></li>\n<li><code>\\s*</code>  - zero or more whitespaces</li>\n<li><code>=</code>  - an equal sign.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "edited": false, "score": 0, "creation_date": 1497935509, "post_id": 44626216, "comment_id": 76273820, "body": "Thank you for your explanation on the leftmost behaviour of greediness. It&#39;s very useful"}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 2, "last_activity_date": 1497862755, "creation_date": 1497862755, "answer_id": 44626216, "question_id": 44625866, "link": "https://stackoverflow.com/questions/44625866/perl-non-greedy-matching-is-the-character-used-correctly/44626216#44626216", "title": "Perl Non-greedy Matching -- Is the &quot;?&quot; character used correctly?", "body": "<p>Greediness vs. non-greediness affects where a match <em>ends</em>, but it still <em>starts</em> as early as possible.  Basically, a greedy match is the leftmost-longest possible match, while non-greedy is leftmost-shortest.  But non-greedy is still leftmost, not rightmost.</p>\n\n<p>To get what you want, I would use a more explicit description of what I want matched:  <code>/(\\w+)(\\s*\\[[^]]*\\])?\\s*=/</code>  In English, that's a word (<code>\\w+</code>), optionally followed by some text in square brackets (<code>(\\s*\\[[^]]*\\])?</code>), and then optional whitespace and an equals sign.  Note that I used a negated character class (<code>[^]]</code>) instead of a non-greedy match for what's inside the brackets - IMO, negated character classes are generally a better option than non-greedy matching.</p>\n\n<p>Results with this regex:</p>\n\n<pre><code>$ perl -E '$x = q(parameter reg [31:0] PORT_WIDTH [BWIDTH-1:0] = 32;); $x =~ /(\\w+)(:?\\s*\\[[^]]*\\])?\\s*=/; say $1;'\nPORT_WIDTH\n$ perl -E '$x = q(parameter BWIDTH = 32;); $x =~ /:?(\\w+)(\\s*\\[[^]]*\\])?\\s*=/; say $1;'\nBWIDTH\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1497879780, "creation_date": 1497879780, "answer_id": 44632259, "question_id": 44625866, "link": "https://stackoverflow.com/questions/44625866/perl-non-greedy-matching-is-the-character-used-correctly/44632259#44632259", "title": "Perl Non-greedy Matching -- Is the &quot;?&quot; character used correctly?", "body": "<p>You have information available to you which you are choosing not to use. You know the basic structure of each statement you are trying to parse. The statements have mandatory and optional parts. So, put the information you have in to the match. For example:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $stuff_in_square_brackets = qr{ \\[ [^\\]]+ \\] }x;\n\nmy $re = qr{\n    ^\n    parameter \\s+\n    (?: reg \\s+)?\n    (?: $stuff_in_square_brackets \\s+)?\n    (\\w+) \\s+\n    (?: $stuff_in_square_brackets \\s+)?\n    = \\s+\n    (\\w+) ;\n    $\n}x;\n\nwhile (my $line = &lt;DATA&gt;) {\n    if (my($p, $v) = ($line =~ $re)) {\n        print \"'$p' = '$v'\\n\";\n    }\n}\n\n__DATA__\nparameter BWIDTH = 32;\nparameter reg [31:0] PORT_WIDTH [BWIDTH-1:0] = 32;\n</code></pre>\n\n<p>Output:</p>\n\n\n\n<pre><code>'BWIDTH' = '32'\n'PORT_WIDTH' = '32'\n</code></pre>\n"}], "owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 44625942, "answer_count": 3, "score": 2, "last_activity_date": 1497879780, "creation_date": 1497861708, "question_id": 44625866, "link": "https://stackoverflow.com/questions/44625866/perl-non-greedy-matching-is-the-character-used-correctly", "title": "Perl Non-greedy Matching -- Is the &quot;?&quot; character used correctly?", "body": "<p>I am trying to match the parameter name of a parameter declaration line such as below:</p>\n\n<p><code>parameter BWIDTH = 32;</code></p>\n\n<p>The Perl regular expression used is: </p>\n\n<p><code>$line =~ /(\\w+)\\s*=/</code> </p>\n\n<p>where the parameter name, <code>BWIDTH</code>, is captured into <code>$1</code>. Most parameters I encountered are declared in such a way that the name precedes the equal sign, <code>\"=\"</code>, which is the reason the regular expression is designed with the <code>\"=\"</code> in it (<code>/(\\w+)\\s*=/</code>).</p>\n\n<p>However there are special cases where the parameter is declared:</p>\n\n<p><code>parameter reg [31:0] PORT_WIDTH [BWIDTH-1:0] = 32;</code></p>\n\n<p>In this case, the parameter name that I am trying to capture is <code>PORT_WIDTH</code>. Revising the regular expression to match this instance does not capture <code>PORT_WIDTH</code> successfully, although it does capture <code>BWIDTH</code> fine.</p>\n\n<p><code>$line =~ /(\\w+)(\\s*\\[.*?\\])*\\s*=/</code></p>\n\n<p>where <code>(\\s*\\[.*?\\])*</code> matches <code>reg [31:0] PORT_WIDTH [BWIDTH-1:0]</code> which is greedy matching. </p>\n\n<p>I am baffled as to why the metacharacter <code>?</code> does not halt the greedy matching? How should I revise the regular expression?</p>\n"}, {"tags": ["perl", "mouse"], "comments": [{"owner": {"reputation": 91, "user_id": 3848751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21f562f44f3c28edecab9cbe5442329?s=128&d=identicon&r=PG&f=1", "display_name": "Sergun_spb", "link": "https://stackoverflow.com/users/3848751/sergun-spb"}, "edited": false, "score": 0, "creation_date": 1497863897, "post_id": 44625842, "comment_id": 76238848, "body": "Do you have any field that can identify object ?  If yes, you could use this field as hash-key in hash. Example:  $master_members-&gt;{$target_user_object-&gt;ID} ."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497865963, "post_id": 44625842, "comment_id": 76240226, "body": "Why did you tag this with <i>mouse</i>?"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1497863967, "creation_date": 1497863967, "answer_id": 44626625, "question_id": 44625842, "link": "https://stackoverflow.com/questions/44625842/perl-quickly-find-object-in-list-of-objects-looking-for-a-fitting-datastructu/44626625#44626625", "title": "Perl: Quickly find object in list of objects - looking for a fitting datastructure", "body": "<p>You're right that hash keys are stringified. You cannot use objects as keys. But a hash is the right data structure. </p>\n\n<p>Instead of just letting Perl stringify your references, build your own serializer. That could be as simple as using the <code>cn</code>. Or a concatenation of all the fields of the object. Make a sub, put that in there, call that sub within your <code>exist</code>.</p>\n\n<pre><code>... if exists $master_members-&gt;{ my_serializer($target_user_object) };\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 6013979, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9a594885e641ccaa827d19d1ca303c4?s=128&d=identicon&r=PG&f=1", "display_name": "yulivee", "link": "https://stackoverflow.com/users/6013979/yulivee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 44626625, "answer_count": 1, "score": 1, "last_activity_date": 1497863967, "creation_date": 1497861642, "question_id": 44625842, "link": "https://stackoverflow.com/questions/44625842/perl-quickly-find-object-in-list-of-objects-looking-for-a-fitting-datastructu", "title": "Perl: Quickly find object in list of objects - looking for a fitting datastructure", "body": "<p>I am developing a program to sync users between to different LDAP Servers. I have two types of user groups: Master-Groups and Target-Groups (those are predefined in a config-file. There can be multiple Master and Targets per Group definition).\nUsers in Master-Groups missing in the Target-Groups shall be added to the Targets, Users in Target-Groups missing in Master-Groups shall be removed from the Targets.</p>\n\n<p>The Users in those Groups are Objects themselves. My problem is as follows:</p>\n\n<p>I loop through my availiable master groups and have to perform a quick lookup wheter a user is already part of a target-group. I am struggeling to pick the right datastructure to solve this problem. I tried using a hash, but quickly realized that hash-keys are stringyfied, so I cannot perform</p>\n\n<pre><code>if ( exists( $master_members-&gt;{$target_user_object} ) ) \n</code></pre>\n\n<p>When using an array for storing the objects, everytime I have to check if a user object exists, I have to loop through the whole array which essentially kills performance. </p>\n\n<p>How do I perfom a lookup if a specific object exists in a list of objects?</p>\n\n<p>Kind Regards,\nYulivee</p>\n"}, {"tags": ["mongodb", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497861285, "post_id": 44625527, "comment_id": 76237101, "body": "There is no built-in way to do that. <a href=\"https://grep.metacpan.org/search?q=setProfilingLevel&amp;qd=MongoDB&amp;qft=\" rel=\"nofollow noreferrer\">grep.metacpan.org/&hellip;</a>"}, {"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 0, "creation_date": 1497861640, "post_id": 44625527, "comment_id": 76237330, "body": "Did you tried the run_command function ? see here: <a href=\"http://search.cpan.org/dist/MongoDB/lib/MongoDB/Tutorial.pod\" rel=\"nofollow noreferrer\">search.cpan.org/dist/MongoDB/lib/MongoDB/Tutorial.pod</a>"}, {"owner": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497862071, "post_id": 44625527, "comment_id": 76237613, "body": "@simbabque Um. <a href=\"https://docs.mongodb.com/manual/reference/command/profile/#profile\" rel=\"nofollow noreferrer\">Yes there is</a>. The whole driver in fact merely implements invocations of <code>run_command</code> as everything in the MongoDB wire protocol is in fact that invocation. But the question really could have shown more effort."}, {"owner": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1497862347, "post_id": 44625527, "comment_id": 76237789, "body": "@simbabque You&#39;re picking nits. For the OP. <code>$database-&gt;run_command([ profile =&gt; 2 ])</code>"}], "owner": {"reputation": 11, "user_id": 8181917, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Zw1jfC3eSds/AAAAAAAAAAI/AAAAAAAABIs/Md-8kYs7w-c/photo.jpg?sz=128", "display_name": "Mayank Singhi", "link": "https://stackoverflow.com/users/8181917/mayank-singhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1497861132, "creation_date": 1497860590, "last_edit_date": 1497861132, "question_id": 44625527, "link": "https://stackoverflow.com/questions/44625527/how-to-set-profiling-level-on-mongo-through-perl", "title": "how to set profiling level on mongo through Perl", "body": "<p>I want to use a Perl script to enable the profiling level in mongo, is there a way to execute this through Perl, corresponding shell command by logging into mongodb is </p>\n\n<pre><code>:- db.setProfilingLevel(2) \n</code></pre>\n\n<p>tried doing that using <code>run_command</code> feature but did not seem to work.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497862383, "post_id": 44625508, "comment_id": 76237807, "body": "Your code is missing the <code>$output</code> variable. And you&#39;re talking about digits, but the only thing that&#39;s slightly related to numbers is commented out. Please <a href=\"https://stackoverflow.com/posts/44625508/edit\">edit</a> and be more specific as to what you want to do."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497863051, "post_id": 44625508, "comment_id": 76238258, "body": "Your English is hard to understand. Is that Google Translated? I think you mean: Do not include files with numbers in the name. Is that correct?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497863320, "post_id": 44625508, "comment_id": 76238443, "body": "Your regex in the commented code wrong. I&#39;ll write an answer."}, {"owner": {"reputation": 7, "user_id": 8112693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160bb7d1fdfe7de4fa25bc7daa56db45?s=128&d=identicon&r=PG&f=1", "display_name": "closedaccount", "link": "https://stackoverflow.com/users/8112693/closedaccount"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497863401, "post_id": 44625508, "comment_id": 76238507, "body": "YES you are right @simbabque"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497863459, "post_id": 44625508, "comment_id": 76238546, "body": "And the <code>prune</code> is discarding everything. Give me a few minutes."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1497863684, "creation_date": 1497863684, "answer_id": 44626536, "question_id": 44625508, "link": "https://stackoverflow.com/questions/44625508/how-to-exclude-some-files-using-filefindrule-module-using-perl/44626536#44626536", "title": "How to exclude some files using file::find::rule module using perl?", "body": "<p>Your attempt was almost correct, but your regular expression is wrong, and the <code>prune</code> and <code>discard</code> will remove all files, not only the ones for the regex.</p>\n\n<pre><code>my @files=File::Find::Rule-&gt;file()\n    -&gt;name('*.ml')\n    -&gt;name(qr/\\^ev\\d+/) # wrong regex\n    -&gt;prune-&gt;discard    # throws away all files\n    -&gt;in($output);\n</code></pre>\n\n<p>The correct regular expression to get files that contain any digit is simply <code>\\d</code>. You are saying <em>a literal <code>^</code>, the letters <code>ev</code> and any number of digits, at least one</em>.</p>\n\n<p>To make File::Find::Rule take all files that end in <code>.ml</code> and then not the ones that have a digit, use <a href=\"https://metacpan.org/pod/File::Find::Rule#not(-@rules-)\" rel=\"nofollow noreferrer\"><code>not</code></a>.</p>\n\n<pre><code>my @files=File::Find::Rule-&gt;file()\n    -&gt;name('*.ml')\n    -&gt;not( File::Find::Rule-&gt;name(qr/\\d/) )\n    -&gt;in($output);\n</code></pre>\n\n<p>This will get all <code>.ml</code> files, and discard any file that has any digit in the name.</p>\n"}], "owner": {"reputation": 7, "user_id": 8112693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160bb7d1fdfe7de4fa25bc7daa56db45?s=128&d=identicon&r=PG&f=1", "display_name": "closedaccount", "link": "https://stackoverflow.com/users/8112693/closedaccount"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 1, "accepted_answer_id": 44626536, "answer_count": 1, "score": 1, "last_activity_date": 1497863684, "creation_date": 1497860471, "last_edit_date": 1497862792, "question_id": 44625508, "link": "https://stackoverflow.com/questions/44625508/how-to-exclude-some-files-using-filefindrule-module-using-perl", "title": "How to exclude some files using file::find::rule module using perl?", "body": "<p>I had tried to remove the files which ever named along with digits but it is not happening in my code.Here $output is my directory location.In which the directory contains multiple folders and sub folders.</p>\n\n<p>From that folders and sub folders i want to pick my .ml files .In which the only the aplhabets named .ml files to be listed.</p>\n\n<p>If the file names comes like(ev4.html,ev8.html and so on  it should be omitted).</p>\n\n<p>Because here the file names comes along with the digits so i want to exclude the files which ever named along with digits and print the excepted output.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Find::Rule;\nmy $output=\"/home/location/radio/datas\";\nmy @files=File::Find::Rule-&gt;file()\n                -&gt;name('*.ml')\n                #-&gt;name(qr/\\^ev\\d+/)-&gt;prune-&gt;discard\n                -&gt;in($output);\nfor my $file(@files)\n{\nprint \"file:$file\\n\";\n}\n</code></pre>\n\n<p>Obtained output:</p>\n\n<pre><code>file:/dacr/dacr.ml\nfile:/DV/DV.ml\nfile:DV/ev4/ev4.ml\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>file:/dacr/dacr.ml\nfile:/DV/DV.ml\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "edited": false, "score": 1, "creation_date": 1497858597, "post_id": 44624080, "comment_id": 76235508, "body": "Your question of how to install dependencies is already extensively answered here: <a href=\"https://stackoverflow.com/questions/898782/how-do-i-tell-cpan-to-install-all-dependencies\" title=\"how do i tell cpan to install all dependencies\">stackoverflow.com/questions/898782/&hellip;</a> Another possibility mentioned in one of the answers there is to use <code>cpanm</code>."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497860781, "post_id": 44624192, "comment_id": 76236772, "body": "Note that those are the default values for those settings."}], "tags": [], "owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "is_accepted": false, "score": 1, "last_activity_date": 1497855810, "creation_date": 1497855810, "answer_id": 44624192, "question_id": 44624080, "link": "https://stackoverflow.com/questions/44624080/cant-locate-module-build-pm-in-inc-perl-build/44624192#44624192", "title": "Can&#39;t locate Module/Build.pm in @INC perl build", "body": "<p>If you want to install a module with dependencies you need to set the following in cpan:</p>\n\n<pre><code>cpan&gt; o conf prerequisites_policy 'follow'\ncpan&gt; o conf build_requires_install_policy yes\ncpan&gt; o conf commit\n</code></pre>\n"}], "owner": {"reputation": 4048, "user_id": 1692342, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1d368ad2d022237279a697202cca3510?s=128&d=identicon&r=PG", "display_name": "user1692342", "link": "https://stackoverflow.com/users/1692342/user1692342"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2023, "favorite_count": 0, "closed_date": 1497859141, "answer_count": 1, "score": 1, "last_activity_date": 1497855810, "creation_date": 1497855468, "question_id": 44624080, "link": "https://stackoverflow.com/questions/44624080/cant-locate-module-build-pm-in-inc-perl-build", "closed_reason": "Duplicate", "title": "Can&#39;t locate Module/Build.pm in @INC perl build", "body": "<p>I am trying to run build a Perl project. When I try perl Build.PL, I get an error:</p>\n\n<p>Can't locate Module/Build.pm in @INC</p>\n\n<p>I installed CPAN and tried <code>cpan Module::Build</code>. However when I do that I get an <code>error: Can't locate Module/Metadata.pm in @INC</code></p>\n\n<p>I tried installing metadata but tests are failing. Is there a way to install Build.pm and all its dependencies at one go</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 1, "creation_date": 1497854649, "post_id": 44623757, "comment_id": 76233212, "body": "Hi @Danish i would solve your problem with regex ;). And please write your string as following. my $str = &quot;d2a_orx_lego_clk&quot;; I would suggest to use the imports &quot;use strict; use warnings;&quot;"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 4, "creation_date": 1497854666, "post_id": 44623757, "comment_id": 76233222, "body": "<code>split(&#47;_[^_]+\\K_&#47;, $str, 2);</code>"}, {"owner": {"reputation": 165, "user_id": 5496710, "user_type": "registered", "accept_rate": 34, "profile_image": "https://lh4.googleusercontent.com/-oxW_dxQk1Rk/AAAAAAAAAAI/AAAAAAAAG80/dwiQZtq7VMA/photo.jpg?sz=128", "display_name": "StarCoder17", "link": "https://stackoverflow.com/users/5496710/starcoder17"}, "edited": false, "score": 0, "creation_date": 1497854838, "post_id": 44623757, "comment_id": 76233315, "body": "Thanks Patrick and \u0421\u0443\u0445\u043e\u043927 it works well."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 4, "last_activity_date": 1497854926, "creation_date": 1497854926, "answer_id": 44623922, "question_id": 44623757, "link": "https://stackoverflow.com/questions/44623757/perl-split-pattern-with-delimiter-at-specific-position/44623922#44623922", "title": "Perl split pattern with delimiter at specific position", "body": "<pre><code>my ($k, $v) = $str =~ /^([^_]*_[^_]*)_(.*)/;\n</code></pre>\n\n<p>Using a regex match works, and is much easier than getting split to do what you want.</p>\n"}, {"tags": [], "owner": {"reputation": 539, "user_id": 7162389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wr6Gu.jpg?s=128&g=1", "display_name": "Harini", "link": "https://stackoverflow.com/users/7162389/harini"}, "is_accepted": false, "score": 0, "last_activity_date": 1497894348, "creation_date": 1497894348, "answer_id": 44636849, "question_id": 44623757, "link": "https://stackoverflow.com/questions/44623757/perl-split-pattern-with-delimiter-at-specific-position/44636849#44636849", "title": "Perl split pattern with delimiter at specific position", "body": "<p>This code below works fine which splits the string with delimiter '_' and then join with same delimiter.</p>\n\n<pre><code>#!/bin/perl\n$str = d2a_orx_lego_clk;\nmy @string = split(/_/, $str);\nmy $str= join '_',$string[0],$string[1];\nprint $str,\"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 5496710, "user_type": "registered", "accept_rate": 34, "profile_image": "https://lh4.googleusercontent.com/-oxW_dxQk1Rk/AAAAAAAAAAI/AAAAAAAAG80/dwiQZtq7VMA/photo.jpg?sz=128", "display_name": "StarCoder17", "link": "https://stackoverflow.com/users/5496710/starcoder17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 44623922, "answer_count": 2, "score": 0, "last_activity_date": 1497894348, "creation_date": 1497854388, "question_id": 44623757, "link": "https://stackoverflow.com/questions/44623757/perl-split-pattern-with-delimiter-at-specific-position", "title": "Perl split pattern with delimiter at specific position", "body": "<p>I have a strings which i wanted to split in perl with delimiter but at specific position.\n$Str = d2a_orx_lego_clk\nThe output i wanted is d2a_orx , ie split only after second underscore.\nThe code i tried splits the string in two parts but at first underscore not at second.</p>\n\n<pre><code>#!/bin/perl\n\n$str = d2a_orx_lego_clk;\n#print join('_', split(/_/, $str )), \"\\n\";\nmy ($k, $v) = split(/_/, $str, 2);\nprint \"$k\\n\";\nprint \"$v\\n\";\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "pass-by-reference"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1497833423, "post_id": 44620332, "comment_id": 76227724, "body": "Re &quot;<i>What am I missing?</i>&quot;, Nothing. Your code works as-is."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497833488, "post_id": 44620332, "comment_id": 76227740, "body": "Re &quot;<i>Most of those arguments are the standard pass-by-value sort</i>&quot;, Perl always passes by reference. For example, <code>perl -e&#39;sub f { $_[0] = &quot;def&quot;; }   my $x = &quot;abc&quot;; f($x); CORE::say $x;&#39;</code> outputs <code>def</code>."}, {"owner": {"reputation": 430, "user_id": 377653, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9251b706c8a7fb693f9a25fa09ff6cf?s=128&d=identicon&r=PG", "display_name": "GPHemsley", "link": "https://stackoverflow.com/users/377653/gphemsley"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497843363, "post_id": 44620332, "comment_id": 76229570, "body": "Bah, you&#39;re right, this does appear to work. Some combination of things I was trying earlier were giving me errors; I guess they were unrelated. Also, what I was calling &quot;pass by value&quot; was the standard <code>my ($foo) = @_</code> that comes immediately at the start of the subroutine in my example (and not yours)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497844713, "post_id": 44620332, "comment_id": 76229840, "body": "Copying the arguments after they&#39;ve been received doesn&#39;t alter the fact that they were passed by reference. And the fact that you made a copy of an argument doesn&#39;t stop you from changing the argument."}], "answers": [{"comments": [{"owner": {"reputation": 430, "user_id": 377653, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9251b706c8a7fb693f9a25fa09ff6cf?s=128&d=identicon&r=PG", "display_name": "GPHemsley", "link": "https://stackoverflow.com/users/377653/gphemsley"}, "edited": false, "score": 0, "creation_date": 1497843542, "post_id": 44620916, "comment_id": 76229600, "body": "Your cleaned up method returns <code>$foo</code> regardless of the value of <code>$arg1</code>, which is different from my example. Also, I left out that I had other code to run if <code>$foo</code> was undefined, so <code>&#47;&#47;=</code> won&#39;t help me much here."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 430, "user_id": 377653, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9251b706c8a7fb693f9a25fa09ff6cf?s=128&d=identicon&r=PG", "display_name": "GPHemsley", "link": "https://stackoverflow.com/users/377653/gphemsley"}, "edited": false, "score": 0, "creation_date": 1497843952, "post_id": 44620916, "comment_id": 76229680, "body": "Re &quot;<i>Your cleaned up method returns $foo regardless of the value of $arg1, which is different from my example.</i>&quot;, So what? I never said it was the same; I said it was cleaner."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 430, "user_id": 377653, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9251b706c8a7fb693f9a25fa09ff6cf?s=128&d=identicon&r=PG", "display_name": "GPHemsley", "link": "https://stackoverflow.com/users/377653/gphemsley"}, "edited": false, "score": 0, "creation_date": 1497844032, "post_id": 44620916, "comment_id": 76229699, "body": "Re &quot;<i>I left out that I had other code to run if $foo was undefined</i>&quot;, You can check the number of arguments provided by checking the size of <code>@_</code>. That said, your calling convention was already overly complicated before you brought this up. Distinguishing absent parameters from undefined parameters is pushing things way too far."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 430, "user_id": 377653, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9251b706c8a7fb693f9a25fa09ff6cf?s=128&d=identicon&r=PG", "display_name": "GPHemsley", "link": "https://stackoverflow.com/users/377653/gphemsley"}, "edited": false, "score": 0, "creation_date": 1497844663, "post_id": 44620916, "comment_id": 76229829, "body": "Added simpler calling convention to answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1497844607, "last_edit_date": 1497844607, "creation_date": 1497833562, "answer_id": 44620916, "question_id": 44620332, "link": "https://stackoverflow.com/questions/44620332/passing-only-some-subroutine-arguments-by-reference-in-perl/44620916#44620916", "title": "Passing only some subroutine arguments by reference in Perl", "body": "<p>First of all, subroutine arguments are <em>always</em> passed by reference.</p>\n\n<pre><code>$ perl -e'sub f { $_[0] = \"def\"; }   my $x = \"abc\"; f($x); CORE::say $x;'\ndef\n</code></pre>\n\n<p>More importantly, your code does exactly what you asked already.</p>\n\n<pre><code>$ perl -e'\n    {\n        package Private::Foo;\n\n        sub new { my $class = shift; bless({ something =&gt; \"old_value\" }, $class) }\n\n        sub do_things {\n            my ($self, $arg1, $arg2, $foo) = @_;\n\n            unless (defined $foo) {\n                 $foo = Private::Foo-&gt;new();\n            }\n\n            if ($arg1 eq \"abc\") {\n                $foo-&gt;{something} = \"new value\";\n                return;\n            }\n\n            return $foo;\n        }\n    }\n\n    use feature qw( say );\n\n    my $foo = Private::Foo-&gt;new();\n    Private::Foo-&gt;do_things(\"abc\", \"xyz\", $foo);\n    say $foo-&gt;{something};\n\n    my $foo2 = Private::Foo-&gt;do_things(\"def\");\n    say $foo2-&gt;{something};\n'\nnew value\nold_value\n</code></pre>\n\n<p>That said, you could clean up your method some:</p>\n\n<pre><code>sub do_things {\n    my ($class, $arg1, $arg2, $foo) = @_;\n\n    $foo //= $class-&gt;new();\n\n    if ($arg1 eq 'abc') {\n        $foo-&gt;{something} = 'new value';\n    }\n\n    return $foo;\n}\n</code></pre>\n\n<p>It would be even better if you cleaned up your calling convention.</p>\n\n<pre><code>Private::Foo-&gt;do_something($arg1, $arg2, $foo);\n\nmy $foo2 = Private::Foo-&gt;do_something($arg1, $arg2);\n</code></pre>\n\n<p>makes far less sense than</p>\n\n<pre><code>$foo-&gt;do_something($arg1, $arg2);\n\n( my $foo2 = Private::Foo-&gt;new )-&gt;do_something($arg1, $arg2);\n</code></pre>\n"}], "owner": {"reputation": 430, "user_id": 377653, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9251b706c8a7fb693f9a25fa09ff6cf?s=128&d=identicon&r=PG", "display_name": "GPHemsley", "link": "https://stackoverflow.com/users/377653/gphemsley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1497844607, "creation_date": 1497826840, "question_id": 44620332, "link": "https://stackoverflow.com/questions/44620332/passing-only-some-subroutine-arguments-by-reference-in-perl", "title": "Passing only some subroutine arguments by reference in Perl", "body": "<p>I'm writing a subroutine that takes a number of arguments. Most of those arguments are the standard pass-by-value sort, where changes made to them within the subroutine don't matter outside of it. But one of them is an object (blessed reference) that I'd like to make changes to that are available outside of the subroutine, if it's passed in. If it's not passed in, I would like to instantiate it and treat it the same way as if it were passed in (but returning it in the end).</p>\n\n<p>For example:</p>\n\n<hr>\n\n<pre><code>my $foo = Private::Foo-&gt;new();\n\n# $foo-&gt;{'something'} eq 'old value'\n\nPrivate::Foo-&gt;do_things('abc', 'xyz', $foo);\n\n# $foo-&gt;{'something'} eq 'new value'\n\nmy $foo2 = Private::Foo-&gt;do_things('def');\n\n# $foo2-&gt;{'something'} eq 'old value'\n</code></pre>\n\n<hr>\n\n<pre><code>package Private::Foo;\n\n# ...\n\nsub do_things {\n    my ($self, $arg1, $arg2, $foo) = @_;\n\n    unless (defined $foo) {\n         $foo = Private::Foo-&gt;new();\n    }\n\n    if ($arg1 eq 'abc') {\n        $foo-&gt;{'something'} = 'new value';\n\n        return;\n    }\n\n    return $foo;\n}\n</code></pre>\n\n<hr>\n\n<p>I'd like to do this with as clean of syntax as possible, and I'm fine using any  features available in Perl v5.22 and higher. (I've tried to figure out how to do this using <code>refaliasing</code>, but it isn't very clean.)</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["bash", "perl"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1497869439, "last_edit_date": 1497869439, "creation_date": 1497826007, "answer_id": 44620246, "question_id": 44619538, "link": "https://stackoverflow.com/questions/44619538/perl-bash-script-outputing-input/44620246#44620246", "title": "perl bash script outputing input", "body": "<p>This is an ugly way to do things, but it may work if you print each line from the web page where a substitution has been made</p>\n\n<pre><code>perl -ne 'print if s/&lt;img.*alt=\"(.*?)\".*src=\"(.*?)\".*&gt;/$1 http://google.com$2/'\n</code></pre>\n\n<p>But it would be cleaner to do just a regex match and use negated character classes instead of non-greedy quantifiers</p>\n\n<pre><code>perl -ne 'print \"$1 http://google.com$2\\n\" if /&lt;img[^&lt;&gt;]+alt=\"([^\"]+)\"[^&lt;&gt;]+src=\"([^\"]+)\"/'\n</code></pre>\n\n<p>But both of these rely on (amongst other things) all of the contents of the opening <code>&lt;img&gt;</code> tag appearing on a single line, which isn't necessarily true. They will also report the contents of <em>every</em> <code>&lt;img&gt;</code> element in the page that has both an <code>alt</code> and a <code>src</code> attribute.</p>\n"}], "owner": {"reputation": 1312, "user_id": 261222, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/972c3ec9b7fc4223a68abc093708c65a?s=128&d=identicon&r=PG", "display_name": "lovefaithswing", "link": "https://stackoverflow.com/users/261222/lovefaithswing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 44620246, "answer_count": 1, "score": 0, "last_activity_date": 1497869439, "creation_date": 1497819950, "question_id": 44619538, "link": "https://stackoverflow.com/questions/44619538/perl-bash-script-outputing-input", "title": "perl bash script outputing input", "body": "<p>I'm trying to learn bash scripting. As an exercise, I'm getting the Alt text and URL of the Google doodle.  </p>\n\n<p>I am stuck on using perl to parse out the link URL. I have it finding and outputting the alt text and url, but it is also outputting the whole webpage too. It does the same thing when I just put it in shell. </p>\n\n<pre><code>curl -s google.com --Location | perl -pe 's|.*&lt;img.*alt=\"(.*?)\".*src=\"(.*?)\".*&gt;.*|\\1 http://google.com\\2|'\n</code></pre>\n\n<p>How can I get this to stop outputting the webpage. </p>\n\n<p>Note that I tried separating these to make sure it was perl doing to output of the page and not something with curl. It is definitely the perl part. If there is a better way to do this, let me know. The goal is to output the alt text and URL of the doodle. </p>\n"}, {"tags": ["javascript", "linux", "perl", "perl-module", "www-mechanize-firefox"], "owner": {"reputation": 21, "user_id": 8179376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab872cc6c800e44fa43c7584b719bc3f?s=128&d=identicon&r=PG&f=1", "display_name": "Smarthacker", "link": "https://stackoverflow.com/users/8179376/smarthacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1497892342, "creation_date": 1497802083, "last_edit_date": 1497892342, "question_id": 44616936, "link": "https://stackoverflow.com/questions/44616936/how-to-upload-the-file-on-webpage-using-wwwmechanizefirefox", "title": "How to upload the file on webpage using WWW::Mechanize::Firefox", "body": "<p>I am trying to automate the some workflow. which includes the login to the website and filling couple of data and then Upload pdf file on drag and drop section and upon the upload click on proceed.</p>\n\n<p>I am using the Perl WWW::Mechanize::Firefox module as it supports javascript. </p>\n\n<p>Tried many methods but no luck. </p>\n\n<p>eg web site <a href=\"https://smallpdf.com/split-pdf\" rel=\"nofollow noreferrer\">https://smallpdf.com/split-pdf</a></p>\n\n<p>Can you help me with. I am trying to emulate the post request by browser into the perl but don't know how to achieve this.</p>\n\n<p>request header is >>>>>></p>\n\n<pre><code>Host: XXXXX.XXXXXXX.XXX\nUser-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:54.0) Gecko/20100101 Firefox/54.0\nAccept: application/json\nAccept-Language: en-US,en;q=0.5\nAccept-Encoding: gzip, deflate, br\nCache-Control: no-cache\nX-Requested-With: XMLHttpRequest\nReferer: https://login.XXXXXX.XXXXX/XXXXXXXX\nContent-Length: 26712\nContent-Type: multipart/form-data; boundary=---------------------------10666735941660241595971092194\nCookie: _pk_id.2.a970=e6850e4973836855.1497637919.11.1497792387.1497791018.; XSRF-TOKEN=eyJpdiI6InplN3NRck9CdDlFem54ekpxbmxUMXc9PSIsInZhbHVlIjoiYU41TXhLS1hYbmtvNUo0ejQ3Tk1EZ2ZMS2FUdGRuYVwvc3Q5R3RwMkpHQklCTkpkdlBFUUJDeVJYUlhQRWkyOGhVK3FwK1hWdHlMZEtSVGFcLzNhaTF2QT09IiwibWFjIjoiYjg5NDE3YjhiMWMwMmI0NTI3NzRmNTM0NmRhNTUxY2VkZTM3YWRmYjlkMmNmY2IwOGRlNzVjYzc3NjU1NTg4YyJ9; laravel_session=eyJpdiI6ImFzdHpodTJlU0toOWZLeUQ3QTExV1E9PSIsInZhbHVlIjoiaDBpZGcwMGxtb3k4a3BYTzJhVjJLOEZOOUNWekJVUjB3YTk4QjhKMUJIWFhhK3BwWTRzd2Nxekp1T3pZRVNnZUhlWjBHZGNUeW1sNDBza0NnN0hTd3c9PSIsIm1hYyI6ImM0Y2ZhOWY1MmY2NGM3YTdiNDFmY2EzZjg3NmY1ODk2MTQyOGZkOWQxODdjNzc0OTU1ZmVkYjE2NTQ3MjU3OTgifQ%3D%3D; _pk_ses.2.a970=*\nConnection: keep-alive\n</code></pre>\n\n<p>Trying this module </p>\n\n<pre><code>my $mech = WWW::Mechanize::Firefox-&gt;new();\n$mech-&gt;cookies();\n</code></pre>\n\n<p>Some how I can able to open the filebrowser using the Click method on xpath but then Dont know how to select file.</p>\n\n<p>please suggest me something alternate ways are appreciated  Kindly check the example website it has same file upload option. </p>\n\n<p>file is on my local linux server. </p>\n\n<p>Following is the javascript responsible for upload </p>\n\n<pre><code>  function sendFax(aRecipients) {\n    $('#FaxResponseModal #ajaxResponse').html(\"\");\n    $('#FaxResponseModal').modal('show');\n\n    $sFormData = $('form').serialize();\n\n    $ajaxLoader = $('.ajax-modal-loading').detach();\n\n    $.each(aRecipients, function (iKey, sRecipient) {\n\n        $_sFormData = $sFormData + '&amp;to_' + sRecipient + '=' + sRecipient;\n\n        $.post('/fax_Senden', $_sFormData).done(function (oResponse) {\n\n            $oResponse = JSON.parse(oResponse);\n\n            $.each($oResponse.data, function (sKey, sValue) {\n                $_oRow = $(\"&lt;tr&gt;&lt;/tr&gt;\");\n                $_oIconCell = $(\"&lt;td&gt;&lt;span class='glyphicon'&gt;&lt;/span&gt;&lt;/td&gt;\");\n                $_oNumberCell = $(\"&lt;td&gt;\" + sKey + \"&lt;/td&gt;\");\n                $_oStatusCell = $(\"&lt;td&gt;&lt;/td&gt;\");\n\n                if (sValue.Code == 100 || sValue.Code == 101) {\n                    $($_oIconCell).find('span').addClass('glyphicon-ok text-success');\n                    $($_oRow).addClass('active');\n                } else {\n                    $($_oIconCell).find('span').addClass('glyphicon-flash');\n                    $($_oRow).addClass('danger');\n                }\n\n                $($_oStatusCell).text(sValue.Message);\n\n                $_oRow.append($_oIconCell).append($_oNumberCell).append($_oStatusCell);\n\n                $('#FaxResponseModal #ajaxResponse').prepend($_oRow);\n            });\n\n        });\n\n    });\n\n    $ajaxLoader.appendTo(\"body\");\n}\n\n\n\n\n\n$(document).ready(function () {\n    $(\".dropzone\").dropzone({\n        paramName: \"file\",\n        url: \"/fax_Senden/upload\",\n        autoProcessQueue: true,\n        uploadMultiple: false,\n        acceptedFiles: \"application/pdf\",\n        maxFiles: 1,\n        dictDefaultMessage: \"Legen Sie hier die PDF Datei ab.\",\n        previewTemplate: '&lt;div class=\"dz-preview dz-file-preview\"&gt;' +\n        '&lt;div class=\"dz-image\"&gt;' +\n        '&lt;img data-dz-thumbnail /&gt;' +\n        '&lt;/div&gt;' +\n        '&lt;div class=\"dz-details\"&gt;' +\n        '&lt;div class=\"dz-filename\"&gt;&lt;span data-dz-name&gt;&lt;/span&gt;&lt;/div&gt;' +\n        '&lt;div class=\"dz-size\" data-dz-size&gt;&lt;/div&gt;' +\n        '&lt;/div&gt;' +\n        '&lt;div class=\"dz-progress\"&gt;&lt;span class=\"dz-upload\" data-dz-uploadprogress&gt;&lt;/span&gt;&lt;/div&gt;' +\n        '&lt;div class=\"dz-success-mark\"&gt;&lt;span&gt;\u2714&lt;/span&gt;&lt;/div&gt;' +\n        '&lt;div class=\"dz-error-mark\"&gt;&lt;span&gt;\u2718&lt;/span&gt;&lt;/div&gt;' +\n        '&lt;div class=\"dz-error-message\"&gt;&lt;span data-dz-errormessage&gt;&lt;/span&gt;&lt;/div&gt;' +\n        '&lt;/div&gt;',\n        init: function () {\n            this.on(\"addedfile\", function () {\n                if (this.files[1] != null) {\n                    this.removeFile(this.files[0]);\n                }\n            });\n        },\n\n        sending: function (file, xhr, formData) {\n            formData.append('_token', $('input[name=\"_token\"]').val());\n        },\n\n        success: function (file, response) {\n            $('button.segment_fileupload').removeClass('disabled');\n            $('.uploadError').addClass('hidden');\n        },\n\n        error: function (file, errorMsg, response) {\n            $('button.segment_fileupload').addClass('disabled');\n            $('.uploadError').removeClass('hidden');\n        }\n    });\n\n\n    $('input[type=radio][name=pdfcreate]').change(function () {\n        $('.segment_freitext').hide();\n        $('.segment_fileupload').hide();\n\n        $('.segment_' + $(this).val()).show();\n    });\n\n    $('button[name=\"preview\"].segment_freitext').on('click', function () {\n\n        $('#editor').val(CKEDITOR.instances.editor.getData());\n\n        $.post('/fax_Senden', $('form').serialize() + '&amp;preview=true', function (data) {\n\n            $('#previewPDFModal .modal-dialog').css('width', '75vw');\n            $('#previewPDFModal .modal-body').html(\n                '&lt;object data=\"data:application/pdf;base64,' + data + '\" type=\"application/pdf\" width=\"100%\" height=\"100%\" style=\"min-height: 55vh\"&gt;' +\n                '&lt;iframe src=\"data:application/pdf;base64,' + data + '\" width=\"100%\" height=\"100%\" style=\"border: none;\"&gt;' +\n                'This browser does not support PDFs. Please download the PDF to view it: &lt;a href=\"data:application/pdf;base64,' + data + '\"&gt;Download PDF&lt;/a&gt;' +\n                '&lt;/iframe&gt;' +\n                '&lt;/object&gt;'\n            );\n\n            $('#previewPDFModal').modal('show');\n\n        });\n\n    });\n\n    $('button[name=\"preview\"].segment_fileupload').on('click', function () {\n\n        if ( $(this).hasClass(\"disabled\") ) {\n            return;\n        }\n\n        $('#editor').attr('disabled', 'disabled');\n        formData = $('form').serialize();\n        $('#editor').removeAttr('disabled');\n\n        $('.ajax-modal-loading').show();\n        source = new EventSource('/fax_Senden/preview?' + formData);\n\n        //a message is received\n        source.addEventListener('message', function (e) {\n            var data = JSON.parse(e.data);\n\n            if (e.data.search('FILE') != -1) {\n                source.close();\n\n                $('#previewPDFModal .modal-dialog').css('width', '75vw');\n                $('#previewPDFModal .modal-body').html(\n                    '&lt;object data=\"data:application/pdf;base64,' + data.message + '\" type=\"application/pdf\" width=\"100%\" height=\"100%\" style=\"min-height: 55vh\"&gt;' +\n                    '&lt;iframe src=\"data:application/pdf;base64,' + data.message + '\" width=\"100%\" height=\"100%\" style=\"border: none;\"&gt;' +\n                    'This browser does not support PDFs. Please download the PDF to view it: &lt;a href=\"data:application/pdf;base64,' + data.message + '\"&gt;Download PDF&lt;/a&gt;' +\n                    '&lt;/iframe&gt;' +\n                    '&lt;/object&gt;'\n                );\n\n                $('.ajax-modal-loading').html(\"\");\n                $('#previewPDFModal').modal('show');\n                $('.ajax-modal-loading').hide();\n            }\n\n            if (data.message == 'progress') {\n\n                $('.ajax-modal-loading').html(\n                    \"&lt;p class='generateMsg'&gt;Bearbeite Seite \" + data.progress + \"&lt;/p&gt;\"\n                );\n            }\n        });\n\n        source.addEventListener('error', function (e) {\n            //kill the object ?\n            source.close();\n        });\n\n    });\n</code></pre>\n"}, {"tags": ["perl", "sorting", "debugging", "text"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 2, "creation_date": 1497785825, "post_id": 44614395, "comment_id": 76215466, "body": "The line in question is <code>map &quot;${$v}{$_}\\n&quot;, sort{ ... }keys %{$v}</code> . The &#39;\\n&#39; adds a new line after every data point. After the last data point, a &quot;]\\n&quot; is added. Instead, you can put all the datapoints in an array,  join() the array by newline, then print the closing bracket."}, {"owner": {"reputation": 13, "user_id": 8178711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b37f3557f6e5b5fa9d08c8f068f295f?s=128&d=identicon&r=PG&f=1", "display_name": "kamel", "link": "https://stackoverflow.com/users/8178711/kamel"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1497795401, "post_id": 44614395, "comment_id": 76217910, "body": "Makes sense... I guess i should have made the line that was in question a bit clearer... but thanks for making me aware of the join() function.. @bytepusher. I will give it a try."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": -1, "last_activity_date": 1497786890, "creation_date": 1497786890, "answer_id": 44614691, "question_id": 44614395, "link": "https://stackoverflow.com/questions/44614395/make-square-bracket-not-appear-on-a-new-line/44614691#44614691", "title": "Make square bracket not appear on a new line?", "body": "<p>Here is what @bytepusher recommended in comments:</p>\n\n<pre><code>while (($key,$v)=each %hash) {\n        print \"$key [\\n\", join(\"\\n\",\n            map \"${$v}{$_}\", sort {$a&lt;=&gt;$b} keys %{$v}\n        ), \"             ]\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8178711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b37f3557f6e5b5fa9d08c8f068f295f?s=128&d=identicon&r=PG&f=1", "display_name": "kamel", "link": "https://stackoverflow.com/users/8178711/kamel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 44614691, "answer_count": 1, "score": 1, "last_activity_date": 1497786890, "creation_date": 1497784506, "last_edit_date": 1497786672, "question_id": 44614395, "link": "https://stackoverflow.com/questions/44614395/make-square-bracket-not-appear-on-a-new-line", "title": "Make square bracket not appear on a new line?", "body": "<p>I am currently working with a .txt file containing data points of certain files. \nSince the files are pretty big, are they been processed in smaller parts, but the output extracted from the processing process is not sorted in any order.. </p>\n\n<p>They are stored as such: </p>\n\n<pre><code>1_1_0_1_0_1_1_0_232  [\n  0 -19.72058 -18.89882 ]\n1_0_0_0_0_0_0_0_0  [\n  -0.5940279 -1.949468 -1.185638 ]\n1_0_1_1_0_1_1_1_100  [\n  -5.645662 -0.005585805 -6.196068 ]\n1_0_1_1_0_1_1_1_101  [\n  -15.86037 -1.192093e-07 -18.77053 ]\n1_0_1_1_0_1_1_1_102  [\n  -0.5648238 -1.970869 -1.230303 ]\n1_0_1_1_1_0_1_0_103  [\n  -0.5750521 -1.946886 -1.222114 ]\n1_0_1_1_1_0_1_0_104  [\n  -0.5926428 -1.941596 -1.191844 ]\n1_0_1_1_1_0_1_0_105  [\n  -25.25665 0 -31.0921 ]\n1_0_1_1_1_0_1_0_106  [\n  -0.001282441 -6.852591 -8.399776 ]\n1_0_1_1_1_0_1_0_107  [\n  -0.0001649993 -8.857877 -10.69688 ]\n1_0_1_1_1_0_1_0_108  [\n  -21.66693 0 -26.18516 ]\n1_0_1_1_1_0_1_0_109  [\n  -5.444038 -0.004555213 -8.408965 ]\n1_1_0_1_0_1_0_0_200  [\n  -4.023561 -0.01851013 -7.704897 ]\n1_1_0_1_0_1_0_0_201  [\n  -0.443548 -3.057277 -1.167226 ]\n1_1_0_1_0_1_0_0_202  [\n  -0.0001185011 -9.042104 -15.60585 ]\n1_1_0_1_0_1_0_0_203  [\n  -5.960466e-07 -14.37778 -25.2224 ]\n1_1_0_1_0_1_0_0_204  [\n  -0.5770675 -1.951139 -1.21623 ]\n1_1_0_0_1_0_1_1_205  [\n  -0.5849463 -1.938798 -1.207353 ]\n1_1_0_0_1_0_1_1_206  [\n  -0.5785673 -1.949474 -1.214192 ]\n1_1_0_0_1_0_1_1_207  [\n  -27.21529 0 -32.21676 ]\n1_1_0_0_1_0_1_1_208  [\n  -8.75938 -0.0001605878 -12.53627 ]\n1_1_0_0_1_0_1_1_209  [\n  -1.281936 -0.3837854 -3.188763 ]\n1_0_0_0_0_0_0_1_20  [\n  -0.2104172 -4.638866 -1.714325 ]\n1_1_1_0_0_1_1_1_310  [\n  -11.71479 -9.298368e-06 -13.70222 ]\n1_1_1_0_0_1_1_1_311  [\n  -24.71166 0 -30.45412 ]\n1_1_1_0_0_1_1_1_312  [\n  -2.145031 -0.1357486 -4.617914 ]\n1_1_1_0_0_1_1_1_313  [\n  -5.943637 -0.003112446 -7.630904 ]\n1_1_1_0_0_1_1_1_314  [\n  0 -25.82314 -31.98673 ]\n1_1_1_0_0_1_1_1_315  [\n  -8.178092e-05 -13.60563 -9.426649 ]\n1_1_1_0_0_1_1_1_316  [\n  -0.00326875 -6.071715 -6.952539 ]\n1_1_1_0_0_1_1_1_317  [\n  -17.92782 0 -24.64391 ]\n1_1_1_0_0_1_1_1_318  [\n  -2.979753 -0.05447901 -6.11194 ]\n1_1_1_0_0_1_1_1_319  [\n  -0.7661145 -1.118131 -1.568804 ]\n1_0_0_0_0_0_0_1_31  [\n  -0.5749408 -1.961912 -1.215127 ]\n1_0_0_0_0_0_0_0_10  [\n  -4.64927e-05 -9.977531 -20.60117 ]\n1_0_1_1_1_1_0_1_120  [\n  -0.4925551 -1.135103 -2.694917 ]\n1_0_1_1_1_1_0_1_131  [\n  -0.6127387 -1.958336 -1.148721 ]\n1_1_0_0_0_0_0_1_142  [\n  -0.008494892 -6.882521 -4.901772 ]\n1_1_0_0_0_1_1_1_153  [\n  0 -20.48085 -27.38916 ]\n1_1_0_0_1_0_1_0_164  [\n  -0.5370184 -1.622399 -1.52286 ]\n1_1_0_0_1_0_1_0_175  [\n  -24.08685 0 -29.42813 ]\n1_1_0_0_1_1_1_0_186  [\n  -1.665665 -0.2307523 -4.074597 ]\n1_0_0_0_0_0_0_0_1  [\n  -0.5880737 -1.945877 -1.198183 ]\n1_1_0_0_1_0_1_1_210  [\n  -0.001396737 -6.574267 -21.30147 ]\n1_1_0_1_0_1_1_0_221  [\n  -0.7456465 -1.893918 -0.980585 ]\n1_0_0_0_0_0_1_1_42  [\n  -3.838613e-05 -10.23002 -13.01793 ]\n1_0_0_0_0_0_1_1_43  [\n  -22.25132 0 -28.8467 ]\n1_0_0_0_0_0_1_1_44  [\n  -6.688306 -0.001266626 -10.79875 ]\n1_0_0_0_0_0_1_1_45  [\n  -0.429086 -2.197691 -1.436171 ]\n1_0_0_0_0_0_1_1_46  [\n  -0.6683982 -1.928907 -1.072464 ]\n1_0_0_0_1_0_0_1_47  [\n  -0.5767454 -1.972311 -1.206838 ]\n1_0_0_0_1_0_0_1_48  [\n  -0.5789171 -1.965128 -1.206118 ]\n1_0_0_0_1_0_0_1_49  [\n  -19.90514 0 -25.12686 ]\n1_0_0_0_0_0_0_0_4  [\n  -4.768373e-07 -14.66496 -28.4888 ]\n1_0_0_0_1_0_0_1_50  [\n  -0.01524216 -6.729354 -4.273614 ]\n1_0_0_0_1_0_0_1_51  [\n  -3.576279e-07 -14.9054 -27.44406 ]\n1_0_0_0_1_0_0_1_53  [\n  -0.003753785 -8.922103 -5.623135 ]\n</code></pre>\n\n<p>The format it is stored in is: <code>&lt;name&gt;_&lt;part&gt; [&lt;data points&gt;]</code></p>\n\n<p>I currently use a perl script to sort the datapoints.</p>\n\n<pre><code>perl -n00e '\n    while ( /([\\d_]*)_(\\d*) \\s* \\[ \\s* (.*?) \\s* \\]/gmsx ) {\n        ($name,$part,$datapoints) = ($1,$2,$3);\n        $hash{$name}{$part}=$datapoints;\n    }\n    while (($key,$v)=each %hash) {\n        print \"$key [\\n\", (\n            map \"${$v}{$_}\\n\", sort {$a&lt;=&gt;$b} keys %{$v}\n        ), \"]\\n\";\n    }\n'\n</code></pre>\n\n<p>Which creates an output as such: </p>\n\n<pre><code>0_0_1_1_0_1_1_1 [\n-0.5757762 -1.949812 -1.219321\n-0.5732827 -1.974719 -1.212248\n-0.005632018 -5.198827 -9.280998\n-0.004484621 -7.180546 -5.595852\n-1.776234e-05 -10.93515 -20.11548\n-22.73301 0 -29.42717\n-4.227753 -0.01532919 -7.374347\n-3.396693 -0.05122549 -4.10732\n-0.0008418526 -7.08029 -20.86733\n-21.26725 0 -27.1029\n-2.457597 -0.09611109 -5.11661\n-5.492554 -0.00666456 -5.981491\n-12.60927 -3.576285e-06 -15.31444\n-0.5809742 -1.953598 -1.2077\n-0.5807223 -1.969571 -1.200681\n]\n...\n</code></pre>\n\n<p>Which is correct, but the end square bracket should not be on a new line, \nbut be placed a space distance after the last data point has been printed. \nIt doesn't look like the Perl script itself explicitly makes a new line\nbut some of the commands are invoking a new line.. is it possible to negate this effect?</p>\n"}, {"tags": ["git", "perl", "hook"], "comments": [{"owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "reply_to_user": {"reputation": 1330, "user_id": 2375142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XMqXW.jpg?s=128&g=1", "display_name": "Laposhas&#250; Acsa", "link": "https://stackoverflow.com/users/2375142/laposhas%c3%ba-acsa"}, "edited": false, "score": 0, "creation_date": 1497776522, "post_id": 44613335, "comment_id": 76213095, "body": "not really. How can I create a binary file to make this hook triggered?"}, {"owner": {"reputation": 1330, "user_id": 2375142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XMqXW.jpg?s=128&g=1", "display_name": "Laposhas&#250; Acsa", "link": "https://stackoverflow.com/users/2375142/laposhas%c3%ba-acsa"}, "edited": false, "score": 0, "creation_date": 1497776600, "post_id": 44613335, "comment_id": 76213111, "body": "You can generate a file which satisfies the criteria: &quot;The first block or so of the file is examined for odd characters such as strange control codes or characters with the high bit set. If too many strange characters (&gt;30%) are found, it\u2019s a -B file;&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1497778472, "post_id": 44613477, "comment_id": 76213615, "body": "I was trying to put big .exe files and push them, but the hook doesn&#39;t throw a error. Why can it be? Does it mean, that the hook doesn&#39;t work"}, {"owner": {"reputation": 1330, "user_id": 2375142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XMqXW.jpg?s=128&g=1", "display_name": "Laposhas&#250; Acsa", "link": "https://stackoverflow.com/users/2375142/laposhas%c3%ba-acsa"}, "reply_to_user": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1497778678, "post_id": 44613477, "comment_id": 76213656, "body": "Test your binary with <code>perl -e &quot;print (-B &#39;yourbinary&#39;)?&#39;binary&#39;:&#39;text&#39;;&quot;</code> (it may contain errors, i don&#39;t have acces to perl now)"}, {"owner": {"reputation": 1330, "user_id": 2375142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XMqXW.jpg?s=128&g=1", "display_name": "Laposhas&#250; Acsa", "link": "https://stackoverflow.com/users/2375142/laposhas%c3%ba-acsa"}, "reply_to_user": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1497778826, "post_id": 44613477, "comment_id": 76213688, "body": "Do you see your header lines? (GIT hook, etc.) Maybe the hook does not start."}, {"owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1497780377, "post_id": 44613477, "comment_id": 76214074, "body": "no, the hook starts"}, {"owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1497780547, "post_id": 44613477, "comment_id": 76214110, "body": "somehow when I use <b>perl -e &quot;print (-B &#39;mybinaryfile&#39;)?&#39;binary&#39;:&#39;text&#39;;&quot;</b>, it prints nothing."}, {"owner": {"reputation": 1330, "user_id": 2375142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XMqXW.jpg?s=128&g=1", "display_name": "Laposhas&#250; Acsa", "link": "https://stackoverflow.com/users/2375142/laposhas%c3%ba-acsa"}, "reply_to_user": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1497782112, "post_id": 44613477, "comment_id": 76214521, "body": "You need additional parentheses <code>perl -e &quot;print ((-B &#39;&#47;bin&#47;ls&#39;)?&#39;binary&#39;:&#39;text&#39;);&quot;</code>"}, {"owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1497782332, "post_id": 44613477, "comment_id": 76214580, "body": "tried it, the result is the same <b>perl -e &quot;print ((-B &#39;/home/ilyab/testingfoulder/yulia_cm_test/_kssh.exe&#39;)?&#39;binar&zwnj;&#8203;y&#39;:&#39;text&#39;);&quot;</b>"}, {"owner": {"reputation": 1330, "user_id": 2375142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XMqXW.jpg?s=128&g=1", "display_name": "Laposhas&#250; Acsa", "link": "https://stackoverflow.com/users/2375142/laposhas%c3%ba-acsa"}, "reply_to_user": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1497782961, "post_id": 44613477, "comment_id": 76214744, "body": "On my debian system (perl v5.20.2) it gives me &quot;binary&quot; with /bin/ls."}, {"owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1497785826, "post_id": 44613477, "comment_id": 76215467, "body": "and mine is Ubuntu 12.04.5 LTS"}, {"owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1497786689, "post_id": 44613477, "comment_id": 76215659, "body": "wow, it works, I was my fault, didn&#39;t pay attention to it."}], "tags": [], "owner": {"reputation": 1330, "user_id": 2375142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XMqXW.jpg?s=128&g=1", "display_name": "Laposhas&#250; Acsa", "link": "https://stackoverflow.com/users/2375142/laposhas%c3%ba-acsa"}, "is_accepted": false, "score": 1, "last_activity_date": 1497777234, "creation_date": 1497777234, "answer_id": 44613477, "question_id": 44613335, "link": "https://stackoverflow.com/questions/44613335/check-block-binaries-git-hook/44613477#44613477", "title": "Check block binaries git hook", "body": "<p>You filled your file with the string, \"Hello world!\" which not qualifies as binary according to <code>perldoc -f -B</code></p>\n\n<blockquote>\n  <p>The first block or so of the file is examined for odd characters such\n  as strange control codes or characters with the high bit set. If too\n  many strange characters (>30%) are found, it\u2019s a -B file;</p>\n</blockquote>\n\n<p>You can try generating a byte sequence that satisfies this condition or copy a part of one of your binary with <code>head -c</code> into a file.</p>\n"}], "owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1497796215, "answer_count": 1, "score": 0, "last_activity_date": 1497777234, "creation_date": 1497776070, "question_id": 44613335, "link": "https://stackoverflow.com/questions/44613335/check-block-binaries-git-hook", "closed_reason": "Duplicate", "title": "Check block binaries git hook", "body": "<p>Here is a pre-recieve git hook, that should block files, if the are binary</p>\n\n<pre><code>#!/usr/bin/perl\n###########################################\nuse strict; \nuse warnings;\n\nour $host = `uname -n`;chomp $host;\nour $repo = `pwd`;chomp;\n\nif (  $repo =~ /^(.+)\\.git/ ){\n   $repo = $1;\n}\n$repo =~ /([^\\/]+)$/;\n$repo = $1;\nchomp $repo;\n\n\nprint \"========================================================\\n\";\nprint \"GIT hook.....: pre-commit\\n\";\nprint \"GIT server...: $host \\n\";\nprint \"GIT Repo.....: $repo \\n\";\nprint \"========================================================\\n\";\n\nmy @new_file_list =  `git diff --cached --name-only --diff-filter=A`;\nforeach $file (@new_file_list)\n{\n  chomp($file);\n\n  # Check if file is binary\n  if (-B $file)\n  {\n    print STDERR \"WARNING: $file is binary.\\n\";\n    print STDERR \"Please check with repo owner before committing binary files.\\n\";\n    print STDERR \"To bypass this warning re-run your commit with the '--no-verify' option\\n\";\n    exit 1;\n  }\n}\n</code></pre>\n\n<p>Could you tell me, how can I check, if it works properly?</p>\n\n<p>I was trying to create a binary file like this</p>\n\n<pre><code>echo -n -e \\\\x48\\\\x00\\\\x49\\\\x00 &gt; myfile\n</code></pre>\n\n<p>or this</p>\n\n<pre><code>echo \"0000 4865 6c6c 6f20 776f 726c 6421 0000\" &gt; text_dump\nxxd -r -p text_dump &gt; binary_dump\n</code></pre>\n\n<p>But when I push them, this hook doesn't block these files.</p>\n"}, {"tags": ["perl", "cmd", "directory"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497780746, "post_id": 44612877, "comment_id": 76214148, "body": "Is this on windows? You will probably need backslashes."}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497780977, "post_id": 44612877, "comment_id": 76214204, "body": "@simbabque   yes windows,i can&#39;t write backlashes , the cygwin tool in the cmd  asks me to write the posix equivalent when i execute the command, i am able to list all the files in <code>rxx</code> folder using forward slashes  but i can&#39;t recursively find files because <code>&#47;s</code> parameter is interpreted as a file path"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497782049, "post_id": 44612877, "comment_id": 76214499, "body": "Put the switch before the path."}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497782501, "post_id": 44612877, "comment_id": 76214616, "body": "@simbabque tried that as well it doesn&#39;t work if  do this <code>dir  &#47;&#47;server1&#47;dxx&#47;mxx&#47;rss&#47; </code> , it displays all the files present in &#39;rss&#39; but when i write the <code>file name </code> and <code>&#47;s</code> , i get the error <code>no such file or directory</code> it also includes file name <code>ui.xml</code>  in the path"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1497782690, "post_id": 44612877, "comment_id": 76214667, "body": "Try <code>-s</code> instead. Sounds weird, but as I remember, Unix like paths also means Unix like options."}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1497782942, "post_id": 44612877, "comment_id": 76214740, "body": "@PerlDuck no i tried that too it didn&#39;t work it just displayed contents  in <code>rss</code> folder"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1497805305, "post_id": 44612877, "comment_id": 76220876, "body": "My Windows and cygwin expertise is a bit rusty. But what does <code>dir  &#47;&#47;server1&#47;dxx&#47;mxx&#47;rxx&#47; &quot;ui.xml&quot;</code> mean? Do you want to list <code>&#47;&#47;server1&#47;dxx&#47;mxx&#47;rxx&#47;</code> <b>and</b> <code>ui.xml</code>? Like calling <code>dir</code> with two parameters, a directory and a file?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1497813865, "post_id": 44612877, "comment_id": 76223267, "body": "@PerlDuck, Re &quot;<i>Unix like paths also means Unix like options</i>&quot;, That&#39;s complete nonsense."}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1497830698, "post_id": 44612877, "comment_id": 76227197, "body": "@PerlDuck no <code>ui.xml </code> is a file name"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497832718, "post_id": 44612877, "comment_id": 76227600, "body": "Re &quot;<i>no ui.xml is a file name</i>&quot;, Then it needs to be connected to the path. <code>dir &#47;s&#47;b c:\\a.jpg</code> will search for <code>a.jpg</code> everywhere on your <code>C:</code>."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497830639, "post_id": 44618676, "comment_id": 76227183, "body": "no <code>&#47;s</code> is still interpreted as path <code>&#47;s:no such file or directory </code> , and <code>ui.xml</code> is a file which i am trying it search inside <code>rss</code> and its sub directories"}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497841303, "post_id": 44618676, "comment_id": 76229210, "body": "i tried the command , and this is the error i got <code>cygwin warning:   MS-DOS style path detected: \\server1\\dxx\\mxx\\rxx\\ui.xml l   Preferred POSIX equivalent is: &#47;cygdrive&#47;d&#47;server1&#47;dxx&#47;mxx&#47;rxx&#47;ui.xml   CYGWIN environment variable option &quot;nodosfilewarning&quot; turns off this warning.   Consult the user&#39;s guide for more details about POSIX paths:     http:&#47;&#47;cygwin.com&#47;cygwin-ug-net&#47;using.html#using-pathnames dir: cannot access \\\\\\\\server1\\\\dxx\\\\mxx\\\\rxx\\\\ui.xml: N o such file or directory dir: cannot access &#47;s: No such file or directory dir: cannot access &#47;b: No such file or directory</code>"}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497841843, "post_id": 44618676, "comment_id": 76229291, "body": "but when i try this ` <code>dir   &quot;&#47;&#47;server1&#47;dxx&#47;mxx&#47;rxx&#47;&quot;  &#47;s </code> i get all the directories under <code>rxx</code> and also <code>cannot access &#47;s :no such directory</code> , `/s&#39; switch is still interpreted as path"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497841925, "post_id": 44618676, "comment_id": 76229313, "body": "You&#39;re in a Unix emulation environment, passing a <code>cmd</code> command to <code>sh</code> (where <code>dir</code> appears to be an alias for <code>ls</code> (which means you have an poorly configured shell)). If you want to execute a <code>cmd</code> command, you will need to execute <code>cmd</code>."}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497842815, "post_id": 44618676, "comment_id": 76229473, "body": "i wrote  <code>cmd</code>  on the command line and then executed the program still doesn&#39;t work"}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497842864, "post_id": 44618676, "comment_id": 76229481, "body": "and i am also in a windows server , i am confused"}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497843153, "post_id": 44618676, "comment_id": 76229535, "body": "now i can do this as well <code>system(&quot;ls  &#47;&#47;server1&#47;dxx&#47;mxx&#47;rxx&#47;&quot;)</code> , it lists all the files , can i search for file name  and do recursive search with this command"}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497844870, "post_id": 44618676, "comment_id": 76229867, "body": "i have also tried <code>File::Find::Rule</code> before  it takes forever  to get the output , so i am looking for an alternative , i found <code>psexec</code> commands handy  for instance <code>psexec \\\\server1 cmd</code> will give the cmd of the  required server and from there i can execute the <code>dir</code> command but i am unable to incorporate it in the script , when i execute ` qx(psexec \\\\server1  cmd)` the cmd hangs there , is there any other alternative , i can use <code>psexec</code> in the script"}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497846168, "post_id": 44618676, "comment_id": 76230156, "body": "one last thing ,when i execute the <code>dir</code> command in the cmd i get no error and i get the desired output  am not asked to follow unix environment rules ,why is that"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1497843734, "last_edit_date": 1497843734, "creation_date": 1497813768, "answer_id": 44618676, "question_id": 44612877, "link": "https://stackoverflow.com/questions/44612877/unable-to-pass-a-parameter-to-dir-command-from-perl-script/44618676#44618676", "title": "unable to pass a parameter to dir command from perl script", "body": "<p>This has nothing to do with Perl. The arguments you are passing to <code>dir</code> are incorrect.</p>\n\n<ul>\n<li><code>dir</code> interprets <code>/</code> as the start of an option unless it's quoted,</li>\n<li>you have a space in the middle of the path that shouldn't be there, and</li>\n<li><code>/s</code> doesn't work with paths containing both <code>/</code> and a file component.</li>\n</ul>\n\n<p>Additionally, you probably want <code>/b</code> in addition to <code>/s</code>.</p>\n\n<p>Fixed:</p>\n\n<pre><code>dir \"\\\\server1\\dxx\\mxx\\rxx\\ui.xml\" /s/b\n</code></pre>\n\n<p>so</p>\n\n<pre><code>my $dir_output = `dir \"\\\\\\\\server1\\\\dxx\\\\mxx\\\\rxx\\\\ui.xml\" /s/b`;\n</code></pre>\n\n<p>Example,</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;dir \"//localhost/C$/Users/ikegami/Desktop/\" /s/b\n\\\\localhost\\C$\\Users\\ikegami\\Desktop\\a.jpg\n\\\\localhost\\C$\\Users\\ikegami\\Desktop\\cabinet.txt\n...\n\n&gt;dir \"//localhost/C$/Users/ikegami/Desktop/a.jpg\" /s/b\nFile Not Found                                               &lt;-- WTF?\n\n&gt;dir \"\\\\localhost\\C$\\Users\\ikegami\\Desktop\\a.jpg\" /s/b\n\\\\localhost\\C$\\Users\\ikegami\\Desktop\\a.jpg\n\\\\localhost\\C$\\Users\\ikegami\\Desktop\\x\\a.jpg\n\n&gt;dir \\\\localhost\\C$\\Users\\ikegami\\Desktop\\a.jpg /s/b\n\\\\localhost\\C$\\Users\\ikegami\\Desktop\\a.jpg\n\\\\localhost\\C$\\Users\\ikegami\\Desktop\\x\\a.jpg\n\n&gt;type a.pl\nprint `dir \\\\\\\\localhost\\\\C\\$\\\\Users\\\\ikegami\\\\Desktop\\\\a.jpg /s/b`\n\n&gt;perl a.pl\n\\\\localhost\\C$\\Users\\ikegami\\Desktop\\a.jpg\n\\\\localhost\\C$\\Users\\ikegami\\Desktop\\x\\a.jpg\n</code></pre>\n\n<hr>\n\n<p>That said, I'd personally use <a href=\"http://search.cpan.org/perldoc?File::Find::Rule\" rel=\"nofollow noreferrer\">File::Find::Rule</a>.</p>\n\n<pre><code>use File::Find::Rule qw( );\n\nmy $qfns =\n   File::Find::Rule\n   -&gt;name('ui.xml')\n   -&gt;file\n   -&gt;in('//server1/dxx/mxx/rxx');\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1497843734, "creation_date": 1497772616, "last_edit_date": 1497773609, "question_id": 44612877, "link": "https://stackoverflow.com/questions/44612877/unable-to-pass-a-parameter-to-dir-command-from-perl-script", "title": "unable to pass a parameter to dir command from perl script", "body": "<p>I am unable to execute the <code>dir</code> command, i get error when specifying the file name <code>all.xml</code> to search and i can't make the search recursive using the <code>/s</code> command , i get the following error <code>cannot access no such file exists</code> and it is not understanding that <code>/s</code> parameter is for searching recursively ,program interprets it as a file path</p>\n\n<pre><code>use strict;\nuse warnings;  \nprint \"i\";\nmy $vall = ` dir  //server1/dxx/mxx/rxx/ \"ui.xml\"  /s`; \n\nprint $vall;\n</code></pre>\n"}, {"tags": ["perl", "file", "parsing", "character"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1497773185, "post_id": 44611768, "comment_id": 76212309, "body": "Clearly, you&#39;ll need to keep a buffer and check it for that substring, to throw it away (clear the buffer).  OR -- read by line, check for the substring and skip, or process the string with line by char if that&#39;s what you need ... so, why do you read by character?  What do you need to do?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1497773576, "post_id": 44611768, "comment_id": 76212380, "body": "The <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\"><code>$.</code> variable</a> doesn&#39;t work for <code>read</code>"}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1497765176, "last_edit_date": 1497765176, "creation_date": 1497764862, "answer_id": 44612108, "question_id": 44611768, "link": "https://stackoverflow.com/questions/44611768/perl-ignore-first-line-while-reading-per-character-of-file/44612108#44612108", "title": "Perl : Ignore first line, while reading per character of file", "body": "<pre><code>open my $file,\"&lt;\",\"file.txt\";\n&lt;$file&gt;; #Removing first line\nwhile (read $file, my $char, 1)\n{\n    print $char;\n}\n</code></pre>\n\n<p>Or set the flag and check it</p>\n\n<pre><code>my $flag = 0;\nwhile (read $file, my $char, 1)\n{\n    $flag = 1 and next if(($char =~m/\\n|\\r\\n/) &amp;&amp; ($flag == 0));\n    next if $flag == 0;\n    print $char;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1497822889, "creation_date": 1497822889, "answer_id": 44619905, "question_id": 44611768, "link": "https://stackoverflow.com/questions/44611768/perl-ignore-first-line-while-reading-per-character-of-file/44619905#44619905", "title": "Perl : Ignore first line, while reading per character of file", "body": "<p>Wouldn't it be easier to process line-by-line and <em>then</em> character-by-character?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    next if /^&gt; SOME HEADER/;\n\n    for my $char (split(//)) {\n        print \"$char $.\\n\";\n    }\n}\n\n__DATA__\n&gt; SOME HEADER\nABCDEFGHIJKLMNOP\nQRSTUPWXYZ123456\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>A 2\nB 2\nC 2\n...\n4 3\n5 3\n6 3\n</code></pre>\n"}], "owner": {"reputation": 1832, "user_id": 1994885, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/53e535e883f8cc690af4e63dc12a6e83?s=128&d=identicon&r=PG&f=1", "display_name": "muffin", "link": "https://stackoverflow.com/users/1994885/muffin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 905, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1497822889, "creation_date": 1497760583, "question_id": 44611768, "link": "https://stackoverflow.com/questions/44611768/perl-ignore-first-line-while-reading-per-character-of-file", "title": "Perl : Ignore first line, while reading per character of file", "body": "<p>I'm trying to read a file that looks like this:</p>\n\n<pre><code>&gt; SOME HEADER\nABCDEFGHIJKLMNOP\nQRSTUPWXYZ123456\n</code></pre>\n\n<p>I need to be able to read the characters A,B,C,D etc..per character, so I'm using this loop:</p>\n\n<pre><code>while (read $file, my $char, 1){\n\n\n  print $char;\n  print $.;\n\n  print \"\\n\\n\";\n}\n</code></pre>\n\n<p>But the problem is, I need to skip the \"SOME HEADER\". I need to skip it not on the basis of it being the first line, but on the basis of having a \"> SOME HEADER\" substring. </p>\n\n<p>printing the $. always outputs \"6\" even though it's not the correct line number.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1497749554, "post_id": 44610923, "comment_id": 76208624, "body": "I don&#39;t get it. The way you formatted my code doesn&#39;t accept standard input, and it does not tell me the natural logarithm of x = 10 before it brings it out of scope. What am I missing?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 2, "creation_date": 1497749868, "post_id": 44610923, "comment_id": 76208659, "body": "Perl (and virtually every other language) is much better at this than R. It detects your error at compile-time instead of running half your program before finding your error. You need to fix the error (say by uncommenting the two commented lines) before you can run the program."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1497750268, "post_id": 44610923, "comment_id": 76208707, "body": "I&#39;m pretty sure it&#39;s still initializing the variable to zero. I don&#39;t see how that&#39;s a good thing."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 2, "creation_date": 1497750329, "post_id": 44610923, "comment_id": 76208713, "body": "What are you talking about? The program doesn&#39;t even run because the variable doesn&#39;t exist, so how can the program that can&#39;t run initialize a non-existent variable to zero (or any other value)?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 2, "creation_date": 1497750460, "post_id": 44610923, "comment_id": 76208729, "body": "Also, <code>undef $x;</code> (a poor way of saying <code>$x = undef;</code>) doesn&#39;t &quot;initialize to zero&quot;. It sets the value to undef."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1497750676, "post_id": 44610923, "comment_id": 76208756, "body": "Then how come in my original script without your block separation, if I add &quot;use strict&quot; and &quot;my&quot; variable declarations, it still casts the error message: &quot;Can&#39;t take log of 0 at ...&quot; ? It is setting the variable to zero."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 3, "creation_date": 1497750797, "post_id": 44610923, "comment_id": 76208777, "body": "No, to undef. But then you used undef as a number and undef is not a number, so Perl gave you an error (<code>Use of uninitialized value in log</code>), and numified undef to zero. &quot;Uninitialized&quot; is a misnomer; it really means &quot;undefined&quot;. You would have gotten a similar result with <code>log(&quot;abc&quot;)</code>: <code>Argument &quot;abc&quot; isn&#39;t numeric in log</code> + <code>Can&#39;t take log of 0</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1497750277, "last_edit_date": 1497750277, "creation_date": 1497748947, "answer_id": 44610923, "question_id": 44610816, "link": "https://stackoverflow.com/questions/44610816/perl-is-not-deleting-a-scalar-variable-how-can-i-make-it-not-initialize-a-delet/44610923#44610923", "title": "Perl is not deleting a scalar variable. How can I make it not initialize a deleted variable&#39;s contents to zero?", "body": "<p>First of all, always use <code>use strict; use warnings qw( all );</code>. This avoids so many problems, and it specifically addresses your question because, among other things, this will prevent you from implicitly creating global variables. You will have to declare your variables with <code>my</code>, and where you declare them will affect where they can be seen and used.</p>\n\n<p>For example, take the following program:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings qw( all ); \n\n{    \n   print \"Give me a positive number greater than zero: \";\n   chomp(my $x = &lt;STDIN&gt;);\n\n   my $this_log = log($x);\n   print \"The natural logarithm of $x is $this_log\\n\";\n}\n\n{\n   #print \"Give me a positive number greater than zero: \";\n   #chomp(my $x = &lt;STDIN&gt;);\n\n   my $new_log = log($x);\n   print \"The natural logarithm of $x is $new_log\\n\";\n}\n</code></pre>\n\n<p>Trying to run the above fails with the following compile-time error:</p>\n\n<pre><code>Global symbol \"$x\" requires explicit package name (did you forget to declare \"my $x\"?) at a.pl line 17.\nGlobal symbol \"$x\" requires explicit package name (did you forget to declare \"my $x\"?) at a.pl line 18.\nExecution of a.pl aborted due to compilation errors.\n</code></pre>\n\n<p>The program died because you tried to use a variable that doesn't exist, proving that <code>$x</code> is no longer in scope.</p>\n"}, {"comments": [{"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1497801180, "post_id": 44615756, "comment_id": 76219716, "body": "THANK YOU! This is exactly what I wanted!"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1497857735, "last_edit_date": 1497857735, "creation_date": 1497794374, "answer_id": 44615756, "question_id": 44610816, "link": "https://stackoverflow.com/questions/44610816/perl-is-not-deleting-a-scalar-variable-how-can-i-make-it-not-initialize-a-delet/44615756#44615756", "title": "Perl is not deleting a scalar variable. How can I make it not initialize a deleted variable&#39;s contents to zero?", "body": "<p>Perl is telling you about this problem. You get the warning:</p>\n\n<blockquote>\n  <p>Use of uninitialized value $x in log</p>\n</blockquote>\n\n<p>But warnings are only warnings. Perl will carry on and try to do the right thing. When it comes to uninitialised values, Perl treats them as empty strings or the number zero depending on the context in which you use them.</p>\n\n<p>If you don't want Perl to do that, then upgrade the warning to a fatal error:</p>\n\n<pre><code>use warnings FATAL =&gt; 'uninitialized';\n</code></pre>\n\n<p>Then, if you try to access an uninitialised value, you will still see the same warning message, but your program will also die at that point.</p>\n\n<p><strong>Update:</strong> I should point out that while this solves your current problem, I agree 100% with ikegami, that it's solving a problem that you really shouldn't have. \"Deleting a variable\" as you describe it (actually, just setting its value to \"undef\") is not the best approach here. You should be thinking more carefully about the scope of your variables.</p>\n"}], "owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 389, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1497857735, "creation_date": 1497747541, "last_edit_date": 1497748893, "question_id": 44610816, "link": "https://stackoverflow.com/questions/44610816/perl-is-not-deleting-a-scalar-variable-how-can-i-make-it-not-initialize-a-delet", "title": "Perl is not deleting a scalar variable. How can I make it not initialize a deleted variable&#39;s contents to zero?", "body": "<p>I have a simple script to accept standard input. I request that the variable will be a number. But obviously the standard input could take a string like \"Hello World\". I attempt to delete the variable by making it undefined with \"undef\", but instead the undefined function makes my variable zero. I then do some mathematics on it to see if the undefined function is actually making my scalar value zero or if it is removing the variable from memory because the natural logarithm of zero is undefined.</p>\n\n<p>I think that it's very important to be able to completely delete a temporary variable's contents from a script after you've done important calculations with it like managing your budget. But Perl seems to disagree. Is there anyway to make a removed variable not be initialized to zero?           </p>\n\n<p>Here is a Perl 5 script to test that hypothesis:</p>\n\n<pre><code>#!/usr/bin/env perl\n# deletion_attempt.pl\nuse warnings; \n\nprint \"Give me a positive number greater than zero\\n\";\nchomp($x = &lt;STDIN&gt;);\n\n$this_log = log($x);\nprint \"The natural logarithm of $x is $this_log\";\n\nundef $x; # I'm trying to delete $x. But Perl is initializing $x to zero. \n\n$new_log = log($x);\nprint \"The natural logarithm of the deleted variable is $new_log\";\n\nprint \"$x\";\n</code></pre>\n\n<p>If I provide 10 from the standard input I get this result to standard output.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Give me a positive number greater than zero\n10\nUse of uninitialized value $x in log at deletion_attempt.pl line 13, &lt;STDIN&gt; line 1.\nCan't take log of 0 at deletion_attempt.pl line 13, &lt;STDIN&gt; line 1.\nThe natural logarithm of 10 is 2.30258509299405\n</code></pre>\n\n<p>If I comment out the lines where I calculate the natural logarithm of the undefined scalar value $x, I'm told that the value is undefined, but not that it's zero. </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Give me a positive number greater than zero\n10\nUse of uninitialized value $x in string at deletion_attempt.pl line 16, &lt;STDIN&gt; line 1.\nThe natural logarithm of 10 is 2.30258509299405\n</code></pre>\n\n<p>So Perl is not telling me the truth. It is making an assignment of zero to a variable that I am trying to delete by making it undefined. It is making an assignment instead of deleting the variable or its contents from Perl memory. </p>\n\n<p>Another language like R is smart enough to delete a variable of x, and not set it to zero so you can do mathematics on it. So this realization is making me not very optimistic about Perl programming. </p>\n\n<pre><code>&gt; x = 10\n&gt; log(x)\n[1] 2.302585\n&gt; rm(x)\n&gt; x\nError: object 'x' not found\n&gt; log(x)\nError: object 'x' not found\n</code></pre>\n\n<p>So my question is this: Is there any way to completely delete a variables contents from Perl memory without unintentionally initializing it to zero? </p>\n\n<p>Thank you.   </p>\n"}, {"tags": ["perl", "ubuntu", "mouse"], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 6276643, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6dooC.jpg?s=128&g=1", "display_name": "ProgAndPlay", "link": "https://stackoverflow.com/users/6276643/progandplay"}, "edited": false, "score": 0, "creation_date": 1503982220, "post_id": 44610798, "comment_id": 78820050, "body": "This is useful to prevent Repetitive Strain Injury. When one feels pain in the right hand, they use the left hand, and vice-versa."}], "tags": [], "owner": {"reputation": 157, "user_id": 6276643, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6dooC.jpg?s=128&g=1", "display_name": "ProgAndPlay", "link": "https://stackoverflow.com/users/6276643/progandplay"}, "is_accepted": false, "score": -1, "last_activity_date": 1497747306, "creation_date": 1497747306, "answer_id": 44610798, "question_id": 44610797, "link": "https://stackoverflow.com/questions/44610797/how-can-we-have-two-usb-mice-in-ubuntu-one-right-handed-and-the-other-left-hand/44610798#44610798", "title": "How can we have two Usb mice in ubuntu, one right-handed and the other left-handed?", "body": "<p>This is the twomice.pl script</p>\n\n<pre><code>#!/usr/bin/perl\n\n# print \"Two Mice\\n\";\n# one left-handed and the other right-handed: cool!\n\n# enter strings from command \"xinput list\"\nmy $leftDevice  = \"Mouse\";\nmy $rightDevice = \"MOUSE\";\n\nmy $leftHandedOptions  = \"1 2 3\";\nmy $rightHandedOptions = \"3 2 1\";\n\nmy $infole = `/usr/bin/xinput list | grep $leftDevice`;\nmy $infori = `/usr/bin/xinput list | grep $rightDevice`;\n\nmy $beginPart = \"id=\";\nmy $endPart = \"\\t\";\n$infole =~ /$beginPart(.*?)$endPart/; $infole = $1;\n$infori =~ /$beginPart(.*?)$endPart/; $infori = $1;\n\nmy $commandWords = \"/usr/bin/xinput set-button-map\";\nmy $leftMouseCfg = $commandWords . \" \" . $infole . \" \" . $leftHandedOptions; \nmy $rightMouseCfg = $commandWords . \" \" . $infori . \" \" . \n$rightHandedOptions;\n\n#print $leftMouseCfg . \"\\n\";\n#print $rightMouseCfg .\"\\n\";\n\nsystem($leftMouseCfg);\nsystem($rightMouseCfg);\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 6276643, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6dooC.jpg?s=128&g=1", "display_name": "ProgAndPlay", "link": "https://stackoverflow.com/users/6276643/progandplay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1497747306, "creation_date": 1497747306, "question_id": 44610797, "link": "https://stackoverflow.com/questions/44610797/how-can-we-have-two-usb-mice-in-ubuntu-one-right-handed-and-the-other-left-hand", "title": "How can we have two Usb mice in ubuntu, one right-handed and the other left-handed?", "body": "<p>I have two mice and I want to use them simultaneously.\nThe tricky detail is that I want one right-handed and the other left-handed.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1497730474, "post_id": 44608788, "comment_id": 76204777, "body": "Do you always call the function with the same values (<code>,1,1,0</code>)?"}, {"owner": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1497732222, "post_id": 44608788, "comment_id": 76205214, "body": "yes, it&#39;s nearly all ,1,1,0."}, {"owner": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1497732258, "post_id": 44608788, "comment_id": 76205223, "body": "why the close votes?"}], "answers": [{"comments": [{"owner": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "edited": false, "score": 0, "creation_date": 1497732325, "post_id": 44609033, "comment_id": 76205243, "body": "So it&#39;s still necessary to list the input string permutations for the second parameter? <code>(COL|ROW) (SUBSET|DRILL)</code>"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "edited": false, "score": 0, "creation_date": 1497732397, "post_id": 44609033, "comment_id": 76205263, "body": "That is to make the regex &quot;tight&quot; to your sample input. If you are sure that is not need you can probably simplify to &quot;[A-Z ]+&quot; or something. I updated the answer to cover that."}, {"owner": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "edited": false, "score": 0, "creation_date": 1497732880, "post_id": 44609033, "comment_id": 76205363, "body": "ok I tried with the updated answer (thanks for that) but it&#39;s not picking up the matches, will keep testing (here is my exact string:<code>perl -pi -w -e &quot;s&#47;(\\bgetniteml)\\(([sfr]+),\\&#39;([A-Z ]+)\\&#39;(?:,\\d+){3}\\)&#47;\\$1\\(\\$2,\\&#39;\\$3\\&#39;\\)&#47;g;&quot; d_*.sas</code>  )"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "edited": false, "score": 0, "creation_date": 1497733051, "post_id": 44609033, "comment_id": 76205408, "body": "What do you mean by &quot;not picking up the matches&quot; ? Do you want to provide more sample input? Is there any other expected result, apart from the file content changes? Something for which the matched parameters are needed maybe?"}, {"owner": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "edited": false, "score": 0, "creation_date": 1497733106, "post_id": 44609033, "comment_id": 76205424, "body": "I mean the file isn&#39;t changing (am tracking it with git), it could be an issue my end, still testing :-)"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "edited": false, "score": 0, "creation_date": 1497733184, "post_id": 44609033, "comment_id": 76205441, "body": "Hmm, to prevent misunderstanding, I admit I tested <code>perl -p -w -e &quot;s&#47;(\\bmyfunc)\\(([sfr]+),\\&#39;([A-Z ]+)\\&#39;(?:,\\d+){3}\\)&#47;\\$1\\(\\$2,\\&#39;\\$3\\&#39;\\)&#47;g;&quot;</code>, i.e. without <code>-i</code> and filename. Then pasted the test lines. Will change that by making at least one test file and help testting."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "edited": false, "score": 0, "creation_date": 1497733474, "post_id": 44609033, "comment_id": 76205525, "body": "Tested as <code>perl -pi -w -e &quot;s&#47;(\\bmyfunc)\\(([sfr]+),\\&#39;([A-Z ]+)\\&#39;(?:,\\d+){3}\\)&#47;\\$1\\(\\$2,\\&#39;\\$3\\&#39;\\)&#47;g;&quot; input*.txt</code> with two identical input.txt and input2.txt. Both were changed as desired, I believe."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "edited": false, "score": 0, "creation_date": 1497733606, "post_id": 44609033, "comment_id": 76205548, "body": "I am on windows, GNU bash, version 3.1.17(1)-release (i686-pc-msys) and perl, v5.8.8 built for msys-64int."}, {"owner": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "edited": false, "score": 0, "creation_date": 1497733707, "post_id": 44609033, "comment_id": 76205569, "body": "I&#39;m on mac OS Sierra"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "edited": false, "score": 0, "creation_date": 1497733722, "post_id": 44609033, "comment_id": 76205574, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/146964/discussion-between-yunnosch-and-allan-bowe\">continue this discussion in chat</a>."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "edited": false, "score": 0, "creation_date": 1497733938, "post_id": 44609033, "comment_id": 76205626, "body": "If you join me in chat, I could help to probe the regex-flavor of your environment. By making several experiments to verifiy all the little constructs I used. Otherwise that is what I recommend you to do, in order to home in on the problem."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "edited": false, "score": 0, "creation_date": 1497733974, "post_id": 44609033, "comment_id": 76205637, "body": "Upper case  / lower case. <code>[A-Z ]+ </code>does not match <code>varname\u200c</code> etc."}, {"owner": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "edited": false, "score": 0, "creation_date": 1497736020, "post_id": 44609033, "comment_id": 76206098, "body": "thanks for taking the time in chat to really solve my problem, and also giving advice as to how to ask a better question too :-)"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "edited": false, "score": 0, "creation_date": 1497736355, "post_id": 44609033, "comment_id": 76206176, "body": "My pleasure. :-)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497748433, "post_id": 44609033, "comment_id": 76208429, "body": "<code>\\K</code> avoids captures altogether: <code>perl -i -wpe&#39;s&#47;\\bmyfunc\\([^,]+,\\x27[^\\x27]+\\x27\\K[^)]+&#47;&#47;g&#39; *.txt</code>"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497762205, "post_id": 44609033, "comment_id": 76210285, "body": "@ikegami <code>Unrecognized escape \\K passed through at -e line 1.</code> and it prevents the desired replacing."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497765387, "post_id": 44609033, "comment_id": 76210764, "body": "Yeah, that&#39;s because you are using a 15 year old version. The OP didn&#39;t mention they were using an archaic version, so the assumption is that they aren&#39;t."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497767036, "post_id": 44609033, "comment_id": 76211060, "body": "@ikegami Thanks for the trick with the <code>\\x27</code>, I always felt I wanted to use single quotes (for precisely your reason), but never got them working if any single quote occurred anywhere inside."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497767134, "post_id": 44609033, "comment_id": 76211074, "body": "@ikegami Also thanks for the perl version hint. Yes, I believe the version on this machine has started the petrification process. Time to update."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497767214, "post_id": 44609033, "comment_id": 76211081, "body": "&quot;Escape&quot; single quotes by replacing them with <code>&#39;\\&#39;&#39;</code>. That said, most single quotes inside Perl programs can be avoided. And fortunately, those that can&#39;t are usually one double-quotes. That allows the use of <code>\\x27</code> instead of <code>&#39;\\&#39;&#39;</code>, which has the bonus of not requiring modification if moved from <code>-e</code> to a file"}], "tags": [], "owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "is_accepted": true, "score": 2, "last_activity_date": 1497769155, "last_edit_date": 1497769155, "creation_date": 1497730757, "answer_id": 44609033, "question_id": 44608788, "link": "https://stackoverflow.com/questions/44608788/perl-expression-find-replace-to-modify-an-external-function-definition/44609033#44609033", "title": "perl expression find &amp; replace to modify an external function definition", "body": "<ul>\n<li>In order to reduce complexity, generalize your regex, using flexible regexes.\n\n<ul>\n<li>The regex for \"anything between <code>(</code> and <code>,</code>, except <code>,</code>  \" : <code>\\(([^,]+),</code></li>\n<li>The regex for \"anything between <code>'</code> and <code>'</code>, except <code>'</code> \" : <code>\\'([^']+)\\'</code></li>\n</ul></li>\n<li>In order to get the output right for the specific input (in spite of the flexibility),<br>\nuse capture groups, i.e. <code>(...)</code>.<br>\nThey populate variables, which you can use as <code>$1</code> in the substitution.</li>\n<li>To prevent matching functions with names ending in your functions name, e.g. <code>notmyfunc()</code>,<br>\nuse the regex for word boundary, i.e. <code>\\b</code>.</li>\n<li>Ikegamis edit (separated to keep visible what you and I learned the hard way):  \n\n<ul>\n<li>Avoid double-quotes for the program argument.<br>\nIt's just asking for trouble and requires so much extra escaping.<br>\nNote that <code>\\x27</code> is a single quote when used inside double-quotes or regex literals.<br>\n<code>\\'</code> -> <code>\\x27</code></li>\n<li>Only use one capture group <code>(myfunc\\([^,]+,\\x27[^\\x27]+\\x27)</code></li>\n<li>Remove the <code>;</code>, which is not needed for a single statement.</li>\n<li>Add a <code>.</code> to the input file wildcard, assuming you actually meant it like that.</li>\n</ul></li>\n</ul>\n\n<p>Working code<br>\n(Comparing to chat note the <code>\\((</code>; the backslash got lost, eaten by the chat I believe.):</p>\n\n<pre><code>perl -pi -w -e \"s/(\\bmyfunc)\\(([^,]+),\\'([^']+)\\'(?:,\\d+){3}\\)/\\$1\\(\\$2,\\'\\$3\\'\\)/g;\" *txt\n</code></pre>\n\n<p>Ikegamis nice edit<br>\n(The detail which was so time-consuming in our chat is not easily visible anymore,<br>\nbecause the <code>(</code> for the capture group was moved somewhere else.):</p>\n\n<pre><code>perl -i -wpe's/\\b(myfunc\\([^,]+,\\x27[^\\x27]+\\x27)(?:,\\d+){3}\\)/$1)/g' *.txt\n</code></pre>\n\n<p>Input:</p>\n\n<pre><code>var1 = myfunc(sss,'ROW DRILL',1,1,0);\nvar2 = myfunc(fff,'COL DRILL',1,1,0);\nvar3 = myfunc(s,'ROW SUBSET',1,1,0);\nvar4 = myfunc(rr,'COL SUBSET',1,1,0);\nvar5 = myfunc(rr,'COL SUBSET',2,12,50); with different values\nvar6 = notmyfunc(rr,'COL SUBSET',1,1,0); tricky differet name\nvar1 = myfunc(sss,'ROW DRILL',1,1,0);\nvar2 = myfunc(fff,'COL DRILL',1,1,0);\nvar3 = myfunc(anyAlphaNum123,'anyAlphaNum123 or space',1,1,0);\ndonotcapture=myfunc2(rr,'some string',1,1,0);\n</code></pre>\n\n<p>Output (version \"even more relaxed\"):</p>\n\n<pre><code>var1 = myfunc(sss,'ROW DRILL');\nvar2 = myfunc(fff,'COL DRILL');\nvar3 = myfunc(s,'ROW SUBSET');\nvar4 = myfunc(rr,'COL SUBSET');\nvar5 = myfunc(rr,'COL SUBSET'); with different values\nvar6 = notmyfunc(rr,'COL SUBSET',1,1,0); tricky differet name\nvar1 = myfunc(sss,'ROW DRILL');\nvar2 = myfunc(fff,'COL DRILL');\nvar3 = myfunc(anyAlphaNum123,'anyAlphaNum123 or space');\ndonotcapture=myfunc2(rr,'some string',1,1,0);\n</code></pre>\n\n<p>Lessons learned:</p>\n\n<ul>\n<li>I made a habit of creating regexes as tightly fitting the input as possible.<br>\nBut that caught us/me unprepared, when applied to sample input by someone inexperienced with regexes. (Absolutely no blame on you.)</li>\n<li>Posting code-quotes into chat is dangerous, be careful with <code>\\</code>.</li>\n</ul>\n"}], "owner": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 44609033, "answer_count": 1, "score": 0, "last_activity_date": 1497769155, "creation_date": 1497728901, "last_edit_date": 1497735007, "question_id": 44608788, "link": "https://stackoverflow.com/questions/44608788/perl-expression-find-replace-to-modify-an-external-function-definition", "title": "perl expression find &amp; replace to modify an external function definition", "body": "<p>Is it possible to use perl to remove parameters from a function definition?  eg if my file contains the following text:</p>\n\n<pre><code>var1 = myfunc(sss,'ROW DRILL',1,1,0);\nvar2 = myfunc(fff,'COL DRILL',1,1,0);\nvar3 = myfunc(anyAlphaNum123,'anyAlphaNum123 or space',1,1,0);\ndonotcapture=myfunc2(rr,'some string',1,1,0); \n</code></pre>\n\n<p>I need to change it so that it becomes:</p>\n\n<pre><code>var1 = myfunc(sss,'ROW DRILL');\nvar2 = myfunc(fff,'COL DRILL');\nvar3 = myfunc(anyAlphaNum123,'anyAlphaNum123 or space');\ndonotcapture=myfunc2(rr,'some string',1,1,0);\n</code></pre>\n\n<p>Essentially just removing <code>,1,1,0</code> from all instances where <code>myfunc</code> is called, but preserving the first two parameters.</p>\n\n<p>I have tried the following, but this approach would mean I have to write rules for each permutation...</p>\n\n<pre><code>perl -pi -w -e \"s/myfunc\\(rr,'COL SUBSET',1,1,0\\)/myfunc\\(rr,'COL SUBSET'\\)/g;\" *.txt\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 19060, "user_id": 4003419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIeUm.png?s=128&g=1", "display_name": "LukStorms", "link": "https://stackoverflow.com/users/4003419/lukstorms"}, "is_accepted": true, "score": 2, "last_activity_date": 1497976226, "last_edit_date": 1497976226, "creation_date": 1497725362, "answer_id": 44608231, "question_id": 44608151, "link": "https://stackoverflow.com/questions/44608151/perl-find-and-replace-with-single-quotes/44608231#44608231", "title": "perl find and replace with single quotes", "body": "<p>In a regex, what's between <code>(</code> and <code>)</code> is a capture group.</p>\n\n<p>So for the <code>(</code> or <code>)</code> characters you need to escape them, so that the literal characters are matched.  So use <code>\\(</code> and <code>\\)</code> in the regex. </p>\n\n<p>Hence, a regex like <code>func(akes)</code> would only match <code>funcakes</code>.  </p>\n\n<p>Escaping is often needed to match characters that have a special meaning in the regex syntax:<br>\n <code>. ( ) [ ] + * ? { } ^ $ \\ |</code><br>\nAlso <code>/</code> if the code uses something like <code>s/a\\/b/a-b/g</code> instead of something like <code>s@a/b@a-b@g</code></p>\n\n<p>And if you really don't like to use those backslashes?<br>\nYou could also use a character class: <code>[(]</code> and <code>[)]</code></p>\n"}], "owner": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 44608231, "answer_count": 1, "score": 0, "last_activity_date": 1497976226, "creation_date": 1497724871, "question_id": 44608151, "link": "https://stackoverflow.com/questions/44608151/perl-find-and-replace-with-single-quotes", "title": "perl find and replace with single quotes", "body": "<p>I need to find / replace the following string in all the .txt files in my working directory:</p>\n\n<pre><code>myfunc(l_define,'BASE TABLE')\n</code></pre>\n\n<p>I've tried the following, which runs without errors, but doesn't update the file(s).</p>\n\n<pre><code>perl -pi -w -e \"s/myfunc(l_define,'BASE')/myfunc(l_define,'BASE',1,1,'')/g;\" *.txt\n</code></pre>\n\n<p>Is it a quoting issue?</p>\n"}, {"tags": ["arrays", "perl", "printing", "pattern-matching", "contain"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1497723838, "post_id": 44607532, "comment_id": 76202807, "body": "What does the file look like? Please <a href=\"https://stackoverflow.com/posts/44607532/edit\">edit</a> your question and include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 7947168, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/1627994043885013/picture?type=large", "display_name": "LittleEntertainer", "link": "https://stackoverflow.com/users/7947168/littleentertainer"}, "edited": false, "score": 0, "creation_date": 1497813157, "post_id": 44608554, "comment_id": 76223061, "body": "Thanks, I am a total Perl beginner but I&#39;ll try to improve my code. I&#39;ve deleted my lowercase command but print still won&#39;t work even though I am 100% sure that the specified String is in the document and the reading process was successful. Any suggestions?"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 59, "user_id": 7947168, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/1627994043885013/picture?type=large", "display_name": "LittleEntertainer", "link": "https://stackoverflow.com/users/7947168/littleentertainer"}, "edited": false, "score": 0, "creation_date": 1497817449, "post_id": 44608554, "comment_id": 76224259, "body": "Include a few lines from the processed file."}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 0, "last_activity_date": 1497727318, "creation_date": 1497727318, "answer_id": 44608554, "question_id": 44607532, "link": "https://stackoverflow.com/questions/44607532/check-if-array-contains-a-specified-string-in-perl/44608554#44608554", "title": "Check if Array contains a specified String in Perl", "body": "<p>You have converted content ot the file into lower case version.<br>\n<code>$daten1 = lc $daten1;</code></p>\n\n<p>You look for string with uppercase letter.<br>\n<code>if(index($datenarray1[$i], '795.25-M') != -1)</code></p>\n\n<p>Look for lowercase version if the string (<code>795.25-m</code>) or use regular expression with <code>i</code> modifier.<br>\n<code>if($datenarray1[$i] =~ /795\\.25-M/i )</code></p>\n\n<p>BTW 1) your code is <strong>very</strong> \"unperlish\" IMHO. 2) You may look for the string in the first while loop (during processing file line by line).</p>\n"}], "owner": {"reputation": 59, "user_id": 7947168, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/1627994043885013/picture?type=large", "display_name": "LittleEntertainer", "link": "https://stackoverflow.com/users/7947168/littleentertainer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1497813197, "creation_date": 1497721201, "last_edit_date": 1497813197, "question_id": 44607532, "link": "https://stackoverflow.com/questions/44607532/check-if-array-contains-a-specified-string-in-perl", "title": "Check if Array contains a specified String in Perl", "body": "<p>I am working with an XML file and I am trying to check whether a line contains a specified String in the entire document. Reading the file seems to work and splitting the String into an array was also successful. But my code doesn't print the lines that contain the specified string and I can't figure out what's wrong. I've tried three different ways to check whether the String is contained (see below).\nThanks for helping!</p>\n\n<pre><code>use strict;\nuse locale;\n\nmy($daten1, $daten2, @datenarray1, @datenarray2, $datenarray1, $datenarray2, $i, $j, $l);\n\nopen (FHIN, '0a_nur_Text_nur_795.xml') || die \"Die Datei 0a_nur_Text_nur_795.xml konnte nicht geoeffnet werden: $!\";  \n        while(&lt;FHIN&gt;) {     \n\n            $daten1=$daten1.$_; #Daten als String einlesen\n            }  \n\n\nclose (FHIN);\n\n$daten1 = lc $daten1;\n\n@datenarray1= split(/\\n/,$daten1); \n\n\nfor($i=0; $i&lt;@datenarray1; $i++)\n{\n    #if( grep { $_ eq '795.25-M'} $datenarray1[$i])\n    #if($datenarray1[$i] =~m/795.25-M/)\n    if(index($datenarray1[$i], '795.25-M') != -1)\n    {\n        print $datenarray1[$i];\n    }\n}\n</code></pre>\n\n<p>The file is an XML file.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497728567, "post_id": 44607028, "comment_id": 76204306, "body": "The parens force the use of the list assignment operator, which causes the regex match be evaluated in list context. See <a href=\"http://www.perlmonks.org/?node_id=790129\" rel=\"nofollow noreferrer\">Mini-Tutorial: Scalar vs List Assignment Operator</a>. The regex match results different results depending on whether it&#39;s evaluated in scalar or list context."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1497719533, "creation_date": 1497719533, "answer_id": 44607292, "question_id": 44607028, "link": "https://stackoverflow.com/questions/44607028/what-is-meaning-of-in-perl/44607292#44607292", "title": "what is meaning of () in perl?", "body": "<p>First of all, parentheses have the same function in Perl as they do in most other programming languages: to disambiguate the order of evaluation</p>\n\n<p>In the case of</p>\n\n<pre><code>my $count = ($line =~ /Data=&amp;quot;([^&amp;]+)/x)\n</code></pre>\n\n<p>they force the regex match to happen before the assignment. In this case they make no difference because they are enforcing the default priority</p>\n\n<p>With</p>\n\n<pre><code>my ($count) = ($line =~ /Data=&amp;quot;([^&amp;]+)/x)\n</code></pre>\n\n<p>the right-hand pair of parentheses is doing the same as before, and is unnecessary. But <code>($count)</code> turns the left-hand-side of the assignment from a simple scalar into a <em>list of scalars</em></p>\n\n<p>This is critical because it imposes <em>list context</em>, and every operator and subroutine call has a different behaviour in list context from <em>scalar context</em></p>\n\n<p>If you read\n<a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\"><em>Regexp Quote-Like Operators</em></a>\nin <code>perldoc perlop</code> you will see that the match <code>m//</code> operator that you are using</p>\n\n<ul>\n<li>Searches a string for a pattern match, and in scalar context returns true if it succeeds, false if it fails</li>\n</ul>\n\n<p>In list context it's more complex because the behaviour depends on whether the regex has the <code>/g</code> (global) modifier and whether it uses any captures. In this case, with a single capture and without <code>/g</code>, this is the relevant clause</p>\n\n<ul>\n<li>Returns a list consisting of the subexpressions matched by the parentheses in the pattern</li>\n</ul>\n\n<p>What all this means is that in <em>scalar context</em>\u2014the first example\u2014<code>$count</code> will be set to <em>true</em> or <em>false</em> according to whether the regex pattern matched. In <em>list context</em>\u2014the second example\u2014it will be set to the contents of the capture <code>([^&amp;]+)</code>. If the match failed then the regex match will return an empty list, so <code>$count</code> will be set to <code>undef</code></p>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 5243670, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c2c9439ebc672d3a1760414587a73dbb?s=128&d=identicon&r=PG&f=1", "display_name": "alex", "link": "https://stackoverflow.com/users/5243670/alex"}, "edited": false, "score": 0, "creation_date": 1497720756, "post_id": 44607343, "comment_id": 76201811, "body": "what is use warnings; use strict;"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 59, "user_id": 5243670, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c2c9439ebc672d3a1760414587a73dbb?s=128&d=identicon&r=PG&f=1", "display_name": "alex", "link": "https://stackoverflow.com/users/5243670/alex"}, "edited": false, "score": 0, "creation_date": 1497721515, "post_id": 44607343, "comment_id": 76202046, "body": "@alex <a href=\"https://perlmaven.com/always-use-strict-and-use-warnings\" rel=\"nofollow noreferrer\">Here&#39;s</a> a pretty decent tutorial. Always <code>use strict;</code> and <code>use warnings;</code> ;)"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1497789120, "last_edit_date": 1497789120, "creation_date": 1497719853, "answer_id": 44607343, "question_id": 44607028, "link": "https://stackoverflow.com/questions/44607028/what-is-meaning-of-in-perl/44607343#44607343", "title": "what is meaning of () in perl?", "body": "<p>The parens in this case force the left hand side (LHS) into list context. Some subroutines can make decisions based on whether the caller wants a list or a scalar, other ones will return Perl defaults (often unexpected results) if called in differing contexts:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $list_count = context();  # scalar context requested\nmy @list = context();        # list context requested\nmy ($x, $y, $z) = context(); # list context requested\n\nmy @arr = want_array();         # sub decides what to return (list)\nmy ($x, $y, $z) = want_array(); # same (list)\nmy $first_elem = want_array();  # same (scalar)\n\nsub context {\n    # this sub doesn't decide on context... it\n    # just returns the perl default... a list in\n    # list context, or the element count if in\n    # scalar context\n\n    return qw(1 2 3);\n}\nsub want_array {\n    my @array = qw(1 2 3);\n\n    # wantarray() can check if the caller wants a\n    # list returned... if so, it can do one thing, \n    # if not, it can do something else\n\n    return @array if wantarray;\n\n    # return value of element 0 if scalar context\n    # requested\n\n    return $array[0];\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 5243670, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c2c9439ebc672d3a1760414587a73dbb?s=128&d=identicon&r=PG&f=1", "display_name": "alex", "link": "https://stackoverflow.com/users/5243670/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1497789120, "creation_date": 1497717995, "last_edit_date": 1497718123, "question_id": 44607028, "link": "https://stackoverflow.com/questions/44607028/what-is-meaning-of-in-perl", "title": "what is meaning of () in perl?", "body": "<p>I have this code</p>\n\n<pre><code>my $line = \"Data=&amp;quot;3&amp;\";\n\nmy ($count) = ($line =~ /Data=&amp;quot;([^&amp;]+)/x);\n\nprint \"$count\\n\"; # prints 3\n\nmy $count = ($line =~ /Data=&amp;quot;([^&amp;]+)/x);\n\nprint \"$count\\n\"; #print 1\n</code></pre>\n\n<p>What influence do the parentheses have on the result?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1497706138, "post_id": 44605161, "comment_id": 76197348, "body": "So I&#39;m just unlucky if I have to deal with an 256? Is there something I can do?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1497706757, "post_id": 44605161, "comment_id": 76197531, "body": "@JohnDoe: Do you really have more than 255 different program statuses to report?"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1497707173, "post_id": 44605161, "comment_id": 76197681, "body": "No, but maybe one day one developer who is not aware of this, makes this mistake and I don&#39;t want to leave this situation unhandled."}, {"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 1, "creation_date": 1497710394, "post_id": 44605161, "comment_id": 76198649, "body": "@JohnDoe you have 8 bits for a return code. You&#39;re trying to stuff <code>256</code> into it. It doesn&#39;t fit."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 1, "creation_date": 1497712137, "post_id": 44605161, "comment_id": 76199208, "body": "@JohnDoe: With all respect, a developer who doesn&#39;t know that a status code is restricted to an eight-bit value will have all sorts of other problems. If you must then add a comment to your code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1497727709, "post_id": 44605161, "comment_id": 76204066, "body": "@Tanktalus, Exit codes are 32-bit long in Windows. exit 256 is perfectly valid, and it fits no problem (since there&#39;s no requirement for <code>$?</code> to be limited to 16 bits)."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1497706653, "last_edit_date": 1497706653, "creation_date": 1497705926, "answer_id": 44605161, "question_id": 44604983, "link": "https://stackoverflow.com/questions/44604983/system-returns-bad-exit-code/44605161#44605161", "title": "system() returns bad exit code", "body": "<p>The return code is a single-byte value from zero to 255.</p>\n\n<p>The most reliable way to check the status of a <code>system</code> call is to examine <code>$?</code>. It's documented in <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\"><code>perldoc perlfunc</code></a> like this</p>\n\n<pre><code>if ($? == -1) {\n    print \"failed to execute: $!\\n\";\n}\nelsif ($? &amp; 127) {\n    printf \"child died with signal %d, %s coredump\\n\",\n        ($? &amp; 127),  ($? &amp; 128) ? 'with' : 'without';\n}\nelse {\n    printf \"child exited with value %d\\n\", $? &gt;&gt; 8;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 8141119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6fadf494b9ed8efbc57d6463ed160f8?s=128&d=identicon&r=PG&f=1", "display_name": "durgesh", "link": "https://stackoverflow.com/users/8141119/durgesh"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497729902, "post_id": 44605591, "comment_id": 76204636, "body": "@Borodin Thanks for the edits. I am new to stackoverflow. I will be more careful in the future."}], "tags": [], "owner": {"reputation": 21, "user_id": 8141119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6fadf494b9ed8efbc57d6463ed160f8?s=128&d=identicon&r=PG&f=1", "display_name": "durgesh", "link": "https://stackoverflow.com/users/8141119/durgesh"}, "is_accepted": false, "score": -1, "last_activity_date": 1497712294, "last_edit_date": 1592644375, "creation_date": 1497708594, "answer_id": 44605591, "question_id": 44604983, "link": "https://stackoverflow.com/questions/44604983/system-returns-bad-exit-code/44605591#44605591", "title": "system() returns bad exit code", "body": "\n<p>All the possibilities of failure can be obtained by examining <code>$?</code>.</p>\n<pre class=\"lang-perl prettyprint-override\"><code>$exit_val    = $? &gt;&gt; 8;\n$signal      = $? &amp; 127;\n$dumped_core = $? &amp; 128;`\n</code></pre>\n<p>To quote from <a href=\"http://perldoc.perl.org/perlvar.html#Error-Variables\" rel=\"nofollow noreferrer\">perldoc perlvar</a> :</p>\n<blockquote>\n<ul>\n<li><p>$CHILD_ERROR</p>\n</li>\n<li><p>$?</p>\n<p>The status returned by the last pipe close, backtick (``) command, successful call to <code>wait()</code> or <code>waitpid()</code>, or from the <code>system()</code> operator. This is just the 16-bit status word returned by the traditional Unix <code>wait()</code> system call (or else is made up to look like it). Thus, the exit value of the subprocess is really (<code>$? &gt;&gt; 8 </code>), and <code>$? &amp; 127</code> gives which signal, if any, the process died from, and <code>$? &amp; 128</code> reports whether there was a core dump.</p>\n</li>\n</ul>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1497806573, "post_id": 44608559, "comment_id": 76221216, "body": "I just tried with <code>C</code> (gcc, Ubuntu), and <code>int main(void) {return 266;}</code> also gave 10. <i>&lt;anecdote&gt;But I remember we had a script at work that processed XML documents and the script&#39;s returncode indiciated the erroneous line number (if any). The script was reliable for input with &lt;= 65536 lines, so I guess it depends on the environment whether 8 or 16 bits are ok for a returncode.&lt;/anecdote&gt;</i>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1497814450, "post_id": 44608559, "comment_id": 76223455, "body": "@PerlDuck, No, it&#39;s not related to the environment. The environment always provides a <code>DWORD</code>. It&#39;s the wrappers you use (e.g. <code>system</code>) that may have limits."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1497727341, "creation_date": 1497727341, "answer_id": 44608559, "question_id": 44604983, "link": "https://stackoverflow.com/questions/44604983/system-returns-bad-exit-code/44608559#44608559", "title": "system() returns bad exit code", "body": "<p>Windows uses 32-bit exit codes, so <code>exit 256</code> is perfectly valid.</p>\n\n<pre><code>&gt;cmd /c exit 256\n\n&gt;echo %ERRORLEVEL%\n256\n</code></pre>\n\n<p>However, Perl only keeps the least significant 8 bits.</p>\n\n<pre><code>&gt;perl -e\"system 'exit 256'; CORE::say $?&gt;&gt;8\"\n0\n\n&gt;perl -e\"system 'exit 266'; CORE::say $?&gt;&gt;8\"\n10\n</code></pre>\n\n<p>This is a Perl defect for which there's no good reason. If you use <a href=\"http://search.cpan.org/perldoc?Win32::Process\" rel=\"noreferrer\">Win32::Process</a> instead of <code>system</code>, you can obtain the correct exit code.</p>\n\n<pre><code>&gt;perl -MWin32::Process=NORMAL_PRIORITY_CLASS,INFINITE -e\"Win32::Process::Create(my $proc, $ENV{COMSPEC}, 'cmd /c exit 256', 0, NORMAL_PRIORITY_CLASS, '.') or die $^E; $proc-&gt;Wait(INFINITE); $proc-&gt;GetExitCode(my $exit_code); CORE::say $exit_code;\"\n256\n</code></pre>\n"}], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 898, "favorite_count": 0, "accepted_answer_id": 44605161, "answer_count": 3, "score": 2, "last_activity_date": 1497727341, "creation_date": 1497704784, "last_edit_date": 1497705868, "question_id": 44604983, "link": "https://stackoverflow.com/questions/44604983/system-returns-bad-exit-code", "title": "system() returns bad exit code", "body": "<p>I am using <code>system</code> to call an external application and I need to interpret its exit code.</p>\n\n<p>I know that <code>system</code> returns the exit code from the command multiplied by 256, but when in <code>foo.bat</code> I write <code>exit 256</code> the result is zero.</p>\n\n<p>Why is this happening?</p>\n"}, {"tags": ["html", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1497699356, "post_id": 44604053, "comment_id": 76195395, "body": "Please lay out your code so that it is readable. It&#39;s the least you can do when asking for free help to get it working."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497699476, "post_id": 44604053, "comment_id": 76195427, "body": "<code>&#47;-- ... --&#47;</code> doesn&#39;t create a comment in Perl, or in any language that I know."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1497700707, "post_id": 44604053, "comment_id": 76195736, "body": "What about changing the <code>&lt;td&gt;</code>, not the whole <code>&lt;tr&gt;</code>?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1497792978, "post_id": 44604053, "comment_id": 76217232, "body": "I&#39;ve reformatted your code to make it easier to understand. You&#39;re welcome, but please do it yourself next time."}], "answers": [{"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": -1, "last_activity_date": 1497728441, "creation_date": 1497728441, "answer_id": 44608714, "question_id": 44604053, "link": "https://stackoverflow.com/questions/44604053/color-coding-using-html-inside-perl/44608714#44608714", "title": "Color coding using HTML inside Perl", "body": "<pre><code>for( my $i=0; $i&lt;@rec; $i++) {\n  my $x = $rec[$i] // '';\n  if( $i == 1 &amp;&amp; ($rec[7]//\"\") eq 'a' ) {\n    $html .= \"&lt;td&gt;&lt;font size=\\\"3\\\" color=\\\"#FF0000\\\"&gt;$x&lt;/font&gt;&lt;/td&gt;\";\n  }else{  \n    $html .= \"&lt;td&gt;$x&lt;/td&gt;\";\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1497793568, "creation_date": 1497793568, "answer_id": 44615637, "question_id": 44604053, "link": "https://stackoverflow.com/questions/44604053/color-coding-using-html-inside-perl/44615637#44615637", "title": "Color coding using HTML inside Perl", "body": "<p>Firstly, it's 2017. We do not use <code>&lt;font&gt;</code> tags in HTML any more. It's a far better idea to set classes on your HTML tags and then use <a href=\"https://en.wikipedia.org/wiki/Cascading_Style_Sheets\" rel=\"nofollow noreferrer\">CSS</a> to change the appearance.</p>\n\n<p>If you want to colour individual table cells rather than the whole row, then it's just a case of moving the logic into the code where you're generating the table cells.</p>\n\n<pre><code>foreach my $cell_data (@rec) {\n  $cell_data //= ''; # Convert undefined values to empty strings\n  my $class;\n\n  if ($cell_data eq 'a') { # for example\n    $class = 'hilite';\n  }\n  $html .= '&lt;td';\n  $html .= \" class='$class'\" if $class;\n  $html .= \"&gt;$cell_data&lt;/td&gt;\";\n}\n</code></pre>\n\n<p>I'd also point out that putting raw HTML in your Perl code like that is a pretty bad idea. I'd highly recommend looking at a <a href=\"https://metacpan.org/pod/Template\" rel=\"nofollow noreferrer\">templating solution</a> instead.</p>\n"}], "owner": {"reputation": 11, "user_id": 7373063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec307f5348cd8d5ad1fde48f13143c8b?s=128&d=identicon&r=PG&f=1", "display_name": "Scott77", "link": "https://stackoverflow.com/users/7373063/scott77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 421, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1497793568, "creation_date": 1497698859, "last_edit_date": 1497792944, "question_id": 44604053, "link": "https://stackoverflow.com/questions/44604053/color-coding-using-html-inside-perl", "title": "Color coding using HTML inside Perl", "body": "<pre><code>$html -&gt; holds the html table code\n$query -&gt;holds the data fetched from table(Oracle)\n</code></pre>\n\n<p>I'm inserting the data from $query to $html with color coding based on the conditions</p>\n\n<p><strong>Code:</strong> </p>\n\n<pre><code>while (my @rec =  $query-&gt;fetchrow_array() ) {\n  my $file_status = $rec[9];\n  my $data_status = $rec[11];\n  my $data_status2 = $rec[13];\n\n  if ($file_status eq \"Files Received\"\n    || $data_status eq \"Data Not Found\"\n    || $data_status2 eq \"Partial Data\") {\n    # This changes the font color for all columns in a single row.\n    # Is there a way to color code only the specific column?\n    $html=$html.\"\\n&lt;font size=3 color=#F12A3D&gt;\"; \n  }\n  else {\n    $html = $html.\"\\n&lt;font size=3&gt;&lt;tr&gt;\";\n  }\n\n  foreach my $x (@rec) {\n    if (! defined $x) {\n      $x = \"\";\n    }\n    $html = $html.\"&lt;td&gt;$x&lt;/td&gt;\"\n  }\n  $html = $html.\"&lt;/tr&gt;\"\n}\n</code></pre>\n\n<p>Please let me know if i can color code the specific columns using html inside perl if the column values matches the condition(Example if column 8=\"a\" for a record then i have to print the row with only column 2 in red color). If needed i can share the complete perl code of this script.</p>\n\n<p>Thanks,\nScott</p>\n"}, {"tags": ["perl", "oop"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1497690575, "post_id": 44602512, "comment_id": 76192830, "body": "See also <a href=\"http://p3rl.org/Moose\" rel=\"nofollow noreferrer\">Moose</a> for more modern OO in Perl."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497692919, "post_id": 44602512, "comment_id": 76193516, "body": "I suggest you watch this excellent tutorial: <a href=\"https://www.youtube.com/watch?v=LKXvG6VKew4\" rel=\"nofollow noreferrer\">youtube.com/watch?v=LKXvG6VKew4</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497717019, "post_id": 44602512, "comment_id": 76200644, "body": "@WumpusQ.Wumbley: <i>&quot;your insistence on &quot;arrays and hashes are not special&quot; is just wrong&quot;</i> I would respect that if you could find someone proficient with Perl who agreed with you. And I think you don&#39;t know what <b><i>pedagogical</i></b> means."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1497720712, "post_id": 44602512, "comment_id": 76201802, "body": "This is a big topic and is very well covered in <a href=\"https://perldoc.perl.org/perlootut.html\" rel=\"nofollow noreferrer\"><code>perldoc perlootut</code></a> which should be part of your Perl installation. You will need to be up to speed on the basics of Perl, such as references and anonymous data structures, but everything you need is described in <code>perldoc</code>. I have always used Perl to teach OOP because it provides Polymorphism, Inheritance, and Encapsulation using only the base language. Other languages make things &quot;easier&quot; by building everything into the syntax, but give much less insight into what is going on."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497721301, "post_id": 44602512, "comment_id": 76201986, "body": "@simbabque: That video is a Moose tutorial, and I would expect it to confuse the OP even more. Perl is great on its own at bringing out that the object is just another parameter, and the &quot;class&quot; is just a namespace. Once you know all that, it&#39;s nice to have Moose create all the infrastructure for you, but I think it&#39;s essential to have an idea of what&#39;s going on behind the scenes."}], "answers": [{"comments": [{"owner": {"reputation": 277, "user_id": 5614753, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eccd1802097eddad12e2b12b61470819?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld1234", "link": "https://stackoverflow.com/users/5614753/helloworld1234"}, "edited": false, "score": 0, "creation_date": 1497689863, "post_id": 44602582, "comment_id": 76192641, "body": "Nice, thanks for answering, but the $self variable still not clearly to be understand, is there any document I can refer to for more explanation?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 277, "user_id": 5614753, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eccd1802097eddad12e2b12b61470819?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld1234", "link": "https://stackoverflow.com/users/5614753/helloworld1234"}, "edited": false, "score": 0, "creation_date": 1497713000, "post_id": 44602582, "comment_id": 76199480, "body": "@helloworld1234: I think you need to become more familiar with ordinary Perl before you start to study object-oriented programming. <code>my $self = { _firstName =&gt; shift, _lastName  =&gt; shift, _ssn  =&gt; shift }</code> is very ordinary Perl, and you must go there first."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497715977, "post_id": 44602582, "comment_id": 76200311, "body": "<i>&quot;<code>$self</code> is a hash reference, so it&#39;s considered as a scalar in most manipulations&quot;</i> When is is not &quot;considered as a scalar&quot;?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1497716028, "post_id": 44602582, "comment_id": 76200328, "body": "<i>&quot;And the return $self is necessary so you can actually retrieve the created object when you call new!&quot;</i> No. The <code>new</code> subroutine would work fine if it ended at the <code>bless</code> line."}], "tags": [], "owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "is_accepted": false, "score": 0, "last_activity_date": 1497689439, "creation_date": 1497689439, "answer_id": 44602582, "question_id": 44602512, "link": "https://stackoverflow.com/questions/44602512/basic-oop-concept-in-perl/44602582#44602582", "title": "Basic OOP concept in Perl", "body": "<p><code>$self</code> is a hash reference, so it's considered as a scalar in most manipulations.</p>\n\n<p><code>bless</code> is used to say that this hash reference is an object of the given class (which will be <code>Person</code> here unless you have child classe), so that you can call functions of this class using the <code>$object-&gt;function</code> notation.</p>\n\n<p>And the <code>return $self</code> is necessary so you can actually retrieve the created object when you call <code>new</code>!</p>\n"}, {"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 1, "creation_date": 1497839843, "post_id": 44614396, "comment_id": 76228929, "body": "Not all things that start with a <code>$</code> are scalar variables. That&#39;s the wrong rule because people will see <code>$array[$i]</code>, apply your rule, and end up with the wrong answer."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1497857958, "last_edit_date": 1497857958, "creation_date": 1497784507, "answer_id": 44614396, "question_id": 44602512, "link": "https://stackoverflow.com/questions/44602512/basic-oop-concept-in-perl/44614396#44614396", "title": "Basic OOP concept in Perl", "body": "<blockquote>\n  <p>From the example above, is <code>my $self</code> a scalar variable or a hash variable?</p>\n</blockquote>\n\n<p><code>$self</code> is a scalar variable. You can tell that because it starts with a <code>$</code>.</p>\n\n<p>(<strong>Parenthetical update:</strong> In the comments, brian points out that this rule is flawed. And he's right of course - as he usually is. The <code>$</code> at the start of <code>$self</code> shows that it's a scalar <strong>value</strong>, not a scalar <strong>variable</strong>. But if you take the <code>$</code> at the start together with the lack of look-up brackets - like <code>[...]</code> or <code>{...}</code> - following the variable name, then you can be sure this is a scalar variable.)</p>\n\n<p>But your complete line of code is this:</p>\n\n<pre><code>my $self  = {\n    _firstName =&gt; shift,\n    _lastName  =&gt; shift,\n    _ssn       =&gt; shift,\n};\n</code></pre>\n\n<p>Here, the <code>{ ... }</code> is an \"anonymous hash constructor\". It creates a hash and returns a reference to it. References are always scalar values, so they can be stored in scalar variables (that's one of the major reasons for their existence).</p>\n\n<p>So <code>$self</code> is still a scalar variable, but it contains a reference to a hash.</p>\n\n<blockquote>\n  <p>And what is the use of the bless function?</p>\n</blockquote>\n\n<p>The call to <code>bless()</code> effectively assign a type to the <code>$self</code> variable. Perl needs to know the type of your object in order to know which symbol table to search for the object's methods. When I'm running classes in this, I like to say that <code>bless()</code> is like writing the type of the object on a post-it note and slapping it on the object's forehead - so, later on, people can know what the type is.</p>\n\n<blockquote>\n  <p>Why does it return $self?</p>\n</blockquote>\n\n<p>You will call this method something like this:</p>\n\n<pre><code>my $person = Person-&gt;new(...); # passing various parameters\n</code></pre>\n\n<p>The <code>new()</code> method needs to return the newly created object in order that you can store it in a variable and manipulate it in some way later on.</p>\n\n<p>But a Perl subroutine returns the value of the last expression in the subroutine, and <code>bless()</code> returns the \"blessed\" object, so it would be fine to end the subroutine with the previous line:</p>\n\n<pre><code>bless $self, $class;\n</code></pre>\n\n<p>But it's traditional to be more explicit about return values, so most people would add the <code>return</code> line. It makes for better documented code.</p>\n"}], "owner": {"reputation": 277, "user_id": 5614753, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eccd1802097eddad12e2b12b61470819?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld1234", "link": "https://stackoverflow.com/users/5614753/helloworld1234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 44614396, "answer_count": 2, "score": 1, "last_activity_date": 1497857958, "creation_date": 1497688846, "last_edit_date": 1497716277, "question_id": 44602512, "link": "https://stackoverflow.com/questions/44602512/basic-oop-concept-in-perl", "title": "Basic OOP concept in Perl", "body": "<p>I'm learning the OOP concept in Perl where the syntax is different from Java, which I used to learn the OOP concept.</p>\n\n<p>I have an example to declare a class <code>Person</code>, but I'm a bit confused.</p>\n\n<p>The code is as follows</p>\n\n<pre><code>package Person;\n\nsub new {\n\n    my $class = shift;\n\n    my $self  = {\n        _firstName =&gt; shift,\n        _lastName  =&gt; shift,\n        _ssn       =&gt; shift,\n    };\n\n    # Print all the values just for clarification.\n\n    print \"First Name is $self-&gt;{_firstName}\\n\";\n    print \"Last Name is $self-&gt;{_lastName}\\n\";\n    print \"SSN is $self-&gt;{_ssn}\\n\";\n\n    bless $self, $class;\n\n    return $self;\n}\n</code></pre>\n\n<p>From the example above, is <code>my $self</code> a scalar variable or a hash variable?</p>\n\n<p>As far as I know, hash variables in Perl are declared with <code>%</code> while <code>$</code> is used for scalar variables.</p>\n\n<p>And what is the use of the <code>bless</code> function? Why does it return <code>$self</code>?</p>\n"}, {"tags": ["mysql", "perl", "catalyst", "dbix-class"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497654598, "post_id": 44598923, "comment_id": 76186472, "body": "Your <code>$where{}</code> is wrong. It should be <code>$where = {}</code>. But that&#39;s not the problem."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1497655564, "post_id": 44598923, "comment_id": 76186668, "body": "That&#39;s not possible. In one row the <code>labexams.exam_id</code> can never be 1 and 2 at the same time. There is only one of each column per row. Your SQL would not return data. Build it by hand and run it against the DB, and you&#39;ll see no results. <code>use SQL::Abstract; my $where; foreach my $i ( 0 .. 3 ) {     push @{ $where-&gt;{&#39;-and&#39;} },         [ &#39;-and&#39;, [ &#39;labexams.exam_id&#39;, &quot;labexams[$i]&quot; ], [ &#39;labexams.result&#39;, &quot;results[$i]&quot; ] ]; } my ($statement, @binds) = SQL::Abstract-&gt;new-&gt;select(&#39;foo&#39;, &#39;*&#39;, $where); say $statement; say join &#39; &#39;, @binds;</code> will create <code>OR</code> in the queries. <code>AND</code> can&#39;t be."}, {"owner": {"reputation": 518, "user_id": 6146264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-YPMqqSeGAMU/AAAAAAAAAAI/AAAAAAAAAoA/AIMsmwe_vc8/photo.jpg?sz=128", "display_name": "Leitouran", "link": "https://stackoverflow.com/users/6146264/leitouran"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497733318, "post_id": 44598923, "comment_id": 76205483, "body": "Yes, I see what you mean. This is the output generated by DBIC_TRACE (or by the &#39;say&#39; in your code).  <code>SELECT * FROM laboratory_exams WHERE ( ( ( labexams.exam_id = ? OR labexams.result = ? ) AND ( labexams.exam_id = ? OR labexams.result = ? ) AND ( labexams.exam_id IS NULL OR labexams.result IS NULL ) AND ( labexams.exam_id IS NULL OR labexams.result IS NULL ) ) )17 Normal 3 Reactivo</code>  This won&#39;t be the accurate query, though. :/"}], "answers": [{"comments": [{"owner": {"reputation": 518, "user_id": 6146264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-YPMqqSeGAMU/AAAAAAAAAAI/AAAAAAAAAoA/AIMsmwe_vc8/photo.jpg?sz=128", "display_name": "Leitouran", "link": "https://stackoverflow.com/users/6146264/leitouran"}, "edited": false, "score": 0, "creation_date": 1497733374, "post_id": 44603151, "comment_id": 76205498, "body": "Since I&#39;m creating the conditions dynamically, I wouldn&#39;t be able to perform a subsearch like this."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497734142, "post_id": 44603151, "comment_id": 76205677, "body": "Sure. You can do the calling in the loop. Just overwrite the resultset object."}], "tags": [], "owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "is_accepted": false, "score": 0, "last_activity_date": 1497693075, "creation_date": 1497693075, "answer_id": 44603151, "question_id": 44598923, "link": "https://stackoverflow.com/questions/44598923/perl-dbic-for-nested-queries-in-a-dynamically-created-set-of-conditions/44603151#44603151", "title": "Perl DBIC for nested queries in a dynamically created set of conditions", "body": "<p>Use the ResultSet search chaining feature instead of constructing the complex where parameter yourself.</p>\n\n<p>my $rs = ResultSet('Foo')->search(...);\n$rs = $rs->search(...);</p>\n"}, {"comments": [{"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1497822859, "post_id": 44609542, "comment_id": 76225566, "body": "This should be possible with DBIC and maybe easier using DBIx::Class::Helpers."}], "tags": [], "owner": {"reputation": 518, "user_id": 6146264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-YPMqqSeGAMU/AAAAAAAAAAI/AAAAAAAAAoA/AIMsmwe_vc8/photo.jpg?sz=128", "display_name": "Leitouran", "link": "https://stackoverflow.com/users/6146264/leitouran"}, "is_accepted": true, "score": 0, "last_activity_date": 1497735780, "last_edit_date": 1497735780, "creation_date": 1497734983, "answer_id": 44609542, "question_id": 44598923, "link": "https://stackoverflow.com/questions/44598923/perl-dbic-for-nested-queries-in-a-dynamically-created-set-of-conditions/44609542#44609542", "title": "Perl DBIC for nested queries in a dynamically created set of conditions", "body": "<p>I ended up building a SQL expression for the sub-queries and passing that as a reference to the $where hash. Worked like a charm &lt;3</p>\n\n<pre><code>  if ($params-&gt;{labexam} &amp;&amp; $params-&gt;{labexam} ne '' ){\n  my @labexams = ref $params-&gt;{labexam} ? @{$params-&gt;{labexam}} : $params-&gt;{labexam};\n  my @labexam_res = ref $params-&gt;{labexam_result} ? @{$params-&gt;{labexam_result}} : $params-&gt;{labexam_result};\n  my $exp_sql;\n  push @{ $attr-&gt;{join} }, 'laboratory_exams';\n\n  foreach my $i (0 .. $#labexams){\n    if($i == 0) {\n      $exp_sql .= ' IN ';\n    } else {\n      $exp_sql .= ' AND laboratory_exams.subject_id IN ';\n    }\n    $exp_sql .= '(SELECT subject_id FROM laboratory_exams WHERE exam_id = \"'.$labexams[$i].'\" AND value = \"'.$labexam_res[$i].'\")';\n    $i++;\n  }\n  $where-&gt;{'laboratory_exams.subject_id'} = \\$exp_sql;\n}\n</code></pre>\n"}], "owner": {"reputation": 518, "user_id": 6146264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-YPMqqSeGAMU/AAAAAAAAAAI/AAAAAAAAAoA/AIMsmwe_vc8/photo.jpg?sz=128", "display_name": "Leitouran", "link": "https://stackoverflow.com/users/6146264/leitouran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 44609542, "answer_count": 2, "score": 1, "last_activity_date": 1497735780, "creation_date": 1497652938, "question_id": 44598923, "link": "https://stackoverflow.com/questions/44598923/perl-dbic-for-nested-queries-in-a-dynamically-created-set-of-conditions", "title": "Perl DBIC for nested queries in a dynamically created set of conditions", "body": "<p><strong>INTRO</strong></p>\n\n<p>I'm working on a complex form to perform customized queries to a rather large database. Because the user can use one or more fields to search for, I decided to make the conditions dynamic, like:</p>\n\n<pre><code>my $where{};\n\n\nif($some_param &amp;&amp; some_param ne ''){\n  push @{ $attr-&gt;{join} }, { 'aref' =&gt; { 'a_deeper_ref' =&gt; 'a_much_deeper_ref' }};\n  $where-&gt;{a_much_deeper_ref.field} = [-and =&gt; $some_param, {'!=', undef}];\n}\n\nif($another_param &amp;&amp; $another_param ne '') {\n... # same thing: do the join &gt; build the condition.\n}\n\nmy $rs = $model-&gt;search ($where, $attr);\n</code></pre>\n\n<p>There are about 40-50 fields and while I can address most of them like I did above, a few fields are a bit more tricky ...</p>\n\n<p>**THE ISSUE **</p>\n\n<p>I'll use THE problematic example to make it clearer. Supose yuo have a <code>laboratory_exams</code> table, which rows state that a given subject/patient [foreign key to a <code>subject</code> table] has been tested for a given clinical exam [foreign key to a <code>clinical_exam</code> table] and stores the result for that test. </p>\n\n<p>Now, when the user wants to know which subjects have been tested for, say, both HIV and Hepatitis C, and had a negative result for HIV test and a positive result for Hepatitis C; the form submission would create an array with <code>exam_ids</code> and <code>results</code> which I can easily retrieve in my controller like</p>\n\n<pre><code>my $params = $c-&gt;req-&gt;parameters;\nmy @labexams = ref $params-&gt;{exam_ids} ? @{$params-&gt;{exam_ids}} : $params-&gt;{exam_ids};\nmy @results = ref $params-&gt;{results} ? @{$params-&gt;{results}} : $params-&gt;{results};\n</code></pre>\n\n<p>Of course, when I try to save the condition in the <code>$where</code> hash looping the arrays, it overrides the previous one and I end up only with the last element in the array, because...</p>\n\n<pre><code>foreach my $i (0 .. $#labexams){\n $where-&gt;{'labexams.exam_id'} = $labexams[$i];\n $where-&gt;{'labexams.result'} = $results[$i];\n}\n</code></pre>\n\n<p>... and I just keep writing my condition on either 'labexams.exam_id' or 'labexams.result', which are static. </p>\n\n<p>Notice that I need the resulting SQL to be like </p>\n\n<pre><code>... WHERE (labexams.exam_id = $labexam[$i] AND labexams.result = $result[$i]) AND ... #repeat for every exam/result pair\n</code></pre>\n\n<p><strong>THE ACTUAL QUESTION</strong></p>\n\n<p>HOW ON EARTH CAN I ACHIEVE THIS?</p>\n"}, {"tags": ["arrays", "perl", "operator-precedence"], "answers": [{"comments": [{"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1497647097, "post_id": 44597951, "comment_id": 76184242, "body": "I don&#39;t follow. So <code>scalar</code> can have different precedence based on whether it&#39;s to the left or the right? Can you call it from the right? I&#39;m totally lost."}, {"owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1497647443, "post_id": 44597951, "comment_id": 76184378, "body": "Maybe the meaning is not clear, maybe it&#39;s about <code>list operators</code> <code>leftward</code> <code>1.</code> but <code>rightward</code> <code>21.</code>"}, {"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1497647539, "post_id": 44597951, "comment_id": 76184410, "body": "yes, but I still don&#39;t follow. What does <code>leftward</code> and <code>rightward</code> refer to? Is there some postfix version of <code>scalar</code> or something?"}, {"owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1497647724, "post_id": 44597951, "comment_id": 76184480, "body": "from the example the sort takes the list on the right but the result is also a list so appened with list operator"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1497650231, "post_id": 44597951, "comment_id": 76185377, "body": "@ewok, Added the rest of the sentence. It should make more sense now."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497650448, "post_id": 44597951, "comment_id": 76185447, "body": "While <code>scalar</code> is a named list operator, it&#39;s more precisely a named unary operator, so it&#39;s actually at precedence 10 (not 21)"}], "tags": [], "owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "is_accepted": false, "score": 1, "last_activity_date": 1497679469, "last_edit_date": 1592644375, "creation_date": 1497646887, "answer_id": 44597951, "question_id": 44597839, "link": "https://stackoverflow.com/questions/44597839/perl-precedence-of-array-operations/44597951#44597951", "title": "perl: precedence of array operations", "body": "<p>From perlop documentation</p>\n<blockquote>\n<p>In the absence of parentheses, the precedence of list operators such\nas print, sort, or chmod is either very high or very low depending on\nwhether you are looking at the left side or the right side of the\noperator. For example, in</p>\n<pre><code>   @ary = (1, 3, sort 4, 2);\n   print @ary;        # prints 1324\n</code></pre>\n<p>the commas on the right of the sort are evaluated before the sort, but the commas on the left are evaluated after. In other words, list operators tend to gobble up all the arguments that follow them, and then act like a simple TERM with regard to the preceding expression.</p>\n</blockquote>\n<p>And <code>*</code> operator has a higher precedence <code>7.</code> than named unary operator <code>10.</code></p>\n<p>so in <code>scalar @arr * 100</code> <code>*</code> has higher precedence.</p>\n"}, {"comments": [{"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1497647286, "post_id": 44598005, "comment_id": 76184325, "body": "so what does &quot;Terms and list operators (leftward)&quot; mean?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1497647548, "post_id": 44598005, "comment_id": 76184417, "body": "<a href=\"http://perldoc.perl.org/perlop.html#Terms-and-List-Operators-(Leftward)\" rel=\"nofollow noreferrer\">Leftward</a>, <a href=\"http://perldoc.perl.org/perlop.html#List-Operators-(Rightward)\" rel=\"nofollow noreferrer\">Rightward</a>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 6, "last_activity_date": 1497683810, "last_edit_date": 1497683810, "creation_date": 1497647199, "answer_id": 44598005, "question_id": 44597839, "link": "https://stackoverflow.com/questions/44597839/perl-precedence-of-array-operations/44598005#44598005", "title": "perl: precedence of array operations", "body": "<p>You can see how Perl parses the code by running it through <a href=\"http://p3rl.org/B::Deparse\" rel=\"nofollow noreferrer\">B::Deparse</a> with <code>-p</code>:</p>\n\n<pre><code>perl -MO=Deparse,-p script.pl\n</code></pre>\n\n<p>I tried 3 different ways:</p>\n\n<pre><code>print $n/scalar @arr * 100;\nprint $n/(scalar @arr) * 100;\nprint $n/@arr * 100;\n</code></pre>\n\n<p>This was the output:</p>\n\n<pre><code>print(($n / scalar((@arr * 100))));                                                                                                         \nprint((($n / scalar(@arr)) * 100));                                                                                                         \nprint((($n / @arr) * 100));\n</code></pre>\n\n<p><code>*</code> is higher than the \"named unary operators\" (where <a href=\"http://p3rl.org/scalar\" rel=\"nofollow noreferrer\">scalar</a> belongs, check the link) in the precedence table in <a href=\"http://p3rl.org/perlop\" rel=\"nofollow noreferrer\">perlop</a>.</p>\n"}], "owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 1, "accepted_answer_id": 44598005, "answer_count": 2, "score": 2, "last_activity_date": 1497683810, "creation_date": 1497646429, "question_id": 44597839, "link": "https://stackoverflow.com/questions/44597839/perl-precedence-of-array-operations", "title": "perl: precedence of array operations", "body": "<p>I'm having some trouble wrapping my head around perl's order of operations. I have the following:</p>\n\n<pre><code>&gt;&gt; my $n = 2;\n&gt;&gt; my @arr = (1,2,3,4);\n&gt;&gt; print $n/scalar @arr * 100;\n0.005\n</code></pre>\n\n<p>But adding parens:</p>\n\n<pre><code>&gt;&gt; my $n = 2;\n&gt;&gt; my @arr = (1,2,3,4);\n&gt;&gt; print $n/(scalar @arr) * 100;\n50\n</code></pre>\n\n<p>Looking at the <a href=\"https://www.washington.edu/perl5man/pod/perlop.html\" rel=\"nofollow noreferrer\">order of operations</a>, it seems as though the first thing that should happen are list operations.  In this case, the first one encountered would be <code>scalar @arr</code>, which should return 4.  The resulting expression should be <code>print $n/4 * 100</code>, which would follow a standard order of operations and produce <code>50</code>.  </p>\n\n<p>But instead, I assume what is happening is it is performing <code>@arr * 100</code> first, which produces the scalar value <code>400</code>, then executed <code>scalar 400</code>, which produces <code>400</code>, then executes <code>$n/400</code>, giving <code>0.005</code>.</p>\n\n<p>If the latter is what is happening, then my question is where does <code>scalar</code> fall in the order of operations. If something else is going on, then my question is, well, what?</p>\n"}, {"tags": ["perl", "unit-testing"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1497644362, "last_edit_date": 1497644362, "creation_date": 1497644052, "answer_id": 44597287, "question_id": 44597021, "link": "https://stackoverflow.com/questions/44597021/how-do-you-test-exec-used-with-indirect-object-syntax/44597287#44597287", "title": "How do you test exec used with indirect object syntax?", "body": "<p>Replace </p>\n\n<pre><code>exec { $shell } \"-$shell0\";\n</code></pre>\n\n<p>with</p>\n\n<pre><code>sub _exec(&amp;@) {\n   my $prog_cb = shift;\n   exec { $prog_cb-&gt;() } @_\n}\n\n_exec { $shell } \"-$shell0\"\n</code></pre>\n\n<p>Then your test can replace <code>_exec</code>.</p>\n"}], "owner": {"reputation": 33, "user_id": 8173111, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eAM9tY1VW7o/AAAAAAAAAAI/AAAAAAAABrw/o8_PAxf6rvI/photo.jpg?sz=128", "display_name": "Sven Kirmess", "link": "https://stackoverflow.com/users/8173111/sven-kirmess"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 44597287, "answer_count": 1, "score": 3, "last_activity_date": 1497644362, "creation_date": 1497642899, "question_id": 44597021, "link": "https://stackoverflow.com/questions/44597021/how-do-you-test-exec-used-with-indirect-object-syntax", "title": "How do you test exec used with indirect object syntax?", "body": "<p>What's the best way to test my Perl script which calls exec with indirect object syntax? Is there a way to mock exec that doesn't lead to a syntax error? Do I have to move exec to a wrapper function that only calls exec and mock that function? Or is there another way to test the script?</p>\n\n<p><em>Chapter 5</em> of <em>Perl Testing - A Developer's Notebook</em> has an example on <em>Overriding Built-ins</em> where they overwrite <code>system</code> to test a module. I would like to do the same to test <code>exec</code>, but in the indirect object syntax.</p>\n\n<h2><code>exec.pl</code> (with indirect object syntax)</h2>\n\n<pre><code>package Local::Exec;\n\nuse strict;\nuse warnings;\n\nmain() if !caller;\n\nsub main {\n    my $shell = '/usr/bin/ksh93';\n    my $shell0 = 'ksh93';\n\n    # launch a login shell\n    exec {$shell} \"-$shell0\";\n    return;\n}\n\n1;\n</code></pre>\n\n<h2><code>exec.t</code></h2>\n\n<pre><code>#!perl\n\nuse strict;\nuse warnings;\n\nuse Test::More;\n\nrequire_ok('./exec.pl');\n\npackage Local::Exec;\nuse subs 'exec';\npackage main;\n\nmy @exec_args;\n\n*Local::Exec::exec = sub {\n    @exec_args = @_;\n    return 0;\n};\n\nis(Local::Exec::main(), undef, 'main() returns undef');\nis_deeply(\\@exec_args, [ '/usr/bin/ksh93' ], 'exec() was called with correct arguments');\n\ndone_testing;\n</code></pre>\n\n<h2><code>prove -vt exec.t</code></h2>\n\n<p>This does not work, <em>my</em> <code>exec</code> doesn't work with the indirect object syntax, where the <em>built-in</em> does.</p>\n\n<pre><code>$ prove -vt exec.t\nexec.t .. String found where operator expected at ./exec.pl line 15, near \"} \"-$shell0\"\"\n        (Missing operator before  \"-$shell0\"?)\n\nnot ok 1 - require './exec.pl';\n#   Failed test 'require './exec.pl';'\n#   at exec.t line 8.\n#     Tried to require ''./exec.pl''.\n#     Error:  syntax error at ./exec.pl line 15, near \"} \"-$shell0\"\"\n# Compilation failed in require at (eval 6) line 2.\nUndefined subroutine &amp;Local::Exec::main called at exec.t line 21.\n# Tests were run but no plan was declared and done_testing() was not seen.\n# Looks like your test exited with 255 just after 1.\nDubious, test returned 255 (wstat 65280, 0xff00)\nFailed 1/1 subtests\n\nTest Summary Report\n-------------------\nexec.t (Wstat: 65280 Tests: 1 Failed: 1)\n  Failed test:  1\n  Non-zero exit status: 255\n  Parse errors: No plan found in TAP output\nFiles=1, Tests=1,  1 wallclock secs ( 0.02 usr  0.01 sys +  0.04 cusr  0.01 csys =  0.08 CPU)\nResult: FAIL\n</code></pre>\n\n<h2><code>exec.pl</code> (without indirect object syntax)</h2>\n\n<pre><code>package Local::Exec;\n\nuse strict;\nuse warnings;\n\nmain() if !caller;\n\nsub main {\n    my $shell = '/usr/bin/ksh93';\n\n    exec $shell;\n    return;\n}\n\n1;\n</code></pre>\n\n<h2><code>prove -vt exec.t</code></h2>\n\n<p>Just for reference, this works:</p>\n\n<pre><code>$ prove -vt exec.t\nexec.t ..\nok 1 - require './exec.pl';\nok 2 - main() returns undef\nok 3 - exec() was called with correct arguments\n1..3\nok\nAll tests successful.\nFiles=1, Tests=3,  0 wallclock secs ( 0.02 usr  0.01 sys +  0.04 cusr  0.01 csys =  0.08 CPU)\nResult: PASS\n</code></pre>\n"}, {"tags": ["regex", "xml", "perl", "pcre"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1497638651, "post_id": 44595960, "comment_id": 76180113, "body": "Replace <code>[\\s\\S]+?</code> with <code>(?:(?!&lt;StrokeEvent&gt;)[\\s\\S])*?</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1497639119, "post_id": 44595960, "comment_id": 76180354, "body": "Even though <code>[\\S\\s]+?</code> is un-greedy, this is one of those cases where it becomes greedy to get to the <code>Wait:</code> literal. It&#39;s going to find the first event, and go all the way to the last event where it finds a followning <i>Wait</i> no matter what is in between."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1497639174, "post_id": 44595960, "comment_id": 76180386, "body": "Your description with &quot;<i>immediately after</i>&quot; and &quot;<i>following them</i>&quot; (etc) does point to <a href=\"http://perldoc.perl.org/perlretut.html#Looking-ahead-and-looking-behind\" rel=\"nofollow noreferrer\">lookahead (in perlretut)</a>.  But they are a little tricky and one needs to play around with them to get it. They do come very handy sometimes."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1497639713, "post_id": 44595960, "comment_id": 76180644, "body": "Fwiw, should that sample be <code>Wait: 0.000s    Loc: (805.622, 437.537) Pr: 1   Ti: 1   Ro: 0   Fw: 1   Bt: 0   Rv: NO  Iv: NO &lt;&#47;StrokeEvent&gt;</code> or <code>&lt;&#47;StrokeEvent&gt; Wait: 0.000s    Loc: (805.622, 437.537) Pr: 1   Ti: 1   Ro: 0   Fw: 1   Bt: 0   Rv: NO  Iv: NO</code> ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1497649469, "post_id": 44595960, "comment_id": 76185122, "body": "So your sample XML doesn&#39;t contain any examples of what you want to remove. Is that right?"}, {"owner": {"reputation": 9, "user_id": 8173291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0344ccdf94a8432d3fd12ac91d4bed7a?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/8173291/shawn"}, "edited": false, "score": 0, "creation_date": 1497880293, "post_id": 44595960, "comment_id": 76250188, "body": "@sin What makes it a bit confusing is that there can be &quot;Wait&quot; statements inside of the &lt;StrokeEvent&gt; tags too. I&#39;m just targeting the &quot;Wait&quot; commands that come right after a &lt;StrokeEvent&gt; tag and are at the same &quot;level&quot; and end in &quot;Undo&quot;. Hopefully that makes sense."}, {"owner": {"reputation": 9, "user_id": 8173291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0344ccdf94a8432d3fd12ac91d4bed7a?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/8173291/shawn"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1497880354, "post_id": 44595960, "comment_id": 76250245, "body": "@WiktorStribi\u017cew That did it! Thanks very much."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1497880408, "post_id": 44595960, "comment_id": 76250279, "body": "@Shawn You are welcome."}, {"owner": {"reputation": 9, "user_id": 8173291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0344ccdf94a8432d3fd12ac91d4bed7a?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/8173291/shawn"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497880478, "post_id": 44595960, "comment_id": 76250341, "body": "@Borodin I actually want to eventually delete what I&#39;m selecting. So, in the actual XML file, I want to select every instance of &lt;StrokeEvent&gt; tag immediately followed by a &quot;Wait&quot; command that ends in &quot;Undo&quot;, and then select that &quot;Wait&quot; command as well. I figured my first step is just being able to select them."}], "owner": {"reputation": 9, "user_id": 8173291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0344ccdf94a8432d3fd12ac91d4bed7a?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/8173291/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "closed_date": 1497880467, "answer_count": 0, "score": 0, "last_activity_date": 1497638370, "creation_date": 1497638370, "question_id": 44595960, "link": "https://stackoverflow.com/questions/44595960/select-two-ranges-one-immediately-after-another-using-regular-expressions", "closed_reason": "Duplicate", "title": "Select two ranges, one immediately after another using regular expressions", "body": "<p>Long story short, I'm trying to \"clean up\" a script file from a drawing program for playback. The program (ArtRage for iPad) will record all strokes to an XML script file that. You can then export this file and play back the entire drawing process in the iPad or desktop version of the application. I want to clean out all of the \"undo\" operations.</p>\n\n<p>The drawing \"step\" looks like this:</p>\n\n<pre><code>&lt;StrokeEvent&gt;\n&lt;StrokeHeader&gt;\n    &lt;EventPt&gt;   Wait: 0.428s    Loc: (806.416, 439.849) Pr: 1   Ti: 1   Ro: 0   Fw: 1   Bt: 0   Rv: NO  Iv: NO  &lt;/EventPt&gt;\n    &lt;Recorded&gt;  Yes &lt;/Recorded&gt;\n&lt;/StrokeHeader&gt;\nWait: 0.000s    Loc: (805.622, 437.537) Pr: 1   Ti: 1   Ro: 0   Fw: 1   Bt: 0   Rv: NO  Iv: NO\n&lt;/StrokeEvent&gt;\n</code></pre>\n\n<p>I've shortened it up a bit, but the entire thing is contained in  opening and closing tags.</p>\n\n<p>The undo operation looks like this:</p>\n\n<pre><code>Wait: 0.661s    EvType: Command CommandID: Undo\n</code></pre>\n\n<p>and it comes right after the step you are undoing.</p>\n\n<p>So ... I'd like to search for just those instances of the complete  tag that have an undo operation immediately after it, and then delete both the complete  tag and undo line.</p>\n\n<p>I think regex would be a good way to do this, but I don't know it very well. I'm going through a regex class online, but it will just take me a bit to ramp up and this particular solution could come in handy sooner. I've been able to select complete  tags, but I can't select just those that have an undo statement following them. I tried using look forward but that selects ALL preceding  tags.</p>\n\n<p>Here's the closest I was able to get (excuse the sloppy newbie code):</p>\n\n<pre><code>(&lt;StrokeEvent&gt;[\\s\\S]+?&lt;/StrokeEvent&gt;)\\nWait:.*Undo\n</code></pre>\n\n<p>I thought the \"?\" after the \"+\" would enable the lazy option and stop at the first occurrence of , but I may be understanding it wrong.</p>\n\n<p>Anyway, thanks for any tips you can give me!</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1497637980, "post_id": 44595620, "comment_id": 76179727, "body": "It&#39;s not quite clear to me. Do you want a hash with <code>{&#39;CA&#39;}{&#39;A&#39;} = 108.8</code> and <code>{&#39;CB&#39;}{&#39;A&#39;} = 8.33</code> etc.?"}, {"owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1497638036, "post_id": 44595620, "comment_id": 76179759, "body": "@PerlDuck yes, that&#39;s exactly right"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1497638108, "post_id": 44595620, "comment_id": 76179807, "body": "Well, it&#39;s not exactly what I guessed, but thanks to your edit we now know what you want. Thank you for editing."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497638250, "post_id": 44595620, "comment_id": 76179892, "body": "Please clarify what you mean by <i>corresponding</i> and <i>associated</i>. Which column, exactly, &quot;can be of variable length&quot;? Why is the column containing <code>CATE</code> not column 1?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497638443, "post_id": 44595620, "comment_id": 76180002, "body": "@Borodin \u2026 because counting starts at 0? There are 6 columns, so I presume they are numbered 0..5."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497638455, "post_id": 44595620, "comment_id": 76180010, "body": "Hashes are unsorted. Do you need any specific sorted output?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1497638531, "post_id": 44595620, "comment_id": 76180050, "body": "Tip: Don&#39;t declare all the variables at the start. Limit the scope of variables to where they are used. For example, <code>@fields</code> only makes sense within the <code>while</code> loop, so its scope should be limited to the <code>while</code> loop, and you would have instantly noticed you were doing something wrong when you tried to use it outside of the <code>while</code> loop."}, {"owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497638713, "post_id": 44595620, "comment_id": 76180144, "body": "@ikegami Thanks, noted."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1497638718, "post_id": 44595620, "comment_id": 76180149, "body": "@PerlDuck: Counting <i>never</i> starts at zero. Cardinal numbers start at one. Ordinal numbers can start anywhere, and are only relevant in a context where that start is defined or implicit, such as array indices. &quot;Column 1&quot; isn&#39;t an array index."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497639972, "post_id": 44595620, "comment_id": 76180784, "body": "@Borodin You are right, the problem description is not &quot;machine readable&quot; in this regard. I just made an educated guess to know which column is which based on my experience with array indices, column counting, and the code given. I&#39;m afraid it worked."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1497641863, "post_id": 44595620, "comment_id": 76181779, "body": "@PerlDuck: We <i>still</i> don&#39;t know whether it&#39;s the hash that they want or the output. It doesn&#39;t look like a very useful hash structure unless you already know what&#39;s in there."}, {"owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497642039, "post_id": 44595620, "comment_id": 76181868, "body": "@Borodin, I wanted the hash structure. I&#39;ll be using this data file as a lookup table."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497642634, "post_id": 44595620, "comment_id": 76182166, "body": "@EA00: The thing is, as I said, it doesn&#39;t look very useful for anything as you have to either know already what&#39;s in the hash or you need to search it. Hashes are meant for a very quick lookup when you know the key, and if you&#39;re searching through them then you are better off with a simple array of records. Like <code>my @data = map [ split ], &lt;&gt;</code>"}, {"owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497645403, "post_id": 44595620, "comment_id": 76183534, "body": "@Borodin thanks for the suggestion - I&#39;ll look into map"}], "answers": [{"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 1, "last_activity_date": 1497638141, "creation_date": 1497638141, "answer_id": 44595904, "question_id": 44595620, "link": "https://stackoverflow.com/questions/44595620/perl-nested-hash/44595904#44595904", "title": "Perl: Nested Hash", "body": "<p>Is this what you want?</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen my $fh, '&lt;', \\&lt;&lt;EOF;\nCATE      1  CA   A     1       108.8\nCATE      2  CB   A     1       8.33\nCATE      3  CA   B     1       45.1\nCATE      4  CB   B     1       3.96\nCATE      5  CG   B     1       3.94\nCATE      6  CA   C     1       1.96\nCATE      7  CB   C     1       2.94\nEOF\n\nmy %data;\n\nwhile (&lt;$fh&gt;) {\n    my ($key1, $key2, $val) = (split)[3,2, 5];\n    $data{$key1}{$key2} = $val;\n}\n\n#use Data::Dumper; print Dumper \\%data;\n\nfor my $name (sort keys %data) {\n    my $href = $data{$name};\n    for my $type (sort keys %$href) {\n        print \"$name, $type, $href-&gt;{$type}\\n\"; \n    }   \n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>A, CA, 108.8\nA, CB, 8.33\nB, CA, 45.1\nB, CB, 3.96\nB, CG, 3.94\nC, CA, 1.96\nC, CB, 2.94\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8176361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31ed0f059215cc8c2fb019902ed762d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Tiwari", "link": "https://stackoverflow.com/users/8176361/manas-tiwari"}, "is_accepted": false, "score": 1, "last_activity_date": 1497870794, "creation_date": 1497870794, "answer_id": 44629083, "question_id": 44595620, "link": "https://stackoverflow.com/questions/44595620/perl-nested-hash/44629083#44629083", "title": "Perl: Nested Hash", "body": "<pre><code>        #!/usr/bin/perl -w\n        use strict;\n        use warnings;\n        use Data::Dumper;\n        open(DATA, \"&lt;test.txt\") ;\n        open(DATA1, \"&gt;&gt;test.txt\") ;\n\n        while(&lt;DATA&gt;){\n            my $data=$_;\n            $data=~s/\\s+/ /ig;\n           my @arr= split(' ',$data);\n           my $data1 .= \"$arr[3]  $arr[2] $arr[5] \\n\";\n           #print STDERR Dumper($data1);\n           print DATA1 $data1;\n        }\n        close(DATA);\n        close(DATA1);\n</code></pre>\n"}], "owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 44595904, "answer_count": 2, "score": 0, "last_activity_date": 1498066346, "creation_date": 1497637040, "last_edit_date": 1498066346, "question_id": 44595620, "link": "https://stackoverflow.com/questions/44595620/perl-nested-hash", "title": "Perl: Nested Hash", "body": "<p>I'm trying to write a script to produce a nested hash. My first key/value pair consists of two identifiers - each type of main identifier in the 4th column has a corresponding identifier in 3rd column (can be of variable length), and an associated numeric value in the 6th column. </p>\n\n<p>I was thinking of constructing a key value pair for the identifiers and then sorting the keys (A, B, C, etc.) before incorporating the numerical identifier in a second hash. </p>\n\n<p><strong>Input File</strong></p>\n\n<pre><code>CATE      1  CA   A     1       108.8\nCATE      2  CB   A     1       8.33\nCATE      3  CA   B     1       45.1\nCATE      4  CB   B     1       3.96\nCATE      5  CG   B     1       3.94\nCATE      6  CA   C     1       1.96\nCATE      7  CB   C     1       2.94\n</code></pre>\n\n<p>Below is my script - when I run it, I don't get any output, and I'm uncertain as to why.</p>\n\n<p><strong>Input Script</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $key;\nmy $value;\nmy %hash;\nmy @fields;\n\nmy $filename = 'data.txt';\nopen my $fh, '&lt;', $filename or die \"Can't open $filename:$!\";\n\nwhile(my $line = &lt;$fh&gt;) {\n    chomp $line;\n    @fields = split /\\s+/, $line;\n    $key = $fields[3];\n    $value = $fields[2];\n    $hash{$key} = $value;\n}\n\nforeach my $name (sort keys %hash) {\n    foreach my $type (keys %{ $hash{$fields[5]}}) {\n        print \"$name, $type: $hash{$name}{$type}\\n\";\n    }\n}\n</code></pre>\n\n<p><strong>Expected Hash structure</strong></p>\n\n<pre><code>A     CA     108.8\n      CB     8.33\nB     CA     45.1\n      CB     3.96\n      CG     3.94\nC     CA     1.96\n      CB     2.94\n</code></pre>\n"}, {"tags": ["perl", "mib"], "answers": [{"comments": [{"owner": {"reputation": 526, "user_id": 3071003, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d1fe6473d97822cf2e2773d377d3dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Nazar", "link": "https://stackoverflow.com/users/3071003/nazar"}, "edited": false, "score": 0, "creation_date": 1497635482, "post_id": 44595058, "comment_id": 76178347, "body": "Does it mean that only variables whose type is &quot;OCTETSTR&quot;, &quot;OBJECTID&quot;, &quot;BITS&quot; and &quot;OPAQUE&quot; would return 1 on .needlength? Also, what does it mean &quot;to specify variable length&quot; in this specific context?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 526, "user_id": 3071003, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d1fe6473d97822cf2e2773d377d3dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Nazar", "link": "https://stackoverflow.com/users/3071003/nazar"}, "edited": false, "score": 1, "creation_date": 1497636300, "post_id": 44595058, "comment_id": 76178798, "body": "@Naz If you have a table with an OCTETSTR as index, then the index&#39;s length varies because it is coded as <code>length.char(0).char(1)...char(n)</code> (e.g. <code>$base.3.65.66.67</code> for the index <code>&quot;ABC&quot;</code>). Compare to INTEGER with a fixed size. I think that is what is meant here."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 1, "last_activity_date": 1497634673, "creation_date": 1497634673, "answer_id": 44595058, "question_id": 44594863, "link": "https://stackoverflow.com/questions/44594863/what-is-needlength-attribute-is-used-for-in-mib2c/44595058#44595058", "title": "What is .needlength attribute is used for in mib2c?", "body": "<p>Looking at the source code in <code>/usr/bin/mib2c</code>, I believe the only place <code>needlength</code> appears is this line:</p>\n\n<pre><code>$it =~ s/\\$(\\w+)\\.(needlength)/$perltolen{$SNMP::MIB{$vars{$1}}{type}}/g;\n</code></pre>\n\n<p>and we have:</p>\n\n<pre><code>%perltolen = (\"OCTETSTR\",  \"1\",\n           \"INTEGER\",  \"0\",\n           \"INTEGER32\",  \"0\",\n           \"UNSIGNED32\", \"0\",\n           \"UINTEGER\", \"0\",\n           \"OBJECTID\", \"1\",\n           \"COUNTER64\", \"0\",\n           \"COUNTER\", \"0\",\n           \"IPADDR\", \"0\",\n           \"BITS\", \"1\",\n           \"TICKS\", \"0\",\n           \"GAUGE\", \"0\",\n           \"OPAQUE\", \"1\");\n</code></pre>\n\n<p>So, it looks like <code>@if $var.needlength@</code> distinguishes between types whose length need to be specified from those that do not need it.</p>\n\n<p>And, no, I do not think it can be replaced with another attribute.</p>\n"}], "owner": {"reputation": 526, "user_id": 3071003, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d1fe6473d97822cf2e2773d377d3dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Nazar", "link": "https://stackoverflow.com/users/3071003/nazar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 44595058, "answer_count": 1, "score": 0, "last_activity_date": 1497634673, "creation_date": 1497633833, "question_id": 44594863, "link": "https://stackoverflow.com/questions/44594863/what-is-needlength-attribute-is-used-for-in-mib2c", "title": "What is .needlength attribute is used for in mib2c?", "body": "<p>I am trying to upgrade an old .config file that is used as a template by mib2c function to generate C-codes. The most of variable's attributes are described <a href=\"http://www.net-snmp.org/docs/man/mib2c.conf.html\" rel=\"nofollow noreferrer\">here</a>, but I can not find anything about .needlength one. Any ideas what it means? Can it be substituted with another attribute that is documented?</p>\n\n<pre><code>@if $var.needlength@\n</code></pre>\n"}, {"tags": ["sql", "perl", "dbi", "dbd"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1497629110, "post_id": 44593282, "comment_id": 76174957, "body": "You use <code>$sql</code> in the <code>prepare</code> statement before you assign a value to it? Is that right?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1497629143, "post_id": 44593282, "comment_id": 76174982, "body": "@mob I don&#39;t think it&#39;s right, but it&#39;s true ;-)"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 4, "creation_date": 1497629174, "post_id": 44593282, "comment_id": 76174999, "body": "You can&#39;t change the SQL after you&#39;ve prepared the statement and expect it to work!"}], "answers": [{"comments": [{"owner": {"reputation": 397, "user_id": 6738361, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eeb93bd68c260f8bfb94b00ecaa96b1e?s=128&d=identicon&r=PG&f=1", "display_name": "s.dragos", "link": "https://stackoverflow.com/users/6738361/s-dragos"}, "edited": false, "score": 0, "creation_date": 1497631102, "post_id": 44593560, "comment_id": 76175950, "body": "you are right, my confusion was due to the fact that i didn&#39;t know how to avoid a prepare-execute sequence in a loop."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 5, "last_activity_date": 1497634440, "last_edit_date": 1497634440, "creation_date": 1497629103, "answer_id": 44593560, "question_id": 44593282, "link": "https://stackoverflow.com/questions/44593282/perl-insert-data-into-sql-while-reading-the-columns-from-an-array/44593560#44593560", "title": "Perl- insert data into SQL while reading the columns from an array?", "body": "<p>First of all, naming a table <code>table</code> is a bad idea because it is likely that you have to escape its name every now and then.</p>\n\n<p>Secondly, your statements are in the wrong order. You firstly prepare some statement (with unknown content) and only then assign an SQL statement to that variable.</p>\n\n<p>Try this:</p>\n\n<pre><code>my @columns = (\"first\",\"second\",\"third\");    \nmy $sql = \"INSERT INTO table(\" . $dbh-&gt;quote_identifier($columns[0]) . \") VALUES(?)\";\nmy $stmt = $dbh-&gt;prepare($sql);\n$stmt-&gt;execute($some_value);\n</code></pre>\n\n<p>I didn't test this, but it <em>may</em> be necessary to write</p>\n\n<pre><code>my $sql = \"INSERT INTO `table` (\" . $dbh-&gt;quote_identifier($columns[0]) . \") VALUES(?)\";\n</code></pre>\n\n<p>because <code>table</code> is a keyword in SQL. Better name it according to the things it contains, not to its shape.</p>\n\n<p>As @ikegami pointed out in a comment, it's also better to let the DBI driver quote the column names (with <code>quote_identifier()</code> instead of using them directly), because it's always dangerous to build SQL statements from (untrusted) variables.</p>\n\n<hr>\n\n<p>Perhaps you are confused how statement preparation works. The basic statement cannot be varied after a call to <code>prepare</code>, which means in</p>\n\n<pre><code>INSERT INTO mytable (col1, col2) VALUES (?,?)\n</code></pre>\n\n<p>you can only supply different values for the two <code>?</code> placeholders and then re-execute the very same statement with different values for these <code>?</code>s.\nFor example, it's <strong>not possible to write</strong></p>\n\n<pre><code>INSERT INTO ? (?, ?) VALUES (?,?)\n</code></pre>\n\n<p>and then <code>prepare</code> that statement and then run </p>\n\n<pre><code>$sth-&gt;execute('my_table', 'col1', 'col2', 'val1', 'val2');\n</code></pre>\n\n<p>This won't work.</p>\n\n<hr>\n\n<p>If you want to run two different INSERT statements (for two different columns), then you need to prepare twice. Depending on your actual case you can <strong>either</strong></p>\n\n<pre><code>my $stmt_for_col1 = $dbh-&gt;prepare(\"INSERT INTO my_table (col1) VALUES (?)\");\nmy $stmt_for_col2 = $dbh-&gt;prepare(\"INSERT INTO my_table (col2) VALUES (?)\");\n</code></pre>\n\n<p>and then execute the two statements as often as you like and in arbitrary order:</p>\n\n<pre><code>$stmt_for_col1-&gt;execute('value_for_col1');\n$stmt_for_col2-&gt;execute('value_for_col2');\n$stmt_for_col1-&gt;execute('value_for_col1');\n</code></pre>\n\n<p><strong>or</strong> use only one statement at a time:</p>\n\n<pre><code>my $stmt = $dbh-&gt;prepare(\"INSERT INTO my_table (col1) VALUES (?)\");\n$stmt-&gt;execute('value_for_col1');\n$stmt-&gt;execute('value_for_col1');\n\n$stmt = $dbh-&gt;prepare(\"INSERT INTO my_table (col2) VALUES (?)\");\n$stmt-&gt;execute('value_for_col2');\n$stmt-&gt;execute('value_for_col2');\n</code></pre>\n\n<p>The <code>prepare</code> step is done once per statement, the <code>execute</code> step can (and often is) run in a loop to make the statement execute with different values.</p>\n"}], "owner": {"reputation": 397, "user_id": 6738361, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eeb93bd68c260f8bfb94b00ecaa96b1e?s=128&d=identicon&r=PG&f=1", "display_name": "s.dragos", "link": "https://stackoverflow.com/users/6738361/s-dragos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 590, "favorite_count": 0, "accepted_answer_id": 44593560, "answer_count": 1, "score": 0, "last_activity_date": 1497634440, "creation_date": 1497628099, "last_edit_date": 1497628340, "question_id": 44593282, "link": "https://stackoverflow.com/questions/44593282/perl-insert-data-into-sql-while-reading-the-columns-from-an-array", "title": "Perl- insert data into SQL while reading the columns from an array?", "body": "<p>The question is simpler than it sounds(i think).\nI have a database table called <code>table</code> and I'm trying to insert data in the column called <code>first</code>.\nHere is a part of the code:</p>\n\n<pre><code> my $stmt = $dbh-&gt;prepare($sql);\n@array=(\"first\",\"second\",\"third\");    \n$sql = \"INSERT INTO table($array[0]) VALUES(?)\";\n$stmt-&gt;execute($some_value); \n</code></pre>\n\n<p>The program runs without warnings, but it simply fills the table with 0, which is different from <code>$some_value</code>. </p>\n"}, {"tags": ["docker", "environment-variables", "perl"], "comments": [{"owner": {"reputation": 23608, "user_id": 2915097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91318014af3b3d389901d50d5f9276d5?s=128&d=identicon&r=PG&f=1", "display_name": "user2915097", "link": "https://stackoverflow.com/users/2915097/user2915097"}, "edited": false, "score": 1, "creation_date": 1497612673, "post_id": 44587609, "comment_id": 76163932, "body": "group all your <code>RUN yum -y</code> of the beginning, according to the Dockerfiles best practices <a href=\"https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/\" rel=\"nofollow noreferrer\">docs.docker.com/engine/userguide/eng-image/&hellip;</a> to begin"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1497617933, "post_id": 44587609, "comment_id": 76167346, "body": "Start with <code>docker run -it --rm centos:7.3.1611</code> and use given shell to install packages and inspect environment/etc. when some of the steps gives an error."}, {"owner": {"reputation": 23608, "user_id": 2915097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91318014af3b3d389901d50d5f9276d5?s=128&d=identicon&r=PG&f=1", "display_name": "user2915097", "link": "https://stackoverflow.com/users/2915097/user2915097"}, "edited": false, "score": 1, "creation_date": 1497621881, "post_id": 44587609, "comment_id": 76170168, "body": "I tried your Dockerfile, grouping the RUN, and I get an error <code>gcc -g -Wall -O2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -D_CURSES_LIB=1 -I. -I..&#47;htslib -c -o bam_cat.o bam_cat.c In file included from bam_cat.c:41:0: ..&#47;htslib&#47;htslib&#47;bgzf.h:34:18: fatal error: zlib.h: No such file or directory  #include &lt;zlib.h&gt;                   ^ compilation terminated. make: *** [bam_cat.o] Error 1</code> it seems you lack zlib installed"}, {"owner": {"reputation": 331, "user_id": 252685, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/846b47fb50832bbb7bd1a41ae5b6ffc9?s=128&d=identicon&r=PG&f=1", "display_name": "MrFronk", "link": "https://stackoverflow.com/users/252685/mrfronk"}, "reply_to_user": {"reputation": 23608, "user_id": 2915097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91318014af3b3d389901d50d5f9276d5?s=128&d=identicon&r=PG&f=1", "display_name": "user2915097", "link": "https://stackoverflow.com/users/2915097/user2915097"}, "edited": false, "score": 0, "creation_date": 1497625926, "post_id": 44587609, "comment_id": 76172958, "body": "@user2915097 I hope this is what you mean, it looks a lot better now. I&#39;ve also added zlib ?(this was not an issue to my execution, but the updated dockerfile should install it without problem)"}, {"owner": {"reputation": 23608, "user_id": 2915097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91318014af3b3d389901d50d5f9276d5?s=128&d=identicon&r=PG&f=1", "display_name": "user2915097", "link": "https://stackoverflow.com/users/2915097/user2915097"}, "edited": false, "score": 0, "creation_date": 1497697309, "post_id": 44587609, "comment_id": 76194815, "body": "sounds good, does it work?"}, {"owner": {"reputation": 331, "user_id": 252685, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/846b47fb50832bbb7bd1a41ae5b6ffc9?s=128&d=identicon&r=PG&f=1", "display_name": "MrFronk", "link": "https://stackoverflow.com/users/252685/mrfronk"}, "edited": false, "score": 0, "creation_date": 1497712677, "post_id": 44587609, "comment_id": 76199377, "body": "no same error, I&#39;ve updated the 3rd codeblock to reflect the error message it gives."}], "answers": [{"tags": [], "owner": {"reputation": 331, "user_id": 252685, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/846b47fb50832bbb7bd1a41ae5b6ffc9?s=128&d=identicon&r=PG&f=1", "display_name": "MrFronk", "link": "https://stackoverflow.com/users/252685/mrfronk"}, "is_accepted": true, "score": 1, "last_activity_date": 1497971733, "creation_date": 1497971733, "answer_id": 44656959, "question_id": 44587609, "link": "https://stackoverflow.com/questions/44587609/set-the-perl-environment-correctly-in-dockerfile/44656959#44656959", "title": "Set the Perl environment correctly in dockerfile", "body": "<p>So the answer lay in the ENV statement.</p>\n\n<p>If you group this (as I did for the RUN statements) then they wont work anymore.</p>\n\n<p>I changed this to having a single ENV per line, and now it works.</p>\n\n<p>Here is the working Dockerfile:</p>\n\n<pre><code># Pull base image of centos.\nFROM centos:7.3.1611\n\n# install basics\nRUN yum -y update &amp;&amp; yum -y install wget \\\n    gcc \\\n    gcc-c++ \\\n    kernel-devel \\\n    make \\\n    mlocate \\\n    sudo \\\n    curl \\\n    rsync \\\n    tar \\\n    perl \\\n    perl-core \\\n    ansible \\\n    git \\\n    net-tools \\\n    which \\\n    cpan \\\n    libcurl-devel \\\n    python-devel \\\n    texlive-lastpage \\\n    texlive-misc.noarch \\\n    texlive \\\n    man \\\n    epel-release \\\n    ncurses-devel \\\n    zlib-devel \\\n    texinfo \\\n    gtk+-devel \\\n    gtk2-devel \\\n    qt-devel \\\n    tcl-devel \\\n    tk-devel \\\n    kernel-headers \\\n    kernel-devel \\\n    openssl-devel \\\n    openssl \\\n    libidn-devel \\\n    mysql \\\n    mysql-devel \\\n    mysql-lib \\\n    perl-devel \\\n    perl-CPAN \\\n    perl-JSON \\\n    perl-App-cpanminus \\\n    zlib\n\nRUN yum -y groupinstall \"Development Tools\"\n\n# create folders to install perl5 libs locally and for VEP locations\nRUN mkdir -p /my-software/perl ; \\\n    mkdir -p /my-software/perl/lib/perl5 ; \\\n\n# set perl environment variables\nENV PERL_PATH=/my-software/perl/\nENV PERL5LIB=$PERL_PATH:$PERL_PATH/lib/perl5:$PERL5LIB\nENV PERL_MM_OPT=\"INSTALL_BASE=$PERL_PATH\"\nENV PERL_MB_OPT=\"--install_base $PERL_PATH\"\nENV PATH=\"$PERL_PATH/bin:$PATH\"\n\n\n# install samtools + dependancies\nRUN mkdir /my-software/ ; \\\n    curl -L -o htslib-1.2.1.tar.gz  https://github.com/samtools/htslib/archive/1.2.1.tar.gz ; \\\n    curl -L -o samtools-1.2.tar.gz https://github.com/samtools/samtools/archive/1.2.tar.gz ; \\\n    tar xzf htslib-1.2.1.tar.gz ; \\\n    tar xzf samtools-1.2.tar.gz ; \\\n    rm -rf htslib-1.2.1.tar.gz ; \\\n    rm -rf samtools-1.2.tar.gz ; \\\n    mv htslib-1.2.1 /my-software/htslib ; \\\n    mv samtools-1.2 /my-software/samtools ; \\\n    cd /my-software/htslib ; \\\n    make install ; \\\n    cd /my-software/samtools ; \\\n    make -j HTSDIR=/my-software/htslib ; \\\n    make prefix=/my-software/usr/local/bin/ install ; \\\n    rm -rf /htslib* /samtools-1.2*\n\n\n# Handle VEP's Perl dependencies using cpanminus to install them under $PERL_PATH:\nRUN cpanm --notest -l $PERL_PATH \\\n    Net::SSLeay \\\n    IO::Socket::SSL \\\n    LWP::Simple \\\n    LWP::Protocol::https \\\n    Archive::Extract \\\n    Archive::Tar \\\n    Archive::Zip \\\n    CGI \\\n    DBI \\\n    DBD::mysql \\\n    Time::HiRes\n\n\n# Download the v79 release of VEP:\nRUN mkdir -p /my-software/vep ; \\\n    cd /my-software/vep ; \\\n    wget \"https://github.com/Ensembl/ensembl-tools/archive/release/79.zip\" ; \\\n    unzip 79.zip ; \\\n    cd /my-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/ ; \\\n    perl INSTALL.pl --AUTO af --SPECIES homo_sapiens --ASSEMBLY GRCh38 \n</code></pre>\n"}], "owner": {"reputation": 331, "user_id": 252685, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/846b47fb50832bbb7bd1a41ae5b6ffc9?s=128&d=identicon&r=PG&f=1", "display_name": "MrFronk", "link": "https://stackoverflow.com/users/252685/mrfronk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1917, "favorite_count": 0, "accepted_answer_id": 44656959, "answer_count": 1, "score": 1, "last_activity_date": 1497971733, "creation_date": 1497610830, "last_edit_date": 1497625885, "question_id": 44587609, "link": "https://stackoverflow.com/questions/44587609/set-the-perl-environment-correctly-in-dockerfile", "title": "Set the Perl environment correctly in dockerfile", "body": "\n\n<p>I'm trying to build a dockerfile based on Centos 7 which can run a specific version of VEP (<em>Variant Effect Predictor</em>) which is written in Perl and has Perl dependencies which should be handled by running <code>perl INSTALL.pl</code>.</p>\n\n<p>This isn't working for me and I need some help.</p>\n\n<p>I was quite confident that I had installed all of the dependencies, yet if I run the install program it tells me that it cannot see them.</p>\n\n<p><em>updated</em> Dockerfile:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code># Pull base image of centos.\nFROM centos:7.3.1611\n\n# install basics\nRUN yum -y update &amp;&amp; yum -y install wget \\\n    gcc \\\n    gcc-c++ \\\n    kernel-devel \\\n    make \\\n    mlocate \\\n    sudo \\\n    curl \\\n    rsync \\\n    tar \\\n    perl \\\n    perl-core \\\n    ansible \\\n    git \\\n    net-tools \\\n    which \\\n    cpan \\\n    libcurl-devel \\\n    python-devel \\\n    texlive-lastpage \\ \n    texlive-misc.noarch \\\n    texlive \\\n    man \\\n    epel-release \\\n    ncurses-devel \\\n    zlib-devel \\\n    texinfo \\\n    gtk+-devel \\\n    gtk2-devel \\\n    qt-devel \\\n    tcl-devel \\\n    tk-devel \\\n    kernel-headers \\\n    openssl-devel \\\n    openssl \\\n    libidn-devel \\\n    mysql \\\n    mysql-devel \\\n    mysql-lib \\\n    perl-devel \\\n    perl-CPAN \\\n    perl-JSON \\\n    perl-App-cpanminus\n\nRUN yum -y groupinstall \"Development Tools\"\n\n# install samtools + dependancies\nRUN mkdir /my-software/ ; \\\n    curl -L -o htslib-1.2.1.tar.gz  \n    https://github.com/samtools/htslib/archive/1.2.1.tar.gz ; \\\n    curl -L -o samtools-1.2.tar.gz \n    https://github.com/samtools/samtools/archive/1.2.tar.gz ; \\\n    tar xzf htslib-1.2.1.tar.gz ; \\\n    tar xzf samtools-1.2.tar.gz ; \\\n    rm -rf htslib-1.2.1.tar.gz ; \\\n    rm -rf samtools-1.2.tar.gz ; \\\n    mv htslib-1.2.1 /my-software/htslib ; \\\n    mv samtools-1.2 /my-software/samtools ; \\\n    cd /my-software/htslib ; \\\n    make install ; \\\n    cd /my-software/samtools ; \\\n    make -j HTSDIR=/my-software/htslib ; \\\n    make prefix=/my-software/usr/local/bin/ install ; \\\n    rm -rf /htslib* /samtools-1.2*\n\n# add samtools and htslib to path\nENV PATH=/my-software/samtools/:$PATH \\\n    PATH=/my-software/htslib/:$PATH \\\n    PERL_PATH=~/perl5 \\\n    PERL5LIB=$PERL_PATH/lib/perl5:$PERL_PATH/lib/perl5/x86_64-linux-thread-multi\n\n# Handle VEP's Perl dependencies using cpanminus to install them under $PERL_PATH:\nRUN cpanm --notest -l $PERL_PATH \\\n    Net::SSLeay \\\n    IO::Socket::SSL \\\n    LWP::Simple \\\n    LWP::Protocol::https \\\n    Archive::Extract \\\n    Archive::Tar \\\n    Archive::Zip \\\n    CGI \\\n    DBI \\\n    DBD::mysql \\\n    Time::HiRes\n\n# Set temporary shell variables to store VEP and its cache\nENV VEP_PATH=/isoma-software/vep/ \\\n    VEP_DATA=/isoma-software/.vep/\n\n# Download the v79 release of VEP:\nRUN sudo mkdir -p $VEP_PATH $VEP_DATA; cd $VEP_PATH  \\\n    &amp;&amp; curl -LO \"https://github.com/Ensembl/ensembl-tools/archive/release/79.tar.gz\"  \\\n    &amp;&amp; tar -zxf 79.tar.gz \\\n    &amp;&amp; cd ensembl-tools-release-79/scripts/variant_effect_predictor/ \\\n    &amp;&amp; sudo perl INSTALL.pl --AUTO af --SPECIES homo_sapiens --ASSEMBLY GRCh38 --DESTDIR $VEP_PATH --CACHEDIR $VEP_DATA\n</code></pre>\n\n<p>When I run the above Dockerfile, I get the following <em>updated</em> output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Step 6/8 : RUN cpanm --notest -l $PERL_PATH     Net::SSLeay     IO::Socket::SSL     LWP::Simple     LWP::Protocol::https     Archive::Extract     Archive::Tar     Archive::Zip     CGI     DBI     DBD::mysql     Time::HiRes\n---&gt; Running in 64e74af831a9\n--&gt; Working on Net::SSLeay\nFetching http://www.cpan.org/authors/id/M/MI/MIKEM/Net-SSLeay-1.81.tar.gz ... OK\nConfiguring Net-SSLeay-1.81 ... OK\nBuilding Net-SSLeay-1.81 ... OK\nSuccessfully installed Net-SSLeay-1.81 (upgraded from 1.55)\n--&gt; Working on IO::Socket::SSL\nFetching http://www.cpan.org/authors/id/S/SU/SULLR/IO-Socket-SSL-2.049.tar.gz ... OK\nConfiguring IO-Socket-SSL-2.049 ... OK\nBuilding IO-Socket-SSL-2.049 ... OK\nSuccessfully installed IO-Socket-SSL-2.049 (upgraded from 1.94)\n--&gt; Working on LWP::Simple\nFetching http://www.cpan.org/authors/id/O/OA/OALDERS/libwww-perl-6.26.tar.gz ... OK\nConfiguring libwww-perl-6.26 ... OK\n==&gt; Found dependencies: Try::Tiny, Net::HTTP\n--&gt; Working on Try::Tiny\nFetching http://www.cpan.org/authors/id/E/ET/ETHER/Try-Tiny-0.28.tar.gz ... OK\nConfiguring Try-Tiny-0.28 ... OK\nBuilding Try-Tiny-0.28 ... OK\nSuccessfully installed Try-Tiny-0.28\n--&gt; Working on Net::HTTP\nFetching http://www.cpan.org/authors/id/O/OA/OALDERS/Net-HTTP-6.16.tar.gz ... OK\nConfiguring Net-HTTP-6.16 ... OK\nBuilding Net-HTTP-6.16 ... OK\nSuccessfully installed Net-HTTP-6.16 (upgraded from 6.06)\nBuilding libwww-perl-6.26 ... OK\nSuccessfully installed libwww-perl-6.26 (upgraded from 6.00)\n--&gt; Working on LWP::Protocol::https\nFetching http://www.cpan.org/authors/id/O/OA/OALDERS/LWP-Protocol-https-6.07.tar.gz ... OK\nConfiguring LWP-Protocol-https-6.07 ... OK\n==&gt; Found dependencies: Mozilla::CA\n--&gt; Working on Mozilla::CA\nFetching http://www.cpan.org/authors/id/A/AB/ABH/Mozilla-CA-20160104.tar.gz ... OK\nConfiguring Mozilla-CA-20160104 ... OK\nBuilding Mozilla-CA-20160104 ... OK\nSuccessfully installed Mozilla-CA-20160104\nBuilding LWP-Protocol-https-6.07 ... OK\nSuccessfully installed LWP-Protocol-https-6.07\n--&gt; Working on Archive::Extract\nFetching http://www.cpan.org/authors/id/B/BI/BINGOS/Archive-Extract-0.80.tar.gz ... OK\nConfiguring Archive-Extract-0.80 ... OK\n==&gt; Found dependencies: Module::Load::Conditional\n--&gt; Working on Module::Load::Conditional\nFetching http://www.cpan.org/authors/id/B/BI/BINGOS/Module-Load-Conditional-0.68.tar.gz ... OK\nConfiguring Module-Load-Conditional-0.68 ... OK\n==&gt; Found dependencies: Module::Load\n--&gt; Working on Module::Load\nFetching http://www.cpan.org/authors/id/B/BI/BINGOS/Module-Load-0.32.tar.gz ... OK\nConfiguring Module-Load-0.32 ... OK\nBuilding Module-Load-0.32 ... OK\nSuccessfully installed Module-Load-0.32 (upgraded from 0.24)\nBuilding Module-Load-Conditional-0.68 ... OK\nSuccessfully installed Module-Load-Conditional-0.68 (upgraded from 0.54)\nBuilding Archive-Extract-0.80 ... OK\nSuccessfully installed Archive-Extract-0.80 (upgraded from 0.68)\n--&gt; Working on Archive::Tar\nFetching http://www.cpan.org/authors/id/B/BI/BINGOS/Archive-Tar-2.26.tar.gz ... OK\nConfiguring Archive-Tar-2.26 ... OK\nBuilding Archive-Tar-2.26 ... OK\nSuccessfully installed Archive-Tar-2.26 (upgraded from 1.92)\n--&gt; Working on Archive::Zip\nFetching http://www.cpan.org/authors/id/P/PH/PHRED/Archive-Zip-1.59.tar.gz ... OK\nConfiguring Archive-Zip-1.59 ... OK\nBuilding Archive-Zip-1.59 ... OK\nSuccessfully installed Archive-Zip-1.59 (upgraded from 1.30)\n--&gt; Working on CGI\nFetching http://www.cpan.org/authors/id/L/LE/LEEJO/CGI-4.36.tar.gz ... OK\nConfiguring CGI-4.36 ... OK\nBuilding CGI-4.36 ... OK\nSuccessfully installed CGI-4.36 (upgraded from 3.63)\n--&gt; Working on DBI\nFetching http://www.cpan.org/authors/id/T/TI/TIMB/DBI-1.636.tar.gz ... OK\nConfiguring DBI-1.636 ... OK\nBuilding DBI-1.636 ... OK\nSuccessfully installed DBI-1.636 (upgraded from 1.627)\n--&gt; Working on DBD::mysql\nFetching http://www.cpan.org/authors/id/M/MI/MICHIELB/DBD-mysql-4.042.tar.gz ... OK\n==&gt; Found dependencies: Devel::CheckLib\n--&gt; Working on Devel::CheckLib\nFetching http://www.cpan.org/authors/id/M/MA/MATTN/Devel-CheckLib-1.11.tar.gz ... OK\nConfiguring Devel-CheckLib-1.11 ... OK\n==&gt; Found dependencies: IO::CaptureOutput, Mock::Config\n--&gt; Working on IO::CaptureOutput\nFetching http://www.cpan.org/authors/id/D/DA/DAGOLDEN/IO-CaptureOutput-1.1104.tar.gz ... OK\nConfiguring IO-CaptureOutput-1.1104 ... OK\nBuilding IO-CaptureOutput-1.1104 ... OK\nSuccessfully installed IO-CaptureOutput-1.1104\n--&gt; Working on Mock::Config\nFetching http://www.cpan.org/authors/id/R/RU/RURBAN/Mock-Config-0.03.tar.gz ... OK\nConfiguring Mock-Config-0.03 ... OK\nBuilding Mock-Config-0.03 ... OK\nSuccessfully installed Mock-Config-0.03\nBuilding Devel-CheckLib-1.11 ... OK\nSuccessfully installed Devel-CheckLib-1.11\nConfiguring DBD-mysql-4.042 ... OK\nBuilding DBD-mysql-4.042 ... OK\nSuccessfully installed DBD-mysql-4.042\n--&gt; Working on Time::HiRes\nFetching http://www.cpan.org/authors/id/J/JH/JHI/Time-HiRes-1.9742.tar.gz ... OK\nConfiguring Time-HiRes-1.9742 ... OK\nBuilding Time-HiRes-1.9742 ... OK\nSuccessfully installed Time-HiRes-1.9742 (upgraded from 1.9725)\n19 distributions installed\n ---&gt; 7972d256ea2c\nRemoving intermediate container 64e74af831a9\n</code></pre>\n\n<p>Indicating that all submodules install correctly.</p>\n\n<p>But when I run the Perl install script, it doesn't see these libraries in <code>@INC</code>.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Step 8/8 : RUN sudo mkdir -p $VEP_PATH $VEP_DATA; cd $VEP_PATH      &amp;&amp; curl -LO \"https://github.com/Ensembl/ensembl-tools/archive/release/79.tar.gz\"      &amp;&amp; tar -zxf 79.tar.gz     &amp;&amp; cd ensembl-tools-release-79/scripts/variant_effect_predictor/     &amp;&amp; sudo perl INSTALL.pl --AUTO af --SPECIES homo_sapiens --ASSEMBLY GRCh38 --DESTDIR $VEP_PATH --CACHEDIR $VEP_DATA\n ---&gt; Running in f0f4d991bb26\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   133    0   133    0     0    215      0 --:--:-- --:--:-- --:--:--   214\n100  161k  100  161k    0     0   105k      0  0:00:01  0:00:01 --:--:--  569k\nUsing non-default installation directory /isoma-software/vep/ - you will probably need to add /isoma-software/vep/ to your PERL5LIB\n\nSetting up directories\n\nDownloading required files\n - fetching ensembl\nTrying to fetch using curl\n** GET https://github.com/Ensembl/ensembl/archive/release/79.zip ==&gt; 501 Protocol scheme 'https' is not supported (LWP::Protocol::https not installed)\n** GET https://github.com/Ensembl/ensembl/archive/release/79.zip ==&gt; 501 Protocol scheme 'https' is not supported (LWP::Protocol::https not installed)\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   124    0   124    0     0    200      0 --:--:-- --:--:-- --:--:--   200\n100 10.8M  100 10.8M    0     0  2849k      0  0:00:03  0:00:03 --:--:-- 4539k\n - unpacking /isoma-software/vep//Bio/tmp/ensembl.zip\n - moving files\n - fetching ensembl-variation\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   134    0   134    0     0    180      0 --:--:-- --:--:-- --:--:--   180\n  0     0    0 22.8M    0     0  3544k      0 --:--:--  0:00:06 --:--:-- 5713k\n - unpacking /isoma-software/vep//Bio/tmp/ensembl-variation.zip\n - moving files\n - fetching ensembl-funcgen\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   132    0   132    0     0    204      0 --:--:-- --:--:-- --:--:--   204\n  0     0    0 2034k    0     0   848k      0 --:--:--  0:00:02 --:--:-- 2662k\n - unpacking /isoma-software/vep//Bio/tmp/ensembl-funcgen.zip\n - moving files\n - fetching BioPerl\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   134    0   134    0     0    210      0 --:--:-- --:--:-- --:--:--   210\n100 11.2M  100 11.2M    0     0  2259k      0  0:00:05  0:00:05 --:--:-- 2589k\n - unpacking /isoma-software/vep//Bio/tmp/release-1-6-924.zip\n - moving files\n\nTesting VEP script\nCan't locate Bio/EnsEMBL/Variation/Utils/VEP.pm in @INC (@INC contains: /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../ /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at ./t/variant_effect_predictor.t line 12.\nBEGIN failed--compilation aborted at ./t/variant_effect_predictor.t line 12.\n./t/variant_effect_predictor.t .. \nDubious, test returned 2 (wstat 512, 0x200)\nNo subtests run \nCan't locate Bio/EnsEMBL/Variation/Utils/VEP.pm in @INC (@INC contains: /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../ /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at ./t/convert_cache.t line 12.\nBEGIN failed--compilation aborted at ./t/convert_cache.t line 12.\n./t/convert_cache.t ............. \nDubious, test returned 2 (wstat 512, 0x200)\nNo subtests run \nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\n\n#   Failed test 'help message'\n#   at ./t/filter_vep.t line 26.\n\n#   Failed test 'error on no filters'\n#   at ./t/filter_vep.t line 32.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\n\n#   Failed test 'basic filter'\n#   at ./t/filter_vep.t line 36.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\n\n#   Failed test 'VCF input'\n#   at ./t/filter_vep.t line 40.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\n\n#   Failed test 'operator - is'\n#   at ./t/filter_vep.t line 47.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\n\n#   Failed test 'operator - gte'\n#   at ./t/filter_vep.t line 71.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\n\n#   Failed test 'operator - lte'\n#   at ./t/filter_vep.t line 79.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\n\n#   Failed test 'operator - match'\n#   at ./t/filter_vep.t line 83.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\n\n#   Failed test 'operator - in list'\n#   at ./t/filter_vep.t line 87.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\n\n#   Failed test 'list fields'\n#   at ./t/filter_vep.t line 105.\n# Got 0, expected 57\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\n\n#   Failed test 'count lines'\n#   at ./t/filter_vep.t line 109.\nCan't locate Bio/EnsEMBL/Registry.pm in @INC (@INC contains: /isoma-software/vep//Bio /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\nBEGIN failed--compilation aborted at /isoma-software/vep/ensembl-tools-release-79/scripts/variant_effect_predictor/t/../filter_vep.pl line 581.\n./t/filter_vep.t ................ \nDubious, test returned 12 (wstat 3072, 0xc00)\nFailed 12/21 subtests \n\nTest Summary Report\n-------------------\n./t/variant_effect_predictor.t (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: No plan found in TAP output\n./t/convert_cache.t           (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: No plan found in TAP output\n./t/filter_vep.t              (Wstat: 3072 Tests: 21 Failed: 12)\n  Failed tests:  1-5, 11, 13-15, 19-21\n  Non-zero exit status: 12\nFiles=3, Tests=21,  1 wallclock secs ( 0.03 usr  0.00 sys +  0.57 cusr  0.15 csys =  0.75 CPU)\nResult: FAIL\n\n#   Failed test 'ontology'\n#   at ./t/filter_vep.t line 116.\n# Looks like you failed 12 tests of 21.\nFailed 3/3 test programs. 12/21 subtests failed.\nThe command '/bin/sh -c sudo mkdir -p $VEP_PATH $VEP_DATA; cd $VEP_PATH      &amp;&amp; curl -LO \"https://github.com/Ensembl/ensembl-tools/archive/release/79.tar.gz\"      &amp;&amp; tar -zxf 79.tar.gz     &amp;&amp; cd ensembl-tools-release-79/scripts/variant_effect_predictor/     &amp;&amp; sudo perl INSTALL.pl --AUTO af --SPECIES homo_sapiens --ASSEMBLY GRCh38 --DESTDIR $VEP_PATH --CACHEDIR $VEP_DATA' returned a non-zero code: 12\n</code></pre>\n"}, {"tags": ["regex", "perl", "split"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1497610479, "post_id": 44587032, "comment_id": 76162580, "body": "There is no <code>null</code> in Perl. The rough equivalent is <code>undef</code>, which is an undefined value. Your empty lines are simply <i>the empty string</i>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497610748, "post_id": 44587032, "comment_id": 76162750, "body": "You can use the <code>\\b</code> escape sequence for a word boundary, but that will yield 11 results, because things with <code>()</code> are treated as one word, like <code>))</code> and <code>)*(</code>. Those could be split afterwards."}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1497621128, "post_id": 44587618, "comment_id": 76169539, "body": "It looks like someone just came by and downvoted both of our answers. I wouldn&#39;t expect any explanation."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1497610857, "creation_date": 1497610857, "answer_id": 44587618, "question_id": 44587032, "link": "https://stackoverflow.com/questions/44587032/in-perl-why-splitting-a-string-on-pattern-gives-a-null-character-at-some-splitt/44587618#44587618", "title": "In perl, why splitting a string on pattern gives a null character at some splitting points", "body": "<p>You can combine the word boundary <code>\\b</code> with a check for <code>\\W</code>, in which case you split on the empty string, which just turns a string into a list of characters.</p>\n\n<pre><code>my $line=\"(l_extendedprice*(1-l_discount)*(1+l_tax))\";\n\nmy @split_on_non_word = map { /\\W/ ? split '', $_ : $_ } split /\\b/,$line;\nprint scalar @split_on_non_word, \"\\n\";\nprint \"split:$_\\n\" for @split_on_non_word;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>15\nsplit:(\nsplit:l_extendedprice\nsplit:*\nsplit:(\nsplit:1\nsplit:-\nsplit:l_discount\nsplit:)\nsplit:*\nsplit:(\nsplit:1\nsplit:+\nsplit:l_tax\nsplit:)\nsplit:)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 7, "last_activity_date": 1497611033, "creation_date": 1497611033, "answer_id": 44587677, "question_id": 44587032, "link": "https://stackoverflow.com/questions/44587032/in-perl-why-splitting-a-string-on-pattern-gives-a-null-character-at-some-splitt/44587677#44587677", "title": "In perl, why splitting a string on pattern gives a null character at some splitting points", "body": "<p><code>split()</code> may not be the best way for desired outcome, you can use regex,</p>\n\n<pre><code>use Data::Dumper;\n\nmy $line=\"(l_extendedprice*(1-l_discount)*(1+l_tax))\";\nmy @split_on_non_word = $line =~ /(\\w+|\\W)/g;\n\nprint Dumper \\@split_on_non_word;\n</code></pre>\n\n<p>output</p>\n\n<pre><code>$VAR1 = [\n      '(',\n      'l_extendedprice',\n      '*',\n      '(',\n      '1',\n      '-',\n      'l_discount',\n      ')',\n      '*',\n      '(',\n      '1',\n      '+',\n      'l_tax',\n      ')',\n      ')'\n    ];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1497622412, "post_id": 44588332, "comment_id": 76170575, "body": "Why did you load YAML?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497622588, "post_id": 44588332, "comment_id": 76170707, "body": "Because I like its <code>Dump</code> better than other dumps, and I didn&#39;t like the way the OP was printing the results."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1500846771, "last_edit_date": 1500846771, "creation_date": 1497613020, "answer_id": 44588332, "question_id": 44587032, "link": "https://stackoverflow.com/questions/44587032/in-perl-why-splitting-a-string-on-pattern-gives-a-null-character-at-some-splitt/44588332#44588332", "title": "In perl, why splitting a string on pattern gives a null character at some splitting points", "body": "<p>You have declared every <code>\\W</code> character to be a field separator. The first character of the string is <code>(</code>. That means it must separate an empty string from what follows.</p>\n\n<p>Then you have <code>*(</code>: A sequence of two separators. That means, there must be an empty field between them.</p>\n\n<p>As for <code>1+l_tax</code>, clearly, there are non-empty strings on either side of the separator, <code>+</code>.</p>\n\n<p>To me, it seems simplest just to filter out the empty fields:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse YAML::XS;\n\nmy $line = \"(l_extendedprice*(1-l_discount)*(1+l_tax))\";\n\nmy $tokens = [ grep length, (split /(\\W)/, $line) ];\n\nprint scalar @$tokens, \"\\n\";\n\nprint Dump $tokens;\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>15\n---\n- (\n- l_extendedprice\n- '*'\n- (\n- '1'\n- '-'\n- l_discount\n- )\n- '*'\n- (\n- '1'\n- +\n- l_tax\n- )\n- )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 3, "last_activity_date": 1497624629, "creation_date": 1497624629, "answer_id": 44592226, "question_id": 44587032, "link": "https://stackoverflow.com/questions/44587032/in-perl-why-splitting-a-string-on-pattern-gives-a-null-character-at-some-splitt/44592226#44592226", "title": "In perl, why splitting a string on pattern gives a null character at some splitting points", "body": "<p>Yet another way:</p>\n\n<p>Capturing in a split pattern only rarely works exactly as needed for some task.  When it doesn't, you either have to post-process the results, use match instead of split, or try to come up with a non-capturing split pattern that does what you want.  Other answers take one of the first two approaches.  For the third, you want to split wherever there is a non-word character to either side, which is easy:</p>\n\n<pre><code>split /(?&lt;=\\W)|(?=\\W)/\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 8102349, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a69396b9faef27629c858af092faeada?s=128&d=identicon&r=PG&f=1", "display_name": "tt_pre", "link": "https://stackoverflow.com/users/8102349/tt-pre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "accepted_answer_id": 44587618, "answer_count": 4, "score": 1, "last_activity_date": 1500846771, "creation_date": 1497609026, "last_edit_date": 1497610086, "question_id": 44587032, "link": "https://stackoverflow.com/questions/44587032/in-perl-why-splitting-a-string-on-pattern-gives-a-null-character-at-some-splitt", "title": "In perl, why splitting a string on pattern gives a null character at some splitting points", "body": "<p>Suppose I have a string as following:</p>\n\n<pre><code>my $line=\"(l_extendedprice*(1-l_discount)*(1+l_tax))\";\n</code></pre>\n\n<p>I want to split this string whenever it gets a non-word character and I also want to remember the character. Here goes my code for that:</p>\n\n<pre><code>my @split_on_non_word=split /(\\W)/,$line;\nprint scalar @split_on_non_word, \"\\n\";\nprint \"split:$_\\n\" for @split_on_non_word;\n</code></pre>\n\n<p><strong>Here is my output:</strong></p>\n\n<pre><code>20\nsplit:\nsplit:(\nsplit:l_extendedprice\nsplit:*\nsplit:\nsplit:(\nsplit:1\nsplit:-\nsplit:l_discount\nsplit:)\nsplit:\nsplit:*\nsplit:\nsplit:(\nsplit:1\nsplit:+\nsplit:l_tax\nsplit:)\nsplit:\nsplit:)\n</code></pre>\n\n<p>The problem is, I am getting null characters inside my array at patterns e.g. (, *. I am sensing that may be it has something to do with metacharacters. But, it does not insert any null characters when splitting on \"+\" which is also a metacharacter. Any help on this regard is very much appreciated.</p>\n\n<p>Off course, there are ways to post process the array and get rid of the null characters, which is my work-around for now. But, I am just looking for a better solution.</p>\n\n<p><strong>Expected output:</strong></p>\n\n<pre><code>15\nsplit:(\nsplit:l_extendedprice\nsplit:*\nsplit:(\nsplit:1\nsplit:-\nsplit:l_discount\nsplit:)\nsplit:*\nsplit:(\nsplit:1\nsplit:+\nsplit:l_tax\nsplit:)\nsplit:)\n</code></pre>\n"}, {"tags": ["perl", "awk", "gsub"], "comments": [{"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 3, "creation_date": 1497606898, "post_id": 44586124, "comment_id": 76160270, "body": "Are you using awk within perl? If so, why?"}, {"owner": {"reputation": 14904, "user_id": 3161993, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/56e8M.png?s=128&g=1", "display_name": "Akshay", "link": "https://stackoverflow.com/users/3161993/akshay"}, "edited": false, "score": 0, "creation_date": 1497623166, "post_id": 44586124, "comment_id": 76171058, "body": "can&#39;t just <code>perl -pe &#39;s&#47;;&#47;\\n&#47;g&#39; infile</code> ? really need awk and system call"}, {"owner": {"reputation": 13, "user_id": 8170902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61510747201ff06731c73dac5805ca2f?s=128&d=identicon&r=PG&f=1", "display_name": "terence", "link": "https://stackoverflow.com/users/8170902/terence"}, "reply_to_user": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1497918250, "post_id": 44586124, "comment_id": 76269591, "body": "@TomFenech sorry, I&#39;m just new in perl.  I saw someone doing it, that is why I&#39;m trying to do it also :) Not yet familiar with the complication."}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 0, "creation_date": 1497962983, "post_id": 44586124, "comment_id": 76292300, "body": "You have single quotes within single quotes. You need to escape the inner quotes, as in: <code>system(&#39;awk \\&#39;{gsub(&quot;;&quot;,&quot;\\n&quot;); print}\\&#39; rmax.txt&#39;);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8170902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61510747201ff06731c73dac5805ca2f?s=128&d=identicon&r=PG&f=1", "display_name": "terence", "link": "https://stackoverflow.com/users/8170902/terence"}, "edited": false, "score": 0, "creation_date": 1497919158, "post_id": 44593080, "comment_id": 76269841, "body": "I will use it for possible larger perl program.  But currently I&#39;m just starting and I&#39;m already getting this error :(.  this is my program as for now: #!/usr/bin/perl system(&#39; less max.txt | grep &quot;%WF&quot; &gt; rmax.txt&#39;); perl -pe &#39;tr/;/\\n/&#39; rmax.text"}, {"owner": {"reputation": 13, "user_id": 8170902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61510747201ff06731c73dac5805ca2f?s=128&d=identicon&r=PG&f=1", "display_name": "terence", "link": "https://stackoverflow.com/users/8170902/terence"}, "edited": false, "score": 0, "creation_date": 1497919448, "post_id": 44593080, "comment_id": 76269907, "body": "after running this.. this is the error I get : ... after putting your suggestion, I&#39;m getting this error : String found where operator expected at rmax line 7, near &quot;pe &#39;tr/;/\\n/&#39;&quot;         (Do you need to predeclare pe?) Bareword found where operator expected at rmax line 7, near &quot;&#39;tr/;/\\n/&#39; rmax&quot;         (Missing operator before rmax?) syntax error at rbermax line 7, near &quot;pe &#39;tr/;/\\n/&#39;&quot; Execution of rbermax aborted due to compilation errors."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 13, "user_id": 8170902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61510747201ff06731c73dac5805ca2f?s=128&d=identicon&r=PG&f=1", "display_name": "terence", "link": "https://stackoverflow.com/users/8170902/terence"}, "edited": false, "score": 0, "creation_date": 1497930065, "post_id": 44593080, "comment_id": 76272285, "body": "I wrote &quot;Please don&#39;t run this using <code>system</code> or backticks&quot;. Show your complete program."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1497627357, "creation_date": 1497627357, "answer_id": 44593080, "question_id": 44586124, "link": "https://stackoverflow.com/questions/44586124/error-using-awk-to-replace-semicolons-with-newlines/44593080#44593080", "title": "Error using awk to replace semicolons with newlines", "body": "<p>Since you have a Perl tag on this question, I will offer a Perl solution</p>\n\n<pre><code>perl -pe 'tr/;/\\n/' rmax.text\n</code></pre>\n\n<p>I would offer an explanation but I can't see anything that could be unclear</p>\n\n<p>Please don't run this using <code>system</code> or backticks. If you want it as part of a larger Perl program then you must show that program</p>\n"}], "owner": {"reputation": 13, "user_id": 8170902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61510747201ff06731c73dac5805ca2f?s=128&d=identicon&r=PG&f=1", "display_name": "terence", "link": "https://stackoverflow.com/users/8170902/terence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "closed_date": 1497992707, "answer_count": 1, "score": -4, "last_activity_date": 1497742723, "creation_date": 1497606472, "last_edit_date": 1497627277, "question_id": 44586124, "link": "https://stackoverflow.com/questions/44586124/error-using-awk-to-replace-semicolons-with-newlines", "closed_reason": "Needs details or clarity", "title": "Error using awk to replace semicolons with newlines", "body": "<p></p>\n\n<p>I don't know what is causing this error.</p>\n\n<p>I have a file <code>rmax.text</code> which contains:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>123;456;3434;645234;234;23423;\n</code></pre>\n\n<p>I'm trying to replace semicolons <code>;</code> with newlines <code>\"\\n\"</code> like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>123\n456\n3434\n645234\n234\n23423\n</code></pre>\n\n<p>I tried: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>system('awk '{gsub(\";\",\"\\n\"); print}' rmax.txt');\n</code></pre>\n\n<p>This once giving me syntax error - </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>syntax error at rmax line 7, near \"'awk '{\"\nsyntax error at rmax line 7, near \"print}\"\nExecution of rmax aborted due to compilation errors.\n</code></pre>\n\n<p>If I tried directly: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>awk '{gsub(\";\",\"\\n\"); print}' rmax.txt\n</code></pre>\n\n<p>My error is :</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>String found where operator expected at rmax line 7, near \"awk '{gsub(\";\",\"\\n\"); print}'\"\n        (Do you need to predeclare awk?)\nBareword found where operator expected at rmax line 7, near \"'{gsub(\";\",\"\\n\"); print}' rmax\"\n        (Missing operator before rmax?)\nsyntax error at rbermax line 7, near \"awk '{gsub(\";\",\"\\n\"); print}'\"\nExecution of rbermax aborted due to compilation errors.\n</code></pre>\n\n<p>It seems my syntax is correct, but it is still not working.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1497604651, "post_id": 44585404, "comment_id": 76158550, "body": "Alternatively, <code>$line =~ tr&#47; &#47;&#47;s;</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497621380, "post_id": 44585404, "comment_id": 76169754, "body": "<i>&quot;There is nothing wrong with your use of <code>split</code>&quot;</i> Except that whenever someone writes <code>split &#47; &#47;</code> or <code>split &#47;\\s+&#47;</code> or similar, they probably mean <code>split &quot; &quot;</code>."}], "tags": [], "owner": {"reputation": 8687, "user_id": 325117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0766debb859466aed4b305cc915d8e?s=128&d=identicon&r=PG", "display_name": "Martin Broadhurst", "link": "https://stackoverflow.com/users/325117/martin-broadhurst"}, "is_accepted": false, "score": -1, "last_activity_date": 1497605111, "last_edit_date": 1497605111, "creation_date": 1497604544, "answer_id": 44585404, "question_id": 44584985, "link": "https://stackoverflow.com/questions/44584985/perl-change-column-delimiter-of-a-file/44585404#44585404", "title": "Perl change column delimiter of a file", "body": "<p>To compress spaces in Perl, you can use the substitution operator <code>s</code>:</p>\n\n<pre><code>$line =~ s/ +/ /g;\n</code></pre>\n\n<p>Or you can use the transliteration operator <code>tr</code>:</p>\n\n<pre><code>$line =~ tr/ //s;\n</code></pre>\n\n<p>There is nothing wrong with your use of <code>split</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "is_accepted": false, "score": 0, "last_activity_date": 1497615592, "last_edit_date": 1497615592, "creation_date": 1497607232, "answer_id": 44586397, "question_id": 44584985, "link": "https://stackoverflow.com/questions/44584985/perl-change-column-delimiter-of-a-file/44586397#44586397", "title": "Perl change column delimiter of a file", "body": "<p><code>uniq -c</code> produces output similar to this:</p>\n\n<pre><code>      2 ABC12345\n      1 ZXC09876\n</code></pre>\n\n<p>Notice the leading spaces. Apparently, you intended to strip the leading spaces but keeping the space in between is vital for <code>split / /, $f_line;</code> to succeed.</p>\n\n<p>To remove the leading spaces only use <code>^\\s+</code> pattern (<code>^</code> is the start of line anchor) and pass it to <code>s///</code> substitution operator:</p>\n\n<pre><code>$line =~ s/^\\s+//;\n</code></pre>\n\n<hr>\n\n<p>Please note you may accomplish this task in pure Perl:</p>\n\n<pre><code>my %counts = ();\nopen(my $fh, $e_file) or die \"Failed to open $e_file: $!\";\nwhile (&lt;$fh&gt;) {\n    # collect counts of each [A-Z]{3}[0-9]{5} match in the %counts\n    # hash with the match being a kay in this hash and the number\n    # of occurrences of this match being the value\n    $counts{$1}++ foreach /([A-Z]{3}[0-9]{5})/g;\n}\n\n# iterate through the first 15 top encountered matches\nforeach my $key (\n    (\n        sort {$counts{$b} &lt;=&gt; $counts{$a}} keys %counts   # sort dictionary keys\n                                                          # in value descending order\n    )[0..14]                           # take first 15 items of the ordered list\n)\n{\n    print \"$key $counts{$key}\\n\";\n}\n</code></pre>\n\n<p>Demo: <a href=\"https://ideone.com/eN1AyJ\" rel=\"nofollow noreferrer\">https://ideone.com/eN1AyJ</a></p>\n"}], "owner": {"reputation": 1, "user_id": 5268562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc023e2e13753b9ddc81982a7665108c?s=128&d=identicon&r=PG&f=1", "display_name": "Dinesh Sharma", "link": "https://stackoverflow.com/users/5268562/dinesh-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1497615592, "creation_date": 1497603395, "last_edit_date": 1497605259, "question_id": 44584985, "link": "https://stackoverflow.com/questions/44584985/perl-change-column-delimiter-of-a-file", "title": "Perl change column delimiter of a file", "body": "<p>I stored the output of <code>uniq -c</code> into two files <code>$lfile</code> and <code>$lfile2</code>, I tried to make column separator as <code>\" \"</code> with <code>tr</code> command, but it seems not working, after split of <code>$line</code> there nothing get stored in <code>$count</code>, <code>$e_code</code>. </p>\n\n<p>How to split the <code>$line</code> in two parts?</p>\n\n<pre><code>`egrep -o [A-Z]{3}[0-9]{5} $e_file |sort|uniq -c |sort -nrk1 |head -15  &gt;$lfile1`;\n`egrep -o [A-Z]{3}[0-9]{5} $y_file |sort|uniq -c |sort -nrk1 |head -150 &gt;$lfile2`;\n\nopen (IN, \"&lt;$lfile1\") ;\n\nforeach $line (&lt;IN&gt;)\n{\n  my $f_line=`echo $line|tr -s ' ' `  ;\n  print \"$f_line  \\n\" ;\n\n  my ($count, $e_code) = split / /, $f_line;\n</code></pre>\n"}, {"tags": ["perl", "reference", "hashtable"], "comments": [{"owner": {"reputation": 3613, "user_id": 6818284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e1aa2b77c7bc15069e1013aba4d7104?s=128&d=identicon&r=PG&f=1", "display_name": "mikep", "link": "https://stackoverflow.com/users/6818284/mikep"}, "edited": false, "score": 2, "creation_date": 1497586613, "post_id": 44580656, "comment_id": 76149715, "body": "This doesn&#39;t look like JSON"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497587593, "post_id": 44580656, "comment_id": 76149984, "body": "This question has nothing to do with JSON! In the future, please omit irrelevant details."}, {"owner": {"reputation": 11, "user_id": 4418608, "user_type": "registered", "profile_image": "https://graph.facebook.com/571515437/picture?type=large", "display_name": "Ben Harrison", "link": "https://stackoverflow.com/users/4418608/ben-harrison"}, "edited": false, "score": 0, "creation_date": 1497590495, "post_id": 44580656, "comment_id": 76150886, "body": "My apologies. I won&#39;t make the same mistake again. But thankyou for your time."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1497632915, "post_id": 44580656, "comment_id": 76176951, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/q/5249362/100754\">How to use foreach with a hash reference?</a> ... I&#39;ve already voted to close for another reason, but I think linking to the duplicate would be better."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4418608, "user_type": "registered", "profile_image": "https://graph.facebook.com/571515437/picture?type=large", "display_name": "Ben Harrison", "link": "https://stackoverflow.com/users/4418608/ben-harrison"}, "edited": false, "score": 0, "creation_date": 1497590387, "post_id": 44580923, "comment_id": 76150838, "body": "Thankyou! I am. And it worked. I combined it with a previous response to get to get exactly what I was after."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 11, "user_id": 4418608, "user_type": "registered", "profile_image": "https://graph.facebook.com/571515437/picture?type=large", "display_name": "Ben Harrison", "link": "https://stackoverflow.com/users/4418608/ben-harrison"}, "edited": false, "score": 2, "creation_date": 1497605474, "post_id": 44580923, "comment_id": 76159157, "body": "@BenHarrison <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1497587935, "creation_date": 1497587935, "answer_id": 44580923, "question_id": 44580656, "link": "https://stackoverflow.com/questions/44580656/how-to-pull-data-from-a-json-response-in-perl/44580923#44580923", "title": "How to pull data from a JSON response in Perl", "body": "<p>Are you asking how to iterate over the elements of a hash?</p>\n\n<pre><code>for my $site (keys(%$ref)) {\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4418608, "user_type": "registered", "profile_image": "https://graph.facebook.com/571515437/picture?type=large", "display_name": "Ben Harrison", "link": "https://stackoverflow.com/users/4418608/ben-harrison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 44580923, "answer_count": 1, "score": -1, "last_activity_date": 1497587935, "creation_date": 1497586140, "last_edit_date": 1497587707, "question_id": 44580656, "link": "https://stackoverflow.com/questions/44580656/how-to-pull-data-from-a-json-response-in-perl", "title": "How to pull data from a JSON response in Perl", "body": "<p>I have a JSON response, which I need to process in Perl to extract information out of and do further processing. The JSON document looks like this:</p>\n\n<pre><code>{\n  \"SITE_1\": [\n    {\n      \"values\": [\n        {\n           \"time\": 20170616100000,\n           \"v\":    11\n        }\n      ]\n    }\n  ],\n  \"SITE_2\": [\n    {\n      \"values\": [\n        {\n           \"time\": 20170616100000,\n           \"v\":    12\n        }\n     }\n  ]\n}\n</code></pre>\n\n<p>I'm trying to process it in a subroutine using:</p>\n\n<pre><code>my ($ref) = @_;\nforeach my $row (0..$#{$ref}) {\n   $val = ${$ref}{$site}[0]{values}[0]{v}; \n   Prt('-O',\"$val\\n\");    etc.. etc...\n</code></pre>\n\n<p>Getting the \"Not an Array error\" I think due to the first item in the JSON being in a { } not [ ]. </p>\n\n<p>What's the simplest way to parse the data?</p>\n"}, {"tags": ["perl", "powershell"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497588269, "post_id": 44580519, "comment_id": 76150147, "body": "Shouldn&#39;t that be <code>use PowerShell;</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497589769, "post_id": 44581086, "comment_id": 76150631, "body": "i got this error <code>Global symbol &quot;$logger&quot; requires explicit package name (did you forget to declare &quot;my $logger&quot;?) at C:&#47;Perl64&#47;lib&#47;PowerShell.pm line 32.</code>"}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497590111, "post_id": 44581086, "comment_id": 76150745, "body": "and also another error was <code>can&#39;t locate PowerShell.pm</code> in the <code>lib</code> folder , but i have put the <code>pl</code> file in the <code>lib</code> folder"}, {"owner": {"reputation": 3451, "user_id": 2150793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJuWf.jpg?s=128&g=1", "display_name": "ClumsyPuffin", "link": "https://stackoverflow.com/users/2150793/clumsypuffin"}, "reply_to_user": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497591412, "post_id": 44581086, "comment_id": 76151203, "body": "@kewin which perl implementation are you using (active state or strawberry)?"}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497591564, "post_id": 44581086, "comment_id": 76151250, "body": "i am using active state"}, {"owner": {"reputation": 3451, "user_id": 2150793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJuWf.jpg?s=128&g=1", "display_name": "ClumsyPuffin", "link": "https://stackoverflow.com/users/2150793/clumsypuffin"}, "reply_to_user": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497591767, "post_id": 44581086, "comment_id": 76151342, "body": "@kewin after running cpan PowerShell . can you check is there powershell.pm in c:\\perl64\\lib else you might need to copy powershell.pm and powershell folder from C:\\Perl64\\cpan\\build\\PowerShell-1.00-&lt;some value&gt;\\lib. the above snippet is working fine for me with activestate so I am guessing a module related issue"}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497592251, "post_id": 44581086, "comment_id": 76151534, "body": "i got it, i had install this <code>Log::Any </code> module  and how can i add an UNC path in the <code>path</code> parameter,say  <code>\\\\host80\\fipt\\os\\tws\\sqwe\\logs\\*\\*\\*  -Filter  &quot;all.jml</code>"}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497593830, "post_id": 44581086, "comment_id": 76152176, "body": "I am able to list all the directories present in the path but when i include the <code>include</code> parameter it returns nothing i also tried <code>[include =&gt; &#39;*&#39;]</code> it doesn&#39;t return anything"}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497593919, "post_id": 44581086, "comment_id": 76152214, "body": "and where did you find the documentation for that"}, {"owner": {"reputation": 3451, "user_id": 2150793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJuWf.jpg?s=128&g=1", "display_name": "ClumsyPuffin", "link": "https://stackoverflow.com/users/2150793/clumsypuffin"}, "reply_to_user": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497594420, "post_id": 44581086, "comment_id": 76152491, "body": "@kewin I couldn&#39;t find much documentation, educated guess :-).can you tell me the file patterns you are looking for? if you want all.jml then [include =&gt; &#39;all.jml&#39;]"}, {"owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497594454, "post_id": 44581086, "comment_id": 76152503, "body": "the include parameter works , is the <code>recurse</code> same as depth"}, {"owner": {"reputation": 3451, "user_id": 2150793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJuWf.jpg?s=128&g=1", "display_name": "ClumsyPuffin", "link": "https://stackoverflow.com/users/2150793/clumsypuffin"}, "reply_to_user": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "edited": false, "score": 0, "creation_date": 1497602459, "post_id": 44581086, "comment_id": 76157065, "body": "@kewin if this helped you , can you accept it as answer as this will help people who will have similar problem"}], "tags": [], "owner": {"reputation": 3451, "user_id": 2150793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJuWf.jpg?s=128&g=1", "display_name": "ClumsyPuffin", "link": "https://stackoverflow.com/users/2150793/clumsypuffin"}, "is_accepted": true, "score": 0, "last_activity_date": 1497603826, "last_edit_date": 1497603826, "creation_date": 1497588849, "answer_id": 44581086, "question_id": 44580519, "link": "https://stackoverflow.com/questions/44580519/perl-unable-to-load-a-module/44581086#44581086", "title": "Perl : Unable to load a module", "body": "<p>I believe you are using wrong parameter for getchilditem (image instead of path) and the module should be changed to PowerShell as @ikegami has mentioned.Can you try this : </p>\n\n<pre><code>use strict;\nuse warnings;\nuse PowerShell;\n\nmy $res ;\n\nmy $command = PowerShell\n-&gt;new('Get-ChildItem', [Path =&gt; '\\\\\\\\10.0.0.1\\\\testshare\\\\'],[include =&gt; '*.txt'],[recurse =&gt; ''])\n-&gt;command();\n my $result = `$command`;\n\nprint($result)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 44581086, "answer_count": 1, "score": 0, "last_activity_date": 1497603826, "creation_date": 1497585181, "question_id": 44580519, "link": "https://stackoverflow.com/questions/44580519/perl-unable-to-load-a-module", "title": "Perl : Unable to load a module", "body": "<p>i am using this <code>PowerShell::Cmdlet</code> module to run powershell commands from a perl script but i keep getting this error ,even though i have placed the module in the <code>lib</code> folder</p>\n\n<blockquote>\n  <p><code>Can't locate object method \"new\" via package \"PowerShell\" at</code></p>\n</blockquote>\n\n<pre><code>use strict;\nuse warnings;\nuse PowerShell::Cmdlet;\n\nmy $res ;\n\nmy $command = PowerShell\n-&gt;new('Get-ChildItem', [Image =&gt; '\\\\host1\\det\\mws\\cm\\seq\\ws\\*\\*\\*'])\n-&gt;command();\n my $result = `$command`;\n</code></pre>\n"}, {"tags": ["arrays", "perl", "server", "hashmap"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1497556442, "post_id": 44575643, "comment_id": 76140583, "body": "Isn&#39;t there documentation for SellerDeck?"}, {"owner": {"reputation": 55, "user_id": 7794436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d0f0a2bfbd25292fdd942cf3550252b?s=128&d=identicon&r=PG&f=1", "display_name": "ag2", "link": "https://stackoverflow.com/users/7794436/ag2"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1497557768, "post_id": 44575643, "comment_id": 76141257, "body": "Unfortunately not. This is an area they do not encourage any changes. The question is really just about converting from the array $pProduct into a string."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1497557849, "post_id": 44575643, "comment_id": 76141299, "body": "Is something preventing you from just encoding the array as JSON or YAML?"}, {"owner": {"reputation": 55, "user_id": 7794436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d0f0a2bfbd25292fdd942cf3550252b?s=128&d=identicon&r=PG&f=1", "display_name": "ag2", "link": "https://stackoverflow.com/users/7794436/ag2"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1497558342, "post_id": 44575643, "comment_id": 76141554, "body": "I am very unfamiliar with Perl. I know coding through Javascript, HTML and VBA. Is it possible you could show me how to do this? Many thanks"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 7794436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d0f0a2bfbd25292fdd942cf3550252b?s=128&d=identicon&r=PG&f=1", "display_name": "ag2", "link": "https://stackoverflow.com/users/7794436/ag2"}, "edited": false, "score": 0, "creation_date": 1497559460, "post_id": 44576673, "comment_id": 76142080, "body": "Hi. Thank you. Sorry to be dumb but I am very unfamiliar with perl. Is it possible you could use my array $pProduct in your example. If the code runs on the server where does the error log go? I am guessing not but; Is there way to use print or alert to display the info in my browser? Sorry again to ask what are probably simple points"}, {"owner": {"reputation": 55, "user_id": 7794436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d0f0a2bfbd25292fdd942cf3550252b?s=128&d=identicon&r=PG&f=1", "display_name": "ag2", "link": "https://stackoverflow.com/users/7794436/ag2"}, "edited": false, "score": 0, "creation_date": 1497559539, "post_id": 44576673, "comment_id": 76142128, "body": "Sorry. I did not fully see the code snippit. This a is a function. So I pass in my array and I get back the string? I guess I pass in the array of hashes and I get my string back in qw?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 55, "user_id": 7794436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d0f0a2bfbd25292fdd942cf3550252b?s=128&d=identicon&r=PG&f=1", "display_name": "ag2", "link": "https://stackoverflow.com/users/7794436/ag2"}, "edited": false, "score": 0, "creation_date": 1497560708, "post_id": 44576673, "comment_id": 76142686, "body": "Re &quot;<i>Is it possible you could use my array $pProduct in your example</i>&quot;, That would be a reference to an array, but yes, <code>my $str = dump($pProduct);</code> /// Re &quot;* If the code runs on the server where does the error log go*&quot;, Check your web server&#39;s docs and config. /// Re &quot;<i>So I pass in my array</i>&quot;, You pass in a scalar, but that includes references to arrays. You get back a string representation of the scalar, deeply."}, {"owner": {"reputation": 55, "user_id": 7794436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d0f0a2bfbd25292fdd942cf3550252b?s=128&d=identicon&r=PG&f=1", "display_name": "ag2", "link": "https://stackoverflow.com/users/7794436/ag2"}, "edited": false, "score": 0, "creation_date": 1497564610, "post_id": 44576673, "comment_id": 76144360, "body": "Thank you so much for the explanation. I will try it and see. I know this is another dumb question but is the line use Data::Dumper qw( ); required. I guess not as the call is : my $str = dump($pProduct); but as I am new to perl I thought I should check?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 55, "user_id": 7794436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d0f0a2bfbd25292fdd942cf3550252b?s=128&d=identicon&r=PG&f=1", "display_name": "ag2", "link": "https://stackoverflow.com/users/7794436/ag2"}, "edited": false, "score": 0, "creation_date": 1497564735, "post_id": 44576673, "comment_id": 76144394, "body": "Yes, loading the module used by <code>dumper()</code> is necessary. And sorry, I meant <code>dumper()</code>, not <code>dump()</code> (which is the name of a builtin operator that does something very different)."}, {"owner": {"reputation": 55, "user_id": 7794436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d0f0a2bfbd25292fdd942cf3550252b?s=128&d=identicon&r=PG&f=1", "display_name": "ag2", "link": "https://stackoverflow.com/users/7794436/ag2"}, "edited": false, "score": 0, "creation_date": 1497564889, "post_id": 44576673, "comment_id": 76144434, "body": "Ok. Thank you. I guess i am a bit unclear where the line:{use Data::Dumper qw( );} goes ? Is this in my calling function or outside both functions?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 55, "user_id": 7794436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d0f0a2bfbd25292fdd942cf3550252b?s=128&d=identicon&r=PG&f=1", "display_name": "ag2", "link": "https://stackoverflow.com/users/7794436/ag2"}, "edited": false, "score": 0, "creation_date": 1497565132, "post_id": 44576673, "comment_id": 76144512, "body": "It&#39;ll work pretty much anywhere, but one typically places them near the top (after the <code>use strict; use warnings qw( all );</code>)."}, {"owner": {"reputation": 55, "user_id": 7794436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d0f0a2bfbd25292fdd942cf3550252b?s=128&d=identicon&r=PG&f=1", "display_name": "ag2", "link": "https://stackoverflow.com/users/7794436/ag2"}, "edited": false, "score": 0, "creation_date": 1497565165, "post_id": 44576673, "comment_id": 76144528, "body": "Great. Thank you. Just uploading the code now. Will let you know how I get on. Many thanks again."}, {"owner": {"reputation": 55, "user_id": 7794436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d0f0a2bfbd25292fdd942cf3550252b?s=128&d=identicon&r=PG&f=1", "display_name": "ag2", "link": "https://stackoverflow.com/users/7794436/ag2"}, "edited": false, "score": 0, "creation_date": 1497565691, "post_id": 44576673, "comment_id": 76144715, "body": "It is bringing back everything :) Is it possible to ask for a slight enhancement. I now need to interpret the data. It is my first time looking inside a hash array so again I am sure I am being dumb. It would help to have a fix character between each element in the array so I can see the break. It would help even more to be able to see the identifiers being used for the groups of data in the hash. Are either of these 2 things possible? Thank you so much"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 55, "user_id": 7794436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d0f0a2bfbd25292fdd942cf3550252b?s=128&d=identicon&r=PG&f=1", "display_name": "ag2", "link": "https://stackoverflow.com/users/7794436/ag2"}, "edited": false, "score": 0, "creation_date": 1497565843, "post_id": 44576673, "comment_id": 76144787, "body": "If it&#39;s being sent to the log file, you can get more readable output by removing the <code>Indent</code> and <code>Terse</code> lines. As for identifiers, I don&#39;t know what you mean. All of the data in the data structure is output, so it sounds like you&#39;re asking to output something that doesn&#39;t exist."}, {"owner": {"reputation": 55, "user_id": 7794436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d0f0a2bfbd25292fdd942cf3550252b?s=128&d=identicon&r=PG&f=1", "display_name": "ag2", "link": "https://stackoverflow.com/users/7794436/ag2"}, "edited": false, "score": 0, "creation_date": 1497566613, "post_id": 44576673, "comment_id": 76145065, "body": "I am putting it into a cookie and inspecting it in Chrome. It I had understood that you can find elements in the array using for e.g. $pCartItem-&gt;{&#39;PRODUCT_REFERENCE&#39;} which brings back a number that equals product reference. I can see this in the cookie : %3bPRODUCT_REFERENCE%26quot%3b%20%3d%26gt%3b%207372%2c. In readable form it is ;PRODUCT_REFERENCE&amp;quot; =&amp;gt; 7372,. In this case it brings back the value 7372. So I was hoping to be able to see what other structured data I can bring back using a different identifier using $pCartItem-&gt;{&#39;DIFFERENT IDENTIFIER&#39;}. I hope I am making some sense?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 55, "user_id": 7794436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d0f0a2bfbd25292fdd942cf3550252b?s=128&d=identicon&r=PG&f=1", "display_name": "ag2", "link": "https://stackoverflow.com/users/7794436/ag2"}, "edited": false, "score": 3, "creation_date": 1497572477, "post_id": 44576673, "comment_id": 76146612, "body": "If you want to see what&#39;s in the hash referenced by <code>$pCartItem</code>, dump <code>$pCartItem</code> instead of <code>$pCartItem-&gt;{&#39;PRODUCT_REFERENCE&#39;}</code>!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1497561084, "last_edit_date": 1497561084, "creation_date": 1497559246, "answer_id": 44576673, "question_id": 44575643, "link": "https://stackoverflow.com/questions/44575643/finding-out-what-is-in-an-array-of-hash-on-a-server/44576673#44576673", "title": "Finding out what is in an array of Hash (on a server)", "body": "<p>To get a dump of a data structure, you can use <a href=\"http://search.cpan.org/perldoc?Data::Dumper\" rel=\"nofollow noreferrer\">Data::Dumper</a>.</p>\n\n<p>I'd use it as follows:</p>\n\n<pre><code>use Data::Dumper qw( );\n\nsub dumper {\n   local $Data::Dumper::Indent   = 0;\n   local $Data::Dumper::Sortkeys = 1;\n   local $Data::Dumper::Terse    = 1;\n   local $Data::Dumper::Useqq    = 1;\n   return Data::Dumper::Dumper($_[0]);\n}\n\nwarn(\"pProduct: \" . dumper($pProduct));\n</code></pre>\n\n<p>This will log it the string produced to the web server's error log, but you could also return it in a cookie if that's what you really want.</p>\n"}], "owner": {"reputation": 55, "user_id": 7794436, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d0f0a2bfbd25292fdd942cf3550252b?s=128&d=identicon&r=PG&f=1", "display_name": "ag2", "link": "https://stackoverflow.com/users/7794436/ag2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 44576673, "answer_count": 1, "score": 0, "last_activity_date": 1497561084, "creation_date": 1497555530, "question_id": 44575643, "link": "https://stackoverflow.com/questions/44575643/finding-out-what-is-in-an-array-of-hash-on-a-server", "title": "Finding out what is in an array of Hash (on a server)", "body": "<p>I am using a 3rd party shopping cart solution that runs on a server (SellerDeck). I have some code that runs on the server to format a shopping basket with basic product data (quantity, price, name). I need to find some more data which I think is held in 2 arrays of hashes. I dont know what is contained in these 2 arrays so I would like to convert the array to a string and output via the existing code that puts it in a cookie on the client which I can then view. The 2 arrays are $pCartItem and $pProduct (see code at the bottom for how they are used). </p>\n\n<p>The string $cartStr (bottom of the code) is output onto the client in a cookie by another part of the code.</p>\n\n<p>I would like to covert the 2 arrays into 2 strings which can be concatenated onto $cartStr. I can then read the contents on my local pc (client). My issue is I am very unfamiliar with perl and know how to do the conversion. </p>\n\n<p>I tried adding :</p>\n\n<pre><code> my $MiniCrtS=\" \";\nmy $MiniCartElmt;\nforeach $MiniCartElmt (@{$pProduct}) {\n   $MiniCrtS=$MiniCrtS . $MiniCartElmt;\n}\n</code></pre>\n\n<p>and then changed the $cartStr from:</p>\n\n<pre><code>HTML::Entities::encode(substr($pProduct-&gt;{'NAME'},0,$abrv)) \n</code></pre>\n\n<p>to:</p>\n\n<pre><code>HTML::Entities::encode(substr($MiniCrtS,0,$abrv))\n</code></pre>\n\n<p>but this change makes the code crash when run. </p>\n\n<p>Any ideas on what I am doing wrong or an alternative to find out the data in the arrays? </p>\n\n<p>Many thanks Tony</p>\n\n<p>The relevant code is:</p>\n\n<pre><code>sub miniCart\n    {\n    use HTML::Entities ();\n    my $Self = shift;\n\n    my $abrv=12;                                    # number of characters to abbreviate item name\n    my $defaultCur=\"\u00a3\";                             # currency symbol to include\n\n    my $cartStr=\"ss=\" . $::g_sSearchScript . \"cur=\" . $defaultCur;\n    my $pCartItem;\n    foreach $pCartItem (@{$Self-&gt;{_CartList}})\n        {\n        my ($Status, $Message, $pProduct) = GetProduct($pCartItem-&gt;{'PRODUCT_REFERENCE'}, $pCartItem-&gt;{'SID'});\n        if ($Status == $::FAILURE)\n            {\n            return ($Status, $Message, []);\n            }\n        elsif ($Status == $::NOTFOUND)\n            {\n            next;\n            }\n        my @Prices = $Self-&gt;GetCartItemPrice($pCartItem);\n        $cartStr=$cartStr . \"&amp;!\" . $pCartItem-&gt;{'QUANTITY'} . \"x\" . HTML::Entities::encode($pCartItem-&gt;{'PRODUCT_REFERENCE'}) . \"&gt;\" . HTML::Entities::encode(substr($pProduct-&gt;{'NAME'},0,$abrv)) . \"&gt;\" . $Prices[2]/100;\n        }\n    return $cartStr;\n    }\n</code></pre>\n"}, {"tags": ["perl", "file-upload", "mojolicious", "mojolicious-lite"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1497555618, "post_id": 44574566, "comment_id": 76140078, "body": "Is there another server that wraps your Mojolicious app? That server may have a request size cap, which you may or may not be able to change. <a href=\"https://www.cyberciti.biz/faq/linux-unix-bsd-nginx-413-request-entity-too-large/\" rel=\"nofollow noreferrer\">Here&#39;s an example for nginx</a>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1497556238, "post_id": 44574566, "comment_id": 76140460, "body": "How many 4.99 GB uploads can your server handle?"}, {"owner": {"reputation": 93, "user_id": 1597452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c097128926ef93de87494660e3fa68?s=128&d=identicon&r=PG", "display_name": "user1597452", "link": "https://stackoverflow.com/users/1597452/user1597452"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1497600641, "post_id": 44574566, "comment_id": 76155946, "body": "@mob Thanks for the hint there- it seems mojo can use a server called hypnotoad, although I&#39;m not sure if that&#39;s been initialised in my case as other instances where I see people using it, it seems to have been declared specifically.  I will explore this- thanks."}, {"owner": {"reputation": 93, "user_id": 1597452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c097128926ef93de87494660e3fa68?s=128&d=identicon&r=PG", "display_name": "user1597452", "link": "https://stackoverflow.com/users/1597452/user1597452"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1497601636, "post_id": 44574566, "comment_id": 76156556, "body": "@mob my mistake- the server I&#39;m using that wraps around it is called Morbo... that should have been obvious to me!"}, {"owner": {"reputation": 93, "user_id": 1597452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c097128926ef93de87494660e3fa68?s=128&d=identicon&r=PG", "display_name": "user1597452", "link": "https://stackoverflow.com/users/1597452/user1597452"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1497602896, "post_id": 44574566, "comment_id": 76157353, "body": "@Sinan&#220;n&#252;r actually... uploading a single file of &gt; 5gb went ok.... leaving me even more confused!"}, {"owner": {"reputation": 93, "user_id": 1597452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c097128926ef93de87494660e3fa68?s=128&d=identicon&r=PG", "display_name": "user1597452", "link": "https://stackoverflow.com/users/1597452/user1597452"}, "edited": false, "score": 1, "creation_date": 1497604581, "post_id": 44574566, "comment_id": 76158493, "body": "By way of update, I have now discovered that it is not a file size issue but an issue with the number of files- I can upload 949 1 byte files, but not 950"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1497612195, "post_id": 44574566, "comment_id": 76163621, "body": "That seems to be a file descriptor limit issue then."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 0, "creation_date": 1497613540, "post_id": 44574566, "comment_id": 76164466, "body": "@user1597452 edited accordingly"}, {"owner": {"reputation": 93, "user_id": 1597452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c097128926ef93de87494660e3fa68?s=128&d=identicon&r=PG", "display_name": "user1597452", "link": "https://stackoverflow.com/users/1597452/user1597452"}, "edited": false, "score": 1, "creation_date": 1497620107, "post_id": 44574566, "comment_id": 76168775, "body": "Thanks for the pointer @Sinan&#220;n&#252;r- it turned out that it wasn&#39;t actually to do with mojolicious-  I had to increase the number of open file descriptors per process! I have resolved this- thanks for the pointers!"}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1497622547, "creation_date": 1497622547, "answer_id": 44591531, "question_id": 44574566, "link": "https://stackoverflow.com/questions/44574566/multiple-file-upload-with-mojolicious-fails-on-large-number-of-files/44591531#44591531", "title": "Multiple file upload with mojolicious fails on large number of files", "body": "<blockquote>\n  <p>If I attempt to upload 949 files, my array <code>@fileNames</code> is populated correctly, but if I try to upload 950 files, my array ends up empty, and it seems as though <code>$files</code> is empty also.</p>\n</blockquote>\n\n<p>That means the process is running out of file descriptors. In particular, the default for the Linux kernel is <a href=\"https://serverfault.com/a/485277/6832\">1024</a>:</p>\n\n<blockquote>\n  <p>For example, the kernel default for maximum number of file descriptors (<code>ulimit -n</code>) was <code>1024/1024</code> (soft, hard), and has been raised to <code>1024/4096</code> in Linux 2.6.39.</p>\n</blockquote>\n"}], "owner": {"reputation": 93, "user_id": 1597452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c097128926ef93de87494660e3fa68?s=128&d=identicon&r=PG", "display_name": "user1597452", "link": "https://stackoverflow.com/users/1597452/user1597452"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 44591531, "answer_count": 1, "score": 2, "last_activity_date": 1497622547, "creation_date": 1497551649, "last_edit_date": 1497613526, "question_id": 44574566, "link": "https://stackoverflow.com/questions/44574566/multiple-file-upload-with-mojolicious-fails-on-large-number-of-files", "title": "Multiple file upload with mojolicious fails on large number of files", "body": "<p>I've hit a wall and my google skills have this time failed me.  I'm in the process of learning mojolicious to create a useful front end for a series of Perl scripts that I frequently use.  I've got a long way through it but I'm stumped at (multiple) file uploads when the total number of files reaches 950.  </p>\n\n<p>Previously, I encountered the problem where- in multiple file uploads- files would begin to be uploaded, but once the filesize reached 16 mb the upload stopped.  I fixed this by setting $ENV{MOJO_MAX_MESSAGE_SIZE} = 50000000000.  However, this problem is different.  To illustrate, this is part of my script where I try to grab the uploaded files:</p>\n\n<pre><code>my $files = $self-&gt;req-&gt;every_upload('localfiles');\nfor my $file ( @{$files} ) {\n    my $fileName = $file-&gt;filename =~ s/[^\\w\\d\\.]+/_/gr;\n    $file-&gt;move_to(\"temporary_uploads/$fileName\");\n    $self-&gt;app-&gt;log-&gt;debug(\"$fileName uploaded\\n\");\n    push @fileNames, $fileName;\n};\nsay \"FILES: \".scalar(@fileNames);\n</code></pre>\n\n<p>I apologise that it may be ugly. If I attempt to upload 949 files, my array @fileNames is populated correctly, but if I try to upload 950 files, my array ends up empty, and it seems as though $files is empty also.  If anyone has any ideas or pointers to guide me to the solution I would be extremely grateful!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 25, "user_id": 6487131, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-qVTLVnYjekw/AAAAAAAAAAI/AAAAAAAAAHE/orVoYV4sheQ/photo.jpg?sz=128", "display_name": "Ferry Gideon", "link": "https://stackoverflow.com/users/6487131/ferry-gideon"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1497545966, "post_id": 44572960, "comment_id": 76134775, "body": "oh i see, in that case, i will check $param2 for example if($param2 == 1) like that"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1497548105, "post_id": 44572960, "comment_id": 76135961, "body": "It won&#39;t be OK, because you&#39;ll get a warning about using an uninitialized value in a comparison. It could be OK if you modify your code."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 6487131, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-qVTLVnYjekw/AAAAAAAAAAI/AAAAAAAAAHE/orVoYV4sheQ/photo.jpg?sz=128", "display_name": "Ferry Gideon", "link": "https://stackoverflow.com/users/6487131/ferry-gideon"}, "edited": false, "score": 0, "creation_date": 1497547212, "post_id": 44573074, "comment_id": 76135495, "body": "so its better to define param2 right? oh sorry in my case i ignore the prototype i forgot about it. :D"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 25, "user_id": 6487131, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-qVTLVnYjekw/AAAAAAAAAAI/AAAAAAAAAHE/orVoYV4sheQ/photo.jpg?sz=128", "display_name": "Ferry Gideon", "link": "https://stackoverflow.com/users/6487131/ferry-gideon"}, "edited": false, "score": 1, "creation_date": 1497547599, "post_id": 44573074, "comment_id": 76135680, "body": "Re &quot;<i>so its better to define param2 right?</i>&quot;, That&#39;s nowhere near what I said."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1497546139, "creation_date": 1497546139, "answer_id": 44573074, "question_id": 44572960, "link": "https://stackoverflow.com/questions/44572960/is-it-ok-if-function-in-perl-called-without-full-parameter/44573074#44573074", "title": "Is it ok if function in perl called without full parameter?", "body": "<p><code>$param2</code> will end up being <code>undef</code>. If that's fine, then yes, it's fine.</p>\n\n<p>In the case you presented, however, it's not fine. <code>my_function</code> as written will warn if you don't provide a value for <code>$param2</code>. Removing the checks for equality you shouldn't even have in the first place (as follows) fixes that problem.</p>\n\n<pre><code>sub my_function {\n    my ($param1, $param2) = @_;\n\n    if ($param1) {\n       #do 1\n    }\n\n    if ($param2){\n       #do 2\n    }\n}\n</code></pre>\n\n<p>Finally, why do you tell Perl to ignore <code>my_function</code>'s prototype (by using <code>&amp;</code>) when it has no prototype? Get rid of that!</p>\n\n<pre><code>my_function($param1);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 6487131, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-qVTLVnYjekw/AAAAAAAAAAI/AAAAAAAAAHE/orVoYV4sheQ/photo.jpg?sz=128", "display_name": "Ferry Gideon", "link": "https://stackoverflow.com/users/6487131/ferry-gideon"}, "edited": false, "score": 0, "creation_date": 1497547392, "post_id": 44573139, "comment_id": 76135582, "body": "if i just check $y is undef or not is it will be ok?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 25, "user_id": 6487131, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-qVTLVnYjekw/AAAAAAAAAAI/AAAAAAAAAHE/orVoYV4sheQ/photo.jpg?sz=128", "display_name": "Ferry Gideon", "link": "https://stackoverflow.com/users/6487131/ferry-gideon"}, "edited": false, "score": 0, "creation_date": 1497549469, "post_id": 44573139, "comment_id": 76136723, "body": "@FerryGideon Yes... <code>if (defined $param2){...</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497549912, "post_id": 44573139, "comment_id": 76136967, "body": "Since <code>$param2</code> is boolean here, <code>if ($param2)</code> would be more appropriate than <code>if (defined $param2)</code>, as I previously mentioned."}], "tags": [], "owner": {"reputation": 5543, "user_id": 6372809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O11k5.jpg?s=128&g=1", "display_name": "ilkkachu", "link": "https://stackoverflow.com/users/6372809/ilkkachu"}, "is_accepted": true, "score": 3, "last_activity_date": 1497546357, "creation_date": 1497546357, "answer_id": 44573139, "question_id": 44572960, "link": "https://stackoverflow.com/questions/44572960/is-it-ok-if-function-in-perl-called-without-full-parameter/44573139#44573139", "title": "Is it ok if function in perl called without full parameter?", "body": "<p>If you pass only one argument, <code>@_</code>, only contains one value. So <code>$param2</code> will be assigned the undefined value. Whether that's okay or not, depends on what the function is doing. </p>\n\n<p>The test below shows one argument, <code>123</code> and <code>(undef)</code>:</p>\n\n<pre><code>sub test {\n    my ($x, $y) = @_;\n    printf(\"number of args: %d\\n\", int @_);\n    printf(\"x: %s\\n\", $x // \"(undef)\");\n    printf(\"y: %s\\n\", $y // \"(undef)\");\n}\ntest(123);\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 6487131, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-qVTLVnYjekw/AAAAAAAAAAI/AAAAAAAAAHE/orVoYV4sheQ/photo.jpg?sz=128", "display_name": "Ferry Gideon", "link": "https://stackoverflow.com/users/6487131/ferry-gideon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 44573139, "answer_count": 2, "score": 0, "last_activity_date": 1497546357, "creation_date": 1497545679, "last_edit_date": 1497546099, "question_id": 44572960, "link": "https://stackoverflow.com/questions/44572960/is-it-ok-if-function-in-perl-called-without-full-parameter", "title": "Is it ok if function in perl called without full parameter?", "body": "<p>I have some function in perl like this,</p>\n\n<pre><code>sub my_function{\n    my ($param1, $param2) = @_;\n    #do something here\n\n    if($param1==1){\n       #do 1\n    }\n    if($param2==1){\n       #do 2\n    }\n}\n</code></pre>\n\n<p>is it ok if i call the function without full parameter like this?</p>\n\n<pre><code>&amp;my_function($param1);\n</code></pre>\n"}, {"tags": ["regex", "string", "perl"], "answers": [{"tags": [], "owner": {"reputation": 17784, "user_id": 1646322, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d9fd7a75e0d8ace7bb3276476786c2c0?s=128&d=identicon&r=PG", "display_name": "Ruslan Osmanov", "link": "https://stackoverflow.com/users/1646322/ruslan-osmanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1497627070, "last_edit_date": 1497627070, "creation_date": 1497542459, "answer_id": 44572078, "question_id": 44571930, "link": "https://stackoverflow.com/questions/44571930/perl-extract-float-number-from-within-a-string-of-text-using-regex/44572078#44572078", "title": "Perl Extract float number from within a string of text using regex", "body": "<p>You can extract the number using a regular expression and print it using <a href=\"http://perldoc.perl.org/functions/printf.html\" rel=\"nofollow noreferrer\"><code>printf</code></a> as follows:</p>\n\n<pre><code>my ( $number ) = ( $str =~ /(\\d+(?:\\.\\d+)?)/ );\nprintf \"%.2f\", $number;\n</code></pre>\n\n<p>The code above is simplified for clarity. You should also handle the case when the pattern does not match (no numbers), e.g.:</p>\n\n<pre><code>$number = 0 unless defined $number;\n</code></pre>\n\n<p>Adjust the regular expression according to your needs, unless you want to handle all possible representations of a floating point number.</p>\n\n<p><sub>If you really want to handle all possible inputs, then use a library as Dave Cross suggested. But since <em>\"Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow...\"</em>, I won't suggest any library. Besides, it looks like you are simply learning Perl and willing to learn how stuff is actually done using the Perl regular expressions. So I suggest you to go on, read <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\"><code>perlre</code></a>, and then consider whether you really need a library.</sub></p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 7, "last_activity_date": 1497597874, "last_edit_date": 1497597874, "creation_date": 1497542508, "answer_id": 44572098, "question_id": 44571930, "link": "https://stackoverflow.com/questions/44571930/perl-extract-float-number-from-within-a-string-of-text-using-regex/44572098#44572098", "title": "Perl Extract float number from within a string of text using regex", "body": "<p>There are two steps to this:</p>\n\n<ol>\n<li>Extracting the floating point numbers from your string</li>\n<li>Converting those numbers to your required precision</li>\n</ol>\n\n<p>Step 1 is harder than you might think, so I recommend using a ready-made regex (like the one I've used here from <a href=\"https://metacpan.org/pod/Regexp::Common\" rel=\"nofollow noreferrer\"><code>Regexp::Common</code></a>).</p>\n\n<pre><code>use Regexp::Common;\n\nmy @floats = $string =~ /($RE{num}{real})/g;\n</code></pre>\n\n<p>Then you can use <code>sprintf()</code> or <code>printf()</code> to change the precision.</p>\n\n<pre><code>printf \"%0.2f\\n\" for @floats;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497543932, "post_id": 44572110, "comment_id": 76133693, "body": "There&#39;s no need to &quot;match what you don&#39;t need&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497544079, "post_id": 44572110, "comment_id": 76133763, "body": "In <code>(?:\\.\\d{0,2})?|\\.\\d{1,2})</code> the second alternation will never match because it will always have been matched by the first."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1497544200, "post_id": 44572110, "comment_id": 76133829, "body": "@Borodin - <code>There&#39;s no need to &quot;match what you don&#39;t need&quot;</code> could you clarify that statement ?  <code>(?:\\.\\d{0,2})?|\\.\\d{1,2})</code> where did you get this regex from ??"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1497544785, "post_id": 44572110, "comment_id": 76134145, "body": "@Borodin - Let me help you <code>(?: \\. \\d{0,2} )?  |  \\. \\d{1,2} =    )  &lt;-- Unbalanced  &#39;)&#39;</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1497633117, "last_edit_date": 1497633117, "creation_date": 1497542534, "answer_id": 44572110, "question_id": 44571930, "link": "https://stackoverflow.com/questions/44571930/perl-extract-float-number-from-within-a-string-of-text-using-regex/44572110#44572110", "title": "Perl Extract float number from within a string of text using regex", "body": "<p>A bare numeric parse is simply this <code>(?:\\d+(?:\\.\\d*)?|\\.\\d+)</code>   </p>\n\n<p>To modify it to accept 0-2 decimal places it would be  </p>\n\n<p><a href=\"https://regex101.com/r/n3gAFC/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/n3gAFC/1</a></p>\n\n<p><code>(?:\\d+(?:\\.\\d{0,2})?|\\.\\d{1,2})</code></p>\n\n<p>Expanded  </p>\n\n<pre><code> (?:\n      \\d+ \n      (?: \\. \\d{0,2} )?\n   |  \\. \\d{1,2} \n )\n</code></pre>\n\n<p>Note there is no boundary specification for this.<br>\nSo, it has to be modified to be used globally.   </p>\n\n<p>Generally, you can just add a <code>\\d*</code> after the regex and include a capture<br>\ngroup.<br>\nThis will capture what you need, <em>and</em> match what you don't need thereby<br>\nprogressing the match position for the next number.   </p>\n\n<p><code>(\\d+(?:\\.\\d{0,2})?|\\.\\d{1,2})\\d*</code>  </p>\n\n<p><em><strong>Usage</strong></em></p>\n\n<p>If you only want to change pre-existing float strings,<br>\nyou can change the regex to require a decimal point.<br>\nIt's the same as the general at the top, remove the option<br>\non it's cluster group will not match digits only.  </p>\n\n<p>This <code>(\\d+(?:\\.\\d*)|\\.\\d+)</code>  </p>\n\n<p>If you use this, you can take advantage of <em>sprint()</em> in the substitute form.<br>\nThis will do it all at once without having to extract, re-assemble or otherwise<br>\ntrash the existing string.  </p>\n\n<p>You have many options to choose from, this is just one.  </p>\n\n<p>Perl  </p>\n\n<pre><code> use strict;\n use warnings;\n\n my $str = \"process.pl: process 3 workflow took .0 days, 2.41153311729431 secs, 2411.53311729431 ms, 2411533.11729431 us.\";\n\n # To print without modify the string\n print $str =~ s/(\\d+(?:\\.\\d*)|\\.\\d+)/sprintf(\"%0.2f\",$1)/erg, \"\\n\";\n\n # Or, print and modify the string at the same time\n print $str = $str =~ s/(\\d+(?:\\.\\d*)|\\.\\d+)/sprintf(\"%0.2f\",$1)/erg, \"\\n\";\n</code></pre>\n\n<p>Output  </p>\n\n<pre><code> process.pl: process 3 workflow took 0.00 days, 2.41 secs, 2411.53 ms, 2411533.12 us.\n process.pl: process 3 workflow took 0.00 days, 2.41 secs, 2411.53 ms, 2411533.12 us.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1497623934, "post_id": 44576656, "comment_id": 76171599, "body": "<code>(split &#39; &#39;, $str)[4]</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1497637420, "post_id": 44576656, "comment_id": 76179421, "body": "@Sinan&#220;n&#252;r: Better still <code>(split &#39; &#39;, $str, 6)[4]</code>. The last I heard, perl optimises <code>my (undef, undef, undef, $f4) = split &#39; &#39;, $str</code> but the equivalent list slice isn&#39;t improved."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1497637557, "post_id": 44576656, "comment_id": 76179495, "body": "@kybof: It was <a href=\"https://stackoverflow.com/a/44572098/622310\"><b>Dave Cross</b> who suggested that</a>, not me."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1497637815, "post_id": 44576656, "comment_id": 76179641, "body": "@kybof: <a href=\"https://stackoverflow.com/questions/44571930/perl-extract-float-number-from-within-a-string-of-text-using-regex#comment76171599_44576656\"><b>Sinan&#220;n&#252;r</b> meant what he wrote</a> <code>(split &#39; &#39;, $str)[4]</code> is correct; <code>(split &#47; &#47;, $str)[4]</code> is not."}], "tags": [], "owner": {"reputation": 79, "user_id": 8132476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mZVxv.gif?s=128&g=1", "display_name": "ky bof", "link": "https://stackoverflow.com/users/8132476/ky-bof"}, "is_accepted": false, "score": -1, "last_activity_date": 1498247381, "last_edit_date": 1498247381, "creation_date": 1497559190, "answer_id": 44576656, "question_id": 44571930, "link": "https://stackoverflow.com/questions/44571930/perl-extract-float-number-from-within-a-string-of-text-using-regex/44576656#44576656", "title": "Perl Extract float number from within a string of text using regex", "body": "<ol>\n<li>Like Brodin indicated a/ extract the field then b/ present it properly. If the output is consistent, I'd just split\nit:</li>\n</ol>\n\n<blockquote>\n<pre><code>$procTime=split(' ',$str)[4]; # extract ... Thx to Sinan for improving this\nprintf \"process time: %7.2f\\n\", $procTime; # present\n</code></pre>\n</blockquote>\n\n<ol start=\"2\">\n<li>Fix the root of the problem! Change the original output to produce 2-decimal\npoint. You would not have to do extra work of extracting &amp; presenting it properly</li>\n</ol>\n"}], "owner": {"reputation": 347, "user_id": 1929915, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/432279a6b42c15cec5878ab2a27aa59e?s=128&d=identicon&r=PG", "display_name": "SC-SL", "link": "https://stackoverflow.com/users/1929915/sc-sl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1416, "favorite_count": 1, "answer_count": 4, "score": -1, "last_activity_date": 1498247381, "creation_date": 1497541980, "question_id": 44571930, "link": "https://stackoverflow.com/questions/44571930/perl-extract-float-number-from-within-a-string-of-text-using-regex", "title": "Perl Extract float number from within a string of text using regex", "body": "<p>Although seems simple - I did not a good example of perl code using regex which extracts float out of a (any) string like the following:</p>\n\n<pre><code>my $str = \"process.pl: process workflow took 2.41153311729431 seconds.\";\nmy $processTime = parseFloatFromString($str);\nprint \"$processTime\\n\";\n\nand gives 2.41\n</code></pre>\n\n<p>I would like to extract a less precise value - say with 2 decimal points.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1497539835, "post_id": 44570474, "comment_id": 76131159, "body": "What if you have three attempts, and #1 and #2 agree, and #2 and #3 agree (but #1 and #3 does not agree). What event should then attempt #2 belong to?"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1497540243, "post_id": 44570474, "comment_id": 76131466, "body": "Good question. That would suggest to me that they should be grouped, and I would then want to expand my window (e.g. to +/- 10) to allow for this"}], "answers": [{"comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1497542634, "post_id": 44571361, "comment_id": 76133005, "body": "This works brilliantly. Could you explain what <code>unless (@{ $events[-1] }) </code> is doing?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 1, "creation_date": 1497545960, "post_id": 44571361, "comment_id": 76134774, "body": "@fugu Streamlined code a little to get rid of that check. In principle, you should also check if reading the header and the first line of data succeeded, but I am guessing the input is somewhat under your control."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 4, "last_activity_date": 1497625208, "last_edit_date": 1497625208, "creation_date": 1497540221, "answer_id": 44571361, "question_id": 44570474, "link": "https://stackoverflow.com/questions/44570474/group-hash-keys-contained-within-range-of-numbers/44571361#44571361", "title": "Group hash keys contained within range of numbers", "body": "<p>The below defines each equivalence class by the last entry added to the equivalence class (based on my understanding of your comment above):</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nrun(\\*DATA);\n\nsub run {\n    my $fh = shift;\n    my @header = split ' ', scalar &lt;$fh&gt;;\n\n    my @events = ([ get_next_event($fh, \\@header)]);\n\n    while (my $event = get_next_event($fh, \\@header)) {\n        # change the -1 in the second subscript to 0\n        # if you want to always compare to the first\n        # event added to the equivalence class\n        if (same_event($events[-1][-1], $event, 5)) {\n            push @{ $events[-1] }, $event;\n            next;\n        }\n\n        push @events, [ $event ];\n    }\n\n    print join(\"\\t\", event =&gt; @header), \"\\n\";\n    for my $i (1 .. @events) {\n        for my $ev (@{ $events[$i - 1] }) {\n            print join(\"\\t\", $i, @{$ev}{@header}), \"\\n\";\n        }\n    }\n}\n\nsub get_next_event {\n    my $fh = shift;\n    my $header = shift;\n    return unless defined(my $line = &lt;$fh&gt;);\n    return unless $line =~ /\\S/;\n\n    my %event;\n    @event{ @$header } = split ' ', $line;\n    return \\%event;\n}\n\nsub same_event {\n    my ($x, $y, $threshold) = @_;\n\n    return if $x-&gt;{chromosome1} ne $y-&gt;{chromosome1};\n    return if abs($x-&gt;{bp1} - $y-&gt;{bp1}) &gt; $threshold;\n    return if abs($x-&gt;{bp2} - $y-&gt;{bp2}) &gt; $threshold;\n    return 1;\n}\n\n__DATA__\nsource  chromosome1 bp1 chromosome2 bp2\nattempt1    2L  5890205 2L  5890720\nattempt2    2L  5890205 2L  5890721\nattempt1    2L  22220720    2L  22255744\nattempt1    3L  15568694    3L  15568866\nattempt3    3R  14006279    3R  14008254\nattempt1    3R  14006281    3R  14008253\nattempt2    3R  14006282    3R  14008254\nattempt3    3R  14006286    3R  14008254\nattempt1    3R  32060908    3R  32061196\nattempt1    3R  32066206    3R  32068392\nattempt3    3R  32066206    3R  32068392\nattempt2    3R  32066207    3R  32068393\nattempt2    X   4574312 X   4576608\nattempt1    X   4574313 X   4576607\nattempt3    X   4574313 X   4576608\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>event   source  chromosome1 bp1 chromosome2 bp2\n1   attempt1    2L  5890205 2L  5890720\n1   attempt2    2L  5890205 2L  5890721\n2   attempt1    2L  22220720    2L  22255744\n3   attempt1    3L  15568694    3L  15568866\n4   attempt3    3R  14006279    3R  14008254\n4   attempt1    3R  14006281    3R  14008253\n4   attempt2    3R  14006282    3R  14008254\n4   attempt3    3R  14006286    3R  14008254\n5   attempt1    3R  32060908    3R  32061196\n6   attempt1    3R  32066206    3R  32068392\n6   attempt3    3R  32066206    3R  32068392\n6   attempt2    3R  32066207    3R  32068393\n7   attempt2    X   4574312 X   4576608\n7   attempt1    X   4574313 X   4576607\n7   attempt3    X   4574313 X   4576608\n</code></pre>\n"}], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 44571361, "answer_count": 1, "score": 3, "last_activity_date": 1497625208, "creation_date": 1497537812, "last_edit_date": 1497555851, "question_id": 44570474, "link": "https://stackoverflow.com/questions/44570474/group-hash-keys-contained-within-range-of-numbers", "title": "Group hash keys contained within range of numbers", "body": "<p>I have a dataset of the combined attempts of several different approaches \n(<code>approaches 1 to 3</code>) to identify positions in a genome:</p>\n\n<pre><code>source  chromosome1 bp1 chromosome2 bp2\nattempt1    2L  5890205 2L  5890720\nattempt2    2L  5890205 2L  5890721\nattempt1    2L  22220720    2L  22255744\nattempt1    3L  15568694    3L  15568866\nattempt3    3R  14006279    3R  14008254\nattempt1    3R  14006281    3R  14008253\nattempt2    3R  14006282    3R  14008254\nattempt3    3R  14006286    3R  14008254\nattempt1    3R  32060908    3R  32061196\nattempt1    3R  32066206    3R  32068392\nattempt3    3R  32066206    3R  32068392\nattempt2    3R  32066207    3R  32068393\nattempt2    X   4574312 X   4576608\nattempt1    X   4574313 X   4576607\nattempt3    X   4574313 X   4576608\n</code></pre>\n\n<p>I want to find and group positions that each attempt has identified, allowing a bit of room for error. For example, I would like to class the first two lines...</p>\n\n<pre><code>source  chromosome1 bp1 chromosome2 bp2\nattempt1    2L  5890205 2L  5890720\nattempt2    2L  5890205 2L  5890721\n</code></pre>\n\n<p>...as a single event (<code>event 1</code>), that has been identified by two different attempts (<code>attempt1</code> and <code>attempt2</code>). I want to class such instances as single events only if different attempts:</p>\n\n<ul>\n<li>Agree on the position of <code>bp1</code> <code>+/-</code> 5 (i.e. within the window <code>5890200..5890210</code>)</li>\n<li>Identify the same <code>chromosome1</code> and <code>chromosome2</code> (<code>2L</code>)</li>\n<li>Agree on the position of <code>bp2</code> <code>+/-</code> 5 (i.e. within the window <code>5890715..5890725</code>)</li>\n</ul>\n\n<p>I have tried to achieve this using a each chromosome and bp as a separate key in a hash </p>\n\n<pre><code>my %SVs;\nmy $header;\n\n# Make hash \nwhile(&lt;$in&gt;){\n  chomp;\n  if ($. == 1){\n      $header = $_;\n      next;\n  }\n  my ($source, $chromosome1, $bp1, $chromosome2, $bp2) = split;\n\n  push @{$SVs{$chromosome1}{$bp1}{$chromosome2}{$bp2}}, $_;\n\n  }\n}\n</code></pre>\n\n<p>... and then using a sliding window approach around each bp1 and bp2 value for each line:</p>\n\n<pre><code>my %events;\nfor my $chr1 ( sort keys %SVs ){\n  for my $bp1 ( sort { $a &lt;=&gt; $b } keys $SVs{$chr1} ){\n    my $w1_start = ( $bp1 - 5 );\n    my $w1_end = ( $bp1 + 5 );\n    my $window1 = \"$w1_start-$w1_end\";\n\n    for my $chr2 ( sort keys $SVs{$chr1}{$bp1} ){\n      for my $bp2 ( sort { $a &lt;=&gt; $b } keys $SVs{$chr1}{$bp1}{$chr2} ){\n\n        my $w2_start = ( $bp2 - 5 );\n        my $w2_end = ( $bp2 + 5 );\n        my $window2 = \"$w2_start-$w2_end\";\n\n        for ( $w1_start .. $w1_end ){\n          if ($bp1 == $_){\n            push @{$events{$chr1}{$window1}}, @{$SVs{$chr1}{$bp1}{$chr2}{$bp2}};\n          }\n        }\n\n        for ( $w2_start .. $w2_end ){\n          if ($bp2 == $_){\n            push @{$events{$chr2}{$window2}}, @{$SVs{$chr1}{$bp1}{$chr2}{$bp2}};\n          }\n        }\n\n      }\n    }\n  }\n}\n\nprint Dumper \\%events;\n</code></pre>\n\n<p>This achieves part of what I'm want, but I can't work out how get my desired output: </p>\n\n<pre><code>event   source  chromosome1 bp1 chromosome2 bp2\n1   attempt1    2L  5890205 2L  5890720\n1   attempt2    2L  5890205 2L  5890721\n2   attempt1    2L  22220720    2L  22255744\n3   attempt1    3L  15568694    3L  15568866\n4   attempt3    3R  14006279    3R  14008254\n4   attempt1    3R  14006281    3R  14008253\n4   attempt2    3R  14006282    3R  14008254\n4   attempt3    3R  14006286    3R  14008254\n5   attempt1    3R  32060908    3R  32061196\n6   attempt1    3R  32066206    3R  32068392\n6   attempt3    3R  32066206    3R  32068392\n6   attempt2    3R  32066207    3R  32068393\n7   attempt2    X   4574312 X   4576608\n7   attempt1    X   4574313 X   4576607\n7   attempt3    X   4574313 X   4576608 \n</code></pre>\n"}, {"tags": ["windows", "perl", "winapi", "cmd", "win32gui"], "comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1497537589, "post_id": 44570002, "comment_id": 76129547, "body": "In principle what you need to do is run cmd.exe with its standard handles redirected to pipes. Write commands to stdin and read from stdout and stderr, preferably using threads to avoid a deadlock."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1497537967, "post_id": 44570002, "comment_id": 76129848, "body": "BTW, can you elaborate why it is that you need a single instance of cmd?"}, {"owner": {"reputation": 142, "user_id": 6426359, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a76843c6103644e078ab860ba9fb16a?s=128&d=identicon&r=PG&f=1", "display_name": "Amarula", "link": "https://stackoverflow.com/users/6426359/amarula"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1497538295, "post_id": 44570002, "comment_id": 76130078, "body": "This is how GPUView in <a href=\"https://docs.microsoft.com/en-us/windows-hardware/drivers/display/using-gpuview\" rel=\"nofollow noreferrer\">Windows SDK works</a>  One have to send <code>log.cmd</code> to the single cmd instance, otherwise logging won&#39;t stop"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1497538543, "post_id": 44570002, "comment_id": 76130217, "body": "Have you tried a command sequence like <code>&quot;foo &amp; bar&quot;</code>?"}, {"owner": {"reputation": 142, "user_id": 6426359, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a76843c6103644e078ab860ba9fb16a?s=128&d=identicon&r=PG&f=1", "display_name": "Amarula", "link": "https://stackoverflow.com/users/6426359/amarula"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1497538676, "post_id": 44570002, "comment_id": 76130318, "body": "not really.. can you explain? I also need to have timeout between calling log.cmd (start logging, wait 10 sec, stop logging)"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1497538990, "post_id": 44570002, "comment_id": 76130568, "body": "For example, run the following in a command prompt: <code>cmd &#47;c &quot;echo spam &amp; (timeout 10 &gt; nul) &amp; echo eggs&quot;</code>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1497539299, "post_id": 44570002, "comment_id": 76130768, "body": "@eryksun Could you make that an answer please?"}, {"owner": {"reputation": 142, "user_id": 6426359, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a76843c6103644e078ab860ba9fb16a?s=128&d=identicon&r=PG&f=1", "display_name": "Amarula", "link": "https://stackoverflow.com/users/6426359/amarula"}, "edited": false, "score": 0, "creation_date": 1497540673, "post_id": 44570002, "comment_id": 76131777, "body": "Running <code>cmd &#47;c &quot;log.cmd &amp; (timeout 10 &gt; nul) &amp; log.cmd</code> directly in command promt works perfectly fine, it really launches log.cmd.  But when I do this using perl, it will just output &quot;log.cmd&quot; two times and do nothing, is there a way to recognize it as a command not plain text? (removing echo was actually doing this in cmd, but not using perl)"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 2, "creation_date": 1497541065, "post_id": 44570002, "comment_id": 76132049, "body": "I had <code>cmd &#47;c</code> in the example because that&#39;s typically what a language&#39;s <code>system</code> function executes. Just use <code>&quot;log.cmd &amp; (timeout 10 &gt; nul) &amp; log.cmd&quot;</code> for the argument to such a function."}, {"owner": {"reputation": 142, "user_id": 6426359, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a76843c6103644e078ab860ba9fb16a?s=128&d=identicon&r=PG&f=1", "display_name": "Amarula", "link": "https://stackoverflow.com/users/6426359/amarula"}, "edited": false, "score": 0, "creation_date": 1497544147, "post_id": 44570002, "comment_id": 76133800, "body": "Yeah, that works totally fine! Thanks a lot!"}], "owner": {"reputation": 142, "user_id": 6426359, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a76843c6103644e078ab860ba9fb16a?s=128&d=identicon&r=PG&f=1", "display_name": "Amarula", "link": "https://stackoverflow.com/users/6426359/amarula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1497539096, "creation_date": 1497536497, "last_edit_date": 1497537383, "question_id": 44570002, "link": "https://stackoverflow.com/questions/44570002/how-do-i-send-several-commands-to-the-same-cmd-instance-in-perl", "title": "How do I send several commands to the same cmd instance in perl?", "body": "<p>My problem is that I need to build a script that will send commands to the single win32 CMD instance. \nThe <code>\"system @cmd\"</code> or <code>\"`` @cmd\"</code> won't help here, since they always create a new instance. \nIt should look like this in pseudo code: </p>\n\n<pre><code>my $consoleWindow = CreateConsole;\n\nmy $cmdargs1 = \"foo\";\nmy $cmdargs2 = \"bar\";\n\nSend($cmdargs1, $consoleWindow);\nsleep(1);\nSend($cmdargs2, $consoleWindow); #send to the same instance\n</code></pre>\n\n<p>I believe, that I would have to create new cmd window, hook to it and then send my commands to it. How can I achieve this? </p>\n"}, {"tags": ["perl", "libxml2", "xml-libxml"], "answers": [{"comments": [{"owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 0, "creation_date": 1497533440, "post_id": 44568797, "comment_id": 76126344, "body": "YES!!! Exactly this is what I need! I was read the doc and saw the namespace related warnings (in more places) but honestly - absolutely don&#39;t understand how to use it - yet. :)  Thank you very very much."}, {"owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 0, "creation_date": 1497533549, "post_id": 44568797, "comment_id": 76126421, "body": "hmm.. wondering why do you using quoted <code>&#39;XML::LibXML&#39;-&gt;load</code> instead of the plain <code>XML::LibXML-&gt;load</code> - but this should be an another question... :)"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 0, "creation_date": 1497533861, "post_id": 44568797, "comment_id": 76126665, "body": "@kobame See <a href=\"https://perldoc.perl.org/perlobj.html#Invoking-Class-Methods\" rel=\"nofollow noreferrer\">Invoking Class Methods</a> ... It forces the invocation of <code>new</code> in <code>XML::LibXML::XPathContext</code> even if there is a function <code>XML::LibXML::XPathContext</code> in scope ... I&#39;ve never been bitten by this, so I never use it, but it does ensure correct behavior in that corner case."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1497535682, "post_id": 44568797, "comment_id": 76128061, "body": "See also <a href=\"https://stackoverflow.com/a/23312776/1030675\">stackoverflow.com/a/23312776/1030675</a> and <a href=\"http://www.perlmonks.org/?node_id=1083985\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1083985</a> linked from there for nasty details."}, {"owner": {"reputation": 361, "user_id": 3605691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23b82c06a6da56ad173458a0cc2b71a5?s=128&d=identicon&r=PG&f=1", "display_name": "TonioGA", "link": "https://stackoverflow.com/users/3605691/tonioga"}, "edited": false, "score": 0, "creation_date": 1513676212, "post_id": 44568797, "comment_id": 82733464, "body": "Here is an interesting link from the Perl-XML project: <a href=\"http://perl-xml.sourceforge.net/faq/\" rel=\"nofollow noreferrer\">Perl-XML FAQ</a>. Section <i>8.7. Using XPath with Namespaces</i> gives additional information regarding this &quot;issue&quot;."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 7, "last_activity_date": 1497533185, "creation_date": 1497533185, "answer_id": 44568797, "question_id": 44568639, "link": "https://stackoverflow.com/questions/44568639/xmllibxml-xpath-namespace/44568797#44568797", "title": "XML::LibXML - XPath - namespace", "body": "<p>That's just a warning. When working with XML namespaces, use <a href=\"http://p3rl.org/XML::LibXML::XPathContext\" rel=\"noreferrer\">XML::LibXML::XPathContext</a>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse XML::LibXML;\nuse XML::LibXML::XPathContext;\n\n\nmy $dom = 'XML::LibXML'-&gt;load_xml(location =&gt; shift);\n\nmy $xpc = 'XML::LibXML::XPathContext'-&gt;new($dom);\n$xpc-&gt;registerNs(o =&gt; 'Our.Files');\n\nmy $res = $xpc-&gt;findnodes('//o:File/o:Id');\nsay $_-&gt;textContent for $res-&gt;get_nodelist;\n</code></pre>\n"}], "owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 44568797, "answer_count": 1, "score": 1, "last_activity_date": 1497564423, "creation_date": 1497532783, "last_edit_date": 1497564423, "question_id": 44568639, "link": "https://stackoverflow.com/questions/44568639/xmllibxml-xpath-namespace", "title": "XML::LibXML - XPath - namespace", "body": "<p>Have such XML file - <code>t.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;ArrayOfFiles xmlns=\"Our.Files\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n        &lt;File&gt;\n                &lt;DownloadCount&gt;1&lt;/DownloadCount&gt;\n                &lt;Id&gt;11&lt;/Id&gt;\n        &lt;/File&gt;\n        &lt;File&gt;\n                &lt;DownloadCount&gt;2&lt;/DownloadCount&gt;\n                &lt;Id&gt;22&lt;/Id&gt;\n        &lt;/File&gt;\n&lt;/ArrayOfFiles&gt;\n</code></pre>\n\n<p>The <code>xmlns</code> declaration is invalid, the <code>xmlstarlet</code> complains about it, e.g. using:</p>\n\n<pre><code>xmlstarlet sel -t -v \"//File/Id\" t.xml\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>t.xml:2.32: xmlns: URI Our.Files is not absolute\n&lt;ArrayOfFiles xmlns=\"Our.Files\" xmlns:i=\"http://www.w3.org/2001/XMLSchema-instan\n</code></pre>\n\n<p>Probably for the same reason I can't get work the following perl code too:</p>\n\n<pre><code>use 5.014;\nuse warnings;\nuse XML::LibXML;\n\nmy $dom = XML::LibXML-&gt;new-&gt;parse_file('t.xml');\nmy $res = $dom-&gt;findnodes('//File/Id');\nsay $_-&gt;textContent for $res-&gt;get_nodelist;\n</code></pre>\n\n<p>When I omit the <code>xmlns</code> declarations, e.g. trying to parse this modified XML file</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;ArrayOfFiles&gt;\n    &lt;File&gt;\n        &lt;DownloadCount&gt;1&lt;/DownloadCount&gt;\n        &lt;Id&gt;11&lt;/Id&gt;\n    &lt;/File&gt;\n    &lt;File&gt;\n        &lt;DownloadCount&gt;2&lt;/DownloadCount&gt;\n        &lt;Id&gt;22&lt;/Id&gt;\n    &lt;/File&gt;\n&lt;/ArrayOfFiles&gt;\n</code></pre>\n\n<p>The above code <strong>DWIM</strong> - and prints:</p>\n\n<pre><code>11\n22\n</code></pre>\n\n<p>The question is, how to parse the original XML file, because it is downloaded from the external site - so I must deal with it somewhat...</p>\n"}, {"tags": ["html", "xml", "windows", "perl", "xslt"], "comments": [{"owner": {"reputation": 11547, "user_id": 283505, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/22626f10fa6bdd807f687d50c51b148b?s=128&d=identicon&r=PG", "display_name": "Flynn1179", "link": "https://stackoverflow.com/users/283505/flynn1179"}, "edited": false, "score": 0, "creation_date": 1497529537, "post_id": 44566802, "comment_id": 76123420, "body": "Could you clarify exactly what&#39;s being output?"}, {"owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "reply_to_user": {"reputation": 11547, "user_id": 283505, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/22626f10fa6bdd807f687d50c51b148b?s=128&d=identicon&r=PG", "display_name": "Flynn1179", "link": "https://stackoverflow.com/users/283505/flynn1179"}, "edited": false, "score": 0, "creation_date": 1497531985, "post_id": 44566802, "comment_id": 76125155, "body": "Thanks, I have added this line with &quot;UTF-8&quot;. Please take a look at the edit version"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497535412, "post_id": 44566802, "comment_id": 76127835, "body": "Please show the rest of your XSLT"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497535560, "post_id": 44566802, "comment_id": 76127955, "body": "We need to see a <a href=\"http://stackoverflow.com/help/mcve\"><b><i>Minimal,. Complete, and Verifiable example</i></b></a> so that we can run your transform ourselves. It&#39;s not fair to ask for free help and leave us to guess about the most of the problem. If you don&#39;t want to show your complete data then you should reduce the problem to something smaller that displays the same issue."}, {"owner": {"reputation": 11547, "user_id": 283505, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/22626f10fa6bdd807f687d50c51b148b?s=128&d=identicon&r=PG", "display_name": "Flynn1179", "link": "https://stackoverflow.com/users/283505/flynn1179"}, "edited": false, "score": 0, "creation_date": 1497537580, "post_id": 44566802, "comment_id": 76129540, "body": "Need a little more information than &#39;other letters&#39;.. what other letters? Can you copy &amp; paste exactly what you&#39;re getting out instead of this &quot;&#228;&quot;?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1497539214, "post_id": 44566802, "comment_id": 76130716, "body": "I have voted to close this question on the grounds that it is off-topic. <i>&quot;Questions seeking debugging help</i> (<b>&quot;why isn&#39;t this code working?&quot;</b>) <i>must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it</i> <b>in the question itself</b> <i>.&quot;</i>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1497968923, "post_id": 44566802, "comment_id": 76297035, "body": "<code>Test%282%29.zip</code> is a strange name for a file, and having downloaded it (a 64KB file, is that right?) it is not a valid zip archive."}, {"owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "edited": false, "score": 0, "creation_date": 1497969279, "post_id": 44566802, "comment_id": 76297325, "body": "I have uploaded once again"}], "answers": [{"tags": [], "owner": {"reputation": 11547, "user_id": 283505, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/22626f10fa6bdd807f687d50c51b148b?s=128&d=identicon&r=PG", "display_name": "Flynn1179", "link": "https://stackoverflow.com/users/283505/flynn1179"}, "is_accepted": false, "score": 0, "last_activity_date": 1497631359, "last_edit_date": 1497631359, "creation_date": 1497529756, "answer_id": 44567560, "question_id": 44566802, "link": "https://stackoverflow.com/questions/44566802/xslt-or-perl-changes-the-href-encoding/44567560#44567560", "title": "XSLT or Perl changes the href encoding", "body": "<p>This is an encoding issue, the best suggestion I could make without further information is to make sure your input XML and XSLT both have headers that specify the encoding you're using, and make sure you have an <code>&lt;xsl:output encoding=\"..\"/&gt;</code> in the root of your XSLT that matches it. The XML header should look like this:</p>\n\n<p><code>&lt;?xml version=\"1.0\" encoding=\"..\"?&gt;</code></p>\n\n<p>I'm fairly sure your problem is most likely that your input XML either doesn't have one and it's assuming the wrong encoding, or it's got the wrong encoding specified. You need to make sure the XML declaration on your input is correct to start with, otherwise that <code>\u00e4</code> isn't going to be read correctly.</p>\n\n<p>EDIT: Based on your comments on Borodin's answer, it sounds more like whatever's consuming your output is reading it as the wrong encoding; he's right, what you're getting from your XSLT is valid URI-encoded UTF8, whatever you have that's generating that link/opening explorer is URI decoding it as if it were Windows-1252.</p>\n"}, {"comments": [{"owner": {"reputation": 137436, "user_id": 415448, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2vVZ.png?s=128&g=1", "display_name": "Michael Kay", "link": "https://stackoverflow.com/users/415448/michael-kay"}, "edited": false, "score": 4, "creation_date": 1497538564, "post_id": 44570588, "comment_id": 76130240, "body": "The OP has confused everyone by giving incomplete information, but I&#39;m pretty sure this is the correct diagnosis. If you&#39;re using the HTML output method, then the XSLT serializer will perform URL-encoding on URI-valued attributes such as <code>img&#47;@src</code>, and this will percent-encode <code>&#228;</code> as <code>%C3%A4</code>, which is the correct representation of a URL in HTML. The fact that the value of the attribute is actually a Windows filename rather than a URI is not something that the XSLT processor will worry about."}, {"owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "edited": false, "score": 0, "creation_date": 1497600483, "post_id": 44570588, "comment_id": 76155835, "body": "First of all, thank you very much for your all comments and your answer. Well, it is not secret, but I was away from office and then have not seen the comments and answers. I am trying to edit my question in the way that  it shows the problem in a small code/example. But for now I could say that you are right the character which is shown in html is: <code>C:\\test\\tst_K%C3%A4se%5CfailedImages%5Cfailed_1.png</code>. But when I am clicking on the page it shows nothing. Because html file shows like this in explorer: <code>C:\\test\\tst_K&#195;&#164;se\\failedImages\\failed_1.png</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "edited": false, "score": 0, "creation_date": 1497606930, "post_id": 44570588, "comment_id": 76160294, "body": "@Royeh: That would be, as I said, because you have no <i>scheme</i> on your URL. You need to prefix the path with <code>file:&#47;&#47;&#47;</code> for paths on your local system. The path separators should also be converted to <i>forward</i> slashes, but you may have some success with backslashes if you use a prefix of <code>file:&#47;&#47;</code> instead of <code>file:&#47;&#47;&#47;</code>. You will have to experiment."}, {"owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "edited": false, "score": 0, "creation_date": 1497610195, "post_id": 44570588, "comment_id": 76162400, "body": "@Borodin: it is already with <code>file:&#47;&#47;&#47;</code>. One can see with keeping mouse on the image. But my problem is by clicking on the link gives wrong letter for &quot;&#228;&quot;. When I change &quot;&#195;&#164;&quot; to the &quot;&#228;&quot;, it works fine."}, {"owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "edited": false, "score": 0, "creation_date": 1497610827, "post_id": 44570588, "comment_id": 76162807, "body": "also my paths are relative rather than fixed paths."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "edited": false, "score": 0, "creation_date": 1497610968, "post_id": 44570588, "comment_id": 76162890, "body": "@Royeh: A path starting with `C:\\` isn&#39;t relative."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "edited": false, "score": 0, "creation_date": 1497611780, "post_id": 44570588, "comment_id": 76163366, "body": "@Royeh: The two bytes hex C3 A4  correspond to the UTF-8 encoding of the character <code>&#228;</code> and also to the Windows-1252 encoding of the  two characters <code>&#195;&#164;</code>. Essentially, the XSLT processor is doing what you asked and encoding the character in UTF-8, while Windows is expecting something else. Recent versions of Windows use UTF-8 encoding; what version of Windows are you using? When you say <i>&quot;When I change &quot;&#195;&#164;&quot; to the &quot;&#228;&quot;, it works fine&quot;</i> what are you doing? Editing the XML file? What encoding is your editor set to use?"}, {"owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "edited": false, "score": 0, "creation_date": 1497967406, "post_id": 44570588, "comment_id": 76295800, "body": "I have created an example finally. Would you please take a look at it? Thanks!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1497606767, "last_edit_date": 1497606767, "creation_date": 1497538166, "answer_id": 44570588, "question_id": 44566802, "link": "https://stackoverflow.com/questions/44566802/xslt-or-perl-changes-the-href-encoding/44570588#44570588", "title": "XSLT or Perl changes the href encoding", "body": "<p>A URL must have a <em>scheme</em>, such as <code>http</code>, and may contain only 8-bit characters. So the resulting <code>&lt;a&gt;</code> tag should look like this</p>\n\n<pre><code>&lt;a href=\"file:///C:/test/K%C3%A4se/failedImages/failed_1.png\"&gt;\n</code></pre>\n\n<p>You are not adding the correct scheme, but apart from that, if the <strong>\u00e4</strong> is being expressed as <code>%C3%A4</code> (which is the UTF-8-encoding of the character) then it is correct</p>\n\n<p>In addition, you shouldn't code a <code>&lt;meta&gt;</code> element into your XSLT code as it is just text to the XSLT engine. Something like</p>\n\n<pre><code>&lt;meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\"&gt;\n</code></pre>\n\n<p>should be added using</p>\n\n<pre><code>&lt;xsl:output media-type=\"text/html\" encoding=\"UTF-8\" /&gt;\n</code></pre>\n\n<p>so that the XSLT engine is aware of the settings and can generate a <code>&lt;meta&gt;</code> element together with data that matches it</p>\n\n<p>You will also want <code>method=\"html\"</code> and <code>indent=\"yes\"</code></p>\n"}], "owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1497969259, "creation_date": 1497527504, "last_edit_date": 1497969259, "question_id": 44566802, "link": "https://stackoverflow.com/questions/44566802/xslt-or-perl-changes-the-href-encoding", "title": "XSLT or Perl changes the href encoding", "body": "<p>I am using a <code>xml</code>, <code>xslt</code>, and a perl file as is in the following link.</p>\n\n<p><a href=\"http://www.mediafire.com/file/yutt5ueitec4cav/Test.zip\" rel=\"nofollow noreferrer\">http://www.mediafire.com/file/yutt5ueitec4cav/Test.zip</a></p>\n\n<p>(It is a sample from a very large file)</p>\n\n<p>I would like to run perl file and generate an HTML file as an output.</p>\n\n<p>It generates an HTML file but for the linking between right-hand-side table and the link-hand-side there is an error. By clicking on the right links it jumps to the left hand-side links. It works for all links except for one(in real case for more cases) case. This case includes a German letters. It is not translated to the HTML correctly.</p>\n\n<p>Would you please let me know is the problem from Perl or XSLT?\nThanks a lot for your helps in advance!</p>\n"}, {"tags": ["perl", "libpng"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497530753, "post_id": 44566732, "comment_id": 76124293, "body": "Do you have the correct version of libpng?"}, {"owner": {"reputation": 6300, "user_id": 2331592, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/befb1bd6b66c01fed1d2384a405e6f7e?s=128&d=identicon&r=PG&f=1", "display_name": "vlad_tepesch", "link": "https://stackoverflow.com/users/2331592/vlad-tepesch"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497531212, "post_id": 44566732, "comment_id": 76124618, "body": "@simbabque I have the one that was installed along with the cpan-package"}, {"owner": {"reputation": 6300, "user_id": 2331592, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/befb1bd6b66c01fed1d2384a405e6f7e?s=128&d=identicon&r=PG&f=1", "display_name": "vlad_tepesch", "link": "https://stackoverflow.com/users/2331592/vlad-tepesch"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497531337, "post_id": 44566732, "comment_id": 76124698, "body": "@simbabque the png-chunks are named <code>tEXt</code> and <code>zTXt</code> so it was correct before the edit"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1497533701, "post_id": 44566732, "comment_id": 76126544, "body": "Oh, sorry about that. There were more capital letter typos, so I figured that one was just a typo too."}], "answers": [{"tags": [], "owner": {"reputation": 6300, "user_id": 2331592, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/befb1bd6b66c01fed1d2384a405e6f7e?s=128&d=identicon&r=PG&f=1", "display_name": "vlad_tepesch", "link": "https://stackoverflow.com/users/2331592/vlad-tepesch"}, "is_accepted": true, "score": 0, "last_activity_date": 1497608094, "creation_date": 1497608094, "answer_id": 44586740, "question_id": 44566732, "link": "https://stackoverflow.com/questions/44566732/imagepnglibpng-libpng-error-call-to-null-write-function/44586740#44586740", "title": "Image::PNG::Libpng: &quot;libpng error: Call to NULL write function&quot;", "body": "<p>The author of the module pointed me to the following function documentation:\n<a href=\"https://metacpan.org/pod/Image::PNG::Libpng#write_png_file\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Image::PNG::Libpng#write_png_file</a>\nthat says:</p>\n\n<blockquote>\n  <p>$png must be the object created by \"create_write_struct\", so\n  \"read_png_file\" followed by a call to this does not work.</p>\n</blockquote>\n\n<p><code>$png-&gt;copy_png</code> can be used to create a <code>write</code>-able structure.</p>\n\n<p>So inserting a <code>$lpng = $lpng-&gt;copy_png();</code> before calling <code>set_text</code> results in the expected behaviour.</p>\n\n<p>Complete (and cleaned) code for reference:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Image::PNG::Libpng qw(read_png_file write_png_file) ;\n\n\n\nmy @txts = ({compression =&gt; Image::PNG::Libpng::PNG_TEXT_COMPRESSION_zTXt,\n             key          =&gt; \"myImportentTextData\",\n             text         =&gt; \"fooBar\"\n            });\n\nmy $png = read_png_file (\"testimg.png\");\n\n$png = $png-&gt;copy_png();  #&lt; this is important!\n\n$png-&gt;set_text (\\@txts);\n$png-&gt;write_png_file (\"testimg2.png\");\n</code></pre>\n"}], "owner": {"reputation": 6300, "user_id": 2331592, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/befb1bd6b66c01fed1d2384a405e6f7e?s=128&d=identicon&r=PG&f=1", "display_name": "vlad_tepesch", "link": "https://stackoverflow.com/users/2331592/vlad-tepesch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "accepted_answer_id": 44586740, "answer_count": 1, "score": 0, "last_activity_date": 1497608094, "creation_date": 1497527307, "last_edit_date": 1497531641, "question_id": 44566732, "link": "https://stackoverflow.com/questions/44566732/imagepnglibpng-libpng-error-call-to-null-write-function", "title": "Image::PNG::Libpng: &quot;libpng error: Call to NULL write function&quot;", "body": "<p>I have some code that should modify the tEXt or zTXt chunk of a PNG file with the Perl bindings of the libpng.</p>\n\n<p>Code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper qw(Dumper);\nuse Image::PNG::Libpng qw(read_png_file write_png_file) ;\n\n\nmy $lpng = read_png_file (\"testimg.png\");\n\nmy @cmdAr = ();\nfor(my $i=0; $i&lt;10; ++$i){\n  push(@cmdAr, {compression =&gt; Image::PNG::Libpng::PNG_TEXT_COMPRESSION_zTXt ,\n                key =&gt; sprintf(\"par_%02i\",$i),\n                text =&gt; sprintf(\"%06i\", $i*$i)\n               }\n      );\n}\nprint STDERR Dumper(\\@cmdAr);\n$lpng-&gt;set_text (\\@cmdAr);\n$lpng-&gt;write_png_file (\"testimg2.png\");\n</code></pre>\n\n<p>but the code fails at the write function with:</p>\n\n<blockquote>\n  <p>libpng error: Call to NULL write function</p>\n</blockquote>\n\n<p>Any hints about how to fix this? The files exists and the process also has write access.</p>\n\n<p>My Perl version (latest Strawberry Perl):</p>\n\n<blockquote>\n  <p>This is perl 5, version 26, subversion 0 (v5.26.0) built for\n  MSWin32-x86-multi-thread-64int</p>\n</blockquote>\n\n<p>Version of the libpng module:</p>\n\n<blockquote>\n  <p>cpan -D Image::PNG::Libpng</p>\n</blockquote>\n\n<pre><code>CPAN: CPAN::SQLite loaded ok (v0.211)\nDatabase was generated on Thu, 15 Jun 2017 10:43:51 GMT\n\nImage::PNG::Libpng\n-------------------------------------------------------------------------\n    CPAN: Module::CoreList loaded ok (v5.20170530)\n(no description)\n    B/BK/BKB/Image-PNG-Libpng-0.43.tar.gz\n    C:\\strawberry-perl\\perl\\site\\lib\\Image\\PNG\\Libpng.pm\n    Installed: 0.43\n    CPAN:      0.43  up to date\n    Ben Bullock (BKB)\n    bkb@cpan.org\n</code></pre>\n"}, {"tags": ["c++", "perl", "c++11"], "comments": [{"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 3, "creation_date": 1497520454, "post_id": 44564358, "comment_id": 76117478, "body": "That is highly irregular and will probably not work very well (especially on 64-bit systems)! Can you perhaps elaborate on what the <i>actual</i> problem you try to solve is? <i>Why</i> do you want to do something like this? Please take some time to read about <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">the XY problem</a> and think about how it relates to your question (asking about help with a specific solution to an unknown problem). Also please take some time to <a href=\"http://stackoverflow.com/help/how-to-ask\">read about how to ask good questions</a>."}, {"owner": {"reputation": 21, "user_id": 6467804, "user_type": "registered", "profile_image": "https://graph.facebook.com/745801585562753/picture?type=large", "display_name": "Saketh Pothukuchi", "link": "https://stackoverflow.com/users/6467804/saketh-pothukuchi"}, "reply_to_user": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1497520841, "post_id": 44564358, "comment_id": 76117734, "body": "@Someprogrammerdude i have gone through them already the actual thing was this sort of line is to be converted into c++ i want to get help        `  txCtrlEntry[&quot;scheduleId&quot;] = \\%d; `"}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1497521108, "post_id": 44564358, "comment_id": 76117916, "body": "What you want to do first of all breaks <a href=\"http://stackoverflow.com/questions/98650/what-is-the-strict-aliasing-rule\">the strict aliasing rule</a>. It will not work on today&#39;s 64-bit systems (where <code>int</code> is usually 32 bits and pointers are 64 bits). And we still don&#39;t know what problem you&#39;re trying to solve, why you want to do this."}, {"owner": {"reputation": 21, "user_id": 6467804, "user_type": "registered", "profile_image": "https://graph.facebook.com/745801585562753/picture?type=large", "display_name": "Saketh Pothukuchi", "link": "https://stackoverflow.com/users/6467804/saketh-pothukuchi"}, "reply_to_user": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1497521213, "post_id": 44564358, "comment_id": 76118005, "body": "did u understand Mr?"}, {"owner": {"reputation": 5125, "user_id": 1450890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d05cb0ba97651de251b268cefe6141f?s=128&d=identicon&r=PG&f=1", "display_name": "Rook", "link": "https://stackoverflow.com/users/1450890/rook"}, "edited": false, "score": 0, "creation_date": 1497521736, "post_id": 44564358, "comment_id": 76118383, "body": "You can&#39;t trivially do this in a strongly statically typed language like C++. You could use something like <code>std::variant</code> in C++17 to do this, by letting your map elements be an <code>int</code> or another <code>map</code>, or maybe <code>std::any</code> (also in C++17) so let the map contain anything at all (the closest to the perl behaviour you&#39;re likely to get)."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 5125, "user_id": 1450890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d05cb0ba97651de251b268cefe6141f?s=128&d=identicon&r=PG&f=1", "display_name": "Rook", "link": "https://stackoverflow.com/users/1450890/rook"}, "edited": false, "score": 0, "creation_date": 1497521919, "post_id": 44564358, "comment_id": 76118515, "body": "@Rook: C++ isn&#39;t strongly typed."}, {"owner": {"reputation": 5125, "user_id": 1450890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d05cb0ba97651de251b268cefe6141f?s=128&d=identicon&r=PG&f=1", "display_name": "Rook", "link": "https://stackoverflow.com/users/1450890/rook"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1497522037, "post_id": 44564358, "comment_id": 76118576, "body": "@IInspectable not everyone agrees with you there. <a href=\"https://stackoverflow.com/questions/26753483/is-c-considered-weakly-typed-why\" title=\"is c considered weakly typed why\">stackoverflow.com/questions/26753483/&hellip;</a>"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 5125, "user_id": 1450890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d05cb0ba97651de251b268cefe6141f?s=128&d=identicon&r=PG&f=1", "display_name": "Rook", "link": "https://stackoverflow.com/users/1450890/rook"}, "edited": false, "score": 0, "creation_date": 1497522194, "post_id": 44564358, "comment_id": 76118677, "body": "@Rook: I don&#39;t see how that Q&amp;A would be in disagreement with me. It merely states, that the reasoning of some paper is wrong, but C and C++ <i>&quot;may still be considered weakly-typed&quot;</i>. Just not for the reasons and rationale outlined in the referenced paper."}, {"owner": {"reputation": 5125, "user_id": 1450890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d05cb0ba97651de251b268cefe6141f?s=128&d=identicon&r=PG&f=1", "display_name": "Rook", "link": "https://stackoverflow.com/users/1450890/rook"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1497522253, "post_id": 44564358, "comment_id": 76118710, "body": "@IInspectable you may feel free to consider it weakly typed."}, {"owner": {"reputation": 21, "user_id": 6467804, "user_type": "registered", "profile_image": "https://graph.facebook.com/745801585562753/picture?type=large", "display_name": "Saketh Pothukuchi", "link": "https://stackoverflow.com/users/6467804/saketh-pothukuchi"}, "reply_to_user": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1497706972, "post_id": 44564358, "comment_id": 76197608, "body": "@Someprogrammerdude ,\tIInspectable,gsmaras ,dan, baun mit augen whats wrong with u guys keeping this in hold as the question was clear and some one well expert in perl and C++(Rook) suggested me a good solution  and whats wrong with my question and why was it given -3 it is supposed to be a general doubt when u do such stuff like conversion don&#39;t go judging on your own everything think for others too . What you are doing may make a new join in SO to quit it  just cause he cant expect a good replies and getting more negatives up please hide yourselves when u dont have good replies"}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1497707578, "post_id": 44564358, "comment_id": 76197817, "body": "Questions asking &quot;I have this single line of unknown code in one programming language, and I want you to translate it into a completely different language&quot; isn&#39;t a very good fit here on SO. Asking a question like &quot;I have this problem that I solved this way in one programming language, and now I try to solve it in another programming language using that way way but I get these problems, <i>please</i> help me&quot; are better. And you need to describe the actual problem you try to solve in the first language, with context. Different languages might mean different solutions!"}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1497707587, "post_id": 44564358, "comment_id": 76197822, "body": "And please take some time to read <a href=\"http://stackoverflow.com/help\">the help pages</a>, especially the sections named <a href=\"http://stackoverflow.com/help/on-topic\">&quot;What topics can I ask about here?&quot;</a> and <a href=\"http://stackoverflow.com/help/dont-ask\">&quot;What types of questions should I avoid asking?&quot;</a>."}, {"owner": {"reputation": 21, "user_id": 6467804, "user_type": "registered", "profile_image": "https://graph.facebook.com/745801585562753/picture?type=large", "display_name": "Saketh Pothukuchi", "link": "https://stackoverflow.com/users/6467804/saketh-pothukuchi"}, "reply_to_user": {"reputation": 5125, "user_id": 1450890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d05cb0ba97651de251b268cefe6141f?s=128&d=identicon&r=PG&f=1", "display_name": "Rook", "link": "https://stackoverflow.com/users/1450890/rook"}, "edited": false, "score": 0, "creation_date": 1497850710, "post_id": 44564358, "comment_id": 76231511, "body": "@Rook Mr Rook is there a possible way to do this type of conversion i perl to c ++ <code>$lastTxCtlEntry-&gt;{status} = \\@tmp;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6467804, "user_type": "registered", "profile_image": "https://graph.facebook.com/745801585562753/picture?type=large", "display_name": "Saketh Pothukuchi", "link": "https://stackoverflow.com/users/6467804/saketh-pothukuchi"}, "edited": false, "score": 0, "creation_date": 1497707941, "post_id": 44565047, "comment_id": 76197934, "body": "Mr Rook is there a possible way to do this type of conversion i perl to c ++  <code>$lastTxCtlEntry-&gt;{status}      =  \\@tmp;</code>"}], "tags": [], "owner": {"reputation": 5125, "user_id": 1450890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d05cb0ba97651de251b268cefe6141f?s=128&d=identicon&r=PG&f=1", "display_name": "Rook", "link": "https://stackoverflow.com/users/1450890/rook"}, "is_accepted": false, "score": 2, "last_activity_date": 1497527353, "last_edit_date": 1497527353, "creation_date": 1497522229, "answer_id": 44565047, "question_id": 44564358, "link": "https://stackoverflow.com/questions/44564358/calling-a-map-inside-map/44565047#44565047", "title": "calling a map inside map", "body": "<p>Key points: trying to naively port perl code to C++ may be quite difficult; the way datastructures work in the two langauges is quite different. You say you are a C++ beginner... this means you might not be the best person to do this sort of language translation. That said, here are some possibilities.</p>\n\n<hr>\n\n<p>You can't trivially do this in a strongly statically typed language like C++. You could use something like <code>std::variant</code> in C++17 to do this, by letting your <code>map</code> elements be an <code>int</code> or another <code>map</code>, or maybe <code>std::any</code> (also in C++17) so let the map contain anything at all (the closest to the perl behaviour you're likely to get). Neither of these types are entirely straightforward to use, compared to perl... you need to check what type was stored in the container, and use an appropriate accessor function or you'll get a compile error or runtime error, depending on circumstances. The docs should definitely be read!</p>\n\n<p>Here's a <a href=\"http://en.cppreference.com/w/cpp/utility/variant\" rel=\"nofollow noreferrer\"><code>std::variant</code></a> example. You can see that the nested type declarations can get pretty spammy pretty quickly if you want multiple levels of maps, so it might not be totally suitable for your needs.</p>\n\n<pre><code>  std::map&lt;std::string, std::variant&lt;int, std::map&lt;std::string, int&gt;&gt;&gt; m;\n\n  m[\"foo\"] = 1;\n  m[\"bar\"] = std::map&lt;std::string, int&gt;{ {\"baz\", 2} };\n  m[\"bar\"] = 3;\n\n  std::cout &lt;&lt; std::get&lt;int&gt;(m[\"bar\"]) &lt;&lt; \"\\n\";\n</code></pre>\n\n<p>You can use <a href=\"http://en.cppreference.com/w/cpp/utility/variant/index\" rel=\"nofollow noreferrer\"><code>std::variant::index</code></a> to find out which one of the list of types is currently stored in the <code>variant</code>, amongst other ways.</p>\n\n<p>There are various libraries which offer a variant type that would work under older compilers and standard libraries, or you could even roll your own (though thius might not be worth it). There are also things called \"tagged unions\" which are very similar.</p>\n\n<p>Here's a <a href=\"http://en.cppreference.com/w/cpp/utility/any\" rel=\"nofollow noreferrer\"><code>std::any</code></a> example. This has the advantage that you can multiple levels of nested map without needing huge typedefs.</p>\n\n<pre><code>  std::map&lt;std::string, std::any&gt; m2;\n\n  m2[\"foo\"] = 1;\n  m2[\"bar\"] = std::map&lt;std::string, int&gt;{ { \"baz\", 2 } };\n  m2[\"bar\"] = 3;\n  m2[\"qux\"] = m;\n\n  std::cout &lt;&lt; std::any_cast&lt;int&gt;(m2[\"bar\"]) &lt;&lt; \"\\n\";\n</code></pre>\n\n<p>You can use <a href=\"http://en.cppreference.com/w/cpp/utility/any/type\" rel=\"nofollow noreferrer\"><code>std::any::type</code></a> to see which particular type the <code>any</code> holds at a particular type, so you know which kind of <code>any_cast</code> to use.</p>\n\n<p>You'll need a newish compiler to use these features... I've used visual studio 2017 with <code>/std:c++latest</code> and g++ 7.1 with <code>-std=c++17</code>. These features may well be unavailable to you if you're using older compilers.</p>\n"}], "owner": {"reputation": 21, "user_id": 6467804, "user_type": "registered", "profile_image": "https://graph.facebook.com/745801585562753/picture?type=large", "display_name": "Saketh Pothukuchi", "link": "https://stackoverflow.com/users/6467804/saketh-pothukuchi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "closed_date": 1497655378, "answer_count": 1, "score": -2, "last_activity_date": 1497707050, "creation_date": 1497520251, "last_edit_date": 1497707050, "question_id": 44564358, "link": "https://stackoverflow.com/questions/44564358/calling-a-map-inside-map", "closed_reason": "Needs details or clarity", "title": "calling a map inside map", "body": "<p>first of all i am a beginner to cpp. How can we define a map inside a map like </p>\n\n<pre><code>std::  map&lt;std ::string,int&gt; map_0={{\"hello\",1},{\"a\",3},{\"b\",5}}\nstd::  map&lt;std ::string,int&gt; map_1={{\"hi\",2},{\"2\",3},{\"3\",4}} \n</code></pre>\n\n<p>now i want to assign new element which can refer to my map_0 like</p>\n\n<pre><code>     map_1[\"print\"] = (int) &amp; map_0;\n</code></pre>\n\n<p>(just wrote down i don't know correct expression to express here)\nso that i can do some thing like <code>$map_1[\"print\"]=\\%map_0;</code> in perl </p>\n"}, {"tags": ["perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 1, "creation_date": 1497519521, "post_id": 44564052, "comment_id": 76116822, "body": "Well, that&#39;s your difference right there :-)"}, {"owner": {"reputation": 1262, "user_id": 7883986, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/HWFuu.png?s=128&g=1", "display_name": "Nithin", "link": "https://stackoverflow.com/users/7883986/nithin"}, "edited": false, "score": 0, "creation_date": 1497519642, "post_id": 44564052, "comment_id": 76116904, "body": "you can see the difference there itself.... :D"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1497520325, "post_id": 44564150, "comment_id": 76117387, "body": "That&#39;s pretty much what I was just going to write. But I think I would have mentioned <code>$,</code> as well as <code>$&quot;</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1497520444, "post_id": 44564150, "comment_id": 76117468, "body": "Ah good point. I&#39;ll add that in."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1497538578, "post_id": 44564150, "comment_id": 76130247, "body": "<i>&quot;With single quotes, it wouldn&#39;t&quot;</i> That&#39;s dangerously close to the awful <i>&quot;it doesn&#39;t work&quot;</i>!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 15, "last_activity_date": 1497520526, "last_edit_date": 1497520526, "creation_date": 1497519687, "answer_id": 44564150, "question_id": 44564052, "link": "https://stackoverflow.com/questions/44564052/what-is-the-difference-between-print-array-and-print-array-in-perl/44564150#44564150", "title": "what is the difference between print @array and print &quot;@array&quot; in perl?", "body": "<p>This is a question about string conversion and interpolation. In perl, <code>\"</code> is treated differently to <code>'</code>, in that perl is asked to interpolate any variables in the string. </p>\n\n<p>That's why:</p>\n\n<pre><code>my $str = \"fish\";\nprint \"This is a $str\\n\";\n</code></pre>\n\n<p>Works. (With single quotes, it wouldn't). But for things that aren't strings, perl applies some conversion rules. Pretty basic for most cases - a numeric value gets turned into the string equivalent (in base 10). So:</p>\n\n<pre><code>my $num = 10;\nprint \"The number is $num\\n\"; \n</code></pre>\n\n<p>\"just works\" rather than forcing you to use <code>printf</code>/<code>sprintf</code> to format convert a numeric value to an appropriate representation. </p>\n\n<p>So the reason you get your first result is that <code>print</code> takes a list of arguments. </p>\n\n<p>So <code>print @array</code> is actually <code>print 1,2,3,4,5,6,7,8,9,10;</code>. </p>\n\n<p>That gives you the result, because you haven't specified a separator to your <code>print</code>. (You can do this by setting <code>$,</code> - see below)</p>\n\n<p>However <code>\"@array\"</code> is using <code>@array</code> in an explicitly stringified context, and so first it unpacks the array and space separates it. </p>\n\n<p>This behaviour is controlled by the special variable <code>$\"</code>. You can read about this in <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"noreferrer\"><code>perlvar</code></a></p>\n\n<pre><code>$\" = \":\";\nprint \"@array\";\n</code></pre>\n\n<p>See also: <a href=\"https://docstore.mik.ua/orelly/perl3/lperl/ch03_05.htm\" rel=\"noreferrer\">Interpolating Arrays into Strings</a> </p>\n\n<p>You can also 'tell' print to separate the values it's got, using <code>$,</code>. By default, it's not set (e.g. is undef - see also perlvar) - so you get your first behaviour.</p>\n\n<p>But you could:</p>\n\n<pre><code>$, = \",\";\nprint @array;\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 4915658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/880691111995798/picture?type=large", "display_name": "Vamsee Bond", "link": "https://stackoverflow.com/users/4915658/vamsee-bond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1149, "favorite_count": 0, "closed_date": 1497533564, "accepted_answer_id": 44564150, "answer_count": 1, "score": 2, "last_activity_date": 1497520526, "creation_date": 1497519407, "question_id": 44564052, "link": "https://stackoverflow.com/questions/44564052/what-is-the-difference-between-print-array-and-print-array-in-perl", "closed_reason": "Duplicate", "title": "what is the difference between print @array and print &quot;@array&quot; in perl?", "body": "<p>Consider the below code for example:</p>\n\n<pre><code>@array=(1..10);\nprint @array;\nprint \"@array\";\n\nThe output is as follows:\n12345678910\n1 2 3 4 5 6 7 8 9 10\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 5, "creation_date": 1497518598, "post_id": 44563666, "comment_id": 76116145, "body": "read this: <a href=\"https://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/system.html</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1497521602, "post_id": 44563666, "comment_id": 76118279, "body": "Also look at <code>$?</code>"}], "answers": [{"tags": [], "owner": {"reputation": 67, "user_id": 6448637, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ysjkJlysa0A/AAAAAAAAAAI/AAAAAAAAAuU/gaeQ1gdXunI/photo.jpg?sz=128", "display_name": "Naveen P", "link": "https://stackoverflow.com/users/6448637/naveen-p"}, "is_accepted": true, "score": 2, "last_activity_date": 1497521805, "creation_date": 1497521805, "answer_id": 44564897, "question_id": 44563666, "link": "https://stackoverflow.com/questions/44563666/how-to-check-if-system-command-is-successful-or-not/44564897#44564897", "title": "How to check if system command is successful or not", "body": "<p>System command returns zero if it is successful, and a non-zero status (with the appropriate error code) if it failed.</p>\n\n<pre><code>if (system(\"svn update\")) {\n    die \"SVN update failed!\";\n}\nelse {\n    print \"SVN update successful\";\n}\n</code></pre>\n\n<p>Refer the following links for more information:</p>\n\n<p><a href=\"https://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/functions/system.html</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/22762710/perl-after-a-successful-system-call-or-die-command-still-ends-script\">Perl: After a successful system call, &quot;or die&quot; command still ends script</a></p>\n\n<p><a href=\"http://www.perlmonks.org/?node_id=343898\" rel=\"nofollow noreferrer\">http://www.perlmonks.org/?node_id=343898</a></p>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 8132476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mZVxv.gif?s=128&g=1", "display_name": "ky bof", "link": "https://stackoverflow.com/users/8132476/ky-bof"}, "is_accepted": false, "score": 0, "last_activity_date": 1497557754, "last_edit_date": 1497557754, "creation_date": 1497548620, "answer_id": 44573752, "question_id": 44563666, "link": "https://stackoverflow.com/questions/44563666/how-to-check-if-system-command-is-successful-or-not/44573752#44573752", "title": "How to check if system command is successful or not", "body": "<p>Follow Jens', Sobrique's and Naveen's leads. They're all good. Test out with simple cmd ... like \"ls\". Make sure to test for positive (ie. <code>ls *.txt</code>) and negative (ie. <code>ls *.huh</code>). Then substitute the real cmd (ie. <code>svn ... </code>).\n<p> This should work IF the cmd is well-behaved. A cmd is considered well-behaved would return 0 when it succeeds and would return non-zero (aka error code) when it fails.\n<p> In case a cmd always returns 0 (or always returns non-zero for that matter), capture the output and search for keyword(s) to determine the success/fail status. For example, dont trust <code><strong>sqlplus</strong></code> cmd with its 0 exit code. If seeing ORA-[0-9]+  (Oracle environment) in the output, you can safely suspect that it fumbles on something along the way.</p>\n"}], "owner": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4278, "favorite_count": 0, "accepted_answer_id": 44564897, "answer_count": 2, "score": 0, "last_activity_date": 1497557754, "creation_date": 1497518378, "last_edit_date": 1497518788, "question_id": 44563666, "link": "https://stackoverflow.com/questions/44563666/how-to-check-if-system-command-is-successful-or-not", "title": "How to check if system command is successful or not", "body": "<p>Using below code how do I check if system command is returning successful or not in svn update. </p>\n\n<p>I want my script to fail when svn update failes, how can I achieve this?</p>\n\n<pre><code>sub do_compile\n{\n system(\"svn update\");\n\n print \"svn update successful\\n\";\n\n $ENV{'PATH'} = '/var/apps/buildtools/apache-maven-3.0.5/bin:/var/apps/java/jdk180_112_x64/bin';\n\n$ENV{'JAVA_HOME'} = '/var/apps/java/jdk180_112_x64';\n\n$ENV{'M2_HOME'} = '/var/apps/buildtools/apache-maven-3.0.5';\n\nmy $path = $ENV{'PATH'};\n\nprint \"$path\\n\";\n\n system(\"mvn clean package -DskipTests=true -s /release/vgt/abc/.m2/artifactory_settings.xml\");\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 0, "creation_date": 1497497957, "post_id": 44558071, "comment_id": 76106124, "body": "To explain with database terminology: the original code is a <a href=\"https://en.wikipedia.org/wiki/Nested_loop_join\" rel=\"nofollow noreferrer\">nested loop join</a> which can be optimized by converting it to a <a href=\"https://en.wikipedia.org/wiki/Hash_join\" rel=\"nofollow noreferrer\">hash join</a>"}], "tags": [], "owner": {"reputation": 6779, "user_id": 1342941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a77b35477fab1e681d7e14f7ea78b178?s=128&d=identicon&r=PG", "display_name": "happydave", "link": "https://stackoverflow.com/users/1342941/happydave"}, "is_accepted": false, "score": 0, "last_activity_date": 1497497623, "creation_date": 1497497623, "answer_id": 44558071, "question_id": 44557961, "link": "https://stackoverflow.com/questions/44557961/how-can-i-speed-up-this-nested-foreach-loop-in-perl/44558071#44558071", "title": "How can I speed up this nested foreach loop in Perl?", "body": "<p>You could probably reduce the time significantly by pre-building a hash from DB_DATA, using the concatenation of the \"channel\" and \"checksum\" values as the key, and each value being a list of all of the DB_DATA entries with that channel and checksum.  That way, for each FILE_DATA entry, you only need to check that list.</p>\n\n<p>If there are a lot of entries with a given channel and checksum, you try to improve even more by sorting them by date_part, and then trying to binary search to find a valid entry.</p>\n\n<p>If there are very few entries with a given channel and checksum, this should reduce your run time by a factor of a million or so, since it reduces the run time from O($#FILE_DATA * $#DB_DATA) to O($#FILE_DATA + $#DB_DATA).</p>\n"}, {"comments": [{"owner": {"reputation": 88, "user_id": 8057381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3dW79.png?s=128&g=1", "display_name": "TobiV", "link": "https://stackoverflow.com/users/8057381/tobiv"}, "edited": false, "score": 0, "creation_date": 1497509790, "post_id": 44558950, "comment_id": 76110413, "body": "Thanks for this awesome response! I&#39;m getting an error trying to implement it though: &quot;Global symbol &quot;%DB_DATA&quot; requires explicit package name at ...&quot;, regarding this line: &quot;push @{ $DB_DATA{ $db_line-&gt;{channel} }{ $db_line-&gt;{checksum} } }, $db_line;&quot; (sorry, Perl is still quite foreign to me)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 88, "user_id": 8057381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3dW79.png?s=128&g=1", "display_name": "TobiV", "link": "https://stackoverflow.com/users/8057381/tobiv"}, "edited": false, "score": 0, "creation_date": 1497544364, "post_id": 44558950, "comment_id": 76133925, "body": "That means you left out the <code>my %DB_DATA;</code>"}, {"owner": {"reputation": 88, "user_id": 8057381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3dW79.png?s=128&g=1", "display_name": "TobiV", "link": "https://stackoverflow.com/users/8057381/tobiv"}, "edited": false, "score": 0, "creation_date": 1497572074, "post_id": 44558950, "comment_id": 76146501, "body": "Okay, I don&#39;t understand the syntax then. DB_DATA is a global and it&#39;s already declared with &quot;my @DB_DATA;&quot; (and populated with the data from the database)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 88, "user_id": 8057381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3dW79.png?s=128&g=1", "display_name": "TobiV", "link": "https://stackoverflow.com/users/8057381/tobiv"}, "edited": false, "score": 0, "creation_date": 1497572678, "post_id": 44558950, "comment_id": 76146658, "body": "That <code>@DB_DATA</code> is a file-scoped variable declared with <code>my @DB_DATA;</code> has no bearing on the fact that you didn&#39;t declare <code>%DB_DATA</code>, a hash populated from <code>@DB_DATA</code> by my code. Put the <code>my %DB_DATA;</code> back in."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1497506995, "last_edit_date": 1497506995, "creation_date": 1497503139, "answer_id": 44558950, "question_id": 44557961, "link": "https://stackoverflow.com/questions/44557961/how-can-i-speed-up-this-nested-foreach-loop-in-perl/44558950#44558950", "title": "How can I speed up this nested foreach loop in Perl?", "body": "<p>Your solution is O(DB * FILE).</p>\n\n<p>The following is O(DB + FILE) <em>if and only if</em> there never more than a few lines with the same channel and checksum:</p>\n\n<pre><code>my %DB_DATA;\nfor my $db_line (@DB_DATA) {\n   push @{ $DB_DATA{ $db_line-&gt;{channel} }{ $db_line-&gt;{checksum} } }, $db_line;\n}\n\nfor my $file_line_idx (0..$#FILE_DATA) {\n   my $file_line = $FILE_DATA[$file_line_idx];\n   my $found = 0;\n   if (my $r1 = $DB_DATA{ $file_line-&gt;{channel} } ) {\n      if (my $r2 = $r1-&gt;{ $file_line-&gt;{checksum} } ) {\n         my $file_time = $file_line-&gt;{time};\n         for my $db_line (@$r2) {\n            my $db_time = $db_line-&gt;{date_part};\n            if (abs($file_time - $db_time) &lt; $TIME_MATCH_TOLERANCE) {\n               $found = 1;\n               last;\n            }\n         }\n      }\n   }\n\n   push @mismatches, $file_line if !$found;\n\n   if ((($file_line_idx+1) % 200) == 0) {\n      logg(sprintf(\"Processed %d file rows, %d%, %d mismatches.\",\n         $file_line_idx+1,\n         int(($file_line_idx+1)/@FILE_DATA) * 100,\n         0+@mismatches,\n      ));\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>The following is O(DB + FILE) even if there are many lines with the same channel and checksum, but uses a lot of memory if <code>$TIME_MATCH_TOLERANCE</code> is big:</p>\n\n<pre><code>my %DB_DATA;\nfor my $db_line (@DB_DATA) {\n   for my $db_time (\n      $db_line-&gt;{date_part} - $TIME_MATCH_TOLERANCE + 1\n        ..\n      $db_line-&gt;{date_part} + $TIME_MATCH_TOLERANCE - 1\n   ) {\n      ++$DB_DATA{ $db_line-&gt;{channel} }{ $db_line-&gt;{checksum} }{$db_time};\n   }\n}\n\nfor my $file_line_idx (0..$#FILE_DATA) {\n   my $file_line = $FILE_DATA[$file_line_idx];\n   my $found = 0;\n   if (my $r1 = $DB_DATA{ $file_line-&gt;{channel} } ) {\n      if (my $r2 = $r1-&gt;{ $file_line-&gt;{checksum} } ) {\n         if ($r2-&gt;{ $file_line-&gt;{time} } {\n            $found = 1;\n            last;\n         }\n      }\n   }\n\n   push @mismatches, $file_line if !$found;\n\n   if ((($file_line_idx+1) % 200) == 0) {\n      logg(sprintf(\"Processed %d file rows, %d%, %d mismatches.\",\n         $file_line_idx+1,\n         int(($file_line_idx+1)/@FILE_DATA) * 100,\n         0+@mismatches,\n      ));\n   }\n}\n</code></pre>\n\n<p>Note: Assumes the timestamps are integers. If they're not, convert them to integers before using them as keys.</p>\n\n<hr>\n\n<p>The following is O((DB + FILE) log DB) [ which is very close to O(DB + FILE) ] even if there are many lines with the same channel and checksum, and uses minimal memory:</p>\n\n<pre><code>sub binsearch(&amp;\\@) {\n   my ($compare, $array) = @_;\n\n   my $i = 0;\n   my $j = $#$array;\n   return 0 if $j == -1;\n\n   while (1) {\n      my $k = int(($i+$j)/2);\n      for ($array-&gt;[$k]) {\n         my $cmp = $compare-&gt;()\n            or return 1;\n\n         if ($cmp &lt; 0) {\n            $j = $k-1;\n            return 0 if $i &gt; $j;\n         } else {\n            $i = $k+1;\n            return 0 if $i &gt; $j;\n         }\n      }\n   }\n}\n\nmy %DB_DATA;\nfor my $db_line (@DB_DATA) {\n   push @{ $DB_DATA{ $db_line-&gt;{channel} }{ $db_line-&gt;{checksum} } }, $db_line;\n}\n\nfor my $r1 (values(%DB_DATA)) {\n   for my $r2 (values(%$r1)) {\n      @$r2 = sort { $a-&gt;{date_part} &lt;=&gt; $b-&gt;{date_part} } @$r2;\n   }\n}\n\nfor my $file_line_idx (0..$#FILE_DATA) {\n   my $file_line = $FILE_DATA[$file_line_idx];\n   my $found = 0;\n   if (my $r1 = $DB_DATA{ $file_line-&gt;{channel} } ) {\n      if (my $r2 = $r1-&gt;{ $file_line-&gt;{checksum} } ) {\n         my $file_time = $file_line-&gt;{time};\n         my $min_db_time = $file_time - $TIME_MATCH_TOLERANCE;\n         my $max_db_time = $file_time + $TIME_MATCH_TOLERANCE;\n         if ( binsearch {\n              $_-&gt;{date_part} &gt;= $max_db_time ? -1\n            : $_-&gt;{date_part} &lt;= $min_db_time ? +1\n            : 0\n         } @$r2 ) {\n            $found = 1;\n            last;\n         }\n      }\n   }\n\n   push @mismatches, $file_line if !$found;\n\n   if ((($file_line_idx+1) % 200) == 0) {\n      logg(sprintf(\"Processed %d file rows, %d%, %d mismatches.\",\n         $file_line_idx+1,\n         int(($file_line_idx+1)/@FILE_DATA) * 100,\n         0+@mismatches,\n      ));\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 88, "user_id": 8057381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3dW79.png?s=128&g=1", "display_name": "TobiV", "link": "https://stackoverflow.com/users/8057381/tobiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 44558950, "answer_count": 2, "score": 1, "last_activity_date": 1497506995, "creation_date": 1497496822, "last_edit_date": 1497502753, "question_id": 44557961, "link": "https://stackoverflow.com/questions/44557961/how-can-i-speed-up-this-nested-foreach-loop-in-perl", "title": "How can I speed up this nested foreach loop in Perl?", "body": "<p>I have a Perl script that compares two sets of data loaded into two arrays, and I'm trying to make the comparison more efficient. Currently the code is as follows:</p>\n\n<pre><code>foreach(@{FILE_DATA}) {\n\n    if((++$file_current_linenum % 200) == 0) {\n        $progress = int($file_current_linenum / $file_total_lines * 10000) / 100;\n        logg(\"Processed $file_current_linenum file rows, $progress%, $mismatches mismatches.\");\n    }\n\n\n    $file_current_line = $_;\n\n    $match_found = 0;\n\n    foreach(@{DB_DATA}) {\n\n        $db_current_line = $_;\n\n        if($file_current_line-&gt;{\"channel\"} == $db_current_line-&gt;{\"channel\"} ) {\n\n            if ($file_current_line-&gt;{\"checksum\"} == $db_current_line-&gt;{\"checksum\"} &amp;&amp;\n                $file_current_line-&gt;{\"time\"} &gt; ($db_current_line-&gt;{\"date_part\"} - $TIME_MATCH_TOLERANCE) &amp;&amp; \n                $file_current_line-&gt;{\"time\"} &lt; ($db_current_line-&gt;{\"date_part\"} + $TIME_MATCH_TOLERANCE) ){\n\n                $match_found = 1;\n                last; # break;\n            }\n        }\n    }\n\n\n    if($match_found != 1) {\n\n        push(@results, $file_current_line);\n        $mismatches++;\n\n    }\n}\n</code></pre>\n\n<p>My first thought would be to remove matches from both arrays to reduce the pool size, would that affect the iterators position?</p>\n\n<p>Both sets of data can have up to a couple of million elements and the comparison can take a few hours to complete.</p>\n"}, {"tags": ["perl", "tcl", "expect", "expect.pm"], "comments": [{"owner": {"reputation": 887, "user_id": 1691280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f06b990f79e44451679541f695648de4?s=128&d=identicon&r=PG", "display_name": "Brandin", "link": "https://stackoverflow.com/users/1691280/brandin"}, "edited": false, "score": 0, "creation_date": 1497867218, "post_id": 44557238, "comment_id": 76241118, "body": "Stackoverflow is not a code writing/translating service."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5976400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1017330291656961/picture?type=large", "display_name": "Terrence Guo", "link": "https://stackoverflow.com/users/5976400/terrence-guo"}, "edited": false, "score": 0, "creation_date": 1498068755, "post_id": 44559933, "comment_id": 76350818, "body": "thank you so much! But I have already converted to Perl script. I&#39;d say Perl script is not hard. Anyways, thanks for those information."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1497507399, "creation_date": 1497507399, "answer_id": 44559933, "question_id": 44557238, "link": "https://stackoverflow.com/questions/44557238/how-can-i-convert-expect-script-to-perl-scprit/44559933#44559933", "title": "How can I convert expect script to perl scprit?", "body": "<pre><code>system('expect', '-f', &lt;&lt;'__EOS__');\nforeach addr $addr {\nif {$addr eq {}} continue;\n    set timeout 180\n    match_max 1000000\n    spawn telnet $addr\n    expect {\n    \"*timed out*\"   {puts \"Host not responding\"; continue}\n    \"'^]'.\"                                 {sleep .1}\n    }\n    expect \"*login*\"        {send \"$user\\r\"}\n    expect \"*assword:*\"     {send \"$pass\\r\"}\n    expect {\n    \"Login incorrect\"   {puts \"Bad Password or User\"; exit}\n    -re {[#&gt;] ?$}           {send \"page-off\\r\"} \n    }\n    log_file $customer\\-License-$date.log\n    expect -re {[#&gt;] ?$}\n    send \"show clock\\r\"\n    sleep .5\n    expect -re {[#&gt;] ?$}    \n    send \"show docsis channel utilization\\r\"\n    sleep .5\n    expect -re {[#&gt;] ?$}\n    send \"show clock\\r\"\n    sleep .5\n    expect -re {[#&gt;] ?$}\n    sleep .5\n    send -- \"\\r\\rexit\\r\"\nsend \"\\r\"\nputs \"Connection closed, connecting to next chassis\\r\"\n    sleep 1\n    log_file\nexpect eof;\n}\n__EOS__\n</code></pre>\n\n<p>Alternatively, there's the <a href=\"http://search.cpan.org/perldoc?Expect\" rel=\"nofollow noreferrer\">Expect</a> module.</p>\n"}], "owner": {"reputation": 11, "user_id": 5976400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1017330291656961/picture?type=large", "display_name": "Terrence Guo", "link": "https://stackoverflow.com/users/5976400/terrence-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1504608610, "creation_date": 1497491050, "last_edit_date": 1504608610, "question_id": 44557238, "link": "https://stackoverflow.com/questions/44557238/how-can-i-convert-expect-script-to-perl-scprit", "title": "How can I convert expect script to perl scprit?", "body": "<p>I never use perl script before. I have already done expect script, is there any way to convert it to perl?</p>\n\n<p>I am trying to learn perl script right now.\nAny idea could help!</p>\n\n<pre><code>foreach addr $addr {\nif {$addr eq {}} continue;\n    set timeout 180\n    match_max 1000000\n    spawn telnet $addr\n    expect {\n    \"*timed out*\"   {puts \"Host not responding\"; continue}\n    \"'^]'.\"                                 {sleep .1}\n    }\n    expect \"*login*\"        {send \"$user\\r\"}\n    expect \"*assword:*\"     {send \"$pass\\r\"}\n    expect {\n    \"Login incorrect\"   {puts \"Bad Password or User\"; exit}\n    -re {[#&gt;] ?$}           {send \"page-off\\r\"} \n    }\n    log_file $customer\\-License-$date.log\n    expect -re {[#&gt;] ?$}\n    send \"show clock\\r\"\n    sleep .5\n    expect -re {[#&gt;] ?$}    \n    send \"show docsis channel utilization\\r\"\n    sleep .5\n    expect -re {[#&gt;] ?$}\n    send \"show clock\\r\"\n    sleep .5\n    expect -re {[#&gt;] ?$}\n    sleep .5\n    send -- \"\\r\\rexit\\r\"\nsend \"\\r\"\nputs \"Connection closed, connecting to next chassis\\r\"\n    sleep 1\n    log_file\nexpect eof;\n}\n</code></pre>\n\n<p>Thanks a lot!</p>\n"}]