[{"tags": ["perl", "graph", "fonts", "gd", "legend"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1498682930, "post_id": 44811552, "comment_id": 76605160, "body": "GD does have some built-in fonts, but it also has support for TrueType fonts which give much better results.  There are some examples in this <a href=\"http://wellington.pm.org/archive/201002/grant-gd-graph/\" rel=\"nofollow noreferrer\">slide set</a>"}, {"owner": {"reputation": 39, "user_id": 6437245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/153d6f05213702f3781d7e2c341fd5a9?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/6437245/nicolas"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1498750753, "post_id": 44811552, "comment_id": 76639513, "body": "Do you know how to add them in though? That&#39;s what I can&#39;t figure out."}, {"owner": {"reputation": 39, "user_id": 6437245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/153d6f05213702f3781d7e2c341fd5a9?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/6437245/nicolas"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1498751389, "post_id": 44811552, "comment_id": 76639957, "body": "Also that link is to only a single cover slide."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1498784770, "post_id": 44811552, "comment_id": 76654909, "body": "I guess it&#39;s not obvious, there is a link to the next slide, or you can use arrow keys or PgDn/PgUp. Using a TrueType font requires specifying the pathname of the .ttf or .otf file."}], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 5478114, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41edd9b1f1237bf1216b24ad5e1f6178?s=128&d=identicon&r=PG&f=1", "display_name": "Melchester", "link": "https://stackoverflow.com/users/5478114/melchester"}, "is_accepted": false, "score": 0, "last_activity_date": 1527236419, "creation_date": 1527236419, "answer_id": 50524644, "question_id": 44811552, "link": "https://stackoverflow.com/questions/44811552/gdgraph-fonts-and-legends/50524644#50524644", "title": "GD::Graph Fonts and Legends", "body": "<p>You can add a legend and change the font with the following code:</p>\n\n<p><code>$graph-&gt;set_legend_font(GD::gdFontTiny);\n$graph-&gt;set_legend(split(' ',$legend));</code></p>\n"}], "owner": {"reputation": 39, "user_id": 6437245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/153d6f05213702f3781d7e2c341fd5a9?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/6437245/nicolas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 532, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1527236419, "creation_date": 1498680007, "question_id": 44811552, "link": "https://stackoverflow.com/questions/44811552/gdgraph-fonts-and-legends", "title": "GD::Graph Fonts and Legends", "body": "<p>I have a cumulative GD bar graph in a perl script that I can't seem to change the title font to larger and bold.</p>\n\n<p>Also, more importantly, how can you add a legend to a graph? I've read that there may not be a way to do so in the actual graph but added in with GD::Graph::Map.</p>\n\n<p>Any idea on how to go about doing either of these? I couldn't find a single answer that applied anywhere else.</p>\n\n<p>Thanks</p>\n\n<pre><code>my $graph = GD::Graph::bars-&gt;new (900,450);\n$graph-&gt;set(\n x_label         =&gt; 'X Label',\n y_label         =&gt; 'Y label',\n title           =&gt; 'Title',\n\n t_margin        =&gt; 5,\n b_margin        =&gt; 2,\n l_margin        =&gt; 5,\n r_margin        =&gt; 5,\n\n y_min_value     =&gt; 0,\n y_max_value     =&gt; 1200,\n y_tick_number   =&gt; 8,\n y_label_skip    =&gt; 3,\n cumulate        =&gt; 1,\n\n dclrs           =&gt; [qw(#4f81bd #70AD47 #5b9bd5 #FFC000 #ED7D31 #AFABAB #9E480E #997300 #264478 #ac63e3 #FF7171 #d571ce)],\n fgclr           =&gt; black,\n textclr         =&gt; black,\n labelclr        =&gt; black,\n axislabelclr    =&gt; black,\n\n x_labels_vertical =&gt; 1,\n y_long_ticks      =&gt; 1,\n line_width      =&gt; 4,\n bar_spacing     =&gt; 10,\n transparent     =&gt; 0,\n) or warn $graph-&gt;error;\n\n\n$tmp_trend_file = 'graph.png';\nopen(IMG, \"&gt;$tmp_trend_file\") or die $!;\nbinmode IMG;\nprint IMG $graph-&gt;plot(\\@data)-&gt;png();\nclose IMG;  \nprint \"&lt;p&gt;&lt;img src=$tmp_trend_file border=1&gt;&lt;p&gt;\\n\";\n</code></pre>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1498679459, "post_id": 44811245, "comment_id": 76603197, "body": "You&#39;re giving yourself this problem by having a second Makefile.PL. Stick to one to both simplify things and avoid this problem."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1498686815, "post_id": 44811245, "comment_id": 76606925, "body": "<i>&quot;it&#39;s that &quot;No tests defined for Foo extension&quot; warning that I&#39;d like to get rid of&quot;</i> When a friend pats your shoulder and says, &quot;I think you&#39;ve had enough. We should go home.&quot; you should pay attention to them, not try to get rid of them."}, {"owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1498687481, "post_id": 44811245, "comment_id": 76607201, "body": "@ikegami, can you point me at an example or documentation to extra C code from the top-level Makefile.PL?  I&#39;m coming up empty on that."}, {"owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498687539, "post_id": 44811245, "comment_id": 76607228, "body": "@Borodin, haha, yes, all the code is thoroughly tested at the top level. The only thing in there is the third-party C source."}, {"owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "edited": false, "score": 0, "creation_date": 1498691755, "post_id": 44811245, "comment_id": 76608490, "body": "I find I can set  <code>OBJECT =&gt; [&#39;Foo.o&#39;, &#39;src&#47;thirdparty.o&#39;],</code> and things are almost right, except that the compiler left <code>thirdparty.o</code> in the top-level directory, and the linker is looking for it in <code>src&#47;thirdparty.o</code>"}, {"owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "edited": false, "score": 0, "creation_date": 1498756866, "post_id": 44811245, "comment_id": 76643207, "body": "I gave up on eliminating src/Makefile.PL and added &quot;test&quot; to the <code>SKIP</code> section. Now I just get &quot;nothing to be done for &quot;test&quot;&#39;, which is fine."}], "owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1498678859, "creation_date": 1498678859, "question_id": 44811245, "link": "https://stackoverflow.com/questions/44811245/no-tests-defined-for-extension", "title": "no tests defined for extension", "body": "<p>I've written an XS wrapper around some C code and am packaging it as a CPAN module, call it \"Foo\". The original C source is in <code>src/</code> and following perlxstut that directory has its own Makefile.PL.</p>\n\n<p>The output of 'make test' now looks like this, and it's that \"No tests defined for Foo extension\" warning that I'd like to get rid of:</p>\n\n<pre><code>All tests successful.\nFiles=1, Tests=28,  0 wallclock secs ( 0.01 usr  0.00 sys +  0.04 cusr  0.00 csys =  0.05 CPU)\nResult: PASS\nmake[1]: Entering directory `/path/to/Foo/src'\nNo tests defined for Foo extension.\nmake[1]: Leaving directory `/path/to/Foo/src'\n</code></pre>\n\n<p>The bits in the created Makefile that are triggering that look like this:</p>\n\n<pre><code>subdirs-test ::\n    $(NOECHO) $(NOOP)\n\nsubdirs-test ::\n    $(NOECHO) cd src &amp;&amp; $(MAKE) test $(PASTHRU)\n</code></pre>\n\n<p>But I'm unable to find what's creating that second one, or how to make it stop.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["bash", "perl", "sed"], "comments": [{"owner": {"reputation": 63, "user_id": 8083796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cciBt.jpg?s=128&g=1", "display_name": "N Shumway", "link": "https://stackoverflow.com/users/8083796/n-shumway"}, "edited": false, "score": 0, "creation_date": 1498678927, "post_id": 44811130, "comment_id": 76602893, "body": "You could check the answers to this question: <a href=\"https://stackoverflow.com/questions/6951687/find-and-replace-text-in-a-47gb-large-file\" title=\"find and replace text in a 47gb large file\">stackoverflow.com/questions/6951687/&hellip;</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498688299, "post_id": 44811130, "comment_id": 76607501, "body": "The proper solution is to get the originator to create valid data. Why are you writing code to correct someone else&#39;s mistake? What would happen if the error couldn&#39;t be corrected at your end? How can such a &quot;miscommunication&quot; happen in the first place, and why does your company need Stack Overflow to fix their mistake? This is disgraceful at all levels, and management should not be getting you to fix errors like this."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1498689736, "post_id": 44811130, "comment_id": 76607972, "body": "Of course sed is trying to read the whole file into memory, sed reads one line at a time and your file contains one line."}], "answers": [{"comments": [{"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1498679789, "post_id": 44811380, "comment_id": 76603405, "body": "So, what are <code>$&#47;</code> and <code>$\\ </code>?"}, {"owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "reply_to_user": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1498679974, "post_id": 44811380, "comment_id": 76603516, "body": "<code>perlvar</code> <code>$&#47;</code>: input record separator and <code>$\\ </code>: output record separator. There is a problem with the command is that one more &quot;}\\n{&quot; is added at the end because of <code>-l</code> option"}, {"owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "reply_to_user": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1498680611, "post_id": 44811380, "comment_id": 76603904, "body": "thanks I thought to <code>undef $\\ if eof</code> and it was not due to <code>-l</code> option but because of print"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1498688625, "post_id": 44811380, "comment_id": 76607603, "body": "@stevesliva: <i>&quot;So, what are <code>$&#47;</code> and <code>$\\ </code>?&quot;</i> This is an answer to a Perl question. If you don&#39;t know the language then you need to ask a separate Stack Overflow question. Good luck for not getting a RTFM response."}, {"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498693318, "post_id": 44811380, "comment_id": 76608885, "body": "@Borodin I&#39;d delete the question if the answer were modified, but asking for the keystone of this answer to be explained wasn&#39;t because I didn&#39;t know where to find perlvar... but because it&#39;s simply not useful without the string &quot;record separator.&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1498693897, "post_id": 44811380, "comment_id": 76609017, "body": "@stevesliva: As you said, the answer needs some explanation. I agree. But there&#39;s a better way to say that and you don&#39;t have to resort to name calling."}], "tags": [], "owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "is_accepted": false, "score": 1, "last_activity_date": 1498680635, "last_edit_date": 1498680635, "creation_date": 1498679358, "answer_id": 44811380, "question_id": 44811130, "link": "https://stackoverflow.com/questions/44811130/splitting-very-long-4gb-string-with-new-lines/44811380#44811380", "title": "Splitting very long (4GB) string with new lines", "body": "<pre><code>perl -ple 'BEGIN{$/=qq/} {/;$\\=qq/}\\n{/}undef$\\ if eof' &lt;input &gt;output\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1498689843, "post_id": 44811397, "comment_id": 76607995, "body": "That will fail when your input contains <code>{</code>s in other contexts."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498691961, "post_id": 44811397, "comment_id": 76608541, "body": "@mob: I think Ed&#39;s concern is unfounded. As long as no occurrence of <code>} {</code> can be split across records they should all be substituted correctly. All I would change is <code>s&#47;\\}\\s*\\{&#47;}\\n{&#47;g</code> whi&#231;h escapes the braces in the pattern and allows for zero or more white space characters between them."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1498754899, "post_id": 44811397, "comment_id": 76642075, "body": "@ikegami no, barring writing a JSON parser I&#39;m not worried about <code>} {</code> appearing elsewhere and am happy to take the OPs word for it that every instance of that string should be operated on. I was actually thinking of <code>{</code> alone inside a comment or <code>{</code> in the context of nested values or something else. I&#39;m not familiar enough with JSON to say what that something else might be, it&#39;s just that <b>usually</b> when trying to do something with a string if you decide to do something else with part of that string then it leads to problems. Borodin may be right that in this specific case it&#39;s not an issue."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1498755596, "post_id": 44811397, "comment_id": 76642453, "body": "@Ed Morton, mob&#39;s code doesn&#39;t replace <code>{</code>; it replaces <code>} {</code>. The only place <code>} {</code> can appear in <a href=\"http://www.json.org/\" rel=\"nofollow noreferrer\">JSON</a> is in string literals (e.g. <code>{&quot;x&quot;:&quot;} {&quot;}</code>). (JSON doesn&#39;t have comments.)"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1498764324, "post_id": 44811397, "comment_id": 76647390, "body": "Yes, I understand that but he said he&#39;s using <code>{</code> alone to split the input into records and doing something like that (using part of the target string instead of the whole of it in some context) is what often causes problems where the solution will work for the posted sample and then fail later with different/real input. Most commonly we see people wanting to identify text between <code>{foo}</code> strings and they write regexps like <code>&#47;{foo}[^{]*&#47;&#39;</code> since they can&#39;t figure out how to negate <code>{foo}</code>. Again, idk if it&#39;s really a problem in this case. I meant string, not comment, sorry."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 1, "last_activity_date": 1498679426, "creation_date": 1498679426, "answer_id": 44811397, "question_id": 44811130, "link": "https://stackoverflow.com/questions/44811130/splitting-very-long-4gb-string-with-new-lines/44811397#44811397", "title": "Splitting very long (4GB) string with new lines", "body": "<p>The default input record separator in Perl is <code>\\n</code>, but you can change it to any character you want. For this problem, you could use <code>{</code> (octal 173).</p>\n\n<pre><code>perl -0173 -pe 's/}\\s{/}\\n{/g' file.in &gt; file.out\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1498681901, "post_id": 44811536, "comment_id": 76604665, "body": "@ikegami My original version worked on two chunks in the buffer to handle match over chunk boundary. Why have you selected so big chunk size? Anyway &quot;read in chunks&quot; is an overkill for &quot;use <b>once</b>&quot; script IMHO."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498690186, "post_id": 44811536, "comment_id": 76608093, "body": "@AndrzejA.Filip: I have rolled your solution back to before the major edit, but you must understand that that reintroduces the bug whereby your code will not work if the buffer ends in the middle of a <code>} {</code> boundary. The editor has posted their own solution, so I don&#39;t see any sense in them hijacking yours as well. But <b><i>please</i></b> address the problem, at least by annotating your code, and ideally by fixing it so that it works properly."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498692322, "post_id": 44811536, "comment_id": 76608645, "body": "@borodin 1) I have added comments indicating why my (original) code should handle &quot;pattern across chunk boundary&quot; situation. - it keeps TWO chunks buffered. &quot;Double rewrite&quot; makes no harm with this pattern 2) <b>ikegami</b> &quot;fundamental rewrite&quot; is better suited for handling short patterns - I have learned something :-)"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498694598, "post_id": 44811536, "comment_id": 76609170, "body": "@Borodin <code>0x2000</code> is a hex number - <code>perl -e &#39;print 0x2000&#39;</code> prints 8192."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498751334, "post_id": 44811536, "comment_id": 76639915, "body": "You&#39;re right of course. I&#39;m sorry for such a silly mistake. Even so, I would prefer to see <code>$CHUNK = 1024 * 8</code> which would be evaluated at compile time and makes the comment unnecessary."}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 0, "last_activity_date": 1498754656, "last_edit_date": 1498754656, "creation_date": 1498679942, "answer_id": 44811536, "question_id": 44811130, "link": "https://stackoverflow.com/questions/44811130/splitting-very-long-4gb-string-with-new-lines/44811536#44811536", "title": "Splitting very long (4GB) string with new lines", "body": "<p>You may read input in blocks/chunks and process them one by one.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nbinmode(STDIN);\nbinmode(STDOUT);\nmy $CHUNK=0x2000; # 8kiB\nmy $buffer = '';\n\nwhile( sysread(STDIN, $buffer, $CHUNK, length($buffer))) {\n  $buffer =~ s/\\}\\s\\{/}\\n{/sg;\n  if( length($buffer) &gt; $CHUNK) { # More than one chunk buffered\n    syswrite( STDOUT, $buffer, $CHUNK); # write  FIRST of buffered chunks\n    substr($buffer,0,$CHUNK,''); # remove FIRST of buffered chunks from buffer\n  }\n}\nsyswrite( STDOUT, $buffer) if length($buffer);                                             \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1498682330, "last_edit_date": 1498682330, "creation_date": 1498681991, "answer_id": 44812052, "question_id": 44811130, "link": "https://stackoverflow.com/questions/44811130/splitting-very-long-4gb-string-with-new-lines/44812052#44812052", "title": "Splitting very long (4GB) string with new lines", "body": "<p>Unlike the earlier solutions, this one handles <code>{\"x\":\"} {\"}</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nuse JSON::XS qw( );\n\nuse constant READ_SIZE =&gt; 64*1024*1024;\n\nmy $j_in = JSON::XS-&gt;new-&gt;utf8;\nmy $j_out = JSON::XS-&gt;new;\n\nbinmode STDIN;\nbinmode STDOUT, ':encoding(UTF-8)';\n\nwhile (1) {\n   my $rv = sysread(\\*STDIN, my $block, READ_SIZE);\n   die($!) if !defined($rv);\n   last if !$rv;\n\n   $j_in-&gt;incr_parse($block);\n\n   while (my $o = $j_in-&gt;incr_parse()) {\n      say $j_out-&gt;encode($o);\n   }\n}\n\ndie(\"Bad data\") if $j_in-&gt;incr_text !~ /^\\s*\\z/;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1498689987, "last_edit_date": 1498689987, "creation_date": 1498689420, "answer_id": 44813604, "question_id": 44811130, "link": "https://stackoverflow.com/questions/44811130/splitting-very-long-4gb-string-with-new-lines/44813604#44813604", "title": "Splitting very long (4GB) string with new lines", "body": "<p>Assuming your input doesn't contain <code>} {</code> pairs in other contexts that you do not want replaced, ll you need is:</p>\n\n<pre><code>awk -v RS='} {' '{ORS=(RT ? \"}\\n{\" : \"\\n\")} 1'\n</code></pre>\n\n<p>e.g.</p>\n\n<pre><code>$ printf '{foo} {bar}' | awk -v RS='} {' '{ORS=(RT ? \"}\\n{\" : \"\\n\")} 1'\n{foo}\n{bar}\n</code></pre>\n\n<p>The above uses GNU awk for multi-char RS and RT and will work on any size input file as it does not read the whole file into memory at one time, just each <code>} {</code>-separated \"line\" one at a time.</p>\n"}], "owner": {"reputation": 385, "user_id": 779860, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/2d64d526b93bd9396b57cf02101982a6?s=128&d=identicon&r=PG", "display_name": "user779860", "link": "https://stackoverflow.com/users/779860/user779860"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 44811397, "answer_count": 5, "score": 3, "last_activity_date": 1498754656, "creation_date": 1498678469, "last_edit_date": 1498687059, "question_id": 44811130, "link": "https://stackoverflow.com/questions/44811130/splitting-very-long-4gb-string-with-new-lines", "title": "Splitting very long (4GB) string with new lines", "body": "<p>I have a file that is supposed to be JSON objects, one per line. Unfortunately, a miscommunication happened with the creation of the file, and the JSON objects only have a space between them, not a new-line.</p>\n\n<p>I need to fix this by replacing every instance of <code>} {</code> with <code>}\\n{</code>.</p>\n\n<p>Should be easy for sed or Perl, right?</p>\n\n<p><code>sed -e \"s/}\\s{/}\\n{/g\" file.in &gt; file.out</code></p>\n\n<p><code>perl -pe \"s/}\\s{/}\\n{/g\" file.in &gt; file.out</code></p>\n\n<p>But <code>file.in</code> is actually 4.4 GB which seems to be causing a problem for both of these solutions.</p>\n\n<p>The sed command finishes with a halfway-correct file, but <code>file.out</code> is only 335 MB and is only about the first 1/10th of the input file, cutting off in the middle of a line. It's almost like sed just quit in the middle of the stream. Maybe it's trying to load the entire 4.4 GB file into memory but running out of stack space at around 300MB and silently kills itself.</p>\n\n<p>The Perl command errors with the following message:</p>\n\n<p><code>[1]    2904 segmentation fault  perl -pe \"s/}\\s{/}\\n{/g\" file.in &gt; file.out</code></p>\n\n<p>What else should I try?</p>\n"}, {"tags": ["perl", "iis", "routes", "mojolicious", "mojolicious-lite"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498725736, "post_id": 44811075, "comment_id": 76620547, "body": "The things your IIS sees are not headers. It&#39;s reading the log output, which should go to STDERR and thinks that&#39;s the response. How did you connect the Mojo app to IIS? Is it running on hypnotoad through FCGI? It talks about CGI in that message. If that&#39;s real CGI it&#39;s going to be quite inefficient because it needs to compile the whole application for every request. I don&#39;t think you want that."}, {"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498736727, "post_id": 44811075, "comment_id": 76628233, "body": "Ah okay so I&#39;m missing a piece. I am simply running the startup script, like you would in morbo. I had FastCGI turned on but it caused errors, which was strange to me from what I had read. So currently yes I am just running CGI at the moment. I&#39;ll have to look into this &quot;hypnotoad&quot;. Thank you!"}, {"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498737289, "post_id": 44811075, "comment_id": 76628643, "body": "Okay I&#39;m slightly confused. Hypnotoad is it&#39;s on server, like morbo? So you run a server on the server? Seems strange to me, but I&#39;ll give it a shot and see what happens."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498737783, "post_id": 44811075, "comment_id": 76629033, "body": "Yes, it&#39;s the production server. I think you can run it behind iis with FCGI. But maybe also completely without iis. Do you need that specifically? For serving files or something?"}, {"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498738108, "post_id": 44811075, "comment_id": 76629283, "body": "That would be okay for my personal use (in fact probably better), but everything my team hosts is on iis. Which means it would have to listen to a different port. I don&#39;t think that would be okay. So if there is a way to listen to the same port, I don&#39;t see a reason I NEED iis."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498738515, "post_id": 44811075, "comment_id": 76629618, "body": "You cannot listen to the same port on the same machine. FCGI will &quot;forward&quot; requests to another port where your app is listening. The idea is to firewall that port from the outside. I&#39;m not very familiar with mojo and have not run anything productively on windows, so I&#39;m a bit out of my element. Maybe there is something in the hypnotoad docs? If that doesn&#39;t help, ask in #mojo on irc.perl.org, those guys will figure it out."}, {"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498739229, "post_id": 44811075, "comment_id": 76630242, "body": "Hmm okay, thanks for all the input. Very helpful."}, {"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1498823900, "post_id": 44811075, "comment_id": 76671958, "body": "Okay so after some research, a proxy server seems to be what I am after. Configure IIS to look at Mojolicious&#39;s Daemon server. I&#39;m fairly certain this is the solution. Will be back with the result once I try it."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1507307764, "post_id": 44854251, "comment_id": 80172334, "body": "I think there was no need to delete the other question just now. In fact with the edited title it was a very good alternative to the duplicate. I suggest you undelete it, so others facing the same problem related to Mojo can find it and the duplicate target. :)"}], "tags": [], "owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "is_accepted": false, "score": 0, "last_activity_date": 1498853858, "creation_date": 1498853858, "answer_id": 44854251, "question_id": 44811075, "link": "https://stackoverflow.com/questions/44811075/perl-mojolicious-iis-routes-going-to-post-method/44854251#44854251", "title": "Perl Mojolicious IIS routes going to POST method", "body": "<p>Okay so @simbabque was right, you can host completely indepindent from IIS.</p>\n\n<p>I just made my start up script something like </p>\n\n<pre><code>Mojolicious::Commands-&gt;start_app('BeachConditions', 'daemon', '-l', 'http://*:8080');\n</code></pre>\n\n<p>Now it is accessible and all you do is run the startup script.</p>\n\n<p>This brings me to a new question that I will post. \nHow do you run multiple applications then?</p>\n"}], "owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1498853858, "creation_date": 1498678341, "last_edit_date": 1498682556, "question_id": 44811075, "link": "https://stackoverflow.com/questions/44811075/perl-mojolicious-iis-routes-going-to-post-method", "title": "Perl Mojolicious IIS routes going to POST method", "body": "<p>Here we go, I have a Mojolicious application that works when running on the morbo server. When I run it in IIS it seems to work, but when you submit any form, it's like IIS isn't sure which route is the GET or POST method.</p>\n\n<p>so currently I have routes looking like </p>\n\n<pre><code>my $authorized = $r-&gt;under('/conditions_form')-&gt;to('Account#is_logged_in');\n  $authorized-&gt;get('/')-&gt;name('beach_conditions_form')-&gt;to('form#show_beach_conditions_form');\n  $authorized-&gt;post('/')-&gt;name('submit_conditions')-&gt;to('form#submit_beach_conditions');\n</code></pre>\n\n<p>When my form is completed and submitted it should redirect back to the form like so</p>\n\n<pre><code>$self-&gt;redirect_to('beach_conditions_form');\n</code></pre>\n\n<p>This is when I get my error! \nThe error is along the lines of</p>\n\n<pre><code>The specified CGI application misbehaved by not returning a complete set of HTTP headers. The headers it did return are \"[Wed Jun 28 15:26:22 2017] [debug] Reading configuration file \"D:\\inetpub\\wwwroot\\beach_conditions\\beach_conditions.conf\" [Wed Jun 28 15:26:22 2017] [debug] POST \"/conditions_form\" [Wed Jun 28 15:26:22 2017] [debug] Routing to controller \"BeachConditions::Controller::Account\" and action \"is_logged_in\" [Wed Jun 28 15:26:22 2017] [debug] Routing to controller \"BeachConditions::Controller::Form\" and action \"submit_beach_conditions\" [Wed Jun 28 15:26:22 2017] [error] DBIx::Class::Storage::DBI::_dbh_execute(): DBI Exception: DBD::ODBC::st execute failed: [Microsoft][ODBC SQL Server Driver][SQL Server]Cannot insert the value NULL into column 'OBS_DT', table 'BeachSafety.dbo.BEACH_CONDITIONS'; column does not allow nulls. INSERT fails. (SQL-23000) [state was 23000 now 01000] [Microsoft][ODBC SQL Server Driver][SQL Server]The statement has been terminated. (SQL-01000) [for Statement \"INSERT INTO BEACH_CONDITIONS ( beach_current, flag_color, note, obs_dt, obs_loc, rip_current_risk, water_temp, wave_height, wave_type, weather, wind_direction, wind_speed) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) SELECT SCOPE_IDENTITY()\" with ParamValues: 1=undef, 2=undef, 3=undef, 4=undef, 5=undef, 6=undef, 7=undef, 8=undef, 9=undef, 10=undef, 11=undef, 12=undef] \n</code></pre>\n\n<p>Which to me, means it just skipped over the GET method and straight to the POST....</p>\n\n<p>If I hard code the path, all is good (but all is not good, because it's hard coded....).</p>\n\n<p>This works..</p>\n\n<pre><code>$self-&gt;redirect_to('http://server/beach_conditions/beach_conditions.pl/conditions_form');\n</code></pre>\n\n<p>I found this, but not much help.</p>\n\n<p><a href=\"https://groups.google.com/forum/#!topic/mojolicious/IPJopdGCdKQ\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!topic/mojolicious/IPJopdGCdKQ</a></p>\n\n<p>Thank you for any information. </p>\n"}, {"tags": ["html", "perl", "parsing", "screen-scraping"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498678355, "post_id": 44810816, "comment_id": 76602599, "body": "Don&#39;t do this: <code>foreach $1 (@td) {</code> ... As for the rest, all the bits of information you want are easily identifiable. So, extract them."}, {"owner": {"reputation": 11, "user_id": 8092775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5975b00090d0fa1c46a9029e8913e941?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Fallin", "link": "https://stackoverflow.com/users/8092775/jake-fallin"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498678551, "post_id": 44810816, "comment_id": 76602698, "body": "@Sinan&#220;n&#252;r What would you suggest instead?"}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 3, "last_activity_date": 1498698119, "creation_date": 1498698119, "answer_id": 44814765, "question_id": 44810816, "link": "https://stackoverflow.com/questions/44810816/html-parsing-using-htmltree-in-perl/44814765#44814765", "title": "HTML Parsing using HTML::Tree in Perl", "body": "<p>First, this is an <strong><em>abomination</em></strong>:</p>\n\n<pre><code>foreach $1 (@td) {\n    print $1-&gt;as_text();\n    print \"\\n\";\n}\n</code></pre>\n\n<p>You might think it is cute, but it is confusing to use <a href=\"https://metacpan.org/pod/perlreref\" rel=\"nofollow noreferrer\">regex capture variables</a> such as <code>$1</code> as a loop variable especially since you also say \"I need a way... so <strong><em>I can do it with Regex</em></strong>.\" (<em>emphasis mine</em>)</p>\n\n<p>This is the kind of nonsense that leads to unmaintainable programs which give Perl a bad name.</p>\n\n<p>Always use <code>strict</code> and <code>warnings</code> and use a plain variable for your loops.</p>\n\n<p>Second, you are interested in three specific elements in each <code>td</code>: 1) The text of <code>a[class=\"ClubLink\"]</code>; 2) <code>The text of div[class=\"SubHeading\"]</code>; and 3) The text of <code>font[color=\"black\"]</code>.</p>\n\n<p>So, just extract those three bits of information instead of flattening the text inside a <code>td</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse HTML::Tree;\n\nmy $html = &lt;&lt;HTML;\n&lt;td class=\"ClubRow\" width=\"80%\"&gt; &lt;div&gt; &lt;a\nhref=\"/rankings/club.aspx?ClubID=27086\" class=\"ClubLink\"&gt;AYSO United&lt;/a&gt;&lt;/div&gt;\n&lt;div class=\"SubHeading\"&gt;Madison, AL&lt;/div&gt; &lt;a\nhref=\"http://www.aysounitednorthalabama.org\" target=\"_blank\"&gt;&lt;img\nsrc=\"/images/icons/ArrowRightSm.png\" class=\"LinkIcon\"&gt;&lt;font\ncolor=\"black\"&gt;www.aysounitednorthalabama.org&lt;/font&gt;&lt;/a&gt; &lt;/td&gt;\nHTML\n\nmy $tree = HTML::Tree-&gt;new_from_content( $html );\n\nmy @wanted = (\n    [class =&gt; 'ClubLink'],\n    [class =&gt; 'SubHeading'],\n    [_tag =&gt; 'font', color =&gt; 'black'],\n);\n\nmy @td = $tree-&gt;look_down( _tag =&gt; 'td', class =&gt; 'ClubRow');\n\nfor my $td ( @td ) {\n    my ($club, $loc, $www) = map $td-&gt;look_down(@$_)-&gt;as_text, @wanted;\n    print join(' - ', $club, $loc, $www), \"\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ ./gg.pl\nAYSO United - Madison, AL - www.aysounitednorthalabama.org\n</code></pre>\n\n<p>Of course, I would have probably used <a href=\"https://metacpan.org/pod/HTML::TreeBuilder::XPath\" rel=\"nofollow noreferrer\">HTML::TreeBuilder::XPath</a> to take advantage of XPath queries.</p>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 1, "last_activity_date": 1498909490, "creation_date": 1498909490, "answer_id": 44860522, "question_id": 44810816, "link": "https://stackoverflow.com/questions/44810816/html-parsing-using-htmltree-in-perl/44860522#44860522", "title": "HTML Parsing using HTML::Tree in Perl", "body": "<p>Here's a <a href=\"http://mojolicious.org\" rel=\"nofollow noreferrer\">Mojolicious</a> example. It's the same thing that <a href=\"https://stackoverflow.com/a/44814765/2766176\">Sinan did</a> but with a different toolbox which has the tools to fetch and process the webpage. It looks a bit long, but that's just the comments and documentation. ;)</p>\n\n<p>I like that <a href=\"http://mojolicious.org\" rel=\"nofollow noreferrer\">Mojolicious</a> is \"batteries included\", so once I load one of the modules, I probably have everything else I need for the task:</p>\n\n<pre><code>use v5.10;\nuse Mojo::UserAgent;\n\nmy $url = \"http://home.gotsoccer.com/clubs.aspx?&amp;clubname=&amp;clubstate=AL&amp;clubcity=\";\nmy $ua = Mojo::UserAgent-&gt;new;\n\nmy $tx = $ua-&gt;get( $url );\n\n    # You could do some error checking here in case the fetch fails\n$tx-&gt;res-&gt;dom\n        # there are lots of ClubRow td cells, but we want the one with\n        # the width attribute. Find all of those. See Mojo::DOM::CSS for \n        # docs on CSS selectors.\n    -&gt;find( 'td[class=ClubRow][width=80%]' )\n        # now go through each td and extract several things\n    -&gt;map( sub {\n            # these selectors represent the club location, name, and website\n        state $find = [ qw(\n            a[class=ClubLink]\n            div[class=SubHeading]\n            font[color=black]\n            ) ];\n        my $chunk = $_;\n\n            # return the location, name, and link as a tuple for later\n            # processing\n        [\n            map { s/\\t+/ /gr } # remove tabs so we can use them as a separator\n            map { $chunk-&gt;find( $_ )-&gt;map( 'text' )-&gt;[0] }\n            @$find\n        ]\n        } )\n        # do something will all tuples. In this case, output them as tab\n        # separated values (which is why you removed tabs already). You \n       # should be able to easily import this into a spreadsheet application.\n    -&gt;each( sub { say join \"\\t\", @$_ } );\n</code></pre>\n\n<p>The output has that annoying first line, but you can fix that up on your own:</p>\n\n<pre><code>*****Other Club*****\nAlabama Soccer Association      www.alsoccer.org\nAlabaster Competitive SC        acsc.teampages.com/\nAlabaster Parks and Rec\nAlex City YSL       www.alexcitysoccer.com/\nAuburn Thunder SC       auburnthundersoccer.com/\nAYSO United Madison, AL www.aysounitednorthalabama.org\nBirmingham Area Adult Soccer League\nBirmingham Bundesliga LLC   Birmingham, AL  www.birmingham7v7.com\nBirmingham Premier League\nBirmingham United SA    Birmingham, AL, AL  www.birminghamunited.com/\nBlount County Youth Soccer  Oneonta, AL bcysfury.com\nBriarwood SC    Birmingham, AL  www.questrecreation.org/briarwood-soccer-club.html...\nCapital City Streaks    Montgomery, AL  www.capitalcitystreaks.org\nCity of Calera Youth Soccer\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8092775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5975b00090d0fa1c46a9029e8913e941?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Fallin", "link": "https://stackoverflow.com/users/8092775/jake-fallin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1498909490, "creation_date": 1498677395, "last_edit_date": 1498677701, "question_id": 44810816, "link": "https://stackoverflow.com/questions/44810816/html-parsing-using-htmltree-in-perl", "title": "HTML Parsing using HTML::Tree in Perl", "body": "<p>I'm trying to scrape a webpage and get the values that are inside the html tags. The end result would be a way to separate values in a way that looks like\nClub: x   Location: y   URL: z</p>\n\n<p>Here's what I have so far</p>\n\n<pre><code>use HTML::Tree;\nuse LWP::Simple;\n\n$url = \"http://home.gotsoccer.com/clubs.aspx?&amp;clubname=&amp;clubstate=AL&amp;clubcity=\";\n$content = get($url);\n$tree = HTML::Tree-&gt;new();\n$tree-&gt;parse($content);\n@td = $tree-&gt;look_down( _tag =&gt; 'td', class =&gt; 'ClubRow');\nforeach $1 (@td) {\n    print $1-&gt;as_text();\n    print \"\\n\";\n}\n</code></pre>\n\n<p>And what is printed is like </p>\n\n<pre><code>AYSO UnitedMadison, ALwww.aysounitednorthalabama.org\n</code></pre>\n\n<p>This is what the HTML looks like</p>\n\n<pre><code>&lt;td class=\"ClubRow\" width=\"80%\"&gt;\n   &lt;div&gt;\n       &lt;a href=\"/rankings/club.aspx?ClubID=27086\" class=\"ClubLink\"&gt;AYSO United&lt;/a&gt;&lt;/div&gt;\n   &lt;div class=\"SubHeading\"&gt;Madison, AL&lt;/div&gt;\n       &lt;a href=\"http://www.aysounitednorthalabama.org\" target=\"_blank\"&gt;&lt;img src=\"/images/icons/ArrowRightSm.png\" class=\"LinkIcon\"&gt;&lt;font color=\"black\"&gt;www.aysounitednorthalabama.org&lt;/font&gt;&lt;/a&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>I need a way to either split these fields into separate variables or add some sort of deliminating character so I can do it with Regex. There isn't much documentation online so any help would be appreciative. </p>\n"}, {"tags": ["perl", "return"], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 3, "last_activity_date": 1498687221, "last_edit_date": 1498687221, "creation_date": 1498676928, "answer_id": 44810694, "question_id": 44810575, "link": "https://stackoverflow.com/questions/44810575/in-perl-how-can-i-set-before-returning-something-from-a-function/44810694#44810694", "title": "In Perl, how can I set $! before returning something from a function?", "body": "<p><code>perldoc -v $!</code>:</p>\n\n<blockquote>\n  <p>When referenced, <code>$!</code> retrieves the <strong><em>current value of the C \"<code>errno</code>\"\n              integer variable</em></strong>. If <code>$!</code> is assigned a numerical value, that value\n              is stored in \"errno\". When referenced as a string, <code>$!</code> yields the\n              system error string corresponding to \"<code>errno</code>\". </p>\n  \n  <p>... Assignment to <code>$!</code> is similarly <strong><em>ephemeral</em></strong>. It\n              can be used immediately before invoking the \"<code>die()</code>\" operator, to\n              set the exit value, or to inspect the system error string\n              corresponding to error <code>n</code>, or to restore <code>$!</code> to a meaningful state. (<em>emphases mine</em>)</p>\n</blockquote>\n\n<p>That explains why you can't do the obvious:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nsay_hi() or die \"ERROR: sub say_hi had an issue: Details =&gt; $!\\n\";\n\nsub say_hi{\n   my ($name) = @_;\n   unless ($name) {\n       $! = 'no name';\n       return;\n   }\n   print \"Hi $name\\n\";\n   return 1;\n}\n</code></pre>\n\n<p>That results in:</p>\n\n<blockquote>\n  <p><code>ERROR: sub say_hi had an issue: Details =&gt;</code></p>\n</blockquote>\n\n<p>Consider using <code>eval</code>/<code>$@</code>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\neval { say_hi() } or die \"ERROR: sub say_hi had an issue: Details =&gt; $@\\n\";\n\nsub say_hi{\n   my ($name) = @_;\n   $name or die \"no name\\n\";\n   print \"Hi $name\\n\";\n   return 1;\n}\n</code></pre>\n\n<p>See also \"<a href=\"https://stackoverflow.com/q/10364975/100754\">Is Try::Tiny still recommended for exception handling in Perl 5.14 or later?</a>\"</p>\n\n<p>If you follow brian's recommendation in this answer to that question, you can do something like:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $r = say_hi();\n\n$r-&gt;{success}\n    or die sprintf \"ERROR: sub say_hi had an issue: Details =&gt; %s\\n\", $r-&gt;{reason};\n\nsub say_hi{\n   my ($name) = @_;\n   $name or return { success =&gt; 0, reason =&gt; 'Missing \"name\"' };\n   print \"Hi $name\\n\";\n   return { success =&gt; 1 };\n}\n</code></pre>\n\n<p>Or, you can use <a href=\"https://metacpan.org/pod/Params::Validate\" rel=\"nofollow noreferrer\">Params::Validate</a> or <a href=\"https://metacpan.org/pod/Validate::Tiny\" rel=\"nofollow noreferrer\">Validate::Tiny</a> etc.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1498678631, "creation_date": 1498678631, "answer_id": 44811169, "question_id": 44810575, "link": "https://stackoverflow.com/questions/44810575/in-perl-how-can-i-set-before-returning-something-from-a-function/44811169#44811169", "title": "In Perl, how can I set $! before returning something from a function?", "body": "<p><code>$!</code> is a proxy for C's <code>errno</code>. The values <code>errno</code> can take are available as constants in <a href=\"http://search.cpan.org/perldoc?Errno\" rel=\"nofollow noreferrer\">Errno</a>.</p>\n\n<pre><code>use Errno qw( EINVAL );\n\nsub foo {\n   my ($arg) = @_;\n   if (!$arg) {\n      $! = EINVAL;\n      return 0;\n   }\n\n   ...\n\n   return 1;\n}\n\nfoo(...)\n   or die($!);\n</code></pre>\n\n<p>This is rarely done, mostly because you are limited to error codes designed for system calls. It's far more common to throw exceptions or have a module-specific error variable (e.g. <code>$DBI::err</code>).</p>\n"}], "owner": {"reputation": 747, "user_id": 2474912, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/i6p16.gif?s=128&g=1", "display_name": "JohnnyLoo", "link": "https://stackoverflow.com/users/2474912/johnnyloo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 44810694, "answer_count": 2, "score": 0, "last_activity_date": 1498687221, "creation_date": 1498676498, "last_edit_date": 1498677334, "question_id": 44810575, "link": "https://stackoverflow.com/questions/44810575/in-perl-how-can-i-set-before-returning-something-from-a-function", "title": "In Perl, how can I set $! before returning something from a function?", "body": "<p>Imagine I have this simple function</p>\n\n<pre><code>say_hi() || die \"ERROR: sub say_hi had an issue: Details =&gt; $!\\n\";\n\nsub say_hi{\n   my ($name) = @_;\n   return unless $name;\n   print \"Hi $name\\n\";\n   return 1;\n}\n</code></pre>\n\n<p>How can I set the content of <strong>$!</strong> in the sub so that it can be used after function returns. I'm trying to do something similar to what </p>\n\n<pre><code>open() || die \"$!\";\n</code></pre>\n\n<p>does. Thank you</p>\n"}, {"tags": ["perl", "unit-testing"], "answers": [{"comments": [{"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1498666546, "post_id": 44807729, "comment_id": 76595611, "body": "Perfect! Is it possible to later unmock the function?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498666659, "post_id": 44807729, "comment_id": 76595687, "body": "Surely <code>use subs &#39;chdir&#39;</code> is identical to declaring it with <code>sub chdir;</code>, and neither are necessary if the definition comes before the call? That recommendation seems to be separate from the main point."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498666661, "post_id": 44807729, "comment_id": 76595689, "body": "Note &quot;<i>[using subs] will affect only the package in which you&#39;ve imported the said subroutine</i>&quot; ... If you want something else, show your code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1498666755, "post_id": 44807729, "comment_id": 76595740, "body": "<i>&quot;Is it possible to later unmock the function?&quot;</i> I don&#39;t see why you would want to within a test program, but you would have to write <code>*chdir = \\&amp;CORE::chdir</code>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498667009, "post_id": 44807729, "comment_id": 76595890, "body": "@Borodin Docs say <i>conveniently</i> ... So, my guess is that the author, like me, doesn&#39;t like a bunch of <code>sub foo</code>, <code>sub blarf;</code> etc statements sprinkled around the code."}, {"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498667813, "post_id": 44807729, "comment_id": 76596394, "body": "@Borodin I need to mock <code>rename</code> and <code>unlink</code> for my test file, but there are many files that will run in the same runtime.  I want <code>rename</code> and <code>unlink</code> when called from the functions that I am testing, to be mocked, but I don&#39;t want to mock them for other functions.  The solution may end up being to just abstract the calls out to subroutines and mock the subroutines."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1498667915, "post_id": 44807729, "comment_id": 76596461, "body": "Re &quot;<i>Perfect! Is it possible to later unmock the function?</i>&quot;, It&#39;s best not to unhook. Instead, use a flag. <code>sub { if ($mock_active) { ... } else { CORE::chdir(...); }</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498667940, "post_id": 44807729, "comment_id": 76596476, "body": "@Sinan&#220;n&#252;r: Except for this case, where you&#39;re redefining something for which perl already has a definition, I think <code>use subs</code> should be considered to be archaic together with <code>use vars</code>. Perl&#39;s compiler treats a call to an undefined subroutine as a declaration and assumes that it is unprototyped. Even here I think an awkward list of <code>sub chdir</code>, <code>sub unlink</code> etc. would be useful to emphasize that these <i>core</i> operators are being overridden."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498668071, "post_id": 44807729, "comment_id": 76596559, "body": "<i>&quot;I don&#39;t want to mock [<code>rename</code> and <code>unlink</code>] for other functions&quot;</i> Then the best way would be to localise the definitions with either <code>local</code> or different namespaces. Hacking typeglobs should be reserved for tested module code. I disagree with the idea of using a flag; that is very old-fashioned and unnecessarily pollutes the code."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498670188, "post_id": 44807729, "comment_id": 76597848, "body": "@Borodin Actually, declaring with <code>sub unlink;</code> actually results in <i>Ambiguous call resolved as <code>CORE::unlink()</code>, qualify as such or use <code>&amp;</code></i> whereas <code>use subs &#39;unlink</code> doesn&#39;t."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498670856, "post_id": 44807729, "comment_id": 76598224, "body": "@Sinan&#220;n&#252;r: Thank you. That&#39;s odd, and I would consider it to be a bug. Can you think why I shouldn&#39;t write it up?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498671201, "post_id": 44807729, "comment_id": 76598449, "body": "@Borodin I can&#39;t but that might reflect a lack of imagination on my part. After all, all <code>subs</code> is doing is <code>*{&quot;${callpack}::$sym&quot;} = \\&amp;{&quot;${callpack}::$sym&quot;};</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498671588, "post_id": 44807729, "comment_id": 76598679, "body": "@Sinan&#220;n&#252;r: Likewise, but that&#39;s awful! It&#39;s always a shame when you must find a spanner (wrench) before you can drive your car. I&#39;m surprised that <code>sub $sym</code> does something different, except that the variable wouldn&#39;t be expanded."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 6, "last_activity_date": 1498668332, "last_edit_date": 1498668332, "creation_date": 1498666383, "answer_id": 44807729, "question_id": 44807612, "link": "https://stackoverflow.com/questions/44807612/how-to-mock-built-in-operators/44807729#44807729", "title": "How to mock built-in operators", "body": "<p>See <a href=\"https://perldoc.perl.org/CORE.html#OVERRIDING-CORE-FUNCTIONS\" rel=\"nofollow noreferrer\">overriding core functions</a>:</p>\n\n<blockquote>\n  <p>To override a Perl built-in routine with your own version, you need to import it at compile-time. This can be conveniently achieved with the <a href=\"https://metacpan.org/pod/subs\" rel=\"nofollow noreferrer\">subs</a> pragma. This will affect only the package in which you've imported the said subroutine:</p>\n\n<pre><code>   use subs 'chdir';\n    sub chdir { ... }\n    chdir $somewhere;\n</code></pre>\n  \n  <p>To override a built-in globally (that is, in all namespaces), you need to import your function into the <code>CORE::GLOBAL</code> pseudo-namespace at compile time:</p>\n\n<pre><code>    BEGIN {\n        *CORE::GLOBAL::hex = sub {\n            # ... your code here\n        };\n    }\n</code></pre>\n  \n  <p>The new routine will be called whenever a built-in function is called without a qualifying package:</p>\n\n<pre><code>   print hex(\"0x50\"),\"\\n\";            # prints 1\n</code></pre>\n  \n  <p>In both cases, if you want access to the original, unaltered routine, use the <code>CORE::</code> prefix:</p>\n\n<pre><code>   print CORE::hex(\"0x50\"),\"\\n\";      # prints 80\n</code></pre>\n</blockquote>\n\n<p>See also <a href=\"https://perldoc.perl.org/perlsub.html#Overriding-Built-in-Functions\" rel=\"nofollow noreferrer\">the relevant section in <code>perldoc perlsub</code></a>:</p>\n\n<blockquote>\n  <p>When you override a built-in, your replacement should be consistent (if possible) with the built-in native syntax. You can achieve this by using a suitable prototype. To get the prototype of an overridable built-in, use the prototype function with an argument of \"<code>CORE::builtin_name</code>\" (see <code>prototype</code>).</p>\n  \n  <p>Note however that some built-ins can't have their syntax expressed by a prototype (such as system or chomp). If you override them you won't be able to fully mimic their original syntax.</p>\n  \n  <p>The built-ins <code>do</code>, <code>require</code> and <code>glob can</code> also be overridden, but due to special magic, their original syntax is preserved, and you don't have to define a prototype for their replacements. (You can't override the <code>do BLOCK</code> syntax, though).</p>\n  \n  <p><code>require</code> has special additional dark magic: if you invoke your <code>require</code> replacement as <code>require Foo::Bar</code>, it will actually receive the argument <code>\"Foo/Bar.pm\"</code> in <code>@_</code>. See <code>require</code>.</p>\n  \n  <p>And, as you'll have noticed from the previous example, if you override <code>glob</code>, the <code>&lt;*&gt;</code> glob operator is overridden as well.</p>\n  \n  <p>In a similar fashion, overriding the <code>readline</code> function also overrides the equivalent I/O operator <code>&lt;FILEHANDLE&gt;</code>. Also, overriding <code>readpipe</code> also overrides the operators `` and <code>qx//</code>.</p>\n  \n  <p>Finally, some built-ins (e.g. <code>exists</code> or <code>grep</code>) can't be overridden.</p>\n</blockquote>\n"}], "owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 510, "favorite_count": 0, "accepted_answer_id": 44807729, "answer_count": 1, "score": 4, "last_activity_date": 1498671201, "creation_date": 1498666021, "last_edit_date": 1498671201, "question_id": 44807612, "link": "https://stackoverflow.com/questions/44807612/how-to-mock-built-in-operators", "title": "How to mock built-in operators", "body": "<p>I need to mock built-in operators like <code>unlink</code> and <code>rename</code> as part of a test suite. I can't get this to work using <a href=\"https://metacpan.org/pod/Test::MockObject\" rel=\"nofollow noreferrer\"><code>Test::MockObject</code></a></p>\n\n<pre><code>&gt;&gt; my $mock = Test::MockObject-&gt;new();\n&gt;&gt; $mock-&gt;mock('unlink', sub { print \"Mocked!\\n\"; });\n&gt;&gt; unlink \"foo\";\n0\n</code></pre>\n\n<p>Is it possible to mock built-in functions like this?</p>\n"}, {"tags": ["perl", "selenium-webdriver", "automated-tests", "centos7"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1498664591, "post_id": 44807103, "comment_id": 76594182, "body": "Have you installed the module this depends on?"}, {"owner": {"reputation": 403, "user_id": 7349485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lzfEj.jpg?s=128&g=1", "display_name": "carlosn", "link": "https://stackoverflow.com/users/7349485/carlosn"}, "edited": false, "score": 0, "creation_date": 1498664946, "post_id": 44807103, "comment_id": 76594474, "body": "Try to check if you have it installed using: perldoc -l Selenium::Remote::Driver"}, {"owner": {"reputation": 529, "user_id": 6204104, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/UmpXW.jpg?s=128&g=1", "display_name": "Baini.Marouane", "link": "https://stackoverflow.com/users/6204104/baini-marouane"}, "edited": false, "score": 0, "creation_date": 1498665087, "post_id": 44807103, "comment_id": 76594595, "body": "I got this : No documentation found for &quot;Selenium::Remote::Driver&quot;."}], "owner": {"reputation": 529, "user_id": 6204104, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/UmpXW.jpg?s=128&g=1", "display_name": "Baini.Marouane", "link": "https://stackoverflow.com/users/6204104/baini-marouane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 521, "favorite_count": 0, "closed_date": 1498664709, "answer_count": 0, "score": 1, "last_activity_date": 1498664903, "creation_date": 1498664502, "last_edit_date": 1498664903, "question_id": 44807103, "link": "https://stackoverflow.com/questions/44807103/webdriver-perl-how-to-install-selenium-remote-driver-pm", "closed_reason": "Duplicate", "title": "Webdriver-Perl : How to install Selenium/Remote/Driver.pm", "body": "<p><br>\nI'm trying to execute a simple test , it's written with <strong>perl</strong>.<br></p>\n\n<blockquote>\n  <p>perl --version<br>\n  This is perl 5, version 16, subversion 3 (v5.16.3) built for x86_64-linux-thread-multi</p>\n</blockquote>\n\n<p>This is the test code:<br></p>\n\n<pre><code> use Selenium::Remote::Driver;\n use strict;\n use warnings;\n use Time::HiRes qw(sleep);\n use Test::More \"no_plan\";\n use Test::Exception;\n\n my $sel = Selenium::Remote::Driver-&gt;new( host =&gt; \"myadress\",\n                                port =&gt; xxxx,\n                                browser_name =&gt; \"internet explorer\",\n                                browser_url =&gt; \"my_url\" );\n\n$sel-&gt;open_ok(\"url/login.php\");\n$sel-&gt;type_ok(\"login\", \"mylogin\");\n$sel-&gt;type_ok(\"password\", \"mypassword\");\n$sel-&gt;click_ok(\"id=log_in\");\n$sel-&gt;wait_for_page_to_load_ok(\"30000\");\n</code></pre>\n\n<p>This test named <strong>test.pl</strong><br>\nWhen I execute <strong>~]# perl test.pl</strong> <br></p>\n\n<blockquote>\n  <p>Can't locate Selenium/Remote/Driver.pm in @INC (@INC contains:\n  /usr/local/lib64/perl5 /usr/local/share/perl5\n  /usr/lib64/perl5/vendor_perl /usr/share/perl5/ve BEGIN\n  failed--compilation aborted at perl.pl line 1</p>\n</blockquote>\n\n<p>I'm so confused about this , what can i do to execute this test?\nThank you for your test.</p>\n"}, {"tags": ["perl", "csv", "multiple-columns", "fixed-width"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 2, "creation_date": 1498656910, "post_id": 44803968, "comment_id": 76587976, "body": "Take the output of <code>split</code> to an array and then do any operation on columns."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1498658639, "post_id": 44803968, "comment_id": 76589496, "body": "As far as I can tell, you want to change your CSV file to have a fixed width of ten characters per field. <i>&quot;At this stage, I hash and unhash the columns that need to be edited, but its tedious&quot;</i> I don&#39;t understand that, and there&#39;s no evidence of &quot;hashing&quot; anything in your code. Please can you explain what is wrong with what you&#39;ve written and exactly what your question is? If it&#39;s simply that you&#39;re using a separate scalar variable for each column then surely the answer is to use an array?"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 4229748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OLJ0z.jpg?s=128&g=1", "display_name": "DKru", "link": "https://stackoverflow.com/users/4229748/dkru"}, "edited": false, "score": 0, "creation_date": 1498663817, "post_id": 44804986, "comment_id": 76593620, "body": "Thank you!! Seeing an answer like this just depresses me.. all that coding and could have been simplified into one line - I have much too learn!!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 4229748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OLJ0z.jpg?s=128&g=1", "display_name": "DKru", "link": "https://stackoverflow.com/users/4229748/dkru"}, "edited": false, "score": 0, "creation_date": 1498686495, "post_id": 44804986, "comment_id": 76606788, "body": "@DKru: The most important lesson is to use an <i>array</i> instead of multiple scalar variables. That shrinks your own code by about 80%."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1498659158, "creation_date": 1498659158, "answer_id": 44804986, "question_id": 44803968, "link": "https://stackoverflow.com/questions/44803968/make-the-same-edit-for-edit-for-each-column-in-a-multi-column-file/44804986#44804986", "title": "Make the same edit for edit for each column in a multi-column file", "body": "<p>Do you mean something like this?</p>\n\n<pre><code>perl -aF/,/ -lne 'print map sprintf(\"%10s\", $_), @F' FILENAME.csv &gt; FILENAME.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 4229748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OLJ0z.jpg?s=128&g=1", "display_name": "DKru", "link": "https://stackoverflow.com/users/4229748/dkru"}, "edited": false, "score": 0, "creation_date": 1498663855, "post_id": 44806002, "comment_id": 76593655, "body": "Thank you!! And will keep in mind about the lexical filehandles!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": -1, "last_activity_date": 1498661666, "creation_date": 1498661666, "answer_id": 44806002, "question_id": 44803968, "link": "https://stackoverflow.com/questions/44803968/make-the-same-edit-for-edit-for-each-column-in-a-multi-column-file/44806002#44806002", "title": "Make the same edit for edit for each column in a multi-column file", "body": "<p>Any time you're using sequential variables, you should be using an array. And in this case, since you only use the array once, you don't even need to do more than hold it temporarily. </p>\n\n<p>Also: Use lexical filehandles, it's better practice. </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $input_file  = 'FILENAME.csv';\nmy $output_file = 'FILENAME.txt';\n\nmy $format = '%10s';\n\nopen( my $input_fh, \"&lt;\", $input_file ) or die \"\\n !! Cannot open $input_file: $!\";\nopen( my $output_fh, \"&gt;&gt;\", $output_file ) or die \"\\n !! Cannot create $output_file: $!\";\n\nwhile (&lt;$input_fh&gt;) {\n   print {$output_fh} join \"\", map { sprintf $format, $_ } split /,/;\n}\n\nclose $input_fh;\nclose $output_fh;\n\nexit;\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4229748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OLJ0z.jpg?s=128&g=1", "display_name": "DKru", "link": "https://stackoverflow.com/users/4229748/dkru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 44806002, "answer_count": 2, "score": -1, "last_activity_date": 1498661666, "creation_date": 1498656657, "last_edit_date": 1498658849, "question_id": 44803968, "link": "https://stackoverflow.com/questions/44803968/make-the-same-edit-for-edit-for-each-column-in-a-multi-column-file", "title": "Make the same edit for edit for each column in a multi-column file", "body": "<p>I have multiple CSV files with varying numbers of columns that I need to reformat into a fixed-format text file.</p>\n\n<p>At this stage, I hash and unhash the columns that need to be edited, but its tedious and I can't add new columns without changing the program first.</p>\n\n<p>Is there a simpler way of reading, splitting and editing all columns, regardless of the number of columns in the file?</p>\n\n<p>Here is my code thus far:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $input = 'FILENAME.csv';\nmy $output = 'FILENAME.txt';\n\nopen (INPUT, \"&lt;\", \"$input_file\") or die \"\\n !! Cannot open $input_file: $!\";\nopen (OUTPUT, \"&gt;&gt;\", \"$output_file\") or die \"\\n !! Cannot create $output_file: $!\";\n\nwhile ( &lt;INPUT&gt; ) {\n\n    my $line = $_;\n    $line =~ s/\\s*$//g;\n\n    my ( $a, $b, $c, $d, $e, $f, $g, $h, $i, $j ) = split('\\,', $line);\n\n    $a = sprintf '%10s', $a;\n    $b = sprintf '%10s', $b;\n    $c = sprintf '%10s', $c;\n    $d = sprintf '%10s', $d;\n    $e = sprintf '%10s', $e;\n    $f = sprintf '%10s', $f;\n    $g = sprintf '%10s', $g;\n    $h = sprintf '%10s', $h;\n    $i = sprintf '%10s', $i;\n    $j = sprintf '%10s', $j;\n\n    print OUTPUT \"$a$b$c$d$e$f$g$h$i$j\\n\";\n\n}\n\nclose INPUT;\nclose OUTPUT;\n\nexit;\n</code></pre>\n"}, {"tags": ["list", "perl"], "answers": [{"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 4, "last_activity_date": 1498652356, "last_edit_date": 1498652356, "creation_date": 1498651958, "answer_id": 44802078, "question_id": 44801652, "link": "https://stackoverflow.com/questions/44801652/why-slicing-element-from-list-do-not-return-list/44802078#44802078", "title": "Why slicing element from list do not return list?", "body": "<p>In your first example you force scalar context by using <code>scalar</code> .<br>\nIn scalar content <code>,</code> is interpreted as <strong>scalar</strong> binary operator returning right side argument.</p>\n\n<pre><code>@l =  qw/ a b c d /;\n@m = (1, @l); # (1,@l) is interpreted in list context\nprint scalar(@l); # prints 4\nprint scalar(@m); # prints 5\nprint scalar('a',@l); # ('a',@l) is interpreted in scalar context\n                      # prints scalar(@l) \nprint scalar(@l,'a'); # (@l,'a') is interpreted in scalar context\n                      # prints a\n</code></pre>\n\n<p><code>perldoc -f scalar</code></p>\n\n<blockquote>\n  <p><strong>scalar EXPR</strong><br>\n  Forces EXPR to be interpreted in scalar context and returns the value of EXPR.</p>\n</blockquote>\n\n<p><code>man perlop</code></p>\n\n<blockquote>\n  <p><strong>Comma Operator</strong><br>\n   Binary \",\" is the comma operator.  <strong>In scalar context it evaluates its\n   left argument, throws that value away, then evaluates its right\n   argument and returns that value.</strong>  This is just like C's comma operator.<br>\n   In list context, it's just the list argument separator, and inserts\n   both its arguments into the list.  These arguments are also evaluated\n   from left to right.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 6, "last_activity_date": 1498652672, "last_edit_date": 1498652672, "creation_date": 1498652208, "answer_id": 44802171, "question_id": 44801652, "link": "https://stackoverflow.com/questions/44801652/why-slicing-element-from-list-do-not-return-list/44802171#44802171", "title": "Why slicing element from list do not return list?", "body": "<p>It's because of the difference in behaviour between list and scalar context, and the fact that <code>scalar</code> is an <em>operator</em> and not a subroutine call. <code>scalar</code> can take only a single operand, so if you pass more than one parameter then they are put into scalar context. This is unlike ordinary subroutine calls where  the parameters are always in list context. </p>\n\n<p>In <em>scalar context</em> the comma operator evaluates and discards its left-hand operand and then evaluates its right-hand operand. So <code>scalar(1, @l)</code> evaluates and discards <code>1</code> and then evaluates <code>@l</code>. As you say, that is 4 because <code>@l</code> has four elements</p>\n\n<p>A list slice, unsurprisingly, imposes <em>list context</em>, and in list context commas separate the elements of a list and arrays and hashes are flattened. So <code>(1, @l)[1]</code> is the same as <code>(1, qw/ a b c d /)[1]</code> which is <code>a</code></p>\n\n<p>Perl array operators like <code>push</code> and <code>pop</code> behave in a similar way. <code>push @l, 1</code> wouldn't be much use if it behaved the same way as an ordinary subroutine and expanded to <code>push 'a', 'b', 'c', 'd', 1</code></p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 44802171, "answer_count": 2, "score": 3, "last_activity_date": 1498652672, "creation_date": 1498650842, "question_id": 44801652, "link": "https://stackoverflow.com/questions/44801652/why-slicing-element-from-list-do-not-return-list", "title": "Why slicing element from list do not return list?", "body": "<p>When working with lists in scalar context the last element is returned:</p>\n\n<pre><code>@l =  qw/ a b c d /;\nprint scalar ( 1, @l ); # prints 4\n</code></pre>\n\n<p>The last element of the list is <code>@l</code>, its length in scalar context is 4</p>\n\n<p>So the last element is <code>@l</code>.</p>\n\n<p><strong>Why when I do slice I do not get this element?</strong></p>\n\n<pre><code>print (( 1, @l )[1]); # prints 'a'. expect: abcd\n</code></pre>\n\n<p>PS. Maybe I should ask: Why flattening is not happened in first example?</p>\n"}, {"tags": ["regex", "perl", "fasta", "dna-sequence"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1498638265, "post_id": 44796788, "comment_id": 76574791, "body": "Well, done for explaining what a 4-mer actually is! Just one question - can they overlap? And do you have some sample data and desired output?"}, {"owner": {"reputation": 113, "user_id": 8159524, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c3d055c75d0873fb3c0b190620c9ab5?s=128&d=identicon&r=PG&f=1", "display_name": "ic23oluk", "link": "https://stackoverflow.com/users/8159524/ic23oluk"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1498638770, "post_id": 44796788, "comment_id": 76575066, "body": "Yes, they can overlap. I tried to attach a fasta file but it looks like it&#39;s not possible. I will copy an example into the question. Unfortunately I don&#39;t have a sample for the desired output"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1498639485, "post_id": 44796788, "comment_id": 76575532, "body": "What version of Perl are you using? <code>perl -v</code>"}, {"owner": {"reputation": 113, "user_id": 8159524, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c3d055c75d0873fb3c0b190620c9ab5?s=128&d=identicon&r=PG&f=1", "display_name": "ic23oluk", "link": "https://stackoverflow.com/users/8159524/ic23oluk"}, "edited": false, "score": 0, "creation_date": 1498639649, "post_id": 44796788, "comment_id": 76575649, "body": "I&#39;m using version 5.18"}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 8159524, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c3d055c75d0873fb3c0b190620c9ab5?s=128&d=identicon&r=PG&f=1", "display_name": "ic23oluk", "link": "https://stackoverflow.com/users/8159524/ic23oluk"}, "edited": false, "score": 0, "creation_date": 1498642127, "post_id": 44798163, "comment_id": 76577331, "body": "Your code works perfectly fine and thats the output I would expect, but honestly, there is a lot in there that I have not learned so far, for examply hashes. I also don&#39;t want to use a module (i.e. dumper). But thanks anyway for your effort :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 113, "user_id": 8159524, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c3d055c75d0873fb3c0b190620c9ab5?s=128&d=identicon&r=PG&f=1", "display_name": "ic23oluk", "link": "https://stackoverflow.com/users/8159524/ic23oluk"}, "edited": false, "score": 1, "creation_date": 1498643769, "post_id": 44798163, "comment_id": 76578484, "body": "Don&#39;t avoid modules. That&#39;s a fallacy. <code>Data::Dumper</code> is core - it ships with perl. But in this case, it&#39;s a convenience anyway, mostly for printing diag output. Hashes you should learn, because it&#39;s <i>exactly</i> the right tool for counting things."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 1, "creation_date": 1498646984, "post_id": 44798163, "comment_id": 76580577, "body": "Nice trick with the lookahead capture. An alternative approach with goes directly to the hash: <code>my %count_of; &#47;^.*?([atgc]{4})(?{ $count_of{$1}++ })(*FAIL)&#47;;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 2, "creation_date": 1498648874, "post_id": 44798163, "comment_id": 76581825, "body": "@Zaid: That&#39;s dreadful. Regex patterns are cryptic enough with their one-letter commands without embedding Perl code inside them. It is twice the length of <b>Sobrique&#39;s</b> solution, which is the way I would solve this, and no more goes <i>&quot;directly to the hash&quot;</i>  than his answer. Please don&#39;t promote hacky solutions to simple problems in an effort to show off. Perl already has an undeserved reputation for being hard to read without you adding fuel to the fire."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113, "user_id": 8159524, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c3d055c75d0873fb3c0b190620c9ab5?s=128&d=identicon&r=PG&f=1", "display_name": "ic23oluk", "link": "https://stackoverflow.com/users/8159524/ic23oluk"}, "edited": false, "score": 1, "creation_date": 1498649527, "post_id": 44798163, "comment_id": 76582219, "body": "@ic23oluk: <i>&quot;I also don&#39;t want to use a module (i.e. dumper)&quot;</i> This attitude is so frustrating. You are depriving yourself of 90% of the usefulness of Perl for purely imagined reasons. You are already using two &quot;modules&quot; in your own code: <code>strict</code> and <code>warnings</code>, and <code>Data::Dumper</code> is no less trivial to use because it is also part of perl itself."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113, "user_id": 8159524, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c3d055c75d0873fb3c0b190620c9ab5?s=128&d=identicon&r=PG&f=1", "display_name": "ic23oluk", "link": "https://stackoverflow.com/users/8159524/ic23oluk"}, "edited": false, "score": 0, "creation_date": 1498649685, "post_id": 44798163, "comment_id": 76582323, "body": "@ic23oluk: The usual objection to non-core modules is that people don&#39;t know how to install them. That is usually just a matter of running <code>cpan My::Module</code>, and even if you are running on a shared system where you don&#39;t want to modify the public perl then you can easily install it into a local directory for your use only. There really is no reason to cripple Perl just because something about it bothers you. If you&#39;re unsure about installing modules locally then ask a question on Stack Overflow and we will help."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1498650381, "post_id": 44798163, "comment_id": 76582803, "body": "I have some sympathy with places where it&#39;s hard to download and install stuff &#39;because policy&#39;. I&#39;ve had to fight that attitude for many years. But that doesn&#39;t apply to  core stuff anyway."}, {"owner": {"reputation": 113, "user_id": 8159524, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c3d055c75d0873fb3c0b190620c9ab5?s=128&d=identicon&r=PG&f=1", "display_name": "ic23oluk", "link": "https://stackoverflow.com/users/8159524/ic23oluk"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498653710, "post_id": 44798163, "comment_id": 76585373, "body": "@Borodin: please don&#39;t get me wrong. I am currently learning Perl I want want to avoid Modules right now, but I will, of course, make use of them later."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113, "user_id": 8159524, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c3d055c75d0873fb3c0b190620c9ab5?s=128&d=identicon&r=PG&f=1", "display_name": "ic23oluk", "link": "https://stackoverflow.com/users/8159524/ic23oluk"}, "edited": false, "score": 0, "creation_date": 1498653967, "post_id": 44798163, "comment_id": 76585559, "body": "@ic23oluk: Learning what modules are available and how to use them is central to learning Perl. <code>Data::Dumper</code> in particular is a very valuable debugging tool, and it would be foolish to artificially restrict yourself to a cut-down version of perl that just makes everything harder. As I said, you should remove <code>strict</code> and <code>warnings</code> as well if you want to avoid modules altogether."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498654218, "post_id": 44798163, "comment_id": 76585755, "body": "@Sobrique: Of course, if the company has a policy of disallowing third-party code in general then I agree with you. But the usual reasons for avoiding CPAN modules are not knowing how to install them, or not wanting or being able to modify a shared perl. Those issues have very straightforward solutions that often aren&#39;t appreciated."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1498654511, "post_id": 44798163, "comment_id": 76586006, "body": "Yeah, but seriously - don&#39;t remove <code>strict;</code> <code>warnings</code>. Just stick with core modules if that&#39;s the limit of it."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 5, "last_activity_date": 1498643702, "last_edit_date": 1498643702, "creation_date": 1498640750, "answer_id": 44798163, "question_id": 44796788, "link": "https://stackoverflow.com/questions/44796788/find-all-repeated-4-mers-in-a-dna-sequence-perl/44798163#44798163", "title": "Find all repeated 4-mers in a DNA Sequence - Perl", "body": "<p>I'd probably tackle your problem rather more like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\n#set paragraph mode. Iterate on blank lines. \nlocal $/ = ''; \n\n#read from STDIN or a file specified on command line, \n#e.g. cat filename_here | myscript.pl\n#or myscript.pl filename_here\nwhile ( &lt;&gt; ) {\n   #capture the header line, and then remove it from our data block\n   my ($header) = m/\\&gt;(.*)/;\n   s/&gt;.*$//;\n\n   #remove linefeeds and whitespace. \n   s/\\s*\\n\\s*//g;\n   #use lookahead pattern, so the data isn't 'consumed' by the regex. \n   my @sequences = m/(?=([atcg]{4}))/gi;\n\n   #increment a count for each sequence found. \n   my %count_of;\n   $count_of{$_}++ for @sequences;\n\n   #print output. (Modify according to specific needs. \n   print $header,\"\\n\";\n\n   print \"Found sequences:\\n\";\n   print Dumper \\@sequences;\n   print \"Count:\\n\";\n   print Dumper \\%count_of;\n\n   #note - ordered, but includes duplicates. \n   #you could just use keys  %count_of, but that would be unordered. \n   foreach my $sequence ( grep { $count_of{$_} &gt; 1 } @sequences ) {\n      print $sequence, \" =&gt; \", $count_of{$sequence},\"\\n\";\n   }\n   print \"\\n\";\n}\n</code></pre>\n\n<p>We iterate record by record, capture and remove the 'header' line, and then splice together the rest. Then capture each (overlapping) sequence of 4, and count them. </p>\n\n<p>This, for your sample data (first stanza for brevity):</p>\n\n<pre><code>NC_001422.1 Enterobacteria phage phiX174 sensu lato, complete genome \nFound sequences:\n    GAGT =&gt; 2\n    AGTT =&gt; 2\n    TTAT =&gt; 2\n    CATG =&gt; 2\n    ATGA =&gt; 3\n    TGAC =&gt; 2\n    CGCA =&gt; 2\n    AGTT =&gt; 2\n    ACTT =&gt; 2\n    tttt =&gt; 3\n    tttt =&gt; 3\n    tttt =&gt; 3\n    GGAT =&gt; 2\n    GATA =&gt; 2\n    ATAT =&gt; 2\n    TATT =&gt; 2\n    ATGA =&gt; 3\n    TGAG =&gt; 2\n    GAGT =&gt; 2\n    AAAA =&gt; 2\n    AAAA =&gt; 2\n    ACTT =&gt; 2\n    TGAG =&gt; 2\n    GGAT =&gt; 2\n    GATA =&gt; 2\n    tata =&gt; 2\n    tata =&gt; 2\n    TTAT =&gt; 2\n    TATG =&gt; 2\n    ATAT =&gt; 2\n    TATT =&gt; 2\n    GCCG =&gt; 2\n    TATG =&gt; 2\n    GCCG =&gt; 2\n    CGCA =&gt; 2\n    CATG =&gt; 2\n    ATGA =&gt; 3\n    TGAC =&gt; 2\n</code></pre>\n\n<p>Note - because it's based on the original sequences, it's based on ordering within the data, and you'll see TGAC there twice because ... it's in there twice. </p>\n\n<p>However you could instead:</p>\n\n<pre><code>   foreach my $sequence ( sort { $count_of{$b} &lt;=&gt; $count_of{$a} }\n                          grep { $count_of{$_} &gt; 1 } \n                                 keys %count_of ) {\n      print $sequence, \" =&gt; \", $count_of{$sequence},\"\\n\";\n   }\n   print \"\\n\";\n</code></pre>\n\n<p>Which will discard any with less than 2 matches, and order by frequency. </p>\n"}], "owner": {"reputation": 113, "user_id": 8159524, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2c3d055c75d0873fb3c0b190620c9ab5?s=128&d=identicon&r=PG&f=1", "display_name": "ic23oluk", "link": "https://stackoverflow.com/users/8159524/ic23oluk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1498643702, "creation_date": 1498636784, "last_edit_date": 1498639060, "question_id": 44796788, "link": "https://stackoverflow.com/questions/44796788/find-all-repeated-4-mers-in-a-dna-sequence-perl", "title": "Find all repeated 4-mers in a DNA Sequence - Perl", "body": "<p> Hello, </p>\n\n<p> I try to write a program that reads in a FASTA-formatted file containing multiple DNA sequences, identifies all repeated 4-mers (i.e., all 4-mers that occur more than once) in a sequence, and prints out the repeated 4-mer and the header of the sequence in which it was found. A k-mer is simply a sequence of k nucleotides (e.g., \u201caaca\u201d, \u201cgacg\u201d, and \u201ctttt\u201d are 4-mers).</p>\n\n<p>Here's my code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $count = -1;\nmy $file = \"sequences.fa\";\nmy $seq = '';\nmy @header = ();\nmy @sequences = ();\nmy $line = '';\nopen (READ, $file) || die \"Cannot open $file: $!.\\n\";\n\nwhile ($line = &lt;READ&gt;){\n    chomp $line;\n    if ($line =~ /^&gt;/){\n        push @header, $line;\n        $count++;\n        unless ($seq eq ''){\n            push @sequences, $seq;\n            $seq = '';\n        }\n    } else {\n        $seq .= $line;\n    }\n}   push @sequences, $line;\n\nfor (my $i = 0; $i &lt;= $#sequences+1; $i++){\n    if ($sequences[$i] =~ /(....)(.)*\\g{1}+/g){\n        print $header[$i], \"\\n\", $&amp;, \"\\n\";\n    }\n}\n</code></pre>\n\n<p> I have two requests: First, I don't know how to design my regex pattern to get the desired output. \nAnd second, less importantly, I'm sure my code is very inefficient, so if there's a way to shorten it, please tell me.</p>\n\n<p> Thanks in advance! </p>\n\n<p>Here's an example for a FASTA file: (Note that there's an extra line between the sequences, which is NOT the case in original fasta files)</p>\n\n<blockquote>\n  <p>>NC_001422.1 Enterobacteria phage phiX174 sensu lato, complete genome\n  GAGTTTTATCGCTTCCATGACGCAGAAGTTAACACTTTttttttCGGATATTTCTGATGAGTCGAAAAAT\n  CCCTTACTTGAGGATAtatataAATTATGTCTAATATTCAAACTGGCGCCGAGCGTATGCCGCATGACCT</p>\n  \n  <p>>NC_001501.1 Enterobacteria phage phiX184 sensu lato, complete genome\n  AACGGCTGGTCAGTATTTAAGGTTAGTGCTGAGGTTGACTACATCTGTTTTTAGAGACCCAGACCTTTTA\n  TCTCACTTCTGTTACTCCAGCTTCTTCGGCACCTGTTTTACAGACACCTAAAGCTACATCGTCAACGTTA\n  TATTTTGATAGTTTGACGGTTAATGCTGGTAATGGTgagagagaGGTTTTCTTCATTGCATTCAGATGGA\n  TCAACGCCGCTAATCAGGTTGTTTCTGTTGGTGCTGATATTGCTTTTGATGCCGACCCTAAATTTTTTGC\n  CTGTTTGGTTCGCTTTGAGTCTTCTTCGGTTCCGACTACCCTCCCGACTGCCTATGATGTTTATCCTTTG</p>\n  \n  <p>>NC_001622.5 Enterobacteria phage phiX199 sensu lato, complete genome\n  TTCGCTGAATCAGGTTATTAAAGAGTTGCCGAGATATTTATGTTGGTTTCATGCGGATTGGTCGTTTAAA\n  TTGGACTTGGTGGCAAGTCTGCCGCTGATAAAGGAAAGGATAATGACCAAATCAAAGAACTCGTGATTAT\n  CTTGCTGCTGCATTTCCTGAGCTTAATGCTTGGGAGCGTGCTGGTGCTGATGCTTCCTCTGCTGGTATGG\n  TTGACGCCGGATTTGAGAATCAAAAATGTGAGAGAGCTTACTAAAATGCAACTGGACAATCAGAAAGAGA\n  GATGCAAAATGAGACTCAAAAAGAGATTGCTGGCATTCAGTCGGCGACTTCACGCCAGAATACGAAAGAC\n  CAGGTATATGCACAAAATGAGATGCTTGCTTATCAACAGAAGGAGTCTACTGCTCGCGTTGCGTCTATTA\n  TGGAAAACACCAATCTTTCCAAGCAACAGCAGGTTTCCGAGATTATGCGCCAAATGCTTACTCAAGCTCA\n  AACGGCTGGTCAGTATTTTACCAATGACCAAATCAAAGAAATGACTCGCAAGGTTAGTGCTGAGGTTGAC\n  TTAGATGAGTGTTCATCAGCAAACGCAGAATCAGCGGTATGGCTCTTCTCATATTGGCGCTACTGCAAAG</p>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1498657203, "post_id": 44796505, "comment_id": 76588213, "body": "Please mentioned reasons for downvote might be improve my way of asking the question"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1498675430, "post_id": 44796505, "comment_id": 76600906, "body": "I don&#39;t know why exactly it was downvoted, but I can see one big flaw: you don&#39;t say anything about your code -- what is wrong with it (what does it do, why does it not work?), nor how you meant to solve the problem with it (what did you think it would do?).  I would have to carefully pick through a long regex and guess what you wanted with it and what it does.  Another minor point: breaking very long lines would help readibility a lot.  The &quot;data&quot; you may have to leave sometimes (so not to introduce newlines), but there is no reason to leave your code in one long string."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1498639802, "last_edit_date": 1498639802, "creation_date": 1498637177, "answer_id": 44796906, "question_id": 44796505, "link": "https://stackoverflow.com/questions/44796505/find-the-exact-match-and-use-pre-and-post/44796906#44796906", "title": "Find the exact match and use pre and post", "body": "<p>By far the easiest is to slurp the whole file in and find the whole equations</p>\n\n<pre><code>perl -0777 -wpe'\n    s[ \\\\begin{equation} (.*? &lt;check&gt; .*?) \\\\end{equation} ]\n     [ \\\\begin{align} $1 \\\\end{align} ]gsx\n' file.tex  &gt; changed_file.tex\n</code></pre>\n\n<p>When the match fails no substitution is done so there is no need to first find matches. With <code>-p</code> the current \"line\" (<code>$_</code>, the whole file here) is printed, changed or not, so we process the whole file.</p>\n\n<p>The <code>.*?</code> matches up to the first <code>&lt;check&gt;</code> and then the second <code>.*?</code> matches from after it to the first <code>\\end{equation}</code>. There may be more <code>&lt;check&gt;</code> tags there but that doesn't concern us since they need not be identified. As long as there is any one inside the equation the substitution goes.</p>\n\n<p>A <code>Latex/Tex</code> document is extremely unlikely to be too large to process at once.</p>\n\n<hr>\n\n<p>An alternative would be to keep markers on elements of interest, and once a <code>&lt;check&gt;</code> tag is detected change them. You can populate a separate array with file's lines as you read, to avoid <code>seek</code>-ing back and forth in the file, and change its elements. At the end output that array as the processed file. </p>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 44796906, "answer_count": 1, "score": 0, "last_activity_date": 1498653224, "creation_date": 1498635975, "last_edit_date": 1498653224, "question_id": 44796505, "link": "https://stackoverflow.com/questions/44796505/find-the-exact-match-and-use-pre-and-post", "title": "Find the exact match and use pre and post", "body": "<p>Find the exact pair of <code>equation (begin and end)</code> and change this into <code>align (begin and end)</code> where the <code>&lt;check&gt;</code> tags were found.</p>\n\n<h3>My data</h3>\n\n<pre><code>my $str = '\n\\begin{equation}\nv_{i}(t)=M\\xi_{l}^{-1}(\\Vert z^{0}\\Vert_{\\infty}+\\varepsilon)\\xi_{i}e^{\\gamma t},\\quad t\\geq 0.\\label{eq:2.3}\n\\end{equation}\n\n\n\\begin{equation}\nv_{\\kappa}(q_{\\kappa j}t)=M\\xi_{l}^{-1}(\\Vert z^{0}\\Vert_{\\infty}+\\varepsilon)\\xi_{\\kappa}e^{\\gamma q_{\\kappa j}t}= v_{\\kappa}(t)e^{-\\gamma (1-q_{\\kappa j})t}\\leq v_{\\kappa}(t).\\label{eq:2.4}\n&lt;check&gt;\n\\end{equation}\n\n\n\\begin{equation}\n|z_{i}(0)|\\lt\\xi_{l}^{-1}(\\Vert z^{0}\\Vert_{\\infty}+\\varepsilon)\\xi_{i} \\leq M\\xi_{l}^{-1}(\\Vert z^{0}\\Vert_{\\infty}+\\varepsilon)\\xi_{i}= v_{i}(0), i\\in J.\\label{eq:2.5}\n&lt;check&gt;\n\\end{equation}\n\n\n\\begin{equation}\n|z_{i}(t) | \\lt v_{i}(t)\\quad \\mbox{for all } t \\in (0, T],\\  i\\in J.\\label{eq:2.6}\n\\end{equation}';\n</code></pre>\n\n<h3>My code</h3>\n\n<pre><code>while( $str =~ m/\\\\begin\\{((?:[^{}]*)\\*?)\\}((?:(?!\\\\end\\{\\1\\}).)*)&lt;check&gt;((?:(?!\\\\end\\{\\1\\}).)*)\\\\end\\{\\1\\}/sgi ) { \n    print \"Found: $&amp;\\n\";\n}\n</code></pre>\n\n<p>My way of checking is finding <code>\\begin{}</code> to <code>\\end{}</code>, finding the <code>&lt;check&gt;</code> element,\nand then changing the <code>equation</code> to <code>align</code>. Here if equations are more than 1000 then the tool is consuming too much time to check each one. Hence need to check another way.</p>\n\n<p>Can I do it this way?</p>\n\n<ul>\n<li>Find the <code>&lt;check&gt;</code> element directly</li>\n<li>Go to <code>\\begin{equation}</code> before it</li>\n<li>Change that into <code>\\begin{align}</code></li>\n<li>Find the closing <code>\\end{equation}</code></li>\n<li>Change that into <code>\\end{align} ($' post check)</code></li>\n</ul>\n\n<p>I thought it possible.</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1498634323, "post_id": 44795948, "comment_id": 76572308, "body": "I think it is not possible"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1498634773, "post_id": 44795948, "comment_id": 76572608, "body": "Might be not possible. However please check with <code>encrypt&#47;decrypt</code>."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1498650288, "post_id": 44795948, "comment_id": 76582730, "body": "Using another user which only gives permission to execute the script (First user can see 0% of the code). <a href=\"https://stackoverflow.com/a/6905797/223226\">stackoverflow.com/a/6905797/223226</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498654585, "post_id": 44795948, "comment_id": 76586063, "body": "This would be possible only if access to the file were restricted to a specific utility such as a web browser. Changing the behaviour of Notepad depending on who opens the file is impossible. Have you considered having two versions of each file, with non-privileged users having no access to the complete code files at all?"}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 1, "creation_date": 1498672158, "post_id": 44795948, "comment_id": 76599005, "body": "Stack Overflow is a site for programming and development questions. This question appears to be off-topic because it is not about programming or development. See <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here</a> in the Help Center. Perhaps <a href=\"http://superuser.com/\">Super User</a> or <a href=\"http://unix.stackexchange.com/\">Unix &amp; Linux Stack Exchange</a> would be a better place to ask."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1498643800, "post_id": 44798960, "comment_id": 76578505, "body": "Funnily, for <i>binaries</i> it&#39;s possible to give them <code>chmod a=x</code>, i.e. make them executable but not readable. Unfortunately for the OP, this doesn&#39;t work with scripts."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 5, "last_activity_date": 1498642899, "creation_date": 1498642899, "answer_id": 44798960, "question_id": 44795948, "link": "https://stackoverflow.com/questions/44795948/how-to-hide-some-of-the-contents-of-a-file-when-opened-with-notepad-by-non-admin/44798960#44798960", "title": "How to hide some of the contents of a file when opened with Notepad by non admins?", "body": "<p>It's impossible to give access to parts of a file to a certain group of users.</p>\n\n<p>It seems that you need to rethink your security policies. What is in the sections of the file that you don't want most people to see? Perhaps it's not appropriate for that information to be in the file at all?</p>\n\n<p>The most obvious approach to fixing this is to remove the secret code from the file and to store it in a separate module. You can then adjust the permissions of the module so that only the correct people can see it.</p>\n\n<p>It is, however, important to note that a user needs to be able to read a file in order to execute that file. If a particular user cannot read a module that is required by a program, then that user will not be able to run that program.</p>\n\n<p>This is a restriction that is inherent in programming languages like Perl where there is no \"compiled\" version of the code that you can share. People need to be able to read the source code in order to run the program.</p>\n\n<p>If that's a problem for you, then perhaps Perl is not the right language for this project.</p>\n"}, {"comments": [{"owner": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "edited": false, "score": 0, "creation_date": 1498815864, "post_id": 44800682, "comment_id": 76667025, "body": "Luckily, it&#39;s not the score on this web site that gives me what to live with."}], "tags": [], "owner": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "is_accepted": false, "score": -3, "last_activity_date": 1498647832, "creation_date": 1498647832, "answer_id": 44800682, "question_id": 44795948, "link": "https://stackoverflow.com/questions/44795948/how-to-hide-some-of-the-contents-of-a-file-when-opened-with-notepad-by-non-admin/44800682#44800682", "title": "How to hide some of the contents of a file when opened with Notepad by non admins?", "body": "<p>Maybe You can try to adapt/relax your needs with some perl source filter and encoding the source with base64 or some similar tool.</p>\n"}], "owner": {"reputation": 165, "user_id": 4915658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/880691111995798/picture?type=large", "display_name": "Vamsee Bond", "link": "https://stackoverflow.com/users/4915658/vamsee-bond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "answer_count": 2, "score": -10, "last_activity_date": 1498659706, "creation_date": 1498634251, "last_edit_date": 1498659706, "question_id": 44795948, "link": "https://stackoverflow.com/questions/44795948/how-to-hide-some-of-the-contents-of-a-file-when-opened-with-notepad-by-non-admin", "title": "How to hide some of the contents of a file when opened with Notepad by non admins?", "body": "<p>I've written a Perl script and placed on Linux/Windows machine and want to restrict it so that</p>\n\n<ul>\n<li><p>If an admin opens the program with Notepad then they will see the whole file</p></li>\n<li><p>If a non-admin opens the program with Notepad then they should see only 30% of the contents</p></li>\n</ul>\n"}, {"tags": ["perl", "fastcgi", "lighttpd", "catalyst"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498673265, "post_id": 44794969, "comment_id": 76599637, "body": "Can you provide a sample lighttpd configuration so I can try. I am proficient with Catalyst, but not with the webserver."}, {"owner": {"reputation": 273, "user_id": 1893781, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/816e6daa326990b628a0199c3ef10b4b?s=128&d=identicon&r=PG", "display_name": "Ramo", "link": "https://stackoverflow.com/users/1893781/ramo"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499058471, "post_id": 44794969, "comment_id": 76734387, "body": "Added as requested"}, {"owner": {"reputation": 273, "user_id": 1893781, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/816e6daa326990b628a0199c3ef10b4b?s=128&d=identicon&r=PG", "display_name": "Ramo", "link": "https://stackoverflow.com/users/1893781/ramo"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499064010, "post_id": 44794969, "comment_id": 76736466, "body": "Also, based on <a href=\"http://lists.scsys.co.uk/pipermail/catalyst/2014-October/030120.html\" rel=\"nofollow noreferrer\">lists.scsys.co.uk/pipermail/catalyst/2014-October/030120.htm&zwnj;&#8203;l</a> this looks like it might be webserver agnostic."}], "owner": {"reputation": 273, "user_id": 1893781, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/816e6daa326990b628a0199c3ef10b4b?s=128&d=identicon&r=PG", "display_name": "Ramo", "link": "https://stackoverflow.com/users/1893781/ramo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1500264358, "creation_date": 1498630768, "last_edit_date": 1500264358, "question_id": 44794969, "link": "https://stackoverflow.com/questions/44794969/catalystpluginrunafterrequest-behaves-differently-under-server-script-and-fa", "title": "Catalyst::Plugin::RunAfterRequest behaves differently under server script and FastCGI", "body": "<p>I'm trying to set up the Perl Catalyst plugin Catalyst:: Plugin:: RunAfterRequest and am seeing different behaviour when it is being run with the server script \"APPNAME/script/APPNAME_server.pl\" and the FastCGI process under Lighttpd. </p>\n\n<p>That is, it works as expected with the server script, but when used in the FastCGI web server environment the request being returned seems to be blocked by the code allegedly running after the request is returned. This is easily reproducible with the code in Controller/Root.pm:</p>\n\n<pre><code>sub index : Private {\n        my ($self, $c) = @_;\n        $c-&gt;run_after_request(\n                sub {sleep 10;}\n        );\n        $c-&gt;response-&gt;body(\"foobar\");\n}\n</code></pre>\n\n<p>Running the test script returns a result instantaneously as expected, but will wait 10 seconds before a response in the web server environment.</p>\n\n<p>Is there any configuration that needs to be made with Lighttpd or FastCGI to get this to work properly?</p>\n\n<p>UPDATE:</p>\n\n<p>As requested, sample lighttpd config:</p>\n\n<pre><code>include \"common/mime.conf\"\ninclude \"common/modules-core.conf\"\nserver.bind = \"127.0.0.1\"\nserver.port = 6080\nserver.pid-file = \"/path/to/lighttpd-6080.pid\"\nserver.username = \"user\"\nserver.groupname = \"group\"\nserver.document-root = \"/path/to/root\"\nserver.errorlog = \"/path/to/.errors-6080\"\naccesslog.filename = \"/path/to/.access-6080\"\ninclude \"common/index.conf\"\nserver.modules += ( \"mod_fastcgi\")\nserver.stream-response-body = 2\n$HTTP[\"url\"] !~ \"^/(?:img/|static/|css/|favicon.ico$)\" {\n    fastcgi.server = (\n        \"\" =&gt; (\n            \"appname\" =&gt; (\n                \"socket\" =&gt; \"/path/to/appname-fcgi.sock\",\n                \"check-local\" =&gt; \"disable\",\n                \"bin-path\" =&gt; \"/path/to/appname_fastcgi.pl\",\n                \"min-procs\" =&gt; 2,\n                \"max-procs\" =&gt; 5,\n                \"idle-timeout\" =&gt; 20\n            )\n        )\n    )\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498607140, "post_id": 44791442, "comment_id": 76563971, "body": "You can&#39;t do that. The output buffer isn&#39;t accessible to Perl code. It&#39;s a horrible idea anyway: why can&#39;t you just print the right thing in the first place? It may help if you printed your output to a scalar variable. Then you can do what you like to that variable before finally printing it to the output."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1498647882, "post_id": 44793110, "comment_id": 76581207, "body": "That isn&#39;t modifying Perl&#39;s output buffer, so it doesn&#39;t answer your question. It&#39;s outputting to a scalar variable, and is what I meant by <i>&quot;It may help if you printed your output to a scalar variable&quot;</i>. Please make your question about <i>what you want to achieve</i> instead of picking a solution and asking how to implement it.."}, {"owner": {"reputation": 221, "user_id": 2512368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c9359f40a0ec66eade02d226668f09?s=128&d=identicon&r=PG", "display_name": "Diego Augusto Molina", "link": "https://stackoverflow.com/users/2512368/diego-augusto-molina"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498736677, "post_id": 44793110, "comment_id": 76628187, "body": "You were right. I shall rephrase the question (so that it doesn&#39;t add noise to the future reader). What I asked for is something I <i>remembered</i> I did in Perl, but actually it was PHP. That reinforces the need to ask for something to achieve rather than how to achieve a specific solution."}], "tags": [], "owner": {"reputation": 221, "user_id": 2512368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c9359f40a0ec66eade02d226668f09?s=128&d=identicon&r=PG", "display_name": "Diego Augusto Molina", "link": "https://stackoverflow.com/users/2512368/diego-augusto-molina"}, "is_accepted": false, "score": -1, "last_activity_date": 1498620156, "creation_date": 1498620156, "answer_id": 44793110, "question_id": 44791442, "link": "https://stackoverflow.com/questions/44791442/capture-script-output-and-process-it-before-actual-write/44793110#44793110", "title": "Capture script output and process it before actual write", "body": "<p>This solved my problem:</p>\n\n<pre><code>my $OUTPUT;\nmy $OUTPUT_FH;\nmy $OLD_FH;\n\nopen( $OUTPUT_FH, '&gt;', \\$OUTPUT ) or die;\n$OLD_FH = select $OUTPUT_FH;\n\nEND {\n  select $OLD_FH;\n  close $OUTPUT_FH;\n\n  # Change the output\n  $OUTPUT =~ s/pattern/replacement/flag;\n\n  print $OUTPUT;\n}\n</code></pre>\n\n<p>Solution worked from: <a href=\"https://stackoverflow.com/questions/3508630/how-to-capture-stdout-in-a-variable\">How to Capture STDOUT in a variable</a></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1498623679, "last_edit_date": 1498623679, "creation_date": 1498621221, "answer_id": 44793259, "question_id": 44791442, "link": "https://stackoverflow.com/questions/44791442/capture-script-output-and-process-it-before-actual-write/44793259#44793259", "title": "Capture script output and process it before actual write", "body": "<p>Place the following in the file executed by your caller.</p>\n\n<pre><code>#!/bin/sh\n/path/to/actual_script \"$@\" | perl -pe's/.../.../g'\n</code></pre>\n"}], "owner": {"reputation": 221, "user_id": 2512368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c9359f40a0ec66eade02d226668f09?s=128&d=identicon&r=PG", "display_name": "Diego Augusto Molina", "link": "https://stackoverflow.com/users/2512368/diego-augusto-molina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1498740314, "creation_date": 1498605899, "last_edit_date": 1498740314, "question_id": 44791442, "link": "https://stackoverflow.com/questions/44791442/capture-script-output-and-process-it-before-actual-write", "title": "Capture script output and process it before actual write", "body": "<p>I have control over a perl script which is early required from another one which is a CGI script. I need to capture all output of the main script and be able to change it somehow.</p>\n\n<p>This is the actual chaining:</p>\n\n<pre><code>[index.cgi] &gt; (require) &gt; [header.pl] &gt; (eval 'cat ...') &gt; [my_script.pl]\n</code></pre>\n\n<p>I know I can use the END block to make the post-processing part at the end of the whole program, but I would need a way to start capturing all the output.</p>\n\n<p><strong>EDIT</strong>: I have just found <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow noreferrer\">Capture::Tiny</a>, which allows us to:</p>\n\n<pre><code>use Capture::Tiny ':all';\n\n($stdout, $stderr, @result) = capture {\n  # your code here\n};\n</code></pre>\n\n<p>But that would require me to put all the code between curly braces, which is not viable since I don't have access to the main, calling script (which requires my script). This helps to clarify that I want to start capturing the output as soon as I execute the sentence.</p>\n"}, {"tags": ["perl", "string-substitution"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 4, "creation_date": 1498601795, "post_id": 44790794, "comment_id": 76562441, "body": "What encoding do you use to save the script? What encoding do you use for output? What encoding does the program you use for viewing the output use?"}, {"owner": {"reputation": 119, "user_id": 7465877, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-NynXSWfrozE/AAAAAAAAAAI/AAAAAAAAAC4/c9sayepDNew/photo.jpg?sz=128", "display_name": "G&#252;nter Bachelier", "link": "https://stackoverflow.com/users/7465877/g%c3%bcnter-bachelier"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1498640449, "post_id": 44790794, "comment_id": 76576178, "body": "I am using gedit (Win porting; usually used in Linux) ; had never any encoding issues so I am lost here; found nothing relevant in preferences"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 7465877, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-NynXSWfrozE/AAAAAAAAAAI/AAAAAAAAAC4/c9sayepDNew/photo.jpg?sz=128", "display_name": "G&#252;nter Bachelier", "link": "https://stackoverflow.com/users/7465877/g%c3%bcnter-bachelier"}, "edited": false, "score": 0, "creation_date": 1498648781, "post_id": 44798832, "comment_id": 76581753, "body": "thanks; the problem seem to be the UTF-8 encoding. With your additions in the Perl code the Win terminal shows 1_(4\u252c&#186;z^2-1) and as part of the writen folder name I get 1_(4&#194;&#167;z^2-1). In the properties of Win terminal I only see: Codepage 850 (OME - Multilingual Lateinisch) but no option to change something."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 119, "user_id": 7465877, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-NynXSWfrozE/AAAAAAAAAAI/AAAAAAAAAC4/c9sayepDNew/photo.jpg?sz=128", "display_name": "G&#252;nter Bachelier", "link": "https://stackoverflow.com/users/7465877/g%c3%bcnter-bachelier"}, "edited": false, "score": 0, "creation_date": 1498652263, "post_id": 44798832, "comment_id": 76584282, "body": "@G&#252;nterBachelier: Try saving the output to a file and open it in an editor capable of UTF-8. See <code>chcp</code> on how to change the codepage in a MSWin terminal. Try <code>chcp 65001</code> specifically, just keep in mind you need to use a TrueType font to get all the unicode characters displayed correctly."}, {"owner": {"reputation": 119, "user_id": 7465877, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-NynXSWfrozE/AAAAAAAAAAI/AAAAAAAAAC4/c9sayepDNew/photo.jpg?sz=128", "display_name": "G&#252;nter Bachelier", "link": "https://stackoverflow.com/users/7465877/g%c3%bcnter-bachelier"}, "edited": false, "score": 0, "creation_date": 1498653446, "post_id": 44798832, "comment_id": 76585144, "body": "with Aktive Codepage: 65001 in Win console I get the desired output 1_(4&#167;z^2-1) without any other change in gedit and the .pl file. Thanks!"}, {"owner": {"reputation": 119, "user_id": 7465877, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-NynXSWfrozE/AAAAAAAAAAI/AAAAAAAAAC4/c9sayepDNew/photo.jpg?sz=128", "display_name": "G&#252;nter Bachelier", "link": "https://stackoverflow.com/users/7465877/g%c3%bcnter-bachelier"}, "edited": false, "score": 0, "creation_date": 1498671832, "post_id": 44798832, "comment_id": 76598822, "body": "Unfortunately the actual incorrect naming of the folder with CM-1_(4&#194;&#167;z^2-1)-2017-06-27-01 remains in the file system even the correct name is shown in the console with output_folder_name = CM-1_(4&#167;z^2-1)-2017-06-27-01. Strange!"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 119, "user_id": 7465877, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-NynXSWfrozE/AAAAAAAAAAI/AAAAAAAAAC4/c9sayepDNew/photo.jpg?sz=128", "display_name": "G&#252;nter Bachelier", "link": "https://stackoverflow.com/users/7465877/g%c3%bcnter-bachelier"}, "edited": false, "score": 0, "creation_date": 1498676899, "post_id": 44798832, "comment_id": 76601812, "body": "You haven&#39;t mentioned folder names. How do you set it? See <a href=\"https://stackoverflow.com/a/5993942/1030675\">stackoverflow.com/a/5993942/1030675</a>"}, {"owner": {"reputation": 119, "user_id": 7465877, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-NynXSWfrozE/AAAAAAAAAAI/AAAAAAAAAC4/c9sayepDNew/photo.jpg?sz=128", "display_name": "G&#252;nter Bachelier", "link": "https://stackoverflow.com/users/7465877/g%c3%bcnter-bachelier"}, "edited": false, "score": 0, "creation_date": 1498678662, "post_id": 44798832, "comment_id": 76602764, "body": "I normally use Perl@Linux and now Strawberry-Perl@Win. I simply defined a subprogram get_CM_type that gets an expression string $f_z = &#39;1./(4.*z.^2-1)&#39; as input, make some substitutions and returns the result string as $CM_type. With this string I concatenate $output_folder_name = $Distortion . &#39;-&#39; . $CM_type . &#39;-&#39; . $date . &#39;-&#39; . $exp_num; I reused this for generation file names (jpgs) by adding indexes. Such functionality also worked fine with Matlab@Win so I had until now no further thoughts about UTF-8 etc. when switching to Perl which was hasty."}, {"owner": {"reputation": 119, "user_id": 7465877, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-NynXSWfrozE/AAAAAAAAAAI/AAAAAAAAAC4/c9sayepDNew/photo.jpg?sz=128", "display_name": "G&#252;nter Bachelier", "link": "https://stackoverflow.com/users/7465877/g%c3%bcnter-bachelier"}, "edited": false, "score": 0, "creation_date": 1498744105, "post_id": 44798832, "comment_id": 76634152, "body": "I have tried $CM_type2 = encode(&quot;UTF-16LE&quot;, $CM_type); but a print gives &#39;1 _ ( 4 &#167; z ^ 2 - 1 ) &#39; and this is not useful as a folder or file name. But a test with $CM_type = &#39;&#167;&#39; shows that now in the file system &#39;&#167;&#39; is shown instead of &#39;&#194;&#167;&#39;."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 119, "user_id": 7465877, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-NynXSWfrozE/AAAAAAAAAAI/AAAAAAAAAC4/c9sayepDNew/photo.jpg?sz=128", "display_name": "G&#252;nter Bachelier", "link": "https://stackoverflow.com/users/7465877/g%c3%bcnter-bachelier"}, "edited": false, "score": 0, "creation_date": 1498744444, "post_id": 44798832, "comment_id": 76634454, "body": "<code>print</code> uses different encoding than the file system. Don&#39;t compare the two."}, {"owner": {"reputation": 119, "user_id": 7465877, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-NynXSWfrozE/AAAAAAAAAAI/AAAAAAAAAC4/c9sayepDNew/photo.jpg?sz=128", "display_name": "G&#252;nter Bachelier", "link": "https://stackoverflow.com/users/7465877/g%c3%bcnter-bachelier"}, "edited": false, "score": 0, "creation_date": 1498744610, "post_id": 44798832, "comment_id": 76634606, "body": "when I wrote &quot;not useful&quot; I mean that after the &#39;1&#39; the name stopped. The output_folder_name become &#39;CM-1&#39; instead of CM-1_(4&#167;z^2-1)-2017-06-27-01"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 119, "user_id": 7465877, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-NynXSWfrozE/AAAAAAAAAAI/AAAAAAAAAC4/c9sayepDNew/photo.jpg?sz=128", "display_name": "G&#252;nter Bachelier", "link": "https://stackoverflow.com/users/7465877/g%c3%bcnter-bachelier"}, "edited": false, "score": 0, "creation_date": 1498744652, "post_id": 44798832, "comment_id": 76634643, "body": "How do you create the folder? Do you use Win32::API?"}, {"owner": {"reputation": 119, "user_id": 7465877, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-NynXSWfrozE/AAAAAAAAAAI/AAAAAAAAAC4/c9sayepDNew/photo.jpg?sz=128", "display_name": "G&#252;nter Bachelier", "link": "https://stackoverflow.com/users/7465877/g%c3%bcnter-bachelier"}, "edited": false, "score": 0, "creation_date": 1498744839, "post_id": 44798832, "comment_id": 76634826, "body": "I reused a construct from my Linux-Perl code: &quot;if (!-d $output_folder_path) {mkdir(&quot;$output_folder_path&quot;, 0777)  || die ....}&quot;"}, {"owner": {"reputation": 119, "user_id": 7465877, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-NynXSWfrozE/AAAAAAAAAAI/AAAAAAAAAC4/c9sayepDNew/photo.jpg?sz=128", "display_name": "G&#252;nter Bachelier", "link": "https://stackoverflow.com/users/7465877/g%c3%bcnter-bachelier"}, "edited": false, "score": 0, "creation_date": 1498750945, "post_id": 44798832, "comment_id": 76639635, "body": "I have read it but because I am totally unfamiliar with Win32::API I don&#39;t get it. Learning this whole thing is a disproportionate effort for simply making a folder/file name. I found a solution with encode(&quot;UTF-16LE&quot;,...), making some string processing with the result and using mkdir."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1498642576, "creation_date": 1498642576, "answer_id": 44798832, "question_id": 44790794, "link": "https://stackoverflow.com/questions/44790794/perl-substitute-to/44798832#44798832", "title": "Perl: substitute .* to &#167;", "body": "<p>It works for me:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse utf8;\nuse open IO =&gt; ':encoding(UTF-8)', ':std';\n\nmy $fn = '1./(4.*z.^2-1)';\n\ns/.\\//_/g,\ns/.\\*/\u00a7/g,\ns/.\\^/^/g\n    for $fn;\n\nsay $fn;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1_(4\u00a7z^2-1)\n</code></pre>\n\n<p>You can see <code>use utf8</code>, it tells Perl the source code is in UTF-8. Make sure you save the source as UTF-8, then.</p>\n\n<p>The <code>use open</code> sets the UTF-8 encoding for standard input and output. Make sure the terminal to which you print is configured to work in UTF-8, too.</p>\n"}], "owner": {"reputation": 119, "user_id": 7465877, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh5.googleusercontent.com/-NynXSWfrozE/AAAAAAAAAAI/AAAAAAAAAC4/c9sayepDNew/photo.jpg?sz=128", "display_name": "G&#252;nter Bachelier", "link": "https://stackoverflow.com/users/7465877/g%c3%bcnter-bachelier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 44798832, "answer_count": 1, "score": -3, "last_activity_date": 1498642576, "creation_date": 1498601707, "last_edit_date": 1498641013, "question_id": 44790794, "link": "https://stackoverflow.com/questions/44790794/perl-substitute-to", "title": "Perl: substitute .* to &#167;", "body": "<p>I have to substitute multiple substrings from expressions like $fn = '1./(4.*z.^2-1)' in Perl (v5.24.1@Win10):  </p>\n\n<pre><code>$fn =~ s/.\\//_/g;\n$fn =~ s/.\\*/\u00a7/g;\n$fn =~ s/.\\^/^/g;\n</code></pre>\n\n<p>but \u00a7 is not working; I get a \u252c\u00ba in the expression result (1_(4\u252c\u00baz^2-1)). I need this for folder and file names and it worked fine in Matlab@Win10 with fn = strrep(fn, '.*', '\u00a7'). </p>\n\n<p>How can a get the \u00a7 in the Perl substitution result?  </p>\n"}, {"tags": ["perl", "unix", "text", "awk", "grep"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498591013, "post_id": 44787145, "comment_id": 76557092, "body": "<i>&quot;I can write something in perl and it wouldn&#39;t be too complex&quot;</i> So what do you need our help for?"}, {"owner": {"reputation": 321, "user_id": 8208746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/443f5ef8f91ffae4195d73b89003a303?s=128&d=identicon&r=PG&f=1", "display_name": "angusc", "link": "https://stackoverflow.com/users/8208746/angusc"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498591310, "post_id": 44787145, "comment_id": 76557259, "body": "Hoping to learn a better way than a multi-line perl script"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498591712, "post_id": 44787145, "comment_id": 76557483, "body": "You should post your Perl and describe the problems you have with it. There is nothing wring with a multi-line Perl program."}, {"owner": {"reputation": 321, "user_id": 8208746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/443f5ef8f91ffae4195d73b89003a303?s=128&d=identicon&r=PG&f=1", "display_name": "angusc", "link": "https://stackoverflow.com/users/8208746/angusc"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498592669, "post_id": 44787145, "comment_id": 76558015, "body": "I get that, but I don&#39;t need help with a perl script, I know I can make that work. I was seeing if I could learn a better way, like a single command line."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498592928, "post_id": 44787145, "comment_id": 76558152, "body": "Then you should put that in your question. As it stands it&#39;s far from clear what you&#39;re asking. And there&#39;s nothing &quot;better&quot; about a single command line. It would help you to get better answers if you showed good faith and published the Perl you gave written, although it&#39;s sounding like your question belongs on <i>Code Review</i>."}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 8208746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/443f5ef8f91ffae4195d73b89003a303?s=128&d=identicon&r=PG&f=1", "display_name": "angusc", "link": "https://stackoverflow.com/users/8208746/angusc"}, "edited": false, "score": 0, "creation_date": 1498592776, "post_id": 44787384, "comment_id": 76558068, "body": "Tried this regex, returned empty result set. Thanks"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 321, "user_id": 8208746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/443f5ef8f91ffae4195d73b89003a303?s=128&d=identicon&r=PG&f=1", "display_name": "angusc", "link": "https://stackoverflow.com/users/8208746/angusc"}, "edited": false, "score": 0, "creation_date": 1498594019, "post_id": 44787384, "comment_id": 76558716, "body": "There was an error with the <code>grep</code> version. (I had tested it, found the problem and fixed it, but the fix didn&#39;t make it to my answer.) My answer has been fixed."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1498593944, "last_edit_date": 1498593944, "creation_date": 1498588034, "answer_id": 44787384, "question_id": 44787145, "link": "https://stackoverflow.com/questions/44787145/extract-matching-lines-after-first-match/44787384#44787384", "title": "Extract Matching Lines after first match", "body": "<blockquote>\n  <p><em>Is there a quick for each record get the lines for a set of keys, returning only the first result per key?</em></p>\n</blockquote>\n\n<p>I don't believe that's actually what you want. I believe you actually want the items labeled <code>Apple</code>, <code>Ball</code> and <code>Dog</code> at the second level, meaning both</p>\n\n<pre><code>Record = 1\n  Apple = 1\n  Ball = 2\n  Car = 3\n    RedApple = 4\n    Ball = 5\n  Dog = 6\n  Elf = 7\n  Fudge = 8\n</code></pre>\n\n<p>and </p>\n\n<pre><code>Record = 1\n  Apple = 1\n  Car = 3\n    RedApple = 4\n    Ball = 5\n  Ball = 2\n  Dog = 6\n  Elf = 7\n  Fudge = 8\n</code></pre>\n\n<p>should produce</p>\n\n<pre><code>Record = 1\n  Apple = 1\n  Ball = 2\n  Dog = 6\n</code></pre>\n\n<p>If so, you could use</p>\n\n<pre><code>perl -ne'print if /^(?:\\S|[ ]{2}(?:Apple|Ball|Dog)[ ]=)/'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>grep -P '^(?:\\S|[ ]{2}(?:Apple|Ball|Dog)[ ]=)'\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Record = 1\n  Apple = 1\n  Ball = 2\n  Dog = 6\nRecord = 1\n  Apple = 2\n  Ball = 4\n  Dog = 12\nRecord = 1\n  Apple = 3\n  Ball = 6\n  Dog = 18\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/q/41742890/589924\">Specifying file to process to Perl one-liner</a> for usage.</p>\n"}, {"comments": [{"owner": {"reputation": 321, "user_id": 8208746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/443f5ef8f91ffae4195d73b89003a303?s=128&d=identicon&r=PG&f=1", "display_name": "angusc", "link": "https://stackoverflow.com/users/8208746/angusc"}, "edited": false, "score": 0, "creation_date": 1498593244, "post_id": 44788587, "comment_id": 76558297, "body": "Awesome! Thanks, never learned much awk, but I can make some sense of that, basically tracking which values have been found already."}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "edited": false, "score": 0, "creation_date": 1498593799, "post_id": 44788587, "comment_id": 76558591, "body": "if that&#39;s the case, need to set FS to non space (perhaps &quot;=&quot; sign) and use the required number of spaces as part of the key."}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": true, "score": -1, "last_activity_date": 1498593920, "last_edit_date": 1498593920, "creation_date": 1498592593, "answer_id": 44788587, "question_id": 44787145, "link": "https://stackoverflow.com/questions/44787145/extract-matching-lines-after-first-match/44788587#44788587", "title": "Extract Matching Lines after first match", "body": "<p><code>awk</code> to the rescue!</p>\n\n<pre><code>$ awk '/^Record/ {h=$0; a[\"Apple\"]=a[\"Dog\"]=a[\"Ball\"]=0}\n       $1 in a   {if(h) {print h; h=\"\"}\n                  if(!a[$1]++) print}' file\n\nRecord = 1\n  Apple = 1\n  Ball = 2\n  Dog = 6\nRecord = 1\n  Apple = 2\n  Ball = 4\n  Dog = 12\nRecord = 1\n  Apple = 3\n  Ball = 6\n  Dog = 18\n</code></pre>\n\n<p><strong>Explanation</strong> saves header line and reset the counts.  For the lines that has the first field in required keys print header once and print the lines for the first appearance of the key.</p>\n\n<p>If you wanted to extract the second level items only, need to incorporate leading spaces as part of key (to determine the hierarchy).  This can be one alternative...</p>\n\n<pre><code>$ awk -F' *= *' '/Record/ {h=$0; a[\"  Apple\"]=a[\"  Dog\"]=a[\"  Ball\"]=0} \n                 $1 in a  {if(h) {print h;h=\"\"}; if(!a[$1]++) print}'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 321, "user_id": 8208746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/443f5ef8f91ffae4195d73b89003a303?s=128&d=identicon&r=PG&f=1", "display_name": "angusc", "link": "https://stackoverflow.com/users/8208746/angusc"}, "edited": false, "score": 0, "creation_date": 1498640183, "post_id": 44791205, "comment_id": 76576002, "body": "Thought I was being clear, but obviously not. Unfortunately this doesn&#39;t work as there is an unknown amount of leading spaces, so I can&#39;t use a single space to exclude second matches for lines."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 321, "user_id": 8208746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/443f5ef8f91ffae4195d73b89003a303?s=128&d=identicon&r=PG&f=1", "display_name": "angusc", "link": "https://stackoverflow.com/users/8208746/angusc"}, "edited": false, "score": 0, "creation_date": 1498650385, "post_id": 44791205, "comment_id": 76582806, "body": "Again, if you&#39;d like help to come up with the best possible solution then edit your question to show a more truly representative example. From what you&#39;ve told us so far I really think your currently accepted answer is more complicated than necessary."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1498604263, "creation_date": 1498604263, "answer_id": 44791205, "question_id": 44787145, "link": "https://stackoverflow.com/questions/44787145/extract-matching-lines-after-first-match/44791205#44791205", "title": "Extract Matching Lines after first match", "body": "<p>If this isn't all you need:</p>\n\n<pre><code>$ grep -E '^(Record|  (Apple|Ball|Car))' file\nRecord = 1\n  Apple = 1\n  Ball = 2\n  Car = 3\nRecord = 1\n  Apple = 2\n  Ball = 4\n  Car = 6\nRecord = 1\n  Apple = 3\n  Ball = 6\n  Car = 9\n</code></pre>\n\n<p>then edit your question to show a more truly representative example. Right now you've accepted an answer that's also based on guessing at your needs and may be more complicated than necessary (while this one may be more simple).</p>\n"}], "owner": {"reputation": 321, "user_id": 8208746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/443f5ef8f91ffae4195d73b89003a303?s=128&d=identicon&r=PG&f=1", "display_name": "angusc", "link": "https://stackoverflow.com/users/8208746/angusc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 44788587, "answer_count": 3, "score": -3, "last_activity_date": 1498604263, "creation_date": 1498587105, "question_id": 44787145, "link": "https://stackoverflow.com/questions/44787145/extract-matching-lines-after-first-match", "title": "Extract Matching Lines after first match", "body": "<p>I have text data at the command line that is broken into \"records\", each with the same value (always 1). In each record, each line is a separate key and value (no this isn't in json unfortunately). A key is sometimes repeated in the record, and sometimes the key name is part of a longer key. For example:</p>\n\n<pre><code>Record = 1\n  Apple = 1\n  Ball = 2\n  Car = 3\n    RedApple = 4\n    Ball = 5\n  Dog = 6\n  Elf = 7\n  Fudge = 8\nRecord = 1\n  Apple = 2\n  Ball = 4\n  Car = 6\n    RedApple = 8\n    Ball = 10\n  Dog = 12\n  Elf = 14\n  Fudge = 16\nRecord = 1\n  Apple = 3\n  Ball = 6\n  Car = 9\n    RedApple = 12\n    Ball = 15\n  Dog = 18\n  Elf = 21\n  Fudge = 24\n</code></pre>\n\n<p>Is there a quick for each record get the lines for a set of keys, returning only the first result per key? </p>\n\n<p>Ex: For each record get keys {Apple, Ball, Dog} </p>\n\n<p>would match the following lines:</p>\n\n<pre><code>Record = 1\n  Apple = 1\n  Ball = 2\n  Dog = 6\nRecord = 1\n  Apple = 2\n  Ball = 4\n  Dog = 12\n...\n</code></pre>\n\n<p>Basically, the rule is after matching a line with \"Record\", get the next unique lines with \" Apple \", \" Ball \", and \" Dog \" (spacing indicating exact key match) and spit those lines out.</p>\n\n<p>I can write something in perl and it wouldn't be too complex. I don't know awk, so don't know if it's better for something like this.</p>\n"}, {"tags": ["list", "perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1498582407, "post_id": 44785674, "comment_id": 76552458, "body": "<code>grep { $_-&gt;{size} &gt; 1024 } $files;</code> ... That is likely to make you sad. You need to dereference <code>$files</code> as in <code>@$files</code> or using my favorite new syntax <code>$files-&gt;@*</code>."}], "answers": [{"tags": [], "owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "is_accepted": false, "score": 2, "last_activity_date": 1498582105, "creation_date": 1498582105, "answer_id": 44785774, "question_id": 44785674, "link": "https://stackoverflow.com/questions/44785674/perl-grep-and-map-in-one-operation/44785774#44785774", "title": "perl: grep and map in one operation", "body": "<blockquote>\n  <p>Is there a simple way to run this in a single operation,</p>\n</blockquote>\n\n<p>You can do it as one compound statement:</p>\n\n<pre><code>my @large_paths = map { $_-&gt;{path} } grep ...;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "edited": false, "score": 0, "creation_date": 1498582256, "post_id": 44785793, "comment_id": 76552371, "body": "<code>values $files</code> works with the experimental (but now deprecated) feature that automatically dereferenced reference variables"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 4, "last_activity_date": 1498582160, "creation_date": 1498582160, "answer_id": 44785793, "question_id": 44785674, "link": "https://stackoverflow.com/questions/44785674/perl-grep-and-map-in-one-operation/44785793#44785793", "title": "perl: grep and map in one operation", "body": "<ol>\n<li><p><code>$files</code> is an array reference, therefore <code>values $files</code> does not make sense.</p></li>\n<li><p><code>map BLOCK</code> and <code>grep BLOCK</code> tend to be slower than <code>map EXPR</code> and <code>grep EXPR</code>, respectively. Prefer the latter if you can.</p></li>\n</ol>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my @large_filepaths =\n    map $_-&gt;{path},\n    grep $_-&gt;{size} &gt; 1024,\n    @$files;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 10, "last_activity_date": 1498582275, "creation_date": 1498582275, "answer_id": 44785823, "question_id": 44785674, "link": "https://stackoverflow.com/questions/44785674/perl-grep-and-map-in-one-operation/44785823#44785823", "title": "perl: grep and map in one operation", "body": "<p>One statement with <code>map { ... } grep { ... } @$files</code> is the \"standard\" way to do it and the closest equivalent to what you're doing in Python.</p>\n\n<p>Technically it's possible to do it in a single <code>map</code>, because <code>map</code> can return any number of values for each input value, including zero \u00ad\u2014 so you can do something like<br>\n<code>map { $_-&gt;{size} &gt; 1024 ? $_-&gt;{path} : () } @$files</code>, but that's substantially less clear and I wouldn't recommend it in general.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1498582840, "creation_date": 1498582840, "answer_id": 44785966, "question_id": 44785674, "link": "https://stackoverflow.com/questions/44785674/perl-grep-and-map-in-one-operation/44785966#44785966", "title": "perl: grep and map in one operation", "body": "<p>You can do this with just a call to <code>map</code> if you want</p>\n\n<pre><code>my @large_filepaths = map { $_-&gt;{size} &gt; 1024 ? ( $_-&gt;{path} ) : ( ) } @$files;\n</code></pre>\n\n<p>but I think a combined <code>map</code>/<code>grep</code> is clearer.</p>\n"}], "owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1266, "favorite_count": 0, "accepted_answer_id": 44785823, "answer_count": 4, "score": 3, "last_activity_date": 1498582840, "creation_date": 1498581752, "last_edit_date": 1498582216, "question_id": 44785674, "link": "https://stackoverflow.com/questions/44785674/perl-grep-and-map-in-one-operation", "title": "perl: grep and map in one operation", "body": "<p>Is there a way to perform a <code>grep</code> and a <code>map</code> in a single operation in perl?  Similar to the way that python can perform list comprehension:</p>\n\n<pre><code>files = [{ 'path':'/path/to/file1',\n           'size':123},\n         { 'path':'/path/to/file2',\n           'size':987},\n         { 'path':'/path/file3',\n           'size':1234},\n         { 'path':'/path/to/file4',\n           'size':543},\n         { 'path':'/path/to/my/file5',\n           'size':1357}]\nlarge_filepaths = [file['path'] for file in files if file['size'] &gt; 1024]\n</code></pre>\n\n<p>In Perl, I need to do a <code>grep</code> to filter out the large files, then a <code>map</code> to get the specific values I want:</p>\n\n<pre><code>my $files = [ { path=&gt;'/path/to/file1',\n                size=&gt;123},\n              { path=&gt;'/path/to/file2',\n                size=&gt;987},\n              { path=&gt;'/path/file3',\n                size=&gt;1234},\n              { path=&gt;'/path/to/file4',\n                size=&gt;543},\n              { path=&gt;'/path/to/my/file5',\n                size=&gt;1357} ];\nmy @large = grep { $_-&gt;{size} &gt; 1024 } $files;\nmy @large_filepaths = map { $_-&gt;{path} } @large;\n</code></pre>\n\n<p>Is there a simple way to run this in a single operation, or do I have to use 2 statements (or one compound statement)?</p>\n"}, {"tags": ["php", "mysql", "json", "perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1498572622, "post_id": 44782374, "comment_id": 76545670, "body": "We need more information. We need to see the code that generates the JSON. And we need to know how you are viewing the REST API result."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1498572936, "post_id": 44782374, "comment_id": 76545937, "body": "@ChanakaDeSilva \u2014 Edit your question and use the formatting features provided. Posting large chunks of code into a comment leaves an unreadable mess."}, {"owner": {"reputation": 351, "user_id": 6603729, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/347ea1d3ae35c5dd98635544f44107c1?s=128&d=identicon&r=PG&f=1", "display_name": "Chanaka De Silva", "link": "https://stackoverflow.com/users/6603729/chanaka-de-silva"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1498573594, "post_id": 44782374, "comment_id": 76546418, "body": "@DaveCross Please check. I edited the question."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1498586815, "post_id": 44782374, "comment_id": 76554821, "body": "You&#39;re asking to convert Perl <i>code</i> into JSON!"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1498580873, "post_id": 44782547, "comment_id": 76551563, "body": "You also need to remove trailing commas at the end of lists. In Perl those are allowed, in json they are not."}, {"owner": {"reputation": 6465, "user_id": 1181435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2f2059bf003de1adcf05b16aeecd5f4?s=128&d=identicon&r=PG", "display_name": "Alex Tartan", "link": "https://stackoverflow.com/users/1181435/alex-tartan"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498586872, "post_id": 44782547, "comment_id": 76554851, "body": "@simbabque, the datastructure OP provided doesn&#39;t have lists. But if it did, a simple <code>$string = str_replace(&#39;,]&#39;,&#39;]&#39;, $string);</code> would do the job. And no, i&#39;m not gonna regex a json string ;). I usually don&#39;t overcomplicate problems"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1498589583, "post_id": 44782547, "comment_id": 76556314, "body": "@simbabque, The Perl code was surely produced by Data::Dumper, which won&#39;t create those commas. There&#39;s a <i>slew</i> of other issues, however."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498602088, "post_id": 44782547, "comment_id": 76562530, "body": "@AlexTartan that&#39;s not a list, it&#39;s an array reference. Anything in Perl that is separated by commas is a list. Some of those happen to be array or hash references. You can put trailing commas everywhere. They create empty elements and those just get removed. Ikegami is right, it&#39;s probably Data::Dumper output. I think there&#39;s a flag to turn them on though."}], "tags": [], "owner": {"reputation": 6465, "user_id": 1181435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2f2059bf003de1adcf05b16aeecd5f4?s=128&d=identicon&r=PG", "display_name": "Alex Tartan", "link": "https://stackoverflow.com/users/1181435/alex-tartan"}, "is_accepted": true, "score": -3, "last_activity_date": 1498643459, "last_edit_date": 1498643459, "creation_date": 1498572744, "answer_id": 44782547, "question_id": 44782374, "link": "https://stackoverflow.com/questions/44782374/how-to-convert-perl-generated-stringobject-into-json-using-php/44782547#44782547", "title": "How to convert Perl generated string(Object) into JSON using PHP?", "body": "<p>Not sure where that escaping happens (if you can, give some more details)</p>\n\n<p>But, try to replace <code>=&gt;</code> with <code>:</code> and <code>\\\"</code> with <code>\"</code> and you'll have yourself a valid json.</p>\n\n<pre><code>$string = '{\\\"caption\\\" =&gt; \\\"Genes (Comprehensive set from GENCODE 26)\\\",\\\"colour_key\\\" =&gt; \\\"[biotype]\\\",\\\"default\\\" =&gt; {\\\"MultiBottom\\\" =&gt; \\\"collapsed_label\\\",\\\"MultiTop\\\" =&gt; \\\"gene_label\\\",\\\"alignsliceviewbottom\\\" =&gt; \\\"as_collapsed_label\\\",\\\"contigviewbottom\\\" =&gt; \\\"transcript_label\\\",\\\"contigviewtop\\\" =&gt; \\\"gene_label\\\",\\\"cytoview\\\" =&gt; \\\"gene_label\\\"},\\\"key\\\" =&gt; \\\"ensembl\\\",\\\"label_key\\\" =&gt; \\\"[biotype]\\\",\\\"multi_name\\\" =&gt; \\\"GENCODE 26 Comprehensive gene set\\\",\\\"name\\\" =&gt; \\\"Comprehensive Gene Annotations from GENCODE 26\\\"}';\n\n$string = str_replace('\\\"','\"', $string);\n$string = str_replace('=&gt;',':', $string);\n$json = json_decode($string, true);\nprint_r($json);\n</code></pre>\n\n<p>You can check it out here: <a href=\"https://3v4l.org/UBmGA\" rel=\"nofollow noreferrer\">https://3v4l.org/UBmGA</a></p>\n\n<hr>\n\n<p>Apparently this answer got more hate than i'd expect. Nevertheless, it did help OP and i'm sticking by it. In the end, this is what SO stands for.</p>\n\n<p>I would like to know though... why so many downvotes? I <em>do</em> take constructive criticism well and would like to know how to improve future answers.</p>\n"}, {"comments": [{"owner": {"reputation": 6465, "user_id": 1181435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2f2059bf003de1adcf05b16aeecd5f4?s=128&d=identicon&r=PG", "display_name": "Alex Tartan", "link": "https://stackoverflow.com/users/1181435/alex-tartan"}, "edited": false, "score": 0, "creation_date": 1498671938, "post_id": 44787826, "comment_id": 76598872, "body": "you might want to put that <code>str_replace</code> before the <code>json_decode</code>. It will fail to decode that string if there are &quot;=&gt;&quot; in it. more precisely, <code>json_last_error_msg()</code> will return &quot;Syntax error&quot;.  which kinda leaves you with what i wrote..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 6465, "user_id": 1181435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2f2059bf003de1adcf05b16aeecd5f4?s=128&d=identicon&r=PG", "display_name": "Alex Tartan", "link": "https://stackoverflow.com/users/1181435/alex-tartan"}, "edited": false, "score": 0, "creation_date": 1498671998, "post_id": 44787826, "comment_id": 76598912, "body": "@Alex Tartan, No, that would be wrong. The OP is starting with a JSON string. The fact that the string contains <code>=&gt;</code> is of no consequence. <code>&quot;{\\&quot;caption\\&quot; =&gt; \\&quot;Genes ...\\&quot;, ...}&quot;</code> will properly decode."}, {"owner": {"reputation": 6465, "user_id": 1181435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2f2059bf003de1adcf05b16aeecd5f4?s=128&d=identicon&r=PG", "display_name": "Alex Tartan", "link": "https://stackoverflow.com/users/1181435/alex-tartan"}, "edited": false, "score": 0, "creation_date": 1498673115, "post_id": 44787826, "comment_id": 76599552, "body": "please see <a href=\"https://3v4l.org/WiDli\" rel=\"nofollow noreferrer\">3v4l.org/WiDli</a> It&#39;s an online platform that executes php code. I&#39;ve made a snippet to demonstrate this. Don&#39;t get me wrong, my piece of code is not a generic converter. It&#39;s just supposed to work with the type of data OP provided. To make a proper converter, yes, a lot more cases need to be accounted."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 6465, "user_id": 1181435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2f2059bf003de1adcf05b16aeecd5f4?s=128&d=identicon&r=PG", "display_name": "Alex Tartan", "link": "https://stackoverflow.com/users/1181435/alex-tartan"}, "edited": false, "score": 0, "creation_date": 1498675179, "post_id": 44787826, "comment_id": 76600765, "body": "Re &quot;<i>Re &quot;notice i didn&#39;t change $db_string!</i>&quot;, Actually, you did. If you do <code>echo $db_string</code>, you will see it&#39;s different than what the OP posted. Here&#39;s a <a href=\"https://3v4l.org/Tun7q\" rel=\"nofollow noreferrer\">proper test</a>. As you can see, both solutions give the correct output for the provided input. However, yours will fail for so many other valid inputs!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1498675106, "last_edit_date": 1498675106, "creation_date": 1498589689, "answer_id": 44787826, "question_id": 44782374, "link": "https://stackoverflow.com/questions/44782374/how-to-convert-perl-generated-stringobject-into-json-using-php/44787826#44787826", "title": "How to convert Perl generated string(Object) into JSON using PHP?", "body": "<p>If on the off chance you really do have</p>\n\n<pre><code>{\\\"caption\\\" =&gt; \\\"Genes ...\\\", ...}\n</code></pre>\n\n<p>Then you have a JSON fragment, and the first you thing you need to do is turn it into a complete JSON document so it can be decoded.</p>\n\n<pre><code>$json_fragment_from_api = '{\\\"caption\\\" =&gt; \\\"Genes ...\\\", ...}';\n$json_from_api = '{\"result\":\"' . $json_fragment_from_api . '\"}';\n$response = json_decode($json_from_api, true);\n$perl_code = $response[\"result\"];\n</code></pre>\n\n<hr>\n\n<p>That said, I think it's far more likely that you only showed a portion of your actual input. You're far more likely to have received something that looks more like</p>\n\n<pre><code>{ \"result\": \"{\\\"caption\\\" =&gt; \\\"Genes ...\\\", ...}\" }\n</code></pre>\n\n<p>Since you already have a complete JSON document, simply start by decoding it.</p>\n\n<pre><code>$json_from_api = '{ \"result\": \"{\\\"caption\\\" =&gt; \\\"Genes ...\\\", ...}\" }';\n$response = json_decode($json_from_api, true);\n$perl_code = $response[\"result\"];\n</code></pre>\n\n<hr>\n\n<p>At this point, you have the value from the database.</p>\n\n<pre><code>{\"caption\" =&gt; \"Genes ...\", ...}\n</code></pre>\n\n<p>That value is Perl code. More specifically, it's surely Perl code that was produced by Data::Dumper. This is going to be hard to convert into JSON.</p>\n\n<p>You could use the following, but it won't handle everything:</p>\n\n<pre><code>$desired_json = str_replace(' =&gt;', ':', $perl_code);\n</code></pre>\n\n<p>Here are some things it won't handle:</p>\n\n<ul>\n<li>Undefined values</li>\n<li>Strings containing <code>=&gt;</code></li>\n<li>Strings containing <code>$</code></li>\n<li>Strings containing <code>@</code></li>\n<li>Strings containing non-ASCII or some non-printable characters.</li>\n</ul>\n\n<p>As shown here:</p>\n\n<pre><code>$ perl -e'\n   use feature qw( say );\n   use Data::Dumper qw( Dumper );\n   local $Data::Dumper::Useqq = 1;\n   local $Data::Dumper::Terse = 1;\n   local $Data::Dumper::Indent = 0;\n   say(Dumper({ x =&gt; undef }));\n   say(Dumper({ x =&gt; \" =&gt; \" }));\n   say(Dumper({ x =&gt; q{$} }));\n   say(Dumper({ x =&gt; q{@} }));\n   say(Dumper({ x =&gt; \"\\x7F\" }));\n'\n{\"x\" =&gt; undef}      # Gives {\"x\": undef}  instead of {\"x\": null}\n{\"x\" =&gt; \" =&gt; \"}     # Gives {\"x\": \": \"}   instead of {\"x\": \" =&gt; \"}\n{\"x\" =&gt; \"\\$\"}       # Gives {\"x\": \"\\$\"}   instead of {\"x\": \"$\"}\n{\"x\" =&gt; \"\\@\"}       # Gives {\"x\": \"\\@\"}   instead of {\"x\": \"@\"}\n{\"x\" =&gt; \"\\177\"}     # Gives {\"x\": \"\\177\"} instead of {\"x\": \"\\u007f\"}\n</code></pre>\n"}], "owner": {"reputation": 351, "user_id": 6603729, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/347ea1d3ae35c5dd98635544f44107c1?s=128&d=identicon&r=PG&f=1", "display_name": "Chanaka De Silva", "link": "https://stackoverflow.com/users/6603729/chanaka-de-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 1, "accepted_answer_id": 44782547, "answer_count": 2, "score": -3, "last_activity_date": 1499895193, "creation_date": 1498572235, "last_edit_date": 1499895193, "question_id": 44782374, "link": "https://stackoverflow.com/questions/44782374/how-to-convert-perl-generated-stringobject-into-json-using-php", "title": "How to convert Perl generated string(Object) into JSON using PHP?", "body": "<p>I created a REST API using Laravel (Lumen). Basically I'm taking some values from database and need to do some functions. Here's the problem.\nThere's a field called web_data in my result set. It's Perl code. This is how it looks when I query the database using normal SQL editor like phpmyadmin and workbench. </p>\n\n<pre><code>{\"caption\" =&gt; \"Genes (Comprehensive set from GENCODE 26)\",\"colour_key\" =&gt; \"[biotype]\",\"default\" =&gt; {\"MultiBottom\" =&gt; \"collapsed_label\",\"MultiTop\" =&gt; \"gene_label\",\"alignsliceviewbottom\" =&gt; \"as_collapsed_label\",\"contigviewbottom\" =&gt; \"transcript_label\",\"contigviewtop\" =&gt; \"gene_label\",\"cytoview\" =&gt; \"gene_label\"},\"key\" =&gt; \"ensembl\",\"label_key\" =&gt; \"[biotype]\",\"multi_name\" =&gt; \"GENCODE 26 Comprehensive gene set\",\"name\" =&gt; \"Comprehensive Gene Annotations from GENCODE 26\"}\n</code></pre>\n\n<p>It's very clear and nothing wrong. But when I get the same result via my REST API, I'm getting the following output. It has many \"\\\" symbols. Here's that output.</p>\n\n<pre><code>{\\\"caption\\\" =&gt; \\\"Genes (Comprehensive set from GENCODE 26)\\\",\\\"colour_key\\\" =&gt; \\\"[biotype]\\\",\\\"default\\\" =&gt; {\\\"MultiBottom\\\" =&gt; \\\"collapsed_label\\\",\\\"MultiTop\\\" =&gt; \\\"gene_label\\\",\\\"alignsliceviewbottom\\\" =&gt; \\\"as_collapsed_label\\\",\\\"contigviewbottom\\\" =&gt; \\\"transcript_label\\\",\\\"contigviewtop\\\" =&gt; \\\"gene_label\\\",\\\"cytoview\\\" =&gt; \\\"gene_label\\\"},\\\"key\\\" =&gt; \\\"ensembl\\\",\\\"label_key\\\" =&gt; \\\"[biotype]\\\",\\\"multi_name\\\" =&gt; \\\"GENCODE 26 Comprehensive gene set\\\",\\\"name\\\" =&gt; \\\"Comprehensive Gene Annotations from GENCODE 26\\\"}\n</code></pre>\n\n<p>Can you please tell me what's the reason for this? Is this an issue with PHP or something like that ?</p>\n\n<p>And also I have another issue. This is Perl code containing \"=>\" symbols to seperate values. I need to convert this into a JSON object using PHP. Is that possible ? \nNeed to convert like following object.</p>\n\n<pre><code>{ \"caption\" : \"Genes (Comprehensive set from GENCODE 26)\", \"colour_key\" : \"[biotype]\", \"default\" : { \"MultiBottom\" : \"collapsed_label\" ...\n</code></pre>\n\n<p>This is the php code i'm using to create the REST output using SQL data.</p>\n\n<pre><code>public function testDualDatabaseConnection()\n{\n    $testGene = DB::connection('mysql2')-&gt;select('select a.analysis_id, logic_name, ad.description, ad.display_label, ad.web_data FROM ( select distinct(analysis_id) as analysis_id from gene ) as a join analysis on (a.analysis_id = analysis.analysis_id) join analysis_description as ad on (analysis.analysis_id = ad.analysis_id) where ad.displayable =  :wow1', ['wow1' =&gt; \"1\"]);\n    return response()-&gt;json($testGene);\n}\n</code></pre>\n\n<p>And also this is the full JSON output i'm getting via REST API.\n<a href=\"https://gist.github.com/chanakaDe/0d1e5916d8bc788bb101afa9b92dc9cd\" rel=\"nofollow noreferrer\">https://gist.github.com/chanakaDe/0d1e5916d8bc788bb101afa9b92dc9cd</a></p>\n\n<p>In this response, you can see \"web_data\", that's also the part I need to convert to JSON again.</p>\n"}, {"tags": ["perl", "syntax", "declaration", "function-declaration"], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1498571314, "post_id": 44781997, "comment_id": 76544625, "body": "<a href=\"https://stackoverflow.com/questions/297034/why-are-perl-5s-function-prototypes-bad\">Obligatory &quot;why prototypes are bad&quot; link</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1498572309, "post_id": 44781997, "comment_id": 76545447, "body": "Pilfered and edited into the answer."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1498577548, "last_edit_date": 1498577548, "creation_date": 1498571254, "answer_id": 44781997, "question_id": 44781853, "link": "https://stackoverflow.com/questions/44781853/perl-subroutine-declaration-unexpected-symbols/44781997#44781997", "title": "Perl Subroutine Declaration Unexpected Symbols", "body": "<p>They're <a href=\"https://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"nofollow noreferrer\">\"prototypes\"</a> - but Perl prototypes aren't like those in other languages, and probably shouldn't be used.</p>\n\n<p>The <code>$</code> denotes a scalar argument to the function. <code>;$</code> denotes an optional additional scalar argument. And <code>\\$</code> denotes a reference argument. </p>\n\n<p>See also: <a href=\"https://stackoverflow.com/questions/297034/why-are-perl-5s-function-prototypes-bad\">Why are Perl 5&#39;s function prototypes bad?</a></p>\n"}], "owner": {"reputation": 1, "user_id": 8206330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dedbffdd8b4b7bf25139212b4d99c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "Mitchell Peterson", "link": "https://stackoverflow.com/users/8206330/mitchell-peterson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "closed_date": 1498575285, "accepted_answer_id": 44781997, "answer_count": 1, "score": -1, "last_activity_date": 1498577548, "creation_date": 1498570889, "question_id": 44781853, "link": "https://stackoverflow.com/questions/44781853/perl-subroutine-declaration-unexpected-symbols", "closed_reason": "Duplicate", "title": "Perl Subroutine Declaration Unexpected Symbols", "body": "<p>I have been looking at some Perl code that has some subroutine declarations that make no sense to me.  They appear as: </p>\n\n<pre><code>foo($$$$;$);\nfoo(\\$\\$\\$);\n</code></pre>\n\n<p>What do the symbols \";\" and \"\\\" do or mean in these declarations?</p>\n"}, {"tags": ["perl", "cmd", "psexec"], "comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1498564041, "post_id": 44776197, "comment_id": 76539392, "body": "What OS is this running on? the documentation for <code>Time::Out</code> says <code>alarm(2) doesn&#39;t interrupt blocking I&#47;O on MSWin32, so &#39;timeout&#39; won&#39;t do that either.</code>"}, {"owner": {"reputation": 29, "user_id": 8195048, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2ajoM.jpg?s=128&g=1", "display_name": "ninja", "link": "https://stackoverflow.com/users/8195048/ninja"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1498567763, "post_id": 44776197, "comment_id": 76541923, "body": "@Chris Doyle it is running on windows server 2008"}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 1, "last_activity_date": 1498571149, "creation_date": 1498571149, "answer_id": 44781949, "question_id": 44776197, "link": "https://stackoverflow.com/questions/44776197/unable-to-handle-exception-handling-on-a-psexec-command-in-perl/44781949#44781949", "title": "Unable to handle exception handling on a Psexec command in perl", "body": "<p>There are various reasons why a <code>SIGALRM</code> will not get delivered to a process, and you have discovered one of them. A workaround is the <a href=\"https://stackoverflow.com/questions/8452445/perl-alarm-with-subprocess/8452732#8452732\">poor man's alarm</a> -- run a separate process in the background to monitor the long running process and to kill it after some time has expired. On Windows and with a command where you need to capture the output, it would look something like this:</p>\n\n<pre><code># $pid is the id of the process to monitor\nmy $pid = open my $proc_fh, '-|', \"psexec \\\\\\\\$host1 cmd /c \"dir /s d:\\\\dd\\\";\n\nmy $pma = \"sleep 1,kill(0,$pid)||exit for 1..$nb_secs;\"\n        . \"kill -9,$pid;system 'taskkill /f /pid $pid &gt;nul'\";\nmy $pma_pid = system 1, $^X, \"-e\", $pma;\n\n# read input from the external process.\nmy $returnFilenames;\nwhile (&lt;$proc_fh&gt;) {\n    $returnFilenames .= $_;\n}\nclose $proc_fh;\n</code></pre>\n\n<p>The poor man's alarm is a little program with two parts. The first part counts up to <code>$nb_secs</code> seconds and terminates if the monitored process is no longer running (if <code>kill 0,$pid</code> returns a false value). The second part of the program, if it is reached, terminates the monitored process. In this instance, we try two different ways (<code>kill -9 ...</code> and <code>system 'taskkill /f ...'</code>) to terminate the process.</p>\n"}], "owner": {"reputation": 29, "user_id": 8195048, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2ajoM.jpg?s=128&g=1", "display_name": "ninja", "link": "https://stackoverflow.com/users/8195048/ninja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 44781949, "answer_count": 1, "score": 1, "last_activity_date": 1498571149, "creation_date": 1498554203, "last_edit_date": 1498560810, "question_id": 44776197, "link": "https://stackoverflow.com/questions/44776197/unable-to-handle-exception-handling-on-a-psexec-command-in-perl", "title": "Unable to handle exception handling on a Psexec command in perl", "body": "<p>I am trying to exit the <code>for</code> loop if the <code>psexec</code> command fails or more importantly if it takes more time , i am using <code>Time::Out</code> module in this program , but the <code>psexec</code> command does not exit ,am i  using it wrong? Is there any other way to deal with this situation.</p>\n\n<pre><code>#$nb_secs means number of seconds\n  for my $host1 (@servers){\n        timeout $nb_secs =&gt; sub {\n                 # do stuff that might timeout.\n                $returnFileNames=`psexec \\\\\\\\$host1 cmd /c \"dir /s \n                 d:\\\\dd\\` ;\n        }; \n\n        next if $@;\n}\n</code></pre>\n"}, {"tags": ["mysql", "arrays", "perl", "loops", "date"], "comments": [{"owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 0, "creation_date": 1498557275, "post_id": 44775862, "comment_id": 76534997, "body": "if you want to fetch all the data in one query you COULD premake all the different queries and then <a href=\"https://www.w3schools.com/sql/sql_union.asp\" rel=\"nofollow noreferrer\">UNION</a> them together into one call"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1498721047, "last_edit_date": 1498721047, "creation_date": 1498565350, "answer_id": 44779917, "question_id": 44775862, "link": "https://stackoverflow.com/questions/44775862/how-to-loop-mysql-query-on-perl-with-date-range/44779917#44779917", "title": "How to loop mysql query on perl with date range", "body": "<p>The fact that you're just looking for tables from a single month makes this easier.</p>\n\n<pre><code>foreach (19910101 .. 19911031) {\n  say $_;\n}\n</code></pre>\n\n<p>If you were going over a month boundary, then the range operator would start to generate invalid dates.</p>\n\n<p>Your subroutine uses a variable (<code>$dbh</code>) which it doesn't declare. That's bad programming practice. I suspect that the variable is created as a global in <code>db_connect()</code>. It would be a far better idea to return the handle from that subroutine.</p>\n\n<pre><code>my $dbh = db_connect();\n</code></pre>\n\n<p>Also, please remove the <code>&amp;</code> from subroutine calls. It generally hasn't been needed since Perl 5 was released in 1994.</p>\n"}], "owner": {"reputation": 1, "user_id": 8219339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1144ee779dced6c493d879993523f4d1?s=128&d=identicon&r=PG&f=1", "display_name": "Lemmor M.", "link": "https://stackoverflow.com/users/8219339/lemmor-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498721047, "creation_date": 1498553169, "last_edit_date": 1498554699, "question_id": 44775862, "link": "https://stackoverflow.com/questions/44775862/how-to-loop-mysql-query-on-perl-with-date-range", "title": "How to loop mysql query on perl with date range", "body": "<p>Is it possible to loop the query by range of dates? </p>\n\n<p>START DATE: table_19910101 </p>\n\n<p>END DATE: table_19910131</p>\n\n<pre><code>sub verify {\n\n    &amp;db_connect();\n\n    print \"Trigger count 19910101: \\n\";\n    $QRY = \"SELECT trigger,count(1) FROM table_19910101 \n            WHERE trigger IN ('B1','B2');\";\n    $sth = $dbh-&gt;prepare($QRY);\n    $sth-&gt;execute();\n    my $trigger = $sth-&gt;fetchall_arrayref();\n    foreach my $row (@$trigger) {\n        print join(\" \", @$row), \"\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["python", "bash", "perl", "awk"], "comments": [{"owner": {"reputation": 659, "user_id": 4763487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0XfXd.jpg?s=128&g=1", "display_name": "Drako", "link": "https://stackoverflow.com/users/4763487/drako"}, "edited": false, "score": 1, "creation_date": 1498553351, "post_id": 44775803, "comment_id": 76532332, "body": "this should be possible in bash, but I would suggest instead of breaking your brain - use better tools, if you ask bash - it&#39;s linux - definitely has python - use it - and task becomes simple."}, {"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "edited": false, "score": 0, "creation_date": 1498578712, "post_id": 44775803, "comment_id": 76550196, "body": "Added awk and python tags due to comments on my answer."}], "answers": [{"comments": [{"owner": {"reputation": 659, "user_id": 4763487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0XfXd.jpg?s=128&g=1", "display_name": "Drako", "link": "https://stackoverflow.com/users/4763487/drako"}, "edited": false, "score": 0, "creation_date": 1498554373, "post_id": 44776025, "comment_id": 76532985, "body": "answer most probably is good and working, but I always try too keep people away from parsing text files with bash - it&#39;s inefficient. and you don&#39;t know how big that input file is, so it can be really bad :), and Bdfy, taking into account your SO reputation - if you add tag python to your question I will provide working python solution, that I think is better to be used than bash."}, {"owner": {"reputation": 19601, "user_id": 1620779, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/dlgGb.png?s=128&g=1", "display_name": "sjsam", "link": "https://stackoverflow.com/users/1620779/sjsam"}, "reply_to_user": {"reputation": 659, "user_id": 4763487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0XfXd.jpg?s=128&g=1", "display_name": "Drako", "link": "https://stackoverflow.com/users/4763487/drako"}, "edited": false, "score": 0, "creation_date": 1498554535, "post_id": 44776025, "comment_id": 76533094, "body": "@Drako : Having said that, <code>awk</code> is perfectly fine for small files"}, {"owner": {"reputation": 659, "user_id": 4763487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0XfXd.jpg?s=128&g=1", "display_name": "Drako", "link": "https://stackoverflow.com/users/4763487/drako"}, "reply_to_user": {"reputation": 19601, "user_id": 1620779, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/dlgGb.png?s=128&g=1", "display_name": "sjsam", "link": "https://stackoverflow.com/users/1620779/sjsam"}, "edited": false, "score": 1, "creation_date": 1498554662, "post_id": 44776025, "comment_id": 76533163, "body": "@sjsam I agree, but if input will be 500MB or more you will really be more happy with python solution :) that&#39;s why even for small I tend to use correct tools if possible, because you never know when it may grow :)"}, {"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "reply_to_user": {"reputation": 659, "user_id": 4763487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0XfXd.jpg?s=128&g=1", "display_name": "Drako", "link": "https://stackoverflow.com/users/4763487/drako"}, "edited": false, "score": 1, "creation_date": 1498578612, "post_id": 44776025, "comment_id": 76550133, "body": "@Drako Added another awk version that relies on sorted input. BTW, I don&#39;t see how awk would consume any more resources than Python solution. I&#39;ll add the awk and python tags to the question."}], "tags": [], "owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "is_accepted": false, "score": 1, "last_activity_date": 1498578451, "last_edit_date": 1498578451, "creation_date": 1498553665, "answer_id": 44776025, "question_id": 44775803, "link": "https://stackoverflow.com/questions/44775803/how-to-collapse-several-string-to-one-by-key/44776025#44776025", "title": "How to collapse several string to one by key?", "body": "<p>In awk:</p>\n\n<pre><code>$ awk '{a[$1]=a[$1](a[$1]==\"\"?\"\":\",\")$2}END{for(i in a)print i,a[i]}' file\nkey1 1212,32332\nkey2 1212,3232,3232\n</code></pre>\n\n<p>Explained:</p>\n\n<pre><code>awk '{                                        # use awk for this kind of stuff\n    a[$1]=a[$1] ( a[$1]==\"\" ? \"\" : \",\" ) $2   # hash on first col and append seconds\n}\nEND {                                         # after everything is hashed\n    for(i in a)                               # for each entry in hash a\n        print i,a[i]                          # output key and data\n}' file                                       # oh yeah the file\n</code></pre>\n\n<p><strong>Edit:</strong> Instead of having awk do the buffering (ie. hashing to <code>a</code>) we could use <code>sort</code> to sort the file and then output the key and all data after that comma-separated. Again using awk for the latter part:</p>\n\n<pre><code>$ sort file | awk '$1!=p{printf \"%s%s\",(NR&gt;1?ORS:\"\"),$1}{printf \"%s%s\", ($1==p?\",\":OFS),$2;p=$1}END{print \"\"}'\nkey1 1212,32332\nkey2 1212,3232,3232\n</code></pre>\n\n<p>Here <code>sort</code> is not given any fancy parameters but in the real world some could be required. The awk part explained:</p>\n\n<pre><code>sort file | \\                          # sort the file\nawk '                                  # before feeding to awk\n$1!=p {                                # if key is different from previous key\n    printf \"%s%s\",(NR&gt;1?ORS:\"\"),$1     # newline and print the key\n}\n{\n    printf \"%s%s\", ($1==p?\",\":OFS),$2  # print the data comma-separated \n    p=$1                               # store key for comparing on the next round\n}\nEND{ \n    print \"\"                           # finish the last line nicely\n}'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19601, "user_id": 1620779, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/dlgGb.png?s=128&g=1", "display_name": "sjsam", "link": "https://stackoverflow.com/users/1620779/sjsam"}, "is_accepted": false, "score": 0, "last_activity_date": 1498554274, "creation_date": 1498554274, "answer_id": 44776219, "question_id": 44775803, "link": "https://stackoverflow.com/questions/44775803/how-to-collapse-several-string-to-one-by-key/44776219#44776219", "title": "How to collapse several string to one by key?", "body": "<pre><code>awk '{a[$1]=(a[$1]!=\"\")?a[$1]\",\"$2:$2}END{for(i in a){print i \"\\t\" a[i]}}' file\nkey1    1212,32332\nkey2    1212,3232,3232\n</code></pre>\n\n<p>should do it. </p>\n"}, {"tags": [], "owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "is_accepted": false, "score": 1, "last_activity_date": 1498638924, "last_edit_date": 1498638924, "creation_date": 1498559556, "answer_id": 44778096, "question_id": 44775803, "link": "https://stackoverflow.com/questions/44775803/how-to-collapse-several-string-to-one-by-key/44778096#44778096", "title": "How to collapse several string to one by key?", "body": "<p>If you'd like to avoid buffering the results for the whole file (e.g. if the file is very large) you could use <code>sort</code> and Python's <a href=\"https://docs.python.org/3.6/library/itertools.html#itertools.groupby\" rel=\"nofollow noreferrer\"><code>itertools.groupby</code></a>. Create a Python script like this:</p>\n\n<pre><code># group.py\n\nimport itertools, sys\n\nfor k, g in itertools.groupby(sys.stdin, lambda x: x.split()[0]):\n    print(k, \",\".join([x.split()[1] for x in g]))\n</code></pre>\n\n<p>Then run:</p>\n\n<pre><code>sort file | python group.py \nkey1 1212,32332\nkey2 1212,3232,3232\n</code></pre>\n\n<p>Otherwise, this quick Perl one-liner should work as well by accumulating values in a hash:</p>\n\n<pre><code>perl -aE 'push @{$h{$F[0]}}, $F[1]; END {$\"= \",\"; say \"$_ @{$h{$_}}\" for sort keys %h}' file\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>key1 1212,32332\nkey2 1212,3232,3232\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 179, "user_id": 1932773, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MfgpO.jpg?s=128&g=1", "display_name": "Nico Rittner", "link": "https://stackoverflow.com/users/1932773/nico-rittner"}, "is_accepted": false, "score": -1, "last_activity_date": 1498720543, "last_edit_date": 1498720543, "creation_date": 1498720182, "answer_id": 44818525, "question_id": 44775803, "link": "https://stackoverflow.com/questions/44775803/how-to-collapse-several-string-to-one-by-key/44818525#44818525", "title": "How to collapse several string to one by key?", "body": "<p>it's not pure sh/coreutils, but consider using <a href=\"https://www.gnu.org/software/datamash/\" rel=\"nofollow noreferrer\">datamash</a> for this task:</p>\n\n<pre><code>sed -r -e 's/[[:space:]]+/ /g' &lt; infile.txt | datamash -t ' ' -s groupby 1 collapse 2\n</code></pre>\n"}], "owner": {"reputation": 18693, "user_id": 418507, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f8cb5bda7afc6c1acfc9eac4299c6335?s=128&d=identicon&r=PG", "display_name": "Bdfy", "link": "https://stackoverflow.com/users/418507/bdfy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 4, "score": -2, "last_activity_date": 1498720543, "creation_date": 1498553002, "last_edit_date": 1498593147, "question_id": 44775803, "link": "https://stackoverflow.com/questions/44775803/how-to-collapse-several-string-to-one-by-key", "title": "How to collapse several string to one by key?", "body": "<p>For example I have a file:</p>\n\n<pre><code>key1   1212\nkey2   1212\nkey1   32332\nkey2   3232\nkey2   3232\n</code></pre>\n\n<p>I want to get file:</p>\n\n<pre><code>key1   1212,32332\nkey2   1212,3232,3232\n</code></pre>\n"}, {"tags": ["perl", "ucp"], "answers": [{"tags": [], "owner": {"reputation": 743, "user_id": 2308559, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100001885352450/picture?type=large", "display_name": "Kriszti&#225;n Dud&#225;s", "link": "https://stackoverflow.com/users/2308559/kriszti%c3%a1n-dud%c3%a1s"}, "is_accepted": false, "score": 0, "last_activity_date": 1498556760, "creation_date": 1498556760, "answer_id": 44777132, "question_id": 44775606, "link": "https://stackoverflow.com/questions/44775606/emi-ucp-syntax-error/44777132#44777132", "title": "EMI UCP Syntax Error", "body": "<p>It was the MB parameter that was set to 8. I also noticed that a new message was uploaded that was too long, was longer than 160 characters, so I told the client to change it.</p>\n"}], "owner": {"reputation": 743, "user_id": 2308559, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100001885352450/picture?type=large", "display_name": "Kriszti&#225;n Dud&#225;s", "link": "https://stackoverflow.com/users/2308559/kriszti%c3%a1n-dud%c3%a1s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498556760, "creation_date": 1498552306, "question_id": 44775606, "link": "https://stackoverflow.com/questions/44775606/emi-ucp-syntax-error", "title": "EMI UCP Syntax Error", "body": "<p>I have a perl code that sends a reminder sms via <code>Net::UCP package</code>. It worked so far, until now, I started to get negative acknowledgement with 02 reason code. The EMI UCP documentation says, it refers to syntax error, but I don't know why. It worked for like 6 months. Here is the sent string:\n<code>02/00454/O/51/0036204802483/36303444080/////////////////3/8/5469737A74656C7420DC677966656CFC6E6B21200A0A54E16AE96B6F7A7461746A756B2C20686F6779206C656AE17261746920534D5320737A6F6C67E16C746174E173756E6B20746563686E696B6169206F6B6F6B62F36C206D6567737A3F6E696B2E200A4BE9726AFC6B2C206B69656D656C74656E2066696779656C6A656E2061207AE16C6F676A65677965206C656AE1726174E172612E200A0A5469737A74656C657474656C3A200A42C1562050E96E7AFC677969205A7274////1////1139/////04\n</code>\nAnd here is what I receive:\n<code>02/00022/R/51/N/02//07</code></p>\n\n<p>My question is where is the syntax error in the sent string? Thanks in advance!</p>\n"}, {"tags": ["html", "xml", "perl", "xslt", "utf-8"], "comments": [{"owner": {"reputation": 1780, "user_id": 3560603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af154ed81c5079b43572d501beb6a89b?s=128&d=identicon&r=PG&f=1", "display_name": "fhossfel", "link": "https://stackoverflow.com/users/3560603/fhossfel"}, "edited": false, "score": 0, "creation_date": 1498562210, "post_id": 44775284, "comment_id": 76538231, "body": "What does  $stylesheet-&gt;output_encoding return?"}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "edited": false, "score": 1, "creation_date": 1501257070, "post_id": 44781195, "comment_id": 77716835, "body": "Thanks a lot for your complete answer!!"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 3, "last_activity_date": 1498575147, "last_edit_date": 1498575147, "creation_date": 1498569090, "answer_id": 44781195, "question_id": 44775284, "link": "https://stackoverflow.com/questions/44775284/output-of-perl-destroys-specific-letters-from-non-english-languages/44781195#44781195", "title": "Output of Perl destroys specific letters from non-English languages", "body": "<p>First, you have a subroutine which operates on global variables. That is not a good idea. Instead, those values as arguments to the function so your function is not tied to names you use in other places in your program.</p>\n\n<p>Second, you do not do anything with <code>$output</code>, but storing the output in it will still increase the memory footprint of your program.</p>\n\n<p>Third, looking at the <a href=\"https://metacpan.org/source/SHLOMIF/XML-LibXSLT-1.95/LibXSLT.xs#L1306\" rel=\"nofollow noreferrer\">underlying XS code for <code>write_file</code></a>, we see:</p>\n\n<pre><code>xsltSaveResultToFilename(filename, doc, self, 0);\n</code></pre>\n\n<p>And, <a href=\"http://xmlsoft.org/XSLT/html/libxslt-xsltutils.html#xsltSaveResultToFilename\" rel=\"nofollow noreferrer\"><code>xsltSaveResultToFilename</code></a> is documented <a href=\"http://xmlsoft.org/XSLT/html/libxslt-xsltutils.html#xsltSaveResultToFilename\" rel=\"nofollow noreferrer\">here</a>. Looking at the <a href=\"https://github.com/GNOME/libxslt/blob/8345634c5482ca04293ae1862d52fa9dd764aeca/libxslt/xsltutils.c#L1618\" rel=\"nofollow noreferrer\">source code for <code>xsltSaveResultToFilename</code></a>, we note that the routine deduces the output encoding from the stylesheet. So, the problem has to lie elsewhere.</p>\n\n<p>It turns out, my initial diagnosis was incorrect. After getting my hands on a system with the necessary libraries, I ran your script (which revealed syntax errors in your XSL file -- <strong><em>don't post code we cannot run</em></strong>). After fixing those, I realized the code was producing UTF-8 encoded output, but the HTML did not include a declaration of document encoding. Therefore, when I viewed in my browser, it tried to use Windows 1252. Your XSL template needs to declare the encoding of the HTML document as well. Of course, if add the BOM, you probably don't need the declaration in the <code>head</code> of the document.</p>\n\n<p>The following script seems to work for me:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse autouse Carp =&gt; 'croak';\n\nuse File::BOM ();\nuse XML::LibXML;\nuse XML::LibXSLT;\n\nxml_to_html('test.xml', 'test.xsl', 'test.html');\n\nsub xml_to_html {\n    my ($xml_file, $xsl_file, $html_file) = @_;\n\n    open my $out, '&gt;:unix', $html_file\n        or croak \"Failed to open '$html_file': $!\";\n\n    print $out $File::BOM::enc2bom{'UTF-8'}\n        or croak \"Failed to write UTF-8 BOM: $!\";\n\n    my $xslt_parser = XML::LibXSLT-&gt;new;\n    my $xml_parser  = XML::LibXML-&gt;new;\n\n    my $xml = $xml_parser-&gt;parse_file( $xml_file );\n    my $xsl = $xml_parser-&gt;parse_file( $xsl_file );\n    my $style = $xslt_parser-&gt;parse_stylesheet( $xsl );\n    my $results = $style-&gt;transform( $xml );\n\n    $style-&gt;output_fh( $results, $out );\n    return;\n}\n</code></pre>\n\n<p>with this template:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsl:stylesheet version=\"1.0\"\n    xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" xmlns:b=\"http://www.froglogic.com/XML2\"\n    xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n    exclude-result-prefixes=\"xs\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n\n&lt;xsl:output method=\"html\" version=\"5.0\" encoding=\"UTF-8\" indent=\"yes\"/&gt;\n\n&lt;xsl:template match=\"/\"&gt;\n    &lt;html&gt;\n        &lt;head&gt;\n            &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/&gt;,\n        &lt;/head&gt;\n        &lt;body&gt;\n            &lt;xsl:for-each select=\"//test\"&gt;\n                &lt;xsl:variable name=\"linkMe\" select=\"@name\"/&gt;\n                    &lt;xsl:value-of select=\"description\"/&gt;\n                    &lt;a href=\"#{$linkMe}\" &gt;\n                        &lt;xsl:value-of select=\"$linkMe\" /&gt;\n                    &lt;/a&gt;                        \n                &lt;xsl:value-of select=\"description\"/&gt;\n            &lt;/xsl:for-each&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\n&lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p>and produces the following output:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\" \"http://www.w3.org/TR/REC-html40/loose.dtd\"&gt;\n&lt;html xmlns:b=\"http://www.froglogic.com/XML2\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"&gt;,\n        &lt;/head&gt;\n&lt;body&gt;\n            \u00f6mr1, \u00e4mr1, \u00fcmr1 and p\u00e4r1\n        &lt;a href=\"#sentence1\"&gt;sentence1&lt;/a&gt;\n            \u00f6mr1, \u00e4mr1, \u00fcmr1 and p\u00e4r1\n\n            \u00f6mr2, \u00e4mr2, \u00fcmr2 and p\u00e4r2\n        &lt;a href=\"#sentence2\"&gt;sentence2&lt;/a&gt;\n            \u00f6mr2, \u00e4mr2, \u00fcmr2 and p\u00e4r2\n\n            \u00f6mr3, \u00e4mr3, \u00fcmr3 and p\u00e4r3\n        &lt;a href=\"#sentence3\"&gt;sentence3&lt;/a&gt;\n            \u00f6mr3, \u00e4mr3, \u00fcmr3 and p\u00e4r3\n        &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I have </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ pacman -Ss libxslt\nextra/libxslt 1.1.29+42+gac341cbd-1 [installed]\n     XML stylesheet transformation library\n</code></pre>\n\n<p>which does not seem to include <a href=\"https://stackoverflow.com/a/42048575/100754\">support for generating HTML5 doctype</a>.</p>\n\n<p>Depending on your specific needs, you may have to tweak the XSLT file further.</p>\n"}], "owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 44781195, "answer_count": 1, "score": 0, "last_activity_date": 1498591607, "creation_date": 1498551229, "last_edit_date": 1498591607, "question_id": 44775284, "link": "https://stackoverflow.com/questions/44775284/output-of-perl-destroys-specific-letters-from-non-english-languages", "title": "Output of Perl destroys specific letters from non-English languages", "body": "<p>I have an XML file as follows:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;?xml-stylesheet type=\"text/xsl\" href=\"test.xslt\"?&gt;\n&lt;results&gt;\n    &lt;test name=\"sentence1\"&gt;\n        &lt;description href=\"#\u00f6mr\"&gt;\n            \u00f6mr1, \u00e4mr1, \u00fcmr1 and p\u00e4r1\n        &lt;/description&gt;\n    &lt;/test&gt;\n    &lt;test name=\"sentence2\" href=\"#p\u00e4r2\"&gt;\n        &lt;description&gt;\n            \u00f6mr2, \u00e4mr2, \u00fcmr2 and p\u00e4r2\n        &lt;/description&gt;\n    &lt;/test&gt;\n    &lt;test name=\"sentence3\" href=\"#p\u00e4r3\"&gt;\n        &lt;description&gt;\n            \u00f6mr3, \u00e4mr3, \u00fcmr3 and p\u00e4r3\n        &lt;/description&gt;\n    &lt;/test&gt;\n&lt;/results&gt;\n</code></pre>\n\n<p>Then here is the XSLT</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsl:stylesheet version=\"1.0\"     xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" xmlns:b=\"http://www.froglogic.com/XML2\" \nxmlns:xs=\"http://www.w3.org/2001/XMLSchema\" exclude-result-prefixes=\"xs\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n&lt;xsl:output method=\"html\" version=\"5.0\" encoding=\"UTF-8\" indent=\"yes\"/&gt;\n&lt;xsl:template match=\"Summary/test\"&gt;\n    &lt;html&gt;\n        &lt;body&gt;\n            &lt;xsl:for-each select=\"//test\"&gt;\n                &lt;xsl:variable name=\"linkMe\" select=\"@name\"/&gt;\n                    &lt;xsl:value-of select=\"description\"/&gt;\n                    &lt;a href=\"#{$linkMe}\" &gt;\n                        &lt;xsl:value-of select=\"$linkMe\" /&gt;\n                    &lt;/a&gt;                        \n                &lt;xsl:value-of select=\"description\"/&gt;\n            &lt;/xsl:for-each&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\n&lt;/xsl:template&gt;\n</code></pre>\n\n<p></p>\n\n<p>I want to convert the XML to an HTML file using Perl. But it's going to have not desired output although I have told Perl I want output as a <code>UTF-8</code>. </p>\n\n<p>The perl code is like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse XML::LibXML;\nuse XML::Writer;\nuse XML::LibXSLT;\nuse XML::Parser;\n\nuse Encode qw( is_utf8 encode decode );\n\nmy $XML_File  = \"test2.xml\";\nmy $XSLT_File = \"test2.xslt\";\nmy $HTML_File = \"test2.html\";\n\nsub XML2HTML {\n\n    my $xml_parser  = XML::LibXML-&gt;new('1.0', 'UTF-8');\n    my $xslt_parser = XML::LibXSLT-&gt;new('1.0', 'UTF-8');\n    my $xml         = $xml_parser-&gt;parse_file($XML_File);\n\n    $xml-&gt;setEncoding('UTF-8');\n\n    my $xsl         = $xml_parser-&gt;parse_file($XSLT_File);\n    my $stylesheet  = $xslt_parser-&gt;parse_stylesheet($xsl);\n    my $results     = $stylesheet-&gt;transform($xml);\n    my $output      = $stylesheet-&gt;output_string($results);\n\n    $stylesheet-&gt;output_file($results, $HTML_File);\n  }\n\n  &amp;XML2HTML($XML_File, $XSLT_File, $HTML_File);\n</code></pre>\n\n<p>Another question is how I could have UTF-8-BOM output as file? I searched the internet and could not find an exact answer. They all mention UTF-8 rather than UTF-8-BOM.</p>\n\n<p>The HTML output seems unpleasant:</p>\n\n<pre><code>\u00c3\u00b6mr1, \u00c3\u00a4mr1, \u00c3\u00bcmr1 and p\u00c3\u00a4r1 \u00c3\u00b6mr2, \u00c3\u00a4mr2, \u00c3\u00bcmr2 and p\u00c3\u00a4r2 \u00c3\u00b6mr3, \u00c3\u00a4mr3, \u00c3\u00bcmr3 and p\u00c3\u00a4r3 \n</code></pre>\n\n<p>The encoding format in HTML is </p>\n\n<blockquote>\n  <p>Codepage 1252(Western)</p>\n</blockquote>\n\n<p>and it is strange!</p>\n"}, {"tags": ["perl", "makefile", "gnu-make"], "comments": [{"owner": {"reputation": 2127, "user_id": 1819452, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3ad224b55add66c22f62380dea203e75?s=128&d=identicon&r=PG", "display_name": "Vroomfondel", "link": "https://stackoverflow.com/users/1819452/vroomfondel"}, "edited": false, "score": 0, "creation_date": 1498566390, "post_id": 44772300, "comment_id": 76540944, "body": "Just out of curiosity: what is it that the scipt computes?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1498539553, "creation_date": 1498539553, "answer_id": 44772542, "question_id": 44772300, "link": "https://stackoverflow.com/questions/44772300/how-to-call-a-perl-script-in-makefile-and-capture-its-output/44772542#44772542", "title": "how to call a perl script in makefile and capture its output", "body": "<p>According to <a href=\"https://www.gnu.org/software/make/manual/html_node/Shell-Function.html\" rel=\"nofollow noreferrer\">this</a>,</p>\n\n<pre><code>var := $(shell script)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8197791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86b2302e53e6251b693a6370b88befa6?s=128&d=identicon&r=PG&f=1", "display_name": "teja", "link": "https://stackoverflow.com/users/8197791/teja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 724, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1498814405, "creation_date": 1498537830, "last_edit_date": 1498814405, "question_id": 44772300, "link": "https://stackoverflow.com/questions/44772300/how-to-call-a-perl-script-in-makefile-and-capture-its-output", "title": "how to call a perl script in makefile and capture its output", "body": "<p>I have a Perl script and output of that Perl script has to be captured in a makefile.</p>\n\n<pre><code>variable: = &lt;path of script&gt;\noutput: = $(shell $(echo))\n</code></pre>\n"}, {"tags": ["perl", "sockets"], "comments": [{"owner": {"reputation": 1979, "user_id": 2789312, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4OgOz.png?s=128&g=1", "display_name": "palik", "link": "https://stackoverflow.com/users/2789312/palik"}, "edited": false, "score": 0, "creation_date": 1498538273, "post_id": 44772224, "comment_id": 76525114, "body": "<a href=\"https://metacpan.org/pod/IO::Socket::IP\" rel=\"nofollow noreferrer\">IO::Socket::IP</a> supports both IPv4 and IPv6"}, {"owner": {"reputation": 11, "user_id": 6808626, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gjqpAcRxPJk/AAAAAAAAAAI/AAAAAAAAAeI/Rb7HWmFitck/photo.jpg?sz=128", "display_name": "zalman", "link": "https://stackoverflow.com/users/6808626/zalman"}, "reply_to_user": {"reputation": 1979, "user_id": 2789312, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4OgOz.png?s=128&g=1", "display_name": "palik", "link": "https://stackoverflow.com/users/2789312/palik"}, "edited": false, "score": 0, "creation_date": 1498541399, "post_id": 44772224, "comment_id": 76526055, "body": "I used IO::Socket::IP, but it is still listen on IPv4. I think need to modify somethings"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498589605, "post_id": 44772224, "comment_id": 76556325, "body": "Have a look at <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6808626, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gjqpAcRxPJk/AAAAAAAAAAI/AAAAAAAAAeI/Rb7HWmFitck/photo.jpg?sz=128", "display_name": "zalman", "link": "https://stackoverflow.com/users/6808626/zalman"}, "edited": false, "score": 0, "creation_date": 1498580832, "post_id": 44773292, "comment_id": 76551537, "body": "Thank @palik. The agent has received data. In my case, the agent will execute a command after receiving from client. example : &quot;received data: perl gendhcpv6 -a 1&quot;. Can you help me modify it in this script ?"}, {"owner": {"reputation": 1979, "user_id": 2789312, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4OgOz.png?s=128&g=1", "display_name": "palik", "link": "https://stackoverflow.com/users/2789312/palik"}, "reply_to_user": {"reputation": 11, "user_id": 6808626, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gjqpAcRxPJk/AAAAAAAAAAI/AAAAAAAAAeI/Rb7HWmFitck/photo.jpg?sz=128", "display_name": "zalman", "link": "https://stackoverflow.com/users/6808626/zalman"}, "edited": false, "score": 0, "creation_date": 1498590825, "post_id": 44773292, "comment_id": 76556991, "body": "If I understand you correctly, you have just to execute the command sent by the client: <code>qx&#47;$data&#47;</code>"}], "tags": [], "owner": {"reputation": 1979, "user_id": 2789312, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4OgOz.png?s=128&g=1", "display_name": "palik", "link": "https://stackoverflow.com/users/2789312/palik"}, "is_accepted": false, "score": 0, "last_activity_date": 1498631666, "last_edit_date": 1498631666, "creation_date": 1498543739, "answer_id": 44773292, "question_id": 44772224, "link": "https://stackoverflow.com/questions/44772224/how-to-make-the-script-works-on-ipv6-address/44773292#44773292", "title": "How to make the script works on IPv6 address", "body": "<p><strong>ipv6-agent.pl</strong> based on <a href=\"https://metacpan.org/pod/IO::Socket::IP\" rel=\"nofollow noreferrer\">IO::Socket::IP</a>, executes received client command and sends the output back to the client</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse IO::Socket::IP -register;\n\nuse constant MY_ECHO_PORT =&gt; 9067;\n\nmy $port = shift || MY_ECHO_PORT;\n\nmy $sock = IO::Socket-&gt;new(\n    Domain    =&gt; PF_INET6,\n    LocalHost =&gt; \"::1\",\n    Listen    =&gt; 1,\n    LocalPort =&gt; $port,\n    Proto     =&gt; \"tcp\",\n    ReuseAddr =&gt; 1,\n) or die \"Cannot create socket - $@\\n\";\n\n$SIG{'INT'} = sub {\n    $sock-&gt;close() if $sock;\n    print STDERR \"Mlease agent stopped\\n\";\n    exit 0;\n};\n\nwhile (1) {\n    my $client = $sock-&gt;accept();\n\n    # get information about a newly connected client\n    my $client_address = $client-&gt;peerhost();\n    my $client_port    = $client-&gt;peerport();\n    print \"connection from $client_address:$client_port\\n\";\n\n    # read up to 1024 characters from the connected client\n    my $data = \"\";\n    $client-&gt;recv($data, 1024);\n    print \"received data: $data\\n\";\n    chomp $data;\n\n    my $res = qx/$data/;\n    $client-&gt;send($res);\n\n    # notify client that response has been sent\n    shutdown($client, 1);\n} ## end while (1)\n</code></pre>\n\n<p>run your script:\n<code>perl ipv6-agent.pl</code></p>\n\n<p>run a client:\n<code>\nnc ::1 9067\ndate\nWed Jun 28 08:27:20 CEST 2017\n</code></p>\n"}], "owner": {"reputation": 11, "user_id": 6808626, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gjqpAcRxPJk/AAAAAAAAAAI/AAAAAAAAAeI/Rb7HWmFitck/photo.jpg?sz=128", "display_name": "zalman", "link": "https://stackoverflow.com/users/6808626/zalman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 342, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1501229725, "creation_date": 1498537316, "question_id": 44772224, "link": "https://stackoverflow.com/questions/44772224/how-to-make-the-script-works-on-ipv6-address", "title": "How to make the script works on IPv6 address", "body": "<p>I have a client script to receives TCP packet on IPv4 address.\nNow, I need the script receives TCP packet on IPv6 address.\nAs I don't know much about perl-Socket, Can you help me modify it ?</p>\n\n<pre><code>use Socket;\nuse IO::Handle;\nuse constant MY_ECHO_PORT =&gt; 9067;\n$ENV{'PATH'} = \"$ENV{'PATH'}:./\";\n\nmy ($bytes_out,$bytes_in) = (0,0);\n\nmy $dt;\n\nmy $port = shift || MY_ECHO_PORT;\nmy $protocol = getprotobyname('tcp');\n\nlocal *SESSION;\nlocal *SOCK;\n\n$SIG{'INT'} = sub {\n    close(SESSION) if SESSION;\n    shutdown(SOCK,2) if SOCK;\n    close(SOCK) if SOCK;\n    print STDERR \"Mlease agent stopped\\n\";\n    exit 0;\n};\n\nsocket(SOCK, AF_INET, SOCK_STREAM, $protocol) or\n    die \"socket() failed: $!\";\n\nsetsockopt(SOCK,SOL_SOCKET,SO_REUSEADDR,1) or\n    die \"Can't set SO_REUSEADDR: $!\";\n\nmy $my_addr = sockaddr_in($port,INADDR_ANY);\nbind(SOCK,$my_addr) or\n    die \"bind() failed: $!\";\n\nlisten(SOCK,SOMAXCONN) or\n    die \"listen() failed: $!\";\n\nprint \"Mlease agent started on port $port...\\n\";\n</code></pre>\n"}, {"tags": ["perl", "unicode"], "comments": [{"owner": {"reputation": 8026, "user_id": 1320303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9020a80cda52e7a425d4824ad572b241?s=128&d=identicon&r=PG", "display_name": "mttrb", "link": "https://stackoverflow.com/users/1320303/mttrb"}, "edited": false, "score": 0, "creation_date": 1498535087, "post_id": 44771845, "comment_id": 76524328, "body": "Have a look at <a href=\"https://stackoverflow.com/questions/627661/how-can-i-output-utf-8-from-perl\" title=\"how can i output utf 8 from perl\">stackoverflow.com/questions/627661/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 7841367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b5ab31c80db2265253e7acfd166b20?s=128&d=identicon&r=PG&f=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/7841367/liz"}, "reply_to_user": {"reputation": 8026, "user_id": 1320303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9020a80cda52e7a425d4824ad572b241?s=128&d=identicon&r=PG", "display_name": "mttrb", "link": "https://stackoverflow.com/users/1320303/mttrb"}, "edited": false, "score": 0, "creation_date": 1498535429, "post_id": 44771845, "comment_id": 76524413, "body": "That particular fix, using binmode(STDOUT, &quot;:utf8&quot;); to format output, suppresses the warning, but still prints out 3 instead of 1. Do you think it could be my version of perl? I can&#39;t seem to find this issue elsewhere."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498537531, "post_id": 44771845, "comment_id": 76524922, "body": "Your console needs to expect UTF-8: <code>chcp 65001</code>."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7841367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b5ab31c80db2265253e7acfd166b20?s=128&d=identicon&r=PG&f=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/7841367/liz"}, "edited": false, "score": 0, "creation_date": 1498538150, "post_id": 44772261, "comment_id": 76525083, "body": "hmmm doesn&#39;t yield the same output for me... there must be an issue with my version of perl or the os, thanks for the response."}, {"owner": {"reputation": 8489, "user_id": 4747193, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WBKGw.png?s=128&g=1", "display_name": "weibeld", "link": "https://stackoverflow.com/users/4747193/weibeld"}, "reply_to_user": {"reputation": 11, "user_id": 7841367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b5ab31c80db2265253e7acfd166b20?s=128&d=identicon&r=PG&f=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/7841367/liz"}, "edited": false, "score": 0, "creation_date": 1498538259, "post_id": 44772261, "comment_id": 76525109, "body": "So what is your output now?"}, {"owner": {"reputation": 8489, "user_id": 4747193, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WBKGw.png?s=128&g=1", "display_name": "weibeld", "link": "https://stackoverflow.com/users/4747193/weibeld"}, "reply_to_user": {"reputation": 11, "user_id": 7841367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b5ab31c80db2265253e7acfd166b20?s=128&d=identicon&r=PG&f=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/7841367/liz"}, "edited": false, "score": 0, "creation_date": 1498539330, "post_id": 44772261, "comment_id": 76525401, "body": "As mentioned, check the character encoding of your terminal, and set it to UTF-8. Then it should work."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1498540602, "post_id": 44772261, "comment_id": 76525801, "body": "I would recommend <code>use open &#39;:std&#39;, &#39;:encoding(UTF-8)&#39;;</code> instead of <code>binmode(STDOUT, &quot;:utf8&quot;);</code>. It also adjusts STDIN and STDERR, and it sets the default for file handles opened in scope."}], "tags": [], "owner": {"reputation": 8489, "user_id": 4747193, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WBKGw.png?s=128&g=1", "display_name": "weibeld", "link": "https://stackoverflow.com/users/4747193/weibeld"}, "is_accepted": false, "score": 0, "last_activity_date": 1498549861, "last_edit_date": 1498549861, "creation_date": 1498537576, "answer_id": 44772261, "question_id": 44771845, "link": "https://stackoverflow.com/questions/44771845/perl-prints-3-wrong-characters-instead-of-unicode-character/44772261#44772261", "title": "perl prints 3 wrong characters instead of unicode character", "body": "<p>If you save a character with UTF-8, and it's displayed as 3 strange characters instead of 1, it means that the character is in the range U+0800 to U+FFFF, and that you decode it with some single-byte encoding instead of UTF-8.</p>\n\n<p>So, change the encoding of your terminal to UTF-8. If you can't do this, redirect the output to a file:</p>\n\n<pre><code>perl testff.pl &gt;file\n</code></pre>\n\n<p>And open the file with a text editor that supports UTF-8, to see if the character is displayed correctly.</p>\n\n<hr>\n\n<p>You want to print the character U+2881 (<code>\u2881</code>), and not U+0AF1. <code>2881</code> is already in hexadecimal.</p>\n\n<hr>\n\n<p>To get rid of the <code>Wide character in print</code> warning, set the input and output of your Perl program to UTF-8:</p>\n\n<pre><code>use open ':std', ':encoding(UTF-8)';\n</code></pre>\n\n<p>Instead of <code>use utf8;</code>, which only enables the interpretation of the program text as UTF-8.</p>\n\n<hr>\n\n<p><strong>Summary</strong></p>\n\n<p>Source file (<code>testff.pl</code>):</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\nuse open ':std', ':encoding(UTF-8)';\nprint \"\\x{2881}\";\n</code></pre>\n\n<p>Run:</p>\n\n<pre><code>&gt; perl testff.pl\n\u2881\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 7841367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b5ab31c80db2265253e7acfd166b20?s=128&d=identicon&r=PG&f=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/7841367/liz"}, "edited": false, "score": 0, "creation_date": 1498542536, "post_id": 44772832, "comment_id": 76526427, "body": "unfortunately none of the above are working, the solutions make sense to me but I think I may have a hardware issue."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 7841367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b5ab31c80db2265253e7acfd166b20?s=128&d=identicon&r=PG&f=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/7841367/liz"}, "edited": false, "score": 1, "creation_date": 1498542598, "post_id": 44772832, "comment_id": 76526451, "body": "Not working is not an adequate description of the problem. What did you get? What OS? What&#39;s the &quot;This is&quot; line of <code>perl -v</code>? What font did you switch your console to use?"}, {"owner": {"reputation": 11, "user_id": 7841367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b5ab31c80db2265253e7acfd166b20?s=128&d=identicon&r=PG&f=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/7841367/liz"}, "edited": false, "score": 0, "creation_date": 1498709506, "post_id": 44772832, "comment_id": 76612575, "body": "I&#39;m using windows 10, and perl is saying that the &amp;Win::GetConsoleOutputCP subroutine is undefined; I learned about what GetConsoleOutputCP is, a function the kernel uses that returns code pages, and that the open keyword in perl opens files. I&#39;m not sure how to proceed since what I&#39;ve read suggests that open is for opening files."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 7841367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b5ab31c80db2265253e7acfd166b20?s=128&d=identicon&r=PG&f=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/7841367/liz"}, "edited": false, "score": 0, "creation_date": 1498709582, "post_id": 44772832, "comment_id": 76612593, "body": "You miscopied my code if that&#39;s the error message you got"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 7841367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b5ab31c80db2265253e7acfd166b20?s=128&d=identicon&r=PG&f=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/7841367/liz"}, "edited": false, "score": 0, "creation_date": 1498710155, "post_id": 44772832, "comment_id": 76612742, "body": "Yes, I am sure, and you have just confirmed it: The message in that linked image is different than one you posted earlier (<code>Win32</code> vs <code>Win</code>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 7841367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b5ab31c80db2265253e7acfd166b20?s=128&d=identicon&r=PG&f=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/7841367/liz"}, "edited": false, "score": 0, "creation_date": 1498710258, "post_id": 44772832, "comment_id": 76612772, "body": "What is the output of <code>perl -MWin32 -le&quot;print $Win32::VERSION&quot;</code>? You need 0.45+ (released 5 years ago)"}, {"owner": {"reputation": 11, "user_id": 7841367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b5ab31c80db2265253e7acfd166b20?s=128&d=identicon&r=PG&f=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/7841367/liz"}, "edited": false, "score": 0, "creation_date": 1498710817, "post_id": 44772832, "comment_id": 76612906, "body": "My output is &quot;.44&quot;. Currently trying to figure out the fix, I just installed perl with the padre ide so I&#39;m not sure why its already outdated, did I confuse the perl version with kernel properties?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 7841367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b5ab31c80db2265253e7acfd166b20?s=128&d=identicon&r=PG&f=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/7841367/liz"}, "edited": false, "score": 0, "creation_date": 1498710970, "post_id": 44772832, "comment_id": 76612945, "body": "Just upgrade it. <code>cpan Win32</code>. Alternatively, use the number output by <code>chcp</code>, which should be <code>65001</code> if you&#39;ve switched the code page as I instructed. (Note that <code>chcp</code> only affects the console in which is used.)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1498541877, "last_edit_date": 1498541877, "creation_date": 1498541507, "answer_id": 44772832, "question_id": 44771845, "link": "https://stackoverflow.com/questions/44771845/perl-prints-3-wrong-characters-instead-of-unicode-character/44772832#44772832", "title": "perl prints 3 wrong characters instead of unicode character", "body": "<p>Issue #1: You need to tell Perl to encode the output for your terminal.</p>\n\n<p>Add the following to your program.</p>\n\n<pre><code>use Win32 qw( );\nuse open ':std', ':encoding(cp'.Win32::GetConsoleOutputCP().')';\n</code></pre>\n\n<p><code>use utf8;</code> merely specifies the that source file is encoded using UTF-8 instead of ASCII.</p>\n\n<hr>\n\n<p>Issue #2: Your terminal probably can't handle that character.</p>\n\n<p>The console of US-English machines likely expect <a href=\"https://en.wikipedia.org/wiki/Code_page_437\" rel=\"nofollow noreferrer\">cp437</a>. It's character set doesn't include any braille characters.</p>\n\n<p>You could try switching to code page 65001 (UTF-8) using <code>chcp 65001</code>. You may also need to switch the console's font to one that includes braille characters. (MS Gothic worked for me, although it does weird things to the backslashes.)</p>\n\n<hr>\n\n<p>Issue #3: You have the wrong character code.</p>\n\n<ul>\n<li><code>U+0AF1 GUJARATI RUPEE SIGN</code> (&#x0AF1;): <code>\"\\x{AF1}\"</code> or <code>\"\\N{U+0AF1}\"</code> or <code>chr(2801)</code></li>\n<li><code>U+0B41 ORIYA VOWEL SIGN U</code> (&#x0B41;): <code>\"\\x{B41}\"</code> or <code>\"\\N{U+0B41}\"</code> or <code>chr(2881)</code></li>\n<li><code>U+2801 BRAILLE PATTERN DOTS-1</code> (&#x2801;): <code>\"\\x{2801}\"</code> or <code>\"\\N{U+2801}\"</code> or <code>chr(10241)</code></li>\n<li><code>U+2881 BRAILLE PATTERN DOTS-18</code> (&#x2881;): <code>\"\\x{2881}\"</code> or <code>\"\\N{U+2881}\"</code> or <code>chr(10369)</code></li>\n</ul>\n\n<hr>\n\n<p>All together,</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nuse Win32 qw( );\nuse open ':std', ':encoding(cp'.Win32::GetConsoleOutputCP().')';\n\nsay(chr($_)) for 0x2801, 0x2881;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&gt;chcp 65001\nActive code page: 65001\n\n&gt;perl a.pl\n\u2801\n\u2881\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7841367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b5ab31c80db2265253e7acfd166b20?s=128&d=identicon&r=PG&f=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/7841367/liz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1498549861, "creation_date": 1498534294, "question_id": 44771845, "link": "https://stackoverflow.com/questions/44771845/perl-prints-3-wrong-characters-instead-of-unicode-character", "title": "perl prints 3 wrong characters instead of unicode character", "body": "<p>Been having trouble with the print function, I know I'm missing something small. I've been looking everywhere and trying stuff out but can't seem to find the solution.</p>\n\n<p>I'm trying to print braille characters in perl, I got the value of 2881 from a table and converted it to hexa. When I try to print the hexadecimal character, perl prints 3 characters instead.</p>\n\n<p>Code:</p>\n\n<pre><code>#!/usr/local/bin/perl\n  use utf8;\n  print \"\\x{AF1}\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>C:\\Users\\ElizabethTosh\\Desktop&gt;perl testff.pl\nWide character in print at testff.pl line 3.\n\u03b1\u00bd\u2592\n</code></pre>\n"}, {"tags": ["html", "apache", "perl", "amazon-ec2", "cgi"], "comments": [{"owner": {"reputation": 18344, "user_id": 119326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b29825e83c1da695da0e22b4198a0105?s=128&d=identicon&r=PG", "display_name": "Cfreak", "link": "https://stackoverflow.com/users/119326/cfreak"}, "edited": false, "score": 0, "creation_date": 1498521886, "post_id": 44770398, "comment_id": 76521560, "body": "Running CGI in EC2 is the same as on any other Linux distro. Most likely your apache config is not set to execute the script."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1498523399, "post_id": 44770398, "comment_id": 76521905, "body": "You do not have a programming question. You have a question about <a href=\"https://httpd.apache.org/docs/2.4/howto/cgi.html#configuring\" rel=\"nofollow noreferrer\">how to configure Apache to run CGI scripts</a>."}], "owner": {"reputation": 2897, "user_id": 4816518, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-ArDOPEtYeyE/AAAAAAAAAAI/AAAAAAAAAAA/YeWau6kWbA0/photo.jpg?sz=128", "display_name": "Cache Staheli", "link": "https://stackoverflow.com/users/4816518/cache-staheli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 856, "favorite_count": 0, "closed_date": 1498523530, "answer_count": 0, "score": 1, "last_activity_date": 1498523559, "creation_date": 1498521632, "question_id": 44770398, "link": "https://stackoverflow.com/questions/44770398/how-can-i-run-a-cgi-script-properly-in-a-ec2-instance-running-an-apache-server", "closed_reason": "Duplicate", "title": "How can I run a CGI script properly in a ec2 instance running an Apache server", "body": "<p>I am trying to follow this <a href=\"http://www.lies.com/begperl/hello_cgi.html\" rel=\"nofollow noreferrer\">tutorial on running a CGI script</a>, but I am encountering some problems with how it is displayed.</p>\n\n<p>I have the following CGI script located in a folder <code>scripts</code> in my html folder that Apache serves to me.</p>\n\n \n\n<pre><code>#!/usr/bin/perl\n\n# hello.pl -- my first perl script!\n\nprint \"Content-type: text/html\\n\\n\";\n\nprint &lt;&lt;\"EOF\";\n&lt;HTML&gt;\n\n&lt;HEAD&gt;\n&lt;TITLE&gt;Hello, world!&lt;/TITLE&gt;\n&lt;/HEAD&gt;\n\n&lt;BODY&gt;\n&lt;H1&gt;Hello, world!&lt;/H1&gt;\n&lt;/BODY&gt;\n\n&lt;/HTML&gt;\nEOF\n</code></pre>\n\n<p>When I run this script in the console (with <code>./hello.cgi</code>), I get the following correct output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Content-type: text/html\n\n&lt;HTML&gt;\n\n&lt;HEAD&gt;\n&lt;TITLE&gt;Hello, world!&lt;/TITLE&gt;\n&lt;/HEAD&gt;\n\n&lt;BODY&gt;\n&lt;H1&gt;Hello, world!&lt;/H1&gt;\n&lt;/BODY&gt;\n\n&lt;/HTML&gt;\n</code></pre>\n\n<p>I am trying to access this on my ec2 instance with a URL like this: <code>http://&lt;ec2-address&gt;.compute-1.amazonaws.com/scripts/hello.cgi</code>. However, this is what I see:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FYQtF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FYQtF.png\" alt=\"Screenshot of output on the server\"></a></p>\n\n<p>It is printing out the HTML correctly, but it is also printing everything else out as well.</p>\n\n<p>What am I doing wrong here? Why am I getting a different output when I run the script on the server versus when I run it on the console <em>in</em> the server?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1498520213, "post_id": 44770100, "comment_id": 76521198, "body": "Always use <code>use strict; use warnings qw( all );</code>!"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 5561275, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/qb6dQ.jpg?s=128&g=1", "display_name": "Ltaylor", "link": "https://stackoverflow.com/users/5561275/ltaylor"}, "edited": false, "score": 0, "creation_date": 1498532136, "post_id": 44770143, "comment_id": 76523721, "body": "Last question - is there a method to convert a STDIN to a grouped array i.e.    @ranges = &lt;STDIN&gt;;  10,20 30,40  to output to the array as @ranges=([10,20],[30,40]);  so these ranges can be inputted into the program?  I didn&#39;t see any docs on how to do this. tha nks again for any help"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 85, "user_id": 5561275, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/qb6dQ.jpg?s=128&g=1", "display_name": "Ltaylor", "link": "https://stackoverflow.com/users/5561275/ltaylor"}, "edited": false, "score": 0, "creation_date": 1498533263, "post_id": 44770143, "comment_id": 76523957, "body": "@Ltaylor That&#39;s a separate question and should be posted as such."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1498520262, "last_edit_date": 1498520262, "creation_date": 1498519872, "answer_id": 44770143, "question_id": 44770100, "link": "https://stackoverflow.com/questions/44770100/print-each-range-in-perl-array/44770143#44770143", "title": "print each range in perl array", "body": "<blockquote>\n  <p><code>@ranges=(73..80, 92..107, 941..1000, 3000..3170);</code></p>\n</blockquote>\n\n<p>You seem to be under the impression that this will put separate range objects in <code>@ranges</code>. Instead, <code>@range</code> contains the following flat list:</p>\n\n<pre><code>$ perl -E '@ranges=(73..80, 92..107, 941..1000, 3000..3170); say \"@ranges\"'\n73 74 75 76 77 78 79 80 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 941 942 943 944 945 946 947 948 949 950 951 952 953 954 955 956 957 958 959 960 961 962 963 964 965 966 967 968 969 970 971 972 973 974 975 976 977 978 979 980 981 982 983 984 985 986 987 988 989 990 991 992 993 994 995 996 997 998 999 1000 3000 3001 3002 3003 3004 3005 3006 3007 3008 3009 3010 3011 3012 3013 3014 3015 3016 3017 3018 3019 3020 3021 3022 3023 3024 3025 3026 3027 3028 3029 3030 3031 3032 3033 3034 3035 3036 3037 3038 3039 3040 3041 3042 3043 3044 3045 3046 3047 3048 3049 3050 3051 3052 3053 3054 3055 3056 3057 3058 3059 3060 3061 3062 3063 3064 3065 3066 3067 3068 3069 3070 3071 3072 3073 3074 3075 3076 3077 3078 3079 3080 3081 3082 3083 3084 3085 3086 3087 3088 3089 3090 3091 3092 3093 3094 3095 3096 3097 3098 3099 3100 3101 3102 3103 3104 3105 3106 3107 3108 3109 3110 3111 3112 3113 3114 3115 3116 3117 3118 3119 3120 3121 3122 3123 3124 3125 3126 3127 3128 3129 3130 3131 3132 3133 3134 3135 3136 3137 3138 3139 3140 3141 3142 3143 3144 3145 3146 3147 3148 3149 3150 3151 3152 3153 3154 3155 3156 3157 3158 3159 3160 3161 3162 3163 3164 3165 3166 3167 3168 3169 3170\n</code></pre>\n\n<p>You can insert references to anonymous arrays in <code>@ranges</code>:</p>\n\n<pre><code>@ranges = ([73..80], [92..107], [941..1000], [3000..3170]);\n</code></pre>\n\n<p>However, since you already know the upper and lower limits of each range, why are you wasting memory?</p>\n\n<pre><code>@ranges=([73, 80], [92, 107], [941, 1000], [3000, 3170]);\n</code></pre>\n\n<p>Here is one way to implement that:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @ranges=([73, 80], [92, 107], [941, 1000], [3000, 3170]);\nmy $search = 95;\n\nmy $found = search_in_ranges($search, \\@ranges);\n\nfor my $r ( @$found ) {\n    printf \"%d was found in [%d, %d]\\n\", $search, $r-&gt;[0], $r-&gt;[1];\n}\n\nsub search_in_ranges {\n    my ($n, $ranges) = @_;\n    return [ grep $n &gt;= $_-&gt;[0] &amp;&amp; $n &lt;= $_-&gt;[1], @$ranges ];\n}\n</code></pre>\n\n<p>See also <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\"><code>perldoc perlreftut</code></a> which is installed along with your Perl distribution.</p>\n"}], "owner": {"reputation": 85, "user_id": 5561275, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/qb6dQ.jpg?s=128&g=1", "display_name": "Ltaylor", "link": "https://stackoverflow.com/users/5561275/ltaylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498520493, "creation_date": 1498519558, "last_edit_date": 1498520493, "question_id": 44770100, "link": "https://stackoverflow.com/questions/44770100/print-each-range-in-perl-array", "title": "print each range in perl array", "body": "<p>I have an array of ranges in Perl and need a way to loop through each range in the array, search a number and print the min..max indexes for each range. I am able to do this in bash shell scripting but having some trouble in Perl.</p>\n\n<p>My code:</p>\n\n<pre><code>#!/usr/bin/perl \nuse List::Util qw(max min);   \n\n$search_num = 95;\n\n@ranges = (73..80, 92..107, 941..1000, 3000..3170);\n\nforeach $num (@ranges) {\n    $range_min = min(@ranges);\n    $range_max = max(@ranges);\n    if ($search_num == $n) {\n        print \"$search was found in range $range_min..$range_max\\n\";\n    }\n} \n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>95 was found in range 92..107\n</code></pre>\n\n<p>The following works fine for indicating per hard coded range \nbut need a way to have a series of ranges in an array to loop, search and display where found. The following works:</p>\n\n<pre><code>@range = (92..107);\n\nforeach $num (@range) {\n    $range_min = min(@range);\n    $range_max = max(@range);\n\n    if ($search_num == $num){\n        print \"$search_num was found in range $range_min..$range_max\\n\";\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>95 was found in range 92..107\n</code></pre>\n\n<p>thanks for any advice.</p>\n"}, {"tags": ["linux", "apache", "perl", "centos6", "mod-perl2"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1498507740, "post_id": 44767291, "comment_id": 76516791, "body": "See <a href=\"https://perl.apache.org/docs/2.0/user/troubleshooting/troubleshooting.html#undefined_symbol__apr_table_compress\" rel=\"nofollow noreferrer\"><code>mod_perl</code> troubleshooting</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5, "user_id": 2499827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c2771d75d3144c2223d1f0dbb70aca?s=128&d=identicon&r=PG", "display_name": "dbradley771", "link": "https://stackoverflow.com/users/2499827/dbradley771"}, "is_accepted": false, "score": 0, "last_activity_date": 1498852383, "creation_date": 1498852383, "answer_id": 44853942, "question_id": 44767291, "link": "https://stackoverflow.com/questions/44767291/undefined-symbol-mg-free-type-when-installing-mod-perl-2-0-10-with-apache-2-4/44853942#44853942", "title": "&quot;undefined symbol: mg_free_type&quot; when installing mod_perl 2.0.10 with Apache 2.4.26 and Perl 5.10.1", "body": "<p>I solved this by upgrading to Perl 5.14.0 or newer.</p>\n\n<p>In the Perl documentation, <code>mg_free_type</code> first appears in version 5.14.0. You can see under \"Magical Functions\" where it isn't listed in <a href=\"http://perldoc.perl.org/5.12.4/perlapi.html#Magical-Functions\" rel=\"nofollow noreferrer\">5.12.4</a> but is in <a href=\"http://perldoc.perl.org/5.14.0/perlapi.html#Magical-Functions\" rel=\"nofollow noreferrer\">5.14.0</a></p>\n\n<p>I'm not sure if this is the correct solution as mod_perl2.0 lists Perl 5.6.1 as the minimum version: <code>https://perl.apache.org/docs/2.0/user/install/install.html#item_Perl</code></p>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 4063222, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R6mkzKCt2VE/AAAAAAAAAAI/AAAAAAAAA6w/0DfpKEYeV0M/photo.jpg?sz=128", "display_name": "Mathieu CARBONNEAUX", "link": "https://stackoverflow.com/users/4063222/mathieu-carbonneaux"}, "is_accepted": true, "score": 1, "last_activity_date": 1567033560, "last_edit_date": 1567033560, "creation_date": 1512579447, "answer_id": 47679607, "question_id": 44767291, "link": "https://stackoverflow.com/questions/44767291/undefined-symbol-mg-free-type-when-installing-mod-perl-2-0-10-with-apache-2-4/47679607#47679607", "title": "&quot;undefined symbol: mg_free_type&quot; when installing mod_perl 2.0.10 with Apache 2.4.26 and Perl 5.10.1", "body": "<p>This bug was introduced when they added support of perl version 5.22, in mod_perl 2.0.10: <a href=\"https://github.com/apache/mod_perl/commit/82827132efd3c2e25cc413c85af61bb63375da6e#diff-0a249c57fb8151f85647e167a883be1b\" rel=\"nofollow noreferrer\">https://github.com/apache/mod_perl/commit/82827132efd3c2e25cc413c85af61bb63375da6e#diff-0a249c57fb8151f85647e167a883be1b</a></p>\n\n<p>And then was fixed in a mod_Perl patch on 4 January 2018 (2.0.11-dev):\n<a href=\"https://github.com/apache/mod_perl/commit/f4d886fdf7d79d54a0647336b5623b840a053eab\" rel=\"nofollow noreferrer\">https://github.com/apache/mod_perl/commit/f4d886fdf7d79d54a0647336b5623b840a053eab</a></p>\n\n<p>To fix this problem you must compile from source of <a href=\"https://github.com/apache/mod_perl/commit/f4d886fdf7d79d54a0647336b5623b840a053eab\" rel=\"nofollow noreferrer\">this commit of mod_perl 2.0.11-dev</a> (or the trunk version) to fix the problem if you have perl &lt;=5.13.6, or if you can upgrade Perl to version >5.13.6 you can compile with mod_perl 2.0.10.</p>\n\n<p>This change in Perl as been introduced in source of Perl version 5.13.6 in this perl commit :\n<a href=\"https://perl5.git.perl.org/perl.git/commit/d908838680ec40ea0e85f59ee66f5f56a225f9b4\" rel=\"nofollow noreferrer\">https://perl5.git.perl.org/perl.git/commit/d908838680ec40ea0e85f59ee66f5f56a225f9b4</a></p>\n\n<p>The mod_perl fix (in last <a href=\"https://github.com/apache/mod_perl/commit/f4d886fdf7d79d54a0647336b5623b840a053eab\" rel=\"nofollow noreferrer\">2.0.11-dev</a>) in src/modules/perl/modperl_env.c use contextual usage of mg_free to fix the problem :</p>\n\n<pre><code>#if MP_PERL_VERSION_AT_LEAST(5, 13, 6)\n    mg_free_type((SV*)ENVHV, PERL_MAGIC_env);\n#else\n    mg_free((SV*)ENVHV);\n#endif\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 2499827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c2771d75d3144c2223d1f0dbb70aca?s=128&d=identicon&r=PG", "display_name": "dbradley771", "link": "https://stackoverflow.com/users/2499827/dbradley771"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1157, "favorite_count": 0, "accepted_answer_id": 47679607, "answer_count": 2, "score": -1, "last_activity_date": 1567033560, "creation_date": 1498505309, "last_edit_date": 1541996104, "question_id": 44767291, "link": "https://stackoverflow.com/questions/44767291/undefined-symbol-mg-free-type-when-installing-mod-perl-2-0-10-with-apache-2-4", "title": "&quot;undefined symbol: mg_free_type&quot; when installing mod_perl 2.0.10 with Apache 2.4.26 and Perl 5.10.1", "body": "<p>I'm trying to install mod_perl 2.0.10 for use with a new Apache 2.4 instance. I've got Apache 2.4.26 up and running by itself, but I also need mod_perl installed for a couple of modules to work.</p>\n\n<p>Here's the problem: mod_perl always fails its tests claiming:</p>\n\n<pre><code>Syntax error on line 82 of .../t/conf/httpd.conf: Cannot load .../src/modules/perl/mod_perl.so into server: .../src/modules/perl/mod_perl.so: undefined symbol: mg_free_type\n</code></pre>\n\n<p>The only information I could find on this is here: <a href=\"https://stackoverflow.com/questions/40745426/error-when-installing-mod-perl2\">Error when installing mod_perl2</a>. Unfortunately, it didn't solve the problem.</p>\n\n<p>Using CentOS release 6.8 (Final)\nx86_64 x86_64 x86_64 GNU/Linux</p>\n\n<p>More from the log:</p>\n\n<pre><code>&gt; make test\ncd \"src/modules/perl\" &amp;&amp; make\nmake[1]: Entering directory `/software/apa/mod_perl/mod_perl-2.0.10/src/modules/perl'\nmake[1]: Nothing to be done for `all'.\nmake[1]: Leaving directory `/software/apa/mod_perl/mod_perl-2.0.10/src/modules/perl'\n...\nmake[1]: Leaving directory `/software/apa/mod_perl/mod_perl-2.0.10/xs'\n/usr/bin/perl -Iblib/arch -Iblib/lib \\\n    t/TEST -clean\n[warning] setting ulimit to allow core files\nulimit -c unlimited; /usr/bin/perl /software/apa/mod_perl/mod_perl-2.0.10/t/TEST -clean\nAPACHE_TEST_APXS= APACHE_TEST_GROUP= APACHE_TEST_HTTPD= APACHE_TEST_PORT= APACHE_TEST_USER= \\\n    /usr/bin/perl -Iblib/arch -Iblib/lib \\\n    t/TEST -bugreport -verbose=0 \n[warning] setting ulimit to allow core files\nulimit -c unlimited; /usr/bin/perl /software/apa/mod_perl/mod_perl-2.0.10/t/TEST -bugreport -verbose=0\n/software/apa/apa24/bin/httpd.prefork  -d /software/apa/mod_perl/mod_perl-2.0.10/t -f /software/apa/mod_perl/mod_perl-2.0.10/t/conf/httpd.conf -D APACHE2 -D APACHE2_4 -D PERL_USEITHREADS\nusing Apache/2.4.26 (prefork MPM)\n\nwaiting 300 seconds for server to start: .httpd.prefork: Syntax error on line 82 of /software/apa/mod_perl/mod_perl-2.0.10/t/conf/httpd.conf: Cannot load /software/apa/mod_perl/mod_perl-2.0.10/src/modules/perl/mod_perl.so into server: /software/apa/mod_perl/mod_perl-2.0.10/src/modules/perl/mod_perl.so: undefined symbol: mg_free_type\n[  error] \nserver has died with status 255 (t/logs/error_log wasn't created, start the server in the debug mode)\nsh: line 1:  3359 Terminated              /usr/bin/perl /software/apa/mod_perl/mod_perl-2.0.10/t/TEST -bugreport -verbose=0\nmake: *** [run_tests] Error 143\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498513739, "post_id": 44766150, "comment_id": 76519389, "body": "Successful computer programming requires precise thinking, and a specification like <i>&quot;how can I get <code>yellow</code> from this string&quot;</i> is pretty much useless. A good analyst will guess that you probably want the text between the slashes, but we shouldn&#39;t be analysing requirements on Stack Overflow: you should be able to say properly what you want. You also need to think about what happens if there are more than two slashes in the string, or just one, or none at all. We can&#39;t help you with any of this; only you know the answer."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498513206, "post_id": 44766309, "comment_id": 76519168, "body": "<i>Learning Perl 7th Ed.</i> still teaches calling subroutines using the ampersand notation: <i>&quot;You invoke a subroutine from within an expression by using the subroutine name (with the ampersand)&quot;</i> (page 62) and then <i>unteaches</i> it later on. I think this was Randal&#39;s idea. It has caused so many problems for me with people still coding using the Perl 4.0 style that I cannot recommend it. I learned Perl from <i>Programming Perl 2nd Ed.</i> but I like to learn everything at once and that may not suit everybody."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498519327, "post_id": 44766309, "comment_id": 76520978, "body": "I reviewed the 7th edition, and I did not think there was anything wrong with the way they went about it. It&#39;s a progression. Initially, they teach Perl as it if is BASIC and progress from there."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1498501707, "creation_date": 1498501707, "answer_id": 44766309, "question_id": 44766150, "link": "https://stackoverflow.com/questions/44766150/perl-how-to-extrapolate-part-of-a-word-in-a-string/44766309#44766309", "title": "Perl how to extrapolate part of a word in a string", "body": "<blockquote>\n  <p>I know perl (sic) has a wildcard variable <code>.</code></p>\n</blockquote>\n\n<p>Perl has no such \"wildcard variable\". You might be referring to the meaning of a <code>.</code> in a regex pattern:</p>\n\n<blockquote>\n  <p><code>.</code>       Matches any single character except a newline (unless <code>/s</code> is used) </p>\n</blockquote>\n\n<p>which is documented in <code>perldoc perlre</code>.</p>\n\n<p><em>Prima facie</em> your question makes no sense. But, reading between the lines, you seem to be asking if there is a way to match any sequence of characters between two <code>/</code> characters.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $x = \"hello my name is /yellow/duck\";\nif ($x =~ m{/ ( [^/]+ ) /}x) {\n    print \"$1\\n\";\n}\n</code></pre>\n\n<p>You can understand that regex match by reading <code>perldoc perlre</code> on your computer. See also <code>perldoc perlreref</code> and <code>perldoc perlretut</code>.</p>\n\n<p>You cannot a learn programming without studying. One of the major advantages of Perl compared to other languages is the immense amount useful documentation included with the distribution. You should read all of it at least once, and refer back to it at every opportunity. See <code>perldoc perltoc</code>.</p>\n\n<p>Having a <a href=\"http://shop.oreilly.com/product/0636920049517.do\" rel=\"nofollow noreferrer\">decent book</a> does not hurt either.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1498514174, "creation_date": 1498514174, "answer_id": 44769271, "question_id": 44766150, "link": "https://stackoverflow.com/questions/44766150/perl-how-to-extrapolate-part-of-a-word-in-a-string/44769271#44769271", "title": "Perl how to extrapolate part of a word in a string", "body": "<blockquote>\n  <p>I'm wondering if there's a function that you can run on that string and return \"yellow\".</p>\n</blockquote>\n\n<pre><code>my $s = 'hello my name is /yellow/duck';\n\nprint func($s), \"\\n\";\n\nsub func { 'yellow' }\n</code></pre>\n\n<p>Yes, this \"answer\" is facetious, but it has some serious and significant points</p>\n\n<ul>\n<li><p>You must be absolutely precise when specifying, implementing, and documenting software. It is nothing like ordinary human language</p></li>\n<li><p>Just because a program produces the \"right result\" it doesn't mean that it is correct</p></li>\n</ul>\n"}], "owner": {"reputation": 13, "user_id": 8094451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1901f948339fa11b3e203f68152e57aa?s=128&d=identicon&r=PG&f=1", "display_name": "flantasyrm7", "link": "https://stackoverflow.com/users/8094451/flantasyrm7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1498514174, "creation_date": 1498501153, "last_edit_date": 1498505140, "question_id": 44766150, "link": "https://stackoverflow.com/questions/44766150/perl-how-to-extrapolate-part-of-a-word-in-a-string", "title": "Perl how to extrapolate part of a word in a string", "body": "<p>Let's say I have the following string in a text file:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>hello my name is /yellow/duck\n</code></pre>\n\n<p>I'm wondering if there's a function that you can run on that string and return \"<em>yellow</em>\". </p>\n\n<p>I know Perl has a wildcard variable <code>.</code> but I'm not sure if it's applicable here since to my limited knowledge, you can only attribute words to the <code>.</code>.</p>\n"}, {"tags": ["perl", "double-quotes", "quoting"], "comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1498494571, "post_id": 44764171, "comment_id": 76509699, "body": "Where are the values of the variables defined?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498498861, "post_id": 44764171, "comment_id": 76512014, "body": "Your <b><i>also</i></b> is a whole other topic and you need to write a new question. You must think about where <code>$animal</code> and <code>$othervar</code> could be defined if you want to stick to a one-liner. Why does this all have to be in a single line of Perl anyway?"}], "answers": [{"comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1498494683, "post_id": 44764300, "comment_id": 76509757, "body": "@reinierpost That adds a newline at the end if that&#39;s desirable."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1498494807, "post_id": 44764300, "comment_id": 76509824, "body": "And removes it from the input. Without it, a word at the end of the line will go wrong."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1498495022, "post_id": 44764300, "comment_id": 76509961, "body": "@reinierpost The only effect it has is adding a newline on the end of the output. The last entry is unaffected. I tested by adding a blank line at the end of the file and it just carries through, it doesn&#39;t glom on to the third entry."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1498495786, "post_id": 44764300, "comment_id": 76510354, "body": "My apologies, you&#39;re right. But I don&#39;t think the OP wants all output on one line."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1498496249, "post_id": 44764300, "comment_id": 76510597, "body": "@reinierpost The <code>-l</code> flag is helpful though. Also just matching what&#39;s in the question as closely as possible."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498497542, "post_id": 44764300, "comment_id": 76511289, "body": "@Sinan&#220;n&#252;r It&#39;s in the original question. I&#39;m making as few modifications as practical to get it working. This could be taking output from some other source, where <code>cat</code> is just a toy substitute."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498497928, "post_id": 44764300, "comment_id": 76511520, "body": "@tadman: The <code>-l</code> option (without a value) sets <code>$\\` to </code>$/` so that <code>print</code> statements are terminated by a newline, and also does an implicit <code>chomp</code> on input lines, to remove the line terminator on input. The latter has no effect when <code>split &#39; &#39;</code> is used, as it counts the newline as just more whitespace separation."}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": true, "score": -2, "last_activity_date": 1498494510, "creation_date": 1498494510, "answer_id": 44764300, "question_id": 44764171, "link": "https://stackoverflow.com/questions/44764171/how-to-surround-a-string-in-double-quotes/44764300#44764300", "title": "How to surround a string in double quotes", "body": "<p>What you want is this:</p>\n\n<pre><code>cat oneline | perl -ne 'print join \" \", map { qq[\"$_\"] } split'\n</code></pre>\n\n<p>The <code>-ne</code> option only splits on lines, it won't split on arbitrary whitespace without other options set.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1498497164, "creation_date": 1498497164, "answer_id": 44765040, "question_id": 44764171, "link": "https://stackoverflow.com/questions/44764171/how-to-surround-a-string-in-double-quotes/44765040#44765040", "title": "How to surround a string in double quotes", "body": "<pre><code>perl -lne '@f = map qq/\"$_\"/, split; print \"@f\";' oneline\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 1574245, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fedf7757bed2608417e3d99cb3c68e13?s=128&d=identicon&r=PG", "display_name": "alig227", "link": "https://stackoverflow.com/users/1574245/alig227"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 674, "favorite_count": 0, "accepted_answer_id": 44764300, "answer_count": 2, "score": -1, "last_activity_date": 1498498622, "creation_date": 1498494048, "last_edit_date": 1498498622, "question_id": 44764171, "link": "https://stackoverflow.com/questions/44764171/how-to-surround-a-string-in-double-quotes", "title": "How to surround a string in double quotes", "body": "\n\n<p>I have a file with the following</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>firsttext=cat secondtext=dog thirdtext=mouse\n</code></pre>\n\n<p>and I want it to return this string: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"firsttext=cat\" \"secondtext=dog\" \"thirdtext=mouse\"\n</code></pre>\n\n<p>I yave tried this one-liner but it gives me an error.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>cat oneline | perl -ne 'print \\\"$_ \\\" '\n</code></pre>\n\n<blockquote>\n  <p>Can't find string terminator '\"' anywhere before EOF at -e line 1.</p>\n</blockquote>\n\n<p>I don't understand the error.Why can't it just add the quotation marks?</p>\n\n<p><br/></p>\n\n<hr>\n\n<p>Also, if I have a variable in this string, I want it to be interpolated like: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>firsttext=${animal} secondtext=${othervar} thirdtext=mouse\n</code></pre>\n\n<p>Which should output</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"firsttext=cat\" \"secondtext=dog\" \"thirdtext=mouse\"\n</code></pre>\n"}, {"tags": ["sql", "regex", "perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498492106, "post_id": 44763228, "comment_id": 76508127, "body": "There doesn&#39;t seem to be a way to get the output you show from the script included in your post."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1498492168, "post_id": 44763228, "comment_id": 76508157, "body": "Perl is only good at parsing if you know Perl! Otherwise, you&#39;ll probably be more productive in a language that you know better."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 1, "creation_date": 1498492550, "post_id": 44763228, "comment_id": 76508394, "body": "I don&#39;t even see any attempt at iterating over multiple matches."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1498506917, "post_id": 44763228, "comment_id": 76516391, "body": "So which language to choose that does not require loops to loop over stuff?"}], "answers": [{"comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1499553212, "post_id": 44786446, "comment_id": 76957613, "body": "<code>$row = &#39;DROP PROCEDURE&#39; . $row . &#39;;&#39; # Be sure to put DROP PROCEDURE IN $row =~ s&#47;DROP PROCEDURE&#47;&#47;g; # We wouldn&#39;t want the regex to go hungry</code>"}], "tags": [], "owner": {"reputation": 11, "user_id": 8216333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39de566c03885161741ed89bda9dd076?s=128&d=identicon&r=PG&f=1", "display_name": "user8216333", "link": "https://stackoverflow.com/users/8216333/user8216333"}, "is_accepted": false, "score": 0, "last_activity_date": 1498584583, "creation_date": 1498584583, "answer_id": 44786446, "question_id": 44763228, "link": "https://stackoverflow.com/questions/44763228/perl-parsing-for-sql-scripts/44786446#44786446", "title": "Perl parsing for SQL scripts", "body": "<p>I ended up with a fairly different solution from where I started:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n\nmy $file_name = \"\";\nmy $first_line = \"\";\n\nundef $/;               # Enable 'slurp' mode\n\nopen my $fh, '&lt;', 'AlterSprocs.sql' or die;\n\n\n$/= 'DROP PROCEDURE';\nwhile (my $row = &lt;$fh&gt;) {\n\n{\n$n ++;\nif ( $row =~ /\\[dbo].\\[(.*?)\\]/ )\n{\n$file_name = $1;\n$row = 'DROP PROCEDURE' . $row . ';';\nmy $find = 'DROP PROCEDURE;';\nmy $replace = \"\";\n$row =~ s/$find/$replace/g;\n$first_line = 'IF EXISTS (SELECT 1 FROM sysobjects with(nolock) WHERE id = OBJECT_ID(N\\'[dbo].[' . $file_name . ']\\'))' . \"\\n\";\nopen (MYFILE, '&gt;', \"dbo.\" . $file_name . \".prc\");\nprint MYFILE $first_line;\nprint MYFILE $row;\nclose (MYFILE); \n}\n}\n\nclose $fh or die \"Could not close sample.txt: $!\";\n</code></pre>\n\n<p>This massages the individual files it creates into a format that our automated sproc executor likes and names the files after the sprocs in question. </p>\n"}], "owner": {"reputation": 11, "user_id": 8216333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39de566c03885161741ed89bda9dd076?s=128&d=identicon&r=PG&f=1", "display_name": "user8216333", "link": "https://stackoverflow.com/users/8216333/user8216333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1498584583, "creation_date": 1498490989, "last_edit_date": 1498513949, "question_id": 44763228, "link": "https://stackoverflow.com/questions/44763228/perl-parsing-for-sql-scripts", "title": "Perl parsing for SQL scripts", "body": "<p>I have many long sql files that include a bunch of discrete sql commands. Basically the files drop and then recreate a bunch of stored procedures with some modifications.</p>\n\n<p>I need to parse them out to get the individual drop/create scrips. </p>\n\n<p>Perl is my first choice since it is good at parsing...but I'm not very experienced with Perl... </p>\n\n<p>Here is what I have so far (note I substantially re-wrote my original attempt):</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $use = \"\";\nmy $use = \"USE mydatabase;\";\n\nundef $/;               # Enable 'slurp' mode\nopen my $fh, '&lt;', 'AlterSprocs.sql' or die;\n$/= 'DROP PROCEDURE';\nwhile (my $row = &lt;$fh&gt;) {\n$n ++;\n$row = $use  . \"\\n\" . \"GO\"  . \"\\n\" . 'DROP PROCEDURE' . $row . ';';\nmy $find = 'DROP PROCEDURE;';\nmy $replace = \"\";\n$row =~ s/$find/$replace/g;\n\nopen (MYFILE, '&gt;', $n);\nprint MYFILE $row;\nclose (MYFILE); \n</code></pre>\n\n<p>The text I am parsing looks something like:</p>\n\n<pre><code>Use mydatabase;\nGO\nDrop Procedure [blah1]\nCreate Procedure [blah1]\n[Sql stuff]\n\nDrop Procedure [blah2]\nCreate Procedure [blah2]\n[Sql stuff]\n\n[repeat blah3....blah4...etc...etc..]\n</code></pre>\n\n<p>This gives me files named 1, 2, 3, etc with the discrete stored procedures in them. I had to do some weird additions and replaces with the text to get it right...but it works. The last file will end up with an extra \";\" but...that should be safe.</p>\n\n<p>The main problem I have now is that the first file is empty because of the way I am parsing on \"Drop Procedure\". I tried to handle this by putting in an if/else in the while loop that wouldn't do anything if n=0 besides setting n++;</p>\n\n<pre><code>if ($n = 0)\n{$n++;}\nelse {all the other stuff I actually want to do}\n</code></pre>\n\n<p>, but this only created one file (named 1). </p>\n\n<p>I still need to pull out the name of the stored procedure so I can use that to name the output files instead of $n, but I think that will be somewhat straight forward since it is the first line. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1498492880, "post_id": 44763078, "comment_id": 76508616, "body": "A quick fix would be to replace the <code>ref,</code> in <code>Net::OpenSSH</code> with <code>{ ref $_ }</code> (just do that if you want it running now, and potentially not for a long time). The documentation of <code>subs::parallel</code> says <code>C&lt;GLOBAL::CORE::ref&gt; is overriden. This may be an issue if there are other modules in use which override it too. In the future, there may be a switch to disable this.</code>. I&#39;ve looked in the code but I couldn&#39;t find this feature implemented (meaning that this &quot;future&quot; hasn&#39;t happen yet)."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1498493324, "post_id": 44763078, "comment_id": 76508920, "body": "And if you are curious about why this happens: <code>subs::parallel</code> overrides <code>CORE::GLOBAL::ref</code> and adds a prototype to it (<code>($)</code>). However, <code>ref</code> can usually be called without arguments, and it then operates on <code>$_</code>. However, the prototype doesn&#39;t allow for <code>ref</code> to be called without arguments. And that&#39;s what <code>Net::OpenSSH</code> does, hence the error &quot;Not enough arguments...&quot;."}, {"owner": {"reputation": 55, "user_id": 4465408, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/be78b93d4d8e037a1d20a276e1d62ace?s=128&d=identicon&r=PG&f=1", "display_name": "Chip Shadd", "link": "https://stackoverflow.com/users/4465408/chip-shadd"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1498500348, "post_id": 44763078, "comment_id": 76512815, "body": "@Dada I looked in OpenSSH.pm and I&#39;m not sure where/how to replace <code>ref</code>.  Also, what are the side effects of doing this for long term use?"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1498504581, "post_id": 44763078, "comment_id": 76515142, "body": "In <code>&#47;home&#47;chip&#47;perl5&#47;lib&#47;perl5&#47;Net&#47;OpenSSH.pm</code>, the line contains <code>grep ref, @_</code>: replace it with <code>grep { ref $_ } @_</code>. About long term use: I don&#39;t really know how Perl modules are updated, but I&#39;d expect that an update would undo that modification. Also, I can&#39;t be 100% sure that <code>subs::parallel</code> if fully compatible with <code>Net::OpenSSH</code> or any other modules... I was expecting for someone more experienced to come around a suggest a solution."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1498548124, "post_id": 44763078, "comment_id": 76529251, "body": "Have you considered using <a href=\"https://metacpan.org/pod/Net::OpenSSH::Parallel\" rel=\"nofollow noreferrer\">Net::OpenSSH::Parallel</a> which also allows you to run multiple SSH operations in parallel and is a mature and tested solution?"}], "owner": {"reputation": 55, "user_id": 4465408, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/be78b93d4d8e037a1d20a276e1d62ace?s=128&d=identicon&r=PG&f=1", "display_name": "Chip Shadd", "link": "https://stackoverflow.com/users/4465408/chip-shadd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1498490548, "creation_date": 1498490548, "question_id": 44763078, "link": "https://stackoverflow.com/questions/44763078/global-symbol-definition-error-while-using-netopenssh-with-subsparallel", "title": "Global symbol definition error while using Net::OpenSSH with subs::parallel", "body": "<p>I have a sub routine that I need to run in parallel.  It uses Net::OpenSSH but OpenSSH.pm itself is throwing the \"Global symbol 'X' requires explicit package name\" error.</p>\n\n<p>Here is a simplified version of what I am trying to run:</p>\n\n<p>main.pl:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nrequire './open.pl';\n\n&amp;OSSH;\n</code></pre>\n\n<p>open.pl:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse subs::parallel;\nuse Net::OpenSSH;\n\nsub OSSH : Parallel {\n    my $SSH = Net::OpenSSH-&gt;new(\"localhost\",\n            user =&gt; 'root'\n            );\n}\n1;\n</code></pre>\n\n<p>Errors:</p>\n\n<pre><code>Not enough arguments for subs::parallel::ref at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1274, near \"ref,\"\nsyntax error at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1295, near \"_array_or_scalar_to_list delete\"\nGlobal symbol \"%opts\" requires explicit package name (did you forget to declare \"my %opts\"?) at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1296.\nGlobal symbol \"$self\" requires explicit package name (did you forget to declare \"my $self\"?) at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1299.\nGlobal symbol \"%opts\" requires explicit package name (did you forget to declare \"my %opts\"?) at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1300.\nGlobal symbol \"$self\" requires explicit package name (did you forget to declare \"my $self\"?) at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1303.\nGlobal symbol \"%opts\" requires explicit package name (did you forget to declare \"my %opts\"?) at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1304.\nGlobal symbol \"%opts\" requires explicit package name (did you forget to declare \"my %opts\"?) at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1307.\nGlobal symbol \"@ssh_opts\" requires explicit package name (did you forget to declare \"my @ssh_opts\"?) at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1310.\nGlobal symbol \"$self\" requires explicit package name (did you forget to declare \"my $self\"?) at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1310.\nGlobal symbol \"$self\" requires explicit package name (did you forget to declare \"my $self\"?) at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1313.\nGlobal symbol \"%opts\" requires explicit package name (did you forget to declare \"my %opts\"?) at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1313.\nGlobal symbol \"%opts\" requires explicit package name (did you forget to declare \"my %opts\"?) at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1315.\nGlobal symbol \"@ssh_opts\" requires explicit package name (did you forget to declare \"my @ssh_opts\"?) at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1317.\nGlobal symbol \"$self\" requires explicit package name (did you forget to declare \"my $self\"?) at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1318.\nGlobal symbol \"@ssh_opts\" requires explicit package name (did you forget to declare \"my @ssh_opts\"?) at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1318.\nGlobal symbol \"$self\" requires explicit package name (did you forget to declare \"my $self\"?) at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1324.\nsyntax error at /home/chip/perl5/lib/perl5/Net/OpenSSH.pm line 1328, near \"}\"\n/home/chip/perl5/lib/perl5/Net/OpenSSH.pm has too many errors.\nCompilation failed in require at ./open.pl line 5.\nBEGIN failed--compilation aborted at ./open.pl line 5.\nCompilation failed in require at ./main.pl line 4.\n</code></pre>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1498520971, "post_id": 44762789, "comment_id": 76521377, "body": "Also: <code>echo o conf | cpan</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1498521006, "post_id": 44762789, "comment_id": 76521388, "body": "Env vars <code>PERL_MM_OPT</code> and <code>PERL_MB_OPT</code> may override options passed by <code>cpan</code> to the installers."}], "answers": [{"comments": [{"owner": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "edited": false, "score": 0, "creation_date": 1498490100, "post_id": 44762887, "comment_id": 76506851, "body": "It says unknown option! my cpan is 1.9402"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "edited": false, "score": 0, "creation_date": 1498491300, "post_id": 44762887, "comment_id": 76507629, "body": "<code>1.94_02</code> was released almost exactly <b>eight</b> years ago."}, {"owner": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "edited": false, "score": 0, "creation_date": 1498491433, "post_id": 44762887, "comment_id": 76507716, "body": "Well I used the default perl on Rocks-6.2! It seems that I have to manually install the latest version."}, {"owner": {"reputation": 3486, "user_id": 272387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba4d3e91f235ed21dacc1766b94e26a8?s=128&d=identicon&r=PG", "display_name": "Richlv", "link": "https://stackoverflow.com/users/272387/richlv"}, "edited": false, "score": 0, "creation_date": 1550164302, "post_id": 44762887, "comment_id": 96178943, "body": "@Sinan&#220;n&#252;r, RHEL6 comes with 1.9402. It is still relevant."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 1, "last_activity_date": 1498491734, "last_edit_date": 1498491734, "creation_date": 1498489928, "answer_id": 44762887, "question_id": 44762789, "link": "https://stackoverflow.com/questions/44762789/how-can-list-the-current-settings-of-config-variables-used-by-perls-cpan/44762887#44762887", "title": "How can list the current settings of config variables used by Perl&#39;s cpan?", "body": "<p><code>perldoc cpan</code>:</p>\n\n<blockquote>\n  <p><code>-J</code>:  Dump the configuration in the same format that CPAN.pm uses. This is\n          useful for checking the configuration as well as using the dump as a\n          starting point for a new, custom configuration.</p>\n</blockquote>\n\n<p>You should also be able to get the same (or possibly more) information by running the CPAN shell:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> $ perl -MCPAN -e shell\n\n cpan shell -- CPAN exploration and modules installation (v2.16)\n Enter 'h' for help.\n\n cpan[1]&gt; o conf\n $CPAN::Config options from C:\\...\\.cpan/CPAN/MyConfig.pm:\n ...\n applypatch         []\n auto_commit        [0]\n build_cache        [100]\n build_dir          [C:\\...\\.cpan\\build]\n build_dir_reuse    [0]\n build_requires_install_policy [yes]\n bzip2              [C:\\opt\\bin\\bzip2.EXE]\n ...\n</code></pre>\n"}], "owner": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "accepted_answer_id": 44762887, "answer_count": 1, "score": 0, "last_activity_date": 1498491734, "creation_date": 1498489579, "last_edit_date": 1498490038, "question_id": 44762789, "link": "https://stackoverflow.com/questions/44762789/how-can-list-the-current-settings-of-config-variables-used-by-perls-cpan", "title": "How can list the current settings of config variables used by Perl&#39;s cpan?", "body": "<p>Among the many command line options of the <code>cpan</code>, which one reports the config variables currently set in <code>cpan</code>? I made some changes with <code>o conf</code> and want to see if the values are correctly has been set because I don't see their effects.</p>\n"}, {"tags": ["perl", "fork", "ipc"], "answers": [{"comments": [{"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1498496378, "post_id": 44764468, "comment_id": 76510670, "body": "I am interested in case of <b>long</b> running child with big number of &quot;command-response&quot; sequences. I would like to avoid pushing commands to child with closed STDIN or pumping replies from child with closed STDOUT."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1498587115, "last_edit_date": 1498587115, "creation_date": 1498495078, "answer_id": 44764468, "question_id": 44758909, "link": "https://stackoverflow.com/questions/44758909/ipcrun-detection-of-premature-child-exit-and-closed-pipes/44764468#44764468", "title": "IPC::Run - Detection of premature child exit and closed pipes", "body": "<p><strong>Update</strong>: Thanks to @zdim for reminding me to check the <code>SIGPIPE</code> signal. Here is an update of my answer that also checks <code>SIGPIPE</code>:</p>\n\n<p>I did a simple test using <code>start</code>, <code>pump</code>, and <code>finish</code>. Here is the main script <code>p.pl</code> that I used:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\nuse IPC::Run;\n\nmy $child_in;\nmy $child_out;\nmy $child_err;\nmy $child_name = shift;\n\nmy $harness = eval {\n    IPC::Run::start [ $child_name ], \\$child_in, \\$child_out, \\$child_err;\n};\nif ( $@ ) {\n    chomp $@;\n    die \"Caught exception: '$@'\";\n}\nfor (1..2) {\n    $child_in = \"Joe$_\\n\";\n    say \"Parent sleeping for 1 second..\";\n    sleep 1;\n    eval {\n        local $SIG{PIPE} = sub { \n            die \"Parent received SIGPIPE. \"\n              . \"Child is either dead or has closed its input pipe\\n\";\n        };\n        say \"Sending data to child..\";\n        my $result = $harness-&gt;pump;\n        say \"IPC::Run::pump() returned: \", $result ? \"TRUE\" : \"FALSE\";\n    };\n    if ( $@ ) {\n        chomp $@;\n        say \"IPC::Run::pump() failed: '$@'\";\n        last;\n    }\n    say \"\\$child_in = '$child_in'\";\n    say \"\\$child_out = '$child_out'\";\n}\nsay \"Finishing harness..\";\nmy $res = eval {\n    local $SIG{PIPE} = sub { \n        die \"Parent received SIGPIPE. \"\n          . \"Child is either dead or has closed its input pipe\\n\";\n    };\n    $harness-&gt;finish;\n};\nif ( $@ ) {\n    chomp $@;\n    die \"IPC::Run::finish() failed: '$@'\\n\";\n}\nprintf \"IPC::Run::finish() returned: '%s'\\n\", $res ? \"TRUE\" : \"FALSE\";\nchomp $child_out;\nsay \"STDOUT from child: '$child_out'\";\nchomp $child_err;\nsay \"STDERR from child: '$child_err'\";\nsay \"Child returned exit code: \", $harness-&gt;result;\nsay \"Parent exited normally..\"\n</code></pre>\n\n<p>I used three different child scripts:</p>\n\n<p><strong>child.pl</strong>:</p>\n\n<pre><code>#! /usr/bin/env perl    \nuse feature qw(say);\nuse strict;\nuse warnings;\n\nmy $reply = &lt;STDIN&gt;;\nchomp $reply;\nsay \"Hello $reply\";\nmy $reply2 = &lt;STDIN&gt;;\nchomp $reply2;\nsay \"Got second reply: $reply2\";\nexit 0;\n</code></pre>\n\n<p>and output:</p>\n\n<pre><code>$ p.pl child.pl\nParent sleeping for 1 second..\nSending data to child..\nIPC::Run::pump() returned: TRUE\n$child_in = ''\n$child_out = ''\nParent sleeping for 1 second..\nSending data to child..\nIPC::Run::pump() returned: TRUE\n$child_in = ''\n$child_out = ''\nFinishing harness..\nIPC::Run::finish() returned: 'TRUE'\nSTDOUT from child: 'Hello Joe1\nGot second reply: Joe2'\nSTDERR from child: ''\nChild returned exit code: \nParent exited normally..\n</code></pre>\n\n<p><strong>child2.pl</strong>:</p>\n\n<pre><code>#! /usr/bin/env perl\nuse feature qw(say);\nuse strict;\nuse warnings;\n\nmy $reply = &lt;STDIN&gt;;\nchomp $reply;\nsay \"Hello $reply\";\ndie \"Child exception\\n\";\n</code></pre>\n\n<p>and output:</p>\n\n<pre><code>$ p.pl child2.pl\nParent sleeping for 1 second..\nSending data to child..\nIPC::Run::pump() returned: TRUE\n$child_in = ''\n$child_out = ''\nParent sleeping for 1 second..\nSending data to child..\nIPC::Run::pump() failed: 'Parent received SIGPIPE. Child is either dead or has closed its input pipe'\nFinishing harness..\nIPC::Run::finish() failed: 'Parent received SIGPIPE. Child is either dead or has closed its input pipe'\n</code></pre>\n\n<p><strong>child3.pl</strong>:</p>\n\n<pre><code>#! /usr/bin/env perl\nuse strict;\nuse warnings;\n\nclose \\*STDIN;\nclose \\*STDOUT;\nclose \\*STDERR;\nsleep 5;\nexit 2;\n</code></pre>\n\n<p>and output:</p>\n\n<pre><code>$ p.pl child3.pl \nParent sleeping for 1 second..\nSending data to child..\nIPC::Run::pump() failed: 'ack Parent received SIGPIPE. Child is either dead or has closed its input pipe'\nFinishing harness..\nIPC::Run::finish() failed: 'Parent received SIGPIPE. Child is either dead or has closed its input pipe'\n</code></pre>\n\n<p>So for these tests, it seems that the <code>SIGPIPE</code> signal can be used to check if a child is a alive or has closed its input pipe. Note that if you try to call <code>pump()</code> after a child has exited, the previous output from the child is lost, see the <code>child2.pl</code> example.</p>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1498556353, "post_id": 44776266, "comment_id": 76534296, "body": "Nice catch of <code>SIGPIPE</code>. I think that was what I was missing :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1498632460, "post_id": 44776266, "comment_id": 76571270, "body": "@H&#229;konH&#230;gland  Right, the <code>SIGPIPE</code> is the show stopper.  But this is still complicated. It may be simpler to check before each call using a combination of <code>result</code> and <code>pumpable</code> (plus <code>SIGPIPE</code> handler)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1498632861, "post_id": 44776266, "comment_id": 76571478, "body": "@AndrzejA.Filip  I updated the answer with a comment on checking directly using <code>result</code> + <code>pumpable</code> (+ <code>SIGPIPE</code> handler). I also edited a few comments for accuracy. I confirmed in my tests that the main approach in the answer does handle all cases, practically as it stands.    Let us know how it works for you. The answer by @H&#229;kon also got updated."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1498674082, "post_id": 44776266, "comment_id": 76600146, "body": "Yes this is indeed complictated and also interesting. So another thing is that if we get SIGPIPE, and the child has turned off autoflush for its STDOUT (see my <code>child2.pl</code> example) the output from the child is simply lost. In this case, I think we also need to conect the child to a pseudo terminal, in order to make it turn on autoflushing again."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1583137326, "last_edit_date": 1583137326, "creation_date": 1498554384, "answer_id": 44776266, "question_id": 44758909, "link": "https://stackoverflow.com/questions/44758909/ipcrun-detection-of-premature-child-exit-and-closed-pipes/44776266#44776266", "title": "IPC::Run - Detection of premature child exit and closed pipes", "body": "<p>The <code>pump</code> throws a <code>die</code> on errors, or writes its message to <code>STDERR</code> if \"<em>called after all harnessed activities have completed</em>.\" See right before <a href=\"http://search.cpan.org/~toddr/IPC-Run-0.96/lib/IPC/Run.pm#ROUTINES\" rel=\"nofollow noreferrer\">ROUTINES</a> section and <code>pump</code> itself. The second case can come about if the child exited. So wrap the <code>pump</code> call in <code>eval</code>, and also convert warnings to <code>die</code> to catch both cases</p>\n\n<pre><code>if ($talk_to_child) \n{\n    eval {\n        local $SIG{__WARN__} = sub { die \"pump WARNING: @_\" };\n        pump $harness;\n    };\n    if ($@) { \n        print $@;\n        $talk_to_child = 0;\n    }; \n}\n# ... and eval {} for finish()\n</code></pre>\n\n<p>But this alone won't cut it: when a parent tries to write to a child that exited it gets a <code>SIGPIPE</code>, which outright terminates the process. The same goes when a child closes streams and the parent attempts to write. So also install a signal handler for <code>SIGPIPE</code></p>\n\n<pre><code>$SIG{PIPE} = sub { \n    say \"$_[0]: $!\";\n    $talk_to_child = 0;  # global\n};\n</code></pre>\n\n<p>so that the parent survives the <code>SIGPIPE</code>. Consider <a href=\"https://perldoc.perl.org/perlsub.html#Temporary-Values-via-local()\" rel=\"nofollow noreferrer\">local</a>-izing the change to the global <a href=\"https://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\">%SIG</a> by doing <code>local $SIG{PIPE} = ...</code> instead, a good practice even just on general principle. On the other hand there's probably nothing wrong with handling a signal that can terminate you out of blue. </p>\n\n<p>The <code>eval</code> is still needed even as <code>$SIG{PIPE}</code> is handled since <code>pump</code> throws, too.</p>\n\n<p>These together take care of all tests I came up with, practically as they stand. Still, some processing in the handler and in <code>eval</code> is needed to distinguish cases of interest if that is wanted.  </p>\n\n<p>If this adds up to too much another way is to check before each call.  See <a href=\"https://stackoverflow.com/a/40662962/4653379\">this post</a> for one-line checks (wrapped in subs) of: (1) whether a child is running, using <code>result</code>, and (2) whether \"<em>there are open I/O channels or active processes</em>\", using <code>pumpable</code>. </p>\n\n<p>I think that you want both, and also throw in the <code>SIGPIPE</code> handler. That should cover it.</p>\n\n<p>I cannot be more specific here since the question doesn't provide specifics.</p>\n"}], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "accepted_answer_id": 44776266, "answer_count": 2, "score": 2, "last_activity_date": 1583137326, "creation_date": 1498477210, "last_edit_date": 1498484339, "question_id": 44758909, "link": "https://stackoverflow.com/questions/44758909/ipcrun-detection-of-premature-child-exit-and-closed-pipes", "title": "IPC::Run - Detection of premature child exit and closed pipes", "body": "<p>I would like to use IPC::Run to communicate with child via child's STDIN, STDOUT and STDERR (start, pump, finish).  It seems to work.</p>\n\n<p>I would like to know how to detect </p>\n\n<ul>\n<li>premature child exit (e.g. caused by errors)</li>\n<li>pipes closed by the child</li>\n</ul>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498477853, "post_id": 44758407, "comment_id": 76498672, "body": "@Borodin, sorry for the misslead, the <code>-</code> should be present only for the first 2 examples"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1498479325, "post_id": 44758407, "comment_id": 76499539, "body": "Another solution is to use a branch reset: <code>&#47;(?|^\\s*\\@\\s*(\\S*)|^\\s*-f\\s*(\\S*))&#47;</code>, but it makes sense when the patterns are completely different and you cannot &quot;contract&quot; them as in Borodin&#39;s answer."}], "answers": [{"comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498478300, "post_id": 44759106, "comment_id": 76498919, "body": "Oh, I assumed it wll store the grouping from both in <code>$1</code>. Thank you for the suggestion, I will use that, because my solution would require additional checks on <code>$1</code> and <code>$2</code>."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498478439, "post_id": 44759106, "comment_id": 76499009, "body": "Do you know where this case is documented?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498478790, "post_id": 44759106, "comment_id": 76499204, "body": "@JohnDoe: Sorry, what case?"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498479165, "post_id": 44759106, "comment_id": 76499426, "body": "The <code>|</code> case. I want to read how the matched strings are captured when using multiple regexes separated with <code>|</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 2, "creation_date": 1498479630, "post_id": 44759106, "comment_id": 76499711, "body": "@JohnDoe: Everything about Perl regexes is documented in <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\"><code>perldoc perlre</code></a>, but you won&#39;t find this mentioned explicitly. It&#39;s not <i>&quot;multiple regexes separated with <code>|</code>&quot;</i> it&#39;s <i>one regex pattern</i>. Captures in a regex are numbered in the order of appearance of their opening parentheses. That is described in <code>perlre</code>, but you won&#39;t find something saying that it doesn&#39;t change the rules if the regex pattern contains an alternation."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1498478812, "last_edit_date": 1498478812, "creation_date": 1498477946, "answer_id": 44759106, "question_id": 44758407, "link": "https://stackoverflow.com/questions/44758407/catch-multiple-patterns/44759106#44759106", "title": "Catch multiple patterns", "body": "<blockquote>\n  <p>Why it matches correctly when the order is switched?</p>\n</blockquote>\n\n<p>This regex </p>\n\n<pre><code>/^\\s*\\@\\s*(\\S*)|^\\s*-f\\s*(\\S*)/\n</code></pre>\n\n<p>will capture into either <code>$1</code> or <code>$2</code> depending on which alternative matched. But you are only ever printing <code>$1</code>, which is <code>undef</code> if it were the second alternative that matched</p>\n\n<p>I suggest you use this instead, which has only one capture and uses an alternation on only the part of the pattern that is variable</p>\n\n<pre><code>/^\\s*(?:\\@|-f)\\s*(\\S*)/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8215977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MTXQa.png?s=128&g=1", "display_name": "RHK", "link": "https://stackoverflow.com/users/8215977/rhk"}, "is_accepted": false, "score": 0, "last_activity_date": 1498487038, "creation_date": 1498487038, "answer_id": 44761952, "question_id": 44758407, "link": "https://stackoverflow.com/questions/44758407/catch-multiple-patterns/44761952#44761952", "title": "Catch multiple patterns", "body": "<p>Another potential problem with your regex is that it will also match</p>\n\n<pre><code>-f -fanother-flag\n-@ -@another-flag\n</code></pre>\n\n<p>That is, <code>\\S*</code> will match any following flag if there is no argument given to the first flag. Better to use <code>\\s*([^-]?\\S*)</code> if argument is optional, or <code>\\s*([^-]\\S*)</code> if mandatory. This still assumes the flag argument cannot begin with hyphen.</p>\n"}], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 44759106, "answer_count": 2, "score": 0, "last_activity_date": 1498487038, "creation_date": 1498475524, "last_edit_date": 1498477827, "question_id": 44758407, "link": "https://stackoverflow.com/questions/44758407/catch-multiple-patterns", "title": "Catch multiple patterns", "body": "<p>I am trying to match a string against multiple patterns and store the captures in an array.</p>\n\n<p>The input can be one of the following:</p>\n\n<pre><code>-fnospacebetween\n   -f textwithspacebefore\n@nospacebetween\n  @ textwithspacebefore\n</code></pre>\n\n<p>The regex should catch the string after <code>-f</code> or <code>@</code>. Spaces are allowed before the <code>-f</code> and <code>@</code>, also between <code>-f</code> or <code>@</code> and the string .<br>\nI thought about using a <code>|</code> splitted regex, but I don't know why it's not catching my input when I use the two regexes in a specific order.<br>\nThe single case scenario, works as expected:</p>\n\n<pre><code>my $text = '@anystring' ;\n\nif( $text =~ /^\\s*\\@\\s*(\\S*)/)\n{\n    print \"\\n $1\";\n}\n\n\n\nmy $text = '-fanystring' ;\n\nif( $text =~ /^\\s*-f\\s*(\\S*)/)\n{\n    print \"\\n $1\";\n}\n</code></pre>\n\n<p>But when I try use the two in one single regex, I get an <code>Use of unitialized...</code> :</p>\n\n<pre><code>my $text = '@anystring' ;\n\nif( $text =~ /^\\s*-f\\s*(\\S*)|^\\s*\\@\\s*(\\S*)/)\n{\n    print \"\\n $1\";\n}\n</code></pre>\n\n<p>But with this variant, it works correctly:</p>\n\n<pre><code>my $text = '@anystring' ;\nif( $text =~ /^\\s*\\@\\s*(\\S*)|^\\s*-f\\s*(\\S*)/)\n{\n    print \"\\n1:  $1\";\n}\n</code></pre>\n\n<p>Why it matches correctly when the order is switched?</p>\n"}, {"tags": ["windows", "perl", "filepath", "relative-path"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1498447178, "post_id": 44752569, "comment_id": 76486429, "body": "Try s/^\\Q$src\\\\//"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1498455052, "post_id": 44752569, "comment_id": 76488041, "body": "<code>$final =~ s&#47;$src&#47;&#47;;</code> instead of <code>$final =~ s&#47;\\$src&#47;&#47;;</code>Remove the slash before the <code>$src</code>;"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1498473693, "last_edit_date": 1498473693, "creation_date": 1498473133, "answer_id": 44757754, "question_id": 44752569, "link": "https://stackoverflow.com/questions/44752569/perl-difference-between-2-paths/44757754#44757754", "title": "Perl difference between 2 paths", "body": "<p>Don't use regex patterns to handle path strings. There are multiple different representations of equivalent paths and the strings may not match. A regex will also pay no attention to path separators, so it will not correct for a trailing separator on the base path and it may match partial path steps like <code>C:\\Users\\Desktop\\Perl\\Ind</code>, leaving <code>ex\\CC\\Login.jsp</code> which is clearly wrong</p>\n\n<p>You need the <code>abs2rel</code> function from <code>File::Spec::Functions</code></p>\n\n<p>Like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse File::Spec::Functions 'abs2rel';\n\nmy $src = 'C:\\Users\\Desktop\\Perl\\Index';\n\nfor ( 'C:\\Users\\Desktop\\Perl\\Index\\CC\\Login.jsp' ) {\n\n    say abs2rel($_, $src);\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>CC\\Login.jsp\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 5580307, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b73a34706a85264d705db5f9b9bd36ab?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik Raju", "link": "https://stackoverflow.com/users/5580307/karthik-raju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 44757754, "answer_count": 1, "score": -1, "last_activity_date": 1498480180, "creation_date": 1498445729, "last_edit_date": 1498480180, "question_id": 44752569, "link": "https://stackoverflow.com/questions/44752569/perl-difference-between-2-paths", "title": "Perl difference between 2 paths", "body": "<p>How to get the difference between 2 paths ?</p>\n\n<p>we've $src variable which is defined with as base path, and we're getting the modified lists into FilesList.txt.</p>\n\n<p>as </p>\n\n<pre><code>$src = \"C:\\\\Users\\\\Desktop\\\\Perl\\\\Index\"\n$_ = \"C:\\Users\\Desktop\\Perl\\Index\\CC\\Login.jsp\";\n</code></pre>\n\n<p>Now, how we can get \"CC\\Login.jsp\" value, i'm using below code, but we're not getting the expected output. Please help.</p>\n\n<pre><code>$src=\"C:\\\\Users\\\\Desktop\\\\Perl\\\\Index\";\nopen IN, \"FilesList.txt\";  \nwhile(&lt;IN&gt;)\n{\n    chomp($_);\n    $final=$_;\n    $final =~ s/\\$src//;\n    print \"\\nSubvalue is ---$final \\n\";\n}\n</code></pre>\n"}, {"tags": ["python", "perl", "search"], "comments": [{"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1498445378, "post_id": 44752507, "comment_id": 76486084, "body": "your goal is to print out characters or digits? Can you give an example of what an input looks like, and expected resulting output?"}, {"owner": {"reputation": 5, "user_id": 6563447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvB4Y.png?s=128&g=1", "display_name": "BBKing", "link": "https://stackoverflow.com/users/6563447/bbking"}, "reply_to_user": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1498446225, "post_id": 44752507, "comment_id": 76486262, "body": "I add an example. Do you mean no matter what&#39;s the text is and the search pattern is, there is a way to use 1 if statement?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1498454639, "post_id": 44752507, "comment_id": 76487940, "body": "That <code>elsif</code> clause will never be entered because <code>\\w</code> includes all of <code>\\d</code>."}, {"owner": {"reputation": 5, "user_id": 6563447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvB4Y.png?s=128&g=1", "display_name": "BBKing", "link": "https://stackoverflow.com/users/6563447/bbking"}, "edited": false, "score": 0, "creation_date": 1498457055, "post_id": 44752507, "comment_id": 76488513, "body": "Thanks ! This is just an example not actually what I write in my code. Is there any beautiful way to describe the same logic with Python."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 6563447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvB4Y.png?s=128&g=1", "display_name": "BBKing", "link": "https://stackoverflow.com/users/6563447/bbking"}, "edited": false, "score": 0, "creation_date": 1498448611, "post_id": 44752829, "comment_id": 76486715, "body": "Thanks! What should I do if I need do different instructors in different branches?"}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "reply_to_user": {"reputation": 5, "user_id": 6563447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvB4Y.png?s=128&g=1", "display_name": "BBKing", "link": "https://stackoverflow.com/users/6563447/bbking"}, "edited": false, "score": 0, "creation_date": 1498487234, "post_id": 44752829, "comment_id": 76504853, "body": "Would you please explain what you mean?"}, {"owner": {"reputation": 5, "user_id": 6563447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvB4Y.png?s=128&g=1", "display_name": "BBKing", "link": "https://stackoverflow.com/users/6563447/bbking"}, "edited": false, "score": 0, "creation_date": 1498551970, "post_id": 44752829, "comment_id": 76531459, "body": "I update the question. I want to do the exactly same thing like Perl. If loop is used we have to use &quot;next&quot; to exit the loop once the word is  matched."}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "reply_to_user": {"reputation": 5, "user_id": 6563447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvB4Y.png?s=128&g=1", "display_name": "BBKing", "link": "https://stackoverflow.com/users/6563447/bbking"}, "edited": false, "score": 0, "creation_date": 1498579408, "post_id": 44752829, "comment_id": 76550671, "body": "Rather than making a significant change to an existing question you should post a new question. If this answer provided a solution to your <i>original</i> question then it should be marked accepted."}, {"owner": {"reputation": 5, "user_id": 6563447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvB4Y.png?s=128&g=1", "display_name": "BBKing", "link": "https://stackoverflow.com/users/6563447/bbking"}, "edited": false, "score": 0, "creation_date": 1498617661, "post_id": 44752829, "comment_id": 76566213, "body": "I wanner to know a equivalent solution not a alternative solution. What I edit just make the problem more clear."}], "tags": [], "owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "is_accepted": false, "score": -1, "last_activity_date": 1498448347, "creation_date": 1498448347, "answer_id": 44752829, "question_id": 44752507, "link": "https://stackoverflow.com/questions/44752507/is-there-a-better-way-to-re-search-a-string-many-times/44752829#44752829", "title": "Is there a better way to re.search a string many times?", "body": "<p>I would say it's not worth the bother for just two regex patterns. Here's a paradigm that works for enough patterns to make the effort worth the while.</p>\n\n<p>Put the regexes in a list. For each string to be examined spin through the list comparing each string against each regex in the list.</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; patterns = [r'(dog)', r'(lion)', r'(rat)', r'(cat)']\n&gt;&gt;&gt; from io import StringIO\n&gt;&gt;&gt; lines = StringIO('''\\\n... dog orangutan bear cat\n... lion rat cat\n... mouse rat beast\n... sealion cow horse''')\n&gt;&gt;&gt; for line in  lines:\n...     print (line)\n...     for pattern in patterns:\n...         m = re.search(pattern, line)\n...         if m:\n...             print(m.groups(0))\n... \ndog orangutan bear cat\n\n('dog',)\n('cat',)\nlion rat cat\n\n('lion',)\n('rat',)\n('cat',)\nmouse rat beast\n\n('rat',)\nsealion cow horse\n('lion',)\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 6563447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvB4Y.png?s=128&g=1", "display_name": "BBKing", "link": "https://stackoverflow.com/users/6563447/bbking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498551816, "creation_date": 1498445123, "last_edit_date": 1498551816, "question_id": 44752507, "link": "https://stackoverflow.com/questions/44752507/is-there-a-better-way-to-re-search-a-string-many-times", "title": "Is there a better way to re.search a string many times?", "body": "<p>Perl Code</p>\n\n<pre><code>while(&lt;file_handle&gt;){\n  if(/if\\s+\\((\\w+)\\)/){\n    $op = 0x10;\n    print \"This is if state!\", $1\uff1b\n  }elsif(/(\\d+)/){\n    push(@number, $1);\n    print \"This is pure number\", $1\uff1b\n  }\n}\n</code></pre>\n\n<p>This is very pretty! But in python:</p>\n\n<pre><code>for line in lines:\n  result = re.search('/if\\s+\\((\\w+)\\)/', line)\n  if result:\n    op = int(\"10\", 16);\n    print \"This is if state!\" + result.group(1)\n  else:\n    result = re.search('/(\\d+)/', line)\n    if result:\n      number.append($1)\n      print result.group(1)\n</code></pre>\n\n<p>Is there a better way to write this part in python?\nI know in this case we can use [\\w|\\d]+ in 1 if statement. But sometimes we have to use several different if statement. </p>\n\n<p>Add some input file example:</p>\n\n<pre><code>move r1, r2;\nif (en){\n  r3 = r5 * r6;\n}\nr10 = 0;\nfor (r7 = 0; r7&lt;10; r7++){\n  r10 = r10 + r7;\n}\n</code></pre>\n"}, {"tags": ["python", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 268334, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1498421881, "post_id": 44750217, "comment_id": 76481447, "body": "What have you done in an attempt solve this? Also, why have you attached so many tags?"}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 1, "creation_date": 1498421882, "post_id": 44750217, "comment_id": 76481448, "body": "Did you... try anything?"}, {"owner": {"reputation": 124, "user_id": 8212985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23092e3bb58ca4992e47fbcb6baf7333?s=128&d=identicon&r=PG&f=1", "display_name": "Andy_Jake", "link": "https://stackoverflow.com/users/8212985/andy-jake"}, "edited": false, "score": 0, "creation_date": 1498421945, "post_id": 44750217, "comment_id": 76481464, "body": "I am new to programming and stack overflow. I have a logic like: read each line of each file, and match it in the remaining files. If you don&#39;t find in any of the files then add it to the merged file."}, {"owner": {"reputation": 2588, "user_id": 3476918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PJURd.png?s=128&g=1", "display_name": "OldGeeksGuide", "link": "https://stackoverflow.com/users/3476918/oldgeeksguide"}, "edited": false, "score": 1, "creation_date": 1498422047, "post_id": 44750217, "comment_id": 76481492, "body": "What are you trying to do exactly?  Is this a homework problem?  Are you trying to learn a programming language?  Is this part of some larger task?  What task?"}, {"owner": {"reputation": 124, "user_id": 8212985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23092e3bb58ca4992e47fbcb6baf7333?s=128&d=identicon&r=PG&f=1", "display_name": "Andy_Jake", "link": "https://stackoverflow.com/users/8212985/andy-jake"}, "edited": false, "score": 0, "creation_date": 1498422299, "post_id": 44750217, "comment_id": 76481561, "body": "I&#39;m stuck in my thought process, what could be an efficient way of doing such tedious task. I&#39;ve read about merge sort, but this is a bit different task. Also, I can&#39;t use commands like &quot;comm&quot; or &quot;sort&quot;. Is there anything precooked on such problems. It&#39;s part of my homework, any utility/tool is ok with me. I just created this problem myself and unfortunately not able to solve it using a computer."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1498422495, "post_id": 44750217, "comment_id": 76481604, "body": "Are lines which have identical content in all files but different line numbers to be included or excluded? Sample looks like excluded. But finding identical lines on always the same line number is much easier than checking whether they are anywhere (nearby). There are tools (some of them for money) doing so and they are not trivial."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1498422649, "post_id": 44750217, "comment_id": 76481645, "body": "Is sorting the input files before processing OK? That would of course change the order of lines in the merged file, too."}, {"owner": {"reputation": 124, "user_id": 8212985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23092e3bb58ca4992e47fbcb6baf7333?s=128&d=identicon&r=PG&f=1", "display_name": "Andy_Jake", "link": "https://stackoverflow.com/users/8212985/andy-jake"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1498422678, "post_id": 44750217, "comment_id": 76481653, "body": "@Yunnosch: No, lines present in all the files (irrespective of their locations) must be excluded. The files are not identical, can have more or less number of lines. Sorting is OK, but lines can contain all possible valid characters."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1498422756, "post_id": 44750217, "comment_id": 76481666, "body": "And is sorting OK?"}, {"owner": {"reputation": 124, "user_id": 8212985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23092e3bb58ca4992e47fbcb6baf7333?s=128&d=identicon&r=PG&f=1", "display_name": "Andy_Jake", "link": "https://stackoverflow.com/users/8212985/andy-jake"}, "edited": false, "score": 0, "creation_date": 1498423370, "post_id": 44750217, "comment_id": 76481797, "body": "yes, sorting is fine."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1498423759, "post_id": 44750217, "comment_id": 76481885, "body": "Do the files have UNIX line endings? Then try how close this gets you: <code>grep -Ff&quot;File1.txt&quot; File2.txt | grep -Ff- File3.txt | grep -Frvf- .</code>"}, {"owner": {"reputation": 124, "user_id": 8212985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23092e3bb58ca4992e47fbcb6baf7333?s=128&d=identicon&r=PG&f=1", "display_name": "Andy_Jake", "link": "https://stackoverflow.com/users/8212985/andy-jake"}, "edited": false, "score": 0, "creation_date": 1498423912, "post_id": 44750217, "comment_id": 76481924, "body": "Close enogh, the output is something like this:  <code>.&#47;File2.txt:ghi 789 .&#47;File3.txt:ghi 789 .&#47;File1.txt:FILE1: .&#47;File1.txt:&lt;abc&gt; 123</code>"}, {"owner": {"reputation": 124, "user_id": 8212985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23092e3bb58ca4992e47fbcb6baf7333?s=128&d=identicon&r=PG&f=1", "display_name": "Andy_Jake", "link": "https://stackoverflow.com/users/8212985/andy-jake"}, "edited": false, "score": 0, "creation_date": 1498424086, "post_id": 44750217, "comment_id": 76481963, "body": "Something like this: <code>&lt;abc&gt; 123 ==&gt; FILE1 ghi 789 ==&gt; FILE2, FILE3</code>  Also, I want to understand how you do it? and how can i extend it to N number of files?"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1498424199, "post_id": 44750217, "comment_id": 76481987, "body": "Forget my grep idea. It is awful for many files. Check out the cool answers, but make the authors explain theme in detail. ;-)"}, {"owner": {"reputation": 124, "user_id": 8212985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23092e3bb58ca4992e47fbcb6baf7333?s=128&d=identicon&r=PG&f=1", "display_name": "Andy_Jake", "link": "https://stackoverflow.com/users/8212985/andy-jake"}, "edited": false, "score": 0, "creation_date": 1498424377, "post_id": 44750217, "comment_id": 76482035, "body": "Thank you so much Yunnosch."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498484888, "post_id": 44750217, "comment_id": 76503266, "body": "Don&#39;t spam multiple language tags."}, {"owner": {"reputation": 124, "user_id": 8212985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23092e3bb58ca4992e47fbcb6baf7333?s=128&d=identicon&r=PG&f=1", "display_name": "Andy_Jake", "link": "https://stackoverflow.com/users/8212985/andy-jake"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498491356, "post_id": 44750217, "comment_id": 76507671, "body": "@Sinan&#220;n&#252;r: I&#39;m new to this platform, my question wasn&#39;t language specific. I figured out that these languages/commands (tagged above) are most appropriate for the question."}], "answers": [{"comments": [{"owner": {"reputation": 124, "user_id": 8212985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23092e3bb58ca4992e47fbcb6baf7333?s=128&d=identicon&r=PG&f=1", "display_name": "Andy_Jake", "link": "https://stackoverflow.com/users/8212985/andy-jake"}, "edited": false, "score": 0, "creation_date": 1498424334, "post_id": 44750504, "comment_id": 76482025, "body": "I don&#39;t see any output or new merged file created."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498425654, "post_id": 44750504, "comment_id": 76482333, "body": "<code>next if $line =~ &#47;^\\s*$&#47;</code> is clearer as <code>next unless $line =~ &#47;\\S&#47;</code>, and it&#39;s even neater if you keep the line in <code>$_</code> and use <code>next unless &#47;\\S&#47;</code> etc."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498458277, "post_id": 44750504, "comment_id": 76488925, "body": "@Borodin Thanks for the comment. I agree it is neater and clearer. But it is still readable (to me at least) as it is, and I am lazy and prefer not to optimize/polish before it is really necessary."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1498459894, "post_id": 44750504, "comment_id": 76489491, "body": "@Yunnosch Thanks for the comment, but I have another approach: The code does not use any <i>&quot;special tricks&quot;</i>. A good programming principle is to avoid excessive comments and try make the code self explanatory when given good variable names and good structure. Then, do only comment things that may not be immediately obvious to a reader."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1498460224, "post_id": 44750504, "comment_id": 76489629, "body": "There is writing maintainable code and there is writing a StackOverflow answer. The audience is different, so should the level of explanation be. Explaining in prose would allow to keep your style of comment-free programming. If you are interested in my style of commenting: I write comments in order to ensure that the most stupid imaginable colleague (still being paid by our common employer) can immediatly understand the code. That most stupid imaginable colleague is me - after a three week holiday."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498472506, "post_id": 44750504, "comment_id": 76495720, "body": "@H&#229;konH&#230;gland: <code>next unless &#47;\\S&#47;</code> is neither optimisation nor polish: it 8s simply easier to write and to read. Ideal for lazy people!"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1498458306, "last_edit_date": 1498458306, "creation_date": 1498423936, "answer_id": 44750504, "question_id": 44750217, "link": "https://stackoverflow.com/questions/44750217/merge-multiple-text-files-over-unique-rows-of-lines/44750504#44750504", "title": "Merge multiple text files over unique rows of lines", "body": "<p>Here is an example in Perl:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy $num_files = 0;\nmy %lines;\nfor my $fn ( &lt;FILE*&gt; ) {\n    open ( my $fh, '&lt;', $fn ) or die \"Could not open file '$fn': $!\";\n    while ( my $line = &lt;$fh&gt; ) {\n        chomp $line;\n        next if $line =~ /^\\s*$/;\n        push @{ $lines{$line} }, $fn;\n    }\n    close $fh;\n    $num_files++;\n}\n\nfor my $line (keys %lines) {\n    my @files = @{ $lines{$line} };\n    if ( @files &lt; $num_files ) {\n        say $line, ' ==&gt; ', join \",\", @files;\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>ghi 789 ==&gt; FILE2,FILE3\n&lt;abc&gt; 123 ==&gt; FILE1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 124, "user_id": 8212985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23092e3bb58ca4992e47fbcb6baf7333?s=128&d=identicon&r=PG&f=1", "display_name": "Andy_Jake", "link": "https://stackoverflow.com/users/8212985/andy-jake"}, "edited": false, "score": 0, "creation_date": 1498424260, "post_id": 44750519, "comment_id": 76482003, "body": "OMG.  :) Although, it outputs on the console. How you do it I want to know.  <code>&lt;abc&gt; 123 ==&gt; File1.txt ghi 789 ==&gt; File2.txt,File3.txt</code>  Also, I&#39;ll update the code find a merged file"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498424586, "post_id": 44750519, "comment_id": 76482093, "body": "It would be much more helpful if you laid out your code tidily. This isn&#39;t a golfing competition."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 1, "creation_date": 1498424624, "post_id": 44750519, "comment_id": 76482104, "body": "Cool code. But without explanation not a good StackOverflow answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 1, "creation_date": 1498425234, "post_id": 44750519, "comment_id": 76482232, "body": "@Yunnosch: It is not &quot;cool&quot; to post obfuscated code in an effort to impress people."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498425280, "post_id": 44750519, "comment_id": 76482247, "body": "This solution doesn&#39;t correctly handle lines that appear multiple times in one file."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498425424, "post_id": 44750519, "comment_id": 76482277, "body": "@Borodin I totally agree. That is actually what I wanted to express. &quot;Cool&quot; is not helpful. My comment also was kind of obfuscated. My bad."}, {"owner": {"reputation": 124, "user_id": 8212985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23092e3bb58ca4992e47fbcb6baf7333?s=128&d=identicon&r=PG&f=1", "display_name": "Andy_Jake", "link": "https://stackoverflow.com/users/8212985/andy-jake"}, "edited": false, "score": 0, "creation_date": 1498425467, "post_id": 44750519, "comment_id": 76482289, "body": "@all: Thanks for the efforts. But teach me something as well through explanations. I want to learn as well."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1498425531, "post_id": 44750519, "comment_id": 76482307, "body": "@Yunnosch: I&#39;ve reformatted it and added a readable version which shows that it&#39;s not so clever after all."}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1498426592, "post_id": 44750519, "comment_id": 76482523, "body": "&quot;This solution doesn&#39;t correctly handle lines that appear multiple times in one file&quot;. I think it does. (Dont be confused by ++, its not about counting, just about registering existence)  And I cannot see anything in the original post about how to handle lines that appear multiple times in one file."}, {"owner": {"reputation": 124, "user_id": 8212985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23092e3bb58ca4992e47fbcb6baf7333?s=128&d=identicon&r=PG&f=1", "display_name": "Andy_Jake", "link": "https://stackoverflow.com/users/8212985/andy-jake"}, "edited": false, "score": 1, "creation_date": 1498429303, "post_id": 44750519, "comment_id": 76483190, "body": "It works fine with my file(X).txt(s) mentioned above and even if I copy a line multiple times in a file it excludes it only if that is present in all the files."}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1498430602, "post_id": 44750519, "comment_id": 76483484, "body": "Some explanation, but I don&#39;t think this code to be so complex that it deserves this much commentary, just reading the perl code should be enough here: The while(&lt;&gt;) loops through all lines in all files on the command line. The $ARGV variable contains the current file name. The %file hash is used to find the number of files. The %line hash (it&#39;s really a hash of hashes) registers which files a line exists in. The for loops through all unique lines. The @f inside is a list of the files that the current line exists in. If that number of files is less than all the files, those will be printed."}], "tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1498426305, "last_edit_date": 1592644375, "creation_date": 1498424011, "answer_id": 44750519, "question_id": 44750217, "link": "https://stackoverflow.com/questions/44750217/merge-multiple-text-files-over-unique-rows-of-lines/44750519#44750519", "title": "Merge multiple text files over unique rows of lines", "body": "<p>merge.pl</p>\n<pre><code>my(%file,%line,@f);\nchomp, ++$file{$ARGV}, ++$line{$_}{$ARGV} while &lt;&gt;;\n(@f=keys(%{$line{$_}}))==keys(%file) or print &quot;$_ ==&gt; &quot;.join(&quot;,&quot;,sort@f).&quot;\\n&quot;\n    for sort keys %line;\n</code></pre>\n<p>Then run:</p>\n<pre><code>perl merge.pl dir/FILE*\n</code></pre>\n<br/>\n<hr />\n<h3>Restyled Perl code</h3>\n<pre><code>my (%file, %line);\n\nwhile ( &lt;&gt; ) {\n    chomp;\n    ++$file{$ARGV};\n    ++$line{$_}{$ARGV};\n}\n\nfor my $key ( sort keys %line ) {\n\n    my @f = keys %{ $line{$key} };\n    \n    if ( @f &lt; keys %file ) {\n        print &quot;$_ ==&gt; &quot;, join(&quot;,&quot;, sort @f), &quot;\\n&quot;;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1498436180, "creation_date": 1498436180, "answer_id": 44751732, "question_id": 44750217, "link": "https://stackoverflow.com/questions/44750217/merge-multiple-text-files-over-unique-rows-of-lines/44751732#44751732", "title": "Merge multiple text files over unique rows of lines", "body": "<p>With GNU awk for true multi-dimensional arrays and ARGIND:</p>\n\n<pre><code>$ cat tst.awk\n{ lines[$0][FILENAME] }\nEND {\n    for (line in lines) {\n        if ( length(lines[line]) != ARGIND ) {\n            printf \"%s ==&gt; \", line\n            c = 0\n            for (file in lines[line]) {\n                printf \"%s%s\", (c++ ? \", \" : \"\"), file\n            }\n            print \"\"\n        }\n    }\n}\n\n$ awk -f tst.awk file1 file2 file3\nghi 789 ==&gt; file2, file3\n&lt;abc&gt; 123 ==&gt; file1\n</code></pre>\n"}], "owner": {"reputation": 124, "user_id": 8212985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23092e3bb58ca4992e47fbcb6baf7333?s=128&d=identicon&r=PG&f=1", "display_name": "Andy_Jake", "link": "https://stackoverflow.com/users/8212985/andy-jake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 44750519, "answer_count": 3, "score": -3, "last_activity_date": 1498458306, "creation_date": 1498421707, "last_edit_date": 1498422967, "question_id": 44750217, "link": "https://stackoverflow.com/questions/44750217/merge-multiple-text-files-over-unique-rows-of-lines", "title": "Merge multiple text files over unique rows of lines", "body": "<p>I have several files in a folder containing text (alphabet, numbers, symbol, etc.). I want to find the lines that are not present in all the files i.e. if a line is present in all the text files, it must be excluded. If a line is present in only 1 or at max N-1 files then it must be included in the merged file with the name of all the files where it is present.</p>\n\n<p>PS: The files are not identical, can have more or less number of lines. Lines present in all the files (irrespective of their locations) must be excluded. </p>\n\n<p>So, as an example:</p>\n\n<pre><code>FILE1:\n&lt;abc&gt; 123\n$def 456$\n\nFILE2:\n$def 456$\nghi 789\n\nFILE3:\n$def 456$\nghi 789\n</code></pre>\n\n<p>.\n.\n.</p>\n\n<pre><code>MERGED FILE:\n&lt;abc&gt; 123 ==&gt; FILE1\nghi 789 ==&gt; FILE2, FILE3\n</code></pre>\n"}, {"tags": ["python", "perl", "sorting"], "comments": [{"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1498419744, "post_id": 44749903, "comment_id": 76480802, "body": "You don&#39;t need it in Python, just supply an appropriate <code>key</code> function to sorting functions"}, {"owner": {"reputation": 268334, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1498419938, "post_id": 44749903, "comment_id": 76480859, "body": "Read this: <a href=\"http://effbot.org/pyfaq/i-want-to-do-a-complicated-sort-can-you-do-a-schwartzian-transform-in-python.htm\" rel=\"nofollow noreferrer\">effbot.org/pyfaq/&hellip;</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498424214, "post_id": 44749903, "comment_id": 76481991, "body": "You probably don&#39;t need it in Perl either. Most times I have seen a transform used it was to make the author feel clever. Always profile your code before optimising it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1498446309, "post_id": 44749903, "comment_id": 76486278, "body": "Perl: Or use the Sort::Key family of modules to get a simple interface."}], "answers": [{"comments": [{"owner": {"reputation": 10395, "user_id": 275088, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b931a4a3164d36350c78dd67ed8a9f99?s=128&d=identicon&r=PG", "display_name": "planetp", "link": "https://stackoverflow.com/users/275088/planetp"}, "edited": false, "score": 0, "creation_date": 1498420309, "post_id": 44749939, "comment_id": 76480951, "body": "I see in the docs the the function is called once per element. Does that mean that python uses additional data structure to map the keys to the results of the  function?"}, {"owner": {"reputation": 42840, "user_id": 17875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9589a0b8efc6bb869bedfa51e7d28f16?s=128&d=identicon&r=PG", "display_name": "Eevee", "link": "https://stackoverflow.com/users/17875/eevee"}, "reply_to_user": {"reputation": 10395, "user_id": 275088, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b931a4a3164d36350c78dd67ed8a9f99?s=128&d=identicon&r=PG", "display_name": "planetp", "link": "https://stackoverflow.com/users/275088/planetp"}, "edited": false, "score": 0, "creation_date": 1498420431, "post_id": 44749939, "comment_id": 76481000, "body": "@planetp it would have to, yes, though the exact details are irrelevant to python-land  :)  i believe it&#39;s just a temporary parallel c array"}, {"owner": {"reputation": 42840, "user_id": 17875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9589a0b8efc6bb869bedfa51e7d28f16?s=128&d=identicon&r=PG", "display_name": "Eevee", "link": "https://stackoverflow.com/users/17875/eevee"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1498491321, "post_id": 44749939, "comment_id": 76507646, "body": "@ikegami &quot;The key corresponding to each item in the list is calculated once and then used for the entire sorting process.&quot;"}], "tags": [], "owner": {"reputation": 42840, "user_id": 17875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9589a0b8efc6bb869bedfa51e7d28f16?s=128&d=identicon&r=PG", "display_name": "Eevee", "link": "https://stackoverflow.com/users/17875/eevee"}, "is_accepted": true, "score": 4, "last_activity_date": 1498419848, "creation_date": 1498419848, "answer_id": 44749939, "question_id": 44749903, "link": "https://stackoverflow.com/questions/44749903/how-do-i-implement-a-schwartzian-transform-in-python/44749939#44749939", "title": "How do I implement a Schwartzian Transform in Python?", "body": "<p>You don't need to.  Python has this feature built in, and in fact Python 3 <em>removed</em> C-style custom comparisons because this is so much better in the vast majority of cases.</p>\n\n<p>To sort by word length:</p>\n\n<pre><code>unsorted.sort(key=lambda item: len(item))\n</code></pre>\n\n<p>Or, because <code>len</code> is already an unary function:</p>\n\n<pre><code>unsorted.sort(key=len)\n</code></pre>\n\n<p>This also works with the built-in <code>sorted</code> function.</p>\n\n<p>If you want to sort on multiple criteria, you can take advantage of the fact that tuples sort lexicographically:</p>\n\n<pre><code># sort by word length, then alphabetically in case of a tie\nunsorted.sort(key=lambda item: (len(item), item)))\n</code></pre>\n"}], "owner": {"reputation": 10395, "user_id": 275088, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b931a4a3164d36350c78dd67ed8a9f99?s=128&d=identicon&r=PG", "display_name": "planetp", "link": "https://stackoverflow.com/users/275088/planetp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 1, "accepted_answer_id": 44749939, "answer_count": 1, "score": 4, "last_activity_date": 1498504950, "creation_date": 1498419608, "last_edit_date": 1498504950, "question_id": 44749903, "link": "https://stackoverflow.com/questions/44749903/how-do-i-implement-a-schwartzian-transform-in-python", "title": "How do I implement a Schwartzian Transform in Python?", "body": "<p>In Perl I sometimes use the <a href=\"https://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"nofollow noreferrer\">Schwartzian Transform</a> to efficiently sort complex arrays:</p>\n\n<pre><code>@sorted = map  { $_-&gt;[0] }  # sort by word length\n          sort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] } # use numeric comparison\n          map  { [$_, length($_)] }    # calculate the length of the string\n               @unsorted;\n</code></pre>\n\n<p>How to implement this transform in Python?</p>\n"}, {"tags": ["html", "perl", "perl-module", "perlscript"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498398644, "post_id": 44745424, "comment_id": 76474852, "body": "See <a href=\"https://metacpan.org/pod/Template\" rel=\"nofollow noreferrer\">Template-Toolkit</a>."}, {"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1507511098, "post_id": 44745424, "comment_id": 80224272, "body": "The &quot;original&quot; page you link to has been removed."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 7809033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577dda109b7f772b5590576b443ca70b?s=128&d=identicon&r=PG&f=1", "display_name": "BeastLesnar", "link": "https://stackoverflow.com/users/7809033/beastlesnar"}, "edited": false, "score": 0, "creation_date": 1498387480, "post_id": 44745485, "comment_id": 76471996, "body": "Yes the script is working in the browser.I am getting the desired text in the browser.Now what i want is to call this script inside the index.html so that index webpage gets the desired text along with other stuffs"}, {"owner": {"reputation": 748, "user_id": 243892, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/e2dbb03514186dd1ddeb174e64306855?s=128&d=identicon&r=PG", "display_name": "chocksaway", "link": "https://stackoverflow.com/users/243892/chocksaway"}, "reply_to_user": {"reputation": 71, "user_id": 7809033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577dda109b7f772b5590576b443ca70b?s=128&d=identicon&r=PG&f=1", "display_name": "BeastLesnar", "link": "https://stackoverflow.com/users/7809033/beastlesnar"}, "edited": false, "score": 0, "creation_date": 1498467975, "post_id": 44745485, "comment_id": 76493247, "body": "You can make a call with ajax, and JQuery.  This will allow you to make a call to your Perl CGI.  This makes a call to a weather API.  <a href=\"https://gist.github.com/npearson72/4102982\" rel=\"nofollow noreferrer\">gist.github.com/npearson72/4102982</a>  which &#39;does&#39; what I am describing."}, {"owner": {"reputation": 748, "user_id": 243892, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/e2dbb03514186dd1ddeb174e64306855?s=128&d=identicon&r=PG", "display_name": "chocksaway", "link": "https://stackoverflow.com/users/243892/chocksaway"}, "reply_to_user": {"reputation": 71, "user_id": 7809033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577dda109b7f772b5590576b443ca70b?s=128&d=identicon&r=PG&f=1", "display_name": "BeastLesnar", "link": "https://stackoverflow.com/users/7809033/beastlesnar"}, "edited": false, "score": 0, "creation_date": 1498494465, "post_id": 44745485, "comment_id": 76509639, "body": "I have updated the answer, with a practical example, which shows you how to use some Javascript / JQuery to load the contents of your CGI into a &quot;div&quot;."}], "tags": [], "owner": {"reputation": 748, "user_id": 243892, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/e2dbb03514186dd1ddeb174e64306855?s=128&d=identicon&r=PG", "display_name": "chocksaway", "link": "https://stackoverflow.com/users/243892/chocksaway"}, "is_accepted": true, "score": -1, "last_activity_date": 1498494385, "last_edit_date": 1498494385, "creation_date": 1498386940, "answer_id": 44745485, "question_id": 44745424, "link": "https://stackoverflow.com/questions/44745424/how-to-call-a-perl-script-in-html/44745485#44745485", "title": "How to call a perl script in html", "body": "<p>I am editing my answer as I now understand what you are trying to do.  I have set up a simple example which will load the content from \"another website\" - <strong>which for you</strong> will be your Perl CGI.  </p>\n\n<p>This HTML uses some simple JQuery.  I am loading the following HTML page, <a href=\"http://chocksaway.com/tester.html\" rel=\"nofollow noreferrer\">http://chocksaway.com/tester.html</a> and copying the contents into the \"test\" div:</p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Loader&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=\"test\"&gt;&lt;/div&gt;\n            &lt;script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-1.9.1.min.js\"&gt;&lt;/script&gt;\n            &lt;script type=\"text/javascript\"&gt;\n                $(document).ready(function() {\n                    $('#test').load('http://chocksaway.com/tester.html');\n                });\n            &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><a href=\"http://chocksaway.com/tester.html\" rel=\"nofollow noreferrer\">http://chocksaway.com/tester.html</a> has the following HTML:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;header&gt;&lt;/header&gt;\n    &lt;body&gt; \n        this is a test so there\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>If you open you <a href=\"http://chocksaway.com/tester2.html\" rel=\"nofollow noreferrer\">http://chocksaway.com/tester2.html</a>, you will see:</p>\n\n<pre><code>this is a test so there\n</code></pre>\n\n<p>Replace \"<a href=\"http://chocksaway.com/tester2.html\" rel=\"nofollow noreferrer\">http://chocksaway.com/tester2.html</a>\" with the <em>URL of your Perl CGI</em>.</p>\n"}], "owner": {"reputation": 71, "user_id": 7809033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577dda109b7f772b5590576b443ca70b?s=128&d=identicon&r=PG&f=1", "display_name": "BeastLesnar", "link": "https://stackoverflow.com/users/7809033/beastlesnar"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2286, "favorite_count": 0, "closed_date": 1498394266, "accepted_answer_id": 44745485, "answer_count": 1, "score": -1, "last_activity_date": 1498494385, "creation_date": 1498386316, "question_id": 44745424, "link": "https://stackoverflow.com/questions/44745424/how-to-call-a-perl-script-in-html", "closed_reason": "Duplicate", "title": "How to call a perl script in html", "body": "<p>How to call a perl script which is returning data \"text\" type inside a html file.Posting the perl script for reference.This script has to be called in the index.html so how to do that</p>\n\n<pre><code>#!/usr/bin/perl -w  \n\nuse CGI;  \n\nmy $cgi = CGI-&gt;new;  \nmy $remote = $cgi-&gt;remote_host();  \n\nmy $AB = \"16.108\";  \nmy $CD = \"16.214\";  \nmy $EF = \"10.99\";  \nmy $GH = \"10.243\";  \nmy $XY = \"10.179\";  \n\nmy @remote_ip_values = split(/\\./, $remote);  \n\nmy $remote_ip = $remote_ip_values[0] .\".\". $remote_ip_values[1];  \n\nprint \"Content-type: text/html\\n\\n\";  \nprint \"document.write(\\\"&lt;style&gt;\\\\n\\\");\\n\";  \nprint \"document.write(\\\"font color:red;\\\\n\\\");\\n\";  \n\n\nif ($remote_ip eq $AB)  \n{  \nprint \"document.write(\\\"SUCCESSFUL\\\");\\n\";  \n\n}  \n else  \n{  \nprint \"document.write(\\\"TEST\\\");\\n\";  \n}  \nexit;  \n</code></pre>\n"}, {"tags": ["json", "perl", "parsing"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498398736, "post_id": 44741833, "comment_id": 76474883, "body": "Do you realise that your question has nothing to do with JSON? JSON is just a way of serialising complex data so that can be stored or sent to another program. The only action you should be performing on a JSON string is parsing it to recreate the data structure."}], "answers": [{"tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": false, "score": 4, "last_activity_date": 1498347187, "creation_date": 1498347187, "answer_id": 44741876, "question_id": 44741833, "link": "https://stackoverflow.com/questions/44741833/add-value-into-json-with-perl/44741876#44741876", "title": "Add value into JSON with PERL", "body": "<pre><code>$perl_data{\"form$num\"}{filed1}{key} = $value;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8210482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a65ab5bcc6e9d798d7a0dffc66cf6d96?s=128&d=identicon&r=PG&f=1", "display_name": "Marcus Mumford", "link": "https://stackoverflow.com/users/8210482/marcus-mumford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498347187, "creation_date": 1498346607, "question_id": 44741833, "link": "https://stackoverflow.com/questions/44741833/add-value-into-json-with-perl", "title": "Add value into JSON with PERL", "body": "<p>I create my json with PERL:</p>\n\n<pre><code>$perl_data{form . $num}{filed1} = {name_field =&gt; $name, type =&gt; $type, length =&gt; $max};\n</code></pre>\n\n<p>The result is this: </p>\n\n<pre><code>{\n   \"form1\" : {\n      \"codifica\" : \"multipart/form-data\",\n      \"filed0\" : {\n         \"name_field\" : \"nome\",\n         \"type\" : \"TEXT\",\n         \"length\" : \"\"\n      },\n      \"action\" : \"nulla.php\",\n      \"filed1\" : {\n         \"name_field\" : \"cognome\",\n         \"valore\" : \"mamma\",\n         \"type\" : \"TEXT\",\n         \"length\" : \"100\"\n      },\n      \"metodo\" : \"GET\"\n   }\n}\n</code></pre>\n\n<p>If I want to add further data to JSON at <code>$perl_data{form . $num}{filed1}</code>  at a later date, how can I do that?</p>\n\n<p>For example:</p>\n\n<pre><code>$perl_data{form . $num}{filed1} = {name_field =&gt; $name, type =&gt; $type, length =&gt; $max};\n..code..\n..code..\n..code..\n??? how i can add \"key =&gt; $value\" into $perl_data{form . $num}{filed1}?\n</code></pre>\n\n<p>Thank's!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498331581, "post_id": 44739717, "comment_id": 76461334, "body": "Okay, you&#39;ve shown your starting point, but you haven&#39;t shown what you&#39;ve tried to convert it. Do you understand what K-fold cross-validation is? Do you know what you want your program to produce?"}, {"owner": {"reputation": 682, "user_id": 5585502, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cb140b447b19caac8f9228911a618288?s=128&d=identicon&r=PG&f=1", "display_name": "Lamda", "link": "https://stackoverflow.com/users/5585502/lamda"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498332625, "post_id": 44739717, "comment_id": 76461623, "body": "I added my attempt, and how i want it to be."}], "answers": [{"comments": [{"owner": {"reputation": 682, "user_id": 5585502, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cb140b447b19caac8f9228911a618288?s=128&d=identicon&r=PG&f=1", "display_name": "Lamda", "link": "https://stackoverflow.com/users/5585502/lamda"}, "edited": false, "score": 0, "creation_date": 1498332674, "post_id": 44740079, "comment_id": 76461639, "body": "I am sorry, its a bit hard understand your code..  could you clarify a bit?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 682, "user_id": 5585502, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cb140b447b19caac8f9228911a618288?s=128&d=identicon&r=PG&f=1", "display_name": "Lamda", "link": "https://stackoverflow.com/users/5585502/lamda"}, "edited": false, "score": 0, "creation_date": 1498333098, "post_id": 44740079, "comment_id": 76461753, "body": "I believe you want lines 1, n+1, 2n+1, ... in one file; lines 2, n+2, 2n+2, ... in another; etc"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1498361000, "last_edit_date": 1498361000, "creation_date": 1498331857, "answer_id": 44740079, "question_id": 44739717, "link": "https://stackoverflow.com/questions/44739717/divide-full-list-to-k-fold-training-and-testing-set/44740079#44740079", "title": "Divide full list to k fold training and testing set?", "body": "<p>I believe you want lines 1, n+1, 2n+1, ... in one file; lines 2, n+2, 2n+2, ... in another; etc.</p>\n\n<pre><code>my @out_fhs;\nfor my $i (1..$n) {\n   my $out_qfn = sprintf(\"file%03d\", $i);\n   open(my $out_fh, '&gt;', $out_qfn)\n      or die(\"Can't create \\\"$out_qfn\\\": $!\\n\");\n\n   push @out_fhs, $out_fh;\n}\n\nmy $in_qfn = '...';\nopen(my $in_fh, '&lt;', $in_qfn)\n   or die(\"Can't create \\\"$in_qfn\\\": $!\\n\");\n\nmy $i = 0;\nwhile (&lt;$in_fh&gt;) {\n   print { $out_fhs[ $i++ % @fhs ] } $_;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 682, "user_id": 5585502, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cb140b447b19caac8f9228911a618288?s=128&d=identicon&r=PG&f=1", "display_name": "Lamda", "link": "https://stackoverflow.com/users/5585502/lamda"}, "is_accepted": true, "score": 0, "last_activity_date": 1499122335, "creation_date": 1499122335, "answer_id": 44894733, "question_id": 44739717, "link": "https://stackoverflow.com/questions/44739717/divide-full-list-to-k-fold-training-and-testing-set/44894733#44894733", "title": "Divide full list to k fold training and testing set?", "body": "<p>the solution i ended up using was: </p>\n\n<pre><code>/* cook your code below */\nk=5\nfor (( j=1; j&lt;k; j++ ))\ndo\n    for (( i=1; i&lt;k; i++ ))\n    do\n\n        if [ $i == $j ] &amp;&amp; [ $j == $((k-1)) ]\n        then\n            s+=\"1\"\n            #echo \"1\"\n        elif [ $i == $j ] \n        then \n            s+=\"1_\"\n            #echo \"1\"\n        elif [ $i == $((k-1)) ]\n        then \n            s+=\"0\"\n            #echo \"0\"\n        else\n            s+=\"0_\"\n            #echo \"0_\"\n        fi  \n    done\n    echo $s\n    s=\"\"\ndone\n</code></pre>\n"}], "owner": {"reputation": 682, "user_id": 5585502, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cb140b447b19caac8f9228911a618288?s=128&d=identicon&r=PG&f=1", "display_name": "Lamda", "link": "https://stackoverflow.com/users/5585502/lamda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 44894733, "answer_count": 2, "score": 0, "last_activity_date": 1499122335, "creation_date": 1498329262, "last_edit_date": 1498332602, "question_id": 44739717, "link": "https://stackoverflow.com/questions/44739717/divide-full-list-to-k-fold-training-and-testing-set", "title": "Divide full list to k fold training and testing set?", "body": "<p>I currently have a perl script which takes a full file list, and evenly divides the list into a train and test set. I now wants to do k-fold cross validation for which i need to perl script to be adjusted to do so. </p>\n\n<p>But I seem to have a hard time coming up with an simple solution, given the current implementation. </p>\n\n<pre><code>#!/usr/bin/env perl\n\n$full_list = $ARGV[0];\n$test_list = $ARGV[1];\n$train_list = $ARGV[2];\n\nopen FL, $full_list;\n$nol = 0;\nwhile ($l = &lt;FL&gt;)\n{\n    $nol++;\n}\nclose FL;\n\n$i = 0;\nopen FL, $full_list;\nopen TESTLIST, \"&gt;$test_list\";\nopen TRAINLIST, \"&gt;$train_list\";\nwhile ($l = &lt;FL&gt;)\n{\n    chomp($l);\n    $i++;\n    if ($i &lt;= $nol/2 )\n    {\n        print TRAINLIST \"$l\\n\";\n    }\n    else\n    {\n        print TESTLIST \"$l\\n\";\n    }\n}\n</code></pre>\n\n<p>My simple attempt of making it possible to create a k folds is by introducing two new input parameters being <code>part</code> as <code>argv[4]</code> and <code>k</code> <code>argv[3]</code>.  So a part of <code>$nol</code> is used to generate the test set and the rest will be the train set. </p>\n\n<pre><code>#!/usr/bin/env perl\n\n$full_list = $ARGV[0];\n$test_list = $ARGV[1];\n$train_list = $ARGV[2];\n$k = $ARGV[3]\n$part_index_end = $ARGV[4]\n$part_index_start = $ARGV[4]-1\n\n\nprint \"Hi\";\n\nopen FL, $full_list;\n$nol = 0;\nwhile ($l = &lt;FL&gt;)\n{\n    $nol++;\n}\nclose FL;\n\n$i = 0;\nopen FL, $full_list;\nopen TESTLIST, \"&gt;$test_list\";\nopen TRAINLIST, \"&gt;$train_list\";\nwhile ($l = &lt;FL&gt;)\n{\n    chomp($l);\n    $i++;\n    if ($i &lt;= ($nol/$k)*$part_index_end $$ $i =&gt; ($nol/$k)*$part_index_end )\n    {\n        print TESTLIST \"$l\\n\";\n    }\n    else\n    {\n        print TRAINLIST \"$l\\n\";\n    }\n}\n</code></pre>\n\n<p>This though requires an other script that call this script with increasing part parameter, such that they also are placed correctly, and don't overwrite the same file.  </p>\n\n<p>The outcome of the script should be 3 sets of train/test list. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1498319678, "post_id": 44737871, "comment_id": 76457886, "body": "Now you have to run <code>cpan Module::Build</code> before running <code>.&#47;Build.PL</code>"}, {"owner": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1498320119, "post_id": 44737871, "comment_id": 76458026, "body": "OK. It is now downloading. It also need root permission. I will come back later."}, {"owner": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1498320263, "post_id": 44737871, "comment_id": 76458072, "body": "What is the procedure to delete all temp files if I want to retry from scratch?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1498320265, "post_id": 44737871, "comment_id": 76458074, "body": "You need root because you&#39;re using the system Perl. That&#39;s a whole different conversation. I&#39;m glad you&#39;re at least up and rolling. It&#39;s not advisable to muck with the system Perl; many people use <a href=\"http://perlbrew.pl\" rel=\"nofollow noreferrer\">Perlbrew</a>."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1498320302, "post_id": 44737871, "comment_id": 76458086, "body": "Delete your configuration file you mean? Just <code>rm &#47;home&#47;mahmood&#47;.cpan&#47;CPAN&#47;MyConfig.pm</code>."}], "answers": [{"comments": [{"owner": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "edited": false, "score": 0, "creation_date": 1498318328, "post_id": 44738001, "comment_id": 76457529, "body": "As I saw the interactive package installation was bothering, I pressed ctrl+c. Now, when I run <code>cpan</code>, it says <code>Sorry, we have to rerun the configuration dialog for CPAN.pm due to some missing parameters...</code>. So it asks again for &lt;cpan_home&gt; and other things. So I can not enter ` o cpan ...`"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "edited": false, "score": 0, "creation_date": 1498318410, "post_id": 44738001, "comment_id": 76457553, "body": "@mahmood Just go through the configuration. The defaults are very sane, so on your first pass, just use all the defaults, and go from there."}, {"owner": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "edited": false, "score": 0, "creation_date": 1498318654, "post_id": 44738001, "comment_id": 76457617, "body": "I trapped in the same place as before. It asks about mirror url. Please see the updated post. Do you mean I have to finish that interactive package installation once for all?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "edited": false, "score": 0, "creation_date": 1498318706, "post_id": 44738001, "comment_id": 76457628, "body": "Just skip that section (hit <code>ENTER</code>). It&#39;s asking for <i>additional</i> mirrors. You usually don&#39;t need any."}, {"owner": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "edited": false, "score": 0, "creation_date": 1498319220, "post_id": 44738001, "comment_id": 76457760, "body": "If you mean <code>Please enter the URL of your CPAN mirror</code>, I pressed enter which results in bringing up that message again. As you can see in the full output, after asking whether is are ftp/http proxies or not, it asks for mirror url"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1498319758, "last_edit_date": 1498319758, "creation_date": 1498318173, "answer_id": 44738001, "question_id": 44737871, "link": "https://stackoverflow.com/questions/44737871/module-build-pm-can-not-be-located-for-perl/44738001#44738001", "title": "Module/Build.pm can not be located for perl", "body": "<p>Now that you've got <code>cpan</code> configured, you can change the configuration to bypass asking you to install each dependency.</p>\n\n<p>On the command line (note the <code>o</code> characters are literal... they are not points):</p>\n\n<pre><code>cpan\no conf build_requires_install_policy yes\no conf prerequisites_policy follow\no conf commit\n</code></pre>\n\n<p>To see a description of each item before entering your response manually:</p>\n\n<pre><code>cpan\n\no conf init build_requires_install_policy\n\nWhen a module declares another one as a 'build_requires' prerequisite\nthis means that the other module is only needed for building or\ntesting the module but need not be installed permanently. In this case\nyou may wish to install that other module nonetheless or just keep it\nin the 'build_dir' directory to have it available only temporarily.\nInstalling saves time on future installations but makes the perl\ninstallation bigger.\n\nYou can choose if you want to always install (yes), never install (no)\nor be always asked. In the latter case you can set the default answer\nfor the question to yes (ask/yes) or no (ask/no).\n\n &lt;build_requires_install_policy&gt;\nPolicy on installing 'build_requires' modules (yes, no, ask/yes,\nask/no)? [yes] \n\n\no conf init prerequisites_policy\n\nThe CPAN module can detect when a module which you are trying to build\ndepends on prerequisites. If this happens, it can build the\nprerequisites for you automatically ('follow'), ask you for\nconfirmation ('ask'), or just ignore them ('ignore').  Choosing\n'follow' also sets PERL_AUTOINSTALL and PERL_EXTUTILS_AUTOINSTALL for\n\"--defaultdeps\" if not already set.\n\nPlease set your policy to one of the three values.\n\n &lt;prerequisites_policy&gt;\nPolicy on building prerequisites (follow, ask or ignore)? [follow] \n</code></pre>\n\n<p>After you've set them, don't forget to do a:</p>\n\n<pre><code>o conf commit\n</code></pre>\n\n<p>...to save your changes.</p>\n\n<p>Now run:</p>\n\n<pre><code>cpan Module::Build\n</code></pre>\n\n<p>...and finally, run your build script:</p>\n\n<pre><code>./Build.PL\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "edited": false, "score": 0, "creation_date": 1498471629, "post_id": 44747617, "comment_id": 76495257, "body": "OK. That was good. Thanks. But not all packages are there in repository :( I am struggling with others!"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 5, "last_activity_date": 1498402942, "creation_date": 1498402942, "answer_id": 44747617, "question_id": 44737871, "link": "https://stackoverflow.com/questions/44737871/module-build-pm-can-not-be-located-for-perl/44747617#44747617", "title": "Module/Build.pm can not be located for perl", "body": "<p>If you want to install Module::Build into your system libraries, then it's probably far easier to use the pre-built package that is almost certainly available for your system.</p>\n\n<p>If you're using a RedHat-like Linux distribution, try:</p>\n\n<pre><code>$ sudo yum install perl-Module-Build\n</code></pre>\n\n<p>(Try <code>dnf</code> instead of <code>yum</code> on newer versions of Fedora.)</p>\n\n<p>If you're using a Debian-like Linux distribution, try:</p>\n\n<pre><code>$ sudo apt-get install libmodule-build-perl\n</code></pre>\n"}], "owner": {"reputation": 18934, "user_id": 859227, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2fd61c62e97e72a9dc6b0b58d60a3da1?s=128&d=identicon&r=PG", "display_name": "mahmood", "link": "https://stackoverflow.com/users/859227/mahmood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2658, "favorite_count": 1, "accepted_answer_id": 44747617, "answer_count": 2, "score": 3, "last_activity_date": 1498402942, "creation_date": 1498317232, "last_edit_date": 1498319608, "question_id": 44737871, "link": "https://stackoverflow.com/questions/44737871/module-build-pm-can-not-be-located-for-perl", "title": "Module/Build.pm can not be located for perl", "body": "<p>I am not a perl expert (see <a href=\"http://grch37.ensembl.org/info/docs/api/api_installation.html#variation\" rel=\"nofollow noreferrer\">this page</a>), but for using a package, I have to run some perl commands. The command shows this error</p>\n\n<pre><code>$ perl Build.PL\nCan't locate Module/Build.pm in @INC (@INC contains: /home/mahmood/src/bioperl-1.6.1 /home/mahmood/src/ensembl/modules \n/home/mahmood/src/ensembl-compara/modules /home/mahmood/src/ensembl-variation/modules \n/home/mahmood/src/ensembl-funcgen/modules /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl \n/usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at Build.PL line 20.\nBEGIN failed--compilation aborted at Build.PL line 20.\n</code></pre>\n\n<p>I see this <a href=\"https://stackoverflow.com/a/21784614/859227\">reply</a> which offers running <code>cpan Module::Build</code> first to fix that error. As I run that command, I see a bunch of questions (text wizard) which asks me a mirror url. Then it interactively asks my permission to install the packages. It seems that default answers to the questions has such effect. I also, didn't find which question is responsible for that. Please see the full output at <a href=\"https://pastebin.com/PShE8uvQ\" rel=\"nofollow noreferrer\">pastebin</a>.</p>\n\n<p>Is there any way to automatically install the module, so that I can put that in a script for future things.</p>\n\n<p>UPDATE:</p>\n\n<p>It seems that I have to enter the cpan.org url however in my previous attempt, I used mirror websites. I tried the three commands proposed in the reply, but still get the same error:</p>\n\n<pre><code>Please enter the URL of your CPAN mirror  http://www.cpan.org\nConfiguration does not allow connecting to the internet.\nCurrent set of CPAN URLs:\n  http://www.cpan.org\nEnter another URL or RETURN to quit: []\nNew urllist\n  http://www.cpan.org\n\n\nPlease remember to call 'o conf commit' to make the config permanent!\n\n\ncpan shell -- CPAN exploration and modules installation (v1.9402)\nEnter 'h' for help.\n\ncpan[1]&gt; o conf build_requires_install_policy yes\n    build_requires_install_policy [yes]\nPlease use 'o conf commit' to make the config permanent!\n\n\ncpan[2]&gt; o conf prerequisites_policy follow\n    prerequisites_policy [follow]\nPlease use 'o conf commit' to make the config permanent!\n\n\ncpan[3]&gt; o conf commit\ncommit: wrote '/home/mahmood/.cpan/CPAN/MyConfig.pm'\n\ncpan[4]&gt; quit\nNo history written (no histfile specified).\nLockfile removed.\nmahmood@cluster:Bio-DB-HTS$ perl Build.PL\nCan't locate Module/Build.pm in @INC (@INC contains: /home/mahmood/src/bioperl-1.6.1 /home/mahmood/src/ensembl/modules /home/mahmood/src/ensembl-compara/modules /home/mahmood/src/ensembl-variation/modules /home/mahmood/src/ensembl-funcgen/modules /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at Build.PL line 20.\nBEGIN failed--compilation aborted at Build.PL line 20.\n</code></pre>\n"}, {"tags": ["perl", "github", "deployment", "cgi"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1498314780, "post_id": 44737406, "comment_id": 76456448, "body": "CGI scripts are server side. You can not deploy arbitrary code on someone elses servers."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1498402698, "creation_date": 1498402698, "answer_id": 44747575, "question_id": 44737406, "link": "https://stackoverflow.com/questions/44737406/is-it-possible-to-deploy-cgi-based-web-page-in-github-gh-pages-branch/44747575#44747575", "title": "Is it possible to deploy cgi based web page in github gh-pages branch", "body": "<p>No. Github would be insane to allow people to run random CGI code on their servers. Github are not insane :-)</p>\n"}], "owner": {"reputation": 23, "user_id": 5894721, "user_type": "registered", "profile_image": "https://graph.facebook.com/1023170517741397/picture?type=large", "display_name": "Bitra Hemanth", "link": "https://stackoverflow.com/users/5894721/bitra-hemanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1498402698, "creation_date": 1498314246, "question_id": 44737406, "link": "https://stackoverflow.com/questions/44737406/is-it-possible-to-deploy-cgi-based-web-page-in-github-gh-pages-branch", "title": "Is it possible to deploy cgi based web page in github gh-pages branch", "body": "<p>As we know in github gh-pages branch we can deploy html file.</p>\n\n<p>In a similar way i want to deploy cgi based webpage script in github gh-pages branch.</p>\n\n<p>If possible to deploy the script can you share me the procedure to deploy script.</p>\n\n<p>I use perl program in CGI.</p>\n"}, {"tags": ["arrays", "list", "perl", "match"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5529217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c3c22d7d5edcf8e416edb4d82d40f91?s=128&d=identicon&r=PG&f=1", "display_name": "L&#233;o Pourcelot", "link": "https://stackoverflow.com/users/5529217/l%c3%a9o-pourcelot"}, "edited": false, "score": 0, "creation_date": 1498313306, "post_id": 44735442, "comment_id": 76455968, "body": "Thank you for your answer, however, I think I will use melpomene&#39;s answer because it is written in pure-perl language."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 35, "user_id": 5529217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c3c22d7d5edcf8e416edb4d82d40f91?s=128&d=identicon&r=PG&f=1", "display_name": "L&#233;o Pourcelot", "link": "https://stackoverflow.com/users/5529217/l%c3%a9o-pourcelot"}, "edited": false, "score": 1, "creation_date": 1498313915, "post_id": 44735442, "comment_id": 76456167, "body": "@L&#233;oPourcelot: I don&#39;t understand why you would avoid using an XS module. Once it is installed there is no way to tell the difference except that it&#39;s faster! If you insist on a pure Perl solution, then setting the environment variable <code>LIST_MOREUTILS_PP</code> will make the same module use Perl code instead of XS. You can do that from within the Perl program."}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1498426031, "post_id": 44735442, "comment_id": 76482414, "body": "&quot;Once it is installed&quot;  ...which for many users is a hassle. I think seasoned perl programmers often forget that."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1498426173, "post_id": 44735442, "comment_id": 76482441, "body": "@KjetilS. One doesn&#39;t have to be <i>&quot;seasoned&quot;</i> to type <code>cpan List::MoreUtils</code>"}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1498427587, "post_id": 44735442, "comment_id": 76482808, "body": "@Borodin. I agree, but you need root/sudo access which many might not have on the systems they want to run their program on. Of course perlbrew and such can circumvent that in many cases, but newbees might not know those tools."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1498428448, "post_id": 44735442, "comment_id": 76483008, "body": "@KjetilS. You shouldn&#39;t be messing with the system perl on a shared computer anyway, but it&#39;s easy enough to install your own copy. But it&#39;s also easy to install your own modules in your user tree and keep using the system perl. All of this is documented, and I don&#39;t see that it&#39;s any different from other languages. Python, for instance, does the same thing through <i>virtual environments</i>, but I don&#39;t read about people who are reluctant to install Python packages. Where do you think the problem lies?"}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1498430030, "post_id": 44735442, "comment_id": 76483355, "body": "@Borodin: All perl programmers should of course learn how to install modules. It should however not necessarily be among the first things they learn. In my experience newbees are easily scared away from Perl when having to deal with module installation too early. Perl has a scary enough reputation already. Undeserved I think, but still."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1498300369, "creation_date": 1498300369, "answer_id": 44735442, "question_id": 44735398, "link": "https://stackoverflow.com/questions/44735398/perl-how-to-know-where-a-string-matches-in-list/44735442#44735442", "title": "perl : how to know where a string matches in list?", "body": "<p>Use <code>first_index</code> from <code>List::MoreUtils</code>, like this</p>\n\n<pre><code>my $i = first_index { $_ eq 'foo' } @foo;\n</code></pre>\n\n<p><code>$i</code> will be set to -1 if the value is not found.</p>\n\n<p>This can easily be achieved in Perl, but <code>List::MoreUtils</code> is an XS module and so should run a little faster.</p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 5529217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c3c22d7d5edcf8e416edb4d82d40f91?s=128&d=identicon&r=PG&f=1", "display_name": "L&#233;o Pourcelot", "link": "https://stackoverflow.com/users/5529217/l%c3%a9o-pourcelot"}, "edited": false, "score": 0, "creation_date": 1498312984, "post_id": 44736251, "comment_id": 76455855, "body": "Thank you, it was exactly what I wanted"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498313295, "post_id": 44736251, "comment_id": 76455960, "body": "There is no reason to continue searching after the first match is found."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498313568, "post_id": 44736251, "comment_id": 76456047, "body": "@Borodin Why not? OP&#39;s original code finds all matching indices, so that&#39;s what my answer does."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498314045, "post_id": 44736251, "comment_id": 76456213, "body": "@melpomene: I&#39;m sorry. Somehow I read the question as wanting the index of the <i>first</i> matching element."}, {"owner": {"reputation": 35, "user_id": 5529217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c3c22d7d5edcf8e416edb4d82d40f91?s=128&d=identicon&r=PG&f=1", "display_name": "L&#233;o Pourcelot", "link": "https://stackoverflow.com/users/5529217/l%c3%a9o-pourcelot"}, "edited": false, "score": 0, "creation_date": 1498322317, "post_id": 44736251, "comment_id": 76458690, "body": "In my case, all elements have a different name, so there is not difference :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 35, "user_id": 5529217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c3c22d7d5edcf8e416edb4d82d40f91?s=128&d=identicon&r=PG&f=1", "display_name": "L&#233;o Pourcelot", "link": "https://stackoverflow.com/users/5529217/l%c3%a9o-pourcelot"}, "edited": false, "score": 1, "creation_date": 1498329278, "post_id": 44736251, "comment_id": 76460690, "body": "@L&#233;oPourcelot: In that case you probably want a <i>hash</i> instead of or in addition to the array. <code>my %indexes = map { $foo[$_] =&gt; $_ } 0 .. $#foo</code> and then <code>my $i = $indexes{&#39;foo&#39;}</code>. You need create the hash only once."}, {"owner": {"reputation": 35, "user_id": 5529217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c3c22d7d5edcf8e416edb4d82d40f91?s=128&d=identicon&r=PG&f=1", "display_name": "L&#233;o Pourcelot", "link": "https://stackoverflow.com/users/5529217/l%c3%a9o-pourcelot"}, "edited": false, "score": 0, "creation_date": 1498817965, "post_id": 44736251, "comment_id": 76668307, "body": "I just googled about <i>hashes</i> (I didn&#39;t know what it is) and thank you for your answer, they are very usefull in this case."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1498306403, "creation_date": 1498306403, "answer_id": 44736251, "question_id": 44735398, "link": "https://stackoverflow.com/questions/44735398/perl-how-to-know-where-a-string-matches-in-list/44736251#44736251", "title": "perl : how to know where a string matches in list?", "body": "<p>You can do this by using <code>grep</code>:</p>\n\n<pre><code>my @foo = qw(bar foo fou foobar);\nmy @indices = grep { $foo[$_] eq 'foo' } 0 .. $#foo;\n# @indices = (1)\n</code></pre>\n\n<p>That will give you an array of all matching indices.</p>\n"}], "owner": {"reputation": 35, "user_id": 5529217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c3c22d7d5edcf8e416edb4d82d40f91?s=128&d=identicon&r=PG&f=1", "display_name": "L&#233;o Pourcelot", "link": "https://stackoverflow.com/users/5529217/l%c3%a9o-pourcelot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 44736251, "answer_count": 2, "score": 2, "last_activity_date": 1498306403, "creation_date": 1498300035, "question_id": 44735398, "link": "https://stackoverflow.com/questions/44735398/perl-how-to-know-where-a-string-matches-in-list", "title": "perl : how to know where a string matches in list?", "body": "<p>I have a list similar to this one :</p>\n\n<pre><code>my @foo=qw(bar foo fou foobar);</code></pre>\n\n<p>And I want to get the arrays in which there is a match (eg : with foo). I'm now using this code :</p>\n\n<pre><code>my $i=0;\nforeach (@foo)\n{\n    print \"$i\\n\" if \"$_\" eq \"foo\";\n    $i+=1;\n}\n</code></pre>\n\n<p>Which returns :</p>\n\n<pre><code>1\n</code></pre>\n\n<p>This code works, but I'd like to know if there is a smarter way to do that.</p>\n"}, {"tags": ["c", "perl"], "answers": [{"tags": [], "owner": {"reputation": 3364, "user_id": 693294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5935d56f077497b60c12cf86b9d2e1?s=128&d=identicon&r=PG", "display_name": "Gilbert", "link": "https://stackoverflow.com/users/693294/gilbert"}, "is_accepted": false, "score": 1, "last_activity_date": 1498298185, "creation_date": 1498298185, "answer_id": 44735162, "question_id": 44735065, "link": "https://stackoverflow.com/questions/44735065/is-there-an-opposite-of-read-in-perl-like-fwrite-in-c/44735162#44735162", "title": "Is there an opposite of read() in perl, like fwrite() in C?", "body": "<p>syswrite(), and sysread(), are about as close as you are going to get. These functions use write(2) and read(2) under the hood. </p>\n\n<p>The argument signatures are like C's read()/write() functions in that they deal with raw bytes, not n elements of a known size. </p>\n\n<p>Standard Caution: do not mix perl's normal formatted I/O with sysread()/syswrite() on the same handle unless you are into pain or deep magic. </p>\n"}], "owner": {"reputation": 39, "user_id": 8207325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe434c506a4c2195e1682eb2dde8ac76?s=128&d=identicon&r=PG&f=1", "display_name": "rtc", "link": "https://stackoverflow.com/users/8207325/rtc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498299074, "creation_date": 1498297627, "last_edit_date": 1498299074, "question_id": 44735065, "link": "https://stackoverflow.com/questions/44735065/is-there-an-opposite-of-read-in-perl-like-fwrite-in-c", "title": "Is there an opposite of read() in perl, like fwrite() in C?", "body": "<p>In perl, it is possible to do a buffered read on a file with the read function, like C's fread(). However, the write function in perl \"is not the opposite of read. Unfortunately\", but \"is used to write formatted records to file\" (<a href=\"http://www.perlfect.com/articles/perlfile.shtml\" rel=\"nofollow noreferrer\">http://www.perlfect.com/articles/perlfile.shtml</a>). That link suggest to use print instead. However, unlike read and fwrite() in C, which return the number of items read/written, print only returns a boolean which says whether the output was successful (<a href=\"https://perldoc.perl.org/functions/print.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/functions/print.html</a>).</p>\n\n<p>Or is the result of C's fwrite() useless anyway, because part may have been written to the buffer successfully, but not yet actually flushed to the file? That seems to be an asymmetry compared to perl's read and C's fread(), which guarantee that the number of items returned were actually successfully read from the file into the buffer. So fwrite()'s return value is not reliable if it reports that all items have been successfully written. On the other hand one may argue that the return value is at least useful if it reports a short write, since in that case an error must have occurred while actually attempting to flush to the file, and so one knows for sure that the number of items reported, though short, were actually written to the file successfully.</p>\n"}, {"tags": ["c#", "perl", "data-structures", "persistent", "tie"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1498283203, "post_id": 44733152, "comment_id": 76448515, "body": "So what&#39;s the question? Is the code relevant to this question?"}, {"owner": {"reputation": 163, "user_id": 2268650, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/JiIVe.png?s=128&g=1", "display_name": "MisterNad", "link": "https://stackoverflow.com/users/2268650/misternad"}, "reply_to_user": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1498283864, "post_id": 44733152, "comment_id": 76448642, "body": "My code is a long-winded example of what I&#39;m after.. What I&#39;m looking for, specifically, is a built-in .NET way of tying a structure to a file on disk. (Also, left the code up for anyone else that&#39;s looking for this functionality as it may prove useful to others.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1498295486, "post_id": 44733152, "comment_id": 76451286, "body": "Tying a hash is to provide an object the interface of a hash. In C#, dictionaries are objects, so you&#39;d simply create a class that implements <code>IDictionary</code>."}], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 2268650, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/JiIVe.png?s=128&g=1", "display_name": "MisterNad", "link": "https://stackoverflow.com/users/2268650/misternad"}, "edited": false, "score": 0, "creation_date": 1498292970, "post_id": 44734421, "comment_id": 76450717, "body": "I&#39;m aware of serialization and was attempting to avoid it.. It&#39;s not much different than what I&#39;m already doing, which is what I&#39;m not wanting. I&#39;m trying to get a live-object that exists on disk and any access is essentially redirected to the stored-on-disk object. Without requiring me to call Object.Serialize(file, etc) every time the object is updated.. So in short, I&#39;m guessing there&#39;s no native (eg; no external libs) way to accomplish this?"}, {"owner": {"reputation": 26, "user_id": 3105154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNutm.jpg?s=128&g=1", "display_name": "Andrew Myhalchuk", "link": "https://stackoverflow.com/users/3105154/andrew-myhalchuk"}, "reply_to_user": {"reputation": 163, "user_id": 2268650, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/JiIVe.png?s=128&g=1", "display_name": "MisterNad", "link": "https://stackoverflow.com/users/2268650/misternad"}, "edited": false, "score": 0, "creation_date": 1498293291, "post_id": 44734421, "comment_id": 76450789, "body": "Sounds similar to memory-mapped file. Try this: <a href=\"https://stackoverflow.com/a/1859843/3105154\">another stackoverflow answer</a>"}, {"owner": {"reputation": 163, "user_id": 2268650, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/JiIVe.png?s=128&g=1", "display_name": "MisterNad", "link": "https://stackoverflow.com/users/2268650/misternad"}, "edited": false, "score": 0, "creation_date": 1498293594, "post_id": 44734421, "comment_id": 76450855, "body": "I hadn&#39;t considered using an MMF, though in my own limited experience, I&#39;m not sure it&#39;s going to produce quite the same functionality I&#39;m trying to achieve, but I&#39;ll give it a go nonetheless. Could you update your answer with an example if you&#39;ve got the time?"}, {"owner": {"reputation": 26, "user_id": 3105154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNutm.jpg?s=128&g=1", "display_name": "Andrew Myhalchuk", "link": "https://stackoverflow.com/users/3105154/andrew-myhalchuk"}, "reply_to_user": {"reputation": 163, "user_id": 2268650, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/JiIVe.png?s=128&g=1", "display_name": "MisterNad", "link": "https://stackoverflow.com/users/2268650/misternad"}, "edited": false, "score": 0, "creation_date": 1498294110, "post_id": 44734421, "comment_id": 76450996, "body": "@MisterNad <a href=\"https://blogs.msdn.microsoft.com/salvapatuel/2009/06/08/working-with-memory-mapped-files-in-net-4/\" rel=\"nofollow noreferrer\">MSDN</a> can give you more code examples than I. I was just reading about MMF while trying to build reliable memory exchange from C++ app to C# app. I ended up with a solution using inter-process memory reading, without using files."}, {"owner": {"reputation": 26, "user_id": 3105154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNutm.jpg?s=128&g=1", "display_name": "Andrew Myhalchuk", "link": "https://stackoverflow.com/users/3105154/andrew-myhalchuk"}, "reply_to_user": {"reputation": 163, "user_id": 2268650, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/JiIVe.png?s=128&g=1", "display_name": "MisterNad", "link": "https://stackoverflow.com/users/2268650/misternad"}, "edited": false, "score": 0, "creation_date": 1498294390, "post_id": 44734421, "comment_id": 76451063, "body": "@MisterNad In case you are not required to change disk storage very often - I guess wrinting a class that sync your live-object with a file if (it was changed and once in a while, say once a second) will be less time-consuming."}, {"owner": {"reputation": 163, "user_id": 2268650, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/JiIVe.png?s=128&g=1", "display_name": "MisterNad", "link": "https://stackoverflow.com/users/2268650/misternad"}, "edited": false, "score": 0, "creation_date": 1498298381, "post_id": 44734421, "comment_id": 76451922, "body": "This is a permanent-storage for a window&#39;s placement and various options related to it, so it will not be updated often.. It&#39;s a save-window-state so the user doesn&#39;t have to reconfigure the window/chatlog options every time they start the app. (It&#39;s an autotranslation tool for an MMO, JP-&gt;EN translation.. It sits on top of the game (and hides the taskbar) with configurable opacity, click-through and has sys-wide hotkeys) This is why I&#39;d like the options to be &quot;live&quot;, they&#39;re changed on the fly so that if the program terminates unexpectedly, options are still in tact for the next run."}, {"owner": {"reputation": 163, "user_id": 2268650, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/JiIVe.png?s=128&g=1", "display_name": "MisterNad", "link": "https://stackoverflow.com/users/2268650/misternad"}, "edited": false, "score": 0, "creation_date": 1498305796, "post_id": 44734421, "comment_id": 76453728, "body": "Being that you haven&#39;t posted another answer in-line with what I was looking for, I&#39;ll just accept this answer and continue using the method I posted in the OP.. Thanks for your replies Andrew :)"}], "tags": [], "owner": {"reputation": 26, "user_id": 3105154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNutm.jpg?s=128&g=1", "display_name": "Andrew Myhalchuk", "link": "https://stackoverflow.com/users/3105154/andrew-myhalchuk"}, "is_accepted": true, "score": 1, "last_activity_date": 1498292791, "last_edit_date": 1498292791, "creation_date": 1498292376, "answer_id": 44734421, "question_id": 44733152, "link": "https://stackoverflow.com/questions/44733152/c-class-properties-tied-to-a-file-see-perltie/44734421#44734421", "title": "C# Class Properties &#39;tied&#39; to a file? (See Perl::Tie)", "body": "<p>I suppose you are looking for an easy way to store class instances in files.</p>\n\n<p><strong>Serialization</strong> is the process of converting an object into a stream of bytes in order to store the object or transmit it to memory, a database, or a file. Its main purpose is to save the state of an object in order to be able to recreate it when needed. The reverse process is called deserialization.</p>\n\n<p>The shortest solution I've found for C# <a href=\"https://stackoverflow.com/questions/15843446/c-sharp-to-json-serialization-using-json-net\">here</a> some time ago was Json.NET from Newtonsoft, available as NuGet package. It will do all the 'long class-properties-to-string code' for you and leave you with string ready to be written in file.\nOfficial site can provide code examples: <a href=\"http://www.newtonsoft.com/json\" rel=\"nofollow noreferrer\">http://www.newtonsoft.com/json</a></p>\n\n<p>Save to file:</p>\n\n<pre><code>Product product = new Product();\nproduct.Name = \"Apple\";\nproduct.Expiry = new DateTime(2008, 12, 28);\nproduct.Sizes = new string[] { \"Small\" };\n\nstring json = JsonConvert.SerializeObject(product);\n// {\n//   \"Name\": \"Apple\",\n//   \"Expiry\": \"2008-12-28T00:00:00\",\n//   \"Sizes\": [\n//     \"Small\"\n//   ]\n// }\n</code></pre>\n\n<p>Read from file:</p>\n\n<pre><code>string json = @\"{\n  'Name': 'Bad Boys',\n  'ReleaseDate': '1995-4-7T00:00:00',\n  'Genres': [\n    'Action',\n    'Comedy'\n  ]\n}\";\n\nMovie m = JsonConvert.DeserializeObject&lt;Movie&gt;(json);\n\nstring name = m.Name;\n// Bad Boys\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 2268650, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/JiIVe.png?s=128&g=1", "display_name": "MisterNad", "link": "https://stackoverflow.com/users/2268650/misternad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 44734421, "answer_count": 1, "score": 1, "last_activity_date": 1498292791, "creation_date": 1498282537, "last_edit_date": 1498283789, "question_id": 44733152, "link": "https://stackoverflow.com/questions/44733152/c-class-properties-tied-to-a-file-see-perltie", "title": "C# Class Properties &#39;tied&#39; to a file? (See Perl::Tie)", "body": "<p>In perl there's a rather simple method of tying a data structure to a file, whether it be a string, hash(dictionary in C#) or a simple array/list.</p>\n\n<p>I've cobbled together my own half-assed solution in C# but I was wondering if there's a more inbuilt way to achieve this functionality?</p>\n\n<p>Edit in response to comment below--The question, directly: Is there an inbuilt way to \"tie\" a class/dictionary to a file so any changes in either is reflected in the other? (Without doing as I've done below)</p>\n\n<p>(Tieing a dictionary means that any changes in the dictionary are immediately reflected/updated in the file and declaring a tied var loads the object from disk if it already exists; see <a href=\"http://search.cpan.org/~xsawyerx/perl-5.26.0/pod/perltie.pod\" rel=\"nofollow noreferrer\">PerlTie</a> )</p>\n\n<p>My pseudo-tie'd class is below:</p>\n\n<pre><code>    #region options\n    private float _Opacity;\n    public float Opacity {\n        get {\n            return Opacity;\n            }\n        set {\n            _Opacity = value;\n            this.Save();\n            }\n        }\n\n    private Font _Font;\n    public Font Font {\n        get {\n            return _Font;\n            }\n        set {\n            _Font = value;\n            this.Save();\n            }\n        }\n\n    private Color _FontColor;\n    public Color FontColor {\n        get {\n            return _FontColor;\n            }\n        set {\n            _FontColor = value;\n            this.Save();\n            }\n        }\n\n    private Color _BGColor;\n    public Color BGColor {\n        get {\n            return _BGColor;\n            }\n        set {\n            _BGColor = value;\n            this.Save();\n            }\n        }\n\n    private Point _Location;\n    public Point Location {\n        get {\n            return _Location;\n            }\n        set {\n            _Location = value;\n            this.Save();\n            }\n        }\n\n    private Size _Size;\n    public Size Size {\n        get {\n            return _Size;\n            }\n        set {\n            _Size = value;\n            this.Save();\n            }\n        }\n\n    private ushort _HistoryLines;\n    public ushort HistoryLines {\n        get {\n            return _HistoryLines;\n            }\n        set {\n            _HistoryLines = value;\n            this.Save();\n            }\n        }\n\n    private ChatType _ChatModes;\n    public ChatType ChatModes {\n        get {\n            return _ChatModes;\n            }\n        set {\n            _ChatModes = value;\n            this.Save();\n            }\n        }\n\n    private bool _Debugging;\n    public bool Debugging {\n        get {\n            return _Debugging;\n            }\n        set {\n            _Debugging = value;\n            this.Save();\n            }\n        }\n    #endregion options\n\n    private FontConverter FontConvert;\n    private FileInfo SettingsFile;\n\n    private MLogConf() {\n        }\n\n    public MLogConf(string stateFile) {\n        FontConvert = new FontConverter();\n        try {\n\n            if (!Directory.Exists(Path.GetDirectoryName(stateFile)))\n                Directory.CreateDirectory(Path.GetDirectoryName(stateFile));\n            if (!File.Exists(stateFile)) {\n                FileStream fs = File.Create(stateFile);\n                fs.Close();\n                }\n            SettingsFile = new FileInfo(stateFile);\n            if (SettingsFile.Length == 0) {\n                this.SetDefaultOptions();\n                } else {\n                if (!this.Load()) {\n                    throw new FileLoadException(\"Couldn't load settings file\");\n                    }\n                }\n            } catch (Exception ex) {\n            Trace.Write($\"Failed to create MLogConf({nameof(stateFile)}) {ex.Message + Environment.NewLine + ex.StackTrace}\");\n            }\n        }\n\n    private bool Load() {\n        if (SettingsFile == null)\n            return false;\n        try {\n            byte[] data = File.ReadAllBytes(SettingsFile.FullName);\n            using (MemoryStream m = new MemoryStream(data)) {\n                using (BinaryReader reader = new BinaryReader(m)) {\n                    _Opacity = reader.ReadSingle();\n                    _Font = (Font)(FontConvert.ConvertFromString(Encoding.ASCII.GetString(Convert.FromBase64String(reader.ReadString()))));\n                    _FontColor = Color.FromArgb(reader.ReadInt32());\n                    _BGColor = Color.FromArgb(reader.ReadInt32());\n                    _Location = new Point(reader.ReadInt32(), reader.ReadInt32());\n                    _Size = new Size(reader.ReadInt32(), reader.ReadInt32());\n                    _HistoryLines = reader.ReadUInt16();\n                    _ChatModes = (ChatType)reader.ReadInt32();\n                    _Debugging = reader.ReadBoolean();\n                    }\n                }\n            } catch (Exception e) {\n            Trace.WriteLine($\"Exception reading binary data: {e.Message + Environment.NewLine + e.StackTrace}\");\n            return false;\n            }\n        return true;\n        }\n\n    private bool Save() {\n        try {\n            using (FileStream fs = new FileStream(SettingsFile.FullName, FileMode.Create)) {\n                using (BinaryWriter writer = new BinaryWriter(fs)) {\n                    writer.Write(_Opacity);\n                    writer.Write(Convert.ToBase64String(Encoding.ASCII.GetBytes((string)FontConvert.ConvertTo(Font, typeof(string)))));\n                    writer.Write(_FontColor.ToArgb());\n                    writer.Write(_BGColor.ToArgb());\n                    writer.Write(_Location.X);\n                    writer.Write(_Location.Y);\n                    writer.Write(_Size.Width);\n                    writer.Write(_Size.Height);\n                    writer.Write(_HistoryLines);\n                    writer.Write((int)_ChatModes);\n                    writer.Write(_Debugging);\n                    }\n                }\n            } catch (Exception e) {\n            Trace.WriteLine($\"Exception writing binary data: {e.Message + Environment.NewLine + e.StackTrace}\");\n            return false;\n            }\n        return true;\n        }\n\n\n    private bool SetDefaultOptions() {\n        this._BGColor = Color.Black;\n        this._ChatModes = ChatType.Alliance | ChatType.Emote | ChatType.FreeCompany | ChatType.Linkshell | ChatType.Party | ChatType.SayShoutYell | ChatType.Tell;\n        this._Opacity = 1f;\n        this._Font = new Font(\"Verdana\", 50);\n        this._FontColor = Color.CornflowerBlue;\n        this._Location = new Point(100, 400);\n        this._Size = new Size(470, 150);\n        this._HistoryLines = 512;\n        this._Debugging = false;\n        return this.Save();\n        }\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 1, "creation_date": 1498291698, "post_id": 44733124, "comment_id": 76450425, "body": "<code>$mystr =~ s&#47;\\b(Patrick|Henry)(\\s+)(Henry|Patrick)\\b&#47;$3$2$1&#47;g;</code>"}, {"owner": {"reputation": 1488, "user_id": 6395052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-XKoXECLm9OM/AAAAAAAAAAI/AAAAAAAAADw/PIOmJsiX89U/photo.jpg?sz=128", "display_name": "aschultz", "link": "https://stackoverflow.com/users/6395052/aschultz"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1498358637, "post_id": 44733124, "comment_id": 76466552, "body": "I think I considered that and rejected it. I was worried it would flip all 4 possibilities, but flipping &quot;Henry Henry&quot; of course wouldn&#39;t matter. So, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1498306622, "post_id": 44735328, "comment_id": 76453916, "body": "You could also capture the whitespace in the middle to preserve formatting: <code>($n1)(\\s+)($n2)|($n2)(\\s+)($n1)</code> ... <code>$3$2$1</code>"}, {"owner": {"reputation": 1488, "user_id": 6395052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-XKoXECLm9OM/AAAAAAAAAAI/AAAAAAAAADw/PIOmJsiX89U/photo.jpg?sz=128", "display_name": "aschultz", "link": "https://stackoverflow.com/users/6395052/aschultz"}, "edited": false, "score": 1, "creation_date": 1498359422, "post_id": 44735328, "comment_id": 76466648, "body": "Thanks much! I&#39;d recently cribbed from another question to get this code: <code>if ($a =~ &#47;\\[start(?! of)&#47;i)</code> (I wanted to flag &quot;start&quot; without &quot;of&quot; after in certain code sections) and your explanation filled in several follow up questions I could&#39;ve/should&#39;ve asked earlier."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1498299843, "last_edit_date": 1498299843, "creation_date": 1498299424, "answer_id": 44735328, "question_id": 44733124, "link": "https://stackoverflow.com/questions/44733124/better-way-to-swap-two-adjacent-words-in-a-perl-string/44735328#44735328", "title": "Better way to swap two adjacent words in a PERL string?", "body": "\n\n<p>Like this, perhaps? The <em>branch reset</em> construct <code>(?|...)</code> allows the two names to be  captured into <code>$1</code> and <code>$2</code> regardless of their order of appearance.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy $mystr = &lt;&lt;END;\nThere's this guy named Henry Patrick,\nand there's another guy named Patrick Henry,\nand I confused them and need to switch them now!\nEND\n\nprint name_switch($mystr, qw/ Henry Patrick /);\n\nsub name_switch {\n    my ($s, $n1, $n2) = @_;\n\n    $s =~ s/\\b(?|($n1)\\s+($n2)|($n2)\\s+($n1))\\b/$2 $1/gr;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>There's this guy named Patrick Henry,\nand there's another guy named Henry Patrick,\nand I confused them and need to switch them now!\n</code></pre>\n"}], "owner": {"reputation": 1488, "user_id": 6395052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-XKoXECLm9OM/AAAAAAAAAAI/AAAAAAAAADw/PIOmJsiX89U/photo.jpg?sz=128", "display_name": "aschultz", "link": "https://stackoverflow.com/users/6395052/aschultz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 44735328, "answer_count": 1, "score": 0, "last_activity_date": 1498299843, "creation_date": 1498282267, "question_id": 44733124, "link": "https://stackoverflow.com/questions/44733124/better-way-to-swap-two-adjacent-words-in-a-perl-string", "title": "Better way to swap two adjacent words in a PERL string?", "body": "<p>I had an odd case where I typed in two names wrong in a game I was writing. They mirror each other. For instance,  there are Henry Patrick and Patrick Henry, and I wanted to swap them in a mistaken chunk of code I wrote.</p>\n\n<p>Now the PERL code below does so, but the temporary replacement string <code>heinous-hack-string</code> is, well, a hack. Is there a more elegant way to do things?</p>\n\n<pre><code>##################\n#nameflip.pl\n#\n# this flips names where I mistakenly switched first-last and last-first\n#\n\nuse strict;\nuse warnings;\n\nmy $mystr = \"There's this guy named Henry Patrick, and there's another guy named Patrick Henry, \" . \n  \"and I confused them and need to switch them now!\";\n\nprint \"Before: $mystr\\n\";\n\nprint \"After: \" . stringNameSwitch($mystr, \"Patrick\", \"Henry\") . \"\\n\";\n\n##############################\n# awful hack of a subroutine.\n#\n# what regex would do better?\n#\n# right now I just want to switch (name1 name2) &lt;=&gt; (name2 name1)\n\nsub stringNameSwitch\n{\n  my $temp = $_[0];\n  $temp =~ s/$_[1] +$_[2]/heinous-hack-string/i;\n  $temp =~ s/$_[2] +$_[1]/$_[1] $_[2]/i;\n  $temp =~ s/heinous-hack-string/$_[2] $_[1]/i;\n  return $temp;\n}\n</code></pre>\n"}, {"tags": ["string", "perl"], "answers": [{"comments": [{"owner": {"reputation": 4048, "user_id": 1692342, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1d368ad2d022237279a697202cca3510?s=128&d=identicon&r=PG", "display_name": "user1692342", "link": "https://stackoverflow.com/users/1692342/user1692342"}, "edited": false, "score": 0, "creation_date": 1498255935, "post_id": 44730575, "comment_id": 76443977, "body": "Looks like the variable $numProblems has to be set before $text. The value of $numProblems is set for me later on in if conditions after some calculations."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 4048, "user_id": 1692342, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1d368ad2d022237279a697202cca3510?s=128&d=identicon&r=PG", "display_name": "user1692342", "link": "https://stackoverflow.com/users/1692342/user1692342"}, "edited": false, "score": 0, "creation_date": 1498256021, "post_id": 44730575, "comment_id": 76444006, "body": "@user1692342 Yes, strings are interpolated immediately and work exactly like string concatenation. <code>$text = &quot;This $var that&quot;</code> is literally syntax sugar for <code>$text = &#39;this &#39;.$var.&#39; that&#39;</code>. If the message is a user defined template, make it a format string for <code>sprintf</code>. If it&#39;s a hard coded message, move the creation of <code>$text</code> after the calculation of <code>$numProblems</code>. Generally you do the calculations, then format the output."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1498259496, "post_id": 44730575, "comment_id": 76444890, "body": "Perhaps throw in a blurb on using braces if the var you&#39;re interpolating rests against a word char that would make the var invalid? eg: <code>print &quot;This is ${name}&#39;s stuff\\n&quot;;</code>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1498260499, "post_id": 44730575, "comment_id": 76445110, "body": "@stevieb Rather than try to cover every special case, I&#39;ve linked to the detailed docs about interpolation. If there&#39;s a more user friendly doc, please LMK."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 4, "last_activity_date": 1498260470, "last_edit_date": 1498260470, "creation_date": 1498255676, "answer_id": 44730575, "question_id": 44730530, "link": "https://stackoverflow.com/questions/44730530/string-formatting-in-perl/44730575#44730575", "title": "String formatting in Perl", "body": "<p>Generally, strings are constructed in Perl using <a href=\"http://perldoc.perl.org/perlglossary.html#interpolation\" rel=\"nofollow noreferrer\">interpolation</a>: put the variable right in the string.</p>\n\n<pre><code>my $numProblems = 99;\nmy $text = \"You got $numProblems problems, but Perl ain't one.\";\n</code></pre>\n\n<p>This only works on simple variables, and things like array and hash access. Expressions and method calls don't work.</p>\n\n<pre><code># Accessing a hash or array works.\nmy $text = \"You got $numProblems{$user} problems, but Perl ain't one.\";\n\n# Method call does not work.\nmy $text = \"You got $user-&gt;numProblems problems, but Perl ain't one.\";\n</code></pre>\n\n<p>You can use the <a href=\"https://metacpan.org/pod/perlsecret#Baby-cart\" rel=\"nofollow noreferrer\">baby-cart \"secret operator\"</a> to fool Perl into interpolating expressions.</p>\n\n<pre><code>my $text = \"You got @{[$user-&gt;numProblems]} problems, but Perl ain't one.\";\n</code></pre>\n\n<p>You can read about all the <a href=\"http://perldoc.perl.org/perlop.html#Gory-details-of-parsing-quoted-constructs\" rel=\"nofollow noreferrer\">Gory Details Of Interpolation in perlop</a>.</p>\n\n<hr>\n\n<p>You can also use <code>sprintf</code>, but generally that's only when you need to do formatting. There's no need for separate variables for the start and end of the string.</p>\n\n<pre><code>my $text = sprintf \"You got %d problems, but Perl ain't one.\", $numProblems;\n</code></pre>\n"}], "owner": {"reputation": 4048, "user_id": 1692342, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1d368ad2d022237279a697202cca3510?s=128&d=identicon&r=PG", "display_name": "user1692342", "link": "https://stackoverflow.com/users/1692342/user1692342"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1352, "favorite_count": 0, "accepted_answer_id": 44730575, "answer_count": 1, "score": 0, "last_activity_date": 1498260470, "creation_date": 1498255410, "question_id": 44730530, "link": "https://stackoverflow.com/questions/44730530/string-formatting-in-perl", "title": "String formatting in Perl", "body": "<p>I have a string whose middle part will be changed based on a condition. \nSomething like this:</p>\n\n<pre><code>\"You have x number of problems\";\n</code></pre>\n\n<p>The value of x has different text based on some if conditions.\nOne way I could do is to store \"You have\" in one variable and \"number of problems\" in another variable and\ndo something like <code>sprintf(\"%s%d%s\", $firstpart, $x, $secondpart);</code></p>\n\n<p>Is there a better way to do this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1498253720, "post_id": 44730203, "comment_id": 76443300, "body": "Is this a rhetorical question? If so, use <code>perlbug</code> instead of StackOverflow. If not, what more than &quot;because <code>perl</code> isn&#39;t <code>eval</code>&quot; do you want?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1498254254, "post_id": 44730203, "comment_id": 76443488, "body": "@ikegami do you think the porters will appreciate this as a core bug? I think they have just as little sense of humor as we do. :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1498254344, "post_id": 44730203, "comment_id": 76443534, "body": "Yes, inconsistencies such as this one would likely be considered a bug. I don&#39;t know why you bring up sense of humour."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1498384600, "post_id": 44730203, "comment_id": 76471342, "body": "@ikegami <a href=\"https://rt.perl.org/Ticket/Display.html?id=131650\" rel=\"nofollow noreferrer\">rt.perl.org/Ticket/Display.html?id=131650</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3676, "user_id": 414279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd8e859d8cf73f2d49eb640964605bb?s=128&d=identicon&r=PG", "display_name": "rurban", "link": "https://stackoverflow.com/users/414279/rurban"}, "is_accepted": false, "score": 1, "last_activity_date": 1502976106, "creation_date": 1502976106, "answer_id": 45736296, "question_id": 44730203, "link": "https://stackoverflow.com/questions/44730203/why-error-messages-are-different/45736296#45736296", "title": "Why error messages are different?", "body": "<p>I wouldn't call that a bug, just implementation dependent behavior.</p>\n\n<p>The 2nd heredoc variant just includes more context.\nNobody guarantees that heredoc'd evals behave the same as direct scripts.</p>\n\n<p>p5p agreed with me, Zefram didn't call it a bug, and SawyerX rejected it.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1502976106, "creation_date": 1498253353, "question_id": 44730203, "link": "https://stackoverflow.com/questions/44730203/why-error-messages-are-different", "title": "Why error messages are different?", "body": "<p>I have two programs:</p>\n\n<pre><code>#line 1 \"DB::eval\"\n234asd\n\nperl &lt; tmp.pl\nBareword found where operator expected at DB::eval line 1, near \"234asd\"\n    (Missing operator before asd?)\nsyntax error at DB::eval line 2, near \"234asd\n\"\nExecution of - aborted due to compilation errors.\n</code></pre>\n\n<p>and second:</p>\n\n<pre><code>$str =  &lt;&lt;CODE;\n#line 1 \"DB::eval\"\n234asd\nCODE\neval $str;\nprint $@;\n\nperl &lt; tmp.pl\nBareword found where operator expected at DB::eval line 1, near \"#line 1 \"DB::eval\"\n234asd\"\n    (Missing operator before asd?)\nsyntax error at DB::eval line 2, near \"#line 1 \"DB::eval\"\n234asd\n\n\"\n</code></pre>\n\n<p>Why in second case I got extra text in error message: <code>#line 1 \"DB::eval\"</code>? I do not expect it.</p>\n\n<p>Also in second case I do not expect extra new line. I expect:</p>\n\n<pre><code>234asd\n\"\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>234asd\n\n\"\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8207170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32d51052735dae8d2af3078440abe6b0?s=128&d=identicon&r=PG&f=1", "display_name": "bhuffaker", "link": "https://stackoverflow.com/users/8207170/bhuffaker"}, "is_accepted": false, "score": 0, "last_activity_date": 1498254440, "creation_date": 1498254440, "answer_id": 44730370, "question_id": 44730158, "link": "https://stackoverflow.com/questions/44730158/perl-binding-models-in-opt-local-lib-perl5-site-perl-5-24-darwin-thread-multi-2/44730370#44730370", "title": "perl binding models in /opt/local/lib/perl5/site_perl/5.24/darwin-thread-multi-2level, but directory is empty", "body": "<p>Cpan screwed up the directory/file permissions. Used a script which recursively fixed all the permissions solved the issue. </p>\n"}], "owner": {"reputation": 11, "user_id": 8207170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32d51052735dae8d2af3078440abe6b0?s=128&d=identicon&r=PG&f=1", "display_name": "bhuffaker", "link": "https://stackoverflow.com/users/8207170/bhuffaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1498268581, "creation_date": 1498253075, "last_edit_date": 1498268581, "question_id": 44730158, "link": "https://stackoverflow.com/questions/44730158/perl-binding-models-in-opt-local-lib-perl5-site-perl-5-24-darwin-thread-multi-2", "title": "perl binding models in /opt/local/lib/perl5/site_perl/5.24/darwin-thread-multi-2level, but directory is empty", "body": "<p>After I installed <code>JSON.pm</code> with cpan, perl has started binding the default models to <code>/opt/local/lib/perl5/site_perl/5.24/darwin-thread-multi-2level</code>  even though the directory is empty. </p>\n\n<p>I receive the following error:</p>\n\n<pre><code>perl -e 'use strict;'                    \nCan't locate strict.pm:   /opt/local/lib/perl5/site_perl/5.24/darwin-thread-multi-2level/strict.pm: Permission denied at -e line 1.                                           \nBEGIN failed--compilation aborted at -e line 1. \n</code></pre>\n\n<p>The correct model does exist at <code>/opt/local/lib/perl5/5.24/strict.pm</code> and <code>/opt/local/lib/perl5/5.24</code> is in the @INC, but after <code>.../darwin-thread-multi2level</code>. I have attempted to <code>port uninstall perl2.24;port install perl2.24</code>. This has not resolved the issue. </p>\n\n<p>I have attempted <code>export PERL2LIB=/opt/local/lib/perl5/5.24</code>, but this does not prevent perl from binding to multi2thread. Is there a way to remove <code>/opt/local/lib/perl5/site_perl/5.24/darwin-thread-multi-2level</code> from @INC or some alternative? </p>\n"}, {"tags": ["perl", "autovivification"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1498249771, "post_id": 44729391, "comment_id": 76441740, "body": "<a href=\"https://stackoverflow.com/questions/2206836/why-does-perl-autovivify-in-this-case\" title=\"why does perl autovivify in this case\">stackoverflow.com/questions/2206836/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1498250187, "last_edit_date": 1498250187, "creation_date": 1498249830, "answer_id": 44729514, "question_id": 44729391, "link": "https://stackoverflow.com/questions/44729391/why-autovivification-works-at-for/44729514#44729514", "title": "Why autovivification works at &#39;for&#39;?", "body": "<p>Assigning doesn't autovivify; evaluating as an lvalue so that you can assign does.</p>\n\n<p>Foreach's list expression is evaluated as an lvalue to allow <code>$_ = 1 for @a;</code></p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "closed_date": 1498249843, "accepted_answer_id": 44729514, "answer_count": 1, "score": 1, "last_activity_date": 1498250187, "creation_date": 1498249250, "question_id": 44729391, "link": "https://stackoverflow.com/questions/44729391/why-autovivification-works-at-for", "closed_reason": "Duplicate", "title": "Why autovivification works at &#39;for&#39;?", "body": "<p>I have next code:</p>\n\n<pre><code>print   for @{ $events-&gt;{ $name } };\n</code></pre>\n\n<p>When <code>$events</code> is empty hash I got <code>$name</code> key which value is empty array <code>[]</code></p>\n\n<p>Why autovivification works despite on that I just access element and assign nothing to it?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1498243572, "post_id": 44728011, "comment_id": 76438765, "body": "<code>if (&#47;&#47;g)</code> makes no sense. Drop the <code>g</code>."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1498244126, "post_id": 44728100, "comment_id": 76439052, "body": "You&#39;re getting very close to the t-shirt and mug. :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498244675, "post_id": 44728100, "comment_id": 76439349, "body": "<i>&quot;<code>$item =~ &#47;.*(bye)&#47;</code> is better written as <code>$item =~ &#47;(bye)&#47;</code>&quot;</i> It&#39;s worth underlining that these <i>aren&#39;t</i> the same: the former will capture the <i>last</i> occurrence of <code>bye</code>, while the latter will capture the <i>first</i>."}, {"owner": {"reputation": 53, "user_id": 4184718, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e892af566cb0a67e92a9e55cba5d838b?s=128&d=identicon&r=PG&f=1", "display_name": "Sun T", "link": "https://stackoverflow.com/users/4184718/sun-t"}, "edited": false, "score": 0, "creation_date": 1498245741, "post_id": 44728100, "comment_id": 76439853, "body": "Is there a way to reset the match iterator? Say, if I wanted to iterate through the same string with different regexes?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 53, "user_id": 4184718, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e892af566cb0a67e92a9e55cba5d838b?s=128&d=identicon&r=PG&f=1", "display_name": "Sun T", "link": "https://stackoverflow.com/users/4184718/sun-t"}, "edited": false, "score": 0, "creation_date": 1498245875, "post_id": 44728100, "comment_id": 76439914, "body": "@SunT I am not sure I understand. The obvious solution is not to use <code>&#47;g</code> in scalar context. But you could do <code>pos $item = undef</code>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498246405, "post_id": 44728100, "comment_id": 76440126, "body": "@Borodin Thank you for pointing that out. I had implicitly assumed that all that mattered was that there was a <code>bye</code> substring somewhere in <code>$item</code>."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 4, "last_activity_date": 1498246324, "last_edit_date": 1498246324, "creation_date": 1498243542, "answer_id": 44728100, "question_id": 44728011, "link": "https://stackoverflow.com/questions/44728011/nested-perl-matching-groups-not-working/44728100#44728100", "title": "Nested perl matching groups not working?", "body": "<p>When you do</p>\n\n<pre><code>if($item =~ m/.*(bye)/g)\n</code></pre>\n\n<p>that does not reset the match iterator (we are in scalar context). The \"position\" remains at the character after the <code>bye</code> substring. So the following <code>m//g</code> picks up from there the previous one left off.</p>\n\n<p>You can verify this yourself:</p>\n\n<pre><code>if ($item =~ /(bye)/g) {\n    printf \"pos \\$item = %d\\n\", pos $item;\n    ...\n}\n</code></pre>\n\n<p>which will print <code>pos $item =9</code>.</p>\n\n<p>Incidentally <code>$item =~ /.*(bye)/</code> is better written as <code>$item =~ /(bye)/</code> (assuming you don't care if you match the first or the last <code>bye</code> substring, just that <code>$item</code> has <code>bye</code> somewhere). Similarly, <code>$item =~ /(hello).*/</code> is better written as <code>$item =~ /(hello)/</code>.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $item = \"hello/bye\";\n\nif ($item =~ /(bye)/) {\n     my $str1 = $1;\n     print \"$str1\\n\";\n     my $str2 = ($item =~ /(hello)/g)[0];\n     print \"$str2\\n\";\n }\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 4184718, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e892af566cb0a67e92a9e55cba5d838b?s=128&d=identicon&r=PG&f=1", "display_name": "Sun T", "link": "https://stackoverflow.com/users/4184718/sun-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "closed_date": 1498244043, "accepted_answer_id": 44728100, "answer_count": 1, "score": 0, "last_activity_date": 1498246324, "creation_date": 1498243149, "question_id": 44728011, "link": "https://stackoverflow.com/questions/44728011/nested-perl-matching-groups-not-working", "closed_reason": "Duplicate", "title": "Nested perl matching groups not working?", "body": "<p>I want the following code to print out \"bye\", and then print out \"hello\". However, when I run it, it prints out \"bye\" and then perl tells me that $str2 has not been initialized.</p>\n\n<pre><code> my $item = \"hello/bye\";\n if($item =~ m/.*(bye)/g){\n     my $str1 = $1;\n     print \"$str1\\n\";\n     my $str2 = ($item =~ m/(hello).*/g)[0];\n     print \"$str2\\n\";\n }\n</code></pre>\n\n<p>I think that there is probably something I do not understand about the m//g part, but I am having trouble finding my answer in the perldoc page for perlre.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498225648, "post_id": 44722935, "comment_id": 76428225, "body": "See <a href=\"https://perldoc.perl.org/perlfaq8.html#I-%7Bchanged-directory%2C-modified-my-environment%7D-in-a-perl-script.-How-come-the-change-disappeared-when-I-exited-the-script%3F-How-do-I-get-my-changes-to-be-visible%3F\" rel=\"nofollow noreferrer\"><code>perldoc -q environment</code></a>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1498225812, "post_id": 44722935, "comment_id": 76428357, "body": "This can now be done with <a href=\"http://metacpan.org/pod/Env::Modify\" rel=\"nofollow noreferrer\"><code>Env::Modify</code></a>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1498225965, "post_id": 44722935, "comment_id": 76428470, "body": "@mob I did not know about that module. I&#39;ll re-open the question so you can answer it. We should then close the other related question with a link to this one."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 4, "creation_date": 1498227225, "post_id": 44722935, "comment_id": 76429472, "body": "If all your <code>system</code> calls are just invoking other perl scripts, a better approach is to turn your perl scripts into functions/libraries and call everything from a single perl process. Sharing environment variables between processes is overkill."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 9, "last_activity_date": 1498226442, "creation_date": 1498226442, "answer_id": 44723303, "question_id": 44722935, "link": "https://stackoverflow.com/questions/44722935/how-to-share-env-variables-among-perl-scripts/44723303#44723303", "title": "How to Share ENV Variables Among Perl Scripts", "body": "<p>In general, child processes inherit a separate copy of the environment from their parent and changes made by the child do not propagate to the parent's environment.\n<a href=\"http://metacpan.org/pod/Env::Modify\" rel=\"noreferrer\"><code>Env::Modify</code></a> offers a workaround for this issue implementing the <a href=\"https://perldoc.perl.org/perlfaq8.html#I-%7bchanged-directory%2c-modified-my-environment%7d-in-a-perl-script.-How-come-the-change-disappeared-when-I-exited-the-script%3f-How-do-I-get-my-changes-to-be-visible%3f\" rel=\"noreferrer\">\"shell magic\"</a> that the perlfaq talks about.</p>\n\n<p>Typical usage:</p>\n\n<pre><code>use Env::Modify 'system',':bash';\n\nprint $ENV{FOO};                   #   \"\"\nsystem(\"export FOO=bar\");\nprint $ENV{FOO};                   #   \"bar\"\n...\nprint $ENV{GIT_FLOW_ERROR_MSG};    #   \"\"\nsystem(\"unpushed-changes\");\nprint $ENV{GIT_FLOW_ERROR_MSG};    #   \"true\"\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1498315030, "post_id": 44737516, "comment_id": 76456534, "body": "For this problem, this is definitely the way to go."}], "tags": [], "owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "is_accepted": false, "score": 2, "last_activity_date": 1498314912, "creation_date": 1498314912, "answer_id": 44737516, "question_id": 44722935, "link": "https://stackoverflow.com/questions/44722935/how-to-share-env-variables-among-perl-scripts/44737516#44737516", "title": "How to Share ENV Variables Among Perl Scripts", "body": "<p>As @mob mentioned there  are two ways to achieve this.<code>Env::Modify</code> or as a perl <code>lib</code>.So  i have chosen   <code>lib</code> over <code>Env::Modify</code>.because i want to run this script in every machine either explicitly <code>Env::Modify</code> package is installed or not.</p>\n\n<p>I have written <strong>Utils.pm</strong> bundling both <code>unpush-changes</code> and <code>dependency-tree</code> functionalities and i  saved it under <strong>/c/lib/My/Utils.pm</strong>.</p>\n\n<p><strong>Utils.pm</strong></p>\n\n<pre><code>package My::Utils;\nuse strict;\nuse warnings;\n\nuse Exporter qw(import); \nour @EXPORT_OK = qw(build deploy);\n\nsub build {\n system(\"mvn clean compile  -DskipTests\")\n //Do  other things\n}\n\nsub deploy {\n //Do  things\n}\n\n1;\n</code></pre>\n\n<p>Then  i  used previously created library in my <code>pre-push</code> hook. </p>\n\n<p><strong>pre-push</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse File::Basename qw(dirname);\nuse Cwd  qw(abs_path);\nuse lib dirname(dirname abs_path $0) . '/lib'; \nuse My::Utils qw(build deploy); // or use lib '/c/lib';\n\nbuild();\ndeploy();\n</code></pre>\n\n<p>No  longer needs to worry about the <code>ENV</code> variables.<a href=\"https://perlmaven.com/how-to-create-a-perl-module-for-code-reuse\" rel=\"nofollow noreferrer\">Reference</a> </p>\n"}], "owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 691, "favorite_count": 0, "accepted_answer_id": 44723303, "answer_count": 2, "score": 4, "last_activity_date": 1498314912, "creation_date": 1498225329, "question_id": 44722935, "link": "https://stackoverflow.com/questions/44722935/how-to-share-env-variables-among-perl-scripts", "title": "How to Share ENV Variables Among Perl Scripts", "body": "<p>I have two Perl scripts along with GIT hook script.In there i am validating the GIT  work flow.Here is the scripts calling stack.</p>\n\n<p><strong>pre-push -> unpush-changes -> dependency-tree</strong></p>\n\n<p>There is a for loop in unpush-changes perl script that will call the dependency-tree perl script.</p>\n\n<p><strong>pre-push</strong></p>\n\n<pre><code>system(\"unpushed-changes\");\n  my $errorMsg = $ENV{'GIT_FLOW_ERROR_MSG'}// '';\n  if($errorMsg eq \"true\"){\n     print \"Error occured!\";\n   }\n</code></pre>\n\n<p><strong>unpush-changes.pl</strong></p>\n\n<pre><code>  for my $i (0 .. $#uniqueEffectedProjectsList) {\n      my $errorMsg = $ENV{'GIT_FLOW_ERROR_MSG'}// '';\n      if($errorMsg ne \"true\"){\n        my $r=system(\"dependency-tree $uniqueEffectedProjectsList[$i]\");\n     }else{\n        exit 1;\n     }\n\n   }\n</code></pre>\n\n<p><strong>dependency-tree.pl</strong></p>\n\n<pre><code>if(system(\"mvn clean compile  -DskipTests\")==0){\n     print \"successfully build\"; \n     return 1;\n }else{\n      $ENV{'GIT_FLOW_ERROR_MSG'} = 'true';\n      print \"Error occured\";\n      return 0;\n  }\n</code></pre>\n\n<p>In my <strong>dependency-tree</strong> script if error occurred i have set the <strong>ENV</strong> variable and that will be check in the each iteration in the <strong>unpush-changes</strong> script.But its ENV is value empty instead of <strong>true</strong>. I also tried to return some value if failed and try to validate it also but seems its also not working.So my requirement is that how can i share a global variable across all scripts.Please let me know if there is a better approach. </p>\n"}, {"tags": ["perl", "dbix-class"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498219283, "post_id": 44720560, "comment_id": 76423960, "body": "There is <a href=\"https://github.com/dbsrgits/sql-abstract/blob/ca4f826a37ccb5194b0b5b9b4190b4007d647d9c/lib/SQL/Abstract.pm#L100\" rel=\"nofollow noreferrer\">this comment</a> in <code>SQL::Abstract</code>, but that does not mean the problem is in <code>SQL::Abstract</code>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1498219369, "post_id": 44720560, "comment_id": 76424021, "body": "Also, there is no version <code>0.082820</code> on CPAN as far as I can see. This underscores once again the necessity of extensive testing before upgrading production libraries."}, {"owner": {"reputation": 331, "user_id": 1342636, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b861b89252438bf839cdfa7dfd52df95?s=128&d=identicon&r=PG", "display_name": "melutovich", "link": "https://stackoverflow.com/users/1342636/melutovich"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498220020, "post_id": 44720560, "comment_id": 76424456, "body": "@Sinan&#220;n&#252;r did not notice our 0.082820 was not the latest good catch. (I was reading it as 0.082840 the current latest)  Thanks for taking the time to look."}, {"owner": {"reputation": 331, "user_id": 1342636, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b861b89252438bf839cdfa7dfd52df95?s=128&d=identicon&r=PG", "display_name": "melutovich", "link": "https://stackoverflow.com/users/1342636/melutovich"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500625458, "post_id": 44720560, "comment_id": 77430886, "body": "@Sinan&#220;n&#252;r FYI, Peter usually just keeps no more than 2 versions of &quot;something&quot; on CPAN itself, for everything else there&#39;s metacpan&#39;s backpan service"}], "answers": [{"tags": [], "owner": {"reputation": 331, "user_id": 1342636, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b861b89252438bf839cdfa7dfd52df95?s=128&d=identicon&r=PG", "display_name": "melutovich", "link": "https://stackoverflow.com/users/1342636/melutovich"}, "is_accepted": true, "score": 0, "last_activity_date": 1499369622, "creation_date": 1499369622, "answer_id": 44957438, "question_id": 44720560, "link": "https://stackoverflow.com/questions/44720560/randomly-seeing-stub-found-while-resolving-method-overloading-in-pac/44957438#44957438", "title": "randomly seeing &#39;Stub found while resolving method &quot;???&quot; overloading &quot;&quot;&quot;&quot; in package &quot;XXX&quot; &#39;", "body": "<p>A suggested fix by a person who choices to remain anonymous\n(which was not enough for us in our perl 5.16.3)</p>\n\n<p>We ended up switching to perl 5.26 and the problem is gone. (We were told \"You are very unlikely to: 5.18 overhauled a lot of the overload internals.\")</p>\n\n<pre><code>diff --git a/lib/SQL/Abstract.pm b/lib/SQL/Abstract.pm\nindex 264b0b1..b4d8fb4 100644\n--- a/lib/SQL/Abstract.pm\n+++ b/lib/SQL/Abstract.pm\n@@ -104,7 +104,11 @@ sub is_plain_value ($) {\n         # \"%s\"&gt; and the source of overload::mycan())\n         #\n         # either has stringification which DBI SHOULD prefer out of the box\n-        grep { *{ (qq[${_}::(\"\"]) }{CODE} } @{ $_[2] = mro::get_linear_isa( $_[1] ) }\n+        grep {\n+          *{ (qq[${_}::()]) }{CODE}\n+            and\n+          *{ (qq[${_}::(\"\"]) }{CODE}\n+        } @{ $_[2] = mro::get_linear_isa( $_[1] ) }\n           or\n         # has nummification or boolification, AND fallback is *not* disabled\n         (\n</code></pre>\n\n<p>To put your mind at ease: here is what is actually happening:</p>\n\n<pre><code>perl -e '\n\n    use warnings;\n    use strict;\n\n    require Scalar::Util;\n\n    {\n      package Some::Overload;\n      use overload\n        q{\"\"}       =&gt; \"named_stringifier\",\n        fallback =&gt; 1,\n      ;\n\n      sub named_stringifier { $_[0] . \"\" }\n    }\n\n    {\n      package Some::Subclass;\n      use base \"Some::Overload\";\n    }\n\n\n    my $thing = bless {}, \"Some::Subclass\"; \n\n\n    {\n      no strict \"refs\";\n      grep { *{ (qq[${_}::(\"\"]) }{CODE} } qw( Some::Subclass Some::Overload );\n    }\n\n\n    for (1, 2) {\n\n\n      # simulates runtime require of some *UNRELATED* class\n      eval sprintf &lt;&lt;EOS, $_;\n      {\n        package Some::UnrelatedThing%s;\n        use overload\n          q{\"\"} =&gt; sub { \\$_[0] . \"\" },\n          fallback =&gt; 1,\n        ;\n      }\nEOS\n\n      my $some_object = bless {}, \"Some::Subclass\";\n    }\n\n    warn \"got here, all is well\\n\";\n    exit 0;\n'\n</code></pre>\n"}], "owner": {"reputation": 331, "user_id": 1342636, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b861b89252438bf839cdfa7dfd52df95?s=128&d=identicon&r=PG", "display_name": "melutovich", "link": "https://stackoverflow.com/users/1342636/melutovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 44957438, "answer_count": 1, "score": 1, "last_activity_date": 1499369622, "creation_date": 1498217909, "question_id": 44720560, "link": "https://stackoverflow.com/questions/44720560/randomly-seeing-stub-found-while-resolving-method-overloading-in-pac", "title": "randomly seeing &#39;Stub found while resolving method &quot;???&quot; overloading &quot;&quot;&quot;&quot; in package &quot;XXX&quot; &#39;", "body": "<p>We've in the past few weeks relocated our server and are randomly (but too often) getting the follow error.</p>\n\n<p>The dbix verison is now 0.082820 and previously was 0.08250 without this error occurring.</p>\n\n<p>\"Stub found while resolving method \"???\" overloading \"\"\"\" in package \"XXX\" at /home/perlbrew/.perlbrew/libs/perl-5.16.3@latest-20160209/lib/perl5/DBIx/Class/Row.pm line 1250.\"</p>\n\n<p>the package XXX</p>\n\n<p>has which might be related</p>\n\n<pre><code>use Class::Trait qw( TPrintable  );\n\nsub inflate_result {\n    my $self = shift;\n    my $ret = $self-&gt;next::method(@_);\n    my $typeCd = $ret-&gt;typeCd;\n    given ($typeCd) {\n        when( $specialTypeCd ) {\n            $self-&gt;ensure_class_loaded( $specialSubClass );\n            bless ($ret, $specialSubClass);\n        }\n        default {\n            bless ($ret, $self);\n        }\n    }\n    return $ret;\n}\n</code></pre>\n\n<p>The code bringing in package XXX has a helper method doing:</p>\n\n<pre><code>my $theY = $c-&gt;model('DB::Y')-&gt;find( $yID,\n    {\n        prefetch =&gt; [ { 'xxxs' =&gt; 'typecd' } , 'zid' ]\n    });\n\nreturn $theY;\n</code></pre>\n\n<p>thoughts in what the problem is; how to get it consistent to submit a bug report. </p>\n\n<p>We already know about the potential workaround in Abstract.pm\nof SQLA_ISVALUE_IGNORE_AUTOGENERATED_STRINGIFICATION=1</p>\n"}, {"tags": ["perl", "logging", "apache2"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1498217991, "post_id": 44720519, "comment_id": 76423113, "body": "You should add <code>$!</code> to the error message. That&#39;s the error the system returned. It will help spot the problem."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1498218165, "post_id": 44720519, "comment_id": 76423216, "body": "Or check <a href=\"https://perldoc.perl.org/autodie.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/autodie.html</a> which dies on <code>open</code> in informative manner."}, {"owner": {"reputation": 41, "user_id": 7374414, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/85a88f9f09041391599c3279452718ba?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_slo", "link": "https://stackoverflow.com/users/7374414/sam-slo"}, "edited": false, "score": 0, "creation_date": 1498218891, "post_id": 44720519, "comment_id": 76423712, "body": "adding $! gives me just the same error. &quot;No such file or directory can&#39;t open /var/www/website_name/log/20170623-access.log at /usr/local/ispconfig/server/scripts/vlogger line 447, &lt;STDIN&gt; line 2.&quot;"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1498222063, "post_id": 44720519, "comment_id": 76425790, "body": "What is the output of <code>perl -MData::Dumper -e &#39;print Dumper[-d, -w] for pop&#39; &#47;var&#47;www&#47;website_name&#47;log&#47;</code> I da, <code>${vhost}</code> nije isto kao i <code>$LOGDIR&#47;${vhost}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 7374414, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/85a88f9f09041391599c3279452718ba?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_slo", "link": "https://stackoverflow.com/users/7374414/sam-slo"}, "edited": false, "score": 0, "creation_date": 1498477205, "post_id": 44725634, "comment_id": 76498284, "body": "This floods the log with a new error &quot;Global symbol &quot;$log_file&quot; requires explicit package name (did you forget to declare &quot;my $log_file&quot;?) at /usr/local/ispconfig/server/scripts/vlogger line 454&quot;. Oh I never programed in perl or know its syntax."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 41, "user_id": 7374414, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/85a88f9f09041391599c3279452718ba?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_slo", "link": "https://stackoverflow.com/users/7374414/sam-slo"}, "edited": false, "score": 0, "creation_date": 1498477460, "post_id": 44725634, "comment_id": 76498431, "body": "@Sam_slo Okay I apologise. That was a problem that I spotted when I posted the code and thought I had fixed. I&#39;ve corrected it now."}, {"owner": {"reputation": 41, "user_id": 7374414, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/85a88f9f09041391599c3279452718ba?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_slo", "link": "https://stackoverflow.com/users/7374414/sam-slo"}, "edited": false, "score": 0, "creation_date": 1498480387, "post_id": 44725634, "comment_id": 76500183, "body": "could see that myself. :) Your code would probbably work, but I can&#39;t use it because other code in the whole function needs $vhost to work. With your code I get an error in the next command that it can&#39;t find the file because only &quot;website_name/log/&quot; is in $vhost and not the path with the file name that is created with the $TEMPLATE. Thanks anyway!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1498477348, "last_edit_date": 1498477348, "creation_date": 1498233493, "answer_id": 44725634, "question_id": 44720519, "link": "https://stackoverflow.com/questions/44720519/how-to-open-symlink/44725634#44725634", "title": "How to open symlink", "body": "<p>You're overwriting <code>$vhost</code> with the file handle from the <code>open</code> call. That means your <code>open</code> will work once, and you can write to <code>$vhost</code>, but the next time you try to open the log file <code>$vhost</code> no longer contains a directory path and the <code>open</code> will fail</p>\n\n<p>You should also use the three-parameter form of <code>open</code>, like this</p>\n\n<pre><code>my $log_file = $vhost . time2str( $TEMPLATE, time() );\n\nopen my $log_fh, '&gt;&gt;', $log_file\n    or die qq{Unable to open \"$log_file\" for appending: $!};\n\nprint $log_fh ...;\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7374414, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/85a88f9f09041391599c3279452718ba?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_slo", "link": "https://stackoverflow.com/users/7374414/sam-slo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 712, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498477348, "creation_date": 1498217811, "last_edit_date": 1498232930, "question_id": 44720519, "link": "https://stackoverflow.com/questions/44720519/how-to-open-symlink", "title": "How to open symlink", "body": "<p>I need to reprogram some PHP and shell scripts of ISPConfig CP to use it with some other technologies.</p>\n\n<p>For log rotation it uses a script named <code>vlogger</code>. I got it running, but one function for opening log files gives me errors.</p>\n\n<blockquote>\n  <p>No such file or directory can't open /var/www/website_name/log/20170623-access.log at /usr/local/ispconfig/server/scripts/vlogger line 447,  line 2.</p>\n</blockquote>\n\n<p>The weird thing is that it writes into the files but gives the error that's in the <code>or die()</code>.</p>\n\n<pre><code>open $vhost, \"&gt;&gt;${vhost}\" . time2str( $TEMPLATE, time() )\n  or die ( \"can't open $LOGDIR/${vhost}\" . time2str( $TEMPLATE, time() ) ); \n</code></pre>\n\n<p>The <code>$vhost</code> variable is normally <code>website_name/log/</code>. Before the changes <code>website_name</code> was a directory, but now it's a symlink that links to <code>client/website1/</code> where the <code>log</code> directory is.</p>\n\n<p>How to rewrite this function so it will ignore that the <code>$vhost</code> is a symlink, or what else could be causing the problem?</p>\n"}, {"tags": ["linux", "bash", "perl"], "comments": [{"owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "edited": false, "score": 1, "creation_date": 1498219247, "post_id": 44720288, "comment_id": 76423938, "body": "@anubhava <code>find . -type f -name &#39;*.tex&#39; -exec perl -i -pe &#39;s&#47;stning&#47;s&#230;tning&#47;g&#39; {} +</code> worked."}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1498221651, "post_id": 44720288, "comment_id": 76425524, "body": "Why wouldn&#39;t you try it without <code>-i</code> first to check the output is correct?"}], "answers": [{"comments": [{"owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "edited": false, "score": 0, "creation_date": 1498217721, "post_id": 44720380, "comment_id": 76422949, "body": "It still deletes all content."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "edited": false, "score": 0, "creation_date": 1498229637, "post_id": 44720380, "comment_id": 76431224, "body": "@JasmineLognnes show what you tried now in your question"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1498229972, "post_id": 44720380, "comment_id": 76431465, "body": "The problem is that <code>-pi -e</code> makes far less sense that <code>-i -pe</code>. <code>-i</code> can be dropped without affecting the program, but <code>-p</code> is actually part of the program."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "edited": false, "score": 0, "creation_date": 1498466238, "post_id": 44720380, "comment_id": 76492350, "body": "@JasmineLognnes I don&#39;t know."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 10, "last_activity_date": 1498225992, "last_edit_date": 1498225992, "creation_date": 1498217399, "answer_id": 44720380, "question_id": 44720288, "link": "https://stackoverflow.com/questions/44720288/why-does-perl-delete-file-content-when-used-with-find/44720380#44720380", "title": "Why does Perl delete file content when used with find?", "body": "<p>You need <a href=\"http://perldoc.perl.org/perlrun.html#*-p*\" rel=\"noreferrer\"><code>-p</code></a>, not <a href=\"http://perldoc.perl.org/perlrun.html#*-n*\" rel=\"noreferrer\"><code>-n</code></a>. The <code>-n</code> flag only reads, but doesn't print.</p>\n\n<pre><code>find . -type f -name \\*.tex -print0 | xargs -0 perl -i -pe 's/stning/s\u00e6tning/g' \n</code></pre>\n\n<p>You can easily remember this with the mnemonic <em>perl pie</em>, which is <code>perl -p -i -e</code> or shorter <code>perl -pi -e</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 867, "user_id": 2609158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512a60cc6147c72c3454dc2d8c39cd09?s=128&d=identicon&r=PG", "display_name": "Fidel", "link": "https://stackoverflow.com/users/2609158/fidel"}, "is_accepted": false, "score": -1, "last_activity_date": 1498224568, "creation_date": 1498224568, "answer_id": 44722674, "question_id": 44720288, "link": "https://stackoverflow.com/questions/44720288/why-does-perl-delete-file-content-when-used-with-find/44722674#44722674", "title": "Why does Perl delete file content when used with find?", "body": "<p>You can achieve your result with sed itself. As just you need an inline replacement.</p>\n\n<pre><code>find . -type f -name \\*.tex -print0 | xargs -0 sed -i 's/stning/s\u00e6tning/g' \n</code></pre>\n"}], "owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 44720380, "answer_count": 2, "score": 0, "last_activity_date": 1498225992, "creation_date": 1498217091, "question_id": 44720288, "link": "https://stackoverflow.com/questions/44720288/why-does-perl-delete-file-content-when-used-with-find", "title": "Why does Perl delete file content when used with find?", "body": "<p>Can anyone see why Perl deletes all file content when it is used together with <code>find</code>?</p>\n\n<pre><code>echo stning &gt;&gt; test.tex\necho stning &gt;&gt; test.tex\nfind . -type f -name \\*.tex -print0 | xargs -0 perl -i -ne 's/stning/s\u00e6tning/g' \ncat test.tex \n</code></pre>\n\n<p>The last command doesn't return anything, and that the issue.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1498238361, "post_id": 44717662, "comment_id": 76436169, "body": "There was a space added in the print, add that to the format string if desired"}, {"owner": {"reputation": 11353, "user_id": 3787051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k2G2V.png?s=128&g=1", "display_name": "Alex Harvey", "link": "https://stackoverflow.com/users/3787051/alex-harvey"}, "edited": false, "score": 0, "creation_date": 1498280653, "post_id": 44717662, "comment_id": 76448104, "body": "Actually, that space was only intended to make it clearer that the &quot;1&quot; was not part of the time string."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 5, "last_activity_date": 1498209466, "creation_date": 1498209466, "answer_id": 44717662, "question_id": 44717444, "link": "https://stackoverflow.com/questions/44717444/perl-e-regexp-adding-unexpected-character/44717662#44717662", "title": "Perl /e regexp adding unexpected character", "body": "<p>When using <code>/e</code> in a substitution, the match will be replaced with whatever the substitution code evaluates to. You have a call to <code>print()</code> in your code and <code>print()</code> returns a true value (1) when a print is successful. That's what you're seeing in your replacement.</p>\n\n<p>But you don't need that <code>print()</code>. Replace your code with this:</p>\n\n<pre><code>s/^(\\d+)/my $x = strftime(\"%Y-%m-%d %H:%M\", localtime($1)); $x/e\n</code></pre>\n\n<p>Or, even simpler:</p>\n\n<pre><code>s/^(\\d+)/strftime(\"%Y-%m-%d %H:%M\", localtime($1))/e\n</code></pre>\n"}], "owner": {"reputation": 11353, "user_id": 3787051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k2G2V.png?s=128&g=1", "display_name": "Alex Harvey", "link": "https://stackoverflow.com/users/3787051/alex-harvey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 44717662, "answer_count": 1, "score": 0, "last_activity_date": 1498209466, "creation_date": 1498208835, "question_id": 44717444, "link": "https://stackoverflow.com/questions/44717444/perl-e-regexp-adding-unexpected-character", "title": "Perl /e regexp adding unexpected character", "body": "<p>I have a one-line Perl script (Perl v5.10.1) that is behaving in a way that I cannot understand or explain:</p>\n\n<pre><code>$ cat packer-build.log |\n&gt;   perl -MPOSIX -pe \\\n&gt;     's/^(\\d+)/my $x = strftime(\"%Y-%m-%d %H:%M\", localtime($1)); print \"$x \"/e' | tail -5\n2017-06-21 11:11 1,,error-count,1\n2017-06-21 11:11 1,,ui,error,\\n==&gt; Some builds didn't complete successfully and had errors:\n2017-06-21 11:11 1,amazon-ebs,error,unexpected EOF\n2017-06-21 11:11 1,,ui,error,--&gt; amazon-ebs: unexpected EOF\n2017-06-21 11:11 1,,ui,say,\\n==&gt; Builds finished but no artifacts were created.\n</code></pre>\n\n<p>Unfiltered output:</p>\n\n<pre><code>$ tail -5 packer-build.log \n1498007467,,error-count,1\n1498007467,,ui,error,\\n==&gt; Some builds didn't complete successfully and had errors:\n1498007467,amazon-ebs,error,unexpected EOF\n1498007467,,ui,error,--&gt; amazon-ebs: unexpected EOF\n1498007467,,ui,say,\\n==&gt; Builds finished but no artifacts were created.\n</code></pre>\n\n<p>Notice that there is a <code>1</code> after <code>2017-06-21 11:11</code> which is not present in the unfiltered output.</p>\n\n<p>What is causing this to be printed and how can I modify the code so that I get the epoch time in field 1 to be replaced with human readable output?</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1498201197, "post_id": 44715004, "comment_id": 76412311, "body": "<code>$a =~ m!Y!i</code> =&gt; <code>$a =~ m&#47;Y&#47;i</code> =&gt; <code>$a =~ &#47;Y&#47;i</code> (if $a contains <code>Y</code> and ignore letter case)"}, {"owner": {"reputation": 23, "user_id": 8101408, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/31e15e95db0c2a2a243cf296bef6ebf4?s=128&d=identicon&r=PG&f=1", "display_name": "sphinx9", "link": "https://stackoverflow.com/users/8101408/sphinx9"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1498204827, "post_id": 44715004, "comment_id": 76414418, "body": "@\u0421\u0443\u0445\u043e\u043927 thanks,got it!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1498211895, "post_id": 44715004, "comment_id": 76419131, "body": "But don&#39;t use <code>$a</code> as a variable name. It&#39;s dirty."}], "answers": [{"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": true, "score": 2, "last_activity_date": 1498204536, "creation_date": 1498204536, "answer_id": 44716027, "question_id": 44715004, "link": "https://stackoverflow.com/questions/44715004/if-a-myi-what-does-this-mean-in-perl-cgi-perl/44716027#44716027", "title": "if( $a =~ m!Y!i ) What does this mean in perl/cgi-perl?", "body": "<p>It's equivalent to <code>if ($a =~ /Y/i)</code>, which is a regular expression testing whether the variable <code>$a</code> contains the letter <code>Y</code>. The <code>i</code> at the end makes the test case-insensitive, so that either upper- or lower-case <code>Y</code> will match.</p>\n"}], "owner": {"reputation": 23, "user_id": 8101408, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/31e15e95db0c2a2a243cf296bef6ebf4?s=128&d=identicon&r=PG&f=1", "display_name": "sphinx9", "link": "https://stackoverflow.com/users/8101408/sphinx9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 44716027, "answer_count": 1, "score": 0, "last_activity_date": 1498205094, "creation_date": 1498201091, "last_edit_date": 1498205094, "question_id": 44715004, "link": "https://stackoverflow.com/questions/44715004/if-a-myi-what-does-this-mean-in-perl-cgi-perl", "title": "if( $a =~ m!Y!i ) What does this mean in perl/cgi-perl?", "body": "<p>The Code goes something like this:</p>\n\n<pre><code>if( $a =~ m!Y!i ){\n    $a = \"display something\";  //some sentence to display\n}\n</code></pre>\n\n<p>What does this means in Perl?</p>\n"}, {"tags": ["perl", "cmd"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1498200195, "post_id": 44714614, "comment_id": 76411737, "body": "<a href=\"https://perldoc.perl.org//perlop.html#qx%2f_STRING_%2f\" rel=\"nofollow noreferrer\">perldoc.perl.org//perlop.html#qx%2f_STRING_%2f</a>"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 8195048, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2ajoM.jpg?s=128&g=1", "display_name": "ninja", "link": "https://stackoverflow.com/users/8195048/ninja"}, "edited": false, "score": 0, "creation_date": 1498202193, "post_id": 44714944, "comment_id": 76412825, "body": "I get the error <code>this hande is invaild and error accessing the node</code> if i put this entire command <code>psexec \\\\\\\\host cmd &#47;c &quot;dir &#47;s d:\\\\folder\\file</code> in the <code>system</code> function"}], "tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 2, "last_activity_date": 1498201290, "last_edit_date": 1498201290, "creation_date": 1498200933, "answer_id": 44714944, "question_id": 44714614, "link": "https://stackoverflow.com/questions/44714614/how-to-get-the-error-or-message-after-executing-a-cmdlet-in-perl/44714944#44714944", "title": "How to get the error or message after executing a cmdlet in perl", "body": "<p>You have to check the stdin, stderr and probably the exit code of the executed command. There are several modules to help you in that task, like <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow noreferrer\">Capture::Tiny</a></p>\n\n<pre><code>use Capture::Tiny ':all';\n\n# Capture from external command\n# Adapt $cmd and @args to your needs\n\nmy $cmd = 'psexec';\nmy @args = ( );\n\nmy ( $stdout, $stderr, $exit_code ) = capture {\n  system( $cmd, @args );\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10781, "user_id": 447901, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/11ea5dd4ad290e75422e32e1e340772e?s=128&d=identicon&r=PG", "display_name": "lit", "link": "https://stackoverflow.com/users/447901/lit"}, "is_accepted": true, "score": 0, "last_activity_date": 1498235916, "creation_date": 1498235916, "answer_id": 44726267, "question_id": 44714614, "link": "https://stackoverflow.com/questions/44714614/how-to-get-the-error-or-message-after-executing-a-cmdlet-in-perl/44726267#44726267", "title": "How to get the error or message after executing a cmdlet in perl", "body": "<p>If you are on modern day Windows machines, PowerShell can be used and no need for psexec. The remote machine needs to be setup for remoting. <code>Get-Help about_Remote_Requirements</code> and <code>Enable-PSRemoting</code>.</p>\n\n<pre><code>Invoke-Command -ComputerName HOST001  -ScriptBlock { &amp; cmd /c dir /s D:\\thedir\\ }\n</code></pre>\n\n<p>For running PowerShell from Perl, see <a href=\"https://stackoverflow.com/questions/2770124/executing-powershell-from-perl\">Executing Powershell from Perl</a></p>\n"}], "owner": {"reputation": 29, "user_id": 8195048, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2ajoM.jpg?s=128&g=1", "display_name": "ninja", "link": "https://stackoverflow.com/users/8195048/ninja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 44726267, "answer_count": 2, "score": 0, "last_activity_date": 1498235916, "creation_date": 1498199859, "question_id": 44714614, "link": "https://stackoverflow.com/questions/44714614/how-to-get-the-error-or-message-after-executing-a-cmdlet-in-perl", "title": "How to get the error or message after executing a cmdlet in perl", "body": "<p>I am using this command to search and get file details on a remote server</p>\n\n<pre><code>my $output=`psexec \\\\\\\\host cmd /c \"dir /s d:\\\\folder\\file`\n</code></pre>\n\n<p>if the files are present it will display all the files and its path and they are stored in <code>$output</code> if the path is not found or if the server does  not exist it returns the following on the cmd but not to <code>$output</code></p>\n\n<p><code>Starting cmd on host...ice on host...\nThe system cannot find the path specified.\ncmd exited on host with error code 1.</code></p>\n\n<p>How can i get the message from the cmd or report error ,i tried <code>$!</code> doesn't return anything</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 2, "creation_date": 1498197815, "post_id": 44714052, "comment_id": 76410552, "body": "It is already stored in <code>$fixed</code>. What are you trying to do?"}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1498198015, "post_id": 44714052, "comment_id": 76410649, "body": "Or do you want to store <code>print &quot;$fixed\\n&quot;;</code> this in a variable? why?"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 0, "creation_date": 1498198957, "post_id": 44714052, "comment_id": 76411126, "body": "Yeah it is already stored now i had used print statement along with \\n.Is it possible to store the variable print statement \\n output into new variable .@AruneshSingh"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 0, "creation_date": 1498199013, "post_id": 44714052, "comment_id": 76411154, "body": "After using \\n the output of $variable will differs .I need to store output into new variable after \\n is given .@AbhiNickz"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1498199326, "post_id": 44714052, "comment_id": 76411311, "body": "Am trying to use the variable with \\n output .So am trying to sabe those print statement into new variable name.Then i will use the new variable name for further process. @AbhiNickz"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1498199913, "post_id": 44714052, "comment_id": 76411592, "body": "<code>my $new = &quot;$fixed\\n&quot;; print $new;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": true, "score": 2, "last_activity_date": 1498200080, "creation_date": 1498200080, "answer_id": 44714687, "question_id": 44714052, "link": "https://stackoverflow.com/questions/44714052/how-to-store-the-print-statement-output-in-the-new-variable-name-using-perl/44714687#44714687", "title": "How to store the print statement output in the new variable name using perl?", "body": "<p>Just assign to a variable instead of print it:</p>\n\n<pre><code>my $var = \"$fixed\\n\";\n</code></pre>\n\n<p>For more complex scenarios, use <a href=\"https://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow noreferrer\">sprintf</a>, example:</p>\n\n<pre><code>my $var = sprintf(\"%02d - %s - %f\", 1, $fixed, 3.1415);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1498220861, "last_edit_date": 1498220861, "creation_date": 1498207111, "answer_id": 44716841, "question_id": 44714052, "link": "https://stackoverflow.com/questions/44714052/how-to-store-the-print-statement-output-in-the-new-variable-name-using-perl/44716841#44716841", "title": "How to store the print statement output in the new variable name using perl?", "body": "<p>The answer you have already seen an accepted does things in a slightly different order than you asked for. You asked:</p>\n\n<blockquote>\n  <p>How to store the print statement output in the new variable name using perl?</p>\n</blockquote>\n\n<p>The answer you have stores some data in a variable and then prints the contents of the variable. That has the same effect, but it's not, strictly speaking, what you asked for.</p>\n\n<p>But it's possible to do anything in Perl. Including configuring a scalar variable to store any data that is printed.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $output;\n\n# Call open(), giving it a reference to a scalar, instead of\n# a filename.\nopen my $fh, '&gt;', \\$output or die $!;\n\n# Now anything printed to that filehandle, is appended to\n# your scalar variable.\nprint $fh \"this is\\na test\\n\";\n\n# ... which you can print to STDOUT\nprint $output;\n</code></pre>\n\n<p>It's possible to take this a step further, by using <code>select()</code> to make your scalar filehandle, the default output filehandle.</p>\n\n<pre><code>select $fh;\n\nprint \"Something\";\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 839, "favorite_count": 0, "accepted_answer_id": 44714687, "answer_count": 2, "score": -1, "last_activity_date": 1498220861, "creation_date": 1498197501, "last_edit_date": 1498197885, "question_id": 44714052, "link": "https://stackoverflow.com/questions/44714052/how-to-store-the-print-statement-output-in-the-new-variable-name-using-perl", "title": "How to store the print statement output in the new variable name using perl?", "body": "<p>Is it possible to store the print statement into variable name using <code>perl</code>?</p>\n\n<p>Here is my print statement,</p>\n\n<pre><code>print \"$fixed\\n\";\n</code></pre>\n\n<p>I want to store the this print statement output in new variable. Is it possible to do?</p>\n"}, {"tags": ["html", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1498200864, "post_id": 44713383, "comment_id": 76412135, "body": "Hint, <code>die $parser-&gt;error(), &quot;. ==&gt;$fileName\\n&quot;;</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1498205212, "post_id": 44713383, "comment_id": 76414674, "body": "Your directory <code>&#47;a&#47;b&#47;c</code> is a really bad example. Don&#39;t create folders on the root level (starting with a slash <code>&#47;</code>) on your Linux box. You probably did not do that and it&#39;s just an example, but it looks ilke you did."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1498205333, "post_id": 44713383, "comment_id": 76414750, "body": "When you add <code>&quot;\\n&quot;</code> to a <code>die</code> in Perl, the <i>at foo.pl line 123</i> part will be omitted. That&#39;s not very useful when you are looking for errors. Remove the newline to get better debugging output, and do as @\u0421\u0443\u0445\u043e\u043927 suggested and include the filename. It&#39;s likely that your Perl script, being run by your webserver, does not have read permissions on the file because it&#39;s in some weird folder that Apache (or nginx?) cannot see."}], "answers": [{"tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": false, "score": 0, "last_activity_date": 1498256392, "creation_date": 1498256392, "answer_id": 44730669, "question_id": 44713383, "link": "https://stackoverflow.com/questions/44713383/unable-to-import-excel-file-through-web/44730669#44730669", "title": "Unable to import Excel file through Web", "body": "<p>Your perl code looks OK. But your form should be</p>\n\n<pre><code>method=\"post\" enctype=\"multipart/form-data\"\n</code></pre>\n\n<p>unless you make a FromData object using javascript on the client-side and send it via ajax.</p>\n\n<p>Also it is not very clear how you handle the sent file on the server-side.</p>\n"}], "owner": {"reputation": 79, "user_id": 6638110, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YAtkh.png?s=128&g=1", "display_name": "confused", "link": "https://stackoverflow.com/users/6638110/confused"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498256392, "creation_date": 1498194107, "last_edit_date": 1498205137, "question_id": 44713383, "link": "https://stackoverflow.com/questions/44713383/unable-to-import-excel-file-through-web", "title": "Unable to import Excel file through Web", "body": "<p>I an new to html programming using perl-cgi and i want to import an excel file through a webpage.I am using the Spreadsheet::ParseExcel Module of perl for that and the code is :</p>\n\n<pre><code>if($fileName) {\n  my $parser   = Spreadsheet::ParseExcel-&gt;new();\n  my $workbook = $parser-&gt;parse($fileName);\n   if ( !defined $workbook ) {\n        die $parser-&gt;error(), \".\\n\";\n    }\n   for my $worksheet ( $workbook-&gt;worksheets() ) {\n\n        my ( $row_min, $row_max ) = $worksheet-&gt;row_range();\n        my ( $col_min, $col_max ) = $worksheet-&gt;col_range();\n\n        for my $row ( $row_min .. $row_max ) {\n            for my $col ( $col_min .. $col_max ) {\n\n                my $cell = $worksheet-&gt;get_cell( $row, $col );\n                next unless $cell;\n\n               # print \"Row, Col    = ($row, $col)\\n\";\n                print  $cell-&gt;value() ,\"|\"      ;\n                #print \"Unformatted = \", $cell-&gt;unformatted(), \"\\n\";\n            }\n                print \"\\n\";\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>Here fileName variable is the name of excel file i am inputting from the HTML form whose code is:</p>\n\n<pre><code>&lt;form id='form1' method='GET' action='#'&gt;\n &lt;input id='fileSelect' name='file' type='file' accept='application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel'&gt;\n &lt;input type=submit value='submit'&gt;\n &lt;/form&gt;\n</code></pre>\n\n<p>I have written this server side code in a directory say /a/b/c in linux and in that directory i have copied the file xyz.xls.So whenever i load the file xyz.xls through the web , i obtain the results and in case i load another file say pqr.xls which is not located in the directory /a/b/c , i have this Error File not found.But i want to import any file from a user who is using this webpage.</p>\n\n<p>I am stuck here ,please suggest something.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["arrays", "perl", "web", "graph", "gd"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1498172052, "post_id": 44709172, "comment_id": 76403959, "body": "It sounds like you probably actually want to use a JavaScript graphing library, such as Highcharts, D3, Plotly, etc."}, {"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "edited": false, "score": 0, "creation_date": 1498194312, "post_id": 44709172, "comment_id": 76409176, "body": "What do you mean by &quot;How do I have the @data automatically update for the graph so that it doesn&#39;t have to be manually entered?&quot; - do you just mean you want the data array to be filled in with the same values as you are putting in the HTML table instead of hard-coding them?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1517543250, "last_edit_date": 1517543250, "creation_date": 1498167016, "answer_id": 44709699, "question_id": 44709172, "link": "https://stackoverflow.com/questions/44709172/how-do-i-have-my-gdgraph-automatically-update/44709699#44709699", "title": "How do I have my GD::Graph automatically update?", "body": "<p>I don't expect many votes for this, but the easiest way is to add a <code>meta</code> element in the head of your HTML like this</p>\n\n<pre><code>&lt;meta http-equiv=\"refresh\" content=\"10\" /&gt;\n</code></pre>\n\n<p>This gets the browser to refresh the page after the number of seconds in the <code>content</code> attribute, so your server code will execute and send a new page to the browser</p>\n\n<p>It's discouraged because it's bad UI design to refresh the page unexpectedly when the user may be typing, but it sounds like that's what you intend</p>\n\n<p>If you want to do this \"properly\", and perhaps update the page only when the data changes, then you need to write some AJAX code which can update the display less disruptively</p>\n"}], "owner": {"reputation": 39, "user_id": 6437245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/153d6f05213702f3781d7e2c341fd5a9?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/6437245/nicolas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517543250, "creation_date": 1498164649, "question_id": 44709172, "link": "https://stackoverflow.com/questions/44709172/how-do-i-have-my-gdgraph-automatically-update", "title": "How do I have my GD::Graph automatically update?", "body": "<p>I have a mixed graph that I would like for my data set to automatically update from a table with work weeks compared to number expected(bars), and two projected examples (lines). How do I have the @data automatically update for the graph so that it doesn't have to be manually entered?</p>\n\n<p>Here's what I've been working with:\n(For the sake of making the example easier, the table is the data for the first row with \"W25\"... and the third row, aka first line, where the last number is 6.4. I'll deal with the others later and leave them hardcoded for now.)</p>\n\n<p>Example of table that is produced on webpage:</p>\n\n<pre><code>print \"&lt;p&gt;\\n\";\nprint \"&lt;TABLE BORDER=1&gt;\\n\";\nprint \"&lt;caption&gt;Projected Weekly Output&lt;/caption&gt;\\n\";\nprint \"&lt;TR&gt;&lt;TH&gt;WW&lt;TH&gt;Wafers\\n\";\nforeach $ww (sort keys %ww_proj_hash)\n {\n$qty_outs = $ww_proj_hash{$ww};\nprint \"&lt;TR&gt;&lt;TD&gt;$ww &lt;TD align=center&gt;$qty_outs\\n\";\n}\nprint \"&lt;/TABLE&gt;&lt;p&gt;\\n\";\n</code></pre>\n\n<p>$ww is row 1 and $qty_outs is row 3 producing very similar results to what's hardcoded below.</p>\n\n<pre><code>my @data = (\n  [ \"W25\",  \"W26\",   \"W27\",  \"W28\",  \"W29\",   \"W30\",   \"W31\",  \"W32\",  \"W33\", \"W34\", \"W35\"],\n  [     1,         2,     2.8,    3.6,      4,           5,     5.5,      6,    7,  7.5, 8  ],\n  [     1,         2,     2.8,    3.6,      4.4,         5.6,     6.4               ],\n  [     1,      1.95,     2.7,    3.4,    3.7,         4.7,       5,      5.5        ],\n  );\n\n\nmy $graphmixed = GD::Graph::mixed-&gt;new (500,350);\n\n$graphmixed-&gt;set(\n     x_label         =&gt; 'X Label',\n     y_label         =&gt; 'Y label',\n     title           =&gt; 'Projected Supply vs. Request',\n\n     t_margin        =&gt; 5,\n     b_margin        =&gt; 2,\n     l_margin        =&gt; 5,\n     r_margin        =&gt; 5,\n\n     y_min_value     =&gt; 0,\n     y_max_value     =&gt; 8,\n     y_tick_number   =&gt; 8,\n     y_label_skip    =&gt; 3,\n     cumulate        =&gt; 1,\n\n     types           =&gt; [qw(bars lines lines)],\n     dclrs           =&gt; [qw(#4f81bd #98B954 #BE4B57)],\n     borderclrs      =&gt; [qw(black)],\n     fgclr           =&gt; black,\n     textclr         =&gt; black,\n     labelclr        =&gt; black,\n     axislabelclr    =&gt; black,\n\n     y_long_ticks      =&gt; 1,\n     line_width      =&gt; 4,\n     bar_spacing     =&gt; 10,\n     transparent     =&gt; 0,\n) or warn $graphmixed-&gt;error;\n\n\n$tmp_trend_file = 'graphmixed.png';\nopen(IMG, \"&gt;$tmp_trend_file\") or die $!;\nbinmode IMG;\nprint IMG $graphmixed-&gt;plot(\\@data)-&gt;png();\nclose IMG;  \nprint \"&lt;p&gt;&lt;img src=$tmp_trend_file border=1&gt;&lt;p&gt;\\n\";\n</code></pre>\n"}, {"tags": ["perl", "cgi", "opendir"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1498164337, "post_id": 44709055, "comment_id": 76401030, "body": "<code>$fh</code> is a filehandle, not a dirhandle (as the error message says). You can&#39;t <code>readdir</code> on a filehandle. What are you actually trying to do?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1498168019, "post_id": 44709055, "comment_id": 76402611, "body": "@MattJacob: Warnings aren&#39;t enabled, so no error message."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8150150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a120e12cd9db0eed6af0d0ac029d49c4?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/8150150/kevin"}, "edited": false, "score": 0, "creation_date": 1498226334, "post_id": 44709770, "comment_id": 76428774, "body": "Thank you for your help!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1498167912, "last_edit_date": 1498167912, "creation_date": 1498167424, "answer_id": 44709770, "question_id": 44709055, "link": "https://stackoverflow.com/questions/44709055/readdir-attempted-on-invalid-dirhandle/44709770#44709770", "title": "readdir() attempted on invalid dirhandle", "body": "<p><code>URLs.txt</code> appears to be a file, not a directory</p>\n\n<p>To open a <strong><em>file</em></strong>, write</p>\n\n<pre><code>open my $fh, '&lt;', $filename or die $!;\n</code></pre>\n\n<p>and read from it with</p>\n\n<pre><code>while ( my $line = &lt;$fh&gt; ) { ... }\n</code></pre>\n\n<p>To open a <strong><em>directory</em></strong>, write</p>\n\n<pre><code>opendir my $dh, $dirname or die $!;\n</code></pre>\n\n<p>and read its contents with</p>\n\n<pre><code>while ( my $item = readdir $dh ) { ... }\n</code></pre>\n\n<p>If you had <code>use strict</code> and <code>use warnings 'all'</code> in place as you should in every Perl program you write you would have seen</p>\n\n<blockquote>\n  <p>readdir() attempted on invalid dirhandle $fh<br>\n  closedir() attempted on invalid dirhandle $fh  </p>\n</blockquote>\n\n<p>which would have guided you towards the problem</p>\n\n<p>You may be better of with other functions, depending on what it is you want to do</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8150150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a120e12cd9db0eed6af0d0ac029d49c4?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/8150150/kevin"}, "edited": false, "score": 0, "creation_date": 1498226487, "post_id": 44710004, "comment_id": 76428903, "body": "Thank you for your response! What I am trying to do is call this perl script from another javascript and return the boolean. Do you know if this is possible?"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1498168887, "creation_date": 1498168887, "answer_id": 44710004, "question_id": 44709055, "link": "https://stackoverflow.com/questions/44709055/readdir-attempted-on-invalid-dirhandle/44710004#44710004", "title": "readdir() attempted on invalid dirhandle", "body": "<p>Your variable names are not great, to put it mildly. Let's fix that!</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse JSON;\nuse LWP::Simple;\n\nmy $file = 'URLs.txt';\n\nopen(my $fh, '&lt;:encoding(UTF-8)', $file) or die \"Can't open file $file: $!\\n\";\nchomp(my @lines = &lt;$fh&gt;);\nclose($fh);\n\nforeach my $url (@lines) {\n    my $json_text = get($url);\n\n    if (defined($json_text)) {\n        my $perl_ref = decode_json($json_text);\n\n        if ($perl_ref-&gt;{status} eq 'UP') {\n            print \"foo\\n\";\n        }\n    } else {\n        # handle the error!\n    }\n}\n</code></pre>\n\n<p>You'll notice I also:</p>\n\n<ul>\n<li>Added <code>use strict</code> and <code>use warnings</code>, which should be in every Perl file you write</li>\n<li>Added error-checking to the LWP <code>get()</code> result</li>\n<li>Removed indirect object notation (<code>new JSON</code>) in favor of the <code>decode_json()</code> convenience function. It's the same as <code>JSON-&gt;new-&gt;utf8-&gt;decode()</code>, only shorter.</li>\n<li>Removed the <code>return</code> statement, because it doesn't make any sense outside of a subroutine. If this code has actually been yanked from a subroutine, then you should show that as part of your <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>.</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 8150150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a120e12cd9db0eed6af0d0ac029d49c4?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/8150150/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "answer_count": 2, "score": -5, "last_activity_date": 1498228395, "creation_date": 1498164227, "last_edit_date": 1498228395, "question_id": 44709055, "link": "https://stackoverflow.com/questions/44709055/readdir-attempted-on-invalid-dirhandle", "title": "readdir() attempted on invalid dirhandle", "body": "<p>What am I doing wrong? I've tried many things but can't seem to read from this file. Thanks!</p>\n\n<pre><code>my $d = 'URLs.txt';\nopen(my $fh, '&lt;:encoding(UTF-8)', $d)\n#opendir(D, \"$d\") || die \"Can't open directory $d: $!\\n\";\n  or die \"Can't open directory $d: $!\\n\";\n\nmy @list = readdir($fh);\nclosedir($fh);\n\nforeach my $f (@list) {\n\n\nmy $json_data = get \"$f\";\nmy $json_obj = new JSON;\nmy $URLdata = $json_obj-&gt;decode($json_data);\n\n  return $URLdata-&gt;{'status'} eq 'UP';\n}\n</code></pre>\n"}, {"tags": ["sql-server", "windows", "perl"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 2647596, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7b4a5e789df12c76a3f68a5493f0f86f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/2647596/james"}, "edited": false, "score": 0, "creation_date": 1498164327, "post_id": 44703772, "comment_id": 76401025, "body": "Thank you. And yes, this code is not exactly what I would call &#39;good&#39;. I am having to go back through and fix a lot of issues in his scripts.  The reason I was doing <code>$dbOR -&gt;Sql($strSQLNotNull) or $strNewError = 1;</code> was because that is how all of his scripts are set up. Most of them, such as php, when it does a SQL statement execution, adding that new error portion at the end, instead of <code>or die</code> trips the flag in his Logging function.  I see why he completely left out the error checking that integrates with his logging function....because it was more work than he wanted to bother with."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 41, "user_id": 2647596, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7b4a5e789df12c76a3f68a5493f0f86f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/2647596/james"}, "edited": false, "score": 0, "creation_date": 1498165191, "post_id": 44703772, "comment_id": 76401482, "body": "I am not sure I understand your comment. Have you considered <code>$dbOR -&gt;Sql($strSQLNotNull) and $strNewError = 1;</code>? Or, actually doing something with the error if one is returned?"}, {"owner": {"reputation": 41, "user_id": 2647596, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7b4a5e789df12c76a3f68a5493f0f86f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/2647596/james"}, "edited": false, "score": 0, "creation_date": 1498166179, "post_id": 44703772, "comment_id": 76401890, "body": "Hi Sinan,  Basically in almost all of his code, any time he does any kind of actions that have a possiblility to fail, he has the <code>or $strNewError = 1</code> on it.   Such as:  <code>$dbOR = new Win32::ODBC($DNSORDERS) or $strNewError = 1;</code> <code>Logger(&quot;Connect to $dbOR&quot; ,&quot;CANT CONNECT TO $dbOR&quot;, $strNewError, $strErrorFile);</code>  If the connection works/is opened, $strNewError does not get set to a value of 1. If it fails to open the connection, it sets $strNewError to a value of 1. And writes to the log. Then, where he goes to do something, he starts off with <code>if(!$strErrorFlag){ do some code; }</code>."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1498149841, "last_edit_date": 1498149841, "creation_date": 1498145589, "answer_id": 44703772, "question_id": 44703318, "link": "https://stackoverflow.com/questions/44703318/perl-error-handling-for-win32odbc/44703772#44703772", "title": "Perl Error Handling for Win32::ODBC", "body": "<p>The return value from <code>$dbOR-&gt;Sql</code> gets set in <a href=\"https://metacpan.org/source/JDB/Win32-ODBC-0.035/ODBC.pm#L645\" rel=\"nofollow noreferrer\">this subroutine</a>:</p>\n\n<pre><code>sub updateResults{\n    my ($self, $Error, @Results) = @_;\n\n    undef %{$self-&gt;{'field'}};\n\n    ClearError($self);\n    if ($Error){\n        SetError($self, $Results[0], $Results[1]);\n        return ($Error);\n    }\n\n    @{$self-&gt;{'fnames'}} = @Results;\n\n    foreach (0..$#{$self-&gt;{'fnames'}}){\n        s/ +$//;\n        $self-&gt;{'field'}-&gt;{${$self-&gt;{'fnames'}}[$_]} = $_;\n    }\n    return undef;\n}\n</code></pre>\n\n<p>That is, it returns <code>undef</code> if there were no errors, and returns <code>$Error</code> if there was an error.</p>\n\n<p>Now, you say:</p>\n\n<blockquote>\n  <p>If I add a <code>$strNewError = 1</code> onto the end of the <code>$dbOR -&gt;Sql($strSQLNotNull);</code> ...</p>\n</blockquote>\n\n<p>It is not at all clear what that sentence means (<strong><em>always</em></strong> err on the side of showing relevant code instead of writing ambiguous prose), but if you are doing:</p>\n\n<pre><code>$dbOR -&gt;Sql($strSQLNotNull) or $strNewError = 1;\n</code></pre>\n\n<p>that will set <code>$strNewError</code> to <code>1</code> <em>only if</em> there was no error.</p>\n\n<p>Incidentally,</p>\n\n<pre><code>$strSQLNotNull .= \"WHERE Complete IS NULL \";\n$strSQLNotNull .= \"AND (((ProcessDate IS NULL ... );\n</code></pre>\n\n<p>as well as <code>$strNewError = 1</code> indicate issues with overall code quality.</p>\n"}], "owner": {"reputation": 41, "user_id": 2647596, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7b4a5e789df12c76a3f68a5493f0f86f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/2647596/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1498149841, "creation_date": 1498144383, "question_id": 44703318, "link": "https://stackoverflow.com/questions/44703318/perl-error-handling-for-win32odbc", "title": "Perl Error Handling for Win32::ODBC", "body": "<p>I am having a heck of a time with some error catching for some SQL statements.</p>\n\n<p>A little background:\nA previous co-worker (unfortunately passed away) wrote a perl module that has all kinds of goodies in it. A logging function, an Archiving function, an FTP function...all kinds of awesome stuff.</p>\n\n<p>He also wrote the script I am having problems with.</p>\n\n<p>Anyway, part of the logging function looks for a specific variable to be set, if it is, it marks the log with an error.</p>\n\n<p>Here is part of the function that is used in the live code:</p>\n\n<pre><code>$dbOR = new Win32::ODBC($DNSORDERS) or $strNewError = 1;\nLogger(\"Connect to $dbOR\", \"CANT CONNECT TO $dbOR\", $strNewError, $strErrorFile);\n</code></pre>\n\n<p>In the above case, if the connection fails, <code>$strNewError</code> gets set to a value of 1. Once this is set, any other portions of the script looking to see if an error occurred before they process something, will not process it if there is an error found.</p>\n\n<p>That also causes the error log to print the <code>\"CANT...\"</code> portion of that logger function into the log file. If it does connect, it prints the <code>\"Connect...\"</code> portion in the log file.</p>\n\n<p>Now here is my problem:</p>\n\n<p>I have this piece of code, that is updating some values after doing some processing (to prevent the re-processing of data if the script is run again).</p>\n\n<pre><code>$strSQLNotNull  = \"UPDATE WHTransfers \";\n$strSQLNotNull .= \"SET Complete = 1 \";\n$strSQLNotNull .= \"WHERE Complete IS NULL \";\n$strSQLNotNull .= \"AND (((ProcessDate IS NULL OR ProcessDate &lt;= GETDATE()) \";\n$strSQLNotNull .= \"AND [DeptNum] = $strDEPTNUM \";\n$strSQLNotNull .= \"AND [ToStore] = $strTOSTORE \";\n$strSQLNotNull .= \"AND [FromStore] = $strFROMSTORE) \";\n$strSQLNotNull .= \"OR [ActQty] = 0)\";\n\n$dbOR -&gt;Sql($strSQLNotNull);\n\n#Logger(\"Marked Transfer $strFileName as Completed\" ,\"UNABLE TO MARK $strFileName AS COMPLETED\", $strNewError, $strErrorFile);\n</code></pre>\n\n<p>Now, I tested the code and it does do the update to the database fields. If I add a <code>$strNewError = 1</code> onto the end of the <code>$dbOR -&gt;Sql($strSQLNotNull);</code> it throws the error and sets <code>$strNewError = 1</code>, regardless of whether it executes correctly or not (I verified it flagged the error even though it did the update).</p>\n\n<p>Obviously this is causing problems, as it causes the remainder of the script to think an error occurred (which it has checks for). When an error is detected, the script basically stops processing.</p>\n\n<p>Any ideas on how I can get a true error checking to work with the above portion? I would love any suggestions on how to incorporate the existing error checking/logger function, to properly catch an execute error.</p>\n\n<p>If you need any other information, please ask and I will provide what I can.</p>\n"}, {"tags": ["perl", "libssh2"], "comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1498153706, "post_id": 44702981, "comment_id": 76395250, "body": "As it currently is your script fails already while trying to compile."}, {"owner": {"reputation": 29, "user_id": 8092585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c8bbd14ca7fabe1f3ce0f5d7098e1cb?s=128&d=identicon&r=PG&f=1", "display_name": "n. traber", "link": "https://stackoverflow.com/users/8092585/n-traber"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1498154580, "post_id": 44702981, "comment_id": 76395750, "body": "I didn&#39;t upload the whole script, because the other parts are not relevant. I already have a output on my cli but as i said there&#39;s only a part of the lines instead of all of them."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1498159276, "post_id": 44702981, "comment_id": 76398307, "body": "Well, to show the problem you should provide a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>. So code that won&#39;t compile is no help."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 8092585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c8bbd14ca7fabe1f3ce0f5d7098e1cb?s=128&d=identicon&r=PG&f=1", "display_name": "n. traber", "link": "https://stackoverflow.com/users/8092585/n-traber"}, "edited": false, "score": 0, "creation_date": 1498558938, "post_id": 44717213, "comment_id": 76536129, "body": "Thanks for your answer. I&#39;ve added your Code to my script but it did not work. The problem is, it&#39;s an Arris CMTS and not Cisco hardware. If I connect over ssh from the server (where the script is) towards the CMTS and execute the command &quot;show cable modem phy&quot; I get all the lines I expected. That&#39;s the reason I thought about a variable limitation..."}, {"owner": {"reputation": 1979, "user_id": 2789312, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4OgOz.png?s=128&g=1", "display_name": "palik", "link": "https://stackoverflow.com/users/2789312/palik"}, "reply_to_user": {"reputation": 29, "user_id": 8092585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c8bbd14ca7fabe1f3ce0f5d7098e1cb?s=128&d=identicon&r=PG&f=1", "display_name": "n. traber", "link": "https://stackoverflow.com/users/8092585/n-traber"}, "edited": false, "score": 0, "creation_date": 1498565636, "post_id": 44717213, "comment_id": 76540419, "body": "take a look at <a href=\"https://metacpan.org/pod/Net::SSH2::Channel#read\" rel=\"nofollow noreferrer\">Net::SSH2::Channel</a> read method. It allow you to set buffer size, which could cause your issue"}], "tags": [], "owner": {"reputation": 1979, "user_id": 2789312, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4OgOz.png?s=128&g=1", "display_name": "palik", "link": "https://stackoverflow.com/users/2789312/palik"}, "is_accepted": false, "score": 0, "last_activity_date": 1498208194, "creation_date": 1498208194, "answer_id": 44717213, "question_id": 44702981, "link": "https://stackoverflow.com/questions/44702981/perl-netssh2-output-limit/44717213#44717213", "title": "Perl Net::SSH2 Output limit?", "body": "<p>I did a test run with your script. It stopped on more prompt</p>\n\n<p>Here slightly modified version of the script, which works fine in my environment:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse warnings;\nuse strict;\nuse Net::SSH2;\n\nmy $cmtsip   = \"x.x.x.x\";\nmy $password = 'somepassword';\nmy $username = \"someuser\";\n\n# login to cmts and get the table\nmy $ssh2 = Net::SSH2-&gt;new();\n$ssh2-&gt;connect($cmtsip) or die \"Unable to connect Host $@ \\n\";\n$ssh2-&gt;auth_password($username, $password) or die \"Unable to login $@ \\n\";\nmy $chan = $ssh2-&gt;channel();\n$chan-&gt;blocking(0);\n$chan-&gt;shell();\n\nprint $chan \"show cable modem phy\\n\";\n\nread_chanel();\n\nsub read_chanel {\n    while (&lt;$chan&gt;) {\n        if ($_ =~ /(?m:^\\s*--More--)/) {\n            print $chan \" \";\n            return read_chanel();\n        }\n        print $_;\n    } ## end while (&lt;$chan&gt;)\n} ## end sub read_chanel\n\n$chan-&gt;close;\n</code></pre>\n\n<p>Beside your question, take a look at <a href=\"https://metacpan.org/pod/Net::SSH2::Cisco\" rel=\"nofollow noreferrer\">Net::SSH2::Cisco</a> or <a href=\"https://metacpan.org/pod/Net::Appliance::Session\" rel=\"nofollow noreferrer\">Net::Appliance::Session</a> if you are via SSH dealing with Cisco IOS</p>\n"}], "owner": {"reputation": 29, "user_id": 8092585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c8bbd14ca7fabe1f3ce0f5d7098e1cb?s=128&d=identicon&r=PG&f=1", "display_name": "n. traber", "link": "https://stackoverflow.com/users/8092585/n-traber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1498208194, "creation_date": 1498143501, "last_edit_date": 1498198887, "question_id": 44702981, "link": "https://stackoverflow.com/questions/44702981/perl-netssh2-output-limit", "title": "Perl Net::SSH2 Output limit?", "body": "<p>I'm stucked on a perl script. It should return me at least 5000 lines that look like this (header just fyi):</p>\n\n<pre><code>Interface         ----- CMTS Measurements -----  --------- CM Measurements ---------                      \n(DS-US)           USPwr   USSNR  uReflec Timing  USPwr  DSPwr  DSSNR  uReflec Timing   Last                \nS/C/CH-S/CG/CH    (dBmV)   (db)   (dBc)  Offset  (dBmV) (dBmV)  (db)   (dBc)  Offset  Polled MAC address   \n----------------- ------- ------ ------- ------  ------ ------ ------ ------- ------- ------ --------------\n12/0/8-1/0/0         -0.4   28.3       0 312832    47.0   -2.4   37.2      24 1222.00  00:23 0000.cfbe.9151 (Arris)   \n12/0/15-1/0/0         0.0   29.8       0 353280    44.0  -14.4   32.4      30 1380.00  00:22 0017.9635.19b4 (Arris)   \n12/0/12-1/0/0         0.4   30.3       0 353024    48.0   -4.5   34.9      30 1380.00  00:22 0017.9795.5d3c (Arris)   \n12/0/15-1/0/0        -0.6   28.7       0 357120    44.0    0.2   38.0      30 1396.00  00:20 0017.a6uz.c781 (Arris)   \n12/0/14-1/0/0         0.0   28.5       0 354048    45.0    0.2   37.4      25 1383.00  00:20 0017.a289.96ef (Arris)    \n</code></pre>\n\n<p>But somehow the script stops at line 1500...\nThe Script looks like this:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse warnings;\nuse strict;\nuse Net::SSH2;\n\nmy $cmtsip=\"x.x.x.x\";\nmy $password='somepassword';\nmy $username=\"someuser\";\n\n# login to cmts and get the table\nmy $ssh2=Net::SSH2-&gt;new();\n$ssh2-&gt;connect($cmtsip) or die \"Unable to connect Host $@ \\n\";\n$ssh2-&gt;auth_password($username,$password) or die \"Unable to login $@ \\n\";\nmy $chan = $ssh2-&gt;channel();\n$chan-&gt;blocking(0);\n$chan-&gt;shell();\n\nprint $chan \"show cable modem phy\\n\";\nsleep (40);\n\nwhile (&lt;$chan&gt;)\n{\n    print $_;\n}\n\n$chan-&gt;close;\n</code></pre>\n\n<p>Can anyone please tell me at which part my script fails?</p>\n"}, {"tags": ["perl", "integer-arithmetic"], "comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498141056, "post_id": 44701909, "comment_id": 76386827, "body": "Try  to isolate the code with <code>qw</code> . E.g. <code>s&#47;qw(        )&#47;qw(         )&#47;</code>"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1498141392, "post_id": 44701909, "comment_id": 76387104, "body": "Next you&#39;ll get an <code>Can&#39;t do inplace edit without backup.</code>. But that&#39;s another problem."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 6501153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/102cba13dcf0837da131d4c1dbb047fa?s=128&d=identicon&r=PG&f=1", "display_name": "A. Fournier", "link": "https://stackoverflow.com/users/6501153/a-fournier"}, "edited": false, "score": 1, "creation_date": 1498141927, "post_id": 44702363, "comment_id": 76387558, "body": "Thanks! Your my hero!"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1498233303, "post_id": 44702363, "comment_id": 76433380, "body": "When <i>quoting</i> the bareword ZZZs, as in <code>perl -Mstrict -p -e &#39;s&#47;ZZZ(\\d+)ZZZ&#47;&quot;ZZZ&quot; . ($1 + 1000) . &quot;ZZZ&quot;&#47;e&#39;</code>, then it also works with strictures."}], "tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": false, "score": 6, "last_activity_date": 1498141928, "last_edit_date": 1498141928, "creation_date": 1498141826, "answer_id": 44702363, "question_id": 44701909, "link": "https://stackoverflow.com/questions/44701909/addition-in-perl-one-liner/44702363#44702363", "title": "Addition in perl one-liner", "body": "<p>Use <code>$1</code> and build a new string on the RHS using concatenation:</p>\n\n<pre><code>perl -pi -e 's/ZZZ(\\d+)ZZZ/ZZZ . ($1 + 1000) . ZZZ/e' file.txt\n</code></pre>\n\n<p>Note: This does not work with <code>perl -Mstrict</code></p>\n"}], "owner": {"reputation": 9, "user_id": 6501153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/102cba13dcf0837da131d4c1dbb047fa?s=128&d=identicon&r=PG&f=1", "display_name": "A. Fournier", "link": "https://stackoverflow.com/users/6501153/a-fournier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1498141928, "creation_date": 1498140654, "last_edit_date": 1498141769, "question_id": 44701909, "link": "https://stackoverflow.com/questions/44701909/addition-in-perl-one-liner", "title": "Addition in perl one-liner", "body": "<p>I'm trying to add 1000 to numbers with a perl one liner. Here is what I tried:</p>\n\n<pre><code>perl -pi -e \"s/ZZZ(\\d+)ZZZ/ZZZ\\1+1000ZZZ/e\" file.txt\n</code></pre>\n\n<p>I was hoping that would add <code>1000</code> to numbers between <code>ZZZ</code>. But I get the error message:</p>\n\n<pre><code>Backslash found where operator expected at -e line 1, near \"ZZZ\\\"\nBareword found where operator expected at -e line 1, near \"1000ZZZ\"\n    (Missing operator before ZZZ?)\nsyntax error at -e line 1, near \"ZZZ\\\"\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>Thanks for any help!</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1498150302, "post_id": 44699862, "comment_id": 76393448, "body": "@ssr1012 I didn&#39;t see that. True. But weird input."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1498135670, "creation_date": 1498135670, "answer_id": 44699862, "question_id": 44699750, "link": "https://stackoverflow.com/questions/44699750/how-to-convert-spaces-into-new-line-using-perl/44699862#44699862", "title": "How to convert spaces into new line using perl?", "body": "<p><code>tr</code> is a transliteration. That only works with individual characters, not patterns. You need to use <code>s///</code> with the <code>/g</code> modifier.</p>\n\n<pre><code>$var1 =~ s/\\s/\\n/g;\n</code></pre>\n\n<p>You can also do this with <code>split</code> and <code>join</code>.</p>\n\n<pre><code>$var1 = join \"\\n\", split / /, $var1;\n</code></pre>\n\n<p>It shouldn't make a difference in terms of performance, even if there are <em>a lot</em> of strings.</p>\n"}], "owner": {"reputation": 7, "user_id": 8112693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160bb7d1fdfe7de4fa25bc7daa56db45?s=128&d=identicon&r=PG&f=1", "display_name": "closedaccount", "link": "https://stackoverflow.com/users/8112693/closedaccount"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1498192348, "creation_date": 1498135375, "last_edit_date": 1498192348, "question_id": 44699750, "link": "https://stackoverflow.com/questions/44699750/how-to-convert-spaces-into-new-line-using-perl", "title": "How to convert spaces into new line using perl?", "body": "<hr>\n\n<p>I have the following input which is stored in single scalar variable named as $var1.</p>\n\n<p>Input(i.e stored in $var1)</p>\n\n<pre><code>Gain Dead_coverage Export_control Functional_coverage Function_logic top dac_decoder Datapath System_Level Black_DV Sync_logic temp1 temp2 temp3 temp4 temp5 temp6 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>Gain \nDead_coverage \nExport_control \nFunctional_coverage \nFunction_logic \ntop \ndac_decoder \nDatapath \nSystem_Level \nBlack_DV \nSync_logic \ntemp1 \ntemp2 \ntemp3 \ntemp4 \ntemp5 \ntemp6 \n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n</code></pre>\n\n<p>My code:</p>\n\n<p>I had tried the following regular expression.</p>\n\n<pre><code>$var1=tr{\\s}{\\n};\n</code></pre>\n\n<p>The above regular expression not brings my expected output.</p>\n\n<p>Note:the numbers may range upto n numbers and the character may starts or ends with capital or lower case.Whatever i need to bring like the expected output.For that which regular expression can i use it.</p>\n\n<p>Requirements:</p>\n\n<pre><code>1.split space into new line.\n2.for numbers(i.e 123456789101112.....) it should be considered as  follows\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n.\n.\n.\nso on,...\n\nAfter digit 9 the other numbers should be considered as double digit.\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498129496, "post_id": 44697154, "comment_id": 76377979, "body": "You have a fairly modern system. Do not install <a href=\"https://metacpan.org/pod/Crypt::SSLeay#DO-YOU-NEED-Crypt::SSLeay?\" rel=\"nofollow noreferrer\">Crypt::SSLeay</a>. Any programmer who <a href=\"https://www.nu42.com/2014/04/does-your-code-really-depend-on.html\" rel=\"nofollow noreferrer\">declares a dependency on Crypt::SSLeay</a> is doing it wrong. Use <code>Net::SSLeay</code> and <code>IO::Socket::SSL</code>."}, {"owner": {"reputation": 401, "user_id": 7676244, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c375b5c2f404e60a4f8afb48f40ff0ab?s=128&d=identicon&r=PG&f=1", "display_name": "Arolia", "link": "https://stackoverflow.com/users/7676244/arolia"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498182658, "post_id": 44697154, "comment_id": 76406369, "body": "@Sinan&#220;n&#252;r Thanks for your reply. Actually, some existing software depends on that, and I have to install it to run the software."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498183713, "post_id": 44697154, "comment_id": 76406579, "body": "I am 99% certain the software you mention only needs to depend on <code>LWP::Protocol::https</code> and not <code>Crypt::SSLeay</code>. Declaring a dependency on <code>Crypt::SSLeay</code> is wrong in almost all cases."}, {"owner": {"reputation": 401, "user_id": 7676244, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c375b5c2f404e60a4f8afb48f40ff0ab?s=128&d=identicon&r=PG&f=1", "display_name": "Arolia", "link": "https://stackoverflow.com/users/7676244/arolia"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498224084, "post_id": 44697154, "comment_id": 76427187, "body": "@Sinan&#220;n&#252;r Thanks. I&#39;ll try that."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1498224514, "post_id": 44697154, "comment_id": 76427487, "body": "Actually, installing <code>Crypt::SSLeay</code> installs <code>LWP::Protocol::https</code> which also causes <code>IO::Socket::SSL</code> and <code>Net::SSLeay</code> to be installed thereby ensuring your code <b>will not</b> use <code>Crypt::SSLeay</code> <b>unless</b> you take specific steps to force its use (which I don&#39;t recommend). That is my way of spreading the modern libraries to places where people think they need to declare an explicit dependency on <code>Crypt::SSLeay</code>."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 6, "last_activity_date": 1498129247, "creation_date": 1498129247, "answer_id": 44697470, "question_id": 44697154, "link": "https://stackoverflow.com/questions/44697154/unable-to-install-perl-cryptssleay-on-ubuntu/44697470#44697470", "title": "Unable to install perl Crypt::SSLeay on ubuntu", "body": "<p>Do you want to install this in the system library? Perhaps just use the pre-packaged version.</p>\n\n<pre><code>$ sudo apt-get install libcrypt-ssleay-perl\n</code></pre>\n"}], "owner": {"reputation": 401, "user_id": 7676244, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c375b5c2f404e60a4f8afb48f40ff0ab?s=128&d=identicon&r=PG&f=1", "display_name": "Arolia", "link": "https://stackoverflow.com/users/7676244/arolia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5498, "favorite_count": 0, "accepted_answer_id": 44697470, "answer_count": 1, "score": 1, "last_activity_date": 1498129247, "creation_date": 1498128329, "question_id": 44697154, "link": "https://stackoverflow.com/questions/44697154/unable-to-install-perl-cryptssleay-on-ubuntu", "title": "Unable to install perl Crypt::SSLeay on ubuntu", "body": "<p>I have installed openssl library, \nbut I still fail to install the module.</p>\n\n<p>I get the following output:</p>\n\n<pre><code>Checking if your kit is complete...\nLooks good\nWarning (mostly harmless): No library found for -lssl32\nWarning (mostly harmless): No library found for -lssleay32\nWarning (mostly harmless): No library found for -leay32\nWarning (mostly harmless): No library found for -llibeay32\nGenerating a Unix-style Makefile\nWriting Makefile for Crypt::SSLeay\nWriting MYMETA.yml and MYMETA.json\n  NANIS/Crypt-SSLeay-0.72.tar.gz\n  /usr/bin/perl Makefile.PL INSTALLDIRS=site -- OK\nRunning make for N/NA/NANIS/Crypt-SSLeay-0.72.tar.gz\ncp lib/Crypt/SSLeay/CTX.pm blib/lib/Crypt/SSLeay/CTX.pm\ncp lib/Crypt/SSLeay/X509.pm blib/lib/Crypt/SSLeay/X509.pm\ncp lib/Net/SSL.pm blib/lib/Net/SSL.pm\ncp lib/Crypt/SSLeay/Err.pm blib/lib/Crypt/SSLeay/Err.pm\ncp lib/Crypt/SSLeay/Conn.pm blib/lib/Crypt/SSLeay/Conn.pm\ncp SSLeay.pm blib/lib/Crypt/SSLeay.pm\ncp lib/Crypt/SSLeay/Version.pm blib/lib/Crypt/SSLeay/Version.pm\ncp lib/Crypt/SSLeay/MainContext.pm blib/lib/Crypt/SSLeay/MainContext.pm\nRunning Mkbootstrap for Crypt::SSLeay ()\nchmod 644 \"SSLeay.bs\"\n\"/usr/bin/perl\" \"/usr/share/perl/5.22/ExtUtils/xsubpp\"  -typemap \"/usr/share/perl/5.22/ExtUtils/typemap\" -typemap \"typemap\"  SSLeay.xs &gt; SSLeay.xsc &amp;&amp; mv SSLeay.xsc SSLeay.c\nx86_64-linux-gnu-gcc -c   -D_REENTRANT -D_GNU_SOURCE -DDEBIAN -fwrapv -fno-strict-aliasing -pipe -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2 -g   -DVERSION=\\\"0.72\\\" -DXS_VERSION=\\\"0.72\\\" -fPIC \"-I/usr/lib/x86_64-linux-gnu/perl/5.22/CORE\"   SSLeay.c\nSSLeay.xs: In function \u2018XS_Crypt__SSLeay__CTX_new\u2019:\nSSLeay.xs:152:31: warning: implicit declaration of function \u2018SSLv3_client_method\u2019 [-Wimplicit-function-declaration]\n             ctx = SSL_CTX_new(SSLv3_client_method());\n                               ^\nSSLeay.xs:152:31: warning: passing argument 1 of \u2018SSL_CTX_new\u2019 makes pointer from integer without a cast [-Wint-conversion]\nIn file included from SSLeay.xs:35:0:\n/usr/local/include/openssl/ssl.h:1305:17: note: expected \u2018const SSL_METHOD * {aka const struct ssl_method_st *}\u2019 but argument is of type \u2018int\u2019\n __owur SSL_CTX *SSL_CTX_new(const SSL_METHOD *meth);\n                 ^\nSSLeay.xs:157:31: warning: implicit declaration of function \u2018SSLv2_client_method\u2019 [-Wimplicit-function-declaration]\n             ctx = SSL_CTX_new(SSLv2_client_method());\n                               ^\nSSLeay.xs:157:31: warning: passing argument 1 of \u2018SSL_CTX_new\u2019 makes pointer from integer without a cast [-Wint-conversion]\nIn file included from SSLeay.xs:35:0:\n/usr/local/include/openssl/ssl.h:1305:17: note: expected \u2018const SSL_METHOD * {aka const struct ssl_method_st *}\u2019 but argument is of type \u2018int\u2019\n __owur SSL_CTX *SSL_CTX_new(const SSL_METHOD *meth);\n                 ^\nrm -f blib/arch/auto/Crypt/SSLeay/SSLeay.so\nx86_64-linux-gnu-gcc  -shared -L/usr/local/lib -fstack-protector-strong SSLeay.o  -o blib/arch/auto/Crypt/SSLeay/SSLeay.so  \\\n   -lssl -lcrypto -lz   \\\n\nchmod 755 blib/arch/auto/Crypt/SSLeay/SSLeay.so\n\"/usr/bin/perl\" -MExtUtils::Command::MM -e 'cp_nonempty' -- SSLeay.bs blib/arch/auto/Crypt/SSLeay/SSLeay.bs 644\nManifying 3 pod documents\n  NANIS/Crypt-SSLeay-0.72.tar.gz\n  /usr/bin/make -- OK\n</code></pre>\n\n<p>It seems the make procedure works well,\nbut then the test procedure fails,\nthe output is as follows:</p>\n\n<pre><code>Running make test\nRunning Mkbootstrap for Crypt::SSLeay ()\nchmod 644 \"SSLeay.bs\"\nPERL_DL_NONLAZY=1 \"/usr/bin/perl\" \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t\nt/00-basic.t ..... 1/? \n#   Failed test 'use Crypt::SSLeay;'\n#   at t/00-basic.t line 6.\n#     Tried to use 'Crypt::SSLeay'.\n#     Error:  Can't load '/home/dcsunset/.cpan/build/Crypt-SSLeay-0.72-eYwzMd/blib/arch/auto/Crypt/SSLeay/SSLeay.so' for module Crypt::SSLeay: /home/dcsunset/.cpan/build/Crypt-SSLeay-0.72-eYwzMd/blib/arch/auto/Crypt/SSLeay/SSLeay.so: undefined symbol: SSLv2_client_method at /usr/lib/x86_64-linux-gnu/perl/5.22/DynaLoader.pm line 187.\n#  at t/00-basic.t line 6.\n# Compilation failed in require at t/00-basic.t line 6.\n# BEGIN failed--compilation aborted at t/00-basic.t line 6.\n\n#   Failed test 'use Crypt::SSLeay::CTX;'\n#   at t/00-basic.t line 7.\n#     Tried to use 'Crypt::SSLeay::CTX'.\n#     Error:  Attempt to reload Crypt/SSLeay.pm aborted.\n# Compilation failed in require at /home/dcsunset/.cpan/build/Crypt-SSLeay-0.72-eYwzMd/blib/lib/Crypt/SSLeay/CTX.pm line 2.\n# Compilation failed in require at t/00-basic.t line 7.\n# BEGIN failed--compilation aborted at t/00-basic.t line 7.\n\n#   Failed test 'use Crypt::SSLeay::Conn;'\n#   at t/00-basic.t line 8.\n#     Tried to use 'Crypt::SSLeay::Conn'.\n#     Error:  Attempt to reload Crypt/SSLeay.pm aborted.\n# Compilation failed in require at /home/dcsunset/.cpan/build/Crypt-SSLeay-0.72-eYwzMd/blib/lib/Crypt/SSLeay/Conn.pm line 2.\n# Compilation failed in require at t/00-basic.t line 8.\n# BEGIN failed--compilation aborted at t/00-basic.t line 8.\n\n#   Failed test 'use Crypt::SSLeay::Err;'\n#   at t/00-basic.t line 9.\n#     Tried to use 'Crypt::SSLeay::Err'.\n#     Error:  Attempt to reload Crypt/SSLeay.pm aborted.\n# Compilation failed in require at /home/dcsunset/.cpan/build/Crypt-SSLeay-0.72-eYwzMd/blib/lib/Crypt/SSLeay/Err.pm line 2.\n# Compilation failed in require at t/00-basic.t line 9.\n# BEGIN failed--compilation aborted at t/00-basic.t line 9.\n\n#   Failed test 'use Crypt::SSLeay::MainContext;'\n#   at t/00-basic.t line 10.\n#     Tried to use 'Crypt::SSLeay::MainContext'.\n#     Error:  Attempt to reload Crypt/SSLeay/CTX.pm aborted.\n# Compilation failed in require at /home/dcsunset/.cpan/build/Crypt-SSLeay-0.72-eYwzMd/blib/lib/Crypt/SSLeay/MainContext.pm line 8.\n# Compilation failed in require at t/00-basic.t line 10.\n# BEGIN failed--compilation aborted at t/00-basic.t line 10.\n\n#   Failed test 'use Crypt::SSLeay::Version;'\n#   at t/00-basic.t line 12.\n#     Tried to use 'Crypt::SSLeay::Version'.\n#     Error:  Attempt to reload Crypt/SSLeay.pm aborted.\n# Compilation failed in require at /home/dcsunset/.cpan/build/Crypt-SSLeay-0.72-eYwzMd/blib/lib/Crypt/SSLeay/Version.pm line 2.\n# Compilation failed in require at t/00-basic.t line 12.\n# BEGIN failed--compilation aborted at t/00-basic.t line 12.\n\n#   Failed test 'use Net::SSL;'\n#   at t/00-basic.t line 23.\n#     Tried to use 'Net::SSL'.\n#     Error:  Attempt to reload Crypt/SSLeay.pm aborted.\n# Compilation failed in require at /home/dcsunset/.cpan/build/Crypt-SSLeay-0.72-eYwzMd/blib/lib/Net/SSL.pm line 20.\n# Compilation failed in require at t/00-basic.t line 23.\n# BEGIN failed--compilation aborted at t/00-basic.t line 23.\nUndefined subroutine &amp;main::main_ctx called at t/00-basic.t line 49.\n# Tests were run but no plan was declared and done_testing() was not seen.\n# Looks like your test exited with 2 just after 13.\n</code></pre>\n\n<p>Is there something wrong?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["json", "perl", "http", "intellij-idea", "dropwizard"], "comments": [{"owner": {"reputation": 354, "user_id": 6370796, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/f76Nr.jpg?s=128&g=1", "display_name": "Asew", "link": "https://stackoverflow.com/users/6370796/asew"}, "edited": false, "score": 0, "creation_date": 1498130066, "post_id": 44695886, "comment_id": 76378388, "body": "Can you post the code that is supposed to process your json ?"}, {"owner": {"reputation": 87, "user_id": 8097996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/80d6ea1bd4b473c14061c57749a1f218?s=128&d=identicon&r=PG&f=1", "display_name": "Ussopokingo", "link": "https://stackoverflow.com/users/8097996/ussopokingo"}, "reply_to_user": {"reputation": 354, "user_id": 6370796, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/f76Nr.jpg?s=128&g=1", "display_name": "Asew", "link": "https://stackoverflow.com/users/6370796/asew"}, "edited": false, "score": 0, "creation_date": 1498131093, "post_id": 44695886, "comment_id": 76379059, "body": "I edited the post , above with the code used, its in Perl"}, {"owner": {"reputation": 354, "user_id": 6370796, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/f76Nr.jpg?s=128&g=1", "display_name": "Asew", "link": "https://stackoverflow.com/users/6370796/asew"}, "edited": false, "score": 0, "creation_date": 1498131673, "post_id": 44695886, "comment_id": 76379482, "body": "Do you also have the code of the request method? And the content method?"}, {"owner": {"reputation": 87, "user_id": 8097996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/80d6ea1bd4b473c14061c57749a1f218?s=128&d=identicon&r=PG&f=1", "display_name": "Ussopokingo", "link": "https://stackoverflow.com/users/8097996/ussopokingo"}, "reply_to_user": {"reputation": 354, "user_id": 6370796, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/f76Nr.jpg?s=128&g=1", "display_name": "Asew", "link": "https://stackoverflow.com/users/6370796/asew"}, "edited": false, "score": 0, "creation_date": 1498131843, "post_id": 44695886, "comment_id": 76379590, "body": "no, i dont have the request but I think its a simple HTTP POST request with content type as application/JSON"}, {"owner": {"reputation": 354, "user_id": 6370796, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/f76Nr.jpg?s=128&g=1", "display_name": "Asew", "link": "https://stackoverflow.com/users/6370796/asew"}, "edited": false, "score": 1, "creation_date": 1498132595, "post_id": 44695886, "comment_id": 76380120, "body": "So, you don&#39;t know what happen to the Json after you send it ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498132610, "post_id": 44695886, "comment_id": 76380131, "body": "Please print the value of <code>$json</code>"}, {"owner": {"reputation": 87, "user_id": 8097996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/80d6ea1bd4b473c14061c57749a1f218?s=128&d=identicon&r=PG&f=1", "display_name": "Ussopokingo", "link": "https://stackoverflow.com/users/8097996/ussopokingo"}, "edited": false, "score": 0, "creation_date": 1498134371, "post_id": 44695886, "comment_id": 76381516, "body": "User-Agent: libwww-perl/6.15..Content-Type: application/json..Content-Length: 86....{&quot;queued&quot;:&quot;xxxxxx&quot;,&quot;messageid&quot;:&quot;gffgd.gfdg@g.sfds.fr&quot;}"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 8097996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/80d6ea1bd4b473c14061c57749a1f218?s=128&d=identicon&r=PG&f=1", "display_name": "Ussopokingo", "link": "https://stackoverflow.com/users/8097996/ussopokingo"}, "edited": false, "score": 0, "creation_date": 1498134256, "post_id": 44698819, "comment_id": 76381413, "body": "i did try this , but it&#39;s keep give me the same Error, but if I change the value to a normal String without &quot;.&quot; , its work"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1498132736, "creation_date": 1498132736, "answer_id": 44698819, "question_id": 44695886, "link": "https://stackoverflow.com/questions/44695886/http-request-doesnt-get-json-expression-with-values-contain-a-dot/44698819#44698819", "title": "HTTP request doesn&#39;t get Json expression with values contain a dot &quot;.&quot;", "body": "<p>It would be less error-prone to use the JSON library to build your JSON string</p>\n\n<pre><code>use JSON 'to_json';\n\nmy $json = to_json({ queued =&gt; $queued, messageid =&gt; $messageid });\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 8097996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/80d6ea1bd4b473c14061c57749a1f218?s=128&d=identicon&r=PG&f=1", "display_name": "Ussopokingo", "link": "https://stackoverflow.com/users/8097996/ussopokingo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1498132736, "creation_date": 1498124847, "last_edit_date": 1498131054, "question_id": 44695886, "link": "https://stackoverflow.com/questions/44695886/http-request-doesnt-get-json-expression-with-values-contain-a-dot", "title": "HTTP request doesn&#39;t get Json expression with values contain a dot &quot;.&quot;", "body": "<p>I have a Json expression that contains values with \".\" and @ like this </p>\n\n<pre><code>     {\"queued\":\"C1F\",\"messageid\":\"dfs.jfdsf@sdf.abc.fr\"} \n</code></pre>\n\n<p>that doesn't get processed by HTTP POST request , and it's give me this result :</p>\n\n<pre><code>    \"code\":400,\"message\":\"Unable to process JSON\n</code></pre>\n\n<p>PS: my web server is created with dropWizard in Intellij IDEA</p>\n\n<p>how can I resolve this problem</p>\n\n<p>EDIT: this is the code used in perl </p>\n\n<pre><code>    my $queued=$1; my $messageid=$2 ;\n    my $json= \"{\\\"queued\\\":\\\"$queued\\\",\\\"messageid\\\":\\\"$messageid\\\"}\";\n    $req1-&gt;content($json);\n    my $response=$ua-&gt;request($req1);\n    if ($response-&gt;is_success) {\n        my $message =$response-&gt;decoded_content ;\n        print \"resultat : $message \\n\";\n    }\n    else {\n        print \"erreur\", $response-&gt;code, \" \", $response-&gt;message, \"\\n\" ;\n    }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1498113317, "post_id": 44691565, "comment_id": 76366943, "body": "You assign an empty string to <code>$result</code> with the line <code>$result = &quot;&quot;;</code>.  Then you attempt to read from that? It&#39;s an empty string.  It&#39;s not even a valid filehandle.  If your <code>@data</code> contains filehandles just remove <code>$result = &quot;&quot;;</code> and see what happens. If the <code>@data</code> does <i>not</i> in fact have filehandles then I have no idea what you are trying to do, please explain."}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498113592, "post_id": 44691565, "comment_id": 76367095, "body": "Am trying to pass $result into while condition to read the contents of $result line by line.So i had tried the above code.But am not sure is it right manner to pass local variable as file while loop condition. @zdim"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498114345, "post_id": 44691565, "comment_id": 76367552, "body": "I understand that part.  Yes, you can do that, exactly as written, now once you&#39;ve edited and commented out that line.  Did you try what is posted now?  I don&#39;t know what <code>$out</code> is, and I don&#39;t know whether <code>@data</code> carries valid lexical filehandles -- but if all that is alright the posted code as it is now should work."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498114573, "post_id": 44691565, "comment_id": 76367687, "body": "Just in case:  I take it that your <code>@data</code> contains valid opened filehandles (things that you get with <code>open my $fh, &#39;&lt;&#39;, $file</code> or such).  Then the shown code should work as it stands.  But, the part of the question where you show <code>@data</code> and expected output isn&#39;t clear to me.  Does your <code>@data</code> have  filehandles and what happens with the code as it is now?"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498114814, "post_id": 44691565, "comment_id": 76367827, "body": "while(&lt;$result&gt;) is breaking in my case.I dont know how to pass $result variable into while loop condition .@zdim"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498114866, "post_id": 44691565, "comment_id": 76367852, "body": "if i run the above code i got the message as killed in my terminal .@zdim"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498115262, "post_id": 44691565, "comment_id": 76368089, "body": "i want to use same local variable as while condition and print the same contents of local variable i.e $result inside the while loop @zdim"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498115341, "post_id": 44691565, "comment_id": 76368134, "body": "Since I am not sure what is going on I posted a working example.  Let me know."}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498115716, "post_id": 44691565, "comment_id": 76368358, "body": "added input file for your reference @zdim"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498118440, "post_id": 44691565, "comment_id": 76370144, "body": "Let me summarize what I see.  You have a file with text like <code>symbol1:</code>. You read that and store text in <code>@data</code>.  Then you iterate over data and for each <code>$result</code> you want to do <code>&lt;$result&gt;</code>.  As I said, <code>&lt;&gt;</code> is an operator which needs a <i>filehandle</i> to read from, not just a string with some text.  So I don&#39;t understand what you are expecting from <code>&lt;$result&gt;</code> -- can you explain this?  I will remove my answer now since it doesn&#39;t apply to the question as it stands at the moment.  I will edit and restore the answer later, if it can be made to fit the explained problem."}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498118616, "post_id": 44691565, "comment_id": 76370262, "body": "that is what am questioning is it right manner to pass the local variable inside the while loop condition. @zdim"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498119019, "post_id": 44691565, "comment_id": 76370532, "body": "Yes, it is right.  But the <code>&lt;$result&gt;</code> does not make any sense if that <code>$result</code> is merely some text, like <code>symbol1</code>.  If you can explain what you expect  the <code>&lt;$result&gt;</code> to do (and what that <code>symbol1</code> means etc) I will revisit this.  Also, please see again my first three comments."}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498119033, "post_id": 44691565, "comment_id": 76370539, "body": "i had removed that &lt;&gt; .Now the above code is not printing the expected output. So i raised this question whether $result local variable is passing in correct manner inside the while loop condition. Is this is the right way to do or  i should follow any other ways .@zdim"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498119113, "post_id": 44691565, "comment_id": 76370587, "body": "By mistake i had include the &lt;&gt; angular brackets.I thought it as an file handle but here i need to pass the local variable as condition .@zdim"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498119391, "post_id": 44691565, "comment_id": 76370784, "body": "So you are saying that <code>&lt;&gt;</code> is a mistake and shouldn&#39;t be there?  What about all my questions about it?  Besides, it is not that simple -- <code>while ($variable)</code> doesn&#39;t make much sense either.  But, yes, you can use a local variable as a condition."}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498119886, "post_id": 44691565, "comment_id": 76371127, "body": "i think you are not clear with my question my error part is only with while condition.All other things are fine.I want to pass the local variable as while loop condition .i dont know how to pass .So i had posted my question here how to pass the local variable as condition @zdim"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1498120200, "post_id": 44691565, "comment_id": 76371375, "body": "Why do you want to do <code>while ($result)</code> or something similar? <code>$result</code> is only a scalar containing a string. Just do <code>for my $result( @data ){ print &quot;result = $result\\n&quot; }</code> instead of your actual <code>for</code> loop, and it will print the values of <code>$result</code>. Furthermore, do you realize that <code>@data</code> never contains more than two elements? Also, what is <code>$out</code>?"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1498120441, "post_id": 44691565, "comment_id": 76371532, "body": "Also, I&#39;ve seen one or two similar questions recently; may I ask if you got this problem while following a tutorial / book ? if so, which is it?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498121510, "post_id": 44691565, "comment_id": 76372301, "body": "What you&#39;re asking doesn&#39;t make much sense. It sounds like you may have used a different language (Ruby perhaps) and are expecting something similar in Perl. If so then it would help a lot if you showed how you would do this in a language that you know well."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498121565, "post_id": 44691565, "comment_id": 76372351, "body": "What is <code>$out</code> please?"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498122297, "post_id": 44691565, "comment_id": 76372892, "body": "check my code i had added few more lines $out =&gt; $outfile.I hope now you had understood why i had used $outfile @Borodin"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1498122320, "post_id": 44691565, "comment_id": 76372909, "body": "$OUTFILE IS USED TO CHECK THE EXISTENXE OF FILE @Dada"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1498122775, "post_id": 44691565, "comment_id": 76373236, "body": "@salar33: Okay, well I&#39;ve tidied your code so that I could read it and it&#39;s clear it won&#39;t compile. You never declare <code>$output</code>, your call to <code>File::Find::Rule</code> is wrong, and you have a <code>while ( ... ) { ... } else { ... }</code> construct which is invalid. Please show your real code."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1498122788, "post_id": 44691565, "comment_id": 76373242, "body": "You seem to be convince that your problem is &quot;how to pass a local variable as a condition to a while&quot;, but it&#39;s not. There are many incoherences in your code, and it&#39;s really hard to understand what you are trying to achieve. It might help if you could give us some context about what you are trying to do: is it some kind of programming exercise? is there a specification that you are following? (in any cases, please add details). Also, like Borodin suggested, if it&#39;s a problem you&#39;d be able to solve with another programing language, show us the code in that other language, it might help us."}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1498123265, "post_id": 44691565, "comment_id": 76373570, "body": "i will reconstruct my code clearly @Dada"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1498123630, "post_id": 44691565, "comment_id": 76373861, "body": "@salar33: <i>&quot;Am trying to pass $result into while condition to read the contents of $result line by line&quot;</i> You need to understand that your <i>outer</i> <code>while</code> loop reads *one line at a time from the file into <code>$line</code>. The <code>split</code> statement divides that line into two (given your sample data) and puts <code>sync_logic </code> and ` a` into <code>@data</code> (for the first line of the file). Then your <code>for</code> loop sets <code>$result</code> first to <code>sync_logic </code> and then to ` a<code>. I cannot fathom what your *inner* </code>while` loop is supposed to do."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1498124385, "post_id": 44691565, "comment_id": 76374424, "body": "This question makes as little sense as <a href=\"https://stackoverflow.com/questions/44674653/how-to-write-result-of-regular-expression-variable-into-new-file-using-perl\">the one you asked yesterday</a>. Unless you can find a way to make your requirements clearer, I&#39;m going to stop trying to answer your questions."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1498125985, "post_id": 44691565, "comment_id": 76375601, "body": "@salar33: No you haven&#39;t. Your code is still random nonsense that doesn&#39;t even compile."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1498123279, "last_edit_date": 1592644375, "creation_date": 1498123279, "answer_id": 44695295, "question_id": 44691565, "link": "https://stackoverflow.com/questions/44691565/how-to-pass-local-variable-as-the-while-condition/44695295#44695295", "title": "How to pass local variable as the `while` condition", "body": "<p>From your expected output, it looks like you just want to remove the colon <code>:</code> from each line. That would look like this</p>\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $file = 'test.txt';\n\nopen my $fh, '&lt;', $file or die &quot;Can't open $file: $!&quot;;\n\nwhile ( my $line = &lt;$fh&gt; ) {\n\n    chomp $line;\n\n    my @data = split /\\s*:\\s*/, $line;\n    print join(' ', @data), &quot;\\n&quot;;\n}\n</code></pre>\n<p>Given the input data that you show in your question, that produces this output</p>\n<h3>output</h3>\n<pre><code>sync_logic a\nsymbol1 b\nsymbol2 c\nsymbol3 d\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 0, "creation_date": 1498126139, "post_id": 44696178, "comment_id": 76375702, "body": "why you are using file handle as  &lt;DATA&gt; @Dave Cross"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 0, "creation_date": 1498126163, "post_id": 44696178, "comment_id": 76375718, "body": "you have not opened it anywhere @Dave Cross"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 0, "creation_date": 1498126208, "post_id": 44696178, "comment_id": 76375758, "body": "and why you had given different file handle @Dave Cross"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 0, "creation_date": 1498126606, "post_id": 44696178, "comment_id": 76376041, "body": "I used DATA because it&#39;s a convenient way to include data inside your program and not have to use a separate file. I didn&#39;t open it because it&#39;s a special filehandle that is already opened for you."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 0, "creation_date": 1498126646, "post_id": 44696178, "comment_id": 76376072, "body": "I know you showed us new code. I&#39;ve copied your new code, but it still contains syntax errors. That is why I&#39;m giving up helping you."}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 0, "creation_date": 1498127101, "post_id": 44696178, "comment_id": 76376414, "body": "Could you please say me where the error occurs because it runs for me expect the error par @Dave Cross"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 0, "creation_date": 1498127634, "post_id": 44696178, "comment_id": 76376780, "body": "I&#39;ve told you. It&#39;s in my answer above. Have you read my answer? How much clearer can I make it?"}, {"owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 0, "creation_date": 1498127839, "post_id": 44696178, "comment_id": 76376918, "body": "Its your mistake your added braces at the end of the line @Dave Cross"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "edited": false, "score": 1, "creation_date": 1498127949, "post_id": 44696178, "comment_id": 76376996, "body": "It&#39;s not about braces, it&#39;s about parentheses. This line is still in your code: <code>my @data=split&#47;:&#47;,$line);</code>. And at this point, I am going to stop replying to you."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1498126885, "last_edit_date": 1498126885, "creation_date": 1498125684, "answer_id": 44696178, "question_id": 44691565, "link": "https://stackoverflow.com/questions/44691565/how-to-pass-local-variable-as-the-while-condition/44696178#44696178", "title": "How to pass local variable as the `while` condition", "body": "<p>As with <a href=\"https://stackoverflow.com/questions/44674653/how-to-write-result-of-regular-expression-variable-into-new-file-using-perl\">yesterday's question</a>, it's really unclear what you are trying to do.</p>\n\n<p>In an attempt to understand what is going on here, I took the part of your code that processes one file and converted it so that it read the data from the DATA filehandle. Cleaning up your strange formatting gave me this code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $outfile = 'test.txt';\n\nwhile (my $line = &lt;DATA&gt;) {\n  my @data = split/:/,$line);\n  for my $result (@data) {\n    if (-f $outfile) {\n      open my $fh, '&lt;', $result || die \"$!\";\n      $result=~s/(\"\\S+|\\s+\")\\s*/$1/g;\n\n      while ($result) {\n        $result .= $_;\n        print $result;\n      }\n      push @data, $fh;\n    }\n  }\n}\n\n__DATA__\nsync_logic : a\nsymbol1: b\nsymbol2: c\nsymbol3: d\n</code></pre>\n\n<p>Running this, gave me an error:</p>\n\n<blockquote>\n  <p>syntax error at test.pl line 9, near \"$line)\"</p>\n</blockquote>\n\n<p>So you're not even giving us code that compiles.</p>\n\n<p>Look. A vital part of being a good programmer is attention to detail. If you are sharing code with people, hoping that they will look at it for you and help you find the problems, then you need to give them code that they can run. Before sharing sample code with us, you need to test it and ensure that it compiles. Do not just edit code on the fly in the SO editor and expect that it will still work. We don't want to spend time fixing your typos - we want to help you fix the real problems in your code.</p>\n\n<p>So I'm afraid I'm giving up at this point. I will find people to help who don't waste my time.</p>\n\n<p>(And, yes, I know that this isn't strictly an answer to the question, so I expect to be downvoted or have the answer flagged. But while it's not an answer to the question, I do think it's useful information that salar33 needs to hear.)</p>\n"}], "owner": {"reputation": 27, "user_id": 8188508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/961f2f4312666ed6670d38acb1876edb?s=128&d=identicon&r=PG&f=1", "display_name": "nasa aneer", "link": "https://stackoverflow.com/users/8188508/nasa-aneer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1498127139, "creation_date": 1498112348, "last_edit_date": 1592644375, "question_id": 44691565, "link": "https://stackoverflow.com/questions/44691565/how-to-pass-local-variable-as-the-while-condition", "title": "How to pass local variable as the `while` condition", "body": "<p>Here in my code I have tried to pass a variable <code>$result</code> inside the <code>while</code> loop condition.</p>\n<p>How can I do it?</p>\n<h3>My code:</h3>\n<pre><code>use strict;\nuse warnings;\nuse File::Find::Rule;\nmy $output=&quot;/data/file.txt&quot;;\nmy @files=File::Find::Rule-&gt;file -&gt;in($output);\nforeach my $file(@files)\n{\n    my ($file)=~m|(.*)|;\n    my $outfile=&quot;$file.txt&quot;;\n    open my $fh_out,'&gt;',$outfile or die &quot;error&quot;;\n    open my $fh,'&lt;',$file or die &quot;error&quot;;\n    while(my $line=&lt;$fh&gt;)\n         {\n           my @data=split/:/,$line);\n           for my $result(@data)\n               {\n                if(-f $outfile)\n                   {\n                    open my $fh1,'&lt;',$result || die &quot;$!&quot;;\n                    $result=~s/(&quot;\\S+|\\S+&quot;)\\s*/$1/g;\n                    \n                    while($result)##Note:Error at this part $result from local variable should pass as loop condition.Then only it will print $result statement inside the while loop.Now the print $result is not printing.\n                        {\n                        $result.=$_;\n                        print $result;\n                        }\n                       push @data,$fh1;\n                      }\n                }\n          }\n   }\n</code></pre>\n<p>In my code <code>@data</code> contents can be stored as local variable <code>$result</code>.</p>\n<p>Now the same <code>$result</code> contents should be used in <code>while</code> condition.</p>\n<p>How can I do it?</p>\n<p>Is there any other way to use with file handle?</p>\n<h3>The input file: <code>$file</code></h3>\n<pre><code>sync_logic : a\nsymbol1: b\nsymbol2: c\nsymbol3: d\n</code></pre>\n<h3><code>@data</code> will have the following contents</h3>\n<pre><code>'sync_logic', 'a'\n'symbol1',    'b'\n'symbol2',    'c'\n'symbol3',    'd'\n</code></pre>\n<h3>The expected output from <code>$result</code> should be as follows</h3>\n<pre><code>sync_logic a\nsymbol1 b\nsymbol2 c\nsymbol3 d\n</code></pre>\n<p>Error:</p>\n<pre><code>I got the following error message when i run the above code:\n\nKilled\n</code></pre>\n"}]