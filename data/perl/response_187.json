[{"tags": ["xml", "perl"], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 3, "last_activity_date": 1533746207, "creation_date": 1533746207, "answer_id": 51751639, "question_id": 51751501, "link": "https://stackoverflow.com/questions/51751501/xmlbare-forcearray/51751639#51751639", "title": "XML::Bare forcearray", "body": "<pre><code>sub forcearray {\n  my $ref = shift;\n  return [] if( !$ref );\n  return $ref if( ref( $ref ) eq 'ARRAY' );\n  return [ $ref ];\n}\n</code></pre>\n\n<hr>\n\n<p>The <a href=\"https://metacpan.org/source/CODECHILD/XML-Bare-0.53/Bare.pm#L469\" rel=\"nofollow noreferrer\"><code>XML::Bare::forcearray</code></a> function always returns an array reference, but it does not modify its input. So you need to use the return value of <code>forcearray</code>.</p>\n\n<pre><code>$_-&gt;{b} = forcearray($_-&gt;{b});\n$_-&gt;{c} = forcearray($_-&gt;{c});\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 6882575, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IjdTQRF_yLA/AAAAAAAAAAI/AAAAAAAAAEk/PydN2jjoNmk/photo.jpg?sz=128", "display_name": "Kris Van Bruwaene", "link": "https://stackoverflow.com/users/6882575/kris-van-bruwaene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533746475, "creation_date": 1533745647, "last_edit_date": 1533746475, "question_id": 51751501, "link": "https://stackoverflow.com/questions/51751501/xmlbare-forcearray", "title": "XML::Bare forcearray", "body": "<p>I'm trying to parse the following XML data with\n<a href=\"https://metacpan.org/pod/XML::Bare\" rel=\"nofollow noreferrer\"><code>XML::Bare</code></a></p>\n\n<pre><code>&lt;xml&gt;\n  &lt;a&gt;\n    &lt;b&gt;1&lt;/b&gt;\n    &lt;b&gt;2&lt;/b&gt;\n    &lt;c&gt;\n      &lt;b&gt;3&lt;/b&gt;\n    &lt;/c&gt;\n  &lt;/a&gt;\n  &lt;a&gt;\n    &lt;b&gt;4&lt;/b&gt;\n    &lt;c&gt;\n      &lt;b&gt;5&lt;/b&gt;\n      &lt;b&gt;6&lt;/b&gt;\n    &lt;/c&gt;\n    &lt;c&gt;\n      &lt;b&gt;7&lt;/b&gt;\n    &lt;/c&gt;\n  &lt;/a&gt;\n&lt;/xml&gt;\n</code></pre>\n\n<p>with the following code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::Bare qw( forcearray );\n\nmy $ob   = new XML::Bare( file =&gt; \"tst.xml\" );\nmy $root = $ob-&gt;parse();\n\nforcearray($root-&gt;{xml}-&gt;{a});\nmy @as = @{ $root-&gt;{xml}-&gt;{a} }\n\nforeach ( @as ) {\n\n    print $ob-&gt;xml($_);\n\n    forcearray($_-&gt;{b});\n    print scalar @{ $_-&gt;{b} }, \" bs\\n\";\n\n    forcearray($_-&gt;{c});\n    print scalar @{ $_-&gt;{c} }, \" cs\\n\";\n}\n</code></pre>\n\n<p>It fails on the last print with</p>\n\n<blockquote>\n  <p>Not an ARRAY reference at ./tst_xml.pl line 16</p>\n</blockquote>\n\n<p>Why is that?</p>\n"}, {"tags": ["perl", "directory"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1533801919, "post_id": 51750750, "comment_id": 90482504, "body": "What have you tried? What problems are you having? Please show us your code."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 5, "last_activity_date": 1533760300, "last_edit_date": 1533760300, "creation_date": 1533743800, "answer_id": 51750981, "question_id": 51750750, "link": "https://stackoverflow.com/questions/51750750/find-file-names-with-certain-extensions/51750981#51750981", "title": "Find file names with certain extensions", "body": "<p>The simplest way is to use <a href=\"http://p3rl.org/glob\" rel=\"nofollow noreferrer\">glob</a>:</p>\n\n<pre><code>chdir $directory;\nmy @files = glob '*.srt *.sub *.txt *.ass *.ssa';\n</code></pre>\n\n<p>Another way is to use <a href=\"http://p3rl.org/readdir\" rel=\"nofollow noreferrer\">readdir</a>, but then you have to filter the files yourself, e.g. by using <a href=\"http://p3rl.org/grep\" rel=\"nofollow noreferrer\">grep</a>:</p>\n\n<pre><code>open my $dir_handle, $directory or die $!;\nmy @files = grep /\\.(?:srt|sub|txt|ass|ssa)\\z/, readdir $dir_handle;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": false, "score": 0, "last_activity_date": 1533787161, "creation_date": 1533787161, "answer_id": 51758623, "question_id": 51750750, "link": "https://stackoverflow.com/questions/51750750/find-file-names-with-certain-extensions/51758623#51758623", "title": "Find file names with certain extensions", "body": "<p>And if you need to search through an entire directory tree, use <a href=\"https://metacpan.org/pod/File::Find\" rel=\"nofollow noreferrer\">File::Find</a>.</p>\n"}], "owner": {"reputation": 9, "user_id": 7058522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KPW6p.gif?s=128&g=1", "display_name": "armight29", "link": "https://stackoverflow.com/users/7058522/armight29"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1533787161, "creation_date": 1533743112, "last_edit_date": 1533745528, "question_id": 51750750, "link": "https://stackoverflow.com/questions/51750750/find-file-names-with-certain-extensions", "title": "Find file names with certain extensions", "body": "<p>I want to search a directory for file names with any of the following extensions: <code>.srt</code>, <code>.sub</code>, <code>.txt</code>, <code>.ass</code>, <code>.ssa</code>.</p>\n\n<p>I would appreciate any input.</p>\n"}, {"tags": ["perl", "subroutine"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1533735884, "post_id": 51747870, "comment_id": 90456332, "body": "In this precise example, the result is <code>1</code> and not <code>2</code>, right?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533736341, "post_id": 51747870, "comment_id": 90456636, "body": "Your subroutine will return the <i>number of parameters</i>. In this case that&#39;s <code>1</code>, not <code>2</code>."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1533738850, "post_id": 51747870, "comment_id": 90458427, "body": "<a href=\"https://stackoverflow.com/questions/2126365/whats-the-difference-between-my-variablename-and-my-variablename-in-perl\" title=\"whats the difference between my variablename and my variablename in perl\">stackoverflow.com/questions/2126365/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "edited": false, "score": 0, "creation_date": 1533741676, "post_id": 51748243, "comment_id": 90460369, "body": "I ended up doing <code>my ($self,$t) =  @_;</code> Now the <code>$t</code> brings back my expected result."}, {"owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 1, "creation_date": 1533742519, "post_id": 51748243, "comment_id": 90460965, "body": "the way you have solved shows that it has been called something like <code>$thing-&gt;test(5)</code> and this <code>@_</code> has 2 elements, as been stated before, as a method call"}], "tags": [], "owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "is_accepted": true, "score": 8, "last_activity_date": 1533740140, "last_edit_date": 1533740140, "creation_date": 1533735697, "answer_id": 51748243, "question_id": 51747870, "link": "https://stackoverflow.com/questions/51747870/subroutine-not-returning-correct-integer/51748243#51748243", "title": "Subroutine not returning correct integer", "body": "<p><code>my $t = @_</code> evaluates the array <code>@_</code> in <em>scalar context</em>, and so sets <code>$t</code> to the size of <code>@_</code>.</p>\n\n<p>From <a href=\"https://perldoc.perl.org/perldata.html#Scalar-values\" rel=\"noreferrer\"><code>perldoc perldata</code></a></p>\n\n<blockquote>\n  <p>If you evaluate an array in scalar context, it returns the length of the array.  </p>\n</blockquote>\n\n<p>When you call <code>test(5)</code>, <code>@_</code> contains just <code>(5)</code>, and so its length is 1. Using Mojolicious, you might be using a <em>method call</em> which also passes the package name or object reference as an additional argument of the subroutine, so your array will have a size of <code>2</code> instead of <code>1</code> as you describe.</p>\n\n<p>If you want to retrieve the content of the array instead, use</p>\n\n<pre><code>my ($t) = @_;\n</code></pre>\n\n<p>If you're writing a method it should rather be</p>\n\n<pre><code>my $self = shift;\nmy ($t)  = @_;\n</code></pre>\n\n<p>but it depends on how the subroutine is called.</p>\n"}], "owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 51748243, "answer_count": 1, "score": 2, "last_activity_date": 1533740140, "creation_date": 1533734638, "last_edit_date": 1533736103, "question_id": 51747870, "link": "https://stackoverflow.com/questions/51747870/subroutine-not-returning-correct-integer", "title": "Subroutine not returning correct integer", "body": "<p>I am passing data to a subroutine, but the subroutine is not returning the correct value.  </p>\n\n<pre><code>test(5);\n\nsub test {\n    my $t = @_;\n    return $t;\n}\n</code></pre>\n\n<p>It should return <code>5</code> but is returning <code>2</code>.  I am using Mojolicious, but I am assuming that should not make a difference because it is just a function?</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 115746, "user_id": 119527, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lTjBL.png?s=128&g=1", "display_name": "Jonathon Reinhart", "link": "https://stackoverflow.com/users/119527/jonathon-reinhart"}, "edited": false, "score": 0, "creation_date": 1533728391, "post_id": 51745767, "comment_id": 90451182, "body": "&quot;Linux&quot; isn&#39;t a programming language. Are you writing a shell script? Please tag your question appropriately, and show actual code for what you have so far."}, {"owner": {"reputation": 1, "user_id": 5992590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85dfc290041650b6822a3e20ad0073b?s=128&d=identicon&r=PG&f=1", "display_name": "TReddy", "link": "https://stackoverflow.com/users/5992590/treddy"}, "reply_to_user": {"reputation": 115746, "user_id": 119527, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lTjBL.png?s=128&g=1", "display_name": "Jonathon Reinhart", "link": "https://stackoverflow.com/users/119527/jonathon-reinhart"}, "edited": false, "score": 0, "creation_date": 1533728769, "post_id": 51745767, "comment_id": 90451445, "body": "In Perl script I have to compare date.Is there any comparison operator for specific date format in Linux. Thanks."}, {"owner": {"reputation": 1, "user_id": 5992590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85dfc290041650b6822a3e20ad0073b?s=128&d=identicon&r=PG&f=1", "display_name": "TReddy", "link": "https://stackoverflow.com/users/5992590/treddy"}, "edited": false, "score": 0, "creation_date": 1533790818, "post_id": 51745767, "comment_id": 90477394, "body": "Ok hymie. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5992590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85dfc290041650b6822a3e20ad0073b?s=128&d=identicon&r=PG&f=1", "display_name": "TReddy", "link": "https://stackoverflow.com/users/5992590/treddy"}, "edited": false, "score": 0, "creation_date": 1533738939, "post_id": 51748113, "comment_id": 90458491, "body": "Thank you so much, For suggestion. I followed Option2"}], "tags": [], "owner": {"reputation": 1787, "user_id": 1712449, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/PlwBV.gif?s=128&g=1", "display_name": "hymie", "link": "https://stackoverflow.com/users/1712449/hymie"}, "is_accepted": true, "score": -1, "last_activity_date": 1533735334, "creation_date": 1533735334, "answer_id": 51748113, "question_id": 51745767, "link": "https://stackoverflow.com/questions/51745767/how-to-compare-date-in-linux-for-specific-format/51748113#51748113", "title": "How to compare date in linux for specific format", "body": "<p>If your date formats are static, you have two easy options.</p>\n\n<p>Option 1</p>\n\n<ol>\n<li>Strip out the day, month, and year from each date.</li>\n<li>Compare the two years.</li>\n<li>If the years are the same, compare the two months.</li>\n<li>If the months are the same, compare the two days.</li>\n</ol>\n\n<p>Option 2</p>\n\n<ol>\n<li>Strip out the day, month, and year from each date.</li>\n<li>Create a new date string in the YYYY-MM-DD format</li>\n<li>Do a standard string comparison on the two resulting strings.</li>\n</ol>\n\n<p>I'm sorry, but I'm not in a position to provide you with sample code at this time.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1533741351, "creation_date": 1533741351, "answer_id": 51750201, "question_id": 51745767, "link": "https://stackoverflow.com/questions/51745767/how-to-compare-date-in-linux-for-specific-format/51750201#51750201", "title": "How to compare date in linux for specific format", "body": "<p>The core\n<a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"noreferrer\"><code>Time::Piece</code></a> module\nallows you to convert a date/time string to an object using the <code>strptime</code> class method. The resulting objects can be compared using the standard <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>, and <code>==</code> operators as you describe, and being a core module it is unlikely to need installing</p>\n\n<p>Here's a short program that uses the values in your question, converts them to <code>Time::Piece</code> objects <code>$dt1</code> and <code>$dt2</code>, and compares them as you describe</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse Time::Piece;\n\nmy ($dt1, $dt2) = map { Time::Piece-&gt;strptime($_, '%d-%m-%Y') } qw/ 08-08-2018 20-07-2018 /;\n\nif ( $dt1 &gt; $dt2 ) {\n    say 'Success';\n}\nelse {\n    say 'Failure';\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>Success\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5992590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85dfc290041650b6822a3e20ad0073b?s=128&d=identicon&r=PG&f=1", "display_name": "TReddy", "link": "https://stackoverflow.com/users/5992590/treddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 51748113, "answer_count": 2, "score": -6, "last_activity_date": 1533741351, "creation_date": 1533728274, "last_edit_date": 1533739882, "question_id": 51745767, "link": "https://stackoverflow.com/questions/51745767/how-to-compare-date-in-linux-for-specific-format", "title": "How to compare date in linux for specific format", "body": "<p>I want to compare date 08-08-2018 and 20-07-2018.</p>\n\n<pre><code>if (dt1 &gt; $ dt2){\nSuccess\n}\n</code></pre>\n\n<p>Please help me.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1533727332, "post_id": 51744962, "comment_id": 90450470, "body": "Can you explain in more detail what the expected output is?"}, {"owner": {"reputation": 107, "user_id": 9984548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c6d101dc9efad3bc87fea308e9fba5?s=128&d=identicon&r=PG&f=1", "display_name": "Pyjava", "link": "https://stackoverflow.com/users/9984548/pyjava"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1533727559, "post_id": 51744962, "comment_id": 90450641, "body": "its output should be dynamic like if i give arr[1] = ib0 and arr[2] = bondib0 without any extra spaces or characters"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 5, "last_activity_date": 1533727802, "creation_date": 1533727802, "answer_id": 51745618, "question_id": 51744962, "link": "https://stackoverflow.com/questions/51744962/how-to-get-the-index-or-variable-length-of-a-value-using-perlsomething-like-dyn/51745618#51745618", "title": "How to get the index or variable length of a value using perl(something like dynamic list length of java)?", "body": "<p>Your approach to use <code>substr</code> and <code>index</code> should work. However, there are two other ways to do this.</p>\n\n<p>The easier one is to use a regular expression and do a pattern match.</p>\n\n<pre><code>while (my $line = &lt;DATA&gt;) {\n    if ($line =~ m/: ([^:]+):/) {\n        print $1, \"\\n\";\n    }\n}\n\n__DATA__\n7: ib1: &lt;BROADCAST,MULTICAST,SLAVE,UP,LOWER_UP&gt;    \n9: bondib0: &lt;BROADCAST,MULTICAST,MASTER,UP,LOWER_UP&gt;\n</code></pre>\n\n<p>This will match a string on a colon <code>:</code> and a space <code></code>, and then capture everything that is not a colon, until it encounters another colon. See <a href=\"https://regex101.com/r/oLiAKu/1\" rel=\"noreferrer\">regex101.com</a> for an explanation, and take a look at <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"noreferrer\">perlretut</a> for a gentle introduction to regex.</p>\n\n<p>An alternative would be to use <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"noreferrer\"><code>split</code></a> on a colon and a space. There are only two of them there.</p>\n\n<pre><code>while (my $line = &lt;DATA&gt;) {\n    ( undef, my $interface ) = split /: /, $line;\n    print $interface;\n}\n\n__DATA__\n7: ib1: &lt;BROADCAST,MULTICAST,SLAVE,UP,LOWER_UP&gt;    \n9: bondib0: &lt;BROADCAST,MULTICAST,MASTER,UP,LOWER_UP&gt;\n</code></pre>\n\n<p>It will break the string into pieces on <code>\": \"</code>, discard the first part, save the second and discard the rest.</p>\n\n<p>However the regex solution is better.</p>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 9984548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c6d101dc9efad3bc87fea308e9fba5?s=128&d=identicon&r=PG&f=1", "display_name": "Pyjava", "link": "https://stackoverflow.com/users/9984548/pyjava"}, "is_accepted": false, "score": -1, "last_activity_date": 1533754561, "creation_date": 1533754561, "answer_id": 51753836, "question_id": 51744962, "link": "https://stackoverflow.com/questions/51744962/how-to-get-the-index-or-variable-length-of-a-value-using-perlsomething-like-dyn/51753836#51753836", "title": "How to get the index or variable length of a value using perl(something like dynamic list length of java)?", "body": "<p>To generalise, one Solution I can figure out is below:-</p>\n\n<pre><code> my $pindex = rindex($line,\":\");\n $str = substr($line,3,$pindex-3);\n</code></pre>\n\n<p>This solves the purpose by reading each character.</p>\n"}], "owner": {"reputation": 107, "user_id": 9984548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c6d101dc9efad3bc87fea308e9fba5?s=128&d=identicon&r=PG&f=1", "display_name": "Pyjava", "link": "https://stackoverflow.com/users/9984548/pyjava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1533754561, "creation_date": 1533725843, "question_id": 51744962, "link": "https://stackoverflow.com/questions/51744962/how-to-get-the-index-or-variable-length-of-a-value-using-perlsomething-like-dyn", "title": "How to get the index or variable length of a value using perl(something like dynamic list length of java)?", "body": "<p>I have 2 outputs:-</p>\n\n<pre><code>7: ib1: &lt;BROADCAST,MULTICAST,SLAVE,UP,LOWER_UP&gt;    \n9: bondib0: &lt;BROADCAST,MULTICAST,MASTER,UP,LOWER_UP&gt;\n</code></pre>\n\n<p>Using perl I want to get the substr ib1 and bondib0.\nCurrently if I set </p>\n\n<pre><code>substr($line,3,3); this will return ib1\nsubstr($line,3,7); this will return bondib0\n</code></pre>\n\n<p>I want to have a single substr for above, how to do that?</p>\n\n<p>Something like substr($line,3,index($line,\":\"));</p>\n\n<p>Please let me know how can i have dynamic value for 3 and 7 indexs above it is coming because of lengths of values are different.</p>\n"}, {"tags": ["regex", "perl", "text", "scripting"], "answers": [{"comments": [{"owner": {"reputation": 1432, "user_id": 1184912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc5f9407e5093fbd916ea4d80c7a499f?s=128&d=identicon&r=PG", "display_name": "eyevan", "link": "https://stackoverflow.com/users/1184912/eyevan"}, "edited": false, "score": 0, "creation_date": 1533723335, "post_id": 51743360, "comment_id": 90448081, "body": "AChichi, you could also use <code>\\Q</code> and <code>\\E</code> in your regexp instead of <code>quotemeta</code>, like so:  <code>&#47;(\\d+.\\d+.\\d+.\\d+).*ARPA\\s+\\Q$LAN\\E&#47;</code>"}], "tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": true, "score": 1, "last_activity_date": 1533721093, "creation_date": 1533721093, "answer_id": 51743360, "question_id": 51743153, "link": "https://stackoverflow.com/questions/51743153/replace-by-in-a-string-perl/51743360#51743360", "title": "Replace &quot;/&quot; by &quot;\\/&quot; in a string Perl", "body": "<p>The <code>quotemeta()</code> function will take a string and return it so that all the special characters used by the regex engine are correctly escaped. </p>\n\n<p>eg.</p>\n\n<pre><code>$lan = quotemeta('GigabitEthernet0/0.20');\n</code></pre>\n\n<p><code>$lan</code> is now <code>GigabitEthernet0\\/0\\.20</code></p>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 8142813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1783d45d29f2c795bc7f7e826d1371a?s=128&d=identicon&r=PG&f=1", "display_name": "AChichi", "link": "https://stackoverflow.com/users/8142813/achichi"}, "edited": false, "score": 0, "creation_date": 1533722901, "post_id": 51743677, "comment_id": 90447836, "body": "Perfect ! Thank you"}], "tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": false, "score": 1, "last_activity_date": 1533722867, "last_edit_date": 1533722867, "creation_date": 1533721935, "answer_id": 51743677, "question_id": 51743153, "link": "https://stackoverflow.com/questions/51743153/replace-by-in-a-string-perl/51743677#51743677", "title": "Replace &quot;/&quot; by &quot;\\/&quot; in a string Perl", "body": "<p>The problem is that you need to escape all slashes that appear in your regular expression. So when you have the following where FIND is / and replace is \\/</p>\n\n<pre><code>s/FIND/REPLACE/ig\n</code></pre>\n\n<p>you can't just put them in as is - you need to escape them. And you need to escape the escape backslash too. So it becomes</p>\n\n<pre><code>s/\\//\\\\\\//ig\n</code></pre>\n\n<p>which looks pretty hideous and is known as <a href=\"https://en.wikipedia.org/wiki/Leaning_toothpick_syndrome\" rel=\"nofollow noreferrer\">Leaning Toothpick Syndrome</a>.</p>\n\n<p>But you don't need to do it that way as you can change what character is used to separate  in s/// or m// etc... Like this example, although you still need to escape the backslash.</p>\n\n<pre><code>s%/%\\\\/%ig\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 8142813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1783d45d29f2c795bc7f7e826d1371a?s=128&d=identicon&r=PG&f=1", "display_name": "AChichi", "link": "https://stackoverflow.com/users/8142813/achichi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 51743360, "answer_count": 2, "score": 0, "last_activity_date": 1533722867, "creation_date": 1533720519, "last_edit_date": 1592644375, "question_id": 51743153, "link": "https://stackoverflow.com/questions/51743153/replace-by-in-a-string-perl", "title": "Replace &quot;/&quot; by &quot;\\/&quot; in a string Perl", "body": "\n<p>Hello everyone !</p>\n<h3>Text</h3>\n<p>I have a little problem in my script. I would like to replace the <code>/</code> in a variable by a <code>\\/</code>. Here is an explanation :</p>\n<p>I have a variable :</p>\n<pre class=\"lang-none prettyprint-override\"><code>$LAN = GigabitEthernet0/0.20\n</code></pre>\n<p>But when i use this variable in a <strong>regex</strong> the <code>/</code> is a problem. So I would like to change <code>GigabitEthernet0/0.20</code> into <code>GigabitEthernet0\\/0.20</code>.</p>\n<p>I tried with this : <code>$LAN =~ s/FIND/REPLACE/ig;</code> but it doesn't work due to all the <code>/</code>. I also tried with <code>$LAN =~ m///\\//ig;</code></p>\n<h3>Clarification</h3>\n<p>I'm doing the command <code>show arp</code> on a router. Here is the format of the result :</p>\n<p><code>Internet  192.168.1.1         34   99gg.zz23.atx2  ARPA   GigabitEthernet0/0.20</code></p>\n<p>I use a regex to extract the IP Address of an equipment : <code>(\\d+.\\d+.\\d+.\\d+).*ARPA\\s+$LAN</code>, obviously it doesn't match the <code>GigabitEthernet 0/0.20</code> because of the <code>/</code>. That's why I want to turn it into <code>\\/</code>.</p>\n<p>Thanks by advance <strong>:)</strong></p>\n<p>If you have other advice for my regex, don't hesitate to tell me.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1533717982, "post_id": 51742300, "comment_id": 90444599, "body": "What is in <code>$last</code>? You don&#39;t show that variable being set. Did you mean <code>$line</code>?"}, {"owner": {"reputation": 107, "user_id": 9984548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c6d101dc9efad3bc87fea308e9fba5?s=128&d=identicon&r=PG&f=1", "display_name": "Pyjava", "link": "https://stackoverflow.com/users/9984548/pyjava"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1533718385, "post_id": 51742300, "comment_id": 90444880, "body": "@DaveCross- Updated the code above"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1533718536, "post_id": 51742300, "comment_id": 90444984, "body": "Ok. Now you&#39;re trying to take a <code>substr()</code> of an empty string. I&#39;m pretty sure that should be <code>substr($line, 3, 7)</code>."}, {"owner": {"reputation": 107, "user_id": 9984548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c6d101dc9efad3bc87fea308e9fba5?s=128&d=identicon&r=PG&f=1", "display_name": "Pyjava", "link": "https://stackoverflow.com/users/9984548/pyjava"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1533718888, "post_id": 51742300, "comment_id": 90445183, "body": "@DaveCross - was doing &quot;$last = $line;&quot; at end , basic idea is to grep interface name containing &quot;link/ether&quot;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1533725928, "post_id": 51742300, "comment_id": 90449596, "body": "I&#39;m not sure how I was supposed to guess that :-) I can only give advice based on the code you show me. Nevertheless, I think that if you look at <code>$line</code> rather than <code>$last</code>, it will work."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 9984548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c6d101dc9efad3bc87fea308e9fba5?s=128&d=identicon&r=PG&f=1", "display_name": "Pyjava", "link": "https://stackoverflow.com/users/9984548/pyjava"}, "edited": false, "score": 0, "creation_date": 1533721810, "post_id": 51742874, "comment_id": 90447111, "body": "perl getin.pl  Bareword found where operator expected at getin.pl line 3, near &quot;/^ \\d+ : \\s+ ( eth \\d+ ) :/xa&quot; \t(Missing operator before a?) syntax error at getin.pl line 3, near &quot;/^ \\d+ : \\s+ ( eth \\d+ ) :/xa&quot; Execution of getin.pl aborted due to compilation errors."}, {"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "reply_to_user": {"reputation": 107, "user_id": 9984548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c6d101dc9efad3bc87fea308e9fba5?s=128&d=identicon&r=PG&f=1", "display_name": "Pyjava", "link": "https://stackoverflow.com/users/9984548/pyjava"}, "edited": false, "score": 0, "creation_date": 1533724592, "post_id": 51742874, "comment_id": 90448821, "body": "Ah ok you are using an older version of Perl. Remove the <code>a</code> in <code>&#47;xa</code> or get a newer version of Perl"}], "tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 0, "last_activity_date": 1533719687, "creation_date": 1533719687, "answer_id": 51742874, "question_id": 51742300, "link": "https://stackoverflow.com/questions/51742300/how-to-get-ethernet-adapter-name-in-a-variable-having-link-ether-using-perl-scri/51742874#51742874", "title": "How to get ethernet adapter name in a variable having link/ether using perl script?", "body": "<p>Try this</p>\n\n<pre><code>my @results = \n    map { /^ \\d+ : \\s+ ( eth \\d+ ) :/xa; $1 }\n    grep { /ether/ } \n    `ip addr`;\n\nprint @results;\n</code></pre>\n\n<p>This takes the list returned by <code>`ip addr`</code> removes any line not containing ether  <code>grep { /ether/ }</code> then captures the part of the string containing <code>eth</code> followed by 1 or more digits.</p>\n\n<p>The <code>x</code> on the end of the regex allows embedded white space and the a limits <code>\\d</code> to just ascii digits.</p>\n\n<p>You don't need to chomp the lines as you want the line endings when you print the list back out.</p>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 9984548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c6d101dc9efad3bc87fea308e9fba5?s=128&d=identicon&r=PG&f=1", "display_name": "Pyjava", "link": "https://stackoverflow.com/users/9984548/pyjava"}, "is_accepted": false, "score": 0, "last_activity_date": 1533725427, "creation_date": 1533725427, "answer_id": 51744829, "question_id": 51742300, "link": "https://stackoverflow.com/questions/51742300/how-to-get-ethernet-adapter-name-in-a-variable-having-link-ether-using-perl-scri/51744829#51744829", "title": "How to get ethernet adapter name in a variable having link/ether using perl script?", "body": "<p>It can work like below and just store output in @array:-</p>\n\n<pre><code>ip -o addr show | grep \"ether\"  | awk -F': ' '{print $2}'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1533728082, "last_edit_date": 1533728082, "creation_date": 1533726650, "answer_id": 51745220, "question_id": 51742300, "link": "https://stackoverflow.com/questions/51742300/how-to-get-ethernet-adapter-name-in-a-variable-having-link-ether-using-perl-scri/51745220#51745220", "title": "How to get ethernet adapter name in a variable having link/ether using perl script?", "body": "<p>Ok. I think this does what you want.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n# Get the results from \"ip addr\". Store in @results.\nmy @results = `ip addr`;\n\n# Variable to store the previous line\nmy $prev_line;\n\nforeach my $line (@results) {\n   # If the current line matches...\n   if ($line =~ m|link/ether|) {\n      # ... the extract the adapter name from the previous line\n      my ($adap) = $prev_line =~ /: (\\w+):/;\n      print \"$adap\\n\";\n   }\n   # Store the current line (which becomes the previous line).\n   $prev_line = $line;\n }\n</code></pre>\n\n<p>For future reference, it's really helpful if you give us actual code that exhibits the behaviour you're asking about.</p>\n"}], "owner": {"reputation": 107, "user_id": 9984548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c6d101dc9efad3bc87fea308e9fba5?s=128&d=identicon&r=PG&f=1", "display_name": "Pyjava", "link": "https://stackoverflow.com/users/9984548/pyjava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1533728082, "creation_date": 1533717864, "last_edit_date": 1533718370, "question_id": 51742300, "link": "https://stackoverflow.com/questions/51742300/how-to-get-ethernet-adapter-name-in-a-variable-having-link-ether-using-perl-scri", "title": "How to get ethernet adapter name in a variable having link/ether using perl script?", "body": "<p>Using perl script I want to find the name of ethernet adapter which are having specific string \"link/ether\" when we do \"ip/addr\".\nI want to store them in a variable.\nlike:-</p>\n\n<pre><code>3: eth1: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN qlen 1000\nlink/ether 00:21:28:d6:1f:f9 brd ff:ff:ff:ff:ff:ff\n4: eth2: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN qlen 1000\nlink/ether 00:21:28:d6:1f:fa brd ff:ff:ff:ff:ff:ff\n5: eth3: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN qlen 1000\nlink/ether 00:21:28:d6:1f:fb brd ff:ff:ff:ff:ff:ff\n6: ab0:  &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN qlen 1000\nlink/band 00:21:28:d6:1f:fb brd ff:ff:ff:ff:ff:ff\n</code></pre>\n\n<p>from above out should output the following:-</p>\n\n<pre><code>eth1\neth2\neth3\n</code></pre>\n\n<p>like storing in a variable and running in loop.\nThis is what I was trying but not working properly:-</p>\n\n<pre><code>my $last=\"\";\nmy @results = `ip addr`;\nmy $adap=\"\";\nmy $flag=0;\nforeach my $line (@results)\n{\nif (($line =~ /ether/))\n{\n   $adap = substr($last,3,7);\n   chomp($adap);\n   $str = $adap;\n   $flag=1;\n}\n}\nprint $adap;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 1, "creation_date": 1533699074, "post_id": 51738106, "comment_id": 90436751, "body": "Either of <code>use strict;</code> or <code>use warnings;</code> would have told you what the problem is."}], "answers": [{"comments": [{"owner": {"reputation": 3680, "user_id": 7723882, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6aUwy.png?s=128&g=1", "display_name": "Matias Barrios", "link": "https://stackoverflow.com/users/7723882/matias-barrios"}, "edited": false, "score": 1, "creation_date": 1533698981, "post_id": 51738199, "comment_id": 90436735, "body": "Thanks so much for your response!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 6, "creation_date": 1533701481, "post_id": 51738199, "comment_id": 90437235, "body": "You could use a single-quoted literal without actually using single-quote: <code>q{Bomba@2071}</code>"}], "tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": true, "score": 11, "last_activity_date": 1533698692, "creation_date": 1533698692, "answer_id": 51738199, "question_id": 51738106, "link": "https://stackoverflow.com/questions/51738106/escape-in-perl-regex/51738199#51738199", "title": "Escape @ in Perl regex", "body": "<p>This is because <code>@</code> in perl denotes to an <a href=\"https://perldoc.perl.org/perldata.html\" rel=\"noreferrer\">array variable</a>, so without escaping it what follows would be interpreted as an array variable.</p>\n\n<p>Besides escaping <code>@</code>, you can also use single quotes instead of double quotes, e.g. <code>'Bomba@2071'</code>, so that the string would not be subject to interpretation, although in this case it would create a new problem since you're using single quotes to quote the entire perl source in a shell command. So stick to escaping in this case.</p>\n"}], "owner": {"reputation": 3680, "user_id": 7723882, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6aUwy.png?s=128&g=1", "display_name": "Matias Barrios", "link": "https://stackoverflow.com/users/7723882/matias-barrios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 51738199, "answer_count": 1, "score": 5, "last_activity_date": 1533698692, "creation_date": 1533697773, "question_id": 51738106, "link": "https://stackoverflow.com/questions/51738106/escape-in-perl-regex", "title": "Escape @ in Perl regex", "body": "<p>Im using perl to match a password against a regex in a bash script.</p>\n\n<p>While testing the regex for the password, I got to this problem:</p>\n\n<p>This works : </p>\n\n<pre><code>perl -e 'if ( \"Bomba\\@2071\"  =~ /^(?=.*[A-Z])(?=.*[!@#$&amp;*])(?=.*[0-9])(?=.*[a-z].*[a-z].*[a-z]).{8,}$/ ) { print 1; } '\n</code></pre>\n\n<p>While this never matches :</p>\n\n<pre><code>perl -e 'if ( \"Bomba@2071\"  =~ /^(?=.*[A-Z])(?=.*[!@#$&amp;*])(?=.*[0-9])(?=.*[a-z].*[a-z].*[a-z]).{8,}$/ ) { print 1; } '\n</code></pre>\n\n<p>As you can notice, it works because I escape the @ symbol. I had never seen something like this in another programming languages and after being stuck with this for over an hour, I found the reason by mere chance.</p>\n\n<p>So, my question is, Whats going on here? Why do I need to escape an odd character like @?</p>\n"}, {"tags": ["python", "linux", "bash", "shell", "perl"], "comments": [{"owner": {"reputation": 3219, "user_id": 564514, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9423524ca73ace9b691c31ebb4150cd4?s=128&d=identicon&r=PG", "display_name": "paragbaxi", "link": "https://stackoverflow.com/users/564514/paragbaxi"}, "edited": false, "score": 0, "creation_date": 1533697879, "post_id": 51738059, "comment_id": 90436543, "body": "Yes, it&#39;s possible to do in python. I suggest csv module and customize delimiter to &#39;|&#39;."}, {"owner": {"reputation": 3009, "user_id": 1563807, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1QLZ8.jpg?s=128&g=1", "display_name": "CodeSamurai777", "link": "https://stackoverflow.com/users/1563807/codesamurai777"}, "edited": false, "score": 0, "creation_date": 1533700943, "post_id": 51738059, "comment_id": 90437138, "body": "If the issue is resolved please mark one of the answers as correct"}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1533717482, "post_id": 51738059, "comment_id": 90444278, "body": "Please avoid <i>&quot;Give me the codez&quot;</i> questions. Instead show the script you are working on and state where the problem is. Also see <a href=\"https://meta.stackoverflow.com/q/261592/608639\">How much research effort is expected of Stack Overflow users?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3219, "user_id": 564514, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9423524ca73ace9b691c31ebb4150cd4?s=128&d=identicon&r=PG", "display_name": "paragbaxi", "link": "https://stackoverflow.com/users/564514/paragbaxi"}, "is_accepted": false, "score": 0, "last_activity_date": 1533699006, "creation_date": 1533699006, "answer_id": 51738241, "question_id": 51738059, "link": "https://stackoverflow.com/questions/51738059/extract-value-from-the-last-row-in-table-in-shell-script/51738241#51738241", "title": "extract value from the last row in table in shell script", "body": "<p>Yes, it's possible to do in python. I suggest csv module and customize delimiter to '|'.</p>\n\n<pre><code>import csv\nwith open('s', 'r') as f:\n  reader = csv.reader(f, delimiter='|')\n  for row in reader:\n      print(row)\n</code></pre>\n\n<p>Gives the following list:</p>\n\n<pre><code>['Connecting to the ControlService endpoint']\n[]\n['Found 3 rows.']\n['Requests List:']\n['-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------']\n[' Client ID                                                                   ', ' Client Type                  ', ' Service Type ', ' Status               ', ' Trust Domain              ', ' Data Instance Name ', ' Data Version ', ' Creation Time              ', ' Last Update                ', ' Scheduled Time ', ' ']\n['-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------']\n[' REFRESH_ROUTINGTIER_ARTIFACTS_1465901168866                              ', ' ROUTINGTIER_ARTIFACTS ', ' SYSTEM       ', ' COMPLETED            ', ' RRA Bulk Client    ', ' soa_server1       ', ' 18.2.2.0.0  ', ' 2016-06-14 03:49:55 -07:00 ', ' 2016-06-14 03:49:57 -07:00 ', ' ---            ', ' ']\n['-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------']\n[' 500333443                                                          ', ' CREATE                        ', ' [FA_GSI]     ', ' COMPLETED            ', ' holder       ', ' soa_server1       ', ' 18.3.2.0.0  ', ' 2018-08-07 11:59:57 -07:00 ', ' 2018-08-07 12:04:37 -07:00 ', ' ---            ', ' ']\n['-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------']\n[' 500333446                                                          ', ' CREATE                        ', ' [FA_GSI]     ', ' COMPLETED            ', ' holder-test  ', ' soa_server1       ', ' 18.3.2.0.0  ', ' 2018-08-07 12:04:48 -07:00 ', ' 2018-08-07 12:08:52 -07:00 ', ' ---            ', ' ']\n['-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------']\n</code></pre>\n\n<p>You could easily skip the first 4 rows in the resulting list.</p>\n"}, {"comments": [{"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 0, "creation_date": 1533700131, "post_id": 51738317, "comment_id": 90436958, "body": "yeah this make sense as I can see what&#39;s the last row. now how can I extract value of <code>Client ID</code> and <code>Trust Domain</code> from last row? Basically it should give me these <code>500333446</code> and <code>holder-test</code>"}, {"owner": {"reputation": 3009, "user_id": 1563807, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1QLZ8.jpg?s=128&g=1", "display_name": "CodeSamurai777", "link": "https://stackoverflow.com/users/1563807/codesamurai777"}, "reply_to_user": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 0, "creation_date": 1533700456, "post_id": 51738317, "comment_id": 90437033, "body": "@flash Yes, check my edited answer, this fragment <code>.replace(&quot; &quot;,&quot;&quot;)</code> replaces spaces so data looks more compacted you could also just use a substring to remove them"}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 0, "creation_date": 1533701159, "post_id": 51738317, "comment_id": 90437177, "body": "yeah this works fine.. thanks for the help.. also if I just need to print domain value without any of its key then will it be like this <code>print(&quot;&quot;.format(data[-1][4].replace(&quot; &quot;,&quot;&quot;)))</code>. I tried this and it prints nothing. Basically I just want to print <code>holder-test</code> that&#39;s all."}, {"owner": {"reputation": 3009, "user_id": 1563807, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1QLZ8.jpg?s=128&g=1", "display_name": "CodeSamurai777", "link": "https://stackoverflow.com/users/1563807/codesamurai777"}, "reply_to_user": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 0, "creation_date": 1533701271, "post_id": 51738317, "comment_id": 90437199, "body": "You are using print incorrectly it should be like so <code>print(&quot;{}&quot;.format(data[-1][4].replace(&quot; &quot;,&quot;&quot;)))</code> the <code>{}</code> is a placeholder for where to inject the value in a string"}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 0, "creation_date": 1533701516, "post_id": 51738317, "comment_id": 90437237, "body": "yeah I fixed it after checking that out again."}, {"owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 0, "creation_date": 1533950831, "post_id": 51738317, "comment_id": 90548775, "body": "hey if my <code>data.csv</code> file has some new lines at the end then in that case script is failing so I decided to add this if check - <code>if line[0].find(&quot;---&quot;) != 0 and line[0].strip():</code> but still it doesn&#39;t work. Any idea what&#39;s wrong in my if check? That&#39;s the line I see at the end <code>[&#39; \\t\\t&#39;]</code>"}, {"owner": {"reputation": 3009, "user_id": 1563807, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1QLZ8.jpg?s=128&g=1", "display_name": "CodeSamurai777", "link": "https://stackoverflow.com/users/1563807/codesamurai777"}, "reply_to_user": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "edited": false, "score": 0, "creation_date": 1533968965, "post_id": 51738317, "comment_id": 90551208, "body": "@flash Well those extra lines are not empty they have content <code>[&#39; \\t\\t&#39;]</code> tabs in your case, if they were truly empty changing the condition to this <code>if line and line[0].find(&quot;---&quot;) != 0: </code> would suffice. If this is the case you would like to handle that is lines with only spaces or tabs that appear to be empty the code should rewritten using regular expressions."}], "tags": [], "owner": {"reputation": 3009, "user_id": 1563807, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1QLZ8.jpg?s=128&g=1", "display_name": "CodeSamurai777", "link": "https://stackoverflow.com/users/1563807/codesamurai777"}, "is_accepted": true, "score": 0, "last_activity_date": 1533700804, "last_edit_date": 1533700804, "creation_date": 1533699771, "answer_id": 51738317, "question_id": 51738059, "link": "https://stackoverflow.com/questions/51738059/extract-value-from-the-last-row-in-table-in-shell-script/51738317#51738317", "title": "extract value from the last row in table in shell script", "body": "<p>The solution by @paragbaxi is fine I would only add an condition to filter out the lines containing only \"------\". Like so:</p>\n\n<pre><code>import csv\n\nlines_to_skip = 4\nwith open('data.csv', 'r') as f:\n    reader = csv.reader(f, delimiter='|')\n    for i in range(lines_to_skip):\n        next(reader) #Skipping lines\n\n    data = []\n    for line in reader:\n        if line[0].find(\"---\") != 0:  #Check what position has symbol \"---\" if 0 then skip\n            print(line)\n            data.append(line)\n\n\nprint(\"Last row:\\n{}\".format(data[-1]))\nprint(\"Client ID:{} Domain:{}\".format(data[-1][0].replace(\" \",\"\"),data[-1][4].replace(\" \",\"\")))  #replace() just removes unnecessary spaces\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[' Client ID                                                                   ', ' Client Type                  ', ' Service Type ', ' Status               ', ' Trust Domain              ', ' Data Instance Name ', ' Data Version ', ' Creation Time              ', ' Last Update                ', ' Scheduled Time ', ' ']\n[' REFRESH_ROUTINGTIER_ARTIFACTS_1465901168866                              ', ' ROUTINGTIER_ARTIFACTS ', ' SYSTEM       ', ' COMPLETED            ', ' RRA Bulk Client    ', ' soa_server1       ', ' 18.2.2.0.0  ', ' 2016-06-14 03:49:55 -07:00 ', ' 2016-06-14 03:49:57 -07:00 ', ' ---            ', ' ']\n[' 500333443                                                          ', ' CREATE                        ', ' [FA_GSI]     ', ' COMPLETED            ', ' holder       ', ' soa_server1       ', ' 18.3.2.0.0  ', ' 2018-08-07 11:59:57 -07:00 ', ' 2018-08-07 12:04:37 -07:00 ', ' ---            ', ' ']\n[' 500333446                                                          ', ' CREATE                        ', ' [FA_GSI]     ', ' COMPLETED            ', ' holder-test  ', ' soa_server1       ', ' 18.3.2.0.0  ', ' 2018-08-07 12:04:48 -07:00 ', ' 2018-08-07 12:08:52 -07:00 ', ' ---            ', ' ']\nLast row:\n[' 500333446                                                          ', ' CREATE                        ', ' [FA_GSI]     ', ' COMPLETED            ', ' holder-test  ', ' soa_server1       ', ' 18.3.2.0.0  ', ' 2018-08-07 12:04:48 -07:00 ', ' 2018-08-07 12:08:52 -07:00 ', ' ---            ', ' ']\nClient ID:500333446 Domain:holder-test\n\nProcess finished with exit code 0  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1533701739, "creation_date": 1533701739, "answer_id": 51738514, "question_id": 51738059, "link": "https://stackoverflow.com/questions/51738059/extract-value-from-the-last-row-in-table-in-shell-script/51738514#51738514", "title": "extract value from the last row in table in shell script", "body": "<pre><code>&gt;&gt;&gt; import csv\n... from itertools import islice\n... \n... with open('infile', 'r') as f:\n...     reader = csv.DictReader(islice(f, 5, None, 2), delimiter='|')\n...     result = [\n...         {k.strip(): v.strip() for k, v in line.items()} for line in reader\n...     ]\n... \n&gt;&gt;&gt; last_row = result[-1]\n&gt;&gt;&gt; import json; print(json.dumps(last_row, indent=2))\n{\n  \"Client ID\": \"500333446\",\n  \"Client Type\": \"CREATE\",\n  \"Service Type\": \"[FA_GSI]\",\n  \"Status\": \"COMPLETED\",\n  \"Trust Domain\": \"holder-test\",\n  \"Data Instance Name\": \"soa_server1\",\n  \"Data Version\": \"18.3.2.0.0\",\n  \"Creation Time\": \"2018-08-07 12:04:48 -07:00\",\n  \"Last Update\": \"2018-08-07 12:08:52 -07:00\",\n  \"Scheduled Time\": \"---\",\n  \"\": \"\"\n}\n&gt;&gt;&gt; last_row['Client ID']\n'500333446'\n&gt;&gt;&gt; last_row['Trust Domain']\n'holder-test'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "is_accepted": false, "score": 0, "last_activity_date": 1533706013, "creation_date": 1533706013, "answer_id": 51739157, "question_id": 51738059, "link": "https://stackoverflow.com/questions/51738059/extract-value-from-the-last-row-in-table-in-shell-script/51739157#51739157", "title": "extract value from the last row in table in shell script", "body": "<p>One in awk:</p>\n\n<pre><code>awk 'BEGIN{FS=\"|\"}!/^-+/{c=$1;t=$5}END{print \"Client ID:\" c ORS \"Trust Domain:\" t}' file\n</code></pre>\n\n<p>Explained:</p>\n\n<pre><code>$ awk '\nBEGIN { FS=\"|\" }                                # pipe-separator\n!/^-+/ {                                        # process if doesnt start with dashes\n    c=$1                                        # client value\n    t=$5                                        # trust domain value\n}\nEND {                                           # in the end\n    print \"Client ID:\" c ORS \"Trust Domain:\" t  # output the last value pair\n}' file\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Client ID: 500333446                                                          \nTrust Domain: holder-test  \n</code></pre>\n"}], "owner": {"reputation": 1610, "user_id": 9049216, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bbb078bd76dc5110b4a3ba8569142b3d?s=128&d=identicon&r=PG&f=1", "display_name": "flash", "link": "https://stackoverflow.com/users/9049216/flash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "closed_date": 1533717472, "accepted_answer_id": 51738317, "answer_count": 4, "score": 0, "last_activity_date": 1533972997, "creation_date": 1533697401, "last_edit_date": 1533972997, "question_id": 51738059, "link": "https://stackoverflow.com/questions/51738059/extract-value-from-the-last-row-in-table-in-shell-script", "closed_reason": "Needs details or clarity", "title": "extract value from the last row in table in shell script", "body": "<p>I have a file (data.txt) with below content. It has multiple rows in it separated by sequence of <code>-</code>. It looks like a graphical table put in a file. In the below file, first row has all the column names and all other rows are the actual data for all those columns.</p>\n\n<pre><code>Connecting to the ControlService endpoint\n\nFound 3 rows.\nRequests List:\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n Client ID                                                                   | Client Type                  | Service Type | Status               | Trust Domain              | Data Instance Name | Data Version | Creation Time              | Last Update                | Scheduled Time | \n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n REFRESH_ROUTINGTIER_ARTIFACTS_1465901168866                              | ROUTINGTIER_ARTIFACTS | SYSTEM       | COMPLETED            | RRA Bulk Client    | soa_server1       | 18.2.2.0.0  | 2016-06-14 03:49:55 -07:00 | 2016-06-14 03:49:57 -07:00 | ---            | \n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n 500333443                                                          | CREATE                        | [FA_GSI]     | COMPLETED            | holder       | soa_server1       | 18.3.2.0.0  | 2018-08-07 11:59:57 -07:00 | 2018-08-07 12:04:37 -07:00 | ---            | \n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n 500333446                                                          | CREATE                        | [FA_GSI]     | COMPLETED            | holder-test  | soa_server1       | 18.3.2.0.0  | 2018-08-07 12:04:48 -07:00 | 2018-08-07 12:08:52 -07:00 | ---            | \n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n</code></pre>\n\n<p>Now I want to parse the above file and extract value from the last row. I want to extract value of \"Client ID\" and \"Trust Domain\" column in the last row which is:</p>\n\n<pre><code>Client ID: 500333446\nTrust Domain: holder-test\n</code></pre>\n\n<p>Is this possible to do in shell script or perl or python?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1533683751, "post_id": 51736485, "comment_id": 90433908, "body": "Where does the 3 in <code>wholeA_3_[5,6]</code> come from?"}, {"owner": {"reputation": 13, "user_id": 9319425, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-idswhCl7snk/AAAAAAAAAAI/AAAAAAAAADw/yvW46t29U-w/photo.jpg?sz=128", "display_name": "nx_rt", "link": "https://stackoverflow.com/users/9319425/nx-rt"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1533686789, "post_id": 51736485, "comment_id": 90434549, "body": "The 3 is the re-adjusted position and the [5,6] is what the fragment position used to be. Since I am combining the fragments if I do not re-adjust the position for each of the wholeA, parts of the location would be skewed across groups. wholeA_3_[5,6] just happens to be the 3rd grouping of fragments for that id (wholeA)."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9319425, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-idswhCl7snk/AAAAAAAAAAI/AAAAAAAAADw/yvW46t29U-w/photo.jpg?sz=128", "display_name": "nx_rt", "link": "https://stackoverflow.com/users/9319425/nx-rt"}, "edited": false, "score": 0, "creation_date": 1533831138, "post_id": 51737025, "comment_id": 90502055, "body": "Thanks, I reworked the input data so I do not have to worry about the fragment pos but this helped me get to what I needed after changing a few things."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1533687447, "creation_date": 1533687447, "answer_id": 51737025, "question_id": 51736485, "link": "https://stackoverflow.com/questions/51736485/perl-manipulate-a-file-to-combine-fragments-found-in-the-same-group/51737025#51737025", "title": "Perl Manipulate a file to combine fragments found in the same group", "body": "<p>I still don't fully understand what you mean by \"re-adjusting the position\", but this produces output similar to the one you wanted, but the numbering of the groupings is different (1, 2, 3 instead of 3, 2, 1):</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %groups;\nmy $group;\nwhile (&lt;&gt;) {\n    chomp;\n    if (/^&gt;Group (\\d+)/) {\n        $group = $1;\n    } else {\n        ++$groups{$group}{$_};\n    }\n}\n\nmy %fragment_pos;\n\nfor my $group (sort keys %groups) {\n    print \"&gt;Group $group\\n\";\n    my %fragments;\n    for my $fragment (keys %{ $groups{$group} }) {\n        my ($id, $number) = $fragment =~ /(\\w)_([0-9]+)/;\n        $fragments{$id}{$number} = 1;\n    }\n    for my $id (sort keys %fragments) {\n        ++$fragment_pos{$id};\n        print \" whole$id\\_$fragment_pos{$id}_[\";\n        print join ',', sort { $a &lt;=&gt; $b } keys %{ $fragments{$id} };\n        print \"]\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9319425, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-idswhCl7snk/AAAAAAAAAAI/AAAAAAAAADw/yvW46t29U-w/photo.jpg?sz=128", "display_name": "nx_rt", "link": "https://stackoverflow.com/users/9319425/nx-rt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 51737025, "answer_count": 1, "score": 0, "last_activity_date": 1533687447, "creation_date": 1533682482, "question_id": 51736485, "link": "https://stackoverflow.com/questions/51736485/perl-manipulate-a-file-to-combine-fragments-found-in-the-same-group", "title": "Perl Manipulate a file to combine fragments found in the same group", "body": "<p>I have this data set of fragments and positions that are classified into groups :</p>\n\n<pre><code>&gt;Group 1\n fragmentA_6\n fragmentA_5\n&gt;Group 2\n fragmentA_3\n fragmentA_4\n&gt;Group 3\n fragmentA_1\n fragmentA_2\n fragmentB_1\n</code></pre>\n\n<p>and am trying to figure out a way to combine the fragments within their own groups while also changing the global position. A desired output of the above would look something like this.</p>\n\n<pre><code>&gt;Group 1\n wholeA_3_[5,6]\n&gt;Group 2\n wholeA_2_[3,4]\n&gt;Group 3\n wholeA_1_[1,2]\n wholeB_1_[1]\n</code></pre>\n\n<p>As you can see fragmentA was present in group 1 and 2 more than once. In the output, the lowest position was re-adjusted (not for the first) and all members of that fragment are displayed in the brackets.</p>\n\n<p>My data structure would look something like this </p>\n\n<pre><code>    $HoH { $fragment_id }{'POSITION'}[$pos-1] = $pos;\n    $HoH { $fragment_id }{'GROUP'}[$pos-1]  = $group_id;\n</code></pre>\n\n<p>To compare fragments and groups I am using a loop like this :</p>\n\n<pre><code>my $rHoH = \\%HoH;\n\nforeach my $id (keys %HoH){\n    for (my $i=0; $i &lt; scalar(@{$rHoH-&gt;{$id}-&gt;{'POSITION'}}); $i++){\n                    for (my $j = $i+1; $j &lt; scalar(@{$rHoH-&gt;{$id}-&gt;{'POSITION'}}); $j++) {\n\n                      #logic that will produce desired output here;\n                      my $group_a = $rHoH-&gt;{$id}-&gt;{'GROUP'}[$i];\n                      my $group_b = $rHoH-&gt;{$id}-&gt;{'GROUP'}[$j];\n                         if($group_a == $group_b){\n\n                         }\n                   }\n   }\n}\n</code></pre>\n\n<p>Any ideas on how to approach this or is there an easier data structure I just can't think of. (still a novice). </p>\n"}, {"tags": ["python", "perl", "unicode", "utf-8"], "answers": [{"comments": [{"owner": {"reputation": 497, "user_id": 3359763, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a91854f1731dc8c3b058c2c2168b4ac8?s=128&d=identicon&r=PG&f=1", "display_name": "Nishant Shrivastava", "link": "https://stackoverflow.com/users/3359763/nishant-shrivastava"}, "edited": false, "score": 0, "creation_date": 1533680996, "post_id": 51735734, "comment_id": 90433239, "body": "Sorry .. i got happy a bit too soon. I tried to pass the input text as a parameter and the problem is back ! I tied to add #use open qw(:std :utf8); to the script.. but it does not work either."}, {"owner": {"reputation": 497, "user_id": 3359763, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a91854f1731dc8c3b058c2c2168b4ac8?s=128&d=identicon&r=PG&f=1", "display_name": "Nishant Shrivastava", "link": "https://stackoverflow.com/users/3359763/nishant-shrivastava"}, "edited": false, "score": 0, "creation_date": 1533683191, "post_id": 51735734, "comment_id": 90433774, "body": "Managed to get it to run by passing the following command line flags while running by code: perl -Mutf8 -CA  . Thanks!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1533677558, "creation_date": 1533677558, "answer_id": 51735734, "question_id": 51735660, "link": "https://stackoverflow.com/questions/51735660/html-encode-decode-perl-python-output-does-not-match/51735734#51735734", "title": "HTML Encode / Decode : Perl / Python output does not match", "body": "<p>You haven't told Perl your script is saved in UTF-8. Just add</p>\n\n<pre><code>use utf8;\n</code></pre>\n\n<p>somewhere near the beginning of the script (best place is right after <code>use strict;</code> and <code>use warnings;</code>).</p>\n\n<p>See <a href=\"http://p3rl.org/utf8\" rel=\"nofollow noreferrer\">utf8</a>.</p>\n"}], "owner": {"reputation": 497, "user_id": 3359763, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a91854f1731dc8c3b058c2c2168b4ac8?s=128&d=identicon&r=PG&f=1", "display_name": "Nishant Shrivastava", "link": "https://stackoverflow.com/users/3359763/nishant-shrivastava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533678024, "creation_date": 1533677198, "last_edit_date": 1533678024, "question_id": 51735660, "link": "https://stackoverflow.com/questions/51735660/html-encode-decode-perl-python-output-does-not-match", "title": "HTML Encode / Decode : Perl / Python output does not match", "body": "<p>Input Text: ABC\u2122 Blue<sup>\u00ae</sup> Testmix, 200 x 20 \u00b5l rxns, 2 ml (2 x 1 ml)</p>\n\n<p>Using this online tool to verify the output for encode and decode:\n<a href=\"http://www.web2generators.com/html-based-tools/online-html-entities-encoder-and-decoder\" rel=\"nofollow noreferrer\">http://www.web2generators.com/html-based-tools/online-html-entities-encoder-and-decoder</a>, the output returned by the website are below:</p>\n\n<pre><code>Decode Text \nABC\u2122 Blue&lt;sup&gt;\u00ae&lt;/sup&gt; Testmix, 200 x 20 \u00b5l rxns, 2 ml (2 x 1 ml)\n\nEncode Text\nABC&amp;trade; Blue&amp;lt;sup&amp;gt;&amp;reg;&amp;lt;/sup&amp;gt; Testmix, 200 x 20 &amp;micro;l rxns, 2 ml (2 x 1 ml) \n</code></pre>\n\n<p>I wrote Perl and Python code to try to see if I can get the same output:</p>\n\n<p>Python Code</p>\n\n<pre><code>from HTMLParser import HTMLParser\ntry:\n    from html import escape  # python 3.x\nexcept ImportError:\n    from cgi import escape  # python 2.x\n\n\ndef htmldecode(s):\n        h = HTMLParser()\n        return h.unescape(s)\n\ntext = \"ABC\u2122 Blue&lt;sup&gt;\u00ae&lt;/sup&gt; Testmix, 200 x 20 \u00b5l rxns, 2 ml (2 x 1 ml)\"\nprint (htmldecode(text))\nprint (escape(htmldecode(text)))\n</code></pre>\n\n<p>Output from Python for Encode Text :</p>\n\n<pre><code>ABC\u2122 Blue&amp;lt;sup&amp;gt;\u00ae&amp;lt;/sup&amp;gt; Testmix, 200 x 20 \u00b5l rxns, 2 ml (2 x 1 ml)\n</code></pre>\n\n<p>Tried Perl Code as well </p>\n\n<pre><code>use HTML::Entities;\n\nmy $input = \"ABC\u2122 Blue&lt;sup&gt;\u00ae&lt;/sup&gt; Testmix, 200 x 20 \u00b5l rxns, 2 ml (2 x 1 ml)\";\nprint encode_entities($input), \"\\n\"\n</code></pre>\n\n<p>However, the output is </p>\n\n<pre><code>ABC&amp;acirc;&amp;#132;&amp;cent; Blue&amp;lt;sup&amp;gt;&amp;Acirc;&amp;reg;&amp;lt;/sup&amp;gt; Testmix, 200 x 20 &amp;Acirc;&amp;micro;l rxns, 2 ml (2 x 1 ml)\n</code></pre>\n\n<p>What am i doing wrong that the output does not match the output returned from <a href=\"http://www.web2generators.com/html-based-tools/online-html-entities-encoder-and-decoder\" rel=\"nofollow noreferrer\">http://www.web2generators.com/html-based-tools/online-html-entities-encoder-and-decoder</a> </p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1533676623, "post_id": 51735397, "comment_id": 90431843, "body": "I thought I needed to build an array of arrays to get this done in perl ? Is there an easier way ?  I an not good with those date structures - hashes of arrays, arrays of hashes, multi level hashes - is there some kind of math I can practive to get good at those data structures in perl"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1533676645, "post_id": 51735397, "comment_id": 90431850, "body": "This is just as easy in Perl as it is in Bash. What have you tried so far? Where are you running into problems?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1533676795, "post_id": 51735397, "comment_id": 90431911, "body": "An array of arrays? No. Just open the file, read it in a <code>while</code> loop, <code>split</code> each line, and <code>print</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1533676801, "post_id": 51735397, "comment_id": 90431916, "body": "Your attempt to restore <code>IFS</code> <a href=\"http://mywiki.wooledge.org/BashPitfalls#OIFS.3D.22.24IFS.22.3B_....3B_IFS.3D.22.24OIFS.22\" rel=\"nofollow noreferrer\">is severely broken</a>."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1533677082, "post_id": 51735397, "comment_id": 90432025, "body": "It looks like you have a <a href=\"https://stackoverflow.com/search?q=user%3A824282+%5Bperl%5D+is%3Aquestion+open\">bunch of existing code</a> that essentially does the same thing... right?"}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1533677116, "post_id": 51735397, "comment_id": 90432037, "body": "How is IFS broken ?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1533677169, "post_id": 51735397, "comment_id": 90432055, "body": "I didn&#39;t say IFS is broken."}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1533677074, "post_id": 51735626, "comment_id": 90432019, "body": "You may have to split on <code>&#47;\\s*,\\s*&#47;</code> to get rid of extra whitespace."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1533677369, "last_edit_date": 1533677369, "creation_date": 1533676984, "answer_id": 51735626, "question_id": 51735397, "link": "https://stackoverflow.com/questions/51735397/printing-out-a-csv-line-by-line-in-perl/51735626#51735626", "title": "Printing out a csv line by line in perl", "body": "<p>See <a href=\"http://p3rl.org/split\" rel=\"nofollow noreferrer\">split</a>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nopen my $in, '&lt;', '/tmp/list' or die $!;\nwhile (&lt;$in&gt;) {\n    chomp;\n    my ($date, $time, $sym, $str, $qty) = split /,/;\n    print qq(\\n$date where ticker = `$sym, strikeprice = $str, orderqty = $qty, (string transacttime) like \"*$time*\"\\n\\n);\n}\n</code></pre>\n\n<p>If you don't want to get the empty lines around each line, just remove the <code>\\n</code>'s from the beginning and end of the qquoted string.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1533690328, "post_id": 51735627, "comment_id": 90435155, "body": "To strip whitespace around separator <code>Text::CSV-&gt;new({ allow_whitespace =&gt; 1 });</code>"}], "tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": true, "score": 1, "last_activity_date": 1533680420, "last_edit_date": 1533680420, "creation_date": 1533676987, "answer_id": 51735627, "question_id": 51735397, "link": "https://stackoverflow.com/questions/51735397/printing-out-a-csv-line-by-line-in-perl/51735627#51735627", "title": "Printing out a csv line by line in perl", "body": "<p>Basic <code>Text::CSV</code> usage:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Text::CSV;\nmy $parser = Text::CSV-&gt;new;\n\nopen my $data, '&lt;', 'data.csv';\nwhile (my $row = $parser-&gt;getline($data)) {\n    # $row is an array reference. dereference by using \"@$row\"\n    print 'the row is: '.join('||', @$row).\"\\n\";\n    # or access elements like $row-&gt;[0]\n    print 'the first element of the row is '.$row-&gt;[0];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 202, "user_id": 1606164, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6306a99514c0a21ba2e88e58b998505e?s=128&d=identicon&r=PG", "display_name": "Tigran Khachikyan", "link": "https://stackoverflow.com/users/1606164/tigran-khachikyan"}, "is_accepted": false, "score": 1, "last_activity_date": 1533846817, "creation_date": 1533846817, "answer_id": 51775359, "question_id": 51735397, "link": "https://stackoverflow.com/questions/51735397/printing-out-a-csv-line-by-line-in-perl/51775359#51775359", "title": "Printing out a csv line by line in perl", "body": "<p>Parse::CSV also has very good interface.</p>\n\n<pre><code># Simple headerless comma-seperated column parser\nmy $simple = Parse::CSV-&gt;new(\n    file =&gt; 'file.csv',\n);\n\nwhile ( my $array_ref = $simple-&gt;fetch ) {\n   # Do something...\n}\n</code></pre>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 51735627, "answer_count": 3, "score": 0, "last_activity_date": 1533846817, "creation_date": 1533675814, "last_edit_date": 1533676538, "question_id": 51735397, "link": "https://stackoverflow.com/questions/51735397/printing-out-a-csv-line-by-line-in-perl", "title": "Printing out a csv line by line in perl", "body": "<p>I have a list of values </p>\n\n<pre><code>2018.04.09, 22:39, SPX , 2200 , 10 \n2018.04.09, 22:39, SPX , 2225 , 5 \n2018.04.09, 22:39, SPX , 2175 , 5\n2018.04.26, 34:03, SPXW , 2585 , 66\n2018.04.26, 34:03, SPXW , 2595 , 33\n2018.04.26, 34:03, SPXW , 2575 , 33\n2018.04.26, 34:03, SPXW , 2580 , 33\n2018.04.26, 34:03, SPXW , 2600 , 33\n2018.04.26, 34:03, SPXW , 2590 , 66\n</code></pre>\n\n<p>And I need to put time into these values - just replace the vlaues. </p>\n\n<pre><code>2018.04.09 where ticker = `SPX, strikeprice = 2200, orderqty = 10, (string transacttime) like \"*22:39.*\"\n2018.04.09 where ticker = `SPX, strikeprice = 2225, orderqty = 5, (string transacttime) like \"*22:39.*\" \n2018.04.09 where ticker = `SPX, strikeprice = 2200, orderqty = 5, (string transacttime) like \"*22:39.*\"  \n</code></pre>\n\n<p>And I don't know how to do it in perl do I did in bash. How do I do it in perl?</p>\n\n<pre><code>#!/bin/bash\nOLDIFS=$IFS\nIFS=,\nwhile read -r date time sym str qty\ndo\necho \"\n$date where ticker = \\`${sym}, strikeprice = ${str}, orderqty = ${qty}, (string transacttime) like \\\"*${time}*\\\"\n\"\ndone &lt; /tmp/list\nIFS=$OLDIFS\n</code></pre>\n"}, {"tags": ["regex", "perl", "split"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1533672846, "post_id": 51734524, "comment_id": 90430232, "body": "What about <code>my @array = $str =~ &#47;(\\(.*?\\))&#47;sg</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 7830731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a20b66031a6a73d57db63fa11f1e73a4?s=128&d=identicon&r=PG&f=1", "display_name": "PExplorer", "link": "https://stackoverflow.com/users/7830731/pexplorer"}, "edited": false, "score": 0, "creation_date": 1533673699, "post_id": 51734762, "comment_id": 90430610, "body": "Thank you so much!..It works.. Yes, there are no paranthesis inside the tuples. If you don&#39;t mind, could you explain the code. You have used the capture group (&#40;.*?&#41;) to capture the tuple. How does each of the captured scalar get into an array?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 53, "user_id": 7830731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a20b66031a6a73d57db63fa11f1e73a4?s=128&d=identicon&r=PG&f=1", "display_name": "PExplorer", "link": "https://stackoverflow.com/users/7830731/pexplorer"}, "edited": false, "score": 0, "creation_date": 1533673910, "post_id": 51734762, "comment_id": 90430717, "body": "You are welcome, I have updated the question with explanation of how the matches will enter the array."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1533673851, "last_edit_date": 1533673851, "creation_date": 1533673063, "answer_id": 51734762, "question_id": 51734524, "link": "https://stackoverflow.com/questions/51734524/perl-split-a-string-containing-tuples-using-regex/51734762#51734762", "title": "Perl - Split a string containing tuples using regex", "body": "<p>If there are no parenthesis inside the tuples, and no parenthesis outside the tuples, you could simply use the following regex:</p>\n\n<pre><code>my @array = $str =~ /(\\(.*?\\))/sg;\n</code></pre>\n\n<p>assuming that there is always a starting parenthesis and a matching end parenthesis for each tuple.</p>\n\n<p>Here </p>\n\n<ul>\n<li><code>*?</code> is a nongreedy quantifier, see <a href=\"https://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perlretut</a> for more information,</li>\n<li>the flag <code>s</code> is a regex modifier that lets the <code>.</code> also match newlines characters (in case your string contains newlines), see <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a> for more information,</li>\n<li>the flag <code>g</code> stands for global matching and allows the matching operator to match within a string as many times as possible.\nIn list context, <code>g</code> returns a list of matched groupings, or if there are no groupings, a list of matches to the whole regexp, see <a href=\"https://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perlretut</a> for more information.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 4462, "user_id": 1018580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757fafb944d47f80a2336d097dcef7c5?s=128&d=identicon&r=PG", "display_name": "Trenton Trama", "link": "https://stackoverflow.com/users/1018580/trenton-trama"}, "is_accepted": false, "score": 1, "last_activity_date": 1533673125, "creation_date": 1533673125, "answer_id": 51734773, "question_id": 51734524, "link": "https://stackoverflow.com/questions/51734524/perl-split-a-string-containing-tuples-using-regex/51734773#51734773", "title": "Perl - Split a string containing tuples using regex", "body": "<p>If your data is structured consistently the way you showed, you can use a lookbehind to check and see if the comma comes after a parenthesis.  </p>\n\n<pre><code>/(?&lt;=\\)),/\n</code></pre>\n\n<p>You could also use a negative lookbehind to see if a number is before the comma, and not split there, though that could be confusing to understand.</p>\n\n<pre><code>/(?&lt;!\\d),/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9517, "user_id": 3194372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89cc5d5ba3695c96e02e9ffc9b61f59?s=128&d=identicon&r=PG", "display_name": "Jason Cust", "link": "https://stackoverflow.com/users/3194372/jason-cust"}, "is_accepted": false, "score": 3, "last_activity_date": 1533675274, "last_edit_date": 1533675274, "creation_date": 1533673183, "answer_id": 51734786, "question_id": 51734524, "link": "https://stackoverflow.com/questions/51734524/perl-split-a-string-containing-tuples-using-regex/51734786#51734786", "title": "Perl - Split a string containing tuples using regex", "body": "<p><a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\"><code>split</code></a> can be used for this but requires a slightly more detailed expression.</p>\n\n<pre><code>my @str = \"(-0.345205479452055,1.3543),(-0.26027397260274,1.218),(-0.183561643835616,1.3028)\");\nmy @arr1 = split(/(?&lt;=\\)),(?=\\()/, $str);\n</code></pre>\n\n<p>The key here is the use of a zero-width look-behind assertion for checking for a closing paren and the use of a zero-width look-ahead assertion (not exactly necessary here but useful to see) to check for an open paren. Check the <a href=\"http://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\">perlre</a> docs for more info on these.</p>\n\n<p>Alternatively, if you want to avoid <code>split</code> altogether then you can use a global match as well.</p>\n\n<pre><code>my @arr2 = $str =~ /(\\([^)]+\\))/g;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 7830731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a20b66031a6a73d57db63fa11f1e73a4?s=128&d=identicon&r=PG&f=1", "display_name": "PExplorer", "link": "https://stackoverflow.com/users/7830731/pexplorer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1533675274, "creation_date": 1533671854, "last_edit_date": 1533672306, "question_id": 51734524, "link": "https://stackoverflow.com/questions/51734524/perl-split-a-string-containing-tuples-using-regex", "title": "Perl - Split a string containing tuples using regex", "body": "<p>I have a string containing tuples like below:\n<code>\"(-0.345205479452055,1.3543),(-0.26027397260274,1.218),(-0.183561643835616,1.3028)\"</code></p>\n\n<p>I am trying to split this string to an array containing just the tuples: <code>[(-0.345205479452055,1.3543),(-0.26027397260274,1.218),(-0.183561643835616,1.3028)]</code></p>\n\n<p>I cannot use <code>Split</code> function like below since the function also splits up the tuple as well. Is there a regex or some clever way to get the tuples as-is?</p>\n\n<p><code>@Tuples = split /,/,$myString;</code></p>\n"}, {"tags": ["perl", "package", "naming-conventions"], "comments": [{"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 2, "creation_date": 1533668193, "post_id": 51733503, "comment_id": 90427964, "body": "If you look at the <code>Net::</code> namespace, where a lot of network protocols are implemented, and the ones that are just acronyms, are all using uppercases... (I am sure you can find counter examples with a fine search, but look at the vast majority). But I am speaking about acronyms, not abbreviations. Abbreviations could be find as <code>Abbr</code> I guess, in all generalities (just post the true name involved if you want people to help you on your specific name issue)."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1533668309, "post_id": 51733503, "comment_id": 90428025, "body": "From the first link, pick whichever one is better at helping people find your module."}], "answers": [{"tags": [], "owner": {"reputation": 6542, "user_id": 7905714, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BPEgM.jpg?s=128&g=1", "display_name": "antzshrek", "link": "https://stackoverflow.com/users/7905714/antzshrek"}, "is_accepted": false, "score": 3, "last_activity_date": 1533734584, "creation_date": 1533734584, "answer_id": 51747858, "question_id": 51733503, "link": "https://stackoverflow.com/questions/51733503/perl-module-naming-convention/51747858#51747858", "title": "Perl module naming convention", "body": "<p>In naming convention for Perl, aside from reserved you get to choose a naming convention that can be understood among those you work with. No module that starts with keywords or reserved prefix will be accepted to CPAN or the core. </p>\n\n<p>So you can either choose to adopt <code>My::Module::Abcd</code> or <code>My::Module::ABCD</code> as long as you chose to adopt one that will helping people find your module.</p>\n\n<p>Alternatively, you can use an underscore in the top-level name (like <code>My_Corp::Session</code> or just <code>My_Session</code>).  All categories with an underscore have also been reserved.  (This is mentioned in <a href=\"http://perldoc.perl.org/perlmodlib.html\" rel=\"nofollow noreferrer\">perlmodlib</a>, under \"Select a name for the module\".)</p>\n\n<p>Note that both those reservations apply only to the top-level name.  For example, there are CPAN modules named <code>Time::Local</code> and <code>Text::CSV_XS</code>.  But <code>Local::Time</code> and <code>Text_CSV::XS</code> are reserved names and would not be accepted on CPAN.</p>\n\n<p>Naming modules after your company is fine too.  (Well, unless you work for some really generic sounding company.)  Using the reverse domain name is probably overkill, unless you intend to distribute your modules to others.  (But in that case, you should probably register a normal module name.)</p>\n\n<p>You might want to take a long at <a href=\"https://stackoverflow.com/questions/658955/how-do-i-choose-a-package-name-for-a-custom-perl-module-that-does-not-collide-wi/659198#659198\">How do I choose a package name for a custom Perl module that does not collide with builtin or CPAN packages names?\n</a></p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 928, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1533734584, "creation_date": 1533667573, "last_edit_date": 1533676732, "question_id": 51733503, "link": "https://stackoverflow.com/questions/51733503/perl-module-naming-convention", "title": "Perl module naming convention", "body": "<p>I have checked\n<a href=\"http://pause.perl.org/pause/query?ACTION=pause_namingmodules\" rel=\"nofollow noreferrer\"><em>On the Naming of Modules</em></a>,\n<a href=\"https://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\"><code>perldoc perlvar</code></a> and\n<a href=\"https://perldoc.perl.org/perlmod.html\" rel=\"nofollow noreferrer\"><code>perldoc perlmod</code></a>\nbut can not find best practices for naming modules whose name is an acronym: <code>SMTP</code>, <code>ORM</code>.</p>\n\n<p>At once on CPAN both variants names are seen: <code>SMTP</code> and <code>Smtp</code></p>\n\n<p>If my new module name is an acronymthen<br>\nwhat would be the better name for it: <code>My::Module::Abcd</code> or <code>My::Module::ABCD</code>?</p>\n"}, {"tags": ["perl", "double", "quotes", "lines", "continuation"], "comments": [{"owner": {"reputation": 8974, "user_id": 205207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1OH7W.jpg?s=128&g=1", "display_name": "i alarmed alien", "link": "https://stackoverflow.com/users/205207/i-alarmed-alien"}, "edited": false, "score": 0, "creation_date": 1533670737, "post_id": 51732730, "comment_id": 90429223, "body": "Are you reading this data in line-by-line from a file? Does the line continuation character always appear in the same place?"}, {"owner": {"reputation": 19, "user_id": 9980496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d428fcdaf6b5527e5fa7a102433d948?s=128&d=identicon&r=PG&f=1", "display_name": "synarchy007", "link": "https://stackoverflow.com/users/9980496/synarchy007"}, "reply_to_user": {"reputation": 8974, "user_id": 205207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1OH7W.jpg?s=128&g=1", "display_name": "i alarmed alien", "link": "https://stackoverflow.com/users/205207/i-alarmed-alien"}, "edited": false, "score": 0, "creation_date": 1533672562, "post_id": 51732730, "comment_id": 90430097, "body": "Yes, the data is being read line-by-line. The line continuation character does not always appear in the same column of text but when it appears, it is on the last space of the line. @ialarmedalien"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 9980496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d428fcdaf6b5527e5fa7a102433d948?s=128&d=identicon&r=PG&f=1", "display_name": "synarchy007", "link": "https://stackoverflow.com/users/9980496/synarchy007"}, "edited": false, "score": 0, "creation_date": 1533766281, "post_id": 51735221, "comment_id": 90472223, "body": "I&#39;m pretty new to perl so I&#39;m a bit lost with the regular expressions, however I am able to follow along.I keep getting errors that say &#39;requires specific package name&#39;. Are there any packages that I need to import?"}, {"owner": {"reputation": 8974, "user_id": 205207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1OH7W.jpg?s=128&g=1", "display_name": "i alarmed alien", "link": "https://stackoverflow.com/users/205207/i-alarmed-alien"}, "reply_to_user": {"reputation": 19, "user_id": 9980496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d428fcdaf6b5527e5fa7a102433d948?s=128&d=identicon&r=PG&f=1", "display_name": "synarchy007", "link": "https://stackoverflow.com/users/9980496/synarchy007"}, "edited": false, "score": 0, "creation_date": 1533788419, "post_id": 51735221, "comment_id": 90476748, "body": "all the above is vanilla perl that should work without any special settings. Is there more code that might be causing the error? Can you post the full error message?"}, {"owner": {"reputation": 19, "user_id": 9980496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d428fcdaf6b5527e5fa7a102433d948?s=128&d=identicon&r=PG&f=1", "display_name": "synarchy007", "link": "https://stackoverflow.com/users/9980496/synarchy007"}, "edited": false, "score": 0, "creation_date": 1533850138, "post_id": 51735221, "comment_id": 90510526, "body": "I am currently getting syntax errors around the brackets of my first section of code, posted above. Should I remove it since all it is doing is pushing values to variables? Is that not what your edits do?"}], "tags": [], "owner": {"reputation": 8974, "user_id": 205207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1OH7W.jpg?s=128&g=1", "display_name": "i alarmed alien", "link": "https://stackoverflow.com/users/205207/i-alarmed-alien"}, "is_accepted": false, "score": 0, "last_activity_date": 1533819960, "last_edit_date": 1533819960, "creation_date": 1533675002, "answer_id": 51735221, "question_id": 51732730, "link": "https://stackoverflow.com/questions/51732730/perl-include-continuation-lines-and-ignore-double-quotes/51735221#51735221", "title": "Perl include continuation lines and ignore double quotes", "body": "<p>If you're going through a file line by line, you can keep partial lines in a variable and concatenate them with the next line. Read through the code - I have commented the functionality.</p>\n\n<pre><code>my $curr;\nmy $txt;\nopen ( IN, \"&lt;\", 'yourinputfile.txt' ) or die 'Could not open file: ' . $!;\nwhile (&lt;IN&gt;) {\n  chomp;\n  # if the line ends with a backslash, save the segment in $curr and go on to the next line\n  if ( m!(.*?) \\$! ) {\n    $curr = $1;\n    next;\n  }\n  # if $curr exists, add this line on to it\n  if ( $curr ) {\n    $curr .= $_;\n  }\n  # otherwise, set $curr to the line contents\n  else {\n    $curr = $_;\n  }\n\n  if ( $curr =~ /set_case_analysis -name\\s+\\\"?(\\S+)/) {\n      # if the string is in quotes, the regex will leave the final \" on the string\n      # remove it\n      ( $txt = $1 ) =~ s/\"$//;\n      print \"Set Case $txt\\n\";\n      $set_case_analysis{$txt}=1;\n   }\n   elsif ($curr =~ /quasi_static -name\\s+(\\S+)/) {\n      ( $txt = $1 ) =~ s/\"$//;\n      print \"Quasi Static $txt\\n\";\n      $quasi_static{$txt}=1;\n\n   }\n   elsif ($curr =~ /reset .*?-name\\s+\\\"?(\\S+)/) {\n      ( $txt = $1 ) =~ s/\"$//;\n      print \"Reset $txt\\n\";\n      $reset{$txt}=1;\n  }\n  # reset $curr\n  $curr = '';\n}\n</code></pre>\n\n<p>You could make it more compact and neat by doing something like this:</p>\n\n<pre><code>if ( $curr =~ /(\\w+) -name \\\"?(\\S+)/) {\n      ( $txt = $2 ) =~ s/\"$//;\n      $data{$1}{$txt}=1;\n}\n</code></pre>\n\n<p>You would get a nested hash structure with the three keys, <code>set_case_analysis</code>, <code>quasi_static</code>, and <code>reset</code>, and the various different values from <code>-name</code>.</p>\n\n<pre><code>%data = (\n  quasi_static =&gt; ( foo =&gt; 1, bar =&gt; 1 ),\n  reset =&gt; ( pip =&gt; 1, pap =&gt; 1, pop =&gt; 1 ),\n  set_case_analysis =&gt; ( foo =&gt; 1, bar =&gt; 1 )\n);\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 9980496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d428fcdaf6b5527e5fa7a102433d948?s=128&d=identicon&r=PG&f=1", "display_name": "synarchy007", "link": "https://stackoverflow.com/users/9980496/synarchy007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1533819960, "creation_date": 1533664418, "last_edit_date": 1533667406, "question_id": 51732730, "link": "https://stackoverflow.com/questions/51732730/perl-include-continuation-lines-and-ignore-double-quotes", "title": "Perl include continuation lines and ignore double quotes", "body": "<p>I was working on a script that needs to produce <em>foo</em> for the first two lines and <em>bar</em> for the last three. There are two issues i am running into here.</p>\n\n<ol>\n<li><p>How do I get Perl to ignore the double quotes around the first foo?</p></li>\n<li><p>How do I get it recognize the backslash as a continuation line? -</p></li>\n</ol>\n\n<p>Sample input:</p>\n\n<pre><code>reset -name \"foo\"\nquasi_static -name foo\nreset \\\n-name bar\nset_case_analysis -name \"bar\"\n</code></pre>\n\n<p>My Code:</p>\n\n<pre><code>   if (/^\\s*set_case_analysis.*\\-name\\s+(\\S+)/) \n   {\n      $set_case_analysis{$1}=1;\n      print \"Set Case $1\\n\";\n   } \n   elsif (/^\\s*quasi_static.*\\-name\\s+(\\S+)/) \n   {\n      $quasi_static{$1}=1;\n      print \"Quasi Static $1\\n\";\n   } \n   elsif (/^\\s*reset\\s+.*\\-name\\s+(\\S+)/) \n   {\n      $reset{$1}=1;\n      print \"Reset $1\\n\";\n    }\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": -1, "last_activity_date": 1533662774, "creation_date": 1533662774, "answer_id": 51732344, "question_id": 51732041, "link": "https://stackoverflow.com/questions/51732041/perl-regex-to-extract-floating-number/51732344#51732344", "title": "Perl regex to extract floating number", "body": "<p>As I understand it, you need to extract the first one or two groups of digits from a string. Like so.</p>\n\n<pre><code>123.456.789  # 123.456\n123.456abc   # 123.456\n123abc       # 123\nabc123       # nothing\n</code></pre>\n\n<p>The regex would look like this, expanded out for a better explanation.</p>\n\n<pre><code>qr{\n  (\n    \\d+ \n    (?: \\.\\d+ )?\n  )\n}x;\n</code></pre>\n\n<p><code>qr</code> is the regex quoting operator. Using <code>x</code> means to ignore spaces so things are more readable.</p>\n\n<p><code>\\d</code> matches digits. <code>+</code> says to match 1 or more of the preceding. So <code>\\d+</code> is 1 or more digits.</p>\n\n<p><code>()</code> captures the contents.</p>\n\n<p><code>(?:)</code> groups the contents but does not capture.</p>\n\n<p><code>?</code> says to capture 0 or 1 of the preceding. It means it's optional.</p>\n\n<p>So <code>(?: \\.\\d+ )?</code> means a dot followed by some digits is optional.</p>\n\n<p>You'd use it like so.</p>\n\n<pre><code>my $str = \"123.456abc\";\nmy $digits_re = qr{ (\\d+ (?: \\.\\d+ )?) }x;\nmy($digits) = $str =~ $digits_re;\nprint $digits;\n</code></pre>\n\n<p>For more information see the <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">Perl Regex Tutorial</a> and you can play with it on <a href=\"https://regex101.com/r/ZAFrhB/1\" rel=\"nofollow noreferrer\">Regex 101</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 10920, "user_id": 3390419, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/cXKh9.jpg?s=128&g=1", "display_name": "Paolo", "link": "https://stackoverflow.com/users/3390419/paolo"}, "is_accepted": true, "score": 2, "last_activity_date": 1533742760, "last_edit_date": 1533742760, "creation_date": 1533663790, "answer_id": 51732572, "question_id": 51732041, "link": "https://stackoverflow.com/questions/51732041/perl-regex-to-extract-floating-number/51732572#51732572", "title": "Perl regex to extract floating number", "body": "<p>Following your update, the expression you need is:</p>\n\n<pre><code>^\\d+(?:\\.\\d+)?\n</code></pre>\n\n<ul>\n<li><code>^\\d+</code> Match digits at start of string.</li>\n<li><code>(?:</code> Start of non capturing group.</li>\n<li><code>\\.\\d+</code> Match a literal <code>.</code>, followed by digits.</li>\n<li><code>)?</code> Close non capturing group making it optional.</li>\n</ul>\n\n<p>Check the expression <a href=\"https://regex101.com/r/SgbDW0/1\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>A Perl example:</p>\n\n<pre><code>$var = \"123.456.789\";\nprint \"old $var\\n\";\n$var =~ /(^\\d+(?:\\.\\d+)?)/;\nprint \"new $1\\n\";\n</code></pre>\n\n<p><em>Prints:</em></p>\n\n<pre><code>old 123.456.789\nnew 123.456\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1533777959, "post_id": 51750482, "comment_id": 90474680, "body": "Hey bud, if you&#39;re going to just replace the <i>junk</i> in one step, use this <a href=\"https://regex101.com/r/FFhOdN/1\" rel=\"nofollow noreferrer\">$var =~ s/(?m)^(\\d+(?:\\.\\d+)?)?.*/$1/g</a>"}], "tags": [], "owner": {"reputation": 3225, "user_id": 2052436, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d0b7ab056e97ed88f05549537c42baa4?s=128&d=identicon&r=PG", "display_name": "user2052436", "link": "https://stackoverflow.com/users/2052436/user2052436"}, "is_accepted": false, "score": 0, "last_activity_date": 1533742237, "creation_date": 1533742237, "answer_id": 51750482, "question_id": 51732041, "link": "https://stackoverflow.com/questions/51732041/perl-regex-to-extract-floating-number/51750482#51750482", "title": "Perl regex to extract floating number", "body": "<p>So I am trying suggested expressions, I guess I am not using them correctly in Perl:</p>\n\n<pre><code>my $var = \"123.456.66\";\nprint \"old $var\\n\";\n$var =~ s/^\\d+(?:\\.\\d+)?//;\nprint \"new $var\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$perl main.pl\nold 123.456.66\nnew .66\n</code></pre>\n"}], "owner": {"reputation": 3225, "user_id": 2052436, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d0b7ab056e97ed88f05549537c42baa4?s=128&d=identicon&r=PG", "display_name": "user2052436", "link": "https://stackoverflow.com/users/2052436/user2052436"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1234, "favorite_count": 0, "accepted_answer_id": 51732572, "answer_count": 3, "score": 2, "last_activity_date": 1533742760, "creation_date": 1533661590, "last_edit_date": 1533664845, "question_id": 51732041, "link": "https://stackoverflow.com/questions/51732041/perl-regex-to-extract-floating-number", "title": "Perl regex to extract floating number", "body": "<p>I need to modify someone's Perl script, and I am not familiar with Perl at all.</p>\n\n<p>There is a scalar variable <code>$var</code>, whose value is a floating point number possibly followed by junk. I need to extract the floating point number.</p>\n\n<p>The number is in non-exponential format: DDD[.DDD], and has no sign.</p>\n\n<p>Fractional part may be missing. Integer part is not missing (<code>.123</code> is just junk)</p>\n\n<p>If the variable starts with junk (in particular, sign or decimal point), I need to extract empty string.</p>\n\n<p>Examples:</p>\n\n<pre><code>-123.456 ==&gt; \"\"\n123. ==&gt; \"123\"\n123.456.789 ==&gt; \"123.456\"\n123.456junk ==&gt; \"123.456\"\n123junk ==&gt; \"123\"\n123.junk ==&gt; \"123\"     # strip the dot if no fraction\n.123 ==&gt; \"\"\njunk ==&gt; \"\"\n000.000 ==&gt; \"000.000\"\n</code></pre>\n\n<p>Could someone provide a solution, I guess it should be: <code>$var =~ s/REGEX_EXPRESSION</code>, but I cannot figure out what <code>REGEX_EXPRESSION</code> should be.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["perl", "xml-twig"], "comments": [{"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 3, "creation_date": 1533642024, "post_id": 51725729, "comment_id": 90411964, "body": "Why would you want to do this?"}, {"owner": {"reputation": 567, "user_id": 9652562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff7179b8082590d9450b7783721493cb?s=128&d=identicon&r=PG&f=1", "display_name": "jsor", "link": "https://stackoverflow.com/users/9652562/jsor"}, "reply_to_user": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 0, "creation_date": 1533642405, "post_id": 51725729, "comment_id": 90412206, "body": "i am trying to generate the same xml that other system generating on different language , it should be exactly the same  (i.e when doing diff there should be no difference ) , thats one of the requirements ."}, {"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 1, "creation_date": 1533650149, "post_id": 51725729, "comment_id": 90417665, "body": "OK, it&#39;s a yucky requirement, as any conforming XML parser will ignore the space and you should be able to generate a diff that ignores changes in space characters as well. However looking at the code for <code>XML::Twig</code> the only way to do it would be to override <code>XML::Twig::end_tag()</code>"}, {"owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 0, "creation_date": 1533660333, "post_id": 51725729, "comment_id": 90424254, "body": "please tell me that the two spaces between <code>\u201dCommon\u201d</code> and <code>action</code> are just to be ignored also?"}, {"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "reply_to_user": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 0, "creation_date": 1533715573, "post_id": 51725729, "comment_id": 90443088, "body": "@vanHoesel who was that comment aimed at?"}, {"owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 0, "creation_date": 1533735724, "post_id": 51725729, "comment_id": 90456221, "body": "it\u2019s more something for @jsor , I would get very nervous if those random double spaces are part of the requirement too. I can not imagine ( or maybe I can considering the amount of rubbish XML writers and readers there exists in the wild)  that those double spaces are needed too."}], "answers": [{"tags": [], "owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "is_accepted": false, "score": 2, "last_activity_date": 1533809089, "creation_date": 1533809089, "answer_id": 51764188, "question_id": 51725729, "link": "https://stackoverflow.com/questions/51725729/xmltwig-add-space-before-the-enclosing/51764188#51764188", "title": "XML::Twig add space before the enclosing &gt;", "body": "<p>It would not be pretty, but you could change the way XML::Twig outputs start tags.\nThe method is <code>start_tag</code>, in XML::Twig::Elt;</p>\n\n<p>The cleanest way to do this would be to subclass XML::Twig::Elt (as <code>my_elt</code> in the code below) and to change the output of the original <code>start_tag</code> method: </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n# elements will be created as \"my_elt\" instead of XML::Twig::Elt                      \nmy $t= XML::Twig-&gt;new( elt_class =&gt; 'my_elt')  \n                -&gt;parse( '&lt;data id=\"010\" name=\"Common\"&gt; text &lt;/data&gt;')\n                -&gt;print;\n\n\n# create a new class, based on 'XML::Twig::Elt'\npackage my_elt;\nuse base 'XML::Twig::Elt';\n\n# my_elt only tweaks start_tag\nsub start_tag\n  { my $s= shift-&gt;SUPER::start_tag(); # get the original start tag\n    $s=~ s{(&gt;\\s*)$}{ $1}s;            # replace the last '&gt;' by ' &gt;'\n    return $s;                        # voil\u00e0!\n  }\n</code></pre>\n"}], "owner": {"reputation": 567, "user_id": 9652562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff7179b8082590d9450b7783721493cb?s=128&d=identicon&r=PG&f=1", "display_name": "jsor", "link": "https://stackoverflow.com/users/9652562/jsor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533809089, "creation_date": 1533641455, "question_id": 51725729, "link": "https://stackoverflow.com/questions/51725729/xmltwig-add-space-before-the-enclosing", "title": "XML::Twig add space before the enclosing &gt;", "body": "<p>I have :</p>\n\n<pre><code>&lt;data id=\"010\" name=\"Common\"  action=\"text\"&gt; \n...\n&lt;/data&gt;\n</code></pre>\n\n<p>how to use XML::Twig  to add space before \">\" i.e something like :</p>\n\n<pre><code>&lt;data id=\"010\" name=\"Common\"  action=\"text\" &gt; \n\n&lt;/data&gt;\n</code></pre>\n\n<p>any idea ?</p>\n"}, {"tags": ["python-2.7", "perl", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1533640581, "post_id": 51724418, "comment_id": 90411093, "body": "The Python you show works differently from the Perl code. Why use fancy list comprehension when a simple <code>if</code> <code>else</code> like in Perl will suffice?"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 3814262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2def732e71a9bc9463b8e0a5701d2da?s=128&d=identicon&r=PG&f=1", "display_name": "KR12", "link": "https://stackoverflow.com/users/3814262/kr12"}, "edited": false, "score": 0, "creation_date": 1534831331, "post_id": 51725687, "comment_id": 90834386, "body": "What placeholder should be used if data is alphanumeric like Abc-47-1"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 81, "user_id": 3814262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2def732e71a9bc9463b8e0a5701d2da?s=128&d=identicon&r=PG&f=1", "display_name": "KR12", "link": "https://stackoverflow.com/users/3814262/kr12"}, "edited": false, "score": 0, "creation_date": 1534842032, "post_id": 51725687, "comment_id": 90839650, "body": "@KR12: That&#39;s a string of characters, so use <code>%s</code>."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1533641325, "creation_date": 1533641325, "answer_id": 51725687, "question_id": 51724418, "link": "https://stackoverflow.com/questions/51724418/perl-to-python-script-hashing/51725687#51725687", "title": "Perl to Python script hashing", "body": "<p>If all you need is the <code>print</code> statement then this should help</p>\n\n<p>I can't tell what sort of data your variables hold, so I've assumed that <code>chr</code> is one-character string and everything else is an integer</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>chr = 'A'\npS = 100\npE = 208\ntR = 10\nst = 20\n\nprint \"%s\\t%d\\t%d\\tpre-%d\\t0\\t%d\\n\" % (chr, pS, pE, tR, st);\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>A   100 208 pre-10  0   20\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 995, "user_id": 1760065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kWfhw.jpg?s=128&g=1", "display_name": "HateStackOverFlow", "link": "https://stackoverflow.com/users/1760065/hatestackoverflow"}, "is_accepted": false, "score": 0, "last_activity_date": 1557213528, "creation_date": 1557213528, "answer_id": 56017440, "question_id": 51724418, "link": "https://stackoverflow.com/questions/51724418/perl-to-python-script-hashing/56017440#56017440", "title": "Perl to Python script hashing", "body": "<p>I also looking for it from a very long time, Now I completed Python training and here is my understanding. </p>\n\n<p>Please use the <strong>Dictionary</strong> <strong>data type</strong> in python, its very very <strong>simile</strong> to the <strong>hash</strong>... Its also supported nested, simile to the to nested hash.</p>\n\n<p>Only point is you needs to search for <strong>Dictionary</strong> in python instead of <strong>Hash</strong> in Perl.</p>\n\n<p>Hope this Example will help you understand:-</p>\n\n<pre><code>dict = {'Name': 'Zara', 'Age': 7, 'Class': 'First'}\ndict['Age'] = 8; # update existing entry\ndict['School'] = \"DPS School\" # Add new entry\n\nprint (\"dict['Age']: \", dict['Age'])\nprint (\"dict['School']: \", dict['School'])\n</code></pre>\n\n<blockquote>\n  <p>Dictionary data type:- \n  <a href=\"https://www.tutorialspoint.com/python3/python_dictionary.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/python3/python_dictionary.htm</a></p>\n</blockquote>\n\n<p>Hopes its solves the problem.. </p>\n"}], "owner": {"reputation": 81, "user_id": 3814262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2def732e71a9bc9463b8e0a5701d2da?s=128&d=identicon&r=PG&f=1", "display_name": "KR12", "link": "https://stackoverflow.com/users/3814262/kr12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1557213528, "creation_date": 1533637320, "last_edit_date": 1533640353, "question_id": 51724418, "link": "https://stackoverflow.com/questions/51724418/perl-to-python-script-hashing", "title": "Perl to Python script hashing", "body": "<pre><code>if ( ! exists $tRHash{$tR} ) {\n\n    if ( $start &lt; $end ) {\n\n        $pS = $start - 41;\n        $pE = $end + 40;\n        print \"$chr\\t$pS\\t$pE\\tpre-$tR\\t0\\t$st\\n\";\n    }\n    else {\n\n        $pS = $end - 40;\n        $pE = $start + 40;\n        print \"$chr\\t$pS\\t$pE\\tpre-$tR\\t0\\t$st\\n\";\n    }\n\n    $tRHash{$tR} = $tR;\n}\n</code></pre>\n\n<p>How can I do this in Python, especially the hashing part? I have executed the <code>if</code> statement but I am struggling with the output format as in Perl.</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>pS, pE = zip(*[(n - 41, m + 40) if n &lt; m else (n + 40, m - 40)\n           for n, m in zip(start, end)])\n</code></pre>\n"}, {"tags": ["perl", "jmeter"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7434995, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v89mezrdm34/AAAAAAAAAAI/AAAAAAAAAEA/yFVV6jmufho/photo.jpg?sz=128", "display_name": "Manoj", "link": "https://stackoverflow.com/users/7434995/manoj"}, "edited": false, "score": 0, "creation_date": 1533636677, "post_id": 51724068, "comment_id": 90408636, "body": "I wish to use Contains because of there few more assertions which require contains."}, {"owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "reply_to_user": {"reputation": 1, "user_id": 7434995, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v89mezrdm34/AAAAAAAAAAI/AAAAAAAAAEA/yFVV6jmufho/photo.jpg?sz=128", "display_name": "Manoj", "link": "https://stackoverflow.com/users/7434995/manoj"}, "edited": false, "score": 0, "creation_date": 1533636796, "post_id": 51724068, "comment_id": 90408713, "body": "@Manoj also choosing <code>Contains</code> with only  <code>silent</code>  is working"}, {"owner": {"reputation": 1, "user_id": 7434995, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v89mezrdm34/AAAAAAAAAAI/AAAAAAAAAEA/yFVV6jmufho/photo.jpg?sz=128", "display_name": "Manoj", "link": "https://stackoverflow.com/users/7434995/manoj"}, "edited": false, "score": 0, "creation_date": 1533639442, "post_id": 51724068, "comment_id": 90410378, "body": "Thanks for pointing it out. I omitted out other assertions and run with silent it worked well. In assertion, there is a variable ${code} which is causing this failure. How do we handle this?"}, {"owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "reply_to_user": {"reputation": 1, "user_id": 7434995, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v89mezrdm34/AAAAAAAAAAI/AAAAAAAAAEA/yFVV6jmufho/photo.jpg?sz=128", "display_name": "Manoj", "link": "https://stackoverflow.com/users/7434995/manoj"}, "edited": false, "score": 0, "creation_date": 1533639566, "post_id": 51724068, "comment_id": 90410452, "body": "@Manoj if <code>${code}</code> is <code>silent</code> you can use it in <code>Patterns To Test</code> as is: <code>${code}</code>"}, {"owner": {"reputation": 1, "user_id": 7434995, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v89mezrdm34/AAAAAAAAAAI/AAAAAAAAAEA/yFVV6jmufho/photo.jpg?sz=128", "display_name": "Manoj", "link": "https://stackoverflow.com/users/7434995/manoj"}, "edited": false, "score": 0, "creation_date": 1533639809, "post_id": 51724068, "comment_id": 90410613, "body": "${code} which has the same value *1234. and in response assertion, it is reading value *1234 from response XML but somehow validation fails and an error occurs."}, {"owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "reply_to_user": {"reputation": 1, "user_id": 7434995, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v89mezrdm34/AAAAAAAAAAI/AAAAAAAAAEA/yFVV6jmufho/photo.jpg?sz=128", "display_name": "Manoj", "link": "https://stackoverflow.com/users/7434995/manoj"}, "edited": false, "score": 0, "creation_date": 1533639937, "post_id": 51724068, "comment_id": 90410705, "body": "if you use Contains, you need to escape value: <code>\\*1234</code> . see <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}, {"owner": {"reputation": 1, "user_id": 7434995, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v89mezrdm34/AAAAAAAAAAI/AAAAAAAAAEA/yFVV6jmufho/photo.jpg?sz=128", "display_name": "Manoj", "link": "https://stackoverflow.com/users/7434995/manoj"}, "edited": false, "score": 0, "creation_date": 1533641208, "post_id": 51724068, "comment_id": 90411470, "body": "It worked well if I hardcode value *1234 in assertion but if I do it with variable *{code} it doesn&#39;t work."}], "tags": [], "owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "is_accepted": false, "score": 0, "last_activity_date": 1533641114, "last_edit_date": 1592644375, "creation_date": 1533636254, "answer_id": 51724068, "question_id": 51723966, "link": "https://stackoverflow.com/questions/51723966/jmeter-response-assertion-validation-against-xml-response-failed/51724068#51724068", "title": "JMeter response assertion validation against xml response failed", "body": "<p>In <a href=\"http://jmeter.apache.org/usermanual/component_reference.html#Response_Assertion\" rel=\"nofollow noreferrer\">Response Assertion</a> to find part of a string you need to choose <code>Substring</code> in Pattern Matching rules</p>\n<blockquote>\n<p>Contains, Matches: Perl5-style regular expressions</p>\n<p>Equals, Substring: plain text, case-sensitive</p>\n</blockquote>\n<p>If you choose Contains (meaning regular expression) , you need to escape <code>*</code>, then use</p>\n<pre><code>\\*1234\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 116880, "user_id": 2897748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d278f6ada8828c902a13ee8a5e523cce?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitri T", "link": "https://stackoverflow.com/users/2897748/dmitri-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1533648341, "creation_date": 1533648341, "answer_id": 51727946, "question_id": 51723966, "link": "https://stackoverflow.com/questions/51723966/jmeter-response-assertion-validation-against-xml-response-failed/51727946#51727946", "title": "JMeter response assertion validation against xml response failed", "body": "<p>For XML response types it makes more sense to go for <a href=\"http://jmeter.apache.org/usermanual/component_reference.html#XPath_Assertion\" rel=\"nofollow noreferrer\">XPath Assertion</a> which allows checking response using arbitrary <a href=\"https://www.w3schools.com/xml/xpath_intro.asp\" rel=\"nofollow noreferrer\">XPath queries</a>.</p>\n\n<p>If you want to test presence of <code>&lt;silent&gt;</code> tag only the relevant XPath query would be as simple as <code>//silent</code>. </p>\n\n<p>With regards to Response Assertion, its <strong>Contains</strong> mode is <a href=\"https://svn.apache.org/repos/asf/jakarta/oro/trunk/docs/api/org/apache/oro/text/regex/PatternMatcher.html#contains(java.lang.String,%20org.apache.oro.text.regex.Pattern)\" rel=\"nofollow noreferrer\">PatternMatcher.contains()</a> so it requires a <strong>regular expression</strong>, not a simple String so you should be using something like <code>.*silent.*</code> as the pattern. </p>\n\n<p>See <a href=\"https://www.blazemeter.com/blog/how-use-jmeter-assertions-3-easy-steps\" rel=\"nofollow noreferrer\">How to Use JMeter Assertions in Three Easy Steps</a> article for more information on defining custom pass/fail criteria using JMeter Assertions. </p>\n"}], "owner": {"reputation": 1, "user_id": 7434995, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v89mezrdm34/AAAAAAAAAAI/AAAAAAAAAEA/yFVV6jmufho/photo.jpg?sz=128", "display_name": "Manoj", "link": "https://stackoverflow.com/users/7434995/manoj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 349, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1533648341, "creation_date": 1533635929, "last_edit_date": 1533639886, "question_id": 51723966, "link": "https://stackoverflow.com/questions/51723966/jmeter-response-assertion-validation-against-xml-response-failed", "title": "JMeter response assertion validation against xml response failed", "body": "<p>XML response :</p>\n\n<pre><code>&lt;silent&gt;&lt;send-sss destination=\"*1234\"&gt;TEST mId=dev oId=XXXXXXXXX&lt;/send-sms&gt;&lt;/silent&gt;\n</code></pre>\n\n<p>JMeter response assertion: \nPattern matching Rule: contains \nPattern to test: silent</p>\n\n<p>Failed Reason:</p>\n\n<pre><code>org.apache.oro.text.MalformedCachePatternException: Invalid expression: *1234\n?+* follows nothing in expression\n</code></pre>\n\n<p>Could anyone please let me know what should be there is an assertion that it should fail. I tried using few patterns but it didn't work for me.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1533608059, "post_id": 51717843, "comment_id": 90396722, "body": "Just how big can that &quot;filler&quot; be? Why not read the filler in small pops until you reach non-filler and then back up (seek) by the last read?"}, {"owner": {"reputation": 63, "user_id": 10163450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jg3Eg.jpg?s=128&g=1", "display_name": "BwE", "link": "https://stackoverflow.com/users/10163450/bwe"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1533608277, "post_id": 51717843, "comment_id": 90396768, "body": "D0 to about 1ED0? But because I simply cannot know the length of filler, I just make it large enough that it would 100% skip the next file, ensuring it will be found."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1533608438, "post_id": 51717843, "comment_id": 90396795, "body": "If this noticeably affects efficiency (does it really?) you can implement a simplified version of one of search algorithms.  On the other hand, there are established binary formats for storing independent  files, with which you wouldn&#39;t have this problem; can you switch to one of them?"}, {"owner": {"reputation": 63, "user_id": 10163450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jg3Eg.jpg?s=128&g=1", "display_name": "BwE", "link": "https://stackoverflow.com/users/10163450/bwe"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1533608596, "post_id": 51717843, "comment_id": 90396830, "body": "I just feel that the method I have used is just superfluous, I am sure I am missing some quick and easy solution to my problem. I cannot change binary formats as this is proprietary, for which is not designed to be extracted by the end user."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1533614689, "post_id": 51717843, "comment_id": 90398141, "body": "But how would you know what&#39;s in a byte without looking? If the possible length of zero section varies a lot perhaps search by bisecting (look in the middle, then in the middle of the upper or lower half, etc); it can&#39;t take many lookups."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1533617385, "post_id": 51717843, "comment_id": 90398808, "body": "How come you know the position of one file, but not the other? It seems your file format should have a table with the positions of every file. You say the way you have now works, but it means you can&#39;t have a file that starts with <code>00</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1533617513, "post_id": 51717843, "comment_id": 90398857, "body": "Where does the crazy block size <code>0x183E1</code> come from? <code>read</code> reads from the system in 8 KiB chunks, so you should read in chunks of <code>0x2000</code> or a multiple of that."}, {"owner": {"reputation": 63, "user_id": 10163450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jg3Eg.jpg?s=128&g=1", "display_name": "BwE", "link": "https://stackoverflow.com/users/10163450/bwe"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533618832, "post_id": 51717843, "comment_id": 90399261, "body": "@ikegami the file I am using does not have a list of positions for every file, but the header of the files (once found) does have the file size. The file that I don&#39;t know the address of starts with &#39;01&#39; and always will, thankfully. So I just find the first &#39;01&#39; among the filler of &#39;00&#39;. The block size is indeed crazy but thats not important, any size larger than the filler would have done the job,  also I am reading in binmode if that helps."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1533618875, "post_id": 51717843, "comment_id": 90399272, "body": "Re &quot;<i>the file I am using does not have a list of positions for every file</i>&quot;, But it should."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1533618939, "post_id": 51717843, "comment_id": 90399298, "body": "Re &quot;<i>any size larger than the filler would have done the job</i>&quot;, If that&#39;s true, then your code is quite fragile. You shouldn&#39;t rely on the block size being larger than the filler."}, {"owner": {"reputation": 63, "user_id": 10163450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jg3Eg.jpg?s=128&g=1", "display_name": "BwE", "link": "https://stackoverflow.com/users/10163450/bwe"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533619489, "post_id": 51717843, "comment_id": 90399473, "body": "@ikegami The file simply does not list any positions (I have looked in both in big and little endian throughout the file based on known locations). This file is not designed to be examined by the end user, nor extracted. So I am ultimately working on the basis of what other people have discovered and what I can discover about the file through comparative analysis with other files (which are partly unique)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533619718, "post_id": 51717843, "comment_id": 90399539, "body": "Re &quot;<i>This file is not designed to be examined by the end user, nor extracted.</i>&quot;, That&#39;s obviously not true. There&#39;s no point in writing it if noone&#39;s going to read it."}, {"owner": {"reputation": 63, "user_id": 10163450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jg3Eg.jpg?s=128&g=1", "display_name": "BwE", "link": "https://stackoverflow.com/users/10163450/bwe"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533619893, "post_id": 51717843, "comment_id": 90399593, "body": "@ikegami well its extracted flash memory from a pcb, by further extracting its contents it I and other technicians are able to modify it, repair corruption and learn about the system itself. So yeah its not designed to be examined."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533619941, "post_id": 51717843, "comment_id": 90399615, "body": "That&#39;s obviously not true. There&#39;s no point in writing it if noone&#39;s going to read it."}, {"owner": {"reputation": 63, "user_id": 10163450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jg3Eg.jpg?s=128&g=1", "display_name": "BwE", "link": "https://stackoverflow.com/users/10163450/bwe"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533620117, "post_id": 51717843, "comment_id": 90399662, "body": "@ikegami - shrug, I can&#39;t see how it functions beyond what I have currently."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 10163450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jg3Eg.jpg?s=128&g=1", "display_name": "BwE", "link": "https://stackoverflow.com/users/10163450/bwe"}, "edited": false, "score": 1, "creation_date": 1533704149, "post_id": 51723419, "comment_id": 90437896, "body": "oh sorry about the &#39;KNOWNFILE&#39; thing, i renamed it so it would make more sense to you guys. its original variable name would have been confusing."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 63, "user_id": 10163450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jg3Eg.jpg?s=128&g=1", "display_name": "BwE", "link": "https://stackoverflow.com/users/10163450/bwe"}, "edited": false, "score": 0, "creation_date": 1533735800, "post_id": 51723419, "comment_id": 90456275, "body": "Ah I see. No worries, but &quot;snake case&quot;\u2014lower-case letters, digits and underscores\u2014are preferred for Perl."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1533634297, "creation_date": 1533634297, "answer_id": 51723419, "question_id": 51717843, "link": "https://stackoverflow.com/questions/51717843/find-location-of-files-in-an-archive-with-unknown-padding-separation/51723419#51723419", "title": "Find location of files in an archive with unknown padding separation", "body": "<blockquote>\n  <p>I have to re-read the known file, seeking to its offset and reading its data</p>\n</blockquote>\n\n<p>No, of course you don't. You say you know the length of the file, so <code>seek</code> to <code>$file_start + $file_length</code></p>\n\n<p>If your filler may be up to 0x1ED0 bytes, then just read 0x2000 bytes and find the first 0x01 character. There's no need to read the whole of the following file as well.</p>\n\n<p>Fix your variable names. With everything beginning <code>KNOWNFILE</code> they all look the same because the eye is drawn to the capitals. (Plus, you can't really have a variable containing data on an <em>unknown</em> file. <code>my $filler_size</code> is <em>much</em> more readable, without any capitals at all, and is the regular format for Perl identifiers. Capitals are generally reserved for globals and package names.</p>\n"}], "owner": {"reputation": 63, "user_id": 10163450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jg3Eg.jpg?s=128&g=1", "display_name": "BwE", "link": "https://stackoverflow.com/users/10163450/bwe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535084850, "creation_date": 1533607775, "last_edit_date": 1535084850, "question_id": 51717843, "link": "https://stackoverflow.com/questions/51717843/find-location-of-files-in-an-archive-with-unknown-padding-separation", "title": "Find location of files in an archive with unknown padding separation", "body": "<p>I have a number of large binary archive files, each of which holds a collection of other files. I know where a file is, its starting position (a fixed offset) and its length (which varies but I am able to find it) so I am able to extract it.</p>\n\n<p>Once that file finishes there is a sequence of <code>NUL</code> characters before the next file with a length that depends on the size of the preceding file data.</p>\n\n<p>I have my own solution for now, which is to find the length of the filler between the files by searching for the first non-<code>NUL</code> character. </p>\n\n<pre><code>my @KNOWNFILE_FillerSize;\n\n# Continue from the extraction/read of the previous known file\n# (to get the unknown offset of the EOF)\nmy $KNOWNFILE_EOF_CurrentLocation = tell $bin;\n\n# Read a large amount, just in case the space is insanely large\nread($bin, my $KNOWNFILE_FillerSize, 0x183E1); \n\nwhile ( $KNOWNFILE_FillerSize =~ m/($Null_Filler_Search)/g ) { # [^\\x00]\n\n    my $KNOWNFILE_FillerSize        = $1;\n    my $KNOWNFILE_FillerSize_Offset = $-[0] + $KNOWNFILE_EOF_CurrentLocation;\n\n    push @KNOWNFILE_FillerSize, \"$KNOWNFILE_FillerSize_Offset\";\n}\n\nmy $KNOWNFILE_FillerSize_FirstOffset = $KNOWNFILE_FillerSize[0];\nmy $KNOWNFILE_FillerSize_Result      = $KNOWNFILE_FillerSize_FirstOffset - $KNOWNFILE_EOF_CurrentLocation;\n</code></pre>\n\n<p>While this works, I have to re-read the known file, seeking to its offset and reading its data so that I can get back to the end of the file. From there I use the now-known filler size and add that to the end of file offset so I can get the start of the next file. Is there a better way?</p>\n\n<p>Update: Now I have a new similar issue where I need to calculate the reverse of this. I have data, I need now to know its dynamic end point (So I ultimately don't know the size of the file, but I know it ends in a filler of FF). I have tried various regular expressions to match all non FF or to match only data that ISNT FF. Nothing seems to work... I'm tempted to raise another question on this.</p>\n"}, {"tags": ["arrays", "perl", "loops", "hash"], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1533601906, "last_edit_date": 1533601906, "creation_date": 1533600696, "answer_id": 51717151, "question_id": 51717003, "link": "https://stackoverflow.com/questions/51717003/iterate-through-an-array-of-hashes-of-array-in-perl/51717151#51717151", "title": "Iterate through an array of hashes of array in Perl?", "body": "<p>What seems to be holding you back is that your hash has some values which are strings and some which are array references. You can find out which are which using <a href=\"https://perldoc.perl.org/functions/ref.html\" rel=\"nofollow noreferrer\">ref</a> and then print accordingly</p>\n\n<pre><code>for my $aref (@complex) {\n    for my $href (@$aref) {\n        for my $key (keys %{$href}) {\n            my $refval = ref $href-&gt;{$key};\n            if (not $refval) {              # not a reference at all\n                print \"$href-&gt;{$key}\\n\";\n            } elsif ($refval eq 'ARRAY') {\n                print \"$_\\n\" for @{ $href-&gt;{$key} };\n                #print \"@{ $href-&gt;{$key} }\\n\";       # or all in one line\n            } else {\n                warn \"Unexpected data structure: $refval\";  \n            }\n        }\n    }\n}\n</code></pre>\n\n<p>For deeper structures, or those that you don't know, write a recursive procedure based on this. And then there are modules which will do it, as well.</p>\n\n<p>Note that a careful consideration of what data structures to use pays off handsomely; it is one of the critical parts of design.  On the other hand, once these complex data structures grow unwieldy, or rather if you estimate ahead of time that that can happen in the lifetime of the project, the answer is to switch to a class.</p>\n"}], "owner": {"reputation": 109, "user_id": 3049982, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/79e7f2fdbe260e91d3ab80c687b27fe4?s=128&d=identicon&r=PG&f=1", "display_name": "user3049982", "link": "https://stackoverflow.com/users/3049982/user3049982"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 51717151, "answer_count": 1, "score": 2, "last_activity_date": 1533601906, "creation_date": 1533599175, "question_id": 51717003, "link": "https://stackoverflow.com/questions/51717003/iterate-through-an-array-of-hashes-of-array-in-perl", "title": "Iterate through an array of hashes of array in Perl?", "body": "<p>I have trouble visualizing loops and have what I think is an array of hashes of arrays. Please correct me if I am misunderstanding this. I want to be able to loop through the below array and print each key's value.</p>\n\n<p>The End results would print the elements like so:</p>\n\n<pre><code>name\nversion\npop\ntart \n</code></pre>\n\n<p>Unfortunately, I fall apart when I get to key three. </p>\n\n<pre><code>my @complex = (\n    [\n        {\n            one   =&gt; 'name',\n            two   =&gt; 'version',\n            three =&gt;  [qw( pop tart )],\n        },\n    ],\n);\n</code></pre>\n\n<p>Here's what I've managed so far.  I just don't know to handle key three within these loops. </p>\n\n<pre><code>for my $aref (@complex) {\n    for my $href (@$aref) {\n        for (keys %{$href}) {\n            print \"$href-&gt;{$_}\\n\";\n        }\n    }\n}\n</code></pre>\n\n<p>Any help would be appreciated. </p>\n"}, {"tags": ["arrays", "list", "perl", "undefined"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1533584977, "post_id": 51714243, "comment_id": 90390742, "body": "Use <code>return ()</code> or just <code>return</code> instead of <code>return undef</code>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1533585388, "post_id": 51714243, "comment_id": 90390904, "body": "See also <a href=\"https://stackoverflow.com/q/48809624/2173773\">Replacing deprecated \u201cdefined(@array)\u201d in a ternary operation</a> and <a href=\"https://www.perlmonks.org/?node=1077762\" rel=\"nofollow noreferrer\">Define(@array) is Deprecated</a>"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1533643589, "post_id": 51714243, "comment_id": 90412972, "body": "Use just <code>return;</code> It will automatically return<code>undef</code> in scalar context and <code>()</code> in list context. Adding an argument to the return may cause hard-to-find bugs."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 4, "last_activity_date": 1533583643, "last_edit_date": 1533583643, "creation_date": 1533583290, "answer_id": 51714344, "question_id": 51714243, "link": "https://stackoverflow.com/questions/51714243/check-if-sub-returned-undef/51714344#51714344", "title": "check if sub returned undef", "body": "<p><code>return undef</code> in list context returns list of one element, which is <code>undef</code>.</p>\n\n<pre><code> @result = my_sub($myval);\n if (@result == 1 &amp;&amp; !defined($result[0])) {\n     warn \"my_sub() returned undef\";\n } else {\n     print \"my_sub() returned data\\n\";\n }\n</code></pre>\n\n<p>That said, a list with one <code>undef</code> element is almost never what you want. See <a href=\"https://stackoverflow.com/questions/1604584/how-do-i-return-nothing-from-a-subroutine\">How do I return nothing from a subroutine?</a> You will generally just want to <code>return</code> with no arguments. In scalar context, that returns <code>undef</code> and in list context it returns an empty list.</p>\n\n<pre><code>sub my_other_sub {\n     my $myval = shift;\n    if ($myval eq 'a') {\n            return;\n    }\n    return (\"a\",\"b\",\"c\");\n}\n...\n@result = my_other_sub($arg1);\n$result = my_other_sub($arg2);\nif (@result == 0) {     # or: if (!@result) ...  or: unless (@result) ...\n    warn \"my_other_sub(arg1) did not return any data\";\n} else {\n    print \"my_other_sub(arg1) returned data\\n\";\n}\nif (!defined($result)) {\n    warn \"my_other_sub(arg2) did not return any data\";\n} else {\n    print \"my_other_sub(arg2) returned data\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 0, "last_activity_date": 1533586059, "last_edit_date": 1533586059, "creation_date": 1533583504, "answer_id": 51714393, "question_id": 51714243, "link": "https://stackoverflow.com/questions/51714243/check-if-sub-returned-undef/51714393#51714393", "title": "check if sub returned undef", "body": "<p>A subroutine returns a list of scalars in list context which you use, then assigned to variables.  So if you return an <code>undef</code> from it the <code>$res</code> variables are going to be <code>undef</code> -- first assigned <code>undef</code> and others unassigned (while the array <code>@result</code> will have one element, an <code>undef</code>)</p>\n\n<pre><code>perl -Mstrict -wE'\n    my $val = shift; \n    sub t { return undef if shift eq \"bad\"; return qw(a b) }; \n    my ($v1, $v2) = t($val); \n    if (not defined $v1 and not defined $v2) { say \"undef\" } \n    else { say \"$v1, $v2\" }\n' bad\n</code></pre>\n\n<p>The first <code>shift</code> takes the value off of <code>@ARGV</code>, so vary input of \"<em>bad</em>\" to see other cases.  This can be written in more compact and clearer ways if we knew how it's used.</p>\n\n<p>I appreciate that this is a test example, but it is still too convoluted, allowing for tricky edge cases; for example, your first case won't work since <code>@result</code> is <em>not \"false\"</em> (empty list), what the code tests for, as it does have one element, which is <code>undef</code>.  </p>\n\n<p>For such \"special\" returns either use <a href=\"https://perldoc.perl.org/functions/return.html\" rel=\"nofollow noreferrer\">return</a> with no arguments or throw a <a href=\"https://perldoc.perl.org/functions/die.html\" rel=\"nofollow noreferrer\">die</a>, in situations you consider exceptional. For context-aware returns see <a href=\"https://perldoc.perl.org/functions/wantarray.html\" rel=\"nofollow noreferrer\">wantarray</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 2, "last_activity_date": 1533588127, "creation_date": 1533588127, "answer_id": 51715337, "question_id": 51714243, "link": "https://stackoverflow.com/questions/51714243/check-if-sub-returned-undef/51715337#51715337", "title": "check if sub returned undef", "body": "<p>I would recommend, as others have, to use <code>return</code>, or the more explicit <code>return ()</code>. This returns an empty list. However, since the example is contrived, we can't be sure that an empty list isn't an otherwise valid return.  If it is a valid return, or it might reasonably be so one day, then you have other options which, IMO, are less ideal but can be more flexible.</p>\n\n<p>An obvious one is to use <code>die</code>, as zdim suggested, but that can be relatively heavy-handed. It may actually be really what you want - if this situation really isn't supposed to happen, die is perfect as it might cause your program to abort if you don't wrap the failure in an <code>eval</code>.</p>\n\n<p>Another alternative is to have your sub return an array ref instead of a list. And then you can return <code>undef</code> directly, your caller would be able to check that easily enough: <code>my $result = my_sub(...);</code>.  Other uses of that array would just need to go through a dereference, e.g., <code>my ($res1, $res2, $res3) = @$result;</code>.  This is probably my preference when a simple <code>return ()</code> cannot suffice.  Bonus points in that only the reference is passed back, not the whole list.  Consider doing this even when an empty list isn't valid but the list can be very large.</p>\n\n<p>Other options also abound, although those are probably the simplest. You could, for example, return a hash (or array) with one entry indicating success/failure and another with the array. You could return success/failure as the first element (your contrived example would <code>return (1, \"a\", \"b\", \"c\")</code> and you'd shift that first element off to see if it was successful or not). You could embed your return in an object that encapsulated all that.  Of these, only the object one would I give serious consideration to, but it would greatly depend on the rest of the architecture, and would be very rare.</p>\n"}], "owner": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 51714344, "answer_count": 3, "score": 2, "last_activity_date": 1533588127, "creation_date": 1533582912, "question_id": 51714243, "link": "https://stackoverflow.com/questions/51714243/check-if-sub-returned-undef", "title": "check if sub returned undef", "body": "<p>Contrived example:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $myval = 'a';\nmy @result = my_sub($myval);\nif (@result) {\n        print \"DEFINED\\n\";\n}\nmy ($res1, $res2, $res3) = @result;\nprint \"res1=$res1, res2=$res2, res3=$res3\\n\";\nsub my_sub {\n         my $myval = shift;\n        if ($myval eq 'a') {\n                return undef;\n        }\n        return (\"a\",\"b\",\"c\");\n}\n</code></pre>\n\n<p>How do I check if sub returned undef?</p>\n\n<p>or</p>\n\n<p>How do I check if sub did not return undef?</p>\n"}, {"tags": ["perl", "data-dumper"], "comments": [{"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 1, "creation_date": 1533581403, "post_id": 51713597, "comment_id": 90389203, "body": "Any hashing may be fine but it can of depends on the purpose of that. Is it to compare two structures &quot;quickly&quot; and assess if they are different? (In which case if the serialization is not done exactly in the same way you risk getting different hashes for no real change in the structure)."}, {"owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "reply_to_user": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1533582806, "post_id": 51713597, "comment_id": 90389854, "body": "I think any checksum is for a kind of comparing :-)"}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 3, "creation_date": 1533583317, "post_id": 51713597, "comment_id": 90390064, "body": "It depends. If you remain vague (no idea on constraints of size, speed, etc.), your answer is already in your question: serialize and hash. But I still think that the best answer depends on the purpose of that. Take for example physical medias such as CDROMs: they have checksum to see if the media was corrupted or not, but there is nothing to compare it too, you just know if it is ok or not. Some more complicated checksums allows you to both detect and repair (part of) corrupted data."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1533583790, "post_id": 51713597, "comment_id": 90390256, "body": "Take care that you are serializing consistently (e.g., you are setting <code>$Data::Dumper::Sortkeys</code>) so that identical input produces identical output."}], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 3, "last_activity_date": 1533588479, "creation_date": 1533588479, "answer_id": 51715400, "question_id": 51713597, "link": "https://stackoverflow.com/questions/51713597/perl-checksum-of-complex-data-structure/51715400#51715400", "title": "Perl: Checksum of complex data-structure", "body": "<p>I would consider using </p>\n\n<p><a href=\"https://metacpan.org/pod/Sereal::Encoder\" rel=\"nofollow noreferrer\">Sereal Encoder</a></p>\n\n<p>I've used it for a similar problem and was very happy with it,\nit is fast, offers all the options I could think of needing,\nand did not take me long to get going at all.</p>\n\n<p>For example, it allows you to choose how to deal with objects,\nand whether to sort keys on hashes which can be very useful.</p>\n\n<p>Have fun!</p>\n"}, {"comments": [{"owner": {"reputation": 3124, "user_id": 354633, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kx0E0.jpg?s=128&g=1", "display_name": "antred", "link": "https://stackoverflow.com/users/354633/antred"}, "edited": false, "score": 1, "creation_date": 1600955775, "post_id": 51716316, "comment_id": 113257969, "body": "Hello. Please correct your example. The switch used to enable sorting of keys is $Data::Dumper::Sortkeys, not SortKeys (lower-case &#39;k&#39; vs upper-case &#39;K&#39;)."}], "tags": [], "owner": {"reputation": 333, "user_id": 4220763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6AuCF.jpg?s=128&g=1", "display_name": "Hannibal", "link": "https://stackoverflow.com/users/4220763/hannibal"}, "is_accepted": true, "score": 6, "last_activity_date": 1601323605, "last_edit_date": 1601323605, "creation_date": 1533593531, "answer_id": 51716316, "question_id": 51713597, "link": "https://stackoverflow.com/questions/51713597/perl-checksum-of-complex-data-structure/51716316#51716316", "title": "Perl: Checksum of complex data-structure", "body": "<p>In the past, I used the Data::Dumper (with sorted keys, as pointed by @mob) + Digest::MD5 approach for creating checksums of complex data structures. In my case, the purpose was to compare two or more data structures for equality.</p>\n<p>(Very) Simple snippet:</p>\n<pre><code>use Data::Dumper qw( Dumper ) ;\nuse Digest::MD5 qw( md5_hex) ;\n\nsub digest {\n    my $data = shift ;\n    local $Data::Dumper::Sortkeys = 1;\n    return md5_hex( Dumper($data) ) ;\n}\n</code></pre>\n<p>Synopsis:</p>\n<pre><code>my $cplx_data_checksum = digest({ \n    c =&gt; 1 , \n    b =&gt; [ 1 , { a =&gt; 2 } ]\n}) ;\n</code></pre>\n<p>For insights about Digest algo's speed please take a look to the Digest Perl module at <a href=\"https://metacpan.org/pod/Digest#Digest-speed\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Digest#Digest-speed</a></p>\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 1, "accepted_answer_id": 51716316, "answer_count": 2, "score": 3, "last_activity_date": 1601323605, "creation_date": 1533579927, "question_id": 51713597, "link": "https://stackoverflow.com/questions/51713597/perl-checksum-of-complex-data-structure", "title": "Perl: Checksum of complex data-structure", "body": "<p>Is there a package/function in Perl that gives me in an easy way </p>\n\n<ul>\n<li>a short information (e.g. a number, short string) </li>\n<li>like a hashvalue/checksum (e.g. MD5) </li>\n<li>with good distinction (e.g. cryptographic hash like MDx, SHAx)</li>\n<li>representing the content of a complex datastructure (e.g. hash of arrays of hashes).</li>\n</ul>\n\n<p>Best idea I have in mind is</p>\n\n<ol>\n<li><p>serialize my structure to a string (e.g. with Data::Dumper)</p></li>\n<li><p>Hash over the string with MDx</p></li>\n</ol>\n\n<p>But maybe there is some more elegant way.</p>\n"}, {"tags": ["bash", "shell", "perl", "sed"], "comments": [{"owner": {"reputation": 1289, "user_id": 8852408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y2Qmh.jpg?s=128&g=1", "display_name": "Joaquin", "link": "https://stackoverflow.com/users/8852408/joaquin"}, "edited": false, "score": 0, "creation_date": 1533578342, "post_id": 51713230, "comment_id": 90387839, "body": "You want to delete all duplicates or just <code>clean_history_in_os</code>?"}, {"owner": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "reply_to_user": {"reputation": 1289, "user_id": 8852408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y2Qmh.jpg?s=128&g=1", "display_name": "Joaquin", "link": "https://stackoverflow.com/users/8852408/joaquin"}, "edited": false, "score": 0, "creation_date": 1533578500, "post_id": 51713230, "comment_id": 90387898, "body": "only according to the requested line ( in this example I want to delete the duplicate   line - clean_history_in_os=true ) , but this is example , it could be different line"}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1533579775, "post_id": 51713230, "comment_id": 90388474, "body": "<code>awk &#39;!a[$0]++&#39; file</code>"}, {"owner": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "reply_to_user": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1533579954, "post_id": 51713230, "comment_id": 90388552, "body": "@Cyrus not good option because - its delete all duplicate lines and what we want is only to delete specific duplicate line , second its delete also the empty lines"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1533580077, "post_id": 51713230, "comment_id": 90388605, "body": "I posted a Perl answer even though the awk one by anybhava is good, because you specifically asked -- but if you wanted Perl or sed then why tag the question with awk as well?"}, {"owner": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 0, "creation_date": 1533622400, "post_id": 51713230, "comment_id": 90400526, "body": "yes you right , I tag awk because I was thinking that awk can also update the file as ( sed -i ) , now I see that option isnt in awk and I not have awk gnu , so I will delete this tag"}, {"owner": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1533622563, "post_id": 51713230, "comment_id": 90400592, "body": "@zdim , your perl answer is really excellent , I need to check this option on my machine to see if all options can be supported"}], "answers": [{"comments": [{"owner": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 0, "creation_date": 1533578894, "post_id": 51713334, "comment_id": 90388065, "body": "I prefer to work with sed  or perl , because I can edit the file with ( -i ) option , with awk I not able to edit the file as sed -i    , or perl -i ,"}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 1, "creation_date": 1533578970, "post_id": 51713334, "comment_id": 90388102, "body": "in <code>awk</code> just output to a temp file and <code>mv</code> the temp file: <code>awk &#39;$0==&quot;clean_history_in_os=true&quot;{c[$0]++} c[$0]&lt;2; &#39; conf &gt; tmp &amp;&amp; mv tmp conf</code>"}, {"owner": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 0, "creation_date": 1533579004, "post_id": 51713334, "comment_id": 90388117, "body": "yes I know thx but I prefer to avoid that , because some time I need to delete around 10 duplicate lines so this approach is not so clean in case we have a lot of duplicate lines"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 1, "creation_date": 1533579055, "post_id": 51713334, "comment_id": 90388140, "body": "If using <code>gnu awk</code>, you can use <code>-i inplace</code>"}, {"owner": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 0, "creation_date": 1533579115, "post_id": 51713334, "comment_id": 90388167, "body": "I guess in my case we not have this option , ( awk -i inplace ) , so I will happy to get solution with sed / perl one liner"}, {"owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "edited": false, "score": 1, "creation_date": 1533583665, "post_id": 51713334, "comment_id": 90390199, "body": "Using the range command in sed i.e. <code>1,&#47;..&#47;</code> will not work if the regexp is on the first line. GNU sed has a specific <code>0,&#47;..&#47;</code> range will take care of this problem. An alternative solution is <code>sed &#39;&#47;clean_history_in_os=true&#47;{x;&#47;.&#47;{x;d};g;x}&#39; file</code> which keeps a counter in the hold space."}, {"owner": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1533599049, "post_id": 51713334, "comment_id": 90395092, "body": "@Ed I think your solution is the best , but still this isnt update the file itself"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1533599789, "post_id": 51713334, "comment_id": 90395273, "body": "You&#39;ve already been told in the comments how to update the original file, just like with any other command: <code>awk &#39;script&#39; file &gt; tmp &amp;&amp; mv tmp file</code>. Having said that <code>sed -i</code> is GNU sed only so it&#39;s hard to believe you have GNU sed and perl but you don&#39;t have or can&#39;t get GNU awk (for <code>awk -i inplace</code>)."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1533637842, "post_id": 51713334, "comment_id": 90409395, "body": "What&#39;s the error with <code>sed</code> command? I have tested my updated <code>sed</code> answer and it worked fine. @EdMorton: <code>awk &#39;!(&#47;clean_history_in_os=true&#47; &amp;&amp; n++)&#39;</code> is really smart"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 2, "last_activity_date": 1533637916, "last_edit_date": 1533637916, "creation_date": 1533578785, "answer_id": 51713334, "question_id": 51713230, "link": "https://stackoverflow.com/questions/51713230/how-to-delete-the-duplicate-lines-in-file-except-the-first-matched-line/51713334#51713334", "title": "how to delete the duplicate lines in file except the first matched line", "body": "<p>You can use this <code>awk</code> to delete all matching lines except the first one:</p>\n\n<pre><code>awk '!(/clean_history_in_os=true/ &amp;&amp; n++)' file\n</code></pre>\n\n<p>To save file in place you can use this <code>gnu awk</code> command:</p>\n\n<pre><code>awk -i inplace '!(/clean_history_in_os=true/ &amp;&amp; n++)' file\n</code></pre>\n\n<p>otherwise use temporary file as:</p>\n\n<pre><code>awk '!(/clean_history_in_os=true/ &amp;&amp; n++)' file &gt; $$.tmp &amp;&amp; mv $$.tmp file\n</code></pre>\n\n<hr>\n\n<p>Here is one <code>sed</code> solution to do the same:</p>\n\n<pre><code>sed -i -n '0,/clean_history_in_os=true/p;/clean_history_in_os=true/!p' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 0, "creation_date": 1533580164, "post_id": 51713578, "comment_id": 90388643, "body": "what in case we use variable that include the line ? , is it possible to set variable as VAR=clean_history_in_os=true , and set $t = qr/$VAR=true/;    ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 0, "creation_date": 1533580966, "post_id": 51713578, "comment_id": 90389003, "body": "@KingDavid Updated answer.  Can you explain &quot;<i>variable that include the line ? ,</i>&quot; ?"}, {"owner": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 0, "creation_date": 1533652706, "post_id": 51713578, "comment_id": 90419564, "body": "can you update your answer to ignore &quot;clean_history_in_os=true&quot; in case line remarked , I do some tests and when the line is marked as &quot;#clean_history_in_os=true&quot; then need to ignore it - like line isn&#39;t exists"}, {"owner": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 0, "creation_date": 1533658560, "post_id": 51713578, "comment_id": 90423295, "body": "regarding to the $VAR what I mean is that I want to set the line into variable as $VAR  , for example VAR=&quot;clean_history_in_os=true&quot; , and then run the - perl -i -ne&#39;next if /$VAR/ &amp;&amp; ++$ok &gt; 1; print&#39; file   , but as you know this isn&#39;t right because I need to export the VAR to the perl syntax , can you help me with that?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 0, "creation_date": 1533664628, "post_id": 51713578, "comment_id": 90426251, "body": "@KingDavid  Do you mean that this is in a shell script and <code>$VAR</code> is a variable in that script?  And you want to use it in this one-liner?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 0, "creation_date": 1533664812, "post_id": 51713578, "comment_id": 90426351, "body": "@KingDavid  Your other comment, with &quot;<i>marked as &quot;#clean_history_in_os=true&quot; then need to ignore it</i>&quot; -- do you want to ignore it only when it starts with <code>#</code> or can there be other characters? Or, is the line good only when it <i>starts</i> with <code>clean_history...</code>?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 0, "creation_date": 1533667898, "post_id": 51713578, "comment_id": 90427833, "body": "@KingDavid  OK.  A regex <code>&#47;(?:[^#]|^)text&#47;</code> matches a string with <code>text</code> preceded either by anything other than <code>#</code>, or by nothing.  The <code>[]</code> is a character class, specifying any one of things inside, but if it starts with <code>^</code>, so <code>[^...]</code> then it is anything <i>other than</i> the listed things. It is either that or <code>^</code> (anchor the beginning of the string). So you may have <code>sometext</code> or just <code>text</code> but no <code>#text</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 1, "creation_date": 1533667919, "post_id": 51713578, "comment_id": 90427848, "body": "@KingDavid  I added ways to pass a shell variable to a Perl script"}, {"owner": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 0, "creation_date": 1533668191, "post_id": 51713578, "comment_id": 90427962, "body": "ok fine , it will be better if your add another stpe ( in your answer ) to ignore the &quot;#&quot; , with what you wrote as - /(?:[^#]|^)text/   , so all will see that and not by comment -:)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 0, "creation_date": 1533668749, "post_id": 51713578, "comment_id": 90428267, "body": "@KingDavid  Nice idea, but a problem with that is that this <code>#</code> part is not in the question.  (So people who come here won&#39;t know about it after they read the question). And you shouldn&#39;t edit the question at this point, as it will completely invalidate other answers.  I can add it as another comment to the answer, if you wish?  Then: do you mean that a line with <code>#clean...</code> should be ignored altogether (so it doesn&#39;t even count)?"}, {"owner": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 0, "creation_date": 1533670584, "post_id": 51713578, "comment_id": 90429140, "body": "&quot;o you mean that a line with #clean... should be ignored altogether (so it doesn&#39;t even count)?&quot;  - yes I mean that"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 0, "creation_date": 1533674261, "post_id": 51713578, "comment_id": 90430879, "body": "@KingDavid  Then it&#39;s best to first have <code>next if &#47;#$qr&#47;;</code> (where <code>$qr</code> is <code>clean...</code>, read as a bash variable, as in what I added); just skip it. Then you do <code>next if &#47;$qr&#47; &amp;&amp; +$ok &gt; 1; print</code>.  It&#39;s much simpler that way, to first cleanly skip that.  Also, it makes use of the good thing that the phrase is in a variable :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "edited": false, "score": 0, "creation_date": 1533674777, "post_id": 51713578, "comment_id": 90431108, "body": "@KingDavid Added that as another comment in the answer, at the end"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1591345102, "last_edit_date": 1591345102, "creation_date": 1533579851, "answer_id": 51713578, "question_id": 51713230, "link": "https://stackoverflow.com/questions/51713230/how-to-delete-the-duplicate-lines-in-file-except-the-first-matched-line/51713578#51713578", "title": "how to delete the duplicate lines in file except the first matched line", "body": "<p>With Perl</p>\n\n<pre><code>perl -i -ne'next if /clean_history_in_os=true/ &amp;&amp; ++$ok &gt; 1; print' file\n</code></pre>\n\n<p>This increments the counter when on that line and if <code>&gt; 1</code> it skips the line, otherwise prints</p>\n\n<hr>\n\n<p>The question came up of how to pass the pattern to Perl if we have it as a shell variable.  Below I assume that the shell variable <code>$VAR</code> contains the string <code>clean_history...</code></p>\n\n<p>In all of this a shell variable is directly used as a pattern in a regex. If it's the literal string from the question then the code below goes as given. However, if there may be special characters they should be escaped; so you may want to precede the pattern with <code>\\Q</code> when used in regex. As a general note, one should take care to not use input from the shell to run code (say under <code>/e</code>).</p>\n\n<ul>\n<li><p>Pass it as an argument, which is then available in <a href=\"https://perldoc.perl.org/perlvar.html#@ARGV\" rel=\"nofollow noreferrer\">@ARGV</a></p>\n\n<pre><code>perl -i -ne'\n    BEGIN { $qr=shift; }; \n    next if /$qr/ &amp;&amp; ++$ok &gt; 1; print\n' \"$VAR\" file\n</code></pre>\n\n<p>where the <a href=\"https://perldoc.perl.org/perlmod.html#BEGIN%2c-UNITCHECK%2c-CHECK%2c-INIT-and-END\" rel=\"nofollow noreferrer\"><code>BEGIN</code> block</a> runs in the <code>BEGIN</code> phase, before runtime (so not for the following iterations). In it <a href=\"https://perldoc.perl.org/functions/shift.html\" rel=\"nofollow noreferrer\">shift</a> removes the first element from <code>@ARGV</code>, which in the above invocation is the value in <code>$VAR</code>, first interpolated by shell. Then the filename <code>file</code> remains in <code>@ARGV</code>, so available for processing under <code>-n</code> (file is opened and its lines iterated over)</p></li>\n<li><p>Use the <a href=\"https://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\"><code>-s</code> switch</a>, which enables command-line switches for the program </p>\n\n<pre><code>perl -i -s -ne'next if /$qr/ &amp;&amp; ++$ok &gt; 1; print' -- -qr=\"$VAR\" file\n</code></pre>\n\n<p>The <code>--</code> (after the one-line program under <code>''</code>) marks the start of arguments for the program; then <code>-qr</code> introduces a variable <code>$qr</code> into the program, with a value assigned to it as above (with just <code>-qr</code> the variable <code>$qr</code> gets value <code>1</code>, so is a flag).</p>\n\n<p>Any such options must come before possible filenames, and they are removed from <code>@ARGV</code> so the program can then normally process the submitted files.</p></li>\n<li><p>Export the bash variable, making it an environment variable which can then be accessed in the Perl program via <a href=\"https://perldoc.perl.org/perlvar.html#%ENV\" rel=\"nofollow noreferrer\"><code>%ENV</code> hash</a></p>\n\n<pre><code>export VAR=\"clean_history...\"\nperl -i -ne'next if /$ENV{VAR}/ &amp;&amp; ++$ok &gt; 1; print' file\n</code></pre>\n\n<p>or, if <code>$VAR</code> is used only in this one-liner, can use the shorter (what must be on one line)</p>\n\n<pre><code>VAR=\"clean_history...\"  perl -i -ne'...' file\n</code></pre>\n\n<p>I would rather recommend either of the first two options, over this one.</p></li>\n</ul>\n\n<p>These are ways to pass input to a Perl program entered entirely on the command-line (<em>one-liner</em>), without <code>STDIN</code> or files.  With a script better use a library, in the first place <a href=\"https://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow noreferrer\">Getopt::Long</a>.</p>\n\n<hr>\n\n<p>A refinement of the question given in a comment specifies that if the phrase <code>clean_...</code> starts with a <code>#</code> then that line should be skipped altogether. It's simplest to separately test for that</p>\n\n<pre><code>next if /#$qr/; next if /$qr/ &amp;&amp; ++$ok &gt; 1; print\n</code></pre>\n\n<p>or, relying on short-circuiting</p>\n\n<pre><code>next if /#$qr/ || (/$qr/ &amp;&amp; ++$ok &gt; 1); print\n</code></pre>\n\n<p>The first version is less error prone and probably clearer.</p>\n"}], "owner": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "accepted_answer_id": 51713578, "answer_count": 2, "score": 2, "last_activity_date": 1591345102, "creation_date": 1533578273, "last_edit_date": 1533622420, "question_id": 51713230, "link": "https://stackoverflow.com/questions/51713230/how-to-delete-the-duplicate-lines-in-file-except-the-first-matched-line", "title": "how to delete the duplicate lines in file except the first matched line", "body": "<p>In the following configuration file </p>\n\n<pre><code>/etc/fine-tune.conf\n</code></pre>\n\n<p>We have duplicate lines as </p>\n\n<pre><code>clean_history_in_os=true\n</code></pre>\n\n<p>we want to delete all the lines that include <strong>clean_history_in_os=true</strong>\nexcept the first matched line in the file</p>\n\n<p>what I did until now is that</p>\n\n<pre><code>  sed  -i '/clean_history_in_os=true/d' /etc/fine-tune.conf\n</code></pre>\n\n<p>but the problem is that sed delete all \"clean_history_in_os=true\" lines</p>\n\n<p>I will happy to get ideas to solve this issue ,</p>\n"}, {"tags": ["regex", "string", "perl"], "comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 3, "creation_date": 1533567091, "post_id": 51710350, "comment_id": 90381899, "body": "<code>s&#47;(:namespace=)&quot;([^&quot;]*)&quot;&#47;$1&#39;$2&#39;&#47;</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1533569090, "post_id": 51710350, "comment_id": 90383213, "body": "What have you tried? What problems are you having? Please show us your code. Stack Overflow is not a code-writing service (although I see that two people have already decided to be generous and write code for you!)"}], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 2, "last_activity_date": 1533567549, "creation_date": 1533567549, "answer_id": 51710525, "question_id": 51710350, "link": "https://stackoverflow.com/questions/51710350/perl-regex-replace-double-quotes-with-single-quotes/51710525#51710525", "title": "Perl Regex Replace Double Quotes With Single Quotes", "body": "<pre><code>use strict;\nuse warnings;\n\nmy $str = &lt;&lt;EOD;\nKey1:Value1,\nKey2:value2,\nKey3:namespace=\"randomName\",\nKey4:Some other value,\nKey5:namespace=\"anotherRandomName\"\nEOD\n$str =~  s/\\bnamespace=\\K\"([^\"]+)\"/'$1'/g;\n\nprint $str;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Key1:Value1,\nKey2:value2,\nKey3:namespace='randomName',\nKey4:Some other value,\nKey5:namespace='anotherRandomName'\n</code></pre>\n"}], "owner": {"reputation": 1671, "user_id": 1244329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72897146052d7580cc179135673e7358?s=128&d=identicon&r=PG", "display_name": "BlueChips23", "link": "https://stackoverflow.com/users/1244329/bluechips23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 51710525, "answer_count": 1, "score": -2, "last_activity_date": 1533578189, "creation_date": 1533567002, "question_id": 51710350, "link": "https://stackoverflow.com/questions/51710350/perl-regex-replace-double-quotes-with-single-quotes", "title": "Perl Regex Replace Double Quotes With Single Quotes", "body": "<p>I have a long string which looks like this:</p>\n\n<pre><code>\"Key1:Value1,\n Key2:value2,\n Key3:namespace=\"randomName\",\n Key4:Some other value,\n Key5:namespace=\"anotherRandomName\"\n...\n\"\n</code></pre>\n\n<p>I want to replace <code>namespace=\"randomName\"</code> with <code>namespace='randomName'</code> (just from double quotes to single quotes).</p>\n\n<p>What's the best way to do it with perl regex?</p>\n"}, {"tags": ["oracle", "perl", "prepared-statement"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1533551508, "post_id": 51705132, "comment_id": 90371904, "body": "<code>(DBD ERROR: error possibly near &lt;*&gt; indicator</code> &lt;= indication where error may be. It&#39;s not that DBI is executing such query. Btw, why parens in update query?"}, {"owner": {"reputation": 159, "user_id": 4846434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-ec6A2AiabMc/AAAAAAAAAAI/AAAAAAAAAeU/uuf8Nx-lE2s/photo.jpg?sz=128", "display_name": "adtewa", "link": "https://stackoverflow.com/users/4846434/adtewa"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1533551773, "post_id": 51705132, "comment_id": 90372024, "body": "I see. I wrote the query based on <a href=\"http://www.dba-oracle.com/t_update_multiple_columns.htm\" rel=\"nofollow noreferrer\">this</a> with paranthesis. I try it without them."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1533551945, "post_id": 51705132, "comment_id": 90372112, "body": "If not sure about query, try it with sqlPlus first."}], "answers": [{"tags": [], "owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "is_accepted": true, "score": 9, "last_activity_date": 1533552123, "last_edit_date": 1533552123, "creation_date": 1533551615, "answer_id": 51705650, "question_id": 51705132, "link": "https://stackoverflow.com/questions/51705132/why-does-perl-dbi-adds-special-characters-less-than-asterisk-greater-than/51705650#51705650", "title": "Why does perl DBI adds special characters &lt;*&gt; (less than asterisk greater than) to prepared statement (Oracle)?", "body": "<p>It doesn't insert that symbol into the query, that gets executed. It's just a marker in the error message indicating the position of the syntax error as a convenience for you, to find that spot easier.</p>\n\n<p>To get rid of the error, remove the parenthesis from your query.</p>\n\n<pre><code>...\nmy $query = 'update THE_TABLE set COLUMN_ONE = ?, COLUMN_TWO = ?,\n             MODIFY_DATE = SYSDATE where ID = ?';\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1533553992, "post_id": 51705897, "comment_id": 90373289, "body": "<i>&quot;Precision and accuracy are important parts of being a professional programmer&quot;</i> Very much so. It&#39;s something that&#39;s lost on the &quot;How can I become a programming expert in three months&quot; brigade."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533589543, "post_id": 51705897, "comment_id": 90392600, "body": "Probably a drunken code hooligan. You have eight up votes to make up for it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1533617778, "post_id": 51705897, "comment_id": 90398925, "body": "Re &quot;<i>You need to get used to reading and understanding error messages - not just leaping on the first possible explanation that comes to mind.</i>&quot;, ...especially when that explanation involves blaming the tool. It&#39;s almost never the tool!"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 9, "last_activity_date": 1533555709, "last_edit_date": 1533555709, "creation_date": 1533552570, "answer_id": 51705897, "question_id": 51705132, "link": "https://stackoverflow.com/questions/51705132/why-does-perl-dbi-adds-special-characters-less-than-asterisk-greater-than/51705897#51705897", "title": "Why does perl DBI adds special characters &lt;*&gt; (less than asterisk greater than) to prepared statement (Oracle)?", "body": "<blockquote>\n  <p>perl DBI is adding a special &lt;*> symbol group to the statement and that is causing the error</p>\n</blockquote>\n\n<p>You have this completely wrong, I'm afraid. Firstly, it's not Perl that is adding the symbols, it's the Oracle query compiler. And secondly, those symbols are not causing the error, they are showing you where Oracle thinks the error is.</p>\n\n<p>Look more closely at the error message. It says:</p>\n\n<blockquote>\n  <p>DBD ERROR: error possibly near &lt;*> indicator</p>\n</blockquote>\n\n<p>The word \"indicator\" is your clue. It has been added to \"indicate\" where the error it.</p>\n\n<p>As you've already been told, the solution is to remove the unnecessary parentheses from your query.</p>\n\n<p>Precision and accuracy are important parts of being a professional programmer. You need to get used to reading and understanding error messages - not just leaping on the first possible explanation that comes to mind.</p>\n"}], "owner": {"reputation": 159, "user_id": 4846434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-ec6A2AiabMc/AAAAAAAAAAI/AAAAAAAAAeU/uuf8Nx-lE2s/photo.jpg?sz=128", "display_name": "adtewa", "link": "https://stackoverflow.com/users/4846434/adtewa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 51705650, "answer_count": 2, "score": 2, "last_activity_date": 1533555709, "creation_date": 1533549956, "question_id": 51705132, "link": "https://stackoverflow.com/questions/51705132/why-does-perl-dbi-adds-special-characters-less-than-asterisk-greater-than", "title": "Why does perl DBI adds special characters &lt;*&gt; (less than asterisk greater than) to prepared statement (Oracle)?", "body": "<p>I'd like to use a prepared statement with perl DBI (version 5.16.3) to update a row in an Oracle database table.</p>\n\n<pre><code>my $query = 'update THE_TABLE set (COLUMN_ONE = ?, COLUMN_TWO = ?,\n             MODIFY_DATE = SYSDATE) where ID = ?';\nmy $statement_update = $db_handle-&gt;prepare($query) or die 'DB Error: ' . $db_handle-&gt;errstr;\n$statement_update-&gt;execute(1, 1, '123456789') or die 'DB Error: ' . $statement_update-&gt;errstr;\n</code></pre>\n\n<p>When executing, perl DBI is adding a special &lt;*> symbol group to the statement and that is causing the error: </p>\n\n<blockquote>\n  <p><code>DBD::Oracle::st execute failed: ORA-00907: missing right parenthesis (DBD ERROR: error possibly near &lt;*&gt; indicator at char 31 in 'update THE_TABLE set (COLUMN_ONE &lt;*&gt;= :p1, COLUMN_TWO = :p2, MODIFY_DATE = SYSDATE) where ID = :p3') [for Statement \"update THE_TABLE set (COLUMN_ONE = ?, COLUMN_TWO = ?, MODIFY_DATE = SYSDATE) where ID = ?\" with ParamValues: :p1=1, :p2=1, :p3='123456789'] at a_perl_script.pl line ...</code></p>\n</blockquote>\n\n<p>With symbolhound I could find <a href=\"https://www.nntp.perl.org/group/perl.beginners/2011/04/msg116425.html\" rel=\"nofollow noreferrer\">this page</a>, where it looks like others met the same thing. And it looks like it is random where perl DBI puts the &lt;*> symbols.</p>\n\n<p>How could I adjust perl DBI to properly make this statement?</p>\n"}, {"tags": ["perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": true, "score": 7, "last_activity_date": 1533545421, "creation_date": 1533545421, "answer_id": 51703807, "question_id": 51703699, "link": "https://stackoverflow.com/questions/51703699/accessing-hash-of-hashes-in-perl/51703807#51703807", "title": "Accessing hash of hashes in Perl", "body": "<p>You're not passing in the hash correctly as the subroutine is expecting a hash ref and you're passing in a hash which will be expanded out into a list of key &amp; values. Which is why it's trying to use \"style\" as a hashref as it is the first key it's being passed.</p>\n\n<p>Just change the call to this and it should work.</p>\n\n<pre><code>$self-&gt;applyStyle(\\%options);\n</code></pre>\n"}], "owner": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 51703807, "answer_count": 1, "score": 0, "last_activity_date": 1533545421, "creation_date": 1533545012, "question_id": 51703699, "link": "https://stackoverflow.com/questions/51703699/accessing-hash-of-hashes-in-perl", "title": "Accessing hash of hashes in Perl", "body": "<p>I have this code:</p>\n\n<pre><code>my %options;\n\n$options{\"style\"}{size} = \"mini\";\n$options{\"style\"}{color} = \"secondary\";\ndiag(\"size=\".$options{style}{size});\n$self-&gt;applyStyle(%options);\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>sub applyStyle {\n  my ($self, $options) = @_;\n  diag(\"size=\".$options-&gt;{style}{size});\n}\n</code></pre>\n\n<p>But I get:</p>\n\n<p><code>Can't use string (\"style\") as a HASH ref while \"strict refs\" in use at ...</code></p>\n\n<p>How can I print (and use) the values?</p>\n"}, {"tags": ["arrays", "perl", "hash", "dbi"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1533554438, "post_id": 51703692, "comment_id": 90373538, "body": "Why have you declared <code>my $loc</code> but not <code>$id</code> or <code>$name</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 7, "last_activity_date": 1533545717, "creation_date": 1533545717, "answer_id": 51703902, "question_id": 51703692, "link": "https://stackoverflow.com/questions/51703692/print-a-perl-hash-of-hashes/51703902#51703902", "title": "Print a Perl hash of hashes", "body": "<p>Iterate over the two levels of the hash in nested loops.</p>\n\n<pre><code>for my $loc (keys %users) {\n    for my $name (keys $users{$loc}-&gt;%*) {\n        say \"loc: $loc -- name: $name -- id: $users{$loc}{$name}\";\n    }\n}\n</code></pre>\n\n<p>Hint: use <a href=\"http://p3rl.org/Data::Dumper\" rel=\"noreferrer\">Data::Dumper</a> or similar to visualise a nested data structure.</p>\n"}], "owner": {"reputation": 505, "user_id": 6556472, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7f757612a859544a6a92c997e4ba40c8?s=128&d=identicon&r=PG&f=1", "display_name": "georgetovrea", "link": "https://stackoverflow.com/users/6556472/georgetovrea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1533554317, "creation_date": 1533544982, "last_edit_date": 1533554317, "question_id": 51703692, "link": "https://stackoverflow.com/questions/51703692/print-a-perl-hash-of-hashes", "title": "Print a Perl hash of hashes", "body": "<p>I am building a hash of hashes. How can I use <code>while</code> to get each value?</p>\n\n<pre><code>my %users = ();\n\nwhile ( my $row_ref = $select_sth-&gt;fetchrow_hashref() ) {\n\n    $id     = $row_ref-&gt;{uid};\n    $name   = $row_ref-&gt;{name};\n    my $loc = $row_ref-&gt;{loc };\n\n    $users{$loc}{$name} = $id;\n}\n\nwhile ( my ($user, $val) = each(%users) ) {\n\n    # how to get name, loc, id?\n\n    my $uname = ??\n    my $uloc  = ??\n    my $uid   = ??\n}\n</code></pre>\n"}, {"tags": ["linux", "perl", "rhel"], "comments": [{"owner": {"reputation": 240639, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1533538569, "post_id": 51701969, "comment_id": 90365190, "body": "I don&#39;t think there&#39;s anything specific to x86-64 here.  If there are any compiled binaries involved, you have the same architecture on both machines.  Without any more details, like <i>what</i> errors or which perl packages the script depends on, this is unanswerable.  It&#39;s not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for a debugging question, and the only generic answer is <i>very</i> general (what Quentin said)."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1533538815, "post_id": 51701969, "comment_id": 90365294, "body": "Make sure all those modules that the script depends on are installed on the new machine (Easy through your OS&#39;s package manager or CPAN. Look into perlbrew or local::lib if you don&#39;t have admin rights). Copy the script. Run the script."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1533543153, "post_id": 51701969, "comment_id": 90367218, "body": "Google for <code>cpan bundle</code>. The simplest way would be to use <a href=\"https://metacpan.org/pod/release/ANDK/CPAN-1.60/lib/CPAN.pm#autobundle\" rel=\"nofollow noreferrer\"><code>autobundle</code></a> to create a bundle of all the modules installed on your source computer, started from the command line with <code>cpan -a</code>. You may want to edit the result to remove unnecessary modules, but this list can be installed anywhere with a single command."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1533561681, "post_id": 51701969, "comment_id": 90378299, "body": "watch the perl version, obviously. You could use local::lib / perlbrew to install the correct perl version locally."}], "owner": {"reputation": 31, "user_id": 10185133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af074c87ec5fa97b6d425d90f7d2babc?s=128&d=identicon&r=PG&f=1", "display_name": "acerteli", "link": "https://stackoverflow.com/users/10185133/acerteli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1533543997, "creation_date": 1533538046, "last_edit_date": 1533543997, "question_id": 51701969, "link": "https://stackoverflow.com/questions/51701969/move-a-perl-script-with-dependencies-from-one-computer-to-another", "title": "Move a Perl script with dependencies from one computer to another", "body": "<p>I have a Perl script on an old RHEL4 x86_64 Linux computer. This script runs only on this computer, and we'd like to run it on other Linux computers. The issue is there are a ton of Perl <code>.pm</code> and <code>.xs</code> files needed.</p>\n\n<p>I've done the following</p>\n\n<ul>\n<li><p>Created a virtual machine that has the same directory structure as the RHEL4 x86_64 Linux computer. I have run into errors this way, namely the <code>Config.pm</code> file aborting.</p></li>\n<li><p>Used the\n<a href=\"https://metacpan.org/pod/pp\" rel=\"nofollow noreferrer\"><em>PAR Packager</em> <code>pp</code> command</a>\nto package the Perl script. I keep running into errors when packing it.</p></li>\n</ul>\n\n<p>What other routes can I take in executing the script on other Linux computers?</p>\n"}, {"tags": ["perl", "ipc", "stdout"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533540189, "post_id": 51701670, "comment_id": 90365884, "body": "How do you launch the child? With IPC::Run, you can provide callback subs. With IPC::Run, you can also use pseudo-ttys to fool the child into flushing its output more often if it normally buffers."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1535527596, "last_edit_date": 1535527596, "creation_date": 1533540333, "answer_id": 51702507, "question_id": 51701670, "link": "https://stackoverflow.com/questions/51701670/can-i-capture-stdout-write-events-from-a-process-in-perl/51702507#51702507", "title": "Can I capture STDOUT write events from a process in perl?", "body": "<p>A basic way is to use pipe open, where you <a href=\"https://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">open</a> a pipe to a process that gets forked. Then the <code>STDOUT</code> from the child is piped to the filehandle in the parent, or the parent pipes to its <code>STDIN</code>.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy @cmd = qw(ls -l .);  # your command\n\nmy $pid = open(my $fh, '-|', @cmd)   // die \"Can't open pipe from @cmd: $!\";\n\nwhile (&lt;$fh&gt;) {\n    print;\n}\n\nclose $fh or die \"Error closing pipe from @cmd: $!\";\n</code></pre>\n\n<p>This way the parent receives child's <code>STDOUT</code> right as it is emitted.<sup>&dagger;</sup></p>\n\n<p>There is a bit more that you can do with error checking, see the man page, <a href=\"https://perldoc.perl.org/functions/close.html\" rel=\"nofollow noreferrer\">close</a>, and <a href=\"https://perldoc.perl.org/perlvar.html#%24%3f\" rel=\"nofollow noreferrer\"><code>$?</code> in perlvar</a>.  Also, install a handler for <code>SIGPIPE</code>, see <a href=\"https://perldoc.perl.org/perlipc.html\" rel=\"nofollow noreferrer\">perlipc</a> and <a href=\"https://perldoc.perl.org/perlvar.html#%SIG\" rel=\"nofollow noreferrer\"><code>%SIG</code> in perlvar</a>.</p>\n\n<p>There are modules that make it much easier to run external commands and, in particular, check errors.  However, <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow noreferrer\">Capture::Tiny</a> and <a href=\"https://metacpan.org/pod/IPC::Run3\" rel=\"nofollow noreferrer\">IPC::Run3</a> use files to transfer the external program's streams.</p>\n\n<p>On the other hand, the <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a> gives you far more control and power.</p>\n\n<p>To have code executed <a href=\"https://metacpan.org/pod/IPC::Run#Redirection-Operators\" rel=\"nofollow noreferrer\">\"<em>... each time some data is read from the child</em>\"</a> use a callback</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse IPC::Run qw(run);\n\nmy @cmd = ( \n    'perl', \n    '-le', \n    'STDOUT-&gt;autoflush(1); for (qw( abc def ghi )) { print; sleep 1; }'\n);\n\nrun \\@cmd, '&gt;', sub { print $_[0] };\n</code></pre>\n\n<p>Once you use <code>IPC::Run</code> a whole lot more is possible, including much better error interrogation, setting up pseudo tty for the process, etc. If demands on how to manage the process grow more complex then work will be easier with the module. </p>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> for comments, including the demo <code>@cmd</code>.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup> To demonstrate that the parent receives child's <code>STDOUT</code> as it is emitted use a command that emits output with delays. For example, instead of <code>ls -l</code> above use</p>\n\n<pre><code>my @cmd = (\n    'perl', \n    '-le', \n    'STDOUT-&gt;autoflush(1); for (qw( abc def ghi )) { print; sleep 1; }'\n);\n</code></pre>\n\n<p>This Perl one-liner prints words one second apart, and that is how they wind up on screen.</p>\n"}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 51702507, "answer_count": 1, "score": 3, "last_activity_date": 1582176724, "creation_date": 1533536783, "last_edit_date": 1582176724, "question_id": 51701670, "link": "https://stackoverflow.com/questions/51701670/can-i-capture-stdout-write-events-from-a-process-in-perl", "title": "Can I capture STDOUT write events from a process in perl?", "body": "<p>I need (would like?) to spawn a slow process from a web app using a <a href=\"https://metacpan.org/pod/Minion\" rel=\"nofollow noreferrer\">Minion</a> queue. </p>\n\n<p>The process - a <a href=\"https://en.wikipedia.org/wiki/GNU_Linear_Programming_Kit\" rel=\"nofollow noreferrer\">GLPK</a> solver - can run for a long time but generates progress output.</p>\n\n<p>I'd like to capture that output as it happens and write it to somewhere (database? log file?) so that it can be played back to the user as a status update inside the web app.</p>\n\n<p>Is that possible? I have no idea (hence no code).</p>\n\n<p>I was exploring <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow noreferrer\">Capture::Tiny</a> - the simplicity of it is nice but I can't tell if it can track write events upon writing.  </p>\n"}, {"tags": ["database", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1533533457, "post_id": 51701025, "comment_id": 90363235, "body": "Semicolon.....?"}, {"owner": {"reputation": 199, "user_id": 9998415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f582fcef6ee949146244491721dcdc?s=128&d=identicon&r=PG&f=1", "display_name": "Kanewilliam", "link": "https://stackoverflow.com/users/9998415/kanewilliam"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1533533588, "post_id": 51701025, "comment_id": 90363275, "body": "Yes right ? but i another error &quot;Can&#39;t locate DBI.pm in @INC (you may need to install the DBI module) &quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1533533644, "post_id": 51701025, "comment_id": 90363289, "body": "So? Install it."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1533533617, "creation_date": 1533533617, "answer_id": 51701084, "question_id": 51701025, "link": "https://stackoverflow.com/questions/51701025/perl-not-able-to-connect-database/51701084#51701084", "title": "perl not able to connect database", "body": "<pre><code>use DBI\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>use DBI;\n</code></pre>\n\n<hr>\n\n<p>It's probably best if you place it after</p>\n\n<pre><code>use strict;\n</code></pre>\n\n<p>You should also have</p>\n\n<pre><code>use warnings qw( all );\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 9998415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f582fcef6ee949146244491721dcdc?s=128&d=identicon&r=PG&f=1", "display_name": "Kanewilliam", "link": "https://stackoverflow.com/users/9998415/kanewilliam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533533617, "creation_date": 1533533227, "question_id": 51701025, "link": "https://stackoverflow.com/questions/51701025/perl-not-able-to-connect-database", "title": "perl not able to connect database", "body": "<p>I am new in perl programming. I have tried the basic perl database connection and get the below error. Please any one help how to fix the issue.</p>\n\n<pre><code>\"use\" not allowed in expression at ./database.pl line 4, at end of line\nsyntax error at ./database.pl line 4, near \"use DBI\nuse strict\"\nExecution of ./database.pl aborted due to compilation errors.\n</code></pre>\n\n<p>database.pl file</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse DBI\nuse strict;\n\nmy $driver = \"mysql\";\nmy $database = \"pj_order\";\nmy $dsn = \"DBI:$driver:database=$database;host=localhost\";\nmy $userid = \"root\";\nmy $password = \"root\";\n\nmy $dbh = DBI-&gt;connect($dsn, $userid, $password ) or die $DBI::errstr;\n</code></pre>\n\n<p>Finally i have run the database.pl file and get the below error.</p>\n\n<pre><code>\"use\" not allowed in expression at ./database.pl line 4, at end of line\nsyntax error at ./database.pl line 4, near \"use DBI\nuse strict\"\nExecution of ./database.pl aborted due to compilation errors.\n</code></pre>\n"}, {"tags": ["regex", "excel", "perl", "parsing"], "comments": [{"owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "edited": false, "score": 1, "creation_date": 1533493755, "post_id": 51697126, "comment_id": 90355627, "body": "And what isn&#39;t working with your code? Where is the explicit question?"}, {"owner": {"reputation": 8974, "user_id": 205207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1OH7W.jpg?s=128&g=1", "display_name": "i alarmed alien", "link": "https://stackoverflow.com/users/205207/i-alarmed-alien"}, "edited": false, "score": 0, "creation_date": 1533496243, "post_id": 51697126, "comment_id": 90356276, "body": "If it functions as it should, your script appears to be replacing &#39;Apples&#39; with &#39;Oranges&#39;."}, {"owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "edited": false, "score": 0, "creation_date": 1533496269, "post_id": 51697126, "comment_id": 90356284, "body": "When I open up the output file, no peaches is written to it."}, {"owner": {"reputation": 8974, "user_id": 205207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1OH7W.jpg?s=128&g=1", "display_name": "i alarmed alien", "link": "https://stackoverflow.com/users/205207/i-alarmed-alien"}, "edited": false, "score": 1, "creation_date": 1533496370, "post_id": 51697126, "comment_id": 90356310, "body": "You are not writing to the output file that you&#39;ve opened -- look: <code>$worksheet_R-&gt;write($cell,&quot;Oranges&quot;);</code>"}, {"owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "edited": false, "score": 0, "creation_date": 1533496435, "post_id": 51697126, "comment_id": 90356322, "body": "I need the output excel file to replace &quot;Apples&quot; with &quot;Peaches.&quot;"}, {"owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "edited": false, "score": 0, "creation_date": 1533497124, "post_id": 51697126, "comment_id": 90356502, "body": "I tried to replace     worksheet_R-&gt;write$worksheet_R-&gt;write($cell,&quot;Oranges&quot;); with     worksheet_W-&gt;write$worksheet_R-&gt;write($cell,&quot;Oranges&quot;); and received an interpreter error."}], "answers": [{"tags": [], "owner": {"reputation": 8974, "user_id": 205207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1OH7W.jpg?s=128&g=1", "display_name": "i alarmed alien", "link": "https://stackoverflow.com/users/205207/i-alarmed-alien"}, "is_accepted": true, "score": 3, "last_activity_date": 1533497127, "creation_date": 1533497127, "answer_id": 51697563, "question_id": 51697126, "link": "https://stackoverflow.com/questions/51697126/perl-parse-excel-with-search-and-replace/51697563#51697563", "title": "Perl: Parse Excel with Search and Replace", "body": "<p>There are a couple of problems with your code:</p>\n\n<ol>\n<li>You're not writing to the output file, <code>$worksheet_W</code></li>\n<li><p>You're not writing out the contents of the cells that don't have <code>Apples</code> in them.</p>\n\n<pre><code>for my $row ( $row_min .. $row_max ) {\n  for my $col ( $col_min .. $col_max ) {\n\n    my $cell = $worksheet_R-&gt;get_cell( $row, $col );\n    // if the cell contains Apples, write 'Peaches' instead\n    if($cell-&gt;value() =~ /Apples/) {\n      $worksheet_W-&gt;write($row, $col,\"Peaches\");\n    }\n    else {\n      // print the existing cell contents\n      $worksheet_W-&gt;write($row, $col, $cell);\n    }\n  }\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 0, "accepted_answer_id": 51697563, "answer_count": 1, "score": 3, "last_activity_date": 1533497127, "creation_date": 1533493442, "last_edit_date": 1533496575, "question_id": 51697126, "link": "https://stackoverflow.com/questions/51697126/perl-parse-excel-with-search-and-replace", "title": "Perl: Parse Excel with Search and Replace", "body": "<p>I'm building a PERL script to search and replace the EXCEL cell A1.  There is an error in my code, it will find \"Apples\" in the input file but will NOT write replace \"Apples\" with \"Peaches\" in the output file.  </p>\n\n<p>I have an XLS EXCEL INPUT file (file_in.xls) with the contents displayed below:</p>\n\n<pre><code>A---------------B\n-----------------------\n1 Apples  | Carrots\n-----------------------\n2 Oranges | Spinach\n-----------------------\n3 Grapes  | Celery \n-----------------------\n</code></pre>\n\n<p>I need to perform search/replace for Apples to Peaches in the cell (A1) for the EXCEL output file (file_out.xls):</p>\n\n<pre><code>A----------------B\n-----------------------\n1 Peaches | Carrots\n-----------------------\n2 Oranges | Spinach\n-----------------------\n3 Grapes  | Celery \n-----------------------\n</code></pre>\n\n<p>Here is the Perl code:</p>\n\n<pre><code> use v5.10.0;\n use warnings;\n\n use Spreadsheet::ParseExcel;\n use Spreadsheet::ParseExcel::SaveParser;\n use Spreadsheet::WriteExcel;\n\n my $parser = Spreadsheet::ParseExcel::SaveParser-&gt;new();\n my $file1 = $parser-&gt;Parse(\"C:/Perl/scripts/file_in.xls\");\n my $workbook_R = $parser-&gt;parse('file_in.xls');\n\n my $workbook_W = Spreadsheet::WriteExcel-&gt;new('C:\\Perl\\scripts\\file_out.xls');\n my $worksheet_W = $workbook_W-&gt;add_worksheet();\n\n my $sheet = ${ $file1-&gt;{Worksheet_R} }[0];\n\n for my $worksheet_R ( $workbook_R-&gt;worksheets() ) {\n\n my ( $row_min, $row_max ) = $worksheet_R-&gt;row_range();\n my ( $col_min, $col_max ) = $worksheet_R-&gt;col_range();\n\nfor my $row ( $row_min .. $row_max ) {\nfor my $col ( $col_min .. $col_max ) {\n\n        my $cell = $worksheet_R-&gt;get_cell( $row, $col );\n        next unless $cell;\n\n        if($cell-&gt;value() =~ /Apples/) {\n        $worksheet_R-&gt;write($cell,\"Oranges\");}\n      }\n    }\n   }\n</code></pre>\n"}, {"tags": ["regex", "perl", "text", "sed"], "comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 1, "creation_date": 1533480931, "post_id": 51694267, "comment_id": 90352171, "body": "add expected output for clarity.. and you are expected to <b>show</b> your own efforts to solve it.."}], "answers": [{"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 1, "last_activity_date": 1533472814, "creation_date": 1533472814, "answer_id": 51694390, "question_id": 51694267, "link": "https://stackoverflow.com/questions/51694267/untangling-an-interleaved-log-text-file/51694390#51694390", "title": "Untangling an interleaved log (text) file", "body": "<p>Nothing complicated with <a href=\"http://www.man7.org/linux/man-pages/man1/sort.1.html\" rel=\"nofollow noreferrer\"><code>sort</code></a>:</p>\n\n<pre><code>sort -k3n yourfile\n</code></pre>\n\n<p><em>(3 is the column you want the records to be sorted by, and <code>n</code> for a numeric comparison)</em></p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533510170, "post_id": 51694470, "comment_id": 90359206, "body": "That&#39;s stretching the idea of a &quot;one-liner&quot;! It&#39;s also a useless use of <code>cat</code>."}], "tags": [], "owner": {"reputation": 2686, "user_id": 3024975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d50669d449ff67ba11190e98c504890d?s=128&d=identicon&r=PG", "display_name": "m1ch4ls", "link": "https://stackoverflow.com/users/3024975/m1ch4ls"}, "is_accepted": true, "score": 1, "last_activity_date": 1533473373, "creation_date": 1533473373, "answer_id": 51694470, "question_id": 51694267, "link": "https://stackoverflow.com/questions/51694267/untangling-an-interleaved-log-text-file/51694470#51694470", "title": "Untangling an interleaved log (text) file", "body": "<p>Perl one-liner should be enough to filter the noise.</p>\n\n<pre><code>cat file.log | perl -e 'my $last; while(&lt;&gt;) { /On tick (\\d+) total blocks \\d+/; if (!$last || int($1) == $last+1) { print \"$_\"; $last = int($1) }; }'\n</code></pre>\n\n<p><em>Note that the script assumes the first tick in the file is a valid one.</em></p>\n"}, {"tags": [], "owner": {"reputation": 7747, "user_id": 4086774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faa70eacd799b083b10a8a43b418e2e1?s=128&d=identicon&r=PG&f=1", "display_name": "Lars Fischer", "link": "https://stackoverflow.com/users/4086774/lars-fischer"}, "is_accepted": false, "score": -1, "last_activity_date": 1533477749, "last_edit_date": 1533477749, "creation_date": 1533473532, "answer_id": 51694489, "question_id": 51694267, "link": "https://stackoverflow.com/questions/51694267/untangling-an-interleaved-log-text-file/51694489#51694489", "title": "Untangling an interleaved log (text) file", "body": "<p>You can filter for lines with exactly 8 digits between \"On tick \" and \" total\" using <code>sed</code> like this:</p>\n\n<pre><code>sed -rn \"/^On tick [0-9]{8} total/ p;\" yourfile\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<ul>\n<li><code>^</code> takes care that we are only matching at the start of a line</li>\n<li><code>p</code> means print matching lines </li>\n<li>option <code>-n</code> means that no line is printed without an explicit <code>p</code> command</li>\n<li><code>[0-9]{8}</code> matches exactly 8 digits, we need option <code>-r</code> for that</li>\n</ul>\n\n<p>When you are satisfied with the output, you would store the commands output in another file.</p>\n"}], "owner": {"reputation": 826, "user_id": 937550, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/cb998d87c1344783d1b823dcc2e597ff?s=128&d=identicon&r=PG", "display_name": "adrianmcmenamin", "link": "https://stackoverflow.com/users/937550/adrianmcmenamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 51694470, "answer_count": 3, "score": -2, "last_activity_date": 1533477749, "creation_date": 1533471798, "question_id": 51694267, "link": "https://stackoverflow.com/questions/51694267/untangling-an-interleaved-log-text-file", "title": "Untangling an interleaved log (text) file", "body": "<p>I have a file in plain text in this format:</p>\n\n<pre><code>On tick 95479102 total blocks 65\nOn tick 95479103 total blocks 66\nOn tick 95479104 total blocks 66\nOn tick 95479105 total blocks 66\nOn tick 95479106 total blocks 67\nOn tick 95479107 total blocks 67\nOn tick 95479108 total blocks 67\nOn tick 95479109 total blocks 67\nOn tick 95479110 total blocks 67\nOn tick 95479111 total blocks 67\nOn tick 95479112 total blocks 67\nOn tick 95479113 total blocks 68\nOn tick 95479114 total blocks 68\nOn tick 95479115 total blocks 68\nOn tick 95479116 total blocks 68\n</code></pre>\n\n<p>Due to operator error a couple of other logs have got mixed in with this, so now have later log entries which look like this:</p>\n\n<pre><code>On tick 95479541 total blocks 69\nOn tick 385 total blocks 124\nOn tick 130 total blocks 124\nOn tick 95479542 total blocks 69\nOn tick 386 total blocks 124\nOn tick 131 total blocks 124\nOn tick 95479543 total blocks 69\nOn tick 387 total blocks 124\nOn tick 388 total blocks 124\nOn tick 95479544 total blocks 69\nOn tick 132 total blocks 124\nOn tick 95479545 total blocks 69\n</code></pre>\n\n<p>I'd like to disentangle all this and as all the ticks are sequential I am sure it's possible to write a basic if cumbersome Perl script to do it - but is there an easier way or a CPAN library that might help?</p>\n"}, {"tags": ["windows", "perl", "cmd"], "comments": [{"owner": {"reputation": 1909, "user_id": 2225619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/286a6578091bb7b170a254eb8b5c100d?s=128&d=identicon&r=PG", "display_name": "Capricorn", "link": "https://stackoverflow.com/users/2225619/capricorn"}, "edited": false, "score": 2, "creation_date": 1533461865, "post_id": 51693127, "comment_id": 90347657, "body": "Please properly format your code (<a href=\"https://stackoverflow.com/help/formatting\">stackoverflow.com/help/formatting</a>)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1533465494, "post_id": 51693127, "comment_id": 90348414, "body": "<code>&quot;while (&lt;&gt;) {chomp; @col = split &#47;\\t&#47;; push @{$score{$col[0]}{$col[1]}}, $col[2], $col[3]}  @array = keys %score; print join &quot;</code> - If your string starts with <code>&quot;</code>, it ends at the next <code>&quot;</code>. Also, what shell are you using?"}, {"owner": {"reputation": 1, "user_id": 10178103, "user_type": "registered", "profile_image": "https://graph.facebook.com/1899861216723378/picture?type=large", "display_name": "Sara Zahran", "link": "https://stackoverflow.com/users/10178103/sara-zahran"}, "edited": false, "score": 0, "creation_date": 1533466429, "post_id": 51693127, "comment_id": 90348628, "body": "I think it ends with &quot;    and if you please what do you mean by shell?"}, {"owner": {"reputation": 1, "user_id": 10178103, "user_type": "registered", "profile_image": "https://graph.facebook.com/1899861216723378/picture?type=large", "display_name": "Sara Zahran", "link": "https://stackoverflow.com/users/10178103/sara-zahran"}, "edited": false, "score": 0, "creation_date": 1533466737, "post_id": 51693127, "comment_id": 90348698, "body": "I think it ends with double quotes and if you please what do you mean by shell?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1533468075, "post_id": 51693127, "comment_id": 90349011, "body": "If you know the code ends at <code>... print join &quot;</code>, what do you think <code>\\t&quot;, &quot;&quot;, @array, &quot;&quot;.&quot;\\n</code> is?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533470941, "post_id": 51693127, "comment_id": 90349673, "body": "<a href=\"https://pastebin.com/EQ2F9XFe\" rel=\"nofollow noreferrer\">This</a> avoids the trailing blank field."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10178103, "user_type": "registered", "profile_image": "https://graph.facebook.com/1899861216723378/picture?type=large", "display_name": "Sara Zahran", "link": "https://stackoverflow.com/users/10178103/sara-zahran"}, "edited": false, "score": 0, "creation_date": 1533472288, "post_id": 51693918, "comment_id": 90349963, "body": "many thanks for your help, but i m not expert in perl, would you please tell me how can i give a command using this matrix.pl file"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 10178103, "user_type": "registered", "profile_image": "https://graph.facebook.com/1899861216723378/picture?type=large", "display_name": "Sara Zahran", "link": "https://stackoverflow.com/users/10178103/sara-zahran"}, "edited": false, "score": 0, "creation_date": 1533472548, "post_id": 51693918, "comment_id": 90350014, "body": "I told you: <code>perl matrix.pl</code> is equivalent to the line you have in your question. You will need to supply some data for it to work, but that doesn&#39;t change."}, {"owner": {"reputation": 1, "user_id": 10178103, "user_type": "registered", "profile_image": "https://graph.facebook.com/1899861216723378/picture?type=large", "display_name": "Sara Zahran", "link": "https://stackoverflow.com/users/10178103/sara-zahran"}, "edited": false, "score": 0, "creation_date": 1533472766, "post_id": 51693918, "comment_id": 90350070, "body": "sorry i got it, yiu already wrote it in your comment. Many thanks again, you really helped me in a problem I was stuck in for almost a week"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1533468638, "last_edit_date": 1592644375, "creation_date": 1533468638, "answer_id": 51693918, "question_id": 51693127, "link": "https://stackoverflow.com/questions/51693127/perl-command-to-create-matrix-txt/51693918#51693918", "title": "perl command to create matrix.txt", "body": "<p>You need to replace <code>&quot;...&quot;</code> with <code>qq/.../</code> everywhere, so for instance</p>\n<pre><code>&quot;$score{$key}{$hit}[0]\\t&quot;\n</code></pre>\n<p>becomes</p>\n<pre><code>qq/$score{$key}{$hit}[0]\\t/\n</code></pre>\n<p>But seriously, this is a ludicrously long piece of code to put into a one-liner. Put it into a file, let's say <code>matrix.pl</code> and run <code>perl matrix.pl</code>. That way it will be <em>much</em> easier for you to read and edit, and much better for anyone else to help you</p>\n<p>Here's the properly laid-out version of your code</p>\n<h3>matrix.pl</h3>\n<pre><code>use strict;\nuse warnings 'all';\n\nmy %score;\n\nwhile ( &lt;&gt; ) {\n    chomp;\n    my @col = split /\\t/;\n    push @{ $score{$col[0]}{$col[1]} }, $col[2], $col[3];\n}\n\nmy @keys = keys %score;\n\nprint join &quot;\\t&quot;, &quot;&quot;, @keys, &quot;&quot; . &quot;\\n&quot;;\n\nfor my $key ( @keys ) {\n\n    print &quot;$key\\t&quot;;\n\n    for my $hit ( @keys ) {\n\n        if ( $score{$key}{$hit} ) {\n            print &quot;$score{$key}{$hit}[0]\\t&quot;;\n        }\n        else {\n            print &quot;\\t&quot;;\n        }\n    }\n\n    print &quot;\\n&quot;;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10178103, "user_type": "registered", "profile_image": "https://graph.facebook.com/1899861216723378/picture?type=large", "display_name": "Sara Zahran", "link": "https://stackoverflow.com/users/10178103/sara-zahran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1533486212, "creation_date": 1533461700, "last_edit_date": 1533470573, "question_id": 51693127, "link": "https://stackoverflow.com/questions/51693127/perl-command-to-create-matrix-txt", "title": "perl command to create matrix.txt", "body": "<p>I have a txt file from a blast output containing each query with its hit and its % identity and score and I need to convert to matrix file to create a heatmap\nI used this long command: </p>\n\n<pre><code>perl -we \"while (&lt;&gt;) {chomp; @col = split /\\t/; push @{$score{$col[0]}{$col[1]}}, $col[2], $col[3]}  @array = keys %score; print join \"\\t\", \"\", @array, \"\".\"\\n\"; foreach $key (keys %score) {print \"$key\\t\";  foreach $hit (@array) {if ($score{$key}{$hit}) {print \"$score{$key}{$hit}[0]\\t\" } else {print \"\\t\"} } print \"\\n\" }\"\n</code></pre>\n\n<p>but I get a comment that: unquoted string <code>\"t\"</code> may clash with future reserved word at <code>-e</code> line 1</p>\n\n<p>and the file generated was 0 KB in size</p>\n\n<p>highly appreciate your help</p>\n"}, {"tags": ["perl", "parsing", "yaml"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1533421390, "post_id": 51689801, "comment_id": 90341726, "body": "<a href=\"http://p3rl.org/YAML::XS\" rel=\"nofollow noreferrer\">YAML::XS</a> loads the file without problems, as does <a href=\"http://p3rl.org/YAML::PP\" rel=\"nofollow noreferrer\">YAML::PP</a>."}, {"owner": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 4, "creation_date": 1533458198, "post_id": 51689801, "comment_id": 90346905, "body": "It&#39;s a bit confusing because you load several YAML modules. Effectively you are using <code>YAML.pm</code>&#39;s <code>LoadFile</code>. <code>YAML.pm</code> does not support any kind of flow style on multiple lines, that includes plain and quoted strings, and flow style collections <code>{ ... }</code>, <code>[ ... ]</code>. It probably never will"}], "answers": [{"tags": [], "owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "is_accepted": false, "score": 2, "last_activity_date": 1533421720, "creation_date": 1533421720, "answer_id": 51689995, "question_id": 51689801, "link": "https://stackoverflow.com/questions/51689801/parsing-yaml-in-perl-code-yaml-load-err-bad-map-element/51689995#51689995", "title": "Parsing yaml in perl --&gt; Code: YAML_LOAD_ERR_BAD_MAP_ELEMENT", "body": "<p>Looking at the <a href=\"https://metacpan.org/pod/YAML::Tiny\" rel=\"nofollow noreferrer\">cpan page</a> </p>\n\n<pre><code>In exchange for this adding this extreme flexibility, it provides support \nfor only a limited subset of YAML. But the subset supported contains most \nof the features for the more common uses of YAML.\n</code></pre>\n\n<p>So I think you might need to try a more complete YAML parser</p>\n\n<p>If you didn't fancy that then you could investigate a command line utility to do the parsing, such as <a href=\"https://yq.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\"><code>yq</code></a> or another YAML to JSON conversion and process as JSON.</p>\n"}, {"tags": [], "owner": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "is_accepted": false, "score": 6, "last_activity_date": 1533466451, "creation_date": 1533466451, "answer_id": 51693642, "question_id": 51689801, "link": "https://stackoverflow.com/questions/51689801/parsing-yaml-in-perl-code-yaml-load-err-bad-map-element/51693642#51693642", "title": "Parsing yaml in perl --&gt; Code: YAML_LOAD_ERR_BAD_MAP_ELEMENT", "body": "<p>The state of YAML in Perl is a bit unfortunate, because there are several modules which support different features.</p>\n\n<p>YAML::Syck, YAML::XS and YAML::PP can parse your example. YAML::XS is probably a good choice right now.</p>\n\n<p><a href=\"https://metacpan.org/pod/YAML\" rel=\"noreferrer\">YAML.pm</a> was the first perl module for YAML, and it was written for YAML 1.0.</p>\n\n<p><a href=\"https://metacpan.org/pod/YAML::Syck\" rel=\"noreferrer\">YAML::Syck</a> is based on libsyck, which was written for YAML 1.0. It can parse more than YAML.pm though.</p>\n\n<p><a href=\"https://metacpan.org/pod/YAML::XS\" rel=\"noreferrer\">YAML::XS</a> is based on libyaml, written for YAML 1.1. You should be able to parse most YAML with it, and libyaml is used in (or was ported to) many other languages.</p>\n\n<p><a href=\"https://metacpan.org/pod/YAML::Tiny\" rel=\"noreferrer\">YAML::Tiny</a> just supports a subset of YAML, which does not include flow collections <code>{ ... }</code>, <code>[ ... ]</code> and aliases/anchors (<code>&amp;x</code>, <code>*x</code>)</p>\n\n<p><a href=\"https://metacpan.org/pod/YAML::PP\" rel=\"noreferrer\">YAML::PP</a> is pretty new and already can parse a lot, but it's also not complete yet. It aims to parse YAML 1.2 (and it will also partially support 1.1 in the future) Disclaimer: I'm the author</p>\n\n<p>Here you can find my slides from the London Perl Workshop 2017:\n<a href=\"https://perlpunk.github.io/slides.lpw2017/yaml-where-and-how-to-use/\" rel=\"noreferrer\">https://perlpunk.github.io/slides.lpw2017/yaml-where-and-how-to-use/</a></p>\n\n<p>Starting at slide 24 you'll find a quick overview over the 5 modules.</p>\n"}], "owner": {"reputation": 61, "user_id": 3309525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cdf77b979cfe8f4c2104110da978ed3?s=128&d=identicon&r=PG&f=1", "display_name": "user3309525", "link": "https://stackoverflow.com/users/3309525/user3309525"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 976, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1533466451, "creation_date": 1533419596, "last_edit_date": 1533420700, "question_id": 51689801, "link": "https://stackoverflow.com/questions/51689801/parsing-yaml-in-perl-code-yaml-load-err-bad-map-element", "title": "Parsing yaml in perl --&gt; Code: YAML_LOAD_ERR_BAD_MAP_ELEMENT", "body": "<p>I have a yaml file which is generated from another source as shown below. </p>\n\n<pre><code>connect1:\n   connect2:\n     - { level1 : name, level2: age,                                                        \n         level3: gender}\n</code></pre>\n\n<p>My code looks something like this --?</p>\n\n<pre><code>use YAML::Tiny qw(LoadFile);\nuse YAML;\nuse YAML::Loader;\nuse YAML::Syck;\nuse YAML qw(LoadFile);\nuse Data::Dumper;\n\n   my $data = LoadFile(\"file.yaml\");\n   my @config = $data-&gt;{connect1}-&gt;{connect2};\n   print Dumper(@config);\n</code></pre>\n\n<p>I'm getting this following error -->\nYAML Error: Invalid element in map\n   Code: YAML_LOAD_ERR_BAD_MAP_ELEMENT\n   Line: 3\n   Document: 1</p>\n\n<p>If level1 , level2 and leve3 are in the same line then I dont see this issue. \nI see the issue because of indentation I think. \nBut there is no way that I can change this file.yaml. \nSo is there a way in perl that I can still parse this yaml file without modifying the file.yaml?</p>\n"}, {"tags": ["excel", "perl", "file", "format"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 2854259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a36c4f4fed0dc56e9b372a88b53b570a?s=128&d=identicon&r=PG&f=1", "display_name": "user2854259", "link": "https://stackoverflow.com/users/2854259/user2854259"}, "edited": false, "score": 0, "creation_date": 1533406874, "post_id": 51682219, "comment_id": 90338703, "body": "Thanks for your reply.. But what i meant is that I used both the statements individually. I mean, i ran my code with the first statement only and then I ran the code with only the second statement. In either case I get the same error.  Also, I have used use strict and use warnings."}, {"owner": {"reputation": 74, "user_id": 10174297, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qtAdmX8f3AA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p04x3aqXW0xA_GnsWdAZM3apWltA/mo/photo.jpg?sz=128", "display_name": "James Skirving", "link": "https://stackoverflow.com/users/10174297/james-skirving"}, "reply_to_user": {"reputation": 27, "user_id": 2854259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a36c4f4fed0dc56e9b372a88b53b570a?s=128&d=identicon&r=PG&f=1", "display_name": "user2854259", "link": "https://stackoverflow.com/users/2854259/user2854259"}, "edited": false, "score": 1, "creation_date": 1533774284, "post_id": 51682219, "comment_id": 90474023, "body": "Yes I assumed they were run separately. The problem is that within each of those statements, you use my twice. my should only be used when initially declaring the variable."}], "tags": [], "owner": {"reputation": 74, "user_id": 10174297, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qtAdmX8f3AA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p04x3aqXW0xA_GnsWdAZM3apWltA/mo/photo.jpg?sz=128", "display_name": "James Skirving", "link": "https://stackoverflow.com/users/10174297/james-skirving"}, "is_accepted": false, "score": 2, "last_activity_date": 1533392817, "last_edit_date": 1533392817, "creation_date": 1533354067, "answer_id": 51682219, "question_id": 51682177, "link": "https://stackoverflow.com/questions/51682177/how-to-set-precision-to-2-in-while-writing-in-excel-using-perl/51682219#51682219", "title": "How to set precision to 2 in while writing in excel using perl?", "body": "<p>The problem here is that you're re-declaring <code>$AmountFormat</code> with <code>my</code> when you call <code>set_num_format</code>. The second use of <code>my $AmountFormat</code> creates a new undefined variable with the same as the old one. Remove the second <code>my</code> and it should work. </p>\n\n<p>You should also add</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>to stop Perl from allowing this to happen.</p>\n"}], "owner": {"reputation": 27, "user_id": 2854259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a36c4f4fed0dc56e9b372a88b53b570a?s=128&d=identicon&r=PG&f=1", "display_name": "user2854259", "link": "https://stackoverflow.com/users/2854259/user2854259"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533392817, "creation_date": 1533353248, "question_id": 51682177, "link": "https://stackoverflow.com/questions/51682177/how-to-set-precision-to-2-in-while-writing-in-excel-using-perl", "title": "How to set precision to 2 in while writing in excel using perl?", "body": "<p>I need to write some nos into excel file using perl.\nFor ex, let the nos be 10 , 11.25 , 6.15.</p>\n\n<p>I have no issues with 11.25 and 6.15 because they get written as they are. \nBut I want 10 to be written as 10.00</p>\n\n<p>My code is as:</p>\n\n<pre><code>    my $Amountformat = $workbook1-&gt;add_format();\n    my $Amountformat-&gt;set_num_format(0x02);\n    $worksheet1-&gt;write_number($row,$col,$Amount,$Amountformat);\n</code></pre>\n\n<p>On doing so I get error as \"Can't call method \"set_num_format\" on an undefined value at header.pl\"</p>\n\n<p>I tried with </p>\n\n<pre><code>    my $Amountformat-&gt;set_num_format('0x02'); and \n    my $Amountformat-&gt;set_num_format(\"0x02\"); \n</code></pre>\n\n<p>but still i get the same error. </p>\n\n<p>My header files are use </p>\n\n<pre><code>    Spreadsheet::ParseExcel;\n    use Spreadsheet::WriteExcel;\n</code></pre>\n\n<p>I am unable to understand the cause of error as i am new to perl.\nCan you pls help me resolve the error, or guide me some alternative using which i can write 10 as 10.00 in excel file. </p>\n\n<p>Thanks in advance...</p>\n"}, {"tags": ["perl", "google-people"], "answers": [{"tags": [], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "is_accepted": true, "score": 2, "last_activity_date": 1533402647, "creation_date": 1533402647, "answer_id": 51687870, "question_id": 51681503, "link": "https://stackoverflow.com/questions/51681503/how-do-you-make-google-people-api-calls-with-moogoogle-perl-module/51687870#51687870", "title": "How do you make Google People API calls with Moo::Google Perl module?", "body": "<p>Solved with a lower level method, <code>api_query()</code>:</p>\n\n<pre><code>#! /usr/bin/env perl\nuse Moo::Google;\nuse Data::Dumper qw (Dumper);\n\nmy $gapi = Moo::Google-&gt;new(debug =&gt; 0);\nmy $user = 'me@gmail.com';\n\n$gapi-&gt;auth_storage-&gt;setup({ type =&gt; 'jsonfile', path =&gt; 'config.json' });\n$gapi-&gt;user($user);\n$gapi-&gt;do_autorefresh;\n\n$res = $gapi-&gt;api_query( {\n    httpMethod =&gt; 'get',\n    path =&gt; 'https://people.googleapis.com/v1/people/me',\n    options =&gt; { personFields =&gt; 'emailAddresses' }\n});\n\nprint Dumper $res;\n</code></pre>\n\n<p>If there is a better way, I'd be interested in hearing.</p>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 51687870, "answer_count": 1, "score": 2, "last_activity_date": 1533402647, "creation_date": 1533342940, "question_id": 51681503, "link": "https://stackoverflow.com/questions/51681503/how-do-you-make-google-people-api-calls-with-moogoogle-perl-module", "title": "How do you make Google People API calls with Moo::Google Perl module?", "body": "<p>I'm trying to use the <a href=\"https://metacpan.org/pod/Moo::Google\" rel=\"nofollow noreferrer\"><code>Moo::Google</code></a> module to make API calls to Google's People API. I have been able to successfully make a simple Calendar API calls but not the People API. I have the following code trying to use the People API:</p>\n\n<pre><code>#! /usr/bin/env perl\nuse Moo::Google;\n\nmy $gapi = Moo::Google-&gt;new(debug =&gt; 0);\nmy $user = 'me@gmail.com';\n\n$gapi-&gt;auth_storage-&gt;setup({ type =&gt; 'jsonfile', path =&gt; 'config.json'\n+ });\n$gapi-&gt;user($user);\n$gapi-&gt;do_autorefresh;\n\n$gapi-&gt;People-&gt;People-&gt;get({'resourceName'  =&gt; 'people/me', 'personFields' =&gt; 'emailAddresses'})-&gt;json;\n</code></pre>\n\n<p>However, this returns <code>undefined</code>. I've tried may different variations but no luck. </p>\n"}, {"tags": ["perl", "opendir"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1533334290, "post_id": 51680621, "comment_id": 90324495, "body": "Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I.e. put your code in the right order (<code>use</code> statements first), make sure it runs (no <code>return</code> outside of functions), etc."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1533334336, "post_id": 51680621, "comment_id": 90324504, "body": "What&#39;s line 24 of backup_script.pl?"}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1533337310, "post_id": 51680621, "comment_id": 90325099, "body": "Are you sure your source code file is saved as UTF8 encoding? Does the error disappear if you rename the file <code>1. Macro de solicita&#231;&#227;o de Desglose</code> to something without accents (and same of directory above it)?"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1533340578, "post_id": 51680621, "comment_id": 90325682, "body": "As a general observation (i.e.: not suggesting this will fix this specific problem), I would recommend using forward slashes as a path separator rather than backslashes. It does work on Windows and does simplify things."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9922624, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fdCov.jpg?s=128&g=1", "display_name": "Vinicius Muniz de Melo", "link": "https://stackoverflow.com/users/9922624/vinicius-muniz-de-melo"}, "edited": false, "score": 0, "creation_date": 1533342470, "post_id": 51681267, "comment_id": 90325959, "body": "Man, this work for me, thanks A LOT, this is driving me nuts."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533348497, "post_id": 51681267, "comment_id": 90326691, "body": "You can also use <code>encode(&quot;cp&quot;.Win32::GetACP(), $string)</code>"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1533472018, "post_id": 51681267, "comment_id": 90349897, "body": "Yes, it looks like your editor is using a different encoding than Perl, which uses UTF-8."}], "tags": [], "owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "is_accepted": true, "score": 4, "last_activity_date": 1533340425, "last_edit_date": 1533340425, "creation_date": 1533340093, "answer_id": 51681267, "question_id": 51680621, "link": "https://stackoverflow.com/questions/51680621/error-when-i-try-to-opendir/51681267#51681267", "title": "Error when i try to opendir", "body": "<p>Yes, it's probably the special characters in the path. At least I could reproduce the described behavior trying to <code>opendir()</code> a directory <code>1. Macro de solicita\u00e7\u00e3o de Desglose</code> in an UTF-8 encoded script on Windows.</p>\n\n<p>Try to use <a href=\"https://metacpan.org/pod/Encode::Locale\" rel=\"nofollow noreferrer\">Encode::Locale</a> to properly encode the string prior passing it to <code>opendir()</code>.</p>\n\n<pre><code>...\nuse Encode::Locale;\nuse Encode;\n...\n$source1 = encode(locale =&gt; 'N:\\NBS_AR\\COLLECTION\\1.0 Times\\2.0 Collections M\u00e9xico\\1. Macro de solicita\u00e7\u00e3o de Desglose');\n...\n</code></pre>\n\n<p>That worked for me.</p>\n"}], "owner": {"reputation": 31, "user_id": 9922624, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fdCov.jpg?s=128&g=1", "display_name": "Vinicius Muniz de Melo", "link": "https://stackoverflow.com/users/9922624/vinicius-muniz-de-melo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 51681267, "answer_count": 1, "score": 2, "last_activity_date": 1533342738, "creation_date": 1533334105, "last_edit_date": 1533342738, "question_id": 51680621, "link": "https://stackoverflow.com/questions/51680621/error-when-i-try-to-opendir", "title": "Error when i try to opendir", "body": "<p>I am stuck on this piece of code. Maybe the cause is the accented characters inn the path, I don't know. The code that I'm using is below</p>\n\n<pre><code>my $var2 = realpath('C:\\Users\\brmelovi\\Script\\backups');\n$source1 = 'N:\\NBS_AR\\COLLECTION\\1.0 Times\\2.0 Collections M\u00e9xico\\1. Macro de solicita\u00e7\u00e3o de Desglose';\n$name1   = 'macro';\n\nmy $absol = path($source1)-&gt;absolute;\nmy @dire  = $absol-&gt;children( qr/^$name1/);\nsay $dire[0];\n$dire[0]-&gt;copy($var2);\n\nreturn 1;\n</code></pre>\n\n<p>The file and the path exist. My code already works with another path and name, like this</p>\n\n<pre><code>my $var2 = realpath('C:\\Users\\brmelovi\\Script\\backups');\n$source1 = 'N:\\NBS_AR\\SISTEMAS AR\\Macro Credit Analysis &amp; Collection';\n$name1   = 'Credit Analysis';\n\nmy $absol = path($source1) -&gt; absolute;\nmy @dire  = $absol-&gt;children( qr/^$name1/);\nsay $dire[0];\n$dire[0]-&gt;copy($var2);\n\nreturn 1;\n</code></pre>\n\n<p>My header and <code>use</code> statements</p>\n\n<pre><code>use v5.28;\nuse strict;\nuse utf8;\nuse warnings;\n\nuse Cwd 'realpath';\nuse autodie;\nuse Path::Tiny;\n</code></pre>\n\n<p>The error message is</p>\n\n<blockquote>\n  <p>Error opendir on 'N:/NBS_AR/COLLECTION/1.0 Times/2.0 Collections M\u0398xico/1. Macro de solicita\u03c4\u03c0o de Desglose': No such file or directory at backup_script.pl line 24.</p>\n</blockquote>\n\n<p><strong>Edit:</strong>\nProblem solved by the use of </p>\n\n<pre><code>use Encode::Local;\nuse Encode;\n</code></pre>\n\n<p>Thanks for the solution sticky bit.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1533328889, "post_id": 51679652, "comment_id": 90322931, "body": "Are you on MSWin? They have different quoting rules, you can&#39;t copy the command line directly  from *nix."}, {"owner": {"reputation": 1, "user_id": 10178103, "user_type": "registered", "profile_image": "https://graph.facebook.com/1899861216723378/picture?type=large", "display_name": "Sara Zahran", "link": "https://stackoverflow.com/users/10178103/sara-zahran"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1533337778, "post_id": 51679652, "comment_id": 90325195, "body": "where can i find the suitable command lines"}], "answers": [{"comments": [{"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 1, "creation_date": 1533330203, "post_id": 51679860, "comment_id": 90323369, "body": "Although it could be written better as something like <code>perl -ne &quot;print join qq&#47;\\t&#47;, (split &#47;\\t&#47;)[0..2,-1] unless &#47;^#&#47;&quot; input.txt</code>"}, {"owner": {"reputation": 1, "user_id": 10178103, "user_type": "registered", "profile_image": "https://graph.facebook.com/1899861216723378/picture?type=large", "display_name": "Sara Zahran", "link": "https://stackoverflow.com/users/10178103/sara-zahran"}, "edited": false, "score": 0, "creation_date": 1533334905, "post_id": 51679860, "comment_id": 90324629, "body": "yes, i am using windows cmd prompt. i tried the double quotes but now the comment is: perl is not recognized as an internal or external command."}, {"owner": {"reputation": 1, "user_id": 10178103, "user_type": "registered", "profile_image": "https://graph.facebook.com/1899861216723378/picture?type=large", "display_name": "Sara Zahran", "link": "https://stackoverflow.com/users/10178103/sara-zahran"}, "edited": false, "score": 0, "creation_date": 1533334939, "post_id": 51679860, "comment_id": 90324640, "body": "and the same comment appears when I tried your suggested string"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 10178103, "user_type": "registered", "profile_image": "https://graph.facebook.com/1899861216723378/picture?type=large", "display_name": "Sara Zahran", "link": "https://stackoverflow.com/users/10178103/sara-zahran"}, "edited": false, "score": 1, "creation_date": 1533346890, "post_id": 51679860, "comment_id": 90326524, "body": "@Sara: Have you installed the Perl language?"}, {"owner": {"reputation": 1, "user_id": 10178103, "user_type": "registered", "profile_image": "https://graph.facebook.com/1899861216723378/picture?type=large", "display_name": "Sara Zahran", "link": "https://stackoverflow.com/users/10178103/sara-zahran"}, "edited": false, "score": 0, "creation_date": 1533369660, "post_id": 51679860, "comment_id": 90329774, "body": "I installed active perl for windows but i still get the same comment"}, {"owner": {"reputation": 1, "user_id": 10178103, "user_type": "registered", "profile_image": "https://graph.facebook.com/1899861216723378/picture?type=large", "display_name": "Sara Zahran", "link": "https://stackoverflow.com/users/10178103/sara-zahran"}, "edited": false, "score": 0, "creation_date": 1533377540, "post_id": 51679860, "comment_id": 90331282, "body": "I seems that perl was not properly installed, now i solved this problem and i used the string you mentioned above to extract hits and scores only. thank you so much for your help"}, {"owner": {"reputation": 1, "user_id": 10178103, "user_type": "registered", "profile_image": "https://graph.facebook.com/1899861216723378/picture?type=large", "display_name": "Sara Zahran", "link": "https://stackoverflow.com/users/10178103/sara-zahran"}, "edited": false, "score": 0, "creation_date": 1533378025, "post_id": 51679860, "comment_id": 90331380, "body": "@Borodin: i used another command to convert this generated txt file to a matrix, which is a very long one, but I get a comment that: unquoted string &quot;t&quot; may lash with future reserved word at -e line 1. do you know and better command to help reach my approach, many thanks again for your valuable help"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1533328865, "creation_date": 1533328865, "answer_id": 51679860, "question_id": 51679652, "link": "https://stackoverflow.com/questions/51679652/print-hits-and-score-from-blast-output/51679860#51679860", "title": "print hits and score from blast output", "body": "<p>At a guess you're using a Windows cmd prompt. You need double quotes around your code instead of single quotes</p>\n\n<pre><code>perl -we \"while (&lt;&gt;) {next if /^#/; @col = split /\\t/; print join qq/\\t/, $col[0], $col[1], $col[2], $col[-1]}\" SZ_vs_Self_20160510_2.txt &gt; PROCESSED_SZ_vs_Self_20160510_2.txt\n</code></pre>\n\n<p>I would also suggest that this is rather too much code for a one-liner. Putting your code in a file would make it much easier to read</p>\n"}], "owner": {"reputation": 1, "user_id": 10178103, "user_type": "registered", "profile_image": "https://graph.facebook.com/1899861216723378/picture?type=large", "display_name": "Sara Zahran", "link": "https://stackoverflow.com/users/10178103/sara-zahran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533328865, "creation_date": 1533327846, "last_edit_date": 1592644375, "question_id": 51679652, "link": "https://stackoverflow.com/questions/51679652/print-hits-and-score-from-blast-output", "title": "print hits and score from blast output", "body": "<p>I am trying to print each query and hit with only % id and score from a blast output file using this string</p>\n<pre><code>perl -we 'while (&lt;&gt;) {next if /^#/; @col = split /\\t/; print join &quot;\\t&quot;, $col[0], $col[1], $col[2], $col[-1]}' SZ_vs_Self_20160510_2.txt &gt;PROCESSED_SZ_vs_Self_20160510_2.txt\n</code></pre>\n<p>but I get this comment</p>\n<blockquote>\n<p>&gt; was unexpected at this time</p>\n</blockquote>\n<h3>Deparsed Perl code</h3>\n<pre><code>#!perl -w\n\nwhile ( &lt;ARGV&gt; ) {\n    next if /^#/;\n    @col = split /\\t/;\n    print join &quot;\\t&quot;, $col[0], $col[1], $col[2], $col[-1];\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 107, "user_id": 9984548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c6d101dc9efad3bc87fea308e9fba5?s=128&d=identicon&r=PG&f=1", "display_name": "Pyjava", "link": "https://stackoverflow.com/users/9984548/pyjava"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1533324992, "post_id": 51678983, "comment_id": 90321346, "body": "perl inet.pl  Unrecognized escape \\K passed through at inet.pl line 3. Unrecognized escape \\d passed through at inet.pl line 3."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1533325001, "post_id": 51678983, "comment_id": 90321352, "body": "Try <code>my $a = qx&#39;ip -f inet addr show eth0| grep -Po &quot;inet \\K[\\d.]+&quot;&#39;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 6, "last_activity_date": 1533374158, "last_edit_date": 1533374158, "creation_date": 1533325080, "answer_id": 51679126, "question_id": 51678983, "link": "https://stackoverflow.com/questions/51678983/perl-script-for-getting-inet-from-ip-command/51679126#51679126", "title": "Perl script for getting inet from ip command", "body": "<p>Turn on <a href=\"http://p3rl.org/warnings\" rel=\"nofollow noreferrer\">warnings</a> to get a hint:</p>\n\n<pre><code>Unrecognized escape \\K passed through at ./1.pl line 5.\nUnrecognized escape \\d passed through at ./1.pl line 5.\n</code></pre>\n\n<p>Single quotes inside backticks aren't nested, you need to backslash the backslashes:</p>\n\n<pre><code>my $a = `ip -f inet addr show eth0| grep -Po 'inet \\\\K[\\\\d.]+'`;\n</code></pre>\n\n<p>Using <code>$a</code> for a lexical variable is wrong, it can cause weird bugs when <a href=\"http://p3rl.org/sort\" rel=\"nofollow noreferrer\">sort</a> is later used which uses <code>$a</code> as a special variable. Use a more meaningful name.</p>\n\n<p>Moreover, calling <code>grep</code> from Perl is usually not needed, you can match the string in Perl itself:</p>\n\n<pre><code>my ($ip) = `ip -f inet addr show eth0` =~ /inet ([\\d.]+)/;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my ($ip) = `ip -f inet addr show eth0` =~ /inet \\K[\\d.]+/g;\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 9984548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c6d101dc9efad3bc87fea308e9fba5?s=128&d=identicon&r=PG&f=1", "display_name": "Pyjava", "link": "https://stackoverflow.com/users/9984548/pyjava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1533374158, "creation_date": 1533324425, "question_id": 51678983, "link": "https://stackoverflow.com/questions/51678983/perl-script-for-getting-inet-from-ip-command", "title": "Perl script for getting inet from ip command", "body": "<p>I am trying to get the inet using ip command it is working fine on cmd prompt but if i add it in perl script, it is not executing as expected. Script is below:-</p>\n\n<pre><code>ip.pl\n\nuse strict;\nmy $a = `ip -f inet addr show eth0| grep -Po 'inet \\K[\\d.]+'`;\nchomp($a);\nprint $a;\n</code></pre>\n\n<p>Executing above with \"perl a.pl\" returns nothing but \"ip -f inet addr show eth0| grep -Po 'inet \\K[\\d.]+'\" returns inet value.\nHow to get it executed using perl script?</p>\n"}, {"tags": ["linux", "perl", "gdb"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1533301118, "post_id": 51673076, "comment_id": 90308973, "body": "What do you mean with \u201cbin file which is created from a Perl script\u201d? Is it a executable? If so, what format? You can use <code>file abc.bin</code> to get infos on the contents. And where did the core file come from? Is the <code>abc.bin</code> perhaps a Perl script, and the core file a core dump from the Perl interpreter?"}, {"owner": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 0, "creation_date": 1533301122, "post_id": 51673076, "comment_id": 90308977, "body": "Where does C come into the game?"}, {"owner": {"reputation": 71, "user_id": 9910028, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1vx8OZxEE68/AAAAAAAAAAI/AAAAAAAAAAA/hLuEHyOshlI/photo.jpg?sz=128", "display_name": "chirag", "link": "https://stackoverflow.com/users/9910028/chirag"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 1, "creation_date": 1533301281, "post_id": 51673076, "comment_id": 90309072, "body": "@amon using perlapp command from abc.pl file I am generating abc.bin, File command also gives binary file for abc.bin,  Core file generated when abc.bin was running."}, {"owner": {"reputation": 71, "user_id": 9910028, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1vx8OZxEE68/AAAAAAAAAAI/AAAAAAAAAAA/hLuEHyOshlI/photo.jpg?sz=128", "display_name": "chirag", "link": "https://stackoverflow.com/users/9910028/chirag"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1533301447, "post_id": 51673076, "comment_id": 90309198, "body": "@amon lets forget abc.bin file, is there a way to debug core file which is generated by abc.pl (perl script) file,"}, {"owner": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "edited": false, "score": 2, "creation_date": 1533304323, "post_id": 51673076, "comment_id": 90311202, "body": "Re: &quot;File command also gives binary file for abc.bin&quot;. What is the exact output from the <code>file</code> command?"}, {"owner": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "edited": false, "score": 4, "creation_date": 1533304551, "post_id": 51673076, "comment_id": 90311348, "body": "You can debug a core file generated by an executable. If you ran <code>&#47;usr&#47;bin&#47;perl</code> to run the script that generates the core dump, then run <code>gdb &#47;usr&#47;bin&#47;perl</code>. If you ran another executable, then it&#39;ll be something else.  If you run <code>file core_file</code>, it ought to tell you the executable name. What does it say?"}, {"owner": {"reputation": 71, "user_id": 9910028, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1vx8OZxEE68/AAAAAAAAAAI/AAAAAAAAAAA/hLuEHyOshlI/photo.jpg?sz=128", "display_name": "chirag", "link": "https://stackoverflow.com/users/9910028/chirag"}, "reply_to_user": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "edited": false, "score": 0, "creation_date": 1533362367, "post_id": 51673076, "comment_id": 90328488, "body": "Hi @MarkPlotnick Thanks, I have edited the output of file command in the question itself, Also, Please note that I tried &quot;gdb /usr/bin/perl abc.bin&quot; it dint help, It says that no symbolic information found."}, {"owner": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "edited": false, "score": 0, "creation_date": 1533522492, "post_id": 51673076, "comment_id": 90361042, "body": "Can you show the output of <code>gdb abc.bin</code> ? Just that, no other arguments. I think there may be a mismatch between the architecture that abc.bin was meant to run on and what your gdb was built to handle."}, {"owner": {"reputation": 71, "user_id": 9910028, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1vx8OZxEE68/AAAAAAAAAAI/AAAAAAAAAAA/hLuEHyOshlI/photo.jpg?sz=128", "display_name": "chirag", "link": "https://stackoverflow.com/users/9910028/chirag"}, "reply_to_user": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "edited": false, "score": 0, "creation_date": 1533536828, "post_id": 51673076, "comment_id": 90364396, "body": "@MarkPlotnick Done, Edited in question, Also would like to inform you the full scenario same have updated in question"}, {"owner": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "edited": false, "score": 1, "creation_date": 1533571059, "post_id": 51673076, "comment_id": 90384325, "body": "Thanks for the update. Now, gdb is complaining that <code>&quot;&#47;var&#47;storage&#47;cores&#47;abc.bin.11413&quot; is a core file. Please specify an executable to debug.</code> So, instead of running <code>gdb &#47;var&#47;storage&#47;cores&#47;abc.bin.11413</code>, which is the name of a core file, can you run gdb followed by the executable file that you ran? Maybe it&#39;s called <code>abc.bin</code>, maybe it&#39;s <code>app_name</code>. After we get gdb to start with no error messages, we can look into adding the core file."}, {"owner": {"reputation": 71, "user_id": 9910028, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1vx8OZxEE68/AAAAAAAAAAI/AAAAAAAAAAA/hLuEHyOshlI/photo.jpg?sz=128", "display_name": "chirag", "link": "https://stackoverflow.com/users/9910028/chirag"}, "reply_to_user": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "edited": false, "score": 0, "creation_date": 1533636386, "post_id": 51673076, "comment_id": 90408469, "body": "@MarkPlotnick Yeah, Thanks from answer I figured out that I need to install perl debugging info in order to get perl in debug bode, Thanks for your efforts"}], "answers": [{"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 2, "last_activity_date": 1533543762, "creation_date": 1533543762, "answer_id": 51703378, "question_id": 51673076, "link": "https://stackoverflow.com/questions/51673076/how-to-debug-core-file-generated-with-perl/51703378#51703378", "title": "How to debug core file generated with perl?", "body": "<p>You're lacking the debug info. My GDB says:</p>\n\n<pre><code>\u203a gdb /usr/bin/perl\nGNU gdb (GDB; openSUSE Tumbleweed) 8.1\nCopyright (C) 2018 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-suse-linux\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n&lt;http://bugs.opensuse.org/&gt;.\nFind the GDB manual and other documentation resources online at:\n&lt;http://www.gnu.org/software/gdb/documentation/&gt;.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from /usr/bin/perl...Missing separate debuginfo for /usr/bin/perl\nTry: zypper install -C \"debuginfo(build-id)=33dd6e73e6f617df00f76a78a397b854f49d6df1\"\n(no debugging symbols found)...done.\n(gdb) r -e CORE::dump\nStarting program: /usr/bin/perl -e CORE::dump\nMissing separate debuginfo for /lib64/ld-linux-x86-64.so.2\nTry: zypper install -C \"debuginfo(build-id)=d1f6bf237ba196265561924d1baaf522e036281f\"\nMissing separate debuginfo for /lib64/libm.so.6\nTry: zypper install -C \"debuginfo(build-id)=1fc13b3ef7db0024a3f401933c6da8b266a8e06c\"\nMissing separate debuginfo for /lib64/libdl.so.2\nTry: zypper install -C \"debuginfo(build-id)=b21e9d59d1465db80fa52e72a4803f1901202e6d\"\nMissing separate debuginfo for /lib64/libcrypt.so.1\nTry: zypper install -C \"debuginfo(build-id)=b043217f12c9950ff058956c57320d8b03cee06b\"\nMissing separate debuginfo for /lib64/libpthread.so.0\nTry: zypper install -C \"debuginfo(build-id)=b5ad7ea10e4e88d4e2cc038e5c3288bdea82e20b\"\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib64/libthread_db.so.1\".\nMissing separate debuginfo for /lib64/libc.so.6\nTry: zypper install -C \"debuginfo(build-id)=5926416cd74d1dfe53d37374041bca37ee80c598\"\n\nProgram received signal SIGABRT, Aborted.\n0x00007ffff705e367 in kill () from /lib64/libc.so.6\n</code></pre>\n\n<p>The package capabilities resolve to the package names: <code>glibc-debuginfo glibc-debugsource perl-base-debuginfo perl-debugsource</code></p>\n\n<p>After installing the missing packages there is a meaningful backtrace:</p>\n\n<pre><code>\u203a gdb /usr/bin/perl\nGNU gdb (GDB; openSUSE Tumbleweed) 8.1\nCopyright (C) 2018 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-suse-linux\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n&lt;http://bugs.opensuse.org/&gt;.\nFind the GDB manual and other documentation resources online at:\n&lt;http://www.gnu.org/software/gdb/documentation/&gt;.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from /usr/bin/perl...Reading symbols from /usr/lib/debug/usr/bin/perl-5.26.2-1.4.x86_64.debug...done.\ndone.\n(gdb) r -e CORE::dump\nStarting program: /usr/bin/perl -e CORE::dump\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib64/libthread_db.so.1\".\n\nProgram received signal SIGABRT, Aborted.\n0x00007ffff705e367 in kill () at ../sysdeps/unix/syscall-template.S:78\n78      T_PSEUDO (SYSCALL_SYMBOL, SYSCALL_NAME, SYSCALL_NARGS)\n(gdb) bt full\n#0  0x00007ffff705e367 in kill () at ../sysdeps/unix/syscall-template.S:78\nNo locals.\n#1  0x00005555555a42e9 in Perl_my_unexec (my_perl=&lt;optimized out&gt;) at perl.c:3685\nNo locals.\n#2  0x0000555555678554 in Perl_pp_goto (my_perl=0x555555956260) at pp_ctl.c:3082\n        sp = &lt;optimized out&gt;\n        retop = 0x0\n        ix = &lt;optimized out&gt;\n        cx = &lt;optimized out&gt;\n        enterops = {0x0, 0xeda3fe532dabdd00, 0x555555712140 &lt;arg_counts&gt;, 0x5555559591e0, 0x555555956260, 0x7fffffffd458, 0x5555559758c0,\n          0x555555956260, 0x555555956260, 0x5555556391e1 &lt;Perl_sv_free2+97&gt;, 0x5555559758c0, 0x555555956260, 0xffffffffffffffff,\n          0x55555566945e &lt;Perl_free_tmps+78&gt;, 0x5555559758c0, 0x0, 0x1, 0x5555555a9efd &lt;perl_parse+5165&gt;, 0x555555956260, 0x0,\n          0x555555582800 &lt;xs_init&gt;, 0x0, 0x0, 0x100000000000001, 0x7fefffffffffffff, 0x555555956980, 0x6400000000, 0x0, 0x0, 0x0,\n          0x54552e45445f6564, 0x6500382d46, 0x0, 0x0, 0x0, 0x2020002020000000, 0x6, 0x405, 0x1, 0x21b6, 0x0, 0x103, 0x0, 0x1000, 0x0,\n          0x5b59e189, 0x13c9eb00, 0x5b59e189, 0x13c9eb00, 0x5b59e189, 0x13c9eb00, 0x0, 0x0, 0x0, 0x0, 0x6e00000061, 0x0, 0x770000007c, 0x2,\n          0x0, 0x0, 0x0, 0x0, 0x0}\n        label = &lt;optimized out&gt;\n        label_len = 0\n        label_flags = &lt;optimized out&gt;\n        do_dump = true\n        must_have_label = 0x555555712332 \"goto must have label\"\n#3  0x000055555562b1d6 in Perl_runops_standard (my_perl=0x555555956260) at run.c:42\n        op = &lt;optimized out&gt;\n#4  0x00005555555ab027 in S_run_body (oldscope=&lt;optimized out&gt;, my_perl=&lt;optimized out&gt;) at perl.c:2532\nNo locals.\n#5  perl_run (my_perl=0x555555956260) at perl.c:2455\n        oldscope = 1\n        ret = &lt;optimized out&gt;\n        cur_env = {je_prev = 0x5555559565e8, je_buf = {{__jmpbuf = {0, -4037406656558474170, 93824992421648, 140737488344128, 0, 0,\n                -7877616891281744826, -4037406257967473594}, __mask_was_saved = 0, __saved_mask = {__val = {0, 0, 0, 0, 0, 0, 0, 0, 0,\n                  17123809841394736384, 139637976727552, 93824996434528, 93824992421648, 17123809841394736384, 0, 0}}}}, je_ret = 0,\n          je_mustcatch = false, je_old_delaymagic = 0}\n        _p = &lt;optimized out&gt;\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n        _p = &lt;optimized out&gt;\n#6  0x00005555555826f2 in main (argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;, env=&lt;optimized out&gt;) at perlmain.c:123\n        exitstatus = &lt;optimized out&gt;\n        i = &lt;optimized out&gt;\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 9910028, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1vx8OZxEE68/AAAAAAAAAAI/AAAAAAAAAAA/hLuEHyOshlI/photo.jpg?sz=128", "display_name": "chirag", "link": "https://stackoverflow.com/users/9910028/chirag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 959, "favorite_count": 1, "accepted_answer_id": 51703378, "answer_count": 1, "score": 0, "last_activity_date": 1533543762, "creation_date": 1533300610, "last_edit_date": 1533540494, "question_id": 51673076, "link": "https://stackoverflow.com/questions/51673076/how-to-debug-core-file-generated-with-perl", "title": "How to debug core file generated with perl?", "body": "<p>I have abc.bin file which is created from a perl script file.</p>\n\n<p>Now how to debug a core file which is generated with this \"abc.bin\"</p>\n\n<p>By doing,</p>\n\n<pre><code>gdb abc.bin -c core_file \n</code></pre>\n\n<p>I am getting and error saying \"not in executable format: File format not recognized\"</p>\n\n<p>Is there any other option to debug such file in GDB or is there any other tool to do so</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Lets forget about abc.bin, Is there a way to debug core file generated with perl file, I have one abc.pl file which is causing a core dump, Is there way to debug this core with abc.pl ?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Output of file for abc.bin</p>\n\n<pre><code>ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), for GNU/Linux 2.2.5, dynamically linked (uses shared libs), stripped\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>Output of \"gdb abc.bin\"</p>\n\n<pre><code>&lt;M&gt; l1143425:/root # gdb /var/storage/cores/abc.bin.11413\nGNU gdb (GDB; Astaro Security Gateway) 7.9.1\nCopyright (C) 2015 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"i686-suse-linux\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n&lt;http://bugs.opensuse.org/&gt;.\nFind the GDB manual and other documentation resources online at:\n&lt;http://www.gnu.org/software/gdb/documentation/&gt;.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\n[New LWP 11413]\nCore was generated by `app_name [module_name]'.\nProgram terminated with signal SIGABRT, Aborted.\n#0  0xf7733440 in __kernel_vsyscall ()\n\"/var/storage/cores/abc.bin.11413\" is a core file.\nPlease specify an executable to debug.\n(gdb) bt\n#0  0xf7733440 in __kernel_vsyscall ()\n#1  0xf754bbb0 in ?? ()\n#2  0xf768f000 in ?? ()\n#3  0xf754d4e5 in ?? ()\n#4  0x00000006 in ?? ()\n#5  0xffba33e0 in ?? ()\n#6  0xf64b6185 in ?? ()\n#7  0x00000000 in ?? ()\n(gdb) f 2\n#2  0xf768f000 in ?? ()\n(gdb) list\nNo symbol table is loaded.  Use the \"file\" command.\n(gdb)\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>Scenario :</p>\n\n<ol>\n<li>I have a perl file lets say abc.pl</li>\n<li>Using perlapp I am converting this perl file to executable lets say abc.bin</li>\n<li>Now I am running this abc.bin as a simple executable, not using perl, So now debug using GDB is possible? Is there any other way to debug?</li>\n</ol>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1533299082, "post_id": 51672563, "comment_id": 90307691, "body": "Is this homework?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 3, "creation_date": 1533299951, "post_id": 51672563, "comment_id": 90308185, "body": "Have you tried using <a href=\"https://perldoc.perl.org/functions/int.html\" rel=\"nofollow noreferrer\"><code>int</code></a> instead of <code>abs</code>?"}, {"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1533300186, "post_id": 51672563, "comment_id": 90308335, "body": "@simbabque I hope not, they are using a truly ancient version of Perl."}], "answers": [{"tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": true, "score": 2, "last_activity_date": 1533300156, "creation_date": 1533300156, "answer_id": 51672933, "question_id": 51672563, "link": "https://stackoverflow.com/questions/51672563/compare-integer-values-before-decimal-in-perl-code/51672933#51672933", "title": "compare integer values before decimal in perl code", "body": "<p>You are using the wrong function <code>abs()</code> doesn't do what you think it does. <code>abs()</code> converts a negative number to a positive one. you need <code>int()</code> to remove the part of the number after the decimal point.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1533309421, "last_edit_date": 1592644375, "creation_date": 1533305062, "answer_id": 51674403, "question_id": 51672563, "link": "https://stackoverflow.com/questions/51672563/compare-integer-values-before-decimal-in-perl-code/51674403#51674403", "title": "compare integer values before decimal in perl code", "body": "<p>You have been using <a href=\"https://perldoc.pl/functions/abs\" rel=\"nofollow noreferrer\"><code>abs()</code></a>.</p>\n<blockquote>\n<p><strong>abs VALUE</strong></p>\n<p><strong>abs</strong></p>\n<p>Returns the absolute value of its argument. If VALUE is omitted, uses <code>$_</code>.</p>\n</blockquote>\n<p><code>abs()</code> basically removes the minus sign from a number. Pass it -27.8978 and it will return 27.8978. Pass it 27.8978 and it will give you the same value back. It does nothing to change the size of the number.</p>\n<p>It sounds like you want <a href=\"https://perldoc.pl/functions/int\" rel=\"nofollow noreferrer\"><code>int()</code></a>.</p>\n<blockquote>\n<p><strong>int EXPR</strong></p>\n<p><strong>int</strong></p>\n<p>Returns the integer portion of EXPR. If EXPR is omitted, uses $_</p>\n</blockquote>\n<p>I think you're confused by definitions. You say:</p>\n<blockquote>\n<p>I've use abs to take the integer value before decimal but it's taking full integer like 27.8978 instead of 27</p>\n</blockquote>\n<p>An integer is a <em>whole number</em>. It is <em>just</em> the portion of the number that comes before the decimal point. 27.8978 is <em>not</em> a &quot;full integer&quot;, it is a floating point number (also known as a real number).</p>\n"}], "owner": {"reputation": 29, "user_id": 9475065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd15baa3bf38f3e806f79bfc62cf1fe5?s=128&d=identicon&r=PG&f=1", "display_name": "Sonal", "link": "https://stackoverflow.com/users/9475065/sonal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 51672933, "answer_count": 2, "score": -1, "last_activity_date": 1533309421, "creation_date": 1533299009, "question_id": 51672563, "link": "https://stackoverflow.com/questions/51672563/compare-integer-values-before-decimal-in-perl-code", "title": "compare integer values before decimal in perl code", "body": "<p>Input\n     when A, B, C are this:\n     A = 27.629999\n     B =  29.709202\n     C = -0.070</p>\n\n<pre><code> Then output need to be:\n **it should not print anything as 27(=A) matches with {B+ (B*C)} =27 or \n(val2+ val3)= 27\n</code></pre>\n\n<p>below is the code I've use abs to take the integer value before decimal but it's taking full integer like 27.8978 instead of 27</p>\n\n<pre><code>#!/tools/xgs/perl/5.8.5/bin/perl -w\n#!/usr/bin/perl\n\n    use strict;\n    use warnings;\n\n\n          my $val1 = abs($A) ;\n          my $val2 = $B ;\n          my $val3 = $val2 * ($C) ;\n          my $val4 = abs ($val2 + $val3) ;\n\n          if ($val1 ne $val4)\n   {\n        print \" $val1 not equal to $val4\\n\";\n    }\n\n\n******************************\n Input\n when A, B, C are this:\n A = 27.629999\n B =  29.709202\n C = -0.070\n\n Then output need to be:\n **it should not print anything as 27(=A) matches with {B+ (B*C)} =27 or \n(val2+ val3)= 27\n\n Mean to say while comparing it should consider the integer before decimal.\n\n when A,B,C are this:\n A= 27.56\n B= 25.678\n C= 0\n\n output in this case:\n A (27) is not matching with {B+(B*C)} = 25+(25*0) =25\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "edited": false, "score": 0, "creation_date": 1533288557, "post_id": 51669156, "comment_id": 90301581, "body": "Try changing the skiprow == to eq.  You&#39;re only doing string comparisons, right?"}, {"owner": {"reputation": 229, "user_id": 1195443, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2eb518cdd36536d35b63cfb9d29f9af3?s=128&d=identicon&r=PG", "display_name": "clarkseth", "link": "https://stackoverflow.com/users/1195443/clarkseth"}, "reply_to_user": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "edited": false, "score": 0, "creation_date": 1533289757, "post_id": 51669156, "comment_id": 90302325, "body": "@user1717259 I did not understand...  I have $jumprow = $older_count{$INPUT}[0] if $currentinode == $inode;"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1533290472, "post_id": 51669156, "comment_id": 90302801, "body": "That&#39;s far too much code. Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 229, "user_id": 1195443, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2eb518cdd36536d35b63cfb9d29f9af3?s=128&d=identicon&r=PG", "display_name": "clarkseth", "link": "https://stackoverflow.com/users/1195443/clarkseth"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1533293040, "post_id": 51669156, "comment_id": 90304260, "body": "@melpomene i&#39;ve indicated the specific problem and row of my bug... if i exclude a block, problem doesn&#39;t appear :( . Your request is impossible to be applied... :( sound like understand why a building has crashed, publishing photo of three bricks"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1533293355, "post_id": 51669156, "comment_id": 90304448, "body": "You have not indicated the specific problem. You&#39;ve only given your interpretation of what&#39;s going on, not the facts, and I don&#39;t understand your description. You&#39;ve also not provided sufficient instructions to reproduce the problem. In my opinion what you&#39;ve posted here is not verifiable and possibly incomplete."}, {"owner": {"reputation": 229, "user_id": 1195443, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2eb518cdd36536d35b63cfb9d29f9af3?s=128&d=identicon&r=PG", "display_name": "clarkseth", "link": "https://stackoverflow.com/users/1195443/clarkseth"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1533293675, "post_id": 51669156, "comment_id": 90304635, "body": "@melpomene i&#39;ve add more information :( to my question"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1533293797, "post_id": 51669156, "comment_id": 90304712, "body": "... yeah, that&#39;s still not minimal. For example, do you really need <code>use English</code> to reproduce the problem? Or <code>strftime</code>? What about the code after the <code>foreach</code> loop that throws the warning? Why do you need that?"}, {"owner": {"reputation": 229, "user_id": 1195443, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2eb518cdd36536d35b63cfb9d29f9af3?s=128&d=identicon&r=PG", "display_name": "clarkseth", "link": "https://stackoverflow.com/users/1195443/clarkseth"}, "edited": false, "score": 0, "creation_date": 1533294082, "post_id": 51669156, "comment_id": 90304849, "body": "I need english for $OS_ERROR. Code after foreach is needed because i have to get line after my line detected  $lines [$i + n]."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1533294957, "post_id": 51669156, "comment_id": 90305292, "body": "I asked if those parts where needed to &quot;<i>to reproduce the problem</i>&quot;, not for your program. For example, anything that happens after the error is irrelevant. You can replace <code>$OS_ERROR</code> by <code>$!</code> and thereby remove the need for <code>use English</code> (and make the code more readable at the same time (also, you&#39;re already using <code>$!</code> all over the place))."}, {"owner": {"reputation": 229, "user_id": 1195443, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2eb518cdd36536d35b63cfb9d29f9af3?s=128&d=identicon&r=PG", "display_name": "clarkseth", "link": "https://stackoverflow.com/users/1195443/clarkseth"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1533295183, "post_id": 51669156, "comment_id": 90305412, "body": "@melpomene ok...i&#39;ve remove 40th rows..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1533296499, "post_id": 51669156, "comment_id": 90306135, "body": "I think  you&#39;re misunderstanding what an <i>MCVE</i> is. You should study <a href=\"https://stackoverflow.com/help/mcve\"><b><i>How to create a Minimal, Complete, and Verifiable Example</i></b></a> and apply it to your problem. It isn&#39;t just a matter of hacking superficially unnecessary statements out of your code, and you should probably be doing it yourself as part of our own debugging process."}, {"owner": {"reputation": 229, "user_id": 1195443, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2eb518cdd36536d35b63cfb9d29f9af3?s=128&d=identicon&r=PG", "display_name": "clarkseth", "link": "https://stackoverflow.com/users/1195443/clarkseth"}, "edited": false, "score": 0, "creation_date": 1533298784, "post_id": 51669156, "comment_id": 90307524, "body": "Ok this post you do not like, I delete everything. Thank you"}], "owner": {"reputation": 229, "user_id": 1195443, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2eb518cdd36536d35b63cfb9d29f9af3?s=128&d=identicon&r=PG", "display_name": "clarkseth", "link": "https://stackoverflow.com/users/1195443/clarkseth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1533295151, "creation_date": 1533287437, "last_edit_date": 1533295151, "question_id": 51669156, "link": "https://stackoverflow.com/questions/51669156/perl-encapsulate-data-from-file-with-regex-exprex-doesnt-work-without", "title": "Perl - Encapsulate data from file, with regex exprex doesn&#39;t work without $/ = &quot;\\n\\n&quot;", "body": "\n\n<p>I have a problem with record separator of following perl script.</p>\n\n<p>This perl script works as following:</p>\n\n<p>1) If exist, it read a .rotaton_statistics file with following entries (filename,inode,Max n. of rows)</p>\n\n<p>2) It encapsulate record with a specific regex, from all logrotate_*.log file</p>\n\n<p>2a)If a .rotation_statistics exist, it start from the next line to the value <em>Max n. of rows</em> content into this statistics_file</p>\n\n<p>2b)If a .rotation_statistics not exist, it start from 0 row of my logorotate*.log file.</p>\n\n<p>3) It write new .rotation_statistics file, with all information updated</p>\n\n<p>4) It split al data from @s_user array (@event array sorted by username) into \"parse_log.csv\" into a directory named as YYYY-MM (based on the year-month of my specific event)</p>\n\n<p><strong>Bug details:</strong></p>\n\n<p>In the specific, my loading events from logrotate_*.log files (line 42)  works only if i put $/ = \"\\n\\n\"; (at line 56).\nWith this separator, my skip row instruction doesn't work, because my row \"$. \" have a different relationship compared to $jumprow (that works with $line of file).</p>\n\n<p><strong>SKIP ROW Instructions:</strong></p>\n\n<blockquote>\n  <p>my $jumprow = 0; $jumprow = $older_count{$INPUT}[0] if $currentinode\n  == $inode;</p>\n</blockquote>\n\n<p>I have to remove line 56 of my code to solve this problem, but, if i do that, my @events array it remains empty.</p>\n\n<p>Could you make me understand where I'm wrong?</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>    #!/usr/bin/perl\nuse strict;\nuse warnings 'all';\n\n# Dynamic Variables\nmy %older_count;\nmy %older_inode;\nmy @newer_filelist;\nmy @events;\n\nmy $OLD_IN_FILE = \"\";\n\n# Static Variables\n# Directories\nmy $IN_DIR               = \"/tmp/appo/log\";    # Input Directories\nmy $OUTPUT_LOG_DIRECTORY = \"/tmp/appo/A14\";    # Output directory\n\n# Files\nmy $SPLITTED_OUTFILE = \"parse_log.csv\";           # Splitted by month output file\nmy $R_STATS          = \".rotation_statistics\";    # Rotation Statistic file\n\n## MAIN\n\n# Loading old statistics\nif (-e $R_STATS) { \n    open (STAT_FILE, $R_STATS) or die $!;\n    while( &lt;STAT_FILE&gt; ) {\n        my @lines = split /\\n/;\n        my ($file, $inode, $nrows ) = $lines[0] =~ /\\A(.\\w.*);(\\d.*);(\\d.*)/;   # Encapsulate values\n        push @{ $older_count{$file} }, $nrows;\n        push @{ $older_inode{$file} }, $inode;\n    }\n    close (STAT_FILE);\n}\n\n# Loading new events from log\nforeach my $INPUT (glob(\"$IN_DIR/logrotate_*.log\")) {\n    my $inode = (stat($INPUT))[1];\n    my $currentinode = $older_inode{$INPUT}[0];\n    my $jumprow = 0;\n    $jumprow = $older_count{$INPUT}[0] if $currentinode == $inode;\n\n    # Get current file stastistics\n    if ($INPUT ne $OLD_IN_FILE) {\n        my $count=(split /\\s+/, `wc -l $INPUT`)[0];\n        push @newer_filelist, {filename =&gt; $INPUT, inode =&gt; $inode, count =&gt; $count };\n\n    # Log opening\n    open my $fh, '&lt;', $INPUT ) or die $!;\n\n    # I have a problem with this separator\n    $/ = \"\\n\\n\";    # record separator\n    # I have a problem with this separator\n\n    while ( &lt;$fh&gt; ) {\n        next unless $. &gt; $jumprow;\n\n        # Log processing\n        my @lines = split /\\n/;\n        my $i     = 0;\n\n        foreach my $lines ( @lines ) {\n\n            # Take only Authentication rows and skip others\n            if ( $lines[$i] =~ m/\\A#\\d.\\d.+#\\d{4}\\s\\d{2}\\s\\d{2}\\s\\d{2}:\\d{2}:\\d{2}:\\d{3}#\\+\\d+#\\w+#\\/\\w+\\/\\w+\\/Authentication/ ) {\n\n                # Shows only LOGIN/LOGOUT access type and exclude GUEST users\n                if ( $lines[ $i + 2 ] =~ m/Login/ || $lines[ $i + 2 ] =~ m/Logout/ &amp;&amp; $lines[ $i + 3 ] !~ m/Guest/ ) {\n\n                    my ( $y, $m, $d, $time ) = $lines[$i] =~ /\\A#\\d.\\d.+#(\\d{4})\\s(\\d{2})\\s(\\d{2})\\s(\\d{2}:\\d{2}:\\d{2}:\\d{3})/;\n                    my ( $action ) = $lines[ $i + 2 ] =~ /(\\w+)/;\n                    my ( $user )   = $lines[ $i + 3 ] =~ /\\w+:\\s(.+)/;\n                    push @events, {\n                        date   =&gt; \"$y/$m/$d\",\n                        time   =&gt; $time,\n                        action =&gt; $action,\n                        user   =&gt; $user\n                    };  # Array loader\n                }\n            }\n            else {\n                next;\n            }\n            $i++;\n        }\n        $OLD_IN_FILE = $INPUT;\n    }\n    close( $fh );\n}\n\n# Print Log statistics for futher elaborations\nopen( STAT_FILE, '&gt;', $R_STATS ) or die $!;\nforeach my $my_filelist ( @newer_filelist ) {\n    print STAT_FILE join ';', $my_filelist-&gt;{filename}, $my_filelist-&gt;{inode}, \"$my_filelist-&gt;{count}\\n\";\n}\nclose( STAT_FILE );\n</code></pre>\n\n<p>My log files are</p>\n\n<h3>logrotate_1.0.log</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>#2.0^H#2018 05 29 10:09:45:969#+0200#Info#/Sys/Sec/Authentication#\n#BC-JAS-SEC#security#C0000A7103EC9E50000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER1#5##C47731E44D00000bae##0#Thread[HTTP Worker [@1473726842],5,Dedicated_Application_Thread]#Plain##\nLogin\nUser: USER4\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 05 29 11:51:06:541#+0200#Info#/Sy/Sec/Authentication#\n#BC-JAS-SEC#security#C0000A7103EC9F50000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER4#6##A40B81404D03c0bae##0#Thread[HTTP Worker [@1264376989],5,Dedicated_Application_Thread]#Plain##\nLogin\nUser: USER1\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 05 30 11:54:03:906#+0200#Info#/Sy/Sec/Informtion#\n#BC-JAS-SEC#security#C0000A7103EC9F50000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER4#6##A40B81404D03c0bae##0#Thread[HTTP Worker [@1264376989],5,Dedicated_Application_Thread]#Plain##\nLogin\nUser: USER4\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 05 30 11:59:59:156#+0200#Info#/Sys/Sec/Authentication#\n#BC-JAS-SEC#security#C0000A7103ECA0C#3935150000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER3#7##9ACF7Ec0bae##0#Thread[HTTP Worker [@124054179],5,Dedicated_Application_Thread]#Plain##\nLogout\nUser: USER3\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 05 30 08:32:11:348#+0200#Warn#/Sys/Sec/Authentication#\n#BC-JAS-SEC#security#C0000A7103ECA20E0000508C#3935150000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER2#03c0bae##0#Thread[HTTP Worker [@2033389552],5,Dedicated_Application_Thread]#Plain##\nLogin\nUser: USER4\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 05 30 11:09:54:978#+0200#Info#/Sys/Sec/Information#\n#BC-JAS-SEC#security#C0000A7103ECA20E0000508C#3935150000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER2#03c0bae##0#Thread[HTTP Worker [@2033389552],5,Dedicated_Application_Thread]#Plain##\nLogin\nUser: USER2\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 06 01 08:11:30:008#+0200#Warn#/Sys/Sec/Authentication#\n#BC-JAS-SEC#security#C0000A7103ECA20050000508C#3935150000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER2#0##E0E##0#Thread[HTTP Worker [@2033389552],5,Dedicated_Application_Thread]#Plain##\nLogout\nUser: USER2\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 06 01 11:11:29:658#+0200#Info#/Sys/Sec/Information#\n#BC-JAS-SEC#security#C0000A7103ECA20050000508C#3935150000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER2#0##E0E##0#Thread[HTTP Worker [@2033389552],5,Dedicated_Application_Thread]#Plain##\nLogout\nUser: USER1\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 06 02 12:00:00:254#+0200#Info#/Sys/Sec/Authentication#\n#BC-JAS-SEC#security#C0000A7103ECA20050000508C#3935150000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER2#0##E0E##0#Thread[HTTP Worker [@2033389552],5,Dedicated_Application_Thread]#Plain##\nLogout\nUser: Guest\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 06 02 12:05:00:465#+0200#Warn#/Sys/Sec/Authentication#\n#BC-JAS-SEC#security#C0000A7103ECA20050000508C#3935150000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER2#0##E0E##0#Thread[HTTP Worker [@2033389552],5,Dedicated_Application_Thread]#Plain##\nLogout\nUser: USER9\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 06 02 12:50:00:065#+0200#Warn#/Sys/Sec/Authentication#\n#BC-JAS-SEC#security#C0000A7103ECA20050000508C#3935150000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER2#0##E0E##0#Thread[HTTP Worker [@2033389552],5,Dedicated_Application_Thread]#Plain##\nLogin\nUser: USER9\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 05 24 10:43:38:683#+0200#Info#/Sys/Sec/Authentication#\n#BC-JAS-SEC#security#C0000A7103EC9E50000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER1#5##C47731E44D00000bae##0#Thread[HTTP Worker [@1473726842],5,Dedicated_Application_Thread]#Plain##\nLogin\nUser: USER1\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n</code></pre>\n\n<h3>logrotate_0.0.log</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>#2.0^H#2018 05 24 11:05:04:011#+0200#Info#/Sy/Sec/Authentication#\n#BC-JAS-SEC#security#C0000A7103EC9F50000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER4#6##A40B81404D03c0bae##0#Thread[HTTP Worker [@1264376989],5,Dedicated_Application_Thread]#Plain##\nLogin\nUser: USER4\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 05 24 11:04:59:410#+0200#Info#/Sy/Sec/Informtion#\n#BC-JAS-SEC#security#C0000A7103EC9F50000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER4#6##A40B81404D03c0bae##0#Thread[HTTP Worker [@1264376989],5,Dedicated_Application_Thread]#Plain##\nLogin\nUser: USER4\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 05 24 11:05:07:100#+0200#Info#/Sys/Sec/Authentication#\n#BC-JAS-SEC#security#C0000A7103ECA0C#3935150000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER3#7##9ACF7Ec0bae##0#Thread[HTTP Worker [@124054179],5,Dedicated_Application_Thread]#Plain##\nLogout\nUser: USER3\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 05 24 11:07:21:314#+0200#Warn#/Sys/Sec/Authentication#\n#BC-JAS-SEC#security#C0000A7103ECA20E0000508C#3935150000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER2#03c0bae##0#Thread[HTTP Worker [@2033389552],5,Dedicated_Application_Thread]#Plain##\nLogin\nUser: USER2\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 05 24 11:07:21:314#+0200#Info#/Sys/Sec/Information#\n#BC-JAS-SEC#security#C0000A7103ECA20E0000508C#3935150000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER2#03c0bae##0#Thread[HTTP Worker [@2033389552],5,Dedicated_Application_Thread]#Plain##\nLogin\nUser: USER2\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 05 26 10:48:02:458#+0200#Warn#/Sys/Sec/Authentication#\n#BC-JAS-SEC#security#C0000A7103ECA20050000508C#3935150000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER2#0##E0E##0#Thread[HTTP Worker [@2033389552],5,Dedicated_Application_Thread]#Plain##\nLogout\nUser: USER2\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n\n#2.0^H#2018 05 28 10:00:25:000#+0200#Info#/Sys/Sec/Information#\n#BC-JAS-SEC#security#C0000A7103ECA20050000508C#3935150000000004#common.com/irj#com.common.services.security.authentication.logincontext.table#USER2#0##E0E##0#Thread[HTTP Worker [@2033389552],5,Dedicated_Application_Thread]#Plain##\nLogout\nUser: USER0\nIP Address: 127.0.0.1\nAuthentication Stack: ticket\nAuthentication Stack Properties:\n</code></pre>\n\n<p>My Errors are:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>#2.#2018 08 02 21:00:41:740#+0200#Info#/System/Security/Authentication#\nUse of uninitialized value within @lines in pattern match (m//) at ./mylog.pl line 70, &lt;$fh&gt; line 10766.\nUse of uninitialized value within @lines in pattern match (m//) at ./mylog.pl line 70, &lt;$fh&gt; line 10766.\nUse of uninitialized value within @lines in pattern match (m//) at ./mylog.pl line 70, &lt;$fh&gt; line 10766.\n</code></pre>\n\n<p>And cause of this error is that row, that not detect my data, if i don't put $/ = \"\\n\\n\"; as record separator</p>\n\n<blockquote>\n  <p>if ( $lines[$i] =~\n  m/\\A#\\d.\\d.+#\\d{4}\\s\\d{2}\\s\\d{2}\\s\\d{2}:\\d{2}:\\d{2}:\\d{3}#+\\d+#\\w+#/\\w+/\\w+/Authentication/\n  ) {</p>\n</blockquote>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1533278578, "post_id": 51666440, "comment_id": 90296310, "body": "strawberry perl"}, {"owner": {"reputation": 29, "user_id": 7681987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EDduZ.jpg?s=128&g=1", "display_name": "Kim.K.H", "link": "https://stackoverflow.com/users/7681987/kim-k-h"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1533278982, "post_id": 51666440, "comment_id": 90296474, "body": "how about portable ACTIVEPERL software? any ideas where i can download it?"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1533285709, "post_id": 51666440, "comment_id": 90299839, "body": "Why are you looking for a portable version of Perl? It&#39;ll only run on whatever OS it&#39;s been compiled for."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1533287043, "post_id": 51666440, "comment_id": 90300650, "body": "What does this portable Perl CGI program need to do? Seems weird to ask for a program without specifying its functionality."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1533287744, "post_id": 51666440, "comment_id": 90301062, "body": "Do you want to just run some CGI-based code as part of developing it, or do you want to <i>host a server</i> on a machine you don&#39;t have admin rights on?"}, {"owner": {"reputation": 29, "user_id": 7681987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EDduZ.jpg?s=128&g=1", "display_name": "Kim.K.H", "link": "https://stackoverflow.com/users/7681987/kim-k-h"}, "edited": false, "score": 0, "creation_date": 1533791685, "post_id": 51666440, "comment_id": 90477681, "body": "i dont have the admin account on the computer where i would like to install the Portable CGi"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1533288898, "creation_date": 1533288898, "answer_id": 51669623, "question_id": 51666440, "link": "https://stackoverflow.com/questions/51666440/how-can-i-run-a-portable-perl-with-cgi-on-windows/51669623#51669623", "title": "How can I run a portable Perl with CGI on Windows?", "body": "<p>First, you need to distinguish some thing.</p>\n\n<h2>Perl</h2>\n\n<p>This is the language your code is written in. It is required to run your code. perl<sup>1</sup> itself is a program as well, which is written in a different programming language and needs to be compiled for your operating system.</p>\n\n<p>There are portable versions of <a href=\"http://strawberryperl.com/releases.html\" rel=\"nofollow noreferrer\">Strawberry Perl</a>, which is a pre-compiled version of Perl for Windows. You can just drop that on your computer and run without admin rights.</p>\n\n<h2>CGI</h2>\n\n<p>CGI is a technology. Older Perl versions included the <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod\" rel=\"nofollow noreferrer\">CGI.pm module</a>, but it has recently been removed from the Perl core. That means newer versions do not ship with it by default and you need to install it from the <a href=\"https://metacpan.org/\" rel=\"nofollow noreferrer\">CPAN</a>.</p>\n\n<p>CGI as a technology and especially the CGI.pm module are considered to be outdated, and using them in new projects is discouraged. You might find <a href=\"https://www.youtube.com/watch?v=jKOqtRMT85\" rel=\"nofollow noreferrer\">this talk by Sawyer X</a>, who is the current Perl release manager, entertaining and instructional.</p>\n\n<h2>Running a CGI program</h2>\n\n<p>In order to run a CGI program as a website, you need a web server. Typically one would use Apache 2. There are projects like <a href=\"https://www.apachefriends.org/index.html\" rel=\"nofollow noreferrer\">XAMPP for Windows</a> that bring a development environment with a prebuilt Apache server, MySQL database server, PHP, Perl and other technologies. There are portable versions of that.</p>\n\n<p>If you don't want to bother with all of that and only want to try CGI programs, you can use the Perl module <a href=\"https://metacpan.org/pod/distribution/App-CGIThis/bin/cgi_this\" rel=\"nofollow noreferrer\">App::CGIThis</a><sup>2</sup>, which turns the current directory you run it in into a web server using the Plack/PSGI technology stack.</p>\n\n<pre><code>$ cd projects\n$ dir\nindex.pl\n\n$ cgi_this\n</code></pre>\n\n<p>You can now access your <em>index.pl</em> with <a href=\"http://localhost:3000/index.pl\" rel=\"nofollow noreferrer\">http://localhost:3000/index.pl</a>.</p>\n\n<h2>You program</h2>\n\n<p>The code you want to run, written in Perl. This probably consists of a script that uses the CGI.pm module as well as some other, custom modules.</p>\n\n<h2>Dependencies</h2>\n\n<p>Your Perl program might require some things that are not part of the core Perl distribution, like CGI.pm. You will have to install these from CPAN. Your portable Strawberry Perl brings a cpan client that you can use to install stuff. </p>\n\n<hr>\n\n<p><sup>1)</sup> <em>Perl</em> is the language, <em>perl</em> is the name of the interpreter binary that runs Perl programs, and <em>PERL</em> is not related to the Perl programming language. <a href=\"https://en.wikipedia.org/wiki/Perl#Name\" rel=\"nofollow noreferrer\">See explanation here</a>.</p>\n\n<p><sup>2)</sup> Disclaimer: I am the author of that module.</p>\n"}], "owner": {"reputation": 29, "user_id": 7681987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EDduZ.jpg?s=128&g=1", "display_name": "Kim.K.H", "link": "https://stackoverflow.com/users/7681987/kim-k-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 0, "accepted_answer_id": 51669623, "answer_count": 1, "score": -4, "last_activity_date": 1533288898, "creation_date": 1533277371, "last_edit_date": 1533287804, "question_id": 51666440, "link": "https://stackoverflow.com/questions/51666440/how-can-i-run-a-portable-perl-with-cgi-on-windows", "title": "How can I run a portable Perl with CGI on Windows?", "body": "<p>I need a portable CGI Perl application.</p>\n\n<p>I don't have admin right on the computer where I will install/run the portable Perl CGI software.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 5674123, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/96b8df26eca0fc6e26e571b4491e0c20?s=128&d=identicon&r=PG&f=1", "display_name": "ajith.mk", "link": "https://stackoverflow.com/users/5674123/ajith-mk"}, "edited": false, "score": 0, "creation_date": 1533277607, "post_id": 51666128, "comment_id": 90295882, "body": "Yes. I thought &lt;&gt; will stop reading at new line though I have changed input record separator. This also means if I set $/ to space to read word by word, I will have to worry about this &quot;a line ending word\\nnext line first word&quot; being counted as &#39;word&#39;. Thanks for pointing this."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1533275870, "creation_date": 1533275870, "answer_id": 51666128, "question_id": 51665924, "link": "https://stackoverflow.com/questions/51665924/is-newline-treated-as-space-in-perl/51666128#51666128", "title": "is newline treated as space in perl", "body": "<p>You seem to think <code>&lt;&gt;</code> will still stop reading at a linefeed even though you changed the input record separator.</p>\n\n<hr>\n\n<p>Your input contains <code>61 20 62 0D 0A 63</code> or <code>a\u2420b\u240d\u240ac</code>.</p>\n\n<p>The first read reads <code>a\u2420</code>.</p>\n\n<p>You print <code>a\u2420</code>.<br>\nTo that, <code>$\\</code> gets added, giving <code>a\u2420\u240a</code>.<br>\nThen <code>:crlf</code> does its translation, giving <code>a\u2420\u240d\u240a</code>.</p>\n\n<p><strong>There is no other spaces in the file, so your second read reads the rest of the file: <code>b\u240d\u240ac</code>.</strong><br>\nThen <code>:crlf</code> does its translation, giving <code>b\u240ac</code>.</p>\n\n<p>You print <code>b\u240ac</code>.<br>\nTo that, <code>$\\</code> gets added, giving <code>b\u240ac\u240a</code>.<br>\nThen <code>:crlf</code> does its translation, giving <code>b\u240d\u240ac\u240d\u240a</code>.</p>\n\n<p>So, altogether, you get <code>a\u2420\u240d\u240ab\u240d\u240ac\u240d\u240a</code>, or <code>61 20 0D 0A 62 0D 0A 63 0D 0A</code>.</p>\n"}], "owner": {"reputation": 65, "user_id": 5674123, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/96b8df26eca0fc6e26e571b4491e0c20?s=128&d=identicon&r=PG&f=1", "display_name": "ajith.mk", "link": "https://stackoverflow.com/users/5674123/ajith-mk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 1, "accepted_answer_id": 51666128, "answer_count": 1, "score": 0, "last_activity_date": 1533275870, "creation_date": 1533274743, "question_id": 51665924, "link": "https://stackoverflow.com/questions/51665924/is-newline-treated-as-space-in-perl", "title": "is newline treated as space in perl", "body": "<p>consider this perl one liner</p>\n\n<pre><code>perl -e \"$\\=qq{\\n};$/=qq{ };while(&lt;&gt;){print;}\" \"perl.txt\" &gt; perlMod.txt\n</code></pre>\n\n<p>contents of perl.txt are</p>\n\n<pre><code>a b\nc\n</code></pre>\n\n<p>contents of perlMod.txt are</p>\n\n<pre><code>a\nb\nc\n</code></pre>\n\n<p>contents of perlMod.txt in hex are</p>\n\n<pre><code>61200D0A620D0A630D0A\n</code></pre>\n\n<p>Note that I have specified space as input record separator and \"\\n\" as default output record separator. I am expecting two '0D0A's after b(62 in hex). One 0D0A is the new line after b. The other 0D0A belongs to output record separator. Why is there only one 0D0A.</p>\n"}, {"tags": ["perl", "http", "header"], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1533246801, "post_id": 51662619, "comment_id": 90288713, "body": "Yup, I was just about to post ... :)  tested (v5.16)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533252151, "post_id": 51662619, "comment_id": 90290153, "body": "That&#39;s a dusty corner of CPAN that I didn&#39;t know about.Thank you!"}], "tags": [], "owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "is_accepted": true, "score": 12, "last_activity_date": 1533246677, "creation_date": 1533246677, "answer_id": 51662619, "question_id": 51662474, "link": "https://stackoverflow.com/questions/51662474/httprequest-replacing-underscores-with-hyphens-in-headers/51662619#51662619", "title": "HTTP::Request replacing underscores with hyphens in headers", "body": "<p>Try naming the header with a leading <code>:</code>, as per the documentation in <a href=\"https://metacpan.org/pod/HTTP::Headers#NON-CANONICALIZED-FIELD-NAMES\" rel=\"noreferrer\">HTTP::Headers</a> under \"NON-CANONICALIZED FIELD NAMES\":</p>\n\n<blockquote>\n  <p>The header field name spelling is normally canonicalized including the '_' to '-' translation. There are some application where this is not appropriate. Prefixing field names with ':' allow you to force a specific spelling.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11929658, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Kr6EUMwe5uU/AAAAAAAAAAI/AAAAAAAAADo/gGBlnH1LypQ/photo.jpg?sz=128", "display_name": "Edward Bush Jr.", "link": "https://stackoverflow.com/users/11929658/edward-bush-jr"}, "is_accepted": false, "score": 0, "last_activity_date": 1571956663, "last_edit_date": 1571956663, "creation_date": 1571936611, "answer_id": 58546036, "question_id": 51662474, "link": "https://stackoverflow.com/questions/51662474/httprequest-replacing-underscores-with-hyphens-in-headers/58546036#58546036", "title": "HTTP::Request replacing underscores with hyphens in headers", "body": "<p>I had the same problem too while trying to write out a location in a pages header via <code>CGI::Session</code>. I fixed it by replacing the underscore with <code>%5f</code> and it worked for me. In your case this might work:</p>\n\n<pre><code>$rq-&gt;header('X-FOO%5fBAR', \"xyzzy\");\n</code></pre>\n"}], "owner": {"reputation": 636, "user_id": 3333488, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/49Fx1.jpg?s=128&g=1", "display_name": "lash", "link": "https://stackoverflow.com/users/3333488/lash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1085, "favorite_count": 0, "accepted_answer_id": 51662619, "answer_count": 2, "score": 7, "last_activity_date": 1571956663, "creation_date": 1533245705, "question_id": 51662474, "link": "https://stackoverflow.com/questions/51662474/httprequest-replacing-underscores-with-hyphens-in-headers", "title": "HTTP::Request replacing underscores with hyphens in headers", "body": "<p>When specifying custom header containing underscores using <code>HTTP::Request</code> from <code>LWP::UserAgent</code>, the underscores are changed to hyphens:</p>\n\n<pre><code>use LWP::UserAgent;\n\nmy $rq = HTTP::Request-&gt;new(\"GET\", \"http://cpan.org\");\n$rq-&gt;header(\"X-FOO_BAR\", \"xyzzy\");\nprint $rq-&gt;as_string;\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>GET http://cpan.org\nX-FOO-BAR: xyzzy\n</code></pre>\n\n<p>Is there a way to turn this behavior off?</p>\n\n<ul>\n<li>perl v5.26.2</li>\n<li>LWP:UserAgent 1.9601</li>\n<li>linux 4.17.8-1-ARCH</li>\n</ul>\n"}, {"tags": ["perl", "file-io"], "comments": [{"owner": {"reputation": 2410, "user_id": 8217112, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FB7l5icjoDo/AAAAAAAAAAI/AAAAAAAACPA/jgQiuzBBY3c/photo.jpg?sz=128", "display_name": "noah", "link": "https://stackoverflow.com/users/8217112/noah"}, "edited": false, "score": 0, "creation_date": 1533234169, "post_id": 51660007, "comment_id": 90283499, "body": "I&#39;m kicking myself because I saw the answer the other day and now I can&#39;t find where I found it :("}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1533235667, "post_id": 51660007, "comment_id": 90284164, "body": "You might be thinking of <a href=\"https://stackoverflow.com/questions/6063835/need-perl-inplace-editing-of-files-not-on-command-line\">manipulating <code>$^I</code> and <code>@ARGV</code></a> (and also <a href=\"https://stackoverflow.com/q/9232059/168657\">here</a>)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1533235679, "post_id": 51660007, "comment_id": 90284172, "body": "If you process line by line (as you should) then you need to write out changed content to another file.  Once you are done, rename that file to the original.  Note <code>move</code> from <code>File::Copy</code> for this."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1533238421, "post_id": 51660007, "comment_id": 90285340, "body": "By the way, <code>open($fh, $mode, $path)</code> should be used instead of <code>open($fh, $mode . $path)</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1533238457, "post_id": 51660007, "comment_id": 90285353, "body": "@mob, I think that use a temporary backup like the OP&#39;s code now (to avoid losing data if a failure occurs)."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1533238795, "post_id": 51660007, "comment_id": 90285486, "body": "Not as far as you know ;)  And whether that matters or not depends on whether OP just wants to not worry about a backup file or whether OP wants to literally not create a backup file, even a short-lived one."}, {"owner": {"reputation": 2410, "user_id": 8217112, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FB7l5icjoDo/AAAAAAAAAAI/AAAAAAAACPA/jgQiuzBBY3c/photo.jpg?sz=128", "display_name": "noah", "link": "https://stackoverflow.com/users/8217112/noah"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1533244017, "post_id": 51660007, "comment_id": 90287768, "body": "@mob that <code>$^I</code> is what I was thinking of that I saw the other day. I didn&#39;t remember the local <code>@ARGV</code> part but I might be able to make that work."}, {"owner": {"reputation": 2410, "user_id": 8217112, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FB7l5icjoDo/AAAAAAAAAAI/AAAAAAAACPA/jgQiuzBBY3c/photo.jpg?sz=128", "display_name": "noah", "link": "https://stackoverflow.com/users/8217112/noah"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533244073, "post_id": 51660007, "comment_id": 90287786, "body": "@ikegami you are correct about the <code>,</code> instead of the <code>.</code>. That was a silly typo on my end. Didn&#39;t feel like dealing with copy/paste from my VM."}, {"owner": {"reputation": 2410, "user_id": 8217112, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FB7l5icjoDo/AAAAAAAAAAI/AAAAAAAACPA/jgQiuzBBY3c/photo.jpg?sz=128", "display_name": "noah", "link": "https://stackoverflow.com/users/8217112/noah"}, "edited": false, "score": 0, "creation_date": 1533244220, "post_id": 51660007, "comment_id": 90287839, "body": "I just don&#39;t want to deal with a backup file. I don&#39;t mind if one is made temporarily. I&#39;m considering just keeping what I have and deleting the backup file."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1533236251, "creation_date": 1533236251, "answer_id": 51660452, "question_id": 51660007, "link": "https://stackoverflow.com/questions/51660007/open-a-file-and-overwrite-the-file-with-adjustments-and-no-backup/51660452#51660452", "title": "Open a file and overwrite the file with adjustments and no backup", "body": "<p>Take a look at the <a href=\"https://perldoc.perl.org/Tie/File.html\" rel=\"nofollow noreferrer\"><code>Tie::File</code></a> module. It is a core module and so shouldn't need installing, and the code is as simple as</p>\n\n<pre><code>use Tie::File;\n\ntie my @file, 'Tie::File', $filepath or die $!;\n</code></pre>\n\n<p>Thereafter the array <code>@file</code> will hold the contents of the file, one line per element, and any changes to the array will be reflected in the file. All array operations such as <code>push</code>, <code>splice</code>, etc. will work fine</p>\n\n<p>Note that line one of the file is in element zero of the array etc.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1533239277, "last_edit_date": 1533239277, "creation_date": 1533238334, "answer_id": 51660936, "question_id": 51660007, "link": "https://stackoverflow.com/questions/51660007/open-a-file-and-overwrite-the-file-with-adjustments-and-no-backup/51660936#51660936", "title": "Open a file and overwrite the file with adjustments and no backup", "body": "<p>If the file is huge, then I'd question why you'd want to avoid the temporary file. Otherwise, I'd suggest just loading the file into memory, make modifications, then write it back out.</p>\n\n<pre><code>use File::Slurp qw( read_file write_file );\n\nmy $in = read_file($qfn, array_ref =&gt; 1);\n\nmy @out;\nwhile (defined( $_ = shift(@$in) )) {\n   s/a/b/g;               # For example.\n   push @out, $_ if /c/;  # For example.\n}    \n\nwrite_file($qfn, \\@out);\n</code></pre>\n\n<p>I avoided using expensive <code>splice</code> by using two arrays. </p>\n\n<p>Note that using Tie::File might save one line of code, but this will be 30x faster<sup>[1]</sup>, and probably use less memory (despite memory-saving being Tie::File's goal). Tie::File is never the answer!!!</p>\n\n<hr>\n\n<ol>\n<li>This is not necessarily representative of all Tie::File uses, but I have indeed timed Tie::File taking 30x longer than the alternative at some basic task. That means that 2 seconds worth of work would have taken 1 minute with Tie::File!</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 2410, "user_id": 8217112, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FB7l5icjoDo/AAAAAAAAAAI/AAAAAAAACPA/jgQiuzBBY3c/photo.jpg?sz=128", "display_name": "noah", "link": "https://stackoverflow.com/users/8217112/noah"}, "edited": false, "score": 0, "creation_date": 1533253823, "post_id": 51663178, "comment_id": 90290528, "body": "I had the code in your second code block earlier. It might sound silly but I didn&#39;t like that I was looping through a variable @lines rather than &lt;$fh&gt;. I like the first code block you have."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 2410, "user_id": 8217112, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FB7l5icjoDo/AAAAAAAAAAI/AAAAAAAACPA/jgQiuzBBY3c/photo.jpg?sz=128", "display_name": "noah", "link": "https://stackoverflow.com/users/8217112/noah"}, "edited": false, "score": 0, "creation_date": 1533254386, "post_id": 51663178, "comment_id": 90290648, "body": "@noah  Not silly -- that is a &quot;normal&quot; way to do it; you write as you&#39;re ready, with only one line in memory at a time.  The other way is a little simpler, offers more latitude for edits (if needed!) since you have the whole file on hand, and keeps the same inode (I&#39;m adding a note on this).  But I&#39;d consider the first way a bit of a &quot;default.&quot;"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1533257319, "last_edit_date": 1533257319, "creation_date": 1533250461, "answer_id": 51663178, "question_id": 51660007, "link": "https://stackoverflow.com/questions/51660007/open-a-file-and-overwrite-the-file-with-adjustments-and-no-backup/51663178#51663178", "title": "Open a file and overwrite the file with adjustments and no backup", "body": "<p>One basic way is to read the file line by line and write desired output lines to a temporary file, which is then renamed so to overwrite the original.</p>\n\n<pre><code>use File::Copy qw(move);\n\nopen my $fh, '&lt;', $file or die \"Can't open $file: $!\";\nopen my $fh_out, '&gt;', $outfile or die \"Can't open $outfile: $!\";\n\nwhile (&lt;$fh&gt;) {\n    next if /line_to_skip/;\n    s/patt/repl/g;\n    print $fh_out $_;\n}\nclose $_ for ($fh, $fh_out);\n\nmove ($outfile, $file) or die \"Can't move $outfile to $file: $!\";\n</code></pre>\n\n<p>This is what is normally done by tools that edit files \"in place\" (with additional safety, checks, and flexibility). Since the <code>$outfile</code> is temporary use <a href=\"https://perldoc.perl.org/File/Temp.html\" rel=\"nofollow noreferrer\">File::Temp</a>.\nAdd checks when <a href=\"https://perldoc.perl.org/functions/close.html\" rel=\"nofollow noreferrer\">close</a>-ing files. \nNote that this changes the file's inode number, which may matter for some applications.<sup>&dagger;</sup></p>\n\n<p>If the file isn't huge you can simplify this and read it in first</p>\n\n<pre><code>open my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nmy @lines = &lt;$fh&gt;;\n\nopen    $fh, '&gt;', $file or die \"Can't open $file for writing: $!\";\n\nfor (@lines) {\n    next if /line_to_skip/;\n    s/patt/repl/g;\n    print $fh_out $_;\n}\n\nclose $fh;\n</code></pre>\n\n<p>what preserves the inode number, since <code>&gt;</code> mode truncates the existing inode data.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup> If this is indeed a problem, you can still keep the same inode. After the temporary file is written, open it for reading and open the original file for <em>writing</em>; that truncates the contents of that inode.  Then copy the temporary file to the original. Close handles and delete the temporary file.</p>\n"}], "owner": {"reputation": 2410, "user_id": 8217112, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FB7l5icjoDo/AAAAAAAAAAI/AAAAAAAACPA/jgQiuzBBY3c/photo.jpg?sz=128", "display_name": "noah", "link": "https://stackoverflow.com/users/8217112/noah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "accepted_answer_id": 51663178, "answer_count": 3, "score": 2, "last_activity_date": 1533257319, "creation_date": 1533234136, "last_edit_date": 1533244086, "question_id": 51660007, "link": "https://stackoverflow.com/questions/51660007/open-a-file-and-overwrite-the-file-with-adjustments-and-no-backup", "title": "Open a file and overwrite the file with adjustments and no backup", "body": "<p>I have the following three lines:</p>\n\n<pre><code>rename($file_path, $file_fh.'.bak');\nopen( my $file_IN_fh, '&lt;' , $file_path.'.bak') || die \"die message\";\nopen( my $file_OUT_fh, '&gt;' , $file_path) || die \"die message\";\n</code></pre>\n\n<p>It works great. It allows me to go through the in file <code>while(&lt;$file_IN_fh&gt;)</code>, make a bunch of changes with a script (<code>s///g</code>, <code>if()</code> to determine if the line stays or not, etc), and write to the out file. In the end I get my edited file and the <strong>file name is unchanged</strong>.</p>\n\n<p>My issue is that I am at a point where I no longer (currently) want the backup files, so I want to replace the code with something similar that won't create the backup file, and comment back and forth the three lines over the years if my needs change.</p>\n\n<p>How do I do this kind of editing in place not from the command line?</p>\n"}, {"tags": ["perl", "sockets"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1533231005, "post_id": 51658218, "comment_id": 90282010, "body": "You should have a single select with multiple handles, not one select per handle"}, {"owner": {"reputation": 29, "user_id": 3466839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caf7d6193b18046c25df06e5a5861f74?s=128&d=identicon&r=PG&f=1", "display_name": "christianTF", "link": "https://stackoverflow.com/users/3466839/christiantf"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533241865, "post_id": 51658218, "comment_id": 90286791, "body": "Thanks for your answer. How would you handle the <code>if($guest == $tcpin_sock[$host]) {</code> when I have multiple open sockets?"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1533286116, "post_id": 51658218, "comment_id": 90300079, "body": "Have you tried out the &quot;example&quot; at the bottom of the <a href=\"https://perldoc.perl.org/IO/Select.html\" rel=\"nofollow noreferrer\"><code>IO::Select</code></a> documentation? An aside: although it has a bit of a learning curve and might be overkill in your case, I like <a href=\"http://poe.perl.org/?POE_Cookbook/TCP_Servers\" rel=\"nofollow noreferrer\">POE</a> and have written a few servers with it (<a href=\"https://bitbucket.org/haukex/hgpstools/src/HEAD/sermux/serialmuxserver.pl\" rel=\"nofollow noreferrer\">one example</a>)."}, {"owner": {"reputation": 29, "user_id": 3466839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caf7d6193b18046c25df06e5a5861f74?s=128&d=identicon&r=PG&f=1", "display_name": "christianTF", "link": "https://stackoverflow.com/users/3466839/christiantf"}, "edited": false, "score": 0, "creation_date": 1533290724, "post_id": 51658218, "comment_id": 90302942, "body": "A single listen socket, that the <code>IO::Select</code> example states, was and is working. I&#39;ve managed to change the code to only have one IO::Select list, and now both sockets are connectable, but only the last opened port reacts to transfers. <code>POE</code> looks promising but unfortunately is not available pre-compiled in the Debian repo."}, {"owner": {"reputation": 29, "user_id": 3466839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caf7d6193b18046c25df06e5a5861f74?s=128&d=identicon&r=PG&f=1", "display_name": "christianTF", "link": "https://stackoverflow.com/users/3466839/christiantf"}, "edited": false, "score": 0, "creation_date": 1533508509, "post_id": 51658218, "comment_id": 90358967, "body": "To continue my project, I&#39;ll now start a Perl instance for each port, having all processing for a port/socket on one place."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 1, "creation_date": 1533685588, "post_id": 51658218, "comment_id": 90434300, "body": "Look at <code>IO::Multiplex</code>, this simplifies a lot of things when you have enough with a single process managing all sockets."}], "owner": {"reputation": 29, "user_id": 3466839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caf7d6193b18046c25df06e5a5861f74?s=128&d=identicon&r=PG&f=1", "display_name": "christianTF", "link": "https://stackoverflow.com/users/3466839/christiantf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1533226825, "creation_date": 1533226825, "question_id": 51658218, "link": "https://stackoverflow.com/questions/51658218/perl-handle-multiple-non-blocking-sockets-server", "title": "Perl: Handle multiple non-blocking sockets (server)", "body": "<p>I am developing a server as a kind of gateway/router that opens a dynamic number of inbound, non-blocking tcp ports/sockets. The number of sockets is dynamically read from a config file, therefore the sockets are stored in an array.</p>\n\n<p>I re-used older code with only one inbound socket, that used IO::Select.</p>\n\n<p>My new code creates an array of in_lists (IO::Select) with the corresponding socket.</p>\n\n<p>My current problem is: \nAfter opening all sockets, only the last socket is connectible - all sockets before refuse the connection.</p>\n\n<pre><code>## Listen to a guest TCP connection\nour @tcpin_sock;\nour @in_list;\n\nforeach my $host (@config::hostkeys) {\n    # Create In-Port\n    $tcpin_sock[$host] = create_in_socket($tcpin_sock[$host], $inport, 'tcp');\n    $in_list[$host] = IO::Select-&gt;new($tcpin_sock[$host]);\n\n}\n\nwhile (1) {\n    # Listen to incoming TCP guests\n    foreach my $host (@config::hostkeys) {\n        #print STDERR \"Listen for guests for $host...\\n\";\n        if (my @in_ready = $in_list[$host]-&gt;can_read(0.2)) {\n            foreach my $guest (@in_ready) {\n                if($guest == $tcpin_sock[$host]) {\n                    my $new = $tcpin_sock[$host]-&gt;accept or die \"ERROR: It seems that this port is already occupied: $! ($@)\\n\";\n                    my $newremote = $new-&gt;peerhost();\n                    print STDERR \"New guest connection accepted from $newremote.\\n\";\n                    $in_list[$host]-&gt;add($new);\n                } else {\n                    $guest-&gt;recv(my $guest_line, 1024);\n                    print STDERR $guest_line;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I think that my handling of IO::Select is wrong, and that it does not support multiple lists?\nWhat I need would be the handling of multiple sockets, but on every client connection, inside the client processing, I need to know to what port/socket the connection was created to.</p>\n\n<p>Has someone an idea how to implement the IO::Select for that case?</p>\n\n<p>Thank you!\nChristian</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 1, "last_activity_date": 1533219041, "creation_date": 1533219041, "answer_id": 51655741, "question_id": 51655286, "link": "https://stackoverflow.com/questions/51655286/how-do-you-only-import-for-from-perl6controls/51655741#51655741", "title": "How do you only import `for` from `Perl6::Controls`?", "body": "<p>You can't. Looking at the source-code for <a href=\"https://metacpan.org/source/DCONWAY/Perl6-Controls-0.000006/lib/Perl6/Controls.pm\" rel=\"nofollow noreferrer\">Perl6::Controls</a> it uses it's own import method to define all the new keywords using <a href=\"https://metacpan.org/source/Keyword::Declare\" rel=\"nofollow noreferrer\">Keyword::Declare</a>. It ignores any parameters passed on the use line.</p>\n"}, {"comments": [{"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 1, "creation_date": 1533224550, "post_id": 51656973, "comment_id": 90278814, "body": "$^H{&#39;Keyword::Simple/keywords&#39;} is a super global variable, so make sure that @keep has all the keywords from all the other packages that define keywords as well"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 5, "last_activity_date": 1533223362, "last_edit_date": 1533223362, "creation_date": 1533222663, "answer_id": 51656973, "question_id": 51655286, "link": "https://stackoverflow.com/questions/51655286/how-do-you-only-import-for-from-perl6controls/51656973#51656973", "title": "How do you only import `for` from `Perl6::Controls`?", "body": "<pre><code>use Perl6::Controls qw(for);\nBEGIN {\n    delete $^H{'Keyword::Simple/keywords'}{\"loop\"};\n}\n...\n</code></pre>\n\n<p>which I stumbled into running your script through <a href=\"https://metacpan.org/pod/B::Deparse\" rel=\"noreferrer\"><code>B::Deparse</code></a>.</p>\n\n<hr>\n\n<p>To pick and choose the keywords you want to keep, you could say</p>\n\n<pre><code>use Perl6::Controls;\nBEGIN {\n    my @keep = ...;    # e.g.  @keep = qw(for);\n    my %keywords;\n    @keywords{@keep} = @{$^H{'Keyword::Simple/keywords'}}{@keep};\n    $^H{'Keyword::Simple/keywords'} = \\%keywords;\n}\n</code></pre>\n"}], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 51656973, "answer_count": 2, "score": 7, "last_activity_date": 1533223362, "creation_date": 1533217587, "last_edit_date": 1533221610, "question_id": 51655286, "link": "https://stackoverflow.com/questions/51655286/how-do-you-only-import-for-from-perl6controls", "title": "How do you only import `for` from `Perl6::Controls`?", "body": "<p>Test case:</p>\n\n<pre><code>use 5.026;\nuse Perl6::Controls qw(for);\n\nfor (1..10) -&gt; $n {\n    say $n;\n}\n\nloop {};\n</code></pre>\n\n<p>Expect:</p>\n\n<p>Can't call method \"loop\" without a package or object reference</p>\n\n<p>Got:</p>\n\n<p>infinite loop</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 13, "user_id": 10170449, "user_type": "registered", "profile_image": "https://graph.facebook.com/2544178898929487/picture?type=large", "display_name": "Alan Saldanha", "link": "https://stackoverflow.com/users/10170449/alan-saldanha"}, "edited": false, "score": 0, "creation_date": 1533213888, "post_id": 51653618, "comment_id": 90271249, "body": "unfortunately had to post a screenshot as the linux terminal wasnt copying."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1533214364, "post_id": 51653618, "comment_id": 90271583, "body": "<a href=\"https://www.youtube.com/watch?v=e9jgQLfy4Es\" rel=\"nofollow noreferrer\">Video tutorial to copy and paste from a putty terminal</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1533217418, "post_id": 51653618, "comment_id": 90273810, "body": "Added the code as text. Shame to let my newly-acquired <code>tesseract</code> knowledge go to waste :-)"}], "answers": [{"comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1533215718, "post_id": 51653746, "comment_id": 90272561, "body": "They should also be used <code>Cwd</code> to <code>getcwd()</code> instead of <code>system( &quot;pwd&quot; );</code> <code>Cwd</code> is a standard module and is installed with Perl. A list of standard modules is in <code>perldoc perlmodlib</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1533217092, "post_id": 51653746, "comment_id": 90273579, "body": "Your substitution might be more readable if you chose a different delimiter. <code>$s =~ s|(?&lt;!&#47;)$|&#47;|igs</code>"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1533220838, "post_id": 51653746, "comment_id": 90276243, "body": "<code>glob</code> <a href=\"https://www.perlmonks.org/?node_id=1206848\" rel=\"nofollow noreferrer\">has quite a few caveats</a>, especially when used with a variable pattern."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1533222687, "post_id": 51653746, "comment_id": 90277581, "body": "<code>glob($s.&quot;*&quot;)</code> should be <code>glob(&quot;\\Q$s\\E*&quot;)</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1533222707, "post_id": 51653746, "comment_id": 90277597, "body": "<code>$s=~s&#47;(?&lt;!\\&#47;)$&#47;\\&#47;&#47;igs;</code> can be replaced with <code>$s .= &#39;&#47;&#39; if length($s);</code>. Doesn&#39;t matter if it get duplicated, and you shouldn&#39;t add <code>&#47;</code> to an empty string."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 0, "last_activity_date": 1533263196, "last_edit_date": 1533263196, "creation_date": 1533213132, "answer_id": 51653746, "question_id": 51653618, "link": "https://stackoverflow.com/questions/51653618/write-a-perl-script-that-lists-the-directory-contents-of-a-directory-specified-b/51653746#51653746", "title": "Write a Perl script that lists the directory contents of a directory specified by the user", "body": "<p>Already @toolic mentioned in a comment you have to make <code>system \"ls $path\"</code></p>\n\n<p>But you are already in Perl, you can use you the Perl Inbuilt functions like <a href=\"https://perldoc.perl.org/functions/glob.html\" rel=\"nofollow noreferrer\">glob</a> or <a href=\"http://perldoc.perl.org/5.8.9/functions/opendir.html\" rel=\"nofollow noreferrer\">opendir</a>. for example</p>\n\n<pre><code>my $s = &lt;STDIN&gt;;\nchomp $s;\n$s .= '/' if length($s);\nwhile(my $file = glob(\"\\Q$s\\E*\")){\n\n    print $file,\"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1533215094, "last_edit_date": 1533215094, "creation_date": 1533214228, "answer_id": 51654129, "question_id": 51653618, "link": "https://stackoverflow.com/questions/51653618/write-a-perl-script-that-lists-the-directory-contents-of-a-directory-specified-b/51654129#51654129", "title": "Write a Perl script that lists the directory contents of a directory specified by the user", "body": "<p>A Unix process has something called an \"environment\" associated with it. The environment contains details of how the process is being run. One of the elements of the environment, for example, is the current working directory.</p>\n\n<p>When a process starts another process, the new, child process inherits a copy of the environment from the parent process. The child process can change anything it wants in its copy of the environment, but it cannot change the parent's copy of the environment (or, at least, not easily).</p>\n\n<p>Your code involves four processes. In call to <code>system()</code> creates a new process, with a new copy of the environment. When each call to <code>system()</code> exits, its environment ceases to exist.</p>\n\n<ol>\n<li>Your program is the first process. It inherits a copy of the environment of the shell process that starts it. This environment has a current working directory.</li>\n<li>The first call to <code>system()</code> creates a new process and gives it a copy of the main program's environment. That subprocess runs <code>pwd</code> and exits. Its copy of the environment disappears.</li>\n<li>The next call to <code>system()</code> creates another new process and gives it a new copy of the main program's environment. That subprocess changes its current working directory - but only for its copy of the environment. When the call to <code>system()</code> exits, that copy of the environment (with its changed current working directory) ceases to exist).</li>\n<li>The final call to <code>system()</code> creates another new process and gives it a new copy of the main program's environment (which still has the original program's current working directory). That process calls <code>ls</code> on its current directory and then exits - removing its environment in the process.</li>\n</ol>\n\n<p>So, effectively, your call to <code>cd</code> does nothing as it changes the directory in an environment that immediately ceases to exist.</p>\n\n<p>The quick fix (as you have been shown) is to just pass the <code>$path</code> variable to <code>ls</code>.</p>\n\n<p>The correct fix (as you have also been shown) is to not use subprocesses to do this and to use, instead, Perl's built-in tools.</p>\n\n<p>When I see questions like this, I have to wonder what they are teaching on computing courses these days :-)</p>\n"}], "owner": {"reputation": 13, "user_id": 10170449, "user_type": "registered", "profile_image": "https://graph.facebook.com/2544178898929487/picture?type=large", "display_name": "Alan Saldanha", "link": "https://stackoverflow.com/users/10170449/alan-saldanha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 51653746, "answer_count": 2, "score": -4, "last_activity_date": 1533263196, "creation_date": 1533212700, "last_edit_date": 1533236919, "question_id": 51653618, "link": "https://stackoverflow.com/questions/51653618/write-a-perl-script-that-lists-the-directory-contents-of-a-directory-specified-b", "title": "Write a Perl script that lists the directory contents of a directory specified by the user", "body": "<p>I have tried this code but it doesnt work for the user-input directory.\nIt only lists the PWD.\nHelp!</p>\n\n<pre><code>#script to list the directory contents of a user specified directory\n\nsystem(\"pwd\");\nprint \"enter the path of your d1rectory\\n\";\n$path =&lt;STDIN&gt;;\nsystem(\" cd Spath\");\n#system (\"chdir $path\");\nsystem(\"ls\");\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/kirW6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kirW6.png\" alt=\"My code screenshot\"></a></p>\n"}, {"tags": ["regex", "shell", "perl"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 4, "creation_date": 1533206839, "post_id": 51651374, "comment_id": 90266578, "body": "Why are you using grep when Perl excels at such tasks itself? And are you sure that the command you&#39;re running from Perl is the same as what you&#39;re running on the command line?"}, {"owner": {"reputation": 455, "user_id": 6157515, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/816354c7ac36365bec5a36aa19716425?s=128&d=identicon&r=PG&f=1", "display_name": "RonyA", "link": "https://stackoverflow.com/users/6157515/ronya"}, "edited": false, "score": 0, "creation_date": 1533206972, "post_id": 51651374, "comment_id": 90266667, "body": "Yes I am running same command in linux shell, one difference is  i am not using ` `  and not saving inside a variable..."}, {"owner": {"reputation": 455, "user_id": 6157515, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/816354c7ac36365bec5a36aa19716425?s=128&d=identicon&r=PG&f=1", "display_name": "RonyA", "link": "https://stackoverflow.com/users/6157515/ronya"}, "edited": false, "score": 0, "creation_date": 1533207014, "post_id": 51651374, "comment_id": 90266685, "body": "I am quite new to perl , so really need help... to fix <code>$failed = </code>&quot;/bin/egrep&quot; &quot;$search1&quot; &quot;$LOG1&quot;| grep &quot;$search2&quot;<code>;</code> so that i can use $failed as output to send over email."}, {"owner": {"reputation": 6696, "user_id": 537980, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/DZUB4.png?s=128&g=1", "display_name": "ctrl-alt-delor", "link": "https://stackoverflow.com/users/537980/ctrl-alt-delor"}, "edited": false, "score": 0, "creation_date": 1533209963, "post_id": 51651374, "comment_id": 90268605, "body": "Have you tried simplifying? Show us the simplest thing that does not work."}, {"owner": {"reputation": 455, "user_id": 6157515, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/816354c7ac36365bec5a36aa19716425?s=128&d=identicon&r=PG&f=1", "display_name": "RonyA", "link": "https://stackoverflow.com/users/6157515/ronya"}, "reply_to_user": {"reputation": 6696, "user_id": 537980, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/DZUB4.png?s=128&g=1", "display_name": "ctrl-alt-delor", "link": "https://stackoverflow.com/users/537980/ctrl-alt-delor"}, "edited": false, "score": 0, "creation_date": 1533210275, "post_id": 51651374, "comment_id": 90268813, "body": "<code>grep $search2</code> is not throwing any output inside the perl script , however in shell command its working . @ctrl-alt-delor Is it what you are asking for ?"}, {"owner": {"reputation": 6696, "user_id": 537980, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/DZUB4.png?s=128&g=1", "display_name": "ctrl-alt-delor", "link": "https://stackoverflow.com/users/537980/ctrl-alt-delor"}, "edited": false, "score": 0, "creation_date": 1533210596, "post_id": 51651374, "comment_id": 90268998, "body": "No, I asked you to discover the simplest program that exhibits this error (I suspect one line + the print), and then to post it at the bottom of your question."}, {"owner": {"reputation": 455, "user_id": 6157515, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/816354c7ac36365bec5a36aa19716425?s=128&d=identicon&r=PG&f=1", "display_name": "RonyA", "link": "https://stackoverflow.com/users/6157515/ronya"}, "edited": false, "score": 0, "creation_date": 1533210881, "post_id": 51651374, "comment_id": 90269196, "body": "Seems I did not understand it exactly, however I have just added the content from log file if that can clear it.."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1533211433, "post_id": 51651374, "comment_id": 90269595, "body": "There seem to be several spaces (or a tab?) between <code>Aug</code> and the number following it in your data, when your grep pattern only contains a single space. Could that be the issue?"}, {"owner": {"reputation": 455, "user_id": 6157515, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/816354c7ac36365bec5a36aa19716425?s=128&d=identicon&r=PG&f=1", "display_name": "RonyA", "link": "https://stackoverflow.com/users/6157515/ronya"}, "edited": false, "score": 0, "creation_date": 1533211487, "post_id": 51651374, "comment_id": 90269631, "body": "No, space isnot an issue i believe as it will working on shell command.  I had tried print <code>&quot;$search2&quot;</code> and its showing output with space that I really want , so that the <code>grep</code> should work"}, {"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "edited": false, "score": 0, "creation_date": 1533214240, "post_id": 51651374, "comment_id": 90271500, "body": "Can you see the output of print qq=&quot;/bin/egrep&quot; &quot;$search1&quot; &quot;$LOG1&quot;| grep &quot;$search2&quot;=;  i suspect $search2 is not what you think it is"}, {"owner": {"reputation": 455, "user_id": 6157515, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/816354c7ac36365bec5a36aa19716425?s=128&d=identicon&r=PG&f=1", "display_name": "RonyA", "link": "https://stackoverflow.com/users/6157515/ronya"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1533215866, "post_id": 51651374, "comment_id": 90272671, "body": "@Dada I fixed <code>join</code> for space and it worked"}], "answers": [{"comments": [{"owner": {"reputation": 455, "user_id": 6157515, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/816354c7ac36365bec5a36aa19716425?s=128&d=identicon&r=PG&f=1", "display_name": "RonyA", "link": "https://stackoverflow.com/users/6157515/ronya"}, "edited": false, "score": 0, "creation_date": 1533215066, "post_id": 51654115, "comment_id": 90272067, "body": "Let me recheck it."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "reply_to_user": {"reputation": 455, "user_id": 6157515, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/816354c7ac36365bec5a36aa19716425?s=128&d=identicon&r=PG&f=1", "display_name": "RonyA", "link": "https://stackoverflow.com/users/6157515/ronya"}, "edited": false, "score": 3, "creation_date": 1533215943, "post_id": 51654115, "comment_id": 90272719, "body": "@RishuA You should use <code>sprintf</code> for more control over the format. <code>$search2 = sprintf( &#39;%s %2d %s&#39;, $mo, $day, $hr );</code>"}, {"owner": {"reputation": 455, "user_id": 6157515, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/816354c7ac36365bec5a36aa19716425?s=128&d=identicon&r=PG&f=1", "display_name": "RonyA", "link": "https://stackoverflow.com/users/6157515/ronya"}, "edited": false, "score": 0, "creation_date": 1533217665, "post_id": 51654115, "comment_id": 90273975, "body": "Nice ! Got it ."}], "tags": [], "owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "is_accepted": false, "score": 3, "last_activity_date": 1533214174, "creation_date": 1533214174, "answer_id": 51654115, "question_id": 51651374, "link": "https://stackoverflow.com/questions/51651374/grep-issue-in-perl/51654115#51654115", "title": "grep issue in Perl", "body": "<p>I think you should follow the advice given by Dada in his comment. If that what you posted is REALLY what you see, this can't work:</p>\n\n<p>You build up your string like this:</p>\n\n<pre><code>$search2=  join(' ', $mo,$day,$hr);\n</code></pre>\n\n<p>This means that you have one space between month and day. Further, you copied the output which you get without using the search string, like this:</p>\n\n<pre><code>Aug  1 01:03:40 something sudo: pam_unix(sudo:auth): authentication failure; logname=something uid=0 euid=0 tty=/dev/pts/1 ruser= something=  user=something\n</code></pre>\n\n<p>This clearly is NOT a single space between Aug and 1.</p>\n\n<p>I am pretty sure that if you look at your file <code>/tmp/log</code> with a hex editor, you will NOT see a single space between \"Aug\" and \"1\".</p>\n\n<p>You can also invoke the command from the command line and pipe it to, say, <code>xxd</code>, for seeing the hexadecimal content.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533223670, "post_id": 51655988, "comment_id": 90278250, "body": "$search1 is a regex pattern, so <code>&#47;$search1&#47;</code> is fine, but <code>$search2</code> is text, so <code>&#47;$search2&#47;</code> should be <code>&#47;\\Q$search2&#47;</code>. (That&#39;s why the OP was using <code>egrep</code> for the first and <code>grep</code> for the second.)"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533224732, "post_id": 51655988, "comment_id": 90278926, "body": "yes, or <code>index($_, $search2) != -1</code>. Your parenthetical remark is debatable."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533224842, "post_id": 51655988, "comment_id": 90278997, "body": "Oh, why do you think they didn&#39;t use <code>grep</code> for both?"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533225248, "post_id": 51655988, "comment_id": 90279240, "body": "I suspect <code>egrep</code> just to avoid having to backslash the pipe. And to escape the backslash in perl within backticks."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533225278, "post_id": 51655988, "comment_id": 90279264, "body": "And conversely, the other string should be matched literally. Which is what I said in the parenthetical"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533225458, "post_id": 51655988, "comment_id": 90279347, "body": "Yeah, but using grep for &quot;text&quot; matching is not quite accurate: still a regex. Just a quibble."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1533225506, "post_id": 51655988, "comment_id": 90279370, "body": "A string to match literally is NOT a regex pattern"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533225633, "post_id": 51655988, "comment_id": 90279429, "body": "i know all this. you claimed the OP was using grep to match literal text, which I found debatable. And here we are, debating it. I guess I win ;)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533225734, "post_id": 51655988, "comment_id": 90279475, "body": "We covered this. They would have used <code>egrep</code> otherwise"}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 2, "last_activity_date": 1533219771, "creation_date": 1533219771, "answer_id": 51655988, "question_id": 51651374, "link": "https://stackoverflow.com/questions/51651374/grep-issue-in-perl/51655988#51655988", "title": "grep issue in Perl", "body": "<p>You don't need to call out to grep for this:</p>\n\n<pre><code>use autodie;\nopen my $fh, \"&lt;\", $LOG1;\nmy $failed = \"\";\nwhile (&lt;$fh&gt;) {\n    $failed .= $_ if /$search1/o &amp;&amp; /$search2/o;\n}\nclose $fh;\n</code></pre>\n"}], "owner": {"reputation": 455, "user_id": 6157515, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/816354c7ac36365bec5a36aa19716425?s=128&d=identicon&r=PG&f=1", "display_name": "RonyA", "link": "https://stackoverflow.com/users/6157515/ronya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1533219771, "creation_date": 1533205867, "last_edit_date": 1533211247, "question_id": 51651374, "link": "https://stackoverflow.com/questions/51651374/grep-issue-in-perl", "title": "grep issue in Perl", "body": "<p>Below are from Perl script..</p>\n\n<pre><code>$search2=  join(' ', $mo,$day,$hr); # Output \"Aug 2 03\"\n$LOG1  = \"/tmp/log\"  # Log file path. It has $search2 inside it\n$search1 = \"issue|error\"\n</code></pre>\n\n<p>Here is the line where I am getting issue ...</p>\n\n<pre><code>$failed = `\"/bin/egrep\" \"$search1\" \"$LOG1\"| grep \"$search2\"`;\n</code></pre>\n\n<p>without <code>grep \"search2\"</code> getting below like output</p>\n\n<pre><code>Aug  1 01:03:40 something sudo: pam_unix(sudo:auth): authentication failure; logname=something uid=0 euid=0 tty=/dev/pts/1 ruser= something=  user=something\nAug  1 03:34:20 something  sudo: pam_unix(sudo:auth): authentication failure; logname=something uid=0 euid=0 tty=/dev/pts/0 ruser= something=  user=something\nAug  2 00:43:29 something sudo: pam_unix(sudo:auth): authentication failure; logname=something uid=0 euid=0 tty=/dev/pts/1 ruser= something=  user=something\nAug  2 03:02:33 someting  sudo: pam_unix(sudo:auth): authentication failure; logname=something uid=0 euid=0 tty=/dev/pts/1 ruser= something=  user=something\n</code></pre>\n\n<p>but when using <code>| grep \"$search2\"</code> not getting anything </p>\n\n<pre><code>   print \"$failed\"; # It is not throwing any output of 'Aug 2 03'\n</code></pre>\n\n<p>however when the same I am executing on Linux command line I am getting the required output . The below I am using on linux command line</p>\n\n<pre><code>/bin/egrep \"issue|error\" \"/tmp/log\" | grep  \"Aug 2 03\"\n</code></pre>\n\n<p>Please help to fix it .</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1533204397, "post_id": 51650813, "comment_id": 90265013, "body": "Newer Perls don&#39;t have <code>.</code> in <code>@INC</code> for security reasons. You need <code>use lib &#39;.&#39;</code>. But you really ought to put your file in <code>lib&#47;</code> and have <code>use lib &#39;lib&#39;</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1533222893, "post_id": 51650813, "comment_id": 90277736, "body": "That should be <code>use FindBin qw( $RealBin ); use lib &quot;$RealBin&#47;lib&quot;;</code>"}], "owner": {"reputation": 199, "user_id": 9998415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f582fcef6ee949146244491721dcdc?s=128&d=identicon&r=PG&f=1", "display_name": "Kanewilliam", "link": "https://stackoverflow.com/users/9998415/kanewilliam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 497, "favorite_count": 0, "closed_date": 1533204446, "answer_count": 0, "score": 2, "last_activity_date": 1533204178, "creation_date": 1533204178, "question_id": 51650813, "link": "https://stackoverflow.com/questions/51650813/perl-cant-locate-pm-file-issue", "closed_reason": "Duplicate", "title": "Perl Can&#39;t locate .pm file issue", "body": "<p>I am new in perl programming. I have tried the basic function and get the below error. Please any one help how to fix the issue.</p>\n\n<pre><code>Can't locate Person.pm in @INC (you may need to install the Person module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at ./oops.pl line 4.\nBEGIN failed--compilation aborted at ./oops.pl line 4.\n</code></pre>\n\n<p>Person.pm file </p>\n\n<pre><code>package Person;\n\nsub new {\n   my $class = shift;\n   my $self = {\n      _firstName =&gt; shift,\n      _lastName  =&gt; shift,\n      _ssn       =&gt; shift,\n   };\n   # Print all the values just for clarification.\n   print \"First Name is $self-&gt;{_firstName}\\n\";\n   print \"Last Name is $self-&gt;{_lastName}\\n\";\n   print \"SSN is $self-&gt;{_ssn}\\n\";\n   bless $self, $class;\n   return $self;\n}\nsub setFirstName {\n   my ( $self, $firstName ) = @_;\n   $self-&gt;{_firstName} = $firstName if defined($firstName);\n   return $self-&gt;{_firstName};\n}\n\nsub getFirstName {\n   my( $self ) = @_;\n   return $self-&gt;{_firstName};\n}\n1;\n</code></pre>\n\n<p>oops.pl file</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Person;\n\n$object = new Person( \"Mohammad\", \"Saleem\", 23234345);\n# Get first name which is set using constructor.\n$firstName = $object-&gt;getFirstName();\n\nprint \"Before Setting First Name is : $firstName\\n\";\n\n# Now Set first name using helper function.\n$object-&gt;setFirstName( \"Mohd.\" );\n\n# Now get first name set by helper function.\n$firstName = $object-&gt;getFirstName();\nprint \"Before Setting First Name is : $firstName\\n\";\n</code></pre>\n\n<p>Finally i have run the oops.pl file and get the below error.</p>\n\n<pre><code>Can't locate Person.pm in @INC (you may need to install the Person module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at ./oops.pl line 4.\nBEGIN failed--compilation aborted at ./oops.pl line 4.\n</code></pre>\n"}, {"tags": ["perl", "awk", "sed"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1533190051, "post_id": 51646307, "comment_id": 90256820, "body": "<code>s&#47;(\\_)([^\\_]*)\\_(.*?)$&#47;$1$2&#47;g;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "is_accepted": false, "score": 3, "last_activity_date": 1533190275, "last_edit_date": 1533190275, "creation_date": 1533189403, "answer_id": 51646431, "question_id": 51646307, "link": "https://stackoverflow.com/questions/51646307/how-to-skip-the-first-occurrence-of-a-pattern-and-replace-rest-of-the-string-fro/51646431#51646431", "title": "How to skip the first occurrence of a pattern and replace rest of the string from second occurrence", "body": "<p>For given sample, there are various ways to solve it</p>\n\n<pre><code>$ echo 'T004_7_entry_00007_conf_01' | sed 's/\\(_[^_]*\\).*/\\1\\t/'\nT004_7  \n</code></pre>\n\n<ul>\n<li><code>\\(_[^_]*\\)</code> is a capture group to save the first occurrence\n\n<ul>\n<li><code>\\(</code> and <code>\\)</code> are meta-characters to specify a capture group, <code>\\</code> won't be needed if ERE is used</li>\n<li><code>[^_]*</code> means zero or more non <code>_</code> characters, so this solution is suited for single character delimiter only</li>\n</ul></li>\n<li><code>\\1</code> is a back-reference to the first capture group</li>\n<li>See <a href=\"https://www.gnu.org/software/sed/manual/sed.html#Back_002dreferences-and-Subexpressions\" rel=\"nofollow noreferrer\">manual</a> for more details on regular expressions</li>\n</ul>\n\n<p>Other ways:</p>\n\n<pre><code>$ echo 'T004_7_entry_00007_conf_01' | perl -pe 's/_[^_]*\\K.*/\\t/'\nT004_7  \n\n$ echo 'T004_7_entry_00007_conf_01' | awk -F_ '{print $1 FS $2 \"\\t\" }'\nT004_7  \n</code></pre>\n\n<p>Field based solution is better suited if delimiter is not single character</p>\n\n<pre><code>$ echo 'foo_:_baz_:_123_:_456' | awk -F_:_ '{print $1 FS $2 \"\\t\" }'\nfoo_:_baz   \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1533202096, "post_id": 51646491, "comment_id": 90263537, "body": "Great, again DOWN VOTER without any comments :( :("}, {"owner": {"reputation": 1813, "user_id": 3745821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYzuR.jpg?s=128&g=1", "display_name": "Michael Back", "link": "https://stackoverflow.com/users/3745821/michael-back"}, "edited": false, "score": 1, "creation_date": 1533252571, "post_id": 51646491, "comment_id": 90290237, "body": "I didn&#39;t down-vote you, but... constructive feedback... The question specifically asked that we have a <code>\\t</code> as a replacement for the second <code>_</code> and beyond.  Your answers doesn&#39;t replace with <code>\\t</code>. In the sed answer, you could reduce to one back-reference, but that would essentially dupe Sundeep&#39;s.  The comment after your first answer is not clear -- and unnecessary.  In the awk answer, the match regex has additional conditions/assumptions beyond the <code>_</code> requirement -- suggest you use <code>[^_]*</code> instead of the more narrowly defined character classes.  Hope this feedback is taken positively. :)"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 1813, "user_id": 3745821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYzuR.jpg?s=128&g=1", "display_name": "Michael Back", "link": "https://stackoverflow.com/users/3745821/michael-back"}, "edited": false, "score": 0, "creation_date": 1533263772, "post_id": 51646491, "comment_id": 90292465, "body": "@MichaelBack, thank you for letting me know completely missed it my bad, added <code>\\t</code> it now, my concern was no comment so I asked. Thanks, let me know if I missed something here too."}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": false, "score": 0, "last_activity_date": 1533263710, "last_edit_date": 1533263710, "creation_date": 1533189674, "answer_id": 51646491, "question_id": 51646307, "link": "https://stackoverflow.com/questions/51646307/how-to-skip-the-first-occurrence-of-a-pattern-and-replace-rest-of-the-string-fro/51646491#51646491", "title": "How to skip the first occurrence of a pattern and replace rest of the string from second occurrence", "body": "<p>Could you please try following.</p>\n\n<pre><code>sed 's/\\([^_]*\\)\\(_[^_]*\\)\\(.*\\)/\\1\\2\\t/'  Input_file\n</code></pre>\n\n<p>kindly use <code>i</code> or <code>i.bak</code>(to take backup of previous Input_file) in case you want to save output into Input_file itself.</p>\n\n<p>With <code>awk</code>:</p>\n\n<pre><code>awk 'match($0,/^[[:alnum:]]+_[0-9]+/){print substr($0,RSTART,RLENGTH)\\t}' Input_file \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1813, "user_id": 3745821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYzuR.jpg?s=128&g=1", "display_name": "Michael Back", "link": "https://stackoverflow.com/users/3745821/michael-back"}, "is_accepted": false, "score": 0, "last_activity_date": 1533324550, "last_edit_date": 1533324550, "creation_date": 1533242999, "answer_id": 51661957, "question_id": 51646307, "link": "https://stackoverflow.com/questions/51646307/how-to-skip-the-first-occurrence-of-a-pattern-and-replace-rest-of-the-string-fro/51661957#51661957", "title": "How to skip the first occurrence of a pattern and replace rest of the string from second occurrence", "body": "<p>Very carefully written <strong>sed</strong> back-reference based answer -- close to @<em>Sundeep</em>'s, but that makes sure that you actually have a second occurrence of <code>_</code>:</p>\n\n<pre><code>sed 's/\\(_[^_]*\\)_.*/\\1\\t/'\n</code></pre>\n\n<p>With <strong>awk</strong> we could offer more creative solutions.  Here is a straightforward <strong>awk</strong> implementation using regex:</p>\n\n<pre><code>awk 'match($0, /[^_]*_[^_]*_/) { $0 = substr($0, 1, RLENGTH - 1) \"\\t\" } 1'\n</code></pre>\n\n<p>Here is an example that completely eschew's regex pattern matching to do what you want by taking advantage of (abusing) the field separator feature:</p>\n\n<pre><code>awk -F_ 'NF &gt; 2 { $0 = $1 FS $2 \"\\t\" } 1'\n</code></pre>\n\n<p>Note that all of the above carefully follow your example to emulate the kind of default behavior you would get with sed -- that being to pass through and print all lines, including non-matching ones.  All carefully replace the second occurrence of <code>_</code> plus text that follows with <code>\\t</code> -- all lines that do not have more than one <code>_</code> are passed through as unedited.</p>\n\n<p>If we want to limit the output to print only matching lines, we can replace the <code>$0 =</code> in both examples with <code>print</code> and delete the trailing <code>1</code>.</p>\n"}], "owner": {"reputation": 41, "user_id": 9867414, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-inlW8IV3ebE/AAAAAAAAAAI/AAAAAAAAAEw/eNWeuuXMbFE/photo.jpg?sz=128", "display_name": "varun khanna", "link": "https://stackoverflow.com/users/9867414/varun-khanna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1533324550, "creation_date": 1533188755, "last_edit_date": 1533189620, "question_id": 51646307, "link": "https://stackoverflow.com/questions/51646307/how-to-skip-the-first-occurrence-of-a-pattern-and-replace-rest-of-the-string-fro", "title": "How to skip the first occurrence of a pattern and replace rest of the string from second occurrence", "body": "<p>I would like to skip the first occurrence of a pattern (<code>_</code> in this example) and then substitute rest of the string including the pattern with tab. For example:</p>\n\n<pre><code>T004_7_entry_00007_conf_01\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>T004_7\n</code></pre>\n\n<p>I have tried the following in sed:</p>\n\n<pre><code>sed 's/_.*\\t/\\t/'\n</code></pre>\n"}, {"tags": ["perl", "byte", "inline", "substr", "perlapi"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 10168905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e092d13eb613d4c471f9ae3caa21862?s=128&d=identicon&r=PG&f=1", "display_name": "GoetzM", "link": "https://stackoverflow.com/users/10168905/goetzm"}, "edited": false, "score": 0, "creation_date": 1533702866, "post_id": 51648909, "comment_id": 90437559, "body": "Dear Ikegami, right now I am reading these lines for the frirst time. On saturday my son (8y) had a very serious accident at the playground  and we were in hospital. I see it works (yeah!!!9) will now adapt it for 9 byte steps(you showed already the &quot;unpack&quot;) with check for the passed 4 byte search value position. Thank you so much for your patience. A warm thanks to you. Goetz"}, {"owner": {"reputation": 41, "user_id": 10168905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e092d13eb613d4c471f9ae3caa21862?s=128&d=identicon&r=PG&f=1", "display_name": "GoetzM", "link": "https://stackoverflow.com/users/10168905/goetzm"}, "edited": false, "score": 0, "creation_date": 1533703473, "post_id": 51648909, "comment_id": 90437729, "body": "Ikegami I will have to pass a  reference within a string (within hash of strings) and the 4 byte value to search. But I will be able to do this alone....hopefully."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 41, "user_id": 10168905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e092d13eb613d4c471f9ae3caa21862?s=128&d=identicon&r=PG&f=1", "display_name": "GoetzM", "link": "https://stackoverflow.com/users/10168905/goetzm"}, "edited": false, "score": 0, "creation_date": 1533703548, "post_id": 51648909, "comment_id": 90437751, "body": "No idea what you mean by a &quot;reference within a string&quot;, but there&#39;s absolutely no reason to pass a reference. A hash element (e.g. <code>$hash{foo}</code>) is just a scalar, so just pass that"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 41, "user_id": 10168905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e092d13eb613d4c471f9ae3caa21862?s=128&d=identicon&r=PG&f=1", "display_name": "GoetzM", "link": "https://stackoverflow.com/users/10168905/goetzm"}, "edited": false, "score": 0, "creation_date": 1533703660, "post_id": 51648909, "comment_id": 90437775, "body": "And again, just use <code>index</code>!"}, {"owner": {"reputation": 41, "user_id": 10168905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e092d13eb613d4c471f9ae3caa21862?s=128&d=identicon&r=PG&f=1", "display_name": "GoetzM", "link": "https://stackoverflow.com/users/10168905/goetzm"}, "edited": false, "score": 0, "creation_date": 1533703862, "post_id": 51648909, "comment_id": 90437818, "body": "I used &quot;use bytes&quot;, because I thought the length+substr commands might fail sometimes because of a falsely utf8 interpretation in my binary strings. I cant use index, because I have strictly 9 byte steps in search for 4 byte value AND will adapt you solution to a binary search because of large strings. (this is running with array instead of substr of a string  perfectly (also in C)  but needs to much memory)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 41, "user_id": 10168905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e092d13eb613d4c471f9ae3caa21862?s=128&d=identicon&r=PG&f=1", "display_name": "GoetzM", "link": "https://stackoverflow.com/users/10168905/goetzm"}, "edited": false, "score": 0, "creation_date": 1533703922, "post_id": 51648909, "comment_id": 90437834, "body": "<code>use bytes;</code> is garbage, which is why its own documentation says not to use it. If you&#39;re lucky, it won&#39;t do anything at all. If you aren&#39;t, it will cause <code>length</code> to return something other than the length of your string, and it will cause <code>substring</code> to return strings that aren&#39;t in your string."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 41, "user_id": 10168905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e092d13eb613d4c471f9ae3caa21862?s=128&d=identicon&r=PG&f=1", "display_name": "GoetzM", "link": "https://stackoverflow.com/users/10168905/goetzm"}, "edited": false, "score": 0, "creation_date": 1533706172, "post_id": 51648909, "comment_id": 90438435, "body": "A binary search would require the values to be sorted"}, {"owner": {"reputation": 41, "user_id": 10168905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e092d13eb613d4c471f9ae3caa21862?s=128&d=identicon&r=PG&f=1", "display_name": "GoetzM", "link": "https://stackoverflow.com/users/10168905/goetzm"}, "edited": false, "score": 0, "creation_date": 1533719072, "post_id": 51648909, "comment_id": 90445312, "body": "I know, right now I use a binary search over a sorted arrays (in an hash off arrays). Runs perfectly under Perl and under C /(with reference to one of the arrays) but memory usage forces me to stay at my binary string (which is sorted already) :) Now I have time to adapt to pass reference, 4 byte check value and search with 9 byte jumps. I am happy you helped so much!"}, {"owner": {"reputation": 41, "user_id": 10168905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e092d13eb613d4c471f9ae3caa21862?s=128&d=identicon&r=PG&f=1", "display_name": "GoetzM", "link": "https://stackoverflow.com/users/10168905/goetzm"}, "edited": false, "score": 0, "creation_date": 1533719880, "post_id": 51648909, "comment_id": 90445828, "body": "Yeah, referencing and passed decimal integer search phrase works (saving the unpack, also for comparision is next step- 4 chars against 4 chars) , Now I have to use your unpack solution for 4 byte unpack or shift to compare four chars as binary search item (you showed with block already)"}, {"owner": {"reputation": 41, "user_id": 10168905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e092d13eb613d4c471f9ae3caa21862?s=128&d=identicon&r=PG&f=1", "display_name": "GoetzM", "link": "https://stackoverflow.com/users/10168905/goetzm"}, "edited": false, "score": 0, "creation_date": 1533804312, "post_id": 51648909, "comment_id": 90483884, "body": "Hello Ikegami, everything is working but I have problems with the unpack funktion. Your suggestion looks good but lets pack in this way: $val=pack &quot;N&quot;,3000000000. I checked that p[3] contains the lowest char and has not to be shifted, but with sig = (p[0] &lt;&lt; 24) | (p[1] &lt;&lt; 16) | (p[2] &lt;&lt; 8) | p[3]; I always get -3121664. When analysing the byte converted chars, I see they are always signed, sig is also, although I define it as unsigned long or uint32_t. Maybe the cast from char forces signed bytes and that creates an error...Do you have an idea?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 41, "user_id": 10168905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e092d13eb613d4c471f9ae3caa21862?s=128&d=identicon&r=PG&f=1", "display_name": "GoetzM", "link": "https://stackoverflow.com/users/10168905/goetzm"}, "edited": false, "score": 0, "creation_date": 1533804648, "post_id": 51648909, "comment_id": 90484083, "body": "1) Stop asking new questions in the comments. You aren&#39;t even asking Perl questions anymore! 2) You are mistaken. A <code>uint32_t</code> can&#39;t possible have <code>-3121664</code> for value. That said, there could be a bug that&#39;s fixed by casting the <code>char</code> values to <code>unsigned char</code> values"}, {"owner": {"reputation": 41, "user_id": 10168905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e092d13eb613d4c471f9ae3caa21862?s=128&d=identicon&r=PG&f=1", "display_name": "GoetzM", "link": "https://stackoverflow.com/users/10168905/goetzm"}, "edited": false, "score": 0, "creation_date": 1533810068, "post_id": 51648909, "comment_id": 90487607, "body": "Usigned Char, that was it. Thanks.Did not know that only Perl should discussed. Evrything perfect now! Thread can be closed."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 41, "user_id": 10168905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e092d13eb613d4c471f9ae3caa21862?s=128&d=identicon&r=PG&f=1", "display_name": "GoetzM", "link": "https://stackoverflow.com/users/10168905/goetzm"}, "edited": false, "score": 0, "creation_date": 1533810211, "post_id": 51648909, "comment_id": 90487690, "body": "Re &quot;<i>Did not know that only Perl should discussed</i>&quot;, No new questions in comments. As I mentioned already, if you have a new question to ask, <a href=\"https://stackoverflow.com/questions/ask\">ask a new Question</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 41, "user_id": 10168905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e092d13eb613d4c471f9ae3caa21862?s=128&d=identicon&r=PG&f=1", "display_name": "GoetzM", "link": "https://stackoverflow.com/users/10168905/goetzm"}, "edited": false, "score": 0, "creation_date": 1533810236, "post_id": 51648909, "comment_id": 90487708, "body": "Re &quot;<i>Thread can be closed.</i>&quot;, There are no threads on SO. There are questions and answers. If the answer meets your needs, check the mark next to it."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1533804954, "last_edit_date": 1533804954, "creation_date": 1533198282, "answer_id": 51648909, "question_id": 51645700, "link": "https://stackoverflow.com/questions/51645700/perl-api-inline-c-how-to-get-get-a-substr-of-a-perl-byte-string-by-reference-wi/51648909#51648909", "title": "Perl API Inline C: How to get get a substr of a Perl byte string by reference without copying that string", "body": "<pre class=\"lang-c prettyprint-override\"><code>#include &lt;stdint.h&gt;\n#include &lt;string.h&gt;\n\nvoid foo(SV* sv) {\n    STRLEN len;\n    const char *buf = SvPVbyte(sv, len);\n\n    if (len &lt; 4) {\n        /* ... Error ... */\n    }\n\n    uint32_t sig =\n        ((unsigned char)(buf[0]) &lt;&lt; 24) |\n        ((unsigned char)(buf[1]) &lt;&lt; 16) |\n        ((unsigned char)(buf[2]) &lt;&lt;  8) |\n        ((unsigned char)(buf[3]) &lt;&lt;  0);\n\n    buf += 4;\n    len -= 4;\n    if (sig != ...) {\n        /* ... Error ... */\n    }\n\n    while (len &gt;= 9) {\n        char block[9];\n        memcpy(block, buf, 9);\n        buf += 9;\n        len -= 9;\n\n        /* ... Use block ... */\n    }\n\n    if (len &gt; 0) {\n        /* ... Error ... */\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>[<em>This is an answer to the question in the comments</em>]</p>\n\n<ul>\n<li>NEVER use <code>use bytes;</code>. \"Use of this module for anything other than debugging purposes is strongly discouraged.\" (And it's not actually useful for debugging purposes. Devel::Peek is more useful.)</li>\n<li>Absolutely no reason to use <code>our</code> here.</li>\n<li>An <code>int</code> could be too small for the return value.</li>\n<li>It's not working because you're searching the stringification of a reference.</li>\n<li>In fact, there's no need to create a reference.</li>\n</ul>\n\n<p>&#x20;</p>\n\n<pre><code>use strict;\nuse warnings qw( all );\n\nuse Inline C =&gt; &lt;&lt;'__EOS__';\n\nSV* find_first_pos_of_43h_in_byte_string(SV* sv) {\n    STRLEN len;\n    const char *p_start = SvPVbyte(sv, len);\n    const char *p = p_start;\n    const char *p_end = p_start + len;\n    for (; p &lt; p_end; ++p) {\n        if (*p == 0x43)\n            return newSVuv(p - p_start);\n    }\n\n    return newSViv(-1);\n}\n\n__EOS__\n\nmy $buf = \"\\x00\\x00\\x43\\x01\\x01\\x01\";\nmy $pos = find_first_pos_of_43h_in_byte_string($buf);\n</code></pre>\n\n<p>Of course, you could simply use</p>\n\n<pre><code>use strict;\nuse warnings qw( all );\n\nmy $buf = \"\\x00\\x00\\x43\\x01\\x01\\x01\";\nmy $pos = index($buf, chr(67));\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 10168905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e092d13eb613d4c471f9ae3caa21862?s=128&d=identicon&r=PG&f=1", "display_name": "GoetzM", "link": "https://stackoverflow.com/users/10168905/goetzm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1533804954, "creation_date": 1533185348, "last_edit_date": 1533198386, "question_id": 51645700, "link": "https://stackoverflow.com/questions/51645700/perl-api-inline-c-how-to-get-get-a-substr-of-a-perl-byte-string-by-reference-wi", "title": "Perl API Inline C: How to get get a substr of a Perl byte string by reference without copying that string", "body": "<p>Hello community I hope I can meet some byte string experts here.\nI guess SvPVbyte comes into play, but how?</p>\n\n<p>My problem.\nI already sucessfully parse Perl array XYZ (within a hash of arrays) with example index 6789) within Inline:C with Perl: </p>\n\n<pre><code>$testn=pnp($lengthofXYZ,\\@{$XYZ{$_}});\n</code></pre>\n\n<p>Inline C: </p>\n\n<pre><code>int pnp ( int n, SV *vertx)\nAV *arrayx;\ndouble val_of_interest;\narrayx = (AV *)SvRV( vertx );\nSV **yi;\nyi = av_fetch( arrayx, 6789, 0 );\nval_of_interest = SvNV( *yi );\nreturn calculation_with_val_of_interest\n</code></pre>\n\n<p>This works perfectly. But lets say I have a very long byte string (about 10-50MB) in Perl\n$xyz=\"\\x09\\x07\\x44\\xaa......</p>\n\n<p>Now I want to pass a reference to this SV and walk in 9 byte steps (substr like) in C part throu this string without copying it completely in an own C array for example.</p>\n\n<p>The walking part:\nfirst 4 bytes shall be checked against a reference 4 Byte value ABC that also shall be in the function call. If necessary I can unpack \"N\" this search phrase before and call function with integer.\nIf postition 0 not successfull jump/increment 9 bytes furter, if sucessfull I will deliver the found position as return.</p>\n\n<p>Thank you so much.</p>\n"}, {"tags": ["shell", "perl", "unix", "grep"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533176232, "post_id": 51644132, "comment_id": 90253258, "body": "<code>perl -pe&#39;s&#47;^try.csv:\\K&#47;,&#47;&#39;</code>"}, {"owner": {"reputation": 3543, "user_id": 6329118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a20c0ed8a82fd967952e2539203af9?s=128&d=identicon&r=PG&f=1", "display_name": "CWLiu", "link": "https://stackoverflow.com/users/6329118/cwliu"}, "edited": false, "score": 0, "creation_date": 1533179514, "post_id": 51644132, "comment_id": 90253881, "body": "<code>sed &#39;s&#47;^[^:]*:&#47;&amp;,&#47;&#39;</code>"}, {"owner": {"reputation": 3, "user_id": 10062112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fIeXWLDNAss/AAAAAAAAAAI/AAAAAAAAAVg/qahHK01AZPU/photo.jpg?sz=128", "display_name": "Mr. Sheep The Great", "link": "https://stackoverflow.com/users/10062112/mr-sheep-the-great"}, "edited": false, "score": 0, "creation_date": 1533181382, "post_id": 51644132, "comment_id": 90254280, "body": "sed works perfectly fine. thanks. CWLiu can you explain this to me how is this works ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3543, "user_id": 6329118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a20c0ed8a82fd967952e2539203af9?s=128&d=identicon&r=PG&f=1", "display_name": "CWLiu", "link": "https://stackoverflow.com/users/6329118/cwliu"}, "edited": false, "score": 0, "creation_date": 1533202242, "post_id": 51644132, "comment_id": 90263654, "body": "@CWLiu: <code>sed &#39;s&#47;^[^:]*:&#47;&amp;,&#47;&#39;</code> is the same as <code>sed &#39;s&#47;:&#47;&amp;,&#47;&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1533202466, "post_id": 51646105, "comment_id": 90263811, "body": "There&#39;s no need to anchor the regex and match everything up to the first colon. <code>&#47;:&#47;</code> on its own will match the first colon, and <code>sed &#39;s&#47;:&#47;&amp;,&#47;&#39;</code> is sufficient."}], "tags": [], "owner": {"reputation": 3543, "user_id": 6329118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a20c0ed8a82fd967952e2539203af9?s=128&d=identicon&r=PG&f=1", "display_name": "CWLiu", "link": "https://stackoverflow.com/users/6329118/cwliu"}, "is_accepted": true, "score": 0, "last_activity_date": 1533203251, "last_edit_date": 1533203251, "creation_date": 1533187710, "answer_id": 51646105, "question_id": 51644132, "link": "https://stackoverflow.com/questions/51644132/grep-is-there-a-way-to-use-grep-inserting-a-text-between-filename-and-the-patte/51646105#51646105", "title": "GREP: is there a way to use grep inserting a text between filename and the pattern?", "body": "<p>You may insert a comma by using <code>sed</code>,</p>\n\n<pre><code>$ grep --color -EH \"^([^,]*\\,){3}5\" try.csv | sed 's/:/&amp;,/'\n</code></pre>\n\n<p><code>s/:/&amp;,/</code>: the the special character &amp; in the replacement refers to that portion of the string which matched. And you may add a comma behind <code>&amp;</code> to meet your requirement.</p>\n"}], "owner": {"reputation": 3, "user_id": 10062112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fIeXWLDNAss/AAAAAAAAAAI/AAAAAAAAAVg/qahHK01AZPU/photo.jpg?sz=128", "display_name": "Mr. Sheep The Great", "link": "https://stackoverflow.com/users/10062112/mr-sheep-the-great"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 51646105, "answer_count": 1, "score": 0, "last_activity_date": 1570966417, "creation_date": 1533171226, "last_edit_date": 1570966417, "question_id": 51644132, "link": "https://stackoverflow.com/questions/51644132/grep-is-there-a-way-to-use-grep-inserting-a-text-between-filename-and-the-patte", "title": "GREP: is there a way to use grep inserting a text between filename and the pattern?", "body": "<p>I have <code>grep --color -EH \"^([^,]*\\,){3}5\" try.csv</code></p>\n\n<p>and the output it does is this:</p>\n\n<pre><code>try.csv:410,30151010,K,5001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,512\ntry.csv:652,20151010,K,5001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,41\ntry.csv:109,30151010,R,5005,,,,,,,,,,,,,,,,,,,,,,,,,,,,,455\n</code></pre>\n\n<p>I tried <code>grep --color -EH \"^([^,]*,){3}5\" try.csv | perl -ne 'print \",$_\"'</code></p>\n\n<p>but the output looks like this :</p>\n\n<pre><code>,try.csv:410,30151010,K,5001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,512\n,try.csv:652,20151010,K,5001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,41\n,try.csv:109,30151010,R,5005,,,,,,,,,,,,,,,,,,,,,,,,,,,,,455\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>try.csv:,410,30151010,K,5001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,512\ntry.csv:,652,20151010,K,5001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,41\ntry.csv:,109,30151010,R,5005,,,,,,,,,,,,,,,,,,,,,,,,,,,,,455\n</code></pre>\n\n<p>I am very new to Perl and shell. I'm searching in the CSV files.</p>\n"}]