[{"tags": ["mysql", "perl", "cgi"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1446073764, "post_id": 33403100, "comment_id": 54597808, "body": "Is that <code>&lt;form&gt;</code> really just hanging out in the middle of your code like that?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1446074859, "post_id": 33403100, "comment_id": 54598216, "body": "Is that <code>triallast.pl</code>? Which is line 125?"}, {"owner": {"reputation": 31, "user_id": 5415955, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ac81595bbe8c3e181e6032f1be2a2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "S.taj", "link": "https://stackoverflow.com/users/5415955/s-taj"}, "edited": false, "score": 0, "creation_date": 1446078551, "post_id": 33403100, "comment_id": 54599396, "body": "the problem is lne with an &quot;if &quot; statement, and yes i had eventually closed the form later in my script."}, {"owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "edited": false, "score": 1, "creation_date": 1446092167, "post_id": 33403100, "comment_id": 54603038, "body": "make sure to print your form, change to <code>print( qq{&lt;form action = &quot;$ENV{SCRIPT_NAME}&quot; method=&quot;GET&quot;&gt;} );</code>"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1446120044, "creation_date": 1446120044, "answer_id": 33413666, "question_id": 33403100, "link": "https://stackoverflow.com/questions/33403100/specified-cgi-application-misbehaved-by-not-returning-a-complete-set-of-http-hea/33413666#33413666", "title": "Specified CGI application misbehaved by not returning a complete set of HTTP headers", "body": "<p>The problem is caused by the chunk of HTML that you have put in the middle of your Perl code. That doesn't work.</p>\n\n<pre><code>&lt;form action = \"$ENV{SCRIPT_NAME}\" method=\"GET\"&gt;\n</code></pre>\n\n<p>Any HTML in your Perl code needs to be in a string which eventually gets printed to STDOUT. So that link should probably be:</p>\n\n<pre><code>print qq(&lt;form action = \"$ENV{SCRIPT_NAME}\" method=\"GET\"&gt;);\n</code></pre>\n\n<p>Note, I've used <code>qq(...)</code> here as you want a double-quoted string, but the content of your string already contains double-quote characters. Using <code>qq(...)</code> is a nice way to handle that without having to escape the embedded double-quotes.</p>\n\n<p>That will fix your problem. But it seems that you also need to work on your understanding of how this stuff works. I'm not sure how you realised that you needed to print the <code>&lt;html&gt;</code> and <code>&lt;body&gt;</code> lines, but didn't see the need to print the <code>&lt;form&gt;</code> line.</p>\n\n<p>And, besides all that, it's 2015. Putting raw HTML into CGI programs has been outdated for fifteen years. Please make your life easier by reading <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow\">CGI::Alternatives</a> and choosing a more maintainable way to do this.</p>\n"}], "owner": {"reputation": 31, "user_id": 5415955, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ac81595bbe8c3e181e6032f1be2a2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "S.taj", "link": "https://stackoverflow.com/users/5415955/s-taj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 1, "accepted_answer_id": 33413666, "answer_count": 1, "score": 0, "last_activity_date": 1446255935, "creation_date": 1446073369, "last_edit_date": 1446255935, "question_id": 33403100, "link": "https://stackoverflow.com/questions/33403100/specified-cgi-application-misbehaved-by-not-returning-a-complete-set-of-http-hea", "title": "Specified CGI application misbehaved by not returning a complete set of HTTP headers", "body": "<p>I don't find any error in my script in if statement where \"submit\" is a parameter passed in html form for this script. The error says</p>\n\n<blockquote>\n  <p>\"The headers it did return are \"syntax error at\n  C:\\perlscripts\\triallast.pl line 125, near \") {\"</p>\n</blockquote>\n\n<p>I am not able to understand what could be the reason for this error. Can someone help me?</p>\n\n<pre><code>print (\"&lt;html&gt;&lt;head&gt;&lt;title&gt;Test insert questions&lt;/title&gt;&lt;/head&gt;\\n\");\n  print (\"&lt;body&gt;\\n\");\n  &lt;form action = \"$ENV{SCRIPT_NAME}\" method=\"GET\"&gt;\n\n if (defined (param (\"submit\"))) {\n$sql = \"INSERT INTO $quiz_table_name ##(qnumber,question,answer,choice1,choice2,choice3,choice4,choice5)##\nvalues(?, ?, ?, ?, ?, ?, ?, ?)\";\n\n if (!defined ($sql)) { \n     &amp;errorPage(\"Can't insert \" . $sql-&gt;errstr());\n    }\n$qObj= $dbhandle-&gt;prepare($sql)or &amp;errorPage(\"Can't prepare\");\n$qObj-&gt;execute($formHash{'qnumber'}, $formHash{'question'}, $formHash{'answer'}, $formHash{'choice1'}, $formHash{'choice2'}, $formHash{'choice3'}, $formHash{'choice4'}, $formHash{'choice5'});\n$dbhandle-&gt;do(sql);\n$qObj-&gt;finish();\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "grep"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446068483, "post_id": 33401984, "comment_id": 54595453, "body": "What problem are you having?"}, {"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "edited": false, "score": 0, "creation_date": 1446068772, "post_id": 33401984, "comment_id": 54595618, "body": "Please add a couple of lines of lines in <code>shipLogFile</code> look like in the original question."}, {"owner": {"reputation": 1, "user_id": 5481863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2614ff77dff0c240bfed13d76db71f4?s=128&d=identicon&r=PG&f=1", "display_name": "Luxy", "link": "https://stackoverflow.com/users/5481863/luxy"}, "edited": false, "score": 0, "creation_date": 1446068799, "post_id": 33401984, "comment_id": 54595628, "body": "I am not sure if this line is right &quot;&quot;next if (!m/::RUNTIME:: SHIP end time/date:/);&quot;&quot; because I see in my texteditor &quot;date:/ &quot; showing in a different color. So I am guessing the syntax is wrong."}, {"owner": {"reputation": 1, "user_id": 5481863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2614ff77dff0c240bfed13d76db71f4?s=128&d=identicon&r=PG&f=1", "display_name": "Luxy", "link": "https://stackoverflow.com/users/5481863/luxy"}, "reply_to_user": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "edited": false, "score": 0, "creation_date": 1446068875, "post_id": 33401984, "comment_id": 54595674, "body": "@shawn - ok I added it to my question. The lines of shipLogFile"}, {"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "edited": false, "score": 0, "creation_date": 1446069199, "post_id": 33401984, "comment_id": 54595852, "body": "Thanks, but I want to to see your data, the file you are feeding to the csh script."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446069250, "post_id": 33401984, "comment_id": 54595876, "body": "If you have a forward slash inside a regex bounded by forward slashes, you need to escape it (<code>\\&#47;</code>) or choose different delimiters."}, {"owner": {"reputation": 1, "user_id": 5481863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2614ff77dff0c240bfed13d76db71f4?s=128&d=identicon&r=PG&f=1", "display_name": "Luxy", "link": "https://stackoverflow.com/users/5481863/luxy"}, "edited": false, "score": 0, "creation_date": 1446069341, "post_id": 33401984, "comment_id": 54595942, "body": "Oh, I do not have that file with me."}, {"owner": {"reputation": 1, "user_id": 5481863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2614ff77dff0c240bfed13d76db71f4?s=128&d=identicon&r=PG&f=1", "display_name": "Luxy", "link": "https://stackoverflow.com/users/5481863/luxy"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446069700, "post_id": 33401984, "comment_id": 54596134, "body": "Thanks, it worked after I escaped it as @MattJacob mentioned. &quot;next if (!m/::RUNTIME:: SHIP end time//date:/);&quot;&quot;."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446070068, "post_id": 33401984, "comment_id": 54596296, "body": "Uhhh... that&#39;s a syntax error (and also not what I suggested). I&#39;m tempted to flag this question as a typo, because had you attempted to run this code, Perl immediately would have alerted you to the problem."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1446071567, "creation_date": 1446071567, "answer_id": 33402725, "question_id": 33401984, "link": "https://stackoverflow.com/questions/33401984/i-am-working-on-grep-and-zgrep-ing-a-file/33402725#33402725", "title": "I am working on grep and zgrep ing a file", "body": "<blockquote>\n  <p>I am not sure if this line is right \"\"<code>next if (!m/::RUNTIME:: SHIP end time/date:/);</code>\"\" because I see in my texteditor \"<code>date:/</code>\" showing in a different color. So I am guessing the syntax is wrong. </p>\n</blockquote>\n\n<p>Yup, you're right (as a quick test would have told you). Since you chose <code>/</code> as your delimiter, it marks the end of the pattern. What follows are the two most commonly-used solutions:</p>\n\n<pre><code>next if !/::RUNTIME:: SHIP end time\\/date:/;   # Escape\nnext if !m{::RUNTIME:: SHIP end time/date:};   # Alternate delimiter.\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5481863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2614ff77dff0c240bfed13d76db71f4?s=128&d=identicon&r=PG&f=1", "display_name": "Luxy", "link": "https://stackoverflow.com/users/5481863/luxy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1446071567, "creation_date": 1446068027, "last_edit_date": 1446068944, "question_id": 33401984, "link": "https://stackoverflow.com/questions/33401984/i-am-working-on-grep-and-zgrep-ing-a-file", "title": "I am working on grep and zgrep ing a file", "body": "<p>I am new to regex and Perl. Can you please help if this is a right syntax in Perl when porting from csh:</p>\n\n<p><strong>csh:</strong></p>\n\n<pre><code>set shipDate = `zgrep \"::RUNTIME:: SHIP end time/date:\" $shipLogFile | sed 's/.*time\\/date\\://g' | sed 's#\"##g'`\n</code></pre>\n\n<p><strong>Perl:</strong></p>\n\n<pre><code>  my $wardSwizzled     = \"$WARD/ship/ip/${DBB1}/swizzled\";\n  my $wardpds          = \"$wardSwizzled/pds/logs/${DBB1}\";\n  my $accept10SumFile  = \"$wardpds.ccdo_accept10.iss.log.sum\";\n  my $wardReview       = \"$wardSwizzled/review/${DBB1}\";\n  my $reviewCloseFile  = \"$wardReview.close\";\n  my $wardship         = \"$WARD/ship/log/${DBB1}\";    \n  my $shipLogFile      = \"$wardship.ship.log\";\n\n  my @shipDate;\n  open my $fh, '&lt;', $shipLogFile or die \"Can't open $shipLogFile: $!\";\n  while (&lt;$fh&gt;)\n  {\n  next if (!m/::RUNTIME:: SHIP end time/date:/);\n  push @shipDate, $.;\n  }\n  close $fh;\n</code></pre>\n"}, {"tags": ["arrays", "string", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446070781, "post_id": 33401331, "comment_id": 54596578, "body": "Please don&#39;t name your variables something like <code>@array</code>. The <code>@</code> says that it&#39;s an array; the letters are supposed to convey something useful about the purpose of its contents"}], "answers": [{"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1446066090, "post_id": 33401459, "comment_id": 54594310, "body": "This is a case where I would recommend <i>against</i> using POSIX character classes. They&#39;re great when you&#39;re parsing language and want to make sure you&#39;re correctly internationalized. However, the encoding is likely specifically the ASCII characters A to Z. You <i>don&#39;t</i> want to pick up things like &#209; or &#180;E."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1446070872, "post_id": 33401459, "comment_id": 54596616, "body": "@Schwern: Those aren&#39;t POSIX character classes, they&#39;re Unicode properties"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446070982, "post_id": 33401459, "comment_id": 54596651, "body": "@Borodin Technically correct! Don&#39;t use either of them here."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1446071276, "post_id": 33401459, "comment_id": 54596754, "body": "@Schwern: Although I&#39;m not certain of the difference between <code>\\p{Upper}</code> and <code>\\p{Lu}</code>. And it&#39;s worth noting that Perl 5.14 and better has the <code>&#47;a</code> modifer, so <code>&#47;\\p{Lu}&#47;a</code> is the same as <code>&#47;[A-Z]&#47;</code>; I&#39;m not sure which I prefer"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446072033, "post_id": 33401459, "comment_id": 54597074, "body": "@Borodin I would very much prefer seeing the very straightforward <code>[A-Z]</code> vs having to go look up what <code>\\p{Lu}</code> and <code>&#47;a</code> do and requiring 5.14. <code>&#47;a</code> is nice to know about though."}], "tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 2, "last_activity_date": 1446066428, "last_edit_date": 1446066428, "creation_date": 1446065806, "answer_id": 33401459, "question_id": 33401331, "link": "https://stackoverflow.com/questions/33401331/how-to-split-the-entire-string-into-array-in-perl/33401459#33401459", "title": "How to split the entire string into array in Perl", "body": "<p>What you're missing is the ability to capture <em>less</em> than 58 characters. And since you only want to do that if it's the end, you can do this:</p>\n\n<pre><code>/[A-Z]{58}|[A-Z]{1,57}\\z/\n</code></pre>\n\n<p>Which I would prefer to write like this: </p>\n\n<pre><code>/\\p{Upper}{58}|\\p{Upper}{1,57}\\z/\n</code></pre>\n\n<p>However, since this expression is <em>greedy</em> by default, it will prefer to gather 58 characters, and only default to less when it runs out of matching input. </p>\n\n<pre><code>/\\p{Upper}{1,58}/\n</code></pre>\n\n<p>Or, for reasons as Schwern mentions (such as avoiding any foreign letters)</p>\n\n<pre><code>/[A-Z]{1,58}/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 5, "last_activity_date": 1446066238, "last_edit_date": 1446066238, "creation_date": 1446065814, "answer_id": 33401463, "question_id": 33401331, "link": "https://stackoverflow.com/questions/33401331/how-to-split-the-entire-string-into-array-in-perl/33401463#33401463", "title": "How to split the entire string into array in Perl", "body": "<p>You've almost got it. You need to change your regex to allow for 1 to 58 characters.</p>\n\n<pre><code>my @array = $string =~ /[A-Z]{1,58}/g;\n</code></pre>\n\n<hr>\n\n<p>In addition, you have an error in your script using <code>@prot_seq</code> instead of <code>@array</code>. You should always <code>use strict</code> to protect yourself against this sort of thing. Here's the script with strict, warnings, and 5.10 features (to get <a href=\"http://perldoc.perl.org/functions/say.html\" rel=\"nofollow\">say</a>).</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse v5.10;\n\nmy $string = \"MAGRSHPGPLRPLLPLLVVAACVLPGAGGTCPERALERREEEAN\n              VVLTGTVEEILNVDPVQHTYSCKVRVWRYLKGKDLVARESLLDGGNKVVISGFGDPLI\n              CDNQVSTGDTRIFFVNPAPPYLWPAHKNELMLNSSLMRITLRNLEEVEFCVEDKPGTH\n              LRDVVVGRHPLHLLEDAVTKPELRPCPTP\";\n\n# Strip whitespace.\n$string =~ s/\\s+//g;\n\n# Split the string into fragments of 58 characters or less\nmy @fragments = $string =~ /[A-Z]{1,58}/g;\n\nsay \"Num fragments: \".scalar @fragments;\nsay join \"\\n\", @fragments;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1446071135, "post_id": 33402094, "comment_id": 54596708, "body": "This answer assumes the data is entirely made of <code>A-Z</code>. It&#39;s also destructive."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1446071287, "post_id": 33402094, "comment_id": 54596760, "body": "Both of which are valid assumptions, I think, given the sample input and the fact that the original question was <i>already</i> modifying <code>$string</code>."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1446068498, "creation_date": 1446068498, "answer_id": 33402094, "question_id": 33401331, "link": "https://stackoverflow.com/questions/33401331/how-to-split-the-entire-string-into-array-in-perl/33402094#33402094", "title": "How to split the entire string into array in Perl", "body": "<p>If you don't actually need regex character classes, this is how I'd do it:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dump;\n\nmy $string = \"MAGRSHPGPLRPLLPLLVVAACVLPGAGGTCPERALERREEEAN\n              VVLTGTVEEILNVDPVQHTYSCKVRVWRYLKGKDLVARESLLDGGNKVVISGFGDPLI\n              CDNQVSTGDTRIFFVNPAPPYLWPAHKNELMLNSSLMRITLRNLEEVEFCVEDKPGTH\n              LRDVVVGRHPLHLLEDAVTKPELRPCPTP\";\n\n$string =~ s/\\s+//g;\n\nmy @chunks;\n\nwhile (length($string)) {\n    push(@chunks, substr($string, 0, 58, ''));\n}\n\ndd($string, \\@chunks);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>(\n  \"\",\n  [\n    \"MAGRSHPGPLRPLLPLLVVAACVLPGAGGTCPERALERREEEANVVLTGTVEEILNVD\",\n    \"PVQHTYSCKVRVWRYLKGKDLVARESLLDGGNKVVISGFGDPLICDNQVSTGDTRIFF\",\n    \"VNPAPPYLWPAHKNELMLNSSLMRITLRNLEEVEFCVEDKPGTHLRDVVVGRHPLHLL\",\n    \"EDAVTKPELRPCPTP\",\n  ],\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1446072308, "last_edit_date": 1446072308, "creation_date": 1446071864, "answer_id": 33402786, "question_id": 33401331, "link": "https://stackoverflow.com/questions/33401331/how-to-split-the-entire-string-into-array-in-perl/33402786#33402786", "title": "How to split the entire string into array in Perl", "body": "<p>You may prefer to use <code>unpack</code>, like this</p>\n\n<pre><code>$string =~ s/\\s+//g;    \nmy @fragments = unpack '(A58)*', $string;\n</code></pre>\n\n<p>Or if you would rather leave <code>$string</code> unchanged and have v5.14 or better of Perl, then you can write</p>\n\n<pre><code>my @fragments = unpack '(A58)*', $string =~ s/\\s+//gr;\n</code></pre>\n"}], "owner": {"reputation": 2167, "user_id": 2237387, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f10bc46df3b1fa41b60201ac9af5da39?s=128&d=identicon&r=PG", "display_name": "cooldood3490", "link": "https://stackoverflow.com/users/2237387/cooldood3490"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 33401463, "answer_count": 4, "score": 0, "last_activity_date": 1446072308, "creation_date": 1446065251, "last_edit_date": 1446065857, "question_id": 33401331, "link": "https://stackoverflow.com/questions/33401331/how-to-split-the-entire-string-into-array-in-perl", "title": "How to split the entire string into array in Perl", "body": "<p>I'm trying to process an entire string but the way my code is written, part of it is not being processed. Here's a representation of my code:</p>\n\n<pre><code>#!/usr/bin/perl\nmy $string = \"MAGRSHPGPLRPLLPLLVVAACVLPGAGGTCPERALERREEEAN\n              VVLTGTVEEILNVDPVQHTYSCKVRVWRYLKGKDLVARESLLDGGNKVVISGFGDPLI\n              CDNQVSTGDTRIFFVNPAPPYLWPAHKNELMLNSSLMRITLRNLEEVEFCVEDKPGTH\n              LRDVVVGRHPLHLLEDAVTKPELRPCPTP\";\n\n$string =~ s/\\s+//g;     # remove white space from string\n# split the string into fragments of 58 characters and store in array\nmy @array = $string =~ /[A-Z]{58}/g;   \nmy $len = scalar @array;\nprint $len . \"\\n\";    # this prints 3\n# print the fragments\nprint $array[0] . \"\\n\";\nprint $array[1] . \"\\n\";\nprint $array[2] . \"\\n\";\nprint $array[3] . \"\\n\";\n</code></pre>\n\n<p>The code outputs the following:</p>\n\n<pre><code>3\nMAGRSHPGPLRPLLPLLVVAACVLPGAGGTCPERALERREEEANVVLTGTVEEILNVD\nPVQHTYSCKVRVWRYLKGKDLVARESLLDGGNKVVISGFGDPLICDNQVSTGDTRIFF\nVNPAPPYLWPAHKNELMLNSSLMRITLRNLEEVEFCVEDKPGTHLRDVVVGRHPLHLL\n&lt;blank space&gt; \n</code></pre>\n\n<p>Notice that the rest of the string <code>EDAVTKPELRPCPTP</code> is not stored in <code>@array</code>. When I'm creating my array, how do I store <code>EDAVTKPELRPCPTP</code>? Perhaps I could store it in <code>$array[3]</code>?</p>\n"}, {"tags": ["perl", "sed"], "comments": [{"owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "edited": false, "score": 0, "creation_date": 1446058324, "post_id": 33399024, "comment_id": 54589943, "body": "What is it you are trying to accomplish? Find the line numbers of the file where the textToFind is found?"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1446058325, "post_id": 33399024, "comment_id": 54589945, "body": "I&#39;m not exactly sure what you&#39;re asking.  Do you want to know how to <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> the result of your 1st example in spite of the many virtues of the 2nd approach?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446062083, "post_id": 33399024, "comment_id": 54592127, "body": "Your question is &quot;How do I use this approach&quot;, but you didn&#39;t specify the approach to which you are referring. (The approach taken by the accepted answer uses <code>s2p</code>, which you specifically excluded.)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446062147, "post_id": 33399024, "comment_id": 54592160, "body": "I think you&#39;re misunderstanding how perl works. A pattern by default applies to <code>$_</code>. <code>$_</code> is (by default) the current line. So all you need do is <code>s&#47;onething&#47;anotherthing&#47;; s&#47;somethingelse&#47;whatever&#47;; print $_;</code>"}, {"owner": {"reputation": 1, "user_id": 5481863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2614ff77dff0c240bfed13d76db71f4?s=128&d=identicon&r=PG&f=1", "display_name": "Luxy", "link": "https://stackoverflow.com/users/5481863/luxy"}, "edited": false, "score": 0, "creation_date": 1446063285, "post_id": 33399024, "comment_id": 54592810, "body": "I was assuming this approach                                                               &quot;&quot;&quot;my @linenumbers; open FH &quot;&lt;$fileToProcess&quot;; while (&lt;FH&gt;) {    next if (!m/textToFind/);    chomp;    s/.*textToFind //, s/;.*//;    push @lineNumbers, $_; }    &quot;&quot;&quot;&quot;  didnt use the s2p. May be I have misunderstood that this approach did&#39;nt use s2p."}], "answers": [{"comments": [{"owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "edited": false, "score": 0, "creation_date": 1446059026, "post_id": 33399390, "comment_id": 54590380, "body": "Thanx for the style catch. Though it&#39;s my style to put my ($var) in parans to set it off...."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446062060, "post_id": 33399390, "comment_id": 54592114, "body": "Don&#39;t. It&#39;s a bad habit. Brackets (can) alter context. That can have some subtle and nasty side effects."}], "tags": [], "owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "is_accepted": false, "score": 2, "last_activity_date": 1446058933, "last_edit_date": 1446058933, "creation_date": 1446058658, "answer_id": 33399390, "question_id": 33399024, "link": "https://stackoverflow.com/questions/33399024/how-do-you-use-sed-in-perl-part-2/33399390#33399390", "title": "How do you use sed in Perl (part 2)?", "body": "<p>What I think you are asking for is something like:</p>\n\n<pre><code>my @linenumbers;\nopen my $INPUT_FH, '&lt;', $fileToProcess;\nwhile (&lt;$INPUT_FH&gt;)\n{\n   next if (!m/textToFind/);\n   push @lineNumbers, $.;\n}\n</code></pre>\n\n<p><a href=\"http://perldoc.perl.org/perlvar.html#%24.\" rel=\"nofollow\">$.</a> is the perl variable for the line of the current file handle.</p>\n"}], "owner": {"reputation": 1, "user_id": 5481863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2614ff77dff0c240bfed13d76db71f4?s=128&d=identicon&r=PG&f=1", "display_name": "Luxy", "link": "https://stackoverflow.com/users/5481863/luxy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1446063104, "creation_date": 1446057463, "last_edit_date": 1495542217, "question_id": 33399024, "link": "https://stackoverflow.com/questions/33399024/how-do-you-use-sed-in-perl-part-2", "title": "How do you use sed in Perl (part 2)?", "body": "<p>This is a similar question to this thread <a href=\"https://stackoverflow.com/questions/611366/how-do-you-use-sed-from-perl\">How do you use sed from Perl?</a></p>\n\n<p>My question is:  I have a pipeline of sed in a csh statement such as this:</p>\n\n<pre><code>set lineNumbers= `grep \"textToFind\" $fileToProcess | s/.*textToFind //' | sed 's/;.*//'`\n</code></pre>\n\n<p>I would like to solve this issue without using s2p module such as this:</p>\n\n<pre><code>my @linenumbers;\nopen FH \"&lt;$fileToProcess\";\nwhile (&lt;FH&gt;)\n{\n   next if (!m/textToFind/);\n   chomp;\n   s/.*textToFind //, s/;.*//;\n   push @lineNumbers, $_;\n}    \n</code></pre>\n\n<p>But not sure how to include the sed pipeline in this way without using the module. I separated the second pipeline with a comma. Not sure if that is a right syntax. Any help to include both the pipeline of sed  after the chomp would be appreciable. </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["perl", "svn"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1446052647, "post_id": 33397054, "comment_id": 54586254, "body": "Do you need the output of the Subversion command? If not then you should be using <code>my $stat = system(&#39;svn&#39;, &#39;ls&#39;, $deployment_tarfile)</code> and checking the exit status. If you <i>do</i> need the output as well as the exit status then you should look at <a href=\"http://metacpan.org/module/IPC::Open2\" rel=\"nofollow noreferrer\">IPC::Open2</a> or even <a href=\"http://metacpan.org/module/IPC::Open3\" rel=\"nofollow noreferrer\">IPC::Open3</a> if you need to see STDERR as well"}, {"owner": {"reputation": 26090, "user_id": 1324345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a5646905e90183ecc762ff8ea35ca1?s=128&d=identicon&r=PG", "display_name": "alroc", "link": "https://stackoverflow.com/users/1324345/alroc"}, "edited": false, "score": 2, "creation_date": 1446053418, "post_id": 33397054, "comment_id": 54586819, "body": "Why are you calling the command-line client instead of using <a href=\"http://search.cpan.org/~mlanier/Alien-SVN-1.6.12.0/src/subversion/subversion/bindings/swig/perl/native/Client.pm\" rel=\"nofollow noreferrer\"><code>SVN::Client</code></a>?"}, {"owner": {"reputation": 41, "user_id": 5131691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dca21b28fd1445283ef549b88e3dfb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nitu", "link": "https://stackoverflow.com/users/5131691/nitu"}, "edited": false, "score": 0, "creation_date": 1446053690, "post_id": 33397054, "comment_id": 54587027, "body": "Yes I need the output of the Subversion command. I will try IPC::Open2 IPC::Open3.Thanks for information."}, {"owner": {"reputation": 41, "user_id": 5131691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dca21b28fd1445283ef549b88e3dfb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nitu", "link": "https://stackoverflow.com/users/5131691/nitu"}, "edited": false, "score": 1, "creation_date": 1446053887, "post_id": 33397054, "comment_id": 54587145, "body": "I am new to perl script and didn&#39;t know about SVN::Client and IPC::Open2.I will try to use these."}, {"owner": {"reputation": 41, "user_id": 5131691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dca21b28fd1445283ef549b88e3dfb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nitu", "link": "https://stackoverflow.com/users/5131691/nitu"}, "reply_to_user": {"reputation": 26090, "user_id": 1324345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a5646905e90183ecc762ff8ea35ca1?s=128&d=identicon&r=PG", "display_name": "alroc", "link": "https://stackoverflow.com/users/1324345/alroc"}, "edited": false, "score": 0, "creation_date": 1446172290, "post_id": 33397054, "comment_id": 54644301, "body": "@alroc, Thanks for introducing me to SVN::Client but it is not supported in python 5.8.8."}, {"owner": {"reputation": 26090, "user_id": 1324345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a5646905e90183ecc762ff8ea35ca1?s=128&d=identicon&r=PG", "display_name": "alroc", "link": "https://stackoverflow.com/users/1324345/alroc"}, "edited": false, "score": 0, "creation_date": 1446209745, "post_id": 33397054, "comment_id": 54660969, "body": "You don&#39;t need python support if your script is in Perl as you describe in your post."}, {"owner": {"reputation": 41, "user_id": 5131691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dca21b28fd1445283ef549b88e3dfb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nitu", "link": "https://stackoverflow.com/users/5131691/nitu"}, "edited": false, "score": 0, "creation_date": 1446225027, "post_id": 33397054, "comment_id": 54670924, "body": "Thanks for pointing it. I meant perl 5.8.8. Sorry for mentioning it wrong"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5131691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dca21b28fd1445283ef549b88e3dfb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nitu", "link": "https://stackoverflow.com/users/5131691/nitu"}, "edited": false, "score": 0, "creation_date": 1446053210, "post_id": 33397503, "comment_id": 54586666, "body": "I did try  $depsvn = <code>svn ls $deployment_tarfile 2&gt;$1</code>; and it worked also. but is there any special variable in perl script which can give error directly?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 41, "user_id": 5131691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dca21b28fd1445283ef549b88e3dfb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nitu", "link": "https://stackoverflow.com/users/5131691/nitu"}, "edited": false, "score": 4, "creation_date": 1446053717, "post_id": 33397503, "comment_id": 54587050, "body": "@Nitu, You want to catch what&#39;s <code>svn</code> <i>prints to a handle</i>. If you want that in a variable, you need to provide <code>svn</code> with a pipe handle, and read what it prints to the pipe from the other end of the pipe, and store that in a variable. That&#39;s what IPC::Run3&#39;s <code>run3</code> does for you."}, {"owner": {"reputation": 41, "user_id": 5131691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dca21b28fd1445283ef549b88e3dfb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nitu", "link": "https://stackoverflow.com/users/5131691/nitu"}, "edited": false, "score": 0, "creation_date": 1446171988, "post_id": 33397503, "comment_id": 54644250, "body": "Thanks ikegami for the explaination."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 5, "last_activity_date": 1446054429, "last_edit_date": 1446054429, "creation_date": 1446052820, "answer_id": 33397503, "question_id": 33397054, "link": "https://stackoverflow.com/questions/33397054/how-to-get-the-error-message-in-perl-when-a-backtick-command-fails/33397503#33397503", "title": "How to get the error message in Perl when a backtick command fails", "body": "<p><code>$!</code> and friends report OS level errors.  \"File not found\", \"Out of Space\" and the like.  <code>svn</code> on the other hand is reporting it's application level errors to <code>STDERR</code>. </p>\n\n<p>As such you can either redirect <code>svn</code>'s <code>STDERR</code> to it's <code>STDOUT</code> (easy enough to do as you are invoking the shell by adding <code>2&gt;&amp;1</code> to the end of the shell command) or to use something like <code>IPC::Run3</code> or <code>IPC::Run</code>, to get <code>STDOUT</code> &amp; <code>STDERR</code> independently.</p>\n\n<p>... of course alroc's recommendation of an SVN specific module is probably more applicable to this <em>specific</em> case.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 5131691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dca21b28fd1445283ef549b88e3dfb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nitu", "link": "https://stackoverflow.com/users/5131691/nitu"}, "edited": false, "score": 0, "creation_date": 1446172109, "post_id": 33397978, "comment_id": 54644271, "body": "Thank you for the valuable information. But currently I am using python version 5.8.8 which does not support IPC::Run3 and IPC::Run."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 41, "user_id": 5131691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dca21b28fd1445283ef549b88e3dfb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nitu", "link": "https://stackoverflow.com/users/5131691/nitu"}, "edited": false, "score": 0, "creation_date": 1446173531, "post_id": 33397978, "comment_id": 54644579, "body": "@Nitu I trust you meant Perl. <a href=\"http://matrix.cpantesters.org/?dist=IPC-Run3+0.048\" rel=\"nofollow noreferrer\">IPC::Run and IPC::Run3 should work with 5.8.8</a>. However, 5.8.8 is nine years old and I strongly suggest you upgrade. Using <a href=\"http://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew</a> will make that process easier."}, {"owner": {"reputation": 41, "user_id": 5131691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dca21b28fd1445283ef549b88e3dfb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nitu", "link": "https://stackoverflow.com/users/5131691/nitu"}, "edited": false, "score": 0, "creation_date": 1446225134, "post_id": 33397978, "comment_id": 54670988, "body": "Yes Schwern,I meant Perl only. Thanks for pointing it. and I tried using IPC::Run but it said not supported."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 41, "user_id": 5131691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dca21b28fd1445283ef549b88e3dfb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nitu", "link": "https://stackoverflow.com/users/5131691/nitu"}, "edited": false, "score": 0, "creation_date": 1446233170, "post_id": 33397978, "comment_id": 54675227, "body": "@Nitu What do you mean &quot;not supported&quot;? Did you get a message like <code>Can&#39;t locate IPC&#47;Run3.pm in @INC</code>? This means it&#39;s just not installed."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 5, "last_activity_date": 1446054133, "creation_date": 1446054133, "answer_id": 33397978, "question_id": 33397054, "link": "https://stackoverflow.com/questions/33397054/how-to-get-the-error-message-in-perl-when-a-backtick-command-fails/33397978#33397978", "title": "How to get the error message in Perl when a backtick command fails", "body": "<p>For more sophisticated program execution, use <a href=\"https://metacpan.org/pod/IPC::Run3\">IPC::Run3</a>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nuse IPC::Run3;\n\nmy $file = shift;\n\nmy($out, $err);\nrun3( ['svn', 'ls', $file], undef, \\$out, \\$err );\nif( $? ) {\n    say \"svn ls failed: $err\";\n}\nelse {\n    say \"svn ls succeeded: $out\";\n}\n</code></pre>\n\n<p>If you want STDOUT and STDERR in the same place, you can supply the same variable in both spots.</p>\n\n<pre><code>my $out;\nrun3( ['svn', 'ls', $file], undef, \\$out, \\$out );\nif( $? ) {\n    say \"svn ls failed: $out\";\n}\nelse {\n    say \"svn ls succeeded: $out\";\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5131691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dca21b28fd1445283ef549b88e3dfb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nitu", "link": "https://stackoverflow.com/users/5131691/nitu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1052, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1446175751, "creation_date": 1446051374, "last_edit_date": 1446175751, "question_id": 33397054, "link": "https://stackoverflow.com/questions/33397054/how-to-get-the-error-message-in-perl-when-a-backtick-command-fails", "title": "How to get the error message in Perl when a backtick command fails", "body": "<p>I have a variable <code>$deployment_tarfile</code> which contains a tar file with its svn location. In my Perl script backtick command I use</p>\n\n<pre><code>$depsvn = `svn ls $deployment_tarfile` \n</code></pre>\n\n<p>to check whether the file is present in the svn or not. If it fails then how can we log the error message?</p>\n\n<p>Currently, if the command fails then it just displays in the shell. I want to print it specifically. How can I do that?</p>\n\n<p>I have tried <code>$!</code> but it doesn't display.</p>\n\n<pre><code>$depsvn = `svn ls $deployment_tarfile`;\nif ( $? != 0 ) {\n    print \"$!\"; # It displays blank\n}\n</code></pre>\n\n<p>I have also tried <code>$OS_ERROR</code> and <code>$ERRNO</code> instead of <code>$!</code> but it didn't work.</p>\n\n<p>How can I print the error message in Perl if the svn command fails?</p>\n\n<p>Updates: I am using Perl version 5.8.8</p>\n"}, {"tags": ["perl", "trepan"], "answers": [{"comments": [{"owner": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "edited": false, "score": 0, "creation_date": 1446062423, "post_id": 33399400, "comment_id": 54592309, "body": "Perhaps, I didn&#39;t make the problem clear. What would be helpful is an example using B::Deparse and B::Concise and having B::Deparse output with opcode addresses matching B::Deparse opcode addresses. Change your example to <code>use B qw( ); sub foo { }; my $foo_ref = B::svref_2object(\\&amp;foo); printf &quot;0x%x -- note this\\n&quot;, $foo_ref; my $foo_ref2 = B::svref_2object(\\&amp;foo); printf &quot;0x%x -- now changed\\n&quot;, $foo_ref2;</code> and you will see that the address changes. Why?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "edited": false, "score": 0, "creation_date": 1446062518, "post_id": 33399400, "comment_id": 54592370, "body": "You just repeated yourself, so I&#39;ll do the same: The addresses are different because they are the addresses of different things. One&#39;s the address of <code>&amp;foo</code>, and one&#39;s not. I showed how to get the address of <code>&amp;foo</code> from the B::CV object. (In fact, I showed two ways.)"}, {"owner": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "edited": false, "score": 0, "creation_date": 1446062786, "post_id": 33399400, "comment_id": 54592521, "body": "I don&#39;t understand <code>$xxx... = B::svref_2object(\\&amp;foo)</code> is the same statement used both times. But independent of that, what I need is the same opcode address output given by B::Concise and B::Deparse. So how do I do that?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "edited": false, "score": 0, "creation_date": 1446063244, "post_id": 33399400, "comment_id": 54592786, "body": "Well, yeah, you&#39;ll get a new object each time you ask to construct a new object."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "edited": false, "score": 0, "creation_date": 1446064323, "post_id": 33399400, "comment_id": 54593332, "body": "Re &quot;what I need is the same opcode address output given by B::Concise and B::Deparse&quot;, In your question, you asked for the address of the structure a B::CV object reflects. You&#39;re now asking how to get the address of the structure a B::BINOP object reflects. The answer is mostly identical, except the first solution I gave, <code>$binop-&gt;object_2svref()</code> doesn&#39;t work (because you can&#39;t have a reference to an op), but the second solution I provided (<code>$$binop</code>) works. It&#39;s undocumented, but it&#39;s less likely to change than some of the other things you rely on."}, {"owner": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "edited": false, "score": 0, "creation_date": 1446075490, "post_id": 33399400, "comment_id": 54598406, "body": "Again, you don&#39;t seem to understand main point of the question. I have revised the question hopefully to make it more clear what the end goal is: deparsing statements at or around a given OP address. I&#39;m not interested in B::svref_2object per se. Perhaps that was a red herring on my part."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "edited": false, "score": 0, "creation_date": 1446089640, "post_id": 33399400, "comment_id": 54602348, "body": "Re &quot;Again, you don&#39;t seem to understand main point of the question&quot;, Then why did you copy my answer????"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1446064507, "last_edit_date": 1446064507, "creation_date": 1446058685, "answer_id": 33399400, "question_id": 33396744, "link": "https://stackoverflow.com/questions/33396744/exact-perl-location-such-as-with-bdeparse/33399400#33399400", "title": "Exact Perl location such as with B::Deparse", "body": "<p><code>svref_2object</code> returns an object that allows you to extract information from the structure referenced by the argument passed to <code>svref_2object</code>. </p>\n\n<p>You're printing the address of that object (a scalar blessed into class <code>B::CV</code>).</p>\n\n<pre><code>use B qw( );\n\nsub foo { }\n\nmy $cv = B::svref_2object(\\&amp;foo);\n\nprintf \"%x\\n\", \\&amp;foo;                 # Numification of 1st ref to &amp;foo.\nprintf \"%x\\n\", \\&amp;foo;                 # Numification of 2nd ref to &amp;foo.\nprintf \"%x\\n\", $cv;                   # Numification of ref to B::CV object.\nprintf \"%x\\n\", $cv-&gt;object_2svref();  # Numification of 3rd ref to &amp;foo.\nprintf \"%x\\n\", $$cv;  # Address of struct referenced by svref_2object's arg (Undocumented)\n</code></pre>\n\n<p>References numify to the address of what they reference, so we get:</p>\n\n<pre><code>3c5eaf8\n3c5eaf8\n3c5e1b0\n3c5eaf8\n3c5eaf8\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "is_accepted": true, "score": 1, "last_activity_date": 1446341396, "last_edit_date": 1446341396, "creation_date": 1446077010, "answer_id": 33403729, "question_id": 33396744, "link": "https://stackoverflow.com/questions/33396744/exact-perl-location-such-as-with-bdeparse/33403729#33403729", "title": "Exact Perl location such as with B::Deparse", "body": "<p>ikegami's answer suggestion buried in the comments lead me to find the conceptual flaw I made in my first-proposed solution: inside <em>B::Deparse</em> a lexical array variable stores OPs and those are implicit pointers to the actual code OP structures. Using the undocumented <code>$$</code> to get the underlying address that the scalar implicitly points to gives the correct address. So in my monkey-patched code of <em>B::Deparse::lineseq</em>, changing:</p>\n\n<pre><code>push @exprs, sprintf(\"# op: 0x%x\\n%s \", $op, $text);\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>push @exprs, sprintf(\"# op: 0x%x\\n%s \", $$op, $text);\n                                        ^^\n</code></pre>\n\n<p>gives me an address that I can use to match up results. </p>\n\n<p>Still, there's a bit of work still to get this usable, so if there are any other ways or suggestions, I'd love to hear them.</p>\n\n<p><a href=\"https://metacpan.org/pod/Devel::Trepan\" rel=\"nofollow\">Devel::Trepan</a> release 0.70 now makes use in its <code>deparse</code> command of the above code suitably modified to be able to show which of multiple statements is about to be run.</p>\n"}], "owner": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 1, "accepted_answer_id": 33403729, "answer_count": 2, "score": 2, "last_activity_date": 1488539277, "creation_date": 1446050534, "last_edit_date": 1488539277, "question_id": 33396744, "link": "https://stackoverflow.com/questions/33396744/exact-perl-location-such-as-with-bdeparse", "title": "Exact Perl location such as with B::Deparse", "body": "<p>A long-standing problem in Perl is how to <a href=\"http://www.perlmonks.org/?node_id=987268\" rel=\"nofollow noreferrer\">identify a location with finer granularity than a line number</a>. (Follow the link for more information.) This question is about how to get that. </p>\n\n<p>The most promising way to do this is to use the Perl opcode address that is under consideration and deparse the statements around that. And at the level of the a subroutine, <a href=\"https://metacpan.org/pod/B::Deparse\" rel=\"nofollow noreferrer\">B::Deparse</a> will recreate Perl given a code reference. So ideal would be to modify <em>B::Deparse</em> to allow you to give  a supplied op to start deparsing. Failing that, it could instead deparse the enclosing subroutine, displaying op-code addresses for each statement encountered. See the code below for an example of this.</p>\n\n<p><a href=\"https://metacpan.org/pod/B:Concise\" rel=\"nofollow noreferrer\">B::Concise</a> can show a op-code disassembly for a subroutine. In its disassembly output, it gives addresses, and those addresses it gives match those returned, say, by <a href=\"https://metacpan.org/pod/Devel::Callsite\" rel=\"nofollow noreferrer\">Devel::Callsite</a>. </p>\n\n<p>The problem is that after instrumenting B::Deparse as done below, the OP addresses it gives does not match those given by <em>B::Concise</em> or <em>Devel::Callsite</em>. Output given below shows this.</p>\n\n<p>I can normalize addresses so that they refer to relative offsets rather than absolute addresses. However this is a lot of work, is gross, and I'm not even totally sure this will work, since <em>Deparse</em> may change code by \"pessimizing\" or, I guess, undoing optimization. </p>\n\n<p>For concreteness, below is some code that shows the mismatch. Note that none of the addresses given by deparse is shown in the disassembly.</p>\n\n<pre><code>use B::Deparse;\nuse B::Concise qw(set_style);\nsub foo() {\n    my $x=1; $x+=1;\n}\n\nmy $deparse = B::Deparse-&gt;new(\"-p\", \"-l\", \"-sC\");\n\n$body = $deparse-&gt;coderef2text(\\&amp;foo);\nprint($body, \"\\n\");\nmy $walker = B::Concise::compile('-basic', 'foo', \\&amp;foo);\nB::Concise::set_style_standard('debug');\nB::Concise::walk_output(\\my $buf);\n$walker-&gt;();            # walks and renders into $buf;\nprint($buf);\n\npackage B::Deparse;\n\n# Modified to show OP addresses\nsub lineseq {\n    my($self, $root, $cx, @ops) = @_;\n    my($expr, @exprs);\n\n    my $out_cop = $self-&gt;{'curcop'};\n    my $out_seq = defined($out_cop) ? $out_cop-&gt;cop_seq : undef;\n    my $limit_seq;\n    if (defined $root) {\n    $limit_seq = $out_seq;\n    my $nseq;\n    $nseq = $self-&gt;find_scope_st($root-&gt;sibling) if ${$root-&gt;sibling};\n    $limit_seq = $nseq if !defined($limit_seq)\n               or defined($nseq) &amp;&amp; $nseq &lt; $limit_seq;\n    }\n    $limit_seq = $self-&gt;{'limit_seq'}\n    if defined($self-&gt;{'limit_seq'})\n    &amp;&amp; (!defined($limit_seq) || $self-&gt;{'limit_seq'} &lt; $limit_seq);\n    local $self-&gt;{'limit_seq'} = $limit_seq;\n\n    my $fn = sub {\n        my ($text, $i) = @_;\n        my $op = $ops[$i];\n        push @exprs, sprintf(\"# op: 0x%x\\n%s \", $op, $text);\n    };\n    $self-&gt;walk_lineseq($root, \\@ops, $fn);\n    # $self-&gt;walk_lineseq($root, \\@ops,\n    #              sub { push @exprs, $_[0]} );\n\n    my $sep = $cx ? '; ' : \";\\n\";\n    my $body = join($sep, grep {length} @exprs);\n    my $subs = \"\";\n    if (defined $root &amp;&amp; defined $limit_seq &amp;&amp; !$self-&gt;{'in_format'}) {\n    $subs = join \"\\n\", $self-&gt;seq_subs($limit_seq);\n    }\n    return join($sep, grep {length} $body, $subs);\n}\n</code></pre>\n\n<p>The output I get from running this is: </p>\n\n<pre><code>() {\n    # op: 0x14a4b30\n#line 4 \"deparse-so.pl\"\n    (my $x = 1) ;\n    # op: 0x14a4aa0\n#line 4 \"deparse-so.pl\"\n    ($x += 1) ;\n}\nmain::foo:\nUNOP (0xeb9978)\n    op_next     0\n    op_sibling  0\n    op_ppaddr   PL_ppaddr[OP_LEAVESUB]\n    op_type     175\n    op_flags    4\n    op_private  65  \n    op_first    0xeab7a0\nLISTOP (0xeab7a0)\n    op_next     0xeb9978\n    op_sibling  0\n    op_ppaddr   PL_ppaddr[OP_LINESEQ]\n    op_type     181\n    op_flags    12\n    op_private  0   \n    op_first    0xeab7e8\n    op_last     0xeb9a20\nCOP (0xeab7e8)\n    op_next     0xeab890\n    op_sibling  0xeab848\n    op_ppaddr   PL_ppaddr[OP_NEXTSTATE]\n    op_type     182\n    op_flags    1\n    op_private  0   0\nBINOP (0xeab848)\n    op_next     0xeb99c0\n    op_sibling  0xeb99c0\n    op_ppaddr   PL_ppaddr[OP_SASSIGN]\n    op_type     37\n    op_flags    69\n    op_private  2   \n    op_first    0xeab890\n    op_last     0xeab8d0\nSVOP (0xeab890)\n    op_next     0xeab8d0\n    op_sibling  0xeab8d0\n    op_ppaddr   PL_ppaddr[OP_CONST]\n    op_type     5\n    op_flags    2\n    op_private  0   \n    op_sv       0xea3c40\nOP (0xeab8d0)\n    op_next     0xeab848\n    op_sibling  0\n    op_ppaddr   PL_ppaddr[OP_PADSV]\n    op_type     9\n    op_flags    178\n    op_private  128 \nCOP (0xeb99c0)\n    op_next     0xeab768\n    op_sibling  0xeb9a20\n    op_ppaddr   PL_ppaddr[OP_NEXTSTATE]\n    op_type     182\n    op_flags    1\n    op_private  0   0\nBINOP (0xeb9a20)\n    op_next     0xeb9978\n    op_sibling  0\n    op_ppaddr   PL_ppaddr[OP_ADD]\n    op_type     63\n    op_flags    70\n    op_private  2   \n    op_first    0xeab768\n    op_last     0xeb9a68\nOP (0xeab768)\n    op_next     0xeb9a68\n    op_sibling  0xeb9a68\n    op_ppaddr   PL_ppaddr[OP_PADSV]\n    op_type     9\n    op_flags    50\n    op_private  0   \nSVOP (0xeb9a68)\n    op_next     0xeb9a20\n    op_sibling  0\n    op_ppaddr   PL_ppaddr[OP_CONST]\n    op_type     5\n    op_flags    2\n    op_private  0   \n    op_sv       0xea3c10\nB::Concise::compile(CODE(0xea3c70))\nUNOP (0xeb9978)\n    op_next     0\n    op_sibling  0\n    op_ppaddr   PL_ppaddr[OP_LEAVESUB]\n    op_type     175\n    op_flags    4\n    op_private  65  \n    op_first    0xeab7a0\nLISTOP (0xeab7a0)\n    op_next     0xeb9978\n    op_sibling  0\n    op_ppaddr   PL_ppaddr[OP_LINESEQ]\n    op_type     181\n    op_flags    12\n    op_private  0   \n    op_first    0xeab7e8\n    op_last     0xeb9a20\nCOP (0xeab7e8)\n    op_next     0xeab890\n    op_sibling  0xeab848\n    op_ppaddr   PL_ppaddr[OP_NEXTSTATE]\n    op_type     182\n    op_flags    1\n    op_private  0   0\nBINOP (0xeab848)\n    op_next     0xeb99c0\n    op_sibling  0xeb99c0\n    op_ppaddr   PL_ppaddr[OP_SASSIGN]\n    op_type     37\n    op_flags    69\n    op_private  2   \n    op_first    0xeab890\n    op_last     0xeab8d0\nSVOP (0xeab890)\n    op_next     0xeab8d0\n    op_sibling  0xeab8d0\n    op_ppaddr   PL_ppaddr[OP_CONST]\n    op_type     5\n    op_flags    2\n    op_private  0   \n    op_sv       0xea3c40\nOP (0xeab8d0)\n    op_next     0xeab848\n    op_sibling  0\n    op_ppaddr   PL_ppaddr[OP_PADSV]\n    op_type     9\n    op_flags    178\n    op_private  128 \nCOP (0xeb99c0)\n    op_next     0xeab768\n    op_sibling  0xeb9a20\n    op_ppaddr   PL_ppaddr[OP_NEXTSTATE]\n    op_type     182\n    op_flags    1\n    op_private  0   0\nBINOP (0xeb9a20)\n    op_next     0xeb9978\n    op_sibling  0\n    op_ppaddr   PL_ppaddr[OP_ADD]\n    op_type     63\n    op_flags    70\n    op_private  2   \n    op_first    0xeab768\n    op_last     0xeb9a68\nOP (0xeab768)\n    op_next     0xeb9a68\n    op_sibling  0xeb9a68\n    op_ppaddr   PL_ppaddr[OP_PADSV]\n    op_type     9\n    op_flags    50\n    op_private  0   \nSVOP (0xeb9a68)\n    op_next     0xeb9a20\n    op_sibling  0\n    op_ppaddr   PL_ppaddr[OP_CONST]\n    op_type     5\n    op_flags    2\n    op_private  0   \n    op_sv       0xea3c10\n</code></pre>\n\n<p>Finally, as way of encouraging people to help here, if this is solved, the solution will probably appear in by Perl debugger <a href=\"https://metacpan.org/pod/Devel::Trepan\" rel=\"nofollow noreferrer\">Devel::Trepan</a> and allow you to reliably know exactly where you are when stopped inside the debugger.</p>\n\n<p><em>Note: edited to make the question clearer.</em></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446050174, "post_id": 33396582, "comment_id": 54584612, "body": "Can you give an example of your hex string?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1446052212, "last_edit_date": 1446052212, "creation_date": 1446050651, "answer_id": 33396789, "question_id": 33396582, "link": "https://stackoverflow.com/questions/33396582/perl-pack-and-unpack-binary-data-in-a-variable/33396789#33396789", "title": "Perl pack and unpack binary data in a variable", "body": "<p>Well it's pretty straightforward in this case. The inverse operation of <code>unpack 'H*'</code> is <code>pack 'H*'</code></p>\n\n<p>Here's a program demonstrating</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse 5.10.1;\n\nmy $data = \"\\x01\\x23\\x45\\x67\\x89\\xAB\\xCD\\xEF\";\n\nmy $hex = unpack \"H*\", $data;\nsay $hex;\n\nmy $newdata = pack \"H*\", $hex;\nsay $newdata eq $data ? 'OK' : 'FAIL';\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>0123456789abcdef\nOK\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5499267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d618bacaa3dd39f9993bbccae7cd4d93?s=128&d=identicon&r=PG&f=1", "display_name": "USTD", "link": "https://stackoverflow.com/users/5499267/ustd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 882, "favorite_count": 0, "accepted_answer_id": 33396789, "answer_count": 1, "score": 2, "last_activity_date": 1446052212, "creation_date": 1446050077, "question_id": 33396582, "link": "https://stackoverflow.com/questions/33396582/perl-pack-and-unpack-binary-data-in-a-variable", "title": "Perl pack and unpack binary data in a variable", "body": "<p>I have some binary data that comes to me from a library function which I store in a variable called:  $data</p>\n\n<p>If I hexify this binary data with:\n$hexstring = unpack \"H*\", $data;</p>\n\n<p>It performs this hex transformation correctly, I verified my results against the unix commands:  od -c  and  xxd -p  :-)</p>\n\n<p>My question is how to I do the reverse operation to pack this data back into a  $newdata variable from the hex data ?</p>\n\n<p>if I do a ref($data), it returns a blank result, so I don't understand what format this binary data is originally formated in the $data variable.  The library author tells me it is a string, but my experience trying to pack a string, it does not produce the correct result.</p>\n\n<p>I have tried various attempts to  \"pack\"  but I don't seem to know how to pack this correctly.  I am stumbling on something.  :-)</p>\n\n<p>Please help me to understand my packing errors ;-)</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "sqlite", "prepared-statement", "dbi"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446056285, "post_id": 33395789, "comment_id": 54588675, "body": "That is how you prepare a pragma statement. The problem is that you used <code>?</code> where an arbitrary expression is not permitted."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446056549, "post_id": 33395789, "comment_id": 54588838, "body": "Duplicate of <a href=\"http://stackoverflow.com/a/32177733/589924\">Perl dbi prepare is putting wrong quote</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 5, "last_activity_date": 1446050215, "creation_date": 1446050215, "answer_id": 33396624, "question_id": 33395789, "link": "https://stackoverflow.com/questions/33395789/how-to-prepare-a-pragma-statement-in-sqlite-using-perl/33396624#33396624", "title": "How to prepare a pragma statement in Sqlite using Perl?", "body": "<p>From the <a href=\"https://metacpan.org/pod/DBI#Placeholders-and-Bind-Values\" rel=\"noreferrer\">DBI docs</a>:</p>\n\n<blockquote>\n  <p>With most drivers, placeholders can't be used for any element of a\n  statement that would prevent the database server from validating the\n  statement and creating a query execution plan for it.</p>\n</blockquote>\n\n<p>So, I can only assume that the placeholder in this situation is preventing the database server (or self-contained database engine in this case) from validating the statement. </p>\n\n<p>Even if the statement <em>could</em> be prepared, according to the <a href=\"https://sqlite.org/pragma.html#pragma_table_info\" rel=\"noreferrer\">SQLite <code>PRAGMA</code> docs</a>, it looks like <code>table_info</code> is expecting an unquoted table name parameter. DBD::SQLite wants to <a href=\"https://metacpan.org/pod/DBD::SQLite#Functions-And-Bind-Parameters\" rel=\"noreferrer\">quote all bind values by default</a>, so that would cause a separate issue anyway.</p>\n"}, {"comments": [{"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1446108435, "post_id": 33398730, "comment_id": 54609524, "body": "Is it a general limitation of <code>prepare</code>, that it can be used only for values and not for identifiers? Or is <code>prepare</code> in my example not aware of the context?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 1, "creation_date": 1446129948, "post_id": 33398730, "comment_id": 54624314, "body": "If placeholders were to be allowed to represent identifiers as well as values, then <code>SELECT * FROM Foo WHERE x = ?</code> would be illegal as both identifiers and values are allowed where the <code>?</code> is located."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1446056509, "creation_date": 1446056509, "answer_id": 33398730, "question_id": 33395789, "link": "https://stackoverflow.com/questions/33395789/how-to-prepare-a-pragma-statement-in-sqlite-using-perl/33398730#33398730", "title": "How to prepare a pragma statement in Sqlite using Perl?", "body": "<p>You may prepare PRAGMA statements just as you are doing, but your statement has a syntax error. </p>\n\n<p>When given a string, <code>?</code> is equivalent to a string literal. So</p>\n\n<pre><code>SELECT * FROM Table WHERE field = ?\n</code></pre>\n\n<p>means</p>\n\n<pre><code>SELECT * FROM Table WHERE field = 'test'\n</code></pre>\n\n<p>and</p>\n\n<pre><code>PRAGMA table_info(?)\n</code></pre>\n\n<p>means</p>\n\n<pre><code>PRAGMA table_info('test')\n</code></pre>\n\n<p>The problem is that you're suppose to give</p>\n\n<pre><code>PRAGMA table_info(test)\n</code></pre>\n\n<p>As such, you need to use</p>\n\n<pre><code>$dbh-&gt;prepare(\"PRAGMA table_info(\".$dbh-&gt;quote_identifier('test').\")\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 154, "user_id": 5045192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c074d2dd4c01c7fecbdde35ee1047e4c?s=128&d=identicon&r=PG&f=1", "display_name": "RayCW", "link": "https://stackoverflow.com/users/5045192/raycw"}, "is_accepted": false, "score": 0, "last_activity_date": 1446114862, "creation_date": 1446114862, "answer_id": 33411846, "question_id": 33395789, "link": "https://stackoverflow.com/questions/33395789/how-to-prepare-a-pragma-statement-in-sqlite-using-perl/33411846#33411846", "title": "How to prepare a pragma statement in Sqlite using Perl?", "body": "<p>You asked \"Is it a general limitation of prepare, that it can be used only for values and not for identifiers? Or is prepare in my example not aware of the context?\" </p>\n\n<p>You can only bind (prepare) values, not table names or column names. This is true for all relatonial databases afaik. </p>\n\n<p>Using preparing (binding) of parameters makes it possible for sqlite to reuse execution plans, so it makes sqlite much faster. </p>\n"}], "owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 779, "favorite_count": 0, "accepted_answer_id": 33398730, "answer_count": 3, "score": 0, "last_activity_date": 1446114862, "creation_date": 1446047811, "question_id": 33395789, "link": "https://stackoverflow.com/questions/33395789/how-to-prepare-a-pragma-statement-in-sqlite-using-perl", "title": "How to prepare a pragma statement in Sqlite using Perl?", "body": "<p>I tried to prepare a pragma statement:</p>\n\n<pre><code>$sth = $dbh-&gt;prepare (q{pragma table_info(?)})\n</code></pre>\n\n<p>but I get the following error:</p>\n\n<pre><code>DBD::SQLite::db prepare failed: near \"?\"\n</code></pre>\n\n<p>What is wrong with the prepare string?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1446048839, "post_id": 33395659, "comment_id": 54583579, "body": "Check out <code>@-</code> and <code>@+</code> to get match offsets: <a href=\"http://perldoc.perl.org/perlvar.html#@LAST_MATCH_START\" rel=\"nofollow noreferrer\">perldoc perlvar</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446049019, "post_id": 33395659, "comment_id": 54583724, "body": "<i>&quot;I&#39;m not sure whether I can rely on this behavior&quot;</i> I don&#39;t understand. The documentation says that&#39;s what it does, so that&#39;s at least what it&#39;s supposed to do, and probably what it does do!"}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446049275, "post_id": 33395659, "comment_id": 54583905, "body": "@Borodin In the case of a regex being executed, the documentation seems unclear to me. For example, &quot;where the last m//g search left off&quot; could mean the end position of the match as well."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446049574, "post_id": 33395659, "comment_id": 54584154, "body": "@nwellnhof: Ah I see. It <i>does</i> mean the end position of the match. It&#39;s where the next <code>m&#47;&#47;g</code> should start searching"}, {"owner": {"reputation": 263, "user_id": 4544319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5d424615459eed99418ce56f93de90?s=128&d=identicon&r=PG", "display_name": "The Sidhekin", "link": "https://stackoverflow.com/users/4544319/the-sidhekin"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446067442, "post_id": 33395659, "comment_id": 54594943, "body": "@Borodin Of course, this is not an <code>m&#47;&#47;g</code> \u2026 it&#39;s an <code>s&#47;&#47;&#47;g</code> \u2026 documentation could be clearer. ;-)  (Although to be fair, the docs later imply that <code>pos()</code> is also set on <code>s&#47;&#47;&#47;g</code>.)"}], "answers": [{"comments": [{"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 1, "creation_date": 1446049126, "post_id": 33396055, "comment_id": 54583808, "body": "Thanks. For the record, the &quot;English&quot; name of these variables is <code>@LAST_MATCH_START</code>and <code>@LAST_MATCH_END</code> and they&#39;re documented in the <a href=\"http://perldoc.perl.org/perlvar.html#Variables-related-to-regular-expressions\" rel=\"nofollow noreferrer\"><code>perlvar</code>man page</a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1446049397, "post_id": 33396055, "comment_id": 54584010, "body": "It&#39;s important to note that <code>@-</code> and <code>@+</code> are updated after every <i>successful</i> regex pattern match, just like the capture variables <code>$1</code>, <code>$2</code>, ... The value returned by <code>pos</code> changes only after any <i>global</i> match, whether successful or not."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 1, "creation_date": 1446049935, "post_id": 33396055, "comment_id": 54584436, "body": "@nwellnhof: Remember that it may be simpler for you to <code>use English</code>, but anyone else who reads your code will probably have to go to <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">perlvar</a> to find out what your long, loud names mean in normal terms!"}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446051550, "post_id": 33396055, "comment_id": 54585548, "body": "@Borodin On my system, the value returned by <code>pos</code> does change and always equals <code>$-[0]</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1446070462, "post_id": 33396055, "comment_id": 54596449, "body": "@nwellnhof: That&#39;s hard to believe. If anything, <code>pos()</code> will be the same as <code>$+[0]</code>. Try <code>perl -MData::Dumper -E&#39;for (&quot;abc&quot;) { &#47;b&#47;; print Dumper( $-[0], $+[0], pos() ) }&#39;</code> and then change <code>&#47;b&#47;</code> to <code>&#47;b&#47;g</code>"}], "tags": [], "owner": {"reputation": 20984, "user_id": 2170192, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JsKlq.png?s=128&g=1", "display_name": "Alex Shesterov", "link": "https://stackoverflow.com/users/2170192/alex-shesterov"}, "is_accepted": true, "score": 2, "last_activity_date": 1446048506, "creation_date": 1446048506, "answer_id": 33396055, "question_id": 33395659, "link": "https://stackoverflow.com/questions/33395659/current-position-in-regex-replacement-expression/33396055#33396055", "title": "Current position in regex replacement expression", "body": "<p>You can use <code>@-</code> and <code>@+</code> variables to determine the start/end position of every capturing group as well as of the whole match. </p>\n\n<ul>\n<li><p><code>@-[0]</code> will contain the <em>start</em> position of the entire pattern. It would be <code>6</code> in your example.</p></li>\n<li><p><code>@+[0]</code> will contain the <em>end</em> position of the entire pattern. It would be <code>11</code> in your example.</p></li>\n</ul>\n\n<hr>\n\n<p>Here's your example with <code>$-[0]</code>: </p>\n\n<pre><code>my $string = \"Hello world!\";\n$string =~ s/world/\"$&amp; (found at \" . $-[0] . \")\"/ge;\nprint \"$string\\n\";\n</code></pre>\n\n<p>It prints</p>\n\n<blockquote>\n  <p>Hello world (found at 6)!</p>\n</blockquote>\n"}], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 33396055, "answer_count": 1, "score": 2, "last_activity_date": 1446048506, "creation_date": 1446047483, "question_id": 33395659, "link": "https://stackoverflow.com/questions/33395659/current-position-in-regex-replacement-expression", "title": "Current position in regex replacement expression", "body": "<p>In a Perl regex with a replacement expression (<code>/e</code> modifier), I'm trying to find the position of the current match. The <code>pos</code> function seems to do what I mean. The following code</p>\n\n<pre><code>my $string = \"Hello world!\";\n$string =~ s/world/\"$&amp; (found at \" . pos($string) . \")\"/ge;\nprint \"$string\\n\";\n</code></pre>\n\n<p>prints</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Hello world (found at 6)!\n</code></pre>\n\n<p>But I couldn't find where this is specified in the docs. The <a href=\"http://perldoc.perl.org/functions/pos.html\" rel=\"nofollow\">documentation of <code>pos</code></a> only says that it returns \"the offset of where the last <code>m//g</code> search left off\". So I'm not sure whether I can rely on this behavior.</p>\n\n<p>Questions: Is this usage of <code>pos</code> documented anywhere? Can I rely on <code>pos</code> behaving this way under different Perl versions? Is there a better way to get the position of the current match?</p>\n"}, {"tags": ["perl", "net-sftp"], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1446049708, "post_id": 33395570, "comment_id": 54584255, "body": "<code>$filename</code> isn&#39;t an array reference. <code>$filename</code> never gets a value. <code>$remotefiles</code> is an array reference (and, therefore, so are <code>$_</code> and <code>$file</code>)."}], "tags": [], "owner": {"reputation": 717, "user_id": 1483288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/5b0b7a55223dba7a538aaf97dbbc6150?s=128&d=identicon&r=PG", "display_name": "ccc31807", "link": "https://stackoverflow.com/users/1483288/ccc31807"}, "is_accepted": false, "score": -1, "last_activity_date": 1446047228, "creation_date": 1446047228, "answer_id": 33395570, "question_id": 33394861, "link": "https://stackoverflow.com/questions/33394861/perl-reading-files-from-sftp-server/33395570#33395570", "title": "Perl reading files from SFTP server", "body": "<p>$filenane is an array reference. Dereference the variable to get at the referant. See perlreftut for the details. It's easy when you get the hang of it, but doing it the first time may be a little painful.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1446049459, "creation_date": 1446049459, "answer_id": 33396365, "question_id": 33394861, "link": "https://stackoverflow.com/questions/33394861/perl-reading-files-from-sftp-server/33396365#33396365", "title": "Perl reading files from SFTP server", "body": "<p><a href=\"https://metacpan.org/pod/Net::SFTP::Foreign\" rel=\"nofollow\">Here's the documentation</a> for Net::SFTP::Foreign. This is what it says about the <code>ls()</code> method:</p>\n\n<blockquote>\n  <p>Returns a reference to a list of entries. Every entry is a \n  reference to a hash with three keys: <code>filename</code>, the name of the \n  entry; <code>longname</code>, an entry in a \"long\" listing like ls -l; and \n  <code>a</code>, a <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign::Attributes\" rel=\"nofollow\">Net::SFTP::Foreign::Attributes</a> object containing file \n  atime, mtime,permissions and size</p>\n</blockquote>\n\n<p>So when you call this method:</p>\n\n<pre><code>$remotefiles = $stfp-&gt;ls(REMOTE_DIR);\n</code></pre>\n\n<p>What you get back is a reference to an array. When you try to iterate across that array:</p>\n\n<pre><code>foreach ($remotefiles)\n</code></pre>\n\n<p>You're not doing what you think you're doing. You're iterating over a list with a single element - which is an array reference. So <code>$file</code> gets an array reference, not the hash reference that you're looking for.</p>\n\n<p>So how to fix it? Well, it's simple enough. You need to dereference <code>$remotefiles</code> which will turn it into an array (rather than an array reference).</p>\n\n<pre><code># Just add a '@' to dereference the reference and\n# get to the underlying array\nforeach (@$remotefiles)\n</code></pre>\n\n<p>Now, each time round the loop, <code>$_</code> (and, therefore, <code>$file</code>) will contain one of the hash references described in my quote above, and everything will work as you expect.</p>\n\n<p>The important lesson to learn here is that you need to read and understand the documentation for the code that you are using. Or, at least, you need to be better at copying code from the examples. The <code>ls()</code> example clearly uses the dereference syntax.</p>\n\n<pre><code>my $ls = $sftp-&gt;ls('/home/foo')\n    or die \"unable to retrieve directory: \".$sftp-&gt;error;\n\nprint \"$_-&gt;{filename}\\n\" for (@$ls);\n</code></pre>\n"}], "owner": {"reputation": 1161, "user_id": 124658, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/d140e80b383a2072a376d352f1315e2d?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/124658/craig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3617, "favorite_count": 1, "accepted_answer_id": 33396365, "answer_count": 2, "score": 1, "last_activity_date": 1446049459, "creation_date": 1446045407, "question_id": 33394861, "link": "https://stackoverflow.com/questions/33394861/perl-reading-files-from-sftp-server", "title": "Perl reading files from SFTP server", "body": "<p>It has been awhile since I have used perl and I am attempting to print out a list of files on a SFTP server.</p>\n\n<p>This is my Perl script -</p>\n\n<pre><code>#! /usr/bin/env perl\nuse strict;\nuse warnings;\nuse feature qw(say);\nuse autodie;\n\nuse Net::SFTP::Foreign;\n\n# US Server Configuration\nuse constant {\n    HOST            =&gt; \"Server_Name\",\n    REMOTE_DIR      =&gt; \"\\\\\",\n    LOCAL_DIR       =&gt; \"sample/local\",\n    PORT            =&gt; \"3235\",\n    USER_NAME       =&gt; \"name\",\n    PASSWORD        =&gt; \"password\",\n    BACKEND         =&gt; \"Net_SSH2\",\n    DEBUG           =&gt; \"0\",\n};\n\nmy $stfp = Net::SFTP::Foreign-&gt;new (\n    HOST,\n    backend         =&gt; BACKEND,\n    timeout         =&gt; 240,\n    user            =&gt; USER_NAME,\n    password        =&gt; PASSWORD,\n    port            =&gt; PORT,\n    autodie         =&gt; 1,\n);\n\n#\n# List remote directory contents\n#\nmy $remotefiles;\n$remotefiles = $stfp-&gt;ls(REMOTE_DIR); \n\n#\n# Loop through remote files and print each filename\n#\nforeach ($remotefiles){\n    my $file = $_;\n    my $filename = $file-&gt;{filename};\n    if($filename ne \".\" &amp;&amp; $filename ne \"..\"){\n        print\"the filename is $filename\";\n    }\n}\n\n$stfp-&gt;disconnect;\n</code></pre>\n\n<p>I am getting the following error - Not a HASH reference at this line -> my $filename = $file->{filename};</p>\n\n<p>Not sure what the problem is or how to fix it.</p>\n"}, {"tags": ["arrays", "json", "perl", "hash"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1446044036, "post_id": 33394135, "comment_id": 54579960, "body": "Try add a key, like <code>array</code> to the hash: <code>to_json ({array =&gt; \\@labs}</code> or use as @MattJacob said: <code>to_json \\@labs, {ascii=&gt;1, pretty =&gt; 1}</code>"}, {"owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "edited": false, "score": 0, "creation_date": 1446044143, "post_id": 33394135, "comment_id": 54580046, "body": "lose the curly braces from around <code>\\@labs</code> - they&#39;re converting the array into an object"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1446044164, "post_id": 33394135, "comment_id": 54580058, "body": "Don&#39;t wrap your reference to <code>@labs</code> in an anonymous hash."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1446044379, "post_id": 33394135, "comment_id": 54580219, "body": "Please <i>always</i> <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at thje top of <i>every</i> Perl program you write. That code gives <b><i>Odd number of elements in anonymous hash</i></b> because of <code>{\\@labs}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "is_accepted": true, "score": 7, "last_activity_date": 1446044311, "creation_date": 1446044311, "answer_id": 33394480, "question_id": 33394135, "link": "https://stackoverflow.com/questions/33394135/how-to-encode-a-perl-array-of-hashes-to-an-unnamed-json-array/33394480#33394480", "title": "How to encode a perl array of hashes to an unnamed JSON array?", "body": "<p>Remove the curly braces from around <code>\\@labs</code> - they're converting the array you've created into an anonymous hash before passing it to <code>to_json</code>:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse JSON -support_by_pp;\nuse strict;\nmy @labs = ();  \npush (@labs, {id=&gt;'1', title=&gt;'Lab1'});  \npush (@labs, {id=&gt;'2', title=&gt;'Lab2'});  \nmy $json_text = to_json \\@labs, {ascii=&gt;1, pretty =&gt; 1}; \nprint $json_text;\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>[\n   {\n      \"title\" : \"Lab1\",\n      \"id\" : \"1\"\n   },\n   {\n      \"title\" : \"Lab2\",\n      \"id\" : \"2\"\n   }\n]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446044586, "post_id": 33394553, "comment_id": 54580369, "body": "Do we have a canonical &#39;why should I use strict and warnings&#39;? I suppose it&#39;s not really appropriate to close as a dupe... (although maybe, because it is sort of &#39;typographic error&#39; level of close)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1446044878, "post_id": 33394553, "comment_id": 54580593, "body": "There&#39;s <a href=\"http://stackoverflow.com/questions/8023959/why-use-strict-and-warnings\"><b>Why use strict and warnings?</b></a> but I&#39;m not very fond of the answers. There&#39;s also <a href=\"http://www.perlmonks.org/?node_id=111088\" rel=\"nofollow noreferrer\">this from Perl Monks</a> and <a href=\"http://perlmaven.com/strict\" rel=\"nofollow noreferrer\">this from Perl Maven</a>. I&#39;m not interested in what people write in their own time, but it&#39;s definitely grounds for closure if a question is posted here that doesn&#39;t have strictures and warnings in place -- it&#39;s just gratuitously wasting people&#39;s time"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446045321, "post_id": 33394553, "comment_id": 54580935, "body": "Also <a href=\"http://stackoverflow.com/a/18065460/622310\">this answer</a> is a high-quality discussion of a related question"}, {"owner": {"reputation": 23, "user_id": 2092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc72d240a99d63dfa086e110a26f3c8f?s=128&d=identicon&r=PG", "display_name": "Vanyel Ashkevron", "link": "https://stackoverflow.com/users/2092820/vanyel-ashkevron"}, "edited": false, "score": 0, "creation_date": 1446050568, "post_id": 33394553, "comment_id": 54584884, "body": "Thanks for the info regarding strict and warnings. I haven&#39;t touched perl in a very long time and am trying to make a few changes to an existing perl based web app. This will definitely help me to debug any issues in the future."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 23, "user_id": 2092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc72d240a99d63dfa086e110a26f3c8f?s=128&d=identicon&r=PG", "display_name": "Vanyel Ashkevron", "link": "https://stackoverflow.com/users/2092820/vanyel-ashkevron"}, "edited": false, "score": 0, "creation_date": 1446051329, "post_id": 33394553, "comment_id": 54585407, "body": "@VanyelAshkevron: It&#39;s a little tricky if your existing code doesn&#39;t have <code>use strict</code> in place. In that circumstance all undeclared variables are global package variables, which would be declared with <code>our</code> instead of <code>my</code>. If you <code>use strict</code> and start declaring variables then you may introduce bugs. If you add <code>use strict</code> and get lots of <b><i>Global symbol requires explicit package name</i></b> (which is Perl&#39;s legacy error message for an undeclared variable) then you should probably add <code>no strict &#39;vars&#39;</code> as well rather than trying to declare stuff. You should be fine with <code>use warnings &#39;all&#39;</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1446044531, "creation_date": 1446044531, "answer_id": 33394553, "question_id": 33394135, "link": "https://stackoverflow.com/questions/33394135/how-to-encode-a-perl-array-of-hashes-to-an-unnamed-json-array/33394553#33394553", "title": "How to encode a perl array of hashes to an unnamed JSON array?", "body": "<p>Your syntax is wrong, as you would have discovered if you had</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n</code></pre>\n\n<p>at the top of your program. I must write that on Stack Overflow at least one a day, but still everyone thinks it doesn't apply to them</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse v5.10.1;\n\nuse JSON;\n\nmy @labs;\npush @labs, { id =&gt; 1, title =&gt; 'Lab1' };\npush @labs, { id =&gt; 2, title =&gt; 'Lab2' };\n\nsay to_json \\@labs, { ascii =&gt; 1, pretty =&gt; 1 };\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>[\n   {\n      \"id\" : 1,\n      \"title\" : \"Lab1\"\n   },\n   {\n      \"id\" : 2,\n      \"title\" : \"Lab2\"\n   }\n]\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 2092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc72d240a99d63dfa086e110a26f3c8f?s=128&d=identicon&r=PG", "display_name": "Vanyel Ashkevron", "link": "https://stackoverflow.com/users/2092820/vanyel-ashkevron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2166, "favorite_count": 1, "accepted_answer_id": 33394480, "answer_count": 2, "score": 2, "last_activity_date": 1446044640, "creation_date": 1446043376, "last_edit_date": 1446044640, "question_id": 33394135, "link": "https://stackoverflow.com/questions/33394135/how-to-encode-a-perl-array-of-hashes-to-an-unnamed-json-array", "title": "How to encode a perl array of hashes to an unnamed JSON array?", "body": "<p>I have an array of hashes that I would like to convert into an un-named JSON array.</p>\n\n<p>If I have an array of hashes which I then try to encode to JSON as such:   </p>\n\n<pre><code>my @labs = ();  \npush (@labs, {id=&gt;'1', title=&gt;'Lab1'});  \npush (@labs, {id=&gt;'2', title=&gt;'Lab2'});  \nmy $json_text = to_json {\\@labs}, {ascii=&gt;1, pretty =&gt; 1};  \n</code></pre>\n\n<p>then the resulting JSON looks like: </p>\n\n<pre><code>{\n   \"ARRAY(0x358a18)\" : null\n}\n</code></pre>\n\n<p>when in fact I want it to look like:  </p>\n\n<pre><code>[  \n   {\"title\" : \"Lab1\", \"id\" : \"1\"},  \n   {\"title\" : \"Lab2\", \"id\" : \"2\"}  \n]  \n</code></pre>\n"}, {"tags": ["xml", "perl", "find", "xml-libxml"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446043758, "post_id": 33393960, "comment_id": 54579755, "body": "It doesn&#39;t really - your XML isn&#39;t valid. Attributes are key-value pairs: <code>myatt=&quot;somevalue&quot;</code>. Nor do you actually explain what you&#39;re trying to get out of the above example."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4128379"}, "edited": false, "score": 0, "creation_date": 1446102986, "post_id": 33394247, "comment_id": 54606801, "body": "Thanks a lot for your answer."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1446043974, "last_edit_date": 1446043974, "creation_date": 1446043669, "answer_id": 33394247, "question_id": 33393960, "link": "https://stackoverflow.com/questions/33393960/finding-a-special-child-node-using-its-atrribute-with-findnodes/33394247#33394247", "title": "Finding a special child node using its atrribute with findnodes", "body": "<p>If you've got something like <code>&lt;child_node myatt=\"some_value\"&gt;</code> then the syntax for <code>xpath</code> is:</p>\n\n<pre><code>findnodes('//child_node[@my_att]') # find all with this attribute.\nfindnodes('//child_node[@my_att=\"some_value\"]') #find this specific instance.\n</code></pre>\n\n<p>You can daisy chain the <code>findnodes</code> though, to find within the current selection criteria:</p>\n\n<pre><code> foreach my $element ( $xml -&gt; findnodes('//child_node[@my_att=\"some_value\"]') ) {\n     $element -&gt; findnodes('//node2_4[@attribute=\"value\"]'); #within this\n }\n</code></pre>\n\n<p>I can't be more specific unfortunately, because your sample XML isn't valid, nor do you indicate precisely which 'bit' you want to retrieve from it. </p>\n\n<p>You can also compound xpath elements:</p>\n\n<pre><code> //child_node[@my_att=\"some_value\"]/somechild/someotherchild[@fish_att]\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4128379"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19, "favorite_count": 0, "accepted_answer_id": 33394247, "answer_count": 1, "score": 1, "last_activity_date": 1446044235, "creation_date": 1446042969, "last_edit_date": 1446044235, "question_id": 33393960, "link": "https://stackoverflow.com/questions/33393960/finding-a-special-child-node-using-its-atrribute-with-findnodes", "title": "Finding a special child node using its atrribute with findnodes", "body": "<p>I have an XML file, say:</p>\n\n<pre><code>&lt;root_node + attribute&gt;\n   &lt;child_node1 + attribute&gt;\n      &lt;node1_2 + attribute&gt;\n         &lt;node1_3&gt;\n            &lt;node1_4 + attribute&gt;\n               TEXT COME HERE\n            &lt;/node1_4&gt; \n         &lt;/node1_3&gt; \n      &lt;/node1_2&gt; \n   &lt;/child_node1&gt;\n   &lt;child_node2 + attribute&gt;\n      &lt;node2_2 + attribute&gt;\n         &lt;node2_3&gt;\n            &lt;node2_4 + attribute&gt;\n               TEXT COME HERE\n            &lt;/node2_4&gt; \n         &lt;/node2_3&gt; \n      &lt;/node2_2&gt; \n   &lt;/child_node2&gt;\n   &lt;child_node3 + attribute&gt;\n      &lt;node3_2 + attribute&gt;\n         &lt;node3_3&gt;\n            &lt;node3_4 + attribute&gt;\n               TEXT COME HERE\n            &lt;/node3_4&gt; \n         &lt;/node3_3&gt; \n      &lt;/node3_2&gt; \n   &lt;/child_node3&gt;\n&lt;/root_node3&gt;\n</code></pre>\n\n<p>As you see, there are lots of child nodes with different attributes. To save the time, I want to look for a special node using its attribute which I know beforehand, and I want to use its inner nodes.</p>\n\n<p>For example, in the above XML file, I'm looking for <code>child_node2</code> using its attribute, and then want to save <code>node2_4</code>'s attribute` in a variable.</p>\n\n<p>My problem is just to know how I go directly to the desired node (here <code>child_node2</code>) and then save the attribute of its grandchild.</p>\n\n<p>I hope this explains my problem clearly.</p>\n"}, {"tags": ["javascript", "perl", "selenium"], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "is_accepted": false, "score": 1, "last_activity_date": 1447921232, "creation_date": 1447921232, "answer_id": 33798517, "question_id": 33392819, "link": "https://stackoverflow.com/questions/33392819/perl-selenium-fire-event-manually/33798517#33798517", "title": "Perl &amp; Selenium fire event manually", "body": "<p>Here is my solution (in Perl):</p>\n\n<pre><code>sub fire_event {\n    my $element = shift // croak(\"Which element should be used to fire the even?\");\n    my $event   = shift // croak(\"Which event should be fired\");\n\n    my $script;\n\n    if($browser eq \"internet explorer\") {\n        $script .= \"var evt = document.createEventObject();\";\n        $script .= \"return arguments[0].fireEvent('on'+\".$event.\",evt);\";\n    }\n    else {\n        $script .= 'var evt = document.createEvent(\"HTMLEvents\");'.\"\\n\";;\n        $script .= \"evt.initEvent('\". $event .\"', true, true );\\n\";\n        $script .= \"return !arguments[0].dispatchEvent(evt);\\n\";\n    }\n\n    my $rc = $driver-&gt;execute_script($script, $element);\n\n    return $rc\n}\n\nmy $returncode = fire_event($elem, \"submit\");\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1489910164, "creation_date": 1446040144, "last_edit_date": 1489910164, "question_id": 33392819, "link": "https://stackoverflow.com/questions/33392819/perl-selenium-fire-event-manually", "title": "Perl &amp; Selenium fire event manually", "body": "<p>I want to set the value attribute of an input element via Perl &amp; Selenium like this:</p>\n\n<pre><code>my $script = q{\n    arguments[0].setAttribute(arguments[1], arguments[2]);\n};\n$driver-&gt;execute_script($script, $element, $attribut, $new_value);\n</code></pre>\n\n<p>Which works fine, i see the new value on the screen, except that the \"onchange\" event is not fired this way. I tried things like:</p>\n\n<pre><code>my $script = q{\n    arguments[0].setAttribute(arguments[1], arguments[2]); \n    arguments[0].onchange();\n};\n</code></pre>\n\n<p>but nothing happens.</p>\n"}, {"tags": ["excel", "perl", "spreadsheet"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446040122, "post_id": 33392666, "comment_id": 54576936, "body": "That thing seems to be not very current and not very powerful. Maybe you need to hack that yourself. Contact the author and ask if it&#39;s on github so you can supply a patch."}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 0, "creation_date": 1452883851, "post_id": 33392666, "comment_id": 57377749, "body": "Are you on Windows?  If so, Win32::OLE will let you use the VB Runtime library that will let you do anything VBA can do, including this."}], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1446039735, "creation_date": 1446039735, "question_id": 33392666, "link": "https://stackoverflow.com/questions/33392666/read-only-visible-columns-in-xlsx-file", "title": "Read only visible columns in XLSX file", "body": "<p>I am using <code>Spreadsheet::XLSX</code> to read excel files and rewriting it to another excel using <code>Excel::Writer::XLSX</code>.In that excel file some of the columns are hidden, but during writing the hidden columns also becomes visible.</p>\n\n<p>Is there anyway using <code>Spreadsheet::XLSX</code> to read only visible columns.I am unable to find the any way in documentation.</p>\n"}, {"tags": ["perl", "cpan", "tie"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1446039001, "post_id": 33392196, "comment_id": 54576116, "body": "You must <i>always</i> <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of <i>every</i> Perl program. Try it with your code aboev, it may give you some clues about what you have done wrong"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1446039374, "post_id": 33392196, "comment_id": 54576400, "body": "This sound an awful lot like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a> - why are you trying to use hashes as keys for hashes?"}, {"owner": {"reputation": 1477, "user_id": 5134525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7f673da25919bd95349b3645cfca5167?s=128&d=identicon&r=PG", "display_name": "Sharad", "link": "https://stackoverflow.com/users/5134525/sharad"}, "edited": false, "score": 0, "creation_date": 1446039480, "post_id": 33392196, "comment_id": 54576493, "body": "I have both strict and warning enabled."}, {"owner": {"reputation": 1477, "user_id": 5134525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7f673da25919bd95349b3645cfca5167?s=128&d=identicon&r=PG", "display_name": "Sharad", "link": "https://stackoverflow.com/users/5134525/sharad"}, "edited": false, "score": 0, "creation_date": 1446039724, "post_id": 33392196, "comment_id": 54576661, "body": "I have enabled both strict and warning. No warning or error is found on running the code. The thing I am receiving the data which is in the form I described. The data has been Tied using Tie::RefHash. I have to make sense out of that. That&#39;s where I am facing the problem. I could not find a proper reference or solution anywhere."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446040067, "post_id": 33392196, "comment_id": 54576901, "body": "Really? Because when I try <code>my %hash_arg = {};</code> in <code>strict</code> and <code>warnings</code> I get: &quot;Reference found where even-sized list expected&quot;."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1446040463, "post_id": 33392196, "comment_id": 54577173, "body": "<i>&quot;I have enabled both strict and warning. No warning or error is found on running the code.&quot;</i> That&#39;s funny, because when I run your code under <code>strict</code> and <code>warnings</code> I get <b><i>Reference found where even-sized list expected</i></b> It&#39;s much appreciated if you don&#39;t lie to us on Stack Overflow"}, {"owner": {"reputation": 1477, "user_id": 5134525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7f673da25919bd95349b3645cfca5167?s=128&d=identicon&r=PG", "display_name": "Sharad", "link": "https://stackoverflow.com/users/5134525/sharad"}, "edited": false, "score": 0, "creation_date": 1446050641, "post_id": 33392196, "comment_id": 54584936, "body": "I think I did a typo in writing the question. It should be my %hash_arg = (); Sorry about that. I am working with both perl and python interchangebly so got the syntax mixed"}], "answers": [{"comments": [{"owner": {"reputation": 1477, "user_id": 5134525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7f673da25919bd95349b3645cfca5167?s=128&d=identicon&r=PG", "display_name": "Sharad", "link": "https://stackoverflow.com/users/5134525/sharad"}, "edited": false, "score": 0, "creation_date": 1446095202, "post_id": 33392907, "comment_id": 54603910, "body": "Is there no way through which we can derefer the inner hash?"}, {"owner": {"reputation": 1477, "user_id": 5134525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7f673da25919bd95349b3645cfca5167?s=128&d=identicon&r=PG", "display_name": "Sharad", "link": "https://stackoverflow.com/users/5134525/sharad"}, "edited": false, "score": 0, "creation_date": 1446097119, "post_id": 33392907, "comment_id": 54604569, "body": "Ironically it works when there is no nesting, i.e. &quot;$hash&quot; is a direct key of %hash_arg. It prints well in that case"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1446040569, "last_edit_date": 1446040569, "creation_date": 1446040350, "answer_id": 33392907, "question_id": 33392196, "link": "https://stackoverflow.com/questions/33392196/hashes-as-keys-in-perl/33392907#33392907", "title": "Hashes as Keys in Perl", "body": "<p>The reason your code isn't working is that <code>Tie::RefHash</code> works, obviously, through Perl's <a href=\"http://perldoc.perl.org/perltie.html\" rel=\"nofollow\"><em>tie</em> mechanism</a>. That means it does its magic through tie's operations like <code>STORE</code>, <code>FETCH</code>, <code>FIRSTKEY</code>, <code>NEXTKEY</code> etc.</p>\n\n<p>Your initialisation statement where you set up <code>%hash_arg</code> bypasses all of that, by making the <em>compiler</em> construct a hash which is assigned directly instead of through the tie mechanism</p>\n\n<p>If you rewrite your code so that the key that is a hash reference is applied at <em>run time</em> then it all works fine</p>\n\n<p>Take a look at this rewrite of your program. You can see from the dump that the inner hash has all four string keys, a string key <code>HASH(0xd4c2f8)</code> that the compiler assigned, and a proper hash reference key that appears as <code>HASH</code></p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse v5.10;\n\nuse Tie::RefHash;\nuse Data::Dump;\n\ntie my %hash_arg, 'Tie::RefHash::Nestable';\n\nmy $hash = { 'mnp' =&gt; 1 };\n\n%hash_arg = (\n    pqr =&gt; {\n        'a;'  =&gt; 1,\n        i     =&gt; 1,\n        mn    =&gt; 1,\n        c     =&gt; 1,\n        $hash =&gt; 1,\n    },\n);\n\n$hash_arg{pqr}{$hash} = 1;\n\nfor my $key ( keys %{ $hash_arg{pqr} } ) {\n    dd (ref $key or $key);\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>\"HASH\"\n\"mn\"\n\"c\"\n\"i\"\n\"HASH(0xd4c2f8)\"\n\"a;\"\n</code></pre>\n"}], "owner": {"reputation": 1477, "user_id": 5134525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7f673da25919bd95349b3645cfca5167?s=128&d=identicon&r=PG", "display_name": "Sharad", "link": "https://stackoverflow.com/users/5134525/sharad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 33392907, "answer_count": 1, "score": -1, "last_activity_date": 1446054710, "creation_date": 1446038493, "last_edit_date": 1446054710, "question_id": 33392196, "link": "https://stackoverflow.com/questions/33392196/hashes-as-keys-in-perl", "title": "Hashes as Keys in Perl", "body": "<p>I am working on a requirement in which keys of hash are hash. I came across the cpan modue <a href=\"http://metacpan.org/module/Tie::RefHash\" rel=\"nofollow\"><code>Tie::RefHash</code></a> which can do the job, but somehow it is not working for nested hashes even though I am using <code>Tie::RefHash::Nestable</code>.</p>\n\n<pre><code>my %hash_arg = ();\ntie %hash_arg, 'Tie::RefHash::Nestable';\nmy $hash = { 'mnp' =&gt; 1 };\n%hash_arg = (\n    'pqr' =&gt; {\n        'a;'  =&gt; 1,\n        'i'   =&gt; 1,\n        'mn'  =&gt; 1,\n        'c'   =&gt; 1,\n        $hash =&gt; 1\n    }\n);\n</code></pre>\n\n<p>Hash <code>%hash_arg</code> has a key <code>pqr</code> whose value is a reference to a hash, which has a further hash as a key. When I loop over keys of <code>pqr</code> and try to use the <code>ref</code> function to figure out the hash, it doesn't work.</p>\n"}, {"tags": ["perl", "init.d"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446036303, "post_id": 33390959, "comment_id": 54574200, "body": "Script doesn&#39;t sound like it&#39;s a daemon. Is the Perl script controlling something else?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1446037652, "post_id": 33390959, "comment_id": 54575136, "body": "You can trap a <code>SIGTERM</code> <a href=\"http://perltricks.com/article/37/2013/8/18/Catch-and-Handle-Signals-in-Perl\" rel=\"nofollow noreferrer\">perltricks.com/article/37/2013/8/18/&hellip;</a>"}, {"owner": {"reputation": 6379, "user_id": 1077188, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/43e1d9cef48eb097161b401eabc9aabe?s=128&d=identicon&r=PG", "display_name": "Panos", "link": "https://stackoverflow.com/users/1077188/panos"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1446044955, "post_id": 33390959, "comment_id": 54580663, "body": "@\u0421\u0443\u0445\u043e\u043927 - That&#39;s how it worked! Although I fixed it before you answered me. Please add it as an answer so I can accept it."}], "owner": {"reputation": 6379, "user_id": 1077188, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/43e1d9cef48eb097161b401eabc9aabe?s=128&d=identicon&r=PG", "display_name": "Panos", "link": "https://stackoverflow.com/users/1077188/panos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1446034969, "creation_date": 1446034969, "question_id": 33390959, "link": "https://stackoverflow.com/questions/33390959/perl-script-init-d-detect-stop", "title": "perl script - init.d - detect stop", "body": "<p>I have a perl script that is controlled by \"init.d\". Is there any way to detect in the perl script that the stop command is sent and do something before stopping? Or any other \"best practice\" for such a case?</p>\n"}, {"tags": ["perl", "email"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1446031940, "post_id": 33389259, "comment_id": 54571465, "body": "Adding code in the question will help you to get right and quick response."}, {"owner": {"reputation": 11, "user_id": 5497844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ab16df616b0839a715eddc2667565d?s=128&d=identicon&r=PG&f=1", "display_name": "Nite_Raj", "link": "https://stackoverflow.com/users/5497844/nite-raj"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1446033647, "post_id": 33389259, "comment_id": 54572548, "body": "@serenesat - As requested, I&#39;ve posted the complete code snippet"}], "answers": [{"tags": [], "owner": {"reputation": 312, "user_id": 841759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e36a0bd40a907c7ab2e65085cfa13dce?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/841759/josh"}, "is_accepted": false, "score": 0, "last_activity_date": 1534880539, "creation_date": 1534880539, "answer_id": 51955651, "question_id": 33389259, "link": "https://stackoverflow.com/questions/33389259/unable-to-fetch-email-details-using-perl-scriptusing-netimapclient-module/51955651#51955651", "title": "Unable to fetch Email details using perl script(using Net::IMAP::Client module)", "body": "<p>Could be like an issue I had where UTF-8 wouldn't return any messages.</p>\n\n<p>This was the solution. \n<code>$imap-&gt;search('ALL', '', 'US-ASCII')</code></p>\n"}], "owner": {"reputation": 11, "user_id": 5497844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ab16df616b0839a715eddc2667565d?s=128&d=identicon&r=PG&f=1", "display_name": "Nite_Raj", "link": "https://stackoverflow.com/users/5497844/nite-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534880539, "creation_date": 1446029986, "last_edit_date": 1446033559, "question_id": 33389259, "link": "https://stackoverflow.com/questions/33389259/unable-to-fetch-email-details-using-perl-scriptusing-netimapclient-module", "title": "Unable to fetch Email details using perl script(using Net::IMAP::Client module)", "body": "<p>I have a small Perl script which has to read the content of an email. The script has to access the IMAP server in order to read the email. I'm using <code>Net::IMAP::Client</code> module to access the IMAP serve. </p>\n\n<p>I'm able to access the IMAP server but unable to search the INBOX. Below is the error message displayed while trying to search the INBOX for emails:</p>\n\n<p>Adding the code snippet as requested:</p>\n\n<p>===============================================================</p>\n\n<pre><code>#!/usr/bin/perl -w\n\n# Use this package to make sure no undefined variables are used\nuse strict;\n\n# Use the following pakages for accessing the IMAP server\nuse Net::IMAP::Client;\nuse English;\n\nmy $imap = Net::IMAP::Client-&gt;new(\nserver =&gt; 'My.IMAP.SERVER', \nuser =&gt; 'USER_Name', \npass =&gt; 'xxxxxxxxxx', uid_mode =&gt; 1 ) or die(\"Could not connect to IMAP server with error code - \" . $imap-&gt;Lat_error);\n\n$imap-&gt;login or die('Login failed: ' . $imap-&gt;last_error);\nmy @folders = $imap-&gt;folders;\nprint \"the content of my mailbox are : \\n\";\nfor ( my $count=0; $count &lt;=$#folders ; $count++ )\n{\n    print \"$folders[$count] \\n\";\n}\n\n# Selecting the folder\nmy imap-&gt;select('INBOX'); \n\n# fetch all message ids (as array reference)\nmy $messages = $imap-&gt;search('ALL') or die(\"Unable to search the INBOX : \" . $imap -&gt; last_error);\nprint \"$messages \\n\";\n</code></pre>\n\n<p>===============================================================</p>\n\n<pre><code>Unable to search the INBOX : [BADCHARSET (US-ASCII)] The specified charset is not supported. at PERL_Script.pl line xx, &lt;GEN0&gt; line 35.\n</code></pre>\n\n<p>Could someone please guide me in the right direction to resolve this issue.</p>\n\n<p>Please let me know if any more information has to be shared.</p>\n"}, {"tags": ["c#", "perl", "com", "activestate", "ole-automation"], "owner": {"reputation": 41, "user_id": 5494057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f36def8517d9d76497c013cad6ef0935?s=128&d=identicon&r=PG&f=1", "display_name": "Miriam", "link": "https://stackoverflow.com/users/5494057/miriam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1446217090, "creation_date": 1446028799, "last_edit_date": 1446217090, "question_id": 33388853, "link": "https://stackoverflow.com/questions/33388853/passing-a-com-object-from-c-to-perl-using-perlnet", "title": "Passing a COM object from C# to Perl using PerlNET", "body": "<p>I\u2019m trying to pass a COM object from C# code to Perl.<br>\nAt the moment I\u2019m wrapping my Perl code with PerlNET (PDK 9.4; ActiveState) and I have defined a simple subroutine (+ required pod declaration) in Perl to pass objects from C# to the wrapped Perl module.</p>\n\n<p>It seems that the objects I pass are not recognized correctly as COM objects.</p>\n\n<p>An example:<br>\nIn C# (.NET 4.0), the ScriptControl is used to load a simple class from a file written in VBScript.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var host = new ScriptControl();\nhost.Language = \"VBScript\";\nvar text = File.ReadAllText(\"TestScript.vbs\"); \nhost.AddCode(text);\n\ndynamic obj = host.Run(\"GetTestClass\");\n</code></pre>\n\n<p>What I get (<code>obj</code>) is of type <code>System.__ComObject</code>. When I pass it to my Perl/PerlNET assembly and try to call method <code>Xyz()</code> in Perl I get the following (runtime) exception:</p>\n\n<pre><code>Can't locate public method Xyz() for System.__ComObject\n</code></pre>\n\n<p>If, however, I do more or less the same thing in Perl, it works. (In the following case, passing only the contents of my .vbs file as parameter.)\nI can even use the script control :</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub UseScriptControl {\n    my ($self, $text) = @_;\n    my $script = Win32::OLE-&gt;new('ScriptControl');\n    $script-&gt;{Language} = 'VBScript';\n    $script-&gt;AddCode($text);\n    my $obj = $script-&gt;Run('GetTestClass');\n\n    $obj-&gt;Xyz();\n}\n</code></pre>\n\n<p>Now, calling <code>Xyz()</code> on <code>obj</code> works fine (using Win32::OLE).</p>\n\n<p>In both cases I use:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse Win32;\nuse Win32::OLE::Variant;\n</code></pre>\n\n<p>Another approach:<br>\nI can invoke methods by using <code>InvokeMember</code> of class <code>System.Type</code> if I specify <em>exactly</em> which overload I want to use and which types I\u2019m passing:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use PerlNET qw(typeof);\n\ntypeof($obj)-&gt;InvokeMember(\"Xyz\", \n    PerlNET::enum(\"System.Reflection.BindingFlags.InvokeMethod\"), \n    PerlNET::null(\"System.Reflection.Binder\"), \n    $obj, \n    \"System.Object[]\"-&gt;new());\n</code></pre>\n\n<p>Using this approach would mean rewriting the whole wrapped Perl module. And using this syntax..</p>\n\n<p>Now I am wondering if I am losing both the advantages of the dynamic keyword in .NET 4.0 and the dynamic characteristics of Perl (with Win32::OLE) by using PerlNET with COM objects.</p>\n\n<p>It seems like my preferred solution boils down to some way of mimicking the behaviour of the <code>dynamic</code> keyword in C#/.NET 4.0.  </p>\n\n<p>Or, better, finding some way of converting the passed COM object to something that will be recognized as compatible with <code>Win32::OLE</code>. Maybe extract some information of the <code>__ComObject</code> for it to be identified correctly as COM object.</p>\n\n<p>I have to add that I posted to the PDK discussion site too (but didn\u2019t get any response yet): <a href=\"http://community.activestate.com/node/18247\" rel=\"nofollow\">http://community.activestate.com/node/18247</a><br>\nI also posted it to PerlMonks - as I'm not quite sure if this is more a Perl or C#/.NET question:\n<a href=\"http://www.perlmonks.org/?node_id=1146244\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=1146244</a></p>\n\n<p>I would greatly appreciate any help - or advise on where to look further.</p>\n"}, {"tags": ["apache", "perl", "ubuntu"], "comments": [{"owner": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "edited": false, "score": 1, "creation_date": 1446015841, "post_id": 33384466, "comment_id": 54562417, "body": "What&#39;s <code>&#47;home</code> in your <code>ScriptAlias</code> ?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1446043580, "post_id": 33384466, "comment_id": 54579618, "body": "I&#39;ve voted to re-open this question. It&#39;s not a duplicate (or, at least, not a duplicate of the the question that it was marked as a duplicate of). That was brian&#39;s excellent question about debugging CGI programs. This isn&#39;t a problem with a CGI program, it&#39;s a problem with web server configuration. Of course, it might be off-topic for StackOverflow."}], "answers": [{"comments": [{"owner": {"reputation": 20, "user_id": 1808642, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ufY9v.jpg?s=128&g=1", "display_name": "Siddeshwar Vanga", "link": "https://stackoverflow.com/users/1808642/siddeshwar-vanga"}, "edited": false, "score": 0, "creation_date": 1446095549, "post_id": 33394270, "comment_id": 54604022, "body": "Thanks dave...!!!  I have made changes to my question  I have made changes to scriptAlias ( it was wrongly copied as &quot;home) .. But didn&#39;t got any helpful results.  Thanks"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1446108954, "last_edit_date": 1446108954, "creation_date": 1446043740, "answer_id": 33394270, "question_id": 33384466, "link": "https://stackoverflow.com/questions/33384466/how-to-run-perl-script-through-url-in-ubuntu/33394270#33394270", "title": "How to Run perl script through URL in Ubuntu", "body": "<p>If your file is at <code>/var/www/cgi-bin/</code>, and your configuration says:</p>\n\n<pre><code>ScriptAlias /cgi-bin/ /home/www/cgi-bin/\n</code></pre>\n\n<p>Then I'd say that the problem is pretty obvious. <code>/var/www/cgi-bin/</code> and <code>/home/www/cgi-bin/</code> are not the same directory.</p>\n\n<p><strong>Update:</strong> Ok. So you say that you have fixed the value of <code>ScriptAlias</code> and it still didn't work. Assuming that you're still getting the 404 error, then the next obvious step is to look in your error log and see exactly which file Apache is looking for. There's probably a mismatch between how Apache is configures to map between URLs and files and how you <em>think</em> it is configured.</p>\n\n<p>When you get that error message, add it to your question.</p>\n"}], "owner": {"reputation": 20, "user_id": 1808642, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ufY9v.jpg?s=128&g=1", "display_name": "Siddeshwar Vanga", "link": "https://stackoverflow.com/users/1808642/siddeshwar-vanga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 567, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1446108954, "creation_date": 1446014329, "last_edit_date": 1446095394, "question_id": 33384466, "link": "https://stackoverflow.com/questions/33384466/how-to-run-perl-script-through-url-in-ubuntu", "title": "How to Run perl script through URL in Ubuntu", "body": "<p>I would like to run perl as CGI . i.e Want to run it in localhost rather than command prompt.</p>\n\n<p>I have installed perl . I have kept my file at /var/www/cgi-bin/</p>\n\n<p>and i have made following changes in /etc/apache2/apche2.conf </p>\n\n<pre><code>    ScriptAlias /cgi-bin/ /var/www/cgi-bin/\n\n    &lt;Directory /var/www/cgi-bin/&gt;\n     Options ExecCGI\n     AddHandler cgi-script cgi pl\n    &lt;/Directory&gt;\n</code></pre>\n\n<p>Its giving me 404 not found error.</p>\n\n<p>Following is the url I am accessing: </p>\n\n<p><a href=\"http://localhost/cgi-bin/testscript.pl\" rel=\"nofollow\">http://localhost/cgi-bin/testscript.pl</a></p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 2, "last_activity_date": 1446009295, "creation_date": 1446009295, "answer_id": 33383381, "question_id": 33383227, "link": "https://stackoverflow.com/questions/33383227/zip-a-complete-directory-in-perl/33383381#33383381", "title": "Zip a complete directory in Perl", "body": "<p>From the <a href=\"https://metacpan.org/pod/Archive::Zip#Zip-Archive-Tree-operations\" rel=\"nofollow\">docs</a>:</p>\n\n<blockquote>\n  <p><strong>$zip->addTree( $root, $dest [, $pred, $compressionLevel ] ) -- Add tree of files to a zip</strong></p>\n  \n  <p><code>$root</code> is the root of the tree of files and directories to be added. It\n  is a valid directory name on your system. <code>$dest</code> is the name for the\n  root in the zip file (undef or blank means to use relative pathnames).\n  It is a valid ZIP directory name (that is, it uses forward slashes (/)\n  for separating directory components).</p>\n</blockquote>\n\n<p>And the examples, also from the docs:</p>\n\n<pre><code>use Archive::Zip;\nmy $zip = Archive::Zip-&gt;new();\n\n# add all readable files and directories below . as xyz/*\n$zip-&gt;addTree( '.', 'xyz' );\n\n# add all readable plain files below /abc as def/*\n$zip-&gt;addTree( '/abc', 'def', sub { -f &amp;&amp; -r } );\n\n# add all .c files below /tmp as stuff/*\n$zip-&gt;addTreeMatching( '/tmp', 'stuff', '\\.c$' );\n\n# add all .o files below /tmp as stuff/* if they aren't writable\n$zip-&gt;addTreeMatching( '/tmp', 'stuff', '\\.o$', sub { ! -w } );\n\n# add all .so files below /tmp that are smaller than 200 bytes as stuff/*\n$zip-&gt;addTreeMatching( '/tmp', 'stuff', '\\.o$', sub { -s &lt; 200 } );\n\n# and write them into a file\n$zip-&gt;writeToFileNamed('xxx.zip');\n\n# now extract the same files into /tmpx\n$zip-&gt;extractTree( 'stuff', '/tmpx' );\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 2446749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27948985213938ff77eb808cffc98f9f?s=128&d=identicon&r=PG", "display_name": "Mokshith Sandeep Kumar", "link": "https://stackoverflow.com/users/2446749/mokshith-sandeep-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4604, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1595826045, "creation_date": 1446008429, "last_edit_date": 1446011639, "question_id": 33383227, "link": "https://stackoverflow.com/questions/33383227/zip-a-complete-directory-in-perl", "title": "Zip a complete directory in Perl", "body": "<p>I have tried zipping a directory which contains sub directories and files in perl and this is my code.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nuse List::Util qw(first);\n\nuse Archive::Zip qw(:ERROR_CODES :CONSTANTS);\n\nmy $input= 'D:\\temp\\sample';\n\nmy $outDir = 'D:\\out\\sample.zip';\n\nmy $obj = Archive::Zip-&gt;new();\n\n$obj-&gt;addTree( $input );\n\n# # Write the files to zip.\nif ($obj-&gt;writeToFileNamed($outDir) == AZ_OK) \n{  \n    # write to disk\n    print \"\\n\\nArchive created successfully!\\n\";\n} \nelse \n{\n    print \"Error while Zipping !\";\n} \n</code></pre>\n\n<p>When i execute this, the zip file ( sample.zip ) is created.</p>\n\n<p>Always the unzipping is done manually selecting the option \" Extract Here \".</p>\n\n<p>When i unzip this , the directory bursts open putting all the subfolders and files at the same location( D:\\out).</p>\n\n<p>What i want is, i expect the output to be a unique folder ( D:\\out\\sample)</p>\n\n<p>So, what changes need to be done in my code. Pls help me.</p>\n"}, {"tags": ["arrays", "perl", "filter", "grep"], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 3, "last_activity_date": 1446007717, "creation_date": 1446007717, "answer_id": 33383112, "question_id": 33382676, "link": "https://stackoverflow.com/questions/33382676/getting-grep-in-perl-to-filter-directory-listings/33383112#33383112", "title": "Getting grep in Perl to filter directory listings", "body": "<p>Your expression is a truthy string, which always evaluates to true, which means you get back all the list elements you passed in.</p>\n\n<pre><code>my @filtered = grep { /^$cik-10-K-$cikyear/ } &lt;*&gt;;\n</code></pre>\n"}], "owner": {"reputation": 257, "user_id": 5053802, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7841cd9601ec8b1865f556ec9bfaaca7?s=128&d=identicon&r=PG", "display_name": "hipHopMetropolisHastings", "link": "https://stackoverflow.com/users/5053802/hiphopmetropolishastings"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 33383112, "answer_count": 1, "score": 0, "last_activity_date": 1446010132, "creation_date": 1446004759, "last_edit_date": 1446010132, "question_id": 33382676, "link": "https://stackoverflow.com/questions/33382676/getting-grep-in-perl-to-filter-directory-listings", "title": "Getting grep in Perl to filter directory listings", "body": "<p>I'm having trouble getting the Perl <code>grep</code> command to filter a directory listing. I've spent a while searching around and trying new things but can't get it to run. </p>\n\n<p>Here is the code:</p>\n\n<pre><code>$findcikstr = \"!/\" . $cik . \"-10-K-\" . $cikyear . \"........./\"; #(!/1534155-10-K-2013........../)\n @array = grep($findcikstr, &lt;*&gt;);\n</code></pre>\n\n<p>I can't get it to filter any of the results.</p>\n\n<p>The pattern I am looking for, is for a specific CIK (7-digit number), and year to find all files of the form</p>\n\n<pre><code>#######-10-K-YYYY*.txt\n</code></pre>\n\n<p>where the CIK is #######, and the year is YYYY. A full filename would be</p>\n\n<pre><code>1534155-10-K-2013-10-29.txt\n</code></pre>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "edited": false, "score": 1, "creation_date": 1445998057, "post_id": 33381673, "comment_id": 54557125, "body": "I don&#39;t think you need to do any thing special here. The perl script is closing the file. Once it returns, the shell script can work with the file."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2350426"}, "edited": false, "score": 0, "creation_date": 1445998868, "post_id": 33381673, "comment_id": 54557318, "body": "You have posted a perl script/program (the first line #!/usr/bin/environment perl). Care to share the bash script as well?."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1445998899, "post_id": 33381673, "comment_id": 54557326, "body": "You need to read the data from the file handle, sort it, write it out to somewhere, and then close it.  But why not use the <code>sort</code> command.  And it is probably most flexible to have the program write to standard output."}, {"owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "edited": false, "score": 2, "creation_date": 1445998934, "post_id": 33381673, "comment_id": 54557334, "body": "You can sort a file using Unix/Linux sort command in your shell script. Perl&#39;s sort function works on arrays/lists, not on file handles."}, {"owner": {"reputation": 115, "user_id": 4130997, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3c876ad336385878266538aa10cde384?s=128&d=identicon&r=PG&f=1", "display_name": "Specerion", "link": "https://stackoverflow.com/users/4130997/specerion"}, "edited": false, "score": 0, "creation_date": 1445999261, "post_id": 33381673, "comment_id": 54557420, "body": "Ahh alright, rookie mistake.  I saw the following as was hoping to do something similar.     &#39;perl -we &#39;print sort &lt;&gt;&#39; input.txt &gt; output.txt&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 4130997, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3c876ad336385878266538aa10cde384?s=128&d=identicon&r=PG&f=1", "display_name": "Specerion", "link": "https://stackoverflow.com/users/4130997/specerion"}, "edited": false, "score": 0, "creation_date": 1445999596, "post_id": 33381896, "comment_id": 54557521, "body": "Ahh this is what I was looking for.  Missed the &lt;&gt;.  Brilliant. Works exactly how I wanted it to.  Thank you + everyone."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1445999168, "creation_date": 1445999168, "answer_id": 33381896, "question_id": 33381673, "link": "https://stackoverflow.com/questions/33381673/outputting-a-file-from-a-perl-script-to-be-read-by-a-bash-script/33381896#33381896", "title": "Outputting a file from a perl script to be read by a bash script", "body": "<p>The <a href=\"http://p3rl.org/sort\" rel=\"nofollow\">sort</a> function in Perl operates on lists, not file handles. You can use the <code>&lt;&gt;</code> operator to read from a filehandle. You also need some output, so <a href=\"http://p3rl.org/print\" rel=\"nofollow\">print</a> the results:</p>\n\n<pre><code>print sort &lt;$fh&gt;;\n</code></pre>\n\n<p>If you don't do anything more in the Perl script, though, calling the standard <code>sort</code> (<code>/usr/bin/sort</code> usually) might be easier, cleaner, and more efficient.</p>\n"}], "owner": {"reputation": 115, "user_id": 4130997, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3c876ad336385878266538aa10cde384?s=128&d=identicon&r=PG&f=1", "display_name": "Specerion", "link": "https://stackoverflow.com/users/4130997/specerion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 33381896, "answer_count": 1, "score": 0, "last_activity_date": 1445999168, "creation_date": 1445997672, "last_edit_date": 1445998731, "question_id": 33381673, "link": "https://stackoverflow.com/questions/33381673/outputting-a-file-from-a-perl-script-to-be-read-by-a-bash-script", "title": "Outputting a file from a perl script to be read by a bash script", "body": "<p>I have a shell script that calls a perl script to manipulate some data.  Once the Perl script does it's thing it should close and return the data file for the shell (bash) script to then use that file in a function. How do I end my perl script after closing my file?</p>\n\n<p>For a simple example:</p>\n\n<pre><code>#!/usr/bin/environment perl\n\nmy $filename = shift @ARGV;\n\nopen(my $fh, '+&lt;', $filename) or die \"Couldn't Open File\";\nsort $fh;\nclose $fh;\n</code></pre>\n\n<p>EDIT: So, Something else may be going wrong here.  The file to be sorted contains one word per line.  If this scripts is working, how do I use the output of it in the bash shell?  I expected:\n    perl sort.pl \"$filename\" > sorted.txt\nto save sorted.txt on disk.</p>\n"}, {"tags": ["perl", "hash", "unique-key"], "comments": [{"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 2, "creation_date": 1445996087, "post_id": 33381403, "comment_id": 54556624, "body": "<a href=\"http://stackoverflow.com/a/3021021/14955\">stackoverflow.com/a/3021021/14955</a>"}, {"owner": {"reputation": 21, "user_id": 5496166, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jfIySwX_4l0/AAAAAAAAAAI/AAAAAAAAAEg/7aLB7WApO8s/photo.jpg?sz=128", "display_name": "julie shroff", "link": "https://stackoverflow.com/users/5496166/julie-shroff"}, "reply_to_user": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 1, "creation_date": 1445996284, "post_id": 33381403, "comment_id": 54556681, "body": "thanks thilo but here the key remains the same but the values are different ...So I want the output as America : Clinton ; Bush ; Obama  ..Please help me"}, {"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1445996423, "post_id": 33381403, "comment_id": 54556723, "body": "In your case, the hash would be <code>{ America =&gt; [ &#39;Clinton&#39;, &#39;Bush&#39;, &#39;Obama&#39; ]}</code>"}, {"owner": {"reputation": 21, "user_id": 5496166, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jfIySwX_4l0/AAAAAAAAAAI/AAAAAAAAAEg/7aLB7WApO8s/photo.jpg?sz=128", "display_name": "julie shroff", "link": "https://stackoverflow.com/users/5496166/julie-shroff"}, "reply_to_user": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1445997202, "post_id": 33381403, "comment_id": 54556908, "body": "yes but I am not understanding how to retrieve all the values for a unique key while loop. because when i use while (($a,$b) = % country) { print &quot;$b\\n&quot;;}  it prints only the first clinton as output.. can you help me modify the code to print all the three values in the while loop??"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1446000782, "post_id": 33381403, "comment_id": 54557817, "body": "What does your data structure actually look like? The following things are unclear: what you&#39;re starting with, and what you hope to accomplish. Without those two things, it&#39;s very difficult (i.e., impossible) to help you."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446018018, "post_id": 33381403, "comment_id": 54563343, "body": "It doesn&#39;t work that way. Your hash has  unique keys - so with multiple inserts, they overwrite."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1446017793, "post_id": 33382064, "comment_id": 54563245, "body": "I wouldn&#39;t do that. Having one key giving scalar, and another giving a reference means you are being inconsistent. Just push to all of them, and then you always have to dereference."}, {"owner": {"reputation": 3361, "user_id": 5395288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pw0Jz.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5395288/michael"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446019950, "post_id": 33382064, "comment_id": 54564201, "body": "I admit I&#39;ve never done it, in these situations I&#39;ve always been type faithful (what a laughable concept for perl) and created an array of hash, but I&#39;m not hugely offended by it."}], "tags": [], "owner": {"reputation": 3361, "user_id": 5395288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pw0Jz.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5395288/michael"}, "is_accepted": false, "score": 2, "last_activity_date": 1446000430, "creation_date": 1446000430, "answer_id": 33382064, "question_id": 33381403, "link": "https://stackoverflow.com/questions/33381403/how-can-i-retain-all-three-values-of-a-unique-key-in-a-hash-using-perl/33382064#33382064", "title": "How can I retain all three values of a unique key in a hash using Perl?", "body": "<pre><code>my %country = (\n    'America' =&gt; ['Clinton', 'Bush', 'Obama'],\n    'UK'      =&gt; 'Maggie'\n    );\n\nwhile (($a, $b) = each %country) {\n    print ref $b ? join \", \", @$b : $b, \"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1446001685, "post_id": 33382136, "comment_id": 54558032, "body": "Don&#39;t you need to initialize the empty arrayref for the first push to work? Or is this another case of Perl dwimmery?"}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "reply_to_user": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1446002128, "post_id": 33382136, "comment_id": 54558147, "body": "That&#39;s pretty funny...  I don&#39;t know if this is what they call autovivification or not, but if not it&#39;s related.  I think I like dwimmery better, though."}, {"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1446002185, "post_id": 33382136, "comment_id": 54558159, "body": "Yes, autovivification is the word I was looking for (which is a form of dwimmery). But: Does it do that here? I know it does it for the hash key, but does it also create the arrayref on demand?"}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "reply_to_user": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 1, "creation_date": 1446002292, "post_id": 33382136, "comment_id": 54558184, "body": "Yes, it works here.  It&#39;s one of those double-edged swords of Perl, but one I used to appreciate when I did a lot of Perl."}, {"owner": {"reputation": 21, "user_id": 5496166, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jfIySwX_4l0/AAAAAAAAAAI/AAAAAAAAAEg/7aLB7WApO8s/photo.jpg?sz=128", "display_name": "julie shroff", "link": "https://stackoverflow.com/users/5496166/julie-shroff"}, "edited": false, "score": 0, "creation_date": 1446016136, "post_id": 33382136, "comment_id": 54562548, "body": "ok you have showed me to push the values into an array of hash but if there are more than one keys and all keys have multiple values say for eg India Modi                                                                                        India  Singh                                                                                           America  clinton                                                                                        America\tbush ..then how to look for both values for both keys?? Please help"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446017926, "post_id": 33382136, "comment_id": 54563294, "body": "That would be a separate question,  and best asked explicitly. Cross reference this answer and ask it."}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 0, "creation_date": 1446032894, "post_id": 33382136, "comment_id": 54572040, "body": "Julie -- when you do pose that question, be sure to list your input and your expected output.  I think that will help clarify the question a lot."}, {"owner": {"reputation": 21, "user_id": 5496166, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jfIySwX_4l0/AAAAAAAAAAI/AAAAAAAAAEg/7aLB7WApO8s/photo.jpg?sz=128", "display_name": "julie shroff", "link": "https://stackoverflow.com/users/5496166/julie-shroff"}, "edited": false, "score": 0, "creation_date": 1446096036, "post_id": 33382136, "comment_id": 54604222, "body": "Hambone -- my i/p is $a = 1 \\n $b = 2 \\n $b = 3 \\n $c = 4 \\n $c = 5 now I used while(($a,$b) = each %hash){ print &quot;$b\\n&quot;;} but this is giving me output as 1\\n3\\n5 that is only one value is printed for each key but i want the o/p as 1\\n2;3;4\\n5 that is all the values should be printed for each key. but how can i do that inside a while loop??"}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 0, "creation_date": 1446119943, "post_id": 33382136, "comment_id": 54616969, "body": "Julie -- can you post the full code for this?  I think it has to do with the way you are pushing those values onto the hash.  My guess is you&#39;re doing something like <code>$hash{$a} = $b</code> which will overwrite the prior value, when what you want to do is <code>$hash{$a}{$b} = 1</code> (HOH) or <code>push @${hash{$a}}, $b</code> (AOH).  If it&#39;s related to this same issue, post as much relevant code as you can below your original post (above) and comment so we know to look at this thread again"}], "tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": false, "score": 4, "last_activity_date": 1446000822, "creation_date": 1446000822, "answer_id": 33382136, "question_id": 33381403, "link": "https://stackoverflow.com/questions/33381403/how-can-i-retain-all-three-values-of-a-unique-key-in-a-hash-using-perl/33382136#33382136", "title": "How can I retain all three values of a unique key in a hash using Perl?", "body": "<p>Here's an example of using a hash of arrays:</p>\n\n<pre><code>my %presidents;\n\nwhile (&lt;DATA&gt;) {\n  chomp;\n  my ($country, $president) = split /=/;\n  push @{$presidents{$country}}, $president;\n}\n\nwhile (my ($country, $prez_ref) = each %presidents) {\n  print \"$country =&gt; @$prez_ref\\n\";  \n}   \n\n__DATA__\nAmerica=Clinton\nAmerica=Bush\nAmerica=Obama\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5496166, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jfIySwX_4l0/AAAAAAAAAAI/AAAAAAAAAEg/7aLB7WApO8s/photo.jpg?sz=128", "display_name": "julie shroff", "link": "https://stackoverflow.com/users/5496166/julie-shroff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1446000822, "creation_date": 1445995857, "last_edit_date": 1445998586, "question_id": 33381403, "link": "https://stackoverflow.com/questions/33381403/how-can-i-retain-all-three-values-of-a-unique-key-in-a-hash-using-perl", "title": "How can I retain all three values of a unique key in a hash using Perl?", "body": "<p>If in a <code>hash</code> I have one key and three values for same key. How can I retain all three values of that key?</p>\n\n<p>E.g., America is my key and it has three values.</p>\n\n<pre><code>America = Clinton; America = Bush; America = Obama; \nif I use while loop `while(($a,$b) = % Country)\n     { \n        print \"$b\\n\"; \n     } \n</code></pre>\n\n<p>It gives me only the first value \"Clinton\". So, how to retain all the values for a given key inside while loop?? Please help me.</p>\n"}, {"tags": ["string", "perl", "oop", "object", "bioperl"], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1445980804, "post_id": 33377914, "comment_id": 54551267, "body": "Only first <code>-&gt;</code> is required. The usage <code>-&gt;</code> after each {} (hashref), [] (arrayref ) is the old syntax."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1445983170, "post_id": 33377914, "comment_id": 54552422, "body": "It&#39;s not necessarily old syntax, it&#39;s just that perl knows that anything nested within the ref has to be another ref, and because there can never be ambiguity, the latter dereference ops aren&#39;t required"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1445983576, "post_id": 33377914, "comment_id": 54552580, "body": "I&#39;m afraid I&#39;m not convinced this is the right thing to do. The point of OO is to encapsulate, and so poking directly at nested object attributes is bad form."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445985121, "post_id": 33377914, "comment_id": 54553184, "body": "I definitely agree with @Sobrique. I did look briefly at the module, but didn&#39;t find an accessor with the time I had."}, {"owner": {"reputation": 23927, "user_id": 1427161, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/JMUU0.png?s=128&g=1", "display_name": "doublesharp", "link": "https://stackoverflow.com/users/1427161/doublesharp"}, "edited": false, "score": 2, "creation_date": 1445985597, "post_id": 33377914, "comment_id": 54553374, "body": "FWIW, this seems to be the docs for the Sequence Object: <a href=\"http://www.bioperl.org/wiki/HOWTO:Beginners#The_Sequence_Object\" rel=\"nofollow noreferrer\">bioperl.org/wiki/HOWTO:Beginners#The_Sequence_Object</a>. &quot;For example, to get or retrieve a value <code>$sequence_as_string = $seq_obj-&gt;seq;</code>&quot;"}], "tags": [], "owner": {"reputation": 23927, "user_id": 1427161, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/JMUU0.png?s=128&g=1", "display_name": "doublesharp", "link": "https://stackoverflow.com/users/1427161/doublesharp"}, "is_accepted": true, "score": 3, "last_activity_date": 1445977905, "creation_date": 1445977905, "answer_id": 33377914, "question_id": 33377856, "link": "https://stackoverflow.com/questions/33377856/how-to-access-the-data-stored-in-this-object/33377914#33377914", "title": "How to access the data stored in this object?", "body": "<p>The correct format for accessing object properties uses <code>-&gt;</code>:</p>\n\n<pre><code>print $prot_obj-&gt;{'primary_seq'}-&gt;{'seq'};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1446017513, "last_edit_date": 1446017513, "creation_date": 1445983478, "answer_id": 33379302, "question_id": 33377856, "link": "https://stackoverflow.com/questions/33377856/how-to-access-the-data-stored-in-this-object/33379302#33379302", "title": "How to access the data stored in this object?", "body": "<p>I'm going to dispute the other answer, and say - the correct way to access object properties is <em>not</em> to do so, and use a method instead.</p>\n\n<p>The reason for doing this is the whole point of OO.  Which is to encapsulate chunks of your program, such that multiple developers can work with it concurrently, and the code scales because you can find where things are going wrong more easily. </p>\n\n<p>This only works if you used published methods - the specified way of driving the object - because then you don't have to know what's going on behind the scenes.  It also means the implementor is free to change what is going on - maybe simply validating, but maybe overloading or having different responses depending on another property within the object.</p>\n\n<p>All this is subverted by direct access to object properties. </p>\n\n<p>You shouldn't do it, even if perl will \"let\" you. Let's face it, perl will let you do many bad things. </p>\n\n<p><a href=\"http://search.cpan.org/dist/BioPerl/Bio/PrimarySeq.pm#seq\" rel=\"nofollow\"><code>Bio::PrimarySeq</code></a> has a method call of <code>seq</code>. to retrieve the <code>seq()</code> attribute. <a href=\"http://search.cpan.org/dist/BioPerl/Bio/Seq.pm\" rel=\"nofollow\"><code>Bio::Seq</code></a> has an accessor for the primary sequence:</p>\n\n<p>So: </p>\n\n<pre><code>$prot_obj -&gt; seq(); \n</code></pre>\n\n<p>I think would probably do it. (Although, the doc isn't exactly easy reading). </p>\n"}, {"tags": [], "owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "is_accepted": false, "score": 1, "last_activity_date": 1446051173, "creation_date": 1446051173, "answer_id": 33396984, "question_id": 33377856, "link": "https://stackoverflow.com/questions/33377856/how-to-access-the-data-stored-in-this-object/33396984#33396984", "title": "How to access the data stored in this object?", "body": "<p>There is an accepted answer but I would also advise against poking around in the intervals of objects like that with the only exception being to see what kind of object is returned (or just use <code>ref</code>). Here is how I would approach the problem:</p>\n\n<pre><code>use 5.010;\nuse strict;\nuse warnings;\nuse Bio::DB::GenBank;\nuse Bio::Seq;\n\nmy $gb = Bio::DB::GenBank-&gt;new(\n    -format     =&gt; 'Fasta',\n    -seq_start  =&gt; 1,\n    -seq_stop   =&gt; 251,\n    -strand     =&gt; 1,\n    -complexity =&gt; 1\n);\n\nmy $seq = $gb-&gt;get_Seq_by_acc('NG_016346');\nmy $seq_obj = Bio::Seq-&gt;new(\n    -id       =&gt; $seq-&gt;id,\n    -seq      =&gt; $seq-&gt;seq,\n    -alphabet =&gt; 'dna' \n);\n\nsay join \"\\n\", \"&gt;\".$seq_obj-&gt;id, $seq_obj-&gt;translate-&gt;seq;\n</code></pre>\n\n<p>Running this gives you the translated FASTA record:</p>\n\n<pre><code>&gt;gi|283837914:1-251\nRLCVKEGPWPAVEGTWSWG*HRPGSRACPRWGAPNSVQATSYTPSPTHAPFSVSPIPIC*MSLLEASCWPGSREDGARMSAGM\n</code></pre>\n\n<p>The real benefit of using BioPerl is in combining the different classes together to solve problems with minimal (but also readable and reusable) code. There was also a minor typo in your code that would have been caught with strict and warnings pragmas enabled (that is my best advice).</p>\n"}], "owner": {"reputation": 2167, "user_id": 2237387, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f10bc46df3b1fa41b60201ac9af5da39?s=128&d=identicon&r=PG", "display_name": "cooldood3490", "link": "https://stackoverflow.com/users/2237387/cooldood3490"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 33377914, "answer_count": 3, "score": 1, "last_activity_date": 1446051173, "creation_date": 1445977698, "last_edit_date": 1445977922, "question_id": 33377856, "link": "https://stackoverflow.com/questions/33377856/how-to-access-the-data-stored-in-this-object", "title": "How to access the data stored in this object?", "body": "<p>I'm using BioPerl module to obtain a string from a set of parameters. I followed the <a href=\"http://www.bioperl.org/wiki/HOWTO:Beginners#Translating\" rel=\"nofollow\">HOWTO:Beginners page</a>. The module apparently returns a hash object. How do I get the actual string out of the hash object?</p>\n\n<pre><code>use Bio::DB::GenBank;\nuse Data::Dumper;\n\nmy $gb = Bio::DB::GenBank-&gt;new(-format     =&gt; 'Fasta',\n                             -seq_start  =&gt; 1,\n                             -seq_stop   =&gt; 251,\n                             -strand     =&gt; 1\n                             -complexity =&gt; 1);\nmy $seq = $gb-&gt;get_Seq_by_acc('NG_016346');\nmy $sequence_string = lc($seq-&gt;seq());\nmy $seq_obj = Bio::Seq-&gt;new(-seq =&gt; $sequence_string,\n                          -alphabet =&gt; 'dna' );\nmy $prot_obj = $seq_obj-&gt;translate;\nprint Dumper($prot_obj);\n</code></pre>\n\n<p>The data dumper prints the following:</p>\n\n<pre><code>$VAR1 = bless( {\n             'primary_seq' =&gt; bless( {\n                                       'length' =&gt; 83,\n                                       '_root_verbose' =&gt; 0,\n                                       '_nowarnonempty' =&gt; undef,\n                                       'seq' =&gt; 'RLCVKEGPWPAVEGTWSWG*HRPGSRACPRWGAPNSVQATSYTPSPTHAPFSVSPIPIC*MSLLEASCWPGSREDGARMSAGM',\n                                       'alphabet' =&gt; 'protein'\n                                     }, 'Bio::PrimarySeq' ),\n             '_root_verbose' =&gt; 0\n           }, 'Bio::Seq' );\n</code></pre>\n\n<p>How do I obtain 'seq' that is stored in <code>$prot_obj</code>?</p>\n\n<p>I tried </p>\n\n<pre><code>print $prot_obj{'primary_seq'}{'seq'};\n</code></pre>\n\n<p>but it doesn't print anything. Data dumper printed the word <code>bless</code>. Maybe <code>seq</code> is a field of an object oriented variable.</p>\n"}, {"tags": ["c++", "arrays", "perl", "swig"], "owner": {"reputation": 73, "user_id": 3834936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3hkAu.jpg?s=128&g=1", "display_name": "dasizeman", "link": "https://stackoverflow.com/users/3834936/dasizeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1445976318, "creation_date": 1445976318, "question_id": 33377466, "link": "https://stackoverflow.com/questions/33377466/passing-a-perl-array-to-c-in-swig", "title": "Passing a perl array to C++ in SWIG", "body": "<p>I am using SWIG to interface between a bunch of functions written in perl to a C++ library. </p>\n\n<p>There is a data structure named Polygons which is an array of of type Polygon in perl. Each Polygon is an array of ints (numbers( with x locations on the even positions and y locations in the odd positions. I want to pass this array directly to a C++ function and extract the Polygons and their vertex locations using SWIG.</p>\n\n<p>The easier way would be to extract the vertex locations of each Polygon and pass it to C++. But that would make the interaction between C++ and perl very inefficient and the runtime longer.</p>\n\n<p>But I am not sure how to access the memory when I pass a Polygons object to C++. Since it is in C++, the type checking might cause an error. So I'm looking to see how I can access each Polygon object and it's vertex locations in C++, if I pass the whole array of Polygons from Perl to C++</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 617, "user_id": 3477108, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/92e53b145df72f32e8302ee15ca38b5c?s=128&d=identicon&r=PG&f=1", "display_name": "user3477108", "link": "https://stackoverflow.com/users/3477108/user3477108"}, "edited": false, "score": 0, "creation_date": 1445976227, "post_id": 33376793, "comment_id": 54548761, "body": "Thanks all for the ideas. The below also seems to be doing what I want: while (&lt;&gt;){ my ($a, $b) = split(/:([^:]+)$/, $_);          $b =~ s#$account,?##g;          $b =~ s/,$//;          print $a . &quot;:&quot; . $b; }"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 2, "last_activity_date": 1445974968, "last_edit_date": 1445974968, "creation_date": 1445973805, "answer_id": 33376793, "question_id": 33376530, "link": "https://stackoverflow.com/questions/33376530/perl-regex-for-multiple-matches/33376793#33376793", "title": "perl regex for multiple matches", "body": "<p>Don't use a regular expression for this.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my @parts = split(/:/, $_);\n    $parts[-1] = join(',', grep { !/^abcd/ } split(/,/, $parts[-1]));\n    print join(':', @parts) . \"\\n\";\n}\n\n__DATA__\nabcd1::101:xyz1,user,user1,abcd1,pqrs1,userblah,abcd1\nabcd2::102:user1,xyz2,otheruser,abcd2,pqrs1,xyz4,abcd2\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>abcd1::101:xyz1,user,user1,pqrs1,userblah\nabcd2::102:user1,xyz2,otheruser,pqrs1,xyz4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1445974844, "creation_date": 1445974844, "answer_id": 33377046, "question_id": 33376530, "link": "https://stackoverflow.com/questions/33376530/perl-regex-for-multiple-matches/33377046#33377046", "title": "perl regex for multiple matches", "body": "<p><code>split</code> is the tool for the job, not a <code>regex</code>. </p>\n\n<p>Because <code>split</code> lets you reliably separate out the field you <em>do</em> want to operate on, from the ones that you don't. Like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $username = 'abcd1';\n\nwhile ( &lt;DATA&gt; ) {\n   my @fields = split /:/; \n   my @users = split ( /,/, pop ( @fields ) ); \n   print join ( \":\", @fields, \n               join ( \",\", grep { not m/^$username$/ } @users ) ),\"\\n\"; \n}\n\n\n__DATA__\nabcd1::101:xyz1,user,user1,abcd1,pqrs1,userblah,abcd1\n</code></pre>\n"}], "owner": {"reputation": 617, "user_id": 3477108, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/92e53b145df72f32e8302ee15ca38b5c?s=128&d=identicon&r=PG&f=1", "display_name": "user3477108", "link": "https://stackoverflow.com/users/3477108/user3477108"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1445974968, "creation_date": 1445972874, "last_edit_date": 1445974500, "question_id": 33376530, "link": "https://stackoverflow.com/questions/33376530/perl-regex-for-multiple-matches", "title": "perl regex for multiple matches", "body": "<p>I have a file with lines similar to following:</p>\n\n<pre><code>abcd1::101:xyz1,user,user1,abcd1,pqrs1,userblah,abcd1\n</code></pre>\n\n<p>I want to retain strings up to last \":\" and remove all occurrences of abcd1</p>\n\n<p>In the end, I need to have below:</p>\n\n<pre><code>abcd1::101:xyz1,xyz2,xyz3,pqrs1,xyz4\n</code></pre>\n\n<p>I tried code as below, but for some reason, it is not working. So please help\nthe account name is \"abcd1\"</p>\n\n<pre><code>sub UpdateEtcGroup {\n    my $account = shift;\n    my $file = \"/tmp/group\";\n\n    @ARGV = ($file);\n    $^I = \".bak\";\n     while (&lt;&gt;){\n         s#^($account::\\d{1,$}:)$account,?#$1#g;\n         s/,$//; # to remove the last \",\" if there\n         print;\n         }\n }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1445972335, "post_id": 33376280, "comment_id": 54546589, "body": "You can simply escape the <code>@</code> with a backslash. eg: <code>system &quot;echo \\@this&quot;;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1445973556, "post_id": 33376280, "comment_id": 54547240, "body": "<code>unix_command &quot;@output_file path_to_file&quot;</code> doesn&#39;t look right to me. You sure it&#39;s not <code>unix_command &quot;@output_file&quot; &quot;path_to_file&quot;</code>? I assumed you meant the latter in my answer."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1445972880, "creation_date": 1445972880, "answer_id": 33376533, "question_id": 33376280, "link": "https://stackoverflow.com/questions/33376280/running-a-system-command-in-a-perl-script-that-has-character/33376533#33376533", "title": "Running a system command in a perl script that has &quot;@&quot; character", "body": "<p>If you don't need interpolation, use single quotes.</p>\n\n<pre><code>system 'echo @a';\n</code></pre>\n\n<p>If you do, use backslash.</p>\n\n<pre><code>system \"echo \\@a\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1445974343, "last_edit_date": 1445974343, "creation_date": 1445973019, "answer_id": 33376575, "question_id": 33376280, "link": "https://stackoverflow.com/questions/33376280/running-a-system-command-in-a-perl-script-that-has-character/33376575#33376575", "title": "Running a system command in a perl script that has &quot;@&quot; character", "body": "<p><code>system</code> is really two different functions.</p>\n\n<h2>You can use it to launch a program.</h2>\n\n<p>The following syntax are used to launch a program:</p>\n\n<pre><code>system($prog, @one_or_more_args)\nsystem({ $prog }, $arg0, @args)\n</code></pre>\n\n<p>Using one of these syntax, all strings passed as arguments are passed untouched to the child program.</p>\n\n<p>Example usage:</p>\n\n<pre><code>system('perl', '-e', 'my @a = \"foo\"; print \"@a\\n\";');\n</code></pre>\n\n<h2>You can use it to execute a shell command.</h2>\n\n<p>The following syntax are used to execute a shell command:</p>\n\n<pre><code>system($shell_cmd)\n</code></pre>\n\n<p>The above is short for</p>\n\n<pre><code>system('/bin/sh', '-c', $shell_cmd)\n</code></pre>\n\n<p>You must provide a valid shell command. It you are building the command, you will need to take care to properly escape anything that needs escaping.</p>\n\n<p>Example usage:</p>\n\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nmy $cmd = shell_quote('perl', '-e', 'my @a = \"foo\"; print \"@a\\n\";');\nsystem($cmd);\n</code></pre>\n\n<hr>\n\n<p>A bit more specifically to your case, the shell command</p>\n\n<pre><code>program @file1 file2\n</code></pre>\n\n<p>can be executed as follows:</p>\n\n<pre><code>system('program', '@'.$file1, $file2);\n</code></pre>\n\n<p>If you actually need to construct a shell command (e.g. because you want to redirect output), you can use the following:</p>\n\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nmy $cmd = shell_quote('program', '@'.$file1, $file2) . ' &gt;output.txt 2&gt;&amp;1';\nsystem($cmd);\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5495122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eb80e8f8c16a40d71e42006f463393c?s=128&d=identicon&r=PG&f=1", "display_name": "rakesh", "link": "https://stackoverflow.com/users/5495122/rakesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1445974343, "creation_date": 1445972078, "last_edit_date": 1445972721, "question_id": 33376280, "link": "https://stackoverflow.com/questions/33376280/running-a-system-command-in-a-perl-script-that-has-character", "title": "Running a system command in a perl script that has &quot;@&quot; character", "body": "<p>I have a system command like this : </p>\n\n<pre><code>unix_command \"@output_file path_to_file\" \n</code></pre>\n\n<p>Now when I try <code>exec</code> or <code>system</code> commands in a perl script I get this error : </p>\n\n<blockquote>\n  <p>Getting a string when expecting an operator.</p>\n</blockquote>\n\n<p>Can you please help me how to do it in Perl.</p>\n\n<p>Appreciate your help.</p>\n\n<p>Thanks a ton! \nRakesh</p>\n"}, {"tags": ["perl", "putty"], "answers": [{"comments": [{"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1445974620, "post_id": 33375429, "comment_id": 54547817, "body": "Hmm, you seem to be right, though I had an error even on the first box with <code>perl -MTerm::ReadLine::Perl</code> throwing an error... but checking on the 2nd box the error certainly says <code>Can&#39;t locate Term&#47;ReadLine&#47;Perl.pm in @INC ....</code> Lemme try to install on the 2nd box. Thanks @DanLowe"}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1446129707, "post_id": 33375429, "comment_id": 54624138, "body": "YES! I installed it and it works, only I&#39;m getting an error if I just <code>perl -MTerm::ReadLine::Perl</code> getting <code>Can&#39;t locate object method &quot;Features&quot; via package &quot;Term::ReadLine::Stub&quot; at ...</code> still <code>perl -d</code> works. I wonder what I&#39;m missing from the <b>Features</b> ?"}, {"owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "reply_to_user": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 2, "creation_date": 1446131263, "post_id": 33375429, "comment_id": 54625351, "body": "It&#39;s because <code>Term::ReadLine::Stub</code> is not installed. Reading over the code in <code>Term&#47;ReadLine&#47;Perl.pm</code> it seems like it tries to use 3 parent classes if they are installed, but if not it just keeps going. This is some older hard-to-read code so I&#39;m not sure how it works, but it seems to work fine without that Stub module... <i>shrug</i> I don&#39;t have <code>Term::ReadLine::Stub</code> installed either, and it works fine."}], "tags": [], "owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "is_accepted": true, "score": 2, "last_activity_date": 1445969752, "last_edit_date": 1445969752, "creation_date": 1445969218, "answer_id": 33375429, "question_id": 33374882, "link": "https://stackoverflow.com/questions/33374882/arrow-keys-in-perl-debugger-works-in-one-putty-session-but-not-on-another/33375429#33375429", "title": "Arrow keys in perl debugger works in one PuTTy session but not on another", "body": "<p>You don't necessarily need <code>Term::ReadLine::Gnu</code>, other modules may fill the same need. I use <code>Term::ReadLine::Perl</code>. You may have that module (or another equivalent) installed on the first box but not on the second.</p>\n\n<p>The linked answer claims that <code>Term::ReadLine::Perl</code> does not have arrow-key support, which may have been true at one time, but arrow keys work fine for me.</p>\n"}], "owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 33375429, "answer_count": 1, "score": 0, "last_activity_date": 1445969752, "creation_date": 1445967511, "last_edit_date": 1495540716, "question_id": 33374882, "link": "https://stackoverflow.com/questions/33374882/arrow-keys-in-perl-debugger-works-in-one-putty-session-but-not-on-another", "title": "Arrow keys in perl debugger works in one PuTTy session but not on another", "body": "<p>I have one saved session in PuTTy (connecting to a RHEL box) where <code>perl -d</code> and the arrow keys works very nice.</p>\n\n<p>I have the same PuTTy version, and using session1, I cloned to connect to a different but similar RHEL box and the arrows does not work?</p>\n\n<p>According to <a href=\"https://stackoverflow.com/questions/13783334/arrow-up-and-down-does-not-work-any-more-in-perl-debugger-and-cpan-client\">This question</a>, session1 should have also not been working as I do not have <code>Term::ReadLine::Gnu</code> on that first box</p>\n"}, {"tags": ["regex", "perl", "hash"], "comments": [{"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1445964056, "post_id": 33373587, "comment_id": 54541600, "body": "This can be solved by iterating all the keys in the hash and keeping the closest match.  If your hash is very large or performance is critical, this may not be a viable option."}, {"owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "edited": false, "score": 1, "creation_date": 1445964165, "post_id": 33373587, "comment_id": 54541689, "body": "Your idea is - at least theoretically - problematic because the return value possibly is no scalar anymore, since more than one key might match <code>$Strtomatch</code>. Of course you could just select the first one you find, if that&#39;s what you desire."}, {"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 1, "creation_date": 1445964271, "post_id": 33373587, "comment_id": 54541768, "body": "... but what&#39;s the &#39;first one&#39; when talking about hashes? In this case, it might be a better idea to use two sequences instead: the first one with keys, the second one - with values."}, {"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 0, "creation_date": 1445964402, "post_id": 33373587, "comment_id": 54541863, "body": "Or an array of two-element arrays."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1445966646, "post_id": 33373587, "comment_id": 54543301, "body": "I think you have to rethink your strategy. Hash lookup is for exact matches, and it is not a practical way to look up partial matches. You&#39;re going to have to give more detail on what kind of partial matches are okay for anyone to have a clue on how to help you."}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 5, "creation_date": 1445964849, "post_id": 33373767, "comment_id": 54542162, "body": "Er, no. In Perl hash keys are always strings."}, {"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1445965806, "post_id": 33373767, "comment_id": 54542763, "body": "I&#39;ve been writing too much Ruby. Thanks @mob. Corrected. It worked but it was unblessing the Regexps and treating them like strings."}], "tags": [], "owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "is_accepted": false, "score": -1, "last_activity_date": 1445965683, "last_edit_date": 1445965683, "creation_date": 1445964374, "answer_id": 33373767, "question_id": 33373587, "link": "https://stackoverflow.com/questions/33373587/string-comparison-for-hash-keys-in-perl/33373767#33373767", "title": "string comparison for hash keys in perl", "body": "<p>You can compile a regex outside of an <code>=~</code> operator using the <code>qr</code> quote-like operator. The downside to this approach is that now you have to iterate over the search keys to see if any patterns match. It will be much slower than a simple hash lookup.</p>\n\n<pre><code>use constant MAP_MESSAGE_TO_NUMBER =&gt; (\n  [qr/Hello World, I am XYZ/,                  11],\n  [qr/I am using Stack Overflow for Guidance/, 12],\n  [qr/Programming is good!/,                   13],\n);\n\nmy $Strtomatch = 'Hello World, I am XYZ!';\nif ($some_condition) {\n  foreach my $map (MAP_MESSAGE_TO_NUMBER) {\n    my ($pattern, $val) = @$map;\n    if ($Strtomatch =~ $pattern) {\n      # some code will use the return value \n      doSomethingWith $val;\n      # optionally exit the loop at this point with `last`, or store multiple match results \n    }\n  }\n  # optionally check if any match was found and print an error if not\n}\n</code></pre>\n\n<p>We can't use a hash as the primary datastruture because our regexes will become unblessed, so I used an array of arrays here. If you want to use a hash you can take a look at Tie::RegexpHash and/or Tie::Hash::Regex.</p>\n"}, {"comments": [{"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1445968597, "post_id": 33374145, "comment_id": 54544446, "body": "ok so lets say if i do this but no match happened for the string passed in. How can i capture that and return a default value in that case ?"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1445970353, "post_id": 33374145, "comment_id": 54545454, "body": "and also how can your solution be converted so that it do comparison in lower case. That is first both strings gets converted into lower case and then gets compare. I think this will cover maximum corner cases as well"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1445970679, "post_id": 33374145, "comment_id": 54545654, "body": "Former use <code>&#47;&#47;</code> latter use <code>i</code> regex modifier."}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1447100689, "post_id": 33374145, "comment_id": 55009607, "body": "one question in your second approach partial matching of expression does not happens whereas in your first approach it does happens. My question is how can second approach be modified to have that flexibility. ( considering that all hash keys are unique and nothing repeats )"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1447100793, "post_id": 33374145, "comment_id": 55009654, "body": "like for example:  if hash map has &quot;I am suppose to matched&quot; and input string is &quot;I am suppose to be matched&quot;. Then in this case first approach do match and second approach does not. So how second approach be modified to handle this case , any suggestions"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1447101847, "post_id": 33374145, "comment_id": 55010202, "body": "Ask a new question - that&#39;s a very different sort of problem - you&#39;re not comparing substrings any more, but partial matches. That means you need to have a clear idea of what does or doesn&#39;t match.."}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1447177956, "post_id": 33374145, "comment_id": 55046671, "body": "asked question seperately here : <a href=\"http://stackoverflow.com/questions/33636400/comparison-of-string-against-key-value-pair-in-hash-map-perl\" title=\"comparison of string against key value pair in hash map perl\">stackoverflow.com/questions/33636400/&hellip;</a>, let me know if you have any suggestions"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1445970637, "last_edit_date": 1445970637, "creation_date": 1445965404, "answer_id": 33374145, "question_id": 33373587, "link": "https://stackoverflow.com/questions/33373587/string-comparison-for-hash-keys-in-perl/33374145#33374145", "title": "string comparison for hash keys in perl", "body": "<p>Here's one way you could do it:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy %msg_to_number = ( \n     'Hello World, I am XYZ'    =&gt; 11,\n     'I am using Stack Overflow for Guidance'   =&gt; 12,\n     'Programming is good!' =&gt; 13,\n);\n\nmy $str_to_match = 'Hello World, I am XYZ!';\n#note - grep returns a list. We chuck any duplicate hits away. \nmy ( $first_match ) = grep { $str_to_match =~ m/\\Q$_\\E/ } keys %msg_to_number;\n\nprint \"$first_match   =  $msg_to_number{$first_match}\\n\";\n</code></pre>\n\n<p>Note - the pattern match in the grep is reversed. You check if your string matches a key in the hash, and return that if it does. It'll only work if your key is a substring (or exact match) of your primary string. </p>\n\n<p>And it only gets a 'first' match, so practically speaking - if there are duplicates, the result will be random. So make sure your hash keys are sufficiently unique. </p>\n\n<p>E.g:</p>\n\n<pre><code>my $str_to_match = 'Hello World, I am XYZ!Programming is good!!!!!one';\nmy ( $first_match ) = grep { $str_to_match =~ m/\\Q$_\\E/ } keys %msg_to_number;\nprint \"$first_match   =  $msg_to_number{$first_match}\\n\";\n</code></pre>\n\n<p>Will give your randomly:</p>\n\n<pre><code>Programming is good!   =  13\nHello World, I am XYZ   =  11\n</code></pre>\n\n<p>As an alternative - one possiblity is perform a common transform on input/output, which makes it 'blind' to the differences.</p>\n\n<p>E.g. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy %msg_to_number = ( \n     'Hello World, I am XYZ'    =&gt; 11,\n     'I am using Stack Overflow for Guidance'   =&gt; 12,\n     'Programming is good!' =&gt; 13,\n);\n\nmy $str_to_match = 'Hello World, I am XYZ!!!!!';\nmy $transformed_match = $str_to_match =~ s/\\W//gr;\n\nmy ( $first_match ) = grep { s/\\W//gr =~ m/^\\Q$transformed_match\\E$/i } keys %msg_to_number;\nprint \"$first_match   =  $msg_to_number{$first_match}\\n\";\n</code></pre>\n\n<p>This strips <code>\\W</code> which is \"not word\" characters (like punctuation and whitespace) and compares the two like that. It means your matches are a bit fuzzier, and will allow arbitrary exclamation marks, spacing etc. </p>\n\n<p>If you want to handle a default case, then the very handy. <code>//</code> operator is what you want. </p>\n\n<pre><code>return $msg_to_number{$first_match} // \"default value here \" ;\n</code></pre>\n\n<p>(or you can just test defined on <code>$first_match</code>)</p>\n\n<p>For case insentive matching, the <code>i</code> modifier to the regex will do the trick as in the second example. </p>\n"}], "owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1794, "favorite_count": 0, "accepted_answer_id": 33374145, "answer_count": 2, "score": 1, "last_activity_date": 1445970637, "creation_date": 1445963880, "question_id": 33373587, "link": "https://stackoverflow.com/questions/33373587/string-comparison-for-hash-keys-in-perl", "title": "string comparison for hash keys in perl", "body": "<p>I am having an hash map in perl like this:</p>\n\n<pre><code>MAP_MESSAGE_TO_NUMBER =&gt; {\n     'Hello World, I am XYZ'    =&gt; 11,\n     'I am using Stack Overflow for Guidance'   =&gt; 12,\n     'Programming is good!' =&gt; 13,\n},\n</code></pre>\n\n<p>in my Perl code i am trying to make a match with hash key and if match happens i just return the corresponding hash value ( number ).</p>\n\n<p>My code is working fine.</p>\n\n<pre><code>my $Strtomatch = 'Hello World, I am XYZ!';\nif ( some condition ) {\n    my $val =   MAP_MESSAGE_TO_NUMBER-&gt;{$Strtomatch};\n    # some code will use the return value \n    doSomethingWith $val;  \n}\n</code></pre>\n\n<p>My question here is:\n  if you will see the value of variable $Strtomatch has one extra character '!' which is not present in original hash map. So because of this my hash map does not returns any value.</p>\n\n<p>My question is how can i make this more generic so that i can make comparison even if part of strings match.</p>\n\n<p>even few characters match its fine to return the value.</p>\n\n<p>Let me know.</p>\n\n<p>I am not really sure how i can use regular expression here because i am doing comparison for a value in hash map with a value coming from other function. \nI am very technical and not too good with programming, trying things to learn.</p>\n"}, {"tags": ["html", "perl", "web-scraping", "onchange", "www-mechanize-firefox"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 5070429, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c328ab06d4a7126d402754ee2932bf08?s=128&d=identicon&r=PG&f=1", "display_name": "happytuna", "link": "https://stackoverflow.com/users/5070429/happytuna"}, "edited": false, "score": 0, "creation_date": 1445970413, "post_id": 33375111, "comment_id": 54545483, "body": "Thanks very much Corion.  This worked, but I needed to make a slight change to the &quot;selector&quot; line.  I needed to change &quot;only&quot; to &quot;single&quot;."}], "tags": [], "owner": {"reputation": 11, "user_id": 5494948, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4c73412eee3478eb5b7402455f987e4b?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/5494948/corion"}, "is_accepted": false, "score": 1, "last_activity_date": 1445968198, "creation_date": 1445968198, "answer_id": 33375111, "question_id": 33373256, "link": "https://stackoverflow.com/questions/33373256/how-to-trigger-an-onchange-event-in-firefoxmechanize/33375111#33375111", "title": "How to trigger an onchange event in Firefox::Mechanize?", "body": "<p>Get the DOM element and then send the change or click event to it:</p>\n\n<pre><code>my $select = $mech-&gt;selector('#select20279', only =&gt; 1);\n$select-&gt;__change();\n# or\n$select-&gt;__click();\n</code></pre>\n\n<p>See also</p>\n\n<p><a href=\"http://search.cpan.org/~corion/MozRepl-RemoteObject-0.39/lib/MozRepl/RemoteObject.pm\" rel=\"nofollow\">http://search.cpan.org/~corion/MozRepl-RemoteObject-0.39/lib/MozRepl/RemoteObject.pm</a></p>\n"}], "owner": {"reputation": 19, "user_id": 5070429, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c328ab06d4a7126d402754ee2932bf08?s=128&d=identicon&r=PG&f=1", "display_name": "happytuna", "link": "https://stackoverflow.com/users/5070429/happytuna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445968198, "creation_date": 1445962966, "question_id": 33373256, "link": "https://stackoverflow.com/questions/33373256/how-to-trigger-an-onchange-event-in-firefoxmechanize", "title": "How to trigger an onchange event in Firefox::Mechanize?", "body": "<p>I'm using Firefox::Mechanize to scrape a website.  I'm stuck on a dropdown menu which has an onchange event associated with it.  </p>\n\n<p>I'm able to select the option I wanted from the pulldown menu, and I'm able to verify this because the pulldown now shows the option I selected.  But it doesn't trigger the onchange event associated with it.  </p>\n\n<p>I'm thinking I might need a \"click\" event after selecting my option, but I'm not sure exactly how to incorporate that.</p>\n\n<p>Here is the bit of HTML:</p>\n\n<pre><code>&lt;select class=\"\" id=\"select20279\" name=\"20279\" onchange=\"selectAction(this, this.options[this.selectedIndex].value, '20279');\"&gt;\n    &lt;option value=\"\"&gt;please choose&lt;/option&gt;\n    &lt;option value=\"edit\"&gt;Edit&lt;/option&gt;\n    &lt;option value=\"view\"&gt;View&lt;/option&gt;\n    &lt;option value=\"delete_now\"&gt;Delete&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Here is my script:</p>\n\n<pre><code>use WWW::Mechanize::Firefox;\n\nmy $mech = WWW::Mechanize::Firefox-&gt;new( tab =&gt; 'current', autoclose =&gt; 0 );\n\n$mech-&gt;get('http://www.mywebsite.com/');\n$mech-&gt;select(\"20279\", \"view\");\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["bash", "perl"], "answers": [{"comments": [{"owner": {"reputation": 8172, "user_id": 719016, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/RWd7T.png?s=128&g=1", "display_name": "719016", "link": "https://stackoverflow.com/users/719016/719016"}, "edited": false, "score": 0, "creation_date": 1445961954, "post_id": 33372854, "comment_id": 54540131, "body": "Gotcha. How can I pipe the output of the perl command to be the parameter for a <code>cd output</code> then?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 8172, "user_id": 719016, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/RWd7T.png?s=128&g=1", "display_name": "719016", "link": "https://stackoverflow.com/users/719016/719016"}, "edited": false, "score": 0, "creation_date": 1445962835, "post_id": 33372854, "comment_id": 54540731, "body": "@719016 what shell/OS?"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 2, "creation_date": 1445963620, "post_id": 33372854, "comment_id": 54541288, "body": "Depending on the shell, you can&#39;t do that either. <code>cd</code> only takes an argument; it doesn&#39;t read from standard input. Some shells might allow a hack like <code>echo my_directory | cd &lt;(cat)</code>, but most shells (<code>ksh</code> being an exception) run each side of the pipeline in a separate process, leading you to the same problem that prevents you from running <code>cd</code> inside your perl script. (And <i>some</i> shells provide an option to run the <i>last</i> process of a pipeline in the current shell, but we&#39;re getting into a <i>lot</i> of special circumstances required to do what you want.)"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "reply_to_user": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1445964339, "post_id": 33372854, "comment_id": 54541809, "body": "@chepner What shell does <code>echo my_directory | cd &lt;(cat)</code>, would it not try <code>cd</code>ing to the temporary fd like /dev/fd/943 or whatever ?"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1445964592, "post_id": 33372854, "comment_id": 54541990, "body": "Yes; I should have said <code>... | cd $(cat)</code>, which may or may not &quot;work&quot;, depending on whether <code>cat</code> or <code>cd</code> gets first crack at standard input."}], "tags": [], "owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "is_accepted": true, "score": 5, "last_activity_date": 1445962132, "last_edit_date": 1445962132, "creation_date": 1445961888, "answer_id": 33372854, "question_id": 33372743, "link": "https://stackoverflow.com/questions/33372743/perl-how-to-finish-the-script-by-cd-newdir/33372854#33372854", "title": "perl how to finish the script by &#39;cd $newdir&#39;", "body": "<p>You can't.</p>\n\n<p>Any <code>cd</code> (or similar) you run in the perl script will affect only the perl script (or a sub-shell spawned from the perl script).</p>\n\n<p>It can't affect the parent shell directly.</p>\n\n<p>The only thing you could do would be to output the directory and then <code>cd</code> to that or similar. (e.g. <code>cd \"$(perl \"$HOME\"/import_script.pl -i someparameter)\" &amp;&amp; \"$HOME/program2\" .</code> but realize that this means you can't output <strong>anything</strong> else to standard output from the perl script or it will confuse <code>cd</code>.)</p>\n\n<p>Or have perl run the second command also, etc.</p>\n"}, {"tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": false, "score": 2, "last_activity_date": 1445989366, "creation_date": 1445989366, "answer_id": 33380460, "question_id": 33372743, "link": "https://stackoverflow.com/questions/33372743/perl-how-to-finish-the-script-by-cd-newdir/33380460#33380460", "title": "perl how to finish the script by &#39;cd $newdir&#39;", "body": "<p>Just adding another potential solution here; you can have your perl script output the bash you want to run, and run it with bash eval. For example;</p>\n\n<p><strong>File: do.pl:</strong></p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse File::Temp qw(tempdir);\n\nmy $dir = tempdir();\n\nprint \"echo Whatever I print out will be evaluated in my shell;\";\nprint \"cd $dir\";   # Separate multiple commands with ';', see ^\n</code></pre>\n\n<p><strong>From Bash</strong></p>\n\n<pre><code>[~] &gt; eval `./do.pl`\n[~] &gt; Whatever I print out will be evaluated in my shell\n[/tmp/BcZI6ZaRB] &gt; _\n</code></pre>\n\n<p>You can make things even easier by adding an alias, or bash function to your shell.</p>\n\n<p><strong>Add to File: ~/.bashrc</strong></p>\n\n<pre><code>doit() {\n    eval $(./do.pl)\n}\n</code></pre>\n\n<p><strong>From Bash</strong></p>\n\n<pre><code>[~] &gt; doit\n[~] &gt; Whatever I print out will be evaluated in my shell\n[/tmp/ejzVGauPXx] &gt; _\n</code></pre>\n"}], "owner": {"reputation": 8172, "user_id": 719016, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/RWd7T.png?s=128&g=1", "display_name": "719016", "link": "https://stackoverflow.com/users/719016/719016"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 33372854, "answer_count": 2, "score": 2, "last_activity_date": 1445989366, "creation_date": 1445961602, "last_edit_date": 1445962912, "question_id": 33372743, "link": "https://stackoverflow.com/questions/33372743/perl-how-to-finish-the-script-by-cd-newdir", "title": "perl how to finish the script by &#39;cd $newdir&#39;", "body": "<p>I have a perl script that creates a directory <code>$newdir</code> based on some input passed as a parameter, and I would like the script to finish it's execution by doing:</p>\n\n<pre><code>cd $newdir\n</code></pre>\n\n<p>So that the next command in bash Linux 64bit (here <code>program2</code>) is executed from the <code>$newdir</code> working directory.</p>\n\n<p>E.g.:</p>\n\n<pre><code>perl $HOME/import_script.pl -i someparameter &amp;&amp; $HOME/program2 .\n</code></pre>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1445960371, "post_id": 33372203, "comment_id": 54538951, "body": "And what determines whether a line is red or blue? What have you tried so far? Post some code."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1445960695, "post_id": 33372203, "comment_id": 54539204, "body": "I think you don&#39;t want two consecutive lines from file2 to exist in file1 in a line?"}, {"owner": {"reputation": 243, "user_id": 4999890, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c34942cc479898b04d21c6c917d64955?s=128&d=identicon&r=PG&f=1", "display_name": "MadisonCooper", "link": "https://stackoverflow.com/users/4999890/madisoncooper"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1445961011, "post_id": 33372203, "comment_id": 54539418, "body": "@AruneshSingh After a certain arbitrary number of lines (2 in the example) in the item list the items change from being red to blue. Ive got a file that has two items per row. I only want rows that have mixed color items on them. If that clarifies at all?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1445961113, "post_id": 33372203, "comment_id": 54539498, "body": "But as Matt Jacob asked <code>what determines whether a line is red or blue?</code>"}, {"owner": {"reputation": 243, "user_id": 4999890, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c34942cc479898b04d21c6c917d64955?s=128&d=identicon&r=PG&f=1", "display_name": "MadisonCooper", "link": "https://stackoverflow.com/users/4999890/madisoncooper"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1445961246, "post_id": 33372203, "comment_id": 54539612, "body": "@MattJacob I&#39;ve added what I have."}, {"owner": {"reputation": 243, "user_id": 4999890, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c34942cc479898b04d21c6c917d64955?s=128&d=identicon&r=PG&f=1", "display_name": "MadisonCooper", "link": "https://stackoverflow.com/users/4999890/madisoncooper"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1445961384, "post_id": 33372203, "comment_id": 54539721, "body": "@AruneshSingh Lets say the items list is 105 lines long, and therefore has 105 items. Let&#39;s say the first 35 are red and the last 70 are blue. The only thing that determines their color is if they are the first 35 or the last 70."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1445963441, "post_id": 33372203, "comment_id": 54541168, "body": "OK... and how is the cutoff determined?"}], "answers": [{"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1445964318, "creation_date": 1445964318, "answer_id": 33373750, "question_id": 33372203, "link": "https://stackoverflow.com/questions/33372203/filtering-input-files/33373750#33373750", "title": "Filtering Input files", "body": "<p>Let's say file1 contents </p>\n\n<pre><code>7 14 35 35 4 23\n23 53 85 27 49 1\n35 4 23 27 49 1\n</code></pre>\n\n<p>and file2 contents are </p>\n\n<pre><code>7 14 35\n23 53 85\n35 4 23\n27 49 1\n</code></pre>\n\n<p>Then, you can use a hash to map line-nos to colors based on your <code>cutoff</code> and using that hash, compare lines in first file for the existence of different colors after splitting on third space of each line. </p>\n\n<p>I suppose you want something like below script.Feel free to modify it according to your requirements.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n#declare a global hash to keep track of line and colors\nmy %color;\n\n#open both the files     \nopen my $fh1, '&lt;', 'file1' or die \"unable to open file1: $! \\n\";\nopen my $fh2, '&lt;', 'file2' or die \"unable to open file2: $! \\n\";\n\n#iterate over the second file and store the lines as\n#red or blue in hash based on line nos\nwhile(&lt;$fh2&gt;){\n        chomp;\n        if($. &lt;= 2){\n        $color{$_}=\"red\";\n        }\n        else{\n           $color{$_}=\"blue\";\n        }\n}\n#close second file\nclose($fh2);\n\n#iterate over first file\nwhile(&lt;$fh1&gt;){\n      chomp;\n      #split the line on 3rd space \n      my ($part1,$part2)=split /(?:\\d+\\s){3}\\K/;\n      #remove trailing spaces present \n      $part1=~s/\\s+$//;\n      #print if $part1 and $part does not belong to same color\n      print \"$_\\n\" if($color{$part1} ne $color{$part2});\n}\n#close first file\nclose($fh1);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 243, "user_id": 4999890, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c34942cc479898b04d21c6c917d64955?s=128&d=identicon&r=PG&f=1", "display_name": "MadisonCooper", "link": "https://stackoverflow.com/users/4999890/madisoncooper"}, "edited": false, "score": 0, "creation_date": 1445987003, "post_id": 33373809, "comment_id": 54553890, "body": "The way you went about it gave me a good idea of how to accomplish the goal in perl, but I couldn&#39;t get the implementation of yours to work right. The starts and ends files never seem to have the right length of lines to them."}, {"owner": {"reputation": 243, "user_id": 4999890, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c34942cc479898b04d21c6c917d64955?s=128&d=identicon&r=PG&f=1", "display_name": "MadisonCooper", "link": "https://stackoverflow.com/users/4999890/madisoncooper"}, "edited": false, "score": 0, "creation_date": 1446040603, "post_id": 33373809, "comment_id": 54577301, "body": "I&#39;ve updated my question with example files. For the life of me, I cannot figure out why it doesn&#39;t work. The start and end files are fine - I was mistaken about that being an issue. Sorry. The entire thing also works perfectly if the example files in the original question are used, but due to some operator error that escapes me I can&#39;t make it work on a real file."}, {"owner": {"reputation": 8984, "user_id": 2485966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dZj6A.jpg?s=128&g=1", "display_name": "Ruud Helderman", "link": "https://stackoverflow.com/users/2485966/ruud-helderman"}, "reply_to_user": {"reputation": 243, "user_id": 4999890, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c34942cc479898b04d21c6c917d64955?s=128&d=identicon&r=PG&f=1", "display_name": "MadisonCooper", "link": "https://stackoverflow.com/users/4999890/madisoncooper"}, "edited": false, "score": 0, "creation_date": 1446046962, "post_id": 33373809, "comment_id": 54582146, "body": "@jcklasseter Thanks for the sample data! I got it working by stripping off the trailing space from every line in <code>input.txt</code>. Splitting items between line 75 and 76 (I had to guess that), resulted in 354 lines (177 red/blue, 177 blue/red). If you like, I can adjust the AWK scripts to cater for leading/trailing/double spaces."}, {"owner": {"reputation": 243, "user_id": 4999890, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c34942cc479898b04d21c6c917d64955?s=128&d=identicon&r=PG&f=1", "display_name": "MadisonCooper", "link": "https://stackoverflow.com/users/4999890/madisoncooper"}, "edited": false, "score": 0, "creation_date": 1446048229, "post_id": 33373809, "comment_id": 54583137, "body": "Its okay! I do about enough modification steps before I Get to this point to these files where a quick line to remove trailing spaces is no problem to put elsewhere. Thanks for the help! I appreciate it!"}, {"owner": {"reputation": 243, "user_id": 4999890, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c34942cc479898b04d21c6c917d64955?s=128&d=identicon&r=PG&f=1", "display_name": "MadisonCooper", "link": "https://stackoverflow.com/users/4999890/madisoncooper"}, "edited": false, "score": 0, "creation_date": 1446051406, "post_id": 33373809, "comment_id": 54585465, "body": "Question: the AWK part puts all of the reds into red pattern files and all of the blue into the blue pattern files. If we split at 50, shouldn&#39;t the red pattern files be 50 rows long and the blue be 100 rows long? When I run it I get both red pattern files as 20 rows long and the blues at 131 rows long."}, {"owner": {"reputation": 243, "user_id": 4999890, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c34942cc479898b04d21c6c917d64955?s=128&d=identicon&r=PG&f=1", "display_name": "MadisonCooper", "link": "https://stackoverflow.com/users/4999890/madisoncooper"}, "edited": false, "score": 0, "creation_date": 1446051587, "post_id": 33373809, "comment_id": 54585575, "body": "Again, its probably user error. I&#39;m using $1 and $2 for the start and end conditions and running the program like: (./foo 50 51) if that helps at all. Sorry for the trouble!"}, {"owner": {"reputation": 8984, "user_id": 2485966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dZj6A.jpg?s=128&g=1", "display_name": "Ruud Helderman", "link": "https://stackoverflow.com/users/2485966/ruud-helderman"}, "reply_to_user": {"reputation": 243, "user_id": 4999890, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c34942cc479898b04d21c6c917d64955?s=128&d=identicon&r=PG&f=1", "display_name": "MadisonCooper", "link": "https://stackoverflow.com/users/4999890/madisoncooper"}, "edited": false, "score": 0, "creation_date": 1446067669, "post_id": 33373809, "comment_id": 54595051, "body": "@jcklasseter It&#39;s because <code>$1</code> will not expand within single quotes. This should work (I didn&#39;t test it yet): <code>awk &quot;NR &lt;= $1&quot;&#39;{print &quot;^&quot; $0 &quot; &quot;}&#39; ...</code>"}], "tags": [], "owner": {"reputation": 8984, "user_id": 2485966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dZj6A.jpg?s=128&g=1", "display_name": "Ruud Helderman", "link": "https://stackoverflow.com/users/2485966/ruud-helderman"}, "is_accepted": true, "score": 1, "last_activity_date": 1445964856, "last_edit_date": 1445964856, "creation_date": 1445964475, "answer_id": 33373809, "question_id": 33372203, "link": "https://stackoverflow.com/questions/33372203/filtering-input-files/33373809#33373809", "title": "Filtering Input files", "body": "<p>This is pretty easy using <code>grep</code> with option <code>-f</code>.</p>\n\n<p>First of all, generate four 'pattern' files out of your items file.\nI am using AWK here, but you might as well use Perl or what not.\nFollowing your example, I put the 'split' between line 2 and 3; please adjust when necessary.</p>\n\n<pre><code>awk 'NR &lt;= 2 {print \"^\" $0 \" \"}' items.txt &gt; starts_red.txt\nawk 'NR &lt;= 2 {print \" \" $0 \"$\"}' items.txt &gt; ends_red.txt\n\nawk 'NR &gt;= 3 {print \"^\" $0 \" \"}' items.txt &gt; starts_blue.txt\nawk 'NR &gt;= 3 {print \" \" $0 \"$\"}' items.txt &gt; ends_blue.txt\n</code></pre>\n\n<p>Next, use a <code>grep</code> pipeline using the pattern files (option <code>-f</code>) to filter the appropriate lines from the input file.</p>\n\n<pre><code>grep -f starts_red.txt  input.txt | grep -f ends_blue.txt &gt; red_blue.txt\ngrep -f starts_blue.txt input.txt | grep -f ends_red.txt  &gt; blue_red.txt\n</code></pre>\n\n<p>Finally, concatenate the two output files.\nOf course, you might as well use <code>&gt;&gt;</code> to let the second <code>grep</code> pipeline append its output to the output of the first.</p>\n"}], "owner": {"reputation": 243, "user_id": 4999890, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c34942cc479898b04d21c6c917d64955?s=128&d=identicon&r=PG&f=1", "display_name": "MadisonCooper", "link": "https://stackoverflow.com/users/4999890/madisoncooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 33373809, "answer_count": 2, "score": 0, "last_activity_date": 1453250048, "creation_date": 1445960116, "last_edit_date": 1453250048, "question_id": 33372203, "link": "https://stackoverflow.com/questions/33372203/filtering-input-files", "title": "Filtering Input files", "body": "<p>So I'm trying to filter 'duplicate' results from a file. </p>\n\n<p>Ive a file that looks like: </p>\n\n<pre><code>7 14 35 35 4 23\n23 53 85 27 49 1\n35 4 23 27 49 1\n....\n</code></pre>\n\n<p>that I mentally can divide up into item 1 and item 2. Item 1 is the first 3 numbers on each line and item 2 is the last 3 numbers on each line. </p>\n\n<p>I've also got a list of 'items':</p>\n\n<pre><code>7 14 35\n23 53 85\n35 4 23\n27 49 1\n...\n</code></pre>\n\n<p>At a certain point in the file, lets say line number 3 (this number is arbitrary and for example), the 'items' can be separated. Lets say lines 1 and 2 are red and lines 3 and 4 are blue. </p>\n\n<p>I want to make sure on my original file that there are no red red or blue blues - only red blue or blue red, while retaining the original numbers. \nSo ideally the file would go from:</p>\n\n<pre><code>7 14 35 35 4 23 (red blue)\n23 53 85 27 49 1 (red blue)\n35 4 23 27 49 1 (blue blue)\n....\n</code></pre>\n\n<p>to</p>\n\n<pre><code>7 14 35 35 4 23 (red blue)\n23 53 85 27 49 1 (red blue)\n....\n</code></pre>\n\n<p>I'm having trouble thinking of a good (or any) way to do it. \nAny help is appreciated. </p>\n\n<p>EDIT:</p>\n\n<p>An filtering script I have that grabs lines if they have blue or red on the lines:</p>\n\n<pre><code>#!/bin/bash\n\nwhile read name; do\n  grep \"$name\" Twoitems\ndone &lt; Itemblue &gt; filtered\n\nwhile read name2; do\n  grep \"$name2\" filtered\ndone &lt; Itemred &gt; double filtered\n</code></pre>\n\n<p>EDIT2:</p>\n\n<p>Example input an item files: </p>\n"}, {"tags": ["arrays", "perl", "multidimensional-array", "hash", "foreach"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1445958192, "post_id": 33371365, "comment_id": 54537311, "body": "Your hash is not multidimensional in the way you think. The <code>=&gt;</code> is a comma in Perl. What you have is this: <code>( &#39;key: Colton&#39; =&gt; &#39;value: English&#39;, &#39;key: Array(0x123456)&#39; =&gt; &#39;value: Colton&#39;, &#39;key: Mathematics&#39; =&gt; [ ... ] )</code> with the overall structure being a hash (not a hashref)."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1445958256, "creation_date": 1445958256, "answer_id": 33371477, "question_id": 33371365, "link": "https://stackoverflow.com/questions/33371365/loop-through-multidimensional-hash-of-arrays-in-perl/33371477#33371477", "title": "Loop through multidimensional Hash of Arrays in Perl", "body": "<p>In perl, <code>for</code> and <code>foreach</code> mean the same. </p>\n\n<p>But the thing here is - you don't have a hash of arrays - you have a hash of array <em>references</em>.</p>\n\n<p>So:</p>\n\n<pre><code> $students_grades{'Colton'}{'History'} \n</code></pre>\n\n<p>is actually an array reference. </p>\n\n<p>So you can dereference it:</p>\n\n<pre><code>foreach my $grade ( @{ $students_grades{'Colton'}{'History'}  } ) {\n    print \"$grade\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 8, "last_activity_date": 1598901395, "last_edit_date": 1598901395, "creation_date": 1445958435, "answer_id": 33371535, "question_id": 33371365, "link": "https://stackoverflow.com/questions/33371365/loop-through-multidimensional-hash-of-arrays-in-perl/33371535#33371535", "title": "Loop through multidimensional Hash of Arrays in Perl", "body": "<pre><code>for (my $i=0; $i&lt;@array; ++$i) {\n   my $ele = $array[$i];\n   ...\n}\n</code></pre>\n<p>can be written simply as</p>\n<pre><code>for my $ele (@array) {\n   ...\n}\n</code></pre>\n<p>so you could have used the following:</p>\n<pre><code>for my $grade (@{ $students_grades{'Colton'}{'English'} }) {\n   print(&quot;$grade\\n&quot;);\n}\n</code></pre>\n<hr />\n<pre><code>my $grade = $students_grades{'Colton'}{'English'}[0];\n</code></pre>\n<p>is short for</p>\n<pre><code>my $grade = $students_grades{'Colton'}-&gt;{'English'}-&gt;[0];\n</code></pre>\n<p>which means you can do</p>\n<pre><code>my $grades = $students_grades{'Colton'}{'English'};\nmy $grade = $grades-&gt;[0];\n</code></pre>\n<p>which means you could also have used the following:</p>\n<pre><code>my $grades = $students_grades{'Colton'}{'English'};\nfor my $grade (@$grades) {\n   print(&quot;$grade\\n&quot;);\n}\n</code></pre>\n<p>Knowing this allows one to easily escalate to the following:</p>\n<pre><code>for my $student_name (keys(%students_grades)) {\n   my $student_grades_by_class = $students_grades{$student_name};\n   for my $class_name (keys(%$student_grades_by_class)) {\n      my $grades = $student_grades_by_class-&gt;{$class_name};\n      for my $grade (@$grades) {\n         print(&quot;$student_name: $class_name: $grade\\n&quot;);\n      }\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 2167, "user_id": 2237387, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f10bc46df3b1fa41b60201ac9af5da39?s=128&d=identicon&r=PG", "display_name": "cooldood3490", "link": "https://stackoverflow.com/users/2237387/cooldood3490"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1845, "favorite_count": 0, "accepted_answer_id": 33371535, "answer_count": 2, "score": 2, "last_activity_date": 1598901395, "creation_date": 1445957966, "last_edit_date": 1445958231, "question_id": 33371365, "link": "https://stackoverflow.com/questions/33371365/loop-through-multidimensional-hash-of-arrays-in-perl", "title": "Loop through multidimensional Hash of Arrays in Perl", "body": "<p>I have a multidimensional hash of arrays that represent a student's grade in each subject for the first four assignments.</p>\n\n<pre><code>my %students_grades = (\n    Colton =&gt; {\n        English     =&gt; [ 90, 95, 80, 75 ],\n        Mathematics =&gt; [ 77, 89,94, 100 ],\n    },\n);\n</code></pre>\n\n<p>The syntax is a bit off but here's the code that creates the hash of arrays above.</p>\n\n<pre><code>#!/usr/bin/perl\nmy %students_grades;\n$students_grades{'Colton'}{'English'}[0] = 90;\n$students_grades{'Colton'}{'English'}[1] = 95;\n$students_grades{'Colton'}{'English'}[2] = 80;\n$students_grades{'Colton'}{'English'}[3] = 75;\n\n$students_grades{'Colton'}{'History'}[0] = 77;\n$students_grades{'Colton'}{'History'}[1] = 89;\n$students_grades{'Colton'}{'History'}[2] = 94;\n$students_grades{'Colton'}{'History'}[3] = 100;\n</code></pre>\n\n<p>How do I loop through the student's grades he received in History using a foreach loop? Right now I'm looping through it using a for loop.</p>\n\n<pre><code>my $num_of_grades = scalar @{$students_grades{'Colton'}{'History'}};\nfor (my $i=0; $i &lt;= $num_of_grades; $i++) {\n    print $students_grades{'Colton'}{'History'}[$i] . \"\\n\";\n}\n</code></pre>\n\n<p>This is a representation of my code but in my actual program my hash of arrays is more complicated so I want to loop through the hash of arrays using a foreach loop because it'll be easier to handle. How do I do that?</p>\n"}, {"tags": ["xml", "perl", "xml-libxml"], "comments": [{"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1445973014, "post_id": 33370690, "comment_id": 54546982, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/4083550/why-does-xmllibxml-find-no-nodes-for-this-xpath-query-when-using-a-namespace\">Why does XML::LibXML find no nodes for this xpath query when using a namespace</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446044399, "post_id": 33370690, "comment_id": 54580238, "body": "Please don&#39;t close as duplicate of that question. That question&#39;s XML is illegal, complicating the issue, and making the solution to that question irrelevant to this question. I&#39;d like to have this question available as a clean example."}], "answers": [{"comments": [{"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "edited": false, "score": 0, "creation_date": 1445957814, "post_id": 33370784, "comment_id": 54536982, "body": "Thanks a lot for great answer!!"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1445963187, "post_id": 33370784, "comment_id": 54540989, "body": "This is really clean and clear! I tend to use modules built out of <code>XML::LibXML</code> but you are making it look easy here.  XML is never going to go away and perl has some really powerful tools for dealing with it."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 12, "last_activity_date": 1449091630, "last_edit_date": 1449091630, "creation_date": 1445956527, "answer_id": 33370784, "question_id": 33370690, "link": "https://stackoverflow.com/questions/33370690/extracting-data-from-an-xml-document-that-uses-namespaces/33370784#33370784", "title": "Extracting data from an XML document that uses namespaces", "body": "<p>The root node of that document is an element which has name <code>SquishReport</code> in the <code>http://www.froglogic.com/XML2</code> namespace. Concisely, we can say the root node is a</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>{http://www.froglogic.com/XML2}SquishReport\n</code></pre>\n\n<p><br>When one uses <code>SquishReport</code> (as opposed to <code>prefix:SquishReport</code>) in an XPath, that tries to match an element which has name <code>SquishReport</code> in the null namespace. Concisely, we can say it attempts to match a</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>{}SquishReport\n</code></pre>\n\n<p><br>To specify the namespace, one uses prefixes defined in a <a href=\"http://search.cpan.org/perldoc?XML::LibXML::XPathContext\" rel=\"nofollow\">context</a>, as follows:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nuse XML::LibXML               qw( );\nuse XML::LibXML::XPathContext qw( );\n\nmy $xpc = XML::LibXML::XPathContext-&gt;new();\n$xpc-&gt;registerNs(sr =&gt; 'http://www.froglogic.com/XML2');\n\nmy $doc = XML::LibXML-&gt;load_xml( location =&gt; 'test.xml' );\nfor my $entry ($xpc-&gt;findnodes('/sr:SquishReport/sr:test/sr:test', $doc)) {\n    my $key = $entry-&gt;findvalue('@name');\n    say $key;\n}\n</code></pre>\n\n<p><br>Note: The prefix used in the XPath have no relation to the prefixes used in the XML document (if any). You are expected to know the namespace in which resides the elements for which you are searching, but not the prefixes used by a given document.</p>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1445963300, "last_edit_date": 1445963300, "creation_date": 1445962976, "answer_id": 33373260, "question_id": 33370690, "link": "https://stackoverflow.com/questions/33370690/extracting-data-from-an-xml-document-that-uses-namespaces/33373260#33373260", "title": "Extracting data from an XML document that uses namespaces", "body": "<p>Perl has <strong>so many</strong> excellent XML tools - thanks to all the module developers and <a href=\"http://www.xmlsoft.org/\" rel=\"nofollow\"><code>libxml2</code></a>, XML almost seems easy. One of those tools is <a href=\"https://metacpan.org/pod/XML::Dataset\" rel=\"nofollow\"><code>XML::Dataset</code></a> - a convenience \"scaffolding\" module that builds on <code>XML::LibXML</code> and uses a \"profile\" markup language to grab data from XML sources (<strong>NB:</strong> The profile mark-up is sensitive to whitespace and line endings). </p>\n\n<p><em>e.g.:</em></p>\n\n<pre><code>use XML::Dataset;\nuse DDP;\n\nmy $xml = \"Squish.xml\" ; \nopen my $fh, \"&lt;\", $xml or die \"aiiieee!\";\nmy $test_data = do { local $/; &lt;$fh&gt; };\n\n# describe the data using XML::Dataset simplified markup:\nmy $data_profile\n    = q(\n          SquishReport\n            test\n              test\n                 name = dataset:name);\n\n# parse it with XML::Dataset profile\nmy $parsed_data = parse_using_profile($test_data, $data_profile);\n\n# view the element with Data::Printer\nforeach my $element ( $parsed_data-&gt;{name}){\n     p $element ;\n};\n</code></pre>\n\n<p><strong><code>Squish.xml</code></strong>:</p>\n\n<pre><code>&lt;SquishReport version=\"2.1\" xmlns=\"http://www.froglogic.com/XML2\"&gt;\n   &lt;test name=\"TEST\"&gt;\n      &lt;prolog time=\"2015-10-01T03:45:22+02:00\"/&gt;\n      &lt;test name=\"tst_start_app\"&gt;\n          &lt;prolog time=\"2015-02-01T03:45:23+02:00\"/&gt;\n          &lt;message line=\"38\" type=\"LOG\" file=\"C:\\squish\\test\\sources.py\" time=\"2015-02-01T03:45:23+02:00\"&gt;\n              &lt;description&gt;\n                &lt;![CDATA[&gt;&gt;  &gt;&gt;  &gt;&gt; start: init (global) - testcase C:\\squish\\test\\tst_start_app]]&gt;&lt;/description&gt;\n          &lt;/message&gt;\n       &lt;/test&gt;\n   &lt;/test&gt;\n&lt;/SquishReport&gt;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>\\ [\n    [0] {\n        name   \"tst_start_app\"\n    }\n]\n</code></pre>\n"}], "owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 4, "accepted_answer_id": 33370784, "answer_count": 2, "score": 9, "last_activity_date": 1449091630, "creation_date": 1445956292, "last_edit_date": 1446446068, "question_id": 33370690, "link": "https://stackoverflow.com/questions/33370690/extracting-data-from-an-xml-document-that-uses-namespaces", "title": "Extracting data from an XML document that uses namespaces", "body": "<p>I have some XML files where I want to use some information from them. I have written a code that reads those files and then looks for some conditions.</p>\n\n<p>The problem is that these XML file begins with</p>\n\n<pre><code>   &lt;SquishReport version=\"2.1\" xmlns=\"http://www.froglogic.com/XML2\"&gt;\n</code></pre>\n\n<p>and Perl could not read them (at least in my code!). But When I am appending these lines in the first line of <code>XML</code> file</p>\n\n<pre><code>   &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n   &lt;?xml-stylesheet type=\"text/xsl\"?&gt;\n</code></pre>\n\n<p>works very well. </p>\n\n<p>Some lines from my XML file <code>test.xml</code>:</p>\n\n<pre><code>&lt;SquishReport version=\"2.1\" xmlns=\"http://www.froglogic.com/XML2\"&gt;\n   &lt;test name=\"TEST\"&gt;\n      &lt;prolog time=\"2015-10-01T03:45:22+02:00\"/&gt;\n      &lt;test name=\"tst_start_app\"&gt;\n          &lt;prolog time=\"2015-02-01T03:45:23+02:00\"/&gt;\n          &lt;message line=\"38\" type=\"LOG\" file=\"C:\\squish\\test\\sources.py\" time=\"2015-02-01T03:45:23+02:00\"&gt;\n              &lt;description&gt;\n                &lt;![CDATA[&gt;&gt;  &gt;&gt;  &gt;&gt; start: init (global) - testcase C:\\squish\\test\\tst_start_app]]&gt;&lt;/description&gt;\n          &lt;/message&gt;\n       &lt;/test&gt;\n   &lt;/test&gt;\n&lt;/SquishReport&gt;\n</code></pre>\n\n<p>and the Perl code for reading the XML file is:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\nuse XML::LibXML;\n\n# Parse the XML\nmy $xml = XML::LibXML-&gt;load_xml(location =&gt; 'test.xml');\n\n# Iterate the entries\nfor my $entry ($xml-&gt;findnodes('/SquishReport/test/test')) {\n    my $key = $entry-&gt;findvalue('@name');\n    say \"$key\";\n}\n</code></pre>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1445947693, "post_id": 33367477, "comment_id": 54529605, "body": "You want to delete the root node? That sound like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>. What are you actually trying to accomplish? Please give some (complete) samples if input/output XML."}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445947889, "post_id": 33367477, "comment_id": 54529729, "body": "@Sobrique Please see the edited version"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1445948642, "post_id": 33367477, "comment_id": 54530248, "body": "OK, I understand the question a bit better, and have answered accordingly. However I think this is still an XY problem - I would question why you need to delete the root node attributes?"}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445953476, "post_id": 33367477, "comment_id": 54533829, "body": "Because when I have root node with attribute then the code could not read children, otherwise it works very fine."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445953634, "post_id": 33367477, "comment_id": 54533942, "body": "Which code? Because chances are that&#39;s not doing XML properly, and that&#39;s where your problem actually lies."}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445956402, "post_id": 33367477, "comment_id": 54535921, "body": "Please take a look at this question:  <a href=\"http://stackoverflow.com/questions/33370690/perl-could-not-read-the-xml-files\" title=\"perl could not read the xml files\">stackoverflow.com/questions/33370690/&hellip;</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445956570, "post_id": 33367477, "comment_id": 54536057, "body": "Yes, &quot;In my code&quot;. What are you using &quot;in your code&quot; that can&#39;t handle well formed XML? Because that&#39;s bad news for all concerned."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1445960897, "post_id": 33367477, "comment_id": 54539343, "body": "XPath 1 and namespaces don&#39;t go very well together :-("}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1445956260, "post_id": 33367597, "comment_id": 54535829, "body": "<code>$twig -&gt; set_pretty_print(&#39;indented_a&#39;);</code> can modify the file. Best not to use it &quot;by default&quot;."}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "edited": false, "score": 0, "creation_date": 1445956992, "post_id": 33367597, "comment_id": 54536372, "body": "<code>keep_spaces =&gt; 1</code> in the <code>new</code> will leave all whitespace untouched (except for line returns in attribute values which are normalized by the parser)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445957186, "post_id": 33367597, "comment_id": 54536526, "body": "I haven&#39;t been tripped up by it yet, but I&#39;ll amend the answer."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1445957105, "last_edit_date": 1592644375, "creation_date": 1445947662, "answer_id": 33367597, "question_id": 33367477, "link": "https://stackoverflow.com/questions/33367477/deleting-first-line-of-an-xml-file-in-perl/33367597#33367597", "title": "deleting first line of an xml file in Perl", "body": "<p>With <a href=\"http://search.cpan.org/dist/XML-Twig/Twig.pm\" rel=\"nofollow noreferrer\"><code>XML::Twig</code></a>:</p>\n<p>Replace &quot;root element + attributes&quot; with just &quot;root element&quot;:</p>\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n \nuse XML::Twig;\n\nmy $twig = XML::Twig -&gt; parse ( \\*DATA );\n$twig -&gt; root -&gt; del_atts;\n$twig -&gt; set_pretty_print('indented_a');\n$twig -&gt; print;\n\n__DATA__\n&lt;SquishReport version=&quot;2.1&quot; xmlns=&quot;http://www.froglogic.com/XML2&quot;&gt;\n&lt;test name=&quot;test&quot;&gt; &lt;/test&gt;\n&lt;/SquishReport&gt;\n</code></pre>\n<p>Prints:</p>\n<pre><code>&lt;SquishReport&gt;\n  &lt;test name=&quot;test&quot;&gt; &lt;/test&gt;\n&lt;/SquishReport&gt;\n</code></pre>\n<p>Note -</p>\n<pre><code>$twig -&gt; set_pretty_print('indented_a');\n</code></pre>\n<p>Can change file content - from the docs on <code>XML::Twig</code>:</p>\n<blockquote>\n<p>WARNING: this option leaves the document well-formed but might make it invalid (not conformant to its DTD).</p>\n</blockquote>\n<p>So turning off pretty printing if that's a concern would be the appropriate choice.</p>\n"}], "owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 33367597, "answer_count": 1, "score": -2, "last_activity_date": 1445957105, "creation_date": 1445947260, "last_edit_date": 1445947853, "question_id": 33367477, "link": "https://stackoverflow.com/questions/33367477/deleting-first-line-of-an-xml-file-in-perl", "title": "deleting first line of an xml file in Perl", "body": "<p>Hi I have an XML file which I want to remove first line of it using Perl and replace it with only one word. Would you please let me know how one could manage it?</p>\n\n<p>Fro example, let' we have an XML file which includes some lines as:</p>\n\n<pre><code>&lt;SquishReport version=\"2.1\" xmlns=\"http://www.froglogic.com/XML2\"&gt;\n&lt;test name=\"test\"&gt;\n.\n.\n.\n</code></pre>\n\n<p>which after removing and adding the desired line I would have:</p>\n\n<pre><code>&lt;SquishReport&gt;\n&lt;test name=\"test\"&gt;\n.\n.\n</code></pre>\n"}, {"tags": ["perl", "sorting", "data-structures", "hash", "perl-data-structures"], "comments": [{"owner": {"reputation": 1419, "user_id": 2460374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/448cb6bb58c400ddb4decc721680d231?s=128&d=identicon&r=PG", "display_name": "jkalden", "link": "https://stackoverflow.com/users/2460374/jkalden"}, "edited": false, "score": 1, "creation_date": 1445947255, "post_id": 33367144, "comment_id": 54529341, "body": "Please see <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a> to improve your question..."}], "answers": [{"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1445972468, "post_id": 33367179, "comment_id": 54546683, "body": "Yours is the canonical answer :-) (closest to the one from from the FAQ) I tried combining the basics with the sorting order issue raised by @Toto using a module.  Sobrique and Toto: Is there a shorter &quot;&quot;idiom&quot; that would do natural sorting or is using a module defensible until one groks the code in Toto&#39;s response?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1445973211, "post_id": 33367179, "comment_id": 54547074, "body": "What do you mean by natural sorting? If I&#39;ve a dual-key type sort (like numbers/letters) then usually I&#39;ll just do a regex to capture the two different values."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1445973442, "post_id": 33367179, "comment_id": 54547190, "body": "OK so more or less do as @Toto has done?  As I read it, <code>Sort::Naturally</code> is more or less hiding the block you can pass to the <code>sort()</code> function inside a module and providing a convenience function to wrap things up nicely."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1445974170, "post_id": 33367179, "comment_id": 54547575, "body": "Pretty much. Added my own illustration using the longer key list."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1445974975, "post_id": 33367179, "comment_id": 54548029, "body": "That&#39;s a bit nicer looking than @Toto ;-)  I knew there was a way <code>||</code> could shorten things.  In any case it is nice to know what goes on behind the scenes with something like <code>Sort::Naturally</code>. Cheers."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1445975191, "post_id": 33367179, "comment_id": 54548163, "body": "Modules are generally beneficial, but I find it really does help to understand what&#39;s actually going on behind the scenes - I assume <code>Sort::Naturally</code> does something a bit more comprehensive than in the above, but this is sufficient given the sample data."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1445974064, "last_edit_date": 1445974064, "creation_date": 1445946413, "answer_id": 33367179, "question_id": 33367144, "link": "https://stackoverflow.com/questions/33367144/alphanumeric-or-natural-sorting-of-keys-in-a-hash/33367179#33367179", "title": "Alphanumeric or natural sorting of keys in a hash", "body": "<p>You need the <code>sort</code> function:</p>\n\n<pre><code>foreach my $key ( sort keys %hash ) {\n    print \"$key =&gt; $hash{$key}\\n\"; \n}\n</code></pre>\n\n<p>You can't easily maintain hashes as sorted structures, as they just don't work that way. See: <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow\"><code>perldata</code></a> for more about how hashes work. </p>\n\n<p>Edit: One of the niceties of <code>sort</code> in perl though, is that it lets you specify a function. This function should take <code>$a</code> and <code>$b</code> and return <code>-1</code>, <code>0</code>, <code>+1</code> depending on if they're before or after.</p>\n\n<p><code>cmp</code> does that for alphabetical. <code>&lt;=&gt;</code> does that numerically. And best of all, when combined with <code>||</code> you can daisy chain the criteria, because <code>-1</code> or <code>1</code> are 'true' but <code>0</code> is false. </p>\n\n<p>Something like this for example (borrowed the key list from another post to illustrate):</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy @keys = qw/ AB3 AB1 AB4\n    CD5 CD107 CB8\n    AC1 AC5 AC33\n    BA84 CB11 CA233/;\n\n\nsub lex_num {\n    #split the keys into \"word\" and \"digit\" elements. \n    my @a_keys = $a =~ m/([A-Z]+)(\\d+)/i;\n    my @b_keys = $b =~ m/([A-Z]+)(\\d+)/i;\n\n    return ( $a_keys[0] cmp $b_keys[0] \n          || $a_keys[1] &lt;=&gt; $b_keys[1] );\n}\n\nprint join( \"\\n\", sort lex_num @keys );\n</code></pre>\n\n<p>This will sort the first bit lexically, the second bit numerically. If you've more combinations of letters and numbers then this won't work, but you can do e.g. a <code>split</code> and a <code>for</code> loop.</p>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1445965571, "post_id": 33368783, "comment_id": 54542616, "body": "Good answer to what is often the difficult part of a sorting operation. Unfortunately we have to guess at what problem the original poster is trying to solve."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 1, "last_activity_date": 1445951093, "creation_date": 1445951093, "answer_id": 33368783, "question_id": 33367144, "link": "https://stackoverflow.com/questions/33367144/alphanumeric-or-natural-sorting-of-keys-in-a-hash/33368783#33368783", "title": "Alphanumeric or natural sorting of keys in a hash", "body": "<p>If your keys are defined by non digits followed by digits, you could do:</p>\n\n<pre><code>my %h = (\n  CD45 =&gt; 4,\n  AB1 =&gt; 1,\n  AB22 =&gt; 3,\n  AB5 =&gt; 2,\n);\nsub mySort {\n  my ($xa,$ya) = $a =~ /^(\\D+)(\\d+)$/;\n  my ($xb,$yb) = $b =~ /^(\\D+)(\\d+)$/;\n  return -1 if $xa lt $xb;\n  return +1 if $xa gt $xb;\n  return $ya &lt;=&gt; $yb;\n}\nfor (sort { mySort } keys %h) {\n  say \"$_ =&gt; $h{$_}\";\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>AB1 =&gt; 1\nAB5 =&gt; 2\nAB22 =&gt; 3\nCD45 =&gt; 4\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1445972773, "post_id": 33376232, "comment_id": 54546859, "body": "Removed the hash slice 5.20-ism:  <code>$_ = &quot;whatever&quot; for %hash{@keys};</code>"}], "tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1446604618, "last_edit_date": 1495540108, "creation_date": 1445971917, "answer_id": 33376232, "question_id": 33367144, "link": "https://stackoverflow.com/questions/33367144/alphanumeric-or-natural-sorting-of-keys-in-a-hash/33376232#33376232", "title": "Alphanumeric or natural sorting of keys in a hash", "body": "<p>Here's how you might combine the two approaches and shorten your code by using a CPAN module - in this case <a href=\"https://metacpan.org/pod/Sort::Naturally\" rel=\"nofollow noreferrer\"><code>Sort::Naturally</code></a> (I have made the hash keys a bit more complex for illustrative purposes):</p>\n\n<pre><code>use Sort::Naturally ;\n\nmy @keys = qw/ AB3 AB1 AB4 \n               CD5 CD107 CB8 \n               AC1 AC5 AC33 \n               BA84 CB11 CA233/ ;\n\n# make a hash from the keys with \"whatever\" as value:\nmy %hash;\n%hash = map { $_ =&gt; $hash{$_} = 'whatever' } @keys ; \n\n# Auto-magically naturally sort alphanumerically\n# A module based approach to @Toto's solution:\nfor ( nsort keys %hash ) { print \"$_ =&gt; $hash{$_} \\n\" };\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/users/2566198/sobrique\">@Sobrique</a> has responded with the basic perl approach to sorting a hash by its keys, and <a href=\"https://stackoverflow.com/users/372239/toto\">@Toto</a> has shown how you can sort those keys in a specified order using your own subroutine as an argument in the block <code>{ }</code> following the builtin <code>sort()</code> function.</p>\n\n<p><strong>References</strong>:</p>\n\n<ul>\n<li>The Perl Data Structures Cookbook (see <code>perldoc</code><a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\"><code>perldsc</code></a>)</li>\n<li>The <a href=\"http://perldoc.perl.org/perlfaq4.html#How-do-I-sort-a-hash-%28optionally-by-value-instead-of-key%29?\" rel=\"nofollow noreferrer\">Perl FAQ</a> on sorting hashes</li>\n<li><a href=\"https://stackoverflow.com/questions/1558625/how-can-i-maintain-the-order-of-keys-i-add-to-a-perl-hash\">How can I maintain the order of keys I add to a Perl hash?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/30340027/why-do-hash-keys-have-different-order-when-printing/30340150#30340150\">Why do hash keys have different order when printing?</a></li>\n</ul>\n"}], "owner": {"reputation": 57, "user_id": 3248103, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b8338af953d8d00eff5e55b324b67f09?s=128&d=identicon&r=PG&f=1", "display_name": "user3248103", "link": "https://stackoverflow.com/users/3248103/user3248103"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 1, "closed_date": 1447235836, "answer_count": 3, "score": -2, "last_activity_date": 1446604618, "creation_date": 1445946288, "last_edit_date": 1445973294, "question_id": 33367144, "link": "https://stackoverflow.com/questions/33367144/alphanumeric-or-natural-sorting-of-keys-in-a-hash", "closed_reason": "Duplicate", "title": "Alphanumeric or natural sorting of keys in a hash", "body": "<p>I have keys in a hash as follows: <code>AB3, AB1, AB2</code> and so on.  I would like to sort the hash by the keys.  How do I do this in perl? </p>\n\n<p>A related issue is how can I sort the keys so that letters and numbers appear in the correct order?</p>\n"}, {"tags": ["perl", "io"], "answers": [{"comments": [{"owner": {"reputation": 1320, "user_id": 1779743, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/08e0dfef48bf20447e7838ff8c7e8ec1?s=128&d=identicon&r=PG", "display_name": "Katrinna L", "link": "https://stackoverflow.com/users/1779743/katrinna-l"}, "edited": false, "score": 0, "creation_date": 1445940071, "post_id": 33363614, "comment_id": 54524431, "body": "I added warnings and now I see that SEEK_END was&#39;t recognized correctly as a number... , but I was checking the result from seek and it was 1 (so success) ... I&#39;m new to Perl , but shouldn&#39;t I get an error if the constant value is undefined ?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 1320, "user_id": 1779743, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/08e0dfef48bf20447e7838ff8c7e8ec1?s=128&d=identicon&r=PG", "display_name": "Katrinna L", "link": "https://stackoverflow.com/users/1779743/katrinna-l"}, "edited": false, "score": 0, "creation_date": 1445960386, "post_id": 33363614, "comment_id": 54538959, "body": "@KatrinnaL you can check actual file position with <code>tell(FH)</code> after successful seek. No, you shouldn&#39;t get error so warnings are recommended. You can also throw an exception for warnings if that is desired behavior. <code>$SIG{__WARN__} = sub { die @_ };</code>"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 1, "last_activity_date": 1445936944, "last_edit_date": 1445936944, "creation_date": 1445936616, "answer_id": 33363614, "question_id": 33362926, "link": "https://stackoverflow.com/questions/33362926/how-to-follow-the-file-starting-with-the-end-position-tail-fn-0-in-perl/33363614#33363614", "title": "How to follow the file starting with the end position (tail -fn 0) in Perl", "body": "<p>You may want to enable warnings first,</p>\n\n<pre><code>use warnings;\n</code></pre>\n\n<p>and import seek constants (<code>SEEK_END</code>)</p>\n\n<pre><code>use Fcntl qw(:seek);\n</code></pre>\n\n<p>After that</p>\n\n<pre><code>seek(FH , -1 , SEEK_END) or warn \"Can't seek\"; \n</code></pre>\n\n<p>will position your handle at one byte before last one, so use <code>0</code> instead of <code>-1</code> if you wan't to go at the end of the file.</p>\n"}], "owner": {"reputation": 1320, "user_id": 1779743, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/08e0dfef48bf20447e7838ff8c7e8ec1?s=128&d=identicon&r=PG", "display_name": "Katrinna L", "link": "https://stackoverflow.com/users/1779743/katrinna-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 33363614, "answer_count": 1, "score": 0, "last_activity_date": 1445936944, "creation_date": 1445934206, "question_id": 33362926, "link": "https://stackoverflow.com/questions/33362926/how-to-follow-the-file-starting-with-the-end-position-tail-fn-0-in-perl", "title": "How to follow the file starting with the end position (tail -fn 0) in Perl", "body": "<p>I'd like to do something similar to \"tail -fn 0 fileName\".\nSo I need to skip to the end of the file and read only appended lines.</p>\n\n<p>Here's the code for following the file :</p>\n\n<pre><code>open(FH,\"&lt;\" ,\"fileName.txt\") || die \"Can't open file , $!\";\nfor (;;) {\n    while (&lt;FH&gt;) {\n      #process line \n}\n    sleep(1);\n    seek(FH, 0, 1);\n}\n</code></pre>\n\n<p>I tried to set the position to the end of file before the for loop , but it still reads starting from the beginning.</p>\n\n<pre><code>seek(FH , -1 , SEEK_END); \n</code></pre>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1445930349, "post_id": 33361304, "comment_id": 54519081, "body": "The list you pass to <code>subprocess.call</code> contains the program to run, followed by the arguments to pass to the program. If you have additional parameters, just add them to the list in an appropriate place."}, {"owner": {"reputation": 163, "user_id": 3568044, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/88e75eb8d67c39272d202e173cfaffed?s=128&d=identicon&r=PG&f=1", "display_name": "user3568044", "link": "https://stackoverflow.com/users/3568044/user3568044"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1445934747, "post_id": 33361304, "comment_id": 54521148, "body": "I tried that. But it is not working.In command line it is to be given as -m &quot;the mode required&quot;. I need to run the program using all the modes. In IDLE I tried giving the mode as a parameter but it is not working except for the default case."}, {"owner": {"reputation": 163, "user_id": 3568044, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/88e75eb8d67c39272d202e173cfaffed?s=128&d=identicon&r=PG&f=1", "display_name": "user3568044", "link": "https://stackoverflow.com/users/3568044/user3568044"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1445938888, "post_id": 33361304, "comment_id": 54523540, "body": "Now it is working. I was not giving the &quot;-m&quot; as separate arg.Got the information from &lt;<a href=\"http://stackoverflow.com/questions/29434608/how-to-pass-commands-to-an-application-from-python?lq=1\" title=\"how to pass commands to an application from python\">stackoverflow.com/questions/29434608/&hellip;</a>&gt;. Thanks!"}], "owner": {"reputation": 163, "user_id": 3568044, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/88e75eb8d67c39272d202e173cfaffed?s=128&d=identicon&r=PG&f=1", "display_name": "user3568044", "link": "https://stackoverflow.com/users/3568044/user3568044"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1445927630, "creation_date": 1445927630, "last_edit_date": 1495541030, "question_id": 33361304, "link": "https://stackoverflow.com/questions/33361304/how-to-call-a-perl-script-from-python-idle-by-specifying-the-different-modes", "title": "How to call a perl script from python IDLE by specifying the different modes?", "body": "<p>I have a perl script which must be called from python IDLE. Using the different information provided in <a href=\"https://stackoverflow.com/questions/4682088/call-perl-script-from-python\">Call Perl script from Python</a> I was able to call the perl program successfully in the default mode provided in the script.The following script worked in python idle and the output with default mode was obtained.</p>\n\n<pre><code>input=\"./path\"\noutput=\"./path\"\nsubprocess.call([\"perl\",\"./path/program.pl\",input,output])\n</code></pre>\n\n<p>The perl script is actually a software package that I need to call from python. In command line using the \"-m\" option different modes can be specified. \nBut I am confused how to pass the other modes along with the input and output path variables while calling the script from idle in subprocess.call().Any help is appreciated.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["arrays", "perl", "pass-by-reference"], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 7, "last_activity_date": 1445919865, "creation_date": 1445919865, "answer_id": 33359946, "question_id": 33359852, "link": "https://stackoverflow.com/questions/33359852/perl-modifying-reference-array-via-push-in-subroutine/33359946#33359946", "title": "Perl Modifying Reference Array via Push in Subroutine", "body": "<p>The original array isn't getting modified because you're making a copy of it into <code>@array</code> in <code>readLine()</code>. You need to do something like this instead, where you're acting upon the actual reference instead of just a copy:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dump;\n\nmain();\n\nsub main {\n    my @array;\n    foo(\\@array, 'bar', 'bat', 'baz');\n    dd(@array);\n}\n\nsub foo {\n    my ($aref, @args) = @_;\n    push(@$aref, @args);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>(\"bar\", \"bat\", \"baz\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1445920242, "post_id": 33359968, "comment_id": 54515411, "body": "Where is <code>$myvalue</code> coming from?"}], "tags": [], "owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "is_accepted": true, "score": 4, "last_activity_date": 1445920463, "last_edit_date": 1445920463, "creation_date": 1445920052, "answer_id": 33359968, "question_id": 33359852, "link": "https://stackoverflow.com/questions/33359852/perl-modifying-reference-array-via-push-in-subroutine/33359968#33359968", "title": "Perl Modifying Reference Array via Push in Subroutine", "body": "<p>You are declaring a lexical (local) variable inside of your <code>readLine</code> subroutine, and at the end of the subroutine its value is discarded. You are never using the actual array you passed in because you made a copy of it instead.</p>\n\n<p>You can push onto the referenced array directly easily though.</p>\n\n<pre><code>push @{$_[1]}, $myvalue;\n</code></pre>\n\n<p>Your code as written expects that <code>$myvalue</code> has fallen out of the sky (or possibly it's defined in the global scope somewhere?) But assuming it has a value, that value would be pushed onto the referenced array.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4148144"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 950, "favorite_count": 1, "accepted_answer_id": 33359968, "answer_count": 2, "score": 2, "last_activity_date": 1445920463, "creation_date": 1445919202, "question_id": 33359852, "link": "https://stackoverflow.com/questions/33359852/perl-modifying-reference-array-via-push-in-subroutine", "title": "Perl Modifying Reference Array via Push in Subroutine", "body": "<p>I have an array I want to modify in a subroutine. It gets passed in by reference as the second argument. It doesn't seem to get modified, since when I return, the length of the array is the same as the original value.</p>\n\n<p>Here's a snippet of what I did:</p>\n\n<pre><code>sub readLine\n{\n    my @array = @{$_[1]};\n    #Push value onto array\n    push @array, $myvalue;\n}\n\nsub main \n{\n    my @array = ();\n    #Pass by reference\n    readLine($argument1, \\@array);\n\n    print @array; #Prints 0\n}\n</code></pre>\n\n<p>I'm new to Perl so please let me know if I'm doing this correctly. I read answers to similar questions and it's still not printing the correct value (1) for me. I have the latest version of Perl installed.</p>\n"}, {"tags": ["bash", "perl", "sed"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1445920153, "post_id": 33359831, "comment_id": 54515390, "body": "What have you tried so far? What&#39;s not working about it? Have you gotten any error messages? Be specific."}], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 2640662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e8baccc009f76d82f88220742c5449?s=128&d=identicon&r=PG", "display_name": "h.bahadorzadeh", "link": "https://stackoverflow.com/users/2640662/h-bahadorzadeh"}, "is_accepted": false, "score": 0, "last_activity_date": 1445928924, "creation_date": 1445928924, "answer_id": 33361617, "question_id": 33359831, "link": "https://stackoverflow.com/questions/33359831/take-the-comma-out-of-a-column-in-a-csv-file/33361617#33361617", "title": "Take the Comma out of a Column in a csv file", "body": "<p>You should use sed -i :</p>\n\n<pre><code>sed -i -e 's/^\\(.*\\)\\(,\\)\\(\\ *(P)\\)\\(.*\\)$/\\1\\3\\4/g' CSVFILE\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 0, "last_activity_date": 1445935778, "creation_date": 1445935778, "answer_id": 33363388, "question_id": 33359831, "link": "https://stackoverflow.com/questions/33359831/take-the-comma-out-of-a-column-in-a-csv-file/33363388#33363388", "title": "Take the Comma out of a Column in a csv file", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed -r ':a;s/^(([^,]*,){2}[^,]*),(.*\\(P\\))/\\1\\3/;ta' file\n</code></pre>\n\n<p>This removes any comma following the end of the second field upto the marker <code>(P)</code> iteratively.</p>\n\n<p>Another solution using the <code>divide and conquer</code> method:</p>\n\n<pre><code>sed -r 's/^(([^,]*,){2})(.*\\(P\\))/\\1\\n\\3\\n/;h;s/,//g;G;s/.*\\n(.*)\\n.*\\n(.*)\\n.*\\n/\\2\\1/' file\n</code></pre>\n\n<p>Splits the line into three pieces, processes the middle piece and then reconstructs the whole line using a copy.</p>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1445935778, "creation_date": 1445919007, "last_edit_date": 1445919173, "question_id": 33359831, "link": "https://stackoverflow.com/questions/33359831/take-the-comma-out-of-a-column-in-a-csv-file", "title": "Take the Comma out of a Column in a csv file", "body": "<p>I need to take out all the commas in the the Third column  - anything before the (P). So i need to change  </p>\n\n<pre><code>4,653920, Disciplined Growth Investors, (P), MN Continental Europe , Netherlands ,0.0,6.0,3.247039123535156\n</code></pre>\n\n<p>into </p>\n\n<pre><code>4,653920, Disciplined Growth Investors (P), MN Continental Europe , Netherlands ,0.0,6.0,3.247039123535156\n</code></pre>\n\n<p>and </p>\n\n<pre><code>3,670862, Barrow, Hanley, Mewhinney &amp; Strauss (P)  , Continental Europe , Germany ,0.0,117228.58280736001,81988.77229259514\n</code></pre>\n\n<p>needs to get turned into </p>\n\n<pre><code>  3,670862, Barrow Hanley Mewhinney &amp; Strauss (P)  , Continental Europe , Germany ,0.0,117228.58280736001,81988.77229259514\n</code></pre>\n\n<hr>\n\n<pre><code>4,646689, Turner Investment Partners Inc (P), USA , Continental Europe Sweden ,0.0,32.31363986312867,10.986624382831804\n4,653920, Disciplined Growth Investors, (P), MN Continental Europe , Netherlands ,0.0,6.0,3.247039123535156\n3,26372, Delaware Investment Advisors (P), USA , South East Asia India ,0.0,0.0,0.0\n3,640531, J. Goldman &amp; Co L.P. (P), New York , Emerging Markets Cyprus ,0.0,133.0,109.06\n4,978983, Mirae Asset Mgmt (RP), London , United Kingdom United Kingdom ,0.0,0.0,0.0\n3,11689, Panagora Asset Management (P), USA , Emerging Markets Greece ,0.0,104.41579594,76.1271739939902\n4,49077, Hellman, Jordan Management Company Inc (P), Boston South East Asia , Asia - Multi Mkt ,0.0,0.0,0.0\n4,9133838, AmericaFirst Capital Management LLC (P), USA , United States of America United States of America ,0.0,14999.789999999999,12030.62399999999\n4,654134, Bessemer Trust Company (RP), New Jersey , South East Asia India ,0.0,0.6000000000000001,0.5733759994506836\n3,674681, Amici Capital LLC (P), USA , South East Asia Asia - Multi Mkt ,0.0,0.0,0.0\n4,49077, Hellman, Jordan Management Company Inc (P), Boston Australia &amp; NZ , Australia ,0.0,0.0,0.0\n4,45722, Par Capital Management (P), USA , Japan Japan. ,0.0,0.0,0.0\n3,926297, AGF Management Ltd (RP), Canada , North America Canada. ,0.0,0.0,0.0\n3,49077, Hellman, Jordan Management Company Inc (P), Boston South East Asia , Singapore ,0.0,1.26,0.8043503979492187\n3,926297, AGF Management Ltd (RP), Canada , Continental Europe Norway ,0.0,0.0,0.0\n3,9057635, Pine River Capital (P), Minneapolis , Continental Europe Europe - Multi Mkt ,0.0,0.0,0.0\n4,2000015, Alpine Woods Capital Investors, LLC (P), USA United Kingdom , United Kingdom ,0.0,987.7121818200001,935.0341807272648\n4,1132877, Echinus Partners LP (P), United States , United States of America United States of America ,0.0,0.0,0.0\n4,669920, Schafer Capital Mgmt Inc (P), New York , South East Asia Indonesia ,0.0,9.600000000000001,9.36\n3,40238, Davis Selected Advisers, LP (P), Santa Fe South East Asia , China ,0.0,1263.15,1221.045\n4,1067377, Columbia Wanger Asset Management (P), USA , United States of America United States of America ,0.0,5403.889999999999,5205.6125\n3,823184, Delta Partners (P), USA , Latin America Latin America - Multi Mkt ,0.0,0.0,0.0\n3,508152, Federated Investors Inc (P), USA , Other South Africa ,0.0,0.0,0.0\n3,670862, Barrow, Hanley, Mewhinney &amp; Strauss (P)  , Continental Europe , Germany ,0.0,117228.58280736001,81988.77229259514\n4,1116378, Salzman Co Inc (P), USA , United Kingdom United Kingdom ,0.0,92.9,79.26387728576661\n4,647619, Segall Bryant &amp; Hamill (P), Minneapolis , Latin America Colombia ,0.0,1.67,1.5699999999999998\n3,653920, Disciplined Growth Investors, (P), MN United Kingdom , United Kingdom ,0.0,4.0,3.82\n4,989767, Coatue Management LLC (P), USA , Continental Europe Austria ,0.0,1326.0216336784424,1255.3005343314537\n3,34455, Gabelli Asset Management Inc (P), USA , Continental Europe France ,0.0,885.54552259,814.7023230917504\n3,832792, Clovis Capital Management, LP (P), New York United States of America , United States of America ,0.0,96850.0,96077.5\n4,669920, Schafer Capital Mgmt Inc (P), New York , Continental Europe France ,0.0,198.05,192.48499999999999\n</code></pre>\n"}, {"tags": ["regex", "perl", "parsing", "regexp-grammars"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1445895021, "post_id": 33355952, "comment_id": 54507841, "body": "This sort of problem is hard for a regular expression. I would suggest instead writing a grammar using <a href=\"https://metacpan.org/pod/Parse::RecDescent\" rel=\"nofollow noreferrer\">Parse::RecDescent</a> or <a href=\"https://metacpan.org/pod/Regexp::Grammars\" rel=\"nofollow noreferrer\">Regexp::Grammars</a>."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1445895318, "post_id": 33355952, "comment_id": 54508008, "body": "You can only do <a href=\"https://regex101.com/r/fC8bS2/1\" rel=\"nofollow noreferrer\">something like this with a tempered greedy token</a>. Skipping is not allowed, unless you want to use two look-aheads and capture some discontinuous chunks of text."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 2, "creation_date": 1445895762, "post_id": 33355952, "comment_id": 54508227, "body": "This is easily done with regex. The problem is your examples demonstrate a complex language. Without details, it would seem more appropriate for a parser of that particular language."}], "answers": [{"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1445899112, "post_id": 33356193, "comment_id": 54509580, "body": "<code>$&#47;</code> is clever, but it is limited to strings. The text looks like some sort of programming language, so the spaces between <code>field</code> and <code>=</code> are likely to change."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1445900261, "post_id": 33356193, "comment_id": 54510016, "body": "I was working on the sample data given being blank line delimited. You may be right, but given what we have to work with, that may also be overkill."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1446216517, "post_id": 33356193, "comment_id": 54665428, "body": "Of course! After all perl started out being an improvement on <code>awk</code> :-)  Hmm but <code>perl -MData::Dumper -ne &#39;$&#47;=&quot;\\n\\n&quot; ; push @arr, [$_] ;}{ print Dumper @arr&#39; data.txt</code> gives me one extra split though (the first <code>field</code> line ends up on its own)."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1446216832, "post_id": 33356193, "comment_id": 54665641, "body": "@Schwern interestingly <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">perlvar</a> says: &quot;As of 5.19.9 setting <code>$&#47;</code> to any other form of reference will throw a fatal exception. This is in preparation for supporting new ways to set <code>$&#47;</code> in the future.&quot; Would be neat to be able to pass a regexp as a field separator - I see a whole new generation of obfuscated one-liners :-)"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1446217349, "post_id": 33356193, "comment_id": 54665964, "body": "@Sobrique  oops!  Forgot I needed to set <code>$&#47;</code> in a <code>BEGIN{}</code> block and then <code>chomp</code> to get it to work properly: <code>perl -MDDP -ne &#39;BEGIN { $&#47;=&quot;\\n\\n&quot;;} chomp; push @arr, $_ ;}{ p  @arr&#39; data.txt</code>"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1446218693, "post_id": 33356193, "comment_id": 54666855, "body": "That would be <code>perl -MData::Dumper -ne &#39;BEGIN { $RS=&quot;\\n\\n&quot;;} chomp; push @arr, [$_] ;}{ print Dumper @arr&#39;  data.txt</code> to stick with core modules.  As well, <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\"><code>perlrun</code></a> shows how to set <code>$&#47;</code> with the <code>-0</code> (zero) switch:  <code>perl -MData::Dumper -00 -ne &#39;chomp; push @arr, [$_] ;}{ print Dumper @arr&#39; data.txt</code>.  Being able to <i>easily</i> create parsing grammars is a pretty new thing, but <code>$&#47;</code> and the <code>-0</code> switch date from perl4 or earlier so answer to this question have covered a wide swath of history - just like perl."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1445895889, "creation_date": 1445895889, "answer_id": 33356193, "question_id": 33355952, "link": "https://stackoverflow.com/questions/33355952/perl-regex-to-get-all-text-between-repeating-patterns/33356193#33356193", "title": "Perl: Regex to get all text between repeating patterns", "body": "<p>This is hard for a regex. Fortunately,  that isn't the only tool in your box. </p>\n\n<p>It looks like you have a blank line between each record. If so, you can do this easily by setting <code>$/</code> to <code>\"\\n\\n\"</code>. Then you can read your file with a while loop, and each iteration <code>$_</code> will be set to the chunk you are trying to handle.  </p>\n\n<p>Failing that, you could set it to <code>field =</code> or perhaps even just use <code>split</code></p>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1445899073, "post_id": 33356218, "comment_id": 54509568, "body": "This relies on that each <code>field = ...</code> happens to have a newline in front of it. The text is some sort of programming language, this assumption will not hold."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1446220637, "post_id": 33356218, "comment_id": 54668148, "body": "<code>perl -00 -nE &#39;chomp; push @_, $_ ;}{ say $_[0]&#39; file</code> for the purpose of archaeological comparison :-)"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1446232581, "post_id": 33356218, "comment_id": 54674939, "body": "<code>perl6 -e &#39;say slurp.split(&quot;\\n\\n&quot;)[0]&#39; file</code> ... archaeology and evolutionary adaptation."}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "edited": false, "score": 1, "creation_date": 1446233341, "post_id": 33356218, "comment_id": 54675318, "body": "this is more readable.  couple more evolutions later it may resemble awk."}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1446396557, "post_id": 33356218, "comment_id": 54714822, "body": "The awk is only readable if you know awk. The only way I can read awk is to pipe it into <code>a2p</code> and read the Perl 5 output. If I started programming on Unix systems instead of DOS/Windows I may have learned awk and sed before Perl, but now that I know Perl 5&amp;6 it doesn&#39;t seem worth it as everything you can do easily with awk and sed you can do easily with Perl (especially since it copied a few ideas from them)."}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "edited": false, "score": 0, "creation_date": 1446421162, "post_id": 33356218, "comment_id": 54722668, "body": "That&#39;s right but what I also meant is, the code is direct translation of the description.  Use paragraph mode: <code>-v RS=</code> print first record: <code>NR==1</code>  Once you know what those mean it&#39;s trivial to solve certain programming tasks with <code>awk</code>"}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 0, "last_activity_date": 1445895989, "creation_date": 1445895989, "answer_id": 33356218, "question_id": 33355952, "link": "https://stackoverflow.com/questions/33355952/perl-regex-to-get-all-text-between-repeating-patterns/33356218#33356218", "title": "Perl: Regex to get all text between repeating patterns", "body": "<p>This is trivial with <code>awk</code></p>\n\n<pre><code>$ awk -v RS= 'NR==1' file\nfield = \"test string\";\ntype =  INT;\nfuncCall(.., field, ...);\n...\ntext = \"desc\";\n</code></pre>\n\n<p>use paragraph mode, print first record.</p>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 2, "creation_date": 1446183715, "post_id": 33356517, "comment_id": 54647268, "body": "++ excellent post. Thanks!  What do you think of PEG approach and the <a href=\"https://metacpan.org/pod/distribution/Pegex/lib/Pegex.pod\" rel=\"nofollow noreferrer\"><code>Pegex</code></a> implementation of it on CPAN compared to <code>Regexp::Grammar</code>?  My post is just a brief introduction but I wonder if Perl6&#39;s use of grammars is  going to influence perl5 development with regard to the use of grammars to enhance the power of regexps."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1446186560, "post_id": 33356517, "comment_id": 54648257, "body": "@G.Cito I don&#39;t have an opinion about which grammar library to use. I don&#39;t have much experience with them, this is my first time using Regexp::Grammar and first I&#39;ve seen of Pegex. I do think Perl 6 means we&#39;ll see more use of grammars in Perl 5, it&#39;s already happened, and also as more people become aware of Perl 5 named and recursive patterns. But I haven&#39;t been keeping up on current events."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 4, "last_activity_date": 1454038230, "last_edit_date": 1454038230, "creation_date": 1445897381, "answer_id": 33356517, "question_id": 33355952, "link": "https://stackoverflow.com/questions/33355952/perl-regex-to-get-all-text-between-repeating-patterns/33356517#33356517", "title": "Perl: Regex to get all text between repeating patterns", "body": "<p>The quick and dirty way is to define a regex which mostly matches the field assignment, then use that in another regex to match what's between them.</p>\n\n<pre><code>my $field_assignment_re = qr{^\\s* field \\s* = \\s* [^;]+ ;}msx;\n\n$code =~ /$field_assignment_re (.*?) $field_assignment_re/msx;\nprint $1;\n</code></pre>\n\n<p>The downside of this approach is it might match quoted strings and the like.</p>\n\n<hr>\n\n<p>You can sort of parse code with regular expressions, but parsing it <em>correctly</em> is beyond normal regular expressions. This is because of the high amount of balanced delimiters (ie. parens and braces) and escapes (ie. <code>\"&lt;foo \\\"bar\\\"\"&gt;\"</code>). To get it right you need to write a grammar.</p>\n\n<p>Perl 5.10 added <a href=\"http://perldoc.perl.org/perlretut.html#Recursive-patterns\" rel=\"nofollow\">recursive decent matching</a> to make writing grammars possible.  They also added <a href=\"http://perldoc.perl.org/perlretut.html#Named-backreferences\" rel=\"nofollow\">named capture groups</a> to keep track of all those rules.  Now you can write a recursive grammar with Perl 5.10 regexes.</p>\n\n<p>It's still kinda clunky, <a href=\"https://metacpan.org/pod/Regexp::Grammars\" rel=\"nofollow\">Regexp::Grammar</a> adds some enhancements to make writing regex grammars much easier.</p>\n\n<p>Writing a grammar is about starting at some point and filling in the rules. Your program is a bunch of <code>Statement</code>s. What's a Statement? An Assignment, or a FunctionCall followed by a <code>;</code>.  What's an Assignment?  <code>Variable = Expression</code>. What is <code>Variable</code> and <code>Expression</code>? And so on...</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nuse Regexp::Grammars;\n\nmy $parser = qr{\n  &lt;[Statement]&gt;*\n\n  &lt;rule: Variable&gt;      \\w+\n  &lt;rule: FunctionName&gt;  \\w+\n  &lt;rule: Escape&gt;        \\\\ .\n  &lt;rule: Unknown&gt;       .+?\n  &lt;rule: String&gt;        \\\" (?: &lt;Escape&gt; | [^\\\"] )* \\\"\n  &lt;rule: Ignore&gt;        \\.\\.\\.?\n  &lt;rule: Expression&gt;    &lt;Variable&gt; | &lt;String&gt; | &lt;Ignore&gt;\n  &lt;rule: Assignment&gt;    &lt;Variable&gt; = &lt;Expression&gt;\n  &lt;rule: Statement&gt;     (?: &lt;Assignment&gt; | &lt;FunctionCall&gt; | &lt;Unknown&gt; ); | &lt;Ignore&gt;\n  &lt;rule: FunctionArguments&gt;     &lt;[Expression]&gt; (?: , &lt;[Expression]&gt; )*\n  &lt;rule: FunctionCall&gt;  &lt;FunctionName&gt; \\( &lt;FunctionArguments&gt;? \\)\n}x;\n\nmy $code = &lt;&lt;'END';\nfield = \"test \\\" string\";\nalkjflkj;\ntype =  INT;\nfuncCall(.., field, \"escaped paren \\)\", ...);\n...\ntext = \"desc\";\n\nfield = \"test string 1\";\ntype = FLOAT;\nfuncCall(.., field, ...);\n...\ntext = \"desc 2\";\n\nfield = \"test string 2\";\ntype = FLOAT;\nfuncCall(.., field, ...);\n...\ntext = \"desc 3\";\nEND\n\n$code =~ $parser;\n</code></pre>\n\n<p>This is far more robust than a regex. The inclusion of:</p>\n\n<pre><code>&lt;rule: Escape&gt;        \\\\ .\n&lt;rule: String&gt;        \\\" (?: &lt;Escape&gt; | [^\\\"] )* \\\"\n</code></pre>\n\n<p>Handles otherwise tricky edge cases like:</p>\n\n<pre><code>funcCall( \"\\\"escaped paren \\)\\\"\" );\n</code></pre>\n\n<p>It all winds up in <code>%/</code>. Here's the first part.</p>\n\n<pre><code>$VAR1 = {\n          'Statement' =&gt; [\n                           {\n                             'Assignment' =&gt; {\n                                               'Variable' =&gt; 'field',\n                                               'Expression' =&gt; {\n                                                                 'String' =&gt; '\"test string\"',\n                                                                 '' =&gt; '\"test string\"'\n                                                               },\n                                               '' =&gt; 'field = \"test string\"'\n                                             },\n                             '' =&gt; 'field = \"test string\";'\n                           },\n          ...\n</code></pre>\n\n<p>Then you can loop through the <code>Statement</code> array looking for <code>Assignment</code>s where the <code>Variable</code> matches <code>field</code>.</p>\n\n<pre><code>my $seen_field_assignment = 0;\nfor my $statement (@{$/{Statement}}) {\n    # Check if we saw 'field = ...'\n    my $variable = ($statement-&gt;{Assignment}{Variable} || '');\n    $seen_field_assignment++ if $variable eq 'field';\n\n    # Bail out if we saw the second field assignment\n    last if $seen_field_assignment &gt; 1;\n\n    # Print if we saw a field assignment\n    print $statement-&gt;{''} if $seen_field_assignment;\n}\n</code></pre>\n\n<p>This might seem like a lot of work, but it's worth learning how to write grammars. There's <em>a lot</em> of problems which can be half-solved with regexes, but fully solved with a simple grammar. In the long run, the regex will get more and more complicated and never quite cover all the edge cases, while a grammar is easier to understand and can be made perfect.</p>\n\n<p>The downside of this approach is your grammar might not be complete and it might trip up, though the <code>Unknown</code> rule will take care of most of that.</p>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1446186681, "post_id": 33357198, "comment_id": 54648296, "body": "This is the best of the regex-based answers."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1446214438, "post_id": 33357198, "comment_id": 54664081, "body": "++ When ancient and humble built in functions (like <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\"><code>split()</code></a> - and many others) take a regular expression as an argument, you get massive power in <b>one line</b>. You <i>could</i> have put it all in one line  ... right? :-)"}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1446219876, "post_id": 33357198, "comment_id": 54667632, "body": "@G.Cito, Well, I consider the <code>grep { m&#47;\\S&#47; } split &#47;(?=^\\s*field\\s*=)&#47;ms, $string</code> the part that does it. And that&#39;s all on one line. The for loop just displays it. And I have to say, I don&#39;t like the suffix for loop quite as much as the structured one, and I rarely use <code>map</code> in a void context. But yeah: <code>say &quot;\\$_=[\\n$_]&quot; for grep { m&#47;\\S&#47; } split &#47;(?=^\\s*field\\s*=)&#47;ms, $string</code> is valid a valid Perl one-liner."}], "tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 5, "last_activity_date": 1446045804, "last_edit_date": 1446045804, "creation_date": 1445901009, "answer_id": 33357198, "question_id": 33355952, "link": "https://stackoverflow.com/questions/33355952/perl-regex-to-get-all-text-between-repeating-patterns/33357198#33357198", "title": "Perl: Regex to get all text between repeating patterns", "body": "<p>The easiest way I can see to do this is to <strong><em><code>split</code></em></strong> the <code>$string</code> by the <code>/^\\s*field\\s*=/</code> expression. If we want to capture the <code>'field = '</code> portion of the text, we can break on a <a href=\"http://perldoc.perl.org/perlre.html#Look-Around-Assertions\" rel=\"nofollow\">look-ahead</a>:</p>\n\n<pre><code>foreach ( split /(?=^\\s*field\\s*=)/ms, $string ) {\n    say \"\\$_=[\\n$_]\";\n}\n</code></pre>\n\n<p>Thus, it breaks at the start of every line where <code>'field'</code> is the next non-whitespace string, followed by any amount of whitespace, followed by a <code>'='</code>. </p>\n\n<p>The output is:</p>\n\n<pre><code>$_=[\nfield = \"test string\";\ntype =  INT;\nfuncCall(.., field, ...);\n...\ntext = \"desc\";\n]\n$_=[\n\n]\n$_=[\nfield = \"test string 1\";\ntype = FLOAT;\nfuncCall(.., field, ...);\n...\ntext = \"desc 2\";\n]\n$_=[\n\n]\n$_=[\nfield = \"test string 2\";\ntype = FLOAT;\nfuncCall(.., field, ...);\n...\ntext = \"desc 3\";\n\n.... keeps repeating\n]\n</code></pre>\n\n<p>Almost what I wanted. But, it leaves an artifact of a blank line that occurs between the captures we do want. I'm not sure how to get rid of it, so we'll just filter out all-whitespace strings: </p>\n\n<pre><code>foreach ( grep { m/\\S/ } split /(?=^\\s*field\\s*=)/ms, $string ) {\n    say \"\\$_=[\\n$_]\";\n}\n</code></pre>\n\n<p>And then it yields:</p>\n\n<pre><code>$_=[\nfield = \"test string\";\ntype =  INT;\nfuncCall(.., field, ...);\n...\ntext = \"desc\";\n]\n$_=[\nfield = \"test string 1\";\ntype = FLOAT;\nfuncCall(.., field, ...);\n...\ntext = \"desc 2\";\n]\n$_=[\nfield = \"test string 2\";\ntype = FLOAT;\nfuncCall(.., field, ...);\n...\ntext = \"desc 3\";\n\n.... keeps repeating\n]\n</code></pre>\n\n<p>Which you can work with.</p>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 1, "last_activity_date": 1464923858, "last_edit_date": 1495541757, "creation_date": 1446183088, "answer_id": 33429281, "question_id": 33355952, "link": "https://stackoverflow.com/questions/33355952/perl-regex-to-get-all-text-between-repeating-patterns/33429281#33429281", "title": "Perl: Regex to get all text between repeating patterns", "body": "<p>For overall \"whipupitude\" regarding your sample data I think passing a pattern to <code>split</code> is going to be the easiest. But, as <a href=\"https://stackoverflow.com/users/14660/schwern\">@Schwern</a> points out, when things get more complex using a grammar helps. </p>\n\n<p>For fun I created an example script that parses your data using a <strong>parsing expression grammar</strong> built with <a href=\"https://metacpan.org/release/Pegex\" rel=\"nofollow noreferrer\"><code>Pegex</code></a>. Both <a href=\"https://metacpan.org/pod/Regexp::Grammars\" rel=\"nofollow noreferrer\"><code>Regexp::Grammar</code></a> and <a href=\"https://metacpan.org/pod/Regexp::Common\" rel=\"nofollow noreferrer\"><code>Regexp::Common</code></a> have the advantage of widespread use and familiarity when it comes to quickly constructing a grammar. There's a low barrier to entry if you already know perl and need a simple but super powered version of regular expressions for your project. The <a href=\"https://metacpan.org/pod/Pegex\" rel=\"nofollow noreferrer\">Pegex</a> approach is to try to <em>make it easy to construct and use <strong><a href=\"https://en.wikipedia.org/wiki/Parsing_expression_grammar\" rel=\"nofollow noreferrer\">grammars</a></em></strong> with perl. With Pegex you build a parsing expression grammar out of regular expressions:</p>\n\n<blockquote>\n  <p>\"Pegex... gets it name by combining Parsing Expression Grammars (PEG),\n  with Regular Expessions (Regex). That's actually what Pegex does.\"\n  (<a href=\"https://metacpan.org/pod/distribution/Pegex/lib/Pegex.pod\" rel=\"nofollow noreferrer\">from the\n  POD</a>).</p>\n</blockquote>\n\n<p>Below is a standalone script that parses a simplified version of your data using a Pegex grammar. </p>\n\n<hr>\n\n<p>First the script reads out <code>$grammar</code> \"inline\" as a multi-line string and uses it to <code>-&gt;parse()</code> the sample data which it reads from the <code>&lt;DATA&gt;</code> handle.  Normally the parsing grammar and data would reside in separate files.  The grammar's \"<a href=\"https://metacpan.org/source/INGY/Pegex-0.60/lib/Pegex/Grammar/Atoms.pm#\" rel=\"nofollow noreferrer\">atoms</a>\" and regular expressions are compiled using the <code>pegex</code> function into a \"tree\" or hash of regular expressions that is used to parse the data. The <code>parse()</code> method returns a data structure that can be used by perl. Adding <a href=\"https://metacpan.oreg/pod/Data::Printer\" rel=\"nofollow noreferrer\"><code>use DDP</code></a> and <code>p $ast</code> to the script can help you see what structures (<a href=\"http://perldoc.perl.org/perldsc.html#ARRAYS-OF-HASHES\" rel=\"nofollow noreferrer\">AoH</a>, <a href=\"http://perldoc.perl.org/perldsc.html#HASHES-OF-HASHES\" rel=\"nofollow noreferrer\">HoH</a>, etc.) are being returned by your grammar.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse v5.22;\nuse experimental qw/ refaliasing postderef / ;\nuse Pegex;\n\nmy $data = do { local $/; &lt;DATA&gt; } ;\n\nmy $grammar = q[\n%grammar thing\n%version 0.0.1\n\nthings: +thing*\nthing: (+field +type +text)+ % end \n\nvalue: / &lt;DOUBLE&gt; (&lt;ANY&gt;*) &lt;DOUBLE&gt; /\nequals: / &lt;SPACE&gt; &lt;EQUAL&gt;  &lt;SPACE&gt; /\nend: / BLANK* EOL / \n\nfield: 'field' &lt;equals&gt; &lt;value&gt; &lt;SEMI&gt; &lt;EOL&gt;\ntype:  'type' &lt;equals&gt; /\\b(INT|FLOAT)\\b/ &lt;SEMI&gt; &lt;EOL&gt;\nfunc:  / ('funcCall' LPAREN &lt;ANY&gt;* RPAREN ) / &lt;SEMI&gt; &lt;EOL&gt; .( &lt;DOT&gt;3 &lt;EOL&gt;)*\ntext:  'text' &lt;equals&gt; &lt;value&gt; &lt;SEMI&gt; &lt;EOL&gt;    \n];\n\nmy $ast = pegex($grammar, 'Pegex::Tree')-&gt;parse($data);\n\nfor \\my @things ( $ast-&gt;[0]-&gt;{thing}-&gt;@* ) {\n  for \\my %thing ( @things ) { \n    say $thing{\"text\"}[0] if $thing{\"text\"}[0] ; \n    say $thing{\"func\"}[0] if $thing{\"func\"}[0] ; \n  }\n}\n</code></pre>\n\n<p>At the very end of the script a <code>__DATA__</code> section holds the content of the file to parse:</p>\n\n<pre><code>__DATA__\nfield = \"test string 0\";\ntype = INT;\nfuncCall(.., field, ...);\n...\ntext = \"desc 1\";\n\nfield = \"test string 1\";\ntype = FLOAT;\nfuncCall(.., field, ...);\n...\ntext = \"desc 2\";\n\nfield = \"test string 2\";\ntype = FLOAT;\nfuncCall(.., field, ...);\n...\ntext = \"desc 3\";    \n</code></pre>\n\n<p>You could of course just as easily read the data from a file handle or <code>STDIN</code> in the classic perl fashion or, for example, using <a href=\"https://metacpan.org/pod/IO::All\" rel=\"nofollow noreferrer\"><code>IO::All</code></a> where we could do:</p>\n\n<pre><code>use IO::All; \nmy $infile &lt; io shift ; # read from STDIN\n</code></pre>\n\n<p>You can install <a href=\"https://metacpan.org/pod/distribution/Pegex/lib/Pegex.pod\" rel=\"nofollow noreferrer\"><code>Pegex</code></a> from <a href=\"https://www.cpan.org\" rel=\"nofollow noreferrer\">CPAN</a> and then <a href=\"https://gist.github.com/opendevnet/223bbf019a57d32e8baa#file-pegex-inline-parse-pl\" rel=\"nofollow noreferrer\">download and play with the gist</a> to get a feel for how Pegex works.</p>\n\n<p>With Perl6 we are getting a powerful and easy to use \"grammar engine\" that builds on Perl's strengths in handling regular expressions. If grammars start to get used in a wider range of projects these developments are bound to feed back into perl5 and lead to even more powerful features.</p>\n\n<p>The PEG part of <code>Pegex</code> and its cross language development allows grammars to be exchanged between different programming language communities (Ruby, Javascript). Pegex can be used in fairly simple scenarios, and fits nicely into more complex modules that require parsing capabilities. The Pegex API allows for easy creation of a rule derived set of functions that can be defined in a \"<a href=\"https://metacpan.org/pod/distribution/Pegex/lib/Pegex/Receiver.pod\" rel=\"nofollow noreferrer\">receiver class</a>\". With a receiver class you can build sophisticated methods for working with your parsed data that allow you to \"munge while you parse\", and even modify the grammar on the fly (!)   More examples of working grammars that can be re-purposed and improved, and a growing selection of modules that use <code>Pegex</code> will help it become more useful and powerful. </p>\n\n<p>Perhaps the simplest approach to trying out the Pegex framework is <a href=\"https://metacpan.org/pod/distribution/Pegex/lib/Pegex/Regex.pod\" rel=\"nofollow noreferrer\"><code>Pegex::Regex</code></a>  - which allows you to use grammars as conveniently as regexps, storing the results of your parse in <code>%/</code>.  The <a href=\"https://metacpan.org/author/INGY\" rel=\"nofollow noreferrer\">author</a> of <a href=\"https://metacpan.org/release/Pegex\" rel=\"nofollow noreferrer\">Pegex</a> calls <code>Pegex::Regex</code> the \"gateway drug\" to parsing expression grammars and notes it is \"a clone of Damian Conway's <code>Regexp::Grammars</code> module API\" (covered by <a href=\"https://stackoverflow.com/a/33356517/2019415\">@Schwern</a> in his answer to this question).</p>\n\n<p>It's easy to get hooked.</p>\n"}], "owner": {"reputation": 51, "user_id": 5491024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3804143f128483497ca95d81f6456773?s=128&d=identicon&r=PG&f=1", "display_name": "Coco", "link": "https://stackoverflow.com/users/5491024/coco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1224, "favorite_count": 1, "answer_count": 5, "score": 5, "last_activity_date": 1464923858, "creation_date": 1445894839, "last_edit_date": 1446212892, "question_id": 33355952, "link": "https://stackoverflow.com/questions/33355952/perl-regex-to-get-all-text-between-repeating-patterns", "title": "Perl: Regex to get all text between repeating patterns", "body": "<p>I would like to create a regex for the following.</p>\n\n<p>I have some text like the following:</p>\n\n<pre><code>field = \"test string\";\ntype =  INT;\nfuncCall(.., field, ...);\n...\ntext = \"desc\";\n\nfield = \"test string 1\";\ntype = FLOAT;\nfuncCall(.., field, ...);\n...\ntext = \"desc 2\";\n\nfield = \"test string 2\";\ntype = FLOAT;\nfuncCall(.., field, ...);\n...\ntext = \"desc 3\";\n\n.... keeps repeating\n</code></pre>\n\n<p>Basically I'm trying to create a regex that would get all text from the start of the first \"field =\"  to the start of the second \"field = \". It has to skip past the field text used in the function call.</p>\n\n<p>I currently have the following:</p>\n\n<pre><code>my @overall = ($string =~ m/field\\s*=.*?/gis);\n</code></pre>\n\n<p>However, this just obtains the text \"field = \". Without the \"?\" it gets all the data from the first all the way to the very last instance.</p>\n\n<p>I also tried:</p>\n\n<pre><code>my @overall = ($string =~ m/field\\s*=.*field\\s*=/gis);\n</code></pre>\n\n<p>However, that will then get me every other instance since it is possessive of the second \"field =\" string. Any suggestions?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1445892012, "post_id": 33355120, "comment_id": 54506174, "body": "Set $/ to [ and then it should work."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1445892128, "post_id": 33355120, "comment_id": 54506253, "body": "Welcome to Stack Overflow?  Please read the <a href=\"https://stackoverflow.com/tour\">About</a> page soon.  What happens?  Why didn&#39;t you show what happens?  My best guess is that the second argument to <code>join</code> is probably a list context, and <code>&lt;&gt;</code> in list context reads the whole file.  Don&#39;t mess around like that; Perl has ways of biting you.  Read the extra line explicitly."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445892246, "post_id": 33355120, "comment_id": 54506325, "body": "Index looks to be the culprit here. That || doesn&#39;t look like it will do what you think."}, {"owner": {"reputation": 41, "user_id": 5490908, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3fd990e079f4a5ee28fe36c0e863977d?s=128&d=identicon&r=PG&f=1", "display_name": "Doncho", "link": "https://stackoverflow.com/users/5490908/doncho"}, "edited": false, "score": 0, "creation_date": 1445892371, "post_id": 33355120, "comment_id": 54506390, "body": "Yes... new to the site. I should also mention this is my first day with perl"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": -1, "last_activity_date": 1445897198, "creation_date": 1445897198, "answer_id": 33356483, "question_id": 33355120, "link": "https://stackoverflow.com/questions/33355120/read-write-from-a-file-combine-matched-line-with-line-after-it/33356483#33356483", "title": "Read / Write from a file; combine matched line with line after it", "body": "<p>You're doing this a much harder way you need. First off:</p>\n\n<pre><code>if( index( $line, 'make_connection' || 'close_cnum') != -1 ) {\n</code></pre>\n\n<p>Isn't going to do what you think it might - that <code>||</code> is tighter binding than you think - and so you're not going to be testing 'close_cnum' at all. </p>\n\n<pre><code>A || B \n</code></pre>\n\n<p>always returns \"A\" if it's true, and \"B\" if it isn't. And 'make_connection' isn't an empty string or zero, so it's \"true\". </p>\n\n<p>I'd suggest something like this instead:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nlocal $/ = \"\\n[\";\n\nwhile ( &lt;DATA&gt; ) { \n    next unless m/(make_connection|close_cnum)/; \n    my ( $date, $time, $call, $error_text ) = m/^([\\d\\/]+) ([\\d\\:]+). \\d+\\] (\\S+)\\n\\s*(.*)/m;\n    print \"Date = $date\\n\";\n    print \"time = $time\\n\";\n    print \"call = $call\\n\";\n    print \"Error = $error_text\\n\";\n    print \"Full record:\\n\";\n    print;\n    print \"\\n---\\n\";\n}\n\n__DATA__\n[2007/09/06 10:49:30, 0] lib/util_sock.c:write_data(562)\n    write_data: write failure in writing to client 158.136.148.93. Error Connection reset by peer\n[2007/09/06 10:49:30, 0] lib/util_sock.c:send_smb(769)\n    Error writing 4 bytes to client. -1. (Connection reset by peer)\n[2007/09/06 10:49:30, 1] smbd/service.c:make_connection_snum(950)\n    pubcen04 (158.136.156.79) connect to service sfengel initially as user sfengel (uid=18375, gid=122) (pid 5044)\n</code></pre>\n\n<ul>\n<li><p>We iterate through <code>DATA</code> - which is a special filehandle, and you can use your <code>&lt;$info&gt;</code> instead. (This is for testing)</p></li>\n<li><p>But because we've set <code>$/</code> to <code>[</code> it splits the file into chunks, and works through them. </p></li>\n<li><p>Sets <code>$_</code> to the contents of the current chunk, and applies a pattern match against it to extract the text you want. (note - by default a pattern match applies to <code>$_</code> which is useful). </p></li>\n</ul>\n\n<p>I'm afraid I couldn't tell what you were aiming to catch with <code>$array[5]</code>, so I've guessed. But you should be able to tell what's going on there. </p>\n"}], "owner": {"reputation": 41, "user_id": 5490908, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3fd990e079f4a5ee28fe36c0e863977d?s=128&d=identicon&r=PG&f=1", "display_name": "Doncho", "link": "https://stackoverflow.com/users/5490908/doncho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445897198, "creation_date": 1445891852, "last_edit_date": 1445891978, "question_id": 33355120, "link": "https://stackoverflow.com/questions/33355120/read-write-from-a-file-combine-matched-line-with-line-after-it", "title": "Read / Write from a file; combine matched line with line after it", "body": "<p>I'm reading from a log file that looks like this:</p>\n\n<pre><code>[2007/09/06 10:49:30, 0] lib/util_sock.c:write_data(562)\n    write_data: write failure in writing to client 158.136.148.93. Error Connection reset by peer\n[2007/09/06 10:49:30, 0] lib/util_sock.c:send_smb(769)\n    Error writing 4 bytes to client. -1. (Connection reset by peer)\n[2007/09/06 10:49:30, 1] smbd/service.c:make_connection_snum(950)\n    pubcen04 (158.136.156.79) connect to service sfengel initially as user sfengel (uid=18375, gid=122) (pid 5044)\n</code></pre>\n\n<p>If an entry contains make_connnection or close_cnum I'm writing that entry to another file called data.txt. So, when my program matches a line, it matches the line where make_connection is located, but I also need information from the line directly underneath it. My latest attempt to do this is by using the join function but it doesn't seem to be working.</p>\n\n<p>Code Here:</p>\n\n<pre><code>#! /usr/bin/perl\nuse strict;\nuse warnings;\nuse IO::File;\n\nmy $logfile = 'log.smbd';\nmy $cnt;\n\nopen( my $info, '&lt;', $logfile )\n        or die \"Could not open file '$logfile' $!\";\n\nwhile( my $line = &lt;$info&gt; ) {\n        if( index( $line, 'make_connection' || 'close_cnum') != -1 ) {\n                chomp($line);\n                $line = join(\" \",(&lt;$info&gt; =~ /(\\w+)\\s+(\\w+)/)).\"\\n\";\n                $line =~ s/\\[//g;\n                $line =~ s/\\]//g;\n                my @array = split / /, $line;\n                open( my $fh, '&gt;&gt;/etc/data.txt' );\n                        print ($fh \"\\\"$array[0]\\\"\\,\", \"\\\"$array[1]\\\"\\,\",\\\"$array[5]\\\"\\,\" );\n        }\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1445887769, "post_id": 33353749, "comment_id": 54503677, "body": "@toolic <i>Looks like</i> XML is the operative phrase, but <a href=\"http://stackoverflow.com/questions/33244688/populate-array-from-xml-end-tags\">looks can be deceiving</a>. ;-)"}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1445888121, "post_id": 33353749, "comment_id": 54503890, "body": "@toolic - my data is not XML.  It is just data exported from a database in delimited format.  In my export script I place XML like tags in my output data but it is not true XML."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1445888944, "post_id": 33353749, "comment_id": 54504341, "body": "For this, you&#39;re going to have to <i>slurp</i> the whole file in if you want to process multiple lines. If you have some compelling reason it can&#39;t be all read at one time, there are ways it can be done via buffering partial data, but it&#39;s very complicated. Something like <code>$&#47; = undef; my $content = &lt;$inFile&gt;;</code> Then, the regex is another issue."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1445889584, "post_id": 33353749, "comment_id": 54504735, "body": "Once, you&#39;ve slurped in the file, a quick fix is to do a <code>$input =~ s&#47;(?&lt;=[^&lt;&gt;\\s])\\s*\\n\\s*(?=[^&lt;&gt;\\s])&#47; &#47;g;</code> then process on a line basis. Note that even though the string is now normalized, you can still get line by line. Btw, in normal html/xml, whitespace (newline) can be after the tag name, but before the <code>&#47;?&gt;</code>"}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1445897958, "post_id": 33353749, "comment_id": 54509159, "body": "@sln - Thank you sln, I think I am following you.  I am going to play with what you suggested to learn more.  Appreciate your time in answering this and teaching me!"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1445900607, "post_id": 33355042, "comment_id": 54510133, "body": "Thank you for answering my question.  My data export script is simply executing a SQL query and populating a text file with the results.  I have the ability to change the delimiter to anything I want but it needs to be something very unique or I get into even more parsing problems when doing the insert into my other database.  I like the idea of wrapping my field data in descriptive tags because when something goes wrong during the import it&#39;s easy to push the error and record to a error file and see what went wrong easily."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1445900617, "post_id": 33355042, "comment_id": 54510139, "body": "But if you think it would be better maintenance wise I could use something like ~~begin_fieldname~~ and ~~end_fieldname."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1445900849, "post_id": 33355042, "comment_id": 54510220, "body": "My record ordering is always consistent and I love your solution of local $/ = &#39;&lt;/Title&gt;&#39;; but Im not quite sure how that works quite yet.  Feverishly goggling :)  I&#39;m going to try to put that line right before my while and see how it works.  Also, I can feed your code in the last element of my fieldNames array instead of the static &lt;/Title&gt; value.  Having fun learning!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1445902900, "post_id": 33355042, "comment_id": 54510851, "body": "Perlvar is the place to look."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1445931499, "post_id": 33355042, "comment_id": 54519632, "body": "Changing $/ based on field names won&#39;t work, because that tells perl how much it should read first. It is a &quot;read up to the next... &quot; setting.  But setting it to <code>&gt;\\n</code> should mean that it reads up to the end of the line when a tag ends."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1445976292, "post_id": 33355042, "comment_id": 54548805, "body": "@ Sobrique - I understand what you are saying.  The &gt;\\n should work and be scalable because the DBAs could change the schema on me and &lt;/Title&gt; will not necessarily be the last tag forever.  I could create a tag to denote the end of a line which I know is and will always be unique.  Thanks for your great suggestions and knowledge."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1445988042, "post_id": 33355042, "comment_id": 54554226, "body": "I read Perlvar and a couple other things and still couldn&#39;t get it working.  Then it finally dawned on me that in my test script I was trying to push a multiline value into a field that would not accept multiline.  Once I switched to a field that allowed it viola!  Having fun with PERL and actually like coming to work again.  Soon though my assignment will be done and I will be banished back to PM.  Enjoying my time helping the tech guys though!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1445891562, "creation_date": 1445891562, "answer_id": 33355042, "question_id": 33353749, "link": "https://stackoverflow.com/questions/33353749/reading-line-by-line-when-text-spans-multiple-lines/33355042#33355042", "title": "Reading line by line when text spans multiple lines", "body": "<p>At risk of sounding like a broken record - the fact it looks like XML but isn't, is going to trip over future maintenance programmers in exactly the same way as you've just seen in the comments. </p>\n\n<p>And worse - it's an arbitrary delimited format with line feeds - it becomes increasingly difficult to parse as a result.</p>\n\n<p>Given what you have got though - your problem is that while loop. By default, <code>while ( &lt;$fh&gt; ) {</code> reads a line at a time. </p>\n\n<p>You really need a record separator that's unique - and if your data contains linefeeds, then linefeed isn't.</p>\n\n<p>From your data, I'd suggest your best bet is to set your delimiter to <code>&lt;/Title&gt;</code></p>\n\n<p>E.g; </p>\n\n<pre><code>local $/ = '&lt;/Title&gt;';\n</code></pre>\n\n<p>And then your while loop will read multiple lines until it hits that end tag. This is purely based on the assumption that - being not XML - the record ordering is consistent. Otherwise you're going to have to do something like:</p>\n\n<pre><code>#linefeed delim\nmy $buffer; \nwhile ( my $line = &lt;$fh&gt; ) { \n   $buffer .= $line;\n   if ( $line =~ m/&gt;$/ ) {\n            ## do processing, because the line ends in a tag\n\n           #empty buffer\n           $buffer = \"\";\n   }\n}\n</code></pre>\n\n<p>But seriously - doing fake XML like this remains a really bad idea, and this is yet another reason why. (XML parsers can handle multi-line records no problem). </p>\n"}], "owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 33355042, "answer_count": 1, "score": 0, "last_activity_date": 1445891562, "creation_date": 1445886739, "last_edit_date": 1445887454, "question_id": 33353749, "link": "https://stackoverflow.com/questions/33353749/reading-line-by-line-when-text-spans-multiple-lines", "title": "Reading line by line when text spans multiple lines", "body": "<p>I am having a problem parsing record # SWCR000173 into @fieldValues because it spans multiple lines.  This problem could occur often in my production data set.  I understand that I am reading only one line in at a time.  I'm trying to figure out my options and have done a bunch of stackoverflow and google research.  I figured I could try to find a carriage return at the end of a line before I push to the array and concatenate with the next line.  But there might be a cleaner answer that I don't know of.  Would it be possible to look at my code and data set?  Thank you very much in advance.</p>\n\n<p>Data Set Example:</p>\n\n<pre><code>&lt;record&gt;SWCR000171&lt;/record&gt;&lt;Title&gt;Example Single Line Title 1&lt;/Title&gt;\n&lt;record&gt;SWCR000172&lt;/record&gt;&lt;Title&gt;Example Single Line Title 2&lt;/Title&gt;\n&lt;record&gt;SWCR000173&lt;/record&gt;&lt;Title&gt;Example Multiple \nLine Title 1&lt;/Title&gt;\n&lt;record&gt;SWCR000174&lt;/record&gt;&lt;Title&gt;Example Single Line Title 3&lt;/Title&gt;\n</code></pre>\n\n<p>Perl Code:</p>\n\n<pre><code>open ($inFile, '&lt;', $inputFile) or die $!;\n\n    while ($inFileLine = &lt;$inFile&gt;) {\n        #Create an array of fieldnames from the line being processed    \n         @fieldNames = $inFileLine =~ m(&lt;\\/(.*?)&gt;)g;\n        #Create an array of data values from the line being processed\n         @fieldValues =  $inFileLine =~ m(&gt;([^&lt;]+)&lt;)g;\n        #Populate a variable with the record number for the line being processed\n         $dbid = @fieldValues[1];\n\n        #Submit data to database for all fields after the dbid (elements&gt;1) \n         $entity = $session-&gt;GetEntityByDbId(\"SWCR\",$dbid);\n         $entity-&gt;EditEntity(\"AdminModify\");\n         $entity-&gt;SetFieldValue($fieldNames[$_],$fieldValues[$_]) for (2 .. $#fieldNames);\n         $entity-&gt;SetFieldValue(\"AdminModifyReason\",$inputFile);\n         $entity-&gt;Validate();\n         $commit = $entity-&gt;Commit();        \n         }\n\nclose $inFile;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1445885985, "post_id": 33353519, "comment_id": 54502710, "body": "Do you have a good Perl primer?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1445886267, "post_id": 33353519, "comment_id": 54502877, "body": "It probably fails miserably, since there&#39;s no conversion of <code>$hash</code> from a string to a hash reference."}, {"owner": {"reputation": 145, "user_id": 4289749, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/0be042e09b27b962df91b966cff30aee?s=128&d=identicon&r=PG&f=1", "display_name": "Chrischpo", "link": "https://stackoverflow.com/users/4289749/chrischpo"}, "edited": false, "score": 1, "creation_date": 1445886531, "post_id": 33353519, "comment_id": 54503014, "body": "Fine, it&#39;s probably just wrong then"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1445886592, "post_id": 33353519, "comment_id": 54503051, "body": "Yes, pretty much; <a href=\"https://eval.in/457326\" rel=\"nofollow noreferrer\">eval.in/457326</a>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1445887475, "post_id": 33353519, "comment_id": 54503526, "body": "Disregarding your actual code and focusing on the title, first, <code>%$hash</code> dereferences a hash reference (<code>$hash</code>). <code>keys()</code> then iterates over the hash and returns a list of all of its keys. See <a href=\"http://www-rohan.sdsu.edu/doc/perldoc-html/functions/keys.html\" rel=\"nofollow noreferrer\">www-rohan.sdsu.edu/doc/perldoc-html/functions/keys.html</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1445901754, "post_id": 33353519, "comment_id": 54510510, "body": "@stevieb: <code>keys</code> does no iteration. It simply returns a list of the hash&#39;s keys"}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1445887545, "post_id": 33353948, "comment_id": 54503571, "body": "You should add a note about <code>keys()</code>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1445887644, "post_id": 33353948, "comment_id": 54503613, "body": "@stevieb Could you be more specific? There are lots of notes I could add about <code>keys()</code>... ;-)"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1445887764, "post_id": 33353948, "comment_id": 54503673, "body": "OP asked specifically what <code>keys %$hash</code> does. You got the deref part, but didn&#39;t include an explanation for the <code>keys()</code> function in your answer"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1445887891, "post_id": 33353948, "comment_id": 54503746, "body": "Ah, I see what you&#39;re saying. When I saw <code>keys()</code> and <code>values()</code> both trying to dereference something that wasn&#39;t a reference, I assumed the stumbling block was with references, not with <code>keys()</code>."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1445888678, "last_edit_date": 1445888678, "creation_date": 1445887443, "answer_id": 33353948, "question_id": 33353519, "link": "https://stackoverflow.com/questions/33353519/what-does-this-code-do-in-perl-keyshash/33353948#33353948", "title": "What does this code do in Perl: keys(%$hash) ...?", "body": "<p>The code you posted is nonsensical, but what it <em>should</em> be doing is dereferencing a hash reference, provided that you have a valid hash reference stored in your scalar <code>$hash</code> (which you don't). </p>\n\n<p>For example:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dump;\n\nmy $href = {\n    foo =&gt; 'bar',\n    bat =&gt; 'baz',\n};\n\ndd(keys(%$href));    # (\"bat\", \"foo\")\ndd(values(%$href));  # (\"baz\", \"bar\")\n</code></pre>\n\n<hr>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow\"><code>keys()</code></a> function will return a list consisting of all the keys of the hash. </p>\n\n<blockquote>\n  <p>The returned values are copies of the original keys in the hash, so\n  modifying them will not affect the original hash.</p>\n</blockquote>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/values.html\" rel=\"nofollow\"><code>values()</code></a> function does the exact same thing, except with the values of the hash (obviously).</p>\n\n<blockquote>\n  <p>So long as a given hash is unmodified you may rely on <code>keys</code>, <code>values</code> and\n  <code>each</code> to repeatedly return the same order as each other.</p>\n</blockquote>\n\n<hr>\n\n<p>For more help with references, see <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">perlreftut</a>, <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">perlref</a>, and maybe <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\">perldsc</a> if you're feeling adventurous.</p>\n"}, {"tags": [], "owner": {"reputation": 115430, "user_id": 47529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aaee40db39ad6b164cfb89cb6ad4d176?s=128&d=identicon&r=PG", "display_name": "chaos", "link": "https://stackoverflow.com/users/47529/chaos"}, "is_accepted": false, "score": 1, "last_activity_date": 1445887732, "creation_date": 1445887732, "answer_id": 33354026, "question_id": 33353519, "link": "https://stackoverflow.com/questions/33353519/what-does-this-code-do-in-perl-keyshash/33354026#33354026", "title": "What does this code do in Perl: keys(%$hash) ...?", "body": "<p><code>keys()</code> returns the keys of the specified hash.  In the code you wrote, the name of the hash to look at (and extract the keys and values of) is being specified via <code>STDIN</code>, which is really bizarre behavior.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1445888793, "creation_date": 1445888793, "answer_id": 33354329, "question_id": 33353519, "link": "https://stackoverflow.com/questions/33353519/what-does-this-code-do-in-perl-keyshash/33354329#33354329", "title": "What does this code do in Perl: keys(%$hash) ...?", "body": "<p><code>keys(%$hash)</code> returns the keys of the hash referenced by the value in <code>$hash</code>. A hash is a type of associative array, which (more or less) means an array that's indexed by strings (called \"keys\") instead of by numbers.</p>\n\n<p>In this particular case, <code>$hash</code> contains a string. When one uses a string as a reference, dereferencing it access the package variable whose name matches the string.</p>\n\n<p>If the full program is</p>\n\n<pre><code>%FOO = ( a=&gt;1, b=&gt;2 );\n%BAR = ( c=&gt;3, d=&gt;4 );\nprint \"Enter the hash \\n\";\n$hash=&lt;STDIN&gt;;chop($hash);\n@keys = keys(%$hash);\n</code></pre>\n\n<p>Then,</p>\n\n<ul>\n<li><code>@keys</code> will contains <code>a</code> and <code>b</code> if the user enters <code>FOO</code>.</li>\n<li><code>@keys</code> will contains <code>c</code> and <code>d</code> if the user enters <code>BAR</code>.</li>\n<li><code>@keys</code> will contains <code>E2BIG</code>, <code>EACCES</code>, <code>EADDRINUSE</code> and many more if the user enters <code>!</code>.</li>\n<li><code>@keys</code> can contains paths if the user enters <code>INC</code>.</li>\n<li><code>@keys</code> will be empty for most other values.</li>\n</ul>\n\n<p>(The keys are returned in an arbitrary order.)</p>\n\n<p>The last three cases are surely unintentional. This is why the posted code is awful code. This is what the code should have been:</p>\n\n<pre><code>use strict;             # Always use these as they\nuse warnings 'all';     #   find/prevent numerous errors.\n\nmy %FOO = ( a=&gt;1, b=&gt;2 );\nmy %BAR = ( c=&gt;3, d=&gt;4 );\n\nmy %inputs = ( FOO =&gt; \\%FOO, BAR =&gt; \\%BAR );\n\nprint \"Enter the name of a hash: \";\nmy $hash_name = &lt;STDIN&gt;;\nchomp($hash_name);\nmy $hash = $inputs{$hash_name}\n   or die(\"No such hash\\n\");\n\nmy @keys = keys(%$hash);\n...\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 4289749, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/0be042e09b27b962df91b966cff30aee?s=128&d=identicon&r=PG&f=1", "display_name": "Chrischpo", "link": "https://stackoverflow.com/users/4289749/chrischpo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1445888793, "creation_date": 1445885904, "question_id": 33353519, "link": "https://stackoverflow.com/questions/33353519/what-does-this-code-do-in-perl-keyshash", "title": "What does this code do in Perl: keys(%$hash) ...?", "body": "<pre><code>print \"Enter the hash \\n\";\n$hash=&lt;STDIN&gt;;chop($hash);\n@keys = keys (%$hash);\n@values = values (%$hash);\n</code></pre>\n\n<p>Since Google ignores special characters there was no way I could find what the \"%$hash\" thing does and how this is suppossed to work</p>\n"}, {"tags": ["perl", "perl-hash"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1445884467, "post_id": 33352716, "comment_id": 54501847, "body": "<a href=\"http://perlmonks.org/?node=References+quick+reference\" rel=\"nofollow noreferrer\">perlmonks.org/?node=References+quick+reference</a>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1445885790, "post_id": 33352751, "comment_id": 54502610, "body": "Which is short for <code>$n{a}-&gt;{1}</code>."}], "tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 1, "last_activity_date": 1445883149, "creation_date": 1445883149, "answer_id": 33352751, "question_id": 33352716, "link": "https://stackoverflow.com/questions/33352716/dereferencing-nested-hash-perl/33352751#33352751", "title": "dereferencing nested hash perl", "body": "<p>Refer to <a href=\"http://perldoc.perl.org/perldsc.html#Access-and-Printing-of-a-HASH-OF-HASHES\" rel=\"nofollow\">perldsc</a></p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy %n = (a =&gt; {1 =&gt; \"1a\",2 =&gt; \"2a\"},\"b\" =&gt; {1 =&gt; \"1b\",2 =&gt; \"2b\"});\nprint \"$n{a}{1}\\n\";\n\n__END__\n\n1a\n</code></pre>\n"}], "owner": {"reputation": 1038, "user_id": 1613640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba8c949a9302d5026e4f164aca38bbcc?s=128&d=identicon&r=PG", "display_name": "Tapajit Dey", "link": "https://stackoverflow.com/users/1613640/tapajit-dey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "closed_date": 1445888032, "accepted_answer_id": 33352751, "answer_count": 1, "score": 1, "last_activity_date": 1445883216, "creation_date": 1445883041, "last_edit_date": 1445883216, "question_id": 33352716, "link": "https://stackoverflow.com/questions/33352716/dereferencing-nested-hash-perl", "closed_reason": "Duplicate", "title": "dereferencing nested hash perl", "body": "<p>If I declare a hash like this:</p>\n\n<pre><code>my %n = (a =&gt; {1 =&gt; \"1a\",2 =&gt; \"2a\"},\"b\" =&gt; {1 =&gt; \"1b\",2 =&gt; \"2b\"});\n</code></pre>\n\n<p>How do I access the data in:  n -> a -> 1?</p>\n\n<p>I tried </p>\n\n<pre><code>print \"$n{a{1}}\";\n\nprint \"$n{a -&gt;{ 1}}\";\n</code></pre>\n\n<p>These two don't work</p>\n"}, {"tags": ["perl", "dns", "perl-module"], "answers": [{"tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": false, "score": 0, "last_activity_date": 1445930788, "creation_date": 1445930788, "answer_id": 33362077, "question_id": 33352558, "link": "https://stackoverflow.com/questions/33352558/netdnsresolver-and-auto-configuration/33362077#33362077", "title": "Net::DNS::Resolver and auto configuration", "body": "<p>The module uses a Windows system call to get the system-wide resolver information. It's quite possible that that system call (and the Perl module wrapping it) does not expect the information to change during the lifetime of a running script.</p>\n\n<p>In any case, changing the system-wide configuration just in order to query a different server is not the best way to do it. Why not simply set the nameserver in the <code>Net::DNS::Resolver</code> object directly each time through the loop? In your case, it'd be something like <code>$resolver-&gt;nameservers([$ns_ip_or_name]);</code>, which must be easier than changing the DNS settings in Windows.</p>\n"}], "owner": {"reputation": 3045, "user_id": 951615, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/32f59de3e1040fae90a803448e43316f?s=128&d=identicon&r=PG", "display_name": "smith", "link": "https://stackoverflow.com/users/951615/smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455125620, "creation_date": 1445882442, "last_edit_date": 1445882940, "question_id": 33352558, "link": "https://stackoverflow.com/questions/33352558/netdnsresolver-and-auto-configuration", "title": "Net::DNS::Resolver and auto configuration", "body": "<p>i am trying to use Net::DNS::Resolver on winodws to test some different DNS Servers .\nwhen i use <code>$resolver=Net::DNS::Resolver-&gt;new ()</code> from perl script when i close the script change the default dns server and run the script again the $resolver points to the new DNS ,</p>\n\n<p>but when i use this <code>my $resolver=Net::DNS::Resolver-&gt;new ()</code>  inside a loop and initialize it again and change the default dns server , the $resolver keep with the old configuration.   any idea how to solve this problem ?</p>\n\n<p>worth to mention i am using this module on windows</p>\n"}, {"tags": ["java", "perl", "selenium"], "comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1445883454, "post_id": 33352039, "comment_id": 54501228, "body": "What do you mean by <i>the Selenium proxy</i>?"}, {"owner": {"reputation": 61, "user_id": 4682073, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/be2b5ce089d420ec6ee06a6428c79796?s=128&d=identicon&r=PG&f=1", "display_name": "dean", "link": "https://stackoverflow.com/users/4682073/dean"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1445891797, "post_id": 33352039, "comment_id": 54506044, "body": "selenium web driver standalone is a proxy connection for web testing.  When the server is started it loads a profile with the proxy set.  The browser uses the proxy to capture information sent between the browser and web server."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1445937606, "post_id": 33352039, "comment_id": 54522741, "body": "Thanks for explaining."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1445937629, "post_id": 33352039, "comment_id": 54522761, "body": "See also <a href=\"http://stackoverflow.com/questions/31188069/can-python-selenium-webdriver-use-websockets\" title=\"can python selenium webdriver use websockets\">stackoverflow.com/questions/31188069/&hellip;</a> (which doesn&#39;t have an answer either)."}], "owner": {"reputation": 61, "user_id": 4682073, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/be2b5ce089d420ec6ee06a6428c79796?s=128&d=identicon&r=PG&f=1", "display_name": "dean", "link": "https://stackoverflow.com/users/4682073/dean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 412, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1445880898, "creation_date": 1445880898, "question_id": 33352039, "link": "https://stackoverflow.com/questions/33352039/selenium-standalone-websockets-and-perl", "title": "Selenium standalone websockets and perl", "body": "<p>I have a selenium test configured for a while and has been working as designed.  Recently the app changed to websockets.  Now the test fails consistently because it cannot make the websocket connection.  I went to www.websocket.org/echo.html and the websocket connect fails there even though it says firefox version works with websocket.  When not using the selenium proxy websocket connections works. I've searched and looked all over the place but cannot find out whether selenium standalone will work with websockets.  Is there a proxy setting somewhere or maybe I need to change something in the perl code? </p>\n\n<p>centos 5.11<br>\njava 1.8.0.11<br>\nselenium standalone 2.48.2<br>\nperl 5.8.8<br>\nselenium perl module 1.36<br></p>\n"}, {"tags": ["php", "perl"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 6, "creation_date": 1445877808, "post_id": 33350058, "comment_id": 54497517, "body": "PHP is <i>unique/special</i> among programming languages in making the trinary conditional operator left associative.  Make your colons unhappy (<code>:(</code>) and close all the parens at the end of the statement."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1445883005, "post_id": 33350058, "comment_id": 54500970, "body": "@tjd Frowny-ternary statements. Heh. Nice trick."}, {"owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "edited": false, "score": 1, "creation_date": 1446046191, "post_id": 33350058, "comment_id": 54581581, "body": "why?  is there any advantage here why the php group is not changing it?  is any code using left association in a useful manner?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1446372970, "post_id": 33350058, "comment_id": 54708282, "body": "I doubt it; my guess is that this behaviour is not a result of conscious design choice and honestly it doesn&#39;t come as surprise when it comes to php."}], "answers": [{"comments": [{"owner": {"reputation": 299695, "user_id": 507674, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6801bf30e40c9f7972987d67e2d5e4f2?s=128&d=identicon&r=PG", "display_name": "Niet the Dark Absol", "link": "https://stackoverflow.com/users/507674/niet-the-dark-absol"}, "edited": false, "score": 0, "creation_date": 1445880881, "post_id": 33351862, "comment_id": 54499638, "body": "PHP7 has the null-coalesce operator <code>??</code>, which I&#39;m already putting to good use - it&#39;s like <code>?:</code> but it doesn&#39;t trigger if <code>$x</code> is <code>0</code>, <code>false</code> or anything other than <code>null</code>."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 299695, "user_id": 507674, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6801bf30e40c9f7972987d67e2d5e4f2?s=128&d=identicon&r=PG", "display_name": "Niet the Dark Absol", "link": "https://stackoverflow.com/users/507674/niet-the-dark-absol"}, "edited": false, "score": 0, "creation_date": 1445881005, "post_id": 33351862, "comment_id": 54499731, "body": "@NiettheDarkAbsol this is good to know, and perl has <code>&#47;&#47;</code> equivalent."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 4, "last_activity_date": 1445881490, "last_edit_date": 1445881490, "creation_date": 1445880310, "answer_id": 33351862, "question_id": 33350058, "link": "https://stackoverflow.com/questions/33350058/php-syntactic-sugar-vs-perl/33351862#33351862", "title": "PHP syntactic sugar vs. Perl", "body": "<p>1.</p>\n\n<p>You can think of <code>?:</code> as <code>||</code> in perl, but it is actually ternary/(trinary?) operator where second parameter is omitted and implies first one (<code>$x</code>).</p>\n\n<pre><code>$y= $x ?: \"I am undefined\"; # not before v5.3.x\n</code></pre>\n\n<p>You can't <code>($x==1) or return|break|continue;</code> so you have to use regular <code>if</code> condition (braces can be omitted for single statements)</p>\n\n<pre><code>if (!($x==1)) break;\n</code></pre>\n\n<p>As for chaining ternary, I'm afraid that things are not simple as you think if you want it to work like in perl</p>\n\n<pre><code>$y = ($x1==1 ? 2 :\n     ($x2==2 ? 3 :\n     ($x3==3 ? 2 : 5\n))); // close as many times as there is rows above\n</code></pre>\n\n<p>You can use braces if your variable does not interpolate inside double quotes,</p>\n\n<pre><code>print \"Val: {$array[$x]}\";\n</code></pre>\n\n<p>2.</p>\n\n<p>As for syntactic sugar you can use</p>\n\n<pre><code>$arg += array(\n  \"default\" =&gt; 55,\n);\n</code></pre>\n\n<p>like you would </p>\n\n<pre><code>%arg = (\"default\" =&gt; 55, %arg);\n</code></pre>\n\n<p>in perl in order to give default values for missing hash keys.</p>\n"}], "owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1446462171, "creation_date": 1445874660, "last_edit_date": 1445879238, "question_id": 33350058, "link": "https://stackoverflow.com/questions/33350058/php-syntactic-sugar-vs-perl", "title": "PHP syntactic sugar vs. Perl", "body": "<p>I am trying to orient myself in PHP, coming from Perl, <a href=\"http://en.wikipedia.org/wiki/R_%28programming_language%29\" rel=\"nofollow\">R</a>, C, and a couple of other languages.</p>\n\n<p>Questions:</p>\n\n<ol>\n<li><p>Are there PHP-isms to replace the following Perl syntax sugar?</p>\n\n<pre><code>$y= $x || \"I am undefined\";  ## Default value\n($x==1) or die \"problem with $x\";  ## Works under some circumstances\n$y= ($x1==1) ? 2 : ($x2==2) ? 3 : ($x3==3) ? 2 : 5;  ## Chaining needs () in PHP\nprint \"Val: $array[$x]\";  ## Does not work with $_SESSION[...] in PHP\n</code></pre>\n\n<p>Of course, I can write longer function/constructs that have the same functionality, but maybe there are standard PHP short ways to replace these fairly common useful constructs.</p></li>\n<li><p>What syntactic sugar does PHP have that my other language experience does not suggest?</p></li>\n</ol>\n"}, {"tags": ["perl", "recursion", "copy"], "comments": [{"owner": {"reputation": 750, "user_id": 519151, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/480c0be1bd2a9c44dc676daf9f4d157f?s=128&d=identicon&r=PG", "display_name": "Isaac", "link": "https://stackoverflow.com/users/519151/isaac"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1445875833, "post_id": 33349935, "comment_id": 54496174, "body": "Yes, mode is preserved, this works for me. What is lacking for me is preservation of ownership, which is not the same as mode."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1445876393, "post_id": 33349935, "comment_id": 54496578, "body": "You can&#39;t preserve ownership unless you&#39;re root. Are you root?"}], "answers": [{"comments": [{"owner": {"reputation": 750, "user_id": 519151, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/480c0be1bd2a9c44dc676daf9f4d157f?s=128&d=identicon&r=PG", "display_name": "Isaac", "link": "https://stackoverflow.com/users/519151/isaac"}, "edited": false, "score": 0, "creation_date": 1445931820, "post_id": 33350802, "comment_id": 54519773, "body": "That is a sweet solution. After reevaluating my needs, I ended up roling my own, which I will post."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1445881106, "last_edit_date": 1445881106, "creation_date": 1445876852, "answer_id": 33350802, "question_id": 33349935, "link": "https://stackoverflow.com/questions/33349935/recursive-directory-copy-in-perl-preserving-mode-and-ownership-without-content/33350802#33350802", "title": "Recursive directory copy in perl preserving mode and ownership, without content", "body": "<p>If you don't need portability, I'd use the system-provided tools. They'll be faster and more reliable. <code>tar</code> can recreate permissions and ownership.</p>\n\n<p>If you wanted to copy the directories and the files therin, it would be simple:</p>\n\n<pre><code>( cd \"$SRC\" ; tar c ) | ( cd \"$DST\" ; tar x --preserve --same-owner )\n</code></pre>\n\n<p>But you asked to recreate the directory structure without its contents. For that, you can use the following:</p>\n\n<pre><code>( cd \"$SRC\" ; find -type d -exec \\\n   sh -c 'tar c --no-recursion \"$@\" | ( cd \"$DST\" ; tar x --preserve --same-owner )' \\\n      dummy {} + )\n</code></pre>\n\n<p><code>$SRC</code> and <code>$DST</code> are the base source and destination directories respectively.</p>\n\n<p>Of course, these commands need to execute as <code>root</code> in order to preserve ownership.</p>\n"}, {"tags": [], "owner": {"reputation": 750, "user_id": 519151, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/480c0be1bd2a9c44dc676daf9f4d157f?s=128&d=identicon&r=PG", "display_name": "Isaac", "link": "https://stackoverflow.com/users/519151/isaac"}, "is_accepted": true, "score": 1, "last_activity_date": 1445931878, "creation_date": 1445931878, "answer_id": 33362332, "question_id": 33349935, "link": "https://stackoverflow.com/questions/33349935/recursive-directory-copy-in-perl-preserving-mode-and-ownership-without-content/33362332#33362332", "title": "Recursive directory copy in perl preserving mode and ownership, without content", "body": "<p>I ended up roling my own:</p>\n\n<pre><code>sub dirCopy {\n    my $old = shift;\n    my $new = shift;\n    if( -d $new ){return(1)}\n    my $old_base = dirname($old);\n    my $new_base = dirname($new);\n    unless( -d $new_base ){dirCopy($old_base, $new_base)}\n    my @old_stat = stat($old) or die(\"Could not stat $old\");\n    my $old_mode = $old_stat[2];\n    my $old_uid = $old_stat[4];\n    my $old_gid = $old_stat[5];\n    mkdir($new) or die(\"Could not mkdir $new\");\n    chown($old_uid, $old_gid, ($new)) or die(\"Could not chown $new\");\n    chmod($old_mode, ($new)) or die(\"Could not chmod $new\");\n    return(1);\n}\n</code></pre>\n"}], "owner": {"reputation": 750, "user_id": 519151, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/480c0be1bd2a9c44dc676daf9f4d157f?s=128&d=identicon&r=PG", "display_name": "Isaac", "link": "https://stackoverflow.com/users/519151/isaac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 282, "favorite_count": 0, "accepted_answer_id": 33362332, "answer_count": 2, "score": 0, "last_activity_date": 1445931878, "creation_date": 1445874347, "last_edit_date": 1445931691, "question_id": 33349935, "link": "https://stackoverflow.com/questions/33349935/recursive-directory-copy-in-perl-preserving-mode-and-ownership-without-content", "title": "Recursive directory copy in perl preserving mode and ownership, without content", "body": "<p>Using perl I would like to locally copy a directory structure without the content, but preserving owner and mode. I found <a href=\"http://search.cpan.org/~dmuey/File-Copy-Recursive-0.38/Recursive.pm\" rel=\"nofollow\">File::Copy::Recursive</a> which provides <code>dircopy</code> that does everything except for preserving the ownership. Is there a way to achieve this without explicitly traversing old and new directories and comparing owners? Of course, somewhere in the implementation this needs to happen, but I was wondering if it is already implemented somewhere so that I don't have to reinvent this.</p>\n\n<p>EDIT: It turns out <code>dircopy</code> does copy also files, so its not what I want.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1445873233, "post_id": 33349407, "comment_id": 54494286, "body": "Re &quot;I woud say in MATLAB we could do it by a array&quot;, I don&#39;t understand what &quot;it&quot; want you want do, but Perl has arrays too."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1445883517, "post_id": 33349407, "comment_id": 54501276, "body": "Perl has two fundamental data structures for collections: arrays and hashes (which are associative arrays)."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4128379"}, "edited": false, "score": 0, "creation_date": 1445873493, "post_id": 33349482, "comment_id": 54494480, "body": "Thanks a lot! Is it possible to print just a specific entry of <code>@array</code>?"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 2, "last_activity_date": 1445873233, "creation_date": 1445873233, "answer_id": 33349482, "question_id": 33349407, "link": "https://stackoverflow.com/questions/33349407/does-perl-have-arrays/33349482#33349482", "title": "Does Perl have arrays?", "body": "<p>Very straight forward in Perl. Here, we use a glob to collect the names of all .txt files in the current working directory, and save them into an array. We then loop over the array and print the name of each file. The <code>use warnings;</code> and <code>use strict;</code> lines should always be included at the top of the script to prevent common issues.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy @array = &lt;*.txt&gt;;\n\nfor my $file (@array){\n    print \"$file\\n\";\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4128379"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 33349482, "answer_count": 1, "score": 0, "last_activity_date": 1445882573, "creation_date": 1445872998, "last_edit_date": 1445882573, "question_id": 33349407, "link": "https://stackoverflow.com/questions/33349407/does-perl-have-arrays", "title": "Does Perl have arrays?", "body": "<p>I am new to Perl and want to know if there is any data structure consisting of a collection of elements. I'm familiar with MATLAB, which has arrays with elements that are identified by indices. Does Perl also have arrays?</p>\n\n<p>For example, in Perl, how would I gather and store a collection of file names for files that all have the same extension?</p>\n"}, {"tags": ["perl", "newline", "tail"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1445866389, "post_id": 33347072, "comment_id": 54489380, "body": "What does the &quot;last line&quot; mean if you&#39;re running <code>tail -f</code>?"}, {"owner": {"reputation": 5170, "user_id": 353652, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d08a67d61b3cccdb5e47ad9b7c56a113?s=128&d=identicon&r=PG", "display_name": "Lars Schneider", "link": "https://stackoverflow.com/users/353652/lars-schneider"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445866498, "post_id": 33347072, "comment_id": 54489465, "body": "My command generates output like this: 56 (newline) 57 (newline) 58 (newline) 59 ... and I want to see the last number only. In that case 59."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1445866682, "post_id": 33347072, "comment_id": 54489581, "body": "Yes. But <code>tail -f</code> keeps running, and doesn&#39;t send an <code>eof</code> - so <code>perl</code> can&#39;t know when it <i>is</i> the &quot;last line&quot; because there might be another one coming."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445867418, "post_id": 33347072, "comment_id": 54490166, "body": "... otherwise you could do <code>if eof</code>"}, {"owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "edited": false, "score": 0, "creation_date": 1445868440, "post_id": 33347072, "comment_id": 54490866, "body": "@LarsSchneider do you mean to show only the latest line from <code>tail -f</code> always?"}], "answers": [{"tags": [], "owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "is_accepted": true, "score": 4, "last_activity_date": 1445868187, "creation_date": 1445868187, "answer_id": 33347698, "question_id": 33347072, "link": "https://stackoverflow.com/questions/33347072/how-to-override-the-last-line-with-tail/33347698#33347698", "title": "How to override the last line with tail?", "body": "<p>When you read a line in Perl, the trailing new-line character is not stripped. Also, a <code>.</code> in a regex does not match the new-line character unless the <code>s</code> modifier is present. Thus, in your second snippet, the <code>\\r</code> character is always printed as the first character in a line and hence does not have any effect.</p>\n\n<p>To fix it, the following can be done:</p>\n\n<ol>\n<li>Add the <code>s</code> modifier in the regex to remove the new-line character as well.</li>\n<li>Before printing the string, print a <code>\\r</code> character to move to the first position in the line.</li>\n<li>Since <code>STDOUT</code> is line-buffered, you need to change it to auto-flush every time something is printed. This can be done by assigning <code>1</code> to <code>$|</code>.</li>\n</ol>\n\n<p>Final code:</p>\n\n<pre><code>perl -ne '$|=1; print if s/progress (\\d+).*/\\r$1%/s'\n</code></pre>\n"}], "owner": {"reputation": 5170, "user_id": 353652, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d08a67d61b3cccdb5e47ad9b7c56a113?s=128&d=identicon&r=PG", "display_name": "Lars Schneider", "link": "https://stackoverflow.com/users/353652/lars-schneider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 33347698, "answer_count": 1, "score": 0, "last_activity_date": 1445868187, "creation_date": 1445866351, "question_id": 33347072, "link": "https://stackoverflow.com/questions/33347072/how-to-override-the-last-line-with-tail", "title": "How to override the last line with tail?", "body": "<p>To monitor a log file I use the following command:\n<code>\ntail -f -n 1 myfile.log | perl -ne 'print if s/progress (\\d+).*/$1%/g'\n</code>\nThis will create lines with a a number in my terminal. How can I modify this command to overwrite the last line? Adding <code>\\r\\033[K</code> doesn't do the trick:\n<code>\ntail -f -n 1 myfile.log | perl -ne 'print if s/progress (\\d+).*/`\\r\\033[K$1%/g'\n</code></p>\n"}, {"tags": ["perl", "curl", "cookies", "bitbucket-server"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445878793, "post_id": 33346679, "comment_id": 54498202, "body": "Do you have any particular reason to be using <code>curl</code> over <code>LWP</code>?"}, {"owner": {"reputation": 41, "user_id": 5480341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_x-kT2Jsh_c/AAAAAAAAAAI/AAAAAAAAU_8/Mbu2Qoh-KkI/photo.jpg?sz=128", "display_name": "Rudy", "link": "https://stackoverflow.com/users/5480341/rudy"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445929549, "post_id": 33346679, "comment_id": 54518713, "body": "@Sobrique mainly unfamiliarity with LWP. So it is no problem to use LWP."}, {"owner": {"reputation": 41, "user_id": 5480341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_x-kT2Jsh_c/AAAAAAAAAAI/AAAAAAAAU_8/Mbu2Qoh-KkI/photo.jpg?sz=128", "display_name": "Rudy", "link": "https://stackoverflow.com/users/5480341/rudy"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446109997, "post_id": 33346679, "comment_id": 54610509, "body": "@Sobrique do you have an example for me?"}], "answers": [{"tags": [], "owner": {"reputation": 3946, "user_id": 65706, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6e0652a12b8a5b2577f91f0e192ea3f9?s=128&d=identicon&r=PG", "display_name": "Yordan Georgiev", "link": "https://stackoverflow.com/users/65706/yordan-georgiev"}, "is_accepted": false, "score": 0, "last_activity_date": 1488898454, "creation_date": 1488898454, "answer_id": 42651407, "question_id": 33346679, "link": "https://stackoverflow.com/questions/33346679/using-cookie-authentication-with-bitbucket-and-curl/42651407#42651407", "title": "Using cookie authentication with bitbucket and curl", "body": "<p>or you could skip the login part and just steal the session from your UI browser and save it to a cookies file and passed that one to the curl obj conf calls\nyou could easily \"steal\" your current ui session in Chrome <a href=\"https://chrome.google.com/webstore/detail/cookiestxt/njabckikapfpffapmjgojcnbfjonfjfg\" rel=\"nofollow noreferrer\">with cookies export chrome extension</a> \nFor the php junkies out there - the syntax is almost the same ... </p>\n\n<pre><code>    #\n    # performs post or get http request , returns\n    # usage:\n    # ( $ret , $response_code , $response_body , $response_content )\n    #     = $objUrlRunner-&gt;doRunURL( 'GET' , $url , $headers );\n    #\n    sub doRunURL {\n\n        my $self               = shift ;\n        my $http_method_type   = shift ;\n        my $url                = shift ;\n        my $headers            = shift ;\n\n        my $cookies_file       = $appConfig-&gt;{'COOKIES_FILE'} ;\n        $objLogger-&gt;doLogInfoMsg ( \"cookies_file: \" . $cookies_file ) ;\n\n        my $curl = WWW::Curl::Easy-&gt;new();\n\n        ## Set up the standard GET/POST request options\n        $curl-&gt;setopt(WWW::Curl::Easy::CURLOPT_COOKIEFILE, $cookies_file );  # set where the cookies are stored\n        $curl-&gt;setopt(WWW::Curl::Easy::CURLOPT_HEADER(),1);\n        $curl-&gt;setopt(WWW::Curl::Easy::CURLOPT_MAXREDIRS(),3);\n        $curl-&gt;setopt(WWW::Curl::Easy::CURLOPT_URL(), \"$url\" );\n        $curl-&gt;setopt(WWW::Curl::Easy::CURLOPT_VERBOSE, 0);                  # Disable verbosity\n        $curl-&gt;setopt(WWW::Curl::Easy::CURLOPT_HEADER, 1);                   # Don't include header in body\n        $curl-&gt;setopt(WWW::Curl::Easy::CURLOPT_NOPROGRESS, 1);               # Disable internal progress meter\n        $curl-&gt;setopt(WWW::Curl::Easy::CURLOPT_FOLLOWLOCATION, 0);           # Disable automatic location redirects\n        $curl-&gt;setopt(WWW::Curl::Easy::CURLOPT_FAILONERROR, 1);              # Setting this to true fails on HTTP error\n        $curl-&gt;setopt(WWW::Curl::Easy::CURLOPT_SSL_VERIFYPEER, 0);           # Ignore bad SSL\n        $curl-&gt;setopt(WWW::Curl::Easy::CURLOPT_SSL_VERIFYHOST, 0);           # Ignore bad SSL\n        $curl-&gt;setopt(WWW::Curl::Easy::CURLOPT_NOSIGNAL, 1);               # To make thread safe, disable signals\n        $curl-&gt;setopt(WWW::Curl::Easy::CURLOPT_ENCODING, 'gzip');          # Allow gzip compressed pages\n\n        if ( $headers ) {\n            for my $key ( sort ( keys %$headers )) {\n                my $header_name = $key ;\n                my $header_val = $headers-&gt;{ \"$key\" } ;\n                $curl-&gt;setopt(WWW::Curl::Easy::CURLOPT_HTTPHEADER() , [ $header_name . $header_val ]  );\n            }\n        }\n\n        if ( $http_method_type eq 'POST' ) {\n            $curl-&gt;setopt(WWW::Curl::Easy::CURLOPT_POST(), 1);\n        }\n\n        # A filehandle, reference to a scalar or reference to a typeglob can be used here.\n        my $response_body       = q{} ;\n        my $response_code       = q{} ;\n        my $response_content    = q{} ;\n\n        $curl-&gt;setopt(WWW::Curl::Easy::CURLOPT_WRITEDATA(),\\$response_body);\n\n        # Starts the actual request\n        my $ret = $curl-&gt;perform;\n\n\n        if ($ret == 0) {\n            my $msg = \"OK for the curl transfer for the url: $url \" ;\n            $objLogger-&gt;doLogInfoMsg ( $msg ) ;\n\n            $response_code = $curl-&gt;getinfo(CURLINFO_HTTP_CODE);\n            $response_content = HTTP::Response-&gt;parse( \"$response_body\" ) ;\n            $response_content = $response_content-&gt;content;\n\n        } else {\n            my $msg = \"An error happened: $ret \".$curl-&gt;strerror($ret).\" \".$curl-&gt;errbuf.\"\\n\" ;\n            $objLogger-&gt;doLogErrorMsg ( $msg ) ;\n            #  Error code, type of error, error message\n        }\n\n        return ( $ret , $response_code , $response_body , $response_content ) ;\n    }\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5480341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_x-kT2Jsh_c/AAAAAAAAAAI/AAAAAAAAU_8/Mbu2Qoh-KkI/photo.jpg?sz=128", "display_name": "Rudy", "link": "https://stackoverflow.com/users/5480341/rudy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1013, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1488898454, "creation_date": 1445865200, "question_id": 33346679, "link": "https://stackoverflow.com/questions/33346679/using-cookie-authentication-with-bitbucket-and-curl", "title": "Using cookie authentication with bitbucket and curl", "body": "<p>I'm trying to login with curl to Bitbucket server and use the created cookie to make another request, but somehow it is not working.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse Data::Dumper;\n\nmy $user        = 'user';\nmy $password    = 'pass';\nmy $base_url    = 'https://bitbucket.company.com/bitbucket';\nmy $project     = 'PROJ';\nmy $repository  = 'REPO';\n\nmy $login = `curl -s -u $user:$password --cookie-jar \\\"cookie.txt\\\" -H \\\"Content-Type: application/json\\\" \\\"$base_url/rest/api/1.0/projects\\\"`;\nprint $login;\n\nmy $url = $base_url.'/projects/'.$project.'/repos/'.$repository.'/settings/pull-requests';\nmy $pr_page = `curl -s --cookie \\\"cookie.txt\\\" -H \\\"Content-Type: application/json\\\" -H \\\"X-Atlassian-Token: no-check\\\" \\\"$url\\\"\";\nprint $pr_page;\n</code></pre>\n\n<p>The login succeeds and I do get a cookie, it states:</p>\n\n<blockquote>\n  <p>Netscape HTTP Cookie File\n  <a href=\"http://curl.haxx.se/docs/http-cookies.html\" rel=\"nofollow\">http://curl.haxx.se/docs/http-cookies.html</a>\n  This file was generated by libcurl! Edit at your own risk.</p>\n  \n  <p>HttpOnly_bitbucket.mycompany.com  FALSE   /bitbucket/ TRUE    0   JSESSIONID  8079B4AC59C823137D7A78E4414C7CB3</p>\n</blockquote>\n\n<p>But the script does not return the second page. I think it has something to do with not having the remember-me-cookie, but I can't generate it.</p>\n\n<p>Thanks,<br>\nRudy</p>\n"}, {"tags": ["linux", "perl", "nagios"], "comments": [{"owner": {"reputation": 9944, "user_id": 448715, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/rvewo.jpg?s=128&g=1", "display_name": "octopusgrabbus", "link": "https://stackoverflow.com/users/448715/octopusgrabbus"}, "edited": false, "score": 1, "creation_date": 1445866391, "post_id": 33346633, "comment_id": 54489383, "body": "I am finding in the later versions of RedHat-based Linux distributions I&#39;ve been working on that setting the UID -- &#39;s&#39; -- bit is no longer letting the script or program act like it&#39;s root. I would contact the Nagios bulletin boards, unless this is a commercial product, and you&#39;re paying for support. For example, I&#39;ve wanted a shell script to go create a file in /var/lib, because our payments web site looks there to see if a payment &quot;lock out&quot; file exists. It prevents payments from coming in when we do not want them too. <a href=\"http://unix.stackexchange.com/questions/364/allow-setuid-on-shell-scripts\" title=\"allow setuid on shell scripts\">unix.stackexchange.com/questions/364/&hellip;</a>"}, {"owner": {"reputation": 3047, "user_id": 1623046, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e368f0ee257e24f8fc5ef3fe00627b08?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1623046/matt"}, "reply_to_user": {"reputation": 9944, "user_id": 448715, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/rvewo.jpg?s=128&g=1", "display_name": "octopusgrabbus", "link": "https://stackoverflow.com/users/448715/octopusgrabbus"}, "edited": false, "score": 0, "creation_date": 1445876758, "post_id": 33346633, "comment_id": 54496794, "body": "What is weird is that when I &quot;su - nagios&quot; and then run the script myself, it runs fine. When the nagios service runs the script, it fails. I read somewhere about disabling &quot;requiretty&quot; - could it be to do with this?"}, {"owner": {"reputation": 9944, "user_id": 448715, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/rvewo.jpg?s=128&g=1", "display_name": "octopusgrabbus", "link": "https://stackoverflow.com/users/448715/octopusgrabbus"}, "edited": false, "score": 0, "creation_date": 1445876987, "post_id": 33346633, "comment_id": 54496935, "body": "Then it seems SUID nagios might work."}, {"owner": {"reputation": 5436, "user_id": 2744166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b079827a014bd14f42b163afd4bb1e91?s=128&d=identicon&r=PG", "display_name": "Joe Young", "link": "https://stackoverflow.com/users/2744166/joe-young"}, "edited": false, "score": 1, "creation_date": 1445881166, "post_id": 33346633, "comment_id": 54499841, "body": "If you don&#39;t want to allow nagios access to <code>ALL</code>, you can replace the final <code>ALL</code> with the path to your script."}], "answers": [{"comments": [{"owner": {"reputation": 3047, "user_id": 1623046, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e368f0ee257e24f8fc5ef3fe00627b08?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1623046/matt"}, "edited": false, "score": 0, "creation_date": 1445876859, "post_id": 33349836, "comment_id": 54496858, "body": "Thanks for the suggestion - didn&#39;t help though. Anything else I can try? Maybe I could take out the +s permission, add nagios to the sudoers list, and call the script with &quot;sudo ./myscript&quot; instead? Might that work?"}, {"owner": {"reputation": 3047, "user_id": 1623046, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e368f0ee257e24f8fc5ef3fe00627b08?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1623046/matt"}, "edited": false, "score": 0, "creation_date": 1445880459, "post_id": 33349836, "comment_id": 54499366, "body": "Updated with the command and service definitions. When I first tried to run it, it failed because I didn&#39;t have the perl-suid, so I have already installed that. I didn&#39;t configure anything after I installed it though, so if the defaults won&#39;t work then that could be the problem"}], "tags": [], "owner": {"reputation": 5436, "user_id": 2744166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b079827a014bd14f42b163afd4bb1e91?s=128&d=identicon&r=PG", "display_name": "Joe Young", "link": "https://stackoverflow.com/users/2744166/joe-young"}, "is_accepted": false, "score": 1, "last_activity_date": 1445879060, "last_edit_date": 1445879060, "creation_date": 1445874081, "answer_id": 33349836, "question_id": 33346633, "link": "https://stackoverflow.com/questions/33346633/perl-script-cant-open-file-owned-by-root-when-called-from-process-nagios/33349836#33349836", "title": "Perl script can&#39;t open file owned by root when called from process (Nagios)", "body": "<p>Try changing the owner of <code>check_UBC.pl</code> to <code>root</code> so that when nagios executes <code>check_UBC.pl</code> the script runs as setuid of it's owner <code>root</code> and not the <code>nagios</code> user.</p>\n\n<pre><code>chown root:root check_UBC.pl\n</code></pre>\n\n<p><strong>EDIT:</strong>  </p>\n\n<p>Can you post your command definition that's calling <code>check_UBC.pl</code>?</p>\n\n<p>The last thing I can think of to try is to install the perl-suid module:  <a href=\"https://chrisjean.com/fix-setuid-cannot-exec-sperl/\" rel=\"nofollow\">https://chrisjean.com/fix-setuid-cannot-exec-sperl/</a>\nAlthough, if <code>check_UBC.pl</code> runs from the command line with no problem, I'm not sure what difference it would make.</p>\n"}, {"tags": [], "owner": {"reputation": 319, "user_id": 2868227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8vEbI.png?s=128&g=1", "display_name": "Bee Kay", "link": "https://stackoverflow.com/users/2868227/bee-kay"}, "is_accepted": false, "score": 0, "last_activity_date": 1445972114, "creation_date": 1445972114, "answer_id": 33376293, "question_id": 33346633, "link": "https://stackoverflow.com/questions/33346633/perl-script-cant-open-file-owned-by-root-when-called-from-process-nagios/33376293#33376293", "title": "Perl script can&#39;t open file owned by root when called from process (Nagios)", "body": "<p>What would the risk be to change the permissions on /proc/user_beancounters to 444 (read for all?) It only contains a number, correct?  Not sure if that particular file \"sticks around\" after a reboot, or worse, constantly gets replaced as the services are running, so this could be a problem still.</p>\n\n<p>Also, consider trying to test for actual \"existence\" of the file, before you attempt to read from it. Since we're in /proc directory, things do change, from time to time....  </p>\n\n<p>Lastly, you are asking to open the file, but syntactically is it asking to open in a read only mode? You may want to try a system call to simply \"cat\" the file contents, in your shell script, and see if you get a response.</p>\n"}], "owner": {"reputation": 3047, "user_id": 1623046, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e368f0ee257e24f8fc5ef3fe00627b08?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1623046/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1035, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1445972114, "creation_date": 1445865056, "last_edit_date": 1445881434, "question_id": 33346633, "link": "https://stackoverflow.com/questions/33346633/perl-script-cant-open-file-owned-by-root-when-called-from-process-nagios", "title": "Perl script can&#39;t open file owned by root when called from process (Nagios)", "body": "<p>I have a VPS with Nagios installed, and I want to use Nagios to monitor the VPS resources in the <em>/proc/user_beancounters</em> file. The file has the following permissions:</p>\n\n<pre><code>-r-------- 1 root root 0 Oct 26 15:53 /proc/user_beancounters\n</code></pre>\n\n<p>So I downloaded the script from the Nagios Exchange:</p>\n\n<p><a href=\"https://exchange.nagios.org/directory/Plugins/Operating-Systems/*-Virtual-Environments/OpenVZ/check-beancounters/details\" rel=\"nofollow\">https://exchange.nagios.org/directory/Plugins/Operating-Systems/*-Virtual-Environments/OpenVZ/check-beancounters/details</a></p>\n\n<p>In the instructions it suggests to: </p>\n\n<pre><code>don\u2019t forget to set the s-bit (chmod +s check_UBC.pl)\n</code></pre>\n\n<p>So, I copied the script over, and set the s-bit, then run it from the terminal as root. It works as expected. I then delete the temp file it created, su into the nagios user, and run the script. It works as expected. I delete the temp file it created, and start up Nagios. It can't read the <em>/proc/user_beancounters</em> file! The exact error I get, helpfully, is \"could not read /proc/user_beancounters\". This is, I believe, thrown by the line in the Perl script:</p>\n\n<pre><code>if (! open IN, \"&lt;\", $UBC )\n{\n    print \"could not read $UBC\\n\";\n    exit $ERRORS{'CRITICAL'};\n}\n</code></pre>\n\n<p>My OS is <em>CentOS release 6.2 (Final)</em>.</p>\n\n<p>My first thought is that it is some kind of SELinux voodoo, but there is no indication that SELinux is running on this server. Just in case, I tried the following:</p>\n\n<pre><code>echo 0 &gt; /selinux/enforce\n</code></pre>\n\n<p>But this made no difference.</p>\n\n<p>For reference, this is my nagios service running:</p>\n\n<pre><code>nagios   12939  0.0  0.0 203652  3404 ?        Ssl  15:39   0:00 /usr/sbin/nagios -d /etc/nagios/nagios.cfg\n</code></pre>\n\n<p>And this is where I've put the Perl script:</p>\n\n<pre><code>-rwsr-sr-x 1 nagios nagios   2934 Oct 26 15:37 check_UBC.pl\n</code></pre>\n\n<p>Any suggestions as to what else I can try?</p>\n\n<p>PS apologies if this should go in a different SE site - never sure with questions that involve scripts, permissions etc...</p>\n\n<p><strong>UPDATE 1</strong></p>\n\n<p>I created a shell script to see if I could 'emulate' the nagios service. It is extremely simple:</p>\n\n<pre><code>#!/bin/bash\n/usr/lib64/nagios/plugins/check_UBC.pl\n</code></pre>\n\n<p>And now I have the following permissions:</p>\n\n<pre><code>-rwsr-sr-x 1 root root     2934 Oct 26 15:37 check_UBC.pl\n-rwxrwxrwx 1 root root       51 Oct 26 19:29 check_UBC.sh\n</code></pre>\n\n<p>As root:</p>\n\n<pre><code>[root@/usr/lib64/nagios/plugins]$ ./check_UBC.pl \n  everything is fine..\n[root@/usr/lib64/nagios/plugins]$ ./check_UBC.sh \n  everything is fine..\n</code></pre>\n\n<p>As nagios:</p>\n\n<pre><code>-bash-4.1$ ./check_UBC.pl\n  everything is fine..\n-bash-4.1$ ./check_UBC.sh\n  everything is fine..\n</code></pre>\n\n<p>So still no clue...</p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>My nagios command definition:</p>\n\n<pre><code>define command{\n    command_name    check_beancounters\n    command_line    $USER1$/check_UBC.pl\n    }\n</code></pre>\n\n<p>And the service definition:</p>\n\n<pre><code>define service{\n    use                             local-service\n    host_name                       localhost\n    service_description             VPS Beancounters\n    check_command                   check_beancounters\n    }\n</code></pre>\n\n<p><strong>UPDATE 3</strong></p>\n\n<p>I managed to get it to work, but am not over the moon about giving the nagios user full sudo access with no password. In /etc/sudoers I put this on the last line:</p>\n\n<pre><code>nagios ALL=(ALL:ALL) NOPASSWD: ALL\n</code></pre>\n\n<p>And then changed my command definition to:</p>\n\n<pre><code>define command{\n    command_name    check_beancounters\n    command_line    sudo $USER1$/check_UBC.pl\n    }\n</code></pre>\n\n<p>Apparently recent versions of linux will not respect the +s permission when running an interpreted script, only a binary. So I guess I will have to compile a binary wrapper for the script?</p>\n\n<p><strong>UPDATE 4</strong></p>\n\n<p>As per Joe Young's suggestion, I changed my visudo entry to:</p>\n\n<pre><code>nagios ALL=NOPASSWD: /usr/lib64/nagios/plugins/check_UBC.pl\n</code></pre>\n\n<p>Which hopefully is relatively harmless!</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1445856270, "post_id": 33343700, "comment_id": 54483026, "body": "Are you using <code>strict</code> and <code>warnings</code>? Have you declared your variables <code>$setcolor</code> and <code>$newcolor</code>?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1445860272, "post_id": 33343700, "comment_id": 54485556, "body": "Your <code>$changecolor</code> should be <code>changecolor</code>."}, {"owner": {"reputation": 49, "user_id": 5462683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-1Wx7lkBR4t8/AAAAAAAAAAI/AAAAAAAAFIo/ntksApZlMyw/photo.jpg?sz=128", "display_name": "Markus", "link": "https://stackoverflow.com/users/5462683/markus"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1445863376, "post_id": 33343700, "comment_id": 54487445, "body": "@simbabque Yes of course with strict and warnings."}, {"owner": {"reputation": 49, "user_id": 5462683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-1Wx7lkBR4t8/AAAAAAAAAAI/AAAAAAAAFIo/ntksApZlMyw/photo.jpg?sz=128", "display_name": "Markus", "link": "https://stackoverflow.com/users/5462683/markus"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1445863404, "post_id": 33343700, "comment_id": 54487465, "body": "@reinierpost Thank you! :-)"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1445856479, "post_id": 33343816, "comment_id": 54483178, "body": "I was going to say much the same. Can I suggest that it probably isn&#39;t <code>==</code> we need here though?"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1445856641, "post_id": 33343816, "comment_id": 54483287, "body": "@simbabque: I was editing but you were faster. Thanks!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 49, "user_id": 5462683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-1Wx7lkBR4t8/AAAAAAAAAAI/AAAAAAAAFIo/ntksApZlMyw/photo.jpg?sz=128", "display_name": "Markus", "link": "https://stackoverflow.com/users/5462683/markus"}, "edited": false, "score": 0, "creation_date": 1445863668, "post_id": 33343816, "comment_id": 54487625, "body": "@Markus <code>use strict</code> is complaining because you did not <i>declare</i> <code>$setcolor</code> in the same scope as you used it. Did you use the code from this answer directly, or did you add <code>my</code> inside of the <code>if { }</code>? Looks like it was declared in a smaller scope than where you used it."}, {"owner": {"reputation": 49, "user_id": 5462683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-1Wx7lkBR4t8/AAAAAAAAAAI/AAAAAAAAFIo/ntksApZlMyw/photo.jpg?sz=128", "display_name": "Markus", "link": "https://stackoverflow.com/users/5462683/markus"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1445863823, "post_id": 33343816, "comment_id": 54487721, "body": "@simbabque I will edit up again. with <code>my</code> and <code>use strict</code> and <code>if</code>"}, {"owner": {"reputation": 49, "user_id": 5462683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-1Wx7lkBR4t8/AAAAAAAAAAI/AAAAAAAAFIo/ntksApZlMyw/photo.jpg?sz=128", "display_name": "Markus", "link": "https://stackoverflow.com/users/5462683/markus"}, "edited": false, "score": 0, "creation_date": 1445871495, "post_id": 33343816, "comment_id": 54493039, "body": "@serenesat Thank you very much! But I write other code.  <code>if ($cgi-&gt;param($colortask)) {     $setcolor=$cgi-&gt;param($colortask);     if ($setcolor eq &#39;yel&#39;) {         $newcolor=&#39;red&#39;;     } } else { \t$setcolor=&#39;gre&#39;; \t$newcolor=&#39;yel&#39;; }</code> That&#39;s work for me! But thank you again! :-)"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 2, "last_activity_date": 1445856542, "last_edit_date": 1445856542, "creation_date": 1445856439, "answer_id": 33343816, "question_id": 33343700, "link": "https://stackoverflow.com/questions/33343700/im-trying-for-if-or-else-with-changecolor-i-dont-understand-what-im-doing-wr/33343816#33343816", "title": "I&#39;m trying for if or else with Changecolor. I don&#39;t understand what I&#39;m doing wrong", "body": "<p>I guess your function should be like this:</p>\n\n<pre><code>if ($cgi-&gt;param('changecolor'))\n{\n    $setcolor=$cgi-&gt;param('changecolor');\n    if ($setcolor eq 'red')\n    {\n        $newcolor='gre';\n    }\n    elsif ($setcolor eq 'gre')\n    {\n        $newcolor='red';\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 5462683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-1Wx7lkBR4t8/AAAAAAAAAAI/AAAAAAAAFIo/ntksApZlMyw/photo.jpg?sz=128", "display_name": "Markus", "link": "https://stackoverflow.com/users/5462683/markus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 1, "accepted_answer_id": 33343816, "answer_count": 1, "score": 0, "last_activity_date": 1445870704, "creation_date": 1445856090, "last_edit_date": 1445870704, "question_id": 33343700, "link": "https://stackoverflow.com/questions/33343700/im-trying-for-if-or-else-with-changecolor-i-dont-understand-what-im-doing-wr", "title": "I&#39;m trying for if or else with Changecolor. I don&#39;t understand what I&#39;m doing wrong", "body": "<p>That's a color Button with changing red or green. And here's there a function for the click button by color change. But 2 times click, then not more a change color. It stay same color of green, it can't further change to red button. I'm trying for the \"while, do, or\". But I don't understand. Please help me.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse CGI;\nuse CGI::Carp qw(fatalsToBrowser);\n\nmy $cgi = new CGI;\nmy $setcolor;\nmy $newcolor;\nmy $changecolor;\n</code></pre>\n\n<p>Here's a img/url button:</p>\n\n<pre><code>print \"&lt;td&gt;&lt;a href=\\\"../max.cgi?changecolor=$newcolor\\\" target=\\\"_parent\\\"&gt;&lt;img src=\\\"http://../images/ts${setcolor}.png\\\"/&gt;&lt;/a&gt;&lt;/td&gt;\\n\"; \n</code></pre>\n\n<p>Here's a Function:</p>\n\n<pre><code>if ($cgi-&gt;param('changecolor')) {\n    $setcolor=$cgi-&gt;param('changecolor');\n    if ($setcolor=='red') {\n        $newcolor='gre';\n    }\n}\nelse {\n    $setcolor='gre';\n    $newcolor='red';\n}\n</code></pre>\n\n<p>And another:</p>\n\n<pre><code>if ($cgi-&gt;param('changecolor')) {\n    $setcolor=$cgi-&gt;param('changecolor');\n    if ($setcolor=='red') {\n        $newcolor='gre';\n        while($setcolor=='gre') {\n            $newcolor='red';\n        }\n    }\n}\nelse {\n    $setcolor='gre';\n    $newcolor='red';\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "edited": false, "score": 0, "creation_date": 1445847988, "post_id": 33341223, "comment_id": 54478322, "body": "What libraries are you using?"}, {"owner": {"reputation": 1, "user_id": 5485904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/289f944d263b7564f13c38728bca0b4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5485904", "link": "https://stackoverflow.com/users/5485904/user5485904"}, "reply_to_user": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "edited": false, "score": 1, "creation_date": 1445848774, "post_id": 33341223, "comment_id": 54478715, "body": "File::Path and Win32"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1445864055, "post_id": 33341223, "comment_id": 54487834, "body": "If either of those modules are raising <i>uninitialised</i> warnings then there is a bug in your code that calls them. You don&#39;t need to (and shouldn&#39;t) disable the warning"}], "answers": [{"comments": [{"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1445849518, "post_id": 33341404, "comment_id": 54479085, "body": "Use of undefined variables may or may not be a bug, depending on what you&#39;re doing and how you&#39;re doing it. That&#39;s why &quot;Use of uninitialized value&quot; is a suppressible warning rather than a fatal error."}, {"owner": {"reputation": 3361, "user_id": 5395288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pw0Jz.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5395288/michael"}, "reply_to_user": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1445849901, "post_id": 33341404, "comment_id": 54479280, "body": "@DaveSherohman I can&#39;t disagree with you, it&#39;s just that in 20 years I can&#39;t think of a case where I had this and considered it not a bug. If I did I&#39;d probably want to fix it anyway, on the basis that it is a bug that it emits the warning during compile :)"}, {"owner": {"reputation": 1, "user_id": 5485904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/289f944d263b7564f13c38728bca0b4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5485904", "link": "https://stackoverflow.com/users/5485904/user5485904"}, "edited": false, "score": 0, "creation_date": 1445850245, "post_id": 33341404, "comment_id": 54479484, "body": "@Michael   \t     no warnings &#39;uninitialized&#39;;     use Win32; use warnings &#39;uninitialized&#39;;     use File::Path;   Will the above suppress uninitialized warnings from Win32 and display the ones from File::Path?"}, {"owner": {"reputation": 3361, "user_id": 5395288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pw0Jz.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5395288/michael"}, "edited": false, "score": 0, "creation_date": 1445850714, "post_id": 33341404, "comment_id": 54479758, "body": "It doesn&#39;t follow use, sorry. The modules are compiled separately. I just tried &quot;require MOD&quot; instead of &quot;use MOD&quot; to see if that makes a difference, but it doesn&#39;t."}, {"owner": {"reputation": 143, "user_id": 9698519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdtwC.jpg?s=128&g=1", "display_name": "Ken Town", "link": "https://stackoverflow.com/users/9698519/ken-town"}, "edited": false, "score": 0, "creation_date": 1595269029, "post_id": 33341404, "comment_id": 111410401, "body": "use common::sense;"}], "tags": [], "owner": {"reputation": 3361, "user_id": 5395288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pw0Jz.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5395288/michael"}, "is_accepted": false, "score": 2, "last_activity_date": 1605694674, "last_edit_date": 1605694674, "creation_date": 1445848236, "answer_id": 33341404, "question_id": 33341223, "link": "https://stackoverflow.com/questions/33341223/suppress-uninitailized-perl-warning/33341404#33341404", "title": "Suppress uninitailized perl warning", "body": "<p>I can't think of any reason this would be a good idea, surely use of an uninitialised variable is a bug which ever angle you look at it from?</p>\n<p>However, you can turn the warnings off with:</p>\n<pre><code>no warnings 'uninitialized';\n</code></pre>\n<p>And on again with:</p>\n<pre><code>use warnings 'uninitialized';\n</code></pre>\n<p>You can disable the warnings for a single statement if you surround it with these two statements.</p>\n"}, {"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 0, "last_activity_date": 1445850496, "creation_date": 1445850496, "answer_id": 33341988, "question_id": 33341223, "link": "https://stackoverflow.com/questions/33341223/suppress-uninitailized-perl-warning/33341988#33341988", "title": "Suppress uninitailized perl warning", "body": "<p>If you're able to modify the offending module(s), you can add <code>no warnings 'uninitialized';</code> to the module itself, outside of any <code>sub</code> declarations, and it will disable that category of warnings for all code in the module, as demonstrated with these two bits of code:</p>\n\n<p>In <code>warntest</code>:</p>\n\n<pre><code>#!/usr/bin/env perl    \n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse lib '.';\n\nuse UndefMod;\n\nmy $x;\nsay \"Main before: $x\";\n\nUndefMod::test_mod;\nsay \"Main after: $x\";\n</code></pre>\n\n<p>In <code>UndefMod.pm</code> (in the same directory):</p>\n\n<pre><code>package UndefMod;\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nno warnings 'uninitialized';\n\nsub test_mod {\n  my $x;\n  say \"Module: $x\";\n}\n\n1;\n</code></pre>\n\n<p>When run, this produces \"Use of uninitialized value\" warnings for both <code>say</code>s in <code>warntest</code>, but no warning for the <code>say</code> in <code>UndefMod</code>, thus showing that either file's <code>warnings</code> setting has no effect on the other.</p>\n\n<p>Of course, you may not be able to modify the module source, in which case you may be out of luck.  Perl's scoping rules don't generally allow you to modify the warnings/no warnings state of a scope from outside that scope.  (I say \"may\" and \"generally\" because there may be some black magic to hack around that, probably at least related to the magic behind PadWalker, but such things are beyond my ken.)</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1445885628, "last_edit_date": 1445885628, "creation_date": 1445869093, "answer_id": 33348027, "question_id": 33341223, "link": "https://stackoverflow.com/questions/33341223/suppress-uninitailized-perl-warning/33348027#33348027", "title": "Suppress uninitailized perl warning", "body": "<p>You probably used <code>-w</code>, which enables warnings throughout the interpreter (though it can be overridden using <code>local $^W = 0;</code> or <code>no warnings;</code>).</p>\n\n<p>It's not a bad thing to use <code>-w</code>. All modules should tolerate this or defend against it (using <code>no warnings;</code>). But some aren't \"warnings-safe\".</p>\n\n<p>It's more conventional to place <code>use warnings;</code> in each of your scripts and modules. This is method of enabling warnings is less intrusive since it won't affect other third-party modules used by your script and modules.</p>\n"}], "owner": {"reputation": 1, "user_id": 5485904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/289f944d263b7564f13c38728bca0b4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5485904", "link": "https://stackoverflow.com/users/5485904/user5485904"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2819, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1605694674, "creation_date": 1445847386, "last_edit_date": 1445848434, "question_id": 33341223, "link": "https://stackoverflow.com/questions/33341223/suppress-uninitailized-perl-warning", "title": "Suppress uninitailized perl warning", "body": "<p>Is there a way I can suppress uninitialized Perl variable warning for only few libraries out of all the libraries used in a Perl file?</p>\n"}, {"tags": ["arrays", "perl", "hashmap", "hashtable", "key-value"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1445879083, "last_edit_date": 1445879083, "creation_date": 1445850048, "answer_id": 33341865, "question_id": 33340925, "link": "https://stackoverflow.com/questions/33340925/perl-create-and-automate-a-hash-table-with-arrays-as-the-values/33341865#33341865", "title": "Perl - create and automate a hash table with arrays as the values", "body": "<p>You are going off down a blind alley. You don't need to create arrays, as perl has a feature called <a href=\"http://search.cpan.org/~vpit/autovivification-0.16/lib/autovivification.pm\" rel=\"nofollow\">autovivification</a>.</p>\n\n<p>By writing to an array in a hash, it is auto created. </p>\n\n<p>So your task is as simple as:</p>\n\n<pre><code>push ( @{ $uniqueFolders{$key}}, $value) ;\n</code></pre>\n\n<p>Split your file name such that you have a key and value. <code>File::Spec</code> and <code>splitpath</code> is the right approach. </p>\n\n<p>Reading is as simple as using \"keys\" on the hash.</p>\n\n<p>e.g. </p>\n\n<pre><code>foreach my $path ( keys %uniqueFolders ) {\n    print \"[KEY]\\n\";\n    print \"$path\\n\"; \n    print \"[Values]\\n\";\n    print join ( \"\\n\", @{$uniqueFolders{$path}} ),\"\\n\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 2, "last_activity_date": 1445850682, "last_edit_date": 1445850682, "creation_date": 1445850312, "answer_id": 33341941, "question_id": 33340925, "link": "https://stackoverflow.com/questions/33340925/perl-create-and-automate-a-hash-table-with-arrays-as-the-values/33341941#33341941", "title": "Perl - create and automate a hash table with arrays as the values", "body": "<p>You can simplify your algorithm, </p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse File::Basename;\n\nlocal @ARGV = \"list_of_files.txt\";\nmy %seen;\nfor (sort &lt;&gt;) {\n  my $d = dirname($_);\n  $seen{$d}++ or print qq(\\n[KEY]\\n$d\\n[Values]\\n);\n  print basename($_);\n}\n</code></pre>\n\n<p>output</p>\n\n<pre><code>[KEY]\nc:\\foo\\bar\n[Values]\naaa.txt\nbbb.txt\nccc.txt\n\n[KEY]\nd:\\xxx\n[Values]\nddd.txt\neee.txt\n</code></pre>\n"}], "owner": {"reputation": 904, "user_id": 2907585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/721827536/picture?type=large", "display_name": "David Gidony", "link": "https://stackoverflow.com/users/2907585/david-gidony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 33341865, "answer_count": 2, "score": 0, "last_activity_date": 1445879083, "creation_date": 1445846190, "question_id": 33340925, "link": "https://stackoverflow.com/questions/33340925/perl-create-and-automate-a-hash-table-with-arrays-as-the-values", "title": "Perl - create and automate a hash table with arrays as the values", "body": "<p>im trying to achieve the following:</p>\n\n<p>I have a txt file with a random list of files,\nI want to sort the files by their path.</p>\n\n<p>for eample:\nThe list is:</p>\n\n<pre><code>c:\\foo\\bar\\bbb.txt\nc:\\foo\\bar\\ccc.txt\nd:\\xxx\\eee.txt\nc:\\foo\\bar\\aaa.txt\nd:\\xxx\\ddd.txt\n</code></pre>\n\n<p>i want the data like this:</p>\n\n<pre><code>[KEY]\nc:\\foo\\bar\n[Values]\naaa.txt\nbbb.txt\nccc.txt\n\n[KEY]\nd:\\xxx\\\n[Values]\nddd.txt\neee.txt\n</code></pre>\n\n<p>i thought of using a hash map, with arrays as the values.\ni couldnt figure out the currect syntax.</p>\n\n<p>this is some of my code:</p>\n\n<pre><code>open (FILELIST, \"$file\") or ...;\nmy @filelist = &lt;FILELIST&gt;;\nmy %uniqueFolders;\n    foreach $fileList_line (@filelist)\n      {\n         my $file = (File::Spec::Win32-&gt;splitpath($fileList_file))[1];\n           if ( !$file ~~ @temp = keys %uniqueFolders)\n             {\n                 %uniqueFolders{$file} = ????????????\n\n              }\n</code></pre>\n\n<p>how do i access the array to add/read from it?</p>\n\n<p>and how can i automate it so the arrays are created when needed..</p>\n\n<p>Help,</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["linux", "image", "perl", "filesystems"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 4, "creation_date": 1445841475, "post_id": 33339373, "comment_id": 54475518, "body": "<a href=\"http://linux.die.net/man/3/guestfs-perl\" rel=\"nofollow noreferrer\">linux.die.net/man/3/guestfs-perl</a>"}], "owner": {"reputation": 486, "user_id": 4115884, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zbzXF.jpg?s=128&g=1", "display_name": "yoko", "link": "https://stackoverflow.com/users/4115884/yoko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1445841530, "creation_date": 1445839448, "last_edit_date": 1445841530, "question_id": 33339373, "link": "https://stackoverflow.com/questions/33339373/create-a-filesystem-like-mkfs-ext3-in-perl", "title": "Create a filesystem like mkfs.ext3 in perl", "body": "<p>I have an empty image-file with the size of 1GB, where I want to create a filesystem. </p>\n\n<p>I've tried the command <code>/sbin/mkfs.ext3 -F MyImage.img</code>, and it worked, but has anyone an idea how to do it by perl code, not by calling a system funcion?</p>\n"}, {"tags": ["regex", "string", "perl"], "comments": [{"owner": {"reputation": 71156, "user_id": 1190388, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5391819cc4abe0cb43587c9ef1808dbd?s=128&d=identicon&r=PG", "display_name": "hjpotter92", "link": "https://stackoverflow.com/users/1190388/hjpotter92"}, "edited": false, "score": 0, "creation_date": 1445837095, "post_id": 33338914, "comment_id": 54474145, "body": "What do you mean by <i>it is not working when I add an extra <code>print</code></i>.?"}, {"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 3, "creation_date": 1445838253, "post_id": 33338914, "comment_id": 54474467, "body": "There&#39;s no reason not to use the <code>reverse</code> function. It&#39;s part of perl. Every version of perl has it. Avoiding <code>reverse</code> makes your code harder to read."}, {"owner": {"reputation": 13, "user_id": 5487651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c15ddc28c9e7289f49c70e233b277f41?s=128&d=identicon&r=PG&f=1", "display_name": "perl.programmer", "link": "https://stackoverflow.com/users/5487651/perl-programmer"}, "edited": false, "score": 0, "creation_date": 1445838854, "post_id": 33338914, "comment_id": 54474642, "body": "Thanks for inputs. I should have been clearer. What I mean is that, with the following code piece <code>for (1 .. $#{[$str =~ &#47;.&#47;g]} + 1) {    $rev_str_1 = ($str =~ &#47;.&#47;g)[-$_];       print $rev_str_1;    }</code>, the output of this program is <i>desserts</i> as expected. But with the second code piece I had posted earlier, it never prints <i>desserts</i>. The input string is <i>stressed</i> for both."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5487651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c15ddc28c9e7289f49c70e233b277f41?s=128&d=identicon&r=PG&f=1", "display_name": "perl.programmer", "link": "https://stackoverflow.com/users/5487651/perl-programmer"}, "edited": false, "score": 0, "creation_date": 1445914440, "post_id": 33340143, "comment_id": 54513884, "body": "Thank you for the detailed explanation. It does explain what is going on in the background. One more question though. With this code snippet <code>use strict; use warnings;  my $str = &quot;stressed&quot;; my $rev_str_1;  for (1 .. $#{[$str =~ &#47;.&#47;g]} + 1) {    $rev_str_1 = ($str =~ &#47;.&#47;g)[-$_];       print $rev_str_1;    }</code>,  the output is <code>desserts</code>. When I change the code to this <code>use strict; use warnings;  my $str = &quot;stressed&quot;; my $rev_str_1;  for (1 .. $#{[$str =~ &#47;.&#47;g]} + 1) {    $rev_str_1 = ($str =~ &#47;.&#47;g)[-$_];       print $rev_str_1;       print &quot;Loop Variable is $_\\n&quot;; }</code>,"}, {"owner": {"reputation": 13, "user_id": 5487651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c15ddc28c9e7289f49c70e233b277f41?s=128&d=identicon&r=PG&f=1", "display_name": "perl.programmer", "link": "https://stackoverflow.com/users/5487651/perl-programmer"}, "edited": false, "score": 0, "creation_date": 1445914446, "post_id": 33340143, "comment_id": 54513892, "body": "the output is something like this <code>dLoop Variable is 1 eLoop Variable is 2 sLoop Variable is 3 sLoop Variable is 4 eLoop Variable is 5 rLoop Variable is 6 tLoop Variable is 7 sLoop Variable is 8 </code>.  How is it that the <code>print</code> inside the <code>for</code> loop is changing the behavior of string reversal?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1445870722, "last_edit_date": 1445870722, "creation_date": 1445843017, "answer_id": 33340143, "question_id": 33338914, "link": "https://stackoverflow.com/questions/33338914/reversing-a-string-in-perl-without-using-reverse-function/33340143#33340143", "title": "Reversing a string in perl without using &quot;reverse&quot; function", "body": "<p>You're assuming that the string is reversed before being printed, but the program just prints all the characters in the string one at a time in reverse order</p>\n\n<p>Here's how it works</p>\n\n<p>It's based around the expression <code>$str =~ /./g</code> which uses a global regex match with a pattern that matches any single character. In list context it returns all the characters in the string as a list. Note that a dot <code>.</code> without the <code>/s</code> pattern modifier doesn't match linefeed. That's a bug, but probably isn't critical in this situation</p>\n\n<p>This expression</p>\n\n<pre><code>$#{ [ $str =~ /./g ] } + 1\n</code></pre>\n\n<p>creates an anonymous array of the characters in <code>$str</code> with <code>[ $str =~ /./g ]</code>. Then uses <code>$#</code> to get the index of the last element of the array, and adds 1 to get the total number of characters (because the index is zero-based). So the loop is executing with <code>$_</code> in the range 1 to the number of characters in <code>$str</code>. This is unnecessarily obscure and should probably be written <code>1 .. length($str)</code> except for the special case of linefeed characters mentioned above</p>\n\n<p>The body of the loop uses <code>($str =~ /./g)[-$_]</code>, which splits <code>$str</code> into characters again in the same way as before, and then uses the fact that negative indexes in Perl refer to elements relative to the <em>end</em> of the array or list. So the last character in <code>$str</code> is at index -1, the second to last at index -2 and so on. Again, this is unnecessarily arcane; the expression is exactly equivalent to <code>substr($str, -$_, 1)</code>, again with the exception that the regex version ignores linefeed characters</p>\n\n<p>Printing the characters one at a time like this results in <code>$str</code> being printed in reverse</p>\n\n<p>It may be easier to understand if the string is split into a real array, and the reversed string is accumulated into a buffer, like this</p>\n\n<pre><code>my $reverse = '';\nmy @str = $str =~ /./sg;\nfor ( 1 .. @str ) {\n    $reverse .= $str[-$_];\n}\n\nprint $reverse, \"\\n\";\n</code></pre>\n\n<p>Or, using <code>length</code> and <code>substr</code> as described above, this is equivalent to</p>\n\n<pre><code>my $reverse = '';\n$reverse .= substr($str, -$_, 1) for 1 .. length($str);\nprint $reverse, \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5487651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c15ddc28c9e7289f49c70e233b277f41?s=128&d=identicon&r=PG&f=1", "display_name": "perl.programmer", "link": "https://stackoverflow.com/users/5487651/perl-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1756, "favorite_count": 0, "accepted_answer_id": 33340143, "answer_count": 1, "score": -1, "last_activity_date": 1445870722, "creation_date": 1445836776, "question_id": 33338914, "link": "https://stackoverflow.com/questions/33338914/reversing-a-string-in-perl-without-using-reverse-function", "title": "Reversing a string in perl without using &quot;reverse&quot; function", "body": "<p>I was looking for clues on how to reverse a string in Perl without using the builtin <code>reverse</code> function and came across the following piece of code for reversing $str.</p>\n\n<pre><code>print +($str =~ /./g)[-$_] for (1 .. $#{[$str =~ /./g]} + 1);\n</code></pre>\n\n<p>I was trying to understand how this works a bit more and expanded the above code to something like this.</p>\n\n<pre><code>for (1 .. $#{[$str =~ /./g]} + 1) {\n   $rev_str_1 = ($str =~ /./g)[-$_];   \n   print $rev_str_1;   \n}\n</code></pre>\n\n<p>The above code snippet also works fine. But, the problem comes when I add any print inside the <code>for</code> loop to understand how the string manipulation is working.</p>\n\n<pre><code>for (1 .. $#{[$str =~ /./g]} + 1) {\n   $rev_str_1 = ($str =~ /./g)[-$_];   \n   print \"\\nin loop now \";\n   print $rev_str_1;   \n}\n</code></pre>\n\n<p>For input string of <code>stressed</code>, following is the output for above code</p>\n\n<pre><code>in loop now d\nin loop now e\nin loop now s\nin loop now s\nin loop now e\nin loop now r\nin loop now t\nin loop now s\n</code></pre>\n\n<p>It seems like the entire string reversal is happening in this part <code>($str =~ /./g)[-$_]</code> but I am trying to understand why is it not working when I add an extra print. Appreciate any pointers.</p>\n"}, {"tags": ["regex", "string", "perl"], "comments": [{"owner": {"reputation": 2240, "user_id": 4099598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc50a32e3a3dffad460e83c0e02f6ba?s=128&d=identicon&r=PG", "display_name": "Nathan Tuggy", "link": "https://stackoverflow.com/users/4099598/nathan-tuggy"}, "edited": false, "score": 0, "creation_date": 1445823058, "post_id": 33337144, "comment_id": 54470943, "body": "So it just prints out the original string again?"}, {"owner": {"reputation": 2167, "user_id": 2237387, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f10bc46df3b1fa41b60201ac9af5da39?s=128&d=identicon&r=PG", "display_name": "cooldood3490", "link": "https://stackoverflow.com/users/2237387/cooldood3490"}, "reply_to_user": {"reputation": 2240, "user_id": 4099598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc50a32e3a3dffad460e83c0e02f6ba?s=128&d=identicon&r=PG", "display_name": "Nathan Tuggy", "link": "https://stackoverflow.com/users/4099598/nathan-tuggy"}, "edited": false, "score": 0, "creation_date": 1445823189, "post_id": 33337144, "comment_id": 54470968, "body": "The error message says <code>Use of uninitialized value $matched in concatenation (.) or string at...</code>. The regex is not matching anything in the string."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1445826799, "post_id": 33337144, "comment_id": 54471822, "body": "Add <code>print $string, &quot;\\n&quot;;</code> to the end and you will see that matching has occurred.  What has not occurred is capturing."}], "answers": [{"tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": true, "score": 2, "last_activity_date": 1445823454, "creation_date": 1445823454, "answer_id": 33337213, "question_id": 33337144, "link": "https://stackoverflow.com/questions/33337144/how-to-insert-space-after-every-semicolon-of-a-string-in-perl/33337213#33337213", "title": "How to insert space after every semicolon of a string in Perl?", "body": "<p>You want to print <code>$string</code> not <code>$matched</code>. Also, you don't need the quotes in the regex, unless you want them in there as well.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $string = \"1234;5678;232;5774;9784\";\n$string =~ s/;/; /g;\nprint \"$string\\n\";\n</code></pre>\n\n<p>prints <code>1234; 5678; 232; 5774; 9784</code></p>\n"}], "owner": {"reputation": 2167, "user_id": 2237387, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f10bc46df3b1fa41b60201ac9af5da39?s=128&d=identicon&r=PG", "display_name": "cooldood3490", "link": "https://stackoverflow.com/users/2237387/cooldood3490"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 33337213, "answer_count": 1, "score": 0, "last_activity_date": 1445823454, "creation_date": 1445822862, "question_id": 33337144, "link": "https://stackoverflow.com/questions/33337144/how-to-insert-space-after-every-semicolon-of-a-string-in-perl", "title": "How to insert space after every semicolon of a string in Perl?", "body": "<p>I'm trying to insert a space after every semicolon of a string in Perl. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict; use warnings;\nmy $string = \"1234;5678;232;5774;9784\";\n$string =~ s/;/\"; \"/g;\nmy $matched = $1;\nprint $matched . \"\\n\";\n</code></pre>\n\n<p>But it doesn't work. My string is <code>1234;5678;232;5774;9784</code>. I want to print <code>1234; 5678; 232; 5774; 9784</code>. thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1445815603, "post_id": 33336238, "comment_id": 54469197, "body": "None of those files have lines in common."}, {"owner": {"reputation": 13, "user_id": 5344865, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3acbdc32357d06ab7f2fde1e23982fbe?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous2015", "link": "https://stackoverflow.com/users/5344865/anonymous2015"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1445815778, "post_id": 33336238, "comment_id": 54469241, "body": "I want to match column 1 of file 1 with column 1 of file 2 and then column 2 of file 1 with column 1 of file 3."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1445815805, "post_id": 33336238, "comment_id": 54469246, "body": "Then you should update the question. You also want to combine them somehow."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1445815970, "post_id": 33336238, "comment_id": 54469293, "body": "What would the output be if file3 did not have <code>CKEIFJ</code>?"}, {"owner": {"reputation": 13, "user_id": 5344865, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3acbdc32357d06ab7f2fde1e23982fbe?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous2015", "link": "https://stackoverflow.com/users/5344865/anonymous2015"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1445816151, "post_id": 33336238, "comment_id": 54469336, "body": "column 1 of file 3 is a subset of column 2 of file 1"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1445816173, "post_id": 33336238, "comment_id": 54469340, "body": "So what would the output be?"}, {"owner": {"reputation": 13, "user_id": 5344865, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3acbdc32357d06ab7f2fde1e23982fbe?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous2015", "link": "https://stackoverflow.com/users/5344865/anonymous2015"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1445816494, "post_id": 33336238, "comment_id": 54469425, "body": "Then that row should not be printed.  The final output should contain columns 1 and 2 of file 1 and columns 2 and 3 of file 2 for only those rows that contain the file 3 keywords."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1445816604, "post_id": 33336238, "comment_id": 54469454, "body": "It would be just <code>fji01dde AIDJFMGKG 25 30</code>?"}, {"owner": {"reputation": 13, "user_id": 5344865, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3acbdc32357d06ab7f2fde1e23982fbe?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous2015", "link": "https://stackoverflow.com/users/5344865/anonymous2015"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1445816739, "post_id": 33336238, "comment_id": 54469489, "body": "Yes, that would be the output if file 3 did not contain the &quot;CKEIFJ&quot; keyword."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1445819011, "post_id": 33336503, "comment_id": 54470000, "body": "<i>\u201cBecause there&#39;s plenty of edge cases in parsing CSV files, don&#39;t do it by hand\u201d</i> I very much disagree, particularly with <i>tab-separated</i> files. If the data is known not to contain the separator character, and doesn&#39;t use quotes, then <code>chomp; split &#47;\\t&#47;;</code> is all that&#39;s necessary. Setting up <code>Text:CSV</code> to do a simple split like that is awkward"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 5, "creation_date": 1445823545, "post_id": 33336503, "comment_id": 54471056, "body": "&quot;<i>If the data is known not to contain the separator character, and doesn&#39;t use quotes</i>&quot;... these are famous last words. The consequences usually don&#39;t come down on your head, but the poor sap who has to fix it later. Today it might be true. Tomorrow, <i>who knows</i> what&#39;s going to be in those files? That&#39;s the nature of data. Text::CSV_XS is wicked fast and very complete. It has almost no down sides once you have it installed. If you&#39;re going to be working with CSV files, it&#39;s worth investing the small effort to learn it. It was also less code (and probably faster) to do the key/hash creation."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1445834706, "post_id": 33336503, "comment_id": 54473535, "body": "I disagree. If the data changes to being tab-separated <i>and</i> having tabs within its data then it is very strange data, and unless this is the only code that has to process it then it will cause widespread problems. The whole point of using tab as a separator is that it is highly unlikely to appear in the data, so the nastiness of quotes and escapes isn&#39;t necessary"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 2, "last_activity_date": 1445817980, "last_edit_date": 1445817980, "creation_date": 1445817422, "answer_id": 33336503, "question_id": 33336238, "link": "https://stackoverflow.com/questions/33336238/compare-3-tab-delimited-files-and-print-matches-in-perl/33336503#33336503", "title": "Compare 3 tab delimited files and print matches in Perl", "body": "<p>The algorithm seems to be...</p>\n\n<pre><code>for each line in 1\n   if 1.1 and 2.1 match  AND\n      1.2 appears in 3.1\n   then\n      combine 1.1, 1.2, 2.2 and 2.3\n</code></pre>\n\n<p>Because there's plenty of edge cases in parsing CSV files, don't do it by hand. Use <a href=\"https://metacpan.org/pod/Text::CSV_XS\" rel=\"nofollow\">Text::CSV_XS</a>. It can also handle turning CSV files into hashes for us and it's super efficient.</p>\n\n<p>What we'll do is parse all the files. The first file is left as a list, but the other two are put into hashes keyed on the columns that we're going to search on.</p>\n\n<p>NOTE: The names <code>$data</code> are horrible, but I don't know what sort of data these files represent.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Text::CSV_XS qw(csv);\n\nmy @csv_files = @ARGV;\n\n# Parse all the CSV files into arrays of arrays.\nmy $data1 = csv( in =&gt; $csv_files[0], sep_char =&gt; \"\\t\" );\n\n# Parse the other CSV files into hashes of rows keyed on the columns we're going to search on.\nmy $data2 = csv( in             =&gt; $csv_files[1],\n                 sep_char       =&gt; \"\\t\",\n                 headers        =&gt; [\"code\", \"num1\", \"num2\"],\n                 key =&gt; \"code\"\n            );\nmy $data3 = csv( in             =&gt; $csv_files[2],\n                 sep_char       =&gt; \"\\t\",\n                 headers        =&gt; [\"CODE\"],\n                 key            =&gt; \"CODE\"\n            );\n\nfor my $row1 (@$data1) {\n    my $row2 = $data2-&gt;{$row1-&gt;[0]};\n    my $row3 = $data3-&gt;{$row1-&gt;[1]};\n\n    if( $row2 &amp;&amp; $row3 ) {\n        print join \"\\t\", $row1-&gt;[0], $row1-&gt;[1], $row2-&gt;{num1}, $row2-&gt;{num2};\n        print \"\\n\";\n    }\n}\n</code></pre>\n\n<p>This reads all the files into memory. If the files are very large this can be a problem. You can reduce memory usage by iterating through file1 one row at a time instead of slurping it all in.</p>\n"}], "owner": {"reputation": 13, "user_id": 5344865, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3acbdc32357d06ab7f2fde1e23982fbe?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous2015", "link": "https://stackoverflow.com/users/5344865/anonymous2015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1450173219, "creation_date": 1445815187, "last_edit_date": 1445817489, "question_id": 33336238, "link": "https://stackoverflow.com/questions/33336238/compare-3-tab-delimited-files-and-print-matches-in-perl", "title": "Compare 3 tab delimited files and print matches in Perl", "body": "<p>I want to match column 1 of file 1 with column 1 of file 2 and then column 2 of file 1 with column 1 of file 3 and then print the matches. The columns in the files are separated by tabs. For example:  </p>\n\n<p>file 1:</p>\n\n<pre><code>fji01dde AIDJFMGKG\ndlp02sle VMCFIJGM\ncmr03lsp CKEIFJ\n</code></pre>\n\n<p>file 2:</p>\n\n<pre><code>fji01dde 25 30\ndlp02sle 40 50\ncmr03lsp 60 70\n</code></pre>\n\n<p>file 3:</p>\n\n<pre><code>AIDJFMGKG\nCKEIFJ\n</code></pre>\n\n<p>output needs to be:</p>\n\n<pre><code>fji01dde AIDJFMGKG 25 30\ncmr03lsp CKEIFJ 60 70\n</code></pre>\n\n<p>I only want lines that are common in all three files.</p>\n\n<p>The below code works well for the first two files, but I need to incorporate the third file. Any ideas?</p>\n\n<pre><code>#!/usr/bin/env perl \nuse strict;\n\nmy (%file1,%file2);\n\n## Open the 1st file\nopen(A,\"file1\");\nwhile(&lt;A&gt;){\n    chomp; \n    ## Split the current line on tabs into the @F array.\n    my @F=split(/\\t/); \n    push @{$file1{$F[0]}},@F[1..$#F];\n} \n\n## Open the 2nd file\nopen(B,\"file2\");\nwhile(&lt;B&gt;){\n    chomp; \n    ## Split the current line on tabs into the @F array.\n    my @F=split(/\\t/); \n\n    if (defined($file1{$F[0]})) {\n        foreach my $col (@{$file1{$F[0]}}) {\n            print \"$F[0]\\t$col\\t@F[1..$#F]\\n\";\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "file", "sorting"], "comments": [{"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 1, "creation_date": 1445810353, "post_id": 33335536, "comment_id": 54467779, "body": "Do you understand how <code>length $a &lt;=&gt; length $b</code> works?"}, {"owner": {"reputation": 139, "user_id": 2777912, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/007a8a2e94201d78ecba9937ac4583cf?s=128&d=identicon&r=PG&f=1", "display_name": "TheOneTrueSign", "link": "https://stackoverflow.com/users/2777912/theonetruesign"}, "reply_to_user": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1445810438, "post_id": 33335536, "comment_id": 54467809, "body": "It returns a 1, 0, or -1 based off of the comparison right"}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 3, "creation_date": 1445810510, "post_id": 33335536, "comment_id": 54467828, "body": "Right. So, you have to check the 0 case: <a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/sort.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 2777912, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/007a8a2e94201d78ecba9937ac4583cf?s=128&d=identicon&r=PG&f=1", "display_name": "TheOneTrueSign", "link": "https://stackoverflow.com/users/2777912/theonetruesign"}, "edited": false, "score": 0, "creation_date": 1445810776, "post_id": 33335604, "comment_id": 54467918, "body": "Thank you very much, I&#39;ll try to get this to work and let you know how it turns out."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 6, "last_activity_date": 1445811078, "last_edit_date": 1445811078, "creation_date": 1445810510, "answer_id": 33335604, "question_id": 33335536, "link": "https://stackoverflow.com/questions/33335536/custom-sort-a-file-in-perl/33335604#33335604", "title": "Custom sort a file in perl", "body": "<p>The way that <code>sort</code> works is - it sorts positionally based on a comparison. If the sort function is negative, zero or positive. </p>\n\n<p>That's what the <code>&lt;=&gt;</code> operator does with numbers, and the <code>cmp</code> operator does with strings. </p>\n\n<p>And so it will work just fine:</p>\n\n<pre><code>print 2 &lt;=&gt; 3,\"\\n\";\nprint 3 &lt;=&gt; 3,\"\\n\";\nprint 3 &lt;=&gt; 2,\"\\n\";\n</code></pre>\n\n<p>Equal length will compare, return zero, and so <code>sort</code> will know they're equal. Practically, that does mean the ordering might be random - they're equal as far as <code>sort</code> is concerned. </p>\n\n<p>So if you want to implement a secondary sort order, it's actually really easy, thanks to the <code>||</code> operator. Because what <em>this</em> does is test for 'truth' of the preceding statement - if it's \"not true\" - in this scenario <code>0</code> - it is evaluated and that result may be returned instead. </p>\n\n<p>So you can:</p>\n\n<pre><code>print 0 || \"fish\",\"\\n\";\n</code></pre>\n\n<p>Or better yet:</p>\n\n<pre><code>print 3 &lt;=&gt; 3 || \"fish\", \"\\n\";\nprint 3 &lt;=&gt; 2 || \"fish\", \"\\n\";\n</code></pre>\n\n<p>So to answer your question - if you want to sort by length and <em>then</em> by stringwise:</p>\n\n<pre><code>my @sorted = sort { length $a &lt;=&gt; length $b \n                 || $a cmp $b } @elements\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 2777912, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/007a8a2e94201d78ecba9937ac4583cf?s=128&d=identicon&r=PG&f=1", "display_name": "TheOneTrueSign", "link": "https://stackoverflow.com/users/2777912/theonetruesign"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 33335604, "answer_count": 1, "score": 0, "last_activity_date": 1445811078, "creation_date": 1445810067, "question_id": 33335536, "link": "https://stackoverflow.com/questions/33335536/custom-sort-a-file-in-perl", "title": "Custom sort a file in perl", "body": "<p>I'm trying to write a perl script that implements its own custom sort. If the input file looked like:     </p>\n\n<pre><code>hello\nadvantage\ncat\n</code></pre>\n\n<p>The sorted version would look like:</p>\n\n<pre><code>cat\nhello\nadvantage\n</code></pre>\n\n<p>Where if the words are sorted by length, and if two words are the same length then it'd make the normal lexicographical comparison of the two.</p>\n\n<p>Based off things I've seen online my sort line looks something like this:</p>\n\n<pre><code>@sorted = sort { length $a &lt;=&gt; length $b } @elements\n</code></pre>\n\n<p>But I'm unsure how I'd add the part where to sort normally if two words are off the same length.</p>\n"}, {"tags": ["bash", "perl", "shell", "diamond-operator"], "comments": [{"owner": {"reputation": 675, "user_id": 5483040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37e138ff94bbe51d763602baa5e8ab7?s=128&d=identicon&r=PG&f=1", "display_name": "Noproblem", "link": "https://stackoverflow.com/users/5483040/noproblem"}, "edited": false, "score": 0, "creation_date": 1445800715, "post_id": 33333790, "comment_id": 54464652, "body": "tcpdump -i eth0 -l -e -n &quot;src portrange 22-233333 or dst portrange 22-23333&quot; 2&gt;&amp;1 | ./netbps.prl 2&gt;&amp;1 does this command output anything? i removed grep &quot;Bps&quot;?"}, {"owner": {"reputation": 289, "user_id": 5299327, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4e00a8f927d808e0e17901f40e3a612b?s=128&d=identicon&r=PG&f=1", "display_name": "John Elaine", "link": "https://stackoverflow.com/users/5299327/john-elaine"}, "reply_to_user": {"reputation": 675, "user_id": 5483040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37e138ff94bbe51d763602baa5e8ab7?s=128&d=identicon&r=PG&f=1", "display_name": "Noproblem", "link": "https://stackoverflow.com/users/5483040/noproblem"}, "edited": false, "score": 0, "creation_date": 1445800805, "post_id": 33333790, "comment_id": 54464690, "body": "@Noproblem: Yes, the expected output appears on the shell/console."}, {"owner": {"reputation": 675, "user_id": 5483040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37e138ff94bbe51d763602baa5e8ab7?s=128&d=identicon&r=PG&f=1", "display_name": "Noproblem", "link": "https://stackoverflow.com/users/5483040/noproblem"}, "edited": false, "score": 0, "creation_date": 1445800898, "post_id": 33333790, "comment_id": 54464718, "body": "tcpdump -i eth0 -l -e -n &quot;src portrange 22-233333 or dst portrange 22-23333&quot; 2&gt;&amp;1 | ./netbps.prl &gt;&gt;/out.out 2&gt;&amp;1"}, {"owner": {"reputation": 289, "user_id": 5299327, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4e00a8f927d808e0e17901f40e3a612b?s=128&d=identicon&r=PG&f=1", "display_name": "John Elaine", "link": "https://stackoverflow.com/users/5299327/john-elaine"}, "reply_to_user": {"reputation": 675, "user_id": 5483040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37e138ff94bbe51d763602baa5e8ab7?s=128&d=identicon&r=PG&f=1", "display_name": "Noproblem", "link": "https://stackoverflow.com/users/5483040/noproblem"}, "edited": false, "score": 0, "creation_date": 1445801016, "post_id": 33333790, "comment_id": 54464765, "body": "Behavior is same as 1 -- Produces empty out.out file and no output on console/bash"}, {"owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "edited": false, "score": 1, "creation_date": 1445801053, "post_id": 33333790, "comment_id": 54464783, "body": "This could be due to the output from the script being buffered Try adding <code>$|=1;</code> before the while loop in the <code>netbps</code> script. That will flush the output whenever it prints something."}, {"owner": {"reputation": 289, "user_id": 5299327, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4e00a8f927d808e0e17901f40e3a612b?s=128&d=identicon&r=PG&f=1", "display_name": "John Elaine", "link": "https://stackoverflow.com/users/5299327/john-elaine"}, "edited": false, "score": 0, "creation_date": 1445801228, "post_id": 33333790, "comment_id": 54464840, "body": "Adding <code>$|=1</code> works! Now I am able to push the output to a file and even grep it on the fly. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 6, "last_activity_date": 1445801225, "creation_date": 1445801225, "answer_id": 33334064, "question_id": 33333790, "link": "https://stackoverflow.com/questions/33333790/unable-to-redirect-output-of-a-perl-script-to-a-file/33334064#33334064", "title": "Unable to redirect output of a perl script to a file", "body": "<p>It is a buffering problem.  Add the line <code>STDOUT-&gt;autoflush(1)</code> to netbps and it will work.</p>\n\n<p><code>STDOUT</code> is normally line buffered, so the newline on the end of <code>printf</code> should trigger a buffer flush, but because it's redirected to a file it is buffered like any normal file. You can see this with...</p>\n\n<pre><code>$ perl -e 'while(1) { print \"foo\\n\"; sleep 5; }'\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>$ perl -e 'while(1) { print \"foo\\n\"; sleep 5; }' &gt; test.out\n</code></pre>\n"}], "owner": {"reputation": 289, "user_id": 5299327, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4e00a8f927d808e0e17901f40e3a612b?s=128&d=identicon&r=PG&f=1", "display_name": "John Elaine", "link": "https://stackoverflow.com/users/5299327/john-elaine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 818, "favorite_count": 0, "accepted_answer_id": 33334064, "answer_count": 1, "score": 2, "last_activity_date": 1445801225, "creation_date": 1445799852, "last_edit_date": 1490005097, "question_id": 33333790, "link": "https://stackoverflow.com/questions/33333790/unable-to-redirect-output-of-a-perl-script-to-a-file", "title": "Unable to redirect output of a perl script to a file", "body": "<p>Even though the question sounds annoyingly silly, I am stuck with this. The described issue occurs on both <code>Ubuntu 14.04</code> and <code>CentOS 6.3</code>.</p>\n\n<p>I am using a perl script called <code>netbps</code> as posted in the answer (by <code>RedGrittyBrick</code>): <a href=\"https://superuser.com/questions/356907/how-to-get-real-time-network-statistics-in-linux-with-kb-mb-bytes-format-and-for\">https://superuser.com/questions/356907/how-to-get-real-time-network-statistics-in-linux-with-kb-mb-bytes-format-and-for</a></p>\n\n<p>The above script basically takes the output of tcpdump (a command whose details we don't need to know here) and represents it in a different format. Note that the script does this in streaming mode (i.e., the output is produced on the fly).</p>\n\n<p>Hence, my command looks like this:</p>\n\n<p><code>tcpdump -i eth0 -l -e -n \"src portrange 22-233333 or dst portrange 22-23333\" 2&gt;&amp;1 | ./netbps.prl</code></p>\n\n<p>And the output produced on the shell/console looks like this:</p>\n\n<pre><code>13:52:09      47.86 Bps\n13:52:20     517.54 Bps\n13:52:30     222.59 Bps\n13:52:41    4111.77 Bps\n</code></pre>\n\n<p>I am trying to capture this output to a file, however, I am unable to do so. I have tried the following:</p>\n\n<ol>\n<li>Redirect to file:</li>\n</ol>\n\n<p><code>tcpdump -i eth0 -l -e -n \"src portrange 22-233333 or dst portrange 22-23333\" 2&gt;&amp;1 | ./netbps.prl &gt; out.out 2&gt;&amp;1</code></p>\n\n<p>This creates an empty <code>out.out</code> file. No output appears on the shell/console. </p>\n\n<ol start=\"2\">\n<li>Pipe and grep:</li>\n</ol>\n\n<p><code>tcpdump -i eth0 -l -e -n \"src portrange 22-233333 or dst portrange 22-23333\" 2&gt;&amp;1 | ./netbps.prl 2&gt;&amp;1 | grep \"Bps\"</code></p>\n\n<p>No output appears on the shell/console. </p>\n\n<p>I don't know much about perl, but this seems to me like a buffering issue -- not sure though? Any help will be appreciated.</p>\n"}, {"tags": ["perl", "fork", "ipc", "file-descriptor"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1445799952, "post_id": 33333631, "comment_id": 54464353, "body": "Sample code or an illustrative example would probably help. I&#39;d suggest the problem is that the socket will be closing when the process terminates, and &#39;reopening&#39; it doesn&#39;t work so simply."}, {"owner": {"reputation": 497, "user_id": 2126689, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e229f858af88f659d3d680f0a41a72d5?s=128&d=identicon&r=PG", "display_name": "Sheldon Juncker", "link": "https://stackoverflow.com/users/2126689/sheldon-juncker"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445806735, "post_id": 33333631, "comment_id": 54466639, "body": "I&#39;m not reopening the same socket. I&#39;m sending the new socket file descriptor from parent to child and opening it from there."}, {"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 1, "creation_date": 1445933113, "post_id": 33333631, "comment_id": 54520397, "body": "There is only two portable ways you can send/pass file descriptors to another processes, by inheritance or by passing them through a unix domain socket. This is known as file descriptor passing. There are a couple of modules on CPAN related to this task, I have used <a href=\"https://metacpan.org/pod/IO::FDPass\" rel=\"nofollow noreferrer\">IO::FDPass</a>."}], "owner": {"reputation": 497, "user_id": 2126689, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e229f858af88f659d3d680f0a41a72d5?s=128&d=identicon&r=PG", "display_name": "Sheldon Juncker", "link": "https://stackoverflow.com/users/2126689/sheldon-juncker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1445799112, "creation_date": 1445799112, "question_id": 33333631, "link": "https://stackoverflow.com/questions/33333631/pass-a-file-descriptor-from-parent-to-child-in-perl", "title": "Pass a file descriptor from parent to child in Perl", "body": "<p>I'm writing a multiplayer networked game in Perl with the following architecture:</p>\n\n<p>The parent waits for connections and after each six connections, forks a child to handle those connections. Each child then runs its own game.</p>\n\n<p>The problem is that if a client on one of those child processes disconnects I do not have a good way to reconnect him. I have set up a pipe between the parent and each child and when a client reconnects I send the file descriptor through the pipe to the clients. The client is supposed to reconnect the client from that file descriptor.</p>\n\n<p>The problem is that the file descriptors do not seem to be openable by the child processes even though the sockets are working fine in the parent. When the client attempts to reopen a socket using the <code>new_from_fd()</code> call, I do not get an error, but when I send to the socket I get a \"send: Cannot determine peer address\" error.</p>\n\n<p>Is there a way to get around this? I can provide code snippets if necessary, but I feel as if this is a logical design issue.</p>\n"}, {"tags": ["c++", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1445780072, "post_id": 33330117, "comment_id": 54457351, "body": "Are you working on Linux or Windows? What options did you look at? Can you please explain the nature of these member functions? What sort of thing do they do?"}, {"owner": {"reputation": 1, "user_id": 5485904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/289f944d263b7564f13c38728bca0b4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5485904", "link": "https://stackoverflow.com/users/5485904/user5485904"}, "edited": false, "score": 0, "creation_date": 1445781059, "post_id": 33330117, "comment_id": 54457655, "body": "Working on windows. Its a calculator class with add and subtract functions with two variables. A main function has a while(1) loop continuously calling either of these functions based on the value of the variables. I saw Inline::C and xsub"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5485904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/289f944d263b7564f13c38728bca0b4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5485904", "link": "https://stackoverflow.com/users/5485904/user5485904"}, "edited": false, "score": 0, "creation_date": 1445784017, "post_id": 33330653, "comment_id": 54458533, "body": "Yes I&#39;m trying out how I can interface perl and C++ starting with the easy Calculator function. Based on this I can use similar approach for more complex C++ functions."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 5485904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/289f944d263b7564f13c38728bca0b4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5485904", "link": "https://stackoverflow.com/users/5485904/user5485904"}, "edited": false, "score": 0, "creation_date": 1445791359, "post_id": 33330653, "comment_id": 54461266, "body": "@user5485904: Okay then you want to learn about XS. There are several examples of it in modules on CPAN, and the tutorial that I linked above will get you started"}, {"owner": {"reputation": 1, "user_id": 5485904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/289f944d263b7564f13c38728bca0b4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5485904", "link": "https://stackoverflow.com/users/5485904/user5485904"}, "edited": false, "score": 0, "creation_date": 1445794655, "post_id": 33330653, "comment_id": 54462467, "body": "Thank you. I&#39;ll refer to them :)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1445782378, "last_edit_date": 1592644375, "creation_date": 1445782378, "answer_id": 33330653, "question_id": 33330117, "link": "https://stackoverflow.com/questions/33330117/update-c-variables-from-perl/33330653#33330653", "title": "Update C++ variables from perl", "body": "<p>There is nothing that is simple and straightforward I'm afraid. From the nature of your application, it sounds like you are just experimenting with things, and it is probably not worth the work unless you are preparing for a more complex interface.</p>\n<p>The standard way of calling C code from within Perl is to write XS code. It's documented in <a href=\"http://perldoc.perl.org/perlxs.html\" rel=\"nofollow noreferrer\"><code>perldoc perlxs</code></a>. There is a specific section on <a href=\"http://perldoc.perl.org/perlxs.html#Using-XS-With-C%2b%2b\" rel=\"nofollow noreferrer\"><em>Using XS With C++</em></a> and a tutorial in <a href=\"http://metacpan.org/module/perlxstut\" rel=\"nofollow noreferrer\"><code>perldoc perlxstut</code></a>. But it sounds like you have already come across that and found it too confusing</p>\n<p>If your code was built as a DLL then you could use <a href=\"http://metacpan.org/module/Win32::API\" rel=\"nofollow noreferrer\"><code>Win32::API</code></a> to call the exported functions</p>\n<p>Beyond that there isn't much I can suggest. If you explain your application, and why you are writing arithmetic functions in C++ then I'm sure we could suggest a better alternative</p>\n"}], "owner": {"reputation": 1, "user_id": 5485904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/289f944d263b7564f13c38728bca0b4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5485904", "link": "https://stackoverflow.com/users/5485904/user5485904"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445782378, "creation_date": 1445778981, "last_edit_date": 1445780189, "question_id": 33330117, "link": "https://stackoverflow.com/questions/33330117/update-c-variables-from-perl", "title": "Update C++ variables from perl", "body": "<p>I am fairly new to Perl and C++. I have a simple C++ code. I have to call its member functions and update its member variables from Perl. </p>\n\n<p>I looked at several options but found them too confusing. Is there a way this can be done easily? \nThank you. </p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 4, "creation_date": 1445767379, "post_id": 33328368, "comment_id": 54453865, "body": "<code>&#39;ARRAY(0x7f867b846850)&#39;</code> is plain string, created most likely by stringification of array reference. As to why, you&#39;ll need to check how HoA is created."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 2191361, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/398a258cfccca19359fa06cb6c8d1e28?s=128&d=identicon&r=PG", "display_name": "Geo1986", "link": "https://stackoverflow.com/users/2191361/geo1986"}, "edited": false, "score": 0, "creation_date": 1445768848, "post_id": 33328427, "comment_id": 54454243, "body": "Hi thanks for that, what do you mean by converting a reference to a string."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 65, "user_id": 2191361, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/398a258cfccca19359fa06cb6c8d1e28?s=128&d=identicon&r=PG", "display_name": "Geo1986", "link": "https://stackoverflow.com/users/2191361/geo1986"}, "edited": false, "score": 0, "creation_date": 1445769884, "post_id": 33328427, "comment_id": 54454515, "body": "Print it. Or concat with another variable.  Can&#39;t say for sure without more code."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 65, "user_id": 2191361, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/398a258cfccca19359fa06cb6c8d1e28?s=128&d=identicon&r=PG", "display_name": "Geo1986", "link": "https://stackoverflow.com/users/2191361/geo1986"}, "edited": false, "score": 0, "creation_date": 1445774032, "post_id": 33328427, "comment_id": 54455593, "body": "Added an example of what I thing might be happening."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1445774007, "last_edit_date": 1445774007, "creation_date": 1445767357, "answer_id": 33328427, "question_id": 33328368, "link": "https://stackoverflow.com/questions/33328368/perl-arrays-and-arrayrefs/33328427#33328427", "title": "Perl arrays and arrayrefs", "body": "<p>Actually, that implies that your array reference is being turned into a string before being placed in the hash. A hash element is always an array reference, not an array. Dumper automatically traverses references. </p>\n\n<p>In your first example it looks like the text you get when you convert a reference to a string. I guess just quoting the ref or concatenation would do it. </p>\n\n<p>Something like this should illustrate the point I think?</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $array_ref = [ 1, 2, 3 ];\n\nprint Dumper $array_ref; \nprint $array_ref -&gt; [0],\"\\n\";\n\n#because we concat here, perl converts it to a string\n$array_ref .= \"\";\nprint Dumper $array_ref;\n#so this errors\nprint $array_ref -&gt; [0],\"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 2191361, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/398a258cfccca19359fa06cb6c8d1e28?s=128&d=identicon&r=PG", "display_name": "Geo1986", "link": "https://stackoverflow.com/users/2191361/geo1986"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 33328427, "answer_count": 1, "score": 0, "last_activity_date": 1445774007, "creation_date": 1445766942, "question_id": 33328368, "link": "https://stackoverflow.com/questions/33328368/perl-arrays-and-arrayrefs", "title": "Perl arrays and arrayrefs", "body": "<p>I am migrating environments and have code that is duplicated across both environments.  When I call Dumper on the same part of the code in both environments I get two different outputs.</p>\n\n<p>First environment</p>\n\n<pre><code>'key' =&gt; 'ARRAY(0x7f867b846850)', # Array contains element 'expected element'\n</code></pre>\n\n<p>Second environment</p>\n\n<pre><code>'key' =&gt; [ 'expected element' ],\n</code></pre>\n\n<p>I've seen other posts that suggests these are both ArrayRefs and can be regarded and treated as the same, is that the case?  I haven't put the details of how the array is created as it's not what I'm investigating at the minute, I just want to know if these are identical, and why Dumper might treat them different.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["forms", "perl", "web", "action"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1445765230, "post_id": 33328073, "comment_id": 54453282, "body": "You can find the script in your server root directory. If you have access to that go and check it."}, {"owner": {"reputation": 2630, "user_id": 4065269, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/90c9cd69a6663c31758d6cd6043dfcc3?s=128&d=identicon&r=PG&f=1", "display_name": "sps", "link": "https://stackoverflow.com/users/4065269/sps"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1445765301, "post_id": 33328073, "comment_id": 54453299, "body": "No I dont have access to the server. I want to see the perl script from the client web browser."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1445765382, "post_id": 33328073, "comment_id": 54453326, "body": "I don&#39;t believe it is possible, otherwise it will become an security issue."}], "answers": [{"tags": [], "owner": {"reputation": 149, "user_id": 5470067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ece1b9d92664f27aad6660b248daab?s=128&d=identicon&r=PG&f=1", "display_name": "Mike.pm", "link": "https://stackoverflow.com/users/5470067/mike-pm"}, "is_accepted": false, "score": 4, "last_activity_date": 1445765410, "creation_date": 1445765410, "answer_id": 33328164, "question_id": 33328073, "link": "https://stackoverflow.com/questions/33328073/how-to-view-perl-script/33328164#33328164", "title": "How to view perl script", "body": "<p>If the Web server is configured properly you <strong>can't</strong> get source of this CGI script. You can view a source only if you have access to the hosting.</p>\n"}], "owner": {"reputation": 2630, "user_id": 4065269, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/90c9cd69a6663c31758d6cd6043dfcc3?s=128&d=identicon&r=PG&f=1", "display_name": "sps", "link": "https://stackoverflow.com/users/4065269/sps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445765410, "creation_date": 1445764739, "question_id": 33328073, "link": "https://stackoverflow.com/questions/33328073/how-to-view-perl-script", "title": "How to view perl script", "body": "<p>I have a <code>form</code> in html page, which has a perl script in <code>action=</code> field. I can see this by doing <code>view source</code> in the webpage in web browser.</p>\n\n<pre><code>&lt;form action=\"loginscript.pl\" method=\"post\"&gt;\n</code></pre>\n\n<p>I want to see what the script is doing, but I dont know how to  view the content of <code>loginscript.pl</code>. When I put the perl script in <code>url</code> (like <code>http://web.adress/loginscript.pl</code>) the script gets executed.  </p>\n\n<p>However I dont want to execute the script, I just want to see the script. How to view the script ? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1445763813, "post_id": 33327888, "comment_id": 54452934, "body": "you should use <code>strict</code> and <code>warnings</code>.<code>$count++</code> only will work. No need for <code>=</code>"}], "answers": [{"comments": [{"owner": {"reputation": 6457, "user_id": 3391549, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d57b4a09e70b34f4c51dd8fc0f44ca24?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/3391549/adrian"}, "edited": false, "score": 0, "creation_date": 1445764165, "post_id": 33327939, "comment_id": 54453028, "body": "After making this change and running my code again. I type in the file name, then there&#39;s a blank line and my program just stops. I press ctrl+C to quit and get an error saying that there&#39;s an illegal division by 0 at line 10 (which is the <code>print &quot;Average = &quot;, $total &#47; $count, &quot;\\n&quot;;</code> line. Do you know why this is?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1445764458, "post_id": 33327939, "comment_id": 54453092, "body": "Change <code>$line = &lt;&gt;</code> to <code>$line = &lt;IN&gt;</code> and use <code>chomp $line</code> to remove newlines"}, {"owner": {"reputation": 6457, "user_id": 3391549, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d57b4a09e70b34f4c51dd8fc0f44ca24?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/3391549/adrian"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1445764549, "post_id": 33327939, "comment_id": 54453114, "body": "@AruneshSingh Thank you. I realized that <code>$total &#47; $count</code> gives me a fraction instead of a numerical value...is there a way to change this?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1445764610, "post_id": 33327939, "comment_id": 54453130, "body": "you can use <a href=\"http://perldoc.perl.org/functions/int.html\" rel=\"nofollow noreferrer\">int</a> or floor or ceil based on your requirement."}, {"owner": {"reputation": 6457, "user_id": 3391549, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d57b4a09e70b34f4c51dd8fc0f44ca24?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/3391549/adrian"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1445764813, "post_id": 33327939, "comment_id": 54453185, "body": "@AruneshSingh what if I want to keep the decimals?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1445765064, "post_id": 33327939, "comment_id": 54453243, "body": "The result is already in decimals. I thought you wanted to remove decimals."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 2, "last_activity_date": 1445763904, "creation_date": 1445763904, "answer_id": 33327939, "question_id": 33327888, "link": "https://stackoverflow.com/questions/33327888/perl-averaging-numbers-in-a-file/33327939#33327939", "title": "Perl: averaging numbers in a file", "body": "<p>Just do <code>$count++</code>, no <code>=</code>. </p>\n\n<p>See <a href=\"http://perldoc.perl.org/perlop.html#Auto-increment-and-Auto-decrement\" rel=\"nofollow\">http://perldoc.perl.org/perlop.html#Auto-increment-and-Auto-decrement</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1445765645, "post_id": 33328044, "comment_id": 54453409, "body": "Check if count is 0 before dividing by it"}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": -1, "last_activity_date": 1445766088, "last_edit_date": 1445766088, "creation_date": 1445764542, "answer_id": 33328044, "question_id": 33327888, "link": "https://stackoverflow.com/questions/33327888/perl-averaging-numbers-in-a-file/33328044#33328044", "title": "Perl: averaging numbers in a file", "body": "<p>The ideal code for your problem should look like below:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nprint \"Enter file name to average \\n\";\nchomp( my $infile = &lt;&gt; );    #remove new line characters\nopen my $IN, '&lt;', $infile\n  or die \"unable to open file: $! \\n\"; #use 3 arg file open syntax\nmy $total = 0;\nmy $count = 0;\nwhile ( my $line = &lt;$IN&gt; ) {## you should use &lt;&gt;  on file handle\n    chomp $line;\n    next if ($line=~/^\\s*$/); #ignore blank lines\n    $total += $line;\n    $count++;\n}\n\nif($count &gt; 0){\n   print \"Average = \", $total / $count, \"\\n\";\n}\nelse{\n    print \"Average cannot be calculated Check if file is blank \\n\";\n}\nclose($IN);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1445798008, "creation_date": 1445798008, "answer_id": 33333427, "question_id": 33327888, "link": "https://stackoverflow.com/questions/33327888/perl-averaging-numbers-in-a-file/33333427#33333427", "title": "Perl: averaging numbers in a file", "body": "<p>No need of <code>=</code> after increment <code>$count++</code>. In simple way you can do like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $total = 0;\nmy $count = 0;\nwhile (&lt;&gt;)\n{\n    $total += $_;\n    $count++;\n}\nprint \"Average = \", $total/$count, \"\\n\";\n\n_____file.txt_____\n1\n2\n3\n3\n1\n</code></pre>\n\n<p>Execute you program as:</p>\n\n<pre><code>./scriptname file.txt\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Average = 2\n</code></pre>\n"}], "owner": {"reputation": 6457, "user_id": 3391549, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d57b4a09e70b34f4c51dd8fc0f44ca24?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/3391549/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 33328044, "answer_count": 3, "score": 0, "last_activity_date": 1445798392, "creation_date": 1445763555, "last_edit_date": 1445798392, "question_id": 33327888, "link": "https://stackoverflow.com/questions/33327888/perl-averaging-numbers-in-a-file", "title": "Perl: averaging numbers in a file", "body": "<p>I have a file where each line consists of a numerical value:</p>\n\n<pre><code>1\n2\n3\n3\n1\n</code></pre>\n\n<p>My function looks something like this:</p>\n\n<pre><code>print \"Enter file name to average \\n\";\n$infile = &lt;&gt;;\nopen IN, \"$infile\";\n$total = 0;\n$count =0;\nwhile (my $line = &lt;&gt;) {\n      $total +=$line;\n      $count ++=;\n}\nprint \"Average = \", $total / $count, \"\\n\";\nclose(IN);\n</code></pre>\n\n<p>But I'm getting an error at the <code>$count ++=;</code> line saying that there's a syntax error near \"+=;\". </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 1720, "user_id": 989659, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84d2d1476d96b093bd0f180412db2460?s=128&d=identicon&r=PG", "display_name": "Srgrn", "link": "https://stackoverflow.com/users/989659/srgrn"}, "is_accepted": true, "score": 3, "last_activity_date": 1445798275, "last_edit_date": 1445798275, "creation_date": 1445761530, "answer_id": 33327642, "question_id": 33327534, "link": "https://stackoverflow.com/questions/33327534/perl-iterating-over-lines-in-a-file/33327642#33327642", "title": "Perl: iterating over lines in a file", "body": "<p>The <code>$line</code> is empty when you try to give <code>$string1</code>.</p>\n\n<p>It can be something like:</p>\n\n<pre><code>print \"enter file name\\n\";\n$infile = &lt;&gt;;\nopen IN, \"$infile\";\n$string1 = &lt;IN&gt;; #store first line of file as $string1\nchomp($string1);\nwhile($line = &lt;IN&gt;){\n  chomp($line);\n  $string2 = $line+$string1;\n  print( $string2 . \"\\n\");\n}\n</code></pre>\n\n<p>The <code>chomp()</code> is in order to remove the line breaks from the strings.</p>\n"}], "owner": {"reputation": 6457, "user_id": 3391549, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d57b4a09e70b34f4c51dd8fc0f44ca24?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/3391549/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 0, "accepted_answer_id": 33327642, "answer_count": 1, "score": 0, "last_activity_date": 1445798275, "creation_date": 1445760590, "question_id": 33327534, "link": "https://stackoverflow.com/questions/33327534/perl-iterating-over-lines-in-a-file", "title": "Perl: iterating over lines in a file", "body": "<pre><code>print \"enter file name\\n\";\n$infile = &lt;&gt;;\nopen IN, \"$infile\";\n$string1 = $line; #store first line of file as $string1\nwhile($line = &lt;IN&gt;){\n  $string2 = string1 + $line;\n  print \"$string2\\n\";\n}\n</code></pre>\n\n<p>I'm trying to write a function that prompts the user to enter the name of a file, opens the file, stores the first line of the file as <code>$string1</code>. Then it iterates over the next lines in the file and adds <code>$string1</code> to each line and prints out the output. </p>\n\n<p>So if I had a file that contains</p>\n\n<pre><code>10\n5\n6\n7\n</code></pre>\n\n<p><code>$string1</code> should be 10. And the output should be:</p>\n\n<pre><code>15\n16\n17\n</code></pre>\n\n<p>My current program seems to only print the contents of my file instead of adding the first line to each of the other lines.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 3, "creation_date": 1445759926, "post_id": 33327309, "comment_id": 54452055, "body": "Rule of thumb: If you&#39;re using shell inside Perl, you&#39;re probably doing it wrong."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1445760591, "post_id": 33327309, "comment_id": 54452205, "body": "Do you want to append to the <i>line</i> or to the <i>file</i>?"}, {"owner": {"reputation": 19, "user_id": 4929101, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/39f38ef8716cfbd90233d01e258a0c14?s=128&d=identicon&r=PG&f=1", "display_name": "gettingthere", "link": "https://stackoverflow.com/users/4929101/gettingthere"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1445761188, "post_id": 33327309, "comment_id": 54452326, "body": "@Schwern I want to append to the line"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1445761358, "post_id": 33327309, "comment_id": 54452363, "body": "@gettingthere Oh, that&#39;s a little harder. Let me modify my answer."}], "answers": [{"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1445760797, "post_id": 33327512, "comment_id": 54452242, "body": "I think you need <code>rename $out_filename, $in_filename</code> at the end there. Also you&#39;re forgetting to check if your <code>open</code>s worked."}, {"owner": {"reputation": 791, "user_id": 4245519, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wxicC.png?s=128&g=1", "display_name": "Mark Smith", "link": "https://stackoverflow.com/users/4245519/mark-smith"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1445760842, "post_id": 33327512, "comment_id": 54452252, "body": "Indeed.  Incomplete example for explanation only :-)"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1445760949, "post_id": 33327512, "comment_id": 54452275, "body": "Without the <code>rename</code> this doesn&#39;t answer the question. And checking file operations is not something I&#39;d leave off an answer. This is obviously a new programmer and forgetting to check if <code>open</code> worked is a classic mistake."}, {"owner": {"reputation": 19, "user_id": 4929101, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/39f38ef8716cfbd90233d01e258a0c14?s=128&d=identicon&r=PG&f=1", "display_name": "gettingthere", "link": "https://stackoverflow.com/users/4929101/gettingthere"}, "edited": false, "score": 0, "creation_date": 1445761103, "post_id": 33327512, "comment_id": 54452308, "body": "@Mark what is &quot;$out_filename&quot;? I have a file im reading from and I want to edit that file, where does $out_filename come from?"}, {"owner": {"reputation": 791, "user_id": 4245519, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wxicC.png?s=128&g=1", "display_name": "Mark Smith", "link": "https://stackoverflow.com/users/4245519/mark-smith"}, "reply_to_user": {"reputation": 19, "user_id": 4929101, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/39f38ef8716cfbd90233d01e258a0c14?s=128&d=identicon&r=PG&f=1", "display_name": "gettingthere", "link": "https://stackoverflow.com/users/4929101/gettingthere"}, "edited": false, "score": 0, "creation_date": 1445761416, "post_id": 33327512, "comment_id": 54452375, "body": "@gettingthere You can&#39;t insert into the middle of a file, as far as I&#39;m aware.  My suggestion is that you read from the input file and write to a new file, then swap them around at the end."}], "tags": [], "owner": {"reputation": 791, "user_id": 4245519, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wxicC.png?s=128&g=1", "display_name": "Mark Smith", "link": "https://stackoverflow.com/users/4245519/mark-smith"}, "is_accepted": true, "score": 2, "last_activity_date": 1445761154, "last_edit_date": 1445761154, "creation_date": 1445760395, "answer_id": 33327512, "question_id": 33327309, "link": "https://stackoverflow.com/questions/33327309/change-line-in-textfile-using-perl/33327512#33327512", "title": "Change line in textfile using perl", "body": "<p>There are a few problems with your attempt.  The big one is that using <code>echo &gt;&gt; file</code> will append to the file, not insert at some arbitrary place inside the file.</p>\n\n<p>Another problem is that you're trying to append to a file called <code>$username_file</code>, and you haven't declared or defined that variable.</p>\n\n<p>I don't think perl lets you insert into the middle of a file.  I think your best bet would be to read the file a line at a time, and on the correct line(s), append the text you want.  Write each line to a new file, then swap the files around at the end.</p>\n\n<p>For example:</p>\n\n<pre><code>#!/usr/bin/perl\nmy $in_filename = \"in.txt\";\nmy $out_filename = \"out.txt\";\n\nopen (my $in, \"&lt;\", $in_filename) or die;\nopen (my $out, \"&gt;\", $out_filename) or die;\n\nwhile (my $lline = &lt;$in&gt;)\n{\n    chomp $lline;\n    if ( $lline =~ /listen/ )\n    {\n        print \"$lline whatever\\n\";\n    }\n    else\n    {\n       print \"$lline\\n\";\n    }\n } \n\nclose $in;\nclose $out;\n\nrename $in_filename, \"$in_filename.original\";\nrename $out_filename, $in_filename;\n</code></pre>\n\n<p>I use <code>chomp</code> to remove line endings, because <code>&lt;$in&gt;</code> gives us a line including its line endings, wish otherwise messes up the append.</p>\n\n<p>As always there are many ways to achieve this.  I think using <code>sed</code> is probably a better option for this, but you specifically asked how to do it in perl, so perl it is.</p>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 6, "last_activity_date": 1445762086, "last_edit_date": 1445762086, "creation_date": 1445760446, "answer_id": 33327516, "question_id": 33327309, "link": "https://stackoverflow.com/questions/33327309/change-line-in-textfile-using-perl/33327516#33327516", "title": "Change line in textfile using perl", "body": "<p>Working with files is not like editing in a word processor. Lines are an illusion, a file is just a big string of characters. You can't change a line in the middle of a file for the same reason you can't change a line in the middle of a book, the words can't be moved around to make room.</p>\n\n<p>Instead, like a book, if you want to change something you need to rewrite the whole thing.</p>\n\n<p>The basic algorithm is to...</p>\n\n<ol>\n<li>Open the file for reading.</li>\n<li>Open a temporary file for writing.</li>\n<li>Read a line, alter the line, write the line.</li>\n<li>Repeat 3 until done reading.</li>\n<li>Overwrite the file with the temp file.</li>\n</ol>\n\n<p>Some other notes...</p>\n\n<p><a href=\"http://perldoc.perl.org/functions/print.html\"><code>print</code></a> writes to STDOUT by default, but you can give it a filehandle to write to instead.</p>\n\n<p><code>foreach my $line (&lt;$fh&gt;)</code> is unfortunately not optimized to read files. It will read the possibly enormous file into memory. <code>while(my $line = &lt;$fh&gt;)</code> reads one line at a time.</p>\n\n<p>I've turned on <a href=\"http://perldoc.perl.org/strict.html\"><code>strict</code></a>. This forces you to declare your variables. It protects you from typos like the one you made of <code>$username_file</code> vs <code>$username_filename</code>.</p>\n\n<p>You could use something like <code>\"$filename.tmp\"</code> but <a href=\"http://metacpan.org/pod/File::Temp\">File::Temp</a> provides temp files that are guaranteed to be temporary, unique and cleaned up when the program exits.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse autodie;     # because writing 'or die' gets old fast\nuse File::Temp;  # provides safe temp files    \n\nmy $filename = ...; # set it somehow\n\nopen my $read, \"&lt;\", $filename;\nmy $temp = File::Temp-&gt;new;\n\nwhile(my $line = &lt;$read&gt;) {\n    if( $line =~ /^listen/ ) {\n        chomp $line;             # remove the newline\n        $line .= \" whatever\\n\";  # add our content and put a newline back\n    }\n\n    # Write the line to the temp file\n    print $temp $line;\n}\n\n# Overwrite our file with the rewritten temp file\nrename $temp-&gt;filename, $filename;\n</code></pre>\n\n<p>That's inside a program.  If you just want to do it quickly, you can do it on the command line with <code>-i</code> and <code>-p</code>.</p>\n\n<pre><code>perl -i.bak -pe 'if( /^listen/ ) { chomp; $_ .= \"whatever\" }' filename\n</code></pre>\n\n<p><code>-p</code> says to run the code on each line of the file. The line will be put into <code>$_</code> and whatever is in <code>$_</code> will be printed. <code>-i</code> says to edit the file in place. <code>-i.bak</code> makes a backup of the original file just in case you make a mistake.</p>\n"}], "owner": {"reputation": 19, "user_id": 4929101, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/39f38ef8716cfbd90233d01e258a0c14?s=128&d=identicon&r=PG&f=1", "display_name": "gettingthere", "link": "https://stackoverflow.com/users/4929101/gettingthere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 33327512, "answer_count": 2, "score": 1, "last_activity_date": 1445762086, "creation_date": 1445758399, "question_id": 33327309, "link": "https://stackoverflow.com/questions/33327309/change-line-in-textfile-using-perl", "title": "Change line in textfile using perl", "body": "<p>I read other places on how to do this but they were confusing for me.</p>\n\n<p>I want to read lines from a text file and when I come across a certain line I want to append something to it.</p>\n\n<p>My code is:</p>\n\n<pre><code> open my $p, \"$username_filename\" or die \"can not open $username_filename: $!\";\n\n foreach $line (&lt;$p&gt;){\n     if ($line =~ /^listen/){\n         `echo \"whatever\" &gt;&gt; $username_file`;\n     }\n }\n</code></pre>\n\n<p>However when I run this I get this error </p>\n\n<pre><code>sh: -c: line 0: syntax error near unexpected token `newline' sh: -c: line 0: `echo \"current_user\" &gt;&gt; '\n</code></pre>\n\n<p>Is this way correct to edit the file and why am I getting this error?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": true, "score": 1, "last_activity_date": 1445754150, "creation_date": 1445754150, "answer_id": 33326835, "question_id": 33326790, "link": "https://stackoverflow.com/questions/33326790/perl-using-regular-expression-to-find-patterns-in-a-file/33326835#33326835", "title": "Perl: using regular expression to find patterns in a file", "body": "<p>You need to put your regex in a while loop with the <code>/g</code> modifier:</p>\n\n<pre><code>print \"enter file name\\n\";\nchomp( my $filename = &lt;STDIN&gt; );\n\nopen my $fh, '&lt;', $filename or die \"Can't open $filename: $!\";\n\nwhile ( my $line = &lt;$fh&gt; ) {\n    while ( $line =~ /(\\d+)/g ) {\n        print \"$1\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6457, "user_id": 3391549, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d57b4a09e70b34f4c51dd8fc0f44ca24?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/3391549/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 33326835, "answer_count": 1, "score": 1, "last_activity_date": 1445754150, "creation_date": 1445753689, "question_id": 33326790, "link": "https://stackoverflow.com/questions/33326790/perl-using-regular-expression-to-find-patterns-in-a-file", "title": "Perl: using regular expression to find patterns in a file", "body": "<pre><code>print \"enter file name\\n\";\nopen (INFO, &lt;&gt;);\nwhile ($line = &lt;INFO&gt;){\n  if ($line =~ m/(\\d+)/) {\n  print \"$1 \\n\";\n  }\n}\n</code></pre>\n\n<p>I want to find any digits in my file and print them on separate lines. However, if my file contains something like:</p>\n\n<pre><code>Hi there 45661 apples bananas 3 yes no maybe 11111\n</code></pre>\n\n<p>Then my program only prints out 45661 and nothing else. How can I get it to print out</p>\n\n<pre><code>456661\n3\n1111\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445774263, "post_id": 33328983, "comment_id": 54455670, "body": "Whilst your points are right, that still doesn&#39;t return the desired result - this returns <code>6e:01:01:03</code> (Not that I&#39;m entirely sure what the OP is actually looking for, results wise)."}, {"owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445782672, "post_id": 33328983, "comment_id": 54458181, "body": "@Sobrique you&#39;re right, thanks. It was not completely clear what the OP needs from the question and I made some assumptions so I&#39;ve removed the code now."}], "tags": [], "owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "is_accepted": false, "score": 1, "last_activity_date": 1445787114, "last_edit_date": 1445787114, "creation_date": 1445771320, "answer_id": 33328983, "question_id": 33326608, "link": "https://stackoverflow.com/questions/33326608/ip-to-hexa-formatting/33328983#33328983", "title": "Ip to hexa formatting", "body": "<p>I'm not completely certain about the output you want, but there are a few issues with the code which I'll list below:</p>\n\n<ol>\n<li>The <code>$</code> in the function declaration is not required. It sets the function's <em>prototype</em> which most likely does not do what you think it does. See <a href=\"http://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"nofollow\"><code>perlsub</code></a> for details.</li>\n<li><code>$hexa_ip</code> should be declared before being used as good practice to prevent hard to find errors. Perhaps you meant <code>my $hexa_ip</code> instead of <code>my $result</code>? In any case, use <a href=\"http://perlmaven.com/strict\" rel=\"nofollow\"><code>use strict</code></a> at the start of the program to catch such errors.</li>\n<li><code>printf()</code> prints to screen and only returns a boolean. Look at <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow\"><code>sprintf</code></a> for the right function to use.</li>\n<li><code>join()</code> is not being used correctly. See <a href=\"http://perldoc.perl.org/functions/join.html\" rel=\"nofollow\"><code>join</code></a>.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1445789746, "post_id": 33331268, "comment_id": 54460698, "body": "I fixed a bug in my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1445789728, "last_edit_date": 1445789728, "creation_date": 1445785958, "answer_id": 33331268, "question_id": 33326608, "link": "https://stackoverflow.com/questions/33326608/ip-to-hexa-formatting/33331268#33331268", "title": "Ip to hexa formatting", "body": "<pre><code># 6e01:103\nsprintf \"%x:%x\",\n   unpack 'nn',\n      pack 'C4',\n         split /\\./,\n            '110.1.1.3'\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code># 6e:01:103\nsprintf \"%x:%x:%x\",\n   unpack 'CCn',\n      pack 'C4',\n         split /\\./,\n            '110.1.1.3'\n</code></pre>\n\n<p>The <code>sprintf</code> lines can be replaced with <code>join ':', map sprintf '%x',</code></p>\n"}], "owner": {"reputation": 11, "user_id": 5454024, "user_type": "registered", "profile_image": "https://graph.facebook.com/855560167832537/picture?type=large", "display_name": "Dhruv Bansal", "link": "https://stackoverflow.com/users/5454024/dhruv-bansal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1445789728, "creation_date": 1445751684, "question_id": 33326608, "link": "https://stackoverflow.com/questions/33326608/ip-to-hexa-formatting", "title": "Ip to hexa formatting", "body": "<p>i need to convert decimal ip to hexa value.\nexample:110.1.1.3 to 6e01:103.</p>\n\n<p>But by using below code i am getting it in 6e01103. I need it either 6e01:103 or 6e:01:103 format. And then need to concatenate with hexa value 64:ff9b::, my end output needd to be 64:ff9b::6e01:103. Kindly help me in this.</p>\n\n<pre><code>sub ip_hexa($){\nmy $ip = shift;\nmy @octets = split /\\./, $ip;\nmy $result; \nforeach (@octets){\n$hexa_ip = join\":\",printf(\"%02x\", \"$_\");\n} \nreturn $hexa_ip;\n}\n</code></pre>\n"}, {"tags": ["perl", "text-processing"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1445753625, "post_id": 33326571, "comment_id": 54450873, "body": "Are the lines always expected to be in the same order in files 1 and 2? Files 1 and 3"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1445754015, "post_id": 33326571, "comment_id": 54450955, "body": "Will any of the columns you are matching have duplicate values?"}, {"owner": {"reputation": 13, "user_id": 5344865, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3acbdc32357d06ab7f2fde1e23982fbe?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous2015", "link": "https://stackoverflow.com/users/5344865/anonymous2015"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1445754267, "post_id": 33326571, "comment_id": 54451010, "body": "Each row in all 3 files is unique, but there are some repeated values in the 2nd column of file 1 and in the 2nd and 3rd columns of file 2."}, {"owner": {"reputation": 13, "user_id": 5344865, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3acbdc32357d06ab7f2fde1e23982fbe?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous2015", "link": "https://stackoverflow.com/users/5344865/anonymous2015"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1445754403, "post_id": 33326571, "comment_id": 54451037, "body": "The lines in files 1 and 2 are in the same order, but not file 3."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445877477, "post_id": 33326571, "comment_id": 54497284, "body": "Cross posted: <a href=\"http://www.perlmonks.org/?node_id=1145998\" rel=\"nofollow noreferrer\">Perlmonks</a> and <a href=\"http://unix.stackexchange.com/questions/238462/compare-three-files-based-on-columns-using-perl\">Unix &amp; Linux</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5344865, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3acbdc32357d06ab7f2fde1e23982fbe?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous2015", "link": "https://stackoverflow.com/users/5344865/anonymous2015"}, "edited": false, "score": 0, "creation_date": 1445812853, "post_id": 33335483, "comment_id": 54468546, "body": "When I run this code, I get an error message: &quot;Odd number of elements in hash assignment at line 10.&quot;  Also, the columns in these files are separated by tabs."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 13, "user_id": 5344865, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3acbdc32357d06ab7f2fde1e23982fbe?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous2015", "link": "https://stackoverflow.com/users/5344865/anonymous2015"}, "edited": false, "score": 0, "creation_date": 1445846208, "post_id": 33335483, "comment_id": 54477521, "body": "OK. That means in your first file, you have an odd number of elements. It probably means your file one isn&#39;t just two words per line. This does work with the sample data you gave though. Tab shouldn&#39;t matter, as I am whitespace splitting. You can split on \\t instead though."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1445846744, "last_edit_date": 1445846744, "creation_date": 1445809740, "answer_id": 33335483, "question_id": 33326571, "link": "https://stackoverflow.com/questions/33326571/compare-three-files-based-on-columns-using-perl/33335483#33335483", "title": "Compare three files based on columns using Perl", "body": "<p>OK, looking at it - your problem is with that <code>split</code> - because by default, it splits on whitespace. Your second file has 3 fields by that yardstick, not two. </p>\n\n<p>But also - you're not actually crossreferecing the same things, so your <code>while ( &lt;&gt; ) {</code> loop isn't going to do the trick.</p>\n\n<ul>\n<li>In file 1 - you want to check for the <em>value</em>. </li>\n<li>In file2, you're checking the key (and appending the values).</li>\n<li>In file3, you have no value, just a key. </li>\n</ul>\n\n<p>So with that in mind:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\n#read file1 into a hash - but invert is it's value =&gt; key instead:\n#          'CKEIFJ' =&gt; 'cmr03lsp',\n# etc.  \nopen( my $file1, '&lt;', \"file1.txt\" ) or die $!;\nmy %file1_content = map { reverse split } &lt;$file1&gt;;\nclose($file1);\n\nprint Dumper \\%file1_content;\n\n#read file 2 - read keys, store the values. \n#split _2_ fields, so we keep both numbers as a substring:\n#e.g.:\n#          'cmr03lsp' =&gt; '60 70\n#',\n\nopen( my $file2, '&lt;', \"file2.txt\" ) or die $!;\nmy %file2_content = map { split( \" \", $_, 2 ) } &lt;$file2&gt;;\nclose($file2);\n\nprint Dumper \\%file2_content;    \n\n#then iterate file 3, checking if:\n#file1 has a matching 'key' (but inverted - as a value) \n#file2 has a cross reference. \nopen( my $file3, '&lt;', \"file3.txt\" ) or die $!;\nwhile ( my $line = &lt;$file3&gt; ) {\n    chomp $line;\n    if (    $file1_content{$line}\n        and $file2_content{ $file1_content{$line} } )\n    {\n        print\n            \"$file1_content{$line} $line $file2_content{$file1_content{$line}}\";\n    }\n}\nclose($file3);\n</code></pre>\n\n<p>This prints (excluding the \"dumper\" output):</p>\n\n<pre><code>fji01dde AIDJFMGKG 25 30\ncmr03lsp CKEIFJ 60 70\n</code></pre>\n\n<blockquote>\n  <p>When I run this code, I get an error message: \"Odd number of elements in hash assignment at line 10.\" Also, the columns in these files are separated by tabs. </p>\n</blockquote>\n\n<p>Not with that sample data you don't. But yes - if your first file has more than two words per line, this will happen. </p>\n\n<p>You can unroll that loop into a while loop:</p>\n\n<pre><code>while ( &lt;$file1&gt; ) { \n    my @fields = split; \n    warn \"Too many fields on line $. \\n\" if @fields &gt; 2; \n    $file1_data{$fields[1]} = $fields[0];\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5344865, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3acbdc32357d06ab7f2fde1e23982fbe?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous2015", "link": "https://stackoverflow.com/users/5344865/anonymous2015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445846744, "creation_date": 1445751259, "question_id": 33326571, "link": "https://stackoverflow.com/questions/33326571/compare-three-files-based-on-columns-using-perl", "title": "Compare three files based on columns using Perl", "body": "<p>I have three files, and I need to match the first column of file 1 to the first column of file 2 and then match the second column of file 1 with the first column of file 3.  </p>\n\n<p>file 1:<br>\nfji01dde AIDJFMGKG<br>\ndlp02sle VMCFIJGM<br>\ncmr03lsp CKEIFJ<br>\nand so on...  </p>\n\n<p>file 2:<br>\nfji01dde 25 30<br>\ndlp02sle 40 50<br>\ncmr03lsp 60 70<br>\nand so on...  </p>\n\n<p>file 3:<br>\nAIDJFMGKG<br>\nCKEIFJ  </p>\n\n<p>output needs to be:<br>\nfji01dde AIDJFMGKG 25 30<br>\ncmr03lsp CKEIFJ 60 70<br>\nand so on...  </p>\n\n<p>I only want lines that are common in all three files.  </p>\n\n<p>The below code results in the following output:<br>\nAIDJFMGKG<br>\nCKEIFJ<br>\nfji01dde 25<br>\ndlp02sle 40<br>\ncmr03lsp 60  </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nmy %data;\n\nwhile (&lt;&gt;) {  \n    my ( $key, $value ) = split;  \n    push( @{ $data{$key} }, $value );  \n}  \n\nforeach my $key ( sort keys %data ) {  \n    if ( @{ $data{$key} } &gt;= @ARGV ) {  \n    print join( \"\\t\", $key, @{ $data{$key} } ), \"\\n\";  \n    }  \n}\n</code></pre>\n\n<p>Any ideas? Thanks in advance!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "edited": false, "score": 1, "creation_date": 1445750110, "post_id": 33326429, "comment_id": 54450258, "body": "<a href=\"https://regex101.com/r/gT6vU5/13\" rel=\"nofollow noreferrer\">regex101.com/r/gT6vU5/13</a> ?????????/"}, {"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1445750110, "post_id": 33326429, "comment_id": 54450259, "body": "Your regex <i>should</i> match the full string.  Use regex 101 site to debug."}, {"owner": {"reputation": 11, "user_id": 5064367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7b17ad88b80d3de20de68180db81583?s=128&d=identicon&r=PG&f=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/5064367/yuvi"}, "edited": false, "score": 0, "creation_date": 1445750686, "post_id": 33326429, "comment_id": 54450341, "body": "but the perl i use in linux doesnt return the shortest match, i get the full match."}], "answers": [{"tags": [], "owner": {"reputation": 130, "user_id": 3142647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ee949824b31ad01991e1ea25551593d?s=128&d=identicon&r=PG&f=1", "display_name": "mestia", "link": "https://stackoverflow.com/users/3142647/mestia"}, "is_accepted": false, "score": 1, "last_activity_date": 1445758788, "creation_date": 1445758788, "answer_id": 33327352, "question_id": 33326429, "link": "https://stackoverflow.com/questions/33326429/extract-a-part-of-string-using-strict-pattern-match/33327352#33327352", "title": "Extract a part of string using strict pattern match", "body": "<p>As suggested by Tim Biegeleisen the regex should match the full line - that's why there is \".*\" to match everything before and after the pattern.</p>\n\n<pre><code>my $line ='DEP|DEP|DEP|DEP|DEP|DEP|DEP|DEP|FIN{-1|0|-1|14|67|0|0}|IT[{\"BON\"|1|0}|{\"RIG\"|55152|99|39|0}]|DEP|ADM[{001|14|60|60|0|0|2|0|1|0|0}|{100|144178|60|7|0|0|2|0|50|0|0}]|DEP}';\n$line =~ s/.*(IT\\[.*?}\\]).*/$1/g;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5064367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7b17ad88b80d3de20de68180db81583?s=128&d=identicon&r=PG&f=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/5064367/yuvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445758788, "creation_date": 1445749938, "last_edit_date": 1445749996, "question_id": 33326429, "link": "https://stackoverflow.com/questions/33326429/extract-a-part-of-string-using-strict-pattern-match", "title": "Extract a part of string using strict pattern match", "body": "<pre><code>DEP|DEP|DEP|DEP|DEP|DEP|DEP|DEP|FIN{-1|0|-1|14|67|0|0}|IT[{\"BON\"|1|0}|{\"RIG\"|55152|99|39|0}]|DEP|ADM[{001|14|60|60|0|0|2|0|1|0|0}|{100|144178|60|7|0|0|2|0|50|0|0}]|DEP}\n</code></pre>\n\n<p>how can i extract the below string </p>\n\n<pre><code>IT[{\"BON\"|1|0}|{\"RIG\"|55152|99|39|0}]\n</code></pre>\n\n<p>my regex <code>(.)IT\\\\[\\\\{(.*?)\\\\}\\\\]</code> returns the full string</p>\n\n<pre><code>IT[{\"BON\"|1|0}|{\"RIG\"|55152|99|39|0}]|DEP|ADM[{001|14|60|60|0|0|2|0|1|0|0}|{100|144178|60|7|0|0|2|0|50|0|0}]\n</code></pre>\n"}, {"tags": ["php", "perl", "web-services", "soap", "wsdl"], "answers": [{"comments": [{"owner": {"reputation": 2167, "user_id": 2237387, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f10bc46df3b1fa41b60201ac9af5da39?s=128&d=identicon&r=PG", "display_name": "cooldood3490", "link": "https://stackoverflow.com/users/2237387/cooldood3490"}, "edited": false, "score": 1, "creation_date": 1445876049, "post_id": 33328478, "comment_id": 54496336, "body": "thanks. I like this solution because there is a structure to the data being output that I was able to parse the <code>return</code> element/tag with Regex. LibXML is a good option too."}], "tags": [], "owner": {"reputation": 34038, "user_id": 1163786, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/276d28076b0fbe3facf0e0f481f06b69?s=128&d=identicon&r=PG", "display_name": "Jens A. Koch", "link": "https://stackoverflow.com/users/1163786/jens-a-koch"}, "is_accepted": true, "score": 1, "last_activity_date": 1445767746, "creation_date": 1445767746, "answer_id": 33328478, "question_id": 33324794, "link": "https://stackoverflow.com/questions/33324794/how-to-use-a-soap-api-for-perl/33328478#33328478", "title": "How to use a SOAP API for Perl?", "body": "<p>Your second scripts works, except the db2db part.\nMy guess is that the SOAP XML envelope send to the server is not in a good shape, when sending with SOAP::LITE.</p>\n\n<p>I've enabled debugging on the second line:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse SOAP::Lite +trace =&gt;'debug';\n#use SOAP::Lite;\n\nmy $client = SOAP::Lite-&gt;service('http://biodbnet.abcc.ncifcrf.gov/webServices/bioDBnet.wsdl');\n\n$inputs = $client-&gt;getInputs();\nprint $inputs;\n\n$input = \"Gene Symbol\";\n$outputs = $client-&gt;getOutputsForInput($input);\nprint $outputs;\n\n$dirOutputs = $client-&gt;getDirectOutputsForInput($input);\nprint $dirOutputs;\n</code></pre>\n\n<p>.. From your Attempt 2:</p>\n\n<pre><code># doesn't work, the created XML envelope is not in a good shape\nmy %db2dbParams;\n$db2dbParams{'input'} = \"Gene Symbol\";\n$db2dbParams{'outputs'} = \"Gene ID, Ensembl Gene ID\";\n$db2dbParams{'inputValues'} = \"MYC,A1BG\";\n$db2dbParams{'taxonId'} = \"9606\";\n$db2dbRes = $client-&gt;db2db(%db2dbParams);\nprint $db2dbRes;\n</code></pre>\n\n<p>.. I also tried to rewrite this using SOAP:Data...but failed.</p>\n\n<pre><code># doesn't work, the created XML envelope is not in a good shape    \n$db2dbRes = $client-&gt;db2db(\n    SOAP::Data-&gt;name(\"db2dbParams\")-&gt;type(\"ns1:db2dbParams\")-&gt;prefix(\"ns1:db2db\")-&gt;uri(\"urn:bioDBnet\") =&gt;\n        SOAP::Data-&gt;type(\"string\")-&gt;name(\"input\" =&gt; \"Gene Symbol\"),\n        SOAP::Data-&gt;type(\"string\")-&gt;name(\"inputValues\" =&gt; \"MYC,MTOR\"),\n        SOAP::Data-&gt;type(\"string\")-&gt;name(\"outputs\" =&gt; \"Gene ID, Affy ID\"),\n        SOAP::Data-&gt;type(\"string\")-&gt;name(\"taxonId\" =&gt; \"9606\")\n);\nprint $db2dbRes;\n</code></pre>\n\n<hr>\n\n<p>Switched over to PHP to see a working request.\nI've enabled debugging on the PHP script to print the request headers\nand fetch the working XML request done from PHP and reuse it as POST content from PERL. Basically, by adding the trace parameter on the SoapClient and then dumping the last reqeust headers.</p>\n\n<pre><code>&lt;?php\n\n$wsdl = \"http://biodbnet.abcc.ncifcrf.gov/webServices/bioDBnet.wsdl\";\n\n$client = new SoapClient($wsdl, ['trace' =&gt; 1]);\n\n$inputs = $client-&gt;getInputs();\nprint $inputs;\n\n$input = \"Gene Symbol\";\n$outputs = $client-&gt;getOutputsForInput($input);\nprint $outputs;\n\n$dirOutputs = $client-&gt;getDirectOutputsForInput($input);\nprint $dirOutputs;\n\n$db2dbParams['input'] = \"Gene Symbol\";\n$db2dbParams['outputs'] = \"Gene ID, Ensembl Gene ID\";\n$db2dbParams['inputValues'] = \"MYC,A1BG\";\n$db2dbParams['taxonId'] = \"9606\";\n\n$db2dbRes = $client-&gt;db2db($db2dbParams);\nprint $db2dbRes;\n\necho \"====== REQUEST HEADERS =====\" . PHP_EOL;\nvar_dump($client-&gt;__getLastRequestHeaders());\necho \"========= REQUEST ==========\" . PHP_EOL;\nvar_dump($client-&gt;__getLastRequest());\necho \"========= RESPONSE =========\" . PHP_EOL;\nvar_dump($db2dbRes);\n</code></pre>\n\n<p>This prints headers together with XML and the expected output is:</p>\n\n<pre><code>Gene Symbol     Gene ID Ensembl Gene ID\nMYC     4609    ENSG00000136997\nA1BG    1       ENSG00000121410\n</code></pre>\n\n<p>I'm included the \"working\" XML request data into $message and do a POST request.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\n\nuse LWP::UserAgent;\nuse HTTP::Request;\n\nmy $message = '&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"\nxmlns:ns1=\"urn:bioDBnet\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\"\nSOAP-ENV:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"&gt;\n  &lt;SOAP-ENV:Body&gt;\n    &lt;ns1:db2db&gt;\n      &lt;db2dbParams xsi:type=\"ns1:db2dbParams\"&gt;\n        &lt;input xsi:type=\"xsd:string\"&gt;Gene Symbol&lt;/input&gt;\n        &lt;taxonId xsi:type=\"xsd:string\"&gt;9606&lt;/taxonId&gt;\n        &lt;inputValues xsi:type=\"xsd:string\"&gt;MYC,A1BG&lt;/inputValues&gt;\n        &lt;outputs xsi:type=\"xsd:string\"&gt;Gene ID, Ensembl Gene ID&lt;/outputs&gt;\n      &lt;/db2dbParams&gt;\n    &lt;/ns1:db2db&gt;\n  &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;';\n\nmy $userAgent = LWP::UserAgent-&gt;new();\nmy $request = HTTP::Request-&gt;new(POST =&gt; 'http://biodbnet.abcc.ncifcrf.gov/webServices/biodbnetSoapServer.php'); # ?debug=1\n$request-&gt;content($message);\n$request-&gt;content_type(\"text/xml; charset=utf-8\");\nmy $response = $userAgent-&gt;request($request);\n\nif($response-&gt;code == 200) {\n    print $response-&gt;as_string;\n}\nelse {\n    print $response-&gt;error_as_HTML;\n}\n</code></pre>\n\n<p>Finally: next to header output we finally got some data:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"\nxmlns:ns1=\"http://biodbnet.abcc.ncifcrf.gov/webServices/bioDBnet\"\nxmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\"\nSOAP-ENV:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"&gt;\n  &lt;SOAP-ENV:Body&gt;\n    &lt;ns1:db2dbResponse&gt;\n      &lt;return xsi:type=\"xsd:string\"&gt;Gene Symbol Gene ID Ensembl Gene ID\n        MYC 4609 ENSG00000136997 A1BG 1 ENSG00000121410\n      &lt;/return&gt;\n    &lt;/ns1:db2dbResponse&gt;\n  &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n\n<p>Now, all you need to do is to extract the <code>return</code> element inside the <code>ns1:db2dbResponse</code> from <code>$response-&gt;as_string</code> (probably using LibXML).</p>\n\n<p>In other words: this bypasses SOAP::Lite and uses LWP and a simply POST request with XML, the parsing the XML response. You lose the automatical extraction and have to handle return data manually.</p>\n"}, {"comments": [{"owner": {"reputation": 34038, "user_id": 1163786, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/276d28076b0fbe3facf0e0f481f06b69?s=128&d=identicon&r=PG", "display_name": "Jens A. Koch", "link": "https://stackoverflow.com/users/1163786/jens-a-koch"}, "edited": false, "score": 1, "creation_date": 1445878461, "post_id": 33347445, "comment_id": 54497952, "body": "Ah, the trick is to avoid the service method and use proxy instead.. +1"}], "tags": [], "owner": {"reputation": 41, "user_id": 5435872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a6106925371c3e549175e6e99a5436?s=128&d=identicon&r=PG&f=1", "display_name": "rahed h", "link": "https://stackoverflow.com/users/5435872/rahed-h"}, "is_accepted": false, "score": 3, "last_activity_date": 1445867484, "creation_date": 1445867484, "answer_id": 33347445, "question_id": 33324794, "link": "https://stackoverflow.com/questions/33324794/how-to-use-a-soap-api-for-perl/33347445#33347445", "title": "How to use a SOAP API for Perl?", "body": "<p>Don't use a SOAP::Lite service method, mostly it doesn't work.\nBuild the soap structure manually. I tried to follow the php xml as much as possible, though most of prefixes is not necessary.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\nuse SOAP::Lite;\n#use SOAP::Lite +trace=&gt;'all';\n\n$uri = 'urn:bioDBnet';\n$proxy = 'http://biodbnet.abcc.ncifcrf.gov/webServices/biodbnetSoapServer.php';\n$tns = 'urn:bioDBnet';\n$soap = SOAP::Lite-&gt;new(uri =&gt; $uri,proxy =&gt; $proxy);\n$soap-&gt;envprefix('SOAP-ENV');\n$soap-&gt;encprefix('SOAP-ENC');\n$soap-&gt;ns($tns,'tns1');\n$soap-&gt;on_action(sub{$tns.'#db2db'});\n@request = (SOAP::Data-&gt;name(db2dbParams =&gt; \\SOAP::Data-&gt;value(\n  SOAP::Data-&gt;name(input =&gt; 'Gene Symbol'),\n  SOAP::Data-&gt;name(outputs =&gt; 'Gene ID, Ensembl Gene ID'),\n  SOAP::Data-&gt;name(inputValues =&gt; 'MYC,A1BG'),\n  SOAP::Data-&gt;name(taxonId =&gt; 9606),\n   ))-&gt;type('ns1:db2dbParams'),\n );\n $db2db = $soap-&gt;db2db(@request);\n if ($match = $db2db-&gt;match('/Envelope/Body/db2dbResponse')) {\n  print \"match ok: $match\\n\";\n  $result = $db2db-&gt;result;\n  print Dumper($result);\n} else {\n print \"match nok: $match\\n\";\n}\n</code></pre>\n\n<p>This produces the required output from the server.             </p>\n"}], "owner": {"reputation": 2167, "user_id": 2237387, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f10bc46df3b1fa41b60201ac9af5da39?s=128&d=identicon&r=PG", "display_name": "cooldood3490", "link": "https://stackoverflow.com/users/2237387/cooldood3490"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1313, "favorite_count": 0, "accepted_answer_id": 33328478, "answer_count": 2, "score": 1, "last_activity_date": 1445867484, "creation_date": 1445732423, "question_id": 33324794, "link": "https://stackoverflow.com/questions/33324794/how-to-use-a-soap-api-for-perl", "title": "How to use a SOAP API for Perl?", "body": "<p>I'm trying to adapt the following <a href=\"http://biodbnet.abcc.ncifcrf.gov/webServices/SoapSampleCode.php\" rel=\"nofollow\">PHP code</a> in Perl. It's a bioDBnet SOAP API. I tried following the example on the <a href=\"http://search.cpan.org/~swalters/SOAP-WSDL-3.003/lib/SOAP\" rel=\"nofollow\">SOAP::WSDL</a> module (under SYNOPSIS) but it doesn't connect. I get an error message:</p>\n\n<p>ATTEMPT 1</p>\n\n<pre><code>#!perl -w\nuse SOAP::WSDL;\n\nmy $client = SOAP::WSDL-&gt;new(\n    wsdl =&gt; \"http://biodbnet.abcc.ncifcrf.gov/webServices/bioDBnet.wsdl\",\n);\n</code></pre>\n\n<p>Error message: <code>cannot import document for namespace &gt;http://schemas.xmlsoap.org/soap/encoding/&lt; without location at /Library/Perl/5.16/SOAP/WSDL/Expat/WSDLParser.pm line 90.</code></p>\n\n<p>ATTEMPT 2</p>\n\n<p>Next I tried using the SOAP::LITE module. I followed the sample code from <a href=\"http://guide.soaplite.com/#access%20with%20service%20description%20%28wsdl%29\" rel=\"nofollow\">HERE</a> (under 6.b. client).</p>\n\n<pre><code>#!perl -w\nuse SOAP::Lite;\n\nmy $client = SOAP::Lite -&gt; \n    service('http://biodbnet.abcc.ncifcrf.gov/webServices/bioDBnet.wsdl');\n\nmy %db2dbParams;\n\n$db2dbParams{'input'} = \"Gene Symbol\";\n$db2dbParams{'outputs'} = \"Gene ID, Ensembl Gene ID\";\n$db2dbParams{'inputValues'} = \"MYC,A1BG\";\n$db2dbParams{'taxonId'} = \"9606\";\n\n$db2dbRes = $client-&gt;db2db(%db2dbParams);\nprint $db2dbRes;\n</code></pre>\n\n<p>The code above doesn't print anything. How do I get the bioDBnet SOAP API to work for Perl?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6457, "user_id": 3391549, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d57b4a09e70b34f4c51dd8fc0f44ca24?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/3391549/adrian"}, "edited": false, "score": 0, "creation_date": 1445727055, "post_id": 33324170, "comment_id": 54445996, "body": "I&#39;m new to perl so I don&#39;t know why actually. How can I store it as just an integer?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1445732652, "post_id": 33324170, "comment_id": 54447312, "body": "It&#39;s difficult to help you as I don&#39;t understand why you&#39;re copying the value in <code>$line</code> to an array. Can you explain your thinking there please?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1445732577, "post_id": 33324197, "comment_id": 54447297, "body": "<code>@val</code> is <i>not</i> a list -- it&#39;s an array. You may think that&#39;s a pedantic point, but in fact it&#39;s crucial to a proper understanding of Perl. Take a look at <a href=\"http://perldoc.perl.org/5.8.9/perlfaq4.html#What-is-the-difference-between-a-list-and-an-array%3f\" rel=\"nofollow noreferrer\"><b><i>What is the difference between a list and an array?</i></b></a> in <code>perlfaq4</code>"}, {"owner": {"reputation": 3593, "user_id": 5280543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ea2c2b205d1c4b331bbc78720115121?s=128&d=identicon&r=PG", "display_name": "Michael Albers", "link": "https://stackoverflow.com/users/5280543/michael-albers"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1445732704, "post_id": 33324197, "comment_id": 54447319, "body": "@Borodin I&#39;ve updated the post. For the purposes of this question the distinction isn&#39;t that important as the OP didn&#39;t know the difference between a scalar and non-scalar."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1445732817, "post_id": 33324197, "comment_id": 54447350, "body": "On the contrary, the distinction is <i>always critical</i>. Especially for new learners, it&#39;s vital to tell the same story all the time"}], "tags": [], "owner": {"reputation": 3593, "user_id": 5280543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ea2c2b205d1c4b331bbc78720115121?s=128&d=identicon&r=PG", "display_name": "Michael Albers", "link": "https://stackoverflow.com/users/5280543/michael-albers"}, "is_accepted": false, "score": -1, "last_activity_date": 1445732650, "last_edit_date": 1445732650, "creation_date": 1445727104, "answer_id": 33324197, "question_id": 33324170, "link": "https://stackoverflow.com/questions/33324170/perl-iterating-values-in-for-loop/33324197#33324197", "title": "Perl: iterating values in for loop", "body": "<p>The problem is that you're storing your value in an array (<code>@val</code>). When you use that array in a scalar context (the math in the for loop) you just get the number of elements in the array. In your case 1. Change <code>@val</code> to <code>$val</code> or just use <code>$line</code> directly.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1445733259, "creation_date": 1445733259, "answer_id": 33324876, "question_id": 33324170, "link": "https://stackoverflow.com/questions/33324170/perl-iterating-values-in-for-loop/33324876#33324876", "title": "Perl: iterating values in for loop", "body": "<p>As I wrote in my comment, I can't imagine what you were trying to achieve by copying the value of <code>$line</code> to array <code>@val</code>. There are also a number of other points that I would like to make</p>\n\n<ul>\n<li><p>You must always</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n</code></pre>\n\n<p>at the start of all your Perl programs. You will then have to declare all of your variables with <code>my</code>, and it will alert you to many simple errors that you may otherwise overlook</p></li>\n<li><p>The C-style <code>for</code> loop is rarely useful in Perl. It is usually best to iterate over a simple list. In your program that would be</p>\n\n<pre><code>for my $i ( 1 .. 10 ) {\n    ...\n}\n</code></pre></li>\n</ul>\n\n<p>So putting all that together, your program looks like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nprint \"Input value\\n\";\nmy $val = &lt;&gt;;\nchomp $val;\n\nfor my $i ( 1 .. 10 ) {\n  print -$val * $i;\n}\n</code></pre>\n\n<p>It's also worth pointing out that, when the contents of the <code>for</code> loop is just a single statement like this, you can use <code>for</code> as a statement modifier and write just</p>\n\n<pre><code>print -$val * $_ for 1 .. 10;\n</code></pre>\n"}], "owner": {"reputation": 6457, "user_id": 3391549, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d57b4a09e70b34f4c51dd8fc0f44ca24?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/3391549/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 33324876, "answer_count": 2, "score": 0, "last_activity_date": 1445733259, "creation_date": 1445726845, "question_id": 33324170, "link": "https://stackoverflow.com/questions/33324170/perl-iterating-values-in-for-loop", "title": "Perl: iterating values in for loop", "body": "<pre><code>print \"Input value \\n\";\n$line = &lt;&gt;;\nchomp $line;\n@val = $line;\n\nfor ($i = 1; $i &lt;= 10; $i++){\n  print -@val* $i;\n}\n</code></pre>\n\n<p>I have a simple for loop here where the user enters a value that I store into the <code>@val</code>, and I want my loop to iterate from 1 to 10 and print out the value of <code>-@val * $i</code>. Suppose my <code>@val = 2</code>, then I should see the output: -2 -4 -6 - 8 ... -20. But my actual output is: -1 -2 ... -10. What went wrong?</p>\n"}, {"tags": ["perl", "shell", "command-line", "ssh", "grep"], "comments": [{"owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 0, "creation_date": 1445722620, "post_id": 33323596, "comment_id": 54444826, "body": "No need to write any code for this - just use xargs."}], "answers": [{"tags": [], "owner": {"reputation": 3593, "user_id": 5280543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ea2c2b205d1c4b331bbc78720115121?s=128&d=identicon&r=PG", "display_name": "Michael Albers", "link": "https://stackoverflow.com/users/5280543/michael-albers"}, "is_accepted": true, "score": 2, "last_activity_date": 1445748471, "last_edit_date": 1445748471, "creation_date": 1445722591, "answer_id": 33323634, "question_id": 33323596, "link": "https://stackoverflow.com/questions/33323596/how-to-grep-over-1-million-files/33323634#33323634", "title": "How to grep over 1 million files?", "body": "<p>Try <code>ls | xargs grep httpsfile</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 3241, "user_id": 781162, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/440977e8e1ca487a0979daf9c975ed3e?s=128&d=identicon&r=PG", "display_name": "Eugene K", "link": "https://stackoverflow.com/users/781162/eugene-k"}, "is_accepted": false, "score": 2, "last_activity_date": 1445722616, "creation_date": 1445722616, "answer_id": 33323638, "question_id": 33323596, "link": "https://stackoverflow.com/questions/33323596/how-to-grep-over-1-million-files/33323638#33323638", "title": "How to grep over 1 million files?", "body": "<p>Just change <code>*</code> to <code>./</code> or, whatever is the root directory that contains the 1 million files. You might need to add <code>-r</code> as well to make grep recursive and look into nested directories.</p>\n\n<p><code>*</code> in the shell expands out into all the files.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1445748525, "post_id": 33323679, "comment_id": 54450044, "body": "As one (bash) line: <code>parallel -a &lt;( ls ) --xargs -s 100 grep &#39;httpsfile&#39;</code>"}], "tags": [], "owner": {"reputation": 8145, "user_id": 1431244, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/21b31222e990b631fee5484a7115a991?s=128&d=identicon&r=PG", "display_name": "Oliver Dain", "link": "https://stackoverflow.com/users/1431244/oliver-dain"}, "is_accepted": false, "score": 3, "last_activity_date": 1445722895, "creation_date": 1445722895, "answer_id": 33323679, "question_id": 33323596, "link": "https://stackoverflow.com/questions/33323596/how-to-grep-over-1-million-files/33323679#33323679", "title": "How to grep over 1 million files?", "body": "<p>You can do it in parallel if you want:</p>\n\n<pre><code>ls &gt; /tmp/files\nparallel -a /tmp/files --xargs -s 100 grep 'httpsfile'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26822, "user_id": 211665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2254b.png?s=128&g=1", "display_name": "jlliagre", "link": "https://stackoverflow.com/users/211665/jlliagre"}, "is_accepted": false, "score": 3, "last_activity_date": 1445754864, "last_edit_date": 1492086991, "creation_date": 1445724655, "answer_id": 33323903, "question_id": 33323596, "link": "https://stackoverflow.com/questions/33323596/how-to-grep-over-1-million-files/33323903#33323903", "title": "How to grep over 1 million files?", "body": "<p>Unless you have a lot of RAM and your on million files are already in the buffer cache, parallelizing won't be of any help given the fact the operation will be I/O bound so here is the fastest still portable (POSIX) way:</p>\n\n<pre><code>find . -exec grep httpsfile {} + &gt; grepped.txt\n</code></pre>\n\n<p>Note that unlike the accepted answer solution, using <code>find</code> won't fail with oddly named files. Have a look to <a href=\"https://unix.stackexchange.com/questions/128985/why-not-parse-ls\">https://unix.stackexchange.com/questions/128985/why-not-parse-ls</a></p>\n"}], "owner": {"reputation": 81, "user_id": 4771390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/444702976f6747f75b5e82103d4e48f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4771390/jamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 33323634, "answer_count": 4, "score": 0, "last_activity_date": 1445754864, "creation_date": 1445722363, "question_id": 33323596, "link": "https://stackoverflow.com/questions/33323596/how-to-grep-over-1-million-files", "title": "How to grep over 1 million files?", "body": "<p>I need to grep about 1 million files.  If there's a better way to do this, let me know.  I was thinking there may be a faster way to do it in perl.</p>\n\n<p>What I'm trying to do is export every line that contains the text <code>httpsfile</code> in it.</p>\n\n<p>Here's what I'm trying to run:</p>\n\n<pre><code>grep 'httpsfile' * &gt;&gt; grepped.txt\n</code></pre>\n\n<p>Here's the error I'm getting:</p>\n\n<pre><code>-bash: /bin/grep: Argument list too long\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1445710873, "post_id": 33321653, "comment_id": 54441157, "body": "You should probably lose both <code>x</code>&#39;s.  You should put a semicolon after the array line.  Then you probably want a random number in the range 0..6 (you&#39;ll need to convert it to an interger), and you&#39;ll use that as an index into your array.  <code>perldoc -f rand</code> should tell you how <code>rand</code> works.  There are endless ways to loop 50 times (well, there are a large number of such ways, but they all come to an end after the fiftieth iteration)."}], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 5, "last_activity_date": 1445710796, "creation_date": 1445710796, "answer_id": 33321711, "question_id": 33321653, "link": "https://stackoverflow.com/questions/33321653/looping-perl-array/33321711#33321711", "title": "Looping Perl Array", "body": "<p>You can use the <code>shuffle</code> function from <a href=\"http://perldoc.perl.org/List/Util.html\">List::Util</a> to randomly sort the elements of your array:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse List::Util qw(shuffle);\n\nmy @array = (\"O\", \"I\", \"S\", \"Z\", \"L\", \"J\", \"T\");\nfor (1..5) {\n    print join ' ', shuffle(@array), \"\\n\";\n}\n\n__END__\n\nT J Z O S I L \nL Z I O S J T \nI O J Z T S L \nJ O I Z L S T \nO I Z T S J L \n</code></pre>\n"}], "owner": {"reputation": 1485, "user_id": 5388516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/96fff619864c3ebb7654eb98bd945b43?s=128&d=identicon&r=PG&f=1", "display_name": "13aal", "link": "https://stackoverflow.com/users/5388516/13aal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 33321711, "answer_count": 1, "score": 2, "last_activity_date": 1601814499, "creation_date": 1445710419, "last_edit_date": 1601814499, "question_id": 33321653, "link": "https://stackoverflow.com/questions/33321653/looping-perl-array", "title": "Looping Perl Array", "body": "<p>I'm creating a little program that takes an array and returns it randomly, problem being I'm not sure I understand how to return an array randomly sorted in Perl. I want this array to return randomly 50 times:</p>\n<pre><code> x @array = (&quot;O&quot;, &quot;I&quot;, &quot;S&quot;, &quot;Z&quot;, &quot;L&quot;, &quot;J&quot;, &quot;T&quot;)\n print x @array = rand(@array);\n</code></pre>\n<p>As you can see I've tried a rand function, but it gives me this error on the output:</p>\n<blockquote>\n<p>Array found where operator expected at random.pl lone 1, at end of     line syntax error at random.pl line 1, near &quot;x@array&quot; Execution of\nrandom.pl aborted due to compilation errors.</p>\n</blockquote>\n<p>If anybody could help me, it would be greatly appreciated.</p>\n"}, {"tags": ["perl", "process", "fork"], "answers": [{"comments": [{"owner": {"reputation": 664, "user_id": 3909192, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d10ef479a5d668b1a42f1423104bb5de?s=128&d=identicon&r=PG&f=1", "display_name": "PeterT", "link": "https://stackoverflow.com/users/3909192/petert"}, "edited": false, "score": 0, "creation_date": 1445712923, "post_id": 33322002, "comment_id": 54441932, "body": "Oh, goodness, you are correct. I changed == 0 to != 0 in the handler and the loop and everything is fine. Thank you. Should I delete this post?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 664, "user_id": 3909192, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d10ef479a5d668b1a42f1423104bb5de?s=128&d=identicon&r=PG&f=1", "display_name": "PeterT", "link": "https://stackoverflow.com/users/3909192/petert"}, "edited": false, "score": 0, "creation_date": 1445712966, "post_id": 33322002, "comment_id": 54441939, "body": "I don&#39;t see that&#39;s necessary - it&#39;s a reasonable question, and may be useful to future readers."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1445712453, "creation_date": 1445712453, "answer_id": 33322002, "question_id": 33321555, "link": "https://stackoverflow.com/questions/33321555/perl-kill-child-process-also-exits-parent/33322002#33322002", "title": "Perl kill child process also exits parent?", "body": "<p>I think there's a logic error here - when you <code>fork()</code> what happens is two bits of code branch - and the <em>only</em> difference at that point is that the child process has a return code from <a href=\"http://perldoc.perl.org/functions/fork.html\" rel=\"nofollow\"><code>fork()</code></a> of zero, and he <em>parent</em> has a return code of <code>$pid</code>. </p>\n\n<blockquote>\n  <p>It returns the child pid to the parent process, 0 to the child process, or undef if the fork is unsuccessful.</p>\n</blockquote>\n\n<p>So I think your logic is backwards when you test:</p>\n\n<pre><code>elsif ($pid == 0) {\n    print \"Parent\\n\";\n}\n</code></pre>\n\n<p>It's actually your <em>parent</em> that's entering that while loop, and your child process that's still reading stdin on a while loop. </p>\n\n<p>And I Think that's why you're having a problem - because the child is picking up the <code>stop_trace</code> and issuing <code>kill \"TERM\", 0</code> rather than the child pid it <em>should</em> be killing. </p>\n\n<p>I'm not actually entirely sure what <em>should</em> be happening when you kill pid 0. But by the looks of it - it's signalling both processes anyway.</p>\n\n<p>And you have the same logic error in your signal handler - your parent is killed, because it has <code>$pid</code> set to <code>0</code>. I'm not 100% sure why that's causing your child to exit though - are you sure it actually is, and you're not accumulating stale processes sitting in <code>while(1)</code> with a closed <code>STDIN</code>?  </p>\n\n<p>Easy enough to check though - stick a <code>print \"$$: killing child with pid $pid\\n\";</code> in that <code>stop_trace</code> branch.  </p>\n\n<p>Oh - and <code>fork</code> in perl returns <code>undef</code> not <code>-1</code> if it failed. </p>\n"}], "owner": {"reputation": 664, "user_id": 3909192, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d10ef479a5d668b1a42f1423104bb5de?s=128&d=identicon&r=PG&f=1", "display_name": "PeterT", "link": "https://stackoverflow.com/users/3909192/petert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1112, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1445712453, "creation_date": 1445709842, "question_id": 33321555, "link": "https://stackoverflow.com/questions/33321555/perl-kill-child-process-also-exits-parent", "title": "Perl kill child process also exits parent?", "body": "<p>I'm writing an emulation stub in PERL to test another program. Below, the code runs a loop that checks for commands (initialize, exit, start_trace, stop_trace). When the \"start_trace\" command is read, it forks a process that just spits out numbers every second. I want to use \"stop_trace\" to kill the child, but it kills the parent, too. What am I missing?</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $pid = undef;\n\n$| = 1;\n\n$SIG{TERM} = sub { \n    if ($pid == 0) {\n        print \"Parent, not terminating\\n\";\n    } else {\n        print \"Child ($pid) terminating\\n\"; \n        exit(1);\n    }\n};\n\n\nprint \"entering loop\\n\";\nwhile (1) {\n    while (&lt;&gt;) {\n        my ($command, @args) = split();\n        if ($command eq \"exit\") {\n            exit 1;\n        }\n        elsif ($command eq \"initialize\") {\n            print \"s: ok\\n\";\n        }\n        elsif ($command eq \"start_trace\") {\n            if (defined $pid) {\n                print \"child already running\\n\";\n            } else {\n                $pid = fork();\n                if ($pid == -1) {\n                    print \"failed to fork\\n\";\n                    exit 1;\n                }\n                elsif ($pid == 0) {\n                    print \"Parent\\n\";\n                }\n                else {\n                    my $timestamp = 0;\n                    while (1) {\n                        for (my $i = 0; $i &lt; 12; ++$i) {\n                            printf \"%.3f %.0f %.2f %.1f\\n\", \n                                ++$timestamp,\n                                0,\n                                0,\n                                100 * rand()\n                            ;\n                        }\n                        sleep(1);\n                    }\n                }\n            }\n        }\n        elsif ($command eq \"stop_trace\") {\n            kill \"TERM\", $pid;\n            #waitpid($pid, 0);\n            $pid = undef;\n        }\n        else {\n            printf \"s: unknown command $command\\n\";\n        }\n    }\n}\n</code></pre>\n\n<p>Output (not stdin &amp; stdout are all mixed together, but I'm typing \"stop_trace\")</p>\n\n<pre><code>stop85.000 0 0.00 66.6\n86.000 0 0.00 43.3\n87.000 0 0.00 82.3\n88.000 0 0.00 62.8\n89.000 0 0.00 43.5\n90.000 0 0.00 50.0\n91.000 0 0.00 8.8\n92.000 0 0.00 89.3\n93.000 0 0.00 61.4\n94.000 0 0.00 92.4\n95.000 0 0.00 46.6\n96.000 0 0.00 53.9\n_trace\nChild (26644) terminating\nParent, not terminating\n%\n</code></pre>\n\n<p>But they both exited! Why?</p>\n"}, {"tags": ["perl", "sed"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445714714, "post_id": 33321131, "comment_id": 54442472, "body": "The replacement is filename dependent."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5382339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d97199280bc3706c187109eb41c12e0?s=128&d=identicon&r=PG&f=1", "display_name": "Rach", "link": "https://stackoverflow.com/users/5382339/rach"}, "edited": false, "score": 0, "creation_date": 1445710190, "post_id": 33321173, "comment_id": 54440923, "body": "Hi Sureshhvv, I am new to perl. When I use this in a perl script, I get the error &#39;Missing $ on loop variable at  line 3&#39; .Please could you let me know what is wrong?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445714688, "post_id": 33321173, "comment_id": 54442463, "body": "That&#39;s because it&#39;s not a perl script, it&#39;s shell."}, {"owner": {"reputation": 3601, "user_id": 390785, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/635df493ae4dbd67aad6009c0b77675b?s=128&d=identicon&r=PG", "display_name": "sureshvv", "link": "https://stackoverflow.com/users/390785/sureshvv"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445796799, "post_id": 33321173, "comment_id": 54463210, "body": "Yes. As @Sobrique says, this is just a shell script that can be run from command line"}], "tags": [], "owner": {"reputation": 3601, "user_id": 390785, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/635df493ae4dbd67aad6009c0b77675b?s=128&d=identicon&r=PG", "display_name": "sureshvv", "link": "https://stackoverflow.com/users/390785/sureshvv"}, "is_accepted": false, "score": 0, "last_activity_date": 1445707767, "creation_date": 1445707767, "answer_id": 33321173, "question_id": 33321131, "link": "https://stackoverflow.com/questions/33321131/use-sed-in-loop-to-search-and-replace-for-multiple-files/33321173#33321173", "title": "Use sed in loop to search and replace for multiple files", "body": "<p>Sure. You can say:</p>\n\n<pre><code>for f1 in RF*.lib: do\n    j=`basemame $f1 .lib`\n    sed -i -e \"s/vlib/$j/g\" $f1\n done\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445718046, "post_id": 33322848, "comment_id": 54443474, "body": "Could you not just open <code>$file</code> for output?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1445720278, "post_id": 33322848, "comment_id": 54444123, "body": "There&#39;s really no need to keep two copies of the data from the file. You may as well just modify <code>@data</code> in-place. And while we&#39;re at it, keeping the data in an array forces you to use a loop to modify it. If you read the whole file into a scalar then you can make the changes in a single operation. It&#39;s also probably best to use a pattern of <code>\\bvlib\\b</code> to avoid chnaging the ends of something like <code>navlib</code>"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1445930567, "post_id": 33322848, "comment_id": 54519172, "body": "@Borodin: Thanks for your valuable comment."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 0, "last_activity_date": 1445931485, "last_edit_date": 1445931485, "creation_date": 1445717736, "answer_id": 33322848, "question_id": 33321131, "link": "https://stackoverflow.com/questions/33321131/use-sed-in-loop-to-search-and-replace-for-multiple-files/33322848#33322848", "title": "Use sed in loop to search and replace for multiple files", "body": "<p>Here is a Perl script which will replace the string in each file with filename:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nforeach my $file (glob \"/path/to/dir/*.lib\") #get all the '.lib' files from dir\n{\n    my ($filename) = $file =~ m/([^\\/]+)\\.lib$/; #get the filename\n    open my $fh, \"&lt;\", $file or die $!;\n    my @data = &lt;$fh&gt;;\n    close $fh;\n    foreach my $line (@data)\n    {   \n        $line =~ s/\\bvlib\\b/$filename/g; #replace string with filename\n    }\n    #modify the file\n    open my $fhw, \"&gt;\", $file or die \"Couldn't modify file: $!\";\n    print $fhw @data;\n    close $fhw;\n}\n</code></pre>\n\n<p><strong>Edit:</strong> As <em>Borodin</em> suggested in comment, reading whole file into scalar:</p>\n\n<pre><code>foreach my $file (glob \"/path/to/dir/*.lib\")  #get all the '.lib' files from dir\n{\n    my ($filename) = $file =~ m/([^\\/]+)\\.lib$/;  #get the filename\n\n    #read whole file in a scalar\n    my $data = do {\n        local $/ = undef;\n        open my $fh, \"&lt;\", $file or die $!;\n        &lt;$fh&gt;;\n    };\n    $data =~ s/\\bvlib\\b/$filename/g;  #replace string with filename\n\n    #modify the file\n    open my $fhw, \"&gt;\", $file or die \"Couldn't modify file: $!\";\n    print $fhw $data;\n    close $fhw;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 5382339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d97199280bc3706c187109eb41c12e0?s=128&d=identicon&r=PG&f=1", "display_name": "Rach", "link": "https://stackoverflow.com/users/5382339/rach"}, "edited": false, "score": 0, "creation_date": 1445875782, "post_id": 33327441, "comment_id": 54496142, "body": "Thanks Potong. this works, but instead of replacing &#39;vlib&#39; with &#39;RF1&#39;, it replaces vlib with &#39;RF1.lib&#39; etc.."}], "tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 0, "last_activity_date": 1445759750, "creation_date": 1445759750, "answer_id": 33327441, "question_id": 33321131, "link": "https://stackoverflow.com/questions/33321131/use-sed-in-loop-to-search-and-replace-for-multiple-files/33327441#33327441", "title": "Use sed in loop to search and replace for multiple files", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed -r 's|(.*)\\.*|sed -i \"s/vlib/\\1/g\" &amp;|e' fileOfFiles\n</code></pre>\n\n<p>This evaluates a sed command for each of the files in the file containing files. If you prefer the output of the command can be piped into a shell for the same effect, like so:</p>\n\n<pre><code>sed -r 's|(.*)\\.*|sed -i \"s/vlib/\\1/g\" &amp;|' fileOfFiles | sh \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5382339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d97199280bc3706c187109eb41c12e0?s=128&d=identicon&r=PG&f=1", "display_name": "Rach", "link": "https://stackoverflow.com/users/5382339/rach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 0, "accepted_answer_id": 33322848, "answer_count": 3, "score": 0, "last_activity_date": 1445931485, "creation_date": 1445707526, "last_edit_date": 1445719560, "question_id": 33321131, "link": "https://stackoverflow.com/questions/33321131/use-sed-in-loop-to-search-and-replace-for-multiple-files", "title": "Use sed in loop to search and replace for multiple files", "body": "<p>I have list of files as below:</p>\n\n<pre><code>RF1.lib\nRF2.lib\nRF3.lib \netc..\n</code></pre>\n\n<p>In each of the <code>*.lib</code> files I have to replace this string <code>vlib</code> with the name of the file like <code>RF1</code>, <code>RF2</code> etc.</p>\n\n<p>I am using the <code>sed</code> command to search and replace the string as below:</p>\n\n<pre><code>sed -i -e 's/vlib/RF1/g' RF1.lib\n\nsed -i -e 's/vlib/RF2/g' RF2.lib\n</code></pre>\n\n<p>But I am having to do this multiple times to search and replace for every file.</p>\n\n<p>Is there a way I can open the files in a loop and use the <code>sed</code> command to do the replacement in each file?</p>\n"}, {"tags": ["perl", "nginx"], "comments": [{"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "edited": false, "score": 0, "creation_date": 1445681831, "post_id": 33316610, "comment_id": 54432117, "body": "I can&#39;t help with nginx specifics but if you don&#39;t find anything better you can still setup Apache and mod_perl and have nginx route Perl requests there."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "edited": false, "score": 0, "creation_date": 1445682056, "post_id": 33316610, "comment_id": 54432183, "body": "@NickP - thanks. I was trying to avoid Apache as a proxy, as its one more thing to be running on the server :)"}, {"owner": {"reputation": 3361, "user_id": 5395288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pw0Jz.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5395288/michael"}, "edited": false, "score": 0, "creation_date": 1445684038, "post_id": 33316610, "comment_id": 54432710, "body": "Forgive me if I am telling you anything you think is bleeding obvious, but &quot;ld: cannot find -lperl&quot; means you don&#39;t have libperl installed, so can you install it?"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 3361, "user_id": 5395288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pw0Jz.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5395288/michael"}, "edited": false, "score": 0, "creation_date": 1445687994, "post_id": 33316610, "comment_id": 54433814, "body": "@Michael thanks for the reply. I just tried to install it, but doesn&#39;t seem to be a valid install? <code>apt-get install libperl</code> - gives: <i>E: Unable to locate package libperl</i> . My friend is suggesting that it needs nginx recompiled with some new flags ... although I&#39;m not so sure"}, {"owner": {"reputation": 3361, "user_id": 5395288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pw0Jz.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5395288/michael"}, "edited": false, "score": 0, "creation_date": 1445688841, "post_id": 33316610, "comment_id": 54434052, "body": "Ahh, you are using debian. Try &#39;apt-get install nginx-extras&#39;. That should be dependant on a version of libperl (there may be no libperl, but there are versions of libperl, for example &#39;libperl5.14&#39; on wheezy). It will probably pull in the perl module you want anyway."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 3361, "user_id": 5395288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pw0Jz.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5395288/michael"}, "edited": false, "score": 0, "creation_date": 1445700139, "post_id": 33316610, "comment_id": 54437554, "body": "@Michael - thanks, tried installing that (worked this time) ... but still didn&#39;t seem to wanna work. Think I may leave it to my mate  (a sysadmin), and see if he can get it going. Don&#39;t wanna break the server :)"}], "answers": [{"tags": [], "owner": {"reputation": 137, "user_id": 3679380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYUD4.jpg?s=128&g=1", "display_name": "mickvav", "link": "https://stackoverflow.com/users/3679380/mickvav"}, "is_accepted": false, "score": 0, "last_activity_date": 1445760889, "creation_date": 1445760889, "answer_id": 33327561, "question_id": 33316610, "link": "https://stackoverflow.com/questions/33316610/loading-perl-modules-into-memory-for-nginx-to-make-faster/33327561#33327561", "title": "Loading Perl modules into memory for Nginx, to make faster?", "body": "<p>I think you have to fix cpan problem by installing perl-dev or some similar package, containing C-level perl bindings. Than will be nginx-extras or, may be, rebuild your nginx from sources with perl support enabled.</p>\n"}, {"tags": [], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "is_accepted": false, "score": 1, "last_activity_date": 1445858277, "last_edit_date": 1492085621, "creation_date": 1445855000, "answer_id": 33343357, "question_id": 33316610, "link": "https://stackoverflow.com/questions/33316610/loading-perl-modules-into-memory-for-nginx-to-make-faster/33343357#33343357", "title": "Loading Perl modules into memory for Nginx, to make faster?", "body": "<p>Ok, so we finally got it going. Part of it I found here:</p>\n\n<p><a href=\"https://serverfault.com/questions/247355/how-do-i-configure-nginxs-embedded-perl-to-use-perl-modules\">https://serverfault.com/questions/247355/how-do-i-configure-nginxs-embedded-perl-to-use-perl-modules</a></p>\n\n<p>We had to recompile it using the <strong>--with-http_perl_module</strong> and <strong>--with-perl_modules_path</strong> flags when configuring nginx. Then, the other thing that was confusing, was how you actually call it. Places I found as a reference, talk of:</p>\n\n<pre><code>perl_lib \nperl_require\n</code></pre>\n\n<p>I thought that was ok to put into the <code>location { }</code> part of a sites config file - but it turns out that needs to go into the main nginx.conf file, in the core:</p>\n\n<pre><code>http {\n   perl_modules /usr/local/share/perl/5.20.2/;\n\n   perl_require JSON.pm;\n   perl_require POSIX.pm;\n\n}\n</code></pre>\n\n<p>..block.</p>\n\n<p>Doing it that way, actually seems to work (no compilation errors when rebooting nginx). I've still got some more testing to do, just to make sure it is indeed doing something - but from what I can see, this is now a working solution. Hopefully this helps someone else in the future!</p>\n\n<p><strong>UPDATE:</strong> I'm really not seeing any difference in load times :( My logic is that the perl_require loads the modules into memory, and this is then accessed quicker via the scripts (verses being loaded into the script itself). Is this understanding correct? </p>\n"}], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1645, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1445858277, "creation_date": 1445679107, "last_edit_date": 1445682723, "question_id": 33316610, "link": "https://stackoverflow.com/questions/33316610/loading-perl-modules-into-memory-for-nginx-to-make-faster", "title": "Loading Perl modules into memory for Nginx, to make faster?", "body": "<p>I'm trying to speed up my Perl scripts on an <strong>nginx</strong> server. In a test script, if I comment out the \"use\" requests for 3 <strong>.pm</strong> files (all of which do their own stuff) ... the script looses about 600ms of load time! Now my guess, is that its because its having to load sub-modules from within the requested ones. For example:</p>\n\n<pre><code>use WebService::Solr;\nuse WebService::Solr::Query;\nuse Want::View;\nuse JSON;\nuse POSIX;\n</code></pre>\n\n<p>On <em>Apache</em> with <em>mod_perl</em>, you can set the startup script so it \"imports\" the modules into memory (to make it faster). Is something similar possible with nginx and Perl? My live script it currently taking 1.1 seconds to process (of which 800-900ms of that is \"waiting\" for it to respond!!!!), so I really need to see about speeding it up.</p>\n\n<p><strong>UPDATE:</strong> I found this, but it doesn't seem to work:</p>\n\n<p><a href=\"http://search.cpan.org/~zzz/Nginx-Perl-1.2.9.7/src/http/modules/perl/Nginx.pm#DESCRIPTION\" rel=\"nofollow\">http://search.cpan.org/~zzz/Nginx-Perl-1.2.9.7/src/http/modules/perl/Nginx.pm#DESCRIPTION</a></p>\n\n<pre><code>location ~ \\.cgi$ {\n\n    perl_inc     /usr/local/share/perl/5.20.2/;\n    # perl_require WebService/Solr;\n\n    ... rest\n\n}\n</code></pre>\n\n<p>I get an error:</p>\n\n<blockquote>\n  <p>nginx: [emerg] unknown directive \"perl_inc\" in\n  /etc/nginx/sites-enabled/site.net:134</p>\n</blockquote>\n\n<p>I'm wondering if its because I need to install the \"Nginx\" Perl module. When I try and install it via MCPAN though, I get a die:</p>\n\n<blockquote>\n  <p>-lpthread -lcrypt -lcrypto -lcrypto -lz \\\n  -Wl,-E -fstack-protector -L/usr/local/lib -L/usr/lib/x86_64-linux-gnu/perl/5.20/CORE -lperl -ldl -lm -lpthread -lc -lcrypt /usr/bin/ld: cannot find -lperl collect2: error: ld returned 1 exit status objs/Makefile:213: recipe for target\n  'objs/nginx-perl' failed make[1]: <strong>* [objs/nginx-perl] Error 1\n  make[1]: Leaving directory\n  '/root/.cpan/build/Nginx-Perl-1.2.9.7-dbUMQF' Makefile:9: recipe for\n  target 'build' failed make: *</strong> [build] Error 2<br>\n  ZZZ/Nginx-Perl-1.2.9.7.tar.gz   /usr/bin/make -- NOT OK</p>\n</blockquote>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 2347, "user_id": 1361529, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/820E7.jpg?s=128&g=1", "display_name": "user1361529", "link": "https://stackoverflow.com/users/1361529/user1361529"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1445639875, "post_id": 33312327, "comment_id": 54423662, "body": "Matt, I&#39;m sorry I don&#39;t quite understand. How do I populate last_sent? $active_connection[3]-&gt;last_sent{&#39;4&#39;}=&#39;35&#39; ? I tried doing a foreach (@active_connections) and then my $foo = $_-&gt;last_sent; and then $foo{&#39;1&#39;} = 30 but last_sent seems empty"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1445640001, "post_id": 33312327, "comment_id": 54423695, "body": "I deleted my comment and posted an actual answer."}], "answers": [{"comments": [{"owner": {"reputation": 2347, "user_id": 1361529, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/820E7.jpg?s=128&g=1", "display_name": "user1361529", "link": "https://stackoverflow.com/users/1361529/user1361529"}, "edited": false, "score": 0, "creation_date": 1445640747, "post_id": 33312423, "comment_id": 54423916, "body": "Ah thank you! You can&#39;t imagine this joy I am experiencing. I&#39;ve been banging my head on this since morning."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1445683508, "post_id": 33312423, "comment_id": 54432572, "body": "Perhaps an hour or so reading the <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">Perl Data Structures Cookbook</a> will minimise the amount of time spend banging your head in the future."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 2, "last_activity_date": 1445639982, "creation_date": 1445639982, "answer_id": 33312423, "question_id": 33312327, "link": "https://stackoverflow.com/questions/33312327/perl-array-of-hash-with-an-element-which-might-be-another-array-of-hash/33312423#33312423", "title": "Perl array of hash with an element which might be another array of hash", "body": "<p>You don't have to \"set up\" anything. Just dereference the value in question, and <a href=\"http://perldoc.perl.org/perlglossary.html#autovivification\" rel=\"nofollow\">autovivification</a> will do the rest.</p>\n\n<pre><code>$active_connections[$i]-&gt;{last_sent}-&gt;{1} = 20;\n$active_connections[$i]-&gt;{last_sent}-&gt;{3} = 30;\n</code></pre>\n"}], "owner": {"reputation": 2347, "user_id": 1361529, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/820E7.jpg?s=128&g=1", "display_name": "user1361529", "link": "https://stackoverflow.com/users/1361529/user1361529"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 33312423, "answer_count": 1, "score": 1, "last_activity_date": 1445639982, "creation_date": 1445639394, "question_id": 33312327, "link": "https://stackoverflow.com/questions/33312327/perl-array-of-hash-with-an-element-which-might-be-another-array-of-hash", "title": "Perl array of hash with an element which might be another array of hash", "body": "<p>assume we have this array structure:</p>\n\n<pre><code>push @active_connections, {\n                           token =&gt; $token,\n                           pending =&gt; VALID_WEBSOCKET,\n                           time=&gt;time(),\n                           badge =&gt; 0,\n                           monlist =&gt; $monlist,\n                           intlist =&gt; $intlist,\n                           last_sent=&gt;{},\n                           platform =&gt; $platform\n                          };\n</code></pre>\n\n<p>I later want to add to last_sent, such that last_sent will have two values, and \"id\" and a \"value\" for that ID and this itself will need to be a list.</p>\n\n<p>In other words lets assume I have ids = 1,2,3 and associated values 10,20,30\nI want to be able to do:</p>\n\n<pre><code>$active_connections[i]-&gt;last_sent{'1'} should return 20\n$active_connections[i]-&gt;last_sent{'3'} should return 30\n</code></pre>\n\n<p>How does one set up last_sent to be able to do something like this? </p>\n\n<p>thanks</p>\n"}, {"tags": ["mysql", "perl", "csv"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1445635755, "post_id": 33311450, "comment_id": 54422346, "body": "A few things: 1. You don&#39;t need to open each file for reading within the loop (MySQL is doing that part). 2. Can you even use a placeholder there? 3. You should use an absolute path for the filename, otherwise &quot;the server looks for the file in the database directory of the default database&quot; (<a href=\"https://dev.mysql.com/doc/refman/5.1/en/load-data.html\" rel=\"nofollow noreferrer\">source</a>)."}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1445636551, "post_id": 33311773, "comment_id": 54422626, "body": "Thanks. I&#39;m still not 100% sure that the placeholder isn&#39;t also causing a problem, though. From <a href=\"https://metacpan.org/pod/DBI#Placeholders-and-Bind-Values\" rel=\"nofollow noreferrer\">DBI</a>: <i>With most drivers, placeholders can&#39;t be used for any element of a statement that would prevent the database server from validating the statement and creating a query execution plan for it.</i> Does it prevent the server from doing that here? Ehhhh... I don&#39;t know."}, {"owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1445716856, "post_id": 33311773, "comment_id": 54443111, "body": "Hi Matt thanks for you help is really appreciated. Unfortunately i don&#39;t know how to apply your suggestion so if you can be more specific that would help me a lot. Thanks."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1445717212, "post_id": 33311773, "comment_id": 54443201, "body": "@BlueStarry You&#39;re already doing the right thing when you build an absolute path in the <code>open()</code> (which isn&#39;t necessary, by the way): <code>&quot;$source_dir&#47;$file&quot;</code>. The only question is whether MySQL on Windows can handle forward slashes, but I think it should."}, {"owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1445717613, "post_id": 33311773, "comment_id": 54443342, "body": "Maybe it&#39;s my english broken but i&#39;m not understanding: first you say you don&#39;t need the open, then you question the relative paths and then you tell me you&#39;re right to use absolute paths in the open but it&#39;s not necessary but still, the script doesn&#39;t work."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1445718583, "post_id": 33311773, "comment_id": 54443591, "body": "1. You don&#39;t need the <code>open()</code>. 2. You should supply an absolute path to <code>LOAD DATA INFILE</code>, just like you&#39;re doing in 3 other places."}, {"owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1445720931, "post_id": 33311773, "comment_id": 54444326, "body": "Thanks Matt your help is highly aprreciated. I&#39;ve got an edit on the main post."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1445723867, "post_id": 33311773, "comment_id": 54445203, "body": "@BlueStarry Edited my answer as well."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 2, "last_activity_date": 1445723853, "last_edit_date": 1445723853, "creation_date": 1445636317, "answer_id": 33311773, "question_id": 33311450, "link": "https://stackoverflow.com/questions/33311450/a-perl-script-to-import-multiple-csv-files-into-a-mysql-database/33311773#33311773", "title": "A Perl script to import multiple CSV files into a MySQL database", "body": "<p>The main problem is that it looks like the behavior of <a href=\"https://dev.mysql.com/doc/refman/5.1/en/load-data.html\" rel=\"nofollow\"><code>LOAD DATA INFILE</code></a> is not intuitively obvious when you supply relative paths, which you are. </p>\n\n<blockquote>\n  <p>If <code>LOCAL</code> is not specified, the file must be located on the server\n  host and is read directly by the server. The server uses the following\n  rules to locate the file:</p>\n  \n  <ul>\n  <li>If the file name is an absolute path name, the server uses it as    given.</li>\n  <li>If the file name is a relative path name with one or more leading    components, the server searches for the file relative to the server's \n  data directory.</li>\n  <li>If a file name with no leading components is given, the server looks    for the file in the database directory of the default\n  database.</li>\n  </ul>\n</blockquote>\n\n<p>So, I would recommend constructing an absolute path to each file instead of relying on the more mysterious second and third options.</p>\n\n<hr>\n\n<p>Regarding your edit, I noticed a couple problems. You need to quote the entire path, and I'd stick with forward slashes, like this:</p>\n\n<pre><code>for my $file (@files) {\n    $dbh-&gt;do(qq{\n        LOAD DATA INFILE 'C:/Users/ST/Desktop/$file' INTO TABLE rnaseq \n        CHARACTER SET utf8 \n        FIELDS TERMINATED BY '        ' \n        LINES TERMINATED BY '\\\\n' \n        IGNORE 1 LINES (id, normalized_count)\n    });\n}\n</code></pre>\n\n<p>If that doesn't work, I'd probably just <code>print</code> the statements and pipe them into the <code>mysql</code> command.</p>\n"}], "owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 889, "favorite_count": 0, "accepted_answer_id": 33311773, "answer_count": 1, "score": 0, "last_activity_date": 1445723853, "creation_date": 1445634674, "last_edit_date": 1445720890, "question_id": 33311450, "link": "https://stackoverflow.com/questions/33311450/a-perl-script-to-import-multiple-csv-files-into-a-mysql-database", "title": "A Perl script to import multiple CSV files into a MySQL database", "body": "<p>I have this Perl script:</p>\n\n<pre><code>use v5.12;\nuse strict;\nuse warnings;\nuse DBI;\n\n\nmy $dsn = \"DBI:mysql:host=localhost;database=testitt\";\n\n\nmy $dbh = DBI-&gt;connect($dsn,\"root\",\"\")\n    or die \"No db connectin: $!\";\nsay \"Connected to MySQL.\";\n\n\nmy $source_dir = \"C:/Users/ST/Desktop/\";\n\n\nopendir my $dirh, $source_dir or die \"Unable to open directory: $!\";\nmy @files = grep /\\.csv$/i, readdir $dirh;\nclosedir $dirh;\n\n\ndie \"No files found in $source_dir\" unless @files;\n\nsay 'Importing data from:';\nsay for @files;\n\nmy $load = $dbh-&gt;prepare(\"LOAD DATA INFILE ? INTO TABLE tablea Character Set utf8 FIELDS TERMINATED BY '        ' LINES TERMINATED BY '\\n' IGNORE 1 LINES (id, normalized_count)\")\n                           or die \"Prepare failed: \" . $dbh-&gt;errstr(); \n\nfor my $file (@files) {\n    say \"Processing $source_dir/$file\";\n    open my $fh, '&lt;', \"$source_dir/$file\"\n    or die \"Unable to open $source_dir/$file: $!\\n\";\n       $load-&gt;execute($file)\n           or die \"Execute failed: \" . $dbh-&gt;errstr(); \n}\nprint \"Jobs done.\\n\";\n</code></pre>\n\n<p>It gives me error at the <code>$load-&gt;execute($file)</code> because it's unable to find the file, but I've already loaded everything on <code>@file</code> early in the code.</p>\n\n<p>EDIT:\nThanks to matt suggestion my for now is cleaner but i can't figure out a way to put the current file into the query (the token), below an attempt but gives error:</p>\n\n<pre><code>for my $file (@files) {\n        my $statement = $dbh-&gt;prepare(\"LOAD DATA INFILE C:\\\\Users\\\\ST\\\\Desktop\\\\\"$file\"INTO TABLE rnaseq Character Set utf8 FIELDS TERMINATED BY '        ' LINES TERMINATED BY '\\n' IGNORE 1 LINES (id,normalized_count)\");\n$statement-&gt;execute()\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1445630148, "post_id": 33310288, "comment_id": 54419790, "body": "Why is the function inside the loop to begin with, if it doesn&#39;t depend on $_? At best, the loop/function should just capture all keys that need deleted, then delete them outside the first loop."}, {"owner": {"reputation": 23, "user_id": 5481511, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205186661922278/picture?type=large", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5481511/bryan"}, "reply_to_user": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1445630659, "post_id": 33310288, "comment_id": 54420039, "body": "Good point, it does.  I edited the question.  Of course my real problem is quite a bit more complex..."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1445635675, "post_id": 33310288, "comment_id": 54422318, "body": "This sounds like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a> - Would you be able to clarify further the scenario here? I would be thinking <i>probably</i> <code>grep</code>/<code>map</code> to execute a transform, but it rather depends on quite what you&#39;re trying to accomplish."}, {"owner": {"reputation": 23, "user_id": 5481511, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205186661922278/picture?type=large", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5481511/bryan"}, "edited": false, "score": 0, "creation_date": 1445654866, "post_id": 33310288, "comment_id": 54426804, "body": "Yes, I know -- the real problem is quite complex, i.e. I&#39;m trying to take a list, e.g. a file list, and generate a shell wildcard string to represent that list.  For example, if I input &quot;myfile_1,a&quot;, &quot;myfile_1,cat&quot;, &quot;myfile_2,a&quot;, and &quot;myfile_2,cat&quot;, I&#39;d like my script to return &quot;myfile_[12],{a,cat}&quot;.  This should work for arbitrarily complex list items.  Each list item is a hash key, and my subroutine seeks for contiguous rectangular blocks in multi-dimensions, deleting them from the hash as it goes.  The outer loop continues as long as the hash is not empty and starts with a random element."}, {"owner": {"reputation": 23, "user_id": 5481511, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205186661922278/picture?type=large", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5481511/bryan"}, "edited": false, "score": 0, "creation_date": 1445654887, "post_id": 33310288, "comment_id": 54426805, "body": "See why I tried to simplify?  ;)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445692360, "post_id": 33310288, "comment_id": 54435066, "body": "I see, but I think that would be a useful thing to have included, because it helps understand the problem. And you might have seen alternative suggestions for solving it. This feels like a kind of thing that prior art exists."}, {"owner": {"reputation": 23, "user_id": 5481511, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205186661922278/picture?type=large", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5481511/bryan"}, "edited": false, "score": 0, "creation_date": 1445694765, "post_id": 33310288, "comment_id": 54435848, "body": "Agreed, it feels like that, but my Google-fu isn&#39;t strong enough to find it."}], "answers": [{"tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": false, "score": 0, "last_activity_date": 1445630983, "creation_date": 1445630983, "answer_id": 33310609, "question_id": 33310288, "link": "https://stackoverflow.com/questions/33310288/how-to-get-a-single-key-random-ok-from-a-very-large-hash-in-perl/33310609#33310609", "title": "How to get a single key (random ok) from a very large hash in perl?", "body": "<p>General advice without knowing details of the complexity to which you refer:</p>\n\n<p><strong>Change</strong> the function lines that delete keys to instead store the keys to be deleted in an array or hash (or file). After the first loop completes, loop through <strong>that</strong> array or hash (or file) and delete those keys from the first hash.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1445631759, "post_id": 33310630, "comment_id": 54420523, "body": "If you&#39;re deleting the current element, you don&#39;t need to reset the iterator as that is explicitly safe. If you&#39;re deleting other keys, this solution would very likely result in an infinite loop."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1445632037, "post_id": 33310630, "comment_id": 54420673, "body": "@ikegami: Yes, we have to assume that the OP&#39;s subroutine deletes the element with the current key as well as any others, otherwise it will result in an endless loop."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1445632678, "post_id": 33310630, "comment_id": 54421003, "body": "@ikegami: Although I can&#39;t get <code>each</code> in my program above, which deletes three elements at once, to return <i>false</i> before the hash is empty even without the call to <code>keys</code>. It seems perfectly well behaved"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1445634549, "post_id": 33310630, "comment_id": 54421825, "body": "1) Deleting other keys may behave as desired, but the documentation explicitly forbids it. It may not always work, or it may stop working. 2) But that&#39;s not what I was talking about. I meant if you ever go through a pass without deleting the current key (which sounds possible for the OP), this solution would result in an infinite loop"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1445635747, "post_id": 33310630, "comment_id": 54422343, "body": "@ikegami: All of that is perfectly clear. Take a look at what my comments say"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1445632797, "last_edit_date": 1592644375, "creation_date": 1445631064, "answer_id": 33310630, "question_id": 33310288, "link": "https://stackoverflow.com/questions/33310288/how-to-get-a-single-key-random-ok-from-a-very-large-hash-in-perl/33310630#33310630", "title": "How to get a single key (random ok) from a very large hash in perl?", "body": "<p>This seems to be a horrible thing to do, and it would be better if you explained what you were trying to achieve</p>\n<p>However the problem with deleting hash elements while iterating using <code>each</code> is that <code>each</code> holds a state value for the hash that depends on the hash remaining unchanged</p>\n<p>You can clear that state by calling <code>keys</code> (or <code>values</code>) on the same hash.</p>\n<p>Here's an example which deletes the three elements with the given key and those before and after it in an attempt to emulate what your <code>function_that_deletes_one_or_more_keys</code> (which is what it should be called) might do</p>\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy %h = map +( $_ =&gt; 1), 0 .. 9;\n\nwhile ( my $key = each %h ) {\n\n    say $key;\n\n    delete @h{$key-1, $key, $key+1};\n\n    keys %h;     # Reset &quot;each&quot; state\n}\n</code></pre>\n<p>I recommend that you don't use the global <code>$_</code> variable for this</p>\n<h2>output</h2>\n<pre><code>2\n9\n4\n6\n0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 0, "last_activity_date": 1445636449, "creation_date": 1445636449, "answer_id": 33311798, "question_id": 33310288, "link": "https://stackoverflow.com/questions/33310288/how-to-get-a-single-key-random-ok-from-a-very-large-hash-in-perl/33311798#33311798", "title": "How to get a single key (random ok) from a very large hash in perl?", "body": "<pre><code>my @in_keys = keys %in;\nfor (@in_keys)  {\n    if (exists $in{$_}) {\n        ...\n    }\n}\n</code></pre>\n\n<p>Or do as Borodin shows, resetting the iterator each time you know you've deleted at least one element.</p>\n"}], "owner": {"reputation": 23, "user_id": 5481511, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205186661922278/picture?type=large", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5481511/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 33310630, "answer_count": 3, "score": 0, "last_activity_date": 1445636449, "creation_date": 1445629514, "last_edit_date": 1445630589, "question_id": 33310288, "link": "https://stackoverflow.com/questions/33310288/how-to-get-a-single-key-random-ok-from-a-very-large-hash-in-perl", "title": "How to get a single key (random ok) from a very large hash in perl?", "body": "<p>Suppose you have a very large hash (lots of keys), and have a function that potentially deletes many of those keys, e.g.:</p>\n\n<pre><code>while ( each %in ) {\n  push @out, $_;\n  functionThatDeletesOneOrMoreKeys($_, \\%in);\n}\n</code></pre>\n\n<p>I believe <code>each</code> in this case is an efficient way to pull a single key from the hash, but the documentation says <code>each</code> should not be used when deleting keys from the hash.</p>\n\n<p>Otherwise I could use <code>while (%in) { $_ = (keys(%in))[0] ....</code> but that seems horribly inefficient for a very large hash.</p>\n\n<p>Is there a better way to do this?</p>\n"}, {"tags": ["perl", "selenium"], "comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 3, "creation_date": 1445641332, "post_id": 33308725, "comment_id": 54424098, "body": "What happens with <code>q{&#47;&#47;a[contains(@href,&quot;Sort by age&quot;)]};</code>? Or do other elements on the page match that as well?"}, {"owner": {"reputation": 1268, "user_id": 3402772, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000733159561/picture?type=large", "display_name": "SibiCoder", "link": "https://stackoverflow.com/users/3402772/sibicoder"}, "edited": false, "score": 0, "creation_date": 1460559652, "post_id": 33308725, "comment_id": 60801737, "body": "Can you paste the source code here or that particular text here so that I can try it?"}], "owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1516238157, "creation_date": 1445623302, "last_edit_date": 1516238157, "question_id": 33308725, "link": "https://stackoverflow.com/questions/33308725/perl-selenium-and-unicode", "title": "Perl, Selenium, and Unicode", "body": "<p>I'm using Perl's WWW::Selenium module for automated testing, and I get</p>\n\n<blockquote>\n  <p>Timed out after 30000ms</p>\n</blockquote>\n\n<p>on a particular element.</p>\n\n<p>The element I'm looking for has the text 'Sort by name' followed by a thin down arrow -- it is not a down arrow from the keyboard. As an aid in troubleshooting, I used Selenium's</p>\n\n<pre><code>$return -&gt; $sel-&gt;get_html_source();\n</code></pre>\n\n<p>function to get the HTML code and this is the output:</p>\n\n<pre><code>&lt;a href=\"#\"&gt;Sort by age \ufffd~F~S&lt;/a&gt;\n</code></pre>\n\n<p>As an aid in troubleshooting, I decided to use the Data::Dumper with 'use utf8' at the top of the Perl script, and the output is a little different:</p>\n\n<pre><code>&lt;li data-value=\\\"created_on-desc\\\" class=\\\"\\\"&gt;\n    &lt;a href=\\\"#\\\"&gt;Sort by age \\x{2193}&lt;/a&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>I have used the following Perl code in my script.</p>\n\n<pre><code>$locator = q{//a[contains(@href,\"Sort by age \ufffd~F~S\")]};\n$ret = $sel-&gt;wait_for_element_present($locator, $timeout);\n$ret = $sel-&gt;click($locator);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>$locator = q{//a[contains(@href,\"Sort by age \\x{2193}\")]};\n$ret = $sel-&gt;wait_for_element_present($locator, $timeout);\n$ret = $sel-&gt;click($locator);\n</code></pre>\n\n<p>and they both fail at</p>\n\n<blockquote>\n  <p>Error requesting <a href=\"http://localhost:4444/selenium-server/driver/\" rel=\"nofollow noreferrer\">http://localhost:4444/selenium-server/driver/</a>: <br/>\n  Timed out after 30000ms</p>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1445620456, "post_id": 33307939, "comment_id": 54414728, "body": "<a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/keys.html</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5420071"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1445620780, "post_id": 33307939, "comment_id": 54414893, "body": "But it seems like there are three hashes: data, port and manager. How can we get data from all three?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1445620860, "post_id": 33307939, "comment_id": 54414932, "body": "What do you want to do? We have no way of knowing whether the terminal key is another hash reference or not, because you&#39;ve only included one line of the program."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5420071"}, "edited": false, "score": 0, "creation_date": 1445621159, "post_id": 33307939, "comment_id": 54415116, "body": "I print this value to the file"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1445621347, "post_id": 33307939, "comment_id": 54415220, "body": "So... what is the question, exactly? What part don&#39;t you understand? Is it the loop? The call to <code>keys()</code>? The variables? Hash references?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5420071"}, "edited": false, "score": 0, "creation_date": 1445621392, "post_id": 33307939, "comment_id": 54415239, "body": "Look at the complete code above now"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1445621454, "post_id": 33307939, "comment_id": 54415283, "body": "I&#39;m going to ask one more time: what part of the code don&#39;t you understand?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5420071"}, "edited": false, "score": 1, "creation_date": 1445621519, "post_id": 33307939, "comment_id": 54415313, "body": "I am trying to understand which key from which hash we are trying to get %{ $data-&gt;{net_assets_detail}-&gt;{$port}-&gt;{$manager}, from data, port or manager"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1445621589, "post_id": 33307939, "comment_id": 54415348, "body": "It sounds like you need to <code>use Data::Dump; dd($data);</code>"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1445621658, "post_id": 33307939, "comment_id": 54415378, "body": "use <a href=\"http://perldoc.perl.org/Data/Dumper.html\" rel=\"nofollow noreferrer\">Dumper</a> to print the hash. like <code>use Data::Dumper; print Dumper($data);</code> you will know the structure."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5420071"}, "edited": false, "score": 0, "creation_date": 1445623939, "post_id": 33308271, "comment_id": 54416556, "body": "Now I understand, Thank you"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1445624615, "post_id": 33308271, "comment_id": 54416851, "body": "@osamuyl, please mark the answer as correct if it helped you understand/solve your issue."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1445621502, "creation_date": 1445621502, "answer_id": 33308271, "question_id": 33307939, "link": "https://stackoverflow.com/questions/33307939/which-key-from-which-hash-is-this-expression-accessing/33308271#33308271", "title": "Which key from which hash is this expression accessing?", "body": "<p>Let's look at the line part by part.</p>\n\n<pre><code>%{ $data-&gt;{net_assets_detail}-&gt;{$port}-&gt;{$manager} }\n</code></pre>\n\n\n\n<ul>\n<li>There is a hashref called <code>$data</code>. </li>\n<li>Inside, there are some keys. One of them is <code>net_assets_detail</code></li>\n<li>Inside is a hashref</li>\n<li>Inside, there are some keys. One of them is the value of <code>$port</code></li>\n<li>Inside is a hashref</li>\n<li>Inside, there are some keys. One of them is the value of <code>$manager</code></li>\n</ul>\n\n<p>The <code>%{ ... }</code> is dereferencing the hashref, so built-ins that expect a hash can work on it.</p>\n\n<p>The <code>keys</code> takes all the <em>keys</em> of the hash (which was dereferenced from the long thingy) and returns them as a <em>list</em>. The <code>foreach</code> iterates over that list, and puts each key into the lexical variable <code>$tram_type</code> that is available in the body of the loop.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5420071"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 33308271, "answer_count": 1, "score": 1, "last_activity_date": 1445624930, "creation_date": 1445620235, "last_edit_date": 1445624930, "question_id": 33307939, "link": "https://stackoverflow.com/questions/33307939/which-key-from-which-hash-is-this-expression-accessing", "title": "Which key from which hash is this expression accessing?", "body": "<p>I am tracing a Perl script and I cannot understand what the following expression is supposed to do:</p>\n\n<pre><code>keys %{ $data-&gt;{net_assets_detail}-&gt;{$port}-&gt;{$manager} }   \n</code></pre>\n\n<p>I am trying to understand which key from which hash we are trying to access &mdash; from data, port or manager?</p>\n\n<p>Below is the complete code:       </p>\n\n<pre><code>foreach my $port ( keys %{$data-&gt;{net_assets_detail} } ) {    \n        foreach my $manager (keys %{ $data-&gt;{net_assets_detail}-&gt;{$port} } ) {          \n\n\n    my $fund_value = MOA::CLSUtils::get_manager_fund_value( $port, $manager, $args-&gt;{end_date} );    \n    $fund_value ||=0;    \n    my $net_asset_value = $data-&gt;{net_assets_manager}-&gt;{$port}-&gt;{$manager};    \n    $net_asset_value ||=0;    \n\n\n        foreach my $tran_type (keys %{ $data-&gt;{net_assets_detail}-&gt;{$port}-&gt;{$manager} } ) {                    \n                my $value = $data-&gt;{net_assets_detail}-&gt;{$port}-&gt;{$manager}-&gt;{$tran_type};                          \n                print OUT\"$port\\t\";    \n                print OUT\"$manager\\t\";    \n                print OUT\"$tran_type\\t\";    \n                print OUT\"$value\\n\";    \n\n            }    \n        }    \n    }    \n}               \n</code></pre>\n"}, {"tags": ["perl", "unicode"], "comments": [{"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 2, "creation_date": 1445618102, "post_id": 33306907, "comment_id": 54413471, "body": "Related: <a href=\"http://stackoverflow.com/questions/13535172/list-of-all-unicodes-open-close-brackets\">List of all unicode&#39;s open/close brackets?</a>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1445619169, "post_id": 33306907, "comment_id": 54414034, "body": "the accepted answer to that question seems to have all the information needed here (and points out the difficulties)"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1445630248, "post_id": 33306907, "comment_id": 54419838, "body": "For reference I added some more findings about it into the question."}], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "closed_date": 1445619104, "answer_count": 0, "score": 4, "last_activity_date": 1445629876, "creation_date": 1445616484, "last_edit_date": 1445629876, "question_id": 33306907, "link": "https://stackoverflow.com/questions/33306907/how-to-find-the-paired-characters-in-perl", "closed_reason": "Duplicate", "title": "How to find the &quot;paired characters&quot; in perl?", "body": "<p>Is possible to find all \"paired\" characters programmatically?</p>\n\n<p>E.g. when i got for example the <code>&lt;</code> character how to find the correspondent \"pair\" <code>&gt;</code> to it?</p>\n\n<p>The following piece of code prints each \"mirrored\" ascii characters.</p>\n\n<pre><code>use 5.018;\nuse warnings;\nuse charnames qw(:full);\nfor my $n (0..127) {\n    my $c = chr $n;\n    printf \"%02x: [%s] - %s\\n\", $n, $c, charnames::viacode($n) if $c =~ /\\p{Bidi_Mirrored=Y}/;\n}\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>28: [(] - LEFT PARENTHESIS\n29: [)] - RIGHT PARENTHESIS\n3c: [&lt;] - LESS-THAN SIGN\n3e: [&gt;] - GREATER-THAN SIGN\n5b: [[] - LEFT SQUARE BRACKET\n5d: []] - RIGHT SQUARE BRACKET\n7b: [{] - LEFT CURLY BRACKET\n7d: [}] - RIGHT CURLY BRACKET\n</code></pre>\n\n<p>But AFAIK the <code>Bidi_Mirrored</code> property isn't the same as \"paired\" e.g. left-right pairs, because for example the following char has the <code>Bidi_Mirrored</code> property but probably it has not any \"pair\".</p>\n\n<pre><code>\u2230  U+02230 VOLUME INTEGRAL\n</code></pre>\n\n<p>And if it the <code>Bidi_Mirrored</code> property correct for the \"paired\" characters, the question is still the same: How to find the \"pair's\" codepoint? (or name)?</p>\n\n<p><strong>In short:</strong> want print all unicode \"paired\" characters, e.g. pairs like:</p>\n\n<pre><code>\u00ab  U+000AB LEFT-POINTING DOUBLE ANGLE QUOTATION MARK\n\u00bb  U+000BB RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK\n</code></pre>\n\n<p>or</p>\n\n<pre><code>\u2264  U+02264 LESS-THAN OR EQUAL TO\n\u2265  U+02265 GREATER-THAN OR EQUAL TO\n</code></pre>\n\n<p>etc...</p>\n\n<h1>EDIT</h1>\n\n<p>Meantime the question got closed, so write my findings here:</p>\n\n<p>I found <a href=\"ftp://ftp.unicode.org/Public/UNIDATA/BidiBrackets.txt\" rel=\"nofollow\">here</a> the following:</p>\n\n<pre><code># Bidi_Paired_Bracket is a normative property of type Miscellaneous,\n# which establishes a mapping between characters that are treated as\n# bracket pairs by the Unicode Bidirectional Algorithm.\n#\n# Bidi_Paired_Bracket_Type is a normative property of type Enumeration,\n# which classifies characters into opening and closing paired brackets\n# for the purposes of the Unicode Bidirectional Algorithm.\n#\n# This file lists the set of code points with Bidi_Paired_Bracket_Type\n# property values Open and Close. The set is derived from the character\n# properties General_Category (gc), Bidi_Class (bc), Bidi_Mirrored (Bidi_M),\n# and Bidi_Mirroring_Glyph (bmg), as follows: two characters, A and B,\n# form a bracket pair if A has gc=Ps and B has gc=Pe, both have bc=ON and\n# Bidi_M=Y, and bmg of A is B. Bidi_Paired_Bracket (bpb) maps A to B and\n# vice versa, and their Bidi_Paired_Bracket_Type (bpt) property values are\n# Open (o) and Close (c), respectively.\n#\n# For legacy reasons, the characters U+FD3E ORNATE LEFT PARENTHESIS and\n# U+FD3F ORNATE RIGHT PARENTHESIS do not mirror in bidirectional display\n# and therefore do not form a bracket pair.\n#\n# The Unicode property value stability policy guarantees that characters\n# which have bpt=o or bpt=c also have bc=ON and Bidi_M=Y. As a result, an\n# implementation can optimize the lookup of the Bidi_Paired_Bracket_Type\n# property values Open and Close by restricting the processing to characters\n# with bc=ON\n</code></pre>\n\n<p>Looks, here <strong>exists</strong> the exact algorithm, but i don't know how to get the <code>Bidi_Mirroring_Glyph</code> aka <code>(bmg)</code> and the <code>Bidi_Paired_Bracket</code> aka <code>(bpb)</code> <strong>values</strong> in perl. AFAIK the <a href=\"https://metacpan.org/pod/Unicode::UCD\" rel=\"nofollow\">Unicode::UCD</a> doesn't contains these values - or at least i don't know how to get them.</p>\n\n<p>Maybe in the <code>5.024</code> and with Unicode 8.0? :) :)</p>\n"}, {"tags": ["perl", "logging", "configuration", "log4perl"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 4336874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/216700bf8ddce5775b3a0e496e7090cd?s=128&d=identicon&r=PG&f=1", "display_name": "mocnii", "link": "https://stackoverflow.com/users/4336874/mocnii"}, "edited": false, "score": 0, "creation_date": 1455614379, "post_id": 35397068, "comment_id": 58555464, "body": "I modified your example to work with my usecase, e.g., I need LevelRange instead of LevelMatch and root logger needs to be set at level of TRACE.          log4perl.category.main                   = TRACE, Logfile, Screen          # Filter range from TRACE up         log4perl.filter.MatchTraceUp  =   Log::Log4perl::Filter::LevelRange         log4perl.filter.MatchTraceUp.LevelMin  = TRACE         log4perl.filter.MatchTraceUp.LevelMax = FATAL         log4perl.filter.MatchTraceUp.AcceptOnMatch = true"}], "tags": [], "owner": {"reputation": 56, "user_id": 5927062, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2c-wfpNP6y8/AAAAAAAAAAI/AAAAAAAAAZM/nvTa0JT4EYY/photo.jpg?sz=128", "display_name": "imagineer", "link": "https://stackoverflow.com/users/5927062/imagineer"}, "is_accepted": true, "score": 4, "last_activity_date": 1510043166, "last_edit_date": 1592644375, "creation_date": 1455478056, "answer_id": 35397068, "question_id": 33306035, "link": "https://stackoverflow.com/questions/33306035/how-to-set-two-appenders-with-different-log-levels-in-loglog4perl/35397068#35397068", "title": "How to set two appenders with different log levels in Log::Log4perl?", "body": "<p>From the <a href=\"http://search.cpan.org/%7Emschilli/Log-Log4perl-1.49/lib/Log/Log4perl/FAQ.pm#I_want_to_log_ERROR_and_WARN_messages_to_different_files!_How_can_I_do_that?\" rel=\"nofollow noreferrer\">log4perl FAQ</a>:</p>\n<blockquote>\n<p>I want to log ERROR and WARN messages to different files! How can I do that?</p>\n<p>Let's assume you wanted to have each logging statement written to a different file, based on the statement's priority. Messages with priority WARN are supposed to go to /tmp/app.warn, events prioritized as ERROR should end up in /tmp/app.error.</p>\n<p>Now, if you define two appenders AppWarn and AppError and assign them both to the root logger, messages bubbling up from any loggers below will be logged by both appenders because of Log4perl's message propagation feature. If you limit their exposure via the appender threshold mechanism and set AppWarn's threshold to WARN and AppError's to ERROR, you'll still get ERROR messages in AppWarn, because AppWarn's WARN setting will just filter out messages with a lower priority than WARN -- ERROR is higher and will be allowed to pass through.</p>\n<p>What we need for this is a Log4perl Custom Filter, available with Log::Log4perl 0.30.</p>\n<p>Both appenders need to verify that the priority of the oncoming messages exactly matches the priority the appender is supposed to log messages of. To accomplish this task, let's define two custom filters, MatchError and MatchWarn, which, when attached to their appenders, will limit messages passed on to them to those matching a given priority:</p>\n</blockquote>\n<pre><code>   log4perl.logger = WARN, AppWarn, AppError\n        # Filter to match level ERROR\n    log4perl.filter.MatchError = Log::Log4perl::Filter::LevelMatch\n    log4perl.filter.MatchError.LevelToMatch  = ERROR\n    log4perl.filter.MatchError.AcceptOnMatch = true\n        # Filter to match level WARN\n    log4perl.filter.MatchWarn  = Log::Log4perl::Filter::LevelMatch\n    log4perl.filter.MatchWarn.LevelToMatch  = WARN\n    log4perl.filter.MatchWarn.AcceptOnMatch = true\n        # Error appender\n    log4perl.appender.AppError = Log::Log4perl::Appender::File\n    log4perl.appender.AppError.filename = /tmp/app.err\n    log4perl.appender.AppError.layout   = SimpleLayout\n    log4perl.appender.AppError.Filter   = MatchError\n        # Warning appender\n    log4perl.appender.AppWarn = Log::Log4perl::Appender::File\n    log4perl.appender.AppWarn.filename = /tmp/app.warn\n    log4perl.appender.AppWarn.layout   = SimpleLayout\n    log4perl.appender.AppWarn.Filter   = MatchWarn\n</code></pre>\n<blockquote>\n<p>The appenders AppWarn and AppError defined above are logging to /tmp/app.warn and /tmp/app.err respectively and have the custom filters MatchWarn and MatchError attached. This setup will direct all WARN messages, issued anywhere in the system, to /tmp/app.warn (and ERROR messages to /tmp/app.error) -- without any overlaps.</p>\n</blockquote>\n<p>Also look at the CPAN docs for log4perl and its sub modules:</p>\n<p><a href=\"http://search.cpan.org/%7Emschilli/Log-Log4perl-1.46/lib/Log/Log4perl/Filter.pm\" rel=\"nofollow noreferrer\">http://search.cpan.org/~mschilli/Log-Log4perl-1.46/lib/Log/Log4perl/Filter.pm</a></p>\n"}], "owner": {"reputation": 141, "user_id": 4336874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/216700bf8ddce5775b3a0e496e7090cd?s=128&d=identicon&r=PG&f=1", "display_name": "mocnii", "link": "https://stackoverflow.com/users/4336874/mocnii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1328, "favorite_count": 2, "accepted_answer_id": 35397068, "answer_count": 1, "score": 3, "last_activity_date": 1512039299, "creation_date": 1445613810, "last_edit_date": 1510049649, "question_id": 33306035, "link": "https://stackoverflow.com/questions/33306035/how-to-set-two-appenders-with-different-log-levels-in-loglog4perl", "title": "How to set two appenders with different log levels in Log::Log4perl?", "body": "<p>I have a logger with two appenders (one Screen and other File). I want to have a Screen appender with a variable log level that can be changed and File appender that will log everything no matter what. So for instance, you can disable any output to screen (Screen appender) but get full logging to the level of TRACE in your logfile (File appender). I succeeded in getting changing Screen appender but I can't set File appender for the same logger to the level of TRACE. I tried using different threshold settings but with no success.</p>\n\n<pre><code># Define a category logger\nmy $log = Log::Log4perl-&gt;get_logger(\"main\");\n\n# Define a layout\nmy $layout = Log::Log4perl::Layout::PatternLayout-&gt;new(\"[%d{yyyy/MM/dd HH:mm:ss,SSS}]%m%n\");\n\n# Define a file appender\nmy $file_appender = Log::Log4perl::Appender-&gt;new(\n                    \"Log::Log4perl::Appender::File\",\n                    name      =&gt; \"Logfile\",\n                    filename  =&gt; \"$logfile\",\n                    autoflush =&gt; 1,\n                    umask =&gt; 022,\n                    header_text =&gt; \"INVOCATION:$0 @ARGV\", \n                    #Threshold =&gt; \"TRACE\",  DOES NOT WORK\n                );\n\n# Define a stderr appender\nmy $stderr_appender =  Log::Log4perl::Appender-&gt;new(\n                    \"Log::Log4perl::Appender::ScreenColoredLevels\",\n                    name      =&gt; \"Screen\",\n                    stderr    =&gt; 1,\n                );\n\n# Have both appenders use the same layout (could be different)\n$stderr_appender-&gt;layout($layout);\n$file_appender-&gt;layout($layout);\n\n#add both appenders to logger\n$log-&gt;add_appender($stderr_appender);\n$log-&gt;add_appender($file_appender);\n\n#add a level to logger\n#$log_level coming from command line or configuration\n$log-&gt;level($log_level);\n\n#$file_appender-&gt;threshold( \"TRACE\" );   THIS DOES NOT WORK\n#Log::Log4perl-&gt;appender_thresholds_adjust(-1, ['Logfile']);   NOR THIS\n\n#check your appenders\n#print Dumper( Log::Log4perl-&gt;appenders() );   \n</code></pre>\n"}, {"tags": ["regex", "bash", "perl", "sed", "append"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5479728, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cVUYpvVCxW8/AAAAAAAAAAI/AAAAAAAAABk/HTmGuJkNlUE/photo.jpg?sz=128", "display_name": "Tdl Mattias", "link": "https://stackoverflow.com/users/5479728/tdl-mattias"}, "edited": false, "score": 0, "creation_date": 1452596003, "post_id": 33306411, "comment_id": 57228965, "body": "Hi thanks @karaka, your answered help me clear some doubts I had, for what I needed to be done. Finally I have managed to make the script to execute do what I were looking to accomplish."}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": true, "score": 0, "last_activity_date": 1445614855, "creation_date": 1445614855, "answer_id": 33306411, "question_id": 33305598, "link": "https://stackoverflow.com/questions/33305598/how-to-use-sed-to-find-a-file-pattern-and-append-a-variable-value-at-end-of-line/33306411#33306411", "title": "How to use Sed to find a file pattern and append a variable value at end of line", "body": "<p>I didn't spend enough time to understand your specific example but the general problem you want to solve is</p>\n\n<pre><code>sed '120,304{/pattern/s/$/add_this_to_end_of_line/}' file\n</code></pre>\n\n<p>Note that this can be translated to awk which will give you more power if you need to do more complex changes</p>\n\n<pre><code>awk 'NR&gt;=120 &amp;&amp; NR&lt;=304 &amp;&amp; /pattern/{$0=$0 \"add this\"}1' file\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5479728, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cVUYpvVCxW8/AAAAAAAAAAI/AAAAAAAAABk/HTmGuJkNlUE/photo.jpg?sz=128", "display_name": "Tdl Mattias", "link": "https://stackoverflow.com/users/5479728/tdl-mattias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "accepted_answer_id": 33306411, "answer_count": 1, "score": 0, "last_activity_date": 1445614855, "creation_date": 1445612637, "question_id": 33305598, "link": "https://stackoverflow.com/questions/33305598/how-to-use-sed-to-find-a-file-pattern-and-append-a-variable-value-at-end-of-line", "title": "How to use Sed to find a file pattern and append a variable value at end of line", "body": "<p>I am trying to install a Nagios plugin, the file is called nagios and is written in PERL - this file will help us integrate our Nagios docker alerting system with slack.</p>\n\n<p>What I need to do is to use sed to open the file, find a specific pattern on lines 120 and 304 and append a content of variable at end of each line.</p>\n\n<p>\u200b</p>\n\n<pre><code>#!/usr/bin/env bash\n\u200b\n# go into temp dir and do the following\ncd /tmp/ &amp;&amp; wget https://raw.github.com/tinyspeck/services-examples/master/nagios.pl\nmv /tmp/nagios.pl /tmp/slack_nagios.pl &amp;&amp; chmod +x /tmp/slack_nagios.pl\n\u200b\n# define two variables adding1 and adding2, then add value to each one \nread -d '' adding1 &lt;&lt;\"BLOCK\"\n-field HOSTALIAS=\"$HOSTNAME$\"\n-field SERVICEDESC=\"$SERVICEDESC$\"\n-field SERVICESTATE=\"$SERVICESTATE$\"\n-field SERVICEOUTPUT=\"$SERVICEOUTPUT$\"\n-field NOTIFICATIONTYPE=\"$NOTIFICATIONTYPE$\"\nBLOCK\n\u200b\nread -d '' adding2 &lt;&lt;\"BLOCK\"\n-field HOSTALIAS=\"$HOSTNAME$\"\n-field HOSTSTATE=\"$HOSTSTATE$\"\n-field HOSTOUTPUT=\"$HOSTOUTPUT$\"\n-field NOTIFICATIONTYPE=\"$NOTIFICATIONTYPE$\"\nBLOCK\n\u200b\n## Print the two new variables\necho $adding1\n\u200b\necho $adding2\n\u200b\n#### Now use seed to change the content of slack_nagios.pl file and save it as new file\necho \"Execute sed\"\n\u200b\n# On file lines 31 to 50 uncomment it \nsed -e '31,50 s/#//' \\\n    -e 's/my $opt_token = \"\"/my $opt_token = \"someTokenHere\"/' \\\n    -e 's/foo.slack.com/somedomainName.slack.com/' \\\n    # Add toke info and replace slack domain name\n    -e 's/#alerts/#nagios_alerts/' \\\n    -e 's/#ops/#nagios_alerts/' \\\n    # Find two patterns in the file and replace with nagios_alerts\n    -e 's|/usr/local/bin|/usrPATH/local/nagiosPATH/etc/dirPATH|g' \\\n    # Replace the deafult path by the new path\n    ###HERE IS WHERE I HAVIN PROBLEMS##\n    -e '44 s/^nagios_alerts\\|\\'$'\\|${adding1}|g' \\\n    -e '49 s/^nagios_alerts\\|\\'$'\\|${adding2}|g' \\\n    # What I want to do is, on lines 44 and line 49 find the pattern nagios_alert\n    # And append the value of $adding1 at end of line 44 and append the value of $adding2 on line 49\n    # But I am getting the following error [ sed: 1: \"44 s/^nagios_alerts///| ...\": bad flag in substitute command: '/' ]\n    &lt;slack_nagios.pl &gt;slack_new_nagios.pl\n\u200b\n\u200b\n\u200b\n# Count the number of line on the file to confirm that is correct\nnbLines=$(cat -n slack_new_nagios.pl | tail -n 1 | cut -f1 | xargs)\necho $nbLines\n\u200b\n#echo $file \necho \"All Done\"\n</code></pre>\n"}, {"tags": ["perl", "command-line-interface", "windows-task-scheduler"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 3, "creation_date": 1445610189, "post_id": 33304096, "comment_id": 54408150, "body": "Your code worked fine at my end. I got the following output: <code>C:\\Users\\Chankey\\Desktop&gt;perl test.pl SUCCESS: The scheduled task &quot;updater&quot; has successfully been created.</code>"}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1445612618, "post_id": 33304096, "comment_id": 54409982, "body": "Works here, cut and paste error? Permissions problem?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1445612678, "post_id": 33304096, "comment_id": 54410034, "body": "Change <code>my $createScheduleTask = `...`;</code> to <code>my $cmd = qq`...`; my $createScheduleTask = `$cmd`;</code>, so you can print the command you actually ran and find the syntax error."}, {"owner": {"reputation": 41, "user_id": 5480341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_x-kT2Jsh_c/AAAAAAAAAAI/AAAAAAAAU_8/Mbu2Qoh-KkI/photo.jpg?sz=128", "display_name": "Rudy", "link": "https://stackoverflow.com/users/5480341/rudy"}, "edited": false, "score": 0, "creation_date": 1445929130, "post_id": 33304096, "comment_id": 54518521, "body": "Ok, on two other machines the script works fine. So I will be blaming it on &#39;some&#39; machine configuration. Thanks guys."}], "answers": [{"comments": [{"owner": {"reputation": 791, "user_id": 996298, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/48ceb41356105652880671585e28d4fb?s=128&d=identicon&r=PG", "display_name": "manu3d", "link": "https://stackoverflow.com/users/996298/manu3d"}, "edited": false, "score": 0, "creation_date": 1561452896, "post_id": 36220762, "comment_id": 100058302, "body": "I had the same problem. I was trying to run it through Git&#39;s bash shell. Running it through the standard CMD shell solved the problem. Thank you!"}], "tags": [], "owner": {"reputation": 1070, "user_id": 2213898, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18688796044f5f86fab87580786407b6?s=128&d=identicon&r=PG", "display_name": "Simpler", "link": "https://stackoverflow.com/users/2213898/simpler"}, "is_accepted": false, "score": 1, "last_activity_date": 1458912069, "creation_date": 1458912069, "answer_id": 36220762, "question_id": 33304096, "link": "https://stackoverflow.com/questions/33304096/schedule-taks-with-schtask-exe-gives-error-invalid-syntax-in-script/36220762#36220762", "title": "Schedule taks with schtask.exe gives error invalid syntax in script", "body": "<p>This is likely due to the shell that you are running the command from.</p>\n\n<p>I had this problem when running from a bash shell, but when I opened a standard Windows command prompt it runs fine.</p>\n"}], "owner": {"reputation": 41, "user_id": 5480341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_x-kT2Jsh_c/AAAAAAAAAAI/AAAAAAAAU_8/Mbu2Qoh-KkI/photo.jpg?sz=128", "display_name": "Rudy", "link": "https://stackoverflow.com/users/5480341/rudy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1458912069, "creation_date": 1445608439, "last_edit_date": 1445608487, "question_id": 33304096, "link": "https://stackoverflow.com/questions/33304096/schedule-taks-with-schtask-exe-gives-error-invalid-syntax-in-script", "title": "Schedule taks with schtask.exe gives error invalid syntax in script", "body": "<p>I want to create a scheduled task using C:\\Windows\\System32\\schtasks.exe in a perl script. I'm using the following script:</p>\n\n<pre><code>use strict;\nmy $createScheduleTask = `SchTasks /Create /SC WEEKLY /D MON,TUE,WED,THU,FRI /TN \\\"updater\\\" /TR \\\"\\\\\\\\network\\\\shared\\\\updater.bat\\\" /ST 19:00`;\n</code></pre>\n\n<p>But I get the following response:<br></p>\n\n<pre><code>ERROR: Invalid syntax.\nType \"SCHTASKS /?\" for usage.\n</code></pre>\n\n<p>When I run the same command in the CLI it works fine (I did remove the escape '\\'-s.)\nI've tried about every possible combination of escape characters, but I cannot find out what is wrong.</p>\n\n<p>So does anybody know what is wrong or does anybody know how to debug it?</p>\n\n<p>Thanks<br>\nRudy<br>\nPS I don't want to use Win32::TaskScheduler since it is not installed on all clients.</p>\n"}, {"tags": ["perl", "subroutine", "malformed"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 8, "creation_date": 1445604111, "post_id": 33302533, "comment_id": 54403896, "body": "Add <code>use warnings; use strict;</code> and then read about perl: <code>perldoc perlintro</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 4, "creation_date": 1445608639, "post_id": 33302533, "comment_id": 54406994, "body": "How much research did you do on Perl syntax? Most of this looks nothing like Perl."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 2, "creation_date": 1445612383, "post_id": 33302533, "comment_id": 54409802, "body": "@xxfelixxx, Starting with 5.24, <code>use warnings;</code> won&#39;t mean <code>use warnings &#39;all&#39;;</code> anymore, so new Perl programmers should use <code>use warnings &#39;all&#39;;</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1445612598, "post_id": 33302533, "comment_id": 54409961, "body": "@ikegami is there a 5.23 perldoc on perldoc.perl.org somewhere?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1445613112, "post_id": 33302533, "comment_id": 54410337, "body": "@simbabque, You&#39;d have to check the <a href=\"http://perl5.git.perl.org/perl.git\" rel=\"nofollow noreferrer\">Perl repo</a> [click &quot;tree&quot;, then find the &quot;pod&quot; directory], but I don&#39;t think it&#39;s been committed yet. <a href=\"http://markmail.org/thread/5ywtsxrzlxdlt4o4\" rel=\"nofollow noreferrer\">Discussion</a>. The idea is to add pedantic warnings that are turned on by <code>use warnings;</code>, but newcomers would be the ones that need these warnings the most."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 6, "creation_date": 1445613248, "post_id": 33302533, "comment_id": 54410434, "body": "You appear to have made a wild guess about what Perl syntax looks like. You should learn a little Perl before asking the people at Stack Overflow to fix your guesses"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 5, "last_activity_date": 1445605953, "last_edit_date": 1445605953, "creation_date": 1445605287, "answer_id": 33302993, "question_id": 33302533, "link": "https://stackoverflow.com/questions/33302533/how-to-call-a-subroutine-in-perl/33302993#33302993", "title": "How to call a subroutine in perl?", "body": "<p>This is wrong:</p>\n\n<pre><code>sub Compare($p1,$p2){      \n</code></pre>\n\n<p>Perl doesn't do it that way. This will be the source of the error you reported. (Technically it's prototyping, which is a perl feature that you shouldn't be using because it doesn't do what you might think). </p>\n\n<p>You probably want instead:</p>\n\n<pre><code>sub Compare{      \n    my ( $p1, $p2 ) = @_; \n     #etc.\n</code></pre>\n\n<p>Also: Turn on <code>use strict;</code> and <code>use warnings;</code>. They're annoying at first, but they really do a <em>lot</em> of good when it comes to programming gotchas. </p>\n\n<p>Like: </p>\n\n<pre><code>sizeof(ListA) \n</code></pre>\n\n<p>Isn't valid, because <code>ListA</code> is a bareword. Or a string, maybe. But what it isn't is the size of your <code>@ListA</code>. This is simpler than you think though - a list in a scalar context returns it's length. So you can simply do <code>$p1 &gt; @ListA</code> and it will work. </p>\n\n<p>And:</p>\n\n<pre><code> if(ListA($p1) = ListB($p2)){     \n</code></pre>\n\n<p>Is:</p>\n\n<ul>\n<li>using barewords again (so not referencing <code>@ListA</code>). </li>\n<li>using <code>()</code> when it should be using <code>[]</code>. (Accessing an array index is <code>$arrayname[0]</code>)</li>\n<li>Using <code>=</code> which is an assigment, rather than <code>==</code> (or <code>eq</code> for strings) which is a comparison. </li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 5353529, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a82f8b068bdc0b874178dc17c9a94656?s=128&d=identicon&r=PG&f=1", "display_name": "hhl", "link": "https://stackoverflow.com/users/5353529/hhl"}, "edited": false, "score": 0, "creation_date": 1445610368, "post_id": 33303803, "comment_id": 54408285, "body": "thanks alot.but the programm dosenot wort yet.i want to write a perl programm to do this:get 2 list of document  . determines the list of documents that contain A AND B.the algoritm must be write but it has still error of using  == and &gt;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 79, "user_id": 5353529, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a82f8b068bdc0b874178dc17c9a94656?s=128&d=identicon&r=PG&f=1", "display_name": "hhl", "link": "https://stackoverflow.com/users/5353529/hhl"}, "edited": false, "score": 2, "creation_date": 1445612634, "post_id": 33303803, "comment_id": 54409993, "body": "I&#39;m sorry, I don&#39;t understand what you&#39;re asking. The comment box is a terrible place to try to explain requirements. Why don&#39;t yo edit your question to explain what you want to do (with example inputs and outputs)."}, {"owner": {"reputation": 79, "user_id": 5353529, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a82f8b068bdc0b874178dc17c9a94656?s=128&d=identicon&r=PG&f=1", "display_name": "hhl", "link": "https://stackoverflow.com/users/5353529/hhl"}, "edited": false, "score": 0, "creation_date": 1445616172, "post_id": 33303803, "comment_id": 54412331, "body": "we have 2 list A and B of id-numbers and we want to get a list  which determines the list of id-numbers  that contain in both list A AND B. list A=1,2,3,4 list B=1,2,8,9 answer =1,2 it meens that id-number 1 and 2 has both A and B"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 79, "user_id": 5353529, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a82f8b068bdc0b874178dc17c9a94656?s=128&d=identicon&r=PG&f=1", "display_name": "hhl", "link": "https://stackoverflow.com/users/5353529/hhl"}, "edited": false, "score": 0, "creation_date": 1445617408, "post_id": 33303803, "comment_id": 54413073, "body": "I&#39;ll ask once more. Please edit your question and include this information."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 79, "user_id": 5353529, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a82f8b068bdc0b874178dc17c9a94656?s=128&d=identicon&r=PG&f=1", "display_name": "hhl", "link": "https://stackoverflow.com/users/5353529/hhl"}, "edited": false, "score": 0, "creation_date": 1445617497, "post_id": 33303803, "comment_id": 54413119, "body": "Oh. Wait. I think you want <a href=\"http://perldoc.perl.org/perlfaq4.html#How-do-I-compute-the-difference-of-two-arrays%3f-How-do-I-compute-the-intersection-of-two-arrays%3f\" rel=\"nofollow noreferrer\">the intersection of two arrays</a>"}, {"owner": {"reputation": 79, "user_id": 5353529, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a82f8b068bdc0b874178dc17c9a94656?s=128&d=identicon&r=PG&f=1", "display_name": "hhl", "link": "https://stackoverflow.com/users/5353529/hhl"}, "edited": false, "score": 0, "creation_date": 1445983638, "post_id": 33303803, "comment_id": 54552608, "body": "Finally, I solved it perfectly. Thank you so much for your help."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 79, "user_id": 5353529, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a82f8b068bdc0b874178dc17c9a94656?s=128&d=identicon&r=PG&f=1", "display_name": "hhl", "link": "https://stackoverflow.com/users/5353529/hhl"}, "edited": false, "score": 0, "creation_date": 1446022792, "post_id": 33303803, "comment_id": 54565658, "body": "If my answer was useful to you, please consider accepting it."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1445607620, "creation_date": 1445607620, "answer_id": 33303803, "question_id": 33302533, "link": "https://stackoverflow.com/questions/33302533/how-to-call-a-subroutine-in-perl/33303803#33303803", "title": "How to call a subroutine in perl?", "body": "<p>This code really doesn't look much like Perl at all.</p>\n\n<pre><code>#!/usr/bin/perl\n\n# You should always have \"use strict\" and \"use warnings\"\n# at the top of your Perl programs.\n\n# When you have \"use strict\", then you need to declare your\n# variables, most commonly using \"my\".\n@ListA=(1,2,3);\n@ListB=(2,3,4);\n@ListResult;\n#AND\n\n# Perl subroutines aren't defined like this\nsub Compare($p1,$p2){\n    # You need to use the @ at the start of the array name\n    # whenever you are referring to the whole array.\n    # And Perl doesn't have a \"sizeof\" function.\n    # Also, your indentation style is *horrible* here :-)\n    if($p1 &gt; sizeof(ListA) or $p2 &gt; sizeof(ListB))\n        { \n                  return;}                          \n\n    # I think you're trying to look up individual array elements\n    # here. That's $array[$index], not array(index).\n    # And in Perl, '=' is always an assignment operator. Here,\n    # You probably want '==' which is a comparison operator.\n    if(ListA($p1) = ListB($p2)){                    \n        push (@ListResult, ListA($p1)); \n        Compare($p1+1,$p2+1);           \n        return;                         \n    }\n    if(ListA($p1) &gt; ListB($p2)){        \n        Compare($p1,$p2+1);             \n        return;                         \n    }\n    else {                              \n        Compare($p1+1,$p2);             \n        return;                         \n         }\n    return;                             \n}\n\nCompare(1,1);\n</code></pre>\n\n<p>Your program should be something like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n# I've changed the names of these variables, because in Perl\n# arrays and lists are different things. These are arrays.\nmy @ArrayA = (1,2,3);\nmy @ArrayB = (2,3,4);\nmy @ArrayResult;\n#AND\n\nsub Compare {\n  my ($p1, $p2) = @_;\n\n  return if $p1 &gt; @ArrayA or $p2 &gt; @ArrayB;         \n\n  if ($ArrayA[$p1] == $ArrayB[$p2]) {\n    push (@ArrayResult, $ArrayA[$p1]);\n    Compare($p1+1, $p2+1);\n    return;\n  }\n\n  if ($ArrayA[$p1] &gt; $ArrayB[$p2]){\n    Compare($p1, $p2+1);\n    return;\n  } else {                              \n    Compare($p1+1, $p2);\n    return;                         \n  }\n  return;                             \n}\n\nCompare(1,1);\n</code></pre>\n\n<p>That will, at least, compile. But I have no idea whether or not it works because I don't know what it is supposed to do.</p>\n"}], "owner": {"reputation": 79, "user_id": 5353529, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a82f8b068bdc0b874178dc17c9a94656?s=128&d=identicon&r=PG&f=1", "display_name": "hhl", "link": "https://stackoverflow.com/users/5353529/hhl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "closed_date": 1445626585, "answer_count": 2, "score": -3, "last_activity_date": 1445607620, "creation_date": 1445603812, "last_edit_date": 1445604858, "question_id": 33302533, "link": "https://stackoverflow.com/questions/33302533/how-to-call-a-subroutine-in-perl", "closed_reason": "Not suitable for this site", "title": "How to call a subroutine in perl?", "body": "<p>I try to call a Subroutine in Perl but I get this error \"Malformed prototype for main\". I have a Subroutine Compare and I have to pass to it two integer.</p>\n\n<pre><code>#!/usr/bin/perl\n@ListA=(1,2,3);\n@ListB=(2,3,4);\n@ListResult;\n#AND\n\nsub Compare($p1,$p2){                   \n    if($p1 &gt; sizeof(ListA) or $p2 &gt; sizeof(ListB))\n        { \n                  return;}                          \n\n    if(ListA($p1) = ListB($p2)){                    \n        push (@ListResult, ListA($p1)); \n        Compare($p1+1,$p2+1);           \n        return;                         \n    }\n    if(ListA($p1) &gt; ListB($p2)){        \n        Compare($p1,$p2+1);             \n        return;                         \n    }\n    else {                              \n        Compare($p1+1,$p2);             \n        return;                         \n         }\n    return;                             \n}\n\nCompare(1,1);\n</code></pre>\n\n<p>Please help me and explain how to correct this programm.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1445601775, "post_id": 33301763, "comment_id": 54402421, "body": "try <code>print Dumper &quot;a.b.c.d&quot; =~ &#47;(.)(?=\\.|$)&#47;</code>"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1445601827, "post_id": 33301763, "comment_id": 54402450, "body": "<code>(?:\\.(.))*</code> would match all the characters which follows <code>a</code> and captures only the last character <code>d</code>."}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1445602280, "post_id": 33301763, "comment_id": 54402695, "body": "@AvinashRaj Have you tried it yourself? <code>print Dumper &quot;a.b.c.d&quot; =~ &#47;(.)(?=\\.|$)&#47;</code> prints just <code>a</code>."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1445605282, "post_id": 33301763, "comment_id": 54404705, "body": "<code>print Dumper &quot;a.b.c.d&quot; =~ &#47;(.)(?=\\.|$)&#47;g</code>"}], "answers": [{"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1445602190, "post_id": 33301939, "comment_id": 54402656, "body": "I think the question is about how (if possible) access all captured texts from the second capturing group (as in .NET <code>CaptureCollection</code>)."}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1445602438, "post_id": 33301939, "comment_id": 54402786, "body": "I do not think that the non capturing parenthesis is redundant, because I do not want the dots."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445602976, "post_id": 33301939, "comment_id": 54403141, "body": "You don&#39;t need the parens at all though. For this job <code>split &#47;\\.&#47;</code> is probably a better tool."}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1445602988, "post_id": 33301939, "comment_id": 54403147, "body": "The <code>g</code> modifier does what I tried to achieve. But I can not use it, because the expression is part of a bigger one and it would be false to make the whole expression global."}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1445603094, "post_id": 33301939, "comment_id": 54403211, "body": "@Sobrique I do not want to split 4 characters separated by dots. This is just a simplification to illustrate the problem."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445603169, "post_id": 33301939, "comment_id": 54403258, "body": "Complicated single regex solutions to parsing are - IMO - rarely the right answer to anything. Breaking down the problem means it&#39;s easier to test, validated and maintain."}, {"owner": {"reputation": 6348, "user_id": 561690, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b086b4bae811b9be7f62d8d11a29c0be?s=128&d=identicon&r=PG", "display_name": "Code Jockey", "link": "https://stackoverflow.com/users/561690/code-jockey"}, "reply_to_user": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1445604619, "post_id": 33301939, "comment_id": 54404275, "body": "@ceving Presenting a &quot;simplified&quot; case is good in so many realms of knowledge... I don&#39;t think that applies to regex. especially when you are not intimately familiar with all the subtleties of regex, trying to simplify the pattern will almost universally leave out or alter some detail that is more or less vital to the actual solution sought. Provide the source, show what should be matched, and ideally show what is close but should not be matched. That&#39;s pretty much it until there are clarifying questions to answer."}, {"owner": {"reputation": 6348, "user_id": 561690, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b086b4bae811b9be7f62d8d11a29c0be?s=128&d=identicon&r=PG", "display_name": "Code Jockey", "link": "https://stackoverflow.com/users/561690/code-jockey"}, "edited": false, "score": 1, "creation_date": 1445604742, "post_id": 33301939, "comment_id": 54404354, "body": "@Sobrique - I think you&#39;ve got a typo with your global switch(?)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445605088, "post_id": 33301939, "comment_id": 54404574, "body": "Well spotted, yes. I&#39;ll probably stick with my assertion - if you have a regex that needs simplifying, then the problem is you&#39;re trying to do too much with a single regex."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1445609117, "last_edit_date": 1445609117, "creation_date": 1445602044, "answer_id": 33301939, "question_id": 33301763, "link": "https://stackoverflow.com/questions/33301763/how-to-access-a-matching-sequence-in-perl/33301939#33301939", "title": "How to access a matching sequence in Perl?", "body": "<p>They're not there because you have a <code>*</code> outside your capture group, and you're not repeating the pattern.</p>\n\n<p>Thus what happens in the regex engine is:</p>\n\n<pre><code>Compiling REx \"(.)(?:\\.(.))*\"\nFinal program:\n   1: OPEN1 (3)\n   3:   REG_ANY (4)\n   4: CLOSE1 (6)\n   6: CURLYX[1] {0,32767} (16)\n   8:   EXACT &lt;.&gt; (10)\n  10:   OPEN2 (12)\n  12:     REG_ANY (13)\n  13:   CLOSE2 (15)\n  15: WHILEM[1/1] (0)\n  16: NOTHING (17)\n  17: END (0)\nminlen 1 \nMatching REx \"(.)(?:\\.(.))*\" against \"a.b.c.d\"\n   0 &lt;&gt; &lt;a.b.c.d&gt;            |  1:OPEN1(3)\n   0 &lt;&gt; &lt;a.b.c.d&gt;            |  3:REG_ANY(4)\n   1 &lt;a&gt; &lt;.b.c.d&gt;            |  4:CLOSE1(6)\n   1 &lt;a&gt; &lt;.b.c.d&gt;            |  6:CURLYX[1] {0,32767}(16)\n   1 &lt;a&gt; &lt;.b.c.d&gt;            | 15:  WHILEM[1/1](0)\n                                    whilem: matched 0 out of 0..32767\n   1 &lt;a&gt; &lt;.b.c.d&gt;            |  8:    EXACT &lt;.&gt;(10)\n   2 &lt;a.&gt; &lt;b.c.d&gt;            | 10:    OPEN2(12)\n   2 &lt;a.&gt; &lt;b.c.d&gt;            | 12:    REG_ANY(13)\n   3 &lt;a.b&gt; &lt;.c.d&gt;            | 13:    CLOSE2(15)\n   3 &lt;a.b&gt; &lt;.c.d&gt;            | 15:    WHILEM[1/1](0)\n                                      whilem: matched 1 out of 0..32767\n   3 &lt;a.b&gt; &lt;.c.d&gt;            |  8:      EXACT &lt;.&gt;(10)\n   4 &lt;a.b.&gt; &lt;c.d&gt;            | 10:      OPEN2(12)\n   4 &lt;a.b.&gt; &lt;c.d&gt;            | 12:      REG_ANY(13)\n   5 &lt;a.b.c&gt; &lt;.d&gt;            | 13:      CLOSE2(15)\n   5 &lt;a.b.c&gt; &lt;.d&gt;            | 15:      WHILEM[1/1](0)\n                                        whilem: matched 2 out of 0..32767\n   5 &lt;a.b.c&gt; &lt;.d&gt;            |  8:        EXACT &lt;.&gt;(10)\n   6 &lt;a.b.c.&gt; &lt;d&gt;            | 10:        OPEN2(12)\n   6 &lt;a.b.c.&gt; &lt;d&gt;            | 12:        REG_ANY(13)\n   7 &lt;a.b.c.d&gt; &lt;&gt;            | 13:        CLOSE2(15)\n   7 &lt;a.b.c.d&gt; &lt;&gt;            | 15:        WHILEM[1/1](0)\n                                          whilem: matched 3 out of 0..32767\n   7 &lt;a.b.c.d&gt; &lt;&gt;            |  8:          EXACT &lt;.&gt;(10)\n                                            failed...\n                                          whilem: failed, trying continuation...\n   7 &lt;a.b.c.d&gt; &lt;&gt;            | 16:          NOTHING(17)\n   7 &lt;a.b.c.d&gt; &lt;&gt;            | 17:          END(0)\nMatch successful!\n</code></pre>\n\n<p>Your non capturing bracket <code>(?:</code> is redundant as well.</p>\n\n<p>How about:</p>\n\n<pre><code>print Dumper \"a.b.c.d\" =~ /(.)\\.(.)/g;\n</code></pre>\n\n<p>Which prints:</p>\n\n<pre><code>$VAR1 = 'a';\n$VAR2 = 'b';\n$VAR3 = 'c';\n$VAR4 = 'd';\n</code></pre>\n\n<p>Or alternatively (it wasn't entirely clear what you were seeking):</p>\n\n<pre><code>print Dumper \"a.b.c.d\" =~ /(.)\\.(.+)/;\n\n\n$VAR1 = 'a';\n$VAR2 = 'b.c.d';\n</code></pre>\n\n<blockquote>\n  <p>Update: Further simplification</p>\n</blockquote>\n\n<pre><code>print Dumper \"abcd\" =~ /(.)+/\n</code></pre>\n\n<blockquote>\n  <p>How to capture all characters?</p>\n</blockquote>\n\n<p>Again - the problem is - you're capturing a single character in your brackets, and then using <code>+</code> to alter how much of the pattern is 'consumed'. So you will only ever get a single character here, because you told it to.</p>\n\n<p>If you want all of them, put the plus <em>inside</em> the brackets and you will get a single scalar. </p>\n\n<pre><code>print Dumper \"abcd\" =~ /(.+)/;\n</code></pre>\n\n<p>If you want <em>each</em> of them as separate elements:</p>\n\n<pre><code>print Dumper \"abcd\" =~ /(.)/g;\n</code></pre>\n\n<p>Repeat the capture operation. Or use <code>split</code>:</p>\n\n<pre><code>print Dumper split //, \"abcd\";\n</code></pre>\n\n<p>Edit: Following your last edit: </p>\n\n<pre><code>\"x1234y\" =~ /^x(:?(\\d)(?{push @digits, $^N}))+y$/;\n</code></pre>\n\n<p>This still doesn't illustrate the the question you're asking properly, because this works: </p>\n\n<pre><code>my @digits = \"x1234y\" =~ m/(\\d)/g; \nprint Dumper \\@digits;\n</code></pre>\n\n<p>And if it didn't, then this works:</p>\n\n<pre><code>my @digits = split ( //, \"x1234y\" =~ s/\\D//rg  );\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>my @digits = grep { /\\d/ } split //, \"x1234y\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1445612673, "post_id": 33304581, "comment_id": 54410028, "body": "In the context I am using the regexp the whole expression must match, because it performs a validation. It is not sufficient to pick just some matches and ignore the rest. The expression must not capture anything, if the the surrounding parts do not match. It might be possible to do two steps: first match all and afterwards split. But that performs the matching twice and copies the data twice. And it would be nice to avoid that."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "is_accepted": false, "score": 1, "last_activity_date": 1445610117, "last_edit_date": 1445610117, "creation_date": 1445609806, "answer_id": 33304581, "question_id": 33301763, "link": "https://stackoverflow.com/questions/33301763/how-to-access-a-matching-sequence-in-perl/33304581#33304581", "title": "How to access a matching sequence in Perl?", "body": "<p>I don't think there's a way to get a single capture group inside a repetition operator to produce multiple output strings. And you still haven't shown an example that isn't handled perfectly well by a simple capture of the whole sequence and then split afterward.</p>\n\n<p>The <code>(?{...})</code> solution isn't bad, especially in your example where the string is anchored at both ends, so there's no chance of it succeeding with any backtracking.</p>\n\n<p>To work in a more general case, you should initialize the array just before the repetition starts, so you don't get leftovers from partial matches, like this:</p>\n\n<pre><code>@digits=();\n\"x8w x9z x1234y\" =~ /x(?:(\\d)(?{push @digits, $^N}))+y/;\n# bad, @digits=(8,9,1,2,3,4)\n\n\"x88w x9z x1234y\" =~ /x(?{@digits=()})(?:(\\d)(?{push @digits, $^N}))+y/;\n# better, @digits=(1,2,3,4)\n</code></pre>\n"}], "owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1445610117, "creation_date": 1445601464, "last_edit_date": 1445608377, "question_id": 33301763, "link": "https://stackoverflow.com/questions/33301763/how-to-access-a-matching-sequence-in-perl", "title": "How to access a matching sequence in Perl?", "body": "<p>The following expression</p>\n\n<pre><code>print Dumper \"a.b.c.d\" =~ /(.)(?:\\.(.))*/\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>$VAR1 = 'a';\n$VAR2 = 'd';\n</code></pre>\n\n<p>Where are <code>b</code> and <code>c</code>? How to get them?</p>\n\n<p><em>Update: Further simplification</em></p>\n\n<p>The following expression</p>\n\n<pre><code>print Dumper \"abcd\" =~ /(.)+/\n</code></pre>\n\n<p>captures only the last character:</p>\n\n<pre><code>$VAR1 = 'd';\n</code></pre>\n\n<p>How to capture all characters?</p>\n\n<p><em>Another update for those who do not believe me that I can neither use the global modifier nor split.</em></p>\n\n<p>I would like to capture all digits in the following example.</p>\n\n<pre><code>print Dumper \"x1234y\" =~ /(\\d)+/\n</code></pre>\n\n<p>The expression captures just the last digit:</p>\n\n<pre><code>$VAR1 = '4';\n</code></pre>\n\n<p>What I want is this:</p>\n\n<pre><code>@digits = ();\n\"x1234y\" =~ /^x(:?(\\d)(?{push @digits, $^N}))+y$/;\nprint Dumper @digits;\n</code></pre>\n\n<p>Which captures all digits:</p>\n\n<pre><code>$VAR1 = '1';\n$VAR2 = '2';\n$VAR3 = '3';\n$VAR4 = '4';\n</code></pre>\n\n<p>The Perl documentation marks the code embedding feature with the following warning:</p>\n\n<blockquote>\n  <p>Using this feature safely requires that you understand its limitations.</p>\n</blockquote>\n\n<p>And because I am not sure, whether I understand the limitations, I though there might be a simpler way to get the same. That is what this question is about.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445601136, "post_id": 33301588, "comment_id": 54402043, "body": "Your starter for 10 - read <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\"><code>perldata</code></a> and look at hashes. Because they&#39;re what you need here."}, {"owner": {"reputation": 5, "user_id": 5479850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97446a965b4a43cb63ed145a84d6cfe?s=128&d=identicon&r=PG&f=1", "display_name": "Yens", "link": "https://stackoverflow.com/users/5479850/yens"}, "edited": false, "score": 0, "creation_date": 1445601382, "post_id": 33301588, "comment_id": 54402185, "body": "Due to my limited experience I&#39;m unsure what the right approach is. But i&#39;ve been struggling to split the lines into two separate arrays, and then i wanted to check the second array (holding data from the last two columns) for doublets, but i didn&#39;t succeed."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 5479850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97446a965b4a43cb63ed145a84d6cfe?s=128&d=identicon&r=PG&f=1", "display_name": "Yens", "link": "https://stackoverflow.com/users/5479850/yens"}, "edited": false, "score": 0, "creation_date": 1445604249, "post_id": 33302011, "comment_id": 54404015, "body": "Thank you so much, this works perfectly. I need to learn more about using hashes i guess :)"}], "tags": [], "owner": {"reputation": 2112, "user_id": 2992891, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b1a7b81201a434521f931f77de9514d5?s=128&d=identicon&r=PG", "display_name": "pcantalupo", "link": "https://stackoverflow.com/users/2992891/pcantalupo"}, "is_accepted": true, "score": -1, "last_activity_date": 1445602694, "last_edit_date": 1445602694, "creation_date": 1445602284, "answer_id": 33302011, "question_id": 33301588, "link": "https://stackoverflow.com/questions/33301588/find-doublet-data-in-csv-file/33302011#33302011", "title": "Find doublet data in csv file", "body": "<p>This is not the most efficient way but here is something to get you started. Script assumes that your input data is comma separated and can contain any number of columns.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy %h;\nmy @lines;\nwhile (&lt;&gt;) {\n  chomp;\n  push (@lines,$_);   # save each line\n  my @fields = split(/,/,$_);\n  if(@fields &gt; 1) {\n    $h{join(\"\",@fields[-2,-1])}++;   # keep track of how many times a doublet appears.\n  }\n}\n\n# go back through the lines. If doublet appears 2 or more times, append ',doublet' to the output.\nforeach (@lines) {\n  my $d = \"\";  \n  my @fields = split(/,/,$_);\n  if (@fields &gt; 1 &amp;&amp; $h{join(\"\",@fields[-2,-1])} &gt;= 2) {\n    $d = \",doublet\";\n  }\n  print $_,$d,$/;\n}\n</code></pre>\n\n<p>The syntax <code>@fields[-2,-1]</code> is an array slice that returns an array with the last two column values. Then, <code>join(\"\",...)</code> concatenates them together and this becomes the key to the hash. <code>$/</code> is the input record separator which is newline by default and is quicker to write than <code>\"\\n\"</code></p>\n\n<pre><code>cat,111,dog,555,doublet\n\ncat,444,dog,222\n\nmouse,333,dog,555,doublet\n\nmouse,555,cat,555\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 5479850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97446a965b4a43cb63ed145a84d6cfe?s=128&d=identicon&r=PG&f=1", "display_name": "Yens", "link": "https://stackoverflow.com/users/5479850/yens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 33302011, "answer_count": 1, "score": -2, "last_activity_date": 1445602694, "creation_date": 1445600922, "last_edit_date": 1445601038, "question_id": 33301588, "link": "https://stackoverflow.com/questions/33301588/find-doublet-data-in-csv-file", "title": "Find doublet data in csv file", "body": "<p>I'm trying to write a Perl script that can check if a csv file has doublet data in the two last columns. If doublet data is found, an additional column with the word \"doublet\" should be added:</p>\n\n<p>Example, the original file looks like this:</p>\n\n<pre><code>cat,111,dog,555\n\ncat,444,dog,222\n\nmouse,333,dog,555\n\nmouse,555,cat,555\n</code></pre>\n\n<p>The final output file should look like this:</p>\n\n<pre><code>cat,111,dog,555,doublet\n\ncat,444,dog,222\n\nmouse,333,dog,555,doublet\n\nmouse,555,cat,555\n</code></pre>\n\n<p>I'm very much a newbie to Perl scripting, so I won't expose myself with what i've written so far. I tried to read through the file splitting the data into two arrays, one with the first two columns, and the other with the last two columns </p>\n\n<p>The idea was then to check for doublets in the second array, and add (push?) the additional column with the \"doublets\" information to that array, and then afterwards merge to two array back together again(?)</p>\n\n<p>Unfortunately my brain has now collapsed, and I need help from someone smarter than me, to guide me in the right direction.</p>\n\n<p>Any help would be very much appreciated, thanks.</p>\n"}, {"tags": ["perl", "command-line", "command-line-arguments", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 438, "user_id": 5088258, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_Se1sJMyPJw/AAAAAAAAAAI/AAAAAAAADwk/6_4PG_vC-FU/photo.jpg?sz=128", "display_name": "Jimit Rupani", "link": "https://stackoverflow.com/users/5088258/jimit-rupani"}, "edited": false, "score": 0, "creation_date": 1445597454, "post_id": 33300458, "comment_id": 54399959, "body": "Ohhk thank you i have to look that up  <b>Getopt::Long</b> because i have no idea how to do that New into the perl you know."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 438, "user_id": 5088258, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_Se1sJMyPJw/AAAAAAAAAAI/AAAAAAAADwk/6_4PG_vC-FU/photo.jpg?sz=128", "display_name": "Jimit Rupani", "link": "https://stackoverflow.com/users/5088258/jimit-rupani"}, "edited": false, "score": 2, "creation_date": 1445597575, "post_id": 33300458, "comment_id": 54400017, "body": "Just have a look and try to do from yourself, and if you face any problem come here with your attempts. We glad to help you."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 2, "last_activity_date": 1445597096, "creation_date": 1445597096, "answer_id": 33300458, "question_id": 33300335, "link": "https://stackoverflow.com/questions/33300335/more-than-one-commandline-input-in-perl-using-argv/33300458#33300458", "title": "More than one commandline input in perl using argV", "body": "<p>If simple you want pass arguments, you can do like this:</p>\n\n<pre><code>perl exp.pl arg1 agr2\n</code></pre>\n\n<p>If you want something more, use <a href=\"http://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow\">Getopt::Long</a> module.</p>\n"}, {"tags": [], "owner": {"reputation": 1808, "user_id": 5397845, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-h5AyAVbZoqI/AAAAAAAAAAI/AAAAAAAAALA/pyUGY5qhrl4/photo.jpg?sz=128", "display_name": "Swadhikar", "link": "https://stackoverflow.com/users/5397845/swadhikar"}, "is_accepted": false, "score": 1, "last_activity_date": 1445599844, "last_edit_date": 1445599844, "creation_date": 1445599146, "answer_id": 33301077, "question_id": 33300335, "link": "https://stackoverflow.com/questions/33300335/more-than-one-commandline-input-in-perl-using-argv/33301077#33301077", "title": "More than one commandline input in perl using argV", "body": "<p>I would suggest GetOpt::Long to achieve that. But if you want to make your own see if something like this would be handy:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n# Usage check. For \"perl xxx.pl -a arg1 -b arg2\" args. should be even nos. \n\nif (scalar @ARGV == 0 or scalar @ARGV % 2 != 0) {\n    print \"Usage:\\n\\t$0 -a arg1 -b arg2 requires all args\\n\";\n    exit 0;\n}\n\n# This one convert cmd line args. to hash ex. (perl xxx.pl -a arg1 -b arg2) to {-a =&gt; arg1, -b =&gt; arg2}\nmy %argHash = @ARGV;    \n\n# Optional but see if all the args are present\nmy $maxArgs = 2;\nif (scalar keys %argHash != $maxArgs) {\n    print \"Usage:\\n\\t$0 -a arg1 -b arg2 requires exactly $maxArgs args\\n\";\n    exit 0;\n}\n\n# Parse arguments. \nprint \"$0:\\n\";\nfor my $key (keys %argHash) {\n    print \"\\t $key: $argHash{$key}\\n\";  \n}\n\n1;\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>c:\\swadhi\\perl&gt;perl cmdline.pl\nUsage:\n        cmdline.pl -a arg1 -b arg2 requires all args\n\nc:\\swadhi\\perl&gt;perl cmdline.pl -a \"user\" -b\nUsage:\n        cmdline.pl -a arg1 -b arg2 requires all args\n\nc:\\swadhi\\perl&gt;perl cmdline.pl -a \"user\" -b \"Command\"\ncmdline.pl:\n         -a: user\n         -b: Command\n\nc:\\swadhi\\perl&gt;perl cmdline.pl -a \"user\" -b \"Command\" -c \"mock\"\nUsage:\n        cmdline.pl -a arg1 -b arg2 requires exactly 2 args\n\nc:\\swadhi\\perl&gt;perl cmdline.pl -a \"user\"\nUsage:\n        cmdline.pl -a arg1 -b arg2 requires exactly 2 args\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 438, "user_id": 5088258, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_Se1sJMyPJw/AAAAAAAAAAI/AAAAAAAADwk/6_4PG_vC-FU/photo.jpg?sz=128", "display_name": "Jimit Rupani", "link": "https://stackoverflow.com/users/5088258/jimit-rupani"}, "edited": false, "score": 0, "creation_date": 1445789251, "post_id": 33301409, "comment_id": 54460509, "body": "well i will try to use this one in my solution and thanks.Though i am working on a email module in which i want to enter a email ids as an argument so with that it will send a mail to those id and i am using mail::outlook for that."}, {"owner": {"reputation": 1808, "user_id": 5397845, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-h5AyAVbZoqI/AAAAAAAAAAI/AAAAAAAAALA/pyUGY5qhrl4/photo.jpg?sz=128", "display_name": "Swadhikar", "link": "https://stackoverflow.com/users/5397845/swadhikar"}, "reply_to_user": {"reputation": 438, "user_id": 5088258, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_Se1sJMyPJw/AAAAAAAAAAI/AAAAAAAADwk/6_4PG_vC-FU/photo.jpg?sz=128", "display_name": "Jimit Rupani", "link": "https://stackoverflow.com/users/5088258/jimit-rupani"}, "edited": false, "score": 0, "creation_date": 1445862576, "post_id": 33301409, "comment_id": 54486955, "body": "Sure. I would recommend that you practice it for fuller understanding and left it out with very simple example. Cheer! :)"}], "tags": [], "owner": {"reputation": 1808, "user_id": 5397845, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-h5AyAVbZoqI/AAAAAAAAAAI/AAAAAAAAALA/pyUGY5qhrl4/photo.jpg?sz=128", "display_name": "Swadhikar", "link": "https://stackoverflow.com/users/5397845/swadhikar"}, "is_accepted": false, "score": 1, "last_activity_date": 1445600339, "creation_date": 1445600339, "answer_id": 33301409, "question_id": 33300335, "link": "https://stackoverflow.com/questions/33300335/more-than-one-commandline-input-in-perl-using-argv/33301409#33301409", "title": "More than one commandline input in perl using argV", "body": "<p>More simpler GetOpt::Long version</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Getopt::Long qw(GetOptions);\n\nmy $user_name;\n\nGetOptions('user=s' =&gt; \\$user_name) or die \"Usage: $0 --user NAME\\n\";\n\nif ($user_name) {\n    print  $user_name, \"\\n\";\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>c:\\swadhi\\perl&gt;perl cmdline.pl -user Swadhi\nSwadhi\n\nc:\\swadhi\\perl&gt;perl cmdline.pl\n\nc:\\swadhi\\perl&gt;perl cmdline.pl -p s\nUnknown option: p\nUsage: cmdline.pl --user NAME\n\nc:\\swadhi\\perl&gt;perl cmdline.pl -u \"This should also work\"\nThis should also work\n</code></pre>\n"}], "owner": {"reputation": 438, "user_id": 5088258, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_Se1sJMyPJw/AAAAAAAAAAI/AAAAAAAADwk/6_4PG_vC-FU/photo.jpg?sz=128", "display_name": "Jimit Rupani", "link": "https://stackoverflow.com/users/5088258/jimit-rupani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1445600339, "creation_date": 1445596661, "last_edit_date": 1445597021, "question_id": 33300335, "link": "https://stackoverflow.com/questions/33300335/more-than-one-commandline-input-in-perl-using-argv", "title": "More than one commandline input in perl using argV", "body": "<p>How to use command line argument in Perl to take input a file from user? May be like: <code>wxp.pl - file {file path}</code>.<br>\nI am new one in Perl so suggest me anything which is helpful. And how can I make it like more then one arguments to ask in command line.\nex:</p>\n\n<pre><code>exp.pl -file {file path}\n           -x    {it's arg}\n           -y    {y's arg}\n</code></pre>\n"}, {"tags": ["perl", "oop", "moose"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1445620405, "post_id": 33300217, "comment_id": 54414697, "body": "Using MooseX::Aliases does not make using aliases mandatory. If you don&#39;t want an alias for the <code>api</code> attribute, don&#39;t put one. It will work fine. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1445620556, "post_id": 33300217, "comment_id": 54414779, "body": "As for the bigger question, let me see if I understood. There are an Apple and a Banana. The Fridge has both of them inside. But you want the Apple to know about the Fridge, and the Worm should know about the Apple, so that it can go from Worm up to Apple up to Fridge and turn the <code>$fridge-&gt;light</code> off when it wants to sleep. Is that correct? Sounds like a horrible idea that breaks all kinds of design patterns."}, {"owner": {"reputation": 250, "user_id": 5223387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f06c37ea87ce8ff09c148ba6220b66?s=128&d=identicon&r=PG", "display_name": "Volodymyr Melnyk", "link": "https://stackoverflow.com/users/5223387/volodymyr-melnyk"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1445772349, "post_id": 33300217, "comment_id": 54455148, "body": "Thank you very much, @simbabque. I&#39;ve added some explainations to the original post. I&#39;ll be glad to get your comments."}, {"owner": {"reputation": 178, "user_id": 3960762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bqvHi.png?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/3960762/jonathan"}, "edited": false, "score": 0, "creation_date": 1453497749, "post_id": 33300217, "comment_id": 57643867, "body": "Regarding &quot;If it&#39;s really bad ... why?&quot;, the answer is that it&#39;s really bad. To fully-understand why you should do a search for &quot;Object Oriented Design Principles&quot;, but I&#39;ll do my best to to be more specific. <code>SomeFramework::SomeSubsystem</code> is figuratively being used as a bucket to hold functionality rather than to model something. <code>SomeFramework</code> is effectively a collection of global variables and methods (you can do a separate search if you don&#39;t know why globals are bad). <code>get_some_framework</code> exposes all of that global stuff to any consumers of the <code>SomeFramework::SomeSubsystem</code> class."}], "owner": {"reputation": 250, "user_id": 5223387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f06c37ea87ce8ff09c148ba6220b66?s=128&d=identicon&r=PG", "display_name": "Volodymyr Melnyk", "link": "https://stackoverflow.com/users/5223387/volodymyr-melnyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1445772876, "creation_date": 1445596191, "last_edit_date": 1445772876, "question_id": 33300217, "link": "https://stackoverflow.com/questions/33300217/perl5-moose-attribute-accessors-names", "title": "Perl5 - Moose - Attribute accessors&#39; names", "body": "<p>I'd like to ask you for an advice regarding attribute accessors' naming.</p>\n\n<p>I started to develop a project that is supposed to have quite a ramified hierarchy of classes, for example, the <code>SomeFramework</code> class, a bunch of classes like <code>SomeFramework::Logger</code> and, let's say, classes similar to <code>SomeFramework::SomeSubsystem::SomeComponent::SomeAPI</code> classes.</p>\n\n<p>My goal is to design the most efficient communication between all these classes. I'll explain how I'm doing it now, so maybe you would like to share some opinions on how to make it better.</p>\n\n<p>When I initialize the <code>SomeFramework</code> class, I have an object reference which I use from my application.</p>\n\n<pre><code>my $someframework = SomeFramework-&gt;new(parameter =&gt; 'value');\n</code></pre>\n\n<p>The <code>SomeFramework</code> class has some attributes, such as <code>logger</code>, <code>configuration</code>, etc, here are some examples of their definitions:</p>\n\n<pre><code>has 'logger' =&gt; (\n    is          =&gt; 'ro',\n    isa         =&gt; 'SomeFramework::Logger',\n    reader      =&gt; 'get_logger',\n    writer      =&gt; '_set_logger',\n    builder     =&gt; '_build_logger',\n    lazy        =&gt; 1\n);\n\nsub _build_logger {\n\n    my $self = shift;\n\n    SomeFramework::Logger-&gt;new(someframework =&gt; $self);\n\n}\n</code></pre>\n\n<p>I'm passing the reference to the parent object to the child object, because I need the child to have access to the parent and its methods &amp; accessors. So in the <code>SomeFramework::Logger</code> I have such attribute:</p>\n\n<pre><code>has 'someframework' =&gt; (\n    is          =&gt; 'ro',\n    isa         =&gt; 'SomeFramework',\n    reader      =&gt; 'get_someframework',\n    writer      =&gt; '_set_someframework',\n    required    =&gt; 1\n);\n</code></pre>\n\n<p>It lets me to have access to any object from within the <code>SomeFramework::Logger</code> class, usually it looks something like that:</p>\n\n<pre><code>my $configuration =\n     $self-&gt;\n     get_someframework-&gt;\n     get_configuration-&gt;\n     get_blah_blah;\n</code></pre>\n\n<p>To extrapolate it, let's look into the <code>SomeFramework::SomeSubsystem::SomeComponent::SomeAPI</code> class. This class has its own \"parent\" attribute (let's call it <code>somecomponent</code>) which is supposed to have a reference to a <code>SomeFramework::SomeSubsystem::SomeComponent</code> object as the value. The <code>SomeFramework::SomeSubsystem::SomeComponent</code> class has the attribute for its own parent attribute (we can call it <code>somesubsystem</code>) which is supposed to contain a reference to a <code>SomeFramework::SomeSubsystem</code> object. And, finally, this class has the attribute for its own parent too (<code>someframework</code>), so it contains the reference to a <code>SomeFramework</code> object.</p>\n\n<p>It all makes it possible to have something like that inside of the <code>SomeFramework::SomeSubsystem::SomeComponent::SomeAPI</code> class:</p>\n\n<pre><code>my $configuration =\n    $self-&gt;\n    get_someframework-&gt;\n    get_somesubsystem-&gt;\n    get_somecomponent-&gt;\n    get_configuration-&gt;\n    get_blah_blah;\n</code></pre>\n\n<p>The first thing I'd like to know: is it a good practice? I hope, it is, but maybe you would advice me to go some more smooth way?</p>\n\n<p>The second question is a bit more complicated (as for me), but I hope you'll help me with it. :) I like canonical names of accessors recommended by D.Conway in his \"Perl Best Practices\", but I'd like to do something like that:</p>\n\n<pre><code>my $configuration = $self-&gt;sc-&gt;ss-&gt;sf-&gt;conf-&gt;blah_blah;\n</code></pre>\n\n<p>Surely I can name all readers in this laconical manner:</p>\n\n<pre><code>has 'some_framework' =&gt; (\n    is          =&gt; 'ro',\n    isa         =&gt; 'SomeFramework',\n    reader      =&gt; 'sf',\n    writer      =&gt; '_set_someframework',\n    required    =&gt; 1\n);\n</code></pre>\n\n<p>But I don't like the idea of managing without the \"standard\" accessors names. :(</p>\n\n<p>Also I can use <code>MooseX::Aliases</code>, it works fine for something like that:</p>\n\n<pre><code>has 'some_framework' =&gt; (\n    is          =&gt; 'ro',\n    isa         =&gt; 'SomeFramework',\n    reader      =&gt; 'get_someframework',\n    writer      =&gt; '_set_someframework',\n    required    =&gt; 1,\n    alias       =&gt; 'sf'\n);\n</code></pre>\n\n<p>It looks fine, but there's an issue with attributes which names do NOT needed to be shortened. For example:</p>\n\n<pre><code>has 'api' =&gt; (\n    is          =&gt; 'ro',\n    isa         =&gt; 'SomeFramework::SomeSubsystem::SomeComponent::API',\n    reader      =&gt; '_get_api',\n    writer      =&gt; '_set_api',\n    required    =&gt; 1,\n    alias       =&gt; 'api'\n);\n</code></pre>\n\n<p>In this case Moose throws an exception: <code>Conflicting init_args: (api, api) at constructor</code>. :( As I understand, MooseX::Aliases tries to create an attribute with the same value of the <code>init_args</code> parameter, so it fails. By the way, sometimes it happens, but sometimes it works fine, I haven't discovered when exactly it doesn't work.</p>\n\n<p>Maybe I should have something like that:</p>\n\n<pre><code>has 'api' =&gt; (\n    is          =&gt; 'ro',\n    isa         =&gt; 'SomeFramework::SomeSubsystem::SomeComponent::API',\n    reader      =&gt; '_get_api',\n    writer      =&gt; '_set_api',\n    required    =&gt; 1,\n    handles     =&gt; {\n        api =&gt; 'return_self' # It's supposed to have some method that only\n                             # returns the reference to its own object\n    }\n);\n</code></pre>\n\n<p>? But it doesn't seem to be the best option too, because it helps me only if the attribute contains a reference some object for which I can define the <code>return_self</code> method. If the attribute contains a reference to some \"foreign\" object or some other value (e.g., a hash), it won't be possible to call that method. :(</p>\n\n<p>Ugh... Sorry for such a long rant! I hope, you have managed to read to here. :)</p>\n\n<p>I'll be very happy to get to know what do you thing and what would you suggest to do. Feel free to share any your ideas on this topic, any fresh ideas will be very appreciated!</p>\n\n<h2>Updated on 25.10.2015</h2>\n\n<blockquote>\n  <p>As for the bigger question, let me see if I understood. There are an Apple and a Banana. The Fridge has both of them inside. But you want the Apple to know about the Fridge, and the Worm should know about the Apple, so that it can go from Worm up to Apple up to Fridge and turn the <code>$fridge-&gt;light</code> off when it wants to sleep. Is that correct? Sounds like a horrible idea that breaks all kinds of design patterns</p>\n</blockquote>\n\n<p>Well, to be frank, I didn't think it's horrible. As for me, it's quite good when it's possible to have access from some class to some other class <strong>within the same framework</strong>. Why not? For example, let's imagine we have some class for the jobs-queue runner (let's call it <code>SomeFramework::JobsQueue::Executor</code>) and some class for jobs. Is it really bad to do something like:</p>\n\n<pre><code>package SomeFramework::JobsQueue::Executor;\n\nuse Moose;\nuse MooseX::Params::Validate;\n\nhas queue {\n    isa      =&gt; 'SomeFramework::JobsQueue',\n    required =&gt; 1,\n    reader   =&gt; 'get_queue',\n    writer   =&gt; '_set_queue'\n}\n# This attribute is being set by the framework when the framework\n# creates the SomeFramework::JobsQueue::Executor-based object\n\nsub execute {\n    my($self, $job, $options) = validated_hash(\n        \\@_,\n        job     =&gt; { isa =&gt; 'SomeFramework::JobsQueue::Job' },\n        options =&gt; { isa =&gt; 'HashRef' }\n    );\n    my $queue = $self-&gt;get_queue;\n    $queue-&gt;mark_as_running($job-&gt;get_id);\n    $job-&gt;execute(options =&gt; $options);\n    $queue-&gt;mark_as_completed($job-&gt;get_id);\n}\n</code></pre>\n\n<p>? So, our queue-runner object is aware about the queue object it \"belongs\" to, so it can call some methods of this queue object.</p>\n\n<p>Or let's look at much more simple example:</p>\n\n<pre><code>package SomeFramework::SomeSubsystem;\n\nuse Moose;\n\nhas 'some_framework' =&gt; {\n    isa      =&gt; 'SomeFramework',\n    required =&gt; 1,\n    reader   =&gt; 'get_some_framework',\n    writer   =&gt; '_set_some_framework'\n}\n\nsub some_method {\n    my $self = shift;\n    $self-&gt;get_some_framework-&gt;get_logger-&gt;log_trace(\"Hello, world!\");\n}\n</code></pre>\n\n<p>So, our object knows how to call methods of the framework's object that has initialized that object, moreover it can call some methods of the framework's object and even some methods of other objects initialized and stored by the framework's object.</p>\n\n<p>If it's really bad, would you be so kind as to help me to understand why? Thank you!</p>\n"}, {"tags": ["perl", "crontab", "execution", "cron-task"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1445598112, "post_id": 33300159, "comment_id": 54400289, "body": "We need to know a bit more. Is the crontab owned by you, or is it another user? Where does the <code>get()</code> function come from? If it&#39;s the one from <a href=\"https://metacpan.org/pod/LWP::Simple\" rel=\"nofollow noreferrer\">LWP::Simple</a> then that doesn&#39;t set <code>$!</code> on error, so your error message isn&#39;t going to be very helpful."}, {"owner": {"reputation": 1637, "user_id": 1829473, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/37a3d3c86fdac20366db9a8c092a2f56?s=128&d=identicon&r=PG", "display_name": "MaMu", "link": "https://stackoverflow.com/users/1829473/mamu"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1445599217, "post_id": 33300159, "comment_id": 54400931, "body": "Indeed.. I&#39;m using  <code>LWP::Simple</code> and <code>$!</code> was wrong here. Anyhow I&#39;m not able to get the content from cronjob whereas I&#39;m able to get it from command line. Crontab is owned by root. And I execute this script as root as well."}, {"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "edited": false, "score": 0, "creation_date": 1445600841, "post_id": 33300159, "comment_id": 54401888, "body": "Can you add a <code>wget</code> or <code>curl</code> cron job to rule out whether it&#39;s a perl issue or not?"}, {"owner": {"reputation": 1637, "user_id": 1829473, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/37a3d3c86fdac20366db9a8c092a2f56?s=128&d=identicon&r=PG", "display_name": "MaMu", "link": "https://stackoverflow.com/users/1829473/mamu"}, "edited": false, "score": 0, "creation_date": 1445605712, "post_id": 33300159, "comment_id": 54404963, "body": "It doesnt come per wget from cron neither."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1445614500, "post_id": 33300159, "comment_id": 54411274, "body": "Please switch to the following so you can see what error you are getting: <code>my $ua = LWP::UserAgent-&gt;new(); my $response = $ua-&gt;get($url); die($response-&gt;status_line()) if !$response-&gt;is_success(); my $site = $response-&gt;content();</code>"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445598439, "post_id": 33300751, "comment_id": 54400478, "body": "<code>cron</code> will also have a different <code>cwd</code>, which can cause problems too."}, {"owner": {"reputation": 3361, "user_id": 5395288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pw0Jz.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5395288/michael"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445598520, "post_id": 33300751, "comment_id": 54400527, "body": "Yep, there are a few differences, but bash -l should make the environment pretty much like the users shell... unless it&#39;s a different user of course :)"}, {"owner": {"reputation": 1637, "user_id": 1829473, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/37a3d3c86fdac20366db9a8c092a2f56?s=128&d=identicon&r=PG", "display_name": "MaMu", "link": "https://stackoverflow.com/users/1829473/mamu"}, "edited": false, "score": 0, "creation_date": 1445599320, "post_id": 33300751, "comment_id": 54400990, "body": "The script is found and is running. BTW: Shell is tsch .The problem is, that the page is not get. All paths are absolute."}, {"owner": {"reputation": 3361, "user_id": 5395288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pw0Jz.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5395288/michael"}, "edited": false, "score": 0, "creation_date": 1445600871, "post_id": 33300751, "comment_id": 54401910, "body": "Run it from cron, as your user (the user you are using on the shell where it works) using tsch -l then. See if that works."}, {"owner": {"reputation": 1637, "user_id": 1829473, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/37a3d3c86fdac20366db9a8c092a2f56?s=128&d=identicon&r=PG", "display_name": "MaMu", "link": "https://stackoverflow.com/users/1829473/mamu"}, "edited": false, "score": 0, "creation_date": 1445605060, "post_id": 33300751, "comment_id": 54404554, "body": "Actually is tcsh (typo). I&#39;m getting Unknown option: `-l&#39; Usage: tcsh [ -bcdefilmnqstvVxX ] [ argument ... ].So -l is possible."}, {"owner": {"reputation": 3361, "user_id": 5395288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pw0Jz.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5395288/michael"}, "edited": false, "score": 0, "creation_date": 1445607143, "post_id": 33300751, "comment_id": 54405957, "body": "LOL I typo&#39;d it in the comment AND the answer edit, it has happened to me before, I think I sometimes suffer from a kind of literary dyslexia. Odd you&#39;re getting a usage error, and it looks like &#39;l&#39; is listed in the usage error as an option too... Check your man page for your version I guess, but the man page for tcsh I looked at certainly listed -l as meaning &#39;run as a Login shell&#39;, which means it pulls in all your user environment."}], "tags": [], "owner": {"reputation": 3361, "user_id": 5395288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pw0Jz.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5395288/michael"}, "is_accepted": false, "score": 1, "last_activity_date": 1445606898, "last_edit_date": 1445606898, "creation_date": 1445598069, "answer_id": 33300751, "question_id": 33300159, "link": "https://stackoverflow.com/questions/33300159/not-able-to-execute-script-from-crontab/33300751#33300751", "title": "Not able to execute script from crontab", "body": "<p>It's difficult to say what might be causing this, but there are differences between your environment, and the environment created by crontab.</p>\n\n<p>You could try running it through a shell with appropriate args to construct your user environment:</p>\n\n<pre><code>55 11 * * 2-6 /bin/tcsh -l /path/to/script.pl run &gt;&gt; /tmp/script.log 2&gt;&amp;1\n</code></pre>\n\n<p>I'm assuming you are running it by cron with your own user ID of course. If you aren't, then obviously you should try running it manually with the user ID that cron is using to run it.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1445614266, "creation_date": 1445614266, "answer_id": 33306199, "question_id": 33300159, "link": "https://stackoverflow.com/questions/33300159/not-able-to-execute-script-from-crontab/33306199#33306199", "title": "Not able to execute script from crontab", "body": "<p>If it's not a difference in environment variables (e.g. those that specify a proxy to use), I believe you are running afoul of SElinux. Among other things, it prevents background applications (e.g. cron jobs) from accessing the internet unless you explicitly allow them to do so. I don't know how to do so, but you should be able to find out quite easily.</p>\n"}], "owner": {"reputation": 1637, "user_id": 1829473, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/37a3d3c86fdac20366db9a8c092a2f56?s=128&d=identicon&r=PG", "display_name": "MaMu", "link": "https://stackoverflow.com/users/1829473/mamu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1445614266, "creation_date": 1445595986, "last_edit_date": 1445599811, "question_id": 33300159, "link": "https://stackoverflow.com/questions/33300159/not-able-to-execute-script-from-crontab", "title": "Not able to execute script from crontab", "body": "<p>I am able to execute scrip from command line.\nI'm executing it like this:</p>\n\n<pre><code>/path/to/script run\n</code></pre>\n\n<p>But while executing it from cron like below, the page is not comming: </p>\n\n<pre><code>55     11 * * 2-6   /path/to/script.pl run   &gt;&gt; /tmp/script.log              2&gt;&amp;1\n</code></pre>\n\n<p>The line which is getting a webpage uses <code>LWP::Simple</code>:</p>\n\n<pre><code>my $site = get(\"http://sever.com/page\") ;\n</code></pre>\n\n<p>I'm not modyfing anything. The page is valid and accessible. \nI'm getting enpty page only when I execute this script from crontab. I am able to execute itfrom command line!\n Crontab is owned by root. And job is executed as root.</p>\n\n<p>Thanks in advance for any clue!</p>\n"}, {"tags": ["apache", "perl", "centos"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1445597828, "creation_date": 1445597828, "answer_id": 33300682, "question_id": 33299978, "link": "https://stackoverflow.com/questions/33299978/how-should-i-restrict-direct-url-access-to-a-form-mail-script-in-perl-cgi/33300682#33300682", "title": "How should I restrict direct url access to a form mail script in perl-cgi?", "body": "<p>You can't.</p>\n\n<p>Some people tell you that you can do it by looking at the HTTP Referer in the request. But that can be faked.</p>\n"}], "owner": {"reputation": 1, "user_id": 5447793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b9881b311e35af0f928ee556cd39b69?s=128&d=identicon&r=PG&f=1", "display_name": "Yelu", "link": "https://stackoverflow.com/users/5447793/yelu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445597828, "creation_date": 1445595420, "last_edit_date": 1445596105, "question_id": 33299978, "link": "https://stackoverflow.com/questions/33299978/how-should-i-restrict-direct-url-access-to-a-form-mail-script-in-perl-cgi", "title": "How should I restrict direct url access to a form mail script in perl-cgi?", "body": "<p>My project is running on a apache server on <strong>CentOS</strong>.</p>\n\n<p>My project is one-page site that contains a form that send mail when submitted.</p>\n\n<p>I wrote that form mail script in <strong>Perl CGI</strong>.</p>\n\n<p>It is able to send mail when submitted but I want to restrict the direct URL access to that mail script.</p>\n\n<p>How should I do, please?</p>\n"}, {"tags": ["regex", "xml", "perl", "libxml2"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1445591569, "post_id": 33298271, "comment_id": 54396424, "body": "An initial sample would help us help you. Like - what do you have in your array? As would a longer (and valid) XML snippet."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445592048, "post_id": 33298271, "comment_id": 54396700, "body": "That doesn&#39;t match your <code>id</code> element then."}, {"owner": {"reputation": 21, "user_id": 3204482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2087a433bd1914c13df41a5a6c8e854d?s=128&d=identicon&r=PG&f=1", "display_name": "user3204482", "link": "https://stackoverflow.com/users/3204482/user3204482"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445592568, "post_id": 33298271, "comment_id": 54397024, "body": "@Sobrique I have edited the question.. Please see it again"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445592873, "post_id": 33298271, "comment_id": 54397213, "body": "Answer edited accordingly."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445593191, "post_id": 33298271, "comment_id": 54397397, "body": "Input XML is still not valid. Please - if you&#39;re quoting a subset, at least run it through a validator."}, {"owner": {"reputation": 21, "user_id": 3204482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2087a433bd1914c13df41a5a6c8e854d?s=128&d=identicon&r=PG&f=1", "display_name": "user3204482", "link": "https://stackoverflow.com/users/3204482/user3204482"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445593545, "post_id": 33298271, "comment_id": 54397627, "body": "Thanx for the help @Sobrique, Will update if anything stucks further..:)"}, {"owner": {"reputation": 21, "user_id": 3204482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2087a433bd1914c13df41a5a6c8e854d?s=128&d=identicon&r=PG&f=1", "display_name": "user3204482", "link": "https://stackoverflow.com/users/3204482/user3204482"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445594858, "post_id": 33298271, "comment_id": 54398425, "body": "It works as intended @Sobrique, Just a small point to clear. If i have the versions to be updated in another array say /@new_version, how would i modify the script.??"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445595083, "post_id": 33298271, "comment_id": 54398559, "body": "Create a <code>hash</code> that has key-values denoting what needs changing, and then reference instead of just doing &#39;+1&#39;."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1445597204, "last_edit_date": 1445597204, "creation_date": 1445592053, "answer_id": 33298876, "question_id": 33298271, "link": "https://stackoverflow.com/questions/33298271/in-xml-file-how-to-replace-one-attribute-depending-upon-pattern-match-of-some-a/33298876#33298876", "title": "In XML file, how to replace one attribute depending upon pattern match of some another attribute using perl?", "body": "<p>What you need to do this is something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy @ids = ( \"../../../shared_ip/pex/pci_express_1/topics/pci_express_extended_configuration_space.xml\" );\n\nmy $twig = XML::Twig -&gt; parse ( \\*DATA ); \nforeach my $id ( @ids ) { \n   foreach my $match ( $twig -&gt; findnodes(\"staticXMLResource[\\@id=\\\"$id\\\"]\") ) {\n       $match -&gt; set_att('version', $match-&gt;att('version') + 1 );\n   }\n}\n$twig -&gt; print;\n\n__DATA__\n&lt;XML&gt;\n&lt;staticXMLResource language=\"eng\" variant=\"default\" version=\"9\" id=\"../../../shared_ip/pex/pci_express_1/topics/pci_express_extended_configuration_space.xml\"&gt;\n&lt;/staticXMLResource&gt;\n&lt;/XML&gt;\n</code></pre>\n\n<ul>\n<li>We load your XML. (I use <code>DATA</code> for illustration, because I have had to mock up some XML similar to yours. You probably shouldn't). </li>\n<li>We iterate each of your IDs. </li>\n<li>we look for elements that have an attribute <em>matching</em> that ID.</li>\n<li>We retrieve the version, increment it, and then set that new value.</li>\n</ul>\n\n<p>And then we print the XML. </p>\n\n<p>You may find <code>set_pretty_print</code> to be useful for formatting. </p>\n\n<p>E.g.:</p>\n\n<pre><code>$twig -&gt; set_pretty_print('indented_a');\n</code></pre>\n\n<p>Edit: Given you have included some array content - that doesn't precisely match your attribute, so you need to do it slightly differently:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy @ids = qw ( pci_express_1/topics/pci_express_extended_configuration_space.xml \n        pci_express_1/images/b2ac21.svg );\n\n#assemble a regex from the search elements. \nmy $search = join ( \"|\", @ids ); \n   $search = qr/($search)/; \n\n#parse XML - you'll probably want \"parsefile\" or \"parse\" depending on your \n#XML source. \nmy $twig = XML::Twig -&gt; parse ( \\*DATA ); \n\n#iterate the children of the root (staticResources) node \n# NB - this might not match your larger file. \nforeach my $resource ( $twig -&gt; root -&gt; children ) {\n   #test if the 'id' attribute matches our regex. \n   #note - regex is unanchored, so substring matches work. \n   if ( $resource -&gt; att('id') =~ m/$search/ ) { \n      #increment version id. \n      $resource -&gt; set_att('version', $resource-&gt;att('version') + 1 ); \n   }\n}\n#set output format\n$twig -&gt; set_pretty_print('indented_a'); \n#print to stdout. \n#To print to a file, you may want print {$opened_fh} $twig -&gt; sprint; \n$twig -&gt; print; \n\n__DATA__\n&lt;staticResources&gt;\n&lt;staticXMLResource language=\"eng\" variant=\"default\" version=\"9\" id=\"../../../shared_ip/pex/pci_express_1/topics/pci_express_extended_configuration_space.xml\"&gt;\n    &lt;/staticXMLResource&gt;\n    &lt;staticXMLResource language=\"eng\" variant=\"default\" version=\"9\" id=\"../../../shared_ip/pex/pci_express_1/topics/pci_express_extended_configuration_space.xml\"&gt;\n&lt;/staticXMLResource&gt;\n&lt;staticMMOResource language=\"eng\" variant=\"default\" version=\"3\" id=\"../../../shared_ip/pex/pci_express_1/images/b2ac21.svg\"&gt;&lt;/staticMMOResource&gt;\n&lt;/staticResources&gt;\n</code></pre>\n\n<p>We build a search regex <code>$search</code> out of the patterns you have. Then we iterate your <code>child</code> nodes of your <code>root</code> (if your XML is bigger, then you might need to use <code>get_xpath</code> still). </p>\n"}], "owner": {"reputation": 21, "user_id": 3204482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2087a433bd1914c13df41a5a6c8e854d?s=128&d=identicon&r=PG&f=1", "display_name": "user3204482", "link": "https://stackoverflow.com/users/3204482/user3204482"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1445597204, "creation_date": 1445590022, "last_edit_date": 1445592877, "question_id": 33298271, "link": "https://stackoverflow.com/questions/33298271/in-xml-file-how-to-replace-one-attribute-depending-upon-pattern-match-of-some-a", "title": "In XML file, how to replace one attribute depending upon pattern match of some another attribute using perl?", "body": "<p>I have XML file something like this </p>\n\n<pre><code>    &lt;staticResources&gt;&lt;staticMMOResource language=\"eng\" variant=\"default\" version=\"5\" id=\"../../../shared_ip/pex/pex_shared/images/compatible_config_header-type_1_non_cust.svg\"&gt;\n&lt;/staticMMOResource&gt;\n        &lt;/staticXMLResource&gt;&lt;staticXMLResource language=\"eng\" variant=\"default\" version=\"9\" id=\"../../../shared_ip/pex/pci_express_1/topics/pci_express_extended_configuration_space.xml\"&gt;\n    &lt;/staticXMLResource&gt;&lt;staticMMOResource language=\"eng\" variant=\"default\" version=\"3\" id=\"../../../shared_ip/pex/pci_express_1/images/b2ac21.svg&gt;&lt;/staticMMOResource&gt;&lt;/staticResources&gt;\n</code></pre>\n\n<p>I need to update the version attribute if the ID matches with particular set of IDs (I have stored all the required IDs in an array). \nArray has ID's like </p>\n\n<pre><code>pci_express_1/topics/pci_express_extended_configuration_space.xml\npci_express_1/images/b2ac21.svg\n</code></pre>\n\n<p>I need Output which looks like</p>\n\n<pre><code>&lt;staticResources&gt;&lt;staticMMOResource language=\"eng\" variant=\"default\" version=\"5\" id=\"../../../shared_ip/pex/pex_shared/images/compatible_config_header-type_1_non_cust.svg\"&gt;\n    &lt;/staticMMOResource&gt;\n            &lt;/staticXMLResource&gt;&lt;staticXMLResource language=\"eng\" variant=\"default\" version=\"11\" id=\"../../../shared_ip/pex/pci_express_1/topics/pci_express_extended_configuration_space.xml\"&gt;\n        &lt;/staticXMLResource&gt;&lt;staticMMOResource language=\"eng\" variant=\"default\" version=\"5\" id=\"../../../shared_ip/pex/pci_express_1/images/b2ac21.svg&gt;&lt;/staticMMOResource&gt;&lt;/staticResources&gt;\n</code></pre>\n\n<p>Please help!! I am new in Perl.</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 33954, "user_id": 49478, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c42283aeb1521ae0e27bd41b7fdb227?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/49478/anthony"}, "edited": false, "score": 0, "creation_date": 1445579995, "post_id": 33295700, "comment_id": 54390779, "body": "<code>$qObj-&gt;rows</code> will show the affected rows count after the execute.  <a href=\"http://www.perlhowto.com/dbi_get_the_number_of_rows_affected_by_a_sql_statement\" rel=\"nofollow noreferrer\">perlhowto.com/&hellip;</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 33954, "user_id": 49478, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c42283aeb1521ae0e27bd41b7fdb227?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/49478/anthony"}, "edited": false, "score": 1, "creation_date": 1445584795, "post_id": 33295700, "comment_id": 54392862, "body": "@Anthony that resource is wrong. While the general idea is correct, there are syntax errors on that tutorial."}, {"owner": {"reputation": 33954, "user_id": 49478, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c42283aeb1521ae0e27bd41b7fdb227?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/49478/anthony"}, "edited": false, "score": 0, "creation_date": 1445585004, "post_id": 33295700, "comment_id": 54392959, "body": "Fair enough. Here&#39;s the documentation on the <code>rows</code> property, from the manual : <a href=\"https://metacpan.org/pod/DBI#rows\" rel=\"nofollow noreferrer\">metacpan.org/pod/DBI#rows</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1445585479, "post_id": 33295700, "comment_id": 54393218, "body": "If this is your first work with Perl, you should switch the tutorials you are learning from as soon as possible. You are doing Perl in a way that was common (yet not very good) about 15 years ago. If you care to do it properly and in a way that will be way easier to maintain, please take a look at the websites and books linked in the <a href=\"http://stackoverflow.com/tags/perl/info\">tag wiki</a>. Start by reading up on <code>use strict</code> and <code>use warnings</code>. Don&#39;t use global variables, indent your code and fix the other syntax errors. Right now it doesn&#39;t even compile."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1445589397, "post_id": 33295700, "comment_id": 54395242, "body": "I second what @simbabque says about your Perl style. <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\">CGI::Alternatives</a> lists some better ways to write CGI programs and the <a href=\"http://perl-tutorial.org/\" rel=\"nofollow noreferrer\">Perl Tutorial Hub</a> will point you at some higher quality Perl tutorials."}], "answers": [{"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 2, "last_activity_date": 1445586804, "creation_date": 1445586804, "answer_id": 33297370, "question_id": 33295700, "link": "https://stackoverflow.com/questions/33295700/how-to-display-number-of-database-inserts-in-a-particular-session-in-cgi-perl/33297370#33297370", "title": "How to display number of database inserts in a particular session in cgi perl", "body": "<p>Per the <a href=\"https://metacpan.org/pod/DBI#execute\" rel=\"nofollow\">DBI documentation</a>,</p>\n\n<blockquote>\n  <p>For a <em>non</em>-<code>SELECT</code> statement, <code>execute</code> returns the number of rows affected, if known. If no rows were affected, then <code>execute</code> returns \"0E0\", which Perl will treat as 0 but will regard as true. Note that it is <em>not</em> an error for no rows to be affected by a statement. If the number of rows affected is not known, then <code>execute</code> returns -1.</p>\n</blockquote>\n\n<p>So, if you change <code>$qObj-&gt;execute...</code> to <code>my $rv = $qObj-&gt;execute...</code>, then <code>$rv</code> will contain the number of rows affected (when executing <code>INSERT</code>, <code>UPDATE</code>, or other non-<code>SELECT</code> statements).  This will allow you to immediately tell the user \"you just inserted <code>$rv</code> questions into the database\" after a form submission.</p>\n\n<p>However, I suspect that your assignment actually wants the program to be able to show the total number of questions inserted by a session (identified by <code>$sessionID</code> in your existing code), not just the number added by an individual form submission.  The way to do <em>that</em> is to add a <code>session_id</code> column to the database and populate it with the value of <code>$sessionID</code> when inserting questions.  You can then <code>SELECT count(*) FROM $quiz_table_name GROUP BY session_id</code> to get a list of all sessions and the number of questions inserted by each.</p>\n\n<p>Finally, some standard Perl advice for beginners:</p>\n\n<ul>\n<li><em>Always</em> start your programs with <code>use strict;</code> and <code>use warnings;</code>, then fix everything they complain about.  They're excellent debugging tools and help you to write better code.  If the complaints are too cryptic for you to understand, you can also <code>use diagnostics;</code> to get more verbose/detailed messages.</li>\n<li>Interpolating variables directly into your SQL statements makes your code vulnerable to SQL injection attacks.  If you think you're likely to use Perl much in the future, get into the habit of using SQL placeholders instead.  Consider using placeholders even if not, especially if your instructor is at all security-conscious.  See <a href=\"http://bobby-tables.com/\" rel=\"nofollow\">bobby-tables.com</a> for more information about this, including examples of how to use placeholders in Perl (and several other languages).</li>\n<li>The <code>CGI</code> module has methods for reading and decoding the data received from the web server.  You're generally better off using them than inspecting <code>%ENV</code> by hand.  (You'd be even better off using a proper web framework, such as Dancer, Mojolicious, or Catalyst, but I assume that would fall outside of your assignment's boundaries.)</li>\n<li>Don't use an <code>&amp;</code> prefix when making function calls.  (e.g., use <code>begin_quiz()</code>, not <code>&amp;begin_quiz</code>)  The prefix is a holdover from Perl 4 which is no longer needed in Perl 5.  Aside from looking less pleasant, it also has side-effects that you probably don't need or want.</li>\n</ul>\n"}], "owner": {"reputation": 31, "user_id": 5415955, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ac81595bbe8c3e181e6032f1be2a2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "S.taj", "link": "https://stackoverflow.com/users/5415955/s-taj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445586804, "creation_date": 1445579760, "last_edit_date": 1445580948, "question_id": 33295700, "link": "https://stackoverflow.com/questions/33295700/how-to-display-number-of-database-inserts-in-a-particular-session-in-cgi-perl", "title": "How to display number of database inserts in a particular session in cgi perl", "body": "<p>I have an assignment which requires us to create a quiz form  in perl cgi accepting new questions from our local web browser. Each insertion of question need to be updated in state table, and at the end should display number of questions exists in database as well as new questions inserted at each session.I used HTML for forms and Mysql as my database and running on localhost. My state table has columns id, qnumber,last_modified,new_quest.\n    Here is my code i have implemented so far:</p>\n\n<pre><code>#! /usr/bin/perl\nprint \"Content-type: text/html\\n\\n\";\n\nif ($ENV{\"REQUEST_METHOD\"} eq \"POST\") {\n  read(STDIN, $datastring, $ENV{\"CONTENT_LENGTH\"});     \n}\nelsif (exists $ENV{\"REQUEST_METHOD\"}) {     # data from GET transaction (or HEAD or other)\n  $datastring = $ENV{\"QUERY_STRING\"};\n}\nelse {\n  print \"Offline execution detected\\n\";\n  print \"Please enter some data.\\n\";\n  $datastring = &lt;&gt;;\n  chomp $datastring;\n  print \"== data accepted == HTML output follows ==\\n\\n\";\n}\n\n###decode######################################################\n$datastring =~s/%0D%0A/\\n/g;                            #step to deal with line\n                                #breaks in text areas\n@nameValuePairs = split(/&amp;/, $datastring);          #step 1\nforeach $pair (@nameValuePairs) {\n  ($name, $value) = split(/=/, $pair);              #step 2\n\n  $name =~tr/+/ /;                                      #step 3\n  $name =~s/%([\\da-fA-F]{2})/pack(\"C\",hex($1))/eg;      #step 3\n  $value =~tr/+/ /;                                     #step 3\n  $value =~s/%([\\da-fA-F]{2})/pack(\"C\",hex($1))/eg;     #step 3\n\n  if(exists $formHash{$name}) {                 #improved step 4,\n    $formHash{$name} = $formHash{$name}.\";\".$value;     #now handles multiple\n  }                             #select menus\n  else {\n    $formHash{$name} = $value;\n  }     \n}\n###done decoding###############################################\n\n### global variables ##########################################\nuse DBI;\nuse CGI qw(:standard);\n$dbhandle = DBI-&gt;connect(\"DBI:mysql:databasexx\", \"idxx\", \"passxx\")  \n    or &amp;errorPage(\"Can't connect to database\". DBI-&gt;errstr()); \n$file_life_span = 1.0/24; # in days (so is 1 hours)\n$time_out = 1.0/24; # in days\n$cache_limit = 300;\n$state_table_name = \"xyz\";  # name of state table\n$quiz_table_name = \"xyzz\";     # name of quiz table\n%stateHash=();\n### end of global variables #####################################\n\n### app logic ###################################################\nif($formHash{\"request\"} eq \"begin_quiz\") {\n    &amp;begin_quiz;\n}\nelsif($formHash{\"id\"} eq \"SessionId\") {\n    &amp;enter_question;\n}\nelse {\n    &amp;welcome_page;\n}\n### end app logic ################################################\n\n\n##################################################################\nsub welcome_page {\n print &lt;&lt;PAGE;\n &lt;html&gt;&lt;head&gt;&lt;title&gt;Trivia Quiz&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;\n   &lt;h2&gt;Welcome to the Trivia Quiz&lt;/h2&gt;\n You will be asked to enter questions for quiz.\n    &lt;form action=\"$ENV{SCRIPT_NAME}\" method=\"GET\"&gt;\n     &lt;input type=\"hidden\" name=\"request\" value=\"begin_quiz\"&gt;\n     &lt;input type=\"submit\" value=\"Begin Quiz\"&gt;\n    &lt;/form&gt;\n &lt;/body&gt;\n&lt;/html&gt;\nPAGE\n}\n\n##################################################################\n\nsub begin_quiz {\n my $sessionID = &amp;get_long_id_db($dbhandle, $state_table_name, $cache_limit, $file_life_span);\n %stateHash = (\"qnumber\"=&gt;1, \"new_quest\"=&gt;0);\n &amp;write_state_db($dbhandle, $state_table_name, $sessionID, %stateHash);\n\n print &lt;&lt;TOP;\n &lt;html&gt;&lt;head&gt;&lt;title&gt;Trivia Quiz Salwa&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;\n   Enter your questions now: &lt;br/&gt;\nTOP\nprint&lt;&lt;FORM;\n&lt;br/&gt;\n&lt;form action = \"$ENV{SCRIPT_NAME}\" method=\"GET\"&gt;\n     &lt;br/&gt;\n   &lt;input type=\"hidden\" name=\"id\" value=\"$sessionID\"/&gt;\n   Number:&lt;input type=\"text\" name=\"qnumber\" value=qnumber/&gt;&lt;br&gt;\n   Question:&lt;input type= \"text\" name= \"question\" value=question/&gt;&lt;br&gt;\n   Choice 1:&lt;input type= \"radio\" name=\"choices1\" value=choice1 checked/&gt;&lt;/br&gt;\n   Choice 2:&lt;input type =\"radio\" name =\"choices2\" value=choice2/&gt; &lt;/br&gt;\n   Choice 3:&lt;input type=\"radio\" name =\"choices3\" value=choice3/&gt;&lt;/br&gt;\n   Choice 4:&lt;input type =\"radio\" name= \"choices4\" value=choice4/&gt;&lt;/br&gt;\n   Choice 5:&lt;input type=\"radio\" name=\"choices5\" value=choice5/&gt;&lt;/br&gt;\n   Answer:&lt;input type=\"text\" name=\"answer\" value=answer/&gt;&lt;/br&gt;\n   &lt;input type=\"submit\" value=\"Submit answer\"/&gt;\n   &lt;/form&gt;\nFORM\n\n &amp;enter_question($sessionID,1);\n\n print &lt;&lt;BOTTOM;\n &lt;/body&gt;\n&lt;/html&gt;\nBOTTOM\n}\n#################################################################\nsub enter_question{\nmy ($sessionID,$new_quest) = @_;\n\n$question= $formdata{'question'};\n$qnumber= $formdata{'qnumber'};\n$answer= $formdata{'answer'};\n$choice1= $formdata{'choice1'};\n$choice2= $formdata{'choice2'};\n$choice3= $formdata{'choice3'};\n$choice4= $formdata{'choice4'};\n$choice5= $formdata{'choice5'};\n\nprint (\"&lt;html&gt;&lt;head&gt;&lt;title&gt;Add questions&lt;/title&gt;&lt;/head&gt;\\n\");\nprint (\"&lt;body&gt;\\n\");\n\n&lt;form action = \"$ENV{SCRIPT_NAME}\" method=\"GET\"&gt;\nmy $sql =\"insert into $quiz_table_name(qnumber,question,answer,choice1,choice2,choice3,choice4,choice5) values(?, ?, ?, ?, ?, ?, ?, ?)\";\nmy $qObj = $dbhandle-&gt;prepare($sql) or &amp;errorPage(\"Can't prepare\");\nmy $qObj -&gt; execute(\"$qnumber\", \"$question\", \"$answer\", \"$choice1\", \"$choice2\", \"$choice3\", \"$choice4\", \"$choice5\") \nor &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr());\nprint \" Question $qnumber was added to database.\";\n$new_quest++;\n\nprint (\"&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;\\n\");\n$qObj-&gt;finish();\n$dbhandle-&gt;disconnect();\n}\n\n#################################################################\n#################################################################\n# end app logic functions####\n# begin toolkit functions######\n#################################################################\n#################################################################\n\n#################################################################\nsub write_state_db {\n  my ($dbhandle, $table_name, $sessionID, %states) = @_;\n  ### add the updated last-modified time to the front of the incoming state hash\n  my $currtime = time;\n  my @updates = (\"last_modified = '$currtime'\");\n  foreach $key (keys %states){\n    push @updates, \"$key = '$states{$key}'\";\n  }\n\n  ###  update the state record\n  $sql = \"UPDATE $table_name set \" . join(\",\", @updates) . \" WHERE id = '$sessionID'\";\n  $qObj = $dbhandle -&gt; prepare($sql);\n  $qObj -&gt; execute() or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr());\n  $qObj -&gt; finish();\n}\n\n#################################################################\nsub read_state_db {\n  my ($dbhandle, $table_name, $sessionID, $time_out, \n        $time_out_function, $time_out_message) = @_;   ### $time_out is in days\n\n  ### read the desired state record into the query object\n  $sql = \"SELECT * FROM $table_name WHERE ID = '$sessionID'\";\n  $qObj = $dbhandle -&gt; prepare($sql) or &amp;errorPage(\"Can't prepare.\");\n  $qObj -&gt; execute() or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr());\n  my $rowhashref = $qObj-&gt;fetchrow_hashref();\n  $qObj -&gt; finish();\n\n  if(! $rowhashref) { ### $rowhashref is an empty reference, which means no such id...\n    &amp;errorPage(\"No such session.\");\n  }\n  my %hash = %$rowhashref;  ### get the actual hash containing the state record\n  ### timeout test\n  if(($time_out &gt; 0) &amp;&amp; ($hash{\"last_modified\"} &lt; time - $time_out*24*60*60)){ \n    ### timed out...\n    if($time_out_function) {\n      &amp;$time_out_function($time_out_message);\n            exit;\n    }\n        else{\n        &amp;errorPage(\"Your session has timed out\");\n    }\n  }\n  ### touch the record\n  $sql = \"UPDATE $table_name SET last_modified = \" . time . \" WHERE ID = '$sessionID'\";\n  $qObj = $dbhandle -&gt; prepare($sql) or &amp;errorPage(\"Can't prepare.\");\n  $qObj -&gt; execute() or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr());\n  $qObj -&gt; finish();\n  ### only need to return the actual state data\n  delete $hash{\"id\"};\n  delete $hash{\"last_modified\"};\n  return %hash;           \n}\n\n#################################################################\nsub get_long_id_db {\n  my ($dbhandle, $table_name, $cache_limit, $file_life_span) = @_;\n\n  ### count number of sessions\n  my $sql = \"SELECT id FROM $table_name\";  \n  my $qObj = $dbhandle -&gt; prepare($sql) or &amp;errorPage(\"Can't prepare.\");\n  $qObj -&gt; execute() or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr());\n  $qObj -&gt; fetchall_arrayref(); \n\n  if($qObj-&gt;rows() &gt;= $cache_limit) {       ### Need to police table?\n    my $expiredtime = int(time - $file_life_span*24*60*60); ### in seconds ###\n    $qObj -&gt; finish();\n\n    ### police the table\n    $sql = \"DELETE FROM $table_name WHERE last_modified &lt; $expiredtime\";\n    $qObj = $dbhandle -&gt; prepare($sql) or &amp;errorPage(\"Can't prepare.\");;\n    $qObj -&gt; execute() or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr()); \n    $qObj -&gt; finish();\n\n    ### count number of sessions again\n    $sql = \"SELECT id FROM $table_name\";        \n    $qObj = $dbhandle -&gt; prepare($sql) or &amp;errorPage(\"Can't prepare.\");;\n    $qObj -&gt; execute() or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr()); \n    $qObj -&gt; fetchall_arrayref(); \n\n    if($qObj-&gt;rows() &gt;= $cache_limit) { ### still over limit?\n      # should generate e-mail message to warn administrator\n      &amp;errorPage(\"Site busy. Please try again later.\");\n    }\n  }\n  $qObj -&gt; finish();\n\n  my $id = &amp;generate_random_string(32);\n  my $currtime = time;\n\n  ### create new state record\n  $sql = \"INSERT INTO $table_name (id, last_modified) values ('$id', $currtime)\";\n  $qObj = $dbhandle -&gt; prepare($sql) or &amp;errorPage(\"Can't prepare.\");;\n  $qObj -&gt; execute() or &amp;errorPage(\"Can't execute \" . $qObj-&gt;errstr());\n\n  return $id;\n}\n\n#################################################################\nsub generate_random_string {\n  my $n = $_[0];\n  my $result = \"\";\n  my @chars = (0..9, 'a'..'z', 'A'..'Z');\n  my $which;\n  for($i = 1 ; $i &lt;= $n ; $i++) {\n    $which=int rand 62;\n   $result = $result . $chars[$which];\n  }\n  return $result;\n}\n\n#################################################################\nsub errorPage {\n my $message = $_[0]; # the incoming parameter, store in localized variable\n print&lt;&lt;ALL;\n &lt;html&gt;\n &lt;head&gt;\n  &lt;title&gt;Error encountered&lt;/title&gt;\n &lt;/head&gt;\n &lt;body&gt;\n  &lt;h1&gt;Error Encountered&lt;/h1&gt;\n  &lt;h3&gt;$message&lt;/h3&gt;\n  Please try again, or report the problem to the webmaster.\n &lt;/body&gt;\n &lt;/html&gt;\nALL\n exit;\n}\n</code></pre>\n\n<p>This is my first encounter with this language and i worked on this script so much that now i am confused and lost track of what should be tried next to get this thing run. Can anyone find the problem with this script.</p>\n"}, {"tags": ["bash", "perl", "awk"], "comments": [{"owner": {"reputation": 14052, "user_id": 1004301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6aacd03deb37cb13cbc8b65e454f2b?s=128&d=identicon&r=PG", "display_name": "Lee Duhem", "link": "https://stackoverflow.com/users/1004301/lee-duhem"}, "edited": false, "score": 2, "creation_date": 1445576064, "post_id": 33294986, "comment_id": 54389656, "body": "I bet you need to learn how to use them (awk, perl, or whatever) a little, before you try to use them to solve your problems."}, {"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 0, "creation_date": 1445576530, "post_id": 33294986, "comment_id": 54389775, "body": "Or is there a language you do know that you can attempt a solution in?"}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1445576617, "post_id": 33294986, "comment_id": 54389799, "body": "Please take a look at <a href=\"http://stackoverflow.com/editing-help\">editing-help</a>."}, {"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "edited": false, "score": 0, "creation_date": 1445577131, "post_id": 33294986, "comment_id": 54389947, "body": "It would be best if you edit to post some examples using the code block like in your linked ones, of your input and desired output."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1445577996, "post_id": 33294986, "comment_id": 54390163, "body": "Choose a language and first try from yourself. And still if you have problem then come here with your attempt."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445589178, "post_id": 33295965, "comment_id": 54395124, "body": "Setting <code>$&#47;</code> is probably a better approach."}, {"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445598808, "post_id": 33295965, "comment_id": 54400695, "body": "True, and the <code>local</code> isn&#39;t necessary either. Force of habit."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445599112, "post_id": 33295965, "comment_id": 54400855, "body": "That&#39;s a good habit though, and one that does no harm otherwise ;)"}], "tags": [], "owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1445581165, "creation_date": 1445581165, "answer_id": 33295965, "question_id": 33294986, "link": "https://stackoverflow.com/questions/33294986/splitting-large-text-file-on-every-blank-line/33295965#33295965", "title": "Splitting large text file on every blank line", "body": "<p>Since it's Friday and I'm feeling a bit helpful... :)</p>\n\n<p>Try this. If the file is as small as you imply it's simplest to just read it all at once and work in memory.</p>\n\n<pre><code>use strict;\nuse warnings;\n\n# slurp file\nlocal $/ = undef;\nopen my $fh, '&lt;', 'test.txt' or die $!;\nmy $text = &lt;$fh&gt;;\nclose $fh;\n\n# split on double new line\nmy @chunks = split(/\\n\\n/, $text);\n\n# make new files from chunks\nmy $count = 1;\nfor my $chunk (@chunks) {\n    open my $ofh, '&gt;', \"whatever$count.txt\" or die $!;\n    print $ofh $chunk, \"\\n\";\n    close $ofh;\n    $count++;\n}\n</code></pre>\n\n<p>The <code>perl</code> docs can explain any individual commands you don't understand but at this point you should probably look into a tutorial as well.</p>\n"}, {"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1445595901, "post_id": 33296126, "comment_id": 54399044, "body": "Instead of <code>$0 ~ &#47;^$&#47;</code> you could just use <code>&#47;^$&#47;</code> or more commonly <code>!NF</code>. You want <code>print &gt; file</code>, not <code>print &gt;&gt; file</code> - shell and awk have different semantics for <code>&gt;</code> vs <code>&gt;&gt;</code>."}, {"owner": {"reputation": 13433, "user_id": 874178, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/AdjGb.jpg?s=128&g=1", "display_name": "sat", "link": "https://stackoverflow.com/users/874178/sat"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1445598727, "post_id": 33296126, "comment_id": 54400654, "body": "@EdMorton, You&#39;re correct. Updated. Thank you for the hint ( <code>shell</code> and <code>awk</code> have different semantics for <code>&gt;</code> vs <code>&gt;&gt;</code> )."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1445612008, "post_id": 33296126, "comment_id": 54409512, "body": "Use <code>print &gt; (&quot;filename&quot;i&quot;.txt&quot;)</code> instead of <code>print &gt; &quot;filename&quot;i&quot;.txt&quot;</code> as the meaning of that statement is undefined in POSIX and some awks wll treat it as <code>(print &gt; &quot;filename&quot;) i&quot;.txt&quot;</code> or something else undesirable."}, {"owner": {"reputation": 440, "user_id": 1778602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/674a0ee39a77ea7f4d53cab5e732e47b?s=128&d=identicon&r=PG", "display_name": "user1778602", "link": "https://stackoverflow.com/users/1778602/user1778602"}, "edited": false, "score": 0, "creation_date": 1548521590, "post_id": 33296126, "comment_id": 95574375, "body": "also add a line to close the file"}], "tags": [], "owner": {"reputation": 13433, "user_id": 874178, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/AdjGb.jpg?s=128&g=1", "display_name": "sat", "link": "https://stackoverflow.com/users/874178/sat"}, "is_accepted": false, "score": 2, "last_activity_date": 1445599112, "last_edit_date": 1445599112, "creation_date": 1445581866, "answer_id": 33296126, "question_id": 33294986, "link": "https://stackoverflow.com/questions/33294986/splitting-large-text-file-on-every-blank-line/33296126#33296126", "title": "Splitting large text file on every blank line", "body": "<p>You can use this <code>awk</code>,</p>\n\n<pre><code>awk 'BEGIN{file=\"content\"++i\".txt\"} !NF{file=\"content\"++i\".txt\";next} {print &gt; file}' yourfile\n</code></pre>\n\n<p>(OR)</p>\n\n<pre><code>awk 'BEGIN{i++} !NF{++i;next} {print &gt; \"filename\"i\".txt\"}' yourfile\n</code></pre>\n\n<p>More readable format:</p>\n\n<pre><code>BEGIN {\n        file=\"content\"++i\".txt\"\n}\n!NF {\n        file=\"content\"++i\".txt\";\n        next\n}\n{\n        print &gt; file\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1445595775, "post_id": 33297373, "comment_id": 54398976, "body": "Using multiple chars for RS makes this gawk specific but you should be usign <code>RS=&quot;&quot;</code> anyway. Also always parenthesize the right side of output redirection as some awks will interpret <code>print i-1</code> as <code>(print i) -i</code>. Most importantly though - the logic is wrong and it&#39;ll print NR occurrences of each record."}], "tags": [], "owner": {"reputation": 187, "user_id": 2138595, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ca14c942137442ef58aff7f4c93af049?s=128&d=identicon&r=PG", "display_name": "user2138595", "link": "https://stackoverflow.com/users/2138595/user2138595"}, "is_accepted": false, "score": 0, "last_activity_date": 1445586808, "creation_date": 1445586808, "answer_id": 33297373, "question_id": 33294986, "link": "https://stackoverflow.com/questions/33294986/splitting-large-text-file-on-every-blank-line/33297373#33297373", "title": "Splitting large text file on every blank line", "body": "<pre><code>awk -v RS=\"\\n\\n\" '{for (i=1;i&lt;=NR;i++); print &gt; i-1}' file.txt\n</code></pre>\n\n<p>Sets record separator as blank line, prints each record as a separate file numbered 1, 2, 3, etc. Last file (only) ends in blank line.</p>\n"}, {"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1445595658, "post_id": 33297802, "comment_id": 54398911, "body": "That will corrupt the contents of his input file and produce different output based on the contents of the input file plus the contents of whatever directory you are running it from. Do NOT write shell loops just to manipulate text. See <a href=\"http://unix.stackexchange.com/q/169716/133219\">unix.stackexchange.com/q/169716/133219</a>"}], "tags": [], "owner": {"reputation": 4122, "user_id": 2869795, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fMYyR.jpg?s=128&g=1", "display_name": "Kalanidhi", "link": "https://stackoverflow.com/users/2869795/kalanidhi"}, "is_accepted": false, "score": 0, "last_activity_date": 1445588427, "creation_date": 1445588427, "answer_id": 33297802, "question_id": 33294986, "link": "https://stackoverflow.com/questions/33294986/splitting-large-text-file-on-every-blank-line/33297802#33297802", "title": "Splitting large text file on every blank line", "body": "<p>Try this bash script also</p>\n\n<pre><code>#!/bin/bash\ni=1\nfileName=\"OutputFile_$i\"\nwhile read line ; do \nif [ \"$line\"  == \"\"  ] ; then\n ((++i))\n fileName=\"OutputFile_$i\"\nelse\n echo $line &gt;&gt; \"$fileName\"\nfi\ndone &lt; InputFile.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 140, "user_id": 3705330, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9a27bee39184a7491169b3dd9e711697?s=128&d=identicon&r=PG&f=1", "display_name": "Chand", "link": "https://stackoverflow.com/users/3705330/chand"}, "edited": false, "score": 2, "creation_date": 1500315397, "post_id": 33297878, "comment_id": 77271126, "body": "How do we save it in a variable array?"}, {"owner": {"reputation": 625, "user_id": 1498039, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d6c9530f984a7f96606b64602348296b?s=128&d=identicon&r=PG", "display_name": "Erwin411", "link": "https://stackoverflow.com/users/1498039/erwin411"}, "edited": false, "score": 2, "creation_date": 1544522621, "post_id": 33297878, "comment_id": 94296890, "body": "Simple solution, nice! If you want to pass the output filename pattern as a variable, you may choose the following: <code>awk -v RS= -v PATTERN=&quot;whatever-%d.txt&quot; &#39;{FILE=sprintf(PATTERN, NR); print &gt; FILE}&#39; $filename</code>"}, {"owner": {"reputation": 625, "user_id": 1498039, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d6c9530f984a7f96606b64602348296b?s=128&d=identicon&r=PG", "display_name": "Erwin411", "link": "https://stackoverflow.com/users/1498039/erwin411"}, "edited": false, "score": 0, "creation_date": 1544542593, "post_id": 33297878, "comment_id": 94308453, "body": "For huge files, the input record may not fit into memory (&gt;20 GB in my case). So a line-oriented solution is preferred, see @sat&#39;s answer. My final solution is: <code>awk -v PATTERN=&quot;whatever-%d.txt&quot; &#39;BEGIN {n=1; FILE=sprintf(PATTERN, n)} !NF {n++; FILE=sprintf(PATTERN, n); next} {print &gt; FILE}&#39; $filename</code>"}, {"owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "edited": false, "score": 1, "creation_date": 1575285744, "post_id": 33297878, "comment_id": 104502698, "body": "Be advised, you might have too many file-handles opened this way. Only gnu awk will automatically address this issue. A better version would be: <code>awk -v RS= &#39;{f=&quot;whatever=&quot; NR &quot;.txt&quot;; print &gt; f; close(f)}&#39; file</code>"}, {"owner": {"reputation": 368, "user_id": 5511972, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_U5cS4W0YDU/AAAAAAAAAAI/AAAAAAAAABw/YZILvYWAgTc/photo.jpg?sz=128", "display_name": "Mr Redstoner", "link": "https://stackoverflow.com/users/5511972/mr-redstoner"}, "edited": false, "score": 0, "creation_date": 1577476351, "post_id": 33297878, "comment_id": 105183334, "body": "Nice. I was looking for something easy to set up, as my input file isn&#39;t too big, this fit the bill just right, short yet clear for me to adjust as needed"}, {"owner": {"reputation": 798, "user_id": 893982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/997fe670bc45cb9f3898acf9eb18ab03?s=128&d=identicon&r=PG", "display_name": "George Co", "link": "https://stackoverflow.com/users/893982/george-co"}, "edited": false, "score": 0, "creation_date": 1616715087, "post_id": 33297878, "comment_id": 118097336, "body": "awk is a very powerful programming language for dealing with text, this is a good example. For more on awk I recommend  Sec. 4.4 of the <i>Unix programming Environment</i> by Kernighan and Pike and <i>More Programming Pearls</i>  by Bentley."}], "tags": [], "owner": {"reputation": 10152, "user_id": 2229272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oisED.png?s=128&g=1", "display_name": "jas", "link": "https://stackoverflow.com/users/2229272/jas"}, "is_accepted": false, "score": 34, "last_activity_date": 1445588750, "creation_date": 1445588750, "answer_id": 33297878, "question_id": 33294986, "link": "https://stackoverflow.com/questions/33294986/splitting-large-text-file-on-every-blank-line/33297878#33297878", "title": "Splitting large text file on every blank line", "body": "<p>Setting <code>RS</code> to null tells awk to use one or more blank lines as the record separator. Then you can simply use <code>NR</code> to set the name of the file corresponding to each new record:</p>\n\n<pre><code> awk -v RS= '{print &gt; (\"whatever-\" NR \".txt\")}' file.txt\n</code></pre>\n\n<blockquote>\n  <p>RS: \n  This is awk's input record separator. Its default value is a string containing a single newline character, which means that an input record consists of a single line of text. <strong>It can also be the null string, in which case records are separated by runs of blank lines</strong>, or a regexp, in which case records are separated by matches of the regexp in the input text.</p>\n</blockquote>\n\n<pre><code>$ cat file.txt\ndasdas #42319 blaablaa 50 50\ncontent content\nmore content\ncontent conclusion\n\nasdasd #92012 blaablaa 30 70\ncontent again\nmore of it\ncontent conclusion\n\nasdasd #299 yadayada 60 40\ncontent\ncontent\ncontend done\n\n$ awk -v RS= '{print &gt; (\"whatever-\" NR \".txt\")}' file.txt\n\n$ ls whatever-*.txt\nwhatever-1.txt  whatever-2.txt  whatever-3.txt\n\n$ cat whatever-1.txt \ndasdas #42319 blaablaa 50 50\ncontent content\nmore content\ncontent conclusion\n\n$ cat whatever-2.txt \nasdasd #92012 blaablaa 30 70\ncontent again\nmore of it\ncontent conclusion\n\n$ cat whatever-3.txt \nasdasd #299 yadayada 60 40\ncontent\ncontent\ncontend done\n$ \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "edited": false, "score": 0, "creation_date": 1445600590, "post_id": 33298150, "comment_id": 54401744, "body": "-00? Well that&#39;s something new. But I do try to avoid one liners :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "edited": false, "score": 1, "creation_date": 1445600849, "post_id": 33298150, "comment_id": 54401893, "body": "I do generally, but when we&#39;re in an <code>awk</code> race, I try and include them for comparison. (But as much as possible <i>after</i> some code that illustrates more clearly)."}, {"owner": {"reputation": 329, "user_id": 5478310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/688932813a503d64b6d7a192559497a6?s=128&d=identicon&r=PG&f=1", "display_name": "tropical e", "link": "https://stackoverflow.com/users/5478310/tropical-e"}, "edited": false, "score": 0, "creation_date": 1445895908, "post_id": 33298150, "comment_id": 54508285, "body": "Thank you! This was it! However, at first running this command resulted in the same scenario I had with other scripts. The reason apparently was that my input data files (each of them 4-8M lines long) had incorrect line separators or something wack. Whenever I opened them on any text editor, they would look like fine. But running this command resulted in a single file, identical to the input file. But after I copy-pasted (ugh) every data set into blank page on text editor, and hit save, their file sized would alter a little (like 1M on a 150MB file) and after that this command ran just fine."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1445589600, "creation_date": 1445589600, "answer_id": 33298150, "question_id": 33294986, "link": "https://stackoverflow.com/questions/33294986/splitting-large-text-file-on-every-blank-line/33298150#33298150", "title": "Splitting large text file on every blank line", "body": "<p>Perl has a useful feature called the input record separator. <code>$/</code>.</p>\n\n<p>This is the 'marker' for separating records when reading a file. </p>\n\n<p>So:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nlocal $/ = \"\\n\\n\"; \nmy $count = 0; \n\nwhile ( my $chunk = &lt;&gt; ) {\n    open ( my $output, '&gt;', \"filename_\".$count++ ) or die $!;\n    print {$output} $chunk;\n    close ( $output ); \n}\n</code></pre>\n\n<p>Just like that. The <code>&lt;&gt;</code> is the 'magic' filehandle, in that it reads piped data or from files specified on command line (opens them and reads them). This is similar to how <code>sed</code> or <code>grep</code> work. </p>\n\n<p>This can be reduced to a one liner:</p>\n\n<pre><code>perl -00 -pe 'open ( $out, '&gt;', \"filename_\".++$n ); select $out;'  yourfilename_here\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8408390, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-V9c9F48DbtM/AAAAAAAAAAI/AAAAAAAABm4/gOk4StNbmME/photo.jpg?sz=128", "display_name": "KuldeepSinh", "link": "https://stackoverflow.com/users/8408390/kuldeepsinh"}, "is_accepted": false, "score": 1, "last_activity_date": 1553532155, "last_edit_date": 1553532155, "creation_date": 1553531156, "answer_id": 55342317, "question_id": 33294986, "link": "https://stackoverflow.com/questions/33294986/splitting-large-text-file-on-every-blank-line/55342317#55342317", "title": "Splitting large text file on every blank line", "body": "<p>In case you get \"too many open files\" error as follows...</p>\n\n<pre><code>awk: whatever-18.txt makes too many open files\n input record number 18, file file.txt\n source line number 1\n</code></pre>\n\n<p>You may need to close newly created file, before creating a new one, as follows. </p>\n\n<pre><code>awk -v RS= '{close(\"whatever-\" i \".txt\"); i++}{print &gt; (\"whatever-\" i \".txt\")}' file.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1585748131, "creation_date": 1585748131, "answer_id": 60972105, "question_id": 33294986, "link": "https://stackoverflow.com/questions/33294986/splitting-large-text-file-on-every-blank-line/60972105#60972105", "title": "Splitting large text file on every blank line", "body": "<p>You could use the <code>csplit</code> command:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>csplit \\\n    --quiet \\\n    --prefix=whatever \\\n    --suffix-format=%02d.txt \\\n    --suppress-matched \\\n    infile.txt /^$/ {*}\n</code></pre>\n\n<p>POSIX <code>csplit</code> only uses short options and doesn't know <code>--suffix</code> and <code>--suppress-matched</code>, so this requires GNU <code>csplit</code>.</p>\n\n<p>This is what the options do:</p>\n\n<ul>\n<li><code>--quiet</code> \u2013 suppress output of file sizes</li>\n<li><code>--prefix=whatever</code> \u2013 use <code>whatever</code> instead fo the default <code>xx</code> filename prefix</li>\n<li><code>--suffix-format=%02d.txt</code> \u2013 append <code>.txt</code> to the default two digit suffix</li>\n<li><code>--suppress-matched</code> \u2013 don't include the lines matching the pattern on which the input is split</li>\n<li><code>/^$/ {*}</code> \u2013 split on pattern \"empty line\" (<code>/^$/</code>) as often as possible (<code>{*}</code>)</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 658, "user_id": 1392282, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FXgG4.jpg?s=128&g=1", "display_name": "Nuno Silva", "link": "https://stackoverflow.com/users/1392282/nuno-silva"}, "edited": false, "score": 0, "creation_date": 1594389959, "post_id": 62835404, "comment_id": 111118022, "body": "this is BSD &#39;s <code>split</code> (macos)"}], "tags": [], "owner": {"reputation": 658, "user_id": 1392282, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FXgG4.jpg?s=128&g=1", "display_name": "Nuno Silva", "link": "https://stackoverflow.com/users/1392282/nuno-silva"}, "is_accepted": false, "score": 0, "last_activity_date": 1594387861, "creation_date": 1594387861, "answer_id": 62835404, "question_id": 33294986, "link": "https://stackoverflow.com/questions/33294986/splitting-large-text-file-on-every-blank-line/62835404#62835404", "title": "Splitting large text file on every blank line", "body": "<p>You can also try <code>split -p &quot;^$&quot;</code></p>\n"}], "owner": {"reputation": 329, "user_id": 5478310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/688932813a503d64b6d7a192559497a6?s=128&d=identicon&r=PG&f=1", "display_name": "tropical e", "link": "https://stackoverflow.com/users/5478310/tropical-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15088, "favorite_count": 8, "answer_count": 9, "score": 22, "last_activity_date": 1594387861, "creation_date": 1445575142, "last_edit_date": 1585748378, "question_id": 33294986, "link": "https://stackoverflow.com/questions/33294986/splitting-large-text-file-on-every-blank-line", "title": "Splitting large text file on every blank line", "body": "<p>I'm having a bit trouble of splitting a large text file into multiple smaller ones. Syntax of my text file is the following:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>dasdas #42319 blaablaa 50 50\ncontent content\nmore content\ncontent conclusion\n\nasdasd #92012 blaablaa 30 70\ncontent again\nmore of it\ncontent conclusion\n\nasdasd #299 yadayada 60 40\ncontent\ncontent\ncontend done\n...and so on\n</code></pre>\n\n<p>A typical information table in my file has anywhere between 10-40 rows.</p>\n\n<p>I would like this file to be split in n smaller files, where n is the amount of content tables.</p>\n\n<p>That is</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>dasdas #42319 blaablaa 50 50\ncontent content\nmore content\ncontent conclusion\n</code></pre>\n\n<p>would be its own separate file, (<code>whateverN.txt</code>)</p>\n\n<p>and</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>asdasd #92012 blaablaa 30 70\ncontent again\nmore of it\ncontent conclusion\n</code></pre>\n\n<p>again a separate file <code>whateverN+1.txt</code> and so forth.</p>\n\n<p>It seems like <code>awk</code> or <code>Perl</code> are nifty tools for this, but having never used them before the syntax is kinda baffling.</p>\n\n<p>I found these two questions that are almost correspondent to my problem, but failed to modify the syntax to fit my needs:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/16273069/split-text-file-into-multiple-files\">Split text file into multiple files</a> &amp; <a href=\"https://unix.stackexchange.com/q/46325/\">How can I split a text file into multiple text files?</a> (on Unix &amp; Linux)</p>\n\n<p>How should one modify the command line inputs, so that it solves my problem?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 23234, "user_id": 4333555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i9zgM.jpg?s=128&g=1", "display_name": "chris85", "link": "https://stackoverflow.com/users/4333555/chris85"}, "edited": false, "score": 0, "creation_date": 1445575617, "post_id": 33294945, "comment_id": 54389540, "body": "Maybe <code>$string=~s&#47;\\&#47;root_vdm_2\\&#47;&#47;\\&#47;rfsn_clsnymigration\\&#47;&#47;g;</code> haven&#39;t done perl before but looking at some docs looks like thatd be it.."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1445590115, "post_id": 33295252, "comment_id": 54395617, "body": "I would suggest that as you have <code>&#47;</code> in the pattern, you&#39;d be better off using something else as your regex delimiters."}, {"owner": {"reputation": 7, "user_id": 4117546, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/26e107cf3ea1381f75bab28c6f00175f?s=128&d=identicon&r=PG&f=1", "display_name": "Ty Young", "link": "https://stackoverflow.com/users/4117546/ty-young"}, "edited": false, "score": 0, "creation_date": 1445607258, "post_id": 33295252, "comment_id": 54406038, "body": "Thanks for the suggestion.  Unfortunately this doesn&#39;t really help, because I need to parse <i>all</i> of <code>&#47;root_vdm_2&#47;fs_clsnymigration</code>  and replace it with <code>rfsn_clsnymigration</code> programatically.  Your example shows me a great way to substitute that one pair of strings, but the data changes from line to line (hence my comment about &quot;multiple pairs of strings.&quot;)"}, {"owner": {"reputation": 2890, "user_id": 2968894, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/f9Gg6.jpg?s=128&g=1", "display_name": "Pruthvi Raj", "link": "https://stackoverflow.com/users/2968894/pruthvi-raj"}, "reply_to_user": {"reputation": 7, "user_id": 4117546, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/26e107cf3ea1381f75bab28c6f00175f?s=128&d=identicon&r=PG&f=1", "display_name": "Ty Young", "link": "https://stackoverflow.com/users/4117546/ty-young"}, "edited": false, "score": 0, "creation_date": 1445607360, "post_id": 33295252, "comment_id": 54406113, "body": "@TyYoung can you post sufficient data along with your expected output?"}, {"owner": {"reputation": 2890, "user_id": 2968894, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/f9Gg6.jpg?s=128&g=1", "display_name": "Pruthvi Raj", "link": "https://stackoverflow.com/users/2968894/pruthvi-raj"}, "reply_to_user": {"reputation": 7, "user_id": 4117546, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/26e107cf3ea1381f75bab28c6f00175f?s=128&d=identicon&r=PG&f=1", "display_name": "Ty Young", "link": "https://stackoverflow.com/users/4117546/ty-young"}, "edited": false, "score": 0, "creation_date": 1445609049, "post_id": 33295252, "comment_id": 54407306, "body": "@TyYoung it&#39;s all stored in one string?"}, {"owner": {"reputation": 2890, "user_id": 2968894, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/f9Gg6.jpg?s=128&g=1", "display_name": "Pruthvi Raj", "link": "https://stackoverflow.com/users/2968894/pruthvi-raj"}, "reply_to_user": {"reputation": 7, "user_id": 4117546, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/26e107cf3ea1381f75bab28c6f00175f?s=128&d=identicon&r=PG&f=1", "display_name": "Ty Young", "link": "https://stackoverflow.com/users/4117546/ty-young"}, "edited": false, "score": 0, "creation_date": 1445609279, "post_id": 33295252, "comment_id": 54407492, "body": "@TyYoung ,I updated the answer,  check it out :), If it doesn&#39;t suit your requirement, post your expected output for above input :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445609673, "post_id": 33295252, "comment_id": 54407782, "body": "This new output should really be edited into the question. Comments aren&#39;t the place for it."}, {"owner": {"reputation": 2890, "user_id": 2968894, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/f9Gg6.jpg?s=128&g=1", "display_name": "Pruthvi Raj", "link": "https://stackoverflow.com/users/2968894/pruthvi-raj"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1445610206, "post_id": 33295252, "comment_id": 54408164, "body": "@Sobrique , I agree, I asked him to provide sufficient input and he posted it in comments :)"}, {"owner": {"reputation": 7, "user_id": 4117546, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/26e107cf3ea1381f75bab28c6f00175f?s=128&d=identicon&r=PG&f=1", "display_name": "Ty Young", "link": "https://stackoverflow.com/users/4117546/ty-young"}, "edited": false, "score": 0, "creation_date": 1445610517, "post_id": 33295252, "comment_id": 54408398, "body": "sorry guys, still trying to learn good netiquette within Stackoverflow. I&#39;ve come up with a workable solution and as soon as I figure out how to post it coherently, I will."}], "tags": [], "owner": {"reputation": 2890, "user_id": 2968894, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/f9Gg6.jpg?s=128&g=1", "display_name": "Pruthvi Raj", "link": "https://stackoverflow.com/users/2968894/pruthvi-raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1445609262, "last_edit_date": 1445609262, "creation_date": 1445576998, "answer_id": 33295252, "question_id": 33294945, "link": "https://stackoverflow.com/questions/33294945/perl-regex-to-replace-part-of-one-string-with-a-portion-of-another/33295252#33295252", "title": "Perl regex to replace part of one string with a portion of another", "body": "<p>Try this regex:</p>\n\n<pre><code>^\\/root_vdm_2\\/fs_clsnymigration\n</code></pre>\n\n<p>Substitute with:</p>\n\n<pre><code>\\/rfsn_clsnymigration\n</code></pre>\n\n<p>example:</p>\n\n<pre><code>$string = \"/root_vdm_2/fs_clsnymigration/CLSNYMIGRATION/NY_HQ_S1\";\n$string=~s/^\\/root_vdm_2\\/fs_clsnymigration/\\/rfsn_clsnymigration/;\nprint $string;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>/rfsn_clsnymigration/CLSNYMIGRATION/NY_HQ_S1\n</code></pre>\n\n<p><strong>EDIT 1</strong></p>\n\n<pre><code>$string = \"/root_vdm_2/fs_clsnymigration/CLSNYMIGRATION/NY_HQ_S1/LISU,rfsn_clsnymigration\n/root_vdm_2/fs_users/users/Marketing,rfsw_users\n/root_vdm_3/fs_sandi/sandi_users,rfsw_sandi\n/root_vdm_3/fs_pci/Analytics,rfsw_pci\n/root_vdm_4/fs_camnt01/camnt01/AV,rfsw_camnt01\n/root_vdm_1/fs_stcloud01/sfa,rfss_stcloud01\n/root_vdm_3/fs_stcloud03/data4,rfss_stcloud03\n/root_vdm_2/fs_stcloud02/depart1,rfss_stcloud02\";\n$string=~s/^\\/root_vdm_.\\/fs_[^\\/]*/\\/rfsn_clsnymigration/gm;\nprint $string;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>/rfsn_clsnymigration/CLSNYMIGRATION/NY_HQ_S1/LISU,rfsn_clsnymigration\n/rfsn_clsnymigration/users/Marketing,rfsw_users\n/rfsn_clsnymigration/sandi_users,rfsw_sandi\n/rfsn_clsnymigration/Analytics,rfsw_pci\n/rfsn_clsnymigration/camnt01/AV,rfsw_camnt01\n/rfsn_clsnymigration/sfa,rfss_stcloud01\n/rfsn_clsnymigration/data4,rfss_stcloud03\n/rfsn_clsnymigration/depart1,rfss_stcloud02\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1445629242, "post_id": 33304958, "comment_id": 54419266, "body": "<code>@pathparts[0]</code> should be <code>$pathparts[0]</code> since you&#39;re referring to a scalar."}], "tags": [], "owner": {"reputation": 7, "user_id": 4117546, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/26e107cf3ea1381f75bab28c6f00175f?s=128&d=identicon&r=PG&f=1", "display_name": "Ty Young", "link": "https://stackoverflow.com/users/4117546/ty-young"}, "is_accepted": false, "score": -1, "last_activity_date": 1445610810, "creation_date": 1445610810, "answer_id": 33304958, "question_id": 33294945, "link": "https://stackoverflow.com/questions/33294945/perl-regex-to-replace-part-of-one-string-with-a-portion-of-another/33304958#33304958", "title": "Perl regex to replace part of one string with a portion of another", "body": "<p>My challenge was to replace <em>part</em> of $string1 with all of $string2, split on the commas.</p>\n\n<pre><code>/root_vdm_2/fs_clsnymigration/CLSNYMIGRATION/NY_HQ_S1/LISU,rfsn_clsnymigration\n/root_vdm_2/fs_users/users/Marketing,rfsw_users\n/root_vdm_3/fs_sandi/sandi_users,rfsw_sandi\n/root_vdm_3/fs_pci/Analytics,rfsw_pci\n/root_vdm_4/fs_camnt01/camnt01/AV,rfsw_camnt01\n/root_vdm_1/fs_stcloud01/sfa,rfss_stcloud01\n/root_vdm_3/fs_stcloud03/data4,rfss_stcloud03\n/root_vdm_2/fs_stcloud02/depart1,rfss_stcloud02\n</code></pre>\n\n<p>The difficulty I saw initially was how to replace <code>/root_vdm_2/fs_clsnymigration</code>  with <code>rfsn_clsnymigration</code>, and I allowed myself to think that a regexp was the best approach.  </p>\n\n<p>Although far less eloquent, this gets the job done:</p>\n\n<pre><code>foreach $line (@lines) {\n        chop $line;\n        ($orig,$replica) = split /\\,/, $line;\n        chop substr $orig, 0, 1;\n        @pathparts = split /\\//, $orig;\n        $rootvdm = shift @pathparts;\n        @pathparts[0] = $replica;\n        $newpath = \"/\" . join ('/', @pathparts);\n        print \"     here's \\$newpath:$newpath\\n\";\n        }\n</code></pre>\n\n<p>... which yields something like this:</p>\n\n<pre><code>     here's $newpath:/rfsn_clsnymigration/CLSNYMIGRATION/NY_HQ_S1/LISU\n     here's $newpath:/rfsw_users/users/Marketing\n     here's $newpath:/rfsw_sandi/sandi_users\n     here's $newpath:/rfsw_pci/Analytics\n     here's $newpath:/rfsw_camnt01/camnt01/AV\n     here's $newpath:/rfss_stcloud01/sfa\n     here's $newpath:/rfss_stcloud03/data4\n     here's $newpath:/rfss_stcloud02/depart1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1445627838, "creation_date": 1445627838, "answer_id": 33309873, "question_id": 33294945, "link": "https://stackoverflow.com/questions/33294945/perl-regex-to-replace-part-of-one-string-with-a-portion-of-another/33309873#33309873", "title": "Perl regex to replace part of one string with a portion of another", "body": "<pre><code>use strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my ($lhs, $rhs) = split(/,/, $_, 2);\n    my @parts = split(/\\//, $lhs);\n    splice(@parts, 1, 2, $rhs);\n    print join('/', @parts) . \"\\n\";\n}\n\n__DATA__\n/root_vdm_2/fs_clsnymigration/CLSNYMIGRATION/NY_HQ_S1/LISU,rfsn_clsnymigration\n/root_vdm_2/fs_users/users/Marketing,rfsw_users\n/root_vdm_3/fs_sandi/sandi_users,rfsw_sandi\n/root_vdm_3/fs_pci/Analytics,rfsw_pci\n/root_vdm_4/fs_camnt01/camnt01/AV,rfsw_camnt01\n/root_vdm_1/fs_stcloud01/sfa,rfss_stcloud01\n/root_vdm_3/fs_stcloud03/data4,rfss_stcloud03\n/root_vdm_2/fs_stcloud02/depart1,rfss_stcloud02\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 4117546, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/26e107cf3ea1381f75bab28c6f00175f?s=128&d=identicon&r=PG&f=1", "display_name": "Ty Young", "link": "https://stackoverflow.com/users/4117546/ty-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1445627838, "creation_date": 1445574824, "question_id": 33294945, "link": "https://stackoverflow.com/questions/33294945/perl-regex-to-replace-part-of-one-string-with-a-portion-of-another", "title": "Perl regex to replace part of one string with a portion of another", "body": "<p>I have a need in Perl to replace a section of one string with <em>most</em> of another. :-)  This needs be done for multiple pairs of strings.</p>\n\n<p>For example, I need to replace</p>\n\n<pre><code>\"/root_vdm_2/fs_clsnymigration\"\n</code></pre>\n\n<p>within</p>\n\n<pre><code>/root_vdm_2/fs_clsnymigration/CLSNYMIGRATION/NY_HQ_S1\n</code></pre>\n\n<p>with </p>\n\n<pre><code>rfsn_clsnymigration\n</code></pre>\n\n<p>so that I end up with </p>\n\n<pre><code>/rfsn_clsnymigration/CLSNYMIGRATION/NY_HQ_S1\n</code></pre>\n\n<p>(without the leading \"/root_vdm_2\" part) ... but I am sufficiently sleep-deprived to have lost sight of how to accomplish this.</p>\n\n<p>Help ?</p>\n"}]