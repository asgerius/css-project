[{"tags": ["arrays", "perl", "slice"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1508964882, "post_id": 46941755, "comment_id": 80831060, "body": "the line <code>push (my @one_line_array ,  $field);</code> declares a new array at every iteration of <code>foreach</code> in which it runs, then it adds an element to it.  So there is one element in a (new) array with that name in every iteration.  Declare at a higher scope."}, {"owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "edited": false, "score": 0, "creation_date": 1508965280, "post_id": 46941755, "comment_id": 80831295, "body": "Perl arrays are zero offset, so <code>$one_line_array[1]</code> prints out the <i>second</i> element of the array."}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1508965398, "post_id": 46941755, "comment_id": 80831361, "body": "Yes I want to get the second field of each line in the <b>DATA</b> set. I am not using awk because I need to do something with the second field in perl"}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1508965433, "post_id": 46941755, "comment_id": 80831386, "body": "@zdim  - I do not know what you mean by declaring it at a higher scope"}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "reply_to_user": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "edited": false, "score": 0, "creation_date": 1508965501, "post_id": 46941755, "comment_id": 80831417, "body": "@Diab Jerius - yes that is what I want - I want the second field of each line in the <b>DATA</b> set"}, {"owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "edited": false, "score": 0, "creation_date": 1508965737, "post_id": 46941755, "comment_id": 80831540, "body": "If all you want is the second field, you could replace the entire <code>foreach</code> loop with <code>print $field[1], &quot;\\n&quot;;</code>"}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "reply_to_user": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "edited": false, "score": 0, "creation_date": 1508965824, "post_id": 46941755, "comment_id": 80831576, "body": "@Diab Jerius --  well I am going to have to pull out the second field and then use a substring on it and then shoot it to another function."}, {"owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "reply_to_user": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1508965879, "post_id": 46941755, "comment_id": 80831607, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/157518/discussion-between-diab-jerius-and-capser\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1509004868, "post_id": 46945508, "comment_id": 80844734, "body": "Your code doesn&#39;t work. There is no <code>@field</code> so you can&#39;t print <code>$field[1]</code>"}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1509005091, "post_id": 46945508, "comment_id": 80844858, "body": "Check now, it should be fine now"}], "tags": [], "owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "is_accepted": false, "score": 0, "last_activity_date": 1509005064, "last_edit_date": 1509005064, "creation_date": 1508989397, "answer_id": 46945508, "question_id": 46941755, "link": "https://stackoverflow.com/questions/46941755/perl-slicing-out-the-second-field-of-each-array-line/46945508#46945508", "title": "perl Slicing out the second field of each array line", "body": "<p>The problem which I see is in the below line:</p>\n\n<pre><code>print my \"$one_line_array[1]\\n\" ; #Why you using my here...!\n</code></pre>\n\n<p>Secondly you can directly try printing the $field[1] just inside the loop to see whether you are getting the right values.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @fields;\n\nwhile ( my $line = &lt;DATA&gt; )  {\n\n    @fields = split /,/, $line;\n    print $fields[1];\n\n}\n</code></pre>\n\n<p>Updated...</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1509005449, "last_edit_date": 1509005449, "creation_date": 1509005144, "answer_id": 46948908, "question_id": 46941755, "link": "https://stackoverflow.com/questions/46941755/perl-slicing-out-the-second-field-of-each-array-line/46948908#46948908", "title": "perl Slicing out the second field of each array line", "body": "<p>If all you want is the second field, then you can do your thing with <code>map</code>:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy @second_col = map { (split /,/) [1] } &lt;DATA&gt;;\n\nprint Dumper \\@second_col;\n</code></pre>\n\n<p>You can also substring/transform it at the same time, if that's your use case:</p>\n\n<pre><code>my @trimmed_second_col = map { (split /,/)[1] =~ s/\\s+//gr } &lt;DATA&gt;;\nprint Dumper \\@trimmed_second_col;\n</code></pre>\n\n<p>This iterates by line of <code>&lt;DATA&gt;</code>, splits each one on <code>,</code>, and then applies a 'remove whitespace' regex, which - thanks to the <code>r</code> flag returns the result, and that gets stored into <code>@trimmed_second_col</code>. </p>\n\n<p>But the reason you're having problems I think, is because you're misunderstanding a few things - you're pushing for each iteration of a loop, which means you're doing it too many times. And you're misusing <code>my</code>. </p>\n\n<p>What <code>my</code> does is declare a variable that's private to the current scope. So if you use it <em>within</em> a foreach loop, it's creating a <em>new</em> array each time, that vanishes again when the loop iterates. Particularly with the <code>print</code> that's meaningless. </p>\n\n<p>So how about:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy @second_col;\n\nwhile ( &lt;DATA&gt; ) {\n   my @row = split /,/; \n   # if you need to preserve it in an array.\n   push @second_col, $row[1];    \n\n   #or if you just need to print it:\n   print $row[1],\"\\n\";\n}\n\nprint Dumper \\@second_col;\n</code></pre>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1509005449, "creation_date": 1508964305, "last_edit_date": 1508975156, "question_id": 46941755, "link": "https://stackoverflow.com/questions/46941755/perl-slicing-out-the-second-field-of-each-array-line", "title": "perl Slicing out the second field of each array line", "body": " \n\n<p>I am loading this data into an array, it prints out ok. However what I am trying to do is read the file line by line and then load the whole line into another array, and then just print out the second field of that second array. </p>\n\n \n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @fields;\n\nwhile ( my $line = &lt;DATA&gt; )  {\n\n    @fields = split /,/, $line;\n\n    foreach my $field ( @fields ) {   \n\n        push ( my @one_line_array, $field );\n        print my \"$one_line_array[1]\\n\" ;\n    }\n}\n\n__DATA__\n\nBACKUP, CAPSER_JOB_01_PP, usa-penguin.com, /bin/bash -lc '/usr/bin/run.sh'\nPROD, CAPSER_PROD_JOB_01_PS, usa-penguin.com, /bin/bash -lc '/usr/bin/run.sh'\nBACKUP, CAPSER_JOB_02_PP, usa-penguin.com, /bin/bash -lc '$HOME/run/script02'\nPROD, CAPSER_PROD_JOB_02_PS, usa-penguin.com, /bin/bash -lc '$HOME/run/script02'\nBACKUP, CAPSER_JOB_03_PP, usa-penguin.com, /bin/bash -lc '$HOME/run/script03'\nPROD, CAPSER_PROD_JOB_03_PS, usa-penguin.com, /bin/bash -lc '$HOME/run/script03'\nBACKUP, CAPSER_JOB_04_PP, usa-penguin.com, /bin/bash -lc '$HOME/run/script04'\nPROD, CAPSER_PROD_JOB_04_PS, usa-penguin.com, /bin/bash -lc '$HOME/run/script04'\nPROD, CAPSER_PROD_JOB_05_PS, usa-penguin.com, /bin/bash -lc '$HOME/run/script05'\nPROD, CAPSER_PROD_JOB_06_PS, usa-penguin.com, /bin/bash -lc '$HOME/run/script06'\nBACKUP, CAPSER_JOB_07_PP, usa-penguin.com, /bin/bash -lc '$HOME/run/script07'\nPROD, CAPSER_PROD_JOB_07_PS, usa-penguin.com, /bin/bash -lc '$HOME/run/script07'\nBACKUP, CAPSER_JOB_08_PP, usa-penguin.com, /bin/bash -lc '$HOME/run/script08'\nPROD, CAPSER_PROD_JOB_08_PS, usa-penguin.com, /bin/bash -lc '$HOME/run/script08'\nBACKUP, CAPSER_JOB_09_PP, usa-penguin.com, /bin/bash -lc '$HOME/run/script09'\nPROD, CAPSER_PROD_JOB_09_PS, usa-penguin.com, /bin/bash -lc '$HOME/run/script09'\nBACKUP, CAPSER_JOB_10_PP, usa-penguin.com, /bin/bash -lc '$HOME/run/script10'\nPROD, CAPSER_PROD_JOB_10_PS, usa-penguin.com, /bin/bash -lc '$HOME/run/script10'\nBACKUP, CAPSER_JOB_11_PP, usa-penguin.com, /bin/bash -lc '$HOME/run/script11'\nPROD, CAPSER_PROD_JOB_11_PS, usa-penguin.com, /bin/bash -lc '$HOME/run/script11'\nPROD, CAPSER_PROD_JOB_12_PS, europe-linux.com, /bin/bash -lc '$HOME/run/script12'\nPROD, CAPSER_PROD_JOB_13_PS, europe-linux.com, /bin/bash -lc '$HOME/run/script13'\nBACKUP, CAPSER_JOB_14_PP, usa-penguin.com, /bin/bash -lc '$HOME/run/script14'\nBACKUP, CAPSER_JOB_15_PP, usa-penguin.com, /bin/bash -lc '$HOME/run/script15'\n BACKUP, CAPSER_JOB_16_PP, usa-penguin.com, /bin/csh -c '$HOME/TRADEDATE.pl'\nPROD, CAPSER_PROD_JOB_17_PS, usa-penguin.com, /bin/csh -c '$HOME/TRADEDATE.pl'\nBACKUP, CAPSER_JOB_01_17, usa-penguin.com, /bin/bash -lc '$HOME/run/script17'\nPROD, CAPSER_PROD_JOB_18_PS, usa-penguin.com, /bin/bash -lc '$HOME/run/script18'\nBACKUP, CAPSER_JOB_19_PP, usa-penguin.com, /bin/bash -lc '$HOME/run/script19'\n</code></pre>\n\n \n\n<p>I can print out this when I print out the first array - so that works : </p>\n\n<pre><code> BACKUP\n CAPSER_JOB_01_PP\n usa-penguin.com\n /bin/bash -lc '/usr/bin/run.sh'\n\nPROD\n CAPSER_PROD_JOB_01_PS\n usa-penguin.com\n /bin/bash -lc '/usr/bin/run.sh'\n\nBACKUP\n CAPSER_JOB_02_PP\n usa-penguin.com\n /bin/bash -lc '$HOME/run/script02'\n\nPROD\n CAPSER_PROD_JOB_02_PS\n usa-penguin.com\n /bin/bash -lc '$HOME/run/script02'\n</code></pre>\n\n<p>However when I create the second array, what I am trying to print out is just the 2nd field from that array:  </p>\n\n \n\n<pre><code> CAPSER_JOB_01_PP\n CAPSER_PROD_JOB_01_PS\n CAPSER_JOB_02_PP\n CAPSER_PROD_JOB_02_PS\n</code></pre>\n\n \n\n<p>I get these errors when I try to get the second field of the second array. When I initialize it with \"my\" I get a compilation error. I do mot know how to slice out every second field. </p>\n\n<pre><code> casper@casper.com 1066$ ./casper_test2.pl\nUse of uninitialized value $one_line_array[1] in concatenation (.) or    string at ./casper_test2.pl line 13, &lt;DATA&gt; line 1.\nUse of uninitialized value $one_line_array[1] in concatenation (.) or string at ./casper_test2.pl line 13, &lt;DATA&gt; line 2.\nUse of uninitialized value $one_line_array[1] in concatenation (.) or string at ./casper_test2.pl line 13, &lt;DATA&gt; line 2.\nUse of uninitialized value $one_line_array[1] in concatenation (.) or string at ./casper_test2.pl line 13, &lt;DATA&gt; line 2.\nUse of uninitialized value $one_line_array[1] in concatenation (.) or string at ./casper_test2.pl line 13, &lt;DATA&gt; line 2.\n\ncasper@casper.com 1068$ ./casper_test2.pl\nsyntax error at ./casper_test2.pl line 13, near \"my \"$one_line_array[1]\\n\"\"\nExecution of ./casper_test2.pl aborted due to compilation errors.\ncasper@casper.com1069$\n</code></pre>\n\n<p>@Diab Jerius -- This actually gives me what I need for now: </p>\n\n<pre><code> while (my $line = &lt;DATA&gt; ) {\n     @fields = split /,/, $line ;\n     print \"$fields[1]\\n\" ;\n }\n</code></pre>\n"}, {"tags": ["perl", "decimal", "ascii", "big-ip", "nagiosxi"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1508962427, "post_id": 46941145, "comment_id": 80829846, "body": "Looks OK from here (except I don&#39;t know what <code>unpack &#39;C&#39;,$</code> does. Did you mean <code>unpack &#39;C&#39;,$_</code>? Also, <code>unpack &#39;C&#39;,$_</code> can be replaced by <code>ord($_)</code> or sometimes just <code>ord</code>)."}, {"owner": {"reputation": 5, "user_id": 8833746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48a3e8997d61ced2ec304e24ac8a1ce0?s=128&d=identicon&r=PG&f=1", "display_name": "BigD", "link": "https://stackoverflow.com/users/8833746/bigd"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1508963862, "post_id": 46941145, "comment_id": 80830512, "body": "That lower section was from another persons script that I believe does what I&#39;m wanting to do, but do not understand it and cannot get it to work."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508976952, "post_id": 46941145, "comment_id": 80835270, "body": "<code>sub to_oid($)</code> should be just <code>sub to_oid</code>. It does no harm here, but it&#39;s an indication that you&#39;re looking at code written by someone who doesn&#39;t know any better than you do! Are you sure that you need dots <code>.</code> every other character? It may well be that the string needs to be UTF-16 encoded, and the display has converted zero bytes to dots. Do you have a reference to the appropriate part of the Nagios spec?"}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1509005884, "post_id": 46941672, "comment_id": 80845398, "body": "The length is needed when you want to encode a string into an OID."}, {"owner": {"reputation": 5, "user_id": 8833746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48a3e8997d61ced2ec304e24ac8a1ce0?s=128&d=identicon&r=PG&f=1", "display_name": "BigD", "link": "https://stackoverflow.com/users/8833746/bigd"}, "edited": false, "score": 0, "creation_date": 1509020444, "post_id": 46941672, "comment_id": 80855330, "body": "Yeah, sorry, I totally forgot to mention that in my original post."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 5, "user_id": 8833746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48a3e8997d61ced2ec304e24ac8a1ce0?s=128&d=identicon&r=PG&f=1", "display_name": "BigD", "link": "https://stackoverflow.com/users/8833746/bigd"}, "edited": false, "score": 0, "creation_date": 1509029392, "post_id": 46941672, "comment_id": 80862247, "body": "@BigD does that mean a length needs to be removed from $rootOIDPoolStatus and a new length added that takes into account both the status and name parts?"}, {"owner": {"reputation": 5, "user_id": 8833746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48a3e8997d61ced2ec304e24ac8a1ce0?s=128&d=identicon&r=PG&f=1", "display_name": "BigD", "link": "https://stackoverflow.com/users/8833746/bigd"}, "edited": false, "score": 0, "creation_date": 1509037813, "post_id": 46941672, "comment_id": 80867539, "body": "@ysth $rootOIDPoolStatus never had the length as that would be calculated when converting $PoolName. The length would always change while the root would stay static. PerlDuck answering this question with the proper solution I was needing. Thanks for your input though!"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 2, "last_activity_date": 1508963983, "creation_date": 1508963983, "answer_id": 46941672, "question_id": 46941145, "link": "https://stackoverflow.com/questions/46941145/perl-ascii-variable-to-decimal-with-after-every-letter/46941672#46941672", "title": "Perl ASCII variable to Decimal with &quot;.&quot; after every letter", "body": "<pre><code>my $poolStatus = join '.', $rootOIDPoolStatus, map ord, split //, $poolName;\n</code></pre>\n\n<p>Not sure what the length() is for in your code, you don't show anything like that in your example.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1508994025, "last_edit_date": 1508994025, "creation_date": 1508966104, "answer_id": 46942182, "question_id": 46941145, "link": "https://stackoverflow.com/questions/46941145/perl-ascii-variable-to-decimal-with-after-every-letter/46942182#46942182", "title": "Perl ASCII variable to Decimal with &quot;.&quot; after every letter", "body": "<pre><code>my $PoolStatus = join('.', $rootOIDPoolStatus, unpack('C*', $PoolName));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $PoolStatus = sprintf(\"%s.%vd\", $rootOIDPoolStatus, $PoolName);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 8833746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48a3e8997d61ced2ec304e24ac8a1ce0?s=128&d=identicon&r=PG&f=1", "display_name": "BigD", "link": "https://stackoverflow.com/users/8833746/bigd"}, "edited": false, "score": 0, "creation_date": 1509020300, "post_id": 46952439, "comment_id": 80855225, "body": "Thank you very much! You went above and beyond with this. Even catching my error about how the length worked. I&#39;ve been so tunnel visioned I forgot to mention it."}, {"owner": {"reputation": 5, "user_id": 8833746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48a3e8997d61ced2ec304e24ac8a1ce0?s=128&d=identicon&r=PG&f=1", "display_name": "BigD", "link": "https://stackoverflow.com/users/8833746/bigd"}, "edited": false, "score": 1, "creation_date": 1509020403, "post_id": 46952439, "comment_id": 80855306, "body": "Tested the code and it works perfectly in Nagios now :) tyvm"}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 2, "last_activity_date": 1509095001, "last_edit_date": 1509095001, "creation_date": 1509015103, "answer_id": 46952439, "question_id": 46941145, "link": "https://stackoverflow.com/questions/46941145/perl-ascii-variable-to-decimal-with-after-every-letter/46952439#46952439", "title": "Perl ASCII variable to Decimal with &quot;.&quot; after every letter", "body": "<p>You seem to be using a string as an index to an SNMP table. The index of a table can be thought of as the <em>row number</em> or <em>row id</em> for that table. Often the index for a table is just a number starting from 1 and increasing with each row the table has. Such a number is encoded in the OID as is, i.e. if the table has 3 columns and two rows, they would have these OIDs:</p>\n\n<pre><code>$base.1         # table\n$base.1.1       # table entry\n$base.1.1.1.1   # col1, row1\n$base.1.1.1.2   # col1, row2\n$base.1.1.2.1   # col2, row1\n$base.1.1.2.2   # col2, row2\n$base.1.1.3.1   # col3, row1\n$base.1.1.3.2   # col3, row2\n            ^---index\n</code></pre>\n\n<p>Sometimes the index is an IP address, a combination of IP:port, or a combination of two IP addresses, especially for IP related tables. An IP address as index would look like this:</p>\n\n<pre><code>$base.1                 # table\n$base.1.1               # table entry\n$base.1.1.1.1.0.0.127   # col1, row \"127.0.0.1\"\n$base.1.1.1.0.0.0.0     # col1, row \"0.0.0.0\"\n$base.1.1.2.1.0.0.127   # col2, row \"127.0.0.1\"\n$base.1.1.2.0.0.0.0     # col2, row \"0.0.0.0\"\n$base.1.1.3.1.0.0.127   # col3, row \"127.0.0.1\"\n$base.1.1.3.0.0.0.0     # col3, row \"0.0.0.0\"\n            ^^^^^^^---- index\n</code></pre>\n\n<p>As you can see, the length of the index varies depending on its datatype (there's a dedicated IPV4 datatype).</p>\n\n<p>Sometimes the index is a <em>string</em> (as in your case). When a string is used it must as well be somehow encoded to make up a \"row number\" for the table. Strings as indexes are encoded character-wise and preceeded by their length, i.e.:</p>\n\n<pre><code>$base.1                     # table\n$base.1.1                   # table entry\n$base.1.1.1.2.65.66         # col1, row \"AB\"\n$base.1.1.1.3.120.121.122   # col1, row \"xyz\"\n$base.1.1.2.2.65.66         # col2, row \"AB\"\n$base.1.1.2.3.120.121.122   # col2, row \"xyz\"\n$base.1.1.3.2.65.66         # col3, row \"AB\"\n$base.1.1.3.3.120.121.122   # col3, row \"xyz\"\n            ^^^^^^^^^^^^^---- index\n</code></pre>\n\n<p>So \"AB\" becomes \"2.65.66\" because <code>length('AB')==2</code> and <code>ord('A')==65</code>, <code>ord('B')==66</code>. Likewise \"xyz\" becomes \"3.120.121.122\".</p>\n\n<p>Your function <code>to_oid</code> does exactly that, although I'd simplify it as follows:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nsub to_oid\n{\n    my $string = shift;\n    return sprintf('%d.%s', length($string), join('.', unpack('C*', $string)));\n}\n\nmy $rootOIDPoolStatus = '1.3.6.1.4.1.3375.2.2.5.5.2.1.2';\nmy $PoolName = '/Common/Atlassian';\n\nmy $poolname_oid = to_oid($PoolName);\nmy $complete_oid = \"$rootOIDPoolStatus.$poolname_oid\";\n\nprint $complete_oid, \"\\n\";\n</code></pre>\n\n<h2>Output:</h2>\n\n<pre><code>1.3.6.1.4.1.3375.2.2.5.5.2.1.2.17.47.67.111.109.109.111.110.47.65.116.108.97.115.115.105.97.110\n|&lt;------- rootOID -----------&gt;|&lt;------------ poolname_oid ----...---&gt;|\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8833746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48a3e8997d61ced2ec304e24ac8a1ce0?s=128&d=identicon&r=PG&f=1", "display_name": "BigD", "link": "https://stackoverflow.com/users/8833746/bigd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 46952439, "answer_count": 3, "score": 0, "last_activity_date": 1509095001, "creation_date": 1508961744, "last_edit_date": 1508976514, "question_id": 46941145, "link": "https://stackoverflow.com/questions/46941145/perl-ascii-variable-to-decimal-with-after-every-letter", "title": "Perl ASCII variable to Decimal with &quot;.&quot; after every letter", "body": "<p>I'm making a Perl plugin for Nagios for the F5 load balancer. I have to convert the pool name to a decimal format that matches the OID for SNMP.</p>\n\n<pre><code>my ( $PoolName )         = $ARGV[1];\nmy ( $rootOIDPoolStatus ) = '1.3.6.1.4.1.3375.2.2.5.5.2.1.2';\n</code></pre>\n\n<p>For example, <code>$PoolName</code> is <code>\"/Common/Atlassian\"</code> and I\nneed to convert that to <code>/.C.o.m.m.o.n./.A.t.l.a.s.s.i.a.n</code>\nand then to <code>47.67.111.109.109.111.110.47.65.116.108.97.115.115.105.97.110</code></p>\n\n<p>Once that has been converted they would get pulled into one variable</p>\n\n<pre><code>my ( $PoolStatus ) = \"$rootOIDPoolStatus.$OIDPoolName\"\n</code></pre>\n\n<p>I have been backwards-engineering other people's Perl plugins for Nagios and this is what someone else is doing, but I couldn't make it work no matter what kind of combinations I was doing. Their <code>$name</code> would be my <code>$PoolName</code></p>\n\n<pre><code>sub to_oid($) {\n    my $oid;\n    my ($name) = $_[0];\n    return \"\" if ( ! $name );\n    $oid = ( length $name ) . '.' . ( join '.', ( map { unpack 'C', $ } ( split '',$name ) ) );\n    return $oid;\n}\n</code></pre>\n\n<p>Could someone help me to build or understand the Perl logic in order to convert <code>$PoolName</code> to the decimal format I need for the OID?</p>\n"}, {"tags": ["mysql", "sqlite", "perl"], "comments": [{"owner": {"reputation": 1132, "user_id": 6173310, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4c0e4c8d2f7a2404ff50054209a59eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Barnes", "link": "https://stackoverflow.com/users/6173310/jacob-barnes"}, "edited": false, "score": 0, "creation_date": 1508959579, "post_id": 46940397, "comment_id": 80828354, "body": "Maybe:  SELECT tbl3.sub_sub_id  FROM table3 tbl3 \tINNER JOIN table2 tbl2 \t\tON tbl3.sub_sub_id = tbl2.sub_sub_id1 \tINNER JOIN table2 tbl2_1  \t\tON tbl3.sub_sub_id = tbl2.sub_sub_id2 \tINNER JOIN table1 tbl1  \t\tON tbl3.sub_sub_id = tbl1.sub_id1 OR tbl3.sub_sub_id = tbl1.sub_id2 WHERE tbl1.sub_id2 is not null;"}, {"owner": {"reputation": 425, "user_id": 8833606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a929a6722b0444fb71995179f969161?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/8833606/steve"}, "reply_to_user": {"reputation": 1132, "user_id": 6173310, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4c0e4c8d2f7a2404ff50054209a59eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Barnes", "link": "https://stackoverflow.com/users/6173310/jacob-barnes"}, "edited": false, "score": 0, "creation_date": 1508961861, "post_id": 46940397, "comment_id": 80829556, "body": "Is the &quot;table3 tbl3&quot; redundancy a part of the FROM or JOIN statement?  Or does it just go in once between those?"}, {"owner": {"reputation": 425, "user_id": 8833606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a929a6722b0444fb71995179f969161?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/8833606/steve"}, "reply_to_user": {"reputation": 1132, "user_id": 6173310, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4c0e4c8d2f7a2404ff50054209a59eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Barnes", "link": "https://stackoverflow.com/users/6173310/jacob-barnes"}, "edited": false, "score": 0, "creation_date": 1508963226, "post_id": 46940397, "comment_id": 80830239, "body": "or is one of those a placeholder for the merged table?"}, {"owner": {"reputation": 425, "user_id": 8833606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a929a6722b0444fb71995179f969161?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/8833606/steve"}, "reply_to_user": {"reputation": 1132, "user_id": 6173310, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4c0e4c8d2f7a2404ff50054209a59eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Barnes", "link": "https://stackoverflow.com/users/6173310/jacob-barnes"}, "edited": false, "score": 0, "creation_date": 1508965228, "post_id": 46940397, "comment_id": 80831259, "body": "Not having any luck currently, but shouldn&#39;t: INNER JOIN table1 tbl1 ON tbl3.sub_sub_id = tbl1.sub_id1 OR tbl3.sub_sub_id = tbl1.sub_id2&quot;   be: &quot;INNER JOIN table1 tbl1 ON tbl2.sub_id = tbl1.sub_id1 OR tbl2_1.sub_id = tbl1.sub_id2 WHERE tbl1.sub_id2&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1509047187, "creation_date": 1509047187, "answer_id": 46962598, "question_id": 46940397, "link": "https://stackoverflow.com/questions/46940397/trying-to-pull-data-from-db-using-sqlite-in-perl-by-using-multiple-tables-for-fi/46962598#46962598", "title": "Trying to pull data from db using sqlite in perl by using multiple tables for filters", "body": "<p>I think this works. I tested it in sqlite version 3.11.0. If you use sqlite older than 3.8.3 (which don't understand the <code>WITH</code> clause) change <code>t1_can_be_used</code> and <code>t1_can_be_used</code> into real tables or views.</p>\n\n<pre><code>create table t1 as\n  select 1 master_id, 10 sub_id1, 20   sub_id2 union\n  select 2 master_id, 40 sub_id1, 50   sub_id2 union\n  select 3 master_id, 30 sub_id1, null sub_id2 union\n  select 4 master_id, 60 sub_id1, 70   sub_id2 union\n  select 5 master_id, 80 sub_id1, 90   sub_id2;\n\ncreate table t2 as\n  select 10 sub_id, 100 sub_sub_id1, 200 sub_sub_id2 union\n  select 20 sub_id, 300 sub_sub_id1, 400 sub_sub_id2 union\n  select 30 sub_id, 500 sub_sub_id1, 600 sub_sub_id2 union\n  select 35 sub_id, 700 sub_sub_id1, 300 sub_sub_id2;\n\ncreate table t3 as\n  select 100 sub_sub_id, 'ABC' data union\n  select 200 sub_sub_id, 'QED' data union\n  select 300 sub_sub_id, 'XYZ' data union\n  select 400 sub_sub_id, 'WWW' data union\n  select 500 sub_sub_id, 'CIA' data union\n  select 600 sub_sub_id, 'KGB' data union\n  select 700 sub_sub_id, 'FDR' data union\n  select 800 sub_sub_id, 'JFK' data;\n\nwith\nt1_can_be_used as (\n  select * from t1\n  where sub_id1 is not null\n  and   sub_id2 is not null\n),\nt2_can_be_used as (\n  select * from t2\n  where sub_id in (\n    select sub_id1 from t1_can_be_used union\n    select sub_id2 from t1_can_be_used\n  )\n)\nselect * from t3\nwhere sub_sub_id in (\n  select sub_sub_id1 from t2_can_be_used union\n  select sub_sub_id2 from t2_can_be_used\n);\n</code></pre>\n"}], "owner": {"reputation": 425, "user_id": 8833606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a929a6722b0444fb71995179f969161?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/8833606/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509047187, "creation_date": 1508958864, "question_id": 46940397, "link": "https://stackoverflow.com/questions/46940397/trying-to-pull-data-from-db-using-sqlite-in-perl-by-using-multiple-tables-for-fi", "title": "Trying to pull data from db using sqlite in perl by using multiple tables for filters", "body": "<p>So I have previously done this by using a (what I consider complicated) string of IN statements in my SELECT statement... but I accidentally deleted my working files and lost my final product...and have since forgotten how to do it.</p>\n\n<p>I'm looking for help recreating that statement, or trying it with JOIN....which I have zero idea how to do. (I know enough about programming to poke around and get something successful ~50% of the time.)</p>\n\n<p>I am working with a database with three tables of interest.</p>\n\n<p>Table 1 contains:\nmaster_id, sub_id1, sub_id2</p>\n\n<p>Table 2 contains:\nsub_id, sub_sub_id1, sub_sub_id2</p>\n\n<p>Table 3 contains:\nsub_sub_id, data</p>\n\n<p>Sorry in advance for the ambiguous data structure.  So the master_id consists of sub_id1 and sub_id2. sub_id1 and sub_id2 are identified as just plain sub_id's in table 2, consisting of sub_sub_id1 and sub_sub_id2. Sub_sub_id1 and 2 are identified as just sub_sub_id in table 3 with the relevant data I need.</p>\n\n<p>What I am trying to do is pull all sub_sub_ids and data from table 3 when they exist in the tree of table 1.  (Not all sub_sub_id's exist outside of table 3.)</p>\n\n<p>So if sub_sub_id from table 3 is found as either a sub_sub_id1 or sub_sub_id2 in table 2, and if that corresponding sub_id from table 2 is found as sub_id1 or sub_id2 in table 1, then get sub_sub_id and data from table 3.</p>\n\n<p>To make matters more complicated, not every master_id has a sub_id2. And I only want to look in rows that have both sub_id1 and sub_id2.</p>\n\n<p>I hope this makes some sort of sense and there is enough info to help! I'm traveling for work and away from all my handwritten scratch notes that got me through this problem last time. :(</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 8821699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5a2c797a59a26c1e4968f2a3185cbc59?s=128&d=identicon&r=PG&f=1", "display_name": "Parker_d", "link": "https://stackoverflow.com/users/8821699/parker-d"}, "edited": false, "score": 0, "creation_date": 1508952970, "post_id": 46938503, "comment_id": 80824566, "body": "I want to make my question more clear as this still didn&#39;t work. The <code>@array</code> which I have contains the matching strings from a file. I have it as my @array = grep -Fx &#39;this is bird&#39; file.txt&quot;); I am basically doing this to know if that string is present or not. If the array contains the matching string then I want to edit the file."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 75, "user_id": 8821699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5a2c797a59a26c1e4968f2a3185cbc59?s=128&d=identicon&r=PG&f=1", "display_name": "Parker_d", "link": "https://stackoverflow.com/users/8821699/parker-d"}, "edited": false, "score": 0, "creation_date": 1508953099, "post_id": 46938503, "comment_id": 80824665, "body": "You should include sample input and desired output if you want to be understood better."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508955876, "post_id": 46938503, "comment_id": 80826223, "body": "Actually, <code>$string ~~ @array</code> is fine."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1508952614, "last_edit_date": 1508952614, "creation_date": 1508952193, "answer_id": 46938503, "question_id": 46938463, "link": "https://stackoverflow.com/questions/46938463/parse-an-array-and-see-if-a-string-matches/46938503#46938503", "title": "Parse an array and see if a string matches", "body": "<p>If you use the smart-match operator (<code>~~</code>) to look for an element in a list, <a href=\"https://stackoverflow.com/a/12426511/168657\">the syntax is</a></p>\n\n<pre><code>$string ~~ \\@array\n</code></pre>\n\n<p>Since <a href=\"https://stackoverflow.com/a/36502331/168657\">using the smart-match operator is dicey</a>, some alternatives that do not depend on it are to use grep</p>\n\n<pre><code>if (grep { $_ eq $string } @array) { ... }\n</code></pre>\n\n<p>and <code>List::Util::first</code> or <code>List::Util::any</code></p>\n\n<pre><code>use List::Util 'first';\nif (first { $_ eq $string } @array) { ... }\n\nuse List::Util 'any';\nif (any{ $_ eq $string } @array) { ... }\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 8821699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5a2c797a59a26c1e4968f2a3185cbc59?s=128&d=identicon&r=PG&f=1", "display_name": "Parker_d", "link": "https://stackoverflow.com/users/8821699/parker-d"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1508952700, "accepted_answer_id": 46938503, "answer_count": 1, "score": -1, "last_activity_date": 1508952614, "creation_date": 1508952031, "question_id": 46938463, "link": "https://stackoverflow.com/questions/46938463/parse-an-array-and-see-if-a-string-matches", "closed_reason": "Duplicate", "title": "Parse an array and see if a string matches", "body": "<p>Hi I want to parse an <code>@array</code> which has strings and see if <code>\"This is bird\"</code> string is present or not. If present do something else return. I am doing it in perl.</p>\n\n<p>I have used <code>if($string ~~ @array)</code>, But no output even if there is a matching string present. It is unable to compare both strings if I use this.\nThe <code>@array</code> can have any number of strings, even 1 string sometimes.  Is there any other way I can do it. </p>\n"}, {"tags": ["perl", "networking"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1508949054, "post_id": 46935479, "comment_id": 80822374, "body": "@toolic, That&#39;s the module&#39;s fault. (<code>croak(&quot;sendto()&quot;);</code> in <code>util.c</code>)"}, {"owner": {"reputation": 35, "user_id": 8412298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf218f6c4bceb689dd094a247d9274a5?s=128&d=identicon&r=PG&f=1", "display_name": "Flip", "link": "https://stackoverflow.com/users/8412298/flip"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1509107757, "post_id": 46935479, "comment_id": 80897743, "body": "You are correct, with <code>strace</code> i get <code>EMSGSIZE (Message too long)</code>. I set the MTU to automatic (also tested really high values) via the network manager, but still get the error..."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1509111095, "last_edit_date": 1509111095, "creation_date": 1509109429, "answer_id": 46975738, "question_id": 46935479, "link": "https://stackoverflow.com/questions/46935479/perl-rawip-maximum-data-size/46975738#46975738", "title": "Perl RawIP maximum data size", "body": "<p>You're building a packet that's <a href=\"https://en.wikipedia.org/wiki/Maximum_transmission_unit\" rel=\"nofollow noreferrer\">too large</a>, so <code>sendto</code> is returning error <code>EMSGSIZE</code>.</p>\n\n<blockquote>\n  <p>EMSGSIZE<br>\n  The socket type requires that message be sent atomically, and the size of the message to be sent made this impossible.</p>\n</blockquote>\n\n<p>It's no mystery it starts failing around 1500; that's the maximum an Ethernet frame can carry.</p>\n\n<p>You need to use multiple packets or multiple packet fragments.</p>\n"}], "owner": {"reputation": 35, "user_id": 8412298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf218f6c4bceb689dd094a247d9274a5?s=128&d=identicon&r=PG&f=1", "display_name": "Flip", "link": "https://stackoverflow.com/users/8412298/flip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 46975738, "answer_count": 1, "score": 0, "last_activity_date": 1509111095, "creation_date": 1508942768, "question_id": 46935479, "link": "https://stackoverflow.com/questions/46935479/perl-rawip-maximum-data-size", "title": "Perl RawIP maximum data size", "body": "<p>I'm trying to send some data over TCP using Net::RawIP in Perl. Unfortunately i get the error </p>\n\n<blockquote>\n  <p>sendto() at /usr/lib/x86_64-linus-gnu/perl5/5.24/Net/RawIP.pm line 630</p>\n</blockquote>\n\n<p>if the TCP data field is bigger than about 1470 characters:</p>\n\n<pre><code>  my $n = Net::RawIP-&gt;new({\n                        ip  =&gt; {\n                                saddr =&gt; '[src]',\n                                daddr =&gt; '[dst]',\n                               },\n                        tcp =&gt; {\n                                source =&gt; 7777,\n                                dest   =&gt; 7777,\n                                data =&gt; \"x\" x 150  \n                          }\n                       });\n  $n-&gt;send;\n</code></pre>\n\n<p>works, but</p>\n\n<pre><code>  my $n = Net::RawIP-&gt;new({\n                        ip  =&gt; {\n                                saddr =&gt; '[src]',\n                                daddr =&gt; '[dst]',\n                               },\n                        tcp =&gt; {\n                                source =&gt; 7777,\n                                dest   =&gt; 7777,\n                                data =&gt; \"x\" x 1500  # size changed here\n                          } \n                       });\n  $n-&gt;send;\n</code></pre>\n\n<p>crashes. Any ideas why this happens?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508934373, "post_id": 46932054, "comment_id": 80811622, "body": "Your code constructing the list of recipients that includes the single quote is wrong. Are you getting any Perl syntax errors, or is the actual email sending the problem? Please specify. To get a single quote into a string, use a different way of quoting. <code>&quot;foo&#39;bar&quot;</code>"}, {"owner": {"reputation": 67, "user_id": 8772160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b04e7a370bc124eeaaaea8f6d8fe14e?s=128&d=identicon&r=PG&f=1", "display_name": "prem Rexx", "link": "https://stackoverflow.com/users/8772160/prem-rexx"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508937873, "post_id": 46932054, "comment_id": 80814259, "body": "sorry for previous code. i have used within &quot;foo&#39;bar&quot;  also. Its not delivered"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1508948093, "post_id": 46932054, "comment_id": 80821863, "body": "Your code is disgraceful. You <i>must always</i> <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of <i>every</i> Perl program you write, especially before asking the whole world for help to fix it. You will also have to use <code>my</code> to declare each variable as close as possible to where it is first used. You also need to indent your cide properly to make it readable. While you may wish to sacrifice readability and the debugging facilities of Perl itself for the sake of typing fewer characters, it is very ill-mannered to ask for help with code in that state."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1508948591, "post_id": 46932054, "comment_id": 80822145, "body": "I don&#39;t know how this module does it, but did you try <code>q(a&#39;b@c.com)</code>, so with <code>q(...)</code>?  That way you can use a single quote inside while you also single quote it so it doesn&#39;t immediately get interpolated (the module may still do that in its own operation)"}, {"owner": {"reputation": 67, "user_id": 8772160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b04e7a370bc124eeaaaea8f6d8fe14e?s=128&d=identicon&r=PG&f=1", "display_name": "prem Rexx", "link": "https://stackoverflow.com/users/8772160/prem-rexx"}, "edited": false, "score": 0, "creation_date": 1509019132, "post_id": 46932054, "comment_id": 80854388, "body": "@zdim- I have tried with q(a&#39;b@c.com) also. But same thing is happening"}], "owner": {"reputation": 67, "user_id": 8772160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b04e7a370bc124eeaaaea8f6d8fe14e?s=128&d=identicon&r=PG&f=1", "display_name": "prem Rexx", "link": "https://stackoverflow.com/users/8772160/prem-rexx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508937819, "creation_date": 1508933355, "last_edit_date": 1508937819, "question_id": 46932054, "link": "https://stackoverflow.com/questions/46932054/how-to-send-mail-if-mail-id-contails-single-quotes-in-perl", "title": "How to send mail, if Mail ID contails single quotes in Perl", "body": "<p>I'm sending email from Perl script. But I'm facing issue for apostrophe email id while sending email from Perl script. For example, if email id contains single quotes, Mail is not delivering using Email:: MIME Module also it doesn't throw any error. How do I send mail for apostrophe email id?</p>\n\n<p>Can anyone help in this case? Thanks in Advance</p>\n\n<pre><code>use utf8;\nuse Path::Class qw/file/;\nuse Encode;\nuse Email::Sender::Simple qw/try_to_sendmail/; \nuse Email::MIME;\nuse Email::Sender::Transport::SMTP::TLS;\nuse Email::Address::XS;\nuse Data::Dumper;\n\n\nopen(fh,\"&lt;test.html\");\n$str = join(\"\",&lt;fh&gt;);\n\n@to_address = (\"sample\\'test@test.com\");\n\nmy %mail = ('username'=&gt;'user','password'=&gt;'pwd','subject'=&gt;'Sample','body'=&gt;$str,'host'=&gt;hostname,'port'=&gt;'25','display_name' =&gt; 'Test Delivery');\n\n$mail{'files'} = \\@ar_ref;\n$mail{'to'} = \\@to_address;\n&amp;email(\\%mail);\n\nsub email(){\nmy $mailinfo = shift;\nmy $username = $mailinfo-&gt;{'username'};\nmy $password = $mailinfo-&gt;{'password'};\n\nmy $from  = $mailinfo-&gt;{'username'};\nmy $display_name = $mailinfo-&gt;{'display_name'};\n#print \"from : $from\\n\";\nmy @to       = @{$mailinfo-&gt;{'to'}};\nmy $subject  = $mailinfo-&gt;{'subject'};\nmy $body     = $mailinfo-&gt;{'body'};\nmy $host = $mailinfo-&gt;{'host'};\nmy $port = $mailinfo-&gt;{'port'};\nmy @attachmentfiles = @{$mailinfo-&gt;{'files'}};\nmy @body1;\nmy $to = join(',',@to);\n$to =~ s/(^,|,$)//g;\nforeach (@attachmentfiles){\n    my $file1     = file($_);\n    push (@body1, Email::MIME-&gt;create(\n            attributes =&gt; {\n            filename     =&gt; $file1-&gt;basename,\n            encoding     =&gt; 'utf-8',\n            disposition  =&gt; \"attachment\",\n            },\n            body =&gt; scalar $file1-&gt;slurp,\n        )\n    )\n}\n\nunshift (@body1, Email::MIME-&gt;create(\n    attributes =&gt; {\n    content_type =&gt; 'text/html',\n    charset      =&gt; 'utf-8',\n    encoding     =&gt; '7bit',\n    },\n    body_str =&gt; $body,\n    )\n);\n    my $email = Email::MIME-&gt;create(\n    header =&gt; [\n    From    =&gt; Email::Address::XS-&gt;new($display_name,$from),\n    To      =&gt; $to,\n    Subject =&gt; Encode::encode('utf-8', $subject),\n    ],\n    parts =&gt; [ @body1 ],\n);\n$_-&gt;encoding_set( 'base64' ) for $email-&gt;parts;\ntry_to_sendmail(\n    $email,\n    {\n        transport =&gt; Email::Sender::Transport::SMTP::TLS-&gt;new(\n            host     =&gt; $host,\n            port     =&gt; $port,\n            username =&gt; $username,\n            password =&gt; $password,\n        )\n    }\n) or do {\n    print \"Error occured while mail send\\n\";\n}\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1508931625, "post_id": 46931348, "comment_id": 80809635, "body": "What problem are you trying to solve?"}, {"owner": {"reputation": 1672, "user_id": 4355253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee8cbfecfb7686f370b07eea52273c5?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Elices", "link": "https://stackoverflow.com/users/4355253/javier-elices"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508932433, "post_id": 46931348, "comment_id": 80810187, "body": "I have given two examples, but they may not be clear. The problem is a way to add new functionality to an application without touching its code. For instance, by adding new code to new files / directories."}, {"owner": {"reputation": 1672, "user_id": 4355253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee8cbfecfb7686f370b07eea52273c5?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Elices", "link": "https://stackoverflow.com/users/4355253/javier-elices"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508932903, "post_id": 46931348, "comment_id": 80810523, "body": "A good solution will allow the application to <i>know</i> of its new capabilities and <i>use</i> them, while a user of the application may only <i>refer</i> to them."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1508933474, "post_id": 46931348, "comment_id": 80810954, "body": "That&#39;s applications of a technology. You say you don&#39;t want code to compile up-front. Why? What problem are you trying to solve there? Sounds to me like you are trying to over-engineer, but you&#39;ll end up out-smarting yourself and you will have a huge mountain of technical debt that your colleagues will hate you for."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1508933617, "post_id": 46931348, "comment_id": 80811049, "body": "<code>require &quot;dir&#47;perlscript.NotPmExtension&quot;;</code> and it does not have to be code inside package."}, {"owner": {"reputation": 1672, "user_id": 4355253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee8cbfecfb7686f370b07eea52273c5?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Elices", "link": "https://stackoverflow.com/users/4355253/javier-elices"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508934847, "post_id": 46931348, "comment_id": 80811979, "body": "@simbabque, thank you for your comments. In my example about the scripts that move data betweeen applications, we have some 30 combinations (and counting) of sources / destinations. Would you add a <code>use</code> statement for each of the 30 up front? Each execution only requires one such piece of dynamic code."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508934988, "post_id": 46931348, "comment_id": 80812065, "body": "Why not make it load the right things using <code>require</code> depending on command line args? The cost of compilation should be relatively low though and the benefit for maintaining the code will likely outweigh it if everything is loaded directly."}, {"owner": {"reputation": 1672, "user_id": 4355253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee8cbfecfb7686f370b07eea52273c5?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Elices", "link": "https://stackoverflow.com/users/4355253/javier-elices"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508938906, "post_id": 46931348, "comment_id": 80815014, "body": "@simbabque, yes, that would be a way to do it. But is this considered <i>good practice</i>? Is there a better way?"}, {"owner": {"reputation": 1672, "user_id": 4355253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee8cbfecfb7686f370b07eea52273c5?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Elices", "link": "https://stackoverflow.com/users/4355253/javier-elices"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1508939031, "post_id": 46931348, "comment_id": 80815111, "body": "@\u0421\u0443\u0445\u043e\u043927, if you did not load a package and all pieces of dynamic code had the same interface (defined functions or methods named the same), how would you deal with more than one piece of dynamic code? Would  they not be all in the same name space?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508947393, "post_id": 46931348, "comment_id": 80821410, "body": "@JavierElices: Hopefully each of your modules has a different <code>package</code> statement, so they won&#39;t clash. Look at the code of <code>File::Spec</code> for an example of using different modules depending on the environment."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1508948216, "post_id": 46931348, "comment_id": 80821939, "body": "Add a configuration file that the application reads at startup, which specifies which funcionalities (modules) to load.  Then it&#39;s easy to add.  You&#39;d still have to change application code every time something is added of course."}, {"owner": {"reputation": 1672, "user_id": 4355253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee8cbfecfb7686f370b07eea52273c5?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Elices", "link": "https://stackoverflow.com/users/4355253/javier-elices"}, "edited": false, "score": 0, "creation_date": 1509298480, "post_id": 46931348, "comment_id": 80952847, "body": "I have answered my own question taking your suggestions into account. Any feedback will be welcome! Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 1672, "user_id": 4355253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee8cbfecfb7686f370b07eea52273c5?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Elices", "link": "https://stackoverflow.com/users/4355253/javier-elices"}, "is_accepted": true, "score": 1, "last_activity_date": 1509442770, "last_edit_date": 1509442770, "creation_date": 1509282087, "answer_id": 47000465, "question_id": 46931348, "link": "https://stackoverflow.com/questions/46931348/best-way-to-add-dynamic-code-to-a-perl-application/47000465#47000465", "title": "Best way to add dynamic code to a perl application", "body": "<p>Given the comments and the lack of responses, I have done some research to answer my own question. Comments or other answers are welcome!</p>\n\n<h1>Dynamic code</h1>\n\n<p>By dynamic code I mean code that is evaluated at <em>run-time</em>. In general, I consider better to compile an application so that you have all the error checking the Perl compiler can offer before starting to execute. Added to <code>use strict</code> and <code>use warnings</code>, you can catch many common mistakes that way. So why using dynamic code at all? These are the reasons I consider:</p>\n\n<ol>\n<li>An application performs many different actions that are chosen depending on the context of execution. For instance, an application extracts certain properties from a file. The way to extract them depends on the file type and we want to deal with many file types, but we do not want to change the application for each new file type we add. We also want the application to start quickly.</li>\n<li>An application needs to be expanded <em>on the fly</em> in a way that does not require the application to restart.</li>\n<li>We have a large application that contains a number of features. When we deploy the application, we do not want to provide all the possible features all the time, maybe because we licence them separately, maybe because not all of them are able to run under all platforms. By throwing in only the files with the features we want, we have a <em>distribution</em> that does not require changing any code or <em>config</em> files.</li>\n</ol>\n\n<h1>How do we do it?</h1>\n\n<p>Given the possibilities that Perl offers, solutions to adding dynamic code come in two flavors: using <code>eval</code> and using <code>require</code>. Then there are <em>modules</em> that may help do things in an easier or more maintainable way.</p>\n\n<h1>The quick and dirty way</h1>\n\n<p>The <a href=\"https://perldoc.perl.org/functions/eval.html\" rel=\"nofollow noreferrer\"><code>eval</code></a> way uses the form <code>eval EXPR</code> to compile a piece of Perl code at <em>run-time</em>. The expression could be a string but I suggest putting the code in a file and grouping other similar files in a convenient place. Then, if possible using <a href=\"http://search.cpan.org/~uri/File-Slurp-9999.19/lib/File/Slurp.pm\" rel=\"nofollow noreferrer\">File::Slurp</a>:</p>\n\n<pre><code>eval read_file(\"$file_with_code\", binmode =&gt; ':utf8');\nif( $@ ) {\n  die \"$file_with_code: error $@\\n\";\n}\nif( !defined &amp;myfunction ) {\n  die \"myfunction is not defined at $file_with_code\\n\";\n}\n</code></pre>\n\n<p>Specifying the character set to <code>read_file</code> makes sure that the file will be interpreted correctly. It is also good to check that the compilation was correct and that the function we expect was defined. So in <code>$file_with_code</code>, we will have:</p>\n\n<pre><code>sub myfunction(...) {\n  # Do whatever; maybe return something\n}\n</code></pre>\n\n<p>Then you may invoke the function normally. The function will be a different one depending on which file was loaded. Simple and dynamic.</p>\n\n<h1>The modular way (recommended)</h1>\n\n<p>The way I would do it with maintainability in mind would be using <a href=\"https://perldoc.perl.org/functions/require.html\" rel=\"nofollow noreferrer\"><code>require</code></a>. Unlike <code>use</code>, that is evaluated at <em>compile-time</em>, <code>require</code> may be used to load a module at <em>run-time</em>. Out of the various ways to invoke <code>require</code>, I would go for:</p>\n\n<pre><code>my $mymodule = 'MyCompany::MyModule'; # The module name ends up in $mymodule\nrequire $mymodule;\n</code></pre>\n\n<p>Also unlike <code>use</code>, <code>require</code> will load the module but will not execute <code>import</code>. So we may use any functions inside the module and those function names will not polute the calling namespace. To access the function we will need to use:</p>\n\n<pre><code>$mymodule-&gt;myfunction($a, $b);\n</code></pre>\n\n<p>See below as to how the arguments get passed. This way of invoking a function will add an argument before <code>$a</code> and <code>$b</code> that is usually named <code>$self</code>. You may ignore it if you don\u00b4t know anything about object orientation.</p>\n\n<p>As <code>require</code> will try to load a module and the module may not exist or it may not compile, to catch the error it will be better to use:</p>\n\n<pre><code>eval \"require $mymodule\";\n</code></pre>\n\n<p>Then <code>$@</code> may be used to check for an error in the loading+compiling process. We may also check that the function has been defined with:</p>\n\n<pre><code>if( $mymodule-&gt;can('myfunction') ) {\n  die \"myfunction is not defined at module $mymodule\\n\";\n}\n</code></pre>\n\n<p>In this case we will need to create a directory for the modules and a file with the <code>.pm</code> extension for each one:</p>\n\n<pre><code>MyCompany\n  MyModule.pm\n</code></pre>\n\n<p>Inside <code>MyModule.pm</code> we will have:</p>\n\n<pre><code>package MyCompany::MyModule;\n\nsub myfunction {\n  my ($self, $a, $b);\n\n  # Do whatever; maybe return something\n  # $self will be 'MyCompany::MyModule'\n}\n\n1;\n</code></pre>\n\n<p>The <a href=\"https://perldoc.perl.org/functions/package.html\" rel=\"nofollow noreferrer\"><code>package</code></a> bit is essential and will make sure that whatever definitions we put inside will be at the <code>MyCompany::MyModule</code> namespace. The <code>1;</code> at the end will tell <code>require</code> that the module initialization was correct.</p>\n\n<p>In case we wanted to implement the module by using other libraries that could polute the caller namespace, we could use the <a href=\"http://search.cpan.org/~ribasushi/namespace-clean-0.27/lib/namespace/clean.pm\" rel=\"nofollow noreferrer\">namespace::clean</a> module. This module will make sure the caller does not get any additions to the namespace coming from the module we are defining. It is used in this way:</p>\n\n<pre><code>package MyCompany::MyModule;\n\n# Definitions by these modules will not be available to the code doing the require\nuse Library1 qw(def1 def2);\nuse Library2 qw(def3 def4);\n...\n\n# Private functions go here and will not be visible from the code doing the require\nsub private_function1 {\n  ...\n}\n...\n\nuse namespace::clean;\n\n# myfunction will be available\nsub myfunction {\n  # Do whatever; maybe return something\n}\n...\n\n1;\n</code></pre>\n\n<h2>What happens if we include a module more than once?</h2>\n\n<p>The short answer is <em>nothing</em>. Perl keeps track of which modules have been loaded and from where using the <code>%INC</code> variable. Both <code>use</code> and <code>require</code> will not load a library twice. <code>use</code> will add any exported names to the callers namespace. <code>require</code> will not do that either. In case you want to check that a module has been loaded already, you could use <code>%INC</code> or better yet, you could use <a href=\"https://perldoc.perl.org/Module/Loaded.html\" rel=\"nofollow noreferrer\">module::loaded</a> which is part of the core in modern Perl versions:</p>\n\n<pre><code>use Module::Loaded;\n\nif( !is_loaded( $mymodule ) {\n  eval \"require $mymodule\" );\n  ...\n}\n</code></pre>\n\n<h2>How do I make sure Perl finds my module files?</h2>\n\n<p>For <code>use</code> and <code>require</code> Perl uses the <code>@INC</code> variable to define the list of directories that will be used to look for libraries. Adding a new directory to it may be achieved (among other ways) by adding it to the <code>PERL5LIB</code> environment variable or by using:</p>\n\n<pre><code>use lib '/the/path/to/my/libs';\n</code></pre>\n\n<h2>Helper libraries</h2>\n\n<p>I have found some libraries that may be used to make the code that uses the dynamic mechanism more maintainable. They are:</p>\n\n<ul>\n<li>The <a href=\"http://search.cpan.org/~rjbs/if-0.0606/if.pm\" rel=\"nofollow noreferrer\">if</a> module: will load a module or not depending on a condition: <code>use if CONDITION, MODULE =&gt; ARGUMENTS;</code>. May also be used to unload a module.</li>\n<li><a href=\"http://search.cpan.org/dist/Module-Load-Conditional/lib/Module/Load/Conditional.pm\" rel=\"nofollow noreferrer\">Module::Load::Conditional</a>: will not die on you while trying to load a module and may also be used to check the module version or its dependencies. It is also able to load a list of modules all at once even checking their versions before doing so.</li>\n</ul>\n\n<p>Taken from the Module::Load::Conditional documentation:</p>\n\n<pre><code>use Module::Load::Conditional qw(can_load);\n\nmy $use_list = {\n        CPANPLUS        =&gt; 0.05,\n        LWP             =&gt; 5.60,\n        'Test::More'    =&gt; undef,\n};\n\nprint can_load( modules =&gt; $use_list )\n        ? 'all modules loaded successfully'\n        : 'failed to load required modules';\n</code></pre>\n"}], "owner": {"reputation": 1672, "user_id": 4355253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee8cbfecfb7686f370b07eea52273c5?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Elices", "link": "https://stackoverflow.com/users/4355253/javier-elices"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 803, "favorite_count": 2, "accepted_answer_id": 47000465, "answer_count": 1, "score": 4, "last_activity_date": 1509442770, "creation_date": 1508931230, "last_edit_date": 1509221503, "question_id": 46931348, "link": "https://stackoverflow.com/questions/46931348/best-way-to-add-dynamic-code-to-a-perl-application", "title": "Best way to add dynamic code to a perl application", "body": "<p>I know specific instances of this question have been answered before:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1917261/how-can-i-dynamically-include-perl-modules-without-using-eval\">How can I dynamically include Perl modules without using eval?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/442710/how-do-i-use-a-perl-package-known-only-in-runtime\">How do I use a Perl package known only in runtime?</a></li>\n</ul>\n\n<p>There are also good answers at Perl Monks:</p>\n\n<ul>\n<li><a href=\"http://www.perlmonks.org/?node_id=1021324\" rel=\"nofollow noreferrer\">Writing a Perl module that dynamically loads other modules</a>.</li>\n<li><a href=\"http://www.perlmonks.org/?node_id=431623\" rel=\"nofollow noreferrer\">Creating subroutines on the fly</a></li>\n</ul>\n\n<p>But I would like a robust way to add functionallity to a Perl application that will be:</p>\n\n<ol>\n<li><strong>Efficient</strong>: if the code is not needed it should not be compiled.</li>\n<li><strong>Easy to debug</strong>: error reporting if something goes wrong at the dynamic code, should point at the right place at the dynamic code.</li>\n<li><strong>Easy to extend</strong>: adding new code should be as easy as adding a new file or directory+file.</li>\n<li><strong>Easy to invoke</strong>: the main application should be able to use an \"add on\" without much trouble. An efficient mechanism to check if the \"add on\" has already been loaded and if not load it, would be a plus.</li>\n</ol>\n\n<p>To illustrate the point, here are some examples that would benefit from a good solution:</p>\n\n<ul>\n<li><p>A set of scripts that move data from different applications. For instance, moving data from OpenCart to Prestashop, where each <em>entity</em> in the data model has a specific \"add on\" that deals with the input or output; then an intermediate data model takes care of the transformation of the data. This could be used to move data in any direction or even between different versions of the same ecommerce.</p></li>\n<li><p>A web application that needs to render different types of HTML in different places. Each \"module\" knows how to handle a certain information and accepts parameters to do it. A module outputs HTML, another a list of documents, another a document, another a banner, and so on.</p></li>\n</ul>\n\n<p>Here are some examples that I have used and that work.</p>\n\n<p>Load a function at run time and output the possible compile errors:</p>\n\n<pre><code>eval `cat $file_with_function`;\nif( $@ ) {\n  print STDERR $@, \"\\n\";\n  die \"Errors at file $file_with_function\\n\";\n}\n</code></pre>\n\n<p>Or more robust using <code>File::Slurp</code>:</p>\n\n<pre><code>eval read_file(\"$file_with_function\", binmode =&gt; ':utf8');\n</code></pre>\n\n<p>Check that a certain function has been defined:</p>\n\n<pre><code>if( !defined &amp;myfunction ) {\n  die \"myfunction is not defined\\n\";\n}\n</code></pre>\n\n<p>The function may be called from there on. This is fine with one function, but not for many.</p>\n\n<p>If the function is put in a module:</p>\n\n<pre><code>require $file_with_function; # needs the \".pm\" extension, i.e. addon/func.pm\n$name_of_module-&gt;import();   # need to know the module name, i.e. Addon::Func\n\n$name_of_module-&gt;myfunction(...);\n</code></pre>\n\n<p>Where the <code>require</code> may be protected inside an <code>eval</code> and then use <code>$@</code> as before.</p>\n\n<p>With <a href=\"http://search.cpan.org/~bingos/Module-Load-0.32/lib/Module/Load.pm\" rel=\"nofollow noreferrer\">Module::Load</a>:</p>\n\n<pre><code>load $name_of_module;\n</code></pre>\n\n<p>Followed by the <code>import</code> and used in the same way. <strong>Security should not be a concern</strong> as it may be assumed that the dynamic code comes from a trusted place. Are there better ways? Which way would be considered <strong>good practice</strong>?</p>\n\n<p>In case it helps, I will be using the solution (among other places, but not exclusively) within the <a href=\"http://perldancer.org/\" rel=\"nofollow noreferrer\">Dancer</a> framework.</p>\n\n<p><strong>EDIT</strong>: Given the comments, I add some more info. All cases that I have in mind have in common:</p>\n\n<ol>\n<li>There is more than one dynamic piece of code. Probably many to start with.</li>\n<li>Each bit of code has the same <em>interface</em>.</li>\n</ol>\n"}, {"tags": ["function", "perl", "hash", "hashref"], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1508920189, "post_id": 46926968, "comment_id": 80801852, "body": "<a href=\"http://p3rl.org/shift\" rel=\"nofollow noreferrer\">shift</a> will, if no array is given, operate on @_ <b>in a subroutine, and on @ARGV outside of any subroutine</b>."}, {"owner": {"reputation": 35, "user_id": 3035933, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e33c2400bc136683177aa1e5b16a5554?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Kumar", "link": "https://stackoverflow.com/users/3035933/arun-kumar"}, "edited": false, "score": 0, "creation_date": 1508956480, "post_id": 46926968, "comment_id": 80826539, "body": "thanks for your help guys. I used shift here and made some changes the hash arrays to make this work"}], "tags": [], "owner": {"reputation": 2496, "user_id": 2469275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b7EZh.png?s=128&g=1", "display_name": "janh", "link": "https://stackoverflow.com/users/2469275/janh"}, "is_accepted": true, "score": 2, "last_activity_date": 1508923715, "last_edit_date": 1508923715, "creation_date": 1508918273, "answer_id": 46926968, "question_id": 46926900, "link": "https://stackoverflow.com/questions/46926900/perl-hash-reference-as-argument-to-subroutine-cant-use-string-as-a-hash-ref/46926968#46926968", "title": "Perl hash reference as argument to subroutine - Can&#39;t use string as a HASH ref", "body": "<p>When you say </p>\n\n<pre><code>my $job_match=@_;\n</code></pre>\n\n<p>You're using <code>@_</code> in scalar context, which gets you the count of elements in the array.\nYou can change that to list-context by saying:</p>\n\n<pre><code>my ($job_match) = @_;\n</code></pre>\n\n<p>I personally prefer:</p>\n\n<pre><code>my $job_match = shift;\n</code></pre>\n\n<p><code>shift</code> will, if no array is given, operate on <code>@_</code>. But I guess that's a personal taste question.</p>\n"}], "owner": {"reputation": 35, "user_id": 3035933, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e33c2400bc136683177aa1e5b16a5554?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Kumar", "link": "https://stackoverflow.com/users/3035933/arun-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 46926968, "answer_count": 1, "score": 0, "last_activity_date": 1508923715, "creation_date": 1508918074, "question_id": 46926900, "link": "https://stackoverflow.com/questions/46926900/perl-hash-reference-as-argument-to-subroutine-cant-use-string-as-a-hash-ref", "title": "Perl hash reference as argument to subroutine - Can&#39;t use string as a HASH ref", "body": "<p>I was trying to prepare a small script with hash and subroutine. Honestly Iam a newbie in perl. Can someone tell me whats wrong with the below code. Im getting Can't use string (\"1\") as a HASH ref error.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nno warnings 'uninitialized';\n\nuse Data::Dumper;\nmy %match_jobs;\n\npush @{ $match_jobs{'1'}} , {'job_id'=&gt;'13', 'job_title'=&gt;'Article_9',     'job_description'=&gt;'899.00'};\n\nhash_iterate(\\%match_jobs);\n\n\nsub hash_iterate{\nmy $job_match=@_;\nprint Dumper($job_match);\nforeach my $match_job_row (keys %$job_match) {\n  my $job_id_ll=$job_match-&gt;{$match_job_row}-&gt;{'job_id'};\n  print $job_id_ll;\n}\n\n}\n</code></pre>\n\n<p>Output:-\nCan't use string (\"1\") as a HASH ref while \"strict refs\" in use at perl-hash.pl line 17.</p>\n\n<p>Appreciate you help.!</p>\n"}, {"tags": ["regex", "perl", "truncate"], "comments": [{"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 1, "creation_date": 1508910892, "post_id": 46924875, "comment_id": 80796581, "body": "Can you include the actual code you are using?"}, {"owner": {"reputation": 309, "user_id": 2253972, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2d6e15a05dedc010b2238242425c9070?s=128&d=identicon&r=PG", "display_name": "Rancho", "link": "https://stackoverflow.com/users/2253972/rancho"}, "reply_to_user": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1508911294, "post_id": 46924875, "comment_id": 80796760, "body": "Just added above.. Quite a complex code that requires several input files. But is something exactly like above for this part. So pretty much all I need is a regex to convert str2 to str1 somehow"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 1, "creation_date": 1508911941, "post_id": 46924875, "comment_id": 80797045, "body": "If you do not post your <i>actual</i> code, we cannot give you an <i>actual</i> solution. Currently your <code>if</code>  statement demo code will purely match if <code>$str1 equals </code>$str2` then do nothing unless it does not match. which in anyways would be better written as <code>unless ($str1 eq $str2) { print ...;</code>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1508912227, "post_id": 46924875, "comment_id": 80797170, "body": "<code>$RE{num}{real}</code> =&gt; <a href=\"https://metacpan.org/pod/Regexp::Common\" rel=\"nofollow noreferrer\">metacpan.org/pod/Regexp::Common</a>"}], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 2253972, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2d6e15a05dedc010b2238242425c9070?s=128&d=identicon&r=PG", "display_name": "Rancho", "link": "https://stackoverflow.com/users/2253972/rancho"}, "edited": false, "score": 0, "creation_date": 1509005027, "post_id": 46925346, "comment_id": 80844822, "body": "Thanks a lot that was exactly what I was looking for. I used this in my code s/([0-9]+\\.[0-9]*[1-9]*?)0*/$1/g..What does \\K in your version do?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 309, "user_id": 2253972, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2d6e15a05dedc010b2238242425c9070?s=128&d=identicon&r=PG", "display_name": "Rancho", "link": "https://stackoverflow.com/users/2253972/rancho"}, "edited": false, "score": 0, "creation_date": 1509029499, "post_id": 46925346, "comment_id": 80862323, "body": "` \\K` is a more efficient equivalent to <code>(?&lt;= )</code>; it checks that there is a space before.  ` \\K0*` can be left out if you never need to remove leading 0s"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 309, "user_id": 2253972, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2d6e15a05dedc010b2238242425c9070?s=128&d=identicon&r=PG", "display_name": "Rancho", "link": "https://stackoverflow.com/users/2253972/rancho"}, "edited": false, "score": 0, "creation_date": 1509029712, "post_id": 46925346, "comment_id": 80862503, "body": "<code>[0-9]*?</code> is a more efficient way to say <code>[0-9]*[1-9]*</code> (in this particular case); the <code>?</code> makes it prefer to include 0s at the end in the 0* instead."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 309, "user_id": 2253972, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2d6e15a05dedc010b2238242425c9070?s=128&d=identicon&r=PG", "display_name": "Rancho", "link": "https://stackoverflow.com/users/2253972/rancho"}, "edited": false, "score": 0, "creation_date": 1509030341, "post_id": 46925346, "comment_id": 80862983, "body": "Your regex is not right, it doesn&#39;t change <code>1.20300</code> or <code>2.000000</code>"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 2, "last_activity_date": 1508913216, "last_edit_date": 1508913216, "creation_date": 1508912862, "answer_id": 46925346, "question_id": 46924875, "link": "https://stackoverflow.com/questions/46924875/perl-remove-truncating-zeros-from-strings-floating-point-numbers/46925346#46925346", "title": "Perl remove truncating zeros from strings/floating point numbers", "body": "<pre><code>s/ \\K0*([0-9]+\\.[0-9]+?)0*(?=})/$1/g;\n</code></pre>\n\n<p>In English, between a space and a }, remove leading zeros before the decimal point (not including a zero just before the decimal point) and trailing zeros at the end (not including a zero just after the decimal point).</p>\n\n<p><code>/g</code> makes it operate as many times as it can in the same string.  That seems to be the key part you were missing, though your substitution had other problems too.</p>\n"}], "owner": {"reputation": 309, "user_id": 2253972, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2d6e15a05dedc010b2238242425c9070?s=128&d=identicon&r=PG", "display_name": "Rancho", "link": "https://stackoverflow.com/users/2253972/rancho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 0, "accepted_answer_id": 46925346, "answer_count": 1, "score": -2, "last_activity_date": 1508914482, "creation_date": 1508910760, "last_edit_date": 1508912968, "question_id": 46924875, "link": "https://stackoverflow.com/questions/46924875/perl-remove-truncating-zeros-from-strings-floating-point-numbers", "title": "Perl remove truncating zeros from strings/floating point numbers", "body": "<p>In the below example I am trying to ignore all cases where str1 equals str2 i.e str1 eq str2. Below is the issue I am facing.</p>\n\n<p><strong>case1 :</strong> str1 = '{V1 0.85}' str2 = '{V1 0.850000}' </p>\n\n<p><strong>case2 :</strong> str1 = '{V1 0.65} {V2 off} {V_3 1.1}' str2 = '{V1 0.650000} {V2 off} {V_3 1.100000}'</p>\n\n<p><strong>case3 :</strong> str1 = '{V2 0.0} {V3 2.0} {V4 ON}' str2 = '{V2 0.0000000} {V3 2.000000} {V4 ON}'</p>\n\n<p>Each of the above examples should satisfy the condition str1 =str2 if trailing 0's are removed from the string.</p>\n\n<p>Currently this is the regex I am using : </p>\n\n<pre><code>$str2 =~ s/\\.?0*}/\\}/;\n</code></pre>\n\n<p>But it works only in some cases.\nExample for case 2 above it removes zeros in the 1st {} but not the 2nd set i.e</p>\n\n<p><strong>Before:</strong> str1 is '{v_0p65 0.65} {vout_off off} {v_1p1 1.1}'</p>\n\n<p><strong>After</strong> using regex is  '{v_0p65 0.65} {vout_off off} {v_1p1 1.100000}'</p>\n\n<p>Code is something like below(Too complex to paste one small snippet):\nstr1 and str2 are exact outputs of 2 hashes which are received iteratively\nThe code is simply </p>\n\n<pre><code>if ($str1 eq $str2) { \n #Don't do anything\nelse {\nprint (\"str1 and str2 are not equal\\n\");\n}\n</code></pre>\n"}, {"tags": ["perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 4, "last_activity_date": 1508909978, "creation_date": 1508909978, "answer_id": 46924731, "question_id": 46924684, "link": "https://stackoverflow.com/questions/46924684/perl-copy-scalar-to-a-hash/46924731#46924731", "title": "Perl copy scalar to a hash", "body": "<p><code>$emptyhash</code> and <code>$sourcehash</code> are <em>references</em>. When you do <code>$emptyhash = $sourcehash</code> you just make the variable <code>$emptyhash</code> contain the same reference that <code>$sourcehash</code> does.</p>\n\n<p>Instead, you want <code>%$emptyhash = %$sourcehash</code>, which acts on the hashes those references <em>point</em> to.</p>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 1, "last_activity_date": 1508931296, "creation_date": 1508931296, "answer_id": 46931382, "question_id": 46924684, "link": "https://stackoverflow.com/questions/46924684/perl-copy-scalar-to-a-hash/46931382#46931382", "title": "Perl copy scalar to a hash", "body": "<p>Do you want a quick copy or a deep one? A quick copy copies only the top-level scalars of a hash. If the hash contains anonymous arrays or hashes, they will not be copied. Instead, a reference to them is made. That means any changes inside of them will cause the same changes in the copied hash.</p>\n\n<p>Quick copy:</p>\n\n<pre><code>%$empty_hash = %$source_hash;\n</code></pre>\n\n<p>Deep copy:</p>\n\n<pre><code>use Storable qw( dclone );\n$empty_hash = declone( $source_hash );\n</code></pre>\n\n<p><code>Storable</code> is a standard module that comes with Perl. For a list of the standard modules, see <a href=\"http://perldoc.perl.org/perlmodlib.html\" rel=\"nofollow noreferrer\"><code>perldoc perlmodlib</code></a>.</p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 8824214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45321c4b9a3b8d755482ef0322b07958?s=128&d=identicon&r=PG&f=1", "display_name": "K.Minoda", "link": "https://stackoverflow.com/users/8824214/k-minoda"}, "edited": false, "score": 0, "creation_date": 1508932037, "post_id": 46931492, "comment_id": 80809920, "body": "$emptyHash in mergeHash function can be only used in mergeHash function. $emptyHash is different if $emptyHash is used in main funcion. So mergeHash funcion needs to return $emptyHash in mergeHash; it needs to assign a value to other variable. Afterward, you can use its variable."}, {"owner": {"reputation": 73, "user_id": 8824214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45321c4b9a3b8d755482ef0322b07958?s=128&d=identicon&r=PG&f=1", "display_name": "K.Minoda", "link": "https://stackoverflow.com/users/8824214/k-minoda"}, "edited": false, "score": 0, "creation_date": 1508932297, "post_id": 46931492, "comment_id": 80810100, "body": "Furthermore, you can be easy to debug using Data::Dumper module."}], "tags": [], "owner": {"reputation": 73, "user_id": 8824214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45321c4b9a3b8d755482ef0322b07958?s=128&d=identicon&r=PG&f=1", "display_name": "K.Minoda", "link": "https://stackoverflow.com/users/8824214/k-minoda"}, "is_accepted": false, "score": 0, "last_activity_date": 1508931644, "creation_date": 1508931644, "answer_id": 46931492, "question_id": 46924684, "link": "https://stackoverflow.com/questions/46924684/perl-copy-scalar-to-a-hash/46931492#46931492", "title": "Perl copy scalar to a hash", "body": "<p>I fixed your code below.</p>\n\n<pre><code>my %emptyHash = ();\nmy %sourceHash = ();\n$sourceHash{'apple'} = 'red';\n$sourceHash{'orange'} = 'orange';\n\nmy $d = mergeHash(\\%emptyHash, \\%sourceHash);\n\nforeach my $k (keys %$d)\n{\n  print \"key=&gt;\". $k. \"\\tvalue=&gt;\". $emptyHash{$k}. \"\\n\";\n}\n\nsub mergeHash {\n  my $emptyHash = shift;\n  my $sourceHash = shift;\n\n  %$emptyHash = %$sourceHash;\n  return $emptyHash;\n}\n</code></pre>\n"}], "owner": {"reputation": 3144, "user_id": 5001360, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c5714d1e2c81fd7fd0bfb567ee8c5d6b?s=128&d=identicon&r=PG&f=1", "display_name": "chrisrhyno2003", "link": "https://stackoverflow.com/users/5001360/chrisrhyno2003"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "accepted_answer_id": 46924731, "answer_count": 3, "score": -1, "last_activity_date": 1508931644, "creation_date": 1508909768, "question_id": 46924684, "link": "https://stackoverflow.com/questions/46924684/perl-copy-scalar-to-a-hash", "title": "Perl copy scalar to a hash", "body": "<p>I have a hash which I am passing to a subroutine. I pass an empty hash to subroutine as well. I want to copy the contents of the hash to the empty one. </p>\n\n<p>Here's how my code looks:</p>\n\n<pre><code>my %emptyHash = ();\nmy %sourceHash = ();\n$sourceHash{'apple'} = 'red';\n$sourceHash{'orange'} = 'orange';\n\nmergeHash(\\%emptyHash, \\%sourceHash);\n\nforeach my $k (keys %emptyHash)\n{\n  print \"key=&gt;\". $k. \"value=&gt;\".$emptyHash{$k}. \"\\n\";\n}\n\nsub mergeHash {\n  my $emptyHash = shift;\n  my $sourceHash = shift;\n\n  $emptyHash = $sourceHash;\n\n}\n</code></pre>\n\n<p>When I print the emptyHash after the merge, I still get an empty hash. Can I not just copy the value of one hash to another this way? </p>\n"}, {"tags": ["linux", "bash", "shell", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1508881192, "post_id": 46920347, "comment_id": 80788482, "body": "hum, 2-3 ms on my shared machine."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508881216, "post_id": 46920347, "comment_id": 80788489, "body": "You wouldn&#39;t want to use <code>-E</code> anyway; it&#39;s not forward compatible. It&#39;s for one-shot scripts."}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 3, "creation_date": 1508881421, "post_id": 46920347, "comment_id": 80788569, "body": "Why not just drop the shell script and do it directly in a perl script?  That would save you the startup overhead from calling perl on each file."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508945716, "post_id": 46920347, "comment_id": 80820248, "body": "<i>&quot;the perl version is old supports <code>-e</code> but not <code>-E</code>&quot;</i> Why not just tell us the version of Perl you&#39;re using (<code>perl -v</code>). That would be much more useful."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1508898089, "last_edit_date": 1508898089, "creation_date": 1508881785, "answer_id": 46920615, "question_id": 46920347, "link": "https://stackoverflow.com/questions/46920347/how-can-a-shell-script-determine-if-a-file-is-binary-or-text/46920615#46920615", "title": "How can a shell script determine if a file is binary or text?", "body": "<p>Avoid the time it takes to repeatedly load <code>perl</code> by doing all the work in Perl.</p>\n\n<pre><code>#!/usr/bin/perl\n\nfor (@ARGV) {\n   stat($_)\n      or warn(\"Can't stat \\\"$_\\\": $!\\n\"), next;\n\n   -f _ &amp;&amp; !-B _\n      or next;\n\n   print(\"\\\"$_\\\" isn't a binary file\\n\");\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>do_test_text_file_on_dir ~/testdir/*\n</code></pre>\n\n<hr>\n\n<p>Note: <code>!-B _</code> is equivalent to <code>-T _</code> except for empty files.</p>\n"}], "owner": {"reputation": 834, "user_id": 3161924, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/ffd01898ea04282a163d57e29842886b?s=128&d=identicon&r=PG&f=1", "display_name": "user3161924", "link": "https://stackoverflow.com/users/3161924/user3161924"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1508898491, "creation_date": 1508880575, "question_id": 46920347, "link": "https://stackoverflow.com/questions/46920347/how-can-a-shell-script-determine-if-a-file-is-binary-or-text", "title": "How can a shell script determine if a file is binary or text?", "body": "<p>Have a situation where I need a shell or bash script to determine if a file is binary or not.  The issue here is that the linux environment does not have <code>file</code> available and the <code>grep</code> version is from busybox which doesn't support <code>-I</code>.  I found a <code>perl</code> method (the perl version is old supports -e but not -E)  of it working but it's slow.  Does anyone have a faster method of determining if a file is binary?  TIA!!</p>\n\n<pre><code>#!/bin/sh\n\nis_text_file() { \n  # grep -qI '.' \"$1\"   ### busy box grep doesn't support\n  perl -e 'exit((-B $ARGV[0])?1:0);' \"$1\"  ### works but is slow\n}\n\ndo_test_text_file_on_dir() {\n  for f in \"$1\"/*; do\n    [ -f \"$f\" ] || continue\n    if is_text_file \"$f\"; then\n      echo \"$f\" is not a binary file\n    fi\n  done\n}\n\ndo_test_text_file_on_dir ~/testdir\n</code></pre>\n"}, {"tags": ["arrays", "perl", "sorting"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1508874992, "post_id": 46918730, "comment_id": 80785329, "body": "What library? Also, what do you mean by &quot;name term&quot;?"}, {"owner": {"reputation": 147, "user_id": 6469233, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b38bb7bfdc6b88597f7f24cac19325?s=128&d=identicon&r=PG&f=1", "display_name": "AlexAMC", "link": "https://stackoverflow.com/users/6469233/alexamc"}, "edited": false, "score": 0, "creation_date": 1508876238, "post_id": 46918730, "comment_id": 80786000, "body": "I meant index number !"}, {"owner": {"reputation": 147, "user_id": 6469233, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b38bb7bfdc6b88597f7f24cac19325?s=128&d=identicon&r=PG&f=1", "display_name": "AlexAMC", "link": "https://stackoverflow.com/users/6469233/alexamc"}, "edited": false, "score": 0, "creation_date": 1508876296, "post_id": 46918730, "comment_id": 80786034, "body": "I tried copying and pasting the code in but i get this error : Use of uninitialized value in array element at -e line 452. Can&#39;t call method &quot;min_by&quot; without a package or object reference at -e line 452."}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 6469233, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b38bb7bfdc6b88597f7f24cac19325?s=128&d=identicon&r=PG&f=1", "display_name": "AlexAMC", "link": "https://stackoverflow.com/users/6469233/alexamc"}, "edited": false, "score": 0, "creation_date": 1508876378, "post_id": 46919117, "comment_id": 80786073, "body": "Is List::Util part of the standard Perl lib?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 147, "user_id": 6469233, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b38bb7bfdc6b88597f7f24cac19325?s=128&d=identicon&r=PG&f=1", "display_name": "AlexAMC", "link": "https://stackoverflow.com/users/6469233/alexamc"}, "edited": false, "score": 0, "creation_date": 1508876443, "post_id": 46919117, "comment_id": 80786120, "body": "@AlexAMP Yes it is.  If you go to the link that I provided in the answer you&#39;ll see that it is &quot;perldoc&quot; -- perl&#39;s documentation.  That tells you that it is in &quot;core&quot; (installed with Perl)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 147, "user_id": 6469233, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b38bb7bfdc6b88597f7f24cac19325?s=128&d=identicon&r=PG&f=1", "display_name": "AlexAMC", "link": "https://stackoverflow.com/users/6469233/alexamc"}, "edited": false, "score": 1, "creation_date": 1508876612, "post_id": 46919117, "comment_id": 80786199, "body": "@AlexAMP Good :)  Notice that you can use <code>reduce</code> for all kinds of jobs."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1508930927, "post_id": 46919117, "comment_id": 80809145, "body": "A list of the standard modules can be found in <code>perlodc perlmodlib</code> <a href=\"http://perldoc.perl.org/perlmodlib.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlmodlib.html</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1508945537, "post_id": 46919117, "comment_id": 80820121, "body": "I think your suggestion is great (I would have written a <code>for</code> loop with a state variable) but I really don&#39;t like seeing <code>reduce</code> in code as it&#39;s rarely obvious what it&#39;s doing without a few seconds&#39; thought. Perhaps it would be better to write an <code>nmin_by</code> wrapper for it?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508951517, "post_id": 46919117, "comment_id": 80823730, "body": "Very polished use of <code>croak</code>! But I suggest <code>croak &quot;Sub expects array reference&quot; unless $ra and ref $ra eq &#39;ARRAY&#39;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508971446, "post_id": 46919117, "comment_id": 80833748, "body": "@Borodin  Thank you for kind words :).   I find that <code>ref</code> is happy with <code>undef</code> (or empty string) and finds it <code>ne</code> to <code>ARRAY</code>.  (Do you consider such use as bad practice or implementation dependent, or such?)  The <code>unless</code> ... I am a little particular about it: I like it when it clearly selects a case that happens very rarely, <code>$ok = 1 unless $rare_error</code>.  Its use here -- to me -- indicates that <code>ne &#39;ARRAY&#39;</code> is &quot;expected&quot; (don&#39;t mean literally)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508972007, "post_id": 46919117, "comment_id": 80833911, "body": "@zdim: I&#39;m on my commute and can&#39;t try it, but I was confident that <code>ref undef</code> threw a warning. Am I wrong?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508973158, "post_id": 46919117, "comment_id": 80834279, "body": "@Borodin  I did test (v5.10 to v5.16 to v5.27.2), and the docs say &quot;<i>Returns a non-empty string if EXPR is a reference, the empty string otherwise.</i>&quot;  The logic, I guess, is that it either is a reference or it ain&#39;t, including everything.  But this very conversation implies that it should be tested against <code>undef</code>.  One of those things -- use a property even if it makes one think, or spell it out even if unnecessary?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508974761, "post_id": 46919117, "comment_id": 80834707, "body": "@zdim: If <code>ref</code> reliably returns a <i>defined</i> value regardless of its parameter then it seems counter-intuitive but my comment was wrong and your original code is correct. I apologise. I have a Perl IDE on this phone but it relies on an internet connection for compilation. That&#39;s impossible for the majority of my journey underground, but I do have access to <code>perldoc</code> so I have no real excuse!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1509001586, "post_id": 46919117, "comment_id": 80842750, "body": "@Borodin Heh ... :)  It surely isn&#39;t <i>proper</i> English of any kind but it is used in popular culture or even speech here, rather rarely of course. (&quot;<i>It ain&#39;t over till it&#39;s over</i>&quot; comes to mind as an example, and that&#39;s pretty mild)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1509003843, "post_id": 46919117, "comment_id": 80844114, "body": "@Borodin  I had no idea what <a href=\"https://en.wikipedia.org/wiki/Ain%27t\" rel=\"nofollow noreferrer\">distinguished history</a> the phrase has -- thank you for making me look it up! (I just meant to play with it)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 6, "last_activity_date": 1509003276, "last_edit_date": 1509003276, "creation_date": 1508875409, "answer_id": 46919117, "question_id": 46918730, "link": "https://stackoverflow.com/questions/46918730/finding-index-of-the-lowest-value-in-array/46919117#46919117", "title": "Finding index of the lowest value in array", "body": "<p>Use <a href=\"http://perldoc.perl.org/List/Util.html#reduce\" rel=\"nofollow noreferrer\">List::Util::reduce</a></p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse List::Util qw(reduce);\n\nmy @ary = (12, 3, 1, 23); \n\nmy $min_idx = reduce { $ary[$a] &lt; $ary[$b] ? $a : $b } 0..$#ary; \n\nsay $min_idx;\n</code></pre>\n\n<hr>\n\n<p>Put this in a sub so that the implementation is out of sight while the name clarifies the purpose</p>\n\n<pre><code>use Carp;\n\nsub get_min_idx {\n   my $ra = shift;\n   croak \"Sub expects array reference\" if ref $ra ne 'ARRAY';\n   return reduce { $ra-&gt;[$a] &lt; $ra-&gt;[$b] ? $a : $b } 0..$#$ra;\n}\n\nmy $min_idx = get_min_idx(\\@ary);\n</code></pre>\n\n<p>Tuck it away in a module and you can also change how it works with minimal intrusion.</p>\n\n<p>The error message can be elaborated (tell to user what <em>has</em> been passed, for instance) and checks added; for one, given the numeric <code>&lt;</code> comparison the sub needs an array with only numbers. </p>\n\n<p>Syntax clafirication: the index of the last element of an arrayref <code>$rary</code> is <code>$#$rary</code> (while the index of the last element of an array <code>@ary</code> is <code>$#ary</code>).</p>\n\n<p>Pick your subroutine name carefully; having a good name helps a lot.</p>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a> for commenting on the need for this.</p>\n"}], "owner": {"reputation": 147, "user_id": 6469233, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b38bb7bfdc6b88597f7f24cac19325?s=128&d=identicon&r=PG&f=1", "display_name": "AlexAMC", "link": "https://stackoverflow.com/users/6469233/alexamc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 46919117, "answer_count": 1, "score": 0, "last_activity_date": 1509003276, "creation_date": 1508873890, "last_edit_date": 1508877237, "question_id": 46918730, "link": "https://stackoverflow.com/questions/46918730/finding-index-of-the-lowest-value-in-array", "title": "Finding index of the lowest value in array", "body": "<p>I have 3 arrays <code>@energy, @es_energy and @hb_energy</code> each of which have been indexed with the same name term <code>[$k]</code>. </p>\n\n<p>I want to find the lowest value in <code>@energy</code> and then using that index value look for the corresponding values in the other arrays. </p>\n\n<p>Currently I am using <code>my $n = nmin_by { $energy[$_] } 0 .. $#energy;</code>  </p>\n\n<p>And then <code>$n</code> is used to output from the other arrays. However, I don't want to use <code>nmin_by</code> as it requires an extra library to download for the software package I am using (loads of admin issues). </p>\n\n<p>Any suggestions? </p>\n"}, {"tags": ["perl", "dbi"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1508864961, "post_id": 46915825, "comment_id": 80779854, "body": "How are you installing it? Manually using the tarball or using cpan?"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1508865144, "post_id": 46915825, "comment_id": 80779971, "body": "Try <code>$ perl -MCPAN -e shell</code> followed by <code>install DBI</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508868180, "post_id": 46915825, "comment_id": 80781660, "body": "Could you please post the generated <code>makefile</code>? You might have to use <a href=\"https://pastebin.com/\" rel=\"nofollow noreferrer\">pastebin</a> or some such service."}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1508909213, "post_id": 46915825, "comment_id": 80795970, "body": "Try installing any other version of this module as the lines:                          cp lib/DBD/Proxy.pm blib/li AutoSplit: Can&#39;t open blib/li.pm: No such file or directory  This shows that the Proxy.pm is being copied as li but then the validation is done for li.pm as in the error. So this may be a packaging error in the tarball"}, {"owner": {"reputation": 11, "user_id": 8826620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5973e5945a92aec3171f74d5609243?s=128&d=identicon&r=PG&f=1", "display_name": "Anhai", "link": "https://stackoverflow.com/users/8826620/anhai"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1508940676, "post_id": 46915825, "comment_id": 80816554, "body": "@ChankeyPathak I&#39;ve tried installing using tarball and cpan, both result in the same error, as does trying to install a previous version (v1.635)"}, {"owner": {"reputation": 11, "user_id": 8826620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5973e5945a92aec3171f74d5609243?s=128&d=identicon&r=PG&f=1", "display_name": "Anhai", "link": "https://stackoverflow.com/users/8826620/anhai"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508940784, "post_id": 46915825, "comment_id": 80816632, "body": "@ikegami I tried using $sudo perl Makefile.PL and $sudo make and I have a slightly different error now: AutoSplit: Can&#39;t open blib/lib/DBI/Gofer/Serializer.pm: No such file or directory make: *** [pm_to_blib] Error 2 . I put a pastebin of the makefile here: <a href=\"https://pastebin.com/mXaxUaYX\" rel=\"nofollow noreferrer\">pastebin.com/mXaxUaYX</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508945588, "post_id": 46915825, "comment_id": 80820160, "body": "Can&#39;t look at this today. Remind me in 24 hours"}], "owner": {"reputation": 11, "user_id": 8826620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5973e5945a92aec3171f74d5609243?s=128&d=identicon&r=PG&f=1", "display_name": "Anhai", "link": "https://stackoverflow.com/users/8826620/anhai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508865160, "creation_date": 1508863230, "question_id": 46915825, "link": "https://stackoverflow.com/questions/46915825/perl-dbi-installation-error-cant-open-blib-li-pm-during-make-command", "title": "Perl DBI installation error &quot;Can&#39;t open blib/li.pm&quot; during make command", "body": "<p>I'm new to Perl and am trying to get DBI set up so I can get started with MySQL. I've run into a problem with DBI that arises during the make stage of the installation, and would very much appreciate some help with solving the issue. Many thanks.</p>\n\n<p>Install information:</p>\n\n<p>DBI v1.637, using Perl v5.18.2, on MacOS Sierra v10.12.6</p>\n\n<p>Error information:</p>\n\n<pre><code>/usr/bin/perl -MExtUtils::Command -e 'mkpath' -- blib/lib/DBI\nrm -f blib/lib/DBI/Changes.pm\ncp Changes blib/lib/DBI/Changes.pm\ncp Driver.xst blib/arch/auto/DBI/Driver.xst\ncp lib/DBD/Sponge.pm blib/lib/DBD/Sponge.pm\ncp dbi_sql.h blib/arch/auto/DBI/dbi_sql.h\ncp lib/DBD/Gofer/Policy/classic.pm blib/lib/DBD/Gofer/Policy/classic.pm\ncp lib/DBI/Const/GetInfoReturn.pm blib/lib/DBI/Const/GetInfoReturn.pm\ncp lib/DBI/Gofer/Serializer/DataDumper.pm blib/lib/DBI/Gofer/Serializer/DataDumper.pm\ncp DBI.pm blib/lib/DBI.pm\ncp lib/DBI/Gofer/Serializer/Base.pm blib/lib/DBI/Gofer/Serializer/Base.pm\ncp lib/DBD/File/Developers.pod blib/lib/DBD/File/Developers.pod\ncp lib/DBI/Const/GetInfo/ANSI.pm blib/lib/DBI/Const/GetInfo/ANSI.pm\ncp lib/DBI/DBD/SqlEngine/Developers.pod blib/lib/DBI/DBD/SqlEngine/Developers.pod\ncp lib/DBI/W32ODBC.pm blib/lib/DBI/W32ODBC.pm\ncp lib/DBI/Const/GetInfoType.pm blib/lib/DBI/Const/GetInfoType.pm\ncp lib/DBI/Gofer/Serializer/Storable.pm blib/lib/DBI/Gofer/Serializer/Storable.pm\ncp dbixs_rev.pl blib/lib/dbixs_rev.pl\ncp lib/DBI/Profile.pm blib/lib/DBI/Profile.pm\ncp lib/DBI/PurePerl.pm blib/lib/DBI/PurePerl.pm\ncp dbixs_rev.h blib/arch/auto/DBI/dbixs_rev.h\ncp lib/DBD/Gofer/Policy/Base.pm blib/lib/DBD/Gofer/Policy/Base.pm\ncp lib/DBI/Util/CacheMemory.pm blib/lib/DBI/Util/CacheMemory.pm\ncp lib/DBI/Gofer/Transport/pipeone.pm blib/lib/DBI/Gofer/Transport/pipeone.pm\ncp lib/DBI/Gofer/Transport/stream.pm blib/lib/DBI/Gofer/Transport/stream.pm\ncp lib/DBI/ProfileData.pm blib/lib/DBI/ProfileData.pm\ncp lib/DBI/SQL/Nano.pm blib/lib/DBI/SQL/Nano.pm\ncp lib/DBI/DBD/SqlEngine/HowTo.pod blib/lib/DBI/DBD/SqlEngine/HowTo.pod\ncp lib/DBI/ProxyServer.pm blib/lib/DBI/ProxyServer.pm\ncp lib/DBD/NullP.pm blib/lib/DBD/NullP.pm\ncp lib/DBD/Gofer/Transport/null.pm blib/lib/DBD/Gofer/Transport/null.pm\ncp lib/DBI/Gofer/Response.pm blib/lib/DBI/Gofer/Response.pm\ncp lib/DBD/Gofer/Transport/pipeone.pm blib/lib/DBD/Gofer/Transport/pipeone.pm\ncp lib/DBD/Gofer/Transport/stream.pm blib/lib/DBD/Gofer/Transport/stream.pm\ncp Driver_xst.h blib/arch/auto/DBI/Driver_xst.h\ncp lib/DBD/Gofer.pm blib/lib/DBD/Gofer.pm\ncp lib/DBI/Util/_accessor.pm blib/lib/DBI/Util/_accessor.pm\ncp lib/DBI/Gofer/Transport/Base.pm blib/lib/DBI/Gofer/Transport/Base.pm\ncp lib/Win32/DBIODBC.pm blib/lib/Win32/DBIODBC.pm\ncp lib/DBD/Gofer/Policy/pedantic.pm blib/lib/DBD/Gofer/Policy/pedantic.pm\ncp DBIXS.h blib/arch/auto/DBI/DBIXS.h\ncp lib/Bundle/DBI.pm blib/lib/Bundle/DBI.pm\ncp dbd_xsh.h blib/arch/auto/DBI/dbd_xsh.h\ncp lib/DBI/ProfileDumper.pm blib/lib/DBI/ProfileDumper.pm\ncp lib/DBI/Gofer/Execute.pm blib/lib/DBI/Gofer/Execute.pm\ncp lib/DBI/Gofer/Request.pm blib/lib/DBI/Gofer/Request.pm\ncp lib/DBD/Gofer/Transport/corostream.pm blib/lib/DBD/Gofer/Transport/corostream.pm\ncp lib/DBD/File.pm blib/lib/DBD/File.pm\ncp lib/DBI/ProfileSubs.pm blib/lib/DBI/ProfileSubs.pm\ncp lib/DBD/Proxy.pm blib/li\nAutoSplit: Can't open blib/li.pm: No such file or directory\nmake: *** [pm_to_blib] Error 2\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7598, "user_id": 219640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HFl1a.jpg?s=128&g=1", "display_name": "Erik Cederstrand", "link": "https://stackoverflow.com/users/219640/erik-cederstrand"}, "edited": false, "score": 3, "creation_date": 1508853114, "post_id": 46912272, "comment_id": 80771664, "body": "For Python, this is answered in <a href=\"https://stackoverflow.com/questions/2540202/how-can-i-check-for-unused-import-in-many-python-files\" title=\"how can i check for unused import in many python files\">stackoverflow.com/questions/2540202/&hellip;</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508853861, "post_id": 46912272, "comment_id": 80772242, "body": "Remove the import and run the test suite. You have one, right?"}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 3, "creation_date": 1508853901, "post_id": 46912272, "comment_id": 80772276, "body": "The answer to this question is very different in Perl and in Python \u2013 the two are completely separate languages. Please clarify which of these two languages you want an answer for, and <a href=\"https://stackoverflow.com/posts/46912272/edit\">edit</a> the tags accordingly. If necessary, ask a second question for another language."}, {"owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1508949245, "post_id": 46912272, "comment_id": 80822481, "body": "@amon done, that was very confusing."}], "answers": [{"comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 2, "creation_date": 1508862124, "post_id": 46913044, "comment_id": 80778207, "body": "Changing the shebang is probably not a good idea (except when the program is not executed directly). Simply invoking <code>perl -d:DProf foo.pl</code> or setting the env var <code>PERL5OPT=&quot;$PERL5OPT -d:DProf&quot;</code> are less intrusive solutions."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1508874970, "post_id": 46913044, "comment_id": 80785320, "body": "DProf is deprecated. Please use NYTProf!"}], "tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": false, "score": 3, "last_activity_date": 1515413428, "last_edit_date": 1515413428, "creation_date": 1508854936, "answer_id": 46913044, "question_id": 46912272, "link": "https://stackoverflow.com/questions/46912272/checking-if-imported-modules-are-ever-used/46913044#46913044", "title": "Checking if imported modules are ever used", "body": "<p>Use a profiler to see what modules ARE in use. From that find out which are not. Works for me:</p>\n\n<ul>\n<li>Install the Devel::DProf module if you havent (<code>cpanm Devel::DProf</code> or if ubuntu: <code>apt install libdevel-dprof-perl</code>). Newer profilers also exists, i.e. <code>Devel::NYTProf</code></li>\n<li>Change <code>#!/use/bin/perl</code> to <code>#!/use/bin/perl -d:DProf</code> in your program and then run it. This will make a <code>tmon.out</code> file in your current dir</li>\n<li>Run <code>dprofpp -aO9999</code> to analyze tmon.out. This outputs all executed subs including the module name on each line.</li>\n</ul>\n\n<p>Note: if a sub is called conditionally (inside an <code>if</code>-block for instance) the profiler will not list it if the condition is always false. It helps to have a test suit with full code coverage and run that in profiling mode.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1508859383, "creation_date": 1508859383, "answer_id": 46914627, "question_id": 46912272, "link": "https://stackoverflow.com/questions/46912272/checking-if-imported-modules-are-ever-used/46914627#46914627", "title": "Checking if imported modules are ever used", "body": "<p>That's why I always explicitly lists imports. e.g. <code>use Socket qw( gethostname );</code> or <code>use Foo qw( );</code> (The latter imports nothing rather than defaults.)</p>\n\n<p>One approach would be to go file by file and add these import lists, then stop loading module with an empty import list for which no mention of its package name exists in the file.</p>\n"}], "owner": {"reputation": 841, "user_id": 1780027, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48fb6924b550df2f89c44647f0a8be19?s=128&d=identicon&r=PG", "display_name": "FredMan", "link": "https://stackoverflow.com/users/1780027/fredman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1515413428, "creation_date": 1508852905, "last_edit_date": 1508859405, "question_id": 46912272, "link": "https://stackoverflow.com/questions/46912272/checking-if-imported-modules-are-ever-used", "title": "Checking if imported modules are ever used", "body": "<p>For whatever reason my coworkers (and probably myself in the past) have imported modules that we don't use to our projects.  It's so bad that modules that don't even exist are being imported.</p>\n\n<p>In Perl, you can say something like:</p>\n\n<pre><code>use Socket;\ngethostname(\"DERP\");\n</code></pre>\n\n<p>It's very hard to tell from that function that it was tied to the socket module.</p>\n\n<p>Is there any program that exists or some functionality of Perl that I'm not aware of that can tell you if you've got bloat imported into your script?</p>\n"}, {"tags": ["perl", "perl-module", "data-dumper"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1508851916, "post_id": 46911597, "comment_id": 80770747, "body": "I have problems loading <code>Data::Dumper::Simple</code> via require (on Windows). So it seems that something difference. You also don&#39;t really need to test for <code>Data::Dumper</code> because it&#39;s a core module."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1508855242, "post_id": 46911961, "comment_id": 80773251, "body": "Hmm, good thinking on the BEGIN handling. I simply couldn&#39;t see a way to get the runtime import to &#39;work&#39;."}, {"owner": {"reputation": 2310, "user_id": 380329, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f2971b8caa637f5949413f0da1ce26a8?s=128&d=identicon&r=PG", "display_name": "SSilk", "link": "https://stackoverflow.com/users/380329/ssilk"}, "edited": false, "score": 0, "creation_date": 1508863704, "post_id": 46911961, "comment_id": 80779099, "body": "This works nicely, thanks! In my case, I changed the <code>||</code> in the evals to <code>&amp;&amp;</code> so both modules have to load in order to do data dumping. Does that makes sense? Otherwise this is great, and when both modules load successfully, the warning about <code>Data::Dumper::Sortkeys</code> only being used once goes away."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 5, "last_activity_date": 1508852879, "last_edit_date": 1508852879, "creation_date": 1508852093, "answer_id": 46911961, "question_id": 46911597, "link": "https://stackoverflow.com/questions/46911597/conditional-load-of-datadumpersimple-not-working/46911961#46911961", "title": "Conditional load of Data::Dumper::Simple not working", "body": "<p><code>Data::Dumper::Simple</code> is a <a href=\"https://metacpan.org/pod/Filter::Simple\" rel=\"noreferrer\">source filter</a>. Source filters must be loaded during Perl's compile-phase, or they will not do their job on any of the source code in the script.</p>\n\n<p>This <strike>might work (not tested)</strike> works:</p>\n\n<pre><code>my $dumperLoaded;\nBEGIN { \n    $dumperLoaded = eval \"use Data::Dumper::Simple;1\" ||\n                    eval \"use Data::Dumper;1\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1508852638, "last_edit_date": 1508852638, "creation_date": 1508852317, "answer_id": 46912039, "question_id": 46911597, "link": "https://stackoverflow.com/questions/46911597/conditional-load-of-datadumpersimple-not-working/46912039#46912039", "title": "Conditional load of Data::Dumper::Simple not working", "body": "<p>Ok, first off - testing the return code is nice, but actually you're probably better using <code>$@</code> for checking if eval worked.</p>\n\n<p>E.g.:</p>\n\n<pre><code>eval { \n   require Data::Dumper;\n   Data::Dumper -&gt; import();\n};\nif ( $@ ) { \n   print \"loading failed, error was: $@\\n\";\n} \n</code></pre>\n\n<p>But the root of your problem is this:</p>\n\n<blockquote>\n  <p>The only thing exported is the Dumper() function.</p>\n  \n  <p>Well, actually that's not really true.  Nothing is exported.  However, a source\n  filter is used to automatically rewrite any apparent calls to C so\n  that it just Does The Right Thing.</p>\n</blockquote>\n\n<p>Because that's what's <em>not</em> happening when you're loading <code>Data::Dumper::Simple</code> via require/import, and thus the overloading of the <code>Dumper</code> function isn't happening. </p>\n\n<p>Looking at it - I can't actually see a simple way to call the 'alternate Dumper' </p>\n"}], "owner": {"reputation": 2310, "user_id": 380329, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f2971b8caa637f5949413f0da1ce26a8?s=128&d=identicon&r=PG", "display_name": "SSilk", "link": "https://stackoverflow.com/users/380329/ssilk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 46911961, "answer_count": 2, "score": 2, "last_activity_date": 1508852879, "creation_date": 1508850978, "question_id": 46911597, "link": "https://stackoverflow.com/questions/46911597/conditional-load-of-datadumpersimple-not-working", "title": "Conditional load of Data::Dumper::Simple not working", "body": "<p>I'm using Data::Dumper and Data::Dumper::Simple (DD and DDS) to print hashes in a verbose mode of a script, and I want to be able to share it with others who may not have those modules installed, so I'm checking that they're loaded. </p>\n\n<p>Without checking for modules successfully loading, a MWE of how I would load and use them is:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\nuse Data::Dumper::Simple;\n$Data::Dumper::Sortkeys = 1;\n\nmy %testHash=();\n\nwarn Dumper(\\%testHash);\n</code></pre>\n\n<p>Which prints:</p>\n\n<pre><code>$testHash = {};\n</code></pre>\n\n<p>Using the method described <a href=\"https://stackoverflow.com/questions/251694/how-can-i-check-if-i-have-a-perl-module-before-using-it?rq=1\">here</a> to first check that the modules are loaded, and only use Dumper methods if they are, I rewrote my code as:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n\nmy $dumperLoaded = 1;\nmy $rc;\n\n$rc = eval\n{\n    require Data::Dumper;\n    Data::Dumper-&gt;import();\n    1;\n};\nif(!$rc)\n{\n    print \"Data::Dumper not found\\n\";\n    $dumperLoaded = 0;\n}\n\n$rc = eval\n{\n    require Data::Dumper::Simple;\n    Data::Dumper::Simple-&gt;import();\n    1;\n};\nif(!$rc)\n{\n    print \"Data::Dumper::Simple not found\\n\";\n    $dumperLoaded = 0;\n}\nif($dumperLoaded){\n    $Data::Dumper::Sortkeys = 1;\n}\n\nmy %testHash=();\n\nif($dumperLoaded){\n    warn Dumper(\\%testHash);\n}\n</code></pre>\n\n<p>And my output is now:</p>\n\n<pre><code>Name \"Data::Dumper::Sortkeys\" used only once: possible typo at temp.pl line 51.\n$VAR1 = {};\n</code></pre>\n\n<p>Now the hash dump does not show the variable name <code>testHash</code>, as if DDS did not load. However, my script did not complain that it was unable to load DDS. I can replicate this in my first MWE by commenting out <code>use Data::Dumper::Simple;</code>. </p>\n\n<p>My question: Why is the second version of my script, with the check for module load, printing like only DD, and not DDS loaded? </p>\n\n<p>Bonus question: what is the correct way to set SortKeys in a conditional module loading scenario like this? </p>\n\n<p>Thanks. </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508846328, "post_id": 46909881, "comment_id": 80766463, "body": "Please <a href=\"https://stackoverflow.com/posts/46909881/edit\">edit</a> the question and include sample input. The file you are talking aobut would be useful."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508846394, "post_id": 46909881, "comment_id": 80766494, "body": "Also, you are already using the <code>&#47;x</code> modifier, which is great. But instead of just putting single spaces between things, why not indent it properly and add comments? That would make it easier to read for us and for your future self (probably already tomorrow, looking at the patterns)."}], "answers": [{"tags": [], "owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "is_accepted": false, "score": 0, "last_activity_date": 1508860245, "creation_date": 1508860245, "answer_id": 46914915, "question_id": 46909881, "link": "https://stackoverflow.com/questions/46909881/how-to-obtain-the-captured-groups-in-perl/46914915#46914915", "title": "How to obtain the captured groups in perl", "body": "<p>Is it a requirement to use regex? Doesn't seem to be the best way to me.\nI'd just split the string into words and go through that. Something like the code below.</p>\n\n<p>Not sure I understand correctly your specification. What my code does is to find proper names that appear within certain distance to the left of other proper name.</p>\n\n<pre><code> my $window = 3;\n\n\n my %result;\n while(&lt;DATA&gt;){\n\n   my @words = map {$_ =~ s/[[:punct:]]$//; $_} split;\n\n   my $index = $#words;\n   for (my $index = $#words; $index &gt; 0; $index--) {\n\n     my $word = $words[$index];\n\n     next unless is_name($word);\n\n     my $start_index = $index - 3;\n     $start_index = 0 if $start_index &lt; 0;\n\n     my $end_index = $index - 1;\n     $end_index = 0 if $end_index &lt; 0;\n\n     my @neigbours = grep {is_name($_)} @words[$start_index .. $end_index];\n\n     $result{$word} = [@neigbours] if @neigbours;\n\n   }\n }\n\n\n sub is_name {\n\n   shift =~ /^[A-Z][\\w-]*\\w$/;\n\n }\n\n __DATA__\n John asked Mary to meet Anna.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 735, "user_id": 4166721, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cshnXqXB_Hc/AAAAAAAAAAI/AAAAAAAAZmo/Wl3QMUgam7M/photo.jpg?sz=128", "display_name": "Cash Lo", "link": "https://stackoverflow.com/users/4166721/cash-lo"}, "is_accepted": true, "score": 0, "last_activity_date": 1508947324, "last_edit_date": 1508947324, "creation_date": 1508928359, "answer_id": 46930353, "question_id": 46909881, "link": "https://stackoverflow.com/questions/46909881/how-to-obtain-the-captured-groups-in-perl/46930353#46930353", "title": "How to obtain the captured groups in perl", "body": "<p>You get an infinite loop because the position of match for <code>$_</code> is changed again after you do the second match. You can assign it to a named variable before the match to avoid this:</p>\n\n<pre><code>while( &lt;&gt; ) {\n    my $line = $_;\n    while( $line =~/($np)/g ) {\n        ...\n    }\n}\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlretut.html#Using-regular-expressions-in-Perl\" rel=\"nofollow noreferrer\">Using regular expressions in Perl</a> and <a href=\"http://perldoc.perl.org/functions/pos.html\" rel=\"nofollow noreferrer\">pos()</a> for details.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7347934"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 46930353, "answer_count": 2, "score": 0, "last_activity_date": 1508947324, "creation_date": 1508845979, "last_edit_date": 1508849316, "question_id": 46909881, "link": "https://stackoverflow.com/questions/46909881/how-to-obtain-the-captured-groups-in-perl", "title": "How to obtain the captured groups in perl", "body": "<p>I'm currently working on a simple script to detect the relations between people. I define the $np to be the regex of a Proper Noun.\nIn my first task, the goal is to find all the proper nouns that appear left of another proper noun in which the number of words between them is less than a fixed value. I have written the following code:</p>\n\n<pre><code>$/ = '';\n\nmy $PM = qr{\\b[A-Z][\\w-]*\\w};\nmy $de = qr{d[aoe]s?};\nmy $s = qr{[\\n ]};\nmy $np = qr{$PM (?: $s $PM | $s $de $s $PM )*}x;\n\nwhile(&lt;&gt;){\n  while(/($np)/g){\n    print(\"$1 : \");\n    my @x = m/(?=(?: $s+ (?: [\\w-]+ | ($np)) ){1,7})/gx;\n    my $y = join(\", \", @x);\n    print(\"$y\\n\");\n  }\n}\n</code></pre>\n\n<p>I expected it to print all the proper nouns in the file and, for each one of them, the proper nouns that are in the window. However, this is not happening.\nHow can I make it work like I want?</p>\n\n<p>PS: I'm a perl newbie</p>\n\n<p>EDIT: Some people recommended to add samples of input and output expected.\nIf I had a file with the following text</p>\n\n<pre><code>John asked Mary to meet Anna.\n</code></pre>\n\n<p>then, I would like my script to print</p>\n\n<pre><code>John : Mary, Anna\nMary : Anna\nAnna :\n</code></pre>\n\n<p>However, in its current state, I get commas printed in an infinite loop.</p>\n"}, {"tags": ["perl", "steganography"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8824885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b65bc9bdddc4fc5073875f7ff9af2c3?s=128&d=identicon&r=PG&f=1", "display_name": "jr791", "link": "https://stackoverflow.com/users/8824885/jr791"}, "edited": false, "score": 0, "creation_date": 1508845877, "post_id": 46909638, "comment_id": 80766151, "body": "Thank you for the advice, I made these changes and was given the following error: Bareword found where operator expected at test.prl line 3, near &quot;secret-text&quot; (Missing operator before secret-text?)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 21, "user_id": 8824885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b65bc9bdddc4fc5073875f7ff9af2c3?s=128&d=identicon&r=PG&f=1", "display_name": "jr791", "link": "https://stackoverflow.com/users/8824885/jr791"}, "edited": false, "score": 0, "creation_date": 1508846164, "post_id": 46909638, "comment_id": 80766351, "body": "@jr791 why is there a <i>test.pl</i> file involved? You are supposed to run this on the command line directly. <code>perl</code> is the Perl interpreter command. See <a href=\"https://explainshell.com/explain?cmd=perl+-n0777+%3Ccover-image+%3E+stego-image+-e%27...%27+secret-text-%EF%AC%81le\" rel=\"nofollow noreferrer\">explainshell.com/&hellip;</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21, "user_id": 8824885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b65bc9bdddc4fc5073875f7ff9af2c3?s=128&d=identicon&r=PG&f=1", "display_name": "jr791", "link": "https://stackoverflow.com/users/8824885/jr791"}, "edited": false, "score": 0, "creation_date": 1508875241, "post_id": 46909638, "comment_id": 80785462, "body": "@jr791, If <code>secret-text</code> is seen as part of the Perl code, you did not simply replace the two <code>\u2019</code> with <code>&#39;</code> as you should have."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1508845285, "creation_date": 1508845285, "answer_id": 46909638, "question_id": 46909504, "link": "https://stackoverflow.com/questions/46909504/perl-lsb-steganography-script/46909638#46909638", "title": "Perl LSB Steganography Script", "body": "<p>Looks like the character <code>\u2019</code> was converted by whatever word processing program this PDF was created. It's supposed to be a single quote <code>'</code>. Replace both instances and it should work.</p>\n"}], "owner": {"reputation": 21, "user_id": 8824885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b65bc9bdddc4fc5073875f7ff9af2c3?s=128&d=identicon&r=PG&f=1", "display_name": "jr791", "link": "https://stackoverflow.com/users/8824885/jr791"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1508845285, "creation_date": 1508844926, "last_edit_date": 1508845233, "question_id": 46909504, "link": "https://stackoverflow.com/questions/46909504/perl-lsb-steganography-script", "title": "Perl LSB Steganography Script", "body": "<p>I have been looking at a small sample Perl script present by Andrew Ker that performs LSB steganography in PGM and PPM files. (accessed - <a href=\"http://www.cs.ox.ac.uk/andrew.ker/docs/ADK11B.pdf\" rel=\"nofollow noreferrer\">http://www.cs.ox.ac.uk/andrew.ker/docs/ADK11B.pdf</a>)</p>\n\n<p>The script presented is as follows (running on Ubuntu Linux):</p>\n\n<pre><code>perl -n0777 &lt;cover-image &gt; stego-image \n    -e\u2019split/(\\s+)/,&lt;STDIN&gt;,5;@z=map ord,split\"\",pop@_;srand key; for(0..$#z){@p[$k,$_]=($_,$p[$k=int rand$_]);} map{$z[$q=shift@p]+=($z[$q]-ord()&amp;1)*(rand 2&lt;=&gt;1)} split\"\",unpack\"B*\",$_;print@_,map chr,@z;\u2019 secret-text-\ufb01le\n</code></pre>\n\n<p>However, this gives a syntax error for me, which I think is from the use of the \u2019 character. I have no experience with Perl, so I am slowing trying to figure out what the problem might be. </p>\n\n<p>Any advice would be greatly appreciated. </p>\n"}, {"tags": ["perl", "sed", "virtualbox"], "comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1508846594, "post_id": 46907660, "comment_id": 80766629, "body": "This is not a Perl problem."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508850513, "post_id": 46907660, "comment_id": 80769661, "body": "The <code>-i</code> option without a value doesn&#39;t work on Windows file systems. The process is blocking itself from deleting the original input file. Try it with <code>-i.bak</code> or similar."}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 4855265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/479d1117f049f31895aaef75c8baf5b1?s=128&d=identicon&r=PG&f=1", "display_name": "maikelmeyers", "link": "https://stackoverflow.com/users/4855265/maikelmeyers"}, "edited": false, "score": 0, "creation_date": 1508939131, "post_id": 46919173, "comment_id": 80815198, "body": "Sorry, does not work either: <code>$ perl -i.bak -p -e &#39;s&#47;orig&#47;replace&#47;g&#39; input_file  Can&#39;t rename input_file to input_file.bak: Text file busy, skipping file.</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1508875635, "creation_date": 1508875635, "answer_id": 46919173, "question_id": 46907660, "link": "https://stackoverflow.com/questions/46907660/perl-using-the-i-option-on-a-vboxsf-share-cant-remove-input-file-text-file-bu/46919173#46919173", "title": "Perl using the -i option on a vboxsf share: Can&#39;t remove input_file Text file busy, skipping file", "body": "<p>While you are running a unix OS, you are still using a Windows file system. NTFS doesn't support anonymous files like unix file systems, and Perl <code>-i</code> requires support for anonymous files.</p>\n\n<p>The workaround is to use a temporary files by using <code>-i&lt;ext&gt;</code> (e.g. <code>-i~</code>) instead of <code>-i</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 168, "user_id": 6266369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f72962fe4c2d3e34342d0ff0648ccd1?s=128&d=identicon&r=PG&f=1", "display_name": "user6266369", "link": "https://stackoverflow.com/users/6266369/user6266369"}, "is_accepted": false, "score": 0, "last_activity_date": 1520432133, "creation_date": 1520432133, "answer_id": 49154034, "question_id": 46907660, "link": "https://stackoverflow.com/questions/46907660/perl-using-the-i-option-on-a-vboxsf-share-cant-remove-input-file-text-file-bu/49154034#49154034", "title": "Perl using the -i option on a vboxsf share: Can&#39;t remove input_file Text file busy, skipping file", "body": "<p>I have same problem. My solution is a bashscript. Copy files to tmp. Search and Replace. Overwrite tmp-files with original-files. Than delete tmp-dir. If you need you can use parameter in script for dynamic search&amp;replace and create an alias for call the script direct and everywhere. </p>\n\n<pre><code>#!/bin/bash\necho \"Removing text from .log files...\"\n\necho \"Creating tmp-dir...\"\nmkdir /tmp/myTmpFiles/\n\necho \"Copy .log files to tmp...\"\ncp -v /home/user/sharedfolder/*.log /tmp/myTmpFiles/\n\necho \"Search and Replace in tmp-files...\"\nperl -i -p0e 's/orig/replace/g' /tmp/myTmpFiles/*.log\n\necho \"Copy .log to sharedfolder\"\ncp -v /tmp/myTmpFiles/*.log /home/user/sharedfolder/\n\necho \"Remove tmp-dir...\"\nrm -vr /tmp/myTmpFiles/\n\necho \"Done...\"\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 4855265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/479d1117f049f31895aaef75c8baf5b1?s=128&d=identicon&r=PG&f=1", "display_name": "maikelmeyers", "link": "https://stackoverflow.com/users/4855265/maikelmeyers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 389, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1520432133, "creation_date": 1508839506, "last_edit_date": 1509003293, "question_id": 46907660, "link": "https://stackoverflow.com/questions/46907660/perl-using-the-i-option-on-a-vboxsf-share-cant-remove-input-file-text-file-bu", "title": "Perl using the -i option on a vboxsf share: Can&#39;t remove input_file Text file busy, skipping file", "body": "<p>System: Arch Linux in VirtualBox 5.1.26 on Windows 10 Host</p>\n\n<p>I try to use perl like sed in the terminal for in place substitution the input file:</p>\n\n<pre><code>perl -i -p -e 's/orig/replace/g' input_file\n</code></pre>\n\n<p>But I always get:</p>\n\n<pre><code>Can't remove input_file Text file busy, skipping file\n</code></pre>\n\n<p>This happens only if the file is inside a VirtualBox vboxsf share. With all other tools (sed, mv, vim or whatever) it is no problem to change the file.</p>\n\n<p>This problem seems to be related to:</p>\n\n<ul>\n<li><p><a href=\"https://www.virtualbox.org/ticket/2553\" rel=\"nofollow noreferrer\">https://www.virtualbox.org/ticket/2553</a></p></li>\n<li><p><a href=\"https://forums.virtualbox.org/viewtopic.php?t=4437\" rel=\"nofollow noreferrer\">https://forums.virtualbox.org/viewtopic.php?t=4437</a></p></li>\n</ul>\n\n<p>I can't find any solution googling around :(</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Using <code>perl -i.bak -p -e 's/orig/replace/g' input_file</code> I get a similar message:</p>\n\n<pre><code>Can't rename input_file to input_file.bak: Text file busy, skipping file.\n</code></pre>\n\n<p>This is exactly the same message as gedit shows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BejHa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BejHa.png\" alt=\"enter image description here\"></a></p>\n\n<p>So it is the same behavior, but googling around I can only find the Gedit topic. It seems noone has noticed this with perl -i.</p>\n"}, {"tags": ["json", "perl", "elasticsearch"], "comments": [{"owner": {"reputation": 360, "user_id": 404368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a897d60caedf5932405ad21691344c?s=128&d=identicon&r=PG", "display_name": "sborsky", "link": "https://stackoverflow.com/users/404368/sborsky"}, "edited": false, "score": 0, "creation_date": 1508799257, "post_id": 46899353, "comment_id": 80746536, "body": "you can let Perl give you JSON instead of dumping the data (assuming you ticket data above is from Perl&#39;s <code>Dumper</code> function). Would that help?"}, {"owner": {"reputation": 263, "user_id": 4471796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e051a265d2a207635820eb0f3ff43db?s=128&d=identicon&r=PG&f=1", "display_name": "pm1391", "link": "https://stackoverflow.com/users/4471796/pm1391"}, "reply_to_user": {"reputation": 360, "user_id": 404368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a897d60caedf5932405ad21691344c?s=128&d=identicon&r=PG", "display_name": "sborsky", "link": "https://stackoverflow.com/users/404368/sborsky"}, "edited": false, "score": 0, "creation_date": 1508801307, "post_id": 46899353, "comment_id": 80747036, "body": "Yes that would work, I don&#39;t work in perl so wasn&#39;t aware the best way"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1508801954, "post_id": 46899353, "comment_id": 80747188, "body": "What is the question? Are you asking how to encode a Perl data structure as JSON?"}], "answers": [{"comments": [{"owner": {"reputation": 263, "user_id": 4471796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e051a265d2a207635820eb0f3ff43db?s=128&d=identicon&r=PG&f=1", "display_name": "pm1391", "link": "https://stackoverflow.com/users/4471796/pm1391"}, "edited": false, "score": 0, "creation_date": 1508808229, "post_id": 46900170, "comment_id": 80748560, "body": "That fixes it, and to answer the other part of my question, I will just allow ES to auto generate a id. Thank you"}], "tags": [], "owner": {"reputation": 2496, "user_id": 2469275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b7EZh.png?s=128&g=1", "display_name": "janh", "link": "https://stackoverflow.com/users/2469275/janh"}, "is_accepted": true, "score": 1, "last_activity_date": 1508802948, "creation_date": 1508802948, "answer_id": 46900170, "question_id": 46899353, "link": "https://stackoverflow.com/questions/46899353/turn-data-stored-in-perl-variable-into-json-object/46900170#46900170", "title": "Turn data stored in perl variable into json object", "body": "<p>You'll probably want to use the <a href=\"http://search.cpan.org/~ishigaki/JSON-2.94/lib/JSON.pm\" rel=\"nofollow noreferrer\">JSON module</a>:</p>\n\n<pre><code>my $json = JSON-&gt;new()-&gt;encode($variable);\n</code></pre>\n\n<p>Look at the documentation for more options.</p>\n"}], "owner": {"reputation": 263, "user_id": 4471796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e051a265d2a207635820eb0f3ff43db?s=128&d=identicon&r=PG&f=1", "display_name": "pm1391", "link": "https://stackoverflow.com/users/4471796/pm1391"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 46900170, "answer_count": 1, "score": -1, "last_activity_date": 1508802948, "creation_date": 1508797000, "question_id": 46899353, "link": "https://stackoverflow.com/questions/46899353/turn-data-stored-in-perl-variable-into-json-object", "title": "Turn data stored in perl variable into json object", "body": "<p>I am working with a ticketing system and our ELK stack and I'm looking for a possible solution that is much better than the one I'm currently using. Response data from the ticket system is as follows:</p>\n\n<pre><code>$VAR1 = {\n          'Ticket' =&gt; [\n                      {\n                        'State' =&gt; 'closed successful',\n                        'Type' =&gt; 'Unclassified',\n                        'LockID' =&gt; '1',\n                        'Changed' =&gt; '2017-06-22 10:59:21',\n                        'Responsible' =&gt; 'root@localhost',\n                        'ServiceID' =&gt; '',\n                        'UnlockTimeout' =&gt; '1498143551',\n                        'StateType' =&gt; 'closed',\n                        'Title' =&gt; 'Test',\n                        'StateID' =&gt; '2',\n                        'Created' =&gt; '2017-06-22 10:52:10',\n                        'EscalationSolutionTime' =&gt; '0',\n                        'OwnerID' =&gt; '4',\n                        'ResponsibleID' =&gt; '1',\n                        'CreateBy' =&gt; '1',\n                        'TicketNumber' =&gt; '2017062201000031',\n                        'PriorityID' =&gt; '3',\n                        'ArchiveFlag' =&gt; 'n',\n                        'TypeID' =&gt; '1',\n                        'Priority' =&gt; '3 normal',\n                        'SLAID' =&gt; '',\n                        'Queue' =&gt; 'Raw',\n                        'QueueID' =&gt; '2',\n                        'EscalationTime' =&gt; '0',\n                        'EscalationUpdateTime' =&gt; '0',\n                        'Owner' =&gt; 'tom',\n                        'RealTillTimeNotUsed' =&gt; '0',\n                        'CustomerID' =&gt; 'TestMonior',\n                        'CustomerUserID' =&gt; 'c-user',\n                        'ChangeBy' =&gt; '4',\n                        'Age' =&gt; '10652757',\n                        'Lock' =&gt; 'unlock',\n                        'CreateTimeUnix' =&gt; '1498143130',\n                        'EscalationResponseTime' =&gt; '0',\n                        'UntilTime' =&gt; '0',\n                        'TicketID' =&gt; '8',\n                        'GroupID' =&gt; '1'\n                      },\n</code></pre>\n\n<p>What I am doing currently is just removing the first couple lines and last line with sed, replacing all instances of <code>=&gt;</code> with <code>:</code> and replacing single quotes with double quotes. I then POST the data straight to ElasticSearch via</p>\n\n<pre><code>/ticketsystem/ticketid/1 -d @test.json\n</code></pre>\n\n<p>This works fine but I'm having trouble coming up with a better way because I would like to be able to bulk export tickets from our ticketing system and not just a single ticket at a time. If I bulk export, I don't exactly have a way of incrementing the typeID above. </p>\n\n<p>My initial thought was turning this into a javascript array.. thoughts?</p>\n\n<p>thank you in advance</p>\n"}, {"tags": ["apache", "perl", "otrs"], "comments": [{"owner": {"reputation": 360, "user_id": 404368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a897d60caedf5932405ad21691344c?s=128&d=identicon&r=PG", "display_name": "sborsky", "link": "https://stackoverflow.com/users/404368/sborsky"}, "edited": false, "score": 0, "creation_date": 1508793220, "post_id": 46898474, "comment_id": 80744477, "body": "Did you install the Apache config file as the OTRS install guide suggests?"}, {"owner": {"reputation": 11, "user_id": 8821184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f45b8b8b130c569260f1ac3526999b76?s=128&d=identicon&r=PG&f=1", "display_name": "skopus", "link": "https://stackoverflow.com/users/8821184/skopus"}, "reply_to_user": {"reputation": 360, "user_id": 404368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a897d60caedf5932405ad21691344c?s=128&d=identicon&r=PG", "display_name": "sborsky", "link": "https://stackoverflow.com/users/404368/sborsky"}, "edited": false, "score": 0, "creation_date": 1508826001, "post_id": 46898474, "comment_id": 80753468, "body": "Hi, as it is a shared web server I do not have access to the apache config. Do you have an idea, how to handle this by editing the .htaccess?"}], "owner": {"reputation": 11, "user_id": 8821184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f45b8b8b130c569260f1ac3526999b76?s=128&d=identicon&r=PG&f=1", "display_name": "skopus", "link": "https://stackoverflow.com/users/8821184/skopus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 480, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508792501, "creation_date": 1508792501, "question_id": 46898474, "link": "https://stackoverflow.com/questions/46898474/otrs-5-in-shared-host", "title": "otrs 5 in shared host", "body": "<p>I would like to install OTRS 5 in a shared hosting environment. I heard, that this is possible but not easy.</p>\n\n<p>Here is what I know so far and what I did:</p>\n\n<ul>\n<li>Webfolder: <strong>/var/www/html/</strong></li>\n<li>otrs-5.0.23.tar.gz is extraced to /var/www/html/cgi-bin/</li>\n<li>Also added /var/www/html/otrs-web</li>\n<li>Permissions are set to 755</li>\n<li>Config.pm.dist renamed to Config.pm</li>\n<li>Created a DB an gave the Informations to Config.pm</li>\n<li>Home Path is set to /var/www/html/cgi-bin/</li>\n<li>I imported the three mysql SQL Files to te OTRS DB</li>\n<li>I renamed the Cronjobs</li>\n<li>Links were set ln -s /var/www/html/otrs-web/skins/ /var/www/html/cgi-bin/var/httpd/htdocs/skins\nln -s /var/www/html/otrs-web/js/ /var/www/html/cgi-bin/var/httpd/htdocs/js</li>\n</ul>\n\n<p>After this, I tried to open <a href=\"http://192.168.0.160/otrs-web\" rel=\"nofollow noreferrer\">http://192.168.0.160/otrs-web</a> in the browser. It gets the index.html a it tries to redirect me to <a href=\"http://192.168.0.160/otrs/index.pl\" rel=\"nofollow noreferrer\">http://192.168.0.160/otrs/index.pl</a> but ends with</p>\n\n<pre><code>Not Found\n\nThe requested URL /otrs/index.pl was not found on this server.\n\nApache/2.4.10 (Debian) Server at 192.168.0.160 Port 80\n</code></pre>\n\n<p>The content of the index.html is:  </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-type\" content=\"text/html;charset=UTF-8\" /&gt;\n    &lt;meta http-equiv=\"refresh\" content=\"0; URL=/otrs/index.pl\" /&gt;\n    &lt;title&gt;OTRS Redirect&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;!--\nindex.html - redirect\nCopyright (C) 2001-2017 OTRS AG, http://otrs.com/\n\nThis software comes with ABSOLUTELY NO WARRANTY. For details, see\nthe enclosed file COPYING for license information (AGPL). If you\ndid not receive this file, see http://www.gnu.org/licenses/agpl.txt.\n--&gt;\n</code></pre>\n\n<p>I have to confess, that I am not into this whole redirection stuff. I gues, this might be the problem. If someone do have an Idea or a link to a nice tutorial, I would be happy :)</p>\n"}, {"tags": ["perl", "filehandle", "autosys"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1508788114, "post_id": 46897247, "comment_id": 80741894, "body": "<code>my $fh = \\*DATA;</code> instead of <code>open my $fh...</code>"}, {"owner": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "edited": false, "score": 1, "creation_date": 1508788661, "post_id": 46897247, "comment_id": 80742161, "body": "For clarity i prefer an explicit exit() just before <b>DATA</b>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1508790202, "post_id": 46897247, "comment_id": 80742960, "body": "The <code>DATA</code> <i>is</i> a filehandle, much like <code>STDIN</code>; it reads data that follows the special <code>__DATA__</code> literal.  See <a href=\"http://perldoc.perl.org/functions/__DATA__.html\" rel=\"nofollow noreferrer\">__DATA__</a> (has link to <code>perldata</code>) and, for example, <a href=\"https://stackoverflow.com/questions/13463509/the-data-syntax-in-perl\">this post</a>."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1508846825, "post_id": 46897247, "comment_id": 80766778, "body": "BTW, <b>DATA</b> and <b>END</b> mean the same thing. Reading from DATA will read the lines after <b>DATA</b> or <b>END</b>, which ever one is first."}], "answers": [{"comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 3, "creation_date": 1508846744, "post_id": 46897327, "comment_id": 80766720, "body": "Yes, like STDIN, STDOUT, and STERR, DATA is automatically opened for you."}], "tags": [], "owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "is_accepted": true, "score": 13, "last_activity_date": 1508787958, "creation_date": 1508787958, "answer_id": 46897327, "question_id": 46897247, "link": "https://stackoverflow.com/questions/46897247/using-data-in-a-program/46897327#46897327", "title": "Using __DATA__ in a program", "body": "<p>You don't need to open the <code>DATA</code> filehandle, just read from it.</p>\n\n<pre><code>while (my $line = &lt;DATA&gt;) {\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1515663528, "creation_date": 1515663528, "answer_id": 48203789, "question_id": 46897247, "link": "https://stackoverflow.com/questions/46897247/using-data-in-a-program/48203789#48203789", "title": "Using __DATA__ in a program", "body": "<p>As documented in <a href=\"https://perldoc.perl.org/perldata.html#Special-Literals\" rel=\"nofollow noreferrer\"><code>perldata</code></a>:</p>\n\n<blockquote>\n  <p>Text after __DATA__ may be read via the filehandle PACKNAME::DATA , where PACKNAME is the package that was current when the __DATA__ token was encountered. The filehandle is left open pointing to the line after __DATA__</p>\n</blockquote>\n\n<p>See <a href=\"https://perldoc.perl.org/SelfLoader.html#The-__DATA__-token\" rel=\"nofollow noreferrer\">SelfLoader</a> for more description of __DATA__</p>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1298, "favorite_count": 0, "accepted_answer_id": 46897327, "answer_count": 2, "score": 5, "last_activity_date": 1515663528, "creation_date": 1508787649, "last_edit_date": 1509098712, "question_id": 46897247, "link": "https://stackoverflow.com/questions/46897247/using-data-in-a-program", "title": "Using __DATA__ in a program", "body": "<p>It is used on Stack Overflow all the time but I really don't understand it, nor can I get it to work. However it seems like a really good testing tool.</p>\n\n<p>How do I get the script to read in everything below <code>__DATA__</code> into a file handle? I tried a few ways to read it in instead of tacking on an external file. The data is legitimate, it is from the AutoSys JIL file for job definitions. </p>\n\n<pre><code>#!/efs/dist/perl5/core/5.10/exec/bin/perl\n\nuse strict;\nuse warnings;\n\nmy ( $job, $machine, $command, @line_stat );\n\n#these 4 lines below do not read in data to filehandle\n#my $data = do  {\n#   local $/;\n#   &lt;DATA&gt;;\n#} ;\n\nmy $data = &lt;DATA&gt;;    # does not work either\n\nopen( my $fh, '&lt;:encoding(UTF-8)', $data )\n        or die \"Could not open file '$data' $!\";\n\nmy $count = 0;\n\nwhile ( my $line = &lt;$fh&gt; ) {\n\n    #chomp $line;\n    if ( $line =~ /\\/\\* -{17} \\w+ -{17} \\*\\// ) {\n        $count = 1;\n    }\n    elsif ( $line =~ /(alarm_if_fail:)/ ) {\n        $count = 0;\n    }\n    elsif ( $count ) {\n\n        if ( $line =~ m/insert_job: (\\w+).*job_type: CMD/ ) {\n            push( @line_stat, $1 );\n        }\n        elsif ( $line =~ m/command:(.*)/ ) {\n            push( @line_stat, $1 );\n        }\n        elsif ( $line =~ m/machine:(.*)/ ) {\n            push( @line_stat, $1 );\n        }\n    }\n}\n\nforeach my $line_wot ( @line_stat ) {\n    print \"$line_wot\\n\";\n}\n\n__DATA__\n/* ----------------- COME_AND_PLAY_WITH_US_DANNY ----------------- */\n\ninsert_job: COME_AND_PLAY_WITH_US_DANNY   job_type: CMD\ncommand: /bin/bash -pwd\nmachine: capser.com\nowner: twins\npermission: foo,foo\ndate_conditions: 1\ndays_of_week: mo,tu,we,th,fr\nstart_times: \"04:00\"\ndescription: \"Forever, and ever and ever\"\nstd_in_file: \"/home/room217\"\nstd_out_file: \"${CASPERSYSLOG}/room217.out\"\nstd_err_file: \"${CASPERSYSLOG}/room217.err\nalarm_if_fail: 1\nprofile: \"/autosys_profile\"\ntimezone: US/Eastern\n\n/* ----------------- COME_AND_PLAY_WITH_US_AGAIN_DANNY ----------------- */\n\ninsert_job: COME_AND_PLAY_WITH_US_AGAIN_DANNY   job_type: CMD\ncommand: /bin/bash -ls\nmachine: capser1.com\nowner: twins\npermission: foo,foo\ndate_conditions: 1\ndays_of_week: mo,tu,we,th,fr\nstart_times: \"04:00\"\ndescription: \"Forever, and ever and ever\"\nstd_in_file: \"/home/room217\"\nstd_out_file: \"${CASPERSYSLOG}/room217.out\"\nstd_err_file: \"${CASPERSYSLOG}/room217.err\nalarm_if_fail: 1\nprofile: \"/autosys_profile\"\ntimezone: US/Eastern\n\n/* ----------------- NEVER_PLAY_WITH_US_AGAIN_DANNY ----------------- */\n\ninsert_job: NEVER_PLAY_WITH_US_AGAIN_DANNY   job_type: CMD\ncommand: /bin/bash -rm *\nmachine: capser2.com\nowner: twins\npermission: foo,foo\ndate_conditions: 1\ndays_of_week: mo,tu,we,th,fr\nstart_times: \"04:00\"\ndescription: \"Forever, and ever and ever\"\nstd_in_file: \"/home/room217\"\nstd_out_file: \"${CASPERSYSLOG}/room217.out\"\nstd_err_file: \"${CASPERSYSLOG}/room217.err\nalarm_if_fail: 1\nprofile: \"/autosys_profile\"\ntimezone: US/Eastern\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1508776314, "post_id": 46894003, "comment_id": 80735563, "body": "(1)  The <code>*</code> quantifier is &quot;<i>greedy</i>&quot; -- it matches as much as it possibly can; for a string <code>hi 1234</code> the regex <code>&#47;(.*)(\\d)&#47;</code> captures <code>hi 123</code> and <code>4</code> (2) The lone period <code>.</code> matches any character; need to escape it to match the literal <code>.</code> character, so <code>&#47;\\.&#47;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1508776436, "post_id": 46894003, "comment_id": 80735635, "body": "You can use <code>split</code> for a far easier job, <code>my @nums = (split)[2,-2];</code> (if the string is in <code>$_</code>, or <code>split &#39; &#39;, $var</code>). Then strip decimals if needed (it&#39;s unclear in the question)"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 8061059, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a882f17a8db437caac0bfd148c3c69e4?s=128&d=identicon&r=PG&f=1", "display_name": "dabire", "link": "https://stackoverflow.com/users/8061059/dabire"}, "edited": false, "score": 0, "creation_date": 1508778646, "post_id": 46894158, "comment_id": 80736898, "body": "I need the SOLD part of the expression to also be matched before I can accept the values detected. How do I include it in this expression?"}, {"owner": {"reputation": 65, "user_id": 8061059, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a882f17a8db437caac0bfd148c3c69e4?s=128&d=identicon&r=PG&f=1", "display_name": "dabire", "link": "https://stackoverflow.com/users/8061059/dabire"}, "edited": false, "score": 0, "creation_date": 1508778863, "post_id": 46894158, "comment_id": 80737015, "body": "I got it. Thanks"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1508780409, "post_id": 46894158, "comment_id": 80737823, "body": "Why was this downvoted? It is concise, accurate, responsive. What is SO becoming?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1508784505, "post_id": 46894158, "comment_id": 80739969, "body": "@dawg: Not my down vote, but I&#39;d guess that someone doesn&#39;t like code-only answers given that I got one too!"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1508796820, "post_id": 46894158, "comment_id": 80745841, "body": "Could be. Personally, a concise code-only answer is preferable to some long winded explanation."}], "tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": true, "score": 1, "last_activity_date": 1508776405, "last_edit_date": 1508776405, "creation_date": 1508776014, "answer_id": 46894158, "question_id": 46894003, "link": "https://stackoverflow.com/questions/46894003/matching-numbers-embedded-in-a-line-in-perl/46894158#46894158", "title": "Matching numbers embedded in a line in perl", "body": "<p>Try this :</p>\n\n<pre><code>m|&lt;sqlpurchSBC.*?(\\d+)\\s+[\\.\\w]+\\s+(\\d+)\\.?.*|\n                |\n          tell .* to be non greedy\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1508781502, "creation_date": 1508781502, "answer_id": 46895680, "question_id": 46894003, "link": "https://stackoverflow.com/questions/46894003/matching-numbers-embedded-in-a-line-in-perl/46895680#46895680", "title": "Matching numbers embedded in a line in perl", "body": "<p>I think a call to <code>split</code> would be better here</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $s = '&lt;sqlpurchSBC comn 23 8313364.B9230352.329 11200.00 SOLD&gt;';\n\nmy @pair;\n@pair = ( split ' ', $s )[2,4] if $s =~ /&lt;sqlpurchSBC.+SOLD&gt;/;\n\nsay \"@pair\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>23 11200.00\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 8061059, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a882f17a8db437caac0bfd148c3c69e4?s=128&d=identicon&r=PG&f=1", "display_name": "dabire", "link": "https://stackoverflow.com/users/8061059/dabire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 1, "accepted_answer_id": 46894158, "answer_count": 2, "score": 0, "last_activity_date": 1508781502, "creation_date": 1508775456, "last_edit_date": 1508775657, "question_id": 46894003, "link": "https://stackoverflow.com/questions/46894003/matching-numbers-embedded-in-a-line-in-perl", "title": "Matching numbers embedded in a line in perl", "body": "<p>I am trying to write a regular expression in perl that will match this line</p>\n\n<pre><code>&lt;sqlpurchSBC comn 23 8313364.B9230352.329 11200.00 SOLD&gt;\n</code></pre>\n\n<p>my expression is this so far but it doesnt seem to match my string</p>\n\n<pre><code>m|sqlpurchSBC.*(\\d+).(\\d+).*(\\d+).(\\d+).(\\d+) SOLD|\n</code></pre>\n\n<p>I am essentially trying to extract the value 23 and also the value 11200.00. The two decimal does not count though. I need help guys. Thanks</p>\n"}, {"tags": ["xml", "perl", "xml-parsing", "xml-libxml"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508791060, "post_id": 46892356, "comment_id": 80743375, "body": "PS - You shouldn&#39;t be using relative URIs for namespaces."}], "answers": [{"tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": true, "score": 4, "last_activity_date": 1508781057, "last_edit_date": 1508781057, "creation_date": 1508780517, "answer_id": 46895408, "question_id": 46892356, "link": "https://stackoverflow.com/questions/46892356/xmlparsing-unable-to-detect-child-nodes/46895408#46895408", "title": "XML::Parsing - Unable to detect child nodes", "body": "<p>You are trying to find elements of type <code>web-interface-classifier</code> and <code>classifier</code> from the <code>parent/child1/granchild2/v1</code> namespace, but you asked to find elements of type <code>web-interface-classifier</code> and <code>classifier</code> from the null namespace. Fixed:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse v5.10;\n\nuse Data::Dumper;\nuse XML::LibXML;\nuse XML::LibXML::XPathContext;\n\nmy $dom = XML::LibXML-&gt;load_xml( IO =&gt; \\*DATA );\n\nmy $xpc = XML::LibXML::XPathContext-&gt;new();\n$xpc-&gt;registerNs( u =&gt; \"parent/child1/granchild2/v1\" );\n\nfor my $node ( $xpc-&gt;findnodes( \"//u:web-interface-classifier/u:classifier\", $dom ) ) {\n    say $node-&gt;toString();\n}\n\n__DATA__\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-interface-classifier xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:noNamespaceSchemaLocation=\"WEB-INTERFACE-GROUP-CLASSIFIER.xsd\" xmlns=\"parent/child1/granchild2/v1\"&gt;\n  &lt;classifier&gt;\n      &lt;key1&gt;somevalue&lt;/key1&gt;\n  &lt;/classifier&gt;\n  &lt;classifier&gt;\n      &lt;key2&gt;somevalue&lt;/key2&gt;\n  &lt;/classifier&gt;\n&lt;/web-interface-classifier&gt;\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>&lt;classifier&gt;\n      &lt;key1&gt;somevalue&lt;/key1&gt;\n  &lt;/classifier&gt;\n&lt;classifier&gt;\n      &lt;key2&gt;somevalue&lt;/key2&gt;\n  &lt;/classifier&gt;\n</code></pre>\n"}], "owner": {"reputation": 170, "user_id": 1530667, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6db1b25d38f7941e0a505f2c9e5dbdc1?s=128&d=identicon&r=PG", "display_name": "madmatrix", "link": "https://stackoverflow.com/users/1530667/madmatrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 46895408, "answer_count": 1, "score": 0, "last_activity_date": 1508781057, "creation_date": 1508770279, "last_edit_date": 1508779860, "question_id": 46892356, "link": "https://stackoverflow.com/questions/46892356/xmlparsing-unable-to-detect-child-nodes", "title": "XML::Parsing - Unable to detect child nodes", "body": "<p>Sample XML document</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-interface-classifier xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:noNamespaceSchemaLocation=\"WEB-INTERFACE-GROUP-CLASSIFIER.xsd\" xmlns=\"parent/child1/granchild2/v1\"&gt;\n  &lt;classifier&gt;\n      &lt;key1&gt;somevalue&lt;/key1&gt;\n  &lt;/classifier&gt;\n  &lt;classifier&gt;\n      &lt;key2&gt;somevalue&lt;/key2&gt;\n  &lt;/classifier&gt;\n&lt;/web-interface-classifier&gt;\n</code></pre>\n\n<p>Code to parse XML document above.</p>\n\n<pre><code>my $dom = XML::LibXML-&gt;load_xml(location =&gt; $filename);        \nmy $xpc = XML::LibXML::XPathContext-&gt;new();\n$xpc-&gt;registerNs( xsi =&gt; \"http://www.w3.org/2001/XMLSchema-instance\" );\n\nforeach my $node ($xpc-&gt;findnodes(\"web-interface-classifier/classifier\", $dom)) {\n    print Dumper($node);\n}\n</code></pre>\n\n<p>Am trying to parse the XML document and dump the needed key value pairs from the 'classifier' node, the required child nodes are not detected. Can you please provide some pointers?</p>\n"}, {"tags": ["perl", "perl-module", "cpanm"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508772480, "post_id": 46890932, "comment_id": 80733305, "body": "You appear to have done nothing to add your local directory to <code>@INC</code>. I suggest <code>export PERL5LIB=~&#47;perl5&#47;lib&#47;perl5</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508775261, "post_id": 46890932, "comment_id": 80734980, "body": "Please provide the output of <code>set | grep ^PERL</code>. <code>source ~&#47;.bashrc</code> should have setup some env vars (incl aforementioned <code>PERL5LIB</code>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508778095, "post_id": 46890932, "comment_id": 80736591, "body": "Also, please provide the output of <code>perl -I$HOME&#47;perl5&#47;lib&#47;perl5 -Mlocal::lib</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508778110, "post_id": 46890932, "comment_id": 80736600, "body": "<code>cpanm</code> hides useful output. Could you please try to install the module again, but using <code>-v</code> this time"}, {"owner": {"reputation": 212, "user_id": 3738813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/800d9e56407e3dd9ec2421701a4d504f?s=128&d=identicon&r=PG&f=1", "display_name": "Fex", "link": "https://stackoverflow.com/users/3738813/fex"}, "edited": false, "score": 1, "creation_date": 1508833516, "post_id": 46890932, "comment_id": 80757819, "body": "I added the outputs of <code>set | grep ^PERL</code>, <code>cpanm -v</code> and <code>perl -I$HOME&#47;perl5&#47;lib&#47;perl5 -Mlocal::lib</code>."}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1508853212, "post_id": 46890932, "comment_id": 80771746, "body": "On Ubuntu 16.04 I had to run <code>chmod -R $(whoami):$(whoami) ~&#47;.cpanm</code> first before homedir installs. Because I&#39;d previously had used <code>sudo cpanm ...</code> or <code>sudo bash</code> and then <code>cpanm</code>."}, {"owner": {"reputation": 212, "user_id": 3738813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/800d9e56407e3dd9ec2421701a4d504f?s=128&d=identicon&r=PG&f=1", "display_name": "Fex", "link": "https://stackoverflow.com/users/3738813/fex"}, "reply_to_user": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1508854594, "post_id": 46890932, "comment_id": 80772788, "body": "@KjetilS. The <code>~&#47;.cpanm</code> directory belongs to the user. A normal user on the cluster is not allowed to execute commands with <code>sudo</code>. Also I did all the things discribed above as a normal user and not as root."}], "answers": [{"tags": [], "owner": {"reputation": 212, "user_id": 3738813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/800d9e56407e3dd9ec2421701a4d504f?s=128&d=identicon&r=PG&f=1", "display_name": "Fex", "link": "https://stackoverflow.com/users/3738813/fex"}, "is_accepted": true, "score": 0, "last_activity_date": 1529401505, "creation_date": 1529401505, "answer_id": 50925252, "question_id": 46890932, "link": "https://stackoverflow.com/questions/46890932/problems-installing-perl-modules-in-home-directory/50925252#50925252", "title": "Problems installing perl modules in home directory", "body": "<p>I found an answer to my question by chance. Setting the additional environment variable PERL_CPANM_HOME solved the problem.</p>\n\n<p>First we install local::lib</p>\n\n<pre><code># Download and unpack the local::lib tarball from CPAN\nwget https://cpan.metacpan.org/authors/id/H/HA/HAARG/local-lib-2.000024.tar.gz\ntar xvf local-lib-2.000024.tar.gz\ncd local-lib-2.000024\n# Install local::lib in your home\nperl Makefile.PL --bootstrap\nmake test &amp;&amp; make install\n</code></pre>\n\n<p>Now we use local::lib to configure cpanm and Perl, and set the two additonal environment variables:</p>\n\n<pre><code>eval $(perl -I ~/perl5/lib/perl5/ -Mlocal::lib)\nexport PERL_CPANM_HOME=/tmp/cpanm_$USER\nexport MANPATH=$MANPATH:~/perl5/man\n</code></pre>\n\n<p>Now we are able to install Perl modules in a HOME directory on the cluster.</p>\n\n<pre><code>cpanm HTML::PullParser\n</code></pre>\n"}], "owner": {"reputation": 212, "user_id": 3738813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/800d9e56407e3dd9ec2421701a4d504f?s=128&d=identicon&r=PG&f=1", "display_name": "Fex", "link": "https://stackoverflow.com/users/3738813/fex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1065, "favorite_count": 1, "accepted_answer_id": 50925252, "answer_count": 1, "score": 4, "last_activity_date": 1529401505, "creation_date": 1508766296, "last_edit_date": 1508833452, "question_id": 46890932, "link": "https://stackoverflow.com/questions/46890932/problems-installing-perl-modules-in-home-directory", "title": "Problems installing perl modules in home directory", "body": "<p>We installed Perl (5.26) on our HPC cluster as a module in the modules environment. Because we do not want to install all Perl modules requested by single users on the whole cluster we asked them to install the needed perl modules in one of their directories (home, workspace, ...)</p>\n\n<p>We suggested to use cpanm and local::lib to install the needed modules. Cpanm is installed on our cluster, the user installs local::lib on their own. Then they should be able to install perl modules on their own.</p>\n\n<p>In practice, this just works for some modules. First, we set up local::lib and set the environment</p>\n\n<pre><code># 1. Install local::lib in your home\nwget https://cpan.metacpan.org/authors/id/H/HA/HAARG/local-lib-2.000024.tar.gz\ntar xvf local-lib-2.000024.tar.gz\ncd local-lib-2.000024\n# Install local::lib in your home\nperl Makefile.PL --bootstrap\nmake test &amp;&amp; make install\n\n# 2. Configure local::lib, because cpanm uses this configuration. Otherwise cpanm would install modules to system perl, which is not writable for normal users\necho 'eval \"$(perl -I$HOME/perl5/lib/perl5 -Mlocal::lib)\"' &gt;&gt;~/.bashrc\nsource ~/.bashrc;\n</code></pre>\n\n<p>Now we try to install  a module:</p>\n\n<pre><code>cpanm HTML::PullParser\n</code></pre>\n\n<p>It tries to install the dependency HTML::Tagset, it says HTML::Tagset is installed, but it cannot find the dependency afterwards. There is a directory for Tagsat in the user PERL5LIB directory, but it's empty:</p>\n\n<pre><code>Configuring HTML-Tagset-3.20 ... OK\nBuilding and testing HTML-Tagset-3.20 ... OK\nSuccessfully installed HTML-Tagset-3.20\n! Installing the dependencies failed: Module 'HTML::Tagset' is not\ninstalled\n! Bailing out the installation for HTML-Parser-3.72.\n1 distribution installed\n</code></pre>\n\n<p>Did someone experience the same behavior and knows how to fix this? For some modules like Math::CDF it worked.</p>\n\n<p><strong>Edit</strong> to answer the comments:</p>\n\n<p>PERL5LIB and therefore @INC is changed:</p>\n\n<pre><code>&gt; set | grep ^PERL\nPERL5LIB=~/perl5/lib/perl5:/opt/bwhpc/common/devel/perl/5.26/lib/site_perl/5.26.1:/opt/bwhpc/common/devel/perl/5.26/lib\nPERL_BIN_DIR=/opt/bwhpc/common/devel/perl/5.26/bin\nPERL_HOME=/opt/bwhpc/common/devel/perl/5.26\nPERL_LIB_DIR=/opt/bwhpc/common/devel/perl/5.26/lib\nPERL_LOCAL_LIB_ROOT=~/perl5\nPERL_MAN_DIR=/opt/bwhpc/common/devel/perl/5.26/man\nPERL_MB_OPT='--install_base \"~/perl5\"'\nPERL_MM_OPT=INSTALL_BASE=~/perl5\nPERL_VERSION=5.26\n\n&gt; perl -I$HOME/perl5/lib/perl5 -Mlocal::lib\nPERL_MB_OPT=\"--install_base \\\"~/perl5\\\"\"; export PERL_MB_OPT;\nPERL_MM_OPT=\"INSTALL_BASE=~/perl5\"; export PERL_MM_OPT;\n</code></pre>\n\n<p>Output of cpanm with -v:</p>\n\n<pre><code>Unpacking HTML-Tagset-3.20.tar.gz\nHTML-Tagset-3.20/\nHTML-Tagset-3.20/Tagset.pm\nHTML-Tagset-3.20/Makefile.PL\nHTML-Tagset-3.20/META.yml\nHTML-Tagset-3.20/MANIFEST.SKIP\nHTML-Tagset-3.20/MANIFEST\nHTML-Tagset-3.20/README\nHTML-Tagset-3.20/t/\nHTML-Tagset-3.20/t/01_old_junk.t\nHTML-Tagset-3.20/t/pod.t\nHTML-Tagset-3.20/t/00_about_verbose.t\nHTML-Tagset-3.20/Changes\nEntering HTML-Tagset-3.20\nChecking configure dependencies from META.yml\nRunning Makefile.PL\nConfiguring HTML-Tagset-3.20 ... Checking if your kit is complete...\nLooks good\nGenerating a Unix-style Makefile\nWriting Makefile for HTML::Tagset\nWriting MYMETA.yml and MYMETA.json\nOK\nChecking dependencies from MYMETA.json ...\nChecking if you have ExtUtils::MakeMaker 0 ... Yes (7.24)\nBuilding and testing HTML-Tagset-3.20 ... cp Tagset.pm blib/lib/HTML/Tagset.pm\nManifying 1 pod document\nPERL_DL_NONLAZY=1 \"/cluster/bwhpc/common/devel/perl/5.26/bin/perl\" \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t\nt/00_about_verbose.t .. ok   \nt/01_old_junk.t ....... ok   \nt/pod.t ............... skipped: Test::Pod 1.14 required for testing POD\nAll tests successful.\nFiles=3, Tests=3,  0 wallclock secs ( 0.02 usr  0.01 sys +  0.04 cusr  0.02 csys =  0.09 CPU)\nResult: PASS\nManifying 1 pod document\nAppending installation info to ~/perl5/lib/perl5/x86_64-linux-thread-multi/perllocal.pod\nOK\nSuccessfully installed HTML-Tagset-3.20\nInstalling ~/perl5/lib/perl5/x86_64-linux-thread-multi/.meta/HTML-Tagset-3.20/install.json\n! Installing the dependencies failed: Module 'HTML::Tagset' is not installed\n! Bailing out the installation for HTML-Parser-3.72.\n1 distribution installed\n</code></pre>\n"}, {"tags": ["perl", "dbix-class"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508766118, "post_id": 46887880, "comment_id": 80728859, "body": "There is some useful information in <a href=\"https://metacpan.org/pod/DBIx::Class::Relationship\" rel=\"nofollow noreferrer\">metacpan.org/pod/DBIx::Class::Relationship</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "is_accepted": false, "score": 0, "last_activity_date": 1508776189, "creation_date": 1508776189, "answer_id": 46894210, "question_id": 46887880, "link": "https://stackoverflow.com/questions/46887880/how-to-force-join-type-for-dbixclass-orm/46894210#46894210", "title": "How to force join type for DBIx::Class ORM?", "body": "<p>The join type is defined by the relationship in your DBIC schema.\nWhen you need a different join type for a search it is recommended to just define another relationship with this join type, e.g. <code>has_many('Subnets_full_join', ...)</code> and use this in the search instead of the regular one.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1508776189, "creation_date": 1508756872, "question_id": 46887880, "link": "https://stackoverflow.com/questions/46887880/how-to-force-join-type-for-dbixclass-orm", "title": "How to force join type for DBIx::Class ORM?", "body": "<p>I have code:</p>\n\n<pre><code>$self-&gt;search_related( 'Servers', {\n    'Servers.active' =&gt; 'yes',\n    'Ips.state'      =&gt; 0,\n},{\n    join =&gt; { Subnets =&gt; 'Ips' }\n})-&gt;as_query;\n</code></pre>\n\n<p>which produces:</p>\n\n<pre><code>SELECT \"me\".\"id\", \"me\".\"active\", \"me\".\"ip_id\", \"me\".\"locality_id\", \"me\".\"hostname\", \"me\".\"ca_certificate\", \"me\".\"openvpn_static_key\", \"me\".\"l2tp_key\", \"me\".\"description\", \"me\".\"notes\" \nFROM \"servers\" \"me\" \nLEFT JOIN \"subnets\" \"Subnets\" ON \"Subnets\".\"server_id\" = \"me\".\"id\" \nLEFT JOIN \"ips\" \"Ips\" ON \"Ips\".\"subnet_id\" = \"Subnets\".\"id\" \nWHERE ( ( \"Ips\".\"state\" = ? AND \"Servers\".\"active\" = ? AND \"me\".\"locality_id\" = ? ) )\n</code></pre>\n\n<p>I may rewrite this code by:</p>\n\n<pre><code>$self-&gt;search_related( 'Servers', { active =&gt; 'yes' } )\n  -&gt;search_related( 'Subnets' )\n  -&gt;search_related( 'Ips', { state =&gt; 0 } )\n  -&gt;as_query\n</code></pre>\n\n<p>Which will produce: </p>\n\n<pre><code>SELECT \"Ips\".\"id\", \"Ips\".\"subnet_id\", \"Ips\".\"ip\", \"Ips\".\"package_id\", \"Ips\".\"state\", \"Ips\".\"notes\" \nFROM \"servers\" \"me\"  \nJOIN \"subnets\" \"Subnets\" ON \"Subnets\".\"server_id\" = \"me\".\"id\"  \nJOIN \"ips\" \"Ips\" ON \"Ips\".\"subnet_id\" = \"Subnets\".\"id\" \nWHERE ( ( \"active\" = ? AND \"me\".\"locality_id\" = ? AND \"state\" = ? ) )\n</code></pre>\n\n<p>But is there a way for first case force <code>JOIN</code> instead of <code>LEFT JOIN</code>?</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1508754182, "post_id": 46887031, "comment_id": 80721095, "body": "&quot;I get nothing in return therefore I think it has made a connection&quot; \u2014 Well, yes. Have you read the documentation for the module to see how to transfer files after you&#39;ve made a connection?"}, {"owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1508754305, "post_id": 46887031, "comment_id": 80721169, "body": "no i have not, this is all new to me therefore im confused. you able to show me or put me in the right direction?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1508754358, "post_id": 46887031, "comment_id": 80721205, "body": "<a href=\"https://duckduckgo.com/?q=documentation+for+Net%3A%3AFTP+perl+module\" rel=\"nofollow noreferrer\">duckduckgo.com/?q=documentation+for+Net%3A%3AFTP+perl+module</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508765178, "post_id": 46887031, "comment_id": 80728171, "body": "I don&#39;t understand what you&#39;re asking. You seem to have written some Perl and you say it appears to work. What more do you want to know?"}, {"owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "edited": false, "score": 0, "creation_date": 1508765274, "post_id": 46887031, "comment_id": 80728248, "body": "i am trying to copy a csv file from desktop to the FTP sever which is not working. I said the connecting to the FTP sever is working.  so the issue is the CSV file not being able to copy to FTP"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1508818933, "post_id": 46887031, "comment_id": 80750986, "body": "Your question does not contain any useful error description, i.e. the only information one can extract is that something is not working as you expected. It might be useful to show more clear what you expect your code to do and what it does instead. To debug Net::FTP you can use <code>Net::FTP-&gt;new($host, Debug =&gt;1)</code> and include the output you get into your question."}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "edited": false, "score": 0, "creation_date": 1508756503, "post_id": 46887401, "comment_id": 80722489, "body": "am i putting the dir where i want the file to go e.g the ftp? also my file name is always changing for example - the file name right now is - File_2017_10_23 - 11.07.51 (as you can see it garbs the current date and time). how can i make the perl script to understand my file name?"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "edited": false, "score": 0, "creation_date": 1508759499, "post_id": 46887401, "comment_id": 80724369, "body": "ok, that is not part of the original question. edit your question and add the full question explaining how the files gets created, is this the only file or what?"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "edited": false, "score": 0, "creation_date": 1508759710, "post_id": 46887401, "comment_id": 80724491, "body": "<i>am getting error of &#39;unable to put filename.csv</i> because you need to give it the correct name, filename.csv is just what I used as a demo"}, {"owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "edited": false, "score": 0, "creation_date": 1508759778, "post_id": 46887401, "comment_id": 80724539, "body": "i have updated my post and i renamed the csv to be filename and try your code but it still gave me the error message"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "edited": false, "score": 0, "creation_date": 1508759818, "post_id": 46887401, "comment_id": 80724574, "body": "@Rich is your script in the same directory as the CSV files?"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "edited": false, "score": 0, "creation_date": 1508759972, "post_id": 46887401, "comment_id": 80724669, "body": "@Rich please add your actual code in your question edit so I can see, not the code I gave you so I can see where the problem is. You are welcome to change your username, password and hostname though for security reasons."}, {"owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "edited": false, "score": 0, "creation_date": 1508762953, "post_id": 46887401, "comment_id": 80726689, "body": "my code was in the original post where i was asking on how to move/copy a file. then i used your code and now i am getting errors on &#39;unable to put filename.csv"}, {"owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "edited": false, "score": 0, "creation_date": 1508764097, "post_id": 46887401, "comment_id": 80727419, "body": "that is the dir i am using (please see updated post)"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "edited": false, "score": 1, "creation_date": 1508764712, "post_id": 46887401, "comment_id": 80727857, "body": "that is not going to work. We are doing the cwd on the FTP server. so if you want to place it in the default dir, then remove the entire <code>$f-&gt;cwd($dir) or die &quot;Unable to cwd to $dir\\n&quot;;</code> line from the script"}, {"owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "edited": false, "score": 0, "creation_date": 1508765115, "post_id": 46887401, "comment_id": 80728138, "body": "what if i want to copy the file which is on desktop to the FTP sever do i put my $dir = &#39;/root&#39;; ?"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "edited": false, "score": 0, "creation_date": 1508824472, "post_id": 46887401, "comment_id": 80752829, "body": "yes, that is however if your user has rights to write to root."}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 0, "last_activity_date": 1508755236, "creation_date": 1508755236, "answer_id": 46887401, "question_id": 46887031, "link": "https://stackoverflow.com/questions/46887031/how-to-move-a-file-locally-to-a-ftp-sever/46887401#46887401", "title": "How to move a file locally to a FTP sever", "body": "<p>This is fairly simple. You need to <code>cwd</code> to where you would like to place the file and then <code>put</code> it there. This is however not moving the file, just copying it. If you want to move it, rather copy and delete locally.</p>\n\n<pre><code>use strict;           # Don't forget !\nuse Net::FTP;\n\nmy $host = \"your.favorite.server\";\nmy $user = \"user\";\nmy $password = \"password\";\nmy $put_file = 'filename.csv';\nmy $dir = '/dir/goes/here';\nmy $f = Net::FTP-&gt;new($host) or die \"Can't open $host\\n\";\n$f-&gt;login($user, $password) or die \"Can't log $user in\\n\";\n$f-&gt;cwd($dir) or die \"Unable to cwd to $dir\\n\";\n$f-&gt;put($put_file) or die \"Unable to put $put_file\\n\";\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 8753426, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a663bd8f9bba2e4462a8759d4eb00156?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/8753426/rich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1508764071, "creation_date": 1508754079, "last_edit_date": 1508764071, "question_id": 46887031, "link": "https://stackoverflow.com/questions/46887031/how-to-move-a-file-locally-to-a-ftp-sever", "title": "How to move a file locally to a FTP sever", "body": "<p>I am trying to connect to a FTP server using perl. I am using the below code and when I run the code in CMD I get nothing in return therefore I think it has made a connection.</p>\n\n<p>I am wondering if there is a way copy a CSV file from my desktop to the FTP sever. However the CSV filename is different every time for example,</p>\n\n<pre><code>File_2017_10_23 - 10.29.20\nFile_2017_10_23 - 13.40.20\n</code></pre>\n\n<p>As you can see the CSV file grabs the current date and time every time the file is generated.</p>\n\n<p>I am using WINSCP to connect to my FTP server.</p>\n\n<p>The perl script:</p>\n\n<pre><code> use strict;           # Don't forget !\nuse Net::FTP;\n\nmy $host = \"your.favorite.server\";\nmy $user = \"user\";\nmy $password = \"password\";\nmy $put_file = 'filename.csv';\nmy $dir = 'C:\\Users\\Rich\\Desktop';\nmy $f = Net::FTP-&gt;new($host) or die \"Can't open $host\\n\";\n$f-&gt;login($user, $password) or die \"Can't log $user in\\n\";\n$f-&gt;cwd($dir) or die \"Unable to cwd to $dir\\n\";\n$f-&gt;put($put_file) or die \"Unable to put $put_file\\n\";\n</code></pre>\n\n<p>Could someone show me how this is done please.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4163, "user_id": 6401403, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5e6e113b3335b200f4d4946e1bcaff84?s=128&d=identicon&r=PG&f=1", "display_name": "Michael O.", "link": "https://stackoverflow.com/users/6401403/michael-o"}, "edited": false, "score": 1, "creation_date": 1508750589, "post_id": 46885723, "comment_id": 80718951, "body": "Can&#39;t understand what you want. Where are the quotes, and what exactly do you want?"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1508750623, "post_id": 46885723, "comment_id": 80718977, "body": "I don&#39;t see any quotes to be removed?"}], "answers": [{"tags": [], "owner": {"reputation": 2496, "user_id": 2469275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b7EZh.png?s=128&g=1", "display_name": "janh", "link": "https://stackoverflow.com/users/2469275/janh"}, "is_accepted": true, "score": 2, "last_activity_date": 1508750770, "creation_date": 1508750770, "answer_id": 46885934, "question_id": 46885723, "link": "https://stackoverflow.com/questions/46885723/removing-quotes-from-the-second-last-slash-in-a-string/46885934#46885934", "title": "Removing quotes from the second last slash in a string", "body": "<p>From your input and your desired output, I guess you're talking about path parts, not quotes.</p>\n\n<pre><code>$str =~ s![^/]+/[^/]+$!!;\n</code></pre>\n\n<p>That should work. It's matching from the end of the string (\"$\") and then just looks for two strings that don't contain a slash with a slash between them.</p>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 1, "last_activity_date": 1508761164, "creation_date": 1508761164, "answer_id": 46889201, "question_id": 46885723, "link": "https://stackoverflow.com/questions/46885723/removing-quotes-from-the-second-last-slash-in-a-string/46889201#46889201", "title": "Removing quotes from the second last slash in a string", "body": "<p>If you are working with file systems, it's best to use the standard modules that come with Perl.</p>\n\n<pre><code>my $path = '/some/path/hello/hi/bye/try.pl';\nprint \"Original : $path\\n\";\n\nuse File::Basename;\nprint 'via File::Basename dirname : ', dirname( dirname( $path )), \"\\n\";\n\nuse File::Spec::Functions qw( :ALL );\nmy @path = splitdir( $path );\nprint 'via File::Spec::Functions splitdir : ', catdir( @path[ 0 .. $#path-2 ] ), \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4991056, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a881503bc92a1f9ddf2155e5da35a471?s=128&d=identicon&r=PG&f=1", "display_name": "beginner", "link": "https://stackoverflow.com/users/4991056/beginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 46885934, "answer_count": 2, "score": -4, "last_activity_date": 1508761164, "creation_date": 1508750077, "last_edit_date": 1508751860, "question_id": 46885723, "link": "https://stackoverflow.com/questions/46885723/removing-quotes-from-the-second-last-slash-in-a-string", "title": "Removing quotes from the second last slash in a string", "body": "<p>For example, I have a string that is</p>\n\n<pre><code>/..../.../hello/hi/bye/try.pl\n</code></pre>\n\n<p>Is there any way I can remove all the quotes from the second last slash character? I'm suppose to get this return string</p>\n\n<pre><code>/..../.../hello/hi/\n</code></pre>\n\n<p>I'm hoping to be able to solve this problem using a regex solution.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508727596, "post_id": 46881311, "comment_id": 80709926, "body": "Uninitialized actually means undefined (through lack of initialization or otherwise)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508727655, "post_id": 46881311, "comment_id": 80709945, "body": "What happens if the condition in <code>if (length $sequence1 &lt; length $sequence2[$a]) { ... }</code> is false..."}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508727723, "post_id": 46881311, "comment_id": 80709963, "body": "I know that, but I think I define it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508727750, "post_id": 46881311, "comment_id": 80709968, "body": "You never assign anything to it, so it&#39;s undefined."}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508728659, "post_id": 46881311, "comment_id": 80710135, "body": "That&#39;s exactly my question. I define <code>$sequence2_new</code> by <code>$sequence2_new = substr ($sequence2[$a], 0, length $sequence1);</code> but perl still tells me it&#39;s undefined. How can I solve this problem?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508729091, "post_id": 46881311, "comment_id": 80710231, "body": "No, you don&#39;t execute that when <code>length $sequence1 &lt; length $sequence2[$a]</code> is false. I ask again: What happens when <code>length $sequence1 &lt; length $sequence2[$a]</code> is false?"}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508729757, "post_id": 46881311, "comment_id": 80710383, "body": "That&#39;s a good point, so I rewrite this part of code:<code>if (length $sequence1 &lt; length $sequence2[$a]){ \t\t$sequence2_new = substr ($sequence2[$a], 0, length $sequence1); \t\t$sequence1_new = $sequence1; \t}elsif (length $sequence1 &gt; length $sequence2[$a]){ \t\t$sequence1_new = substr($sequence1, 0, length $sequence2[$a]); \t\t$sequence2_new = $sequence2[$a]; \t}</code>However the problem still exists."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508729957, "post_id": 46881311, "comment_id": 80710422, "body": "Of course it does. You still use <code>$sequence2_new</code> without assigning anything to it when <code>length $sequence1 &lt; length $sequence2[$a]</code> is false."}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508730550, "post_id": 46881311, "comment_id": 80710541, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/157250/discussion-between-wenjia-zhai-and-ikegami\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 1, "creation_date": 1508763916, "post_id": 46889323, "comment_id": 80727298, "body": "Thank you! It&#39;s exactly the problem."}], "tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": true, "score": 3, "last_activity_date": 1508761540, "creation_date": 1508761540, "answer_id": 46889323, "question_id": 46881311, "link": "https://stackoverflow.com/questions/46881311/error-of-use-of-uninitialized-value/46889323#46889323", "title": "error of &quot;Use of uninitialized value&quot;", "body": "<p>In this code, you do not assign a value to <code>$sequence2_new</code> when the <code>if</code> condition is false. That means it remains <code>undef</code>. </p>\n\n<pre><code>my $sequence2_new;\nif (length $sequence1 &lt; length $sequence2[$a]){\n    $sequence2_new = substr ($sequence2[$a], 0, length $sequence1);\n}\n</code></pre>\n\n<p>Try assigning a value to it:</p>\n\n<pre><code>my $sequence2_new = '';\nif (length $sequence1 &lt; length $sequence2[$a]){\n    $sequence2_new = substr ($sequence2[$a], 0, length $sequence1);\n}\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 938, "favorite_count": 0, "accepted_answer_id": 46889323, "answer_count": 1, "score": 0, "last_activity_date": 1508761540, "creation_date": 1508727256, "last_edit_date": 1508727499, "question_id": 46881311, "link": "https://stackoverflow.com/questions/46881311/error-of-use-of-uninitialized-value", "title": "error of &quot;Use of uninitialized value&quot;", "body": "<p>previously I asked about a problem regarding my homework to calculate the alignment score of two protein sequences:\n<a href=\"https://stackoverflow.com/questions/46877801/how-to-pass-a-variable-to-different-if-statement\">how to pass a variable to different if statement</a>\nHowever, I missed a significant amount of information in the question so I have to rewrite the code. </p>\n\n<p>Now my code is done, but I have a warning as <code>Use of uninitialized value $sequence2_new in split at alignment_sequence.pl line 52.</code> Following this warning, there are numerous warning as <code>Use of uninitialized value in string eq at alignment_sequence.pl line 56.</code>I understand it because I have an uninitialized value, but I can't understand how it is uninitialized. My code is following:</p>\n\n<pre><code>#!/usr/in/perl\n\nuse warnings;\nuse strict;\nuse feature qw(say);\n\nmy $infile1 = \"cystic_fibrosis.fasta\";\nmy $inFH1;\nunless (open($inFH1, \"&lt;\", $infile1)){\n    die join (' ', \"Can't open\", $infile1, $!)\n}\nmy @seq = &lt;$inFH1&gt;;\nclose $inFH1;\nshift @seq;\nmy $sequence1 = join(\"\", @seq);\n$sequence1 =~ s/\\n//g;\n#parse the query sequence\n\nmy $infile2 = \"sequence_collection.fasta\";\nmy $inFH2;\nunless (open($inFH2, \"&lt;\", $infile2)){\n    die join (' ', \"Can't open\", $infile2, $!)\n}\nmy $beginning = 1;\nmy @sequence2;\nmy $sequence2 = \"\";\nwhile (my $line = &lt;$inFH2&gt;){\n    chomp $line;\n    my $chr = substr($line, 0, 1);\n    if ($chr ne \"&gt;\"){\n        $sequence2 = $sequence2.$line;\n    }else {\n        if (! $beginning){\n            push @sequence2, $sequence2;\n            $sequence2 = \"\";\n        }elsif ($beginning){\n            $beginning = 0;\n        }\n    }\n}\nclose $inFH2;\n#parse multiple sequence\n\nmy $element = scalar(@sequence2);\nfor ($a = 0; $a &lt; $element; $a++ ){\n    my $sequence2_new;\n    if (length $sequence1 &lt; length $sequence2[$a]){\n        $sequence2_new = substr ($sequence2[$a], 0, length $sequence1);\n    }\n\n    my @sequence1_new = split('', $sequence1);\n    my @sequence2_new = split('', $sequence2_new);\n    my $element_new = scalar(@sequence1_new);\n\n    my $num = 0;\n    for ($b = 0; $b &lt; $element_new; $b++){\n        if ($sequence1_new[$b] eq $sequence2_new[$b]){\n            $num++;\n        }\n    }\n\n    my $score = $num / length $sequence1;\n    say $sequence1;\n    say $sequence2[$a];\n    say \"\\n\";\n    print \"The alignment score is: \";\n    printf(\"%.2f\", $score);\n    say \"\\n\\n\";\n}\n</code></pre>\n\n<p>The file <code>cystic_fibrosis.fasta</code> contains:</p>\n\n<pre><code>&gt;gi|90421313|ref|NP_000483.3| cystic fibrosis transmembrane conductance regulator [Homo sapiens]\nMQRSPLEKASVVSKLFFSWTRPILRKGYRQRLELSDIYQIPSVDSADNLSEKLEREWDRELASKKNPKLI\nNALRRCFFWRFMFYGIFLYLGEVTKAVQPLLLGRIIASYDPDNKEERSIAIYLGIGLCLLFIVRTLLLHP\nAIFGLHHIGMQMRIAMFSLIYKKTLKLSSRVLDKISIGQLVSLLSNNLNKFDEGLALAHFVWIAPLQVAL\nLMGLIWELLQASAFCGLGFLIVLALFQAGLGRMMMKYRDQRAGKISERLVITSEMIENIQSVKAYCWEEA\nMEKMIENLRQTELKLTRKAAYVRYFNSSAFFFSGFFVVFLSVLPYALIKGIILRKIFTTISFCIVLRMAV\nTRQFPWAVQTWYDSLGAINKIQDFLQKQEYKTLEYNLTTTEVVMENVTAFWEEGFGELFEKAKQNNNNRK\nTSNGDDSLFFSNFSLLGTPVLKDINFKIERGQLLAVAGSTGAGKTSLLMVIMGELEPSEGKIKHSGRISF\nCSQFSWIMPGTIKENIIFGVSYDEYRYRSVIKACQLEEDISKFAEKDNIVLGEGGITLSGGQRARISLAR\nAVYKDADLYLLDSPFGYLDVLTEKEIFESCVCKLMANKTRILVTSKMEHLKKADKILILHEGSSYFYGTF\nSELQNLQPDFSSKLMGCDSFDQFSAERRNSILTETLHRFSLEGDAPVSWTETKKQSFKQTGEFGEKRKNS\nILNPINSIRKFSIVQKTPLQMNGIEEDSDEPLERRLSLVPDSEQGEAILPRISVISTGPTLQARRRQSVL\nNLMTHSVNQGQNIHRKTTASTRKVSLAPQANLTELDIYSRRLSQETGLEISEEINEEDLKECFFDDMESI\nPAVTTWNTYLRYITVHKSLIFVLIWCLVIFLAEVAASLVVLWLLGNTPLQDKGNSTHSRNNSYAVIITST\nSSYYVFYIYVGVADTLLAMGFFRGLPLVHTLITVSKILHHKMLHSVLQAPMSTLNTLKAGGILNRFSKDI\nAILDDLLPLTIFDFIQLLLIVIGAIAVVAVLQPYIFVATVPVIVAFIMLRAYFLQTSQQLKQLESEGRSP\nIFTHLVTSLKGLWTLRAFGRQPYFETLFHKALNLHTANWFLYLSTLRWFQMRIEMIFVIFFIAVTFISIL\nTTGEGEGRVGIILTLAMNIMSTLQWAVNSSIDVDSLMRSVSRVFKFIDMPTEGKPTKSTKPYKNGQLSKV\nMIIENSHVKKDDIWPSGGQMTVKDLTAKYTEGGNAILENISFSISPGQRVGLLGRTGSGKSTLLSAFLRL\nLNTEGEIQIDGVSWDSITLQQWRKAFGVIPQKVFIFSGTFRKNLDPYEQWSDQEIWKVADEVGLRSVIEQ\nFPGKLDFVLVDGGCVLSHGHKQLMCLARSVLSKAKILLLDEPSAHLDPVTYQIIRRTLKQAFADCTVILC\nEHRIEAMLECQQFLVIEENKVRQYDSIQKLLNERSLFRQAISPSDRVKLFPHRNSSKCKSKPQIAALKEE\nTEEEVQDTRL\n</code></pre>\n\n<p>The file <code>sequence_collection.fasta</code> contains 100 similar blocks:</p>\n\n<pre><code>&gt;gi|1100985|gb|AAC48608.1| CFTR chloride channel [Oryctolagus cuniculus]\nMQRSPLEKAGVLSKLFFSWTRPILRKGYRQRLELSDIYQIPSADSADNLSEKLEREWDRELASKKNPKLI\nNALRRCFFWRFMFYGIFLYLGEVTKAVQPLLLGRIIASYDPDNKEERSIAIYLGIGLCLLFVVRTLLLHP\nAIFGLHHIGMQMRIAMFSLIYKKGLALAHFVWISPLQVTLLMGLLWELLQASAFCGLAFLIVLALVQAGL\nGRMMMKYRDQRAGKINERLVITSEMIENIQSVKAYCWEEAMEKMIENLRQTELKLTRKAAYVRYFNSSAF\nFFSGFFVVFLSVLPYALTKGIILRKIFTTISFCIVLRMAVTRQFPWAVQTWYDSLGAINKIQDFLQKQEY\nKTLEYNLTTTEVVMDNVTAFWEEGFGELFEKAKQNNSDRKISNGDNNLFFSNFSLLGAPVLEDISFKIER\nGQLLAVAGSTGAGKTSLLMMITGELEPSEGKIKHSGRISFCSQFSWIMPGTIKENIIFGVSYDEYRYRSV\nIKACQLEEDISKFTEKDNTVLGEGGITLSGGQRARISLARAVYKDADLYLLDSPFGYLDVLTEKEIFESC\nVCKLMANKTRIMVTSKMEHLKKADKILILHEGSSYFYGTFSELQSLRPDFSSKLMGYDSFDQFSAERRNS\nILTETLRRFSLEGDASVSWNDTRKQSFKQNGELGEKRKNSILNPVNSMRKFSIVLKTPLQMNGIEEDSDA\nTIERRLSLVPDSEQGEAILPRSNMINTGPMLQGCRRQSVLNLMTHSVSQGPSIYRRTTTSTRKMSLAPQT\nNLTEMDIYSRRLSQESGLEISEEINEEDLKECFIDDVDSIPTVTTWNTYLRYITVHRSLIFVLIWCIVIF\nLAEVAASLVVLWLFGNTAPQDKENSTKSGNSSYAVIITNTSSYYFFYIYVGVADTLLALGLFRGLPLVHT\nLITVSKILHHKMLHSVLQAPMSTLNTLKAGGILNRFSKDIAILDDLLPLTIFDFIQLLLIVVGAIAVVSV\nLQPYIFLATVPVIAAFILLRAYFLHTSQQLKQLESEGRSPIFTHLVTSLKGLWTLRAFGRQPYFETLFHK\nALNLHTANWFLYLSTLRWFQMRIEMIFVLFFIAVAFISILTTGEGEGRVGIILTLAMNIMSTLQWAVNSS\nIDVDSLMQSVSRVFMFIDMPTEAKSTKSIKPSSNCQLSKVMIIENQHVKKDDVWPSGGQMTVKGLTAKYI\nDSGNAILENISFSISPGQRVGLLGRTGSGKSTLLSAFLRLLSTEGEIQIDGVSWDSITLQQWRKAFGVIP\nQKVFIFSGTFRKNLDPYEQWSDQEIWKVADEVGLRSVIEQFPGKLDFVLVDGGYVLSHGHKQLMCLARSV\nLSKAKILLLDEPSAHLDPITYQIIRRTLKQAFADCTVILCEHRIEAMLECQRFLVIEENTVRQYESIQKL\nLSEKSLFRQAISSSDRAKLFPHRNSSKHKSRPQITALKEEAEEEVQGTRL\n</code></pre>\n\n<p>Sorry I know it's very redundant. I will greatly appreciate any suggestions.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1508725370, "post_id": 46881098, "comment_id": 80709449, "body": "Which tool/language are you using for your regex?"}, {"owner": {"reputation": 97, "user_id": 4010164, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6e047ccfef3f6e0119f254d858bb2c12?s=128&d=identicon&r=PG&f=1", "display_name": "Rory Perry", "link": "https://stackoverflow.com/users/4010164/rory-perry"}, "reply_to_user": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1508725455, "post_id": 46881098, "comment_id": 80709465, "body": "I am using Perl"}, {"owner": {"reputation": 23234, "user_id": 4333555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i9zgM.jpg?s=128&g=1", "display_name": "chris85", "link": "https://stackoverflow.com/users/4333555/chris85"}, "edited": false, "score": 0, "creation_date": 1508726137, "post_id": 46881098, "comment_id": 80709609, "body": "Is that format consistent? Is it <code>column8</code> or the 8th instance of <code>column_:</code>?"}, {"owner": {"reputation": 97, "user_id": 4010164, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6e047ccfef3f6e0119f254d858bb2c12?s=128&d=identicon&r=PG&f=1", "display_name": "Rory Perry", "link": "https://stackoverflow.com/users/4010164/rory-perry"}, "edited": false, "score": 0, "creation_date": 1508726166, "post_id": 46881098, "comment_id": 80709616, "body": "Consistent formatting"}, {"owner": {"reputation": 23234, "user_id": 4333555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i9zgM.jpg?s=128&g=1", "display_name": "chris85", "link": "https://stackoverflow.com/users/4333555/chris85"}, "edited": false, "score": 1, "creation_date": 1508726258, "post_id": 46881098, "comment_id": 80709632, "body": "Maybe <code>((?:column\\d+:){1,8}).*</code>? Then replace with <code>\\1</code>."}, {"owner": {"reputation": 97, "user_id": 4010164, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6e047ccfef3f6e0119f254d858bb2c12?s=128&d=identicon&r=PG&f=1", "display_name": "Rory Perry", "link": "https://stackoverflow.com/users/4010164/rory-perry"}, "edited": false, "score": 0, "creation_date": 1508726498, "post_id": 46881098, "comment_id": 80709683, "body": "Not quite. I want to find and delete the instances after 8."}, {"owner": {"reputation": 23234, "user_id": 4333555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i9zgM.jpg?s=128&g=1", "display_name": "chris85", "link": "https://stackoverflow.com/users/4333555/chris85"}, "edited": false, "score": 0, "creation_date": 1508726865, "post_id": 46881098, "comment_id": 80709755, "body": "Seems to work, <code>echo &quot;column1:column2:column3:column4:column5:column6:column7:col&zwnj;&#8203;umn8:column9:column1&zwnj;&#8203;0&quot; | perl -ne &#39;s&#47;((?:column\\d+:){1,8}).*&#47;\\1&#47;g; print;&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "edited": false, "score": 0, "creation_date": 1508956847, "post_id": 46881565, "comment_id": 80826759, "body": "Your first suggestion should use the range [0..7] else you will miss column one and include column 9. Your second suggestion removes the last two columns instead of keeping the first eight"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "edited": false, "score": 0, "creation_date": 1508957063, "post_id": 46881565, "comment_id": 80826883, "body": "@Ken Schumack, What was I thinking? Fixed."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1508957048, "last_edit_date": 1508957048, "creation_date": 1508729547, "answer_id": 46881565, "question_id": 46881098, "link": "https://stackoverflow.com/questions/46881098/regex-with-colons-in-data/46881565#46881565", "title": "Regex With Colons in Data", "body": "<pre><code>$_ = join \":\", ( split /:/, $_, -1 )[0..7];\n</code></pre>\n\n<p>or</p>\n\n<pre><code>s/(?::[^:]*){2}\\z//;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "edited": false, "score": 0, "creation_date": 1508956348, "post_id": 46895580, "comment_id": 80826470, "body": "\\K (keep ??) -- cool! I have not used that before. I would have used the longer: s/^([^:]*(?::[^:]*){7}).*/$1/;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "edited": false, "score": 0, "creation_date": 1508957138, "post_id": 46895580, "comment_id": 80826930, "body": "@Ken Schumack, Introducing captures slows down the matching."}, {"owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508957910, "post_id": 46895580, "comment_id": 80827352, "body": "@ikegami  yes I know. I was just so happy to find out about the \\K modifier. I have never noticed it in any documentation before but I was delighted to &quot;discover&quot; it in this post. Perl certainly is a rich language! BTW: I looked through the output of perldoc perlretut and did not see any mention of \\K. Anyone know which perl doc would contain information on it? I&#39;m wondering of course which other modifiers I do not know about :-)"}, {"owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "edited": false, "score": 0, "creation_date": 1508981609, "post_id": 46895580, "comment_id": 80836333, "body": "Found it: perldoc perlre"}], "tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": false, "score": 2, "last_activity_date": 1508781124, "creation_date": 1508781124, "answer_id": 46895580, "question_id": 46881098, "link": "https://stackoverflow.com/questions/46881098/regex-with-colons-in-data/46895580#46895580", "title": "Regex With Colons in Data", "body": "<p>The following regex will keep the first 8 columns and discard all others.  </p>\n\n<pre><code>s/^[^:]*(?::[^:]*){7}\\K.*//;\n</code></pre>\n\n<p>Assumes simple single line records.</p>\n"}], "owner": {"reputation": 97, "user_id": 4010164, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6e047ccfef3f6e0119f254d858bb2c12?s=128&d=identicon&r=PG&f=1", "display_name": "Rory Perry", "link": "https://stackoverflow.com/users/4010164/rory-perry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1508957048, "creation_date": 1508725283, "last_edit_date": 1508726279, "question_id": 46881098, "link": "https://stackoverflow.com/questions/46881098/regex-with-colons-in-data", "title": "Regex With Colons in Data", "body": "<p>I have a text file which I'm looking to remove some data from. The data is separated using a colon ':' as the delimiter. There are approx 9 separations. The data after the 7th column is most often null and thus useless but the additional colons are still there.</p>\n\n<p>An example of the file would like this:</p>\n\n<pre><code>column1:column2:column3:column4:column5:column6:column7:column8:column9:column10\n</code></pre>\n\n<p>I hope to remove the info from after column8. So the data to be removed would be:</p>\n\n<pre><code>:column9:column10\n</code></pre>\n\n<p>Could someone advise me how to do so in Regex?</p>\n\n<p>I've been reading and no where have I found a way to isolate a colon and text following after x number of colons. </p>\n\n<p>Any help you could offer would be much appreciated.</p>\n"}, {"tags": ["javascript", "ajax", "perl", "html5-video", "client-server"], "comments": [{"owner": {"reputation": 767, "user_id": 1164124, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mNCTg.jpg?s=128&g=1", "display_name": "Milos", "link": "https://stackoverflow.com/users/1164124/milos"}, "edited": false, "score": 0, "creation_date": 1508717274, "post_id": 46880339, "comment_id": 80707909, "body": "Are you trying to save a video or a video url?"}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1508717995, "post_id": 46880339, "comment_id": 80708025, "body": "What is the purpose of <code>POST</code>ing <code>Blob URL</code> to server?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "is_accepted": false, "score": 1, "last_activity_date": 1508718715, "last_edit_date": 1508718715, "creation_date": 1508716993, "answer_id": 46880343, "question_id": 46880339, "link": "https://stackoverflow.com/questions/46880339/cant-save-uploaded-videos-blob-url-at-the-backend-server-using-ajax-call/46880343#46880343", "title": "Can&#39;t save uploaded video&#39;s blob URL at the backend server using AJAX call", "body": "<p>A <code>Blob URL</code>s lifetime is tied to the <code>document</code> where the <code>Blob URL</code> is created. If the <code>document</code> which created the <code>Blob URL</code> is closed the previously created <code>Blob URL</code> should be revoked, see <a href=\"https://w3c.github.io/FileAPI/#lifeTime\" rel=\"nofollow noreferrer\">8.6. Lifetime of Blob URLs</a>.</p>\n\n<p>You can <code>POST</code> the <code>Blob</code> or  <code>File</code> object itself to server <a href=\"https://stackoverflow.com/questions/37491759/trying-to-pass-todataurl-with-over-524288-bytes-using-input-type-text/\">Trying to Pass ToDataURL with over 524288 bytes Using Input Type Text</a>; or a <code>FormData</code> object with <code>File</code> set as value <a href=\"https://stackoverflow.com/questions/39218673/sending-formdata-with-a-binary-data-by-using-jquery-ajax/\">Sending FormData with a binary data by using jQuery AJAX</a>; or <code>data URI</code> representation of <code>File</code> object to server <a href=\"https://stackoverflow.com/questions/28856729/upload-multiple-image-using-ajax-php-and-jquery/\">Upload multiple image using AJAX, PHP and jQuery</a>.</p>\n"}], "owner": {"reputation": 63, "user_id": 8743332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a73688fadfa164a75c527e5e83cbef1d?s=128&d=identicon&r=PG&f=1", "display_name": "Ambr", "link": "https://stackoverflow.com/users/8743332/ambr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1417, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1508718715, "creation_date": 1508716923, "last_edit_date": 1508717044, "question_id": 46880339, "link": "https://stackoverflow.com/questions/46880339/cant-save-uploaded-videos-blob-url-at-the-backend-server-using-ajax-call", "title": "Can&#39;t save uploaded video&#39;s blob URL at the backend server using AJAX call", "body": "<p>I have a web page where user uploads a video file using html's \"input type = file\" tag, I am catching that uploaded video file in JavaScript function variable where it is coming as blob URL. \"blob:<a href=\"https://www.myownsite.com:8080/2e8cfd32-abf2-4db3-b396-91f76cc3b40c\" rel=\"nofollow noreferrer\">https://www.myownsite.com:8080/2e8cfd32-abf2-4db3-b396-91f76cc3b40c</a>\". I am not able to save this blob URL in my system.</p>\n\n<p>HTML code:</p>\n\n<pre><code>&lt;input type=\"file\" name=\"video_file_name\" accept=\"video/*\"&gt;\n&lt;input type=\"submit\" value=\"Upload Video\" id=\"customVideoSubmit\"&gt;\n&lt;button onClick=\"postVideo();\" id=\"customVideoSubmit\" aria- hidden=\"true\"&gt;Upload Video&lt;/button&gt;\n</code></pre>\n\n<p>JavaScript code:</p>\n\n<pre><code>function postVideo(){\n var blobURL = document.querySelector('video').src;\n    $.ajax({\n        type: 'POST',\n        url: 'https://myapplication.com',\n        data: { videoData : blobURL , mediafilename : fileName},\n        contentType: 'application/json; charset=utf-8',\n        dataType: 'json',\n        success: function() {\n            console.log(\"Video saved successfully.\");\n        }\n    });\n}\n</code></pre>\n\n<p>variable blobURL contains following blob URL, which plays video properly if I put this on a separate tab of that browser.</p>\n\n<pre><code>blob:https://www.myownsite.com:8080/2e8cfd32-abf2-4db3-b396-91f76cc3b40c\n</code></pre>\n\n<p>How can I save this blob video file in my system. I have tried number of JavaScript methods and also back end methods in my Perl code like?</p>\n\n<p>Nothing worked though. Any help will be much appreciated.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1508700629, "post_id": 46877902, "comment_id": 80703625, "body": "Thanks! I don&#39;t what is different between your answer and my attempt but it seems working now."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1508700748, "post_id": 46877902, "comment_id": 80703660, "body": "@WenjiaZhai: I thought I had explained that the declaration of <code>$sequence2_new</code> needs to be <i>outside</i> the <code>if</code>  block for it to survive outside that block. This is a core idea that you must understand as part of most computer languages."}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1508701781, "post_id": 46877902, "comment_id": 80704008, "body": "That&#39;s exactly what I did first. So I don&#39;t understand why I had a warning at first time but now it&#39;s working."}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1508702049, "post_id": 46877902, "comment_id": 80704092, "body": "I found the problem. It seems that I didn&#39;t chop correctly."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1508703077, "post_id": 46877902, "comment_id": 80704352, "body": "@WenjiaZhai: I wrote about that as well. I really don&#39;t understand what&#39;s tripping you up. There&#39;s another problem in that <code>$sequence2_new</code> will remain <code>undef</code> unless <code>$sequence1</code> is shorter than <code>$sequence2</code>, but I don&#39;t know what your code is supposed to be doing so I couldn&#39;t fix it. It will create a warning <code>Use of uninitialized value in split</code>."}, {"owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "edited": false, "score": 0, "creation_date": 1508704218, "post_id": 46877902, "comment_id": 80704733, "body": "It&#39;s a homework and I missed something. I need to rewrite the code completely."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1508698657, "last_edit_date": 1508698657, "creation_date": 1508698134, "answer_id": 46877902, "question_id": 46877801, "link": "https://stackoverflow.com/questions/46877801/how-to-pass-a-variable-to-different-if-statement/46877902#46877902", "title": "how to pass a variable to different if statement", "body": "<p>You need to declare <code>my $sequence2_new</code> <em>outside</em> the <code>if</code> statement. As you have it, the variable's life ends at the close of the <code>if</code> block</p>\n\n<p>Note also that</p>\n\n<pre><code>$sequence1 = chomp $sequence1\n</code></pre>\n\n<p>is wrong. It will set <code>$sequence1</code> to the number of characters that <code>chomp</code> removed\u2014probably 1 or 0. You want just</p>\n\n<pre><code>chomp $sequence1\n</code></pre>\n\n<p>You also have <code>if ( $sequence1[$a] = $sequence2[$a] ) { ... }</code> which is an <em>assignment</em>. Presumably you want the comparator <code>eq</code> here?</p>\n\n<p>Here's how I think your code should look, but I'm not at all sure about chopping off the beginning of <code>$sequence2</code> if it is longer than <code>$sequence1</code>; that doesn't seem at all right, but I have no way of knowing for sure</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw(say);\n\nprint \"Please enter the first sequence: \";\nchomp ( my $sequence1 = &lt;&gt; );\n\nprint \"Please enter the second sequence: \";\nchomp ( my $sequence2 = &lt;&gt; );\n\nmy $sequence2_new;\nif ( length $sequence1 &lt; length $sequence2 ) {\n    $sequence2_new = substr $sequence2, length $sequence1;\n}\n\nmy @sequence1 = split /,/, $sequence1;\nmy @sequence2 = split /,/, $sequence2_new;\n\nmy $num = 0;\n\nfor my $a ( 0 .. $#sequence1 ) {\n\n    ++$num if $sequence1[$a] eq $sequence2[$a];\n}\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 8715949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1033927556749986/picture?type=large", "display_name": "Wenjia Zhai", "link": "https://stackoverflow.com/users/8715949/wenjia-zhai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 46877902, "answer_count": 1, "score": -1, "last_activity_date": 1508698657, "creation_date": 1508697535, "question_id": 46877801, "link": "https://stackoverflow.com/questions/46877801/how-to-pass-a-variable-to-different-if-statement", "title": "how to pass a variable to different if statement", "body": "<p>I'm really confused about how to pass a variable into different statement. My code is:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature qw(say);\n\nsay \"Please enter the first sequence:\";\nmy $sequence1 = &lt;STDIN&gt;;\n$sequence1 = chomp $sequence1;\nsay \"Please enter the second sequence:\";\nmy $sequence2 = &lt;STDIN&gt;;\n$sequence2 = chomp $sequence2;\n\nif (length $sequence1 &lt; length $sequence2){\n        my $sequence2_new = substr $sequence2, length $sequence1;\n}\n\nmy @sequence1 = split(',', $sequence1);\nmy @sequence2 = split(',', $sequence2_new);\nmy $element = scalar @sequence1;\n\nmy $num = 0;\nfor ($a = 0; $a &lt; $element; $a++){\n        if ($sequence1[$a] = $sequence2[$a]){\n                $num++;\n        }\n}\n\nmy $score = $num % length $sequence2;\nsay \"The alignment score is: $score\";\n</code></pre>\n\n<p>In this case, this program will return a <code>Global symbol \"$sequence2_new\" requires explicit package name at alignment_sequence.pl line 19.</code>mistake. If I move the \"my\" declaration in front of if statement in line 14 like <code>my $sequence2_new;</code> it will give me <code>Use of uninitialized value $sequence2_new in split at alignment_sequence.pl line 20, &lt;STDIN&gt; line 2.</code> warning.</p>\n"}, {"tags": ["perl", "conditional-compilation"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508708296, "post_id": 46877733, "comment_id": 80705932, "body": "I don&#39;t think <code>$^O</code> is ever <code>MSWin64</code>"}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1508698791, "post_id": 46877848, "comment_id": 80703012, "body": "Thanks Amon!   eval idea works.  (I didn&#39;t know that the eval block was compiled later.)      But the other idea does not seem to work.   Is &quot;use if ... &quot;  the same as &quot;require Win32 if ...&quot;?   Won&#39;t that still lead to a compilation error on the MB_ICONINFORMATION line?   Maybe I am missing something.    The real issue for me is to defer the compilation of that line."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1508699049, "post_id": 46877848, "comment_id": 80703107, "body": "You can also combine the <code>use if</code> technique with a custom module that contains your OS specific code."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 1, "creation_date": 1508699139, "post_id": 46877848, "comment_id": 80703136, "body": "@ShangZhang As amon said, you can do everything at runtime: <code>if ($^O eq &#39;MSWin32&#39;) { require Win32; Win32::MsgBox(&quot;Aloha!&quot;, Win32::MB_ICONINFORMATION(), &#39;Win32 Msgbox&#39;); }</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1508699190, "post_id": 46877848, "comment_id": 80703160, "body": "By the way, I don&#39;t think <code>MSWin64</code> is a thing. I&#39;m running a 64-bit Perl on a 64-bit Windows OS, and it still has <code>$^O = &#39;MSWin32&#39;</code>."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1508699336, "post_id": 46877848, "comment_id": 80703204, "body": "@melpomene You are right, this is also explained in <a href=\"http://perldoc.perl.org/perlport.html\" rel=\"nofollow noreferrer\"><code>perldoc perlport</code></a>. I just copied the code from the question. Correcting that now."}, {"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1508699451, "post_id": 46877848, "comment_id": 80703241, "body": "Sorry that I missed Amon&#39;s other suggestion of using Win32::MB_ICONINFORMATION()!    Too much helpful info in his reply! :)    I did try Win32::MB_ICONINFORMATION but did not realize I need to also use ().   Thanks the great help from both Mel and Amon!"}, {"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1508699529, "post_id": 46877848, "comment_id": 80703268, "body": "Regarding MsWin64...  I just assumed that must be the keyword for Windows x64 OS.  My bad."}, {"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1508699815, "post_id": 46877848, "comment_id": 80703369, "body": "But I guess I can still generalize my original question a bit.   If I have a line of my own code (e.g. $x++;) that I do not want compiled under UNIX (but I do want it compiled under Windows), is eval is only (or best) way to proceed?"}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1508700847, "post_id": 46877848, "comment_id": 80703693, "body": "@ShangZhang evaling to create a code ref is a common pattern, as is loading system-specific modules. That is fairly simple to do if the system-specific modules are object-oriented. See my edit. If you have further problems, consider asking a new question, this answer is now certainly long enough"}, {"owner": {"reputation": 2134, "user_id": 1600770, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b030b4b6aaf0cb02919d5e9cf9f96f8b?s=128&d=identicon&r=PG", "display_name": "Agostino", "link": "https://stackoverflow.com/users/1600770/agostino"}, "edited": false, "score": 0, "creation_date": 1603465021, "post_id": 46877848, "comment_id": 114054762, "body": "After seeing other examples, I think <code>Win32-&gt;import;</code> should be <code>Win32-&gt;import();</code>. Is there any difference?"}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 2134, "user_id": 1600770, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b030b4b6aaf0cb02919d5e9cf9f96f8b?s=128&d=identicon&r=PG", "display_name": "Agostino", "link": "https://stackoverflow.com/users/1600770/agostino"}, "edited": false, "score": 1, "creation_date": 1603544163, "post_id": 46877848, "comment_id": 114074076, "body": "@Agostino For <i>method calls</i>, empty parens are completely optional: <code>-&gt;import</code> and <code>-&gt;import()</code> are exactly equivalent. But the parens potentially matter for normal subroutines."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 8, "last_activity_date": 1508700679, "last_edit_date": 1508700679, "creation_date": 1508697804, "answer_id": 46877848, "question_id": 46877733, "link": "https://stackoverflow.com/questions/46877733/conditional-compilation-in-perl/46877848#46877848", "title": "Conditional Compilation in Perl", "body": "<p>Perl compiles code first to an intermediate representation, then executes it. Since the <code>if</code> is evaluated at runtime but the <code>use</code> is handled during compilation, you are not importing the module conditionally.</p>\n\n<p>To fix this, there are a number of possible strategies:</p>\n\n<ul>\n<li>conditional import with the <code>use if</code> pragma</li>\n<li>conditional import with a BEGIN block</li>\n<li><code>require</code> the module</li>\n<li>defer compilation with <code>eval</code></li>\n</ul>\n\n<p>To import a module only when a certain condition is met, you can use the <a href=\"https://metacpan.org/pod/if\" rel=\"noreferrer\"><code>if</code> pragma</a>:</p>\n\n<pre><code>use if $^O eq 'MSWin32', 'Win32';\n</code></pre>\n\n<p>You can also run code during compilation by putting it into a BEGIN block:</p>\n\n<pre><code>BEGIN {\n  if ($^O eq 'MSWin32') {\n    require Win32;\n    Win32-&gt;import;  # probably not necessary\n  }\n}\n</code></pre>\n\n<p>That BEGIN block behaves exactly the same like the above <code>use if</code>.</p>\n\n<p>Note that we have to use <code>require</code> here. With a <code>use Win32</code>, the module would have been loaded during the compile time of the begin block, which bypasses the <code>if</code>. With <code>require</code> the module is loaded during runtime of the begin block, which is during compile time of the surrounding code.</p>\n\n<p>In both these cases, the <code>Win32</code> module will only be imported under Windows. That leaves the <code>MB_ICONINFORMATION</code> constant undefined on non-Windows systems. In this kind of code, it is better to not import any symbols. Instead, use the fully qualified name for everything and use parentheses for a function call (here: <code>Win32::MB_ICONINFORMATION()</code>). With that change, just using a <code>require</code> instead of an <code>use if</code> may also work.</p>\n\n<p>If you need code to be run later, you can use a string-eval. However, this potentially leads to security issues, is more difficult to debug, and is often slower. For example, you could do:</p>\n\n<pre><code>if ($^O eq 'MSWin32') {\n    eval q{\n        use Win32;    \n        Win32::MsgBox(\"Aloha!\", MB_ICONINFORMATION, 'Win32 Msgbox');     \n        1;\n    } or die $@;  # forward any errors\n}\n</code></pre>\n\n\n\n<ul>\n<li>Because <code>eval</code> silences any errors by default, you must check success and possibly rethrow the exception. The <code>1</code> statement makes sure that the eval'ed code returns a true value if successful. <code>eval</code> returns <code>undef</code> if an error occurs. The <code>$@</code> variable holds the last error.</li>\n<li><code>q{...}</code> is alternative quoting construct. Aside from the curly braces as string delimiters it is exactly the same as <code>'...'</code> (single quotes).</li>\n</ul>\n\n<p>If you have a lot of code that only works on a certain platform, using the above strategies for each snippet is tedious. Instead, create a module for each platform. E.g.:</p>\n\n<p>Local/MyWindowsStuff.pm:</p>\n\n<pre><code>package Local::MyWindowsStuff;\nuse strict;\nuse warnings;\nuse Win32;\n\nsub show_message {\n  my ($class, $title, $contents) = @_;\n  Win32::MsgBox(\"Aloha!\", MB_ICONINFORMATION, 'Win32 Msgbox');\n}\n\n1;\n</code></pre>\n\n<p>Local/MyPosixStuff.pm:</p>\n\n<pre><code>package Local::MyPosixStuff;\nuse strict;\nuse warnings;\n\nsub show_message {\n  warn \"messagebox only supported on Windows\";\n}\n\n1;\n</code></pre>\n\n<p>Here I've written them to be usable as classes. We can then conditionally load one of these classes:</p>\n\n<pre><code>sub load_stuff {\n  if ($^O eq 'MSWin32') {\n    require Local::MyWindowsStuff;\n    return 'Local::MyWindowsStuff';\n  }\n  require Local::MyPosixStuff;\n  return 'Local::MyPosixStuff';\n}\n\nmy $stuff = load_stuff();\n</code></pre>\n\n<p>Finally, instead of putting a conditional into your code, we invoke the method on the loaded class:</p>\n\n<pre><code>$stuff-&gt;show_message('Aloha!', 'Win32 Msgox');\n</code></pre>\n\n<p>If you don't want to create extra packages, one strategy is to eval a code ref:</p>\n\n<pre><code>sub _eval_or_throw { my ($code) = @_; return eval \"$code; 1\" or die $@ }\n\nmy $show_message =\n  ($^O eq 'MSWin32') ? _eval_or_throw q{\n    use Win32;\n    sub {\n      Win32::MsgBox(\"Aloha!\", MB_ICONINFORMATION, 'Win32 Msgbox');\n    }\n  } : _eval_or_throw q{\n    sub {\n      warn \"messagebox only supported on Windows\";\n    }\n  };\n</code></pre>\n\n<p>Then: <code>$show_message-&gt;()</code> to invoke this code. This avoids repeatedly compiling the same code with <code>eval</code>. Of course that only matters when this code is run more than once per script, e.g. inside a loop or in a subroutine.</p>\n"}], "owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 641, "favorite_count": 1, "closed_date": 1509143614, "accepted_answer_id": 46877848, "answer_count": 1, "score": 3, "last_activity_date": 1508700831, "creation_date": 1508697031, "last_edit_date": 1508700831, "question_id": 46877733, "link": "https://stackoverflow.com/questions/46877733/conditional-compilation-in-perl", "closed_reason": "Duplicate", "title": "Conditional Compilation in Perl", "body": "<p>How do I get the following code to work?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nif ($^O eq 'MSWin32' || $^O eq 'MSWin64') {\n    use Win32;    \n    Win32::MsgBox(\"Aloha!\", MB_ICONINFORMATION, 'Win32 Msgbox');     \n}\nelse {\n    print \"Do not know how to do msgbox under UNIX!\\n\";\n}\n</code></pre>\n\n<p>The above runs under Windows.  But under UNIX, there is a compilation error as Win32 cannot be found.   Replacing \"use\" with \"require\" makes things worse -- the code would fail to compile under both Windows and UNIX because the line containing MB_ICONINFORMATION is always compiled and \"MB_ICONINFORMATION\" would be an undeclared bare-word.</p>\n\n<p>So how do I get around this problem?  </p>\n"}, {"tags": ["perl", "movabletype"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1508689489, "post_id": 46875995, "comment_id": 80699769, "body": "Install the Perl LWP system package. You will probably need more dependencies. It looks like it didn&#39;t upgrade the system packages with Perl modules with the system. You can try to run it and search the Debian package website for the Perl module names from the errors to see which packages to install. You can also install the modules from cpan directly, but messing with the system Perl is not a good idea. Typically you&#39;d have a Perl install for your production environment separately from the OS."}, {"owner": {"reputation": 135, "user_id": 4825472, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xCoAF8kuSDA/AAAAAAAAAAI/AAAAAAAAADM/igAlhPPuilU/photo.jpg?sz=128", "display_name": "fnord12", "link": "https://stackoverflow.com/users/4825472/fnord12"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508708137, "post_id": 46875995, "comment_id": 80705896, "body": "Unfortunately it seems the LWP system package is already installed.  But thank you for your comment."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508710902, "post_id": 46875995, "comment_id": 80706619, "body": "Where is that file you posted located? It might be the mt isn&#39;t using your system Perl. Check if you have another one."}, {"owner": {"reputation": 135, "user_id": 4825472, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xCoAF8kuSDA/AAAAAAAAAAI/AAAAAAAAADM/igAlhPPuilU/photo.jpg?sz=128", "display_name": "fnord12", "link": "https://stackoverflow.com/users/4825472/fnord12"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508716788, "post_id": 46875995, "comment_id": 80707806, "body": "The file is located in a subdirectory of the cgi-bin: /cgi-bin/mt/extlib/.  It doesn&#39;t seem like there is another instance of Perl.  I don&#39;t have direct access, but Perl is in /usr/bin/perl"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508738650, "post_id": 46875995, "comment_id": 80712860, "body": "Then maybe this whole extlib or parts of it are not visible to your Perl. Look at @INC and the PERL5LIB environment variables. There is a bunch of documentation online about how to get stuff there. I&#39;m not familiar with mt so I don&#39;t know how it works."}, {"owner": {"reputation": 425, "user_id": 255642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5114037d0409dd28b98d296ca8d449f?s=128&d=identicon&r=PG", "display_name": "Jay Allen", "link": "https://stackoverflow.com/users/255642/jay-allen"}, "edited": false, "score": 1, "creation_date": 1508784649, "post_id": 46875995, "comment_id": 80740039, "body": "Do you have shell access via SSH or telnet? If so, here are a few things to do to add information to your post: 1) Check that your CGI files (mt.cgi, mt-check.cgi, et al) start with <code>#!&#47;usr&#47;bin&#47;perl</code> and not some other perl, 2) Run that perl  with the extended <code>-V</code> flag in order to find out not only the version but also the  built-in <code>@INC</code> (<code>&#47;usr&#47;bin&#47;perl -V</code>), 3) Run <code>mt-check.cgi</code> to make sure that it is seeing the proper perl and <code>@INC</code> directories (you&#39;ll likely have to temporarily rename/move your <code>mt-config.cgi</code>). Add all of that output to your post minus any server identifying info"}, {"owner": {"reputation": 425, "user_id": 255642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5114037d0409dd28b98d296ca8d449f?s=128&d=identicon&r=PG", "display_name": "Jay Allen", "link": "https://stackoverflow.com/users/255642/jay-allen"}, "edited": false, "score": 0, "creation_date": 1508785212, "post_id": 46875995, "comment_id": 80740343, "body": "BTW re: #3 above: I meant run <code>mt-check.cgi</code> via your web browser not via the command line."}, {"owner": {"reputation": 425, "user_id": 255642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5114037d0409dd28b98d296ca8d449f?s=128&d=identicon&r=PG", "display_name": "Jay Allen", "link": "https://stackoverflow.com/users/255642/jay-allen"}, "edited": false, "score": 0, "creation_date": 1508785522, "post_id": 46875995, "comment_id": 80740513, "body": "Also, any time you run into errors with Movable Type, you should enable <code>DebugMode</code> (i.e. put <code>DebugMode 3</code> in your <code>mt-config.cgi</code>) as it allows for more complete error messages.  Depending on the error, that will either be output to your web browser or into your webserver&#39;s error log. You may also want to check your webserver&#39;s error log anyway because there might be warnings there which might help uncover the problem."}, {"owner": {"reputation": 425, "user_id": 255642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5114037d0409dd28b98d296ca8d449f?s=128&d=identicon&r=PG", "display_name": "Jay Allen", "link": "https://stackoverflow.com/users/255642/jay-allen"}, "edited": false, "score": 0, "creation_date": 1508785934, "post_id": 46875995, "comment_id": 80740735, "body": "I just saw that you said you didn&#39;t have direct access by which I suppose you mean shell access.  So, you can still do #1 and #3 above as well as the <code>DebugMode</code> suggestion.  Hopefully your webhost gives you web-based access to your webserver error logs but if not, we can get around that problem."}, {"owner": {"reputation": 425, "user_id": 255642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5114037d0409dd28b98d296ca8d449f?s=128&d=identicon&r=PG", "display_name": "Jay Allen", "link": "https://stackoverflow.com/users/255642/jay-allen"}, "edited": false, "score": 0, "creation_date": 1508786956, "post_id": 46875995, "comment_id": 80741284, "body": "Nevermind all of my comments above for now.  See my answer below which is the likely issue: <a href=\"https://stackoverflow.com/a/46897080/255642\">stackoverflow.com/a/46897080/255642</a>"}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 4825472, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xCoAF8kuSDA/AAAAAAAAAAI/AAAAAAAAADM/igAlhPPuilU/photo.jpg?sz=128", "display_name": "fnord12", "link": "https://stackoverflow.com/users/4825472/fnord12"}, "edited": false, "score": 0, "creation_date": 1508807704, "post_id": 46897080, "comment_id": 80748438, "body": "After renaming all of these folders/files, I am now getting the same error at a different location: Saving Entry failed: Can&#39;t locate object method &quot;new&quot; via package &quot;HTTP::Request&quot; at lib/MT/Util.pm line 1407.   It&#39;s the same whether or not I rename the second list.  But I&#39;ve updated the original post with the info from your initial comments.  It does seem that LWP::UserAgent is not being seen.  So it seems this is all on the right track.  Thank you so much for your help so far."}, {"owner": {"reputation": 425, "user_id": 255642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5114037d0409dd28b98d296ca8d449f?s=128&d=identicon&r=PG", "display_name": "Jay Allen", "link": "https://stackoverflow.com/users/255642/jay-allen"}, "reply_to_user": {"reputation": 135, "user_id": 4825472, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xCoAF8kuSDA/AAAAAAAAAAI/AAAAAAAAADM/igAlhPPuilU/photo.jpg?sz=128", "display_name": "fnord12", "link": "https://stackoverflow.com/users/4825472/fnord12"}, "edited": false, "score": 0, "creation_date": 1508814118, "post_id": 46897080, "comment_id": 80749884, "body": "Awesome! I&#39;m happy to help."}], "tags": [], "owner": {"reputation": 425, "user_id": 255642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5114037d0409dd28b98d296ca8d449f?s=128&d=identicon&r=PG", "display_name": "Jay Allen", "link": "https://stackoverflow.com/users/255642/jay-allen"}, "is_accepted": true, "score": 1, "last_activity_date": 1508808919, "last_edit_date": 1508808919, "creation_date": 1508786909, "answer_id": 46897080, "question_id": 46875995, "link": "https://stackoverflow.com/questions/46875995/movable-type-cant-locate-object-method-new-via-package-httprequest/46897080#46897080", "title": "Movable Type: Can&#39;t locate object method &quot;new&quot; via package &quot;HTTP::Request", "body": "<p>Movable Type includes a lot of non-compiled CPAN libraries in your <code>extlib</code> directory. The idea is that this makes it easier for people to run it who can't install modules.  Unfortunately, when you upgrade Perl but not Movable Type, those modules mask the proper and necessary ones that are either bundled with the new Perl library or installed by your web host. That is exactly the case with <code>LWP</code> and <code>HTTP:*</code>.</p>\n\n<p>To solve this, you can <strong>rename the following <code>extlib</code> files/directories</strong>  using your FTP software:</p>\n\n<ul>\n<li><code>HTTP/</code></li>\n<li><code>LWP/</code></li>\n<li><code>LWP.pm</code></li>\n</ul>\n\n<p>I usually just tack on <code>-MOVED</code> to the end.  Assuming this works, you can delete these files/directories entirely.</p>\n\n<p>Additionally, there are other libraries which need the same treatment in some later version although I'm not sure which. It may be the one you're using:</p>\n\n<ul>\n<li><code>JSON</code></li>\n<li><code>JSON.pm</code></li>\n<li><code>version/</code></li>\n<li><code>version.pm</code></li>\n<li><code>version.pod</code></li>\n</ul>\n\n<p><strong>UPDATE:</strong> I forgot a few more from that list:</p>\n\n<ul>\n<li><code>Net/HTTP/</code></li>\n<li><code>Net/HTTP.pm</code></li>\n<li><code>Net/HTTPS.pm</code></li>\n<li><code>Params/Validate.pm</code></li>\n<li><code>Params/ValidatePP.pm</code></li>\n<li><code>Params/ValidateXS.pm</code></li>\n<li><code>Params/Validate/</code></li>\n</ul>\n\n<p>And it also looks like Perl 5.24 <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=105109\" rel=\"nofollow noreferrer\">gave us at least one more module</a> to rename or delete from extlib:</p>\n\n<ul>\n<li><code>URI/</code></li>\n<li><code>URI.pm</code></li>\n</ul>\n\n<p>These last two are why LWP::UserAgent is throwing an error when you run <code>mt-check.cgi</code>.</p>\n"}], "owner": {"reputation": 135, "user_id": 4825472, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xCoAF8kuSDA/AAAAAAAAAAI/AAAAAAAAADM/igAlhPPuilU/photo.jpg?sz=128", "display_name": "fnord12", "link": "https://stackoverflow.com/users/4825472/fnord12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1473, "favorite_count": 0, "accepted_answer_id": 46897080, "answer_count": 1, "score": 1, "last_activity_date": 1508808919, "creation_date": 1508687047, "last_edit_date": 1592644375, "question_id": 46875995, "link": "https://stackoverflow.com/questions/46875995/movable-type-cant-locate-object-method-new-via-package-httprequest", "title": "Movable Type: Can&#39;t locate object method &quot;new&quot; via package &quot;HTTP::Request", "body": "<p>I am stuck on the last open source version of the blog software Movable Type before Movable Type went back to being a paid/professional offering only.</p>\n<p>My host recently updated the Debian OS version and it apparently came with a more up-to-date version of Perl.</p>\n<p>After the update, I am now getting the following error (specifically when Movable Type attempts to generate a Trackback, and I do need internal Trackbacks on my site):</p>\n<blockquote>\n<p>Can't locate object method &quot;new&quot; via package &quot;HTTP::Request&quot; at\n/home/super/www/www/cgi-bin/mt512/extlib/HTTP/Request.pm line 14.</p>\n</blockquote>\n<p>The code on the line 14 in question is</p>\n<blockquote>\n<p>my $self = $class-&gt;SUPER::new($header, $content);</p>\n</blockquote>\n<p>A larger snippet of the code from Request.pm, from the top of the file, is below.</p>\n<p>I unfortunately don't know Perl.  But I am hoping someone might be able to tell me if there is a relatively easy way to address this.</p>\n<pre><code>package HTTP::Request;\n\nrequire HTTP::Message;\n@ISA = qw(HTTP::Message);\n$VERSION = &quot;5.827&quot;;\n\nuse strict;\n\n\n\nsub new\n{\nmy($class, $method, $uri, $header, $content) = @_;\nmy $self = $class-&gt;SUPER::new($header, $content);\n$self-&gt;method($method);\n$self-&gt;uri($uri);\n$self;\n} \n</code></pre>\n<p><strong>Update:</strong> With help from Jay Allen, I was able to run mt-check.cgi</p>\n<p>The check says that LWP::UserAgent is not installed:</p>\n<p><a href=\"https://i.stack.imgur.com/P04AO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P04AO.png\" alt=\"mt-check\" /></a></p>\n<p>According to my site's Installed Perl 5 modules list, though, it is installed:</p>\n<p><a href=\"https://i.stack.imgur.com/MUEp5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MUEp5.png\" alt=\"LWP UserAgent\" /></a></p>\n<p>I don't know if it's helpful, but there's also a CPAN::LWP::UserAgent:</p>\n<p><a href=\"https://i.stack.imgur.com/DIlKb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DIlKb.png\" alt=\"CPAN user agent\" /></a></p>\n<p>Per Jay's original comments, I confirm that the MT cgi files begin with:</p>\n<pre><code>#!/usr/bin/perl\n</code></pre>\n<p>Here is the system information from mt-check:</p>\n<blockquote>\n<p>Operating system: linux</p>\n<p>Perl version: v5.24.1</p>\n<p>Perl include path:</p>\n<p>plugins/Textile/lib</p>\n<p>plugins/FormattedTextForTinyMCE/lib</p>\n<p>plugins/FormattedText/lib</p>\n<p>plugins/Minifier/lib</p>\n<p>plugins/MultiFileUploader/lib</p>\n<p>plugins/spamlookup/lib</p>\n<p>plugins/FacebookCommenters/extlib</p>\n<p>plugins/FacebookCommenters/lib</p>\n<p>plugins/Approval/lib</p>\n<p>plugins/CommentRating/lib</p>\n<p>plugins/WXRImporter/lib</p>\n<p>plugins/TinyMCE/lib</p>\n<p>plugins/mixiComment/lib</p>\n<p>plugins/CustomFieldsSearch/lib</p>\n<p>plugins/feeds-app-lite/lib</p>\n<p>plugins/StyleCatcher/lib</p>\n<p>plugins/WidgetManager/lib</p>\n<p>plugins/EmailRetitler/lib</p>\n<p>plugins/TypePadAntiSpam/lib</p>\n<p>plugins/NotifyWho/lib</p>\n<p>plugins/Profiler/lib</p>\n<p>addons/Community.pack/lib</p>\n<p>addons/Commercial.pack/lib</p>\n<p>extlib</p>\n<p>extlib</p>\n<p>lib</p>\n<p>/etc/perl</p>\n<p>/usr/local/lib/i386-linux-gnu/perl/5.24.1 /usr/local/share/perl/5.24.1</p>\n<p>/usr/lib/i386-linux-gnu/perl5/5.24 /usr/share/perl5</p>\n<p>/usr/lib/i386-linux-gnu/perl/5.24 /usr/share/perl/5.24</p>\n<p>/usr/local/lib/site_perl /usr/lib/i386-linux-gnu/perl-base .</p>\n<p>Web server: Apache</p>\n<p>(Probably) running under cgiwrap or suexec</p>\n</blockquote>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 138, "user_id": 353290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f9f0d3ea9cbb3567e66bf52633b13ce?s=128&d=identicon&r=PG", "display_name": "natxo asenjo", "link": "https://stackoverflow.com/users/353290/natxo-asenjo"}, "edited": false, "score": 0, "creation_date": 1508675237, "post_id": 46873658, "comment_id": 80695065, "body": "Thanks, really helpul. I will build a hash with possible values"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1508672643, "creation_date": 1508672643, "answer_id": 46873658, "question_id": 46873318, "link": "https://stackoverflow.com/questions/46873318/tab-completion-using-termshell-stops-working-after-modifying-the-prompt/46873658#46873658", "title": "tab completion using Term::Shell stops working after modifying the prompt", "body": "<p>As documented in <a href=\"https://metacpan.org/pod/Term::Shell#The-Term::Shell-API\" rel=\"nofollow noreferrer\">The Term:Shell API</a>, you can specify completions to <code>prompt</code> as the third argument:</p>\n\n<pre><code>$self-&gt;prompt( \"$action~&gt; \", '', [ glob '*' ]);\n</code></pre>\n"}], "owner": {"reputation": 138, "user_id": 353290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f9f0d3ea9cbb3567e66bf52633b13ce?s=128&d=identicon&r=PG", "display_name": "natxo asenjo", "link": "https://stackoverflow.com/users/353290/natxo-asenjo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 46873658, "answer_count": 1, "score": 0, "last_activity_date": 1508672643, "creation_date": 1508670232, "last_edit_date": 1508672252, "question_id": 46873318, "link": "https://stackoverflow.com/questions/46873318/tab-completion-using-termshell-stops-working-after-modifying-the-prompt", "title": "tab completion using Term::Shell stops working after modifying the prompt", "body": "<p>Using this code:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\npackage Testsh;\nuse base qw(Term::Shell);\n\nmy @actions = qw/ a b c d e f g h /;\n\nsub comp_cd {\n    my ( $self, $action ) = @_;\n    $self-&gt;completions( $action, \\@actions);\n}\n\nsub run_cd {\n    my ( $self, $action ) = @_;\n    $self-&gt;prompt( \"$action~&gt; \");\n}\n\npackage main;\nmy $shell = Testsh-&gt;new;\n$shell-&gt;cmdloop;\n</code></pre>\n\n<p>When I start the shell, and press <kbd>tab</kbd> twice, I get three options: cd, exit help.</p>\n\n<p>If I cd to one of the actions, then the prompt gets changed to the action name, but I no longer am capable of using tab completion. Why is this?</p>\n"}, {"tags": ["perl", "module", "cpan", "perlbrew"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508704454, "post_id": 46873155, "comment_id": 80704810, "body": "What you want to do is not what perlbrew is for. If your script has fixed library paths in it you need to change them to where those libs are on the new machine. If your custom modules have fixed paths in them, you need to create those on the new machine, unless your developers did something less than ideal, in which case you need to change them (not the debs, the paths) and pray. You always need to install your application dependencies. If you don&#39;t want to mess with the system Perl, perlbrew is one easy but overkill for production option to get another Perl on your system."}, {"owner": {"reputation": 85, "user_id": 6583387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yV1Nd.png?s=128&g=1", "display_name": "cuilster", "link": "https://stackoverflow.com/users/6583387/cuilster"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509694837, "post_id": 46873155, "comment_id": 81130505, "body": "I did copy the full perlbrew folder to new machine. and updated the variables."}, {"owner": {"reputation": 85, "user_id": 6583387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yV1Nd.png?s=128&g=1", "display_name": "cuilster", "link": "https://stackoverflow.com/users/6583387/cuilster"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509695230, "post_id": 46873155, "comment_id": 81130693, "body": "I did copy the full perlbrew folder to new machine. I needed to update some variables like $PATH $PERLBREW_HOME etc.. Call me lucky there where a ini script in /etc/perlbrew which contained those varibles. I needed to edit bash .profile to alter PATH permanently. There where two old libraries needed, which i simply copied to the path, where the module expected them. thanks for reply."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1509701686, "post_id": 46873155, "comment_id": 81134278, "body": "So it works now? Please consider adding a proper answer of how you fixed it for future reference."}], "owner": {"reputation": 85, "user_id": 6583387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yV1Nd.png?s=128&g=1", "display_name": "cuilster", "link": "https://stackoverflow.com/users/6583387/cuilster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508669085, "creation_date": 1508669085, "question_id": 46873155, "link": "https://stackoverflow.com/questions/46873155/how-to-migrate-perlbrew-to-other-debian-server", "title": "how to migrate perlbrew to other debian server", "body": "<p>Im new to perl.\nI have a debian server with perlbrew istallation.\nThere is a custom module which a want on new debian server.\nModule is owned by my company.</p>\n\n<p>What is the best way to achieve funktional module?\nI was able to start the module and install dependencies via cpan, but (i think) the variables like $PATH and $PERLBREW_HOME are wrong so i cant start it via bash-script like on the old server // somehing like use PERLBREW passing MODULENAME </p>\n"}, {"tags": ["regex", "perl", "header", "unique", "fasta"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508647115, "post_id": 46870420, "comment_id": 80688407, "body": "It may surprise you, but your question is unclear.  Generally dumping heaps of code to SO in order that someone makes it better isn&#39;t going to work.  I suggest you greatly simplify what you have and ask a more pointed question."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508647199, "post_id": 46870420, "comment_id": 80688418, "body": "It may be more appropriate to post on <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> as there are many things that could be improved in your code, but are outside of the scope of SO questions."}, {"owner": {"reputation": 1, "user_id": 8798417, "user_type": "registered", "profile_image": "https://graph.facebook.com/905692085806/picture?type=large", "display_name": "Sammi", "link": "https://stackoverflow.com/users/8798417/sammi"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508648164, "post_id": 46870420, "comment_id": 80688563, "body": "@xxfelixxx Sorry if I was unclear :-(. I am not asking for a comprehensive review of my code, I have only been coding for a month now and I realize it is not perfect. I only provided the code if clarification of my question was needed. I was trying to show the order of output I desired and why I did it the way I did. I am only looking for advice on searching a file which contains many headers, printing each header once if its following data contains a match to my regex, and then printing all matches below that header, as the end of my post says."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508648447, "post_id": 46870420, "comment_id": 80688600, "body": "A snippet of the input file would probably useful."}, {"owner": {"reputation": 1, "user_id": 8798417, "user_type": "registered", "profile_image": "https://graph.facebook.com/905692085806/picture?type=large", "display_name": "Sammi", "link": "https://stackoverflow.com/users/8798417/sammi"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508649817, "post_id": 46870420, "comment_id": 80688801, "body": "I posted on codereview. I understand if that is a more appropriate venue for my question. I thought there might be a simple answer to use a while statement for matching with a regex, print only new matches (not repeat matches), and not be using an if statement (because that prevents my next section from printing all matches."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508650181, "post_id": 46870420, "comment_id": 80688875, "body": "Thanks, with a fasta snippet I can actually try running your code....."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508650253, "post_id": 46870420, "comment_id": 80688891, "body": "So you don&#39;t want duplicate <code>found</code> lines?  Per sequence or for the whole file?"}, {"owner": {"reputation": 1, "user_id": 8798417, "user_type": "registered", "profile_image": "https://graph.facebook.com/905692085806/picture?type=large", "display_name": "Sammi", "link": "https://stackoverflow.com/users/8798417/sammi"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508650727, "post_id": 46870420, "comment_id": 80688969, "body": "My desired output is print one header, followed by all instances of matched DNA within that sequence. Then the next header, followed by all instances of matched DNA. I don&#39;t want it to reprint the same header each time a matched region is found within that sequence."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508650846, "post_id": 46870420, "comment_id": 80688999, "body": "ok, I think I know what you need now."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508651085, "post_id": 46870420, "comment_id": 80689055, "body": "Remove the <code>if ($sequence =~ &#47;....)</code> block. Above the <code>while ($sequence =~ &#47;...&#47;)</code> block add a variable, set it to 0: <code>my $have_printed_header = 0;</code>   Now, inside that <code>while</code> block, just do : <code>print &quot;Hydrophonic .....&quot; unless $have_printed_header++;</code>"}, {"owner": {"reputation": 1, "user_id": 8798417, "user_type": "registered", "profile_image": "https://graph.facebook.com/905692085806/picture?type=large", "display_name": "Sammi", "link": "https://stackoverflow.com/users/8798417/sammi"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508651917, "post_id": 46870420, "comment_id": 80689194, "body": "That seems to miss one header."}, {"owner": {"reputation": 1, "user_id": 8798417, "user_type": "registered", "profile_image": "https://graph.facebook.com/905692085806/picture?type=large", "display_name": "Sammi", "link": "https://stackoverflow.com/users/8798417/sammi"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508652365, "post_id": 46870420, "comment_id": 80689268, "body": "Hydrophobic region(s) found in P30450 | Homo sapiens (Human). | NCBI_TaxID=9606; | 365 |    Name=HLA-A; Synonyms=HLAA;  AVVAAVMW found at 325  VAVLMLCL found at 170  LLALVAIF found at 493  IWICWFAA found at 705  LALALAFA found at 970    ------------------------- Hydrophobic region(s) found in 1 out of 15 sequences."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508652843, "post_id": 46870420, "comment_id": 80689360, "body": "From the snippet you gave me, using your code, it only finds 1/3"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508654213, "post_id": 46870420, "comment_id": 80689603, "body": "Would you like to try pair programming this through google hangouts, it will be faster to get to the bottom of this?"}, {"owner": {"reputation": 1, "user_id": 8798417, "user_type": "registered", "profile_image": "https://graph.facebook.com/905692085806/picture?type=large", "display_name": "Sammi", "link": "https://stackoverflow.com/users/8798417/sammi"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508689470, "post_id": 46870420, "comment_id": 80699761, "body": "Sorry for my late response. I updated the source file so that it is the same as what I am running."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508704550, "post_id": 46870420, "comment_id": 80704839, "body": "@xxfelixxx you were really bored, huh? ;-)"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1508691074, "creation_date": 1508691074, "answer_id": 46876738, "question_id": 46870420, "link": "https://stackoverflow.com/questions/46870420/process-fasta-file-to-output-header-and-all-matching-subsequences/46876738#46876738", "title": "Process FASTA file to output header and all matching subsequences", "body": "<p></p>\n\n<p>Here's what I would write.</p>\n\n<p>I've made several significant changes</p>\n\n<ul>\n<li><p>I use <code>chomp</code> to remove the <code>&gt;</code> from the start of the header of the next sequence, and then check that there are still some non-space character left. The very first record read will be just <code>&gt;</code>, so this discards the empty record</p></li>\n<li><p>I've removed the semicolons from your regex pattern, as they don't make much difference, and added some optional whitespace to trim any leading and trailing whitespace on the header</p></li>\n<li><p>I've removed the non-greedy modifier <code>?</code> from <code>[VILMFWCA]{8,}</code> as I didn't see a reason for it. Maybe I'm wrong. I've also changed it so that all matching sequences will be found even if they overlap. Again, maybe that's a bad call: I'm not a bioinformatician!</p></li>\n<li><p>Calculating the position of each region as <code>pos() - 7</code> is wrong as it depends on the length of the match. I've used the built-in array <code>@-</code> instead. <code>$-[1]</code> contains the position of the start of capture <code>$1</code>, <code>$-[2]</code> is for <code>$2</code>etc. and <code>$-[0]</code> is the position of the entire match</p></li>\n<li><p>I keep the matching region and its start position in array <code>@regions</code>. When the search is finished I can test whether any were found by checking the size of</p></li>\n</ul>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy $FASTA_FILE = 'test.fasta';\n\n\nopen my $fh, '&lt;', $FASTA_FILE or die qq{Unable to open \"$FASTA_FILE\" for input: $!};\n\nlocal $/ = '&gt;';\n\nwhile ( &lt;$fh&gt; ) {\n    chomp;\n    next unless /\\S/;\n\n    next unless my ( $head, $seq ) = /\\s*(.*\\S)\\s*\\n(\\w+)/;\n\n    my @regions;\n\n    while ( $seq =~ / (?= ( [VILMFWCA]{8,} ) ) /gxi ) {\n        push @regions, [ $1, $-[1] ];\n    }\n\n    next unless @regions; # Skip this sequence if no regions found\n\n    printf \"%d Hydrophobic region%s found in %s\\n\",\n            scalar @regions,\n            @regions == 1 ? \"\" : \"s\",\n            $head;\n\n    printf \"    %s found at %d\\n\", @$_ for @regions;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>14 Hydrophobic regions found in A7MBM2 | Homo sapiens (Human). | NCBI_TaxID=9606; | 1401 |    Name=DISP2; Synonyms=DISPB, KIAA1742; DGDSSSSSGGSGPAPGPGPEGEQRPEGEPLAPDGGSPDSTQTKAVPPEASPERSCSLHSCPLEDPSSSSGPPPTTSTLQP\n    VAVLMLCLAVIFLC found at 88\n    AVLMLCLAVIFLC found at 89\n    VLMLCLAVIFLC found at 90\n    LMLCLAVIFLC found at 91\n    MLCLAVIFLC found at 92\n    LCLAVIFLC found at 93\n    CLAVIFLC found at 94\n    LLALVAIFF found at 411\n    LALVAIFF found at 412\n    IWICWFAALAA found at 623\n    WICWFAALAA found at 624\n    ICWFAALAA found at 625\n    CWFAALAA found at 626\n    LALALAFA found at 888\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8798417, "user_type": "registered", "profile_image": "https://graph.facebook.com/905692085806/picture?type=large", "display_name": "Sammi", "link": "https://stackoverflow.com/users/8798417/sammi"}, "is_accepted": false, "score": 0, "last_activity_date": 1508791841, "creation_date": 1508791841, "answer_id": 46898294, "question_id": 46870420, "link": "https://stackoverflow.com/questions/46870420/process-fasta-file-to-output-header-and-all-matching-subsequences/46898294#46898294", "title": "Process FASTA file to output header and all matching subsequences", "body": "<p>What I did was remove the global modifier from sequence match if statement regex, but leave the modifier after the while statement regex. This way I am not losing the first matches like I was before, but I am still able to print the header before the sequence matches. </p>\n\n<pre><code>    unless (open FILE, \"&lt;\", '/scratch/SampleDataFiles/test.fasta') {\n    die \"Cannot Open File\", $!;\n    }\n\n    $/ = \"&gt;\";       \n\n    my @file = &lt;FILE&gt;;\n    my $file = \"@file\";\n    chomp $file;\n\n    my $count = 0;    \n    my $sequence_count = 0;   \n\n    foreach $file (@file) {\n\n               if ($file =~ /(.*;.*;?\\n)(\\w+)/) {\n\n                   my $head = $1;\n                   my $sequence = $2;\n                   $sequence_count = $sequence_count +1;\n\n                   if ($sequence =~ /([VILMFWCA]{8,}?)/i) {\n\n                            print \"\\n\", \"Hydrophobic region(s) found in \", $head, \"\\n\";\n                            $count = $count +1;\n\n                   }\n\n\n                    while ($sequence =~ /([VILMFWCA]{8,}?)/gi) {\n\n                            my $pos = pos($sequence)-7;\n                            print $1, \" found at \", $pos, \"\\n\", \"\\n\";\n\n                    }\n               }\n        }\n\n\nprint \"\\n\", \"\\n\", \"-------------------------\", \"\\n\", \"Hydrophobic region(s) \nfound in \", $count, \" out of \", $sequence_count , \" sequences.\", \"\\n\", \"\\n\";\n\n\n\nclose FILE;\n</code></pre>\n\n<p>Thanks for your help, guys!</p>\n"}], "owner": {"reputation": 1, "user_id": 8798417, "user_type": "registered", "profile_image": "https://graph.facebook.com/905692085806/picture?type=large", "display_name": "Sammi", "link": "https://stackoverflow.com/users/8798417/sammi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1508791841, "creation_date": 1508645587, "last_edit_date": 1592644375, "question_id": 46870420, "link": "https://stackoverflow.com/questions/46870420/process-fasta-file-to-output-header-and-all-matching-subsequences", "title": "Process FASTA file to output header and all matching subsequences", "body": "\n<p>I need to search a FASTA file for certain regions of the DNA sequence. For each match, I need to print the sequence header followed by all matches within that sequence. I want to print the header <em>once</em> followed by the matching sections.</p>\n<p>The output of the following code is close, but the matched regions of DNA are printed <em>above</em> their header instead of beneath it. I cannot flip the two blocks of code because that cuts off the first results.</p>\n<pre class=\"lang-perl prettyprint-override\"><code># First, I open my file and print a warning if it fails.\nunless ( open FILE, &quot;&lt;&quot;, '/scratch/SampleDataFiles/test.fasta' ) {\n    die &quot;Sorry&quot;, $!;\n}\n\n$/ = &quot;&gt;&quot;;    # This changes the record separator from \\n to &gt;, so I can chomp it later.\n\nmy @file = &lt;FILE&gt;;\nmy $file = &quot;@file&quot;;\nchomp $file;\n\n# To view the file I can--\n# print $file;\n\nmy $count = 0;    # here I will count the matched regions\n\nmy $sequence_count = 0;    # here I will count the sequences\n                           # that contain a matched region\n\nforeach $file ( @file ) {\n\n    # I look for each header and its following sequence\n    # And count the total sequences in the file\n    if ( $file =~ /(.*;.*;?\\n)(\\w+)/ ) {\n\n        my $head     = $1;\n        my $sequence = $2;\n\n        $sequence_count = $sequence_count + 1;\n\n        # Now, I use the sequences I matched and search for a\n        # hydrophobic region\n\n        while ( $sequence =~ /([VILMFWCA]{8,}?)/gi ) {\n\n            # I want to know what the position of the match is\n            my $pos = pos( $sequence ) - 7;\n\n            print &quot;\\n&quot;, $1, &quot; found at &quot;, $pos;\n        }\n\n        # I use the count variable I made earlier to count up each\n        # time I match a sequence that has one or more hydrophobic region\n\n        if ( $sequence =~ /([VILMFWCA]{8,}?)/gi ) {\n\n            print &quot;\\n&quot;,\n                    &quot;Hydrophobic region(s) found in &quot;,\n                    $head,\n                    &quot;\\n&quot;,\n                    &quot;-------------------------------------&quot;,\n                    &quot;\\n&quot;;\n\n            $count = $count + 1;\n        }\n\n    }\n}\n\nprint &quot;Hydrophobic region(s) found in &quot;,\n        $count,\n        &quot; out of &quot;,\n        $sequence_count,\n        &quot; sequences.&quot;,\n        &quot;\\n&quot;,\n        &quot;\\n&quot;;\n</code></pre>\n<p>This is the output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>AVVAAVMW found at 325\nHydrophobic region(s) found in P30450 | Homo sapiens (Human). | \nNCBI_TaxID=9606; | 365 |    Name=HLA-A; Synonyms=HLAA;\n\n-------------------------------------\n\nVAVLMLCL found at 170\nLLALVAIF found at 493\nIWICWFAA found at 705\nLALALAFA found at 970\nHydrophobic region(s) found in A7MBM2 | Homo sapiens (Human). | \nNCBI_TaxID=9606; | 1401 |    Name=DISP2; Synonyms=DISPB, KIAA1742;\n\n-------------------------------------\nHydrophobic region(s) found in 2 out of 15 sequences.\n</code></pre>\n<p>This is the output I get if I switch them:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Hydrophobic region(s) found in P30450 | Homo sapiens (Human). | \nNCBI_TaxID=9606; | 365 |    Name=HLA-A; Synonyms=HLAA;\n\n-------------------------------------\n\nHydrophobic region(s) found in A7MBM2 | Homo sapiens (Human). | \nNCBI_TaxID=9606; | 1401 |    Name=DISP2; Synonyms=DISPB, KIAA1742;\n\n\nLLALVAIF found at 493\nIWICWFAA found at 705\nLALALAFA found at 970\n\nHydrophobic region(s) found in 2 out of 15 sequences.` \n</code></pre>\n<p>Per my teacher's recommendation, I have adjusted my code as follows so that I include everything within the larger while loop and restrict the number of prints with a counter. This new code prints each new header one time, and below it prints each instance of a found region of DNA (essentially flipping what I had before).</p>\n<p>New code:</p>\n<pre class=\"lang-perl prettyprint-override\"><code>    my $count      = 0;    # here I will count the matched regions\n    my $temp_count = 0;    # this I will use temporarily to count\n\n    my $sequence_count = 0;    # here I will count the sequences\n                               # that contain a matched region\n\n    if ( $file =~ /(.*;.*;?\\n)(\\w+)/ ) {\n\n        my $head     = $1;\n        my $sequence = $2;\n\n        $sequence_count = $sequence_count + 1;\n\n        # Now I use the sequences that I found, and\n        # search them for a hydrophobic region\n        while ( $sequence =~ /([VILMFWCA]{8,}?)/gi ) {\n\n            # I use the count variables I made earlier\n            # I count all times I match a sequence that has one or more hydrophobic region\n            $temp_count = $temp_count + 1;\n\n            # But I don't want the header repeated for the same sequence, so I limit the\n            # times that it can print\n            if ( $temp_count &lt;= 2 ) {\n                print &quot;\\n&quot;, &quot;Hydrophobic region(s) found in &quot;, $head, &quot;\\n&quot;;\n                $count = $count + 1;\n            }\n\n            # I want to know what the position of the match is\n            # within the sequence\n            my $pos = pos( $sequence ) - 7;\n            print $1, &quot; found at &quot;, $pos, &quot;\\n&quot;, &quot;\\n&quot;;\n        }\n    }\n}\n\nprint &quot;\\n&quot;,\n        &quot;\\n&quot;,\n        &quot;-------------------------&quot;,\n        &quot;\\n&quot;,\n        &quot;Hydrophobic region(s) found in &quot;,\n        $count,\n        &quot; out of &quot;,\n        $sequence_count,\n        &quot; sequences.&quot;,\n        &quot;\\n&quot;,\n        &quot;\\n&quot;;\n</code></pre>\n<p>If useful, here is what the file looks like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt;P31946 | Homo sapiens (Human). | NCBI_TaxID=9606; | 246 |    Name=YWHAB;\nMTMDKSELVQKAKLAEQAERYDDMAAAMKAVTEQGHELSNEERNLLSVAYKNVVGARRSSWRVISSIEQKTERNEKKQQMGKEYREKIEAELQDICNDVLELLDKYLIPNATQPESKVFYLKMKGDYFRYLSEVASGDNKQTTVSNSQQAYQEAFEISKKEMQPTHPIRL\nGLALNFSVFYYEILNSPEKACSLAKTAFDEAIAELDTLNEESYKDSTLIMQLLRDNLTLWTSENQGDEGDAGEGEN\n&gt;P62258 | Homo sapiens (Human). | NCBI_TaxID=9606; | 255 |    Name=YWHAE;\nMDDREDLVYQAKLAEQAERYDEMVESMKKVAGMDVELTVEERNLLSVAYKNVIGARRASWRIISSIEQKEENKGGEDKLKMIREYRQMVETELKLICCDILDVLDKHLIPAANTGESKVFYYKMKGDYHRYLAEFATGNDRKEAAENSLVAYKAASDIAMTELPPTHPIR\nLGLALNFSVFYYEILNSPDRACRLAKAAFDDAIAELDTLSEESYKDSTLIMQLLRDNLTLWTSDMQGDGEEQNKEALQDVEDENQ\n&gt;Q04917 | Homo sapiens (Human). | NCBI_TaxID=9606; | 246 |    Name=YWHAH; Synonyms=YWHA1;\nMGDREQLLQRARLAEQAERYDDMASAMKAVTELNEPLSNEDRNLLSVAYKNVVGARRSSWRVISSIEQKTMADGNEKKLEKVKAYREKIEKELETVCNDVLSLLDKFLIKNCNDFQYESKVFYLKMKGDYYRYLAEVASGEKKNSVVEASEAAYKEAFEISKEQMQPTHP\nIRLGLALNFSVFYYEIQNAPEQACLLAKQAFDDAIAELDTLNEDSYKDSTLIMQLLRDNLTLWTSDQQDEEAGEGN\n&gt;P30450 | Homo sapiens (Human). | NCBI_TaxID=9606; | 365 |    Name=HLA-A; Synonyms=HLAA;\nMAVMAPRTLVLLLSGALALTQTWAGSHSMRYFYTSVSRPGRGEPRFIAVGYVDDTQFVRFDSDAASQRMEPRAPWIEQEGPEYWDRNTRNVKAHSQTDRANLGTLRGYYNQSEDGSHTIQRMYGCDVGPDGRFLRGYQQDAYDGKDYIALNEDLRSWTAADMAAQITQRK\nWETAHEAEQWRAYLEGRCVEWLRRYLENGKETLQRTDAPKTHMTHHAVSDHEATLRCWALSFYPAEITLTWQRDGEDQTQDTELVETRPAGDGTFQKWASVVVPSGQEQRYTCHVQHEGLPKPLTLRWEPSSQPTIPIVGIIAGLVLFGAVIAGAVVAAVMWRRKSSDRK\nGGSYSQAASSDSAQGSDMSLTACKV\n&gt;Q156A1 | Homo sapiens (Human). | NCBI_TaxID=9606; | 80 |    Name=ATXN8;\nMQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQ\n&gt;Q9UQB9 | Homo sapiens (Human). | NCBI_TaxID=9606; | 309 |    Name=AURKC; Synonyms=AIE2, AIK3, ARK3, STK13;\nMSSPRAVVQLGKAQPAGEELATANQTAQQPSSPAMRRLTVDDFEIGRPLGKGKFGNVYLARLKESHFIVALKVLFKSQIEKEGLEHQLRREIEIQAHLQHPNILRLYNYFHDARRVYLILEYAPRGELYKELQKSEKLDEQRTATIIEELADALTYCHDKKVIHRDIKPE\nNLLLGFRGEVKIADFGWSVHTPSLRRKTMCGTLDYLPPEMIEGRTYDEKVDLWCIGVLCYELLVGYPPFESASHSETYRRILKVDVRFPLSMPLGARDLISRLLRYQPLERLPLAQILKHPWVQAHSRRVLPPCAQMAS\n&gt;O75366 | Homo sapiens (Human). | NCBI_TaxID=9606; | 819 |    Name=AVIL;\nMPLTSAFRAVDNDPGIIVWRIEKMELALVPVSAHGNFYEGDCYVILSTRRVASLLSQDIHFWIGKDSSQDEQSCAAIYTTQLDDYLGGSPVQHREVQYHESDTFRGYFKQGIIYKQGGVASGMKHVETNTYDVKRLLHVKGKRNIRATEVEMSWDSFNRGDVFLLDLGKV\nIIQWNGPESNSGERLKAMLLAKDIRDRERGGRAEIGVIEGDKEAASPELMKVLQDTLGRRSIIKPTVPDEIIDQKQKSTIMLYHISDSAGQLAVTEVATRPLVQDLLNHDDCYILDQSGTKIYVWKGKGATKAEKQAAMSKALGFIKMKSYPSSTNVETVNDGAESAMFK\nQLFQKWSVKDQTMGLGKTFSIGKIAKVFQDKFDVTLLHTKPEVAAQERMVDDGNGKVEVWRIENLELVPVEYQWYGFFYGGDCYLVLYTYEVNGKPHHILYIWQGRHASQDELAASAYQAVEVDRQFDGAAVQVRVRMGTEPRHFMAIFKGKLVIFEGGTSRKGNAEPDP\nPVRLFQIHGNDKSNTKAVEVPAFASSLNSNDVFLLRTQAEHYLWYGKGSSGDERAMAKELASLLCDGSENTVAEGQEPAEFWDLLGGKTPYANDKRLQQEILDVQSRLFECSNKTGQFVVTEITDFTQDDLNPTDVMLLDTWDQVFLWIGAEANATEKESALATAQQYLH\nTHPSGRDPDTPILIIKQGFEPPIFTGWFLAWDPNIWSAGKTYEQLKEELGDAAAIMRITADMKNATLSLNSNDSEPKYYPIAVLLKNQNQELPEDVNPAKKENYLSEQDFVSVFGITRGQFAALPGWKQLQMKKEKGLF\n&gt;Q9UPA5 | Homo sapiens (Human). | NCBI_TaxID=9606; | 3926 |    Name=BSN; Synonyms=KIAA0434, ZNF231;\nMGNEVSLEGGAGDGPLPPGGAGPGPGPGPGPGAGKPPSAPAGGGQLPAAGAARSTAVPPVPGPGPGPGPGPGPGSTSRRLDPKEPLGNQRAASPTPKQASATTPGHESPRETRAQGPAGQEADGPRRTLQVDSRTQRSGRSPSVSPDRGSTPTSPYSVPQIAPLPSSTLC\nPICKTSDLTSTPSQPNFNTCTQCHNKVCNQCGFNPNPHLTQVKEWLCLNCQMQRALGMDMTTAPRSKSQQQLHSPALSPAHSPAKQPLGKPDQERSRGPGGPQPGSRQAETARATSVPGPAQAAAPPEVGRVSPQPPQPTKPSTAEPRPPAGEAPAKSATAVPAGLGATE\nQTQEGLTGKLFGLGASLLTQASTLMSVQPEADTQGQPAPSKGTPKIVFNDASKEAGPKPLGSGPGPGPAPGAKTEPGARMGPGSGPGALPKTGGTTSPKHGRAEHQAASKAAAKPKTMPKERAICPLCQAELNVGSKSPANYNTCTTCRLQVCNLCGFNPTPHLVEKTEW\nLCLNCQTKRLLEGSLGEPTPLPPPTSQQPPVGAPHRASGTSPLKQKGPQGLGQPSGPLPAKASPLSTKASPLPSKASPQAKPLRASEPSKTPSSVQEKKTRVPTKAEPMPKPPPETTPTPATPKVKSGVRRAEPATPVVKAVPEAPKGGEAEDLVGKPYSQDASRSPQSL\nSDTGYSSDGISSSQSEITGVVQQEVEQLDSAGVTGPHPPSPSEIHKVGSSMRPLLQAQGLAPSERSKPLSSGTGEEQKQRPHSLSITPEAFDSDEELEDILEEDEDSAEWRRRREQQDTAESSDDFGSQLRHDYVEDSSEGGLSPLPPQPPARAAELTDEDFMRRQILEM\nSAEEDNLEEDDTATSGRGLAKHGTQKGGPRPRPEPSQEPAALPKRRLPHNATTGYEELLPEGGSAEATDGSGTLQGGLRRFKTIELNSTGSYGHELDLGQGPDPSLDREPELEMESLTGSPEDRSRGEHSSTLPASTPSYTSGTSPTSLSSLEEDSDSSPSRRQRLEEAK\nQQRKARHRSHGPLLPTIEDSSEEEELREEEELLREQEKMREVEQQRIRSTARKTRRDKEELRAQRRRERSKTPPSNLSPIEDASPTEELRQAAEMEELHRSSCSEYSPSPSLDSEAEALDGGPSRLYKSGSEYNLPTFMSLYSPTETPSGSSTTPSSGRPLKSAEEAYEE\nMMRKAELLQRQQGQAAGARGPHGGPSQPTGPRGLGSFEYQDTTDREYGQAAQPAAEGTPASLGAAVYEEILQTSQSIVRMRQASSRDLAFAEDKKKEKQFLNAESAYMDPMKQNGGPLTPGTSPTQLAAPVSFSTPTSSDSSGGRVIPDVRVTQHFAKETQDPLKLHSSP\nASPSSASKEIGMPFSQGPGTPATTAVAPCPAGLPRGYMTPASPAGSERSPSPSSTAHSYGHSPTTANYGSQTEDLPQAPSGLAAAGRAAREKPLSASDGEGGTPQPSRAYSYFASSSPPLSPSSPSESPTFSPGKMGPRATAEFSTQTPSPAPASDMPRSPGAPTPSPMV\nAQGTQTPHRPSTPRLVWQESSQEAPFMVITLASDASSQTRMVHASASTSPLCSPTETQPTTHGYSQTTPPSVSQLPPEPPGPPGFPRVPSAGADGPLALYGWGALPAENISLCRISSVPGTSRVEPGPRTPGTAVVDLRTAVKPTPIILTDQGMDLTSLAVEARKYGLAL\nDPIPGRQSTAVQPLVINLNAQEHTFLATATTVSITMASSVFMAQQKQPVVYGDPYQSRLDFGQGGGSPVCLAQVKQVEQAVQTAPYRSGPRGRPREAKFARYNLPNQVAPLARRDVLITQMGTAQSIGLKPGPVPEPGAEPHRATPAELRSHALPGARKPHTVVVQMGEG\nTAGTVTTLLPEEPAGALDLTGMRPESQLACCDMVYKLPFGSSCTGTFHPAPSVPEKSMADAAPPGQSSSPFYGPRDPEPPEPPTYRAQGVVGPGPHEEQRPYPQGLPGRLYSSMSDTNLAEAGLNYHAQRIGQLFQGPGRDSAMDLSSLKHSYSLGFADGRYLGQGLQYG\nSVTDLRHPTDLLAHPLPMRRYSSVSNIYSDHRYGPRGDAVGFQEASLAQYSATTAREISRMCAALNSMDQYGGRHGSGGGGPDLVQYQPQHGPGLSAPQSLVPLRPGLLGNPTFPEGHPSPGNLAQYGPAAGQGTAVRQLLPSTATVRAADGMIYSTINTPIAATLPITT\nQPASVLRPMVRGGMYRPYASGGITAVPLTSLTRVPMIAPRVPLGPTGLYRYPAPSRFPIASSVPPAEGPVYLGKPAAAKAPGAGGPSRPEMPVGAAREEPLPTTTPAAIKEAAGAPAPAPLAGQKPPADAAPGGGSGALSRPGFEKEEASQEERQRKQQEQLLQLERERV\nELEKLRQLRLQEELERERVELQRHREEEQLLVQRELQELQTIKHHVLQQQQEERQAQFALQREQLAQQRLQLEQIQQLQQQLQQQLEEQKQRQKAPFPAACEAPGRGPPLAAAELAQNGQYWPPLTHAAFIAMAGPEGLGQPREPVLHRGLPSSASDMSLQTEEQWEASR\nSGIKKRHSMPRLRDACELESGTEPCVVRRIADSSVQTDDEDGESRYLLSRRRRARRSADCSVQTDDEDSAEWEQPVRRRRSRLPRHSDSGSDSKHDATASSSSAAATVRAMSSVGIQTISDCSVQTEPDQLPRVSPAIHITAATDPKVEIVRYISAPEKTGRGESLACQT\nEPDGQAQGVAGPQLVGPTAISPYLPGIQIVTPGPLGRFEKKKPDPLEIGYQAHLPPESLSQLVSRQPPKSPQVLYSPVSPLSPHRLLDTSFASSERLNKAHVSPQKHFTADSALRQQTLPRPMKTLQRSLSDPKPLSPTAEESAKERFSLYQHQGGLGSQVSALPPNSLV\nRKVKRTLPSPPPEEAHLPLAGQASPQLYAASLLQRGLTGPTTVPATKASLLRELDRDLRLVEHESTKLRKKQAELDEEEKEIDAKLKYLELGITQRKESLAKDRGGRDYPPLRGLGEHRDYLSDSELNQLRLQGCTTPAGQFVDFPATAAAPATPSGPTAFQQPRFQPPA\nPQYSAGSGGPTQNGFPAHQAPTYPGPSTYPAPAFPPGASYPAEPGLPNQQAFRPTGHYAGQTPMPTTQSTLFPVPADSRAPLQKPRQTSLADLEQKVPTNYEVIASPVVPMSSAPSETSYSGPAVSSGYEQGKVPEVPRAGDRGSVSQSPAPTYPSDSHYTSLEQNVPRN\nYVMIDDISELTKDSTSTAPDSQRLEPLGPGSSGRPGKEPGEPGVLDGPTLPCCYARGEEESEEDSYDPRGKGGHLRSMESNGRPASTHYYGDSDYRHGARVEKYGPGPMGPKHPSKSLAPAAISSKRSKHRKQGMEQKISKFSPIEEAKDVESDLASYPPPAVSSSLVSR\nGRKFQDEITYGLKKNVYEQQKYYGMSSRDAVEDDRIYGGSSRSRAPSAYSGEKLSSHDFSGWGKGYEREREAVERLQKAGPKPSSLSMAHSRVRPPMRSQASEEESPVSPLGRPRPAGGPLPPGGDTCPQFCSSHSMPDVQEHVKDGPRAHAYKREEGYILDDSHCVVSD\nSEAYHLGQEETDWFDKPRDARSDRFRHHGGHAVSSSSQKRGPARHSYHDYDEPPEEGLWPHDEGGPGRHASAKEHRHGDHGRHSGRHTGEEPGRRAAKPHARDLGRHEARPHSQPSSAPAMPKKGQPGYPSSAEYSQPSRASSAYHHASDSKKGSRQAHSGPAALQSKAE\nPQAQPQLQGRQAAPGPQQSQSPSSRQIPSGAASRQPQTQQQQQGLGLQPPQQALTQARLQQQSQPTTRGSAPAASQPAGKPQPGPSTATGPQPAGPPRAEQTNGSKGTAKAPQQGRAPQAQPAPGPGPAGVKAGARPGGTPGAPAGQPGADGESVFSKILPGGAAEQAGK\nLTEAVSAFGKKFSSFW\n&gt;Q9NSI6 | Homo sapiens (Human). | NCBI_TaxID=9606; | 2320 |    Name=BRWD1; Synonyms=C21orf107, WDR9;\nMAEPSSARRPVPLIESELYFLIARYLSAGPCRRAAQVLVQELEQYQLLPKRLDWEGNEHNRSYEELVLSNKHVAPDHLLQICQRIGPMLDKEIPPSISRVTSLLGAGRQSLLRTAKDCRHTVWKGSAFAALHRGRPPEMPVNYGSPPNLVEIHRGKQLTGCSTFSTAFPG\nTMYQHIKMHRRILGHLSAVYCVAFDRTGHRIFTGSDDCLVKIWSTHNGRLLSTLRGHSAEISDMAVNYENTMIAAGSCDKIIRVWCLRTCAPVAVLQGHTGSITSLQFSPMAKGSQRYMVSTGADGTVCFWQWDLESLKFSPRPLKFTEKPRPGVQMLCSSFSVGGMFLA\nTGSTDHVIRMYFLGFEAPEKIAELESHTDKVDSIQFCNNGDRFLSGSRDGTARIWRFEQLEWRSILLDMATRISGDLSSEEERFMKPKVTMIAWNQNDSIVVTAVNDHVLKVWNSYTGQLLHNLMGHADEVFVLETHPFDSRIMLSAGHDGSIFIWDITKGTKMKHYFNM\nIEGQGHGAVFDCKFSQDGQHFACTDSHGHLLIFGFGCSKPYEKIPDQMFFHTDYRPLIRDSNNYVLDEQTQQAPHLMPPPFLVDVDGNPHPTKYQRLVPGRENSADEHLIPQLGYVATSDGEVIEQIISLQTNDNDERSPESSILDGMIRQLQQQQDQRMGADQDTIPRG\nLSNGEETPRRGFRRLSLDIQSPPNIGLRRSGQVEGVRQMHQNAPRSQIATERDLQAWKRRVVVPEVPLGIFRKLEDFRLEKGEEERNLYIIGRKRKTLQLSHKSDSVVLVSQSRQRTCRRKYPNYGRRNRSWRELSSGNESSSSVRHETSCDQSEGSGSSEEDEWRSDRK\nSESYSESSSDSSSRYSDWTADAGINLQPPLRTSCRRRITRFCSSSEDEISTENLSPPKRRRKRKKENKPKKENLRRMTPAELANMEHLYEFHPPVWITDTTLRKSPFVPQMGDEVIYFRQGHEAYIEAVRRNNIYELNPNKEPWRKMDLRDQELVKIVGIRYEVGPPTLC\nCLKLAFIDPATGKLMDKSFSIRYHDMPDVIDFLVLRQFYDEARQRNWQSCDRFRSIIDDAWWFGTVLSQEPYQPQYPDSHFQCYIVRWDNTEIEKLSPWDMEPIPDNVDPPEELGASISVTTDELEKLLYKPQAGEWGQKSRDEECDRIISGIDQLLNLDIAAAFAGPVD\nLCTYPKYCTVVAYPTDLYTIRMRLVNRFYRRLSALVWEVRYIEHNARTFNEPESVIARSAKKITDQLLKFIKNQHCTNISELSNTSENDEQNAEDLDDSDLPKTSSGRRRVHDGKKSIRATNYVESNWKKQCKELVNLIFQCEDSEPFRQPVDLVEYPDYRDIIDTPMDF\nGTVRETLDAGNYDSPLEFCKDIRLIFSNAKAYTPNKRSKIYSMTLRLSALFEEKMKKISSDFKIGQKFNEKLRRSQRFKQRQNCKGDSQPNKSIRNLKPKRLKSQTKIIPELVGSPTQSTSSRTAYLGTHKTSAGISSGVTSGDSSDSAESSERRKRNRPITNGSTLSES\nEVEDSLATSLSSSASSSSEESKESSRARESSSRSGLSRSSNLRVTRTRAAQRKTGPVSLANGCGRKATRKRVYLSDSDNNSLETGEILKARAGNNRKVLRKCAAVAANKIKLMSDVEENSSSESVCSGRKLPHRNASAVARKKLLHNSEDEQSLKSEIEEEELKDENQPL\nPVSSSHTAQSNVDESENRDSESESDLRVARKNWHANGYKSHTPAPSKTKFLKIESSEEDSKSHDSDHACNRTAGPSTSVQKLKAESISEEADSEPGRSGGRKYNTFHKNASFFKKTKILSDSEDSESEEQDREDGKCHKMEMNPISGNLNCDPIAMSQCSSDHGCETDLD\nSDDDKIEKPNNFMKDSASQDNGLSRKISRKRVCSSDSDSSLQVVKKSSKARTGLLRITRRCAATAANKIKLMSDVEDVSLENVHTRSKNGRKKPLHLACTTAKKKLSDCEGSVHCEVPSEQYACEGKPPDPDSEGSTKVLSQALNGDSDSEDMLNSEHKHRHTNIHKIDA\nPSKRKSSSVTSSGEDSKSHIPGSETDRTFSSESTLAQKATAENNFEVELNYGLRRWNGRRLRTYGKAPFSKTKVIHDSQETAEKEVKRKRSHPELENVKISETTGNSKFRPDTSSKSSDLGSVTESDIDCTDNTKTKRRKTKGKAKVVRKEFVPRDREPNTKVRTCMHNQ\nKDAVQMPSETLKAKMVPEKVPRRCATVAANKIKIMSNLKETISGPENVWIRKSSRKLPHRNASAAAKKKLLNVYKEDDTTINSESEKELEDINRKMLFLRGFRSWKENAQ\n&gt;Q96KE9 | Homo sapiens (Human). | NCBI_TaxID=9606; | 485 |    Name=BTBD6; Synonyms=BDPL;\nMAAELYAPASAAAADLANSNAGAAVGRKAGPRSPPSAPAPAPPPPAPAPPTLGNNHQESPGWRCCRPTLRERNALMFNNELMADVHFVVGPPGATRTVPAHKYVLAVGSSVFYAMFYGDLAEVKSEIHIPDVEPAAFLILLKYMYSDEIDLEADTVLATLYAAKKYIVPALAKACVNFLETSLEAKNACVLLSQSRLFEEPELTQRCWEVIDAQAEMALRSEGFCEIDRQTLEIIVTREALNTKEAVVFEAVLNWAEAECKRQGLPITPRNKRHVLGRALYLVRIPTMTLEEFANGAAQSDILTLEETHSIFLWYTATNKPRLDFPLTKRKGLAPQRCHRFQSSAYRSNQWRYRGRCDSIQFAVDRRVFIAGLGLYGSSSGKAEYSVKIELKRLGVVLAQNLTKFMSDGSSNTFPVWFEHPVQVEQDTFYTASAVLDGSELSYFGQEGMTEVQCGKVAFQFQCSSDSTNGTGVQGGQIPELIFYA\n&gt;P0C7T9 | Homo sapiens (Human). | NCBI_TaxID=9606; | 278 |    Name=BZW1L1;\nMENSERNKLAMLTGVLLANGTLNASILNSLYNENLVKEGVSAAFAVKLFKSWINEKDINAVAASLRKVSMDNRLMELFPANKQSVEHFTKYFTEAGLKELSEYVRNQQTIGARKELQKELQEQMSRGDPFKDIILYVKEEMKKNNIPEPVVIGIVWSSVMSTVEWNKKEELVAEQAIKHLKQYSPLLAAFTTQGQSELTLLLKIQEYCYDNIHFMKAFQKIVVLFYKAEVLSEEPILKWYKDAHVAKGKSVFLEQMKKFVEWLKNAEEESESEAEEGD\n&gt;Q8IYA2 | Homo sapiens (Human). | NCBI_TaxID=9606; | 1237 |    Name=CCDC144C;\nMVSWGGEKRGGAEGSPKPAVYATRKTGSVRSQEDQWYLGYPGDQWSSGFSYSWWKNSVGSESKHGEGALDQPQHDVRLEDLGELHRAARSGDVPGVEHVLVPGDTGVDKRDRKKSIQQLVPEYKEKQTPESLPQNNNPDWHPTNLTLSDETCQRSKNLKVDDKCPSVSPSMPENQSATKELGQMNLTEREKMDTGVKTSQEPEMAKDCDREDIPIYPVLPHVQKSEEMRIEQGKLEWKNQLKLVINELKQRFGEIYEKYKIPACPEEEPLLDNSTRGTDVKDIPFNLTNNIPGCEEEDASEISVSVVFETFPEQKEPSLKNIIHSYYHPYSGSQEHVCQSSSKLHLHENKLDCDNDNKPGIGHIFSTDKNFHNDASTKKARNPEVVTVEMKEDQEFDLQMTKNMNQNSDSGSTNNYKSLKPKLENLSSLPPDSDRTSEVYLHEELQQDMQKFKNEVNTLEEEFLALKKENVQLHKEVEEEMEKHRSNSTELSGTLTDGTTVGNDDDGLNQQIPRKENGEHDRLALKQENEEKRNADMLYNKDSEQLRIKEEECGKVVETKQQLKWNLRRLVKELRTVVQERNDAQKQLSEEQDARILQDQILTSKQKELEMAQKKRNPEISHRHQKEKDLFHENCMLQEEIALLRLEIDTIKNQNKQKEKKYFEDIEVVKEKNDNLQKIIKRNEETLTETILQYSGQLNNLTAENKMLNSELENGKENQERLEIEMESYRCRLAAAVHDCDQSQTARDLKLDFQRTRQEWVRLHDKMKVDMSGLQAKNEILSEKLSNAESKINSLQIQLHNTRDALGRESLILERVQRDLSQTQCQKKETEQMYQSKLKKYIAKQESVEERLSQLQSENMLLRQQLDDVHKKANSQEKTISTIQDQFHSAAKNLQAESEKQILSLQEKNKELMDEYNHLKERMDQCEKEKAGRKIDLTEAQETVPSRCLHLDAENEVLQLQQTLFSMKAIQKQCETLQKNKKQLKQEVVNLKSYMERNMLERGEAEWHKLLIEERARKEIEEKLNEAILTLQKQAAVSHEQLAQLREDNTTSIKTQMELTVIDLESEISRIKTSQADFNKTKLERYKELYLEEVKVRESLSNELSRTNEMIAEVSTQLTVEKEQTRSRSLFTAYATRPVLESPCVGNLNDSEGLNRKHIPRKKRSALKDMESYLLKMQQKLQNDLTAEVAGSSQTGLHRIPQCSSFSSSSLHLLLCSICQPFFLILQLLLNMNLDPI\n&gt;A7MBM2 | Homo sapiens (Human). | NCBI_TaxID=9606; | 1401 |    Name=DISP2; Synonyms=DISPB, KIAA1742;\nMDGDSSSSSGGSGPAPGPGPEGEQRPEGEPLAPDGGSPDSTQTKAVPPEASPERSCSLHSCPLEDPSSSSGPPPTTSTLQPVGPSSPLAPAHFTYPRALQEYQGGSSLPGLGDRAALCSHGSSLSPSPAPSQRDGTWKPPAVQHHVVSVRQERAFQMPKSYSQLIAEWPVAVLMLCLAVIFLCTLAGLLGARLPDFSKPLLGFEPRDTDIGSKLVVWRALQALTGPRKLLFLSPDLELNSSSSHNTLRPAPRGSAQESAVRPRRMVEPLEDRRQENFFCGPPEKSYAKLVFMSTSSGSLWNLHAIHSMCRMEQDQIRSHTSFGALCQRTAANQCCPSWSLGNYLAVLSNRSSCLDTTQADAARTLALLRTCALYYHSGALVPSCLGPGQNKSPRCAQVPTKCSQSSAIYQLLHFLLDRDFLSPQTTDYQVPSLKYSLLFLPTPKGASLMDIYLDRLATPWGLADNYTSVTGMDLGLKQELLRHFLVQDTVYPLLALVAIFFGMALYLRSLFLTLMVLLGVLGSLLVAFFLYQVAFRMAYFPFVNLAALLLLSSVCANHTLIFFDLWRLSKSQLPSGGLAQRVGRTMHHFGYLLLVSGLTTSAAFYASYLSRLPAVRCLALFMGTAVLVHLALTLVWLPASAVLHERYLARGCARRARGRWEGSAPRRLLLALHRRLRGLRRAAAGTSRLLFQRLLPCGVIKFRYIWICWFAALAAGGAYIAGVSPRLRLPTLPPPGGQVFRPSHPFERFDAEYRQLFLFEQLPQGEGGHMPVVLVWGVLPVDTGDPLDPRSNSSLVRDPAFSASGPEAQRWLLALCHRARNQSFFDTLQEGWPTLCFVETLQRWMESPSCARLGPDLCCGHSDFPWAPQFFLHCLKMMALEQGPDGTQDLGLRFDAHGSLAALVLQFQTNFRNSPDYNQTQLFYNEVSHWLAAELGMAPPGLRRGWFTSRLELYSLQHSLSTEPAVVLGLALALAFATLLLGTWNVPLSLFSVAAVAGTVLLTVGLLVLLEWQLNTAEALFLSASVGLSVDFTVNYCISYHLCPHPDRLSRVAFSLRQTSCATAVGAAALFAAGVLMLPATVLLYRKLGIILMMVKCVSCGFASFFFQSLCCFFGPEKNCGQILWPCAHLPWDAGTGDPGGEKAGRPRPGSVGGMPGSCSEQYELQPLARRRSPSFDTSTATSKLSHRPSVLSEDLQLHDGPCCSRPPPAPASPRELLLDHQAVFSQCPALQTSSPYKQAGPSPKTRARQDSQGEEAEPLPASPEAPAHSPKAKAADPPDGFCSSASTLEGLSVSDETCLSTSEPSARVPDSVGVSPDDLDDTGQPVLERGQLNGKRDTLWLALRETVYDPSLPASHHSSLSWKGRGGPGDGSPVVLPNSQPDLPDVWLRRPSTHTSGYSS\n&gt;Q96HU8 | Homo sapiens (Human). | NCBI_TaxID=9606; | 199 |    Name=DIRAS2;\nMPEQSNDYRVAVFGAGGVGKSSLVLRFVKGTFRESYIPTVEDTYRQVISCDKSICTLQITDTTGSHQFPAMQRLSISKGHAFILVYSITSRQSLEELKPIYEQICEIKGDVESIPIMLVGNKCDESPSREVQSSEAEALARTWKCAFMETSAKLNHNVKELFQELLNLEKRRTVSLQIDGKKSKQQKRKEKLKGKCVIM\n&gt;Q8N4W6 | Homo sapiens (Human). | NCBI_TaxID=9606; | 341 |    Name=DNAJC22;\nMAKGLLVTYALWAVGGPAGLHHLYLGRDSHALLWMLTLGGGGLGWLWEFWKLPSFVAQANRAQGQRQSPRGVTPPLSPIRFAAQVIVGIYFGLVALISLSSMVNFYIVALPLAVGLGVLLVAAVGNQTSDFKNTLGSAFLTSPIFYGRPIAILPISVAASITAQRHRRYKALVASEPLSVRLYRLGLAYLAFTGPLAYSALCNTAATLSYVAETFGSFLNWFSFFPLLGRLMEFVLLLPYRIWRLLMGETGFNSSCFQEWAKLYEFVHSFQDEKRQLAYQVLGLSEGATNEEIHRSYQELVKVWHPDHNLDQTEEAQRHFLEIQAAYEVLSQPRKPWGSRR\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Ng3yJ.png\" rel=\"nofollow noreferrer\">Desired Output</a></p>\n<h3>Main Question</h3>\n<p>I just feel like my original code, although upside down, was more reliable because I didn't have to tell it how many times to print the header, it just looked for and printed only unique headers on its own. Is there a better way to print only new instances of headers but to print all matches of the desired sequence that follows? I could not find a way to specify print only unique matches, and I was uncertain about trying to send all headers and matched regions into a hash (and I have no idea how to do that).</p>\n"}, {"tags": ["perl", "label", "subroutine", "goto"], "comments": [{"owner": {"reputation": 5440, "user_id": 3651529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd0cce479479ecfcc3852452a9b8e5e4?s=128&d=identicon&r=PG&f=1", "display_name": "Suren", "link": "https://stackoverflow.com/users/3651529/suren"}, "edited": false, "score": 0, "creation_date": 1508642881, "post_id": 46870162, "comment_id": 80687686, "body": "Doesn&#39;t look like there is enough information is available. Try to see if you can create a small example."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8354329"}, "reply_to_user": {"reputation": 5440, "user_id": 3651529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd0cce479479ecfcc3852452a9b8e5e4?s=128&d=identicon&r=PG&f=1", "display_name": "Suren", "link": "https://stackoverflow.com/users/3651529/suren"}, "edited": false, "score": 0, "creation_date": 1508643713, "post_id": 46870162, "comment_id": 80687824, "body": "Here is the  <a href=\"https://pastebin.com/UWENBXZp\" rel=\"nofollow noreferrer\">complete source code of the example</a>, a simple program."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508647416, "post_id": 46870162, "comment_id": 80688458, "body": "I&#39;m not sure why you want to do this, you can just remove the block label and call your <code>MENU().</code>  Unless you know what you are doing (and why), you probably don&#39;t ever need to use a <code>goto</code> in typical perl code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8354329"}, "edited": false, "score": 0, "creation_date": 1508652033, "post_id": 46870162, "comment_id": 80689216, "body": "i want to call an specific block label in the MENU without making another useless functions..."}, {"owner": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "edited": false, "score": 0, "creation_date": 1508660672, "post_id": 46870162, "comment_id": 80691122, "body": "The &quot;specific block&quot; can&#39;t be selected via function parameter ?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508667037, "post_id": 46870162, "comment_id": 80692831, "body": "Perhaps a better idiom to use would be a dispatch table:  <a href=\"https://hop.perl.plover.com/book/pdf/02DispatchTables.pdf\" rel=\"nofollow noreferrer\">hop.perl.plover.com/book/pdf/02DispatchTables.pdf</a>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 4, "creation_date": 1508667100, "post_id": 46870162, "comment_id": 80692848, "body": "Usually when I see a <code>goto</code> in someone&#39;s perl code, I think its either genius or madness, but I cannot tell which."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508676759, "post_id": 46870162, "comment_id": 80695514, "body": "Since when did <code>goto</code> take two parameters?"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1508676821, "post_id": 46870162, "comment_id": 80695533, "body": "@xxfelixxx All geniuses are mad anyway. When I see a goto, I think the programmer either doesn&#39;t understand the structure of the data or does not know the best representation of the data inside a program. Taking time to figure out what is going on will remove any goto."}, {"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 2, "creation_date": 1568336859, "post_id": 46870162, "comment_id": 102250764, "body": "Please don&#39;t make more work for others by vandalizing your posts. By posting on the Stack Exchange (SE) network, you&#39;ve granted a non-revocable right, under the <a href=\"//creativecommons.org/licenses/by-sa/4.0\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>, for SE to distribute the content (i.e. regardless of your future choices). By SE policy, the non-vandalized version is distributed. Thus, any vandalism will be reverted. Please see: <a href=\"//meta.stackexchange.com/q/5221\">How does deleting work? \u2026</a>. If permitted to delete, there&#39;s a &quot;delete&quot; button below the post, on the left, but it&#39;s only in browsers, not the mobile app."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10957435"}, "reply_to_user": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1568337028, "post_id": 46870162, "comment_id": 102250797, "body": "@Makyen In this particular case, there is an answer, so deleting is probably not possible. Otherwise, I completely agree: Vandalism is not permitted on SO."}, {"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 1, "creation_date": 1568337822, "post_id": 46870162, "comment_id": 102250951, "body": "@Chipster The comment is intended to cover both situations where the OP has the capability to delete and those situations where the OP won&#39;t be able to delete the post. In this case, the OP won&#39;t be able to delete this question due to multiple criteria preventing it. The Q&amp;A I linked in my first comment provides a much more detailed description of what is possible for the Op and the post within the SE system wrt. deleting."}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1568339600, "post_id": 46870162, "comment_id": 102251262, "body": "FYI we typically don&#39;t delete Q&amp;A that&#39;s perceived to be useful by the community (which this evidently is), even if the original poster requests it."}], "answers": [{"comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1508676668, "post_id": 46870378, "comment_id": 80695484, "body": "Another alternative to dispatch tables is OO polymorphism."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 6, "last_activity_date": 1574356982, "last_edit_date": 1574356982, "creation_date": 1508645039, "answer_id": 46870378, "question_id": 46870162, "link": "https://stackoverflow.com/questions/46870162/cant-goto-subroutine-outside-a-subroutine/46870378#46870378", "title": "&quot;Can&#39;t goto subroutine outside a subroutine&quot;", "body": "<p>The <a href=\"https://perldoc.perl.org/functions/goto.html\" rel=\"nofollow noreferrer\">goto</a> expects a single argument, so this code first executes <code>goto &amp;MENU</code> and then after the <a href=\"https://perldoc.perl.org/perlop.html#Comma-Operator\" rel=\"nofollow noreferrer\">comma operator</a> it evaluates the constant <code>INIT_MENU</code> in a void context (drawing a warning).</p>\n\n<p>The purpose of <code>goto &amp;NAME</code> is to replace the subroutine in which it is encountered with subroutine <code>NAME</code>; it doesn't make sense calling it outside of a subroutine and this is an error. From <a href=\"https://perldoc.perl.org/perldiag.html\" rel=\"nofollow noreferrer\">perldiag</a></p>\n\n<blockquote>\n  <ul>\n  <li>Can't goto subroutine outside a subroutine</li>\n  </ul>\n  \n  <p>(F) The deeply magical \"goto subroutine\" call can only replace one subroutine call for another. It can't manufacture one out of whole cloth. In general you should be calling it out of only an AUTOLOAD routine anyway. See <a href=\"https://perldoc.perl.org/functions/goto.html\" rel=\"nofollow noreferrer\">goto</a>.</p>\n</blockquote>\n\n<hr>\n\n<p>A comment on the purpose of this.</p>\n\n<p>A lot has been written on the <a href=\"https://xkcd.com/292/\" rel=\"nofollow noreferrer\">harmfulness</a> of <code>goto LABEL</code>.<sup>&dagger;</sup> Not to mention that <code>INIT_MENU:</code> cannot be found when hidden inside a routine. The upshot is that there are always better ways. </p>\n\n<p>A sampler</p>\n\n<ul>\n<li><p>Call the function and pass the parameter  </p>\n\n<pre><code>MENU(INIT_MENU);\n\nsub MENU {\n    my $menu = shift;\n    if ($menu eq 'INIT_MENU') { ... }\n    ...\n}\n</code></pre></li>\n<li><p>If, for some reason, you want to 'hide' the call to <code>MENU</code> use <code>goto &amp;MENU</code> as intended</p>\n\n<pre><code>sub top_level {   # pass INIT_MENU to this sub\n    ...\n    goto &amp;MENU;   # also passes its @_ as it is at this point\n\n    # the control doesn't return here; MENU took place of this sub\n}\n</code></pre>\n\n<p>This altogether replaces <code>top_level()</code> with <code>MENU()</code> and passes on its <code>@_</code> to it. Then process input in <code>MENU</code> as above (for example) to trigger the chosen block. After this \"<em>not even <a href=\"https://perldoc.perl.org/functions/goto.html#caller-EXPR\" rel=\"nofollow noreferrer\">caller</a> will be able to tell that this routine was called first</em>,\" see <a href=\"https://perldoc.perl.org/functions/goto.html\" rel=\"nofollow noreferrer\">goto</a>. Normally unneeded</p></li>\n<li><p>Why even have <code>MENU()</code>? Instead, have menu options in separate subs and their references can be values in a hash where keys are names of options.  So you'd have a <em>dispatch table</em> and after the logic (or user choice) selects a menu item its code is run directly</p>\n\n<pre><code>my %do_menu_item = ( INIT_MENU =&gt; sub { code for INIT_MENU }, ... );\n...\n$do_menu_item{$item_name}-&gt;();\n</code></pre></li>\n<li><p>Menu systems tend to grow bigger and more complex with development. It would make sense to adopt OO from start, and then there are yet other approaches for this detail</p></li>\n</ul>\n\n<p>If you find yourself considering <code>goto</code> it may be time to reconsider (some of) the design.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup>  See for instance <a href=\"https://stackoverflow.com/questions/46586/goto-still-considered-harmful?rq=1\">this post</a> and <a href=\"https://stackoverflow.com/questions/3517726/what-is-wrong-with-using-goto?noredirect=1&amp;lq=1\">this post</a>. It's (even) worse than that in Perl since there are specific constructs (and restrictions) for situations where <code>goto</code> can be argued acceptable, so there is even less room for it.  One example is jumping out of nested loops: there are <a href=\"https://perldoc.perl.org/perlsyn.html#Loop-Control\" rel=\"nofollow noreferrer\">labels</a> in Perl.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8354329"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "closed_date": 1512359834, "accepted_answer_id": 46870378, "answer_count": 1, "score": 1, "last_activity_date": 1574356982, "creation_date": 1508642443, "last_edit_date": 1568336866, "question_id": 46870162, "link": "https://stackoverflow.com/questions/46870162/cant-goto-subroutine-outside-a-subroutine", "closed_reason": "Needs details or clarity", "title": "&quot;Can&#39;t goto subroutine outside a subroutine&quot;", "body": "<p>I've created a subroutine named \"MENU\" with a label named \"INIT_MENU\" at the top of the subroutine, but when i call this label i got a error : <em>Can't goto subroutine outside a subroutine at program.pl line 15</em></p>\n\n<p><strong>Here is an example:</strong></p>\n\n<pre><code>sub MENU {INIT_MENU: print \"blah blah\";}\n</code></pre>\n\n<p><strong>and here is the line 15:</strong></p>\n\n<pre><code>goto &amp;MENU, INIT_MENU;\n</code></pre>\n\n<hr>\n\n<p>Sorry if it is a duplicated question, i searched in all possible places and even in the official site of  Perl</p>\n"}, {"tags": ["perl", "hash", "hashref"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508629469, "post_id": 46868921, "comment_id": 80685491, "body": "It would help a lot if you explained what you expected <code>my $hash_ref = \\%$hash_name</code> to do."}, {"owner": {"reputation": 1149, "user_id": 1009504, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/72e0a2778528fc5aa75bfcabf3e16664?s=128&d=identicon&r=PG", "display_name": "freeworlder", "link": "https://stackoverflow.com/users/1009504/freeworlder"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508663869, "post_id": 46868921, "comment_id": 80691963, "body": "I want hash_ref to refer to a hash defined by the variable name. Edited question to clarify."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1508770032, "post_id": 46868921, "comment_id": 80731610, "body": "See also <a href=\"https://stackoverflow.com/questions/1549685/how-can-i-use-a-variable-as-a-variable-name-in-perl\">Whenever you find yourself postfixing variable names with an integer index, realize that you should have used an array instead</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1149, "user_id": 1009504, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/72e0a2778528fc5aa75bfcabf3e16664?s=128&d=identicon&r=PG", "display_name": "freeworlder", "link": "https://stackoverflow.com/users/1009504/freeworlder"}, "edited": false, "score": 1, "creation_date": 1508664833, "post_id": 46869046, "comment_id": 80692215, "body": "This doesn&#39;t answer my question. I want to reference the hash with the name taken from a scalar variable. In other words, I have a set of hash tables already defined and I need to access values from any one of those tables depending on user input. So the scalar will define the name of the hash, then I want to define the hash_ref using that name. Sorry if this wasn&#39;t clear."}], "tags": [], "owner": {"reputation": 141, "user_id": 6277637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75bd241571946bd8060b505d56ec4b?s=128&d=identicon&r=PG&f=1", "display_name": "James E Keenan", "link": "https://stackoverflow.com/users/6277637/james-e-keenan"}, "is_accepted": false, "score": 0, "last_activity_date": 1508628066, "creation_date": 1508628066, "answer_id": 46869046, "question_id": 46868921, "link": "https://stackoverflow.com/questions/46868921/how-can-i-reference-a-hash-using-a-variable-name/46869046#46869046", "title": "How can I reference a hash using a variable name?", "body": "<p>The following code is assignment to a scalar, not to a hash:</p>\n\n<pre><code>my $hash_name = 'TEXT';\n</code></pre>\n\n<p>The following code is assignment to a hash:</p>\n\n<pre><code>my %hash = ( alpha =&gt; 'beta', gamma =&gt; 'delta' );\n</code></pre>\n\n<p>To print the value of a single element from the hash, you say:</p>\n\n<pre><code>print $hash{alpha}, \"\\n\";\n</code></pre>\n\n<p>You can take a reference to that hash and assign that to a variable:</p>\n\n<pre><code>my $hashref = \\%hash;\n</code></pre>\n\n<p>And from that you can print a single element from that hashref:</p>\n\n<pre><code>print $hashref-&gt;{alpha}, \"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1149, "user_id": 1009504, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/72e0a2778528fc5aa75bfcabf3e16664?s=128&d=identicon&r=PG", "display_name": "freeworlder", "link": "https://stackoverflow.com/users/1009504/freeworlder"}, "edited": false, "score": 0, "creation_date": 1508664930, "post_id": 46869254, "comment_id": 80692245, "body": "I am using <code>strict</code>. Is there a way of doing this without dereferencing?"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 5, "last_activity_date": 1508630225, "creation_date": 1508630225, "answer_id": 46869254, "question_id": 46868921, "link": "https://stackoverflow.com/questions/46868921/how-can-i-reference-a-hash-using-a-variable-name/46869254#46869254", "title": "How can I reference a hash using a variable name?", "body": "<p>The code you have works just fine<sup>*</sup></p>\n\n<pre><code>%TEXT = (1 =&gt; abc, 42 =&gt; def);\n$name = 'TEXT';\nprint ref($name);         #  \"\"\nno strict 'refs';\nprint ${$name}{1};        #  \"abc\"\nprint $name-&gt;{42}         #  \"def\"\n$ref = \\%$name;\nprint ref($ref);          #  \"HASH\"\nprint $ref-&gt;{1};          #  \"abc\"\nprint ${$ref}{42};        #  \"def\"\n</code></pre>\n\n<p>The main thing that you are doing wrong is <a href=\"https://perl.plover.com/varvarname.html\" rel=\"noreferrer\">making your code an unmaintainable mess</a>, and that is why this sort of thing is not allowed under <code>use strict 'refs'</code>.</p>\n\n<p>* - unless you are running under <code>use strict 'refs'</code>, which you should be</p>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": true, "score": 3, "last_activity_date": 1508677375, "creation_date": 1508677375, "answer_id": 46874396, "question_id": 46868921, "link": "https://stackoverflow.com/questions/46868921/how-can-i-reference-a-hash-using-a-variable-name/46874396#46874396", "title": "How can I reference a hash using a variable name?", "body": "<p>Use a hash to contain your hashes.</p>\n\n<pre><code>my %texts = (\n    TEXT1 =&gt; { 1 =&gt; 'Hello world', },\n    TEXT2 =&gt; { 1 =&gt; 'Hello Mars', },\n    TEXT3 =&gt; { 1 =&gt; 'Hello Venus', },\n)\n\nmy $hash_name = 'TEXT1';\n\nprint $texts{$hash_name}{1}, \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 1149, "user_id": 1009504, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/72e0a2778528fc5aa75bfcabf3e16664?s=128&d=identicon&r=PG", "display_name": "freeworlder", "link": "https://stackoverflow.com/users/1009504/freeworlder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 46874396, "answer_count": 3, "score": 0, "last_activity_date": 1508677375, "creation_date": 1508626848, "last_edit_date": 1508676288, "question_id": 46868921, "link": "https://stackoverflow.com/questions/46868921/how-can-i-reference-a-hash-using-a-variable-name", "title": "How can I reference a hash using a variable name?", "body": "<p>I have a set of pre-defined hash tables and I want to reference one of those hashes using a variable name and access a key value. The following code just returns null even though the hash is populated. What am I doing wrong here, or is there a better way to achieve this?</p>\n\n<pre><code>my %TEXT1 = (1 =&gt; 'Hello World',);\nmy %TEXT2 = (1 =&gt; 'Hello Mars',);\nmy %TEXT3 = (1 =&gt; 'Hello Venus',);\n\nmy $hash_name = 'TEXT1';\n\nmy $hash_ref = \\%$hash_name;\nprint ${$hash_ref}{1};  #prints nothing\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hash", "compare", "key"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1508630769, "post_id": 46867221, "comment_id": 80685713, "body": "Crossposted to <a href=\"http://www.perlmonks.org/?node_id=1201812\" rel=\"nofollow noreferrer\">PerlMonks</a>."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508629232, "post_id": 46867299, "comment_id": 80685462, "body": "<code>while (my @cols = split &#39; &#39;, &lt;$F1&gt;) { ... }</code> will throw a warning unless there is a blank line at the end of the file."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508630666, "post_id": 46867299, "comment_id": 80685696, "body": "@Borodin: What kind of a warning?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508630970, "post_id": 46867299, "comment_id": 80685752, "body": "At a guess, <code>Use of uninitialized value in split</code>? I can&#39;t try it at present."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508632167, "post_id": 46867299, "comment_id": 80685960, "body": "@Borodin: Interestingly, there&#39;s no warning, but if you change it to <code>split &#39; &#39;, my $r = &lt;$F1&gt;</code>, it warns."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508632244, "post_id": 46867299, "comment_id": 80685970, "body": "How odd. Which Perl version are you using? What about <code>split &#39; &#39;, scalar &lt;$F1&gt;</code>?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1508632405, "post_id": 46867299, "comment_id": 80685996, "body": "Hm, no warning even with <code>scalar</code> in 5.18.2, but both ways warn in blead. I&#39;ll fix the code."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1508632447, "last_edit_date": 1508632447, "creation_date": 1508614741, "answer_id": 46867299, "question_id": 46867221, "link": "https://stackoverflow.com/questions/46867221/perl-matching-perl-hash-keys-from-two-files-and-utilizing-in-new-hash/46867299#46867299", "title": "Perl: Matching perl hash keys from two files and utilizing in new hash", "body": "<p>Use a hash of arrays so you don't need to substr and concatenate the strings all the time.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nopen my $F1, '&lt;', 'file1' or die $!;\n&lt;$F1&gt;;  # Skip the header.\nmy %h;\nwhile (&lt;$F1&gt;) {\n    my @cols = split;\n    $h{ $cols[0] } = [ @cols[ 1 .. $#cols ] ];\n}\n\nmy %common;\n\nopen my $F2, '&lt;', 'file2' or die $!;\n&lt;$F2&gt;;\nwhile (&lt;$F2&gt;) {\n    my @cols = split;\n    $common{ $cols[0] } = [ @{ $h{ $cols[0] } }, @cols[ 1 .. $#cols ] ]\n        if exists $h{ $cols[0] };\n}\n\nuse Data::Dumper; print Dumper \\%common;\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 8812116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2d78f4c85fec314e6e2ed909e4c6637?s=128&d=identicon&r=PG&f=1", "display_name": "FIJI", "link": "https://stackoverflow.com/users/8812116/fiji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508632447, "creation_date": 1508614244, "question_id": 46867221, "link": "https://stackoverflow.com/questions/46867221/perl-matching-perl-hash-keys-from-two-files-and-utilizing-in-new-hash", "title": "Perl: Matching perl hash keys from two files and utilizing in new hash", "body": "<p>Just started learning perl, and was wondering if anyone could provide suggestions, relevant examples or resources regarding a coding problem I'm having below.</p>\n\n<p>So I have two data files with tab-delineated columns, similar to the example below. </p>\n\n<pre><code>File#1:\n\nGeneID  ColA    ColB\nGene01  5   15\nGene02  4   8\nGene03  25  5\n\nFile#2:\n\nGeneID  ColA    ColC\nGene01  12  3\nGene03  5   20\nGene05  22  40\nGene06  88  2\n</code></pre>\n\n<p>The actual files I'm using have >50 columns and rows, but are similar to what's above. </p>\n\n<p>First, I want to input the files, establish variables holding the column names for each file, and establish hashes using the column 1 genes as keys and the concatenated values of the other 2 columns per key.</p>\n\n<p>This way there is one key per one value in each row of the hash.</p>\n\n<p>My trouble is the third hash %commongenes. I need to find the keys that are the same in both hashes and use just those keys, and their associated values in both files, in the third hash. In the above example, this would be the following key value pairs:</p>\n\n<pre><code> File1:                  File2: \n\n Gene01 5   15          Gene01  12  3\n Gene03 25  5           Gene03  5   20\n</code></pre>\n\n<p>I know the following if loop is incorrect, but the concatenation of columns from both files it what I'd like to have.</p>\n\n<pre><code> if ($tmpArray1[0] eq $tmpArray2[0]){\n $commongenes{$tmpArray2[0]} = \n    $tmpArray1[1].':'.$tmpArray1[2].':'.$tmpArray2[1].':'.$tmpArray2[2];\n }\n</code></pre>\n\n<p>Here is the main body of the code below:</p>\n\n<pre><code> #!/usr/bin/perl -w\n use strict;                    \n\n my $file1=$ARGV[0];          \n my $file2=$ARGV[1];\n\n open (FILE1, \"&lt;$file1\") or die \"Cannot open $file1 for processing!\\n\";        \n open (FILE2, \"&lt;$file2\") or die \"Cannot opent $file2 for processing!\\n\";      \n\n my @fileLine1=&lt;FILE1&gt;;   \n my @fileLine2=&lt;FILE2&gt;;   \n\n my %file1_allgenes=();        \n my %file2_allgenes=();        \n my %commongenes =();\n\n\n my ($file1_group0name, $file1_group1name, $file1_group2name)=('','','','');\n my ($file2_group0name, $file2_group1name, $file2_group2name)=('','','','');    \n\n for (my $i=0; $i&lt;=$#fileLine1 &amp;&amp; $i&lt;=$#fileLine2; $i++) {   \n chomp($fileLine1[$i]);                                 \n chomp($fileLine2[$i]);                                 \n my @tmpArray1=split('\\t',$fileLine1[$i]);               \n my @tmpArray2=split('\\t',$fileLine2[$i]);                  \n\n if ($i==0) {                                 ## Column Names and/or Letters\n    $file1_group0name=substr($tmpArray1[0],0,6);         \n    $file1_group1name=substr($tmpArray1[1],0,4);         \n    $file1_group2name=substr($tmpArray1[2],0,4);         \n    $file2_group0name=substr($tmpArray2[0],0,6);         \n    $file2_group1name=substr($tmpArray2[1],0,4);         \n    $file2_group2name=substr($tmpArray2[2],0,4);         \n }\n if ($i!=0) {     ## Concatenated values in 3 separate hashes                                       \n    if (! defined $file1_allgenes{$tmpArray1[0]}) {      \n        $file1_allgenes{$tmpArray1[0]}=$tmpArray1[1].':'.$tmpArray1[2];  \n\n    }                                       \n    if (! defined $file2_allgenes{$tmpArray2[0]}) {     \n        $file2_allgenes{$tmpArray2[0]}=$tmpArray2[1].':'.$tmpArray2[2];             \n\n    }\n    if ($tmpArray1[0] eq $tmpArray2[0]){\n        $commongenes{$tmpArray2[0]} = \n    $tmpArray1[1].':'.$tmpArray1[2].':'.$tmpArray2[1].':'.$tmpArray2[2];\n    }\n\n  }\n    my @commongenes = %commongenes;               \n    print \"@commongenes\\n\\n\";              \n  }\n</code></pre>\n\n<p>Any suggestions are most appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 5, "creation_date": 1508610836, "post_id": 46866499, "comment_id": 80680743, "body": "If you had used <code>use strict; use warnings;</code>, Perl would have told you."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8767698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2de9b2de0c493bd773b99617b2010d64?s=128&d=identicon&r=PG&f=1", "display_name": "Echoding", "link": "https://stackoverflow.com/users/8767698/echoding"}, "edited": false, "score": 0, "creation_date": 1508611704, "post_id": 46866537, "comment_id": 80681012, "body": "Much appreciated, thanks :)"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1508784193, "post_id": 46866537, "comment_id": 80739784, "body": "Anecdote: In Germany things are much more complicated. The traffic lights go &quot;red&quot; \u2192 &quot;red&amp;yellow&quot; \u2192 &quot;green&quot; \u2192 &quot;yellow&quot; \u2192 &quot;red&quot;."}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": false, "score": 2, "last_activity_date": 1508610396, "last_edit_date": 1508610396, "creation_date": 1508610035, "answer_id": 46866537, "question_id": 46866499, "link": "https://stackoverflow.com/questions/46866499/why-is-this-if-else-always-true/46866537#46866537", "title": "Why is this if/else always true?", "body": "<p>In Perl <code>==</code> means <a href=\"https://perldoc.perl.org/perlop.html#Equality-Operators\" rel=\"nofollow noreferrer\"><em>numerical equivalence</em></a> where <code>eq</code> is <em>string equivalence</em>. You just need to flip those <code>==</code> to <code>eq</code> to do the right comparisons.</p>\n\n<p>Both <code>\"red\"</code> and <code>\"green\"</code> are equal to zero numerically, so they're considered identical here using numerical comparison.</p>\n\n<p>When writing code like this you should steer towards a lookup table anyway, as this is basically a simple state machine:</p>\n\n<pre><code>my %next_light = (\n  \"red\" =&gt; \"green\",\n  \"yellow\" =&gt; \"red\",\n  \"green\" =&gt; \"yellow\"\n);\n\nsub next_traffic_lights {\n  return $next_light{$_[0]};\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8767698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2de9b2de0c493bd773b99617b2010d64?s=128&d=identicon&r=PG&f=1", "display_name": "Echoding", "link": "https://stackoverflow.com/users/8767698/echoding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "closed_date": 1508610122, "answer_count": 1, "score": 0, "last_activity_date": 1508610396, "creation_date": 1508609786, "last_edit_date": 1508610261, "question_id": 46866499, "link": "https://stackoverflow.com/questions/46866499/why-is-this-if-else-always-true", "closed_reason": "Duplicate", "title": "Why is this if/else always true?", "body": "<p>Whatever color the input is it returns \"green\" :(</p>\n\n<pre><code>sub next_traffic_lights {\n  my ($x) = @_;\n  if ($x == \"red\") { \n    return \"green\";\n  } \n  elsif ($x == \"green\") {\n    return \"yellow\";\n  } else {\n    return \"red\";\n  }\n }\n</code></pre>\n"}, {"tags": ["perl", "dbi", "dbix-class"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508648987, "post_id": 46864345, "comment_id": 80688665, "body": "Why don&#39;t you do the lookup before the create?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508671026, "post_id": 46864345, "comment_id": 80693881, "body": "because I do not require to lookup data when user <code>POST</code> his selection. I require lookup only when rendering form <code>subnet&#47;create</code>."}], "answers": [{"comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508671345, "post_id": 46873457, "comment_id": 80693961, "body": "You should add a reference to that quote, so others can read its context."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1508729899, "post_id": 46873457, "comment_id": 80710409, "body": "You should save $@ in some other variable immediately in the unless block; if you put other code first it might end up cleared or changed"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508730799, "post_id": 46873457, "comment_id": 80710582, "body": "Thanks, missed that bit."}, {"owner": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "edited": false, "score": 0, "creation_date": 1535223412, "post_id": 46873457, "comment_id": 90991044, "body": "This is a situation where <code>Try::Tiny</code> would help you, since it does the <code>$@</code>-saving etc."}], "tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": true, "score": 0, "last_activity_date": 1508755429, "last_edit_date": 1508755429, "creation_date": 1508671224, "answer_id": 46873457, "question_id": 46864345, "link": "https://stackoverflow.com/questions/46864345/how-to-access-database-data-when-exception-occur/46873457#46873457", "title": "How to access database data when exception occur?", "body": "<p>Seems I found the answer, because read error message more carefully:</p>\n\n<blockquote>\n  <p>... commands ignored until end of transaction block</p>\n</blockquote>\n\n<p>So I force the end for transaction block when exception occur:</p>\n\n<pre><code>$c-&gt;db-&gt;txn_rollback;\n</code></pre>\n\n<p>The code:</p>\n\n<pre><code>my $savepoint =  $c-&gt;db-&gt;txn_scope_guard;\nunless( $subnet =  eval{ $self-&gt;rows( 'Subnet' )-&gt;create( $subnet ) } ) {\n    my $e = $@; # $@ may be changed before `create =&gt; $@`\n    undef $savepoint; # Or the same: $c-&gt;db-&gt;txn_rollback;     \n    return $self-&gt;render( 'subnet/create',  error =&gt; [ create =&gt; $e ],\n        servers =&gt;  $self-&gt;rows( 'Server' )-&gt;lookup,\n    );\n}\n$savepoint-&gt;commit;\n</code></pre>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 46873457, "answer_count": 1, "score": 1, "last_activity_date": 1508755429, "creation_date": 1508596337, "last_edit_date": 1508597030, "question_id": 46864345, "link": "https://stackoverflow.com/questions/46864345/how-to-access-database-data-when-exception-occur", "title": "How to access database data when exception occur?", "body": "<p>I have next code:</p>\n\n<pre><code>my $savepoint =  $c-&gt;db-&gt;txn_scope_guard;\nreturn $self-&gt;render( 'subnet/create',  error =&gt; [ create =&gt; $@ ],\n    servers =&gt;  $self-&gt;rows( 'Server' )-&gt;lookup,\n) unless $subnet =  eval{ $self-&gt;rows( 'Subnet' )-&gt;create( $subnet ) };\n$savepoint-&gt;commit;\n</code></pre>\n\n<p>Here <code>rows</code> is Mojolicious helper which provides access to data.</p>\n\n<pre><code>sub model {\n    my( $c, $table_name ) =  (shift,shift);\n\n    return $c-&gt;db-&gt;resultset( $table_name );\n}\n</code></pre>\n\n<p>And <code>-&gt;db</code> is also helper:</p>\n\n<pre><code>sub db { return $schema\n    //=  DBIx::Class::Schema-&gt;connect( $DB-&gt;{ DSN },  @$DB{ qw/ USER PASS / },  {\n        AutoCommit =&gt; 1,\n        RaiseError =&gt; 1,\n        quote_char =&gt; '\"',\n    })\n});\n</code></pre>\n\n<p>When I create <code>$subnet</code> and unique constraint occurs (here has no matter which constraint occur, actually in case of any exception) I got the error:</p>\n\n<pre><code>DBIx::Class::Storage::DBI::_dbh_execute(): DBI Exception: DBD::Pg::st execute failed: ERROR:  current transaction is aborted, commands ignored until end of transaction block [for Statement \"SELECT \"me\".\"id\", \"me\".\"hostname\" FROM \"servers\" \"me\" ORDER BY hostname\"] at ...\n</code></pre>\n\n<p>This is when I catch exception with <code>eval{ ... }</code> the current transaction is aborted and I can not do <code>$self-&gt;rows( 'Server' )-&gt;lookup</code></p>\n\n<p><strong>Is there a way to access server data after exception occur?</strong></p>\n"}, {"tags": ["perl", "ietf-netconf"], "answers": [{"comments": [{"owner": {"reputation": 4883, "user_id": 62138, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/65881e840f44a05c4f3b0aea257da42e?s=128&d=identicon&r=PG", "display_name": "salparadise", "link": "https://stackoverflow.com/users/62138/salparadise"}, "edited": false, "score": 1, "creation_date": 1508611517, "post_id": 46866626, "comment_id": 80680953, "body": "Probably an artifact of Junos not having any <i>underscores</i> in their XML tags and adding some sugar in objectifying the RPC requests.   <a href=\"https://www.juniper.net/documentation/en_US/junos13.2/topics/task/program/netconf-perl-client-application-submitting-requests.html\" rel=\"nofollow noreferrer\">Some examples show it done on their methods</a>. I would guess that there hasn&#39;t been a lot of other vendors doing netconf until recently."}, {"owner": {"reputation": 366, "user_id": 4488775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-c7dUxZESZzs/AAAAAAAAAAI/AAAAAAAAAGI/OxEft3Nihy4/photo.jpg?sz=128", "display_name": "Bala Krishnan", "link": "https://stackoverflow.com/users/4488775/bala-krishnan"}, "edited": false, "score": 0, "creation_date": 1508738935, "post_id": 46866626, "comment_id": 80712967, "body": "Thanks Borodin. I have raised an issue in netconf-perl API in github. Seems like they are standardizing only to have hyphens in RPC requests instead of underscores. The issue can be tracked in the following link <a href=\"https://github.com/Juniper/netconf-perl/issues/35\" rel=\"nofollow noreferrer\">github.com/Juniper/netconf-perl/issues/35</a>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1508610636, "creation_date": 1508610636, "answer_id": 46866626, "question_id": 46864200, "link": "https://stackoverflow.com/questions/46864200/netnetconfmanager-converts-underscore-in-rpc-request-to-hyphen/46866626#46866626", "title": "&quot;Net::Netconf::Manager&quot; converts underscore in RPC request to hyphen", "body": "<p>The code that does this is on line 492 of\n<a href=\"https://metacpan.org/source/JUNIPER/Net-Netconf-1.04/lib/Net/Netconf/Device.pm#L492\" rel=\"nofollow noreferrer\"><code>Net/Netconf/Device.pm</code></a>. It's a simple substitution, and there's no comment to explain why it's there</p>\n\n<p>All I can think of to do is to comment out that line</p>\n\n<pre><code>($tag = $field) =~ s/_/-/g\n</code></pre>\n\n<p>and replace it with</p>\n\n<pre><code>$tag = $field\n</code></pre>\n\n<p>which should get things going for you. In the mean time, you could perhaps email the <em>Juniper Networks Perl Team</em> at <strong>netconf-support@juniper.net</strong> and ask about it. If you do, please let us know the response</p>\n"}], "owner": {"reputation": 366, "user_id": 4488775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-c7dUxZESZzs/AAAAAAAAAAI/AAAAAAAAAGI/OxEft3Nihy4/photo.jpg?sz=128", "display_name": "Bala Krishnan", "link": "https://stackoverflow.com/users/4488775/bala-krishnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 46866626, "answer_count": 1, "score": 0, "last_activity_date": 1508610636, "creation_date": 1508595472, "last_edit_date": 1508609587, "question_id": 46864200, "link": "https://stackoverflow.com/questions/46864200/netnetconfmanager-converts-underscore-in-rpc-request-to-hyphen", "title": "&quot;Net::Netconf::Manager&quot; converts underscore in RPC request to hyphen", "body": "<p>I am using\n<a href=\"https://metacpan.org/pod/Net::Netconf::Manager\" rel=\"nofollow noreferrer\"><code>Net::Netconf::Manager</code></a>\nto query a device with RPC commands. In the RPC commands I should send a list of arguments, so I'm adding query arguments in a hash. One such argument is <code>verbosity_level</code></p>\n\n<p>Please note I am using underscore <code>_</code> in this argument. When I print the hash, it is still underscore. </p>\n\n<p>But when I print the XML RPC request that is sent to the device, the argument is changed to <code>verbosity-level</code></p>\n\n<pre><code>&lt;verbosity-level&gt;abcd&lt;/verbosity-level&gt;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>&lt;verbosity_level&gt;abcd&lt;/verbosity_level&gt;\n</code></pre>\n\n<p>So the device says it does not know such argument.</p>\n\n<p>Why is the underscore gets converted to hyphen?</p>\n"}, {"tags": ["perl", "csv", "transpose"], "comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1508579596, "post_id": 46861454, "comment_id": 80671504, "body": "<a href=\"http://whathaveyoutried.com/\" rel=\"nofollow noreferrer\">What have you tried?</a> SO is not a write-some-code-for-me site. You&#39;ll have to try for yourself and when you&#39;re stuck somewhere then state your problem here and you&#39;ll get help."}, {"owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "edited": false, "score": 1, "creation_date": 1508579724, "post_id": 46861454, "comment_id": 80671537, "body": "Use Text::CSV module from CPAN. Don&#39;t try to roll out your own parser."}, {"owner": {"reputation": 47, "user_id": 3170892, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bIVoa.jpg?s=128&g=1", "display_name": "Guilmxm", "link": "https://stackoverflow.com/users/3170892/guilmxm"}, "edited": false, "score": 0, "creation_date": 1508584095, "post_id": 46861454, "comment_id": 80672600, "body": "dgw Hi, yes I understand. I don&#39;t ask for the full solution, just to be put on the right direction. I obviously found thousands of example of transposition, but none talking about a by dimension transposition  jira Hi, thank you. Will try to dig within the CSV module then"}, {"owner": {"reputation": 47, "user_id": 3170892, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bIVoa.jpg?s=128&g=1", "display_name": "Guilmxm", "link": "https://stackoverflow.com/users/3170892/guilmxm"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1508587573, "post_id": 46861454, "comment_id": 80673533, "body": "@dgw: I have a starting piece of code that looks interesting, now I need to understand if can extract the values from the hash and reflecting this against my dimensions..."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 3170892, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bIVoa.jpg?s=128&g=1", "display_name": "Guilmxm", "link": "https://stackoverflow.com/users/3170892/guilmxm"}, "edited": false, "score": 0, "creation_date": 1508614821, "post_id": 46865491, "comment_id": 80682006, "body": "Waooo! Thank you very much Mike ! That does it ;-)  Really cool, a big thank !"}], "tags": [], "owner": {"reputation": 1945, "user_id": 5669174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XGSyr.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/5669174/mike"}, "is_accepted": true, "score": 1, "last_activity_date": 1508603708, "creation_date": 1508603708, "answer_id": 46865491, "question_id": 46861454, "link": "https://stackoverflow.com/questions/46861454/perl-transpose-csv-data-on-a-per-x-dimensions-basis/46865491#46865491", "title": "Perl - transpose CSV data on a per x dimensions basis", "body": "<pre><code>#!/usr/bin/perl\nuse Data::Dumper;\nuse Text::CSV;\nuse strict;\nuse warnings;\n\nmy $csvfile = shift or die \"No filename specified\";\nopen(my $FILE, $csvfile) or die \"Can't open $csvfile: $!\";\n\nmy $out_file=\\*STDOUT;\n# open($out_file,\"&gt;\",....);\n\nmy @out_head =qw(metric_timestamp metric_name dimension_Command dimension_PID _value);\n\nmy $csv     = Text::CSV-&gt;new();\nmy $out_csv = Text::CSV-&gt;new();\n\n$out_csv-&gt;column_names(@out_head);\n$out_csv-&gt;combine(@out_head);\nprint $out_file $out_csv-&gt;string, \"\\n\";\n\nmy @head=@{$csv-&gt;getline($FILE)};\n$csv-&gt;column_names(\\@head);\n@head=grep {!/metric_timestamp|metric_name|Command|PID/} @head;\nwhile (my $row = $csv-&gt;getline_hr ($FILE)) {\n  my %out;\n  @out{@out_head}=@{$row}{'metric_timestamp','metric_name','Command','PID'};\n  for(@head) {\n    $out{metric_name}=$_;\n    $out{_value}=$row-&gt;{$_};\n    $out_csv-&gt;combine(map { $out{$_} } @out_head);\n    print $out_file $out_csv-&gt;string, \"\\n\";\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 3170892, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bIVoa.jpg?s=128&g=1", "display_name": "Guilmxm", "link": "https://stackoverflow.com/users/3170892/guilmxm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 46865491, "answer_count": 1, "score": 0, "last_activity_date": 1508603708, "creation_date": 1508574501, "last_edit_date": 1508587417, "question_id": 46861454, "link": "https://stackoverflow.com/questions/46861454/perl-transpose-csv-data-on-a-per-x-dimensions-basis", "title": "Perl - transpose CSV data on a per x dimensions basis", "body": "<p>I am looking for some help to achieve the following task, I need using Perl to be able to transpose CSV data on a per x dimension basis.</p>\n\n<p><strong>My parser produces the following:</strong></p>\n\n<pre><code>metric_timestamp,metric_name,logical_cpus,virtual_cpus,PID,pct_CPU,pct_Usr,pct_Sys,Size,ResSet,ResText,ResData,ShdLib,MinorFault,MajorFault,Command,Threads,IOwaitTime\n1508571992,top,8,8,0022309,5.10,4.73,0.37,883068,205532,3744,437988,133848,218,0,update-manager,4,0\n1508571992,top,8,8,0019621,4.75,3.82,0.93,1583120,154436,12,1052056,32676,6,0,compiz,12,0\n1508571992,top,8,8,0022969,3.84,3.58,0.25,6806384,124468,38608,6743892,30840,287,0,splunkd,8,0\n1508571992,top,8,8,0024821,3.60,2.54,1.06,996964,437244,38608,926092,39856,3932,0,splunkd,65,0\n1508571992,top,8,8,0018921,3.48,1.50,1.98,607744,75992,2288,241472,59520,135,0,Xorg,4,83\n1508571992,top,8,8,0002234,3.43,3.18,0.25,44692,4084,212,2372,2032,5,0,dbus-daemon,1,1\n1508571992,top,8,8,0000001,2.47,1.57,0.90,37992,5956,1392,1876,3932,169,0,systemd,1,0\n1508571992,top,8,8,0019826,1.89,1.64,0.25,244172,3496,3744,90560,1436,0,0,hp-systray,2,0\n1508571992,top,8,8,0018387,1.12,0.00,1.12,0,0,0,0,0,0,0,irq/137-brcmf_p,1,0\n1508571992,top,8,8,0019112,1.01,0.93,0.08,6825396,136828,38608,6762904,31856,78,0,splunkd,9,0\n1508571992,top,8,8,0019667,1.01,0.71,0.30,513568,7672,220,298512,5188,37,0,indicator-multi,4,0\n1508571992,top,8,8,0019460,0.88,0.79,0.08,652552,43828,72,387284,15828,0,0,unity-panel-ser,5,0\n1508571992,top,8,8,0017365,0.78,0.00,0.78,0,0,0,0,0,0,0,kworker/0:0,1,11\n1508571992,top,8,8,0021906,0.76,0.00,0.76,0,0,0,0,0,0,0,kworker/2:5,1,22\n1508571992,top,8,8,0019373,0.64,0.47,0.17,32920,764,140,492,560,0,0,upstart-dbus-br,1,0\n1508571992,top,8,8,0018182,0.61,0.00,0.61,0,0,0,0,0,0,0,kworker/u16:6,1,4\n1508571992,top,8,8,0018246,0.56,0.00,0.56,0,0,0,0,0,0,0,kworker/u16:65,1,0\n1508571992,top,8,8,0024853,0.47,0.25,0.22,2464304,381020,23044,523220,332228,9,0,mongod,80,0\n1508571992,top,8,8,0000651,0.44,0.00,0.44,0,0,0,0,0,0,0,kworker/u16:0,1,0\n1508571992,top,8,8,0020568,0.44,0.37,0.07,296200,109540,3744,121404,62012,7,0,aptd,2,0\n1508571992,top,8,8,0019321,0.39,0.29,0.10,44908,3808,212,2588,1536,0,0,dbus-daemon,1,0\n1508571992,top,8,8,0024373,0.39,0.00,0.39,0,0,0,0,0,0,0,kworker/u16:5,1,0\n1508571992,top,8,8,0018194,0.37,0.00,0.37,0,0,0,0,0,0,0,kworker/u16:12,1,9\n1508571992,top,8,8,0018191,0.35,0.00,0.35,0,0,0,0,0,0,0,kworker/u16:9,1,0\n1508571992,top,8,8,0002315,0.34,0.12,0.22,32524,5736,580,4364,1544,18,0,systemd-logind,1,0\n1508571992,top,8,8,0026328,0.34,0.29,0.05,1088852,136536,1852,674588,37648,0,0,shutter,4,0\n1508571992,top,8,8,0000339,0.32,0.00,0.32,0,0,0,0,0,0,0,dmcrypt_write,1,37\n1508571992,top,8,8,0000402,0.32,0.00,0.32,0,0,0,0,0,0,0,jbd2/dm-1-8,1,849\n1508571992,top,8,8,0019528,0.30,0.27,0.03,476884,3012,40,295680,2420,0,0,indicator-appli,3,0\n</code></pre>\n\n<p>The dimensions are the fields \"Command\" (name of the command invocation) and the \"PID\".</p>\n\n<p><strong>The goal is to get each metric to be transposed with 1 metric value per Command, PID:</strong></p>\n\n<p><em>Notes: The position of the dimensions within the CSV data can be dynamic, ideally I would want it to be detected automatically</em></p>\n\n<pre><code>metric_timestamp,metric_name,dimension_Command,dimension_PID,_value\n1508573159,IOwaitTime,java,7736,0\n1508573159,MajorFault,java,7736,0\n1508573159,MinorFault,java,7736,28\n1508573159,ResData,java,7736,6539320\n1508573159,ResSet,java,7736,957420\n1508573159,ResText,java,7736,4\n1508573159,ShdLib,java,7736,38092\n1508573159,Size,java,7736,6764384\n1508573159,Threads,java,7736,58\n1508573159,logical_cpus,java,7736,8\n1508573159,pct_CPU,java,7736,105.91\n1508573159,pct_Sys,java,7736,0.88\n1508573159,pct_Usr,java,7736,105.03\n1508573159,virtual_cpus,java,7736,8\n1508573159,IOwaitTime,Xorg,2674,56\n1508573159,MajorFault,Xorg,2674,0\n1508573159,MinorFault,Xorg,2674,4\n1508573159,ResData,Xorg,2674,235788\n1508573159,ResSet,Xorg,2674,73252\n1508573159,ResText,Xorg,2674,2288\n1508573159,ShdLib,Xorg,2674,58636\n1508573159,Size,Xorg,2674,580760\n1508573159,Threads,Xorg,2674,4\n1508573159,logical_cpus,Xorg,2674,8\n1508573159,pct_CPU,Xorg,2674,2.86\n1508573159,pct_Sys,Xorg,2674,1.56\n1508573159,pct_Usr,Xorg,2674,1.3\n1508573159,virtual_cpus,Xorg,2674,8\n</code></pre>\n\n<p>Ideally I would want to use only Perl core module since the program must be as portable as possible avoiding requiring modules installation. \nUnless it is not possible off course and I have a solution with a Perl module.</p>\n\n<p>In Python, I am achieving the task using the csv module, unfortunately I am totally stuck with Perl to achieve the same...</p>\n\n<p>Thank you very much in advance for your help !</p>\n\n<p>edit 1:</p>\n\n<p>I have starting code using the Text::CSV:XS module, this looks like a way to manipulate or iterate over the dimensions, which I don't know yet how to process ;-)</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Text::CSV_XS;\nuse strict;\nuse warnings;\n\nmy $csvfile = shift or die \"No filename specified\";\n\nmy $csv = Text::CSV_XS-&gt;new();\n\nmy @columns;\n\nopen(FILE, $csvfile) or die \"Can't open $csvfile: $!\";\nwhile (&lt;FILE&gt;) {\n    $csv-&gt;parse($_) or die \"parse() failed: \" . $csv-&gt;error_input();\n    my @data = $csv-&gt;fields();\n\n    for my $i (0..$#data) {\n        push @{$columns[$i]}, $data[$i];\n    }\n}\nclose(FILE);\n\nmy %hash = map {shift @$_ =&gt; $_} @columns;\n\nuse Data::Dumper;\nprint Dumper(\\%hash);\n</code></pre>\n\n<p><strong>This produces:</strong></p>\n\n<pre><code>$VAR1 = {\n          'PID' =&gt; [\n                     '0007736',\n                     '0007402'\n                   ],\n          'metric_name' =&gt; [\n                             'os.unix.nmon.processes.top',\n                             'os.unix.nmon.processes.top'\n                           ],\n          'Threads' =&gt; [\n                         '51',\n                         '44'\n                       ],\n          'ResText' =&gt; [\n                         '4',\n                         '130084'\n                       ],\n          'logical_cpus' =&gt; [\n                              '8',\n                              '8'\n                            ],\n          'MinorFault' =&gt; [\n                            '69',\n                            '174'\n                          ],\n          'MajorFault' =&gt; [\n                            '0',\n                            '0'\n                          ],\n          'ResData' =&gt; [\n                         '6531132',\n                         '3772776'\n                       ],\n          'pct_CPU' =&gt; [\n                         '25.34',\n                         '7.05'\n                       ],\n          'ResSet' =&gt; [\n                        '687028',\n                        '547372'\n                      ],\n          'metric_timestamp' =&gt; [\n                                  '1508572327',\n                                  '1508572327',\n                                  ''\n                                ],\n          'IOwaitTime' =&gt; [\n                            '0',\n                            '0'\n                          ],\n          'virtual_cpus' =&gt; [\n                              '8',\n                              '8'\n                            ],\n          'Size' =&gt; [\n                      '6756256',\n                      '4596936'\n                    ],\n          'Command' =&gt; [\n                         'java',\n                         'chromium-browse'\n                       ],\n          'pct_Sys' =&gt; [\n                         '0.35',\n                         '1.14'\n                       ],\n          'pct_Usr' =&gt; [\n                         '24.99',\n                         '5.90'\n                       ],\n          'ShdLib' =&gt; [\n                        '37688',\n                        '185404'\n                      ]\n        };\n</code></pre>\n\n<p>How could I iterate over the available fields with my dimensions ?</p>\n"}, {"tags": ["perl", "datetime"], "answers": [{"tags": [], "owner": {"reputation": 2496, "user_id": 2469275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b7EZh.png?s=128&g=1", "display_name": "janh", "link": "https://stackoverflow.com/users/2469275/janh"}, "is_accepted": true, "score": 5, "last_activity_date": 1508575067, "creation_date": 1508575067, "answer_id": 46861522, "question_id": 46861348, "link": "https://stackoverflow.com/questions/46861348/getting-two-digit-month-and-date-from-datetime-in-perl/46861522#46861522", "title": "Getting two digit month and date from DateTime in perl", "body": "<p>Use sprintf (or printf, if you're just going to print it).</p>\n\n<pre><code>my $month = sprintf(\"%02d\", $startDate-&gt;month());\n</code></pre>\n\n<p>It will zero-pad your input. Take a look at <a href=\"https://perldoc.perl.org/functions/sprintf.html\" rel=\"noreferrer\">the documentation</a> to learn more about the format parameter.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1600150128, "last_edit_date": 1600150128, "creation_date": 1508579990, "answer_id": 46862101, "question_id": 46861348, "link": "https://stackoverflow.com/questions/46861348/getting-two-digit-month-and-date-from-datetime-in-perl/46862101#46862101", "title": "Getting two digit month and date from DateTime in perl", "body": "<p>You can also get all of them, as you'll probably need them</p>\n<pre><code>my ($year, $mon, $day) = unpack &quot;A4A2A2&quot;, $startDate-&gt;ymd('');\n</code></pre>\n<p>or</p>\n<pre><code>my ($year, $mon, $day) = split /-/, $startDate-&gt;ymd();\n</code></pre>\n<p>The default separator for <a href=\"https://metacpan.org/pod/release/DROLSKY/DateTime-1.44/lib/DateTime.pm#$dt-%3Eymd(-$optional_separator-),-$dt-%3Emdy(...),-$dt-%3Edmy(...)\" rel=\"nofollow noreferrer\">DateTime::ymd</a> is <code>-</code> (dash).</p>\n"}], "owner": {"reputation": 3144, "user_id": 5001360, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c5714d1e2c81fd7fd0bfb567ee8c5d6b?s=128&d=identicon&r=PG&f=1", "display_name": "chrisrhyno2003", "link": "https://stackoverflow.com/users/5001360/chrisrhyno2003"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1379, "favorite_count": 0, "accepted_answer_id": 46861522, "answer_count": 2, "score": 2, "last_activity_date": 1600150128, "creation_date": 1508573488, "last_edit_date": 1508573862, "question_id": 46861348, "link": "https://stackoverflow.com/questions/46861348/getting-two-digit-month-and-date-from-datetime-in-perl", "title": "Getting two digit month and date from DateTime in perl", "body": "<p>Hello I am using Perl's DateTime to parse a string and convert it to a date format. </p>\n\n<p>My code here looks like this:</p>\n\n<pre><code>my $parser = DateTime::Format::Strptime-&gt;new( pattern =&gt; \"%Y-%m-%dT%H:%M:%SZ\", time_zone =&gt; 'UTC', on_error  =&gt; 'croak');\nmy $startDate = $parser-&gt;parse_datetime(\"2017-04-14T21:00:00Z\");\nmy $endDate = $parser-&gt;parse_datetime(\"2017-04-14T23:00:00Z\");\nprint $startDate-&gt;month();\n</code></pre>\n\n<p>When I print the month, I get only 4, or if the date is changed to a number less than 10, I get a single digit number. </p>\n\n<p>Is there a cleaner way to obtain the two digit month/date without prepending a zero before the number if its less than 10? </p>\n"}, {"tags": ["bash", "perl"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5540448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9154019069d195bd7a7d80351d425211?s=128&d=identicon&r=PG&f=1", "display_name": "Nagne", "link": "https://stackoverflow.com/users/5540448/nagne"}, "edited": false, "score": 0, "creation_date": 1508542799, "post_id": 46858306, "comment_id": 80664891, "body": "As you can tell i am new to perl :) How should i use the File::Temp?"}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1508555754, "post_id": 46858306, "comment_id": 80667109, "body": "I hate reading the manual pages, but you could always look up the documentation for File::Temp by typing such in the terminal: perldoc File::Temp"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1508539625, "creation_date": 1508539625, "answer_id": 46858306, "question_id": 46858245, "link": "https://stackoverflow.com/questions/46858245/sorting-a-file-with-perl-using-a-shell-script-menu/46858306#46858306", "title": "Sorting a file with perl using a Shell Script menu", "body": "<p>If you don't want Perl to overwrite your file, don't tell it to do so:</p>\n\n<p><code>open(my $output, \"&gt;\", \"$filename\")</code> opens $filename for writing, i.e. overwrites it.</p>\n\n<p>Maybe specify a different filename for the output, or use <a href=\"http://p3rl.org/File::Temp\" rel=\"nofollow noreferrer\">File::Temp</a>.</p>\n\n<p>BTW, it makes no sense to wrap $filename into double quotes in Perl, you can directly</p>\n\n<pre><code>open my $output, '&gt;', $filename or die ...\n</code></pre>\n\n<p>Also, instead of chomping line by line, you can</p>\n\n<pre><code>chomp $lines;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "is_accepted": false, "score": 1, "last_activity_date": 1508540048, "creation_date": 1508540048, "answer_id": 46858366, "question_id": 46858245, "link": "https://stackoverflow.com/questions/46858245/sorting-a-file-with-perl-using-a-shell-script-menu/46858366#46858366", "title": "Sorting a file with perl using a Shell Script menu", "body": "<p>You already write the sorted content to a file in your perl code. Try to replace \"$filename\" in <code>open(my $output, \"&gt;\", \"$filename\")</code> to the new file name, so the script will write to the new file instead of rewriting the input file. With that don't forget to remove <code>cp $filename $outputfilename</code> from your bash script, otherwise it will replace the new file with the contents of the old (input) file. Or (if <code>$outputfilename</code> is different from the new file name in the perl script) it will create a new unsorted file with <code>$outputfilename</code> name and unsorted content, ending with 3 files: 2 with unsorted content and 1 - with sorted.</p>\n"}], "owner": {"reputation": 11, "user_id": 5540448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9154019069d195bd7a7d80351d425211?s=128&d=identicon&r=PG&f=1", "display_name": "Nagne", "link": "https://stackoverflow.com/users/5540448/nagne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1508540048, "creation_date": 1508539046, "last_edit_date": 1508539515, "question_id": 46858245, "link": "https://stackoverflow.com/questions/46858245/sorting-a-file-with-perl-using-a-shell-script-menu", "title": "Sorting a file with perl using a Shell Script menu", "body": "<p>I have a file with amount 10 random words. I am able to get my perl script to sort the file but i am not sure why as it sorts and overwrites the main file.\nFor example file.txt has: \"a, c, d, b\" i take read that file name in and then sort it into another filename sorted.txt \"a, b, c, d\" But i don't want to have my file.txt original file to change.</p>\n\n<p>this is calling the perl sort function in my shell menu:</p>\n\n<pre><code>if [ \"$choice\" = 2 ]\n    then\n        perl perlsort.pl \"$filename\"\n        cp $filename $outputfilename\nfi\n</code></pre>\n\n<p>This is my perl code:</p>\n\n<pre><code>my $filename = shift @ARGV;\nopen(FH,$filename) or die \"$!\";\nmy @lines = &lt;FH&gt;;\nclose(FH);\n\n$, = \"\\n\";\n\nopen(my $output, \"&gt;\", \"$filename\") or die \"Unable to open $filename: $!\\n\";\nprint $output sort map { chomp; $_ } @lines;\nclose $output;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1983, "user_id": 1197616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c4cdf0d18819f891bebb0fcdf7a187?s=128&d=identicon&r=PG&f=1", "display_name": "mattias", "link": "https://stackoverflow.com/users/1197616/mattias"}, "edited": false, "score": 0, "creation_date": 1508524053, "post_id": 46855137, "comment_id": 80657798, "body": "Almost looks like the sed pattern for replacing text. See <a href=\"http://www.thegeekstuff.com/2009/09/unix-sed-tutorial-replace-text-inside-a-file-using-substitute-command/?utm_source=sitekickr&amp;utm_medium=snip_button\" rel=\"nofollow noreferrer\">thegeekstuff.com/2009/09/&hellip;</a>"}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 1, "creation_date": 1508524094, "post_id": 46855137, "comment_id": 80657824, "body": "Looks like it removes all whitespaces from the default <code>$_</code> variable. <code>s&#47;&#47;&#47;</code> is text replacement, <code>\\s</code> is whitespace, replacing it with nohting (as there is nothing in between the second and third slashes), and applying it everywhere (<code>g</code> for global)."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1508524471, "last_edit_date": 1508524471, "creation_date": 1508524306, "answer_id": 46855250, "question_id": 46855137, "link": "https://stackoverflow.com/questions/46855137/what-does-this-line-do-in-perl/46855250#46855250", "title": "What does this line do in Perl?", "body": "<pre><code>s/\\s//g;\n</code></pre>\n\n<p>is short for</p>\n\n<pre><code>$_ =~ s/\\s//g;\n</code></pre>\n\n<p>It is a <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">substitution operator</a> bound to <code>$_</code>. It replaces all sequences in <code>$_</code> that match the <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">regex pattern</a> <code>\\s</code> with nothing. (Without <code>g</code>, it would only replace the first.)</p>\n\n<p><code>\\s</code> matches a character of whitespace.</p>\n"}], "owner": {"reputation": 33, "user_id": 8780445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8d6015fbc7c59a2afdfc0d58bd3e440?s=128&d=identicon&r=PG&f=1", "display_name": "Slippy", "link": "https://stackoverflow.com/users/8780445/slippy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "closed_date": 1508524686, "answer_count": 1, "score": 0, "last_activity_date": 1508524471, "creation_date": 1508523858, "question_id": 46855137, "link": "https://stackoverflow.com/questions/46855137/what-does-this-line-do-in-perl", "closed_reason": "Duplicate", "title": "What does this line do in Perl?", "body": "<p>What does this line do in Perl?</p>\n\n<pre><code>s/\\s//g;\n</code></pre>\n\n<p>I'm looking at a script that is used to search and count certain characters in an input file and I understand everything in the code except for this line. I was wondering what this line did for the script?</p>\n"}, {"tags": ["perl", "dbix-class"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1508563769, "post_id": 46855043, "comment_id": 80668250, "body": "Seeing DBIC code and HTML with a font tag in one program is... Unusual."}, {"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508761779, "post_id": 46855043, "comment_id": 80725935, "body": "It seemed easier in my mind to add the tags before sending it back through JSON, instead of sending the information back and having yet another ajax call to figure out if there is a mismatch and adding the font tags in my js. is there an easier way I missed?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508765808, "post_id": 46855043, "comment_id": 80728632, "body": "It&#39;s called CSS. Your JSON should have a flag as meta data, and your frontend should mark the content based on that, which in turn would use CSS to change the color. <code>&lt;font&gt;</code> tags are only about &lt;strike&gt;10 years&lt;/strike&gt; 17 (damn, I&#39;m old) out of date. They were deprecated with <a href=\"https://en.wikipedia.org/wiki/HTML#HTML_versions_timeline\" rel=\"nofollow noreferrer\">HTML 4.01</a>. I meant my comment as a joke, because we typically see this kind of HTML with CGI applications, and people writing CGI have never heard of DBIC. If this stuff works for you, that&#39;s fine. But there are more modern approaches."}, {"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508766204, "post_id": 46855043, "comment_id": 80728934, "body": "I knew there had to be another approach, being that the above breaks the separation of interests that following the MVC model helps you obtain. I&#39;ll definitely be looking to correct this shortly. Even though it was supposed to be a joke, I appreciate the information so I can correct it ......-_-. Thanks."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508766345, "post_id": 46855043, "comment_id": 80729024, "body": "This is probably lost in translation, but it&#39;s called &quot;separation of <i>concerns</i>&quot;. In case you google it, or something. Are you using an MVC framework? It&#39;s btw totally legit to return an HTML, but then it&#39;s not really JSON any more. It&#39;s more like an asynchronous call that returns <code>text&#47;html</code>. But the <code>&lt;font&gt;</code> tag is still horrible. I&#39;d go with <code>&lt;span class=&quot;epic-fail&quot;&gt;...&lt;&#47;span&gt;</code> or whatever. Just not <code>&lt;font&gt;</code>."}, {"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508766564, "post_id": 46855043, "comment_id": 80729195, "body": "Yes I&#39;m sure, I am currently using Mojolicious because I am required to use perl. I learned MVC concepts using .NET. Which I still use time to time when I&#39;m able."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508767730, "post_id": 46855043, "comment_id": 80729969, "body": "Mojo is very modern, and combining it with DBIC is fun. Web MVC is of course a bit different than a classic SDI or MDI application. I just sometimes feel that the model part is somewhat underrepresented in Mojo, but then I have a strong Catalyst background. If you would like to get some feedback on your code, feel free to post a larger chunk on the code review SE and give me  a shout."}, {"owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508768375, "post_id": 46855043, "comment_id": 80730435, "body": "I felt the same way when I first started and only ventured away from catalyst due to the complex setup ..... I will definitely post some code for review. Very much appreciated, thank you."}], "answers": [{"tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": true, "score": 2, "last_activity_date": 1508552785, "last_edit_date": 1508552785, "creation_date": 1508524326, "answer_id": 46855257, "question_id": 46855043, "link": "https://stackoverflow.com/questions/46855043/how-can-i-alter-a-dbixclass-object-value-without-updating-the-actual-db/46855257#46855257", "title": "How can I alter a DBIx::Class object value without updating the actual DB", "body": "<p>Don't modify the object if you don't want it to be modified.</p>\n\n<p>(You could, of course, update the field without saving it using <code>$info-&gt;accountname(\u2026)</code>. But that would still leave the object in a modified state, where other code could potentially save it. It'd also potentially fail if the HTML markup was rejected by a validator on the field.)</p>\n\n<p>If all you actually need is to change the username in the JSON, generate the data that'll go into the JSON first, then update the appropriate field in the data before rendering it:</p>\n\n<pre><code>my $data = { $info-&gt;get_columns };\nif (defined $mismatch_username) {\n    $data-&gt;{accountname} = \"&lt;mark&gt;\u2026\";\n}\n$self-&gt;render(json =&gt; { info =&gt; $data });\n</code></pre>\n"}], "owner": {"reputation": 360, "user_id": 7374617, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/72a22b7b862547b5395402cb286f05a0?s=128&d=identicon&r=PG&f=1", "display_name": "gregnnylf94", "link": "https://stackoverflow.com/users/7374617/gregnnylf94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 46855257, "answer_count": 1, "score": 1, "last_activity_date": 1508552785, "creation_date": 1508523511, "last_edit_date": 1508546761, "question_id": 46855043, "link": "https://stackoverflow.com/questions/46855043/how-can-i-alter-a-dbixclass-object-value-without-updating-the-actual-db", "title": "How can I alter a DBIx::Class object value without updating the actual DB", "body": "<p>I am checking for mismatch usernames in one of my applications.\nIf it finds a mismatch username, I wrap the value in <code>&lt;mark&gt;</code> tags.</p>\n\n<p>I want to update my DBIx::Class object's username value before passing it back to my JS.</p>\n\n<p>I currently have the below, which is almost what I want but not quite.</p>\n\n<pre><code>my $mismatch_username = check_for_mismatch_username($self, $id, 'AD');\n    if(defined $mismatch_username)\n    {\n      my $flagged_username = \"&lt;mark&gt;\".$info-&gt;accountname.\"&lt;/mark&gt; &lt;font color=\\\"red\\\"&gt;(Mismatch: $mismatch_username)&lt;/font&gt;\";\n       $info-&gt;update({accountname =&gt; $flagged_username});\n    }\n$info = {$info-&gt;get_columns};\n$self-&gt;render(json =&gt; {info =&gt; $info});\n</code></pre>\n\n<p>It is very important I don't update the DB value. I only want to update the variable's value. I am currently still looking through the DBIx::Class documentation. </p>\n\n<p>Any direction is appreciated.</p>\n"}, {"tags": ["perl", "internals"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 3, "creation_date": 1508522685, "post_id": 46854612, "comment_id": 80657106, "body": "<code>use</code> is not a function/operator that has any runtime effect. Instead, it is an implicit BEGIN block that does a <code>require</code>, and possibly performs imports or version checks. So it is probably \u201cdefined\u201d pretty close to the parsing code."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1508564016, "post_id": 46854612, "comment_id": 80668307, "body": "If you are still on your quest to unload stuff I think you need to look into require. Have you asked for your requirements in the p5p mailing list yet?"}], "answers": [{"comments": [{"owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "edited": false, "score": 0, "creation_date": 1508523423, "post_id": 46854953, "comment_id": 80657466, "body": "I&#39;m not sure why that behavior is there, but I think @amon is right in the comments above. I just want to see the code to see what it&#39;s doing in C. I think what you&#39;re observing is just an illusion so people can think the process is sane and simple."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1508525448, "post_id": 46854953, "comment_id": 80658486, "body": "That was a good guess, but the <code>CORE::</code> pseudo-namespace is handled very early in the parser. Barewords starting with <code>CORE::</code> are equivalent to the normal keywords. So <code>CORE::use</code> is not a subroutine (e.g. you can&#39;t take a reference to it), but behaves exactly the same as the normal <code>use</code> keyword. Because this works through the parser and not through package name lookup, you could even <code>say 42 CORE::if $x</code>!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 1, "creation_date": 1508563933, "post_id": 46854953, "comment_id": 80668288, "body": "@amon there be dragons here."}], "tags": [], "owner": {"reputation": 1979, "user_id": 2789312, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4OgOz.png?s=128&g=1", "display_name": "palik", "link": "https://stackoverflow.com/users/2789312/palik"}, "is_accepted": false, "score": -1, "last_activity_date": 1508523115, "creation_date": 1508523115, "answer_id": 46854953, "question_id": 46854612, "link": "https://stackoverflow.com/questions/46854612/where-is-use-defined-in-the-perl-source-code/46854953#46854953", "title": "Where is `use` defined in the perl source code?", "body": "<p>It's in <code>CORE</code>.</p>\n\n<p><code>perl -w -E 'CORE::use Data::Dumper; print Dumper(\"a\")'</code></p>\n"}, {"tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 7, "last_activity_date": 1508524719, "creation_date": 1508524719, "answer_id": 46855353, "question_id": 46854612, "link": "https://stackoverflow.com/questions/46854612/where-is-use-defined-in-the-perl-source-code/46855353#46855353", "title": "Where is `use` defined in the perl source code?", "body": "<p>The <code>use</code> syntax is defined in the parser (<code>perly.y</code>). Excerpt:</p>\n\n\n\n<pre class=\"lang-c prettyprint-override\"><code>|   USE startsub\n        { CvSPECIAL_on(PL_compcv); /* It's a BEGIN {} */ }\n    BAREWORD BAREWORD optlistexpr ';'\n        {\n          SvREFCNT_inc_simple_void(PL_compcv);\n          utilize($1, $2, $4, $5, $6);\n          parser-&gt;parsed_sub = 1;\n          $$ = NULL;\n        }\n</code></pre>\n\n<p>Not knowing yacc, I have no idea what that's doing.</p>\n\n<p>The <code>utilize()</code> function is <code>Perl_utilize()</code> from <code>op.c</code>. This code creates a BEGIN block that contains a <code>require</code>. The <code>veop</code> and <code>imop</code> variables may hold opcodes for checking the version or importing the requested elements:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>/* Fake up the BEGIN {}, which does its thing immediately. */\nnewATTRSUB(floor,\n    newSVOP(OP_CONST, 0, newSVpvs_share(\"BEGIN\")),\n    NULL,\n    NULL,\n    op_append_elem(OP_LINESEQ,\n        op_append_elem(OP_LINESEQ,\n            newSTATEOP(0, NULL, newUNOP(OP_REQUIRE, 0, idop)),\n            newSTATEOP(0, NULL, veop)),\n        newSTATEOP(0, NULL, imop) ));\n</code></pre>\n\n<p>Links into the v5.26.0 source on the Github mirror:</p>\n\n<ul>\n<li><a href=\"https://github.com/Perl/perl5/blob/v5.26.0/op.c#L6268\" rel=\"noreferrer\"><code>Perl_utilize()</code> in op.c</a></li>\n<li><a href=\"https://github.com/Perl/perl5/blob/v5.26.0/perly.y#L349\" rel=\"noreferrer\">USE statement in perly.y</a></li>\n</ul>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 46855353, "answer_count": 2, "score": 2, "last_activity_date": 1508777069, "creation_date": 1508521606, "last_edit_date": 1508777069, "question_id": 46854612, "link": "https://stackoverflow.com/questions/46854612/where-is-use-defined-in-the-perl-source-code", "title": "Where is `use` defined in the perl source code?", "body": "<p>Does anyone know where exactly in the source and the compilation stages <code>use</code> is defined in? I didn't see it looking for <code>CORE::GLOBAL::use</code> and I'm unsure of how to dive in looking for it. It's a pretty vague term.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 3, "creation_date": 1508516620, "post_id": 46853050, "comment_id": 80653996, "body": "Yes. You are missing the benefit of properly indented code. Why do you always left justify your code? Nobody can see which <code>}</code> belongs to which <code>{</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1508519252, "post_id": 46853050, "comment_id": 80655357, "body": "How do you expect to find problems in your code if you don&#39;t write it in a manner that&#39;s readable? Fix your indenting!"}, {"owner": {"reputation": 366, "user_id": 4488775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-c7dUxZESZzs/AAAAAAAAAAI/AAAAAAAAAGI/OxEft3Nihy4/photo.jpg?sz=128", "display_name": "Bala Krishnan", "link": "https://stackoverflow.com/users/4488775/bala-krishnan"}, "edited": false, "score": 0, "creation_date": 1508521862, "post_id": 46853050, "comment_id": 80656714, "body": "No I dont write like this, when I paste my code here in stack overflow i duno where i go wrong, it shows me formatting error and that is why i just use shortcuts to make sure theres no formatting errors... next time i ll do my best to post code with clear indentation"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508541639, "post_id": 46853050, "comment_id": 80664632, "body": "@Bala You should avoid tab characters altogether, they are a source of many problems. Every useful programmers&#39; editor has a facility for inserting an equivalent number of spaces when tab is pressed; you should use it."}, {"owner": {"reputation": 366, "user_id": 4488775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-c7dUxZESZzs/AAAAAAAAAAI/AAAAAAAAAGI/OxEft3Nihy4/photo.jpg?sz=128", "display_name": "Bala Krishnan", "link": "https://stackoverflow.com/users/4488775/bala-krishnan"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508566407, "post_id": 46853050, "comment_id": 80668712, "body": "Sure @Borodin will have on eye on indentation. I am using gedit."}], "answers": [{"comments": [{"owner": {"reputation": 366, "user_id": 4488775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-c7dUxZESZzs/AAAAAAAAAAI/AAAAAAAAAGI/OxEft3Nihy4/photo.jpg?sz=128", "display_name": "Bala Krishnan", "link": "https://stackoverflow.com/users/4488775/bala-krishnan"}, "edited": false, "score": 0, "creation_date": 1508592910, "post_id": 46853308, "comment_id": 80674989, "body": "Thanks &amp; Understood! completed the module as well!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1508516507, "creation_date": 1508516507, "answer_id": 46853308, "question_id": 46853050, "link": "https://stackoverflow.com/questions/46853050/perl-data-retrieval-with-hash-of-objects/46853308#46853308", "title": "Perl - data retrieval with hash of objects", "body": "<p>You're storing the names of every object in <code>$myname</code> instead of in the object!</p>\n\n<pre><code>package Metadata;\n\nuse strict;\nuse warnings qw( all );\n\nsub new {\n    my ($class) = @_;\n    my $self = bless({}, $class);\n    $self-&gt;{name} = undef;\n    return $self;\n}\n\nsub set_name {\n    my ($self, $name) = @_;\n    $self-&gt;{name} = $name;\n}\n\nsub get_name {\n    my ($self) = @_;\n    return $self-&gt;{name};\n}\n\n1;\n</code></pre>\n"}], "owner": {"reputation": 366, "user_id": 4488775, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-c7dUxZESZzs/AAAAAAAAAAI/AAAAAAAAAGI/OxEft3Nihy4/photo.jpg?sz=128", "display_name": "Bala Krishnan", "link": "https://stackoverflow.com/users/4488775/bala-krishnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 46853308, "answer_count": 1, "score": 2, "last_activity_date": 1515441328, "creation_date": 1508515560, "last_edit_date": 1515441328, "question_id": 46853050, "link": "https://stackoverflow.com/questions/46853050/perl-data-retrieval-with-hash-of-objects", "title": "Perl - data retrieval with hash of objects", "body": "<p>I have a class with getter and setter methods. I am creating a hash of objects of this class.</p>\n\n<pre><code>my %hash;\n\n$hash{'foo'} = Myclass-&gt;new();\n$hash{'bar'} = Myclass-&gt;new();\n...\n</code></pre>\n\n<p>With a created object I am trying to set the data to a particular attribute of the package. It is successful and doesn't show any issues. But if I try to retrieve the data, the last value that is set is returned.</p>\n\n<p>Code:</p>\n\n<pre><code>#!/usr/bin/perl\n\npackage Metadata;\n\nmy $myname = \"\";\n\nsub new {\n    my $type = shift;            \n    my $self = {};               \n    bless $self, $type;   \n    return $self;\n}\n\nsub setMyname {\n    my ($self, $tempName) = @_;\n    $myname = $tempName;\n}\n\nsub getMyname {\n    return $myname;\n}\n\npackage main;\n\nuse YAML::XS 'LoadFile';\nuse Data::Dumper;\n\nmy %objHash = ();\nmy @list;\nmy $myname;\nmy $i = 0;\nmy @conf = LoadFile('input.yml');\nmy $config = \\@conf;\n\nforeach ( @conf ) {\n    $list[$i] = $config-&gt;[$i]-&gt;{mykey};\n    $objHash{$list[$i]} = Metadata-&gt;new();\n    $myname = $config-&gt;[$i]-&gt;{myname};\n    $objHash{$list[$i]}-&gt;setMyname($myname);\n    my $host = $objHash{$list[$i]}-&gt;getMyname();\n    $i++;\n}\n\nmy $host = $objHash{$list[0]}-&gt;getMyname();\nprint $host;\nprint \"\\n\";\n\nmy $host = $objHash{$list[1]}-&gt;getMyname();\nprint $host;\nprint \"\\n\";\n\nmy $host = $objHash{$list[2]}-&gt;getMyname();\nprint $host;\nprint \"\\n\";\n</code></pre>\n\n<p>YAML:</p>\n\n<pre><code>---\nmykey: 1\nmyname: John\n---\nmykey: 2\nmyname: Doe\n----\nmykey: 3\nmyname: Chris\n...\n</code></pre>\n\n<p>Expected output</p>\n\n<pre><code>John\nDoe\nChris\n</code></pre>\n\n<h3>Actual output</h3>\n\n<pre><code>Chris\nChris\nChris\n</code></pre>\n\n<p>Am I missing anything?</p>\n"}, {"tags": ["linux", "perl", "sed", "find"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1508518222, "post_id": 46852881, "comment_id": 80654827, "body": "So you need a total count of <i>files</i> (not subdirs) for each directory, with all of its subdirectories, from the top-level of your hierarchy?  (Or count of files in each directory, recursively?)"}, {"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1508518651, "post_id": 46852881, "comment_id": 80655043, "body": "I need a count of files in every directory within the given directory tree. Not a count of files in directory and all of its subdirectories - this wouldn&#39;t help to find directories with largest amount of files."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508542666, "post_id": 46852881, "comment_id": 80664863, "body": "Your question should contain only information that is relevant to the problem. If you want to comment on an answer then you should add a comment beneath that answer."}, {"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508544121, "post_id": 46852881, "comment_id": 80665189, "body": "@Borodin just for your information: your editing <b>completely</b> changed the meaning of my question. So now the question not only lost some useful code (that <b>is</b> relevant to the question), but neither the marked answer, nor my initial example don&#39;t answer the question anymore, doing something <b>entirely</b> else. Thank you very much!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508545100, "post_id": 46852881, "comment_id": 80665399, "body": "@jcaron: Your comment is clearly not <i>&quot;just for [my] information&quot;</i> and sarcasm is unnecessarily vulgar. I tried to clarify your question as I found it difficult to understand. If I got it wrong then I apologise, but the only code I removed should have been part of a comment on an answer and didn&#39;t add to the question at all. Please explain how I misrepresented your question so that I can fix it."}, {"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508546220, "post_id": 46852881, "comment_id": 80665587, "body": "@Borodin First, I&#39;m not jcaron. Second, <b>3 men</b> here managed to understand the question correctly and posted relevant answers from which I chose the best in my opinion. There is a clarification in the 2nd comment here. I don&#39;t know how to improve further. I even can&#39;t imagine how &quot;count files&quot; may be interpreted as &quot;count subdirectories&quot;. It was in original subject and body of the question. Third, I put the variations of the answer just to be easily available to any other without reading comments. I honestly don&#39;t get what is bad about it."}, {"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508551738, "post_id": 46852881, "comment_id": 80666464, "body": "@Borodin Ok, I&#39;ve edited the question to restore its original meaning. Hopefully you&#39;ll find it acceptable. Sorry for sarcasm, but the experience was a bit frustrating, and I&#39;m just a human being. Honestly, I think you could read the original question more thoroughly before editing."}], "answers": [{"comments": [{"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 0, "creation_date": 1508516120, "post_id": 46853158, "comment_id": 80653797, "body": "Thanks, but this is not the answer to my question. I mentioned that this task is easily solvable by scripting. I&#39;d like to know if there is any more elegant one-liner than mine or some existing linux cli tool for this task."}, {"owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "reply_to_user": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 0, "creation_date": 1508517113, "post_id": 46853158, "comment_id": 80654271, "body": "see the update, if you find all the files, strip of the filenames and count the directories."}, {"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 0, "creation_date": 1508517798, "post_id": 46853158, "comment_id": 80654638, "body": "OK, this is much more elegant than my solution. I made a minor change by placing count before directory name to be able to sort the results easily: <code>find . -type f | perl -e &#39;while(&lt;ARGV&gt;){chomp;s&#47;(.*\\&#47;).*$&#47;\\1&#47;; $hash{$_}++;}for(keys %hash){print &quot;$hash{$_} $_\\n&quot;;}&#39; | sort -n</code> The problem is that this solution counts 1 file in empty directories (not ok) and also 1 file in directories that have only 1 file (ok)."}, {"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 0, "creation_date": 1508518245, "post_id": 46853158, "comment_id": 80654839, "body": "Sorry, my bad, it just don&#39;t list empty directories!"}, {"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 0, "creation_date": 1508518403, "post_id": 46853158, "comment_id": 80654918, "body": "Anyway, isn&#39;t there any shorter way to do this? Possibly not with Perl. Maybe with awk, sed, whatever..."}, {"owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "reply_to_user": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 0, "creation_date": 1508518557, "post_id": 46853158, "comment_id": 80654997, "body": "Interesting problem, you need to strip of the filename to leave the directory, which you could do with sed, but then you have to do the counting in either perl or awk, so it&#39;s as broad as it&#39;s long :)"}, {"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 0, "creation_date": 1508518949, "post_id": 46853158, "comment_id": 80655202, "body": "Actually, I think that giving up on empty directories is ok in this case as I don&#39;t want to find what directories are empty."}], "tags": [], "owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "is_accepted": false, "score": 1, "last_activity_date": 1508517061, "last_edit_date": 1508517061, "creation_date": 1508515961, "answer_id": 46853158, "question_id": 46852881, "link": "https://stackoverflow.com/questions/46852881/find-number-of-files-in-each-directory-in-a-tree-of-directories/46853158#46853158", "title": "Find number of files in each directory in a tree of directories", "body": "<p>Something like this will work:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\ncountFiles($ARGV[0]);\n\nsub countFiles() {\n        my $dir=shift;\n        my @list=glob(\"$dir/*\");\n        my $count=0;\n        for (@list) {\n                if (-d) {\n                        countFiles($_);\n                }\n                else {\n                        $count++;\n                }\n        }\n        print \"directory=$dir, file count=$count\\n\";\n}\n</code></pre>\n\n<p>Or a one liner</p>\n\n<pre><code>find . -type f | perl -e 'while(&lt;ARGV&gt;){chomp;s/(.*\\/).*$/\\1/; $hash{$_}++;}for(keys %hash){print \"$_ count=$hash{$_}\\n\";}'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1509002801, "last_edit_date": 1509002801, "creation_date": 1508518321, "answer_id": 46853789, "question_id": 46852881, "link": "https://stackoverflow.com/questions/46852881/find-number-of-files-in-each-directory-in-a-tree-of-directories/46853789#46853789", "title": "Find number of files in each directory in a tree of directories", "body": "<p>A Perl \"one\"-liner, using core (and efficient) <a href=\"http://perldoc.perl.org/File/Find.html\" rel=\"nofollow noreferrer\">File::Find</a></p>\n\n<pre><code>perl -MFile::Find -wE'\n    find({no_chdir=&gt;1, wanted =&gt; sub { ++$dc{$File::Find::dir} if -f }}, \".\"); \n    printf \"%4d =&gt; $_\\n\", $dc{$_} for sort { $dc{$b} &lt;=&gt; $dc{$a} } keys %dc;\n'\n</code></pre>\n\n<p>printing (correct) counts of \"plain\" files (<a href=\"https://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\"><code>-f</code></a>) in each directory (and not its subdirectories)</p>\n\n<pre>\n  45 => .\n   7 => ./dir/sub_dir_1\n   4 => ./dir\n   3 => ./another_dir\n   2 => ./dir/sub_dir_2\n</pre>\n\n<p>Or with <a href=\"http://search.cpan.org/~rclamp/File-Find-Rule-0.34/lib/File/Find/Rule.pm\" rel=\"nofollow noreferrer\">File::Find::Rule</a> which has a nicer interface, and with a different output format</p>\n\n<pre><code>perl -MList::Util=max -MFile::Find::Rule -wE'\n    @dirs   = File::Find::Rule-&gt;directory-&gt;in(\".\");\n    $dc{$_} = File::Find::Rule-&gt;file-&gt;maxdepth(1)-&gt;in($_) for @dirs;\n    @skeys = sort { $dc{$b} &lt;=&gt; $dc{$a} } keys %dc;\n    $ml = max map { length } @skeys; \n    for (@skeys) { printf \"%${ml}s =&gt; $dc{$_}\\n\", $_ }\n'\n</code></pre>\n\n<p>The last three lines and <code>-MList::Util=max</code> are there only for output format. Prints</p>\n\n<pre>\n            . => 47\ndir/sub_dir_1 => 7\n          dir => 4\n  another_dir => 3\ndir/sub_dir_2 => 2\n    empty_dir => 0\n</pre>\n\n<hr>\n"}, {"comments": [{"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 0, "creation_date": 1508518814, "post_id": 46853907, "comment_id": 80655130, "body": "Oh, this is really promising! I&#39;ll play with it a little and give you a feedback."}, {"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 0, "creation_date": 1508519884, "post_id": 46853907, "comment_id": 80655694, "body": "Well, thanks a lot! Can&#39;t imagine that there may be significantly shorter solution except a tool for such task. Anyway, I&#39;d like to give this a little more time before marking your solution with &#39;answered&#39;."}, {"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 0, "creation_date": 1508520528, "post_id": 46853907, "comment_id": 80656025, "body": "Perl equivalent (your solution still shorter): <code>find . -type f | perl -pe &#39;s|[^&#47;]*$|\\n|&#39; | sort | uniq -c | sort -n</code>"}, {"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 0, "creation_date": 1508520791, "post_id": 46853907, "comment_id": 80656155, "body": "In your solution we don&#39;t have to use slashes in sed. This also works: <code>find . -type f | sed -e &#39;s|[^&#47;]*$||&#39; | sort | uniq -c | sort -n</code>. Could you please update your answer?"}, {"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 1, "creation_date": 1508522465, "post_id": 46853907, "comment_id": 80656997, "body": "Replaced <code>sed</code> by <code>find</code>&#39;s <code>-printf</code>. Also, we don&#39;t really need to specify period in <code>find</code> for current directory: <code>find -type f -printf &quot;%h\\n&quot; | sort | uniq -c | sort -n</code>"}, {"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 0, "creation_date": 1508544638, "post_id": 46853907, "comment_id": 80665302, "body": "The text of my question has been heavily edited, and not only completely lost its initial meaning, but also all the variations of your answer. It will be very nice if you could add to your answer the command with <code>-printf</code> so it will be easily available to anyone without digging in comments. Thanks again!"}, {"owner": {"reputation": 10828, "user_id": 1394729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9Ri8.jpg?s=128&g=1", "display_name": "tink", "link": "https://stackoverflow.com/users/1394729/tink"}, "edited": false, "score": 0, "creation_date": 1508729246, "post_id": 46853907, "comment_id": 80710269, "body": "Nice work. One could save a few more characters by replacing the sed with <b>xargs -i dirname &quot;{}&quot;</b> ;}"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "reply_to_user": {"reputation": 10828, "user_id": 1394729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9Ri8.jpg?s=128&g=1", "display_name": "tink", "link": "https://stackoverflow.com/users/1394729/tink"}, "edited": false, "score": 0, "creation_date": 1508736514, "post_id": 46853907, "comment_id": 80712120, "body": "@tink that was my first attempt, but it\u2019s a lot less efficient, spawning <code>dirname</code> for each file."}], "tags": [], "owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "is_accepted": true, "score": 2, "last_activity_date": 1508518693, "creation_date": 1508518693, "answer_id": 46853907, "question_id": 46852881, "link": "https://stackoverflow.com/questions/46852881/find-number-of-files-in-each-directory-in-a-tree-of-directories/46853907#46853907", "title": "Find number of files in each directory in a tree of directories", "body": "<p>Wouldn\u2019t this work?</p>\n\n<pre><code>find . -type f | sed -e 's/[^\\\\/]*$//' | sort | uniq -c | sort -rn | head -10\n</code></pre>\n\n<p>PS: you may want to post the challenge to code golf if the intent is the shortest code.</p>\n"}], "owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 1, "accepted_answer_id": 46853907, "answer_count": 3, "score": 0, "last_activity_date": 1509002801, "creation_date": 1508515000, "last_edit_date": 1508551100, "question_id": 46852881, "link": "https://stackoverflow.com/questions/46852881/find-number-of-files-in-each-directory-in-a-tree-of-directories", "title": "Find number of files in each directory in a tree of directories", "body": "<p>I need to find out what directories in a tree have the most files in them (but not in their subdirectories). Directories should not be counted.</p>\n\n<p>This is easily soluble with bash, Perl, Python, Tcl, etc. but it is interesting to solve it as one-liner.</p>\n\n<p>I wrote the following one-liner that counts correctly</p>\n\n<p><code>ls -Rp1 | grep -vP '\\/$' | perl -pe 's/\\n/ /' | perl -e '$ln=&lt;&gt;;@ds=split/(?=\\.\\/)/,$ln;for(@ds){($d,$fs)=split/:/;$fs=~s/^\\s+|\\s+$//;$c=split/\\s+/,$fs;$fc+=$c;print \"$c $d\\n\"}print \"Totals: dirs: @{[scalar @ds]}, files: $fc\\n\"' | sort -n</code></p>\n\n<p>Is there a more elegant one-line solution to do this, not necessarily with Perl?</p>\n\n<p>This is the multi-line equivalent</p>\n\n<pre><code>#!/usr/bin/perl\n\n$line = &lt;&gt;;\n@dirs = split/(?=\\.\\/)/, $line;\n\nfor ( @dirs ) {\n    ($dir, $files) = split /:/;\n    $files =~ s/^\\s+|\\s+$//;\n    $count = split/\\s+/, $files;\n    $total_files_count += $count;\n    print \"$count $dir\\n\"\n}\n\nprint \"Totals: dirs: @{[scalar @dirs]}, files: $total_files_count\\n\";\n</code></pre>\n"}, {"tags": ["perl", "package"], "answers": [{"comments": [{"owner": {"reputation": 81337, "user_id": 91757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/afaf752cb41c3968dbd570c6f6fa0dc3?s=128&d=identicon&r=PG", "display_name": "Frerich Raabe", "link": "https://stackoverflow.com/users/91757/frerich-raabe"}, "edited": false, "score": 0, "creation_date": 1508523716, "post_id": 46852578, "comment_id": 80657616, "body": "Ah, that&#39;s interesting! If I have a subroutine <code>p</code> which is currently given a ref to a hash (i.e. it&#39;s invoked like <code>p(\\%P::);</code>) and which internally enumerates the symbols, is there a way to translate the ref within <code>p</code> to a string such that any of your solutions could be used? Or would I need to adjust the callers such that they pass a string instead?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 81337, "user_id": 91757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/afaf752cb41c3968dbd570c6f6fa0dc3?s=128&d=identicon&r=PG", "display_name": "Frerich Raabe", "link": "https://stackoverflow.com/users/91757/frerich-raabe"}, "edited": false, "score": 0, "creation_date": 1508524443, "post_id": 46852578, "comment_id": 80658015, "body": "Adjust the caller to pass a reference to the right glob."}, {"owner": {"reputation": 81337, "user_id": 91757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/afaf752cb41c3968dbd570c6f6fa0dc3?s=128&d=identicon&r=PG", "display_name": "Frerich Raabe", "link": "https://stackoverflow.com/users/91757/frerich-raabe"}, "edited": false, "score": 0, "creation_date": 1508525199, "post_id": 46852578, "comment_id": 80658395, "body": "Thanks; I guess I&#39;ll have to read up on what &#39;glob&#39; means in this context (I always only knew it in the context of file name matching)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 81337, "user_id": 91757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/afaf752cb41c3968dbd570c6f6fa0dc3?s=128&d=identicon&r=PG", "display_name": "Frerich Raabe", "link": "https://stackoverflow.com/users/91757/frerich-raabe"}, "edited": false, "score": 1, "creation_date": 1508526380, "post_id": 46852578, "comment_id": 80658914, "body": "The values of <code>%::</code> (the symbol table) are globs. &quot;Glob&quot; is short for &quot;typeglob&quot;, and it refers to a symbol table entry, or rather a variable of that type. It is a struct that can contain a SCALAR, an ARRAY, a HASH, a CODE, etc. For example, the glob <code>*P::k1</code> (aka <code>$::{&#39;P::&#39;}{k1}</code>) contains <code>$P::k1</code> (<code>${ *{ $::{&#39;P::&#39;}{k1} }{SCALAR} }</code>), <code>@P::k1</code> (<code>@{ *{ $::{&#39;P::&#39;}{k1} }{ARRAY} }</code>), <code>%P::k1</code> (<code>%{ *{ $::{&#39;P::&#39;}{k1} }{HASH} }</code>), <code>&amp;P::k1</code> (<code>&amp;{ *{ $::{&#39;P::&#39;}{k1} }{CODE} }</code>), etc."}, {"owner": {"reputation": 81337, "user_id": 91757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/afaf752cb41c3968dbd570c6f6fa0dc3?s=128&d=identicon&r=PG", "display_name": "Frerich Raabe", "link": "https://stackoverflow.com/users/91757/frerich-raabe"}, "edited": false, "score": 0, "creation_date": 1508592323, "post_id": 46852578, "comment_id": 80674816, "body": "Thanks a lot! Your example code gives me plenty of stuff to think about, it&#39;ll take me some time to digest it. Much appreciated!"}, {"owner": {"reputation": 81337, "user_id": 91757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/afaf752cb41c3968dbd570c6f6fa0dc3?s=128&d=identicon&r=PG", "display_name": "Frerich Raabe", "link": "https://stackoverflow.com/users/91757/frerich-raabe"}, "edited": false, "score": 0, "creation_date": 1508743895, "post_id": 46852578, "comment_id": 80715333, "body": "You wrote &#39;What this means is that it&#39;s not enough to unload a package; you need to unload code that has hardcoded reference to the package and code that imported from the package too!&#39; -- this means that I cannot use <code>$P::k1</code> anywhere in the code since the value of that expression is determined at compile time, i.e. it won&#39;t reflect a possible changed value set when reloading the module, right? At least my experiments suggest this is the case. Pity! I hoped that I could somehow have <code>$P::k1</code> get resolved dynamically."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 81337, "user_id": 91757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/afaf752cb41c3968dbd570c6f6fa0dc3?s=128&d=identicon&r=PG", "display_name": "Frerich Raabe", "link": "https://stackoverflow.com/users/91757/frerich-raabe"}, "edited": false, "score": 0, "creation_date": 1508743965, "post_id": 46852578, "comment_id": 80715378, "body": "Again, not an issue encountered in practice. One doesn&#39;t unload a module that&#39;s still in use."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1508701264, "last_edit_date": 1508701264, "creation_date": 1508513895, "answer_id": 46852578, "question_id": 46852200, "link": "https://stackoverflow.com/questions/46852200/how-can-i-re-create-a-package-after-having-called-symboldelete-package-on-it/46852578#46852578", "title": "(How) can I re-create a package after having called Symbol::delete_package on it?", "body": "<p>The problem is that <code>%P::</code> is resolved at compile-time, so it refers to the glob <code>delete_package</code> cleared and caused the symbol table to disown.</p>\n\n<p>You'll get the expected output if you force the lookup to occur at runtime by replacing</p>\n\n<pre><code>keys %P::;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>keys %{ no strict qw( refs ); \\%{\"P::\"} };\n</code></pre>\n\n<p>or</p>\n\n<pre><code>keys %{ $::{\"P::\"} };\n</code></pre>\n\n<p>What this means is that it's not enough to unload a package; you need to unload code that has hardcoded reference to the package and code that imported from the package too!</p>\n\n<p>Programs that delete packages (e.g. a script loader in a Fast CGI daemon) don't usually hardcode references to the packages they delete, so they don't normally run into this issue. The following is an example:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Symbol qw( delete_package );\n\nuse FindBin qw( $RealBin );\nuse lib $RealBin;\n\nsub mod_path {\n   my ($mod_name) = @_;\n   return ( $mod_name =~ s{::}{/}gr ) . \".pm\";\n}\n\nsub load_module {\n   my ($mod_name) = @_;\n   my $mod_path = mod_path($mod_name);\n   require $mod_path;\n}\n\nsub unload_module {\n   my ($mod_name) = @_;\n   my $mod_path = mod_path($mod_name);\n   delete_package($mod_name);\n   delete($INC{$mod_path});\n}\n\nsub get_package {\n   my ($pkg_name) = @_;\n   $pkg_name .= '::' if $pkg_name !~ /::\\z/;\n   my $pkg = \\%::;\n   $pkg = $pkg-&gt;{$_} for split /(?&lt;=::)/, $pkg_name;\n   return $pkg;\n}\n\nsub dump_info {\n   my ($mod_name) = @_;\n   my $mod_path = mod_path($mod_name);\n   my $pkg = get_package($mod_name);\n\n   my $is_in_inc = grep { $_ eq $mod_path } keys %INC;\n   printf(\"Included: %s\\n\", $is_in_inc ? \"yes\" : \"no\");\n\n   my $num_syms = keys(%$pkg);\n   print(\"Number of symbols: $num_syms\\n\");\n\n   print(\"\\n\");\n}\n\nfor $mod_name ('P', 'P') {\n   load_module($mod_name);    dump_info($mod_name);\n   # $mod_name-&gt;run();\n   unload_module($mod_name);  dump_info($mod_name);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 557, "user_id": 5527374, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/OQmV2.png?s=128&g=1", "display_name": "tscheingeld", "link": "https://stackoverflow.com/users/5527374/tscheingeld"}, "is_accepted": false, "score": 1, "last_activity_date": 1516477956, "creation_date": 1516477956, "answer_id": 48360447, "question_id": 46852200, "link": "https://stackoverflow.com/questions/46852200/how-can-i-re-create-a-package-after-having-called-symboldelete-package-on-it/48360447#48360447", "title": "(How) can I re-create a package after having called Symbol::delete_package on it?", "body": "<p>I'm getting a memory leak with the ikegami's code.  I used Test::LeakTrace and it reports some problems. Here's the slightly code which finds memory leaks:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse lib './';\nuse Test::LeakTrace;\nuse Symbol 'delete_package';\n\nuse FindBin qw( $RealBin );\nuse lib $RealBin;\n\nsub mod_path {\n    my ($mod_name) = @_;\n    return ( $mod_name =~ s{::}{/}gr ) . \".pm\";\n}\n\nsub load_module {\n    my ($mod_name) = @_;\n    my $mod_path = mod_path($mod_name);\n    require $mod_path;\n}\n\nsub unload_module {\n    my ($mod_name) = @_;\n    my $mod_path = mod_path($mod_name);\n    delete_package($mod_name);\n    delete($INC{$mod_path});\n}\n\nsub get_package {\n    my ($pkg_name) = @_;\n    $pkg_name .= '::' if $pkg_name !~ /::\\z/;\n    my $pkg = \\%::;\n    $pkg = $pkg-&gt;{$_} for split /(?&lt;=::)/, $pkg_name;\n    return $pkg;\n}\n\nsub dump_info {\n    my ($mod_name) = @_;\n    my $mod_path = mod_path($mod_name);\n    my $pkg = get_package($mod_name);\n\n    my $is_in_inc = grep { $_ eq $mod_path } keys %INC;\n    printf(\"Included: %s\\n\", $is_in_inc ? \"yes\" : \"no\");\n\n    my $num_syms = keys(%$pkg);\n    print(\"Number of symbols: $num_syms\\n\");\n\n    print(\"\\n\");\n}\n\nleaktrace {\n    foreach my $mod_name ('P', 'P') {\n        load_module($mod_name);    dump_info($mod_name);\n        unload_module($mod_name);  dump_info($mod_name);\n    }\n}\n</code></pre>\n\n<p>Here's the output:</p>\n\n<pre><code>Included: yes\nNumber of symbols: 1\n\nIncluded: no\nNumber of symbols: 0\n\nIncluded: yes\nNumber of symbols: 1\n\nIncluded: no\nNumber of symbols: 0\n\nleaked SCALAR(0x556efcaf9a90) from /home/terry/projects/robinson/dev/trunk/command-line/experiments/perl-hacks/P.pm line 2.\nleaked SCALAR(0x556efcbb5628) from /usr/share/perl/5.26/Symbol.pm line 74.\n</code></pre>\n\n<p>This\nseven year old suggests that the problem in a bug in Perl itself.</p>\n\n<p>Does this still appear to be a bug?</p>\n"}], "owner": {"reputation": 81337, "user_id": 91757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/afaf752cb41c3968dbd570c6f6fa0dc3?s=128&d=identicon&r=PG", "display_name": "Frerich Raabe", "link": "https://stackoverflow.com/users/91757/frerich-raabe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 46852578, "answer_count": 2, "score": 2, "last_activity_date": 1516477956, "creation_date": 1508512599, "last_edit_date": 1508514520, "question_id": 46852200, "link": "https://stackoverflow.com/questions/46852200/how-can-i-re-create-a-package-after-having-called-symboldelete-package-on-it", "title": "(How) can I re-create a package after having called Symbol::delete_package on it?", "body": "<p>Given a small Perl library:</p>\n\n<pre><code>package P;\n\nuse strict;\nuse warnings;\n\nprint(\"Loading P\\n\");\n\nour $k1 = 'v1';\nour $k2 = 'v2';\nour $k3 = 'v2';\n</code></pre>\n\n<p>I tried to write a program which loads, unloads and reloads the package to get a better understanding of how packages work in Perl:</p>\n\n<pre><code># main.pl\nuse strict;\nuse warnings;\nuse Symbol qw( delete_package );\n\n# Load module\nrequire \"./P.pm\";\nmy @incs = sort keys %INC;\nmy $numSyms = keys %P::;\nprint(\"Includes: @incs\\nNumber of symbols: $numSyms\\n\");\n\n# Unload module &amp; delete package\ndelete_package('P');\ndelete $INC{'./P.pm'};\n@incs = sort keys %INC;\n$numSyms = keys %P::;\nprint(\"Includes: @incs\\nNumber of symbols: $numSyms\\n\");\n\n# Load module again\nrequire \"./P.pm\";\n@incs = sort keys %INC;\n$numSyms = keys %P::;\nprint(\"Includes: @incs\\nNumber of symbols: $numSyms\\n\");\n</code></pre>\n\n<p>Running this program prints something along the lines of (the order in which the modules are listed by <code>keys %INC</code> may differ):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Loading P\nIncludes: ./P.pm Exporter.pm Symbol.pm strict.pm warnings.pm\nNumber of symbols: 4\nIncludes: Exporter.pm Symbol.pm strict.pm warnings.pm\nNumber of symbols: 0\nLoading P\nIncludes: ./P.pm Exporter.pm Symbol.pm strict.pm warnings.pm\nNumber of symbols: 0\n</code></pre>\n\n<p>I.e. it appears that re-loading the library worked as intended, but the symbol table <code>%P::</code> is still empty. Why didn't it get re-populated when the library was loaded a second time? I'm trying to find a way to reload a module without using any CPAN packages.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 67, "user_id": 8729416, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-qh9LF4KrRQs/AAAAAAAAAAI/AAAAAAAAJ00/DdeI1LJZjGM/photo.jpg?sz=128", "display_name": "Glorksnork", "link": "https://stackoverflow.com/users/8729416/glorksnork"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1508510985, "post_id": 46851308, "comment_id": 80650785, "body": "@toolic Yeah I know the file names but, it&#39;s a group of files"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508511397, "post_id": 46851308, "comment_id": 80651050, "body": "You will have to open each file one after another. You cannot write to a bunch of files at the same time. But you can have an array of lexical filehandles, and iterate over it to write to all of them."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 8729416, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-qh9LF4KrRQs/AAAAAAAAAAI/AAAAAAAAJ00/DdeI1LJZjGM/photo.jpg?sz=128", "display_name": "Glorksnork", "link": "https://stackoverflow.com/users/8729416/glorksnork"}, "edited": false, "score": 0, "creation_date": 1508530370, "post_id": 46851914, "comment_id": 80660841, "body": "Cool this works but, is there way for me to put the results in a separate file"}, {"owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "reply_to_user": {"reputation": 67, "user_id": 8729416, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-qh9LF4KrRQs/AAAAAAAAAAI/AAAAAAAAJ00/DdeI1LJZjGM/photo.jpg?sz=128", "display_name": "Glorksnork", "link": "https://stackoverflow.com/users/8729416/glorksnork"}, "edited": false, "score": 0, "creation_date": 1508531387, "post_id": 46851914, "comment_id": 80661286, "body": "Just open a file for wrting and print errors into that file."}], "tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": true, "score": 1, "last_activity_date": 1508511589, "creation_date": 1508511589, "answer_id": 46851914, "question_id": 46851308, "link": "https://stackoverflow.com/questions/46851308/how-to-make-an-output-log-file-of-the-zip-file-you-just-extracted/46851914#46851914", "title": "How to make an output log file of the zip file you just extracted", "body": "<p>Something like this should work. You extract all the files, save the names. Then go through each file looking for errors:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Archive::Zip qw(:ERROR_CODES :CONSTANTS);\n\nmy $sSource = \"/home/glork/output.zip\";\nmy $sDest = \"/home/glork/zipped\";\n\nmy @extractedFiles;\nmy $zip = Archive::Zip-&gt;new($sSource);\nforeach my $member ($zip-&gt;members) {\n    next if $member-&gt;isDirectory;\n    (my $extractName = $member-&gt;fileName) =~ s{.*/}{};\n    $member-&gt;extractToFileNamed($sDest.'/'.$extractName);\n    push @extractedFiles, $extractName;\n    print \"Extracted $sDest/$extractName\\n\";\n}\n\nforeach my $logFile (@extractedFiles) {\n    open(LOGFILE, \"$sDest/$logFile\") or die \"can't find file\";\n    while(&lt;LOGFILE&gt;) {\n        print \"Error in line $.\\n\" if(/ERROR/);\n    }\n    close LOGFILE;\n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 8729416, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-qh9LF4KrRQs/AAAAAAAAAAI/AAAAAAAAJ00/DdeI1LJZjGM/photo.jpg?sz=128", "display_name": "Glorksnork", "link": "https://stackoverflow.com/users/8729416/glorksnork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 46851914, "answer_count": 1, "score": -1, "last_activity_date": 1508511589, "creation_date": 1508509686, "question_id": 46851308, "link": "https://stackoverflow.com/questions/46851308/how-to-make-an-output-log-file-of-the-zip-file-you-just-extracted", "title": "How to make an output log file of the zip file you just extracted", "body": "<p>I have a program that will extract a zip file called \"output.zip\" and make a directory for it. I would like to make a log file if a certain word is in any of the files I extracted in this case the word is Error. The error I'm getting is saying that the file doesn't exist. How can I fix this? </p>\n\n<pre><code>#!/usr/bin/perl\n\n use strict;\n use warnings;\n\n use Archive::Zip qw(:ERROR_CODES :CONSTANTS);\n\n my $sSource = \"/home/glork/output.zip\";\n my $sDest = \"/home/glork/zipped\";\n\n\n\nx_unzip($sSource,$sDest);\n\nsub x_unzip {\nmy ($zip_file, $out_file, $filter) = @_;\nmy $zip = Archive::Zip-&gt;new($zip_file);\nunless ($zip-&gt;extractTree($filter || '', $out_file) == AZ_OK) {\n    warn \"unzip not successful: $!\\n\";\n  }\n }\n\n\nopen(LOGFILE, \"/home/glork/zipped/var/log/*.log\") or die \"can't find file\";\n\nwhile(&lt;LOGFILE&gt;) {\n    print \"Error in line $.\\n\" if(/ERROR/);\n}\nclose LOGFILE;\n</code></pre>\n"}, {"tags": ["bash", "perl", "csv", "unix"], "comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 1, "creation_date": 1508509303, "post_id": 46851136, "comment_id": 80649754, "body": "How are you determining where one record starts and ends? Do they all have the same number of fields?"}, {"owner": {"reputation": 614, "user_id": 3980528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GfedK.png?s=128&g=1", "display_name": "mathB", "link": "https://stackoverflow.com/users/3980528/mathb"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1508509412, "post_id": 46851136, "comment_id": 80649817, "body": "@123 Yes, they have the same number of fields, field separator is <code>,</code>. But the thing is, I don&#39;t know how many fields are there. I can find this using the header of the file, correct?"}, {"owner": {"reputation": 21876, "user_id": 1678362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba023d18099cde022b9e4394d5714c0?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1678362/aaron"}, "edited": false, "score": 0, "creation_date": 1508509597, "post_id": 46851136, "comment_id": 80649954, "body": "We don&#39;t know, it depends. An RFC-4180 compliant CSV should have one record by line, yours doesn&#39;t so we can&#39;t really make any assumption"}, {"owner": {"reputation": 21876, "user_id": 1678362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba023d18099cde022b9e4394d5714c0?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1678362/aaron"}, "edited": false, "score": 0, "creation_date": 1508509671, "post_id": 46851136, "comment_id": 80649992, "body": "Maybe you can infer other rules from looking at the file. Does every line starting with a number mark the start of a new record? Do only line starting with a comma mark the continuation of a current record?"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1508509771, "post_id": 46851136, "comment_id": 80650041, "body": "Assuming same amount of fields per records <code>perl -ne &#39;if(tr&#47;,&#47;,&#47;&lt;7){$line=$.;while(tr&#47;,&#47;,&#47;&lt;7){$_.=&lt;&gt;}print &quot;Line $line: $_\\n&quot;}&#39; file</code> would probs work. Multiline fields should be quoted though, so you probably won&#39;t be able to use packages since your csv is non compliant"}, {"owner": {"reputation": 15789, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "edited": false, "score": 1, "creation_date": 1508509881, "post_id": 46851136, "comment_id": 80650103, "body": "In your example, almost every &quot;record&quot; has a different number of fields. Are you sure you&#39;re giving us a representative sample of your data?"}, {"owner": {"reputation": 614, "user_id": 3980528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GfedK.png?s=128&g=1", "display_name": "mathB", "link": "https://stackoverflow.com/users/3980528/mathb"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1508510072, "post_id": 46851136, "comment_id": 80650224, "body": "@123 Worked like a charm! My file had 29 fields, so I changed the <code>7</code> from your command and updated it to 28 and it found the line number where the file breaks! Please post this as an answer and I&#39;ll accept."}, {"owner": {"reputation": 614, "user_id": 3980528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GfedK.png?s=128&g=1", "display_name": "mathB", "link": "https://stackoverflow.com/users/3980528/mathb"}, "reply_to_user": {"reputation": 15789, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "edited": false, "score": 0, "creation_date": 1508510114, "post_id": 46851136, "comment_id": 80650246, "body": "@randomir Apologize, I was just too lazy to count the fields. I would be more diligent in providing the right details."}, {"owner": {"reputation": 614, "user_id": 3980528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GfedK.png?s=128&g=1", "display_name": "mathB", "link": "https://stackoverflow.com/users/3980528/mathb"}, "reply_to_user": {"reputation": 21876, "user_id": 1678362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba023d18099cde022b9e4394d5714c0?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1678362/aaron"}, "edited": false, "score": 0, "creation_date": 1508510508, "post_id": 46851136, "comment_id": 80650498, "body": "@Aaron Thanks! I did try to find a pattern, but sometimes the record starts with a number, sometimes with text. But as you mentioned, <code>,</code> starting a line was the culprit as far as I noted. I have to check this for multiple files, so some may just start like a normal (like having a new line in the comment/remarks field). 123&#39;s solutions worked well!"}], "answers": [{"comments": [{"owner": {"reputation": 15789, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "edited": false, "score": 1, "creation_date": 1508510263, "post_id": 46851473, "comment_id": 80650333, "body": "Gotta love <code>perl</code>. :)"}], "tags": [], "owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "is_accepted": true, "score": 4, "last_activity_date": 1508510198, "creation_date": 1508510198, "answer_id": 46851473, "question_id": 46851136, "link": "https://stackoverflow.com/questions/46851136/finding-a-newline-in-the-csv-file/46851473#46851473", "title": "Finding a newline in the csv file", "body": "<p>You can use perl to count the number of fields(commas), and append the next line until it reaches the correct number</p>\n\n<pre><code>perl -ne 'if(tr/,/,/&lt;28){$line=$.;while(tr/,/,/&lt;28){$_.=&lt;&gt;}print \"Line $line: $_\\n\"}' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1248, "user_id": 298278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802e4f0d39d466ccf3723b932f0491c9?s=128&d=identicon&r=PG", "display_name": "Windle", "link": "https://stackoverflow.com/users/298278/windle"}, "edited": false, "score": 0, "creation_date": 1508510897, "post_id": 46851526, "comment_id": 80650744, "body": "This would run into a problem with lines that have quoted text that contains commas."}, {"owner": {"reputation": 11, "user_id": 8807004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XUOad.jpg?s=128&g=1", "display_name": "T Rowe", "link": "https://stackoverflow.com/users/8807004/t-rowe"}, "reply_to_user": {"reputation": 1248, "user_id": 298278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802e4f0d39d466ccf3723b932f0491c9?s=128&d=identicon&r=PG", "display_name": "Windle", "link": "https://stackoverflow.com/users/298278/windle"}, "edited": false, "score": 0, "creation_date": 1508512300, "post_id": 46851526, "comment_id": 80651537, "body": "A good thought. The field separator can be a regular expression rather than a single character. If any delimiters (commas) occur in the text, they would need to be escaped and the regular expression could account for the escape character."}, {"owner": {"reputation": 614, "user_id": 3980528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GfedK.png?s=128&g=1", "display_name": "mathB", "link": "https://stackoverflow.com/users/3980528/mathb"}, "edited": false, "score": 0, "creation_date": 1508519665, "post_id": 46851526, "comment_id": 80655566, "body": "@TRowe Interesting. I use <code>awk</code> sometimes though I&#39;m still a learner. I didn&#39;t think of it like this, but the logic makes sense. I haven&#39;t fully checked all my files, but if one of them has a comma in a quoted text, we&#39;ll see how this turns out. But still 123&#39;s answer has one edge over yours - printing line number. Can this also be done via <code>awk</code>?"}, {"owner": {"reputation": 11, "user_id": 8807004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XUOad.jpg?s=128&g=1", "display_name": "T Rowe", "link": "https://stackoverflow.com/users/8807004/t-rowe"}, "edited": false, "score": 0, "creation_date": 1508593338, "post_id": 46851526, "comment_id": 80675108, "body": "<code>NR</code> numbers: <code>awk -F , &#39;NF != 8 {print NR, $0}&#39; &lt; csv_file.txt</code>"}, {"owner": {"reputation": 614, "user_id": 3980528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GfedK.png?s=128&g=1", "display_name": "mathB", "link": "https://stackoverflow.com/users/3980528/mathb"}, "edited": false, "score": 0, "creation_date": 1508747138, "post_id": 46851526, "comment_id": 80716978, "body": "Let me check this tomorrow. :)"}], "tags": [], "owner": {"reputation": 11, "user_id": 8807004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XUOad.jpg?s=128&g=1", "display_name": "T Rowe", "link": "https://stackoverflow.com/users/8807004/t-rowe"}, "is_accepted": false, "score": 1, "last_activity_date": 1508510693, "last_edit_date": 1508510693, "creation_date": 1508510384, "answer_id": 46851526, "question_id": 46851136, "link": "https://stackoverflow.com/questions/46851136/finding-a-newline-in-the-csv-file/46851526#46851526", "title": "Finding a newline in the csv file", "body": "<p>I do love <code>Perl</code> but I don't think it is the best tool for this job.</p>\n\n<p>If you want a report of all lines that DO NOT have exactly the correct number of commas/delimiters, you could use the unix language <code>awk</code>.</p>\n\n<p>For example, this command:</p>\n\n<pre><code>/usr/bin/awk -F , 'NF != 8' &lt; csv_file.txt\n</code></pre>\n\n<p>will print all lines that DO NOT have exactly <code>7 commas</code>.  Comma is specified as the Field with <code>-F</code> and the Number of Fields is specified with <code>NF</code>.</p>\n"}], "owner": {"reputation": 614, "user_id": 3980528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GfedK.png?s=128&g=1", "display_name": "mathB", "link": "https://stackoverflow.com/users/3980528/mathb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 952, "favorite_count": 0, "accepted_answer_id": 46851473, "answer_count": 2, "score": 0, "last_activity_date": 1508510693, "creation_date": 1508509180, "question_id": 46851136, "link": "https://stackoverflow.com/questions/46851136/finding-a-newline-in-the-csv-file", "title": "Finding a newline in the csv file", "body": "<p>I know there are a lot of questions about this (latest one <a href=\"https://unix.stackexchange.com/questions/222049/how-to-detect-and-remove-newline-character-within-a-column-in-a-csv-file\">here</a>.), but almost all of them are how to join those broken lines into one from a csv file or remove them. I don't want to remove, but I just want to display/find that line (or probably the line number?)</p>\n\n<p>Example data:</p>\n\n<pre><code>22224,across,some,text,0,,,4 etc\n33448,more,text,1,,3,,,4 etc\nabcde,text,number,444444,0,1,,,, etc\n358890,more\n,text,here,44,,,, etc\nabcdefg,textds3,numberss,413,0,,,,, etc\n985678,93838,text,,,,\n,text,continuing,from,previous,line,,, etc\n</code></pre>\n\n<p>More search on this, and I know I shouldn't use <code>bash</code> to accomplish this, but rather shoud use <code>perl</code>. I tried (from various website, I don't know perl), but apparently I don't have the <code>Text::CSV</code> package and I don't have permission to install one.</p>\n\n<p>As I told I have no idea how to even start looking for this, so I don't have any script. This is <code>not</code> a windows file, this is very much <code>unix</code> file so we can ignore the <code>CR</code> problem.</p>\n\n<p>Desired output:</p>\n\n<pre><code>358890,more\n,text,here,44,,,, etc\n985678,93838,text,,,,\n,text,continuing,from,previous,line,,, etc\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Line 4: 358890,more\n,text,here,44,,,, etc \n\nLine 7: 985678,93838,text,,,,\n,text,continuing,from,previous,line,,, etc\n</code></pre>\n\n<p>Much appreciated.</p>\n"}, {"tags": ["excel", "perl", "formula", "win32ole"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1508542633, "post_id": 46850369, "comment_id": 80664855, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/27613878/list-of-perl-commands-to-manipulate-windows-excel-with-win32ole-module\">List of Perl commands to manipulate Windows Excel with Win32::OLE module</a>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508542652, "post_id": 46850369, "comment_id": 80664858, "body": "Have a look here: <a href=\"https://stackoverflow.com/questions/27613878/list-of-perl-commands-to-manipulate-windows-excel-with-win32ole-module\" title=\"list of perl commands to manipulate windows excel with win32ole module\">stackoverflow.com/questions/27613878/&hellip;</a>"}, {"owner": {"reputation": 27, "user_id": 7061050, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jY4m8.jpg?s=128&g=1", "display_name": "Laurent Zotto", "link": "https://stackoverflow.com/users/7061050/laurent-zotto"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508563383, "post_id": 46850369, "comment_id": 80668188, "body": "Yes, could be, and of course I saw and read this too. So th emethod I use with <code>{Formula}</code> is right, but whi is my cell empty at the end and I don&#39;t see an error like syntax error popping up!"}, {"owner": {"reputation": 27, "user_id": 7061050, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jY4m8.jpg?s=128&g=1", "display_name": "Laurent Zotto", "link": "https://stackoverflow.com/users/7061050/laurent-zotto"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508563445, "post_id": 46850369, "comment_id": 80668200, "body": "or mutst i Use <code>Range</code> instead of <code>Cell</code>?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508567004, "post_id": 46850369, "comment_id": 80668800, "body": "I am really not sure...I don&#39;t have a windows machine to try this out on, sorry."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 7061050, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jY4m8.jpg?s=128&g=1", "display_name": "Laurent Zotto", "link": "https://stackoverflow.com/users/7061050/laurent-zotto"}, "edited": false, "score": 0, "creation_date": 1508580518, "post_id": 46861747, "comment_id": 80671752, "body": "Ok, but this does not follow what was given: or use <code>Formula</code> with <code>A1</code>...<code>An</code> notation or use <code>FormulaR1C1</code> with relative positions of the cells"}, {"owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "reply_to_user": {"reputation": 27, "user_id": 7061050, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jY4m8.jpg?s=128&g=1", "display_name": "Laurent Zotto", "link": "https://stackoverflow.com/users/7061050/laurent-zotto"}, "edited": false, "score": 0, "creation_date": 1508581302, "post_id": 46861747, "comment_id": 80671930, "body": "I tried $Sheet-&gt;Range(&quot;D3&quot;)-&gt;{Formula} = &#39;=IF(D2=&quot;&quot;;&quot;&quot;;COUNTIF(D:D;D2))&#39;; - seems to work"}, {"owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "reply_to_user": {"reputation": 27, "user_id": 7061050, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jY4m8.jpg?s=128&g=1", "display_name": "Laurent Zotto", "link": "https://stackoverflow.com/users/7061050/laurent-zotto"}, "edited": false, "score": 0, "creation_date": 1508581924, "post_id": 46861747, "comment_id": 80672052, "body": "If I use Cells instead of Range I get an exception."}, {"owner": {"reputation": 27, "user_id": 7061050, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jY4m8.jpg?s=128&g=1", "display_name": "Laurent Zotto", "link": "https://stackoverflow.com/users/7061050/laurent-zotto"}, "edited": false, "score": 0, "creation_date": 1508772944, "post_id": 46861747, "comment_id": 80733609, "body": "... reading carefully your post, I realized I missed a &quot;)&quot; at the end of the formula. I would expect to get an error code here..."}], "tags": [], "owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "is_accepted": true, "score": 0, "last_activity_date": 1508577051, "creation_date": 1508577051, "answer_id": 46861747, "question_id": 46850369, "link": "https://stackoverflow.com/questions/46850369/howto-write-a-formula-in-cell-using-perl-win32ole/46861747#46861747", "title": "HowTo write a formula in cell using perl WIN32::OLE", "body": "<p>This following works for me. Code taken and modified from the link given by  xxfelixxx.</p>\n\n<pre><code>use Cwd 'abs_path';\nuse Win32::OLE;\nuse Win32::OLE qw(in with);\nuse Win32::OLE::Const \"Microsoft Excel\";\n$Win32::OLE::Warn = 3;\n\n\nmy $Excel = Win32::OLE-&gt;GetActiveObject('Excel.Application') || Win32::OLE-&gt;new('Excel.Application', 'Quit');\n\n$Excel-&gt;{Visible} = 1;\n\nmy $Book = $Excel-&gt;Workbooks-&gt;Add;\nmy $Sheet = $Book-&gt;Activesheet;\n\n$Sheet-&gt;Range(\"A1\")-&gt;{Value} = 1;\n$Sheet-&gt;Range(\"A2\")-&gt;{Value} = 1;\n$Sheet-&gt;Range(\"A3\")-&gt;{Formula} = \"=SUMA(R[-2]C:R[-1]C)\";\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7061050, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jY4m8.jpg?s=128&g=1", "display_name": "Laurent Zotto", "link": "https://stackoverflow.com/users/7061050/laurent-zotto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 349, "favorite_count": 0, "accepted_answer_id": 46861747, "answer_count": 1, "score": 0, "last_activity_date": 1508577051, "creation_date": 1508506818, "question_id": 46850369, "link": "https://stackoverflow.com/questions/46850369/howto-write-a-formula-in-cell-using-perl-win32ole", "title": "HowTo write a formula in cell using perl WIN32::OLE", "body": "<p>I try to insert a formula <code>=IF(D2=\"\";\"\";COUNTIF(D:D;D2))</code> in an Excel worksheet.\nHere is the code I'm trying:</p>\n\n<pre><code>$WorkSheet-&gt;Cells($Row2Use,'L')-&gt;{Formula} = \"=IF(D\".$Row2Use.\"=\\\"\\\",\\\"\\\",COUNTIF(D:D,D\".$Row2Use.\")\"; # =IF(D2=\"\";\"\";COUNTIF(D:D;D2))\n</code></pre>\n\n<p>I also tried using <code>{Value}</code> instead of <code>{Formula}</code> without success!\nWhat did I wrong</p>\n"}, {"tags": ["regex", "perl", "regex-group"], "answers": [{"tags": [], "owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "is_accepted": true, "score": 1, "last_activity_date": 1508587878, "last_edit_date": 1508587878, "creation_date": 1508587347, "answer_id": 46863020, "question_id": 46850302, "link": "https://stackoverflow.com/questions/46850302/regex-expression-to-fetch-last-week-data-using-perl/46863020#46863020", "title": "regex expression to fetch last week data using perl", "body": "<p>It would be possible to generate a regex something like the following:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse POSIX qw/strftime/;\n\nmy $now = time;\n\nmy @dates;\npush @dates, strftime \"%d-%m-%Y\", localtime($now - $_ * 86_400 ) for (0..6);\n\nmy $regex_string = '(' . join( '|', @dates) . ')';\n</code></pre>\n\n<p>Hope that will work for you</p>\n\n<blockquote>\n  <p>I am aware of the problem one could potentially have with this, when\n  it's just after the moment Daylight Saving Time would start -- if\n  that is really a problem, then iterate over a <code>for</code> loop for 13 times,\n  with steps of 43.200 seconds, which is half a day decrements.</p>\n</blockquote>\n"}], "owner": {"reputation": 9, "user_id": 4405176, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Zf1mJjRH6FM/AAAAAAAAAAI/AAAAAAAAAQQ/4B8PBl2Tn5k/photo.jpg?sz=128", "display_name": "Pushkar Ghatpande", "link": "https://stackoverflow.com/users/4405176/pushkar-ghatpande"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 46863020, "answer_count": 1, "score": 0, "last_activity_date": 1514752353, "creation_date": 1508506590, "last_edit_date": 1514752353, "question_id": 46850302, "link": "https://stackoverflow.com/questions/46850302/regex-expression-to-fetch-last-week-data-using-perl", "title": "regex expression to fetch last week data using perl", "body": "<p>I have a Perl script which will generate an output in one csv file. Perl script is giving an output based on monthly basis and executing on every Thursday. Please see the regular expression which i put into perl script.</p>\n\n<pre><code>'{\"Date\":{\"\\$regex\":/^(0[1-9]|[12][0-9]|3[01])-10-2017/i}}'\n</code></pre>\n\n<p>But once the this output generates, i need to copy last week data(i.e. for e.g. 12th Oct to 18th) and needs to send to members. So i want regular expression in such way that it will send me an based on output last week.(Concurrent last week) </p>\n"}, {"tags": ["perl", "import", "export", "global-variables"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1508499468, "post_id": 46846389, "comment_id": 80643843, "body": "@ssr1012: Fixed. Thank you."}, {"owner": {"reputation": 77, "user_id": 7568434, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/097e26962f64b93b5a09a51423616979?s=128&d=identicon&r=PG&f=1", "display_name": "keeru", "link": "https://stackoverflow.com/users/7568434/keeru"}, "edited": false, "score": 0, "creation_date": 1508503452, "post_id": 46846389, "comment_id": 80645969, "body": "Error Fixed.Thank you guys"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 6, "last_activity_date": 1508499421, "last_edit_date": 1508499421, "creation_date": 1508492480, "answer_id": 46846389, "question_id": 46846164, "link": "https://stackoverflow.com/questions/46846164/globally-access-the-variable-in-perl/46846389#46846389", "title": "globally access the variable in perl", "body": "<p>There's no point in using <code>Exporter</code> without populating <code>@EXPORT</code> or <code>@EXPORT_OK</code>.</p>\n\n<p>In <code>Lib/Utils.pm</code> you need to add</p>\n\n<pre><code>our @EXPORT_OK = qw/ $FAIL $SUCCESS /;\n</code></pre>\n\n<p>and change <code>test.pl</code> like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Lib::Utils qw/ $FAIL $SUCCESS /;\n\nprint \"$_\\n\" for $FAIL, $SUCCESS;\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 7568434, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/097e26962f64b93b5a09a51423616979?s=128&d=identicon&r=PG&f=1", "display_name": "keeru", "link": "https://stackoverflow.com/users/7568434/keeru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1508499421, "creation_date": 1508491659, "last_edit_date": 1508492121, "question_id": 46846164, "link": "https://stackoverflow.com/questions/46846164/globally-access-the-variable-in-perl", "title": "globally access the variable in perl", "body": "<p>I have many files. In one file ie (<code>Lib::Utils</code>) I have all generic functions. I need to assign values to two variables and define the same in <code>Lib::Utils</code>, and I need to export that to other files. I should not declare the variable in other files.</p>\n\n<p>I tried like the below</p>\n\n<h3>In Lib::Utils</h3>\n\n<pre><code>package Lib::Utils;\n\nrequire Exporter;\n@ISA = qw(Exporter);\n\nour $FAIL = 0;\nour $SUCCESS = 1;\n</code></pre>\n\n<h3>In test.pl</h3>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Lib::Utils;\n\nour ($FAIL, $SUCCESS);\n\nprint(\"$FAIL\\n$SUCCESS\\n\");\n</code></pre>\n\n<p>But I want this to export from <code>Lib::Utils</code> to all other files.</p>\n"}, {"tags": ["mysql", "database", "perl", "centos"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1508489284, "post_id": 46845041, "comment_id": 80638475, "body": "Sounds like you have a syntax error. Please <a href=\"https://stackoverflow.com/posts/46845041/edit\">edit</a> your question and show the Perl code that does the database query. It&#39;s possible it doesn&#39;t use placeholders, but interpolates input directly into the SQL string. If the input contains unescaped characters or is maybe missing entirely because something else along the way goes wrong, that might be the reason. See <a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">xkcd.com/327</a>. Another reason might be that the table DDL is missing the unique/primary key that the query is referring to."}, {"owner": {"reputation": 13, "user_id": 8349387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5503f14e3610f3cf2ee540a3d2ec9dd7?s=128&d=identicon&r=PG&f=1", "display_name": "Sherjeel", "link": "https://stackoverflow.com/users/8349387/sherjeel"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508493292, "post_id": 46845041, "comment_id": 80640681, "body": "Done but same code works on all other servers."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508493786, "post_id": 46845041, "comment_id": 80640941, "body": "Please edit your question to show the first 80 lines of <code>.&#47;directory</code>. At a guess, the code interpolates variables into the SQL statement instead of using placeholders as it should, and the string in one of the variables contains a single quote which throws out the quoting in the SQL. Ideally you would change the code to use placeholders instead, but you could get away with escaping any quote characters in the strings before interpolating them."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1508501075, "post_id": 46845041, "comment_id": 80644682, "body": "@Sherjeel: I have fixed the indentation in your code. You&#39;re welcome, but please do it yourself in the future. Good indentation is an important tool for understanding code and if you are expecting a large group of strangers to read and understand your code, it&#39;s only polite to make it as easy as possible for them."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8349387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5503f14e3610f3cf2ee540a3d2ec9dd7?s=128&d=identicon&r=PG&f=1", "display_name": "Sherjeel", "link": "https://stackoverflow.com/users/8349387/sherjeel"}, "edited": false, "score": 0, "creation_date": 1508497204, "post_id": 46846927, "comment_id": 80642699, "body": "Thanks the error is gone however old code was also making an insert despite of error. :) Thank u @Borodin"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1508494340, "creation_date": 1508494340, "answer_id": 46846927, "question_id": 46845041, "link": "https://stackoverflow.com/questions/46845041/script-gives-database-error-on-just-one-system/46846927#46846927", "title": "Script gives database error on just one system", "body": "<p>Thank you for the code. It is as I suspected; you really shouldn't insert values directly into an SQL statement</p>\n\n<p>Change line 37, 38, and 39 to this and it should work for you</p>\n\n<pre><code>$query = 'INSERT INTO directory (extension, name, hub) VALUES (?, ?, ?) ON DUPLICATE KEY UPDATE hub = ?';\n$sth   = $dbh-&gt;prepare($query);\n$sth-&gt;execute( trim($_), trim($vars[0]), $hubname, $hubname );\n</code></pre>\n\n<p>Beware that the same problem is likely to exist elsewhere in the code base, so it really should be completely reviewed</p>\n"}], "owner": {"reputation": 13, "user_id": 8349387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5503f14e3610f3cf2ee540a3d2ec9dd7?s=128&d=identicon&r=PG&f=1", "display_name": "Sherjeel", "link": "https://stackoverflow.com/users/8349387/sherjeel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508500943, "creation_date": 1508487631, "last_edit_date": 1508500943, "question_id": 46845041, "link": "https://stackoverflow.com/questions/46845041/script-gives-database-error-on-just-one-system", "title": "Script gives database error on just one system", "body": "<p>I am a VOIP administrator and I have script for updating directory database in Perl which was purchased from vendor before I was employed here.</p>\n\n<p>The script is working fine on all of the servers except for one.</p>\n\n<pre><code>#!/usr/bin/perl\nuse lib \"/opt/asterisk/lib/\";\nuse DBI;\nuse Asterisk::config;\nsub trim($);\n# database information\n$db=\"kesc\";\n$host=\"sip-ho.kesc.com.pk\";\n$userid=\"foo\";\n$passwd=\"bar\";\n$connectionInfo=\"dbi:mysql:$db;$host\";\n$hubname = \"\";\n\n# make connection to database\n$dbh = DBI-&gt;connect($connectionInfo,$userid,$passwd);\n# Perl trim function to remove whitespace from the start and end of the string\nsub trim($)\n{\n    my $string = shift;\n    $string =~ s/^\\s+//;\n    $string =~ s/\\s+$//;\n    return $string;\n}\n\nmy $rc = new Asterisk::config  (file=&gt;'/etc/asterisk/sip.conf',keep_resource_array=&gt;0);\n@list = $rc-&gt;fetch_sections_list();\n$n = 1;\nforeach (@list)\n{\n    if ($_ ne \"general\") {\n\n        $entry = $rc-&gt;fetch_keys_hashref(section=&gt;$_);\n        while ( my ($key, @value) = each(%$entry) )\n        {\n            if ($key eq \"callerid\") {\n                @vars = split('&lt;',$value[0][0]);\n                $query = \"insert into directory (extension,name,hub) values (\" . trim($_) . \", '\" . trim($vars[0]) . \"', '$hubname') ON DUPLICATE KEY UPDATE hub='$hubname'\";\n                $sth = $dbh-&gt;prepare($query);\n                $sth-&gt;execute();\n            }\n        }\n    }\n    $n++;\n}\n</code></pre>\n\n<p>Now I get below mentioned error when executing it.</p>\n\n<blockquote>\n  <p>DBD::mysql::st execute failed: You have an error in your SQL syntax; \n  check the manual that corresponds to your MySQL server version for the right syntax to use near 's Office', '') ON DUPLICATE KEY UPDATE hub=''' at line 1 at ./directory line 39.</p>\n</blockquote>\n\n<p>I have also replaced it from other server with same MySQL version where it works perfectly. </p>\n\n<p>Please guide me.</p>\n"}, {"tags": ["perl", "autosys", "jil"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508475606, "post_id": 46841287, "comment_id": 80632872, "body": "Why don&#39;t you check if <code>$job</code>, <code>$command</code>, and <code>$machine</code> are populated before printing them out.  You can reset them to <code>undef</code> where you set <code>$count = 1</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1508475687, "post_id": 46841287, "comment_id": 80632895, "body": "Also, proper indentation goes along way to understanding how your code executes.  Also, if you are going to have these <code>if-elsif</code>.... ladders, it is good practice to have an <code>else</code> clause to catch a situation you may not have anticipated."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1508475719, "post_id": 46841287, "comment_id": 80632903, "body": "You can use <code>perltidy</code> to reformat your code for you, according to whatever coding guidelines you like."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508500762, "post_id": 46841287, "comment_id": 80644511, "body": "Your Perl code is disgraceful. Please remember that anyone likely to answer your question will be familiar with something more standard, such as that described in <a href=\"http://perldoc.perl.org/perlstyle.html\" rel=\"nofollow noreferrer\"><code>perlstyle</code></a>. Making your code readable has a huge benefit to you and your colleagues, and it is rude to post a jumble of characters like that, expecting us to wade through it. I have added a normalised version of your program to your question in the hope that someone may read that far."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508500878, "post_id": 46841287, "comment_id": 80644570, "body": "I get that the first code block is an example of what a print statement would look like <i>&quot;outside the <code>elsif</code> brackets&quot;</i>, but what is the block that begins <code>COME_AND_PLAY_WITH_US_DANNY</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508500951, "post_id": 46841287, "comment_id": 80644614, "body": "@xxfelixxx: <i>&quot;You can use perltidy ... according to whatever coding guidelines you like&quot;</i> I really wish you could!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508502112, "post_id": 46841287, "comment_id": 80645228, "body": "If the <code>COME_AND_PLAY_WITH_US_DANNY</code> block is an example of your input data, then running <i>your own code</i> against that data produces <code>COME_AND_PLAY_WITH_US_DANNY\t  capser.com\t  &#47;bin&#47;bash -ls </code> which is what I would expect. What exactly is the problem?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508502297, "post_id": 46841287, "comment_id": 80645334, "body": "@Borodin, you just need to setup your <code>.perltidyrc</code> correctly....yes it doesn&#39;t handle everything, but it is pretty good."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508503647, "post_id": 46841287, "comment_id": 80646064, "body": "@xxfelixxx: My biggest frustration is that <i>anything</i> in parentheses is either space-surrounded or not. So <code>my($x)</code> is treated the same as <code>for(0..99)</code>. It&#39;s far from comprehensive."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508505132, "post_id": 46841287, "comment_id": 80646906, "body": "That sounds like you are a regular expression and a patch contribution away from what you want...go for it :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508505865, "post_id": 46841287, "comment_id": 80647386, "body": "@xxfelixxx: If you can write some code for me that I can test and push then I&#39;ll consider it. Reading and understanding <a href=\"https://st.aticpan.org/source/SHANCOCK/Perl-Tidy-20170521/lib/Perl/Tidy.pm\" rel=\"nofollow noreferrer\">the code from <code>Perl::Tidy</code></a> is beyond my means at present."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508506332, "post_id": 46841287, "comment_id": 80647695, "body": "@Borodin, Possibly, I have some bandwidth right now, could you open a RT bug ticket with some examples of what you are looking for, to be used as test cases."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508517606, "post_id": 46841287, "comment_id": 80654534, "body": "@xxfelixxx: That&#39;s not how it works. If you fork the existing code and send me a pull request then I may take a look."}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1508518577, "post_id": 46841287, "comment_id": 80655006, "body": "@xxfelixxx: Perl tidy  -- THANKS GUYS !!!!  I use html tidy and bash shellchecker - was looking for a perl compatible service. you guys rule"}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508518622, "post_id": 46841287, "comment_id": 80655033, "body": "@Borodin, awesome contribution. I will take your advice. SOrry so sloppy."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508535582, "post_id": 46841287, "comment_id": 80663029, "body": "@capser: But you should never need to use <code>perltidy</code> on your own code. There&#39;s no reason not to enter it correctly in the first place."}], "answers": [{"comments": [{"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1508518886, "post_id": 46849995, "comment_id": 80655162, "body": "The jil is a job definition, or a config file for a job scheduler - like cron. The scheduler is Called Autosys, it is made by computer associates, and many people hate it. This post should benefit someone who wants to parse the jil files. Jil stands for Job Information Language"}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1508519922, "post_id": 46849995, "comment_id": 80655715, "body": "really appreciate your attention - &lt;em&gt;If I execute the code that you show against your sample data then everything works fine, so what problem do you have?&lt;/em&gt;  When I place the print statement outside of the last elsif block, it prints the right answer, but prints it four times. If I place the print statement inside the block, I get the correct output to the screen - once and only once - but I don&#39;t see why. From what I understand, the print statement should work outside the last elsif block - but it does not. It prints duplicates."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1508535351, "post_id": 46849995, "comment_id": 80662957, "body": "@capser: Outside your <code>if</code>/<code>elsif</code> chain you are printing the data you have accumulated <i>every time</i> you read a line. You don&#39;t want that; you want to print only when you have all the data from a block."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1508505590, "creation_date": 1508505590, "answer_id": 46849995, "question_id": 46841287, "link": "https://stackoverflow.com/questions/46841287/parsing-autosys-jil-with-perl/46849995#46849995", "title": "Parsing AutoSys JIL with perl", "body": "<p>As I've said in my comment, <em>please format your code sensibly</em>. Without doing so you will get people either ignoring your question, or being grumpy about answering like me</p>\n\n<ul>\n<li><p>Let's assume that the unidentified text block is just a sample of your input</p></li>\n<li><p>Let's also assume that, even though your code works fine with your sample data, there are some data blocks in the real data that don't work</p></li>\n<li><p>On top of that, I'm assuming that any data field value that contains spaces requires enclosing quotes, which makes your example <code>command: /bin/bash -ls</code> incorrect, and invalid syntax</p></li>\n</ul>\n\n<p>Please also make sure that you have given a proper example of your problem with runnable code and data. If I execute the code that you show against your sample data then everything works fine, so what problem do you have?</p>\n\n<p>As far as I can tell, you want to display the <code>insert_job</code>, <code>machine</code>, and <code>command</code> fields from every JIL data block whose <code>job_type</code> field is <code>CMD</code>. Is that right?</p>\n\n<p>Here's my best guess: <a href=\"https://stackoverflow.com/questions/46841287/parsing-autosys-jil#comment80632872_46841287\"><strong>xxfelixxx's</strong> comment</a> is correct, and you are simply printing all the fields that you have collected every time you read a line from the data file</p>\n\n<p>My solution is to transform each data block into a hash.</p>\n\n<p>It is dangerous to use comments to delineate the blocks, and you have given no information about the ordering of the fields, so I have to assume that the <code>insert_job</code> field comes first. That makes sense if the file is to be used as a list of imperatives, but the additional <code>job_type</code> field on the same line is weird. Is that a genuine sample of your data, or another problem with your example?</p>\n\n<p>Here's a working solution to my imagination of your problem.</p>\n\n<pre><code>#!/foo/bar/perl5/core/5.10/exec/bin/perl\n\nuse strict;\nuse warnings 'all';\n\nmy $data = do {\n    local $/;\n    &lt;DATA&gt;;\n};\n\nmy @data = grep /:/, split /^(?=insert_job)/m, $data;\n\nfor ( @data ) {\n\n    my %data = /(\\w+) \\s* : \\s* (?| \" ( [^\"\"]+ ) \" | (\\S+) )/gx;\n\n    next unless $data{job_type} eq 'CMD';\n\n    print \"@data{qw/ insert_job machine command /}\\n\";\n}\n\n\n__DATA__\n/* ----------------- COME_AND_PLAY_WITH_US_DANNY ----------------- */\n\ninsert_job: COME_AND_PLAY_WITH_US_DANNY   job_type: CMD\ncommand: /bin/bash -ls\nmachine: capser.com\nowner: twins\npermission: foo,foo\ndate_conditions: 1\ndays_of_week: mo,tu,we,th,fr\nstart_times: \"04:00\"\ndescription: \"Forever, and ever and ever\"\nstd_in_file: \"/home/room217\"\nstd_out_file: \"${CASPERSYSLOG}/room217.out\"\nstd_err_file: \"${CASPERSYSLOG}/room217.err\nalarm_if_fail: 1\nprofile: \"/autosys_profile\"\ntimezone: US/Eastern\n\n/* ----------------- COME_AND_PLAY_WITH_US_AGAIN_DANNY ----------------- */\n\ninsert_job: COME_AND_PLAY_WITH_US_AGAIN_DANNY   job_type: CMD\ncommand: /bin/bash -ls\nmachine: capser.com\nowner: twins\npermission: foo,foo\ndate_conditions: 1\ndays_of_week: mo,tu,we,th,fr\nstart_times: \"04:00\"\ndescription: \"Forever, and ever and ever\"\nstd_in_file: \"/home/room217\"\nstd_out_file: \"${CASPERSYSLOG}/room217.out\"\nstd_err_file: \"${CASPERSYSLOG}/room217.err\nalarm_if_fail: 1\nprofile: \"/autosys_profile\"\ntimezone: US/Eastern\n\n/* ----------------- NEVER_PLAY_WITH_US_AGAIN_DANNY ----------------- */\n\ninsert_job: NEVER_PLAY_WITH_US_AGAIN_DANNY   job_type: CMD\ncommand: /bin/bash -rm *\nmachine: capser.com\nowner: twins\npermission: foo,foo\ndate_conditions: 1\ndays_of_week: mo,tu,we,th,fr\nstart_times: \"04:00\"\ndescription: \"Forever, and ever and ever\"\nstd_in_file: \"/home/room217\"\nstd_out_file: \"${CASPERSYSLOG}/room217.out\"\nstd_err_file: \"${CASPERSYSLOG}/room217.err\nalarm_if_fail: 1\nprofile: \"/autosys_profile\"\ntimezone: US/Eastern\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>COME_AND_PLAY_WITH_US_DANNY capser.com /bin/bash\nCOME_AND_PLAY_WITH_US_AGAIN_DANNY capser.com /bin/bash\nNEVER_PLAY_WITH_US_AGAIN_DANNY capser.com /bin/bash\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5254982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6067cb4d778c12c1b45472b4358706d?s=128&d=identicon&r=PG&f=1", "display_name": "R N", "link": "https://stackoverflow.com/users/5254982/r-n"}, "is_accepted": false, "score": 0, "last_activity_date": 1515689711, "creation_date": 1515689711, "answer_id": 48212235, "question_id": 46841287, "link": "https://stackoverflow.com/questions/46841287/parsing-autosys-jil-with-perl/48212235#48212235", "title": "Parsing AutoSys JIL with perl", "body": "<p>This is a ksh solution to turn a JIL file into comma separated file you can open in excel</p>\n\n<pre><code>#!/usr/bin/ksh\n\n# unix scprit to flatten autorep -q\n\nresetVar()\n{\n    AIF=\"\"\n    AD=\"\"\n    AH=\"\"\n    BF=\"\"\n    BN=\"\"\n    BS=\"\"\n    BT=\"\"\n    COM=\"\"\n    COD=\"\"\n    DC=\"\"\n    DOW=\"\"\n    DES=\"\"\n    EC=\"\"\n    IJ=\"\"\n    JL=\"\"\n    JT=\"\"\n    MAC=\"\"\n    MES=\"\"\n    MRA=\"\"\n    NR=\"\"\n    OWN=\"\"\n    PER=\"\"\n    PRI=\"\"\n    PRO=\"\"\n    RC=\"\"\n    RW=\"\"\n    SM=\"\"\n    ST=\"\"\n    SEF=\"\"\n    SOF=\"\"\n    TRT=\"\"\n    WF=\"\"\n    WFMS=\"\"\n    WI=\"\"\n    LSD=\"\"\n    LST=\"\"\n    LED=\"\"\n    LET=\"\"\n    STA=\"\"\n    RUN=\"\"\n}\n\n\nwritePartToFile()\n{\n echo \"$AIF;$AD;$AH;$BF;$BN;$BS;$BT;$COM;$COD;$DC;$DOW;$DES;$EC;$IJ;$JL;$JT;$MAC;$MES;$MRA;$NR;$OWN;$PER;$PRI;$PRO;$RC;$RW;$SM;$ST;$SEF;$SOF;$TRT;$WF;$WFMS;$WI\" &gt;&gt; $TO_TPM\n #echo \"$AIF;$AD;$AH;$BF;$BN;$BS;$BT;$COM;$COD;$DC;$DOW;$DES;$EC;$IJ;$JL;$JT;$MAC;$MES;$MRA;$NR;$OWN;$PER;$PRI;$PRO;$RC;$RW;$SM;$ST;$SEF;$SOF;$TRT;$WF;$WFMS;$WI\" \n resetVar\n\n}\n\nJOB_NAME=\"flatten JIL\"\npart1=\"\"\npart2=\"\"\n\n\n#---------------------------------\nif test \"$1.\" = \".\"\nthen\n   echo \"Missing first parameter (jil file to flatten)\"; \n   exit 1;\nfi\n\nif test \"$2.\" = \".\"\nthen\n   echo \"Missing second parameter (resulting flat file)\";\n exit 1;\nfi\n\nTO_FLATTEN=$1\nTO_RESULT=$2\nCLE_FILE=\"lesCles\"\nCLE_TMP=\"lesClesTmp\"\nTO_TPM=\"tempFichier\"\nTO_STATUS=\"statusFichier\"\n\nrm $TO_RESULT\nrm $CLE_TMP\nrm $CLE_FILE\nrm $TO_TPM\nrm $TO_STATUS\n\necho 'alarm_if_fail;auto_delete;auto_hold;box_failure;box_name;box_success;box_terminator;command;condition;date_conditions;days_of_week;description;exclude_calendar;insert_job;job_load;job_terminator;machine;max_exit_success;max_run_alarm;n_retrys;owner;permission;priority;profile;run_calendar;run_window;start_mins;start_times;std_err_file;std_out_file;term_run_time;watch_file;watch_file_min_size;watch_interval;last_start_date;last_start_time;last_end_date;last_end_time;status;run' &gt;&gt; $TO_RESULT;\n while read line; do    \n    if test \"${line#*:}\" != \"$line\"\n    then        \n      cle=\"$(echo \"$line\" | cut -d\":\" -f 1)\"\n      #echo \"cle = $cle\"\n      part2=\"$(echo \"$line\" | cut -d\":\" -f 2)\"   \n      #echo \"part2 = $part2\"        \n      val=\"$(echo \"$part2\" | cut -d\" \" -f 2)\"\n      #echo \"val = $val\"    \n    fi  \n    if test \"$cle\" = \"insert_job\"\n    then\n    #on n'est sur la premiere ligne\n        if test \"$IJ.\" = \".\"\n        then\n            ;                           \n        else          \n            if test \"$BN.\" = \".\"\n            then             \n             echo $IJ &gt;&gt; $CLE_TMP\n            else\n             echo $BN &gt;&gt; $CLE_TMP\n            fi      \n            writePartToFile         \n        fi\n        IJ=$val\n        JT=\"$(echo \"$line\" | cut -d\":\" -f 3)\"                   \n    else    \n    #on n est pas sur le premiere ligne \n        val=$part2\n        case $cle in\n            alarm_if_fail) AIF=$val;;\n            auto_delete) AD=$val;;\n            auto_hold) AH=$val;;\n            box_failure) BF=$val;;\n            box_name) BN=$val;;\n            box_success) BS=$val;;\n            box_terminator) BT=$val;;\n            command) COM=$val;;\n            condition) COD=$val;;\n            date_conditions) DC=$val;;\n            days_of_week) DOW=$val;;\n            description) DES=$val;;\n            exclude_calendar) EC=$val;;\n            insert_job) IJ=$val;;\n            job_load) JL=$val;;\n            job_terminator) JT=$val;;\n            machine) MAC=$val;;\n            max_exit_success) MES=$val;;\n            max_run_alarm) MRA==$val;;\n            n_retrys) NR=$val;;\n            '#owner') OWN=$val;;\n            permission) PER=$val;;\n            priority) PRI=$val;;\n            profile) PRO=$val;;\n            run_calendar) RC=$val;;\n            run_window) RW=$val;;\n            start_mins) SM=$val;;\n            start_times) ST=$val;;\n            std_err_file) SEF=$val;;\n            std_out_file) SOF=$val;;\n            term_run_time) TRT=$val;;\n            watch_file) WF=$val;;\n            watch_file_min_size) WFMS=$val;;\n            watch_interval) WI=$val;; \n        esac        \n    fi\n\ndone  &lt; $TO_FLATTEN;\n#Traiter derniere occurence\nif test \"$BN.\" = \".\"\nthen\n    echo $IJ &gt;&gt; $CLE_TMP\nelse\n    echo $BN &gt;&gt; $CLE_TMP\nfi      \nwritePartToFile     \n\necho \"Les cles\"\ncat $CLE_TMP | sort | uniq &gt; $CLE_FILE\ncat $CLE_FILE\nrm $CLE_TMP\n\n#------------------------------\n while read line; do        \n    autorep -J ${line} -w  &gt;&gt; $TO_STATUS;   \ndone  &lt; $CLE_FILE;\n#----------------------------------------\necho \" Resultats\"\nwhile read line; do\nunJob=\"$(echo \"$line\" | cut -d\";\" -f 14)\"\ndetails=\"$(grep -w  \"$unJob\" \"$TO_STATUS\" | head -n 1)\" \nLSD=\"$(echo \"$details\" | awk '{print $2}')\"\nif test \"$LSD\" = \"-----\"\nthen\n    LST=\"\"\n    LED=\"$(echo \"$details\" | awk '{print $3}')\"\n    if test \"$LED\" = \"-----\"\n    then\n        LET=\"\"\n        STA=\"$(echo \"$details\" | awk '{print $4}')\"\n        RUN=\"$(echo \"$details\" | awk '{print $5}')\"\n    else\n        LET=\"$(echo \"$details\" | awk '{print $4}')\"\n        STA=\"$(echo \"$details\" | awk '{print $5}')\"\n        RUN=\"$(echo \"$details\" | awk '{print $6}')\"\n    fi\nelse\n    LST=\"$(echo \"$details\" | awk '{print $3}')\"\n    LED=\"$(echo \"$details\" | awk '{print $4}')\"\n    if test \"$LED\" = \"-----\"\n    then\n        LET=\"\"\n        STA=\"$(echo \"$details\" | awk '{print $5}')\"\n        RUN=\"$(echo \"$details\" | awk '{print $6}')\"\n    else\n        LET=\"$(echo \"$details\" | awk '{print $5}')\"\n        STA=\"$(echo \"$details\" | awk '{print $6}')\"\n        RUN=\"$(echo \"$details\" | awk '{print $7}')\"\n    fi\nfi\n\necho \" ligne= ${line};${LSD};${LST};${LED};${LET};${STA};${RUN}\"\necho \"${line};${LSD};${LST};${LED};${LET};${STA};${RUN}\" &gt;&gt; $TO_RESULT\nresetVar\ndone  &lt; $TO_TPM;\n</code></pre>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 914, "favorite_count": 0, "accepted_answer_id": 46849995, "answer_count": 2, "score": 0, "last_activity_date": 1515689711, "creation_date": 1508464149, "last_edit_date": 1592644375, "question_id": 46841287, "link": "https://stackoverflow.com/questions/46841287/parsing-autosys-jil-with-perl", "title": "Parsing AutoSys JIL with perl", "body": "\n<p>I have an assignment to parse out AutoSys JIL files.  This is a JIL job definition, it is a config file that the AUTOSYS scheduler reads in and runs. , Imagine a file formatted like this, with thousands of job definitions like the one below, stacked on top of each other in the exact same format. All beginning with the header and ending with the timezone.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/* ----------------- COME_AND_PLAY_WITH_US_DANNY ----------------- */\n\ninsert_job: COME_AND_PLAY_WITH_US_DANNY   job_type: CMD\ncommand: /bin/bash -ls\nmachine: capser.com\nowner: twins\npermission: foo,foo\ndate_conditions: 1\ndays_of_week: mo,tu,we,th,fr\nstart_times: &quot;04:00&quot;\ndescription: &quot;Forever, and ever and ever&quot;\nstd_in_file: &quot;/home/room217&quot;\nstd_out_file: &quot;${CASPERSYSLOG}/room217.out&quot;\nstd_err_file: &quot;${CASPERSYSLOG}/room217.err\nalarm_if_fail: 1\nprofile: &quot;/autosys_profile&quot;\ntimezone: US/Eastern\n</code></pre>\n<p>This is the script. I need to extract the job, machine and command from the job definition above.  It works fine, but eventually I am going to want to store the information in some kind of container and send it, while this script writes out the results line by line in the terminal. Right now I am redirecting the results to a temporary file.</p>\n<pre class=\"lang-perl prettyprint-override\"><code>#!/foo/bar/perl5/core/5.10/exec/bin/perl\nuse strict;\nuse warnings;\nuse File::Basename ;\n\nmy($job, $machine, $command)  ;\nmy $filename = '/tmp/autosys.jil_output.padc';\nopen(my $fh, '&lt;:encoding(UTF-8)', $filename)\n  or die &quot;Could not open file '$filename' $!&quot;;\nmy $count = 0;\nwhile (my $line = &lt;$fh&gt;) {\n    #chomp $line;\n    if($line =~ /\\/\\* -{17} \\w+ -{17} \\*\\//) {\n    $count = 1; }\n    elsif($line =~  /(alarm_if_fail:)/) {\n    $count = 0 ; }\n    elsif ($count) {\n             if ($line =~ m/insert_job: (\\w+).*job_type: CMD/) {\n             $job = $1   ;\n             }\n             elsif($line =~ m/command:(.*)/) {\n             $command = $1  ;\n             }\n             elsif($line =~ m/machine:(.*)/) {\n             $machine = $1  ;\n\n             print &quot;$job\\t $machine\\t $command \\n &quot;;      \n             }\n        }\n\n\n    #sleep 1 ;\n   }\n</code></pre>\n\n<p>My question is When I place the print <em> $job, $machine $command </em> statement within the last elsif statement, it works fine. However when I place it out side of the last elsif statement, like the example below the output is duplicated over and over again - each line is duplicated like four to five times in the output. I do not understand that. How come I have to put the print statement within the last elsif statement to get the script to print out one line at a time, correctly.</p>\n<pre class=\"lang-perl prettyprint-override\"><code>elsif ( $line =~ m/machine:(.*)/ ) {\n    $machine = $1;\n}\n\nprint &quot;$job\\t $machine\\t $command \\n &quot;;\n</code></pre>\n<br/>\n<hr />\n<h3>Reformat of above code for readability</h3>\n<pre class=\"lang-perl prettyprint-override\"><code>#!/foo/bar/perl5/core/5.10/exec/bin/perl\n\nuse strict;\nuse warnings;\n\nuse File::Basename;\n\nmy ( $job, $machine, $command );\nmy $filename = '/tmp/autosys.jil_output.padc';\n\nopen( my $fh, '&lt;:encoding(UTF-8)', $filename )\n        or die &quot;Could not open file '$filename' $!&quot;;\n\nmy $count = 0;\n\nwhile ( my $line = &lt;$fh&gt; ) {\n\n    #chomp $line;\n    if ( $line =~ /\\/\\* -{17} \\w+ -{17} \\*\\// ) {\n        $count = 1;\n    }\n    elsif ( $line =~ /(alarm_if_fail:)/ ) {\n        $count = 0;\n    }\n    elsif ( $count ) {\n\n        if ( $line =~ m/insert_job: (\\w+).*job_type: CMD/ ) {\n            $job = $1;\n        }\n        elsif ( $line =~ m/command:(.*)/ ) {\n            $command = $1;\n        }\n        elsif ( $line =~ m/machine:(.*)/ ) {\n            $machine = $1;\n            print &quot;$job\\t $machine\\t $command \\n &quot;;\n        }\n    }\n\n    # sleep 1;\n}\n</code></pre>\n"}, {"tags": ["perl", "utf-8"], "comments": [{"owner": {"reputation": 81732, "user_id": 1427878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5fbf44c0eeeaf38c4e4a54ce9eff7a?s=128&d=identicon&r=PG&f=1", "display_name": "CBroe", "link": "https://stackoverflow.com/users/1427878/cbroe"}, "edited": false, "score": 0, "creation_date": 1508463415, "post_id": 46841151, "comment_id": 80630252, "body": "Might be more of an OS issue, than of character encoding ... <a href=\"https://en.wikipedia.org/wiki/Newline#Representations\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Newline#Representations</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1508465296, "post_id": 46841151, "comment_id": 80630645, "body": "That shouldn&#39;t have anything to do with encoding. The shown snippet has an extra <code>&gt;</code>, in <code>&quot;&gt;out.txt&quot;</code> (you&#39;ve already set it for writing in <code>&quot;&gt;:encoding(UTF-8)&quot;)</code>; I don&#39;t know whether that matters though. Btw, if this is new code and you need utf8 across the whole program and all standard streams  you can just do <code>use open &#39;:std&#39;, &#39;:encoding(UTF-8);</code> at the beginning and then use normal <code>open</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1508467381, "post_id": 46841151, "comment_id": 80631084, "body": "That properly does line breaks (LF in unix and CRLF in Windows)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1508467382, "post_id": 46841151, "comment_id": 80631085, "body": "Here is a test: <code>perl -wE&#39;use utf8; use open &quot;:std&quot;, &quot;:encoding(UTF-8)&quot;; $var = &quot;\u2195&quot;; open $fh, &quot;&gt;&quot;, &quot;test_utf8.txt&quot;; say $fh $var&#39;</code>.  This one-liner correctly prints to file the up-down arrow.  (The <code>use utf8;</code> is there only so that I can enter it into the source.)"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1508487144, "post_id": 46841151, "comment_id": 80637305, "body": "how about  just doing it as <code>open OUT, &quot;&gt;:utf8&quot;, &quot;out.txt&quot;;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508499198, "post_id": 46841151, "comment_id": 80643694, "body": "@GerhardBernhard: The only difference that will make is that the printed data won&#39;t be checked for valid UTF-8 content."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1508499313, "post_id": 46841151, "comment_id": 80643757, "body": "I expect that you are running your Perl program on a different system from where you edit it. Please confirm."}, {"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 2, "creation_date": 1508533326, "post_id": 46841151, "comment_id": 80662197, "body": "It&#39;s very likely that you&#39;re doing this on Windows, or at least opening the text file on Windows in editor like Windows Notepad that doesn&#39;t know how to represent Unix&#39;s new lines. You may try to <code>print OUT &quot;hello\\r\\n&quot;;</code>. Or try to open the resulting file in some more sophisticated editor like Notepad++. Also you may use Perl&#39;s input record separator variable <code>$&#47;</code>: <code>print OUT &quot;hello$&#47;&quot;;</code> - it should hold &#39;CRLF&#39; (<code>\\r\\n</code>) on Windows."}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508469365, "creation_date": 1508463005, "last_edit_date": 1508469365, "question_id": 46841151, "link": "https://stackoverflow.com/questions/46841151/newlines-when-writing-to-a-utf8-file", "title": "newlines when writing to a utf8 file", "body": "<pre><code>open OUT, \"&gt;:encoding(UTF-8)\", \"out.txt\";\nprint OUT \"hello\\n\";\n...\n</code></pre>\n\n<p>I am writing several lines of text using code like the above.  The result is a file which does not show line breaks in a text editor or when outputted in a terminal window.</p>\n\n<p>How are you meant to do line breaks when writing to a <code>utf8</code> encoded file?</p>\n"}, {"tags": ["perl", "module"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1508479468, "last_edit_date": 1508479468, "creation_date": 1508467931, "answer_id": 46841720, "question_id": 46841118, "link": "https://stackoverflow.com/questions/46841118/how-do-i-find-out-what-the-dynaloader-library-reference-is-referencing/46841720#46841720", "title": "How do I find out what the DynaLoader &quot;library reference&quot; is referencing?", "body": "<p><a href=\"https://perl5.git.perl.org/perl.git/blob/714a461a2ab3017f19ea0f7bbb4934b2309d3aa8:/ext/DynaLoader/DynaLoader_pm.PL#l296\" rel=\"nofollow noreferrer\">DynaLoader::bootstrap</a> doesn't save the name of the file it loads (<code>$file</code>).<sup>[1]</sup></p>\n\n<p>The handles themselves are system-dependent handles. For example, on Windows, they are <code>HMODULE</code> values returned by <code>LoadLibraryExA</code> (dynamically linked) or <code>GetModuleHandle</code> (statically linked). On that system, you could use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms683197(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>GetModuleFileName</code></a>.</p>\n\n<hr>\n\n<ol>\n<li><p>However, it does associate the path with a sub named <code>bootstrap</code> in the module's package. You can use the following snippet to find the path of the library of a specific DynaLoader-using module.</p>\n\n<pre><code>use B qw( svref_2object );\n\nmy $module_name = 'Foo::Bar';\n\nmy $glob = do { no strict qw( refs ); *{$module_name.'::bootstrap'} };\nmy $code = *$glob{CODE}\n   or die(\"Module $module_name not loaded or doesn't use DynaLoader\\n\");\n\nmy $path = svref_2object($code)-&gt;FILE;\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508479468, "creation_date": 1508462799, "question_id": 46841118, "link": "https://stackoverflow.com/questions/46841118/how-do-i-find-out-what-the-dynaloader-library-reference-is-referencing", "title": "How do I find out what the DynaLoader &quot;library reference&quot; is referencing?", "body": "<p>Perl keeps a database of external dynamically loaded libraries by their file handles in <code>@DynaLoader::dl_librefs</code> how do I find out what the library is that <code>DynaLoader</code> keeps the handle to?</p>\n\n<pre><code>sub f {\n  my $h = shift;\n  # something that gives me a name, or caller or something useful?\n  return $name;\n};\n\nmap f($_),  @DynaLoader::dl_librefs;\n</code></pre>\n\n<p>What can I do?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "edited": false, "score": 4, "creation_date": 1508459678, "post_id": 46840640, "comment_id": 80629393, "body": "What do you want <code>**</code> to mean here?"}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1508460553, "post_id": 46840640, "comment_id": 80629596, "body": "What is the string you&#39;re trying to match?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1508484004, "post_id": 46840640, "comment_id": 80635770, "body": "You seem to be confusing Perl and Perl6. <code>** {0..7}</code> looks like something Perl6 grammars would do."}], "answers": [{"tags": [], "owner": {"reputation": 318, "user_id": 2519491, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fd168e3abd991d6c6d83109997eef665?s=128&d=identicon&r=PG", "display_name": "hahahakebab", "link": "https://stackoverflow.com/users/2519491/hahahakebab"}, "is_accepted": false, "score": 0, "last_activity_date": 1508461352, "creation_date": 1508461352, "answer_id": 46840966, "question_id": 46840640, "link": "https://stackoverflow.com/questions/46840640/error-in-perl-nested-quantifiers-in-regex/46840966#46840966", "title": "Error in Perl: Nested quantifiers in regex", "body": "<p>If you are not matching anything other than the literal string with \"**\", then you will need to escape it.</p>\n\n<pre><code>/($np) (?: $s+ (?: [\\w-]+ | ($np))) \\*\\* {0..$window_size} /\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7347934"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1508483436, "creation_date": 1508458457, "last_edit_date": 1508483436, "question_id": 46840640, "link": "https://stackoverflow.com/questions/46840640/error-in-perl-nested-quantifiers-in-regex", "title": "Error in Perl: Nested quantifiers in regex", "body": "<p>Im a Perl noob and I have been trying to develop a simple script to capture some values from a regex. So far I have built the following program:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n$/ = '';\n\nmy $PM = qr{\\b[A-Z][\\w-]*\\w};\nmy $de = qr{d[aoe]s?};\nmy $s = qr{[\\n ]};\nmy $np = qr{$PM (?: $s $PM | $s $de $s $PM )*}x;\n\nmy $window_size = 7;\nmy $window = qr{($np) (?: $s+ (\\w+))*};\n\nwhile(&lt;&gt;){\n  while(/($np) (?: $s+ (?: [\\w-]+ | ($np))) ** {0..$window_size} /xg){\n      print(\"\\$1:  $1 and \\$2: $2 \\n\");\n  } \n}\n</code></pre>\n\n<p>However, when I try to run this code, it shows me the following error:</p>\n\n<pre><code>Nested quantifiers in regex; marked by &lt;-- HERE in m/((?^ux:(?^u:\\b[A-Z][\\w-]*\\w) (?: (?^u:[\\n ]) (?^u:\\b[A-Z][\\w-]*\\w) | (?^u:[\\n ]) (?^u:d[aoe]s?) (?^u:[\\n ]) (?^u:\\b[A-Z][\\w-]*\\w) )*)) (?: (?^u:[\\n ])+ (?: [\\w-]+ | ((?^ux:(?^u:\\b[A-Z][\\w-]*\\w) (?: (?^u:[\\n ]) (?^u:\\b[A-Z][\\w-]*\\w) | (?^u:[\\n ]) (?^u:d[aoe]s?) (?^u:[\\n ]) (?^u:\\b[A-Z][\\w-]*\\w) )*)))) ** &lt;-- HERE  {0..7} / at ./main.pl line 22, &lt;&gt; chunk 1.\n</code></pre>\n\n<p>Why is this not working?</p>\n\n<p>EDIT: Im trying to use the <code>**</code> operator as the general quantifier, followed by a range. I have read that it is equivalent to {range min, range max} quantifier</p>\n"}, {"tags": ["perl", "oop"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1508447287, "post_id": 46838866, "comment_id": 80625556, "body": "That kind of sounds like you&#39;re trying to subclass <code>ElectricCommander</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1508447311, "post_id": 46838866, "comment_id": 80625560, "body": "The <code>package</code> line should come first. This makes a big difference if <code>ElectricCommander</code> exports any symbols."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1508452907, "last_edit_date": 1508452907, "creation_date": 1508447433, "answer_id": 46838952, "question_id": 46838866, "link": "https://stackoverflow.com/questions/46838866/calling-methods-from-a-class-via-another-class-which-uses-it/46838952#46838952", "title": "Calling methods from a class via another class which uses it", "body": "<p>Simply add the following to the <code>EC</code> package:</p>\n\n<pre><code>sub getJobDetails { shift-&gt;{EC}-&gt;getJobDetails(@_) }\n</code></pre>\n\n<p>If you have multiple methods of the kind, you can use build the wrappers dynamically.</p>\n\n<pre><code>BEGIN {\n   for my $method_name (qw( getJobDetails ... )) {\n      my $local_method = sub { shift-&gt;{EC}-&gt;$method_name(@_) };\n\n      no strict qw( refs );\n      *$method_name = $local_method;\n   }\n}\n</code></pre>\n\n<p>You could even redirect all calls to methods that don't exist in <code>EC</code> as follows:</p>\n\n<pre><code>use Carp qw( croak );\n\nsub AUTOLOAD {\n    my $method_name = our $AUTOLOAD;\n    $method_name =~ s/^.*:://s;\n    return if $method_name eq 'DESTROY';\n\n    my $remote_method = $_[0]-&gt;can($method_name)\n       or croak(sprintf(\"Can't locate object method \\\"%s\\\" via package \\\"%s\\\"\", $method_name, ref($_[0])));\n\n    my $local_method = sub { shift-&gt;{EC}-&gt;$remote_method(@_) };\n\n    no strict qw( refs );\n    *$method_name = $local_method;\n    goto &amp;$method_name;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1512807392, "last_edit_date": 1512807392, "creation_date": 1508447469, "answer_id": 46838962, "question_id": 46838866, "link": "https://stackoverflow.com/questions/46838866/calling-methods-from-a-class-via-another-class-which-uses-it/46838962#46838962", "title": "Calling methods from a class via another class which uses it", "body": "<p>Composition seems suitable here: add methods to <code>EC</code> to dispatch to the other class's methods.</p>\n\n<p>For instance</p>\n\n<pre><code>package EC;\n\nuse strict;\nuse warnings;\n\nuse ElectricCommander;\n\nsub new { \n    ...\n    $self-&gt;{EC} = ElectricCommander-&gt;new($server);\n    ...\n}\n\nsub getJobDetails {\n    my ($self, @args) = @_;\n    $self-&gt;{EC}-&gt;getJobDetails(@args);\n}\n</code></pre>\n\n<p>and you can call</p>\n\n<pre><code>use EC;\nmy $ec_obj = EC-&gt;new(...);\n$ec_obj-&gt;getJobDetails(...);\n</code></pre>\n\n<p>You can also instantiate <code>ElectricCommander</code> as <a href=\"http://perldoc.perl.org/5.8.8/perltoot.html#Class-Data\" rel=\"nofollow noreferrer\">class data</a> instead of in <code>new</code> so that its object is constructed once, when <code>EC</code> is <code>use</code>d. This is a design choice, whether you want <code>EC</code> instances to each have its own <code>ElectricCommander</code> object, constructed as they need it, or whether one object fits all <code>EC</code> objects' needs.</p>\n\n<p>If <code>EC</code> were to truly extend <code>ElectricCommander</code> &ndash; to use most of its methods, override some and add more &ndash; then you could have it inherit from (subclass) the <code>ElectricCommander</code>.</p>\n\n<p>Most of the time when you run into a need to use a class in another you want composition, sketched above, where a class uses capabilities of another (<em>has-a relationship</em>). Inheritance is suitable when you are building a carefully thought-out hierarchy of classes, where the parent lays down more general or abstract behaviors while its subclasses mostly specialize it (<em>is-a relationship</em>).</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1508451122, "post_id": 46838987, "comment_id": 80627127, "body": "Note: This transforms an encapsulation relationship (&quot;EC has a ElectricCommander&quot;) into an inheritance relationship (&quot;EC is a EletricCommander&quot;). That may or may not be appropriate."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 1, "last_activity_date": 1508447581, "creation_date": 1508447581, "answer_id": 46838987, "question_id": 46838866, "link": "https://stackoverflow.com/questions/46838866/calling-methods-from-a-class-via-another-class-which-uses-it/46838987#46838987", "title": "Calling methods from a class via another class which uses it", "body": "<p>The easiest way to make all methods of <code>ElectricCommander</code> available to instances of <code>EC</code> is to make <code>EC</code> a subclass of <code>ElectricCommander</code>:</p>\n\n<pre><code>package EC;\nuse strict;\nuse warnings;\n\nuse parent 'ElectricCommander';\n\nsub new\n{\n   my $class = shift;\n   my $self = $class-&gt;SUPER::new(@_);\n   $self-&gt;login(\"user\", \"password\");\n   return $self;\n}\n\n1;\n</code></pre>\n\n<p>Now</p>\n\n<pre><code>use EC;\nmy $obj = EC-&gt;new(\"myserver\");\n$obj-&gt;getJobDetails(\"1234\");\n</code></pre>\n\n<p>should Just Work(tm).</p>\n"}], "owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 1, "accepted_answer_id": 46838962, "answer_count": 3, "score": 1, "last_activity_date": 1512807392, "creation_date": 1508447031, "last_edit_date": 1510901787, "question_id": 46838866, "link": "https://stackoverflow.com/questions/46838866/calling-methods-from-a-class-via-another-class-which-uses-it", "title": "Calling methods from a class via another class which uses it", "body": "<p>Created a Perl Module:</p>\n\n<pre><code>use ElectricCommander;\nuse strict;\nuse warnings;\n\npackage EC;\n\nsub new\n{\n   my $class = shift;\n   my $server = shift;\n   my $self = {};\n   bless( $self, $class );\n   $self-&gt;{EC} = ElectricCommander-&gt;new($server);\n   $self-&gt;{EC}-&gt;login(\"user\", \"password\");\n   return $self;\n}\n1;\n</code></pre>\n\n<p>In script, is there a way to call the methods which are in ElectricCommander module?\ne.g, getJobStatus is present in ElectricCommander, can I do something like below?</p>\n\n<pre><code>use EC;\n$obj = EC-&gt;new(\"myserver\");\n$obj-&gt;getJobDetails(\"1234\");\n</code></pre>\n"}, {"tags": ["perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1508444261, "post_id": 46837410, "comment_id": 80624109, "body": "show what you tried and explain what you had trouble with or what didn&#39;t work"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1508450456, "last_edit_date": 1508450456, "creation_date": 1508441375, "answer_id": 46837489, "question_id": 46837410, "link": "https://stackoverflow.com/questions/46837410/perl-traversing-hash-of-hashes-of-hashes-and-scalars/46837489#46837489", "title": "Perl - traversing hash of (hashes of hashes and scalars)?", "body": "<pre><code>for my $key (keys(%$VAR1)) {\n   my $rec = $VAR1-&gt;{$key};\n\n   my $cur_ver = $rec-&gt;{curVer};\n   my $subrec  = $rec-&gt;{\"version.$cur_ver\"};\n\n   my $checksum_new = $subrec-&gt;{'checksum.new'};\n   my $checksum_old = $subrec-&gt;{'checksum.old'};\n   my $name         = $subrec-&gt;{name};\n   my $path         = $subrec-&gt;{path};\n\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5679423, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0aBLj.jpg?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5679423/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 1, "accepted_answer_id": 46837489, "answer_count": 1, "score": 0, "last_activity_date": 1508450456, "creation_date": 1508441091, "question_id": 46837410, "link": "https://stackoverflow.com/questions/46837410/perl-traversing-hash-of-hashes-of-hashes-and-scalars", "title": "Perl - traversing hash of (hashes of hashes and scalars)?", "body": "<p>I have generated a hash that looks like this. (printed using Dumper)</p>\n\n<pre><code>$VAR1 = {\n          'sufia:s4655g60k' =&gt; {\n                                 'curVer' =&gt; 0,\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; '44d88612fea8a8f36de82e1278abb02f',\n                                                  'checksum.old' =&gt; '44d88612fea8a8f36de82e1278abb02f',\n                                                  'name' =&gt; 'eicar.com.txt',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/47/info%3Afedora%2Fsufia%3As4655g60k%2Fcontent%2Fcontent.0'\n                                                }\n                               },\n          'sufia:9z9031393' =&gt; {\n                                 'curVer' =&gt; 0,\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; 'b502be8d9e1286c94506c91c191c0b5a',\n                                                  'checksum.old' =&gt; 'b502be8d9e1286c94506c91c191c0b5a',\n                                                  'name' =&gt; 'Elsevier RightsLink Printable License.pdf',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/d9/info%3Afedora%2Fsufia%3A9z9031393%2Fcontent%2Fcontent.0'\n                                                }\n                               },\n          'sufia:s4655g65z' =&gt; {\n                                 'curVer' =&gt; 0,\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; '1baaa38b3e7b6139b3847b7bb3b8644a',\n                                                  'checksum.old' =&gt; '1baaa38b3e7b6139b3847b7bb3b8644a',\n                                                  'name' =&gt; 'enso-crystal.jpg',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/3a/info%3Afedora%2Fsufia%3As4655g65z%2Fcontent%2Fcontent.0'\n                                                }\n                               },\n          'sufia:d504rk35q' =&gt; {\n                                 'version.2' =&gt; {\n                                                  'checksum.new' =&gt; '9e5422337c33fa83322fd287035e4ac5',\n                                                  'checksum.old' =&gt; '9e5422337c33fa83322fd287035e4ac5',\n                                                  'name' =&gt; '0501012.pdf',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/c4/info%3Afedora%2Fsufia%3Ad504rk35q%2Fcontent%2Fcontent.2'\n                                                },\n                                 'curVer' =&gt; 2,\n                                 'version.1' =&gt; {\n                                                  'checksum.new' =&gt; 'a50e552f4776f1863050b89920c9f7eb',\n                                                  'checksum.old' =&gt; 'a50e552f4776f1863050b89920c9f7eb',\n                                                  'name' =&gt; '0501012.pdf',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/d1/info%3Afedora%2Fsufia%3Ad504rk35q%2Fcontent%2Fcontent.1'\n                                                },\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; 'b05398d3071808b880af4375f6cdf18d',\n                                                  'checksum.old' =&gt; 'b05398d3071808b880af4375f6cdf18d',\n                                                  'name' =&gt; '0501012.pdf',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/80/info%3Afedora%2Fsufia%3Ad504rk35q%2Fcontent%2Fcontent.0'\n                                                }\n                               },\n          'sufia:9z903124g' =&gt; {\n                                 'curVer' =&gt; 0,\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; 'cd022d22cb5c46bf0e3f6c3b4c929ae1',\n                                                  'checksum.old' =&gt; 'cd022d22cb5c46bf0e3f6c3b4c929ae1',\n                                                  'name' =&gt; 'GT Contributor - Consent to Publish 2015-LindaNewman.pdf',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/04/info%3Afedora%2Fsufia%3A9z903124g%2Fcontent%2Fcontent.0'\n                                                }\n                               },\n          'sufia:9z903137j' =&gt; {\n                                 'curVer' =&gt; 0,\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; 'c2a24f16cb62d765810af770510516d1',\n                                                  'checksum.old' =&gt; 'c2a24f16cb62d765810af770510516d1',\n                                                  'name' =&gt; 'ScholarAtUC-SplashPage-Revisions4-29-3F.pdf',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/99/info%3Afedora%2Fsufia%3A9z903137j%2Fcontent%2Fcontent.0'\n                                                }\n                               },\n          'sufia:9z903133f' =&gt; {\n                                 'curVer' =&gt; 0,\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; '9d1a7f558548815dbb8be639c315f367',\n                                                  'checksum.old' =&gt; '9d1a7f558548815dbb8be639c315f367',\n                                                  'name' =&gt; 'UCScienceNet Expansion Award Proposal-Isilon-To-APTrust.pdf',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/70/info%3Afedora%2Fsufia%3A9z903133f%2Fcontent%2Fcontent.0'\n                                                }\n                               },\n          'sufia:9z9031279' =&gt; {\n                                 'curVer' =&gt; 0,\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; '6e763df35f2d807eac2763a87c6bb0bb',\n                                                  'checksum.old' =&gt; '6e763df35f2d807eac2763a87c6bb0bb',\n                                                  'name' =&gt; 'IMG_2221.JPG',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/52/info%3Afedora%2Fsufia%3A9z9031279%2Fcontent%2Fcontent.0'\n                                                }\n                               },\n          'sufia:9z9031414' =&gt; {\n                                 'curVer' =&gt; 0,\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; '621a177b09602ce1f703dd4becd90fe8',\n                                                  'checksum.old' =&gt; '621a177b09602ce1f703dd4becd90fe8',\n                                                  'name' =&gt; 'MazdaLiveAssistance-Not.pdf',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/0d/info%3Afedora%2Fsufia%3A9z9031414%2Fcontent%2Fcontent.0'\n                                                }\n                               },\n          'sufia:9z903122x' =&gt; {\n                                 'curVer' =&gt; 0,\n\n\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; 'a6653aac025f0eccbc5f96226923c79a',\n                                                  'checksum.old' =&gt; 'a6653aac025f0eccbc5f96226923c79a',\n                                                  'name' =&gt; 'example.pdf',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/41/info%3Afedora%2Fsufia%3A9z903122x%2Fcontent%2Fcontent.0'\n                                                }\n                               },\n          'sufia:s4655g624' =&gt; {\n                                 'curVer' =&gt; 0,\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; '44d88612fea8a8f36de82e1278abb02f',\n                                                  'checksum.old' =&gt; '44d88612fea8a8f36de82e1278abb02f',\n                                                  'name' =&gt; 'NotAVirusIPromise.txt',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/c6/info%3Afedora%2Fsufia%3As4655g624%2Fcontent%2Fcontent.0'\n                                                }\n                               },\n          'sufia:9z903131w' =&gt; {\n                                 'curVer' =&gt; 0,\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; 'f8f82d7f4d7a20839a20a9dd375f6478',\n                                                  'checksum.old' =&gt; 'f8f82d7f4d7a20839a20a9dd375f6478',\n                                                  'name' =&gt; 'UCScienceNet Expansion Award Proposal-LangsamLibrary.pdf',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/8d/info%3Afedora%2Fsufia%3A9z903131w%2Fcontent%2Fcontent.0'\n                                                }\n                               },\n          'sufia:9z903152n' =&gt; {\n                                 'curVer' =&gt; 0,\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; 'e5c6bde4b0fa6c4f2e013656f6aa8bf5',\n                                                  'checksum.old' =&gt; 'e5c6bde4b0fa6c4f2e013656f6aa8bf5',\n                                                  'name' =&gt; '20950 dod.pdf',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/c9/info%3Afedora%2Fsufia%3A9z903152n%2Fcontent%2Fcontent.0'\n                                                }\n                               },\n          'sufia:9z903118b' =&gt; {\n                                 'curVer' =&gt; 0,\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; '99ada40eb1ad4c5f5bffe07108855dc6',\n                                                  'checksum.old' =&gt; '99ada40eb1ad4c5f5bffe07108855dc6',\n                                                  'name' =&gt; 'harvey1880.pdf',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/4d/info%3Afedora%2Fsufia%3A9z903118b%2Fcontent%2Fcontent.0'\n                                                }\n                               },\n          'sufia:9z903144z' =&gt; {\n                                 'curVer' =&gt; 0,\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; 'a6653aac025f0eccbc5f96226923c79a',\n                                                  'checksum.old' =&gt; 'a6653aac025f0eccbc5f96226923c79a',\n                                                  'name' =&gt; 'example.pdf',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/f4/info%3Afedora%2Fsufia%3A9z903144z%2Fcontent%2Fcontent.0'\n                                                }\n                               },\n          'sufia:9z9031350' =&gt; {\n                                 'curVer' =&gt; 0,\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; '23013ce2bb7203fff545cf6e9ec5ac4a',\n                                                  'checksum.old' =&gt; '23013ce2bb7203fff545cf6e9ec5ac4a',\n                                                  'name' =&gt; 'ScholarAtUC-SplashPage-Revisions4-29-1D.pdf',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/6e/info%3Afedora%2Fsufia%3A9z9031350%2Fcontent%2Fcontent.0'\n                                                }\n                               },\n          'sufia:9z903129v' =&gt; {\n                                 'curVer' =&gt; 0,\n                                 'version.0' =&gt; {\n                                                  'checksum.new' =&gt; '93fd70923362e02b4fb56bb137bcf1e2',\n                                                  'checksum.old' =&gt; '93fd70923362e02b4fb56bb137bcf1e2',\n                                                  'name' =&gt; 'DevTeam2.jpg',\n                                                  'path' =&gt; '/opt/rails-apps/curate_app/jetty/fedora/default/data/datastreamStore/94/info%3Afedora%2Fsufia%3A9z903129v%2Fcontent%2Fcontent.0'\n                                                }\n                               }\n        };\n</code></pre>\n\n<p>Have looked at <a href=\"https://stackoverflow.com/questions/2363142/how-to-iterate-through-hash-of-hashes-in-perl/2363617#2363617\">How to iterate through Hash (of Hashes) in Perl?</a> and couldn't get it work for me. </p>\n\n<p>Need to traverse through all the keys that look like 'sufia:s4655g60k' and then for each of them, I need to extract 'curVer' and depending on the number of 'curVer' I need to cycle through 'version.0' to get the respective values of the keys.</p>\n\n<p>How do I traverse this hash and read/update existing keys/values?</p>\n"}, {"tags": ["perl", "perltk"], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1508435221, "creation_date": 1508435221, "answer_id": 46835939, "question_id": 46835680, "link": "https://stackoverflow.com/questions/46835680/update-an-entry-in-perl-tk/46835939#46835939", "title": "Update an entry in Perl Tk", "body": "<p>The <code>insert</code> method for a <a href=\"https://metacpan.org/pod/distribution/Tk/pod/Entry.pod\" rel=\"nofollow noreferrer\"><code>Tk::Entry</code></a> widget inserts text after the current insertion cursor position; to delete the existing text in the widget before inserting you can do:</p>\n\n<pre><code>sub push_button {    \n    $ent -&gt; delete(0, 'end');  # clears the widget\n    $ent -&gt; insert(0,\"Hello, \");\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8802651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/863aeca7cd3cd7b37254572c1dc852c6?s=128&d=identicon&r=PG&f=1", "display_name": "PierBJX", "link": "https://stackoverflow.com/users/8802651/pierbjx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508435358, "creation_date": 1508434310, "last_edit_date": 1508435358, "question_id": 46835680, "link": "https://stackoverflow.com/questions/46835680/update-an-entry-in-perl-tk", "title": "Update an entry in Perl Tk", "body": "<p>I just start Perl Tk and I had a look on some tutorials but I have a problem. When I click on a button it displays on the entry widget the scalar that I want. It works but when I click an other time it keeps what was written on the entry. So I have two hello. I know that it comes from insert(0, \"Hello\") but I don't what to put instead of 0.</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse Tk;\n\nmy $mw = MainWindow-&gt;new;\n$mw-&gt;geometry(\"500x350+0+0\");\n$mw-&gt;title(\"Report Information about a Protein of Interest\");\n\nmy ($bite) = $mw -&gt; Label(-text=&gt;\"Enter the uniprot accession number:\")-&gt;grid(-row =&gt; 0, - column =&gt; 0);\nmy ($ent) = $mw-&gt;Entry()-&gt;grid(-row =&gt; 0, - column =&gt; 1, -columnspan =&gt; 2, -sticky =&gt; 'nsew');\n   $ent2 = $mw-&gt;Button(-text=&gt; \"Search\", -command =&gt; \\&amp;push_button)-&gt;grid(-row =&gt; 1, - column =&gt; 0);\n\nMainLoop;\n\n#This is executed when the button is pressed\nsub push_button {\n    $ent -&gt; insert(0,\"Hello, \");\n}\n</code></pre>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1508423699, "post_id": 46832432, "comment_id": 80612323, "body": "I would say the string after <code>glob</code>. Why not reuse the same syntax you used for the <code>@files</code>? Possibly also the backslashes in the <code>&lt;C:\\...&gt;</code> part. I cannot test on Windows."}, {"owner": {"reputation": 1694, "user_id": 1024474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ga4mi.png?s=128&g=1", "display_name": "PhillipD", "link": "https://stackoverflow.com/users/1024474/phillipd"}, "edited": false, "score": 1, "creation_date": 1508423752, "post_id": 46832432, "comment_id": 80612367, "body": "What error does Perl throw?"}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1508423743, "creation_date": 1508423743, "answer_id": 46832470, "question_id": 46832432, "link": "https://stackoverflow.com/questions/46832432/running-a-perl-script-on-windows/46832470#46832470", "title": "Running a perl script on Windows", "body": "<p>Try this instead:</p>\n\n<pre><code>my @files = glob 'C:/Windows/*.log';\n</code></pre>\n\n<p>and</p>\n\n<pre><code>unlink glob 'C:/Windows/*.log';\n</code></pre>\n\n<p>Calling <code>glob</code> explicitly is better than <code>&lt;</code> <code>&gt;</code>, and using <code>/</code> instead of <code>\\</code> simplifies quoting.</p>\n"}], "owner": {"reputation": 67, "user_id": 8729416, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-qh9LF4KrRQs/AAAAAAAAAAI/AAAAAAAAJ00/DdeI1LJZjGM/photo.jpg?sz=128", "display_name": "Glorksnork", "link": "https://stackoverflow.com/users/8729416/glorksnork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 46832470, "answer_count": 1, "score": 1, "last_activity_date": 1508426026, "creation_date": 1508423607, "last_edit_date": 1508426026, "question_id": 46832432, "link": "https://stackoverflow.com/questions/46832432/running-a-perl-script-on-windows", "title": "Running a perl script on Windows", "body": "<p>I have a script that run in Ubuntu but, I would like to run it in windows. I know how to execute it I just don't know what is wrong with my script to not make it run.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse IO::Compress::Zip qw(zip $ZipError);\nuse File::Find;\n\nmy @files = &lt;C:\\Windows\\*.log&gt;;\n\nzip [ @files ] =&gt; 'Desktop/output.zip'\n    or die \"zip failed: $ZipError\\n\";\n\nunlink glob \"'C:\\Windows\\*.log'\";\nprint \"The job is done\\n\";\n</code></pre>\n"}, {"tags": ["perl", "package"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 3, "creation_date": 1508417397, "post_id": 46829456, "comment_id": 80607828, "body": "Perhaps, but possibly more important question is why do you want to do that, and is there a better way to it."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1508420588, "post_id": 46829456, "comment_id": 80610074, "body": "This sounds an awful lot like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\"><code>XY problem</code></a>. It would be wise to reiterate what you&#39;re trying to accomplish and why. Also - turn on &#39;strict&#39; and &#39;warnings&#39; please."}, {"owner": {"reputation": 81337, "user_id": 91757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/afaf752cb41c3968dbd570c6f6fa0dc3?s=128&d=identicon&r=PG", "display_name": "Frerich Raabe", "link": "https://stackoverflow.com/users/91757/frerich-raabe"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1508424616, "post_id": 46829456, "comment_id": 80613008, "body": "@\u0421\u0443\u0445\u043e\u043927 I&#39;m working on an interactive Perl debugger (partially written in Perl itself, partly in C++) which allows users to load &#39;configurations&#39; stored as Perl modules. The configurations are basically sets of key-value pairs. The configuration keys should be namespaced (that&#39;s why they are not stored in a plain hash but rather a package which is then often treated like a hash). The program needs the total set of settings <i>as stored on disk</i> for different purposes (e.g. when deciding whether the settings on disk changed, or when deciding which settings to write out)."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1508426257, "post_id": 46829456, "comment_id": 80614139, "body": "Single hash inside package works as expected, <a href=\"https://eval.in/882758\" rel=\"nofollow noreferrer\">eval.in/882758</a>"}, {"owner": {"reputation": 81337, "user_id": 91757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/afaf752cb41c3968dbd570c6f6fa0dc3?s=128&d=identicon&r=PG", "display_name": "Frerich Raabe", "link": "https://stackoverflow.com/users/91757/frerich-raabe"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1508426423, "post_id": 46829456, "comment_id": 80614258, "body": "@\u0421\u0443\u0445\u043e\u043927 Yes indeed, just the hash name <code>h</code> is a bit ugly there. For what it&#39;s worth, I also considered changing the configurations such that the namespacing is not done via <code>package</code> but rather via the name of the hash. The only nuisance is that you&#39;d end up writing <code>$myProfile{color}</code> instead of <code>$MyProfile::color</code>."}], "answers": [{"comments": [{"owner": {"reputation": 81337, "user_id": 91757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/afaf752cb41c3968dbd570c6f6fa0dc3?s=128&d=identicon&r=PG", "display_name": "Frerich Raabe", "link": "https://stackoverflow.com/users/91757/frerich-raabe"}, "edited": false, "score": 0, "creation_date": 1508426445, "post_id": 46831868, "comment_id": 80614277, "body": "Ah, thanks - it didn&#39;t occur to me that I could use <code>BEGIN</code> on the main module, too - that helped!"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 5, "last_activity_date": 1508422058, "creation_date": 1508422058, "answer_id": 46831868, "question_id": 46829456, "link": "https://stackoverflow.com/questions/46829456/how-can-i-get-the-symbols-in-a-package-at-the-time-the-package-is-defined/46831868#46831868", "title": "How can I get the symbols in a package at the time the package is defined?", "body": "<p>Package variables encountered at compile-time will be added to the stash at compile time. So your workarounds are to evaluate the stash in the compile phase</p>\n\n<pre><code>package P {\n    $k1 = 'v1';\n    $k2 = 'v2';\n};\n\nBEGIN {    \n    my $n = scalar keys %P::;\n    print \"Number of entries: $n\\n\";  # 2\n}\nprint $P::x;\n</code></pre>\n\n<p>or to define other package variables at run-time</p>\n\n<pre><code>package P {\n    $k1 = 'v1';\n    $k2 = 'v2';\n};\n\nmy $n = scalar keys %P::;\nprint \"Number of entries: $n\\n\";    # 2\nprint eval '$P::x';\n$n = scalar keys %P::;\nprint \"Number of entries: $n\\n\";    # now 3\n</code></pre>\n"}], "owner": {"reputation": 81337, "user_id": 91757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/afaf752cb41c3968dbd570c6f6fa0dc3?s=128&d=identicon&r=PG", "display_name": "Frerich Raabe", "link": "https://stackoverflow.com/users/91757/frerich-raabe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 1, "accepted_answer_id": 46831868, "answer_count": 1, "score": 3, "last_activity_date": 1508424193, "creation_date": 1508414770, "last_edit_date": 1508424193, "question_id": 46829456, "link": "https://stackoverflow.com/questions/46829456/how-can-i-get-the-symbols-in-a-package-at-the-time-the-package-is-defined", "title": "How can I get the symbols in a package at the time the package is defined?", "body": "<p>In a Perl program I'm working on, the user can specify a Perl module to be loaded which is expected to define a couple (a variable number) of  variables. The Perl program then processes these variables, basically treating the package as a plain hash except that the values are all in a namespace. Doing so works fine, i.e. this program prints '2':</p>\n\n<pre><code>use strict;\nuse warnings;\n\npackage P {\n    my $k1 = 'v1';\n    my $k2 = 'v2';\n};\n\nmy $n = scalar keys %P::;\nprint \"Number of entries: $n\\n\";\n# print $P::x;\n</code></pre>\n\n<p>However, uncommenting the last line makes the program print '3'. I.e. the sheer mentioning of a variable in the package seems to add it to the symbol table.</p>\n\n<p>Is there a way to get the symbol table for a package as it is defined, such that the symbol table consists of just two entries?</p>\n"}, {"tags": ["perl", "random"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 2, "creation_date": 1508414277, "post_id": 46829068, "comment_id": 80605952, "body": "How are you testing your server? Maybe a cache is interfering? The <code>rand()</code> function is not a good source of randomness. Depending on how your program is called, it may use a completely unsuitable seed (see <code>srand()</code>), e.g. if your server forks a process per request. You may want to use a module that guarantees a specific PRNG algorithm or entropy source. If you want to generate unique identifiers, use an appropriate module (in a pinch, something based on PID + time + per-process sequence number is a good approximation)."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1508414702, "post_id": 46829068, "comment_id": 80606207, "body": "@amon thanks. The first test script was run from ssh, using a <code>for</code> loop (as you can see). The 2nd example was done by printing the string to STDERR, and then tailing the log file. I then reloaded the same script multiple times, to see what was happening."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1508416463, "post_id": 46829068, "comment_id": 80607225, "body": "@amon - thanks, that got me on the right track :) I ended up using <code>Crypt::PRNG::random_bytes_hex(15)</code> to get what I want. Its now perfectly random :) Please add that as an answer, so I can accept."}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1508448047, "post_id": 46829068, "comment_id": 80625884, "body": "As @Amon says below, if you&#39;re making tempfiles, then use File::Temp.  It takes care of this issue as well as many others."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1508477644, "post_id": 46829068, "comment_id": 80633334, "body": "@AndyLester thanks - its not a temp file though :)"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1508439341, "post_id": 46830987, "comment_id": 80621440, "body": "Using an existing module won&#39;t necessarily help for the most likely cause of the problem (bullet #2) (since they might simply use <code>rand</code> themselves), and you missed the simplest solution for that cause: Call <code>srand();</code> (without arguments) in the child after <code>fork</code>."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 5, "last_activity_date": 1508419554, "creation_date": 1508419554, "answer_id": 46830987, "question_id": 46829068, "link": "https://stackoverflow.com/questions/46829068/perl-random-string-but-doesnt-seem-so-random-when-used-in-a-browser/46830987#46830987", "title": "Perl random string, but doesn&#39;t seem so random when used in a browser", "body": "<p>There are a number of reasons why you might get unsuitable IDs:</p>\n\n<ul>\n<li><p>The server or browser may be caching a response (unlikely in this case, but always worth investigating).</p></li>\n<li><p>The random number generator was initialized in a server process that then forks a worker process for each request. The worker processes then inherit the RNG state. For plain CGI, this is unlikely because a new process is forked and execed for each request.</p></li>\n<li><p>The random number generator was initialized with a weak seed, e.g. <code>srand(time)</code>. Since time() has a 1-second resolution, you'll get the same seed for all processes started within a second. It is not recommended to manually initialize <code>srand()</code> unless you want to get repeatable \u201crandom\u201d number sequences.</p></li>\n<li><p>The built-in <code>random()</code> function may use a low-quality algorithm. It is absolutely not suitable for cryptographic purposes. Use a module that guarantees a particular PRNG and is seeded with a proper entropy source. </p></li>\n<li><p>Random numbers may occur multiple times. For true randomness you can calculate the collision probabilities with the Birthday Paradox. Unless the collision probability is astronomically small, your application needs to be able to avoid duplicate IDs.</p></li>\n</ul>\n\n<p>If you're just trying to generate unique IDs without any security properties, use an existing generation algorithm (e.g. UUIDs).</p>\n\n<p>In a pinch, you can easily generate such IDs based on PID + current time + a per-process sequence number:</p>\n\n<ul>\n<li>The PID is unique per machine for a some time, typically hours (though possibly less when the machine is rebooted or has a low pid_max).</li>\n<li>PID + time with at least second resolution should be a unique process identifier over the existence of a machine (ignoring time zone shenanigans). </li>\n<li>To avoid assigning the same ID if multiple IDs are requested within a second, add a per-process counter.</li>\n</ul>\n\n<p>Note that such IDs are predictable, and shouldn't be used to designate security-sensitive data. Applying a hash function does not add any protection, but conveniently boxes the ID into a fixed width. These IDs are unsuitable when they must be unique across multiple machines.</p>\n\n<p>If you're just trying to generate tempfiles, use an existing module such as <a href=\"https://metacpan.org/pod/File::Temp\" rel=\"noreferrer\">File::Temp</a>.</p>\n"}], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 1, "accepted_answer_id": 46830987, "answer_count": 1, "score": 4, "last_activity_date": 1508419554, "creation_date": 1508413278, "question_id": 46829068, "link": "https://stackoverflow.com/questions/46829068/perl-random-string-but-doesnt-seem-so-random-when-used-in-a-browser", "title": "Perl random string, but doesn&#39;t seem so random when used in a browser", "body": "<p>This is driving me nuts! I have a script that needs to create a random id, so that the file can be renamed. Here is a test I have:</p>\n\n<pre><code>for (my $i = 0; $i &lt;= 100; $i++) {\n    my $test = rand_id();\n    print \"FOO: $test\\n\";\n}\n\nsub rand_id {\n# Used for the file names (not temp_id, for new adds)\n  use String::Random qw(random_regex random_string);\n  my $rand = random_regex(\"[a-zA-Z0-9]\"x20);\n  return $rand;\n}\n</code></pre>\n\n<p>This works as I hoped:</p>\n\n<pre><code>root@admin:# perl test.cgi\nFOO: P2kyuotdlk04gcafvoze\nFOO: ZGC44tXfGFaiXeHsLZdn\nFOO: fydWFp1PW6iGYFaOfgvx\nFOO: xG4SPx2gLGPVeMJOupZ9\nFOO: 6A2uD9hCF90VP7ybKjiA\nFOO: wT4fG8ogmV37Mkljs0gE\nFOO: 6QttcmlNjO1o9jCVht3g\nFOO: 9bAYYDd2NIjBWgAhsl3t\nFOO: hrU04kHvxu0JJYPHv6Jk\nFOO: 9EVL9GqGdWWZhDam6dc9\nFOO: F0zruszqvmMOUumlO4Q1\nFOO: KA9jOof9iSTxpDOWUMBl\nFOO: phicMiogMhZIcPZiXvj8\netc\n</code></pre>\n\n<p>So all good (no repeats).</p>\n\n<p>I then have almost the same code (just not in a loop) in my script, but when I keep reloading from the browser I get:</p>\n\n<pre><code>NEW: 0ab3K60sJSpHrvDVCKcR\nNEW: 0ab3K60sJSpHrvDVCKcR\nNEW: 0ab3K60sJSpHrvDVCKcR\nNEW: 0ab3K60sJSpHrvDVCKcR\nNEW: 0ab3K60sJSpHrvDVCKcR\nNEW: EyiYp5D6d8CL3vzozYFZ\nNEW: EyiYp5D6d8CL3vzozYFZ\nNEW: EyiYp5D6d8CL3vzozYFZ\nNEW: EyiYp5D6d8CL3vzozYFZ\nNEW: EyiYp5D6d8CL3vzozYFZ\nNEW: A0KUBiNSDcxyX7JQzBsk\nNEW: A0KUBiNSDcxyX7JQzBsk\nNEW: A0KUBiNSDcxyX7JQzBsk\nNEW: A0KUBiNSDcxyX7JQzBsk\nNEW: A0KUBiNSDcxyX7JQzBsk\nNEW: 7wU3RgK1Ho16rEjkGSsB\nNEW: 7wU3RgK1Ho16rEjkGSsB\nNEW: 7wU3RgK1Ho16rEjkGSsB\n</code></pre>\n\n<p>As you can see, there are LOTS of duplicated \"random\" ids. What am I doing wrong?</p>\n\n<p>The module I'm using is <a href=\"http://search.cpan.org/~steve/String-Random-0.20/Random.pm\" rel=\"nofollow noreferrer\">http://search.cpan.org/~steve/String-Random-0.20/Random.pm</a> , but I'm getting the same problem when doing stuff with even something like:</p>\n\n<pre><code>my $rand = Digest::MD5::md5_base64( rand );\n</code></pre>\n"}, {"tags": ["regex", "perl", "regex-lookarounds"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1508405657, "post_id": 46826852, "comment_id": 80601132, "body": "See <a href=\"https://regex101.com/r/KPpzOS/1\" rel=\"nofollow noreferrer\">regex101.com/r/KPpzOS/1</a>"}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1508456252, "creation_date": 1508456252, "answer_id": 46840361, "question_id": 46826852, "link": "https://stackoverflow.com/questions/46826852/what-does-the-perl-regex-operator-do/46840361#46840361", "title": "What does the perl regex (?&gt;! operator do?", "body": "<p>Likely this is a typo of <code>(?!</code>.  As is it is <code>(?&gt;</code> followed by the literal string <code>!power</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 2, "last_activity_date": 1508456345, "creation_date": 1508456345, "answer_id": 46840371, "question_id": 46826852, "link": "https://stackoverflow.com/questions/46826852/what-does-the-perl-regex-operator-do/46840371#46840371", "title": "What does the perl regex (?&gt;! operator do?", "body": "<p>There is no such operator. <code>(?&gt;!power)</code> is the <code>(?&gt;</code>...<code>)</code> (non-backtracking) construct, matching the literal string <code>!power</code>.</p>\n\n<p>It was probably intended to be <code>(?&lt;!power)</code> (negative lookbehind), judging from the example... but that won't work either if the intention is to get a \"NO MATCH\" \u2014 it simply asserts that the string \"rator\" doesn't equal \"power\", which is always true. The correct way to do what seems to be wanted depends on exactly what <em>is</em> wanted, but this isn't it.</p>\n"}], "owner": {"reputation": 141, "user_id": 2354820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b72a6c419669e3e5d96f9d204d2d71f4?s=128&d=identicon&r=PG", "display_name": "Cornelius Riemenschneider", "link": "https://stackoverflow.com/users/2354820/cornelius-riemenschneider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 46840371, "answer_count": 2, "score": 0, "last_activity_date": 1508456345, "creation_date": 1508405575, "question_id": 46826852, "link": "https://stackoverflow.com/questions/46826852/what-does-the-perl-regex-operator-do", "title": "What does the perl regex (?&gt;! operator do?", "body": "<p>I inherited some perl 5 (5.20) code, which contains a regular expression with the operator ?>!. Unfortunately, I have been unable to find any documentation on what this operator is doing at all, in <code>man perlre</code> only ?> is documented.</p>\n\n<p>Can anyone explain to me when the regex in the example code matches/doesn't match?   </p>\n\n<pre><code>my $text = \"powergenerator\";\nif ($text =~ m/generator(?&gt;!power)/) {\n    print \"MATCH\\n\";\n} else {\n    print \"NO MATCH\\n\";\n}\n</code></pre>\n\n<p>There is a comment in the original code that the intended use case is that generator is matched when it is not the context of powergenerator, but, according to my tests, this is not what happens.\nNote: The code only cares about whether the regex matches or not, it does not process the match location.</p>\n"}, {"tags": ["bash", "perl", "awk", "replace", "substitution"], "comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 2, "creation_date": 1508399640, "post_id": 46824648, "comment_id": 80597719, "body": "why do you need to replace awk with perl?"}], "answers": [{"comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1508411379, "post_id": 46824896, "comment_id": 80604243, "body": "This is as close as you can get to <code>awk</code> with Perl. I don&#39;t understand the downvote, either."}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1508415309, "post_id": 46824896, "comment_id": 80606570, "body": "@reinierpost I downvoted,since it doesn&#39;t do the same thing at all. Achieving the same result doesn&#39;t mean the commands do the same thing. OP isn&#39;t splitting the fields on <code>the.</code>, it works completely differently than the awk command. An awk equivelent of this would be <code>awk -F&#39;the\\.|\\s&#39; &#39;{print $1}&#39;</code>. A closer perl command to OP would be <code>perl -lne &#39;s&#47;the\\.&#47;&#47;;print +(split &#47;\\s+&#47;)[0]&#39;</code>"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1508421894, "post_id": 46824896, "comment_id": 80611073, "body": "@123 Take a look at my previous edits. First I have post as such what your are mentioned in your comment (Not exactly). Then I gave a another solution for the same result."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1508933458, "post_id": 46824896, "comment_id": 80810942, "body": "@mkHun: probably better to replace both solutions with a correct one, namely one that substitutes in the unsplit string and then prints the first field"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": -1, "last_activity_date": 1508421611, "last_edit_date": 1508421611, "creation_date": 1508398838, "answer_id": 46824896, "question_id": 46824648, "link": "https://stackoverflow.com/questions/46824648/how-to-substitute-and-print-column-in-perl-just-like-in-awk/46824896#46824896", "title": "how to substitute and print column in perl just like in awk", "body": "<p>You can use the Perl one liner with split function. </p>\n\n<p>We need to split the character using <code>the.</code> and <code>space</code>. So you can use the RegEx inside the split function.</p>\n\n<pre><code>echo 'the.pattern to change' | perl -aF\"/the\\.|\\s/\" -ne 'print $F[1],\"\\n\";'\n</code></pre>\n\n<p><code>-a</code> auto split mode</p>\n\n<pre><code>echo 'the.pattern to change' | perl -ane '$F[0]=~s/the\\.//; print $F[0],\"\\n\";'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1508421517, "post_id": 46830306, "comment_id": 80610811, "body": "You have missed <code>-n</code>"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1508427547, "post_id": 46830306, "comment_id": 80614999, "body": "@mkHun:  <code>-n</code> adds a while loop around the code, it is not mandatory in this case, there is just a string in input. But you&#39;re right if we have to deal with a file."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1508469350, "post_id": 46830306, "comment_id": 80631529, "body": "I have executed your line but it didn&#39;t give the any result. Because we are not passing the data.  If I added -n switch it is giving the result."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 0, "last_activity_date": 1508417421, "creation_date": 1508417421, "answer_id": 46830306, "question_id": 46824648, "link": "https://stackoverflow.com/questions/46824648/how-to-substitute-and-print-column-in-perl-just-like-in-awk/46830306#46830306", "title": "how to substitute and print column in perl just like in awk", "body": "<p>How about:</p>\n\n<pre><code>echo 'the.pattern to change' | perl -aE '$F[0] =~ s/the\\.//; say $F[0]'\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>pattern\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "is_accepted": false, "score": 2, "last_activity_date": 1508535439, "creation_date": 1508535439, "answer_id": 46857677, "question_id": 46824648, "link": "https://stackoverflow.com/questions/46824648/how-to-substitute-and-print-column-in-perl-just-like-in-awk/46857677#46857677", "title": "how to substitute and print column in perl just like in awk", "body": "<p>One more way:</p>\n\n<p><code>echo 'the.pattern to change' | perl -lpe 's/the\\.//;$_=(/[^ ]+/g)[0];'</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/nW23Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nW23Z.png\" alt=\"command execution example\"></a></p>\n"}], "owner": {"reputation": 53, "user_id": 6562007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-QWsomkOotYI/AAAAAAAAAAI/AAAAAAAACo4/UWgCqxfwhEw/photo.jpg?sz=128", "display_name": "eswues", "link": "https://stackoverflow.com/users/6562007/eswues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "accepted_answer_id": 46830306, "answer_count": 3, "score": -1, "last_activity_date": 1508535439, "creation_date": 1508397964, "last_edit_date": 1508398673, "question_id": 46824648, "link": "https://stackoverflow.com/questions/46824648/how-to-substitute-and-print-column-in-perl-just-like-in-awk", "title": "how to substitute and print column in perl just like in awk", "body": "<p>I have this bash/awk code to deal with hosts</p>\n\n<pre><code>$ echo 'the.pattern to change' | awk '{sub(/the./,\"\")}{print $1}'\npattern\n</code></pre>\n\n<p>I would need to replace awk by perl.\nAny idea how to replace the second part of the statement by perl oneliner?</p>\n"}, {"tags": ["perl", "sorting", "hash-reference"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1508422663, "post_id": 46824355, "comment_id": 80611599, "body": "So the keys of <code>$orig</code> are numbers (that you compare with <code>&lt;=&gt;</code>) and the values are strings (that you compare with <code>cmp</code>)? That&#39;s not implausible, but it is unusual."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 8799714, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f33365ade8ab435be9db37d4981c0ef3?s=128&d=identicon&r=PG&f=1", "display_name": "KnowNothing", "link": "https://stackoverflow.com/users/8799714/knownothing"}, "edited": false, "score": 0, "creation_date": 1508400025, "post_id": 46825110, "comment_id": 80597898, "body": "That&#39; would be fine if I want to display the first value of the hash ref.Unfortunately I don&#39;t know at what position or index my value is there .I only know it&#39;s value i.e,&quot;somevalue&quot; and I am sorting and printing in a form feild bdw so I can&#39;t explicitly use print here!!"}, {"owner": {"reputation": 166, "user_id": 6429234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f20d58d46b3ba1dfb40807bb8eff1af1?s=128&d=identicon&r=PG&f=1", "display_name": "V-Mark", "link": "https://stackoverflow.com/users/6429234/v-mark"}, "reply_to_user": {"reputation": 61, "user_id": 8799714, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f33365ade8ab435be9db37d4981c0ef3?s=128&d=identicon&r=PG&f=1", "display_name": "KnowNothing", "link": "https://stackoverflow.com/users/8799714/knownothing"}, "edited": false, "score": 0, "creation_date": 1508403009, "post_id": 46825110, "comment_id": 80599560, "body": "Oh. I was sure you need the header at the top, as you mentioned: &quot;certain value always at the top of the sorted list&quot; ... and I assumed (incorrectly) it is originally in the top."}, {"owner": {"reputation": 61, "user_id": 8799714, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f33365ade8ab435be9db37d4981c0ef3?s=128&d=identicon&r=PG&f=1", "display_name": "KnowNothing", "link": "https://stackoverflow.com/users/8799714/knownothing"}, "edited": false, "score": 0, "creation_date": 1508404157, "post_id": 46825110, "comment_id": 80600273, "body": "yes,I do the need the header at the top and even I wouldn&#39;t know where it would be..Refer the above answer and Do you think that you can modify that answer according to  my question and provide me a working solution?"}], "tags": [], "owner": {"reputation": 166, "user_id": 6429234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f20d58d46b3ba1dfb40807bb8eff1af1?s=128&d=identicon&r=PG&f=1", "display_name": "V-Mark", "link": "https://stackoverflow.com/users/6429234/v-mark"}, "is_accepted": false, "score": 0, "last_activity_date": 1508399674, "creation_date": 1508399674, "answer_id": 46825110, "question_id": 46824355, "link": "https://stackoverflow.com/questions/46824355/how-to-display-the-special-value-always-at-top-while-sorting/46825110#46825110", "title": "How to display the special value always at top while sorting?", "body": "<p>slice the 1st element before sort than put it back before display, like</p>\n\n<pre><code>my @foo = ( header, 4, 5, 6 );\n$bar = shift(@foo);\n\n# sort it or do what you want\n\nunshift(@foo,$bar);\n\nprint @foo, \"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 8799714, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f33365ade8ab435be9db37d4981c0ef3?s=128&d=identicon&r=PG&f=1", "display_name": "KnowNothing", "link": "https://stackoverflow.com/users/8799714/knownothing"}, "edited": false, "score": 0, "creation_date": 1508403727, "post_id": 46825558, "comment_id": 80600002, "body": "It&#39;s almost working,But the  problem is it&#39;s messing the  sort order which I want. [sort{$a&lt;=&gt;$b and $orig-&gt;{$a} cmp $orig-&gt;{$b}} keys  %$orig ] This is the sort order i want with some value at the top.But your answer is giving that somevalue at the top with ASCII sorting"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 61, "user_id": 8799714, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f33365ade8ab435be9db37d4981c0ef3?s=128&d=identicon&r=PG&f=1", "display_name": "KnowNothing", "link": "https://stackoverflow.com/users/8799714/knownothing"}, "edited": false, "score": 0, "creation_date": 1508405725, "post_id": 46825558, "comment_id": 80601176, "body": "Could you provide sample hash with sorting output you expect?"}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 0, "last_activity_date": 1508749997, "last_edit_date": 1508749997, "creation_date": 1508401383, "answer_id": 46825558, "question_id": 46824355, "link": "https://stackoverflow.com/questions/46824355/how-to-display-the-special-value-always-at-top-while-sorting/46825558#46825558", "title": "How to display the special value always at top while sorting?", "body": "<p>You can sort <code>$special</code> value like the lowest using <code>(($b eq $special) - ($a eq $special))</code> as the first link in \"s<strong>OR</strong>t chain\":</p>\n\n<pre><code>my $special = \"somevalue\";\nsort { (($b eq $special) - ($a eq $special)) || \n       $a&lt;=&gt;$b || $orig-&gt;{$a} cmp $orig-&gt;{$b} } keys  %$orig;\n</code></pre>\n\n<hr>\n\n<p><code>(($b eq $special) - ($a eq $special))</code> returns:<br>\n<code>0</code> when $a and $b are special [$a is equal $b]<br>\n<code>-1</code> when $a is special and $b is not [$a less than $b]<br>\n<code>+1</code> when $b is special and $a is not [$a greater than $b]<br>\n<code>0</code> when both $a and $b are not special [$a is equal $b]</p>\n\n<p>When it produces 0 next links in the s<strong>OR</strong>t chain are queried.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1508422526, "last_edit_date": 1508422526, "creation_date": 1508421036, "answer_id": 46831535, "question_id": 46824355, "link": "https://stackoverflow.com/questions/46824355/how-to-display-the-special-value-always-at-top-while-sorting/46831535#46831535", "title": "How to display the special value always at top while sorting?", "body": "<p>Assuming your hash contains only non-negative keys, you\ncan sort the header values as if they were -&#x221E;\nwhich will sort before anything else, but will be equal to\nitself</p>\n\n<pre><code>sort {\n    my ($aa, $bb) = map { $_ eq $special ? -Inf : $_ } $a, $b;\n    $aa &lt;=&gt; $bb and $orig-&gt;{$aa} cmp $orig-&gt;{$bb};\n} keys %$orig;\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 8799714, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f33365ade8ab435be9db37d4981c0ef3?s=128&d=identicon&r=PG&f=1", "display_name": "KnowNothing", "link": "https://stackoverflow.com/users/8799714/knownothing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 46825558, "answer_count": 3, "score": 1, "last_activity_date": 1509163076, "creation_date": 1508396815, "last_edit_date": 1509163076, "question_id": 46824355, "link": "https://stackoverflow.com/questions/46824355/how-to-display-the-special-value-always-at-top-while-sorting", "title": "How to display the special value always at top while sorting?", "body": "<p>I used the below code to sort values and display it as a dropdown in a Perl form page And I need to display a certain value always at the top of the sorted list, how to do that?</p>\n\n<pre><code> values= [sort {$a&lt;=&gt;$b and $orig-&gt;{$a} cmp $orig-&gt;{$b}} keys  %$orig] \n</code></pre>\n\n<p>I tried this too,not working with me for some reason </p>\n\n<pre><code>values= [sort {if ($a eq 'somevalue') { return 1; }\nelsif ($b eq 'somevalue') { return -1; }\nelse { return {$a&lt;=&gt;$b and $orig-&gt;{$a} cmp $orig-&gt;{$b}} keys  %$orig ;} }] \n</code></pre>\n\n<p>Any help?</p>\n"}, {"tags": ["perl", "pdf", "exec", "system", "wine"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1508379378, "post_id": 46821452, "comment_id": 80591194, "body": "You set the bar quite high.  Getting all those quotes and escapes right isn&#39;t easy.  See whether <a href=\"http://search.cpan.org/~rosch/String-ShellQuote-1.03/ShellQuote.pm\" rel=\"nofollow noreferrer\">ShellQuote</a> or <a href=\"http://search.cpan.org/~haarg/Win32-ShellQuote-0.002002/lib/Win32/ShellQuote.pm\" rel=\"nofollow noreferrer\">Win32::ShellQuote</a> can help."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 3, "creation_date": 1508379754, "post_id": 46821452, "comment_id": 80591293, "body": "Of course you don&#39;t seem to be doing anything that benefits from having a shell in the way.  Have you considered using the LIST form of exec?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1508402154, "post_id": 46821452, "comment_id": 80599005, "body": "Did you try <code>my @cmd = (&#39;wine&#39;, q(&#39;C:\\...&#39;), $winepath); exec @cmd</code> ... ?"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1508408643, "post_id": 46821452, "comment_id": 80602735, "body": "@zdim good point there, didn&#39;t knew that it can be done this way, thanks for this!!"}, {"owner": {"reputation": 3220, "user_id": 672004, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4e8a179a546d7219860c8b60848ed6e2?s=128&d=identicon&r=PG", "display_name": "MaikoID", "link": "https://stackoverflow.com/users/672004/maikoid"}, "edited": false, "score": 0, "creation_date": 1508418418, "post_id": 46821452, "comment_id": 80608492, "body": "it appears to work I&#39;ll test more at home!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1508434582, "post_id": 46821452, "comment_id": 80619014, "body": "Good -- I asked since I couldn&#39;t test this particular one. I posted it now with comments (seems to be of interest to @JohnDoe as well). Please let me know whether it needs more explanation."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1510901944, "post_id": 46821452, "comment_id": 81641663, "body": "Please see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a> It&#39;s OK to &quot;accept&quot; your own answer if you consider it best (you can both vote and accept answers but yours you can only accept, not vote on)"}], "answers": [{"comments": [{"owner": {"reputation": 3220, "user_id": 672004, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4e8a179a546d7219860c8b60848ed6e2?s=128&d=identicon&r=PG", "display_name": "MaikoID", "link": "https://stackoverflow.com/users/672004/maikoid"}, "edited": false, "score": 0, "creation_date": 1508442522, "post_id": 46835671, "comment_id": 80623150, "body": "it didn&#39;t work =| same thing! I bet that any program would not work that use spaces the one the wine does. With the last argument with a return from winepath."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3220, "user_id": 672004, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4e8a179a546d7219860c8b60848ed6e2?s=128&d=identicon&r=PG", "display_name": "MaikoID", "link": "https://stackoverflow.com/users/672004/maikoid"}, "edited": false, "score": 1, "creation_date": 1508445410, "post_id": 46835671, "comment_id": 80624670, "body": "@MaikoID Fixed.  (I didn&#39;t think of <code>$winepath</code> having spaces.) That&#39;s why I first asked in a comment -- since I cannot test this <code>wine</code> thing."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1508538912, "last_edit_date": 1508538912, "creation_date": 1508434270, "answer_id": 46835671, "question_id": 46821452, "link": "https://stackoverflow.com/questions/46821452/how-to-handle-quotes-in-perl-when-calling-system-commands/46835671#46835671", "title": "How to handle quotes in Perl when calling system commands?", "body": "<p>It seems that you dodged the bullet (of the common inscrutable mangle of quotes and escapes) here, since you don't need the shell for what is done and the rest doesn't need much either.</p>\n\n<p>Then use the list-form of <a href=\"http://perldoc.perl.org/functions/exec.html\" rel=\"nofollow noreferrer\">exec</a>, which bypasses the shell altogether. This can be done with <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system</a> as well but, alas, not with backticks.</p>\n\n<pre><code>my $winepath = `winepath -w -0 \"$ARGV[0]\"`;\nchomp $winepath;\n\nmy @cmd = (\n    'wine', \n    q('C:\\Program Files\\Tracker Software\\PDF Viewer\\PDFXCview.exe'),\n    \"'$winepath'\"\n); \nexec @cmd;\n</code></pre>\n\n<p>Note the use of <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\">q (perlop)</a> as single quotes, freeing the symbol <code>'</code> for use inside.</p>\n\n<p>We should remove the newline from <code>$winepath</code> (returned by <code>qx</code>) and need to protect spaces inside it by adding <code>'</code> around it.</p>\n\n<p>Going through the shell only makes it harder; do it only when you <em>specifically</em> need the shell.</p>\n\n<p>Once you <em>do</em> need the shell, however, be aware of <a href=\"http://search.cpan.org/~rosch/String-ShellQuote-1.03/ShellQuote.pm\" rel=\"nofollow noreferrer\">ShellQuote</a> and <a href=\"http://search.cpan.org/~haarg/Win32-ShellQuote-0.002002/lib/Win32/ShellQuote.pm\" rel=\"nofollow noreferrer\">Win32::ShellQuote</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 1, "creation_date": 1508486865, "post_id": 46837859, "comment_id": 80637174, "body": "Are you sure it&#39;s working? My assumption is that <code>&quot;&quot;.$winepath.&quot;&quot;</code> will just colapse to <code>$winepath</code> since you are concatenating <code>&quot;&quot;</code>(which is an empty string) with <code>$winepath</code> and then another empty string at the end <code>&quot;&quot;</code>."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1508487178, "post_id": 46837859, "comment_id": 80637324, "body": "I mean, the result is the same as if you would have used <code>$winepath</code>"}, {"owner": {"reputation": 3220, "user_id": 672004, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4e8a179a546d7219860c8b60848ed6e2?s=128&d=identicon&r=PG", "display_name": "MaikoID", "link": "https://stackoverflow.com/users/672004/maikoid"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1508504294, "post_id": 46837859, "comment_id": 80646412, "body": "As strange as it is, it&#39;s not. Without this strange concatenation of empties strings the error: &quot;sh: 1: Syntax error: Unterminated quoted string&quot; appears. My guess is that the return of winepath has different unicodes quotes and it fix it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1508713159, "post_id": 46837859, "comment_id": 80707127, "body": "See my answer for a clear way to concatenate (put a variable inside <code>&#39;&#39;</code>).   You can also always just do <code>q(&#39;) . $winepath . q(&#39;)</code> (what I also had in the answer originally).  This really is &quot;strange.&quot;"}], "tags": [], "owner": {"reputation": 3220, "user_id": 672004, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4e8a179a546d7219860c8b60848ed6e2?s=128&d=identicon&r=PG", "display_name": "MaikoID", "link": "https://stackoverflow.com/users/672004/maikoid"}, "is_accepted": true, "score": 0, "last_activity_date": 1508442709, "creation_date": 1508442709, "answer_id": 46837859, "question_id": 46821452, "link": "https://stackoverflow.com/questions/46821452/how-to-handle-quotes-in-perl-when-calling-system-commands/46837859#46837859", "title": "How to handle quotes in Perl when calling system commands?", "body": "<p>I finally make it work after a hundred of tries.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $winepath = `winepath -w -0 \"$ARGV[0]\"`;\n\nexec 'wine', q(C:\\Program Files\\Tracker Software\\PDF Viewer\\PDFXCview.exe), \"\".$winepath.\"\";\n</code></pre>\n\n<p>I hope help someone!</p>\n\n<p>If there is anyone interested in the .desktop file:</p>\n\n<pre><code>[Desktop Entry]\nName=PDF XChange Viwer\nComment=View multi-page documents\nExec=exec_pdfxcv %U\nStartupNotify=true\nTerminal=false\nType=Application\nStartupWMClass=PDFXCview.exe\nIcon=evince\nCategories=GNOME;GTK;Office;Viewer;\nMimeType=application/pdf;application/x-bzpdf;application/x-gzpdf;application/x-xzpdf;application/x-ext-pdf;application/postscript;application/x-bzpostscript;application/x-gzpostscript;image/x-eps;image/x-bzeps;image/x-gzeps;application/x-ext-ps;application/x-ext-eps;application/x-dvi;application/x-bzdvi;application/x-gzdvi;application/x-ext-dvi;image/vnd.djvu;image/vnd.djvu+multipage;application/x-ext-djv;application/x-ext-djvu;image/tiff;application/x-cbr;application/x-cbz;application/x-cb7;application/x-cbt;application/x-ext-cbr;application/x-ext-cbz;application/vnd.comicbook+zip;application/x-ext-cb7;application/x-ext-cbt;application/oxps;application/vnd.ms-xpsdocument;\n</code></pre>\n"}], "owner": {"reputation": 3220, "user_id": 672004, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4e8a179a546d7219860c8b60848ed6e2?s=128&d=identicon&r=PG", "display_name": "MaikoID", "link": "https://stackoverflow.com/users/672004/maikoid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 46837859, "answer_count": 2, "score": 0, "last_activity_date": 1508538912, "creation_date": 1508375263, "question_id": 46821452, "link": "https://stackoverflow.com/questions/46821452/how-to-handle-quotes-in-perl-when-calling-system-commands", "title": "How to handle quotes in Perl when calling system commands?", "body": "<p>I'm trying to make a very simple script to call the PDFXchange viewer from a .desktop file. But I'm not able to do this because the bash is seeing things that I'm not aware:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $winepath = `winepath -w -0 \"$ARGV[0]\"`;\n\nmy $cmd=join ' ',\n    'wine',\n    '\\'C:\\Program Files\\Tracker Software\\PDF Viewer\\PDFXCview.exe\\'',\n    \"\\'$winepath\\'\";\n\nprint $cmd . \"\\\\n\";\n\nexec $cmd;\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>$ exec_pdfxcv 'pdf with spaces.pdf' \nwine 'C:\\Program Files\\Tracker Software\\PDF Viewer\\PDFXCview.exe' 'Z:\\media\\FILES\\pdf with spaces.pdf'\\nsh: 1: Syntax error: Unterminated quoted string\n</code></pre>\n\n<p>I'm very beginner at Perl, so I run out of ideias very quickly after tried a couple of times with different quotes configurations.</p>\n\n<p>any ideias?</p>\n"}]