[{"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1469054313, "post_id": 38491887, "comment_id": 64385409, "body": "The first line doesn&#39;t work for me."}, {"owner": {"reputation": 378, "user_id": 5616606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/953094322b0c4d957992d09e40d1b487?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyP", "link": "https://stackoverflow.com/users/5616606/johnnyp"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1469061041, "post_id": 38491887, "comment_id": 64387038, "body": "I have corrected the first one to one that works, apologies, this may have confused the question"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469058237, "post_id": 38492070, "comment_id": 64386456, "body": "Since 5.10, <code>s&#47;&lt;td&gt;&lt;h3 class=&quot;day&quot;&gt;&lt;span class=&quot;num&quot;&gt;\\K(\\d\\d?)&#47;$1 + 1&#47;eg</code>"}, {"owner": {"reputation": 378, "user_id": 5616606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/953094322b0c4d957992d09e40d1b487?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyP", "link": "https://stackoverflow.com/users/5616606/johnnyp"}, "edited": false, "score": 0, "creation_date": 1469061302, "post_id": 38492070, "comment_id": 64387109, "body": "I get the error: syntax error near unexpected token `&lt;&#39; on both of these"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1469054546, "creation_date": 1469054546, "answer_id": 38492070, "question_id": 38491887, "link": "https://stackoverflow.com/questions/38491887/perl-e-eval-within-regex-error-when-using-lt/38492070#38492070", "title": "PERL &#39;e&#39; (eval) within REGEX error when using lt (&lt;)", "body": "<p>With <code>/e</code>, the replacement must be a Perl expression.</p>\n\n<p>My Perl (5.20.1) complains about <code>&lt;span class=\"num\"&gt;$1 + 1</code>, and I think it's right: that's not an expression. Add quotes and concatenation where needed:</p>\n\n<pre><code>s/&lt;span class=\"num\"&gt;+(\\d)/q(&lt;span class=\"num\"&gt;) . ($1 + 1)/eg\n</code></pre>\n\n<p>Similarly, for the second expression:</p>\n\n<pre><code>s/&lt;td&gt;&lt;h3 class=\"day\"&gt;&lt;span class=\"num\"&gt;(\\d\\d?)/q(&lt;td&gt;&lt;h3 class=\"day\"&gt;&lt;span class=\"num\"&gt;) . ($1 + 1)/eg\n</code></pre>\n\n<p>or shorter</p>\n\n<pre><code>s/(&lt;td&gt;&lt;h3 class=\"day\"&gt;&lt;span class=\"num\"&gt;)(\\d\\d?)/$1 . ($2 + 1)/eg\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 378, "user_id": 5616606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/953094322b0c4d957992d09e40d1b487?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyP", "link": "https://stackoverflow.com/users/5616606/johnnyp"}, "edited": false, "score": 0, "creation_date": 1469266469, "post_id": 38492604, "comment_id": 64473188, "body": "This works but when applying to a file, I cannot get this to recognize the newline and whitespace in such a structure as:    &lt;td&gt;(newline here as in original code example)           &lt;h3 class=&quot;day&quot;&gt;&lt;span class=&quot;num&quot;&gt;14 .....Using singularly or any combination of the following: &quot;/n or /r or /s* &quot; does not work. Any ideas?"}, {"owner": {"reputation": 378, "user_id": 5616606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/953094322b0c4d957992d09e40d1b487?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyP", "link": "https://stackoverflow.com/users/5616606/johnnyp"}, "edited": false, "score": 0, "creation_date": 1469266916, "post_id": 38492604, "comment_id": 64473294, "body": "the /n, /r and /s* in the above comment should be \\n, \\r, and \\s*"}, {"owner": {"reputation": 336, "user_id": 6614891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73d9a73efd7f7f087482a81be2f60031?s=128&d=identicon&r=PG&f=1", "display_name": "emacsx", "link": "https://stackoverflow.com/users/6614891/emacsx"}, "reply_to_user": {"reputation": 378, "user_id": 5616606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/953094322b0c4d957992d09e40d1b487?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyP", "link": "https://stackoverflow.com/users/5616606/johnnyp"}, "edited": false, "score": 0, "creation_date": 1470740703, "post_id": 38492604, "comment_id": 65062323, "body": "Missed you&#39;re reply; if you&#39;re having trouble with whitespace and newlines then try replacing the spaces above with \\W* and you might also need the /s modifier, so change the /ge to /ges."}], "tags": [], "owner": {"reputation": 336, "user_id": 6614891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73d9a73efd7f7f087482a81be2f60031?s=128&d=identicon&r=PG&f=1", "display_name": "emacsx", "link": "https://stackoverflow.com/users/6614891/emacsx"}, "is_accepted": false, "score": 0, "last_activity_date": 1469060662, "last_edit_date": 1469060662, "creation_date": 1469058509, "answer_id": 38492604, "question_id": 38491887, "link": "https://stackoverflow.com/questions/38491887/perl-e-eval-within-regex-error-when-using-lt/38492604#38492604", "title": "PERL &#39;e&#39; (eval) within REGEX error when using lt (&lt;)", "body": "<p>choroba pipped me to the answer: /e takes an expression; try something like this:</p>\n\n<p><code>echo '&lt;td&gt; &lt;h3 class=\"day\"&gt;&lt;span class=\"num\"&gt;10' | perl -pe 's/&lt;td&gt;\\s*&lt;h3\\s+class=\"day\"&gt;&lt;span\\s+class=\"num\"&gt;(\\d\\d?)/\"&lt;td&gt;&lt;h3 class=\\\"day\\\"&gt;&lt;span class=\\\"num\\\"&gt;\".($1+1)/ge'</code></p>\n"}], "owner": {"reputation": 378, "user_id": 5616606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/953094322b0c4d957992d09e40d1b487?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyP", "link": "https://stackoverflow.com/users/5616606/johnnyp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1469060991, "creation_date": 1469053609, "last_edit_date": 1469060991, "question_id": 38491887, "link": "https://stackoverflow.com/questions/38491887/perl-e-eval-within-regex-error-when-using-lt", "title": "PERL &#39;e&#39; (eval) within REGEX error when using lt (&lt;)", "body": "<p>I am using a one liner from the command line to do a REGEX substitution. This works:</p>\n\n<pre><code>perl -pe 's/&lt;span class=\"num\"&gt;(\\d\\d?)/&lt;span class=\"num\"&gt;+$1 + 1/eg' calendar1.html  &gt; output.html\n</code></pre>\n\n<p>But when I add <code>&lt;td&gt;</code> to the beginning I get error:</p>\n\n<pre><code>perl -pe 's/&lt;td&gt;&lt;h3 class=\"day\"&gt;&lt;span class=\"num\"&gt;(\\d\\d?)/&lt;td&gt;&lt;h3 class=\"day\"&gt;&lt;span class=\"num\"&gt; +$1 + 1/eg' calendar1.html  &gt; output.html\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Can't modify numeric lt (&lt;) in scalar assignment at -e line 1, near \"1}\"\n</code></pre>\n\n<p>The html structure I am trying to match looks like this:</p>\n\n<pre><code>&lt;td&gt;\n      &lt;h3 class=\"day\"&gt;&lt;span class=\"num\"&gt;10\n</code></pre>\n\n<p>I am trying to 1 to each one or two digit number</p>\n"}, {"tags": ["regex", "perl", "url-rewriting"], "answers": [{"comments": [{"owner": {"reputation": 873, "user_id": 3861559, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/cc566260d03fd6ffcd0cb33b8ef311d1?s=128&d=identicon&r=PG&f=1", "display_name": "user3861559", "link": "https://stackoverflow.com/users/3861559/user3861559"}, "edited": false, "score": 1, "creation_date": 1469054386, "post_id": 38491920, "comment_id": 64385423, "body": "My bad, that was a typo. Your solution, however, works. Thank you!"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 1, "last_activity_date": 1469053785, "creation_date": 1469053785, "answer_id": 38491920, "question_id": 38491875, "link": "https://stackoverflow.com/questions/38491875/url-rewrite-perl-regex/38491920#38491920", "title": "URL rewrite - Perl Regex", "body": "<p>You can use this rule:</p>\n\n<pre><code>RewriteRule ^/?(industries/(?:accounting|healthcare))/.+$ /$1 [R=301,L,NC]\n</code></pre>\n\n<p>Not sure why you have <code>resources</code> in target URL.</p>\n"}], "owner": {"reputation": 873, "user_id": 3861559, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/cc566260d03fd6ffcd0cb33b8ef311d1?s=128&d=identicon&r=PG&f=1", "display_name": "user3861559", "link": "https://stackoverflow.com/users/3861559/user3861559"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 38491920, "answer_count": 1, "score": 1, "last_activity_date": 1469054364, "creation_date": 1469053542, "last_edit_date": 1469054364, "question_id": 38491875, "link": "https://stackoverflow.com/questions/38491875/url-rewrite-perl-regex", "title": "URL rewrite - Perl Regex", "body": "<p>I am trying to come up with rewrite rules for my site:</p>\n\n<p>I tackled a couple simple one-to-one redirects. But In this case I haven't been able to.</p>\n\n<p>Here is what I am trying to do:</p>\n\n<p><code>www.mydomain.con/industries/accounting/&lt;anything&gt;</code> should redirect to <code>www.mydomain.con/industries/accounting</code></p>\n\n<p><code>www.mydomain.con/industries/healthcare/&lt;anything&gt;</code> should redirect to <code>www.mydomain.con/industries/healthcare</code></p>\n\n<p>I came up with this: </p>\n\n<pre><code> RewriteRule ^/industries/(?:(?:accounting|healthcare)(/[-A-Za-z0-9_]*)+)$  https://%{HTTP_HOST}/$1 [R=301,L]\n</code></pre>\n\n<p>It just appends <code>&lt;anything&gt;</code> to the at the end and url becomes</p>\n\n<pre><code>www.mydomain.com/industries/&lt;anything&gt;\n</code></pre>\n\n<p>I do not want this to trigger when ever there some thing after accounting and/or healthcare and redirect it back to accounting or healthcare respectively.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5410501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/261b35d3c7dba249e691ecf7433e73a3?s=128&d=identicon&r=PG&f=1", "display_name": "MarshAPI", "link": "https://stackoverflow.com/users/5410501/marshapi"}, "edited": false, "score": 0, "creation_date": 1469048380, "post_id": 38489967, "comment_id": 64383113, "body": "Thank you so much!  Totally worked.   (obviously a perl newb) I&#39;ll be over in the corner with my dunce cap on."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1469045451, "creation_date": 1469045451, "answer_id": 38489967, "question_id": 38489889, "link": "https://stackoverflow.com/questions/38489889/ipcrun-timeout-doesnt-work/38489967#38489967", "title": "IPC::Run timeout doesn&#39;t work", "body": "<p>You tell it to execute a file named</p>\n\n<pre><code>\"C:\\Program Files\\Autodesk\\Revit 2016\\Revit.exe\"\n</code></pre>\n\n<p>but the file is named</p>\n\n<pre><code>C:\\Program Files\\Autodesk\\Revit 2016\\Revit.exe\n</code></pre>\n\n<p>Replace</p>\n\n<pre><code>my @cmd1 = \"\\\"$revitPath\\\"\";\nrun \\@cmd1, ...\n</code></pre>\n\n<p>with</p>\n\n<pre><code>my @cmd1 = $revitPath;\nrun \\@cmd1, ...\n</code></pre>\n\n<p>or</p>\n\n<pre><code>run [ $revitPath ],  ...\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5410501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/261b35d3c7dba249e691ecf7433e73a3?s=128&d=identicon&r=PG&f=1", "display_name": "MarshAPI", "link": "https://stackoverflow.com/users/5410501/marshapi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 38489967, "answer_count": 1, "score": 0, "last_activity_date": 1469045451, "creation_date": 1469045185, "question_id": 38489889, "link": "https://stackoverflow.com/questions/38489889/ipcrun-timeout-doesnt-work", "title": "IPC::Run timeout doesn&#39;t work", "body": "<p>Goal: Perl script that runs Revit (or any executable) and timesout if runs too long.  I've got it to run Revit but can't seem to add a timeout or use the other versions of run with arguments $in $out $err</p>\n\n<p>Windows environment.</p>\n\n<p>Below is the one \"run\" that works and the results of others that don't work at all, especially the one I'd like where I can specify a timeout.</p>\n\n<pre><code>use IPC::Run qw( run timeout );\nmy $revitPath = \"C:\\\\Program Files\\\\Autodesk\\\\Revit 2016\\\\Revit.exe\"; \n\n#I think I need quotes because there are spaces in the line\nmy $revitExe = \"\\\"$revitPath\\\"\";\nmy @cmd1 = \"\\\"$revitPath\\\"\";\n#don't think I need any arguments, just want to start it for now and time out. \nmy $in = \"\";\nmy ($out, $err);\n\n#Here We're Happy, runs Revit:\nrun @cmd1;\n\n#All the following:  Not Happy:\n\n#This one just seems to do nothing, no complaints, just does nothing\n#-----&gt;  This is the main goal.  I want to time out Revit if it runs too long.\nrun @cmd1, timeout(40000) or die \"cat: $?\";\n#-----&gt;\n\n#This one says \"file not found: \"C:\\Program Files\\Autodesk\\Revit 2016\\Revit.exe\" at line 16\nrun \\@cmd1;\n\n#This one says \n   #Unexpected SCALAR(0x1d21adc) in harness() parameter 3 at example.pl line 21\n   #Unexpected SCALAR(0x1d21acc) in harness() parameter 4 at example.pl line 21\nrun @cmd1, \\$in, \\$out, \\$err;\n\n#This one says \"file not found: \"C:\\Program Files\\Autodesk\\Revit 2016\\Revit.exe\" at line 24\nrun @cmd1, $in, $out, $err;\n\nprint \"out: $out\\n\";\nprint \"err: $err\\n\";\n</code></pre>\n"}, {"tags": ["perl", "data-structures"], "comments": [{"owner": {"reputation": 16340, "user_id": 1569689, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/21d698866fd3dfd4c566b5688ee99166?s=128&d=identicon&r=PG", "display_name": "James Wood", "link": "https://stackoverflow.com/users/1569689/james-wood"}, "edited": false, "score": 1, "creation_date": 1469044041, "post_id": 38489172, "comment_id": 64380783, "body": "How have you tried to solve the problem so far?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469096681, "post_id": 38489172, "comment_id": 64402318, "body": "It&#39;s very hard to help you to fix your program if you don&#39;t show your code. Is this homework?"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1469044104, "post_id": 38489476, "comment_id": 64380821, "body": "you probably want to sort the output:  <code>for my $key ( sort { $a &lt;=&gt; $b } keys %results )</code>"}, {"owner": {"reputation": 1, "user_id": 1250089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8794b8dee3f48b495a99b1b00835e253?s=128&d=identicon&r=PG", "display_name": "Efficasy", "link": "https://stackoverflow.com/users/1250089/efficasy"}, "edited": false, "score": 0, "creation_date": 1469044336, "post_id": 38489476, "comment_id": 64380971, "body": "Thank you. Correct  me if i am wrong but wont sorting will only rearrange the data. We want the kind of group by result set by class."}, {"owner": {"reputation": 727, "user_id": 2059832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8oSY3.gif?s=128&g=1", "display_name": "drmrgd", "link": "https://stackoverflow.com/users/2059832/drmrgd"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1469044692, "post_id": 38489476, "comment_id": 64381176, "body": "@ysth Yeah, that&#39;s a good point.  If it were my data, I would probably sort just as you suggested, just so we don&#39;t get a situation where &#39;3&#39; prints before &#39;2&#39; depending on how the hash is accessed.  I&#39;ll edit with that code improvement."}], "tags": [], "owner": {"reputation": 727, "user_id": 2059832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8oSY3.gif?s=128&g=1", "display_name": "drmrgd", "link": "https://stackoverflow.com/users/2059832/drmrgd"}, "is_accepted": false, "score": 0, "last_activity_date": 1469044795, "last_edit_date": 1469044795, "creation_date": 1469043736, "answer_id": 38489476, "question_id": 38489172, "link": "https://stackoverflow.com/questions/38489172/perl-data-structure/38489476#38489476", "title": "Perl data structure", "body": "<p>If you're using the 3rd column as the key for each, then you can set up a <a href=\"http://perldoc.perl.org/perldsc.html#HASHES-OF-ARRAYS\" rel=\"nofollow\">Hash of Arrays</a> to manage the data.  First load in the file and split the fields by commas into an array.  Then setup the data structure as described in line 28 of the \"Generation of a Hash of Arrays\" example in the linked document.  Once you've got that all together, you just need to print it all back out, just like in the examples linked.  </p>\n\n<p>A quickie example of that strategy might look like this (note that I have the data in the <code>__DATA__</code> section of the script rather than reading from a file):</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %results;\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my @elems = split(/,/, $_);\n    push(@{$results{$elems[2]}}, $elems[0]);\n}\n\nfor my $key ( sort { $a &lt;=&gt; $b } keys %results )\n    print \"$key = \";\n    print join(', ', @{$results{$key}}), \"\\n\";\n}\n\n__DATA__\nJohn,23,2\nMike,25,2\nRay,78,3\nTim,30,3\nMark,22,2\n</code></pre>\n\n<p>The output generated looks like this:</p>\n\n<pre><code>2 = John, Mike, Mark\n3 = Ray, Tim\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 1250089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8794b8dee3f48b495a99b1b00835e253?s=128&d=identicon&r=PG", "display_name": "Efficasy", "link": "https://stackoverflow.com/users/1250089/efficasy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1469096628, "creation_date": 1469042658, "last_edit_date": 1469096628, "question_id": 38489172, "link": "https://stackoverflow.com/questions/38489172/perl-data-structure", "title": "Perl data structure", "body": "<p></p>\n\n<p>I have a question regarding Perl data structures.</p>\n\n<p>I have a file <code>1.txt</code> with the following fields and data.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Student rollno class\n</code></pre>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>John,23,2\nMike,25,2\nRay,78,3\nTim,30,3\nMark,22,2\n</code></pre>\n\n<p>Can you please help how can print output in Perl?</p>\n\n<p>I am splitting the file and getting an array but stumbling on the result set. Can you please describe how I can get the output as below?</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>2= john, mike, mark\n3= ray, tim\n</code></pre>\n\n<p>I need a data structure which would combine that result set.</p>\n"}, {"tags": ["arrays", "linux", "bash", "perl", "shell"], "comments": [{"owner": {"reputation": 57412, "user_id": 236465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoAkG.jpg?s=128&g=1", "display_name": "Diego Torres Milano", "link": "https://stackoverflow.com/users/236465/diego-torres-milano"}, "edited": false, "score": 1, "creation_date": 1469038060, "post_id": 38487711, "comment_id": 64377361, "body": "<code>fi</code> does not seems to be a good variable name (see if..fi)"}, {"owner": {"reputation": 113, "user_id": 3862604, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4Q7Ov.png?s=128&g=1", "display_name": "Chemist not a Programmer", "link": "https://stackoverflow.com/users/3862604/chemist-not-a-programmer"}, "edited": false, "score": 0, "creation_date": 1469039068, "post_id": 38487711, "comment_id": 64377961, "body": "I have correct the &quot;fi&quot; variable but the script is still having the same problem."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469040601, "post_id": 38487711, "comment_id": 64378833, "body": "I suspect you have reached the limit on the length of awk&#39;s parameter list. It&#39;s easy enough to add together all the elements of an array without using awk, and I suggest you do that in shell code instead."}, {"owner": {"reputation": 113, "user_id": 3862604, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4Q7Ov.png?s=128&g=1", "display_name": "Chemist not a Programmer", "link": "https://stackoverflow.com/users/3862604/chemist-not-a-programmer"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469044752, "post_id": 38487711, "comment_id": 64381207, "body": "@Borodin Do you have an example I could try. Awk seems to be the most effective method."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1469091322, "post_id": 38487711, "comment_id": 64398705, "body": "Do you need the array? Why not just add each <code>r_sq_value</code> directly to <code>sum</code> instead of building an array first?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1469088783, "post_id": 38490661, "comment_id": 64396975, "body": "It would help enormously if you highlighted what changes you had made and explained why you thought they would help"}, {"owner": {"reputation": 1354, "user_id": 1653270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c57d3d99827c5e6cdf0880292769472?s=128&d=identicon&r=PG", "display_name": "michael501", "link": "https://stackoverflow.com/users/1653270/michael501"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469127865, "post_id": 38490661, "comment_id": 64422103, "body": "@Borodin , how do i highlight ?"}], "tags": [], "owner": {"reputation": 1354, "user_id": 1653270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c57d3d99827c5e6cdf0880292769472?s=128&d=identicon&r=PG", "display_name": "michael501", "link": "https://stackoverflow.com/users/1653270/michael501"}, "is_accepted": false, "score": 0, "last_activity_date": 1469048023, "creation_date": 1469048023, "answer_id": 38490661, "question_id": 38487711, "link": "https://stackoverflow.com/questions/38487711/large-bash-arrays-or-log-out-termination/38490661#38490661", "title": "Large Bash Arrays or Log Out Termination", "body": "<p>Change it to :</p>\n\n<pre><code>for i in {1..1999}; \n do\n  fi=\"$(printf \"%06d\" $i)_sys6_uw_lipid_data.pdb\"\n  r_sq_value=$(perl r_value.pl \"$fi\")\n  (( all_r_sq_values += ($r_sq_value) ))\n\nsum=$(\n awk 'BEGIN {t=0; for (i in ARGV) t+=ARGV[i]; print t}'     \"${all_r_sq_values[@]}\"\n)\n\necho \"$sum &lt;--- SUM\"\n\ndone\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 3862604, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4Q7Ov.png?s=128&g=1", "display_name": "Chemist not a Programmer", "link": "https://stackoverflow.com/users/3862604/chemist-not-a-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1469048023, "creation_date": 1469037800, "last_edit_date": 1469038157, "question_id": 38487711, "link": "https://stackoverflow.com/questions/38487711/large-bash-arrays-or-log-out-termination", "title": "Large Bash Arrays or Log Out Termination", "body": "<p>I am using bash script that calls a Perl script to perform a job. The results of that job are then appended to a array in bash and summed. The summation after each time the Perl script is call is printed. After the script runs for a while it stops printing the sum without an error message. </p>\n\n<p>Example:</p>\n\n<pre><code>for i in {1..1999}; \ndo\n  fi=\"$(printf \"%06d\" $i)_sys6_uw_lipid_data.pdb\"\n  r_sq_value=$(perl r_value.pl \"$fi\")\n  all_r_sq_values+=($r_sq_value)\n\nsum=$(\nawk 'BEGIN {t=0; for (i in ARGV) t+=ARGV[i]; print t}' \"${all_r_sq_values[@]}\"\n)\n\necho \"$sum &lt;--- SUM\"\n\ndone\n</code></pre>\n\n<p>The script works just fine for a while but after a long time the script stops printing the sum. </p>\n\n<p>Example:</p>\n\n<pre><code>... skipping ... \n5.20884e+06 &lt;--- SUM\n5.22297e+06 &lt;--- SUM\n5.23754e+06 &lt;--- SUM\n5.25246e+06 &lt;--- SUM\n5.26714e+06 &lt;--- SUM\n5.28179e+06 &lt;--- SUM\n5.29737e+06 &lt;--- SUM\n &lt;--- SUM\n &lt;--- SUM\n &lt;--- SUM\n &lt;--- SUM\n &lt;--- SUM\n</code></pre>\n\n<p>Without an error I am not sure if this is because of the script or because the computer is terminating the job due to it going to sleep. All the data files that it reads are full and work individually with the Perl script. </p>\n\n<p>Any suggestion or comments are appreciated. </p>\n\n<p>Thank you</p>\n"}, {"tags": ["perl", "parsing", "whitespace"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1469030372, "post_id": 38484862, "comment_id": 64372742, "body": "1) You should check the success of <code>open</code> instead of checking for file existence with <code>-f</code>: <code>open my $fh, &#39;&lt;&#39;, $file or die $!;</code> Right now you have a race condition. 2) You can use <code>split(&#39; &#39;, $line)</code> to ignore leading whitespace. 3) Perl has string interpolation, so unless you need to do special formatting, <code>print</code>/<code>say</code> is generally preferable to <code>printf</code>. In this case, I would go a step further and use <code>map</code> + <code>join</code>, e.g. <code>my @fields = split(&#39; &#39;, $line); say( join(&#39;,&#39;, map qq{&quot;$_&quot;}, @fields) );</code> or something like that. 4) Always <code>use strict;</code> and <code>use warnings &#39;all&#39;;</code>"}], "tags": [], "owner": {"reputation": 44, "user_id": 6606934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95dcfc71cb1ac0a9d8962b69c4397bcb?s=128&d=identicon&r=PG&f=1", "display_name": "laojianke", "link": "https://stackoverflow.com/users/6606934/laojianke"}, "is_accepted": false, "score": 0, "last_activity_date": 1469028918, "creation_date": 1469028918, "answer_id": 38484862, "question_id": 38484090, "link": "https://stackoverflow.com/questions/38484090/perl-to-parse-whitespace-separated-columns/38484862#38484862", "title": "Perl To Parse Whitespace Separated Columns", "body": "<p>Below code for your reference:</p>\n\n<pre><code>#!/usr/bin/perl\nmy $defaultFileName=defined $ARGV[0]?$ARGV[0]:\"filename.txt\";\ndie \"Could not find file: $defaultFileName\" unless(-f $defaultFileName);\nopen my $fh, '&lt;',\"textFileName.log\";\nforeach my $line(&lt;$fh&gt;) {\n    my @tmpData=split(/\\s+/, $line);\n    printf \"\\\"%s\\\",\\\"%s\\\"\\\\n\\n\",$tmpData[1],$tmpData[2];\n}\nclose $fh;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 3556777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/512990192/picture?type=large", "display_name": "QuePID", "link": "https://stackoverflow.com/users/3556777/quepid"}, "edited": false, "score": 0, "creation_date": 1469030231, "post_id": 38485134, "comment_id": 64372648, "body": "Doesn&#39;t seem to work.  Here is the output that I get: String found where operator expected at parse4.pl line 2, near &quot;lane &#39;print join &quot;,&quot;, map qq(&quot;$_&quot;), @F[0, 1]&#39;&quot;         (Do you need to predeclare lane?) syntax error at parse4.pl line 2, near &quot;lane &#39;print join &quot;,&quot;, map qq(&quot;$_&quot;), @F[0, 1]&#39;&quot; Execution of parse4.pl aborted due to compilation errors.  I am using Perl v5.18.2."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 103, "user_id": 3556777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/512990192/picture?type=large", "display_name": "QuePID", "link": "https://stackoverflow.com/users/3556777/quepid"}, "edited": false, "score": 1, "creation_date": 1469030453, "post_id": 38485134, "comment_id": 64372808, "body": "@QuePID: Run the whole line in a shell with the file name appended. It&#39;s not a script, it&#39;s a one-liner."}, {"owner": {"reputation": 103, "user_id": 3556777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/512990192/picture?type=large", "display_name": "QuePID", "link": "https://stackoverflow.com/users/3556777/quepid"}, "edited": false, "score": 0, "creation_date": 1469030767, "post_id": 38485134, "comment_id": 64373066, "body": "Works great as a one-liner, how could I convert to script?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 103, "user_id": 3556777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/512990192/picture?type=large", "display_name": "QuePID", "link": "https://stackoverflow.com/users/3556777/quepid"}, "edited": false, "score": 1, "creation_date": 1469030983, "post_id": 38485134, "comment_id": 64373206, "body": "@QuePID: Change the shebang line to <code>#!&#47;usr&#47;bin&#47;perl -lan</code>, put <code>print join &#39;,&#39;, map qq(&quot;$_&quot;), @F[0, 1]</code> on the second line."}, {"owner": {"reputation": 103, "user_id": 3556777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/512990192/picture?type=large", "display_name": "QuePID", "link": "https://stackoverflow.com/users/3556777/quepid"}, "edited": false, "score": 0, "creation_date": 1469031351, "post_id": 38485134, "comment_id": 64373444, "body": "What if I want to use a fixed filename and have output piped to a new file?  As it works if I run the script and pass it the filename to parse, and manually pipe to new file."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1469029659, "creation_date": 1469029659, "answer_id": 38485134, "question_id": 38484090, "link": "https://stackoverflow.com/questions/38484090/perl-to-parse-whitespace-separated-columns/38485134#38485134", "title": "Perl To Parse Whitespace Separated Columns", "body": "<p>Easy as a one-liner:</p>\n\n<pre><code>perl -lane 'print join \",\", map qq(\"$_\"), @F[0, 1]'\n</code></pre>\n\n<ul>\n<li><code>-l</code> handles newlines in <code>print</code></li>\n<li><code>-n</code> reads the input line by line</li>\n<li><code>-a</code> splits each line on whitespace into the <code>@F</code> array</li>\n<li><code>@F[0, 1]</code> is an array slice, it extracts the first two elements of the <code>@F</code> array</li>\n<li><code>map</code> wraps each element in double quotes</li>\n<li><code>join</code> inserts the comma in between</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469034031, "post_id": 38486488, "comment_id": 64374963, "body": "It can also be done with Ruby, Python, Java, C++, and C, among others, but that&#39;s not what the question asked about."}], "tags": [], "owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "is_accepted": false, "score": -1, "last_activity_date": 1469033779, "creation_date": 1469033779, "answer_id": 38486488, "question_id": 38484090, "link": "https://stackoverflow.com/questions/38484090/perl-to-parse-whitespace-separated-columns/38486488#38486488", "title": "Perl To Parse Whitespace Separated Columns", "body": "<p>This can also be done with <code>awk</code></p>\n\n<pre><code>&gt;&gt;cat test\n9a2ba3c0580b5f3799ad9d6f487b2d3    /folder1/folder2/folder3/folder4/folder5/folder6/folder7_name_PC/images/filename.jpg    HOST\n9a2ba3c0580b5f3799ad9d6f487b2d3    /folder1/folder2/folder3/folder4/folder5/folder6/folder7_name_PC/images/filename.jpg    HOST\n9a2ba3c0580b5f3799ad9d6f487b2d3    /folder1/folder2/folder3/folder4/folder5/folder6/folder7_name_PC/images/filename.jpg    HOST\n9a2ba3c0580b5f3799ad9d6f487b2d3    /folder1/folder2/folder3/folder4/folder5/folder6/folder7_name_PC/images/filename.jpg    HOST\n</code></pre>\n\n<p><strong>OUTPUT:</strong></p>\n\n<pre><code>&gt;&gt;awk '{FS=\"    \"}{print \"\\\"\"$1\"\\\",\"\"\\\"\"$2\"\\\",\"\"\\\"\"$3\"\\\"\" }' test\n\"9a2ba3c0580b5f3799ad9d6f487b2d3\",\"/folder1/folder2/folder3/folder4/folder5/folder6/folder7_name_PC/images/filename.jpg\",\"HOST\"\n\"9a2ba3c0580b5f3799ad9d6f487b2d3\",\"/folder1/folder2/folder3/folder4/folder5/folder6/folder7_name_PC/images/filename.jpg\",\"HOST\"\n\"9a2ba3c0580b5f3799ad9d6f487b2d3\",\"/folder1/folder2/folder3/folder4/folder5/folder6/folder7_name_PC/images/filename.jpg\",\"HOST\"\n\"9a2ba3c0580b5f3799ad9d6f487b2d3\",\"/folder1/folder2/folder3/folder4/folder5/folder6/folder7_name_PC/images/filename.jpg\",\"HOST\"\n\n&gt;&gt;awk '{FS=\"    \"}{print \"\\\"\"$1\"\\\",\"\"\\\"\"$2\"\\\",\"\"\\\"\"$3\"\\\"\" }' test &gt; output.txt\n</code></pre>\n\n<p>then <code>output.txt</code> will have a desired output.</p>\n"}], "owner": {"reputation": 103, "user_id": 3556777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/512990192/picture?type=large", "display_name": "QuePID", "link": "https://stackoverflow.com/users/3556777/quepid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "accepted_answer_id": 38485134, "answer_count": 3, "score": -5, "last_activity_date": 1469033779, "creation_date": 1469024989, "last_edit_date": 1469025996, "question_id": 38484090, "link": "https://stackoverflow.com/questions/38484090/perl-to-parse-whitespace-separated-columns", "title": "Perl To Parse Whitespace Separated Columns", "body": "<p>I have a large text file which has three columns present, each column separated by four spaces.  I need a perl script to read this text file and output columns #1, and #2 to a new text file with each of these columns wrapped in quotation marks and separated commas in the output file.</p>\n\n<p>The text file with the four columns has data which looks like this:</p>\n\n<pre><code>    9a2ba3c0580b5f3799ad9d6f487b2d3    /folder1/folder2/folder3/folder4/folder5/folder6/folder7_name_PC/images/filename.jpg    HOST\n</code></pre>\n\n<p>What I would like the output to look like is</p>\n\n<pre><code>\"9a2ba3c0580b5f3799ad9d6f487b2d38\",\"/folder1/folder2/folder3/folder4/folder5/folder6/folder7_name_PC/images/filename.jpg\"\n</code></pre>\n"}, {"tags": ["perl", "base64", "catalyst"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469024748, "post_id": 38483909, "comment_id": 64370198, "body": "The code of <a href=\"https://metacpan.org/source/MJFS/Base64-Serializer_0.1/Base64.pm\" rel=\"nofollow noreferrer\">CGI::Session::Serialize::Base64</a> looks pretty straight-forward. It uses MIME::Base64. Nothing special there. Can you provide example data?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1469024795, "post_id": 38483909, "comment_id": 64370228, "body": "Also, you tagged the question with <i>catalyst</i> but you&#39;re talking about CGI::Session. Those two don&#39;t really mix well. Which one is it?"}, {"owner": {"reputation": 1168, "user_id": 1784261, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3b48c91bf6b6f0bfd0fda50625598656?s=128&d=identicon&r=PG", "display_name": "kakigoori", "link": "https://stackoverflow.com/users/1784261/kakigoori"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469025264, "post_id": 38483909, "comment_id": 64370578, "body": "Oops, yeah, seems to use Catalyst::Plugin::Session, my bad."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469025379, "post_id": 38483909, "comment_id": 64370669, "body": "You should really include some example data pulled from a serialized session, and maybe the part of your code that writes those. I don&#39;t see how that would take your serialization module"}], "answers": [{"tags": [], "owner": {"reputation": 1168, "user_id": 1784261, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3b48c91bf6b6f0bfd0fda50625598656?s=128&d=identicon&r=PG", "display_name": "kakigoori", "link": "https://stackoverflow.com/users/1784261/kakigoori"}, "is_accepted": false, "score": 0, "last_activity_date": 1469041951, "last_edit_date": 1469041951, "creation_date": 1469030623, "answer_id": 38485491, "question_id": 38483909, "link": "https://stackoverflow.com/questions/38483909/how-do-i-decode-base64-encoded-session-data-from-catalystpluginsession/38485491#38485491", "title": "How do I decode base64 encoded session data from Catalyst::Plugin::Session?", "body": "<p>Agh, found out my obfuscated string is actually the demonic way in which Perl stores hashes in string form, and the Catalyst modules seem to use <a href=\"http://perldoc.perl.org/Storable.html\" rel=\"nofollow\">Storable</a> to do this, so using MIME::Base64 and Storable together was the solution, like so:</p>\n\n<pre><code>print thaw(decode_base64($my_stuff));\n</code></pre>\n"}], "owner": {"reputation": 1168, "user_id": 1784261, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3b48c91bf6b6f0bfd0fda50625598656?s=128&d=identicon&r=PG", "display_name": "kakigoori", "link": "https://stackoverflow.com/users/1784261/kakigoori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469041951, "creation_date": 1469024533, "last_edit_date": 1469028255, "question_id": 38483909, "link": "https://stackoverflow.com/questions/38483909/how-do-i-decode-base64-encoded-session-data-from-catalystpluginsession", "title": "How do I decode base64 encoded session data from Catalyst::Plugin::Session?", "body": "<p>I've inherited some code that uses these session modules that will encode some kind of obfuscated Base64 text to store in a table and decode it out, but there doesn't seem to be a way for me to actually get the data decoded correctly.</p>\n\n<p>It seems to use <a href=\"https://metacpan.org/pod/Catalyst::Plugin::Session\" rel=\"nofollow\">Catalyst::Plugin::Session</a>, but I've had no luck decoding it in any encoding or anything.</p>\n\n<p>If I decode the data as it is now, I get back normal-looking text for Latin characters, but other things like basic numbers seem to be garbled. I've tried just about every character encoding with no success.</p>\n\n<p>How do I decode the data stored by this module?</p>\n\n<p>The actual usage in the code looks like this:</p>\n\n<pre><code>$user-&gt;update({ user_id =&gt; $user-&gt;id });\n$c-&gt;session-&gt;{user_name} = $user-&gt;name;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1469016550, "post_id": 38480464, "comment_id": 64363762, "body": "Did you use <code>system</code>, <code>exec</code>, <code>qx</code> or backticks <code>`</code>?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1469017569, "post_id": 38480464, "comment_id": 64364514, "body": "Yes, there is. But it depends a lot on exactly what you&#39;re doing. And for that, we&#39;re going to need some code examples."}, {"owner": {"reputation": 167, "user_id": 5005698, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/962075417175866/picture?type=large", "display_name": "Vishal Khemani", "link": "https://stackoverflow.com/users/5005698/vishal-khemani"}, "edited": false, "score": 0, "creation_date": 1469019053, "post_id": 38480464, "comment_id": 64365659, "body": "Yes, I used system. I wrote something like this: system(&quot;start $bat_file&quot;);"}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 5005698, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/962075417175866/picture?type=large", "display_name": "Vishal Khemani", "link": "https://stackoverflow.com/users/5005698/vishal-khemani"}, "edited": false, "score": 1, "creation_date": 1469083449, "post_id": 38482470, "comment_id": 64393584, "body": "When I used the code which you mentioned, the call never returns back to the caller even after the bat file is finished. It justs stays suspended and never resumes operation after the bat file is finished. However it is working if I write system($bat_file);"}], "tags": [], "owner": {"reputation": 5835, "user_id": 1446154, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e203591509f88fc8c8aeadc01dc1a5d1?s=128&d=identicon&r=PG&f=1", "display_name": "Laser", "link": "https://stackoverflow.com/users/1446154/laser"}, "is_accepted": false, "score": 2, "last_activity_date": 1469020750, "creation_date": 1469020750, "answer_id": 38482470, "question_id": 38480464, "link": "https://stackoverflow.com/questions/38480464/perl-script-is-not-waiting-for-a-bat-file-to-complete-and-continuing-execution/38482470#38482470", "title": "Perl script is not waiting for a .bat file to complete and continuing execution", "body": "<p>The problem that you have is the problem with <code>start command</code> and not with <code>system</code>  </p>\n\n<p>When you are using <code>start</code> command on windows it will start your program but will not wait for ending.  </p>\n\n<p>You have to use <code>/wait</code> after <code>start</code><br>\nIn your code it will be :  </p>\n\n<pre><code>system (\"start /wait $bat_file\"); \nprint (\"Hello\");`\n</code></pre>\n\n<p><a href=\"http://ss64.com/nt/start.html\" rel=\"nofollow\">Start Manual</a> </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 9, "last_activity_date": 1469021283, "creation_date": 1469021283, "answer_id": 38482677, "question_id": 38480464, "link": "https://stackoverflow.com/questions/38480464/perl-script-is-not-waiting-for-a-bat-file-to-complete-and-continuing-execution/38482677#38482677", "title": "Perl script is not waiting for a .bat file to complete and continuing execution", "body": "<p>You need to remove the <code>start</code> command</p>\n\n<p>Without the <code>/wait</code> option, <code>start</code> will create a process and return immediately</p>\n\n<p>But there is no need for <code>start</code> at all. You can write just</p>\n\n<pre><code>system($bat_file);\n</code></pre>\n\n<p>to achieve the effect that you're asking for</p>\n"}], "owner": {"reputation": 167, "user_id": 5005698, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/962075417175866/picture?type=large", "display_name": "Vishal Khemani", "link": "https://stackoverflow.com/users/5005698/vishal-khemani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "accepted_answer_id": 38482677, "answer_count": 2, "score": 1, "last_activity_date": 1469021283, "creation_date": 1469015288, "last_edit_date": 1469020812, "question_id": 38480464, "link": "https://stackoverflow.com/questions/38480464/perl-script-is-not-waiting-for-a-bat-file-to-complete-and-continuing-execution", "title": "Perl script is not waiting for a .bat file to complete and continuing execution", "body": "<p>I am calling a bat file from a perl script.<br>\nSince the bat file takes long time for execution, the perl script is not waiting for the bat file to complete and continuing execution from the next line. </p>\n\n<p>Is there a way by which we can suspend the execution of the perl script until the bat file is finished execution and then resume once the bat file is done.</p>\n\n<p>I wrote something like this:</p>\n\n<pre><code>system (\"start $bat_file\");\nprint (\"Hello\");\n</code></pre>\n\n<p>So it prints hello even before bat file is finished.</p>\n\n<p>Actually what I want to accomplish is:  </p>\n\n<ol>\n<li>My bat file creates some file</li>\n<li>I want to copy those files to another location once the bat file is done.</li>\n</ol>\n\n<p>But as it is not waiting for the bat file to complete, the copy fails because it tries to copy a folder which does not exist as the bat file is still being processed and has not produced the output file.</p>\n\n<p><strong>Note</strong> : Time to complete bat file is not fixed and changes everytime.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 5, "creation_date": 1469014641, "post_id": 38480175, "comment_id": 64362438, "body": "Writing <code>&#47;(gunn?er|gunn?|\u0433\u0430\u043d\u043d?\u0435\u0440\u0443?|\u0433\u0430\u043d\u043d?\u0443?)&#47;i</code> in Perl is perfectly valid, your problem comes from elsewhere. You should show your code. Since you use unicode characters, did you start your code with <code>use feature &#39;unicode_strings&#39;</code> or use the u modifier?"}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 4, "creation_date": 1469014742, "post_id": 38480175, "comment_id": 64362512, "body": "I&#39;ve  never seen the error <code>doesn&#39;t work</code>. I don&#39;t suppose you can provide an actual example?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469016472, "post_id": 38480175, "comment_id": 64363719, "body": "The <code>use feature &#39;unicode_strings&#39;</code> only exists from Perl 5.12."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469041533, "post_id": 38480175, "comment_id": 64379352, "body": "You say you program contains <code>\u043d</code>, but that character can&#39;t possibly exist in a Perl program without <code>use utf8;</code>. The default encoding is effectively iso-8859-1, and that character doesn&#39;t exist in iso-8859-1."}, {"owner": {"reputation": 1070, "user_id": 5232529, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-Y79GfOk6GSg/AAAAAAAAAAI/AAAAAAAAAC4/d9Pnt9T4rcI/photo.jpg?sz=128", "display_name": "Artalus", "link": "https://stackoverflow.com/users/5232529/artalus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469178006, "post_id": 38480175, "comment_id": 64439650, "body": "@ikegami but on my virtual machine and on my friend&#39;s computer it works fine without <code>use utf8</code>. All three systems have same versions of Perl and same locales, <code>ru_RU.UTF-8</code>. Besides, applying simple regexes like <code>gunner|\u0433\u0430\u043d\u043d\u0435\u0440</code> worked just fine - that&#39;s mainly what triggered the question and why I didn&#39;t think it was related to Unicode settings."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1469205640, "post_id": 38480175, "comment_id": 64456823, "body": "Again, you source code couldn&#39;t possibly have contained <code>gunner|\u0433\u0430\u043d\u043d\u0435\u0440</code> without <code>use utf8;</code>. (Your locale is completely irrelevant.) It actually contains <code>gunner|&#208;&#179;&#208;&#176;&#208;&#189;&#208;&#189;&#208;&#181;&#209;\ufffd</code>. As for it working fine, I&#39;ll grant you that it&#39;s possible for bugs in this area to cancel out (e.g. it&#39;ll work if you also had <code>&#208;&#179;&#208;&#176;&#208;&#189;&#208;&#189;&#208;&#181;&#209;\ufffd</code> and not <code>\u0433\u0430\u043d\u043d\u0435\u0440</code> for input), but that doesn&#39;t mean it&#39;s fine. Your very question proves that things aren&#39;t fine as they are; you simply got lucky with the example in your comment."}], "answers": [{"comments": [{"owner": {"reputation": 1070, "user_id": 5232529, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-Y79GfOk6GSg/AAAAAAAAAAI/AAAAAAAAAC4/d9Pnt9T4rcI/photo.jpg?sz=128", "display_name": "Artalus", "link": "https://stackoverflow.com/users/5232529/artalus"}, "edited": false, "score": 4, "creation_date": 1469029669, "post_id": 38482907, "comment_id": 64372263, "body": "Yes, it worked, thank you much! Just to clarify: does it mean that in my case each Unicode character was treated as two separate ones, so to speak, the <code>\u043d?</code> would become <code>\\0xD0\\0xBD?</code> with <code>?</code> applied only to the second byte?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1469021865, "creation_date": 1469021865, "answer_id": 38482907, "question_id": 38480175, "link": "https://stackoverflow.com/questions/38480175/perl-regex-wont-work-without-parentheses/38482907#38482907", "title": "Perl: regex won&#39;t work without parentheses", "body": "<p></p>\n\n<p>You need to add <code>use utf8</code> at the top of your program to specify that your program code uses UTF-8-encoded characters</p>\n\n<p>You will also need to set STDOUT to handle UTF-8 encoding, otherwise you will get <code>Wide character in print</code> warnings</p>\n\n<p>Here's an edited version of your program that works correctly and provides the behaviour that you expected</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse utf8;\nuse strict;\nuse warnings 'all';\n\nuse open qw/ :std :encoding(UTF-8) /;\n\nmy $GUN = 'gunner';\nmy $HZ  = '!!!';\n\nsub GetNickFromMsg {\n    my ($msg) = @_;\n\n    if ( $msg =~ /(gunn?er|gunn?|\u0433\u0430\u043d\u043d?\u0435\u0440\u0443?|\u0433\u0430\u043d\u043d?\u0443?)/i ) {\n        return $GUN;\n    }\n\n    return $HZ;\n}\n\nmy @nicks = qw/ Gunner guner \u0433\u0430\u043d\u043d\u0435\u0440 \u0433\u0430\u043d\u0435\u0440\u0443 \u0433\u0430\u043d\u0443 /;\n\nforeach my $n (@nicks) {\n    my $res = GetNickFromMsg($n);\n    print \"$n -&gt; $res\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Gunner -&gt; gunner\nguner -&gt; gunner\n\u0433\u0430\u043d\u043d\u0435\u0440 -&gt; gunner\n\u0433\u0430\u043d\u0435\u0440\u0443 -&gt; gunner\n\u0433\u0430\u043d\u0443 -&gt; gunner\n</code></pre>\n"}], "owner": {"reputation": 1070, "user_id": 5232529, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-Y79GfOk6GSg/AAAAAAAAAAI/AAAAAAAAAC4/d9Pnt9T4rcI/photo.jpg?sz=128", "display_name": "Artalus", "link": "https://stackoverflow.com/users/5232529/artalus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 38482907, "answer_count": 1, "score": 1, "last_activity_date": 1469021865, "creation_date": 1469014459, "last_edit_date": 1469018550, "question_id": 38480175, "link": "https://stackoverflow.com/questions/38480175/perl-regex-wont-work-without-parentheses", "title": "Perl: regex won&#39;t work without parentheses", "body": "<p>I am writing a simple script in Perl to check string for different wordforms (in english and russian) of a nickname. I would use the next regex: <code>/(gunn?er|gunn?|\u0433\u0430\u043d\u043d?\u0435\u0440\u0443?|\u0433\u0430\u043d\u043d?\u0443?)/i</code> - which is valid, according to <a href=\"https://www.regex101.com/r/yC3yB2/2\" rel=\"nofollow\">regex101.com test</a> and Notepad++. However, on my computer in Perl this regex doesn't work unless I put additional parentheses to <code>?</code> and <code>|</code>: <code>/((gun(n)?er)|(gun(n)?)|(\u0433\u0430\u043d(\u043d)?\u0435\u0440(\u0443)?)|(\u0433\u0430\u043d(\u043d)?(\u0443)?)/i</code>. My friend, whom I've asked of this, couldn't reproduce this behavior. Is it some kind of setting of script or Perl interpreter itself that I should change?</p>\n\n<p><strong>Edit:</strong> As requested, the code of my tests:</p>\n\n<pre><code>#!/usr/bin/perl\nmy $GUN = \"gunner\";\nmy $HZ = \"!!!\";\n\nsub GetNickFromMsg\n{\n    my ($msg) = @_;\n    if ( $msg =~ /(gunn?er|gunn?|\u0433\u0430\u043d\u043d?\u0435\u0440\u0443?|\u0433\u0430\u043d\u043d?\u0443?)/i )\n    {\n        return $GUN\n    }\n    return $HZ;\n}\n\nmy @nicks = (\"Gunner\", \"guner\", \"\u0433\u0430\u043d\u043d\u0435\u0440\", \"\u0433\u0430\u043d\u0435\u0440\u0443\", \"\u0433\u0430\u043d\u0443\");\nforeach $n (@nicks)\n{\n    my $res = GetNickFromMsg($n);\n    print \"$n -&gt; $res\\n\");\n}\n</code></pre>\n\n<p>The output I get:</p>\n\n<pre><code>Gunner -&gt; !!!\nguner -&gt; !!!\n\u0433\u0430\u043d\u043d\u0435\u0440 -&gt; !!!\n\u0433\u0430\u043d\u0435\u0440\u0443 -&gt; !!!\n\u0433\u0430\u043d\u0443 -&gt; !!!\n</code></pre>\n\n<p>If I change the regex to the second version, with parentheses everywhere, the output for every wordform is \"-> gunner\" as it should be. I've tried to add <code>use feature 'unicode_strings'</code> to the beginning of the script and use <code>ui</code> instead of <code>i</code> modifier as Casimir supposed, but it didn't help.</p>\n\n<p>I launch the script on Linux server, <code>Linux version 4.3.0-1-amd64 (debian-kernel@lists.debian.org) (gcc version 5.3.1 20160101 (Debian 5.3.1-5) ) #1 SMP Debian 4.3.3-5 (2016-01-04)</code> with Perl version 5.22.1</p>\n"}, {"tags": ["perl", "encryption", "sybase", "dbi", "nagios"], "owner": {"reputation": 75, "user_id": 6381990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c699ea3c27f33c6c1b88a48a3cd2f7b4?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Blanco", "link": "https://stackoverflow.com/users/6381990/adrian-blanco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 952, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1469008008, "creation_date": 1469008008, "question_id": 38477797, "link": "https://stackoverflow.com/questions/38477797/encrypt-password-to-connect-sybase-from-perl-script", "title": "Encrypt password to connect Sybase from Perl script", "body": "<p>I'm using the \"check_sybase\" script from Nagios repository to monitorize a Sybase DB. \nThe problem comes when that Sybase requires to encrypt the password on the network.\nI'm using DBD::Sybase as driver to connect with DBI to Sybase. I've checked the documentation of this module and specifies that <strong>\"encryptPassword=1\"</strong> on the connection string would be enough. But it does not work. Here my connection string: </p>\n\n<pre><code>$dbh = DBI-&gt;connect(\"dbi:Sybase:encryptPassword=1;server=$dbsvr;database=$dbname;\".\n               \"charset=$charset;timeout=$timeout;\".\n           \"loginTimeout=$timeout\", $user, $pass)\n    or &amp;ncrit(\"Could not connect to '$dbname' on '$dbsvr'\");\n</code></pre>\n\n<p>And the error message: <strong>Adaptive Server requires encryption of the login password on the network.</strong></p>\n\n<pre><code>DBI connect('encryptPassword=1;server=XX;database=XX;charset=iso_1;timeout=15;loginTimeout=15','XX',...) failed: Server message number=1640 severity=16 state=2 line=0 server=XX text= **Adaptive Server requires encryption of the login password on the network.** Server message number=4002 severity=14 state=1 line=0 server=XX text=Login failed. OpenClient message: LAYER = (0) ORIGIN = (0) SEVERITY = (78) NUMBER = (34)Server XX, database Message String: Adaptive Server connection failed\n</code></pre>\n\n<p>No idea on how to solve this. \nMoreover, when I connect via isql with the command \"-X\" works fine.\nPd: I can only connect to those DB which don't require password encryption. I know that this attribute can be modified. </p>\n"}, {"tags": ["html", "perl", "firefox"], "comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1469009451, "post_id": 38477575, "comment_id": 64359016, "body": "what do you mean by <b>current directory</b> ??"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6572950"}, "reply_to_user": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1469009538, "post_id": 38477575, "comment_id": 64359066, "body": "Tool and html file existing folder"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1469009850, "post_id": 38477575, "comment_id": 64359290, "body": "I did not get your point. how its getting the directory things  and there are no script related to the current directory."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6572950"}, "reply_to_user": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1469010102, "post_id": 38477575, "comment_id": 64359470, "body": "<code>getcwd()</code> this is fetching current directory. If I am not using in the code for internet explorer it seems <b>&quot;.&quot;</b>. However in the firefox I am not using the <code>getcwd()</code> but the firefox fetching the file in same directory wherever the files available with tools."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469010435, "post_id": 38477575, "comment_id": 64359685, "body": "@Mahe_sundar: Where are you looking to see the <code>.</code>? Do you mean the Perl script doesn&#39;t exist or the log file (HTML file) doesn&#39;t exist? Is &quot;the tool&quot; the Perl script that you show? Please describe everything you do and explain what you see and where you see it as a result."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6572950"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469013163, "post_id": 38477575, "comment_id": 64361416, "body": "@Borodin: Please check image for more clarification"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1469018229, "post_id": 38477575, "comment_id": 64364997, "body": "@Mahe_sundar: your code is working perfectly for me in both browsers. Are you manually able to open your html file with IE?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6572950"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1469021961, "post_id": 38477575, "comment_id": 64367998, "body": "@serenesat: In my machine I am creating a sample folder copying with <b>sample.html</b> and <b>a.pl</b> and running the script. <code>system(&quot;call \\&quot;c:\\\\Program Files\\\\Internet Explorer\\\\iexplore.exe\\&quot; $logfile&quot;);</code> the mentioned line doesn&#39;t open the html file. However <code>system(&quot;call \\&quot;c:\\\\Program Files\\\\Internet Explorer\\\\iexplore.exe\\&quot; &quot;.getcwd().&quot;&#47;$logfile&quot;);</code> this line can open the html file. This is my question and once if you have opened the html in IE the MS-Dos prompt doesn&#39;t allow to exit the perl script [If IE closed then only script ends]. The firefox application is totally different."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1469022687, "post_id": 38477575, "comment_id": 64368611, "body": "You are more clear in your comment than question."}], "owner": {"user_type": "does_not_exist", "display_name": "user6572950"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1469013128, "creation_date": 1469007334, "last_edit_date": 1469013128, "question_id": 38477575, "link": "https://stackoverflow.com/questions/38477575/perl-script-exists-when-using-firefox-but-not-from-internet-explorer", "title": "Perl script exists when using Firefox but not from Internet Explorer", "body": "<p>Perl Script:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Cwd;\n\nmy $logfile = \"sample.html\";\nsystem(\"call \\\"c:\\\\Program Files\\\\Internet Explorer\\\\iexplore.exe\\\" \".getcwd().\"/$logfile\");\nsystem(\"call \\\"c:\\\\Program Files\\\\Mozilla Firefox\\\\firefox.exe\\\" $logfile\");\n</code></pre>\n\n<p>Sample HTML file:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;body&gt;\n    &lt;p&gt;This is testing.&lt;/p&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<ol>\n<li><p>When I tried to open the HTML file in Internet Explorer the tool does not exist (once you have to be closed the IE). The same script if I am using Firefox to open the HTML file the tool will exist (before closing Firefox).</p></li>\n<li><p>When using Firefox the current directory will automatically be updated. However, in Internet Explorer the current directory shows <code>.</code> instead.</p></li>\n</ol>\n\n<p><a href=\"http://i.stack.imgur.com/MNyAB.jpg\" rel=\"nofollow\"><code>system(\"call \\\"c:\\\\Program Files\\\\Internet Explorer\\\\iexplore.exe\\\" $logfile\");</code></a></p>\n\n<p><a href=\"http://i.stack.imgur.com/R7ayC.jpg\" rel=\"nofollow\"><code>system(\"call \\\"c:\\\\Program Files\\\\Internet Explorer\\\\iexplore.exe\\\" \".getcwd().\"/$logfile\");</code></a></p>\n\n<p>Could anyone clarify my queries?</p>\n"}, {"tags": ["perl", "collectd"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469018131, "post_id": 38476846, "comment_id": 64364922, "body": "Have you tried it? Did it work?"}, {"owner": {"reputation": 1, "user_id": 4218531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aace60bbf9d3287bb681c741ba22ae92?s=128&d=identicon&r=PG&f=1", "display_name": "kabi", "link": "https://stackoverflow.com/users/4218531/kabi"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469095622, "post_id": 38476846, "comment_id": 64401653, "body": "example that i show here puts everything in one directory. I&#39;d like to know if someone has example with subdirectories."}], "answers": [{"tags": [], "owner": {"reputation": 420, "user_id": 2122722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0926ba8ca70021cee5b2743c17d7da2c?s=128&d=identicon&r=PG", "display_name": "faxmodem", "link": "https://stackoverflow.com/users/2122722/faxmodem"}, "is_accepted": false, "score": 0, "last_activity_date": 1469431599, "creation_date": 1469431599, "answer_id": 38561911, "question_id": 38476846, "link": "https://stackoverflow.com/questions/38476846/collectd-perl-plugin-data-in-subdirs/38561911#38561911", "title": "collectd perl plugin data in subdirs", "body": "<p>In collectd there is no such thing as \"sending data to directories\". Collectd simply collects numbers and assigns them a unique identifier built using 5 components:</p>\n\n<ul>\n<li>host</li>\n<li>plugin</li>\n<li>plugin-instance</li>\n<li>type</li>\n<li>type-instance</li>\n</ul>\n\n<p>There is even a 6th component which is the data-source.</p>\n\n<p>What you seem to be referring to is the write plugin <code>write_graphite</code>, which will take those identifiers and metrics, and use them to create directories where the data points will be stored.</p>\n\n<p>Collectd is limited to those five levels I showed, so you'll have to do the magic on graphite's side.</p>\n"}], "owner": {"reputation": 1, "user_id": 4218531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aace60bbf9d3287bb681c741ba22ae92?s=128&d=identicon&r=PG&f=1", "display_name": "kabi", "link": "https://stackoverflow.com/users/4218531/kabi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469431599, "creation_date": 1469005436, "question_id": 38476846, "link": "https://stackoverflow.com/questions/38476846/collectd-perl-plugin-data-in-subdirs", "title": "collectd perl plugin data in subdirs", "body": "<p>Im writing custom collecd plugin in perl.\nLets say it for network monitoring \"netmonit\".\nSo I'm sending data like that :</p>\n\n<pre><code>server-group.server.netmonit.net1_counter1\nserver-group.server.netmonit.net1_counter2\nserver-group.server.netmonit.net2_counter1\nserver-group.server.netmonit.net2_counter2\n</code></pre>\n\n<p>My question is if i can send data to subdirs :</p>\n\n<pre><code>server-group.server.netmonit.net1.counter1\nserver-group.server.netmonit.net1.counter2\nserver-group.server.netmonit.net2.counter1\nserver-group.server.netmonit.net2.counter2\n\nuse Collectd qw( :all )\n...\n...\nsub read_data_netmonit {\n    my $va = { type =&gt; 'absolute', plugin =&gt; netmonit };\n    my $data = get_data();\n    for my $metric (@metrics) {\n        $va-&gt;{'values'}        = [ $data-&gt;{$metric} ];\n        $va-&gt;{'type_instance'} = \"$metric\";\n        plugin_dispatch_values($va);\n    }\n    return 1;\n}\n</code></pre>\n"}, {"tags": ["mysql", "perl", "dbd"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1469004297, "post_id": 38476186, "comment_id": 64355475, "body": "From <a href=\"http://p3rl.org/DBI\" rel=\"nofollow noreferrer\">DBI</a>: For SELECT statements, execute simply &quot;starts&quot; the query within the database engine. Use one of the fetch methods to retrieve the data after calling execute. The execute method does not return the number of rows that will be returned by the query (because most databases can&#39;t tell in advance), it simply returns a true value."}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 1, "creation_date": 1469004523, "post_id": 38476186, "comment_id": 64355604, "body": "<code>$sth-&gt;execute($type); $numRows = $sth-&gt;rows; if ($numRows) { print &quot;Success!&quot;;}</code> This should work."}], "answers": [{"tags": [], "owner": {"reputation": 44, "user_id": 6606934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95dcfc71cb1ac0a9d8962b69c4397bcb?s=128&d=identicon&r=PG&f=1", "display_name": "laojianke", "link": "https://stackoverflow.com/users/6606934/laojianke"}, "is_accepted": true, "score": 0, "last_activity_date": 1469022570, "creation_date": 1469022570, "answer_id": 38483180, "question_id": 38476186, "link": "https://stackoverflow.com/questions/38476186/convert-numrows-for-use-with-dbdmysql-in-perl/38483180#38483180", "title": "Convert -&gt;numrows for use with DBD::mysql in Perl", "body": "<p>I think you should use it as below</p>\n\n<pre><code>if ($sth-&gt;rows)\n</code></pre>\n"}], "owner": {"reputation": 3739, "user_id": 405763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/6b82901f73413a8061f2d0784d7726b8?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/405763/joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 38483180, "answer_count": 1, "score": 1, "last_activity_date": 1469022570, "creation_date": 1469003472, "question_id": 38476186, "link": "https://stackoverflow.com/questions/38476186/convert-numrows-for-use-with-dbdmysql-in-perl", "title": "Convert -&gt;numrows for use with DBD::mysql in Perl", "body": "<p>I have some old code that uses the old <code>Mysql</code> library in Perl.</p>\n\n<p>Most of the time updating the code to use <code>DBD::mysql</code> instead works with no problems however I have run into an issue where <code>-&gt;numrows</code> does not work.</p>\n\n<p>What should I do to get the same functionality whilst using <code>DBD::mysql</code></p>\n\n<p><strong>use Mysql</strong></p>\n\n<pre><code>use Mysql;\n\n$type = \"yellow\";\n\n$statement = \"select name from customer where type = '$type'\";\n\n$sth = $dbh-&gt;query($statement);\n\nif ($sth-&gt;numrows) {\n  print \"Success!\"; # This does work.\n}\n</code></pre>\n\n<p><strong>use DBD::mysql</strong></p>\n\n<pre><code>use DBI;\nuse DBD::mysql;\n\n$type = \"yellow\";\n\n$statement = \"select name from customer where type = ?\";\n\n$sth = $dbh-&gt;prepare($statement);\n$sth-&gt;execute($type);\n\nif ($sth-&gt;numrows) {\n  print \"Success!\"; # This doesn't work.\n}\n</code></pre>\n\n<p>This is the error I get back:</p>\n\n<p><strong>tail /var/log/apache2/error.log</strong></p>\n\n<pre><code> Can't locate object method \"numrows\" via package \"DBI::st\"\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 1, "creation_date": 1469000005, "post_id": 38475009, "comment_id": 64352876, "body": "You would have to save them seperately, like in another array or something. The point of a hash is to not have the order of keys be important..."}, {"owner": {"reputation": 2347, "user_id": 6039980, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b0b2c9fe841b1965d6bdcdd50c300c63?s=128&d=identicon&r=PG&f=1", "display_name": "user6039980", "link": "https://stackoverflow.com/users/6039980/user6039980"}, "reply_to_user": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1469000152, "post_id": 38475009, "comment_id": 64352965, "body": "@AntonH So, is there any way to use an array instead of hash for the json: so that I can save the order?"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1469000364, "post_id": 38475009, "comment_id": 64353099, "body": "Then don&#39;t use a hash to store your parsed data, store it inside an array instead. Or better yet, use a JSON module for parsing and don&#39;t try to reinvent the wheel."}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1469000403, "post_id": 38475009, "comment_id": 64353122, "body": "@user6039980 Depends on how you read the JSON. If you do it &quot;manually&quot;, you would have to do it yourself at some point. If it&#39;s an automatic library, then you may have to play around with it to get the keys in order. You may also have to consider if conserving the order is important enough to spend time working on it, or if you can work around it."}], "answers": [{"comments": [{"owner": {"reputation": 2347, "user_id": 6039980, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b0b2c9fe841b1965d6bdcdd50c300c63?s=128&d=identicon&r=PG&f=1", "display_name": "user6039980", "link": "https://stackoverflow.com/users/6039980/user6039980"}, "edited": false, "score": 0, "creation_date": 1469002395, "post_id": 38475629, "comment_id": 64354352, "body": "Thank you. But in my case the json needs to be retrieved from a file, not manually: so I need a method working with &#39;decode_json&#39;."}, {"owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "reply_to_user": {"reputation": 2347, "user_id": 6039980, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b0b2c9fe841b1965d6bdcdd50c300c63?s=128&d=identicon&r=PG&f=1", "display_name": "user6039980", "link": "https://stackoverflow.com/users/6039980/user6039980"}, "edited": false, "score": 4, "creation_date": 1469003192, "post_id": 38475629, "comment_id": 64354823, "body": "Just write your own decode_json, which wraps the original but does the extra bit of converting to a list.  I suspect you shouldn&#39;t be doing what your trying to do.  There is no requirement for JSON to be ordered."}, {"owner": {"reputation": 2347, "user_id": 6039980, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b0b2c9fe841b1965d6bdcdd50c300c63?s=128&d=identicon&r=PG&f=1", "display_name": "user6039980", "link": "https://stackoverflow.com/users/6039980/user6039980"}, "edited": false, "score": 0, "creation_date": 1469004564, "post_id": 38475629, "comment_id": 64355633, "body": "I needed ordering just for testing. But it&#39;s ok now. I will ignore the order. Thanks, that&#39;s helpful."}], "tags": [], "owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "is_accepted": true, "score": -1, "last_activity_date": 1469001707, "creation_date": 1469001707, "answer_id": 38475629, "question_id": 38475009, "link": "https://stackoverflow.com/questions/38475009/perl-how-to-save-keys-order-from-hash/38475629#38475629", "title": "Perl: How to save keys order from hash?", "body": "<p>You could create a list (which would be ordered) and in each list element put another list with 2 fields (key and value).  That is effectively an ordered hash.</p>\n\n<pre><code>#!/usr/bin/perl\n\n%json = qw(key1 value1 key2 value2 key3 value3);\nmy $result = \"keys =&gt; { \\n\";\nfor my $key (keys %json) {\n  $result .= \"$key\\n\";\n}\n$result .= \" }\\n\\n\";\n\nprint $result;\n\nmy $json=[];\nfor my $key (sort keys %json) {\n    my @list = ();\n    push(@list,$key);\n    push(@list,$json{$key});\n    push(@$json,\\@list);\n}\n\nfor (@$json) {\n    print $_-&gt;[0], \" \", $_-&gt;[1], \"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1469036095, "creation_date": 1469036095, "answer_id": 38487171, "question_id": 38475009, "link": "https://stackoverflow.com/questions/38475009/perl-how-to-save-keys-order-from-hash/38487171#38487171", "title": "Perl: How to save keys order from hash?", "body": "<p>A Hash by definition has no order. This is true of Perl hashes and JSON structures. In Perl, the order of the keys in the hash may not be the same as the way they were added to the hash. Two JSON structures can be equivalent to each other, but not the same.</p>\n\n<p>If you need the keys in a specific order, use <code>sort</code> to sort the keys in the order you want when you examine them.</p>\n"}], "owner": {"reputation": 2347, "user_id": 6039980, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b0b2c9fe841b1965d6bdcdd50c300c63?s=128&d=identicon&r=PG&f=1", "display_name": "user6039980", "link": "https://stackoverflow.com/users/6039980/user6039980"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 1, "accepted_answer_id": 38475629, "answer_count": 2, "score": 0, "last_activity_date": 1469036095, "creation_date": 1468999905, "last_edit_date": 1469005291, "question_id": 38475009, "link": "https://stackoverflow.com/questions/38475009/perl-how-to-save-keys-order-from-hash", "title": "Perl: How to save keys order from hash?", "body": "<p>I'm trying to display the keys from json hash</p>\n\n<p>After execution, I got all the keys displayed but with different order. I got stuck at that point.</p>\n\n<p>Is there any possibility to save the keys order?</p>\n\n<p>Your help will be much appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1469002669, "post_id": 38473210, "comment_id": 64354522, "body": "Which part of the documentation are you referring to?"}], "answers": [{"tags": [], "owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "is_accepted": false, "score": 1, "last_activity_date": 1469006210, "last_edit_date": 1469006210, "creation_date": 1469004666, "answer_id": 38476591, "question_id": 38473210, "link": "https://stackoverflow.com/questions/38473210/perl-successful-alternation-match/38476591#38476591", "title": "Perl successful alternation match", "body": "<p>Use the <code>(?|...)</code> construct.</p>\n\n<p>Capture groups have continuous numbering spanning even across alternation and the <code>(?|...)</code> construct has been introduced to address this. See <a href=\"http://perldoc.perl.org/perlretut.html#Alternative-capture-group-numbering\" rel=\"nofollow\">http://perldoc.perl.org/perlretut.html#Alternative-capture-group-numbering</a> for details.</p>\n\n<p>So with this minor but significant change your code may look like this: <a href=\"https://ideone.com/ux3Ndz\" rel=\"nofollow\">https://ideone.com/ux3Ndz</a>.</p>\n\n<p>There is another way around this problem in your particular case. Instead of using alternation (i.e. <code>$date[ T]$time|$date</code>) you may make the date part optional (<code>$date(?:[ T]$time)?</code>) thus eliminating the alternation group numbering issue. <a href=\"https://ideone.com/gcPL7G\" rel=\"nofollow\">Here</a>'s an example. I also changed Posix classes to Perl ones and removed unnecessary char class brackets (<code>[...]</code>) to make the code more concise.</p>\n"}, {"comments": [{"owner": {"reputation": 1215, "user_id": 838253, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uLH3f.gif?s=128&g=1", "display_name": "Milliways", "link": "https://stackoverflow.com/users/838253/milliways"}, "edited": false, "score": 0, "creation_date": 1469060319, "post_id": 38478987, "comment_id": 64386885, "body": "This has helped my understanding of Perl regex and for the moment I am using optional time, but will explore further. Everyone wants to change my <code>ISO 8601</code>.  <code>[-]</code> and <code>[:]</code> are optional in basic format (I don&#39;t have a copy of <code>ISO 8601</code> since retiring). It was never my intention to strictly follow <code>ISO 8601</code> but the &quot;style&quot; and work with the common variants including <code>[_]</code> and <code>[.]</code> and missing time separator."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1215, "user_id": 838253, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uLH3f.gif?s=128&g=1", "display_name": "Milliways", "link": "https://stackoverflow.com/users/838253/milliways"}, "edited": false, "score": 0, "creation_date": 1469094943, "post_id": 38478987, "comment_id": 64401207, "body": "@Milliways: <a href=\"http://www.uai.cl/images/sitio/biblioteca/citas/ISO_8601_2004en.pdf\" rel=\"nofollow noreferrer\">ISO 8601</a>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1469011176, "creation_date": 1469011176, "answer_id": 38478987, "question_id": 38473210, "link": "https://stackoverflow.com/questions/38473210/perl-successful-alternation-match/38478987#38478987", "title": "Perl successful alternation match", "body": "<p>Your final pattern</p>\n\n<pre><code>qr/(?:$regexdate[ T]?$regextime)|$regexdate/\n</code></pre>\n\n<p>has nine captures: three in <code>$regexdate</code>, three in <code>$regextime</code> and three more in the second copy of <code>$regexdate</code></p>\n\n<p>While you <em>could</em> use the \"branch reset\" construct, like this</p>\n\n<pre><code>qr/(?|$regexdate[ T]$regextime|$regexdate)/\n</code></pre>\n\n<p>it would make more sense to simply make the time field optional, like so</p>\n\n<pre><code>qr/$regexdate(?:[ T]$regextime)?/\n</code></pre>\n\n<p><strong><em>Note</em></strong> <em>that I have removed the quantifier from the space/T that separates the date from the time as it is non-optional in ISO8601. I also don't understand why you have made the date and time field separators <code>[-]</code> and <code>[:]</code> optional in the constituent regexes. That is also wrong for ISO8601.</em></p>\n"}], "owner": {"reputation": 1215, "user_id": 838253, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uLH3f.gif?s=128&g=1", "display_name": "Milliways", "link": "https://stackoverflow.com/users/838253/milliways"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 38478987, "answer_count": 2, "score": 1, "last_activity_date": 1469011176, "creation_date": 1468993792, "last_edit_date": 1469007415, "question_id": 38473210, "link": "https://stackoverflow.com/questions/38473210/perl-successful-alternation-match", "title": "Perl successful alternation match", "body": "<p>I was using Regex to match ISO8601 style date/time or date using the following:-</p>\n\n<pre><code>my $regexdate = qr/((?:19|20)[[:digit:]]{2})[-]?([[:digit:]]{2})[-]?([[:digit:]]{2})/;\nmy $regextime = qr/([[:digit:]]{2})[:]?([[:digit:]]{2})[:]?([[:digit:]]{2})/;\nmy $datime = qr/(?:$regexdate[ T]?$regextime)|$regexdate/;\n</code></pre>\n\n<p>I though it would be easier if I used the result of the match in list context so tried:-</p>\n\n<pre><code>my @result =  ($file =~ m/$datime/p);\n</code></pre>\n\n<p>When I tried to print I got a number of <code>uninitialized value</code> warnings, indicating that the list contained 9 elements rather than the 6 or 3 I was expecting.</p>\n\n<pre><code>print \"$file\\t=&gt; ${^MATCH}\\t@result\\n\";\n</code></pre>\n\n<p>I was expecting only the successful alternation match to return values, by my reading of the documentation is obviously not what <code>Perl</code> actually does.</p>\n\n<p>Is there any simple way of returning the successful alternation, or do I need to try another approach.</p>\n"}, {"tags": ["bash", "perl", "ssh"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1468985559, "post_id": 38471408, "comment_id": 64347124, "body": "That doesn&#39;t look like an error."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1469000007, "post_id": 38471408, "comment_id": 64352878, "body": "Have you tried to execute your command in a normal shell script? I don&#39;t think its a perl problem rather than a ssh problem."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1469038580, "post_id": 38475182, "comment_id": 64377687, "body": "@user3669481  I&#39;ve considerably expanded the answer, adding two more workarounds.  I still recommend fork+exec."}, {"owner": {"reputation": 317, "user_id": 3669481, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d9adebf1ae15a62eb902c870de6e5832?s=128&d=identicon&r=PG&f=1", "display_name": "user3669481", "link": "https://stackoverflow.com/users/3669481/user3669481"}, "edited": false, "score": 0, "creation_date": 1469150179, "post_id": 38475182, "comment_id": 64429907, "body": "Just tried fork and exec but still got the same error (did not drop &amp;, if I drop it, one widget on my interface can&#39;t be opened up)..tried again with -tt and -t -t, giving me the error &quot;tcgetattr inappropriate ioctl for device&quot; and the connection closed before starting up the intended program"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 317, "user_id": 3669481, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d9adebf1ae15a62eb902c870de6e5832?s=128&d=identicon&r=PG&f=1", "display_name": "user3669481", "link": "https://stackoverflow.com/users/3669481/user3669481"}, "edited": false, "score": 0, "creation_date": 1469159406, "post_id": 38475182, "comment_id": 64431805, "body": "@user3669481 Right, it&#39;s the <code>&amp;</code> that is troubling. The point of fork+exec is that you then don&#39;t need it -- the script fires off <code>ssh ...</code> and continues, it doesn&#39;t block.  Apparently, the problem is with that &quot;<i>command</i>&quot;, and /or with the interface you mention. Why does that specifically need the <code>&amp;</code>?  Can you edit your question to explain what you are doing, is that feasible? If not, perhaps another question is suitable.  As for running a command that logs <code>STDOUT</code> and <code>STDERR</code> in a non-blocking way, you have the answer(s) here.  Finally, did you try <code>ssh</code> <i>without</i> <code>-t</code>, per first bullet?"}, {"owner": {"reputation": 317, "user_id": 3669481, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d9adebf1ae15a62eb902c870de6e5832?s=128&d=identicon&r=PG&f=1", "display_name": "user3669481", "link": "https://stackoverflow.com/users/3669481/user3669481"}, "edited": false, "score": 0, "creation_date": 1469195979, "post_id": 38475182, "comment_id": 64450725, "body": "I tried again with dropping <code>&amp;</code>, it happens to take a long time for the page to stop loading but the program does run. However the error being returned is still <code>Pseudo-terminal will not be allocated because stdin is not a terminal</code>. Dropping <code>-t</code> in <code>ssh</code> simply doesn&#39;t give me any errors. If I add <code>2 &gt;dir&#47;error.log</code> in the actually bash script file on my remote machine, the error can be properly captured."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 317, "user_id": 3669481, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d9adebf1ae15a62eb902c870de6e5832?s=128&d=identicon&r=PG&f=1", "display_name": "user3669481", "link": "https://stackoverflow.com/users/3669481/user3669481"}, "edited": false, "score": 0, "creation_date": 1469207199, "post_id": 38475182, "comment_id": 64457617, "body": "@user3669481 I don&#39;t know why the behavior would change (that it takes a long time) for fork+exec.  Perhaps something can/should be done differently with the rest of what is happening in your software.  The <code>system</code> is pretty much <code>fork</code>+<code>exec</code>+<code>wait</code>. By doing fork+exec manually you just drop the <code>wait</code> so that it doens&#39;t block. But it&#39;s good if it all works without <code>-t</code>, if I understood you right.  I don&#39;t know why your <code>command</code> gets affected so much by that <code>&amp;</code> (which you don&#39;t need otherwise when you do fork+exec)."}, {"owner": {"reputation": 317, "user_id": 3669481, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d9adebf1ae15a62eb902c870de6e5832?s=128&d=identicon&r=PG&f=1", "display_name": "user3669481", "link": "https://stackoverflow.com/users/3669481/user3669481"}, "edited": false, "score": 0, "creation_date": 1469228336, "post_id": 38475182, "comment_id": 64466282, "body": "sorry I meant dropping <code>-t</code> didn&#39;t capture any errors"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 317, "user_id": 3669481, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d9adebf1ae15a62eb902c870de6e5832?s=128&d=identicon&r=PG&f=1", "display_name": "user3669481", "link": "https://stackoverflow.com/users/3669481/user3669481"}, "edited": false, "score": 0, "creation_date": 1469229151, "post_id": 38475182, "comment_id": 64466501, "body": "@user3669481 Ah. Yeah, expected w/o <code>-t</code>, I think. A lot is going on the remote host.  The less you do with a remote job, the better. (1) Can you redirect error and output within the &quot;<i>command</i>&quot; itself -- is that your script? (Is that what you mean by &quot;<i>bash script</i>&quot; ?)  (2) I don&#39;t understand why the &quot;<i>command</i>&quot; itself needs that <code>&amp;</code> in particular. That seems to be entirely due to what your software is actually doing.  As for this script (in this question) to not block and wait for <code>ssh</code>, but instead to fire it off and continue, the fork+exec must work.  And <i>piped open</i> should, too."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1578039864, "last_edit_date": 1578039864, "creation_date": 1469000379, "answer_id": 38475182, "question_id": 38471408, "link": "https://stackoverflow.com/questions/38471408/directing-external-command-errors-to-a-file-via-ssh-in-perl/38475182#38475182", "title": "Directing external command errors to a file via ssh in perl", "body": "<p><strong>Short</strong> &nbsp; Use fork+exec (recommended), or use piped open, or drop <code>-t</code> pseudo-terminal</p>\n\n<hr>\n\n<p>There is a lot going on here.  You start <code>ssh</code>, which needs to deal with (pseudo-) terminal business, with streams being manipulated -- and for a backgrounded process. It's this last bit that makes it tricky. I get the same behavior as you do. </p>\n\n<p>Here are three solutions/workarounds which work for me. I recommend the first one.</p>\n\n<p>The point of the <code>&amp;</code> in the command is that your script gets the control back right away. We can nicely achieve that right in the script. That is far cleaner, and does not depend on system details. So drop <code>&amp;</code> and put the (ssh) process in the background yourself.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $cmd = 'ssh -t machine command  &gt;stdout.log 2&gt;error.log';\n\nmy $pid = fork // die \"Can't fork: $!\";\n\nif ($pid == 0) {  # child\n    exec($cmd);\n    die \"exec shouldn't have returned: $! \";\n}\n# Parent. Child became $cmd, which went its own way, never to return.\n# Rest of your code, executed right away ...\n</code></pre>\n\n<p>The <code>error.log</code> will likely contain the line <code>Connection to machine closed.</code> (it does for me). A basic explanation of fork+exec is at the end, if needed.</p>\n\n<hr>\n\n<p>The following are workarounds which may have problems and may not work everywhere, but they achieve what is needed in my tests.</p>\n\n<ul>\n<li><p>If <code>command</code> doesn't need the controlling tty drop <code>-t</code>. The redirection and <code>&amp;</code> still work for me.</p></li>\n<li><p>Trick the <code>STDIN</code> problem by starting the (ssh) process using <em>piped open</em>  </p>\n\n<pre><code>my $cmd = 'ssh -t machine command &gt;stdout.log 2&gt;error.log &amp;';\nmy $pid = open my $fh, '|-', $cmd // die \"Can't fork: $!;\n# your other code ...\nclose $fh;\n</code></pre>\n\n<p>This 'opens' (forks) a process that executes <code>$cmd</code> so that <code>$fh</code> is its <code>STDIN</code>, and our script can feed it input if needed. So we provide the <code>STDIN</code> and ssh's pseudo-terminal has no problem with it. If the command doesn't need input you can ignore that and the rest works as needed. </p>\n\n<p>This is a very clean way to fork another process and pipe to/from its <code>STDIN</code> or <code>STDOUT</code>, see tutorial <a href=\"http://perldoc.perl.org/perlopentut.html\" rel=\"nofollow noreferrer\">perlopentut</a>, reference <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">open</a>, and for more detail <a href=\"http://perldoc.perl.org/perlipc.html#Safe-Pipe-Opens\" rel=\"nofollow noreferrer\">Safe Pipe Opens in perlipc</a>. However, in this case I'd rather go with fork+exec above.</p></li>\n</ul>\n\n<hr>\n\n<p><em>A basic note on <code>fork</code>-ing in this case</em></p>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/fork.html\" rel=\"nofollow noreferrer\">fork</a> creates a new process and returns its ID to the parent, and 0 to the child.  (It's about the only call that returns twice.) This new process is a clone of the parent, except that for that process the <code>$pid</code> is zero, while for the parent it's a (large) integer. (There are some other far smaller differences.) </p>\n\n<p>So the child does enter the next <code>if ($pid == 0) { }</code> block while the parent does not.  This way we get to separate child and parent, so each can run the code dedicated to them.  We get parallel execution (in principle, and also mostly in practice).</p>\n\n<p>Inside the <code>if</code> block, the child process is replaced altogether by the program executed by <a href=\"http://perldoc.perl.org/functions/exec.html\" rel=\"nofollow noreferrer\">exec</a>, in this case by your <code>ssh</code> command. The <code>exec</code> simply never returns (unless the call itself fails). The parent continues to run after the <code>if</code>, executing normally any code that is there without blocking. </p>\n\n<p>This way we spin off another program, while your program can continue with its business without waiting for the other to finish.</p>\n"}], "owner": {"reputation": 317, "user_id": 3669481, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d9adebf1ae15a62eb902c870de6e5832?s=128&d=identicon&r=PG&f=1", "display_name": "user3669481", "link": "https://stackoverflow.com/users/3669481/user3669481"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1578039864, "creation_date": 1468982258, "last_edit_date": 1469156579, "question_id": 38471408, "link": "https://stackoverflow.com/questions/38471408/directing-external-command-errors-to-a-file-via-ssh-in-perl", "title": "Directing external command errors to a file via ssh in perl", "body": "<p>This actually works for me for a moment but all of a sudden it stops working. Stuck here for an hour now but still don't know why.</p>\n\n<p>I have </p>\n\n<pre><code> system(\"ssh -t machine command &gt; stdout.log 2&gt; error.log &amp;\")\n</code></pre>\n\n<p>Always getting an error saying <code>Pseudo-terminal will not be allocated because stdin is not a terminal</code></p>\n\n<p>===UPDATE===</p>\n\n<p>I have tried <code>-T</code> (this simply does not return me any errors) and <code>-t -t</code> instead of <code>-t</code> and does not direct error in error.log either</p>\n\n<p>===MORE UPDATE===</p>\n\n<p><code>-t -t</code> and <code>-tt</code> gives me the error \"tcgetattr: Inappropriate ioctl for device serverCmd = 'ssh -x -n machine', and my intended program does not start at all.\nDropping <code>&amp;</code> or using <code>qx</code> will give me the same error <code>Pseudo-terminal will not be allocated because stdin is not a terminal</code> as long as I have <code>-t</code></p>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1468958184, "post_id": 38467268, "comment_id": 64338768, "body": "<code>perl MDL_unzip_annotate.sh &#47;data&#47;test_all_runs pVCF $date</code> is wildly dangerous -- concatenating your command into a string means you&#39;re calling <code>system()</code>, which runs <code>sh -c</code> with that string as an argument, which means you&#39;re vulnerable to shell injection attacks. Don&#39;t do that."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1468958296, "post_id": 38467268, "comment_id": 64338826, "body": "I&#39;m a novice... please suggest how to pass $date to Annotator.pl. Thanks"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1468958300, "post_id": 38467268, "comment_id": 64338832, "body": "Think about what happens if you populate your year from user input rather than the local time -- if the user runs the program with <code>1994$(rm -rf $HOME)</code> as the year, you don&#39;t want the system to actually invoke <code>rm</code>, but that&#39;s what&#39;ll happen if that string is passed to a shell -- and literal quoting is easy to work around."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1468958331, "post_id": 38467268, "comment_id": 64338849, "body": "Run your shell component through <a href=\"http://shellcheck.net/\" rel=\"nofollow noreferrer\">shellcheck.net</a>, and fix the bugs it identifies."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1468958374, "post_id": 38467268, "comment_id": 64338874, "body": "Also, see <a href=\"http://mywiki.wooledge.org/ParsingLs\" rel=\"nofollow noreferrer\">mywiki.wooledge.org/ParsingLs</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1468958411, "post_id": 38467268, "comment_id": 64338894, "body": "From what I can see you only pass one argument to <code>Annotator.pl</code>, the <code>$dname</code>.  So this is its <code>$ARGV[0]</code> and there is no <code>$ARGV[1]</code>.  The shell script should be receiving the <code>$date</code> in <code>$3</code> so you should be able to say <code>Annotator.pl $dname $3</code> (or rather first form a named variable out of <code>$3</code>)."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1468958502, "post_id": 38467268, "comment_id": 64338958, "body": "should I avoid using shell?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1468958614, "post_id": 38467268, "comment_id": 64339022, "body": "@user3781528  I don&#39;t see any one particular reason that you&#39;d need a shell script in the middle.  You can do everything that it does in your first Perl script. You would need to learn how to list and navigate directories but that isn&#39;t so hard."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1468958620, "post_id": 38467268, "comment_id": 64339025, "body": "If you aren&#39;t willing to learn to use shell safely, yes. It absolutely <i>can</i> be done safely, but there&#39;s a necessary skillset and understanding of the execution model. If you know perl, stick with perl."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468958901, "post_id": 38467268, "comment_id": 64339209, "body": "I think all of this should be written as a single Perl program. It doesn&#39;t make sense to split it into three and use a mixture of shell and Perl."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1468960790, "post_id": 38467268, "comment_id": 64340209, "body": "The reason I&#39;m using Shell is because I couldn&#39;t figure out how to define a path for unknown folder that is in a specific directory. So I use <code>my $tsv_directory = $home.&quot;test_all_runs&#47;&quot;.$ARGV[0];</code> and <code>my $tsv_files = $home.&quot;test_all_runs&#47;&quot;.$ARGV[0].&quot;&#47;tsv_files.txt&quot;;</code> This work well with shell. Is there a way to accomplish the same with just using  Perl? I prefer using Perl. thanks"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468961782, "post_id": 38467268, "comment_id": 64340760, "body": "@user3781528: I don&#39;t understand. That is Perl code."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1468962875, "post_id": 38467268, "comment_id": 64341309, "body": "I think I figured out a quick fix. See my answer below. Thanks for suggestions."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1468976070, "post_id": 38468563, "comment_id": 64345177, "body": "Great :)   Please note, <code>readdir</code> returns files without any path.  So to get workable lists you should prepend path as needed.  For example, <code>@filenames = map { &quot;$path&#47;$_&quot; } readdir $dir</code>. Or you can <code>chdir $dirname</code> and then work with bare names.  But then <i>do not</i> forget that your script&#39;s working directory is <code>$dirname</code>."}], "tags": [], "owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "is_accepted": false, "score": 1, "last_activity_date": 1468962510, "creation_date": 1468962510, "answer_id": 38468563, "question_id": 38467268, "link": "https://stackoverflow.com/questions/38467268/passing-variable-between-scripts/38468563#38468563", "title": "Passing variable between scripts", "body": "<p>Instead of using shell script I will use the following code to capture the name of the folder in a specific directory:</p>\n\n<pre><code>opendir my $dir, \"/data/test_all_runs\" or die \"Cannot open directory: $!\";\nmy @run_folder = readdir $dir;\nclosedir $dir;\nmy $last_one = pop @run_folder; print \"The folder is\".$last_one.\"\\n\";\n</code></pre>\n\n<p>Thanks for your suggestions.</p>\n"}], "owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468962510, "creation_date": 1468957697, "question_id": 38467268, "link": "https://stackoverflow.com/questions/38467268/passing-variable-between-scripts", "title": "Passing variable between scripts", "body": "<p>I've created a variable $date in Main.pl script that I would like to pass to Annotator.pl script. I use shell script to execute Annotator.pl.  I can't figure out how to pass $date to Annotator.pl. When I run <code>my $date = $ARGV[0];</code> in Annotator.pl I get the name of the current directory, however, <code>$date = $ARGV[1];</code> returns nothing.</p>\n\n<p>Please see the code below. The date is important because it has to be exact and I can't figure out how to pass it to Annotator.pl. Thanks for your help.</p>\n\n<p>Main.pl Script:</p>\n\n<pre><code>#!/usr/bin/perl -w\n    use strict;\n    use warnings;\n\n    my $sec; my $min; my $hour; my $mday; my $mon; my $year; my $wday; my $yday;    my $isdst;\n    ($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = localtime();\n    $mon=$mon+1; $year = 1900+$year;\n    if (length($mon)==1) {$mon=\"0\".$mon;}\n    if (length($mday)==1) {$mday=\"0\".$mday;}\n    if (length($hour)==1) {$hour=\"0\".$hour;}\n    if (length($min)==1) {$min=\"0\".$min;}\n    if (length($sec)==1) {$sec=\"0\".$sec;}\n\n    my $date = \"$mon\".\"_\".\"$mday\".\"_\".\"$year\".\"-\".$hour.$min.$sec;\n\n    my $cmd5 = `perl MDL_unzip_annotate.sh /data/test_all_runs pVCF $date`;   print \"$cmd5\";\n</code></pre>\n\n<p>Shell script: MDL_unzip_annotate.sh that executes Annotator.pl</p>\n\n<pre><code>home=\"/data/test_all_runs\" #location of the run directory from which the program is launched\n   scripts=\"/data/test_scripts\"  \n\n     datapath=$1 #this is called in Main.pl as [test_all_runs]\n     process=$2 #the process  \n\n    if [[ \"$process\" == \"pVCF\" ]];then\n            cd $datapath\n            folders=\"$(ls)\"\n            cd $scripts\n        for ff in $folders; do\n            dname=$ff\n                echo $dname\n                if [  ! -f $dname ];then\n\n                    cmd2=\"perl Annotator.pl $dname\"\n                    echo $cmd2\n\n                    cmd2=`perl Annotator.pl $dname`\n                    echo $cmd2\n                fi\n            done    \n    done          \n\n    fi\n</code></pre>\n\n<p>Annotator.pl script:</p>\n\n<pre><code>#!perl\n    use strict;\n    use warnings;\n\n    my $date = $ARGV[1]; print \"the date is######## \".$date.\"\\n\";\n</code></pre>\n"}, {"tags": ["perl", "awk"], "comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 1, "creation_date": 1468946970, "post_id": 38464185, "comment_id": 64332482, "body": "I would suggest you to to use hash to solve this kind of problem. that will be must faster."}, {"owner": {"reputation": 77, "user_id": 5078507, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2172ae769ae57aac6ac022d7c9b02298?s=128&d=identicon&r=PG&f=1", "display_name": "Greyson B", "link": "https://stackoverflow.com/users/5078507/greyson-b"}, "reply_to_user": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1468947134, "post_id": 38464185, "comment_id": 64332562, "body": "What do you mean by hash?"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 1, "creation_date": 1468947365, "post_id": 38464185, "comment_id": 64332676, "body": "A good document of hash you will find in this link. <a href=\"http://www.tutorialspoint.com/perl/perl_hashes.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/perl/perl_hashes.htm</a>"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 1, "creation_date": 1468948241, "post_id": 38464185, "comment_id": 64333150, "body": "If you still want to process your data in your way . First try to take your command in a variable (example my $cmd = &quot;awk ......&quot;). then print it.then try to run that command on the command line to check its working or not."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 8, "creation_date": 1468949281, "post_id": 38464185, "comment_id": 64333723, "body": "I think you should drop the awk altogether. This is trivial to write in Perl, and will be much simpler to maintain. It&#39;s a bad idea to switch to a different language just because you don&#39;t know how to implement something in the first language."}, {"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1468949431, "post_id": 38464185, "comment_id": 64333800, "body": "If you really, really want to mix AWK into your Perl, there&#39;s always <a href=\"http://search.cpan.org/~jmcnamara/Inline-Awk-0.04/Awk.pm\" rel=\"nofollow noreferrer\">this</a>."}], "answers": [{"comments": [{"owner": {"reputation": 312, "user_id": 6379160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3ERkm.png?s=128&g=1", "display_name": "\u041c\u043e\u043d\u0430_\u0421\u0430\u0445", "link": "https://stackoverflow.com/users/6379160/%d0%9c%d0%be%d0%bd%d0%b0-%d0%a1%d0%b0%d1%85"}, "edited": false, "score": 1, "creation_date": 1468993571, "post_id": 38472407, "comment_id": 64349286, "body": "This approach though short won&#39;t be anywhere near <code>perl</code> when it comes to speed."}], "tags": [], "owner": {"reputation": 19601, "user_id": 1620779, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/dlgGb.png?s=128&g=1", "display_name": "sjsam", "link": "https://stackoverflow.com/users/1620779/sjsam"}, "is_accepted": false, "score": 0, "last_activity_date": 1468991099, "last_edit_date": 1468991099, "creation_date": 1468989375, "answer_id": 38472407, "question_id": 38464185, "link": "https://stackoverflow.com/questions/38464185/coding-an-awk-command-inside-a-perl-script/38472407#38472407", "title": "Coding an awk command inside a perl script", "body": "<blockquote>\n  <p>While there are several different variations on input2, there is only\n  a single input1. I have a perl script with an embedded awk command\n  which is supposed to match names from input2 to input1 and print an\n  output file which contains the names from input2 and the respective\n  values from input1.</p>\n</blockquote>\n\n<p>I would suggest <code>find</code> + <code>a comparison function</code> to achieve your objective</p>\n\n<pre><code>matcher(){\nawk 'NR==FNR{input1record[$1]=$0;next}\n    $1 in input1record{print input1record[$1]}' /path/to/input1 \"$@\" &gt;&gt; /path/to/result\n}\nexport -f matcher\nfind /path/to/input2_files -type f -name \"input2\" \\\n     -exec bash -c 'matcher \"$@\"' _ {} +\n</code></pre>\n\n<p><strong>References</strong></p>\n\n<ol>\n<li><p>The <code>{} +</code> with find builds the command line and execute the subshell command , our function in this case, once for all. See <a href=\"http://man7.org/linux/man-pages/man1/find.1.html\" rel=\"nofollow\">[ find ]</a> manpage.</p></li>\n<li><p>Note the I have used <code>&gt;&gt;</code> to append the output of subsequent runs to the output file. If this is not desired use <code>&gt;</code>.</p></li>\n<li><p>The pattern with <code>-name</code> should be adjusted to match all the <code>input2</code> filenames</p></li>\n</ol>\n"}], "owner": {"reputation": 77, "user_id": 5078507, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2172ae769ae57aac6ac022d7c9b02298?s=128&d=identicon&r=PG&f=1", "display_name": "Greyson B", "link": "https://stackoverflow.com/users/5078507/greyson-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 273, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1468991099, "creation_date": 1468946655, "last_edit_date": 1468988983, "question_id": 38464185, "link": "https://stackoverflow.com/questions/38464185/coding-an-awk-command-inside-a-perl-script", "title": "Coding an awk command inside a perl script", "body": "<p>I have two types of tab separated input files, the first is a matrix which has names listed vertically in the first column, and numerical values in subsequent columns. The second type of input contains a single column with a subset of the same names listed in the first column of the first file type. </p>\n\n<p>EX: input1</p>\n\n<pre><code>Gary 1 2 3\nYolanda 3 4 5\nBiff 5 6 7\nHubert 8 9 10\n</code></pre>\n\n<p>EX: input2</p>\n\n<pre><code>Gary\nBiff \n</code></pre>\n\n<p>While there are several different variations on input2, there is only a single input1. I have a perl script with an embedded awk command which is supposed to match names from input2 to input1 and print an output file which contains the names from input2 and the respective values from input1. </p>\n\n<p>EX: outputfile</p>\n\n<pre><code>Gary 1 2 3\nBiff 5 6 7\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $dir1 = '../FeatureSelection/Chunks/ArffPreprocessing';\nmy $dir2 = '../DataFiles';\n\nopendir(DIR, $dir1) or die $!;\nwhile (my $file = readdir(DIR)) {\n\n    # We only want files\n    next unless (-f \"$dir1/$file\");\n\n    # Use a regular expression to find files with .txt\n    next unless ($file =~ m/\\.txt/);\n\n    my @partialName = (split /\\./, $file);\n\n    #The $matchingFile is the file which contains attributes listed vertically, along side their respective data\n\n    my $matchingFile = \"$dir2/input1\\.txt \";\n\n    system(\"awk -F\\\"\\t\\\" 'FILENAME==\\\"$dir1/$file\\\"{a[\\$1]=\\$1} FILENAME==\\\"$matchingFile\\\"{if(a[\\$1]){print \\$0}}' $dir1/$file $matchingFile &gt; $dir1/$partialName[0]'\\_matched.out' \");\n\n}\n\nclosedir(DIR);\nexit 0;\n</code></pre>\n\n<p>This is the line works on the command line, but it refuses to work in my perl script. </p>\n\n<pre><code>awk -F\"\\t\" 'FILENAME==\"input2.txt\"{a[$1]=$1} FILENAME==\"../../../DataFiles/input1.txt\"{if(a[$1]){print $0}}' input2.txt ../../../DataFiles/input1.txt &gt; input2_matched.out\n</code></pre>\n\n<p>By the way, the sheer number of input2 files makes hard coding the above awk line on the command propt a real pain in the butt, which is why I have utilized a perl script which can perform my desired function on every input2 file in the directory, AND keep the naming convention for the output files. I've written similar programs so I know the syntax of </p>\n\n<pre><code>system(\"awk ...blah blah... \");\n</code></pre>\n\n<p>can and does work properly.</p>\n\n<p>I've been stuck on this problem for days now, so any help would be most appreciated!</p>\n"}, {"tags": ["algorithm", "perl", "optimization"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1468937837, "post_id": 38461066, "comment_id": 64326407, "body": "can you make assumptions about the header content?"}, {"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 2, "creation_date": 1468937849, "post_id": 38461066, "comment_id": 64326418, "body": "why tag with python?"}, {"owner": {"reputation": 998, "user_id": 884447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b57a75af90fc4db0f0935048d2cc23a?s=128&d=identicon&r=PG", "display_name": "asf107", "link": "https://stackoverflow.com/users/884447/asf107"}, "edited": false, "score": 0, "creation_date": 1468937997, "post_id": 38461066, "comment_id": 64326538, "body": "I&#39;d be open to a python solution, which might be more natural.  I&#39;ll remove the tag since I didn&#39;t actually write any python, though"}, {"owner": {"reputation": 998, "user_id": 884447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b57a75af90fc4db0f0935048d2cc23a?s=128&d=identicon&r=PG", "display_name": "asf107", "link": "https://stackoverflow.com/users/884447/asf107"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1468938068, "post_id": 38461066, "comment_id": 64326581, "body": "@Sobrique no, suppose you know nothing about what will be contained in the header until you actually parse the the keys in <code>data.txt</code>"}], "answers": [{"comments": [{"owner": {"reputation": 998, "user_id": 884447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b57a75af90fc4db0f0935048d2cc23a?s=128&d=identicon&r=PG", "display_name": "asf107", "link": "https://stackoverflow.com/users/884447/asf107"}, "edited": false, "score": 0, "creation_date": 1468938681, "post_id": 38461174, "comment_id": 64327050, "body": "right, i&#39;m totally resigned to the fact that we&#39;ll have to sweep through the file twice.  However, is there a more efficient way to build the &quot;current line&quot; hash or to build the string to print than what I tried above?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 998, "user_id": 884447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b57a75af90fc4db0f0935048d2cc23a?s=128&d=identicon&r=PG", "display_name": "asf107", "link": "https://stackoverflow.com/users/884447/asf107"}, "edited": false, "score": 0, "creation_date": 1468938907, "post_id": 38461174, "comment_id": 64327219, "body": "Added a final example of counting up the header fields. I don&#39;t honestly think there&#39;s much in it though, as your &#39;expensive&#39; bit will be the file IO."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1468938885, "last_edit_date": 1468938885, "creation_date": 1468938025, "answer_id": 38461174, "question_id": 38461066, "link": "https://stackoverflow.com/questions/38461066/transforming-key-value-data-into-csv-format/38461174#38461174", "title": "transforming (key,value) data into csv format", "body": "<p>Well, this seems to do the trick, given your spec:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings 'all';\n\nmy @header = qw ( a b c d e f g h i j ); \n\nprint join \",\", @header,\"\\n\";\nwhile ( &lt;DATA&gt; ) { \n    my %row = map { /(\\w+):(\\d+)/ } split;\n    print join \",\", map { $_ // 0 } @row{@header},\"\\n\";\n\n}\n\n__DATA__\n  a:23 b:25 c:76 d:45\n  a:21 b:24 c:25 \n  a:20 d:52 e:75 f:75 g:52\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>a,b,c,d,e,f,g,h,i,j,\n23,25,76,45,0,0,0,0,0,0,\n21,24,25,0,0,0,0,0,0,0,\n20,0,0,52,75,75,52,0,0,0,\n</code></pre>\n\n<p>Does rely on hard coded keys though. If you need dynamic keying, then... it depends a bit how big your file is, because you will NEED to process it twice. </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings 'all';\nuse Data::Dumper;\n\nmy %usedKeys;\nmy @rows;\n\nwhile (&lt;DATA&gt;) {\n   my %row = map {/(\\w+):(\\d+)/} split;\n   push @rows, \\%row;\n   $usedKeys{$_}++ for keys %row;\n}\n\nmy @header = sort keys %usedKeys;\nprint join \",\", @header, \"\\n\";\nforeach my $row (@rows) {\n   print join \",\", map { $_ // 0 } @{$row}{@header}, \"\\n\";\n}\n__DATA__\n  a:23 b:25 c:76 d:45\n  a:21 b:24 c:25 \n  a:20 d:52 e:75 f:75 g:52\n</code></pre>\n\n<p>This will slurp it into memory. But you could to two passes through the file first instead. (as you do) to build the 'seen keys'. That's mostly the same as what you have - you just need to <code>seek</code> back to the beginning on your file handle before starting the second pass.</p>\n\n<p>Unfortunately, as you don't have any way to know what keys you'll be seeing, there's no option more efficient than a two-pass sweep through the file, and relying on the kernel caching. </p>\n\n<p>E.g.:</p>\n\n<pre><code>while (&lt;DATA&gt;) {\n   my %row = map {/(\\w):(\\d+)/} split;\n   push @rows, \\%row;\n   $usedKeys{$_}++ for keys %row;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1468943019, "last_edit_date": 1468943019, "creation_date": 1468942701, "answer_id": 38462971, "question_id": 38461066, "link": "https://stackoverflow.com/questions/38461066/transforming-key-value-data-into-csv-format/38462971#38462971", "title": "transforming (key,value) data into csv format", "body": "\n\n<p>If the file is too large to fit into memory then it requires two passes: the first to build a list of all the column names, and the second to convert each row to the corresponding CSV record. I would write it like this</p>\n\n<p>This program expects the path to the input file as a parameter on the command line, and writes the output to STDOUT which may be redirected on the command line</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Fcntl ':seek';\n\nmy ($file) = @ARGV;\n\nopen my $fh, '&lt;', $file or die qq{Unable to open \"$file\" for input: $!};\n\nmy @heads;\n{\n    my %heads;\n\n    while ( &lt;$fh&gt; ) {\n        for my $val ( /([^\\s:]+):/g ) {\n            push @heads, $val unless $heads{$val}++;\n        }\n    }\n}\n\nprint join(',', @heads), \"\\n\";\n\nseek $fh, 0, SEEK_SET;\n\nwhile ( &lt;$fh&gt; ) {\n    my %values = /[^\\s:]+/g;\n    print join(',', map { $_ // 0 } @values{@heads}), \"\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>a,b,c,d,e,f,g\n23,25,76,45,0,0,0\n21,24,25,0,0,0,0\n20,0,0,52,75,75,52\n</code></pre>\n"}], "owner": {"reputation": 998, "user_id": 884447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b57a75af90fc4db0f0935048d2cc23a?s=128&d=identicon&r=PG", "display_name": "asf107", "link": "https://stackoverflow.com/users/884447/asf107"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 38461174, "answer_count": 2, "score": 0, "last_activity_date": 1468943019, "creation_date": 1468937738, "last_edit_date": 1468937964, "question_id": 38461066, "link": "https://stackoverflow.com/questions/38461066/transforming-key-value-data-into-csv-format", "title": "transforming (key,value) data into csv format", "body": "<p>Suppose we have a data file with the following format:</p>\n\n<pre><code>$ cat data.txt\n  a:23 b:25 c:76 d:45\n  a:21 b:24 c:25 \n  a:20 d:52 e:75 f:75 g:52\n  ...\n  (many lines)\n  ...\n</code></pre>\n\n<p>What would be the fastest possible way to transform this data into a csv format, assuming this file is too large to read into memory?</p>\n\n<p>The output should contain a header which contains all possible \"keys\" in the file; if a particular key is missing on a certain line, then that key's value should be equal to zero on that line.  For instance:</p>\n\n<pre><code>$ cat csv.txt\n//a,b,c,d,e,f,g\n23,25,76,45,0,0,0\n21,24,25,0,0,0,0\n20,0,0,52,75,75,52\n... \n(many lines)\n... \n</code></pre>\n\n<p>Here's what I tried.  It works, but I feel like all the loops are slowing me down.  Is there a faster, optimized way to do this?  I used Perl, but I'd certainly be willing to switch to Python or something else.</p>\n\n<pre><code># transform_test.pl \n\n# build set of all used keys.\nmy %usedKey;\nopen FILE, \"data.txt\";\nwhile(&lt;FILE&gt;) {\n        chomp $_;\n        my @fields = split;\n        foreach my $field (@fields) {\n                my ($key,$value) = split(\":\",$field);\n                $usedKey{$key} = 1;\n        }\n}\nclose FILE;\n\n# build array of all used keys, but sorted.\nmy @sorted_keys = sort keys %usedKey;\n\n# print header\nmy $header = \"//\";\nforeach my $key (@sorted_keys) { $header .= \"$key,\"; }\nchop $header;\nprint \"$header\\n\";\n\n# read through file again to transform the data;\nopen FILE, \"data.txt\";\nwhile(&lt;FILE&gt;) {\n        chomp $_;\n\n        # build current line hash\n        my @fields = split;\n        my %currentData;\n        foreach my $field (@fields) {\n                my ($key,$value) = split(\":\",$field);\n                $currentData{$key} = $value;\n        }\n\n        # build string by looping over all sorted keys.\n        my $toPrint = \"\";\n        foreach my $key (@sorted_keys) {\n                $toPrint .= defined $currentData{$key} ? \"$currentData{$key},\" : \"0,\"; \n        }\n        chop $toPrint;\n        print \"$toPrint\\n\";\n}\n</code></pre>\n"}, {"tags": ["xml", "perl", "libxml2", "xml-libxml", "dmake"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1468936851, "post_id": 38460695, "comment_id": 64325743, "body": "Are you under any proxy? And how are you installing this?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1468936912, "post_id": 38460695, "comment_id": 64325800, "body": "From experience: It&#39;s a massive pain, but it&#39;s bundled in Strawberry perl. Which is why I switched."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1468937066, "post_id": 38460695, "comment_id": 64325897, "body": "` can run the makefile.pl` show how you ran it. Show how you combined the various binaries for the prereqs. Needs more info from you"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1468937090, "post_id": 38460695, "comment_id": 64325914, "body": "If you are not using any proxy, this should work <code>cpan install Lib::XML</code>"}, {"owner": {"reputation": 1, "user_id": 6608600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090656d4d52c311d5c2fd73e34e0487d?s=128&d=identicon&r=PG&f=1", "display_name": "user6608600", "link": "https://stackoverflow.com/users/6608600/user6608600"}, "edited": false, "score": 0, "creation_date": 1468937320, "post_id": 38460695, "comment_id": 64326062, "body": "I am in a company network so I&#39;m running under a proxy"}, {"owner": {"reputation": 1, "user_id": 6608600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090656d4d52c311d5c2fd73e34e0487d?s=128&d=identicon&r=PG&f=1", "display_name": "user6608600", "link": "https://stackoverflow.com/users/6608600/user6608600"}, "edited": false, "score": 0, "creation_date": 1468937507, "post_id": 38460695, "comment_id": 64326176, "body": "I downloaded the iconv, libxml2 and zlib binaries and merged then into one folder (under C:\\libXML) and after that I downloaded XML-LibXML. From the directory I just typed perl Makefile.PL INC=-Ic:\\LibXML\\include LIBS=-Lc:\\LibXML\\lib.   And no if I want to execute dmake there is the above mentioned error"}, {"owner": {"reputation": 1, "user_id": 6608600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090656d4d52c311d5c2fd73e34e0487d?s=128&d=identicon&r=PG&f=1", "display_name": "user6608600", "link": "https://stackoverflow.com/users/6608600/user6608600"}, "edited": false, "score": 0, "creation_date": 1469167681, "post_id": 38460695, "comment_id": 64434264, "body": "could it be that there are some problems with MinGW?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6608600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090656d4d52c311d5c2fd73e34e0487d?s=128&d=identicon&r=PG&f=1", "display_name": "user6608600", "link": "https://stackoverflow.com/users/6608600/user6608600"}, "edited": false, "score": 0, "creation_date": 1468937702, "post_id": 38460962, "comment_id": 64326298, "body": "I tried this but it doesnt find xml2 or libxml2 then: Checking for ability to link against xml2...no Checking for ability to link against libxml2...libxml2, zlib, and/or the Math library (-lm) have not been found."}, {"owner": {"reputation": 1, "user_id": 6608600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090656d4d52c311d5c2fd73e34e0487d?s=128&d=identicon&r=PG&f=1", "display_name": "user6608600", "link": "https://stackoverflow.com/users/6608600/user6608600"}, "edited": false, "score": 0, "creation_date": 1468939137, "post_id": 38460962, "comment_id": 64327381, "body": "And if I try it with ppm it just says &quot;No missing packages to install&quot;"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1468937436, "creation_date": 1468937436, "answer_id": 38460962, "question_id": 38460695, "link": "https://stackoverflow.com/questions/38460695/problems-with-installing-xmllibxml-on-activestate-perl-5-16-0-on-windows/38460962#38460962", "title": "Problems with installing XML::LibXML on ActiveState Perl 5.16.0. on Windows", "body": "<p>As you said you are using a proxy. Go with this:</p>\n\n<p>You can use these commands to install module from ppm or cpan.</p>\n\n<p>Open a command prompt and run these commands :</p>\n\n<pre><code>set http_proxy=http://xxx.xxx.xxx.x:yyyy (xxx is your system proxy and yyyy is port)\nset http_proxy_user=username (system login username)\nset http_proxy_pass=password (login password)\n</code></pre>\n\n<p>To install a module from cpan type:</p>\n\n<pre><code>cpan install modulename\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6608600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090656d4d52c311d5c2fd73e34e0487d?s=128&d=identicon&r=PG&f=1", "display_name": "user6608600", "link": "https://stackoverflow.com/users/6608600/user6608600"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 476, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1468937436, "creation_date": 1468936707, "last_edit_date": 1495540289, "question_id": 38460695, "link": "https://stackoverflow.com/questions/38460695/problems-with-installing-xmllibxml-on-activestate-perl-5-16-0-on-windows", "title": "Problems with installing XML::LibXML on ActiveState Perl 5.16.0. on Windows", "body": "<p>I'm struggling on setting up LibXML on ActiveState Perl version 5.16.0.</p>\n\n<p>So far I followed the instrutions from this post <a href=\"https://stackoverflow.com/questions/29992063/how-can-i-install-libxml-on-activestate-perl-5-20?answertab=votes#tab-top\">How can I install Lib::XML on ActiveState Perl 5.20?</a>:</p>\n\n<pre><code>First, get the libxml2 binaries from http://xmlsoft.org/sources/win32/ (currently also available at http://www.zlatkovic.com/pub/libxml/).\n\nYou need:\n\niconv-VERSION.win32.zip\nlibxml2-VERSION.win32.zip\nzlib-VERSION.win32.zip\nDownload the latest version of each. (Each package will probably have a different version.) When you extract them, you'll get directories named iconv-VERSION.win32, libxml2-VERSION.win32, and zlib-VERSION.win32, each containing bin, lib, and include directories.\n\nCombine all the bin, include, and lib directories under c:\\Prog\\LibXML. (You can use any directory you prefer; just adjust the instructions accordingly.)\n\nGet the latest version of XML-LibXML from CPAN. Extract it.\n\nIssue these commands in the XML-LibXML-VERSION directory:\n\nperl Makefile.PL INC=-Ic:\\Prog\\LibXML\\include LIBS=-Lc:\\Prog\\LibXML\\lib\ndmake\ncopy c:\\Prog\\LibXML\\bin\\*.dll blib\\arch\\auto\\XML\\LibXML\ndmake test\ndmake install\n</code></pre>\n\n<p>So I downloaded all the packages and everthing works fine, I can run the makefile.pl</p>\n\n<p>But when I now try to run dmake, I get the following error:</p>\n\n<pre><code>Devel.o:Devel.c:(.text+0x985): undefined reference to `_imp__xmlMemStrdup'\nLibXML.o:LibXML.c:(.text+0x4374): undefined reference to `_imp__xmlFree'\nLibXML.o:LibXML.c:(.text+0x4d5b): undefined reference to `_imp__xmlFree'\nLibXML.o:LibXML.c:(.text+0x513c): undefined reference to `_imp__xmlFree'\nLibXML.o:LibXML.c:(.text+0x52bb): undefined reference to `_imp__xmlFree'\nLibXML.o:LibXML.c:(.text+0x5c23): undefined reference to `_imp__xmlFree'\nLibXML.o:LibXML.c:(.text+0x5d13): more undefined references to `_imp__xmlFree' follow\nLibXML.o:LibXML.c:(.text+0xef7a): undefined reference to `_imp__xmlMalloc'\nLibXML.o:LibXML.c:(.text+0xefb6): undefined reference to `_imp__xmlMalloc'\nLibXML.o:LibXML.c:(.text+0xf042): undefined reference to `_imp__xmlFree'\nLibXML.o:LibXML.c:(.text+0xf053): undefined reference to `_imp__xmlFree'\nLibXML.o:LibXML.c:(.text+0xf907): undefined reference to `_imp__xmlFree'\nLibXML.o:LibXML.c:(.text+0x10384): undefined reference to `_imp__xmlFree'\nLibXML.o:LibXML.c:(.text+0x10399): undefined reference to `_imp__xmlFree'\nLibXML.o:LibXML.c:(.text+0x106f9): more undefined references to `_imp__xmlFree' follow\nLibXML.o:LibXML.c:(.text+0x2a092): undefined reference to `_imp__xmlIsBaseCharGroup'\nLibXML.o:LibXML.c:(.text+0x2a171): undefined reference to `_imp__xmlIsDigitGroup'\nLibXML.o:LibXML.c:(.text+0x2a1d4): undefined reference to `_imp__xmlIsCombiningGroup'\nLibXML.o:LibXML.c:(.text+0x2a1ed): undefined reference to `_imp__xmlIsExtenderGroup'\nLibXML.o:LibXML.c:(.text+0x2a211): undefined reference to `_imp__xmlIsBaseCharGroup'\nLibXML.o:LibXML.c:(.text+0x2a374): undefined reference to `_imp__xmlFree'\nLibXML.o:LibXML.c:(.text+0x2a4b7): undefined reference to `_imp__xmlFree'\nLibXML.o:LibXML.c:(.text+0x2a60c): undefined reference to `_imp__xmlFree'\nLibXML.o:LibXML.c:(.text+0x2a720): undefined reference to `_imp__xmlFree'\nLibXML.o:LibXML.c:(.text+0x2a72a): undefined reference to `_imp__xmlFree'\nLibXML.o:LibXML.c:(.text+0x2a76f): more undefined references to `_imp__xmlFree' follow\nperl-libxml-mm.o:perl-libxml-mm.c:(.text+0x7fa): undefined reference to `_imp__xmlMalloc'\nperl-libxml-mm.o:perl-libxml-mm.c:(.text+0x831): undefined reference to `_imp__xmlMalloc'\nperl-libxml-mm.o:perl-libxml-mm.c:(.text+0x97d): undefined reference to `_imp__xmlFree'\nperl-libxml-mm.o:perl-libxml-mm.c:(.text+0xfa4): undefined reference to `_imp__xmlMalloc'\nperl-libxml-mm.o:perl-libxml-mm.c:(.text+0x1004): undefined reference to `_imp__xmlFree'\nperl-libxml-mm.o:perl-libxml-mm.c:(.text+0x168c): undefined reference to `_imp__xmlFree'\nperl-libxml-mm.o:perl-libxml-mm.c:(.text+0x16a5): undefined reference to `_imp__xmlFree'\nperl-libxml-mm.o:perl-libxml-mm.c:(.text+0x1795): undefined reference to `_imp__xmlFree'\nperl-libxml-sax.o:perl-libxml-sax.c:(.text+0x1a34): undefined reference to `_imp__xmlMalloc'\nperl-libxml-sax.o:perl-libxml-sax.c:(.text+0x1a65): undefined reference to `_imp__xmlMalloc'\nperl-libxml-sax.o:perl-libxml-sax.c:(.text+0x1aab): undefined reference to `_imp__xmlFree'\nperl-libxml-sax.o:perl-libxml-sax.c:(.text+0x1af4): undefined reference to `_imp__xmlFree'\nperl-libxml-sax.o:perl-libxml-sax.c:(.text+0x1b67): undefined reference to `_imp__xmlMalloc'\nperl-libxml-sax.o:perl-libxml-sax.c:(.text+0x1bf0): undefined reference to `_imp__xmlMalloc'\nperl-libxml-sax.o:perl-libxml-sax.c:(.text+0x1d04): undefined reference to `_imp__xmlFree'\nperl-libxml-sax.o:perl-libxml-sax.c:(.text+0x271a): undefined reference to `_imp__xmlFree'\nperl-libxml-sax.o:perl-libxml-sax.c:(.text+0x272f): undefined reference to `_imp__xmlFree'\nperl-libxml-sax.o:perl-libxml-sax.c:(.text+0x2839): undefined reference to `_imp__xmlFree'\nperl-libxml-sax.o:perl-libxml-sax.c:(.text+0x2847): undefined reference to `_imp__xmlFree'\nperl-libxml-sax.o:perl-libxml-sax.c:(.text+0x28e1): more undefined references to `_imp__xmlFree' follow\nperl-libxml-sax.o:perl-libxml-sax.c:(.text+0x5ce5): undefined reference to `_imp__xmlMalloc'\nperl-libxml-sax.o:perl-libxml-sax.c:(.text+0x5d94): undefined reference to `_imp__xmlMalloc'\nperl-libxml-sax.o:perl-libxml-sax.c:(.text+0x5efc): undefined reference to `_imp__xmlFree'\nxpath.o:xpath.c:(.text+0x260): undefined reference to `_imp__xmlFree'\nxpath.o:xpath.c:(.text+0x2ab): undefined reference to `_imp__xmlFree'\nxpath.o:xpath.c:(.text+0x3e7): undefined reference to `_imp__xmlFree'\ncollect2.exe: error: ld returned 1 exit status\ndmake.exe:  Error code 129, while making 'blib\\arch\\auto\\XML\\LibXML\\LibXML.dll'\n</code></pre>\n\n<p>Does anyone know how to resolve this issue? Any help is greatly appreciated!</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "stdin", "filereader", "fileinputstream", "filehandle"], "comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1468938383, "post_id": 38459433, "comment_id": 64326805, "body": "This part of the code looks ok. Does the <code>bigramm</code> sub use global variables or state variables? I would assume that bigramm caches (globally or in a state variable) its input and does not clear the cache afterwards."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1468939766, "post_id": 38459433, "comment_id": 64327819, "body": "I&#39;m not an expert with subs inside subs, but if you declare <code>my (@words, %ngramL, @uni, @bi, @tri, @quad, @five)</code> outside any subs and reset then with <code>(@words, %ngramL, @uni, @bi, @tri, @quad, @five) = ();</code> when you call <code>generateProfile</code>, it will solve your problem. That&#39;s for the quick fix, I&#39;ll let someone with more experience/knowledge post a more precise answer. My guess is that the subs inside other subs are only compiled once, and the arrays/hashes that are declared outside of them but you use inside are turned into globales variables... but that&#39;s just a guess"}, {"owner": {"reputation": 115, "user_id": 2556921, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/I8IvB.jpg?s=128&g=1", "display_name": "Haifa Warda", "link": "https://stackoverflow.com/users/2556921/haifa-warda"}, "edited": false, "score": 0, "creation_date": 1468979612, "post_id": 38459433, "comment_id": 64345875, "body": "i remodelled the whole code, there are no subs inside subs left, even tried packages and it&#39;s still behaving that way .. also the quick fix did work as long as i leave the code that way, but would i add just one other function call like generateProfile(&quot;en.txt&quot;, &quot;EN&quot;); it would mess up everything again .."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 2556921, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/I8IvB.jpg?s=128&g=1", "display_name": "Haifa Warda", "link": "https://stackoverflow.com/users/2556921/haifa-warda"}, "edited": false, "score": 0, "creation_date": 1468935931, "post_id": 38460137, "comment_id": 64325002, "body": "no i am sorry, this was a copy paste mistake .. i forgot to put a &quot;}&quot; there"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 115, "user_id": 2556921, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/I8IvB.jpg?s=128&g=1", "display_name": "Haifa Warda", "link": "https://stackoverflow.com/users/2556921/haifa-warda"}, "edited": false, "score": 0, "creation_date": 1468936480, "post_id": 38460137, "comment_id": 64325454, "body": "How are you making the &quot;call this funktion several times with different files&quot; ? Code example?"}, {"owner": {"reputation": 115, "user_id": 2556921, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/I8IvB.jpg?s=128&g=1", "display_name": "Haifa Warda", "link": "https://stackoverflow.com/users/2556921/haifa-warda"}, "edited": false, "score": 0, "creation_date": 1468936784, "post_id": 38460137, "comment_id": 64325685, "body": "here i meant by calling a function with different files these lines:  (1) generateProfile(&quot;es.txt&quot;, &quot;ES&quot;);  (2) generateProfile(&quot;dt.txt&quot;, &quot;DE&quot;);  the paramters just change .. but after calling (1),  the stream in the second call seem to remember the first file and print lines from (1) and then (2)"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 115, "user_id": 2556921, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/I8IvB.jpg?s=128&g=1", "display_name": "Haifa Warda", "link": "https://stackoverflow.com/users/2556921/haifa-warda"}, "edited": false, "score": 0, "creation_date": 1468937168, "post_id": 38460137, "comment_id": 64325966, "body": "Can you also add the content of the 2 files? I tested and I can&#39;t reproduce your problem"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 115, "user_id": 2556921, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/I8IvB.jpg?s=128&g=1", "display_name": "Haifa Warda", "link": "https://stackoverflow.com/users/2556921/haifa-warda"}, "edited": false, "score": 0, "creation_date": 1468937988, "post_id": 38460137, "comment_id": 64326532, "body": "<a href=\"http://i.imgur.com/FLuaihT.png\" rel=\"nofollow noreferrer\">link</a> As you can see, there is no problem in your shown code"}, {"owner": {"reputation": 115, "user_id": 2556921, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/I8IvB.jpg?s=128&g=1", "display_name": "Haifa Warda", "link": "https://stackoverflow.com/users/2556921/haifa-warda"}, "edited": false, "score": 0, "creation_date": 1468938089, "post_id": 38460137, "comment_id": 64326592, "body": "you are right, i just tried the code excerpt too, and it did work without problems .. i will edit my post again and will post more code .. because there is a problem"}], "tags": [], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "is_accepted": false, "score": 0, "last_activity_date": 1468935211, "creation_date": 1468935211, "answer_id": 38460137, "question_id": 38459433, "link": "https://stackoverflow.com/questions/38459433/reading-from-different-files-without-keeping-old-content-perl/38460137#38460137", "title": "reading from different files without keeping old content perl", "body": "<pre><code>while($line =&lt;IN&gt;){ \n    chomp $line;\n    print $line;  # during the second function call, it would print here old content from \"es.txt\" instead of only reading from \"dt.txt\"\n    push(@words, $line);\n    close IN;   #doesn't it closed?\n</code></pre>\n\n<p>After you read one line from your input file, you basically close the filehandler. Then, when you go to the second line, you won't be able to read from file because you closed it before.</p>\n"}], "owner": {"reputation": 115, "user_id": 2556921, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/I8IvB.jpg?s=128&g=1", "display_name": "Haifa Warda", "link": "https://stackoverflow.com/users/2556921/haifa-warda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468939850, "creation_date": 1468933370, "last_edit_date": 1468939850, "question_id": 38459433, "link": "https://stackoverflow.com/questions/38459433/reading-from-different-files-without-keeping-old-content-perl", "title": "reading from different files without keeping old content perl", "body": "<p>so i have a function which open a file to read from, analyse the lines and write some in a new file. I call this funktion several times with different files. But now i noticed, that by every new function call, the lines of the previous files get read in too. How can i prevent that? </p>\n\n<p>content of es.txt:\n<code>\nEl\nanarquismo\nes\nuna\nfilosof\u00eda\npol\u00edtica\ny\nsocial\nque\nllama</code></p>\n\n<p>content of dt.txt:\n<code>\n    der\n    Regel\n    mit\n    Ver\u00e4nderungen\n    der\n    chemischen\n    Bindungen\n    in</code></p>\n\n<p>after the program run, the created file ProfileDE looks like this (although it should only contain tokens from \"dt.txt\", some tokens are from \"es.txt\"):</p>\n\n<pre><code>una\nilos\nism\nl\u00edtic\nqui\nl\u00ed\nti\npol\u00ed\nsocia\n</code></pre>\n\n<p>-- the actual code: </p>\n\n<pre><code>#! /usr/bin/perl\nuse utf8;\nuse warnings;\nuse strict;\nuse List::Util qw(min);\nuse open ':encoding(utf8)';\nbinmode(STDOUT, \":utf8\");\nbinmode(STDIN, \":utf8\");\n\ngenerateProfile(\"es.txt\", \"ES\"); #function call to read from file es.txt \ngenerateProfile(\"dt.txt\", \"DE\"); #second call to read only from file dt.txt\n\nsub generateProfile { \n    my $file= $_[0]; #taking arguments\n    my $Lang = $_[1];\n\n    open(IN, \"&lt;:utf8\",$file) || die \"error\"; #to read file \n    open(OUT, \"&gt;:utf8\", \"profile$Lang.txt\"); # to create and write in file e.g profileDe\n\n    my (%ngramL); #any hash for later\n    my $line; \n    my (@words);\n    my (%ngramL);\n    my (@uni, @bi, @tri, @quad, @five); #array which keeps letterkombinations of different length\n\n    while($line =&lt;IN&gt;){ \n        chomp $line;\n       # print $line;  # just for testing: during the second function call, it would print here old content from \"es.txt\" instead of only reading from \"dt.txt\"\n        push(@words, $line);\n        }\n     close IN;   #doesn't it closed?\n\n     foreach my $word (@words){\n        bigramm($word); #split word in different letter combinations\n        }\n\n    freqL(); #fill that hash with frequences, how many times occures one letter combination e.g. \"ab\" = 2, \"tion\"=5\n    print_hashL(); #print hash \n\n    sub bigramm{\n      my $wort= $_[0];\n      my $i; my $k;\n      my @letters= split(//, $wort);\n      for ($i=0; $i&lt;length($wort)-0; $i++){ ####!!!!! -1?\n        my $bi= substr($wort, $i, 1);\n        push(@uni, $bi); }   \n      for ($i=0; $i&lt;length($wort)-1; $i++){\n        my $bi= substr($wort, $i, 2);\n        push(@bi, $bi); }\n      for ($i=0; $i&lt;length($wort)-2; $i++){\n        my $bi= substr($wort, $i, 3);\n        push(@tri, $bi); }\n      for ($i=0; $i&lt;length($wort)-3; $i++){\n        my $bi= substr($wort, $i, 4);\n        push(@quad, $bi); }\n      for ($i=0; $i&lt;length($wort)-4; $i++){\n        my $bi= substr($wort, $i, 5);\n        push(@five, $bi); }      \n\n }\n\n    sub freqL{\n      for my $duo (@uni, @bi, @tri, @quad, @five){\n        if(defined $ngramL{$duo}) {$ngramL{$duo}++;}\n        else {$ngramL{$duo}=1;}\n    }\n  }\n\n    sub print_hashL{\n      foreach my $elem(sort{$ngramL{$b}&lt;=&gt;$ngramL{$a}} keys %ngramL) {\n        print OUT \"$elem\\n\";}\n     }\n\n}\n</code></pre>\n\n<p>also there are some warnings, which may or may not cause this problem? :</p>\n\n<pre><code>\"my\" variable %ngramL masks earlier declaration in same scope at stack.pl line 23.\nVariable \"@uni\" will not stay shared at stack.pl line 46.\nVariable \"@bi\" will not stay shared at stack.pl line 49.\nVariable \"@tri\" will not stay shared at stack.pl line 52.\nVariable \"@quad\" will not stay shared at stack.pl line 55.\nVariable \"@five\" will not stay shared at stack.pl line 58.\nVariable \"@uni\" will not stay shared at stack.pl line 63.\nVariable \"@bi\" will not stay shared at stack.pl line 63.\nVariable \"@tri\" will not stay shared at stack.pl line 63.\nVariable \"@quad\" will not stay shared at stack.pl line 63.\nVariable \"@five\" will not stay shared at stack.pl line 63.\nVariable \"%ngramL\" will not stay shared at stack.pl line 64.\nVariable \"%ngramL\" will not stay shared at stack.pl line 70.\n</code></pre>\n"}, {"tags": ["perl", "in-place"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468933828, "post_id": 38458953, "comment_id": 64323330, "body": "Are you working on a Windows system?"}, {"owner": {"reputation": 329, "user_id": 3989978, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/c1f202764ac43cbce2910a14aa4204f1?s=128&d=identicon&r=PG&f=1", "display_name": "Zii", "link": "https://stackoverflow.com/users/3989978/zii"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468934202, "post_id": 38458953, "comment_id": 64323631, "body": "@Borodin, yes, anything unexpected in Windows?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468934854, "post_id": 38458953, "comment_id": 64324142, "body": "You can&#39;t edit in-place on Windows. See my answer below."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468935130, "post_id": 38459255, "comment_id": 64324365, "body": "The <code>rename</code> in your first sample will fail because the original file with that name still exists."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468935271, "post_id": 38459255, "comment_id": 64324470, "body": "it doesn&#39;t fail for me on Linux Mint. Do you mean on Windows?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468935355, "post_id": 38459255, "comment_id": 64324526, "body": "Yes. We&#39;ve discovered that the OP is running a Windows system."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468935446, "post_id": 38459255, "comment_id": 64324604, "body": "Thanks @Borodin; I&#39;ve updated it to be Windows-friendly"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468949543, "post_id": 38459255, "comment_id": 64333862, "body": "This is pretty much identical to what <code>-i.bak</code> does."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1468935429, "last_edit_date": 1468935429, "creation_date": 1468932955, "answer_id": 38459255, "question_id": 38458953, "link": "https://stackoverflow.com/questions/38458953/using-perl-one-liner-in-perl-script/38459255#38459255", "title": "Using perl one-liner in perl script", "body": "<p>Here's a way to do it without having to shell-out another instance of perl. This technique uses an intermediary temp file:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nfor my $file (glob \"*.ini\") {\n    open my $fh, '&lt;', $file or die $!;\n    open my $wfh, '&gt;', 'temp.txt' or die $!;\n\n    while (&lt;$fh&gt;){\n        s/Default/UTF-8/;\n        print $wfh $_;\n    }\n    close $fh;\n    close $wfh;\n    unlink $file or die $!;\n    rename 'temp.txt', $file;\n}\n</code></pre>\n\n<p>Use this version if you know that your files are not overly large. It reads the whole file into memory (a single string scalar), and doesn't require the intermediary temp file:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nfor my $file (glob \"*.ini\") {\n    open my $fh, '&lt;', $file or die $!;\n\n    my $contents;\n    {\n        local $/;\n        $contents = &lt;$fh&gt;;\n    }\n    close $fh;\n\n    $contents =~ s/Default/UTF-8/;\n\n    open my $wfh, '&gt;', $file or die $!;\n    print $wfh $contents;\n    close $wfh;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 329, "user_id": 3989978, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/c1f202764ac43cbce2910a14aa4204f1?s=128&d=identicon&r=PG&f=1", "display_name": "Zii", "link": "https://stackoverflow.com/users/3989978/zii"}, "edited": false, "score": 0, "creation_date": 1468935374, "post_id": 38459948, "comment_id": 64324543, "body": "I like this one, since it&#39;s pretty concise. Is there any source I can refer to when you say &quot;this technique doesn&#39;t work on Windows&quot;?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1468934716, "creation_date": 1468934716, "answer_id": 38459948, "question_id": 38458953, "link": "https://stackoverflow.com/questions/38458953/using-perl-one-liner-in-perl-script/38459948#38459948", "title": "Using perl one-liner in perl script", "body": "<p>I think you may be looking at some old data files. As far as I know, Perl won't assume a default file extension of <code>.bak</code> under any circumstances</p>\n\n<p>If you specify the option as just <code>-i</code> then it will attempt to edit the file in-place by deleting the input file after it has been opened and creating a new output file with the same name. The old file remains readable until it is closed</p>\n\n<p>This technique doesn't work on Windows, and so it is an error to use a bare <code>-i</code> option on that platform</p>\n\n<p>There is no need to shell out to a second perl process just to edit some files. It can be done very simply like this. The internal variable <code>$^I</code> corresponds to the value of the <code>-i</code> option on the command line. Once again, if you are working on a Windows system then <code>$^I</code> may not be an empty string and you will need to set it to <code>.bak</code> or something similar</p>\n\n<pre><code>{\n    local @ARGV = glob 'f.*';\n    local $^I = '';  # Must be non-blank on Windows\n\n    while ( &lt;&gt; ) {\n        s/Default/UTF-8/g;\n        print;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44, "user_id": 6606934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95dcfc71cb1ac0a9d8962b69c4397bcb?s=128&d=identicon&r=PG&f=1", "display_name": "laojianke", "link": "https://stackoverflow.com/users/6606934/laojianke"}, "is_accepted": false, "score": 0, "last_activity_date": 1468936736, "creation_date": 1468936736, "answer_id": 38460705, "question_id": 38458953, "link": "https://stackoverflow.com/questions/38458953/using-perl-one-liner-in-perl-script/38460705#38460705", "title": "Using perl one-liner in perl script", "body": "<p>I think bash command find + xargs and perl should be easier than perl loop.</p>\n\n<pre><code>find . -name '*.ini' |xargs perl -pi -e 's/Default/UTF-8/g'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1468960597, "last_edit_date": 1468960597, "creation_date": 1468947520, "answer_id": 38464399, "question_id": 38458953, "link": "https://stackoverflow.com/questions/38458953/using-perl-one-liner-in-perl-script/38464399#38464399", "title": "Using perl one-liner in perl script", "body": "<p><code>perl -i</code> boils down to the following core:</p>\n\n<pre><code>open(my $fh_in, '&lt;', $qfn);\nunlink($qfn);\nopen(my $fh_out, '&gt;', $qfn);\n</code></pre>\n\n<p><code>$fh_in</code> is called an anonymous file handle. Notice how the associated file from which it reads no longer exists in the directory.</p>\n\n<p>The problem is that Windows doesn't support anonymous file handles. When you delete a file that's already open, the directory entry remains until the file is closed. This prevents Perl from creating an output file with the same name. That's why <code>-i</code> (without an extension) isn't supported on Windows.</p>\n\n<pre><code>&gt;perl -i -ne\"...\" file\nCan't do inplace edit without backup.\n</code></pre>\n\n<p>But you aren't using Windows. You're using cygwin, an environment that emulates unix. That's why using <code>-i</code> (without an extension) didn't give you an error. However, cygwin is still limited to the capabilities of the host OS, so it can't create anonymous files<sup>[1]</sup>. As such, Perl is programmed to behave as if <code>-i.bak</code> was provided when <code>-i</code> is provided to a cygwin build of Perl.</p>\n\n<hr>\n\n<ol>\n<li><p>It seems to be able to emulate them, but that feature isn't being used for some reason.</p>\n\n<pre><code>$ cat foo\nabc\ndef\n\n$ perl -E'\n   open(my $fh, \"&lt;\", \"foo\") or die $!;\n   system(\"ls -1\");\n   say \"--\";\n   unlink(\"foo\") or warn $!;\n   system(\"ls -1\");\n   say \"--\";\n   print while &lt;$fh&gt;;\n'\nfoo\n--\n--\nabc\ndef\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 329, "user_id": 3989978, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/c1f202764ac43cbce2910a14aa4204f1?s=128&d=identicon&r=PG&f=1", "display_name": "Zii", "link": "https://stackoverflow.com/users/3989978/zii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1468960597, "creation_date": 1468932169, "question_id": 38458953, "link": "https://stackoverflow.com/questions/38458953/using-perl-one-liner-in-perl-script", "title": "Using perl one-liner in perl script", "body": "<p>I embedded one perl one-liner in one perl script , the purpose of which is to in-place replace one string with another for each line of the files with name extension .ini, but I found that every file is backed up with .bak.</p>\n\n<p>Since in the one-liner, I only specify <code>-i</code> rather than <code>-i.bak</code>, I wonder why the .bak file could be generated.</p>\n\n<pre><code>foreach my $dir (glob \"*.ini\") {\n    system qq(perl -i -pe 's|Default|UTF-8|' $dir);          \n}\n</code></pre>\n\n<p>Another question is whether there is any better,concise perl script to achieve the same target (without .bak file to be backed up), regardless of one-liner or not.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1468938375, "post_id": 38458083, "comment_id": 64326802, "body": "<code>date</code> works with timestamps (not duration), and it accurately provided the hour, minute and second components of the provided timestamp  (<code>1970-01-06T13:02:46Z</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4758463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/udsA3.jpg?s=128&g=1", "display_name": "saila sahoo", "link": "https://stackoverflow.com/users/4758463/saila-sahoo"}, "edited": false, "score": 0, "creation_date": 1468944891, "post_id": 38459051, "comment_id": 64331274, "body": "Thanks for the update but I am looking this to do done in .html file in [% ----- %] tag . Also [% date.format(tsecond,&#39;%H:%M:%S&#39;) %] , is working fine for below 24 hours , I also tested this as [% date.format(tsecond,&#39;%I:%M:%S&#39;) %]  in state of %H it is %I ----&gt; for 24 hours , but it is not doing any calculation and result is not correct"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 4758463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/udsA3.jpg?s=128&g=1", "display_name": "saila sahoo", "link": "https://stackoverflow.com/users/4758463/saila-sahoo"}, "edited": false, "score": 1, "creation_date": 1468948186, "post_id": 38459051, "comment_id": 64333111, "body": "@sailasahoo: I don&#39;t understand your question. I have shown you how to use Template Toolkit markup to insert the value you want, and I have explained that there is no module that will format the hours as you want. The only way is to write your own function, and a convenient way to use it is to pass it in the <b>vars</b> hash."}, {"owner": {"reputation": 1, "user_id": 4758463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/udsA3.jpg?s=128&g=1", "display_name": "saila sahoo", "link": "https://stackoverflow.com/users/4758463/saila-sahoo"}, "edited": false, "score": 0, "creation_date": 1469007599, "post_id": 38459051, "comment_id": 64357830, "body": "Hi,  Thanks for the respond . I understood the code you have written and the script you have written . But I need to do this in HTML . If data.format is not working , then I will script to javascript to do this . In Perl , we can in different ways like localtime , posix,GMTime etc . but I was looking in TT in HTML .  Thanks again for your help."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 4758463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/udsA3.jpg?s=128&g=1", "display_name": "saila sahoo", "link": "https://stackoverflow.com/users/4758463/saila-sahoo"}, "edited": false, "score": 0, "creation_date": 1469009581, "post_id": 38459051, "comment_id": 64359100, "body": "I&#39;m sorry but I&#39;m still unclear what you&#39;re doing. HTML isn&#39;t an executable language and you can&#39;t call the Template Toolkit processor from JavaScript. Do you mean you are running <code>tpage</code> perhaps? If you can&#39;t do things this way then it would be simple to write a small Template Toolkit plugin of your own that does do what you want."}, {"owner": {"reputation": 1, "user_id": 4758463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/udsA3.jpg?s=128&g=1", "display_name": "saila sahoo", "link": "https://stackoverflow.com/users/4758463/saila-sahoo"}, "edited": false, "score": 0, "creation_date": 1469013951, "post_id": 38459051, "comment_id": 64361965, "body": "Hi, it&#39;s very simple , I am calling my client side script (html) from server side script (perl)  using template toolkit . I hope you are not sure how I am using this framework. anyway , From the HTML page I can use [% %] and can use [% USE date %] .   I have to do some calculation on HTML and format the seconds to H:M:S  that&#39; s all ."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 4758463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/udsA3.jpg?s=128&g=1", "display_name": "saila sahoo", "link": "https://stackoverflow.com/users/4758463/saila-sahoo"}, "edited": false, "score": 0, "creation_date": 1469020674, "post_id": 38459051, "comment_id": 64366921, "body": "@sailasahoo: Okay, you&#39;re doing exactly what I imagined; it&#39;s just your terminology that confused me. First of all, there is no client-side script and you cannot &quot;call&quot; HTML -- it is simply data. Your Perl code must create a <code>Template::Toolkit</code> object and call something like <code>$tt-&gt;process</code> to process the template file, just as the code in my solution does. Template files contain (in this case) HTML data as well as directives that build text dynamically when the Perl code calls <code>process</code>. They normally have a suffix of <code>.tt</code> and are not HTML files."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 4758463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/udsA3.jpg?s=128&g=1", "display_name": "saila sahoo", "link": "https://stackoverflow.com/users/4758463/saila-sahoo"}, "edited": false, "score": 0, "creation_date": 1469020887, "post_id": 38459051, "comment_id": 64367085, "body": "@sailasahoo: You can use my solution above if you define the subroutine in your Perl code and pass it to the template through the <code>%vars</code> hash in the <code>process</code> call. Think of my code above as corresponding to your own Perl code, and the two lines of template code as being equivalent to your template file. I copied it from your own question thinking that you would understand the correspondence."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 4758463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/udsA3.jpg?s=128&g=1", "display_name": "saila sahoo", "link": "https://stackoverflow.com/users/4758463/saila-sahoo"}, "edited": false, "score": 0, "creation_date": 1469029983, "post_id": 38459051, "comment_id": 64372475, "body": "@sailasahoo: I have added a simple plugin solution so that you can provide the subroutine that way if you prefer."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1469030043, "last_edit_date": 1469030043, "creation_date": 1468932423, "answer_id": 38459051, "question_id": 38458083, "link": "https://stackoverflow.com/questions/38458083/why-doesnt-date-format-from-templateplugindate-return-the-duration-i-expe/38459051#38459051", "title": "Why doesn&#39;t date.format() from Template::Plugin::Date return the duration I expect?", "body": "\n\n<p>There isn't a plugin that will do that, but you can write your own function and pass it in the information hash, like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Time::Seconds;\nuse Template;\n\n\nmy $vars = {\n    format_hms =&gt; \\&amp;format_hms,\n};\n\nmy $tt = Template-&gt;new;\n\n$tt-&gt;process(\\&lt;&lt;END_TEMPLATE, $vars);\n[% SET tseconds = 478966 %]\n[% format_hms(tseconds) %]\nEND_TEMPLATE\n\n\nsub format_hms {\n\n    my $t = Time::Seconds-&gt;new(shift);\n\n    my $h = int $t-&gt;hours;\n    $t -= $h * ONE_HOUR;\n\n    my $m = int $t-&gt;minutes;\n    $t -= $m * ONE_MINUTE;\n\n    my $s = int $t-&gt;seconds;\n\n    sprintf \"%d:%02d:%02d\\n\", $h, $m, $s;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>133:02:46\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>In case you would prefer to make the code available through a custom plugin instead of by passing a subroutine reference in the <code>%vars</code> hash, here is a simple module that will allow you to do that</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>package Custom::Template::Plugin::Duration;\n\nuse strict;\nuse warnings 'all';\n\nuse base 'Template::Plugin';\n\nuse Time::Seconds;\n\n\nsub format_hms {\n\n    my $self = shift;\n\n    my $t = Time::Seconds-&gt;new($_[0]);\n\n    my $h = int $t-&gt;hours;\n    $t -= $h * ONE_HOUR;\n\n    my $m = int $t-&gt;minutes;\n    $t -= $m * ONE_MINUTE;\n\n    my $s = int $t-&gt;seconds;\n\n    sprintf \"%d:%02d:%02d\\n\", $h, $m, $s;\n}\n\n1;\n</code></pre>\n\n<p>If you save that as <code>Custom/Template/Plugin/Duration.pm</code> in one of the <code>@INC</code> directories (the current working directory is a good bet) then you can write code like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Template;\n\nmy $tt = Template-&gt;new(\n    PLUGINS =&gt; {\n        duration =&gt; 'Custom::Template::Plugin::Duration',\n    }\n);\n\n$tt-&gt;process(\\&lt;&lt;END_TEMPLATE);\n[% USE duration %]\n[% SET tseconds = 478966 %]\n[% tseconds %] is equivalent to\n[% duration.format_hms(tseconds) %]\nEND_TEMPLATE\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>478966 is equivalent to\n133:02:46\n</code></pre>\n\n<p>However there is nothing essentially different here except from the way the template is given access to the subroutine. The underlying code is identical</p>\n"}], "owner": {"reputation": 1, "user_id": 4758463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/udsA3.jpg?s=128&g=1", "display_name": "saila sahoo", "link": "https://stackoverflow.com/users/4758463/saila-sahoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469030043, "creation_date": 1468929995, "last_edit_date": 1468940471, "question_id": 38458083, "link": "https://stackoverflow.com/questions/38458083/why-doesnt-date-format-from-templateplugindate-return-the-duration-i-expe", "title": "Why doesn&#39;t date.format() from Template::Plugin::Date return the duration I expect?", "body": "<p>I have a duration in seconds that I'm trying to convert to HH:MM:SS format with the Template Toolkit plugin <a href=\"https://metacpan.org/pod/Template::Plugin::Date\" rel=\"nofollow\">Template::Plugin::Date</a>:</p>\n\n<pre><code>[% Use date %]\n[% SET tseconds = 478966 %]\n[% date.format(tseconds ,'%H:%M:%S') %]\n</code></pre>\n\n<p>This returns 13:02:46, but I expected it to return 133:02:46 (478966 seconds is equal to 133 hours, 2 minutes, and 46 seconds). Is there any other way to convert a duration in seconds to HH:MM:SS format using Template Toolkit?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1468927114, "post_id": 38456766, "comment_id": 64318015, "body": "Hash the ids by email, send the emails once the whole input has been processed."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1468927248, "creation_date": 1468927248, "answer_id": 38457076, "question_id": 38456766, "link": "https://stackoverflow.com/questions/38456766/perl-read-a-file-and-send-e-mail/38457076#38457076", "title": "Perl read a file and send e-mail", "body": "<p>You must aggregate the information from the log file into a hash before sending the mails</p>\n\n<p>Here's some example code which dumps the <code>%mail</code> hash instead of calling <code>sendmail</code> so that you can see the results</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Data::Dump;\n\nmy %users;\n\n{\n    open my $fh, '&lt;', \"output.txt\" or die \"could not open file: $!\";\n\n    while ( &lt;$fh&gt; ) { \n        my ($prod, $user) = split;\n        push @{ $users{$user} }, $prod;\n    }\n}\n\n# Convert arrays of product codes into comma-separated strings\n#\n$_ = join ', ', @$_ for values %users;\n\nwhile ( my ($user, $prods) = each %users ) {\n\n    my %mail = (\n        To      =&gt; $user,\n        From    =&gt; 'myemail@domain.com',\n        Subject =&gt; 'PRODUCT ID DETAILS',\n        Message =&gt; \"Your product IDs: $prods\",\n        Smtp    =&gt; 'mail.myorg.com',\n    );\n\n    dd \\%mail\n\n    #sendmail(%mail) or die $Mail::Sendmail::error;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\n  From =&gt; \"myemail\\@domain.com\",\n  Message =&gt; \"Your product IDs: D12345, A12309, F45470\",\n  Smtp =&gt; \"mail.myorg.com\",\n  Subject =&gt; \"PRODUCT ID DETAILS\",\n  To =&gt; \"joe\\@gmail.com\",\n}\n{\n  From =&gt; \"myemail\\@domain.com\",\n  Message =&gt; \"Your product IDs: B45678\",\n  Smtp =&gt; \"mail.myorg.com\",\n  Subject =&gt; \"PRODUCT ID DETAILS\",\n  To =&gt; \"don\\@gmail.com\",\n}\n{\n  From =&gt; \"myemail\\@domain.com\",\n  Message =&gt; \"Your product IDs: C67890, F45670\",\n  Smtp =&gt; \"mail.myorg.com\",\n  Subject =&gt; \"PRODUCT ID DETAILS\",\n  To =&gt; \"mary\\@gmail.com\",\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 286, "user_id": 1620215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AN3gN.jpg?s=128&g=1", "display_name": "Bagofjuice", "link": "https://stackoverflow.com/users/1620215/bagofjuice"}, "is_accepted": false, "score": 0, "last_activity_date": 1468927554, "creation_date": 1468927554, "answer_id": 38457207, "question_id": 38456766, "link": "https://stackoverflow.com/questions/38456766/perl-read-a-file-and-send-e-mail/38457207#38457207", "title": "Perl read a file and send e-mail", "body": "<p>This is not a perl question, just how to do basic coding.</p>\n\n<p>I would preprocess the data to fit your needs i.e. create a hash of arrays using the email id as the key and push the product into the array.</p>\n\n<p>You will end up with something like:</p>\n\n<pre><code>{\n    joe@gmail.com: ['D12345', 'A12309', 'F45470'],\n    mary@gmail.com: ['C67890', 'F45670'],\n    don@gmail.com: ['B45678']\n}\n</code></pre>\n\n<p>Once you've created that data structure form your log file it should be simple enough the iterate over each key and create an email with the values.</p>\n"}], "owner": {"reputation": 456, "user_id": 4902679, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4c798e668824f0209721b21bcb86ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/4902679/goku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 38457076, "answer_count": 2, "score": 0, "last_activity_date": 1468927554, "creation_date": 1468926376, "last_edit_date": 1468927224, "question_id": 38456766, "link": "https://stackoverflow.com/questions/38456766/perl-read-a-file-and-send-e-mail", "title": "Perl read a file and send e-mail", "body": "<p>I have a log file of below format</p>\n\n<pre><code>D12345 joe@gmail.com\nC67890 mary@gmail.com\nB45678 don@gmail.com\nA12309 joe@gmail.com\nF45670 mary@gmail.com\nF45470 joe@gmail.com\n</code></pre>\n\n<p>Currently I'm able to send e-mail to everyone with below e-mail body content</p>\n\n<pre><code>your Product id: $product_id\n</code></pre>\n\n<p>($product_id is D12345, A12309, F45470 , C67890, F45670)</p>\n\n<p>Problem is '<strong>N</strong>' e-mails are sent to an user if their e-mail id is present <strong>N</strong> times in the log file.</p>\n\n<p>Example :\n2 e-mails are sent to mary@gmail.com and 3 e-mails are sent to joe@gmail.com</p>\n\n<p>I want to send only one e-mail to the users but having all their product ids, if single e-mail id occurs multiple times in the output file, like</p>\n\n<pre><code>your Product ids: C67890, F45670 to mary@gmail.com\n</code></pre>\n\n<p>and </p>\n\n<pre><code>your Product ids: D12345, A12309, F45470 to joe@gmail\n</code></pre>\n\n<p>My current code snippet </p>\n\n<pre><code>open my $fh, '&lt;', \"output.txt\" or die \"could not open file: $!\";\nwhile (my $line = &lt;$fh&gt;) { \n    my ($product_id, $to_email) = $line =~ /(\\w\\d+)\\t(\\S+)/;\n\nmy $MailFrom = 'myemail@domain.com'; \nmy $subject = \"PRODUCT ID DETAILS\"; \nmy $message = \"your Product ids: $product_id\";\n\n%mail = ( \nTo =&gt; $to_email, \nFrom =&gt; $MailFrom,   \nSubject =&gt; $subject, \nMessage =&gt; $message \n); \n\n$mail{Smtp} = 'mail.myorg.com';\n\nsendmail(%mail)or die $Mail::Sendmail::error;\n}\nclose $fh;\n</code></pre>\n\n<p>Suggestions are really appreciated. Thanks in advance.</p>\n"}, {"tags": ["perl", "perlscript"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468925446, "post_id": 38456354, "comment_id": 64316840, "body": "We can&#39;t possibly help you unless you show the Perl code that isn&#39;t working"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6608050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adf8a732e55d8df92a40bcc903a3e6d?s=128&d=identicon&r=PG&f=1", "display_name": "Sel Vin", "link": "https://stackoverflow.com/users/6608050/sel-vin"}, "is_accepted": false, "score": 0, "last_activity_date": 1468935842, "creation_date": 1468935842, "answer_id": 38460386, "question_id": 38456354, "link": "https://stackoverflow.com/questions/38456354/search-a-list-file-of-files-for-keywords/38460386#38460386", "title": "Search a list file of files for keywords", "body": "<p>Okay Here is my Code</p>\n\n<pre><code>use warnings;\n use strict;\n\n open STDOUT, '&gt;&gt;', \"my_stdout_file.txt\";\n\n\n my $filename = $ARGV[2];\n  chomp ($filename);\n  open my $fh, q[&lt;], shift or die $!;\n\n   my %keyword = map { chomp; $_ =&gt; 1 } &lt;$fh&gt;;\n   print \"$fh\\n\";\n   while ( &lt;&gt; ) {\n    chomp;\n    my @words = split;\n    for ( my $i = 0; $i &lt;= $#words; $i++ ) {\n        if ( $keyword{ $words[ $i ] } ) {\n                print \"Keyword Found for file:$filename\\n\";\n                printf qq[$filename Line: %4d\\tWord position:         %4d\\tKeyword: %s\\n],\n                        $., $i, $words[ $i ];\n        }\n}\n}\n</code></pre>\n\n<p>But the problem is its considering all the Arguments and trying to open the files for ARGV[2]. Actually i need to Open only ARGV[0] and ARGV[1]. ARGV[2] i kept for writing in output only. \nAppreciate responses.\nThanks.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 6608050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adf8a732e55d8df92a40bcc903a3e6d?s=128&d=identicon&r=PG&f=1", "display_name": "Sel Vin", "link": "https://stackoverflow.com/users/6608050/sel-vin"}, "edited": false, "score": 0, "creation_date": 1468948656, "post_id": 38461506, "comment_id": 64333373, "body": "i&#39;m sorry this code returns error !     <code>Global symbol &quot;$i&quot; requires explicit package name. Global symbol &quot;$fh&quot; requires explicit package name</code>."}], "tags": [], "owner": {"reputation": 44, "user_id": 6606934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95dcfc71cb1ac0a9d8962b69c4397bcb?s=128&d=identicon&r=PG&f=1", "display_name": "laojianke", "link": "https://stackoverflow.com/users/6606934/laojianke"}, "is_accepted": false, "score": 0, "last_activity_date": 1468974048, "last_edit_date": 1468974048, "creation_date": 1468938881, "answer_id": 38461506, "question_id": 38456354, "link": "https://stackoverflow.com/questions/38456354/search-a-list-file-of-files-for-keywords/38461506#38461506", "title": "Search a list file of files for keywords", "body": "<p>I think maybe there are multipe keywords in one line of those txt files. So below code for your reference:</p>\n\n<pre><code>my @keywords;\nopen IN, \"keywords.txt\";\nwhile(&lt;IN&gt;) {\n    if(/^(.+)$/) {\n        push(@keywords, $1); \n    }\n} \nclose(IN);   \n\nmy @filelist=glob(\"*.txt\");\nforeach my $filename(@filelist) {\n    if(open my $fh, '&lt;', $filename) {\n        my $ln=1;\n        while(my $line = &lt;$fh&gt;) {\n            foreach my $kw(@keywords) {\n                if($line=~/$kw/) {\n                     print $filename.':'.$ln.':'.$kw.\"\\n\";\n                }\n            }\n            $ln++;\n        }\n    }\n    close($fh);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6608050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adf8a732e55d8df92a40bcc903a3e6d?s=128&d=identicon&r=PG&f=1", "display_name": "Sel Vin", "link": "https://stackoverflow.com/users/6608050/sel-vin"}, "is_accepted": false, "score": 0, "last_activity_date": 1469085897, "creation_date": 1469085897, "answer_id": 38497646, "question_id": 38456354, "link": "https://stackoverflow.com/questions/38456354/search-a-list-file-of-files-for-keywords/38497646#38497646", "title": "Search a list file of files for keywords", "body": "<p>Ok but one thing i noticed here is.. </p>\n\n<p>the Keywords</p>\n\n<pre><code>http://\noracle.com\n</code></pre>\n\n<p>it is matching the whole word, instead it should try to match as part of strings.. Only these keywords.. Others should be searched as per the above.</p>\n"}], "owner": {"reputation": 1, "user_id": 6608050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adf8a732e55d8df92a40bcc903a3e6d?s=128&d=identicon&r=PG&f=1", "display_name": "Sel Vin", "link": "https://stackoverflow.com/users/6608050/sel-vin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 3, "score": -4, "last_activity_date": 1469085897, "creation_date": 1468925254, "last_edit_date": 1468925393, "question_id": 38456354, "link": "https://stackoverflow.com/questions/38456354/search-a-list-file-of-files-for-keywords", "title": "Search a list file of files for keywords", "body": "\n\n<p>I have an array of files. Now I need to cat each file and search for a list of keywords which is in file <code>keywords.txt</code>.</p>\n\n<p>my <code>keywords.txt</code> contains below</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>AES\n3DES\nMD5\nDES\nSHA-1\nSHA-256\nSHA-512\n10.*\nhttp://\nwww.\n@john.com\njohn.com\n</code></pre>\n\n<p>and I'm expecting output as below</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>file jack.txt contains AES:5 (5 line number) http://:55\nfile new.txt contains 3DES:75 http://:105\n</code></pre>\n"}, {"tags": ["perl", "parameters", "arguments", "parameter-passing", "optional-parameters"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1468924999, "creation_date": 1468924999, "answer_id": 38456257, "question_id": 38456142, "link": "https://stackoverflow.com/questions/38456142/how-to-pass-optional-parameters-to-a-perl-subroutine/38456257#38456257", "title": "How to pass optional parameters to a Perl subroutine?", "body": "<p>The arguments to subroutines are lists in Perl. When you assign the arguments to an array, Perl doesn't know how long that array is supposed to be, so there is no way to do this:</p>\n\n<pre><code>sub frobnicate {    \n    my (@foo, $bar) = @_;\n}\n</code></pre>\n\n<p>In that case, <code>$bar</code> will always be <code>undef</code>, because it just assigns the rest of the list to <code>@foo</code>.</p>\n\n<p>Instead, you need to make the array-part of your arguments a reference, and derefence it correctly.</p>\n\n<pre><code>sub frobnicate {\n    my ($foo, $bar) = @_;\n\n    foreach my $element (@{ $foo }) {\n        # ...\n    }\n}\n</code></pre>\n\n<p>And then call it with a reference.</p>\n\n<pre><code>frobnicate(\\@foo, 123);\n</code></pre>\n\n<p>Because a reference is a scalar value, you now know how many elements will be in the argument list, and you can have optional arguments at the end of the list.</p>\n"}, {"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1468928739, "post_id": 38456269, "comment_id": 64319227, "body": "just a nit: it actually flattens all of the args into a single <i>list</i>. Although an array is itself a list, they aren&#39;t quite the same thing."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1468931050, "post_id": 38456269, "comment_id": 64321008, "body": "Fair point - I have a bad habit of using the terms interchangably, and I shouldn&#39;t."}, {"owner": {"reputation": 349, "user_id": 4865599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4881121f05630d37ff1d3a1bf56d149c?s=128&d=identicon&r=PG&f=1", "display_name": "essential", "link": "https://stackoverflow.com/users/4865599/essential"}, "edited": false, "score": 0, "creation_date": 1469008490, "post_id": 38456269, "comment_id": 64358414, "body": "It works fine.thank you for really quick answer and solution!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1468949276, "last_edit_date": 1468949276, "creation_date": 1468925038, "answer_id": 38456269, "question_id": 38456142, "link": "https://stackoverflow.com/questions/38456142/how-to-pass-optional-parameters-to-a-perl-subroutine/38456269#38456269", "title": "How to pass optional parameters to a Perl subroutine?", "body": "<p>Because perl passes a <em>single</em> list as arguments, and assigning <code>my ( @arrSwap, $num ) = @_</code> will <em>always</em> mean an empty <code>$num</code>, because <code>@arrSwap</code> will consume the entirety of the input. </p>\n\n<p>If you want to do this, you need to pass a reference</p>\n\n<pre><code>    my @arrSwap = ( 1,2,3 ); \n    deftest2 ( \\@arrSwap, 5);  \n\n    sub deftest2 { \n        my ( $arrSwap_ref, $num ) = @_; \n        $num //= 55;\n        print \"\\narrSwap\", $arrSwap -&gt; [1], \" num: $num\\n\";\n    }\n</code></pre>\n\n<p>Otherwise perl simply has no way to tell whether the last number is part of the list you sent, or an optional parameter. </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1468925172, "creation_date": 1468925172, "answer_id": 38456325, "question_id": 38456142, "link": "https://stackoverflow.com/questions/38456142/how-to-pass-optional-parameters-to-a-perl-subroutine/38456325#38456325", "title": "How to pass optional parameters to a Perl subroutine?", "body": "<p></p>\n\n<p>The array is expanded in the parameter list and forms the first N parameters, with <code>$num</code> appearing at the end</p>\n\n<p>If you pass the array that way then there is no way to tell from within the subroutine how many parameters came from the array, so it is always best to pass an array by <em>reference</em></p>\n\n<p>Your code would look like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my @arrSwap = ( 1, 2, 3 );\n\ndeftest2( \\@arrSwap, 5 );\ndeftest2( \\@arrSwap );\n\nsub deftest2 {\n    my ( $arrSwap, $num ) = @_;\n\n    if ( defined $num ) {\n        print \"\\n\\nCHECK 2 - Defined val $num\";\n    }\n    else {\n        $num = 55;\n    }\n    print \"\\narrSwap $arrSwap-&gt;[1] num: $num\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>CHECK 2 - Defined val 5\narrSwap 2 num: 5\n\narrSwap 2 num: 55\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 4865599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4881121f05630d37ff1d3a1bf56d149c?s=128&d=identicon&r=PG&f=1", "display_name": "essential", "link": "https://stackoverflow.com/users/4865599/essential"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1868, "favorite_count": 1, "accepted_answer_id": 38456269, "answer_count": 3, "score": 1, "last_activity_date": 1468949276, "creation_date": 1468924722, "question_id": 38456142, "link": "https://stackoverflow.com/questions/38456142/how-to-pass-optional-parameters-to-a-perl-subroutine", "title": "How to pass optional parameters to a Perl subroutine?", "body": "<p>I wanted to pass two arguments to my subroutine. The first parameter is required, the second parameter I want to be optional. Actually it works for non-array parameter in this script:</p>\n\n<pre><code>            deftest (\"string value test\",9);\n\n            sub deftest{\n                my ($strvalue, $num) = @_;\n                if (defined $num){\n                    print \"\\nCHECK 1 - Defined value $num\";\n                } else {\n                    $num //= 99;\n                }\n                print \"\\nstrvalue: $strvalue num: $num\\n\";\n            }\n</code></pre>\n\n<p>When I invoke this subroutine with  (\"string value test\",9); then on the screen:\n<br>\n<code>CHECK 1 - Defined value 9\nstrvalue: string value test num: 9</code></p>\n\n<p>When I don't enter the second argument, then the value is 99. So this works fine.</p>\n\n<p>The problem is, when I use the array in the first argument:</p>\n\n<pre><code>            my @arrSwap = (1,2,3);\n            deftest2 (@arrSwap,5);\n\n            sub deftest2{\n                my (@arrSwap, $num) = @_;\n                if (defined $num){\n                    print \"\\n\\nCHECK 2 - Defined val $num\";\n                } else {\n                    $num //= 55;\n                }\n                print \"\\narrSwap $arrSwap[1] num: $num\\n\";\n            }\n</code></pre>\n\n<p>After invoking this subroutine with deftest2 (@arrSwap,5); then on the screen I have only: <code>arrSwap 2 num: 55</code>\n (but 5 would be expected as it is defined).</p>\n\n<p>Why it doesn't work with the array?</p>\n"}, {"tags": ["perl", "xml-parsing"], "comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1468923431, "post_id": 38455647, "comment_id": 64315406, "body": "what you have tried? Please show us what you have tried then only we can help."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468923485, "post_id": 38455647, "comment_id": 64315446, "body": "What is the problem? In general you <i>have</i> to read the XML data into a variable before you parse it, although some modules allow you to specify a file name or file handle and hide the reading from you. Which module are you using?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1468923613, "post_id": 38455647, "comment_id": 64315535, "body": "<code>my $twig = XML::Twig -&gt; new -&gt; parse ( $xml )</code>. Of course, without knowing what you actually want to do, that&#39;s about the most I can give you."}, {"owner": {"reputation": 45, "user_id": 5546256, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2ozF7.jpg?s=128&g=1", "display_name": "Python_96", "link": "https://stackoverflow.com/users/5546256/python-96"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468923647, "post_id": 38455647, "comment_id": 64315551, "body": "@Borodin XML is contained in the variable $ tag."}, {"owner": {"reputation": 45, "user_id": 5546256, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2ozF7.jpg?s=128&g=1", "display_name": "Python_96", "link": "https://stackoverflow.com/users/5546256/python-96"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1468923757, "post_id": 38455647, "comment_id": 64315618, "body": "@Sobrique i have take the value and the voice it de en of tag in this example the value is &lt;valore&gt;TAG15&lt;/valore&gt; and  the voice is &lt;it&gt;Ristoranti e Pizzerie&lt;/it&gt;          &lt;de&gt;Restaurants und Pizzeria&lt;/de&gt;          &lt;en&gt;Restaurants and pizzerias&lt;/en&gt;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468923851, "post_id": 38455647, "comment_id": 64315706, "body": "<a href=\"https://metacpan.org/pod/Task::Kensho::XML\" rel=\"nofollow noreferrer\">metacpan.org/pod/Task::Kensho::XML</a>"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 5546256, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2ozF7.jpg?s=128&g=1", "display_name": "Python_96", "link": "https://stackoverflow.com/users/5546256/python-96"}, "edited": false, "score": 0, "creation_date": 1468924103, "post_id": 38455873, "comment_id": 64315893, "body": "Borodin i get this error no element found at line 1, column 0, byte -1 at /usr/lib/perl5/XML/Parser.pm line 187  at elenco_negozi.pl line 195"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1468924144, "post_id": 38455873, "comment_id": 64315919, "body": "Check the first line - make sure there&#39;s no leading whitespace."}, {"owner": {"reputation": 45, "user_id": 5546256, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2ozF7.jpg?s=128&g=1", "display_name": "Python_96", "link": "https://stackoverflow.com/users/5546256/python-96"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1468924240, "post_id": 38455873, "comment_id": 64315987, "body": "@Sobrique not have a whitespace."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468924271, "post_id": 38455873, "comment_id": 64316014, "body": "The code I have shown works fine. Check your own program carefully for differences. If you cannot find the problem then you may open a new question and we will help you with it."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 45, "user_id": 5546256, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2ozF7.jpg?s=128&g=1", "display_name": "Python_96", "link": "https://stackoverflow.com/users/5546256/python-96"}, "edited": false, "score": 1, "creation_date": 1468924438, "post_id": 38455873, "comment_id": 64316130, "body": "@Python_96: you have space before <b>&quot; &lt;</b>?xml versio&quot;"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1468924643, "post_id": 38455873, "comment_id": 64316258, "body": "@Borodin&#39;s code works as described. Your error message suggests that you&#39;ve got a problem with the very first character of your XML. Which if your post above is correct, has a space just before the XML declaration."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 45, "user_id": 5546256, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2ozF7.jpg?s=128&g=1", "display_name": "Python_96", "link": "https://stackoverflow.com/users/5546256/python-96"}, "edited": false, "score": 0, "creation_date": 1468924660, "post_id": 38455873, "comment_id": 64316276, "body": "@Python_96: That error would be the result if your <code>$tag</code> variable was empty. You should print the variable and make sure it contains what you think it does."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1468924826, "post_id": 38455873, "comment_id": 64316385, "body": "@Sobrique: That problem would be indicated by <code>XML or text declaration not at start of entity</code> from <code>XML::Twig</code> or <code>XML declaration allowed only at the start of the document</code> from <code>XML::LibXML</code>. Without an XML declaration, leading whitespace isn&#39;t an error. My best guess is that <code>$tag</code> is an empty string."}, {"owner": {"reputation": 45, "user_id": 5546256, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2ozF7.jpg?s=128&g=1", "display_name": "Python_96", "link": "https://stackoverflow.com/users/5546256/python-96"}, "edited": false, "score": 0, "creation_date": 1468931376, "post_id": 38455873, "comment_id": 64321278, "body": "@Borodin  the declaration of tag:  $tag = &amp;ParseTxt($tipoAdmin{$idStruttura}{&#39;62&#39;});        $tag = encode_entities( $tag );        my $twig = XML::Twig-&gt;new;"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1468923918, "creation_date": 1468923918, "answer_id": 38455873, "question_id": 38455647, "link": "https://stackoverflow.com/questions/38455647/how-to-parse-xml-from-a-variable/38455873#38455873", "title": "How to parse XML from a variable?", "body": "<p>It's hard to know what the problem is</p>\n\n<p>The two most popular high-quality XML modules are <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\"><code>XML::Twig</code></a> and <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow\"><code>XML::LibXML</code></a>. The program below uses <em>both</em> of them to parse the same XML data from your question</p>\n\n<p><strong><em>Note that you will use only one module or the other; not both as here</em></strong></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse XML::Twig;\n## OR\nuse XML::LibXML;\n\nmy $tag = &lt;&lt;END_XML;\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;tag&gt;\n   &lt;field type=\"tag\"&gt;\n      &lt;content&gt;\n         &lt;it&gt;Ristoranti e Pizzerie&lt;/it&gt;\n         &lt;de&gt;Restaurants und Pizzeria&lt;/de&gt;\n         &lt;en&gt;Restaurants and pizzerias&lt;/en&gt;\n      &lt;/content&gt;\n      &lt;valore&gt;TAG14&lt;/valore&gt;\n   &lt;/field&gt;\n   &lt;field type=\"tag\"&gt;\n      &lt;content&gt;\n         &lt;it&gt;Bar, Pub ed Enoteche&lt;/it&gt;\n         &lt;de&gt;Bar, Pub und Enotheken&lt;/de&gt;\n         &lt;en&gt;Bars, pubs and wine store&lt;/en&gt;\n      &lt;/content&gt;\n      &lt;valore&gt;TAG15&lt;/valore&gt;\n   &lt;/field&gt;\n&lt;/tag&gt;\nEND_XML\n\nmy $twig = XML::Twig-&gt;new;\n$twig-&gt;parse($tag);\n\n## OR\n\nmy $doc = XML::LibXML-&gt;load_xml(string =&gt; $tag);\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 5546256, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2ozF7.jpg?s=128&g=1", "display_name": "Python_96", "link": "https://stackoverflow.com/users/5546256/python-96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 585, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468924478, "creation_date": 1468923328, "last_edit_date": 1468924478, "question_id": 38455647, "link": "https://stackoverflow.com/questions/38455647/how-to-parse-xml-from-a-variable", "title": "How to parse XML from a variable?", "body": "\n\n<p>How do the XML parsing, in a variable with Perl?</p>\n\n<p>I get from my URL-encoded database, proceed with URL decode and I get an XML document.</p>\n\n<p>I need to parse this XML.</p>\n\n<p>I hope I was clear</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;tag&gt;\n   &lt;field type=\"tag\"&gt;\n      &lt;content&gt;\n         &lt;it&gt;Ristoranti e Pizzerie&lt;/it&gt;\n         &lt;de&gt;Restaurants und Pizzeria&lt;/de&gt;\n         &lt;en&gt;Restaurants and pizzerias&lt;/en&gt;\n      &lt;/content&gt;\n      &lt;valore&gt;TAG14&lt;/valore&gt;\n   &lt;/field&gt;\n   &lt;field type=\"tag\"&gt;\n      &lt;content&gt;\n         &lt;it&gt;Bar, Pub ed Enoteche&lt;/it&gt;\n         &lt;de&gt;Bar, Pub und Enotheken&lt;/de&gt;\n         &lt;en&gt;Bars, pubs and wine store&lt;/en&gt;\n      &lt;/content&gt;\n      &lt;valore&gt;TAG15&lt;/valore&gt;\n   &lt;/field&gt;\n&lt;/tag&gt;\n</code></pre>\n"}, {"tags": ["regex", "perl", "grep"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1468923205, "post_id": 38455527, "comment_id": 64315220, "body": "I think you had to use <code>grep -E &#39;(5[1-9]|4[1-9])$&#39; test.txt</code> before so that <code>$</code> pertained to both the branches."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468925908, "post_id": 38455713, "comment_id": 64317156, "body": "<i>&quot;You shouldn&#39;t try and construct a regex for selecting a numeric range - it&#39;ll lead you into madness&quot;</i> <a href=\"https://metacpan.org/pod/Number::Range::Regex\" rel=\"nofollow noreferrer\">Number::Range::Regex</a> may preserve your sanity"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1468923501, "creation_date": 1468923501, "answer_id": 38455713, "question_id": 38455527, "link": "https://stackoverflow.com/questions/38455527/perl-grep-a-range-on-values-in-an-array/38455713#38455713", "title": "Perl grep a range on values in an array", "body": "<p>That's because regular expressions are about <em>patterns</em> not _values. <code>grep</code> simply doesn't understand relative value. </p>\n\n<p>You need to extract the value first:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n\nwhile (&lt;DATA&gt;) {\n   if (   m/Enabled:(\\d+)/\n      and $1 &gt; 41\n      and $1 &lt; 59 )\n   {\n      print;\n   }\n}\n\n__DATA__\nNumber of items Enabled:43\nNumber of items Enabled:95\n</code></pre>\n\n<p>The <code>grep</code> function can be used in a similar way:</p>\n\n<pre><code>print grep { m/Enabled:(\\d+)/ and $1 &gt; 41 and $1 &lt; 59 } &lt;DATA&gt;;\n</code></pre>\n\n<p>You shouldn't try and construct a regex for selecting a numeric range - it'll lead you into madness. </p>\n"}, {"tags": [], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "is_accepted": false, "score": 0, "last_activity_date": 1468927706, "last_edit_date": 1468927706, "creation_date": 1468924877, "answer_id": 38456205, "question_id": 38455527, "link": "https://stackoverflow.com/questions/38455527/perl-grep-a-range-on-values-in-an-array/38456205#38456205", "title": "Perl grep a range on values in an array", "body": "<pre><code>use strict;\nuse warnings;\n\n    while(&lt;DATA&gt;){\n        if ( m/.*?Enabled:(4[1-9])|(5[0-9])/){\n            print $_;\n        }\n    }\n\n__DATA__\nNumber of items Enabled:43\nNumber of items Enabled:50\nNumber of items Enabled:52\nNumber of items Enabled:40\n\nm/.*?Enabled:(4[1-9])|(5[0-9])/\n</code></pre>\n\n<p>1)<code>.*?</code> is a non-greedy regex, this means that it will match anything until the next element<br>\n from your regex is found ( in this case : \"Enabled\")\n<br>2) <code>Enabled:</code> matches the string <code>Enabled:</code>\n<br>3)<code>(4[1-9])|5[0-9])</code><br>    3.1) <code>(4[1-9])</code> will search for a 4 followed by a number between 1-9<br><code>|</code>or<br>3.2)<code>(5[0-9])</code> will search for a 5 followed by a number between 0-9</p>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 0, "last_activity_date": 1468927434, "last_edit_date": 1468927434, "creation_date": 1468926035, "answer_id": 38456673, "question_id": 38455527, "link": "https://stackoverflow.com/questions/38455527/perl-grep-a-range-on-values-in-an-array/38456673#38456673", "title": "Perl grep a range on values in an array", "body": "<p>It isn't really different, note that you can avoid the alternation for this specific case:</p>\n\n<pre><code>print join \" \", grep(/\\b([45][0-9])$/ &amp;&amp; $1 != 40, qw(12 18 41 52 40 59 64))\n</code></pre>\n"}], "owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1468927706, "creation_date": 1468923028, "question_id": 38455527, "link": "https://stackoverflow.com/questions/38455527/perl-grep-a-range-on-values-in-an-array", "title": "Perl grep a range on values in an array", "body": "<p>Contents of file:</p>\n\n<pre><code>Number of items Enabled:43\nNumber of items Enabled:95\n</code></pre>\n\n<p>Command to grep out any value within the file between 41-59</p>\n\n<pre><code>grep -E '5[1-9]|4[1-9]$' test.txt\n</code></pre>\n\n<p>Returns</p>\n\n<pre><code>Number of items Enabled:43\n</code></pre>\n\n<p>I need to do the same thing within an array which has the same contents. Currently i'm using the below command to return a specific number but want to look up the same range 41-59:</p>\n\n<pre><code>if (grep(/43/,  @TESTARRAY)) {}\n</code></pre>\n\n<p>I can't seem to get the syntax correct</p>\n"}, {"tags": ["perl", "email"], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1468929283, "post_id": 38454006, "comment_id": 64319643, "body": "<a href=\"https://en.wikipedia.org/wiki/Rubber_duck_debugging\" rel=\"nofollow noreferrer\">Rubber Duck Debugging</a> strikes again!"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1468941833, "post_id": 38454006, "comment_id": 64329215, "body": "@stevieb haha I&#39;ve never heard that term before... just about sums it up though! (and wouldn&#39;t be the first time its happened either)"}], "tags": [], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "is_accepted": true, "score": 2, "last_activity_date": 1468919084, "creation_date": 1468919084, "answer_id": 38454006, "question_id": 38453965, "link": "https://stackoverflow.com/questions/38453965/piping-email-to-perl-script-but-always-gives-back-error-message/38454006#38454006", "title": "Piping email to Perl script, but always gives back error message", "body": "<p>Eugh, I knew this would happen! Literally as  soon as I posted, I found the answer here:</p>\n\n<p><a href=\"https://confluence2.cpanel.net/display/ALD/Forwarders#Forwarders-PipetoaProgram\" rel=\"nofollow\">https://confluence2.cpanel.net/display/ALD/Forwarders#Forwarders-PipetoaProgram</a></p>\n\n<blockquote>\n  <p>If your script produces any output, even a blank line, the system will\n  create a bounce message that contains that output.</p>\n</blockquote>\n"}], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 38454006, "answer_count": 1, "score": 0, "last_activity_date": 1468919084, "creation_date": 1468918983, "question_id": 38453965, "link": "https://stackoverflow.com/questions/38453965/piping-email-to-perl-script-but-always-gives-back-error-message", "title": "Piping email to Perl script, but always gives back error message", "body": "<p>I'm trying to figure out how to get this email piping to work in a script I'm doing. In CPanel, I have it setup to forward to:</p>\n\n<blockquote>\n  <p>Current Setting: |/home/user/public_html/cgi-bin/links/email-in.cgi</p>\n</blockquote>\n\n<p>The script is really simple:</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nuse strict;\nuse lib '/home/user/public_html/cgi-bin/links/admin';\nuse Links qw/$DB $IN $CFG/;\nuse CGI::Carp qw(fatalsToBrowser);\nuse Links;\n\nLinks::init('/home/user/public_html/cgi-bin/links/admin');\n\nopen (STDERR, \"&gt;&gt;/home/user/public_html/cgi-bin/links/mail.log\") || die $!;\n\nmy $message;\nwhile (&lt;STDIN&gt;) {\n    $message .= $_;\n}\n\nprint STDERR qq|$message\\n\\n|;\n\nclose (STDERR);\n\nprint $IN-&gt;header;\nprint \"FOO BAR\";\n</code></pre>\n\n<p>Then sending a test email to that address, I correctly see the value of <code>&lt;STDIN&gt;</code> in email.log. However, a minute or so later, I get this email bounced back:</p>\n\n<blockquote>\n  <p>This message was created automatically by mail delivery software.</p>\n  \n  <p>A message that you sent could not be delivered to one or more of its\n  recipients. This is a permanent error. The following address(es)\n  failed:</p>\n  \n  <p>pipe to |/home/user/public_html/cgi-bin/links/email-in.cgi\n      generated by foo@resa.site.org</p>\n  \n  <p>The following text was generated during the delivery attempt:</p>\n  \n  <p>------ pipe to |/home/user/public_html/cgi-bin/links/email-in.cgi\n         generated by foo@resa.site.org ------</p>\n  \n  <p>Content-type: text/html; charset=iso-8859-1</p>\n  \n  <p>FOO BAR Action: failed Final-Recipient:\n  rfc822;|/home/user/public_html/cgi-bin/links/email-in.cgi Status:\n  5.0.0</p>\n</blockquote>\n\n<p>I'm a bit confused as to why its doing that. Do I need to return a specific header, or something like that? (to tell the email program that its been properly processed)</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 564, "user_id": 2256825, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aeb1455c5a16c144d42b9701f4bf7a68?s=128&d=identicon&r=PG", "display_name": "user2256825", "link": "https://stackoverflow.com/users/2256825/user2256825"}, "edited": false, "score": 0, "creation_date": 1468915177, "post_id": 38452613, "comment_id": 64309772, "body": "Not Sure, i would need the edit the question,Also i needed some suggestions about the current code.  Also , though the code is same, the data block is nt being picked here :) In the other code, it was the file not the data block"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468915529, "post_id": 38452613, "comment_id": 64309958, "body": "This is not an answer to the question. Leave a comment with the link on the question, and if you believe it&#39;s a duplicate, say so."}, {"owner": {"reputation": 564, "user_id": 2256825, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aeb1455c5a16c144d42b9701f4bf7a68?s=128&d=identicon&r=PG", "display_name": "user2256825", "link": "https://stackoverflow.com/users/2256825/user2256825"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468915776, "post_id": 38452613, "comment_id": 64310098, "body": "@simbabque sure. , but the code in both are different though they pick the same data, and array creation part, but this has data processing too which is not available in the other . Should I edit the other thread and add this code ?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468916254, "post_id": 38452613, "comment_id": 64310380, "body": "No, don&#39;t edit your old answer to the other question. If you can provide an answer here that is significantly different from the old one, go ahead. If it&#39;s about the inside of the loop, explain that, and don&#39;t explain the loop. But <i>this might help you</i> is a comment, not an answer."}], "tags": [], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "is_accepted": false, "score": 0, "last_activity_date": 1468916249, "last_edit_date": 1495540735, "creation_date": 1468915098, "answer_id": 38452613, "question_id": 38452271, "link": "https://stackoverflow.com/questions/38452271/data-block-in-perl-not-being-picked/38452613#38452613", "title": "Data Block in perl not being picked", "body": "<p>You may want to look at this question. I think it's similar with what you need.\n<a href=\"https://stackoverflow.com/a/38452025/6594367\">https://stackoverflow.com/a/38452025/6594367</a></p>\n\n<p>Adapted to your case : </p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $var;\n{    \n    local $/;\n    $var = &lt;DATA&gt;;\n}\nmy @array = split ( /\\n\\n/, $var); # your information is separated by double \\n\nuse Data::Dumper;\nprint Dumper @array;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/IX5WW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IX5WW.png\" alt=\"Here is your content from __DATA__\"></a></p>\n\n<p>From here you can parse your elements like this: </p>\n\n<pre><code>my @index_containing_My = grep { /My\\sBEING\\sREMOVED/ } @array;\n.... \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1468916104, "post_id": 38452851, "comment_id": 64310290, "body": "This sounds interesting, but I think this answer would be improved with a reference."}, {"owner": {"reputation": 564, "user_id": 2256825, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aeb1455c5a16c144d42b9701f4bf7a68?s=128&d=identicon&r=PG", "display_name": "user2256825", "link": "https://stackoverflow.com/users/2256825/user2256825"}, "edited": false, "score": 0, "creation_date": 1468916144, "post_id": 38452851, "comment_id": 64310317, "body": "Thanks, that works . Any suggestion on the way the data is being processed ?"}, {"owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "reply_to_user": {"reputation": 564, "user_id": 2256825, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aeb1455c5a16c144d42b9701f4bf7a68?s=128&d=identicon&r=PG", "display_name": "user2256825", "link": "https://stackoverflow.com/users/2256825/user2256825"}, "edited": false, "score": 1, "creation_date": 1468916691, "post_id": 38452851, "comment_id": 64310634, "body": "@user2256825 Yes, I do have suggestions, but you should have another question for that, since it&#39;s a completely different matter."}, {"owner": {"reputation": 564, "user_id": 2256825, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aeb1455c5a16c144d42b9701f4bf7a68?s=128&d=identicon&r=PG", "display_name": "user2256825", "link": "https://stackoverflow.com/users/2256825/user2256825"}, "edited": false, "score": 0, "creation_date": 1468917136, "post_id": 38452851, "comment_id": 64310900, "body": "@chatterone  It&#39;ll be one more possible duplicate if I create another question. Also , I be mentioned suggestion in this question. Thanks"}], "tags": [], "owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "is_accepted": true, "score": 4, "last_activity_date": 1468916645, "last_edit_date": 1468916645, "creation_date": 1468915916, "answer_id": 38452851, "question_id": 38452271, "link": "https://stackoverflow.com/questions/38452271/data-block-in-perl-not-being-picked/38452851#38452851", "title": "Data Block in perl not being picked", "body": "<p>There is a known problem with <code>use Switch</code> and the <code>__DATA__</code> block.\nRemove the <code>use Switch</code> and it will work.</p>\n\n<p>See a <a href=\"http://www.perlmonks.org/?node_id=909940\" rel=\"nofollow\">relevant perlmonks question</a> exactly on this. Apprently it's related to how <code>Switch</code> module filters the source.</p>\n"}], "owner": {"reputation": 564, "user_id": 2256825, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aeb1455c5a16c144d42b9701f4bf7a68?s=128&d=identicon&r=PG", "display_name": "user2256825", "link": "https://stackoverflow.com/users/2256825/user2256825"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 38452851, "answer_count": 2, "score": 0, "last_activity_date": 1468916645, "creation_date": 1468913954, "last_edit_date": 1495540735, "question_id": 38452271, "link": "https://stackoverflow.com/questions/38452271/data-block-in-perl-not-being-picked", "title": "Data Block in perl not being picked", "body": "<p>Below code works fine, if i get the data from the file\nBut does'nt really  work if i have same data in the data block\nThe motto of this script is to search for 780222306003 in array of it starts with a pattern My BEING REMOVED\nand search 'up.v.000652',780222304203 if it starts with a pattern LINK BEING REMOVED</p>\n\n<p>Any advises to change the code if any ?</p>\n\n<pre><code>use Switch; \nuse strict ; \nuse warnings; \n\nuse Data::Dumper; \n\nmy $chunk_separator=q(); \nlocal $/ = $chunk_separator; \ngetFirstIntervalReport('MY_W',780222306003,'up.v.000652',780222304203); \n\n\nsub getFirstIntervalReport \n{ \n    my ($wssmInstType, $expLinkMy, $expStation,$expectedMyFailure) = @_; \n    my $scan = \"on\"; \n    # Sort the report files basd on the date in the file name and process each file \n        my @fileData = &lt;DATA&gt;; \n        foreach my $input_line (@fileData) \n        { \n            print \"$input_line \\n\"; \n           my @my_fields =  split /\\n/, $input_line ; \n           my $info_containing_My = grep  /My BEING REMOVED/ , $my_fields[0]; \n           my $info_containing_link = grep  /LINK BEING REMOVED/ , $my_fields[0]; \n           if( $info_containing_My ) { \n              print Dumper @my_fields; \n              if( grep  /$expectedMyFailure/ , $my_fields[1]){ \n                print Dumper @my_fields; \n              } \n              else { print \"Expected My not deleted \\n \"; } \n           } \n\n           elsif ( $info_containing_link &amp;&amp; $scan eq \"on\" ){ \n              if((grep  /$expLinkMy/ , $my_fields[2]) &amp;&amp;  (grep /$expStation/ ,$my_fields[3])){ \n                 $scan = \"off\" ; \n                 print Dumper @my_fields; \n              } \n              else { \n                  $scan = \"on\" ; \n                  next; \n              } \n           } \n       } \n       if($scan eq \"on\") { print \" $expLinkMy, $expStation Not Found \\n\"} \n       } \n\n\n\n\n__DATA__ \n&lt;ALERT&gt; ID=7 Link Straight info Loss with count of 10 for \n        My Identifier:780222304404 \n        Station Address:up.v.000654 \nTime: 1468581106 \n\n&lt;ALERT&gt; ID=17 Link Straight info Loss with count of 10 for \n        My Identifier:780222304203 \n         Station Address:up.v.000657 \nTime: 1468581994 \n\n&lt;INFO&gt;  LINK BEING REMOVED: Link has had no communication for an extended period of time - being removed from monitoring \nfor \n        My Identifier:780222304404 \n         Station Address:up.v.000654 \nTime: 1468582162 \n\n&lt;INFO&gt;  LINK BEING REMOVED: Link has had no communication for an extended period of time - being removed from monitoring \nfor \n        My Identifier:780222306003 \n         Station Address:up.v.000654 \nTime: 1468582562 \n\n&lt;INFO&gt;  LINK BEING REMOVED: Link has had no communication for an extended period of time - being removed from monitoring \nfor \n        My Identifier:780222304203 \n         Station Address:up.v.000301 \nTime: 1468583082 \n\n&lt;INFO&gt;  LINK BEING REMOVED: Link has had no communication for an extended period of time - being removed from monitoring \nfor \n        My Identifier:780222304203 \n         Station Address:up.v.000654 \nTime: 1468583082 \n\n&lt;INFO&gt;  LINK BEING REMOVED: Link has had no communication for an extended period of time - being removed from monitoring \nfor \n        My Identifier:780222304203 \n         Station Address:up.v.000656 \nTime: 1468583082 \n\n&lt;INFO&gt;  LINK BEING REMOVED: Link has had no communication for an extended period of time - being removed from monitoring \nfor \n        My Identifier:780222304203 \n         Station Address:up.v.000657 \nTime: 1468583082 \n\n&lt;INFO&gt;  LINK BEING REMOVED: Link has had no communication for an extended period of time - being removed from monitoring \nfor \n        My Identifier:780222304203 \n        Station Address:up.v.000656 \nTime: 1468583082 \n\n&lt;INFO&gt;  LINK BEING REMOVED: Link has had no communication for an extended period of time - being removed from monitoring \nfor \n        My Identifier:780222304203 \n        Station Address:up.v.000657 \nTime: 1468583082 \n\n&lt;INFO&gt;  LINK BEING REMOVED: Link has had no communication for an extended period of time - being removed from monitoring \nfor \n        My Identifier:780222306003 \n         Station Address:up.v.000652 \nTime: 1468583578 \n\n&lt;INFO&gt;  My BEING REMOVED: Link has had no communication for an extended period of time - being removed from monitoring \n        My Identifier:780222304203 \nTime: 1468583082 \n\n&lt;INFO&gt;  My BEING REMOVED: Link has had no communication for an extended period of time - being removed from monitoring \n        My Identifier:780222304454 \nTime: 1468583082\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/38452025/6594367\">https://stackoverflow.com/a/38452025/6594367</a> </p>\n"}, {"tags": ["multithreading", "perl"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1468919325, "creation_date": 1468919325, "answer_id": 38454098, "question_id": 38452256, "link": "https://stackoverflow.com/questions/38452256/linux-perl-threads-serialport-close-and-open-again/38454098#38454098", "title": "Linux Perl Threads SerialPort close and open again", "body": "<p>Well, without you posting your actual code - it's hard to say.</p>\n\n<p>However I <em>think</em> the problem will be because you create <code>$dev</code> before threads start - and instantiate it with <code>port_init()</code> - but then each thread inherits a <em>clone</em> of this object, when they start. </p>\n\n<p>This leaves you in a very messy state - one I'd strongly suggest <em>not</em> getting into in the first place. Because each thread is still running - it's active, but detached - so will be 'holding' it's own instance of the port filehandle. </p>\n\n<p>That's very messy, and is almost certainly why this isn't working properly. </p>\n\n<p>I would suggest you not get into this situation in the first place - don't share a port like that, just have one thread that handles the whole thing. Use <code>Thread::Queue</code> if you need something more complicated than a shared variable for IPC.</p>\n"}], "owner": {"reputation": 1, "user_id": 5020108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cc9b4039b2e83ab25000ca4e40c6efe?s=128&d=identicon&r=PG&f=1", "display_name": "atzeohneglatze", "link": "https://stackoverflow.com/users/5020108/atzeohneglatze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468919325, "creation_date": 1468913913, "question_id": 38452256, "link": "https://stackoverflow.com/questions/38452256/linux-perl-threads-serialport-close-and-open-again", "title": "Linux Perl Threads SerialPort close and open again", "body": "<p>I'm using a Serial Port in Perl Threads, i can read and write in Threads. But if I want to close the Serial Port so that another application can use the port and open it later again, I cannot read and write anymore. How to do that?</p>\n\n<pre><code>my $dev;\nmy $port = \"/dev/ttyACM0\";\nmy $run :shared = 0;\nmy $thr;\nmy $read_thr;\n\nsub port_init\n{\n    $dev = Device::SerialPort-&gt;new($port, 1) || die \"Cannot open $port: $!\\n\";\n\n    $dev-&gt;baudrate(115200);\n    ...\n\n    $run = 1;\n}\n\nsub read_port  # read async\n{\n    my $str;\n    while ($run == 1)\n    {\n        $str = $dev-&gt;lookfor;\n        if ($str ne \"\")\n        {\n            print \"recv: $str\\n\";\n        }\n        sleep 0.5;\n    }\n}\n\nsub write_port\n{\n    my $msg = shift;\n    if ($run == 1)\n    {\n        $dev-&gt;write($msg.\"\\r\");\n    }\n}\n\nsub close_port\n{\n    $run = 0;\n    $dev-&gt;close;\n}\n\n# Main\nport_init();\n$read_thr = threads-&gt;new(\\&amp;read_port);\n$read_thr-&gt;detach();\n\nif (\"event1 occurs\") # send cmd to port\n{\n    $thr = threads-&gt;new(\\&amp;write_port, \"ATI\"); # works, response received\n    $thr-&gt;detach();\n}\n\nif (\"event2 occurs\") # another application is requesting the port\n{\n    $thr = threads-&gt;new(\\&amp;close_port);\n    $thr-&gt;detach();\n\n    # wait till application has finished\n\n    port_init();\n\n    $read_thr = threads-&gt;new(\\&amp;read_port);\n    $read_thr-&gt;detach();\n\n    # send cmd to port, doesn't work\n    $thr = threads-&gt;new(\\&amp;write_port, \"ATI\");\n    $thr-&gt;detach();\n\n}\n</code></pre>\n\n<p>After closing the port, I cannot use it anymore. read_port throws Error #9 in Device::SerialPort::input after starting it second time. I need Threads, because the parser must be accessable at all time.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468912863, "post_id": 38451870, "comment_id": 64308448, "body": "You have syntax errors in your code. There is no <code>elseif</code> in Perl. It&#39;s <code>elsif</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1468913013, "post_id": 38451870, "comment_id": 64308527, "body": "Also your <i>approach</i> doesn&#39;t show any function calling beside the one <code>ls()</code>, which is a method. It&#39;s not clear what you want to do, so there is no way of saying if you are doing it right. Please <a href=\"https://stackoverflow.com/posts/38451870/edit\">edit</a> your question, fix the syntax error, indent your code in a way that it&#39;s legible and describe the problem you are having."}, {"owner": {"reputation": 760, "user_id": 5614644, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/StKQj.jpg?s=128&g=1", "display_name": "Dhruv Tyagi", "link": "https://stackoverflow.com/users/5614644/dhruv-tyagi"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468914484, "post_id": 38451870, "comment_id": 64309374, "body": "yes i got it and i update my question so please check it"}, {"owner": {"reputation": 760, "user_id": 5614644, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/StKQj.jpg?s=128&g=1", "display_name": "Dhruv Tyagi", "link": "https://stackoverflow.com/users/5614644/dhruv-tyagi"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468915150, "post_id": 38451870, "comment_id": 64309756, "body": "@AruneshSingh oky sir and one more thing sir  if i have to pass the arguments to my function then this approach is right or not.... <code>elsif($length == 1){             check_ls_version($version);     } sub check_ls_version($version){ $folder=$foo-&gt;ls(version_number=&gt;$version);         $length=@listing; }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 760, "user_id": 5614644, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/StKQj.jpg?s=128&g=1", "display_name": "Dhruv Tyagi", "link": "https://stackoverflow.com/users/5614644/dhruv-tyagi"}, "edited": false, "score": 0, "creation_date": 1468916124, "post_id": 38452707, "comment_id": 64310303, "body": "<code>if($length == 1){ \t\t\tforeach my $entry (@listing){ \t\t\t\t\t \t\t  if($entry-&gt;{folder_name} eq &#39;Development&#39;){ \t\t my $new_version_number=$entry-&gt;{version_number}; \t\t  } \t\t} \t\t\t_check_ls_version($new_version_number);\t \t\t}  sub _check_ls_version($version){  $folder=$foo-&gt;ls(version_number=&gt;$version); \t\t\t$length=@listing; \t\t\t\tif($folder){ \t\t\t \t\t\tforeach my $entry (@listing){ \t\t\t\t\t \t\t  if($entry-&gt;{folder_name} eq &#39;PerlProject&#39;){ \t\t   $new_entryId=$entry-&gt;{entry_id}; \t\t  } \t\t} \t\t\t} }</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 760, "user_id": 5614644, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/StKQj.jpg?s=128&g=1", "display_name": "Dhruv Tyagi", "link": "https://stackoverflow.com/users/5614644/dhruv-tyagi"}, "edited": false, "score": 2, "creation_date": 1468917134, "post_id": 38452707, "comment_id": 64310899, "body": "@Dhruv what are you trying to say with that?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468919691, "post_id": 38452707, "comment_id": 64312652, "body": "<i>&quot;faculty&quot;</i>? Do you mean <i>factorial</i>?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468921526, "post_id": 38452707, "comment_id": 64314061, "body": "@borodin, yes. Sorry, that&#39;s a false friend. It&#39;s <i>Fakult&#228;t</i> in German, which also translates to faculty."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1472726829, "last_edit_date": 1472726829, "creation_date": 1468915424, "answer_id": 38452707, "question_id": 38451870, "link": "https://stackoverflow.com/questions/38451870/recursion-structures-in-perl/38452707#38452707", "title": "recursion structures in perl", "body": "<p>This is a perfectly valid approach. It's called <a href=\"https://en.wikipedia.org/wiki/Recursion_(computer_science)\" rel=\"nofollow\">recursion</a>, and it's often used to traverse tree-like structures. </p>\n\n<p>It's important to include a condition that will end the recursion.</p>\n\n<p><strong>However</strong> your code looks like it's not going to work. You are using global variables. You should be using <em>lexicals</em> declared using <a href=\"http://perldoc.perl.org/functions/my.html\" rel=\"nofollow\">the <code>my</code> keyword</a> inside of your function, and you need to pass in the current state into the recursion. </p>\n\n<p>Consider this example of calculating factorials.</p>\n\n<pre><code>sub fac {\n    my $number = shift;\n\n    return 1 if $number == 1;\n    return $number * fac($number - 1);\n}\n\nprint fac(5);\n</code></pre>\n\n<p>It will go all the way into the recursion down to the deepest level. Then it will calculate <em>backwards</em> up the recursion tree. In each call, the lexical variables will be scoped, so they don't clash or get overwritten.</p>\n\n<p>Look at this rewrite with debug output.</p>\n\n<pre><code>sub fac {\n    my $number = shift;\n\n    print \"in: $number\\n\";\n\n    return 1 if $number == 1;\n\n    my $return = $number * fac($number - 1);\n    print \"out: $return\\n\";\n\n    return $return;\n}\n\n\nprint fac(5);\n</code></pre>\n\n<p>Here is the output.</p>\n\n<pre><code>in: 5\nin: 4\nin: 3\nin: 2\nin: 1\nout: 2\nout: 6\nout: 24\nout: 120\n120\n</code></pre>\n\n<hr>\n\n<p>If you run a Perl that is at least version 5.16, you can use <a href=\"http://perldoc.perl.org/functions/__SUB__.html\" rel=\"nofollow\">the <code>__SUB__</code> keyword</a> instead of the name of your sub inside of that same sub. It returns a reference to the current subroutine. That way, you can even build recursive anonymous subs. You do need to turn it on with <code>use feature 'current_sub'</code> or <code>use v5.16</code> though.</p>\n\n<pre><code>use feature 'current_sub';\n\nsub fac {\n    my $number = shift;\n\n    print \"in: $number\\n\";\n\n    return 1 if $number == 1;\n\n    my $return = $number * __SUB__-&gt;($number - 1);\n    print \"out: $return\\n\";\n\n    return $return;\n}\n</code></pre>\n\n<hr>\n\n<p>Also add <a href=\"http://perldoc.perl.org/strict.html\" rel=\"nofollow\">the <code>use strict</code></a> and <a href=\"http://perldoc.perl.org/warnings.html\" rel=\"nofollow\"><code>use warnings 'all'</code></a> pragmas to your code to enforce stricter rules that will make it easier to debug your code.</p>\n"}], "owner": {"reputation": 760, "user_id": 5614644, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/StKQj.jpg?s=128&g=1", "display_name": "Dhruv Tyagi", "link": "https://stackoverflow.com/users/5614644/dhruv-tyagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 38452707, "answer_count": 1, "score": -2, "last_activity_date": 1486626119, "creation_date": 1468912734, "last_edit_date": 1486626119, "question_id": 38451870, "link": "https://stackoverflow.com/questions/38451870/recursion-structures-in-perl", "title": "recursion structures in perl", "body": "<p>In Perl code I have to call the <code>ls</code> function and check it if any child is there. Then I have to call the same function again otherwise perform some action.</p>\n\n<p>For example</p>\n\n<pre><code># call ls Method\n\nsub check_ls {\n\n    $folder = $foo-&gt;ls();\n    $length = @listing;\n\n    if ( $length &gt; 1 ) {\n\n        #do something\n    }\n    elsif ( $length == 1 ) {\n        check_ls();\n    }\n}\n</code></pre>\n\n<p>==================================================</p>\n\n<pre><code>   Question-2: \n</code></pre>\n\n<p>can anyone describe/edit my below code(And i want to know the flow of the below structure)</p>\n\n<pre><code>my $foo=cms::folder_entry-&gt;new(); #create a new object of folder_entry class\n$root_entry_id =$foo-&gt;new_root_folder(folder_name=&gt;'test_root_timestamp'); #now i call the new_root_folder and in return i got the id\nmy $root = folder_entry_id-&gt;new($root_entry_id); #now again create a new object through passing $root_entry_id parameter\n</code></pre>\n\n<p>or the below statement is the correct statement?</p>\n\n<pre><code>  my @listing = $root-&gt;$foo-&gt;ls();\n</code></pre>\n\n<p>Please edit my Comment if i am wrong in secound Question</p>\n"}, {"tags": ["perl", "perforce"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1468908943, "post_id": 38450725, "comment_id": 64306409, "body": "You want <code>`command`</code>, not <code>system(&#39;command&#39;)</code>."}, {"owner": {"reputation": 167, "user_id": 5005698, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/962075417175866/picture?type=large", "display_name": "Vishal Khemani", "link": "https://stackoverflow.com/users/5005698/vishal-khemani"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468909207, "post_id": 38450725, "comment_id": 64306518, "body": "If I only write : my $workspace_root=p4 client -o | findstr /b Root;  I get error."}, {"owner": {"reputation": 167, "user_id": 5005698, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/962075417175866/picture?type=large", "display_name": "Vishal Khemani", "link": "https://stackoverflow.com/users/5005698/vishal-khemani"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468909249, "post_id": 38450725, "comment_id": 64306539, "body": "My objective is to return the client root as string."}, {"owner": {"reputation": 167, "user_id": 5005698, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/962075417175866/picture?type=large", "display_name": "Vishal Khemani", "link": "https://stackoverflow.com/users/5005698/vishal-khemani"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468909413, "post_id": 38450725, "comment_id": 64306613, "body": "If I write like this: my $workspace_root2=&#39;p4 client -o | findstr /b Root&#39;;  I get output as &#39;p4 client -o | findstr /b Root&#39; and not the actual value."}, {"owner": {"reputation": 15375, "user_id": 193453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc77f0d4e25a0f95d90a768aeb0a8517?s=128&d=identicon&r=PG", "display_name": "Bryan Pendleton", "link": "https://stackoverflow.com/users/193453/bryan-pendleton"}, "edited": false, "score": 0, "creation_date": 1468936545, "post_id": 38450725, "comment_id": 64325504, "body": "If you&#39;re going to be regularly using Perl to work with Perforce, consider installing the P4Perl library. It makes working with Perforce much easier (for example, there is a P4Perl <code>Client</code> object which has a <code>GetRoot</code> method)."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468917455, "post_id": 38450949, "comment_id": 64311133, "body": "@serenesat: Please don&#39;t solicit up-votes and acceptances"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468920194, "post_id": 38450949, "comment_id": 64313032, "body": "@Borodin: I don&#39;t find it wrong, as OP said it was helpful and it worked. <a href=\"http://meta.stackexchange.com/a/14999/282626\">meta.stackexchange.com/a/14999/282626</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468920457, "post_id": 38450949, "comment_id": 64313204, "body": "@serenesat: It is fair to leave a question at least a day or two in case another, better answer is written. It is a little shabby to press the OP to accept your own answer when the question is only an hour or two old. If you feel that someone may have simply got their answer and walked away without properly tidying up then you can post a link to <a href=\"http://stackoverflow.com/help/someone-answers\"><i>What should I do when someone answers my question?</i></a> beneath the original question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468920540, "post_id": 38450949, "comment_id": 64313273, "body": "@serenesat: Amongst other things, that links says <i>&quot;Accepting an answer is not mandatory; do not feel compelled to accept the first answer you receive. Wait until you receive an answer that answers your question well.&quot;</i>"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468921150, "post_id": 38450949, "comment_id": 64313756, "body": "@Borodin: I am not forcing OP to accept my answer. It was just a gentle reminder. Generally I don&#39;t care about upvotes and acceptance. Anyway I will keep your words in mind. :)"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1468920688, "last_edit_date": 1495539856, "creation_date": 1468909543, "answer_id": 38450949, "question_id": 38450725, "link": "https://stackoverflow.com/questions/38450725/not-able-to-get-the-clientroot-of-perforce-in-perl/38450949#38450949", "title": "Not able to get the clientRoot of perforce in perl", "body": "<p>Change <code>system</code> to <code>backticks</code>:</p>\n\n<pre><code>my $workspace_root = `p4 client -o | findstr /b Root`;\nprint $workspace_root;\n</code></pre>\n\n<p>If you want store the output of your command, use <code>backticks</code>. If you don't care about the output, use <code>system</code>.</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/800105/4248931\"><em>What's the difference between Perl's backticks, system, and exec?</em></a> to understand <code>system</code> and <code>backticks</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 31669, "user_id": 3799759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5820aa24337a2f622b78e92c39e3e3d6?s=128&d=identicon&r=PG", "display_name": "Samwise", "link": "https://stackoverflow.com/users/3799759/samwise"}, "is_accepted": false, "score": 1, "last_activity_date": 1468958107, "creation_date": 1468958107, "answer_id": 38467376, "question_id": 38450725, "link": "https://stackoverflow.com/questions/38450725/not-able-to-get-the-clientroot-of-perforce-in-perl/38467376#38467376", "title": "Not able to get the clientRoot of perforce in perl", "body": "<p>I would do this:</p>\n\n<pre><code>my $workspace_root = `p4 -Ztag -F %Root% client -o`;\nprint $workspace_root;\n</code></pre>\n\n<p>so that the script will work on other platforms and won't be fooled by clients with \"Root\" in their name, description, View, etc.</p>\n"}], "owner": {"reputation": 167, "user_id": 5005698, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/962075417175866/picture?type=large", "display_name": "Vishal Khemani", "link": "https://stackoverflow.com/users/5005698/vishal-khemani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1468958107, "creation_date": 1468908545, "last_edit_date": 1468909357, "question_id": 38450725, "link": "https://stackoverflow.com/questions/38450725/not-able-to-get-the-clientroot-of-perforce-in-perl", "title": "Not able to get the clientRoot of perforce in perl", "body": "<p>I want to fetch the clientroot of perforce in a perl script.</p>\n\n<p>I wrote the code as :</p>\n\n<pre><code>my $workspace_root=system(\"p4 client -o | findstr /b Root\");\nprint $workspace_root;\n</code></pre>\n\n<p>Instead of printing the path, it prints <code>0</code></p>\n\n<p>Could anyone please tell what I am missing here?</p>\n"}, {"tags": ["arrays", "perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 760, "user_id": 5614644, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/StKQj.jpg?s=128&g=1", "display_name": "Dhruv Tyagi", "link": "https://stackoverflow.com/users/5614644/dhruv-tyagi"}, "edited": false, "score": 0, "creation_date": 1468908180, "post_id": 38450606, "comment_id": 64306072, "body": "for my $i (@AoH){  if($AoH[i]{son} == &#39;bart&#39;) print &quot;Son is there&quot;;  }  My approach is right??"}, {"owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "edited": false, "score": 0, "creation_date": 1468908658, "post_id": 38450606, "comment_id": 64306275, "body": "In Perl you have to compare string with the <code>eq</code> comparator rather than with <code>==</code> which is only for numbers. With the correct syntax of your counted loop <code>for(my $i = 0; $i &lt; @AoH; $i++)</code> your approach is right."}], "tags": [], "owner": {"reputation": 463, "user_id": 6511094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRJfm.jpg?s=128&g=1", "display_name": "D Hydar", "link": "https://stackoverflow.com/users/6511094/d-hydar"}, "is_accepted": false, "score": 0, "last_activity_date": 1468907933, "creation_date": 1468907933, "answer_id": 38450606, "question_id": 38450439, "link": "https://stackoverflow.com/questions/38450439/how-do-i-access-array-of-hash-in-perl-and-compare-values-to-the-desired-string/38450606#38450606", "title": "How do I access array of hash in perl and compare values to the desired string?", "body": "<p>Just write a \"for\" loop on i and access \"son\" by :</p>\n\n<pre><code>$AoH[i]{son}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 760, "user_id": 5614644, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/StKQj.jpg?s=128&g=1", "display_name": "Dhruv Tyagi", "link": "https://stackoverflow.com/users/5614644/dhruv-tyagi"}, "edited": false, "score": 0, "creation_date": 1468908986, "post_id": 38450687, "comment_id": 64306429, "body": "<code>foreach my $entry (@AoH){   if($entry-&gt;{son} eq &#39;bart&#39;){     #here i have to store the wife into another variable my $new_string=wife;   } }</code>  the above approach is right or Not Sir???"}, {"owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "reply_to_user": {"reputation": 760, "user_id": 5614644, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/StKQj.jpg?s=128&g=1", "display_name": "Dhruv Tyagi", "link": "https://stackoverflow.com/users/5614644/dhruv-tyagi"}, "edited": false, "score": 0, "creation_date": 1468909058, "post_id": 38450687, "comment_id": 64306465, "body": "Youre basically right, but please check your syntax: <code>foreach my $entry (@AoH){ if ( ...) { my $new_string = $entry-&gt;{wife} }}</code> consider to declare the <code>$new_string</code> outside the <code>foreach</code> loop if you want to work with it later in another scope."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468917769, "post_id": 38450687, "comment_id": 64311306, "body": "@Otterbein: Please don&#39;t solicit up-votes or acceptances"}], "tags": [], "owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "is_accepted": true, "score": 1, "last_activity_date": 1468909676, "last_edit_date": 1468909676, "creation_date": 1468908365, "answer_id": 38450687, "question_id": 38450439, "link": "https://stackoverflow.com/questions/38450439/how-do-i-access-array-of-hash-in-perl-and-compare-values-to-the-desired-string/38450687#38450687", "title": "How do I access array of hash in perl and compare values to the desired string?", "body": "<p>You can simply iterate through the array and compare the <code>son</code> every time to your desired string.</p>\n\n<pre><code>my $new_string;\nforeach my $entry (@AoH){\n  if($entry-&gt;{son} eq $desired_string){\n    print \"Found it.\";\n    #assigning the value of 'son' to the $new_string\n    $new_string = $entry-&gt;{son};\n  }\n}\n</code></pre>\n\n<p>In this little example the <code>$desired_string</code> is the string you compare the <code>son</code> value against.</p>\n\n<p>If you're only interested in accessing all the values in all hashes and then search for the pattern you can store the values in a temporary array:</p>\n\n<pre><code>my @tempArray;\nforeach my $entry (@AoH){\n   push @tempArray, values %{$entry};\n}\n\nif( grep($_ eq $desired_string) @tempArray){\n  print \"one hash contains the desired string as an value\";\n}\n</code></pre>\n\n<p>I wasn't really sure what you want to achieve, but I hope that I could help a bit further.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 6147424, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_lkJ4WAeRSo/AAAAAAAAAAI/AAAAAAAAGBM/n4luExHhS6A/photo.jpg?sz=128", "display_name": "Autonomy", "link": "https://stackoverflow.com/users/6147424/autonomy"}, "is_accepted": false, "score": 1, "last_activity_date": 1468911827, "last_edit_date": 1468911827, "creation_date": 1468909997, "answer_id": 38451081, "question_id": 38450439, "link": "https://stackoverflow.com/questions/38450439/how-do-i-access-array-of-hash-in-perl-and-compare-values-to-the-desired-string/38451081#38451081", "title": "How do I access array of hash in perl and compare values to the desired string?", "body": "<p>It really depends on what you mean by compare. If you're looking to do many types of comparisons <em>between</em> hashes where son is the primary focus, I'd suggest creating a hash who's keys are the son's name, and value is an array of <code>$AoH</code> indexes.</p>\n\n<pre><code>my %sons;\nfor (my $i = 0; $i &lt; @AoH; $i++) {\n    push( @{ $sons{ $AoH[$i]{\"son\"} } }, $i);\n}\n</code></pre>\n\n<p>For the data given, <code>%sons</code> will be</p>\n\n<pre><code>{\n    'elroy' =&gt; [1],\n    'bamm bamm' =&gt; [0],\n    'bar' =&gt; [2],\n}\n</code></pre>\n\n<p>Now you know every family who has a son of that name and can do various things with the data in each shared family.</p>\n\n<pre><code>for my $son (keys %sons) {\n    my $num_couples = @{$sons{$son}};\n    print \"There are $num_couples couple(s) with a son who's name is $son.\\n\";\n    for my $i (@{$sons{$son}}) {\n        print \"Husband: $AoH[$i]{husband}, Wife: $AoH[$i]{wife}\\n\";\n    }\n    print \"\\n\";\n}\n</code></pre>\n\n<p>Or if you want to know if any family has a son named \"George\", you can search <code>%son</code>'s keys.</p>\n\n<pre><code>my $test_name = \"George\";\nfor my $son (keys %sons) {\n    if ($son eq $test_name) {\n        print \"At least one family has a son named $test_name.\\n\";\n        last;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "is_accepted": false, "score": 1, "last_activity_date": 1468911060, "creation_date": 1468911060, "answer_id": 38451369, "question_id": 38450439, "link": "https://stackoverflow.com/questions/38450439/how-do-i-access-array-of-hash-in-perl-and-compare-values-to-the-desired-string/38451369#38451369", "title": "How do I access array of hash in perl and compare values to the desired string?", "body": "<p>Not sure what you really want to do but basically if you want the hash back if son name eq 'myson' then do with one liner:</p>\n\n<pre><code>my @hash_with_myson = grep {$_-&gt;{son} eq 'myson'} @AoH;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44, "user_id": 6606934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95dcfc71cb1ac0a9d8962b69c4397bcb?s=128&d=identicon&r=PG&f=1", "display_name": "laojianke", "link": "https://stackoverflow.com/users/6606934/laojianke"}, "is_accepted": false, "score": 0, "last_activity_date": 1468911726, "creation_date": 1468911726, "answer_id": 38451565, "question_id": 38450439, "link": "https://stackoverflow.com/questions/38450439/how-do-i-access-array-of-hash-in-perl-and-compare-values-to-the-desired-string/38451565#38451565", "title": "How do I access array of hash in perl and compare values to the desired string?", "body": "<pre><code>my $son='xxx';\nmy $result;\nforeach my $family(@AoH) {\n    push(@$result,$family) if($family-&gt;{son} eq $son);\n}\n\nforeach my $family(@$result) {\n    print $family-&gt;{husband}.' '.$family-&gt;{wife}.' '.$family-&gt;{son} . \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 760, "user_id": 5614644, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/StKQj.jpg?s=128&g=1", "display_name": "Dhruv Tyagi", "link": "https://stackoverflow.com/users/5614644/dhruv-tyagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 38450687, "answer_count": 5, "score": -1, "last_activity_date": 1468911827, "creation_date": 1468907292, "question_id": 38450439, "link": "https://stackoverflow.com/questions/38450439/how-do-i-access-array-of-hash-in-perl-and-compare-values-to-the-desired-string", "title": "How do I access array of hash in perl and compare values to the desired string?", "body": "<p>Actually i have an array of hash in Perl and i have to iterate every hash value and compared to the desired string for eg:</p>\n\n<pre><code>@AoH = (\n{\n   husband  =&gt; \"barney\",\n   wife     =&gt; \"betty\",\n   son      =&gt; \"bamm bamm\",\n},\n{\n   husband =&gt; \"george\",\n   wife    =&gt; \"jane\",\n   son     =&gt; \"elroy\",\n},\n\n{\n   husband =&gt; \"homer\",\n   wife    =&gt; \"marge\",\n   son     =&gt; \"bart\",\n},\n);\n</code></pre>\n\n<p>now i have to compare the son value in every iteration.....\nwhat is the best way</p>\n"}, {"tags": ["java", "python", "perl", "awk", "sed"], "answers": [{"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 113, "user_id": 3282428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9T9SW.jpg?s=128&g=1", "display_name": "amatek", "link": "https://stackoverflow.com/users/3282428/amatek"}, "edited": false, "score": 0, "creation_date": 1468913935, "post_id": 38450446, "comment_id": 64309050, "body": "@amatek Yes. This is for perl"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1468907319, "creation_date": 1468907319, "answer_id": 38450446, "question_id": 38449795, "link": "https://stackoverflow.com/questions/38449795/extract-specific-lines-from-multiple-text-files/38450446#38450446", "title": "Extract specific lines from multiple text files", "body": "<p>Try as follow.</p>\n\n<p>Use <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\">glob</a> for to handle the files in a folder. </p>\n\n<p>Then use regular expression for check the file name. Here\n<a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow\">grep</a> uses for extract the particular content from a file.</p>\n\n<pre><code>my $path = \"folderpath\";\nwhile (my $file = glob(\"$path/*\"))\n{\n    if($file =~/\\/Small_Apple/)\n    {\n        open my $fh, \"&lt;\", \"$file\";\n        print grep{/content what you want/ } &lt;$fh&gt;;\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "is_accepted": false, "score": 0, "last_activity_date": 1468914796, "creation_date": 1468914796, "answer_id": 38452522, "question_id": 38449795, "link": "https://stackoverflow.com/questions/38449795/extract-specific-lines-from-multiple-text-files/38452522#38452522", "title": "Extract specific lines from multiple text files", "body": "<pre><code>use strict;\nuse warnings;\n\nmy @file_names = (\"Small_Apple_Red.txt\",\n                  \"Small_Orange_Yellow.txt\",\n                  \"Large_Apple_Green.txt\",\n                  \"Large_Orange_Green.txt\");\n\nforeach my $file ( @file_names) {\n    if ( $file =~ /^Small/){ // \"^\" marks the begining of the string\n         print \"\\n $file has the first word small\";\n    }\n    elsif ( $file =~ /.*?_Orange/){  // .*? is non-greedy, this means that it matches anything&lt;br&gt;\n                                  //  until the first \"_\" is found\n        print \"\\n $file has the second word orange\";\n    }\n}\n</code></pre>\n\n<p>There is still a special case it your file has \"Small_Orange\" you have to decide which is more important. If the second word is more important, then switch the content from <code>if</code> section with the content from <code>elsif</code> section</p>\n"}, {"tags": [], "owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "is_accepted": false, "score": 0, "last_activity_date": 1468916549, "last_edit_date": 1468916549, "creation_date": 1468916174, "answer_id": 38452933, "question_id": 38449795, "link": "https://stackoverflow.com/questions/38449795/extract-specific-lines-from-multiple-text-files/38452933#38452933", "title": "Extract specific lines from multiple text files", "body": "<p>In Awk:</p>\n\n<pre><code>awk 'FILENAME ~ /^Large/ {print $1,$4}\n     FILENAME ~ /^Small/ {print $3,$2}' *\n</code></pre>\n\n<p>in Perl:</p>\n\n<pre><code>perl -naE 'say \"$F[0] $F[3]\" if $ARGV =~ /^Large/;\n           say \"$F[2] $F[1]\" if $ARGV =~ /^Small/ ' *\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1468917790, "creation_date": 1468917790, "answer_id": 38453526, "question_id": 38449795, "link": "https://stackoverflow.com/questions/38449795/extract-specific-lines-from-multiple-text-files/38453526#38453526", "title": "Extract specific lines from multiple text files", "body": "<p>Try this one:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Cwd;\nuse File::Basename;\n\nmy $dir = getcwd(); #or shift the input values from the user \nmy @txtfiles = glob(\"$dir/*.txt\");\n\nforeach my $each_txt_file (@txtfiles)\n{\n    open(DATA, $each_txt_file) || die \"reason: $!\";\n    my @allLines = &lt;DATA&gt;;\n    (my $removeExt = $each_txt_file)=~s/\\.txt$//g;\n    my($word1, $word2, $word3) = split/\\_/, basename $removeExt; #Select the file name with matching case\n    if($word1=~m/small/i) #Select your match case\n    {\n        my @split_space = \"\";\n        my @allrows = split /\\n/, $allLines[1]; #Mentioned the row number\n        my @allcolns = split /\\s/, $allrows[0]; \n        print \"\\n\", $allcolns[1]; #Mentioned the column number\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 3282428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9T9SW.jpg?s=128&g=1", "display_name": "amatek", "link": "https://stackoverflow.com/users/3282428/amatek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 256, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1468917790, "creation_date": 1468903855, "last_edit_date": 1468906223, "question_id": 38449795, "link": "https://stackoverflow.com/questions/38449795/extract-specific-lines-from-multiple-text-files", "title": "Extract specific lines from multiple text files", "body": "<p>I want to print certain lines from multiple text files in a folder, depending on the file name. Consider the following text files named from 3 words separated by underscore:</p>\n\n<pre><code>Small_Apple_Red.txt\nSmall_Orange_Yellow.txt\nLarge_Apple_Green.txt\nLarge_Orange_Green.txt\n</code></pre>\n\n<p>How can the following be achieved?</p>\n\n<pre><code>if (first word of file name is \"Small\") {\n   // Print row 3 column 2 of the file (space delimited);\n}\n\nif (second word of file name is \"Orange\") {\n   // print row 1 column 4 of the file;\n}\n</code></pre>\n\n<p>Is this possible with awk?</p>\n"}, {"tags": ["perl", "scientific-notation"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 3, "creation_date": 1468901408, "post_id": 38449423, "comment_id": 64303840, "body": "Take a look at <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow noreferrer\">sprintf</a>."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468917742, "post_id": 38449742, "comment_id": 64311292, "body": "@Borodin  Thank you very much.   I work with matlab a lot these days ... it just pulled me (it wasn&#39;t me).  The same syntax for (f)printf, well, except that it isn&#39;t quite. Very annoying errors.  Thank you."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1472237377, "last_edit_date": 1472237377, "creation_date": 1468903534, "answer_id": 38449742, "question_id": 38449423, "link": "https://stackoverflow.com/questions/38449423/getting-perl-to-print-in-non-scientific-notation/38449742#38449742", "title": "Getting perl to print in non scientific notation", "body": "<p>Use <a href=\"http://perldoc.perl.org/functions/printf.html\" rel=\"nofollow\"><code>printf</code></a> for formatted printing.  The details of format specifiers are given in <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow\"><code>sprintf</code></a>.</p>\n\n<pre><code>printf(\"%d\\t%d\\t%d\\t%10.8f\\n\", $num, $start, $stop, $exp/$percent);\n</code></pre>\n\n<p>The string inside <code>\"...\"</code> is where you specify how to format. The rest is a list of variables that are used in the string for each <code>%</code> specifier, in general in the order in which they come. The <code>sprintf</code> returns a string, while <code>printf</code> prints to <code>STDOUT</code>, or to another filehandle if given as the first argument, <code>printf($fh \"...\", @vars)</code>. This is one of the most venerable, good old tools. </p>\n\n<p>Above we have: an integer <code>%d</code>, then a tab <code>\\t</code>, then the same two times more, then a floating-point number to be printed in the field of total width <code>10</code> (including the decimal point and a possible sign) with <code>8</code> digits after the point. The integers take as much space in the output as they need -- one for <code>1</code>, three for <code>239</code>.  If you want to line up the output you can specify the minimum width of the field</p>\n\n<pre><code>printf(\"%3d\\t%3d\\t%3d\\t%10.8f\\n\", $num, $start, $stop, $exp/$percent);\n</code></pre>\n\n<p>Now each integer will take three spaces, aligned on the right.  To align on the left use <code>%-3d</code>. To have leading zeroes you'd say <code>%03d</code>, for <code>001</code>.  Strings can be printed in fixed-width fields as well, so</p>\n\n<pre><code>printf(\"%4s %6s %6s %12s\\n\", qw(num start stop factor));\nprintf(\"%4d %6d %6d %12.8f\\n\", $num, $start, $stop, $exp/$percent);\n</code></pre>\n\n<p>prints</p>\n\n<pre>\n num  start   stop       factor\n   1     29    239   0.00008692\n</pre>\n\n<p>Above I chose field widths for a comfortable layout and used literal spaces as separators between them. (Tabs can mess with visual alignment if entries don't fit into tab stops. What has no effect on future parsing if this goes to a data file, even though they're no sugar for parsing either.) If you use commas instead that makes a CSV file.</p>\n\n<p>There is far, far more that one can do with this. It is used for anything from precise format conversions to printing data files or decent (ASCII) reports. The <code>sprintf</code> page is detailed with a lot of examples.</p>\n"}], "owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 0, "accepted_answer_id": 38449742, "answer_count": 1, "score": 0, "last_activity_date": 1472237377, "creation_date": 1468901074, "question_id": 38449423, "link": "https://stackoverflow.com/questions/38449423/getting-perl-to-print-in-non-scientific-notation", "title": "Getting perl to print in non scientific notation", "body": "<p>I am running </p>\n\n<pre><code>./script.pl 69032 text.txt\n</code></pre>\n\n<p>Where text.txt contains</p>\n\n<pre><code>1   29  239 6\n</code></pre>\n\n<p>And I am getting </p>\n\n<pre><code>1   29  239 8.69162127708889e-05\n</code></pre>\n\n<p>As output but I just want the last number to be</p>\n\n<pre><code>1   29  239 .0000869162127708889\n</code></pre>\n\n<p>This is my script</p>\n\n<pre><code>$percent=$ARGV[0];\nshift;\nwhile(&lt;&gt;){\n        my $temp = $_;\n        my ($num, $start, $stop, $exp) = split(\"\\t\", $temp);\n        if( defined($exp)){\n                print $num,\"\\t\",$start,\"\\t\",$stop,\"\\t\",$exp/$percent,\"\\n\";\n        }\n}\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1468896420, "post_id": 38448714, "comment_id": 64302761, "body": "It&#39;s not clear to me what you try to do. Do you want to sum up all values with the same key from a bunch of hashes? Where do the duplicates come into play?"}, {"owner": {"reputation": 3, "user_id": 6606112, "user_type": "registered", "profile_image": "https://graph.facebook.com/619900544844423/picture?type=large", "display_name": "Tincho", "link": "https://stackoverflow.com/users/6606112/tincho"}, "reply_to_user": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1468897458, "post_id": 38448714, "comment_id": 64302986, "body": "&#39;2016-07-01&#39; dates is the &#39;main keys&#39; example. and i want join all hashes and sum up the values with same key. its a little confuse i know. thank you - edited (there up is the IN data hashes and the OUT hash i want to acomplish)"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6606112, "user_type": "registered", "profile_image": "https://graph.facebook.com/619900544844423/picture?type=large", "display_name": "Tincho", "link": "https://stackoverflow.com/users/6606112/tincho"}, "edited": false, "score": 0, "creation_date": 1468902222, "post_id": 38449008, "comment_id": 64304060, "body": "humm im getting error: Type of arg 1 to keys must be hash (not hash element) at .... near &quot;}) .... its on line #8 and #34...  im using perl version 5.14.1 it is because my perl version ? thank you Robert"}, {"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "reply_to_user": {"reputation": 3, "user_id": 6606112, "user_type": "registered", "profile_image": "https://graph.facebook.com/619900544844423/picture?type=large", "display_name": "Tincho", "link": "https://stackoverflow.com/users/6606112/tincho"}, "edited": false, "score": 0, "creation_date": 1468903438, "post_id": 38449008, "comment_id": 64304406, "body": "It works for me in 5.18.2. I&#39;ve added extra <code>%{...}</code> around the hashes in line 8 and 34. Does that fix it?"}], "tags": [], "owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "is_accepted": true, "score": 2, "last_activity_date": 1468903385, "last_edit_date": 1468903385, "creation_date": 1468898124, "answer_id": 38449008, "question_id": 38448714, "link": "https://stackoverflow.com/questions/38448714/how-to-add-multiple-values-from-multiple-hashes-with-same-key-perl/38449008#38449008", "title": "how to add multiple values from multiple hashes with same key (perl)", "body": "<p>To sum up the hashes of hashes, loop over all the hashes, over their first keys (here the date), then over the second key (here the value). Sum up the numbers in a new hash.</p>\n\n<p>I'd move the code to sum the values to its own sub for clarity, then pass it the references of the hashes you want to sum up.</p>\n\n<pre><code>use strict; \nuse warnings;\n\nsub sum {\n    my %sums;\n    foreach my $hash (@_) {\n        foreach my $date (keys %{$hash}) {\n            foreach my $val (keys %{$$hash{$date}}) {\n                $sums{$date}{$val} += $$hash{$date}{$val};\n            }\n        }\n    }\n    return %sums;\n}\n\n\nmy %HASH1 = (\n    '2016-07-01' =&gt; {'val1' =&gt; '7', 'val2' =&gt; '9'}, \n    '2016-07-02' =&gt; {'val1' =&gt; '10', 'val2' =&gt; '6'}\n);\nmy %HASH2 = (\n    '2016-07-01' =&gt; {'val1' =&gt; '8', 'val2' =&gt; '4'}, \n    '2016-07-03' =&gt; {'val1' =&gt; '3', 'val2' =&gt; '2'}\n);\nmy %HASH3 = ( \n    '2016-07-01' =&gt; {'val1' =&gt; '6', 'val2' =&gt; '5'}, \n    '2016-07-02' =&gt; {'val1' =&gt; '1', 'val2' =&gt; '6'}, \n    '2016-07-04' =&gt; {'val1' =&gt; '4', 'val2' =&gt; '2'} \n);\n\nmy %sums = sum(\\%HASH1, \\%HASH2, \\%HASH3);\nforeach my $date (sort keys %sums) {\n    print \"$date\\n\";\n    foreach my $val (keys %{$sums{$date}}) {\n        print \"    $val: $sums{$date}{$val}\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6606112, "user_type": "registered", "profile_image": "https://graph.facebook.com/619900544844423/picture?type=large", "display_name": "Tincho", "link": "https://stackoverflow.com/users/6606112/tincho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 38449008, "answer_count": 1, "score": 0, "last_activity_date": 1468903385, "creation_date": 1468895862, "last_edit_date": 1468902567, "question_id": 38448714, "link": "https://stackoverflow.com/questions/38448714/how-to-add-multiple-values-from-multiple-hashes-with-same-key-perl", "title": "how to add multiple values from multiple hashes with same key (perl)", "body": "<p>Hello people im trying to add multiple values from multiple hashes with same key.</p>\n\n<p>And this is the result of scheme that I want acomplish.</p>\n\n<pre><code> HASH1 =&gt; { \n   '2016-07-01' =&gt; { 'val1' =&gt; '7',  'val2' =&gt; '9', },\n   '2016-07-02' =&gt; { 'val1' =&gt; '10', 'val2' =&gt; '6', } }\n HASH2 =&gt; { \n   '2016-07-01' =&gt; { 'val1' =&gt; '8',  'val2' =&gt; '4', },\n   '2016-07-03' =&gt; { 'val1' =&gt; '3',  'val2' =&gt; '2', } }\n\n HASH3 =&gt; { \n   '2016-07-01' =&gt; { 'val1' =&gt; '6',  'val2' =&gt; '5', },\n   '2016-07-02' =&gt; { 'val1' =&gt; '1',  'val2' =&gt; '2', }, \n   '2016-07-04' =&gt; { 'val1' =&gt; '4',  'val2' =&gt; '2', } }\n\n OUTPUT HASH =&gt; { \n   '2016-07-01' =&gt; { 'val1' =&gt; '21', 'val2' =&gt; '18', }, \n   '2016-07-02' =&gt; { 'val1' =&gt; '11', 'val2' =&gt; '8', }, \n   '2016-07-03' =&gt; { 'val1' =&gt; '3',  'val2' =&gt; '2', }, \n   '2016-07-04' =&gt; { 'val1' =&gt; '4',  'val2' =&gt; '2', }, }\n</code></pre>\n\n<p>Im trying pushing duplicate keys to an array to identify each one, then add values.\nThis i'm trying is for compare 2 hashes, but i want make it for multiple hashes.</p>\n\n<pre><code>my @common = ();\nforeach (keys %HASH1) {\npush(@common, $_) if exists $HASH2{$_};\n}\nforeach my $DUP_KEY (@common){\nmy $v1 = $HASH1{$DUP_KEY}{'val1'} + $HASH2{$DUP_KEY}{'val1'};\nmy $v2 = $HASH1{$DUP_KEY}{'val2'} + $HASH2{$DUP_KEY}{'val2'};\n$HASH1{$DUP_KEY}{'val1'} = $v1;\n$HASH1{$DUP_KEY}{'val2'} = $v2;\n}\n\nmy %OUT_HASH = (%HASH1, %HASH2);\n\n\nforeach my $key (keys %OUT_HASH) {push(@ARR, $key);}\nforeach (sort @ARR) {push(@ARR_CLEAN, $_);\n}\n</code></pre>\n\n<p>but the result is not as expected, because im getting only the duplicates keys only.</p>\n\n<p>someone would be so kind as to help me? thank you!</p>\n"}, {"tags": ["regex", "perl", "variables"], "answers": [{"tags": [], "owner": {"reputation": 463, "user_id": 6511094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRJfm.jpg?s=128&g=1", "display_name": "D Hydar", "link": "https://stackoverflow.com/users/6511094/d-hydar"}, "is_accepted": true, "score": 0, "last_activity_date": 1468889763, "creation_date": 1468889763, "answer_id": 38448012, "question_id": 38447875, "link": "https://stackoverflow.com/questions/38447875/regular-expression-search-with-only-a-portion-of-a-variable/38448012#38448012", "title": "Regular expression search with only a portion of a variable", "body": "<p>Try something like :</p>\n\n<pre><code>my$substr = substr($BestMatch,0,6);\n\nif ($Sequence -~ m/\\Q$substr/){ \n\n    # ... whatevs ....\n\n}\n</code></pre>\n\n<p>Of course, if it's just a simple match of strings, you don't need t even use regex; just use <a href=\"http://perldoc.perl.org/functions/index.html\" rel=\"nofollow\">the index() function</a>.</p>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 38448012, "answer_count": 1, "score": 0, "last_activity_date": 1468889763, "creation_date": 1468888478, "question_id": 38447875, "link": "https://stackoverflow.com/questions/38447875/regular-expression-search-with-only-a-portion-of-a-variable", "title": "Regular expression search with only a portion of a variable", "body": "<pre><code>    my $BestMatch = \"CGGAGCTTTACGAGCCGTAGCCCAAACA\";\n    if ($Sequence -~ m/$BestMatch/){   \n</code></pre>\n\n<p>Is there a way to modify the regex to only search for the first 6 letters in the $BestMatch sequence? I need to keep the $BestMatch variable in place in the regex, I just need to modify it.<br>\nThe examples I find online do not make use of a variable, but rather the entire sequence itself. My problem is that the $BestMatch will change for every file opened in a foreach loop, and therefore can't be hardcoded. \nThanks for the help!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1468888391, "post_id": 38447824, "comment_id": 64301047, "body": "You can use the <code>rename</code> utility written by Larry Wall that does exactly what you describe."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1468888439, "post_id": 38447824, "comment_id": 64301060, "body": "@CasimiretHippolyte: I think you mean <code>prename</code>"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1468888786, "post_id": 38447824, "comment_id": 64301123, "body": "Only <code>rename</code>, but <code>man rename</code> and <code>man prename</code> return the same manual page (where the utility is called &quot;rename&quot;)."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1468889021, "post_id": 38447824, "comment_id": 64301168, "body": "didn&#39;t know that ;)"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1468898949, "creation_date": 1468898949, "answer_id": 38449131, "question_id": 38447824, "link": "https://stackoverflow.com/questions/38447824/use-capture-group-variable-entered-on-command-line-in-perl-script/38449131#38449131", "title": "Use capture group variable entered on command line in Perl script", "body": "<pre><code>use String::Substitution qw( gsub_copy );\n\nmy $subbed = gsub_copy($string, $pattern, $replacement);\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6605895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f84b87b989fc8db5e7d728abe1e6d61?s=128&d=identicon&r=PG&f=1", "display_name": "Vetsen", "link": "https://stackoverflow.com/users/6605895/vetsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 38449131, "answer_count": 1, "score": 0, "last_activity_date": 1468898949, "creation_date": 1468888116, "question_id": 38447824, "link": "https://stackoverflow.com/questions/38447824/use-capture-group-variable-entered-on-command-line-in-perl-script", "title": "Use capture group variable entered on command line in Perl script", "body": "<p>My goal is to pass a capture group variable (i.e. $1) that was entered on the command line to my Perl script. </p>\n\n<p>To give you some background, I've created a script that takes a directory path, a pattern to search for and a replacement pattern. The script opens the directory, checks each file name to see if it matches the pattern and, if yes, changes the file name to be the replacement pattern. </p>\n\n<p>Here's an example of what I'm trying to accomplish.</p>\n\n<pre><code>my ($directory, $pattern, $replacement) = @ARGV;\n\nopendir DIR, $directory or die $!;\n\nforeach my $old (readdir DIR){\n    my $new = s/$pattern/$replacement/ if(/$pattern/);      \n    rename \"$directory$old\" =&gt; \"$directory$new\";\n}\n\nclose DIR;\n</code></pre>\n\n<p>Imagine that that script is called as:</p>\n\n<pre><code>script.pl \"/tmp/\" \".*(\\d+).*\" \"$1\"\n</code></pre>\n\n<p>The idea is that all the files will be renamed to be just the numbers found in the file name. The problem is that $1 is getting mangled. If it's passed using double quotes it's interpolated at assignment and becomes nothing. If it's passed using single quotes, then it's treated as a literal and all the files will be called \"$1\". How can I get the files to be renamed to just the numbers found in their names? </p>\n"}, {"tags": ["arrays", "perl", "autovivification"], "comments": [{"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1468890745, "post_id": 38447714, "comment_id": 64301495, "body": "There are two uses of <code>[]</code> here.  <code>$scal-&gt;[2]</code> does an array index lookup.  <code>[]</code> creates a reference to an anonymous array."}], "answers": [{"tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": false, "score": 3, "last_activity_date": 1468890083, "creation_date": 1468890083, "answer_id": 38448055, "question_id": 38447714, "link": "https://stackoverflow.com/questions/38447714/perl-autovivification-of-array/38448055#38448055", "title": "perl autovivification of array", "body": "<p><code>-&gt;[]</code> is addressing an array entry. Of course you need an index for that. Autovivification is just a side effect of addressin something that doesn't exists. If you want to assign instead, then, as Captain Obvious would readily suggest, use assignment operator <code>=</code>: <code>my $val = ($scal-&gt;[2]-&gt;{somekey}-&gt;[1]-&gt;{otherkey} = []);</code> </p>\n"}, {"tags": [], "owner": {"reputation": 955, "user_id": 2152612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1429edc49cce4063c2b57c1a6ab1c826?s=128&d=identicon&r=PG", "display_name": "Emil Perhinschi", "link": "https://stackoverflow.com/users/2152612/emil-perhinschi"}, "is_accepted": false, "score": 0, "last_activity_date": 1470110301, "creation_date": 1470110301, "answer_id": 38711537, "question_id": 38447714, "link": "https://stackoverflow.com/questions/38447714/perl-autovivification-of-array/38711537#38711537", "title": "perl autovivification of array", "body": "<p>a good explanation of autovivification here <a href=\"http://perlmaven.com/autovivification\" rel=\"nofollow\">http://perlmaven.com/autovivification</a> </p>\n"}], "owner": {"reputation": 5017, "user_id": 4400590, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f9ed697c0343dcfa0bd740157cbe4e26?s=128&d=identicon&r=PG&f=1", "display_name": "lisprogtor", "link": "https://stackoverflow.com/users/4400590/lisprogtor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1470110301, "creation_date": 1468887096, "last_edit_date": 1468917013, "question_id": 38447714, "link": "https://stackoverflow.com/questions/38447714/perl-autovivification-of-array", "title": "perl autovivification of array", "body": "<p>I am reading \"impatient perl\" by London. I am testing out an example from the \"Reference\" chapter. I am wondering why in autovivification of reference I need to put a number (any number) in [], whereas in declaring an array, I can just use [] as the empty array. Thanks.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\nuse Data::Dumper;\n\nmy $scal;\nmy $val = $scal-&gt;[2]-&gt;{somekey}-&gt;[1]-&gt;{otherkey}-&gt;[7]; \n# fails if [] instead of [7] or [1] or [99999];\n# same result if [7] or [1] or [99999] is used;\n\n$val-&gt;[3] = 19;\n\nprint Dumper $scal;\nprint \"========\\n\";\nprint Dumper $val;\nprint \"========\\n\";\nprint Dumper []; # this does not fail; \n</code></pre>\n\n<p>The error message was \"syntax error at referenceTest.pl line 7, near \"[]\"\nGlobal symbol \"$val\" requires explicit package name at referenceTest.pl line 15.Execution of referenceTest.pl aborted due to compilation errors.\"</p>\n\n<p>==================\nAnd when it works using [7], the results are:</p>\n\n<pre><code>$VAR1 = [\n          undef,\n          undef,\n          {\n            'somekey' =&gt; [\n                           undef,\n                           {\n                             'otherkey' =&gt; []\n                           }\n                         ]\n          }\n        ];\n========\n$VAR1 = [\n          undef,\n          undef,\n          undef,\n          19\n        ];\n========\n$VAR1 = [];\n</code></pre>\n\n<p>Thank you for enlightening me.</p>\n"}, {"tags": ["perl", "grep"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1468887447, "post_id": 38447073, "comment_id": 64300873, "body": "your logic is fatally flawed. <code>$match_count</code> will never be more than zero, as you reset it at the onset of each <code>for()</code> loop. Not only that, it&#39;s zero when you check if it is greater than 1 which it can&#39;t be, then fall through to the <code>else()</code> and <code>++</code> it, but nothing will ever see the increased value because you just start the next loop after that else."}], "answers": [{"tags": [], "owner": {"reputation": 1253, "user_id": 792479, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59768793d816fc6e44f67a9bb5ffbe13?s=128&d=identicon&r=PG", "display_name": "Raghuveer", "link": "https://stackoverflow.com/users/792479/raghuveer"}, "is_accepted": false, "score": 1, "last_activity_date": 1468882114, "creation_date": 1468882114, "answer_id": 38447106, "question_id": 38447073, "link": "https://stackoverflow.com/questions/38447073/trying-to-get-perl-script-to-count-properly-the-number-of-results-from-grep-of-p/38447106#38447106", "title": "Trying to get Perl script to count properly the number of results from grep of process", "body": "<p>Your grep if condition is always succeeding because grep itself produces one result, therefore the if condition is always satisfied. </p>\n\n<p>Try running</p>\n\n<pre><code>if(`ps -aef | grep -i $t_process | grep -v grep`)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1468888124, "creation_date": 1468888124, "answer_id": 38447825, "question_id": 38447073, "link": "https://stackoverflow.com/questions/38447073/trying-to-get-perl-script-to-count-properly-the-number-of-results-from-grep-of-p/38447825#38447825", "title": "Trying to get Perl script to count properly the number of results from grep of process", "body": "<p>As I said in a comment on your OP, your <code>$match_count</code> logic is fatally flawed. First, you declare it inside of the <code>for()</code> loop, which will reset it to zero on every process. Second, you never assign to it, except later in the <code>else()</code> statement; by then, you're about to fall out of the loop.</p>\n\n<p>Here's a much simpler approach:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @t_processes = qw(nginx blah);\n\nfor my $t_process(@t_processes){\n    if(`ps -aef | grep -i $t_process | grep -v grep`){\n        print \"$t_process is running\\n\";\n        next;\n    }\n    print \"$t_process is not running, please start it!\\n\" ;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>nginx is running\nblah is not running, please start it!\n</code></pre>\n"}], "owner": {"reputation": 575, "user_id": 1027872, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea28c48394beae80a3f7103f84babf08?s=128&d=identicon&r=PG", "display_name": "BV45", "link": "https://stackoverflow.com/users/1027872/bv45"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1468888124, "creation_date": 1468881877, "question_id": 38447073, "link": "https://stackoverflow.com/questions/38447073/trying-to-get-perl-script-to-count-properly-the-number-of-results-from-grep-of-p", "title": "Trying to get Perl script to count properly the number of results from grep of process", "body": "<p>All,</p>\n\n<p>I am trying to grep for a particular process that contains the listed paths(shown in my @t_processes array)in its output.  The count will always be one as the command you use to grep will also show in the output by default.  So I am using if the count is greater than 1, that it is indeed running. All of these processes are up when I grep them, and there are at least two results that come back on the command line.  But when I run the script I only get back the print statement of:  \"Process $t_process is matched! Is it running?....\".  Can anyone offer some guidance?</p>\n\n<pre><code>use strict;\nuse warnings;\n\n\nsub main\n{\n\nmy @t_processes = (\n'/hosting/configs/tomcat7/prod-06_fc' ,\n'/hosting/configs/tomcat7/prod-07_fc',\n'/hosting/configs/tomcat7/prod-07',\n'/hosting/configs/apache22/prod-06_fc/',\n'/hosting/configs/jboss6/jb-prod-06'\n);\n\nforeach\n    my $t_process(@t_processes)\n{\n    my $match_count = 0;\n    if(`ps -aef | grep -i $t_process`) \n    {\n\n        print \"Process $t_process is matched! Is it running?....\";\n        if($match_count &gt; 1)\n            {\n                print \"The process is running\\n \";\n            }   \n        else\n            {\n                $match_count++\n            }                           \n\n    }\n    else \n    {\n        print \"The process $t_process is not running, please start it!\\n\" ;\n    }\n\n\n}\n\n}\n\n\nmain();\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1468876462, "post_id": 38446044, "comment_id": 64297545, "body": "I can think of several awful solutions, but no good ones."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1468877601, "post_id": 38446044, "comment_id": 64298058, "body": "&quot;if the list ($foo, $bar) ever changes, all these lines need to change&quot; The obvious solution is to have <code>_get_things()</code> return a hashref or an object so the order doesn&#39;t matter, but you&#39;ve ruled that out. Why?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1468877609, "post_id": 38446044, "comment_id": 64298059, "body": "Do the methods then go on to use these names, <code>$foo</code> and <code>$bar</code>?  If that is the case then I&#39;d start with refactoring that.  It would mean that the methods should have another level of abstraction.  Or, why are the names themselves important (if this is about names)?"}, {"owner": {"reputation": 10537, "user_id": 1157237, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2f62795a806ed2f35d96af1ba9a539e?s=128&d=identicon&r=PG", "display_name": "gcbenison", "link": "https://stackoverflow.com/users/1157237/gcbenison"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468877850, "post_id": 38446044, "comment_id": 64298164, "body": "@ThisSuitIsBlackNot I guess the only reason is string interpolation - I  want to write <code>&quot;hello $foo !&quot;</code> and not <code>&quot;hello &quot; . $things{foo} . &quot; !&quot;</code> or use the turtle operator or some such."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 6, "creation_date": 1468877937, "post_id": 38446044, "comment_id": 64298199, "body": "Hash values interpolate: <code>&quot;hello $things{foo}!&quot;</code>"}, {"owner": {"reputation": 10537, "user_id": 1157237, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2f62795a806ed2f35d96af1ba9a539e?s=128&d=identicon&r=PG", "display_name": "gcbenison", "link": "https://stackoverflow.com/users/1157237/gcbenison"}, "edited": false, "score": 0, "creation_date": 1468878472, "post_id": 38446044, "comment_id": 64298424, "body": "Well, how about that :)  I&#39;ve edited the question to specify the reason I did not want to use a hash.  If you copy that comment to an answer, I will accept it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468880463, "post_id": 38446044, "comment_id": 64299094, "body": "@gcbenison: It would be better if <code>_get_things</code> returned a hash <i>reference</i> as in the answer from ysth below."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 3, "last_activity_date": 1468878952, "last_edit_date": 1468878952, "creation_date": 1468878627, "answer_id": 38446552, "question_id": 38446044, "link": "https://stackoverflow.com/questions/38446044/reusable-abstracted-way-to-bind-multiple-lexicals-all-in-one-go/38446552#38446552", "title": "Reusable, abstracted way to bind multiple lexicals all in one go", "body": "<p>When a sub has more than a very few parameters, or what the parameters are is possibly going to change, you should pass a hash or hashref to emulate named parameters.</p>\n\n<p>All the more so here, where you are returning more than one result and what the results are is <em>likely</em> to change, you should return a hashref from the sub.  And just use that hashref in the caller (yes, even in string interpolation.)</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub method2 {\n    my $thing = _get_things();\n    print \"hi $thing-&gt;{'foo'} and $thing-&gt;{'bar'}\\n\";\n}\n\nsub _get_things {\n    return {\n        'foo' =&gt; 42,\n        'bar' =&gt; 'quux',\n    };\n}\n\nmethod2();\n</code></pre>\n"}], "owner": {"reputation": 10537, "user_id": 1157237, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2f62795a806ed2f35d96af1ba9a539e?s=128&d=identicon&r=PG", "display_name": "gcbenison", "link": "https://stackoverflow.com/users/1157237/gcbenison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "accepted_answer_id": 38446552, "answer_count": 1, "score": 2, "last_activity_date": 1468878952, "creation_date": 1468876240, "last_edit_date": 1468878426, "question_id": 38446044, "link": "https://stackoverflow.com/questions/38446044/reusable-abstracted-way-to-bind-multiple-lexicals-all-in-one-go", "title": "Reusable, abstracted way to bind multiple lexicals all in one go", "body": "<p>I have code that repeats this pattern:</p>\n\n<pre><code>sub method1 {\n    my ($foo, $bar) = _get_things();   # this line...\n}\n\nsub method2 {\n    my ($foo, $bar) = _get_things();   # ...is repeated here\n}\n</code></pre>\n\n<p>The repeated line is just one line, so in a sense repeating it is no big deal.  But, that has the drawback that if the list <code>($foo, $bar)</code> ever changes, all these lines need to change.  In C, one might use the preprocessor to solve this problem.  Is there a good idiom for doing it in Perl?  Something like the following psuedo-perl:</p>\n\n<pre><code>MACRO_DEFINITION  my ($foo, $bar) = _get_things();\n\nsub method1 {\n    MACRO_CALL\n    print \"hi $foo\";\n} \n\nsub method2 {\n    MACRO_CALL\n    print \"hi $foo and $bar\";\n}\n</code></pre>\n\n<p>note: the reason <code>_get_things()</code> returns a list that I am binding to local lexical scalars is that I want to use them in string interpolation, as the latter example shows.</p>\n"}, {"tags": ["perl", "arrow-keys", "perlbrew", "perldb"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1468869212, "post_id": 38444253, "comment_id": 64294013, "body": "You&#39;re not missing &quot;something else.&quot; It&#39;s only affecting perlbrew because your perlbrew perl doesn&#39;t have Term::Readline::Gnu installed."}, {"owner": {"reputation": 2444, "user_id": 584940, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4fd36b5abead93bfd3575c08cd923e9?s=128&d=identicon&r=PG", "display_name": "Randall", "link": "https://stackoverflow.com/users/584940/randall"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468870321, "post_id": 38444253, "comment_id": 64294559, "body": "OK, true (confirmed it&#39;s installed under <code>&#47;usr&#47;lib&#47;perl5</code>, from <code>libterm-readline-gnu-perl</code>).  But then why the cpanm errors under perlbrew?  I.e., why does it work under <code>&#47;usr&#47;bin&#47;perl -d</code> <i>without</i> those libraries being installed?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1468871237, "post_id": 38444253, "comment_id": 64294950, "body": "That error is raised when the libraries can&#39;t be found in <code>$Config{libpath}</code>. Run <code>perl -MConfig -le&#39;print $Config{libpth}&#39;</code> to see which directories are being searched. Either the libraries are installed but your perlbrew perl is looking in the wrong directories, or the libraries aren&#39;t installed but they are linked statically in libterm-readline-gnu-perl."}, {"owner": {"reputation": 2444, "user_id": 584940, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4fd36b5abead93bfd3575c08cd923e9?s=128&d=identicon&r=PG", "display_name": "Randall", "link": "https://stackoverflow.com/users/584940/randall"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468872029, "post_id": 38444253, "comment_id": 64295348, "body": "Ah - I hadn&#39;t thought about static linking.  That must be it; <code>find</code> doesn&#39;t return results for any of the library names.  The perlbrew <code>$Config{libpath}</code> searches a superset of the /usr/bin/perl directories."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468876059, "post_id": 38444253, "comment_id": 64297357, "body": "It&#39;s only working for your system Perl because you only installed the module for your system Perl."}], "answers": [{"comments": [{"owner": {"reputation": 2444, "user_id": 584940, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4fd36b5abead93bfd3575c08cd923e9?s=128&d=identicon&r=PG", "display_name": "Randall", "link": "https://stackoverflow.com/users/584940/randall"}, "edited": false, "score": 0, "creation_date": 1468874218, "post_id": 38444683, "comment_id": 64296436, "body": "&lt;sigh&gt; Dependency hell: <code>rlver.c:3:31: fatal error: readline&#47;readline.h: No such file or directory</code>  But that is why I wanted to make sure I wasn&#39;t missing something else first :-)"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 2, "last_activity_date": 1468870647, "creation_date": 1468870647, "answer_id": 38444683, "question_id": 38444253, "link": "https://stackoverflow.com/questions/38444253/perl-debugger-does-not-work-with-arrow-keys-under-perlbrew/38444683#38444683", "title": "Perl debugger does not work with arrow keys under Perlbrew", "body": "<p>Perl modules installed via your distribution's package system are only available in the perl from your distribution (i.e. <code>/usr/bin/perl</code>). Other perl installations (e.g. those managed by perlbrew) are not affected. That's why other perls don't see Term::ReadLine::Gnu.</p>\n\n<p>Installing Term::ReadLine::Gnu from within the perlbrew environment (e.g. via cpan or cpanm) is the right solution. The error you're getting is probably caused by missing development headers (Term::ReadLine::Gnu is a wrapper around the readline C library, so it needs headers to build). Try installing <code>ncurses-dev</code> (with aptitude), then run <code>cpanm</code> again.</p>\n"}, {"tags": [], "owner": {"reputation": 2444, "user_id": 584940, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4fd36b5abead93bfd3575c08cd923e9?s=128&d=identicon&r=PG", "display_name": "Randall", "link": "https://stackoverflow.com/users/584940/randall"}, "is_accepted": true, "score": 0, "last_activity_date": 1468936294, "creation_date": 1468936294, "answer_id": 38460551, "question_id": 38444253, "link": "https://stackoverflow.com/questions/38444253/perl-debugger-does-not-work-with-arrow-keys-under-perlbrew/38460551#38460551", "title": "Perl debugger does not work with arrow keys under Perlbrew", "body": "<p>Installing the packages @melpomene suggests does do the trick.  </p>\n\n<p>But I found another solution that does <em>not</em> require the dev packages (and, hence, does not require root).  <em>Either</em> of the following CPAN packages can be used on their own:</p>\n\n<ul>\n<li>Term::ReadLine::Perl (Perl implementation of Readline libraries)</li>\n<li>Term::Readline::Zoid (<em>Pure</em> Perl implementation of Readline libraries)</li>\n</ul>\n\n<p>Since Perlbrew is sometimes (often?) used in environments where you don't have root, this is probably a more convenient solution.</p>\n"}], "owner": {"reputation": 2444, "user_id": 584940, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4fd36b5abead93bfd3575c08cd923e9?s=128&d=identicon&r=PG", "display_name": "Randall", "link": "https://stackoverflow.com/users/584940/randall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 38460551, "answer_count": 2, "score": 2, "last_activity_date": 1478621386, "creation_date": 1468868949, "last_edit_date": 1495540124, "question_id": 38444253, "link": "https://stackoverflow.com/questions/38444253/perl-debugger-does-not-work-with-arrow-keys-under-perlbrew", "title": "Perl debugger does not work with arrow keys under Perlbrew", "body": "<p>I'd like arrow keys to work for command history in perl debugger.  <a href=\"https://stackoverflow.com/questions/13783334/arrow-up-and-down-does-not-work-any-more-in-perl-debugger-and-cpan-client\">This solution</a> looks good, so since I'm using ubuntu, I tried</p>\n\n<pre><code>sudo aptitude install libterm-readline-gnu-perl\n</code></pre>\n\n<p>But, I still get the <code>^[[A</code> and <code>^[[B</code> echoed back in the perl debugger instead of previous/next commands.</p>\n\n<p>I have found this is specifically an issue within my <code>perlbrew</code> envinronment.  If I run <code>/usr/bin/perl -d</code> the arrow keys <em>do</em> work (ie, the install fixed it only for that perl).</p>\n\n<p><strong>How do I get the debugger to work under perlbrew?</strong>  </p>\n\n<p>As a last-ditch effort, within my perlbrew environment I tried <code>cpanm Term::ReadLine::Gnu</code> but got the error</p>\n\n<blockquote>\n  <p>Could not find neither libtermcap.a, libncurses.a, or libcurses.</p>\n</blockquote>\n\n<p>I could start installing more libraries, but it feels like I'm missing something else, since it's only a problem affecting Perlbrew.</p>\n"}, {"tags": ["string", "perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 5, "creation_date": 1468864429, "post_id": 38442996, "comment_id": 64291652, "body": "Why the arbitrary &#39;no looping&#39;/&#39;no regex&#39; solutions? The simple solution <i>is</i> to use a loop. In fact, any reasonable solution would probably involve looping."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468864462, "post_id": 38442996, "comment_id": 64291671, "body": "Your limitations are a little extreme and arbitrary. Why do you want to avoid regexes, and what&#39;s wrong with loops? I hope you realise that any solution must involve a loop, whether you can see it in your Perl code or not? There is no other way to count the occurrences of the character."}, {"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1468864607, "post_id": 38442996, "comment_id": 64291754, "body": "the &#39;no regex&#39; restriction is largely because I don&#39;t understand perl very well, and regex is a large and complex thing to pick up while still trying to learn the language.  the &#39;no loop&#39; restriction wasn&#39;t well stated.  the intent is I am wondering if there is a built-in way to do it, which there is in many languages."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 3, "creation_date": 1468864672, "post_id": 38442996, "comment_id": 64291787, "body": "There is no built-in way to do this, you would need to write it yourself. Other languages that provide a way to do this are just hiding the loops from you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468869986, "post_id": 38442996, "comment_id": 64294395, "body": "The reason there is no built-in way to do this is because Perl has regular expressions, which are the correct tool for the job"}, {"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468870959, "post_id": 38442996, "comment_id": 64294845, "body": "@Borodin why are regex the &quot;correct&quot; tool?  Seems to me iteration is the fastest and simplest thing to do.  Regex are useful for a lot of things but arent the simplest tool in the world, especially since &quot;Regular Expressions&quot; aren&#39;t a standardized thing that&#39;s the same everywhere."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 3, "creation_date": 1468871949, "post_id": 38442996, "comment_id": 64295309, "body": "I&#39;m curious, what language has a built-in feature to find the nth occurrence of a character or substring in a string?"}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 1, "creation_date": 1468876667, "post_id": 38442996, "comment_id": 64297649, "body": "What are you going to do with that index once you find it?  Are you planning to extract more data from the string from that point on?  This is exactly what regular expressions are for."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468877669, "post_id": 38442996, "comment_id": 64298082, "body": "@ewok: I&#39;m sorry if my meaning was unclear. My meaning was that because Perl has built-in regular expressions there is no need for a library call to find the Nth occurrence of a character. Regexes are the correct tool for the job <i>within Perl</i>. All of the various dialects of regular expressions are all certainly capable of this task. Do I detect a dislike of regex patterns from you?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468877763, "post_id": 38442996, "comment_id": 64298125, "body": "@ewok: Please enlighten us, what are these many languages that provide a built-in way to find the Nth occurrence of a character within a string?"}, {"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1468878865, "post_id": 38442996, "comment_id": 64298593, "body": "So I&#39;ll admit, apparently most languages that I thought had the ability built in don&#39;t. It may be my unfamiliarity with Perl that made it feel like this was more convoluted than it should be. And no, there&#39;s no specific dislike of regex, just a general lack of expertise. Regex is a powerful tool, but also a complex one, which means it goes beyond simply knowing a language to know how to use regex."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468879716, "post_id": 38442996, "comment_id": 64298871, "body": "@ewok: <code>$s =~ &#47;$s&#47;</code> is not complex. Regular expressions are central to Perl and it is very difficult to do much useful with the language unless you learn at least the basics. Others have asked, what are you going to do with that index once you have found it? Presumably push it into something like <code>substr</code>? Regular expressions will combine all of that into a single operation."}, {"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 1, "creation_date": 1468880741, "post_id": 38442996, "comment_id": 64299188, "body": "I never said that each individual regular expression is complex itself, I said they are in general a complex tool. And I&#39;m not trying to argue against them.  Regex are very useful for a lot of things.  But to me, it seems like finding the nth occurrence of a character in a string is something that shouldn&#39;t require regex. But at this point, we&#39;re getting into a nonconstructive philosophical discussion."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482912585, "post_id": 38442996, "comment_id": 69917275, "body": "Please see <a href=\"http://stackoverflow.com/help/someone-answers\"><code>What should I do when someone answers my question?</code></a> This garnered a lot of thorough responses, isn&#39;t there something that satisfies?"}], "answers": [{"comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 2, "creation_date": 1468868323, "post_id": 38443797, "comment_id": 64293552, "body": "I&#39;m not sure this is much easier to maintain than a regex-based solution."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1468869496, "post_id": 38443797, "comment_id": 64294153, "body": "In what way? This is a pretty basic string matching algorithm"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468879913, "post_id": 38443797, "comment_id": 64298927, "body": "That is a hugely extended way of writing an <code>index</code> iteration. You have twice as many variables as necessary. Take a look at my own solution."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468932074, "post_id": 38443797, "comment_id": 64321875, "body": "@Borodin I&#39;m confused, I have two <code>$times</code> and <code>$index</code>. You also have two <code>$i</code> and <code>$len</code> (I should really pre-compute the length). Are the variables you are referring to the ones used to create the test case?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468932933, "post_id": 38443797, "comment_id": 64322585, "body": "@HunterMcMillen: I have chosen to precompute the length of the substring to avoid calling <code>length</code> every time a match is found, but it isn&#39;t necessary. My point is that you have both <code>$n</code> (which is a copy of the parameter and so may be modified) as well as <code>$times</code> which is unnecessary. Largely because of the layout, I found your code quite difficult to grasp for a while."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1468932998, "post_id": 38443797, "comment_id": 64322651, "body": "Ok, I understand you point now. The only functional difference is the <code>$times</code> variable which was simply how I thought about it at the time. Counting down from <code>$n</code> is simpler."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468933055, "post_id": 38443797, "comment_id": 64322703, "body": "@HunterMcMillen: I also think it&#39;s clearer to avoid the second condition in the <code>while</code> test and move it inside the loop."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1468867001, "creation_date": 1468867001, "answer_id": 38443797, "question_id": 38442996, "link": "https://stackoverflow.com/questions/38442996/find-the-index-of-the-nth-occurrence-of-a-character-in-a-string/38443797#38443797", "title": "Find the index of the Nth occurrence of a character in a string", "body": "<p>One possible implementation: </p>\n\n<pre><code>use strict; \nuse warnings; \n\nuse feature qw(say);\n\nmy $string    = 'the quick brown fox jumped over the lazy dog';\nmy $substring = 'o';\nmy $n         = 4;\n\nsub nth_index {\n   my ($string, $substring, $n) = @_;\n\n   my ($times, $index) = (0, 0);\n   while ( $times &lt; $n &amp;&amp; $index != -1 ) {\n      $index = index(\n         $string, \n         $substring, \n         $times == 0 \n            ? 0 \n            : $index + length($substring),\n      );\n      $times++;\n   }\n\n   return $index; \n}\n\nsay nth_index($string, $substring, $n); # 42\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468879522, "post_id": 38444720, "comment_id": 64298816, "body": "If <code>length($ch)</code> is always 1 then <code>$+[0] - 1</code> is the same as <code>$-[0]</code>. Also, <code>return 0</code> is inadvisable as an error return as it is a valid index if <code>$N</code> is 1"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468881085, "post_id": 38444720, "comment_id": 64299310, "body": "@Borodin  Thank you very much, corrected (along with other updates)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468881266, "post_id": 38444720, "comment_id": 64299362, "body": "And shouldn&#39;t it be <code>return if @toks &lt;= $N</code> or similar?"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1548143807, "last_edit_date": 1548143807, "creation_date": 1468870778, "answer_id": 38444720, "question_id": 38442996, "link": "https://stackoverflow.com/questions/38442996/find-the-index-of-the-nth-occurrence-of-a-character-in-a-string/38444720#38444720", "title": "Find the index of the Nth occurrence of a character in a string", "body": "<p>As stated, there is no built-in for this. Here are a few ways, using <code>split</code>, <code>index</code>, and regex.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature qw(say);\n\nmy $str = \"Xab_ab_ab_ab_\";  # 'Xab_ab';  # test failed (3) matches\nmy $N = 3;  \n\nforeach my $patt qw(a ab c) {      \n  say \"Find index of occurrence $N of |$patt| in: |$str|\";\n  say \"index: \", ( ind_Nth_match_1($str, $patt, $N) // \"no $N matches\" ); #/\n  say \"split: \", ( ind_Nth_match_2($str, $patt, $N) // \"no $N matches\" ); #/\n  say \"regex: \", ( ind_Nth_match_3($str, $patt, $N) // \"no $N matches\" ); #/\n}\n\nsub ind_Nth_match_1 {\n    my ($str, $patt, $N) = @_; \n    my ($pos, $cnt) = (0, 0); \n    while ($pos = index($str, $patt, $pos) + 1) {  # != 0\n        return $pos-1  if ++$cnt == $N; \n    }\n    return;\n}\n\nsub ind_Nth_match_2 {\n    my ($str, $patt, $N) = @_; \n    my @toks = split /($patt)/, $str; \n    return if @toks &lt; 2*$N;\n    return length( join '', @toks[0..2*$N-1] ) - length($patt);\n}\n\nsub ind_Nth_match_3 {\n    my ($str, $patt, $N) = @_; \n    my $cnt = 0;\n    while ($str =~ m/$patt/g) {\n        return $-[0]  if ++$cnt == $N; \n    }\n}\n</code></pre>\n\n<p>This prints</p>\n\n<pre>\nFind index of occurrence 3 of |a| in: |Xab_ab_ab_ab_|\nindex: 7\nsplit: 7\nregex: 7\nFind index of occurrence 3 of |ab| in: |Xab_ab_ab_ab_|\nindex: 7\nsplit: 7\nregex: 7\nFind index of occurrence 3 of |c| in: |Xab_ab_ab_ab_|\nindex: no 3 matches\nsplit: no 3 matches\nregex: no 3 matches\n</pre>\n\n<p>Notes</p>\n\n<ul>\n<li><p>In <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\"><code>split</code></a> each delimiter is also returned in the output list, with capturing <code>/($patt)/</code>, for simpler <code>length</code> estimation. Thus we count <code>2*$N</code> (and then take <code>-1</code>).</p></li>\n<li><p>In regex the <a href=\"http://perldoc.perl.org/perlvar.html#Variables-related-to-regular-expressions\" rel=\"nofollow noreferrer\"><code>@- array</code></a> is used, <code>@LAST_MATCH_START</code>, for the position of the last successful match. Here the <code>/g</code> in scalar context in <code>while</code> makes it jump from a match to the next in repeated executions, and <code>$-[0]</code> gives the starting position of the last (previous) such match.</p></li>\n<li><p>The subs return <code>undef</code> if there are not required <code>$N</code> matches, including no matches at all.</p></li>\n</ul>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a> for comments on <code>return</code> from subs and on using <code>@-</code> instead of <code>@+</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 0, "last_activity_date": 1468877684, "creation_date": 1468877684, "answer_id": 38446367, "question_id": 38442996, "link": "https://stackoverflow.com/questions/38442996/find-the-index-of-the-nth-occurrence-of-a-character-in-a-string/38446367#38446367", "title": "Find the index of the Nth occurrence of a character in a string", "body": "<p>(This answer does not answer your question, but is here to help you down the road towards accepting a regex solution.)</p>\n\n<p>The way you're asking for a numeric index of the position, it sounds like you're thinking of extracting data from the string once you have that number, in a way that C programmers might do it.</p>\n\n<p>For example, say you had the string</p>\n\n<pre><code>my $str = \"My daddy left home when I was three and he didn't leave much for ma and me\";\n</code></pre>\n\n<p>and you wanted to extract all the data up to the first instance of the word \"and\".  Here's the way you could do it, which is sort of a C way to do it using Perl.</p>\n\n<pre><code>my $pos = find_index_of_first_occurrence( $str, 'and' );\n# Note that find_index_of_first_occurrence() is a hypothetical function.\nprint substr( $str, 0, $pos );\n# Prints \"My daddy left home when I was three \"\n</code></pre>\n\n<p>The way you'd do that in Perl with regexes is much simpler.</p>\n\n<pre><code>$str =~ /^(.*?)and/;\nprint $1;\n</code></pre>\n\n<p>With regexes, you're combining the searching for the string and the extraction of the data in one operation.  (Note that both code snippets ignore the case of not finding \"and\" at all, for the sake of simplicity)</p>\n\n<p>I understand that you don't know regexes very well yet, and that regexes can be daunting at first, but you'll need to understand them as part of learning Perl if you're going to succeed with the language.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1468879274, "creation_date": 1468879274, "answer_id": 38446668, "question_id": 38442996, "link": "https://stackoverflow.com/questions/38442996/find-the-index-of-the-nth-occurrence-of-a-character-in-a-string/38446668#38446668", "title": "Find the index of the Nth occurrence of a character in a string", "body": "<p></p>\n\n<p>Here are two examples of how I would solve the problem</p>\n\n<p>Subroutine <code>nth_index1</code> uses <code>index</code>, while <code>nth_index2</code> uses a regex. Both involve loops, as any solution must</p>\n\n<p>I believe the regex solution is much more readable, while the <code>index</code> solution is probably a little faster. But they are both so quick that they are highly unlikely to cause a bottleneck, and readability is always paramount</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict; \nuse warnings 'all';\n\nmy $s    = 'the quick brown fox jumps over the lazy dog';\nmy $ss   = 'o';\n\nfor my $n ( 1 .. 4 ) {\n    printf \"%d %d\\n\",\n        nth_index1($s, $ss, $n),\n        nth_index2($s, $ss, $n);\n}\n\n\nsub nth_index1 {\n   my ($s, $ss, $n) = @_;\n\n   my $i;\n   my $len = length $ss;\n\n   while ( $n-- ) {\n      $i = index($s, $ss, $i ? $i + $len : 0 );\n      return if $i &lt; 0;\n   }\n\n   $i; \n}\n\n\nsub nth_index2 {\n   my ($s, $ss, $n) = @_;\n\n   while ( $s =~ /$ss/g ) {\n        return $-[0] unless --$n;\n   }\n\n   return;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>12 12\n17 17\n26 26\n41 41\n</code></pre>\n"}], "owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1735, "favorite_count": 0, "answer_count": 4, "score": -3, "last_activity_date": 1548143807, "creation_date": 1468864127, "last_edit_date": 1468880701, "question_id": 38442996, "link": "https://stackoverflow.com/questions/38442996/find-the-index-of-the-nth-occurrence-of-a-character-in-a-string", "title": "Find the index of the Nth occurrence of a character in a string", "body": "<p>I've found <code>index</code> and <code>rindex</code> for finding the first or last occurrence of a character (or substring) in a string. I'm also aware that they have an <code>offset</code> that can be used to start at a certain index.</p>\n\n<p>What I want to know is if there is a simple way to find the index of the Nth occurrence of a character or substring in a string. I'd prefer not to have to do it with a regex and would rather not to have to write a loop that just repeatedly calls <code>index</code> with an offset.</p>\n\n<p>EDIT: I didn't state the restriction well. The reason I said \"no loop\" is I am looking for a built-in way to do it, which exists in many languages.</p>\n"}, {"tags": ["perl", "awk"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468864669, "post_id": 38441914, "comment_id": 64291786, "body": "When you say &quot;similar&quot; I presume you mean &quot;identical&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 106418, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "is_accepted": true, "score": 3, "last_activity_date": 1468860220, "creation_date": 1468860220, "answer_id": 38442007, "question_id": 38441914, "link": "https://stackoverflow.com/questions/38441914/merge-lines-with-similar-id-and-sum-corresponding-values/38442007#38442007", "title": "Merge lines with similar ID and sum corresponding values", "body": "<p>You can use awk's associative array:</p>\n\n<pre><code>awk '{split($1,a, \"-\"); arr[$2]+=a[2]} END{for(i in arr) print i, arr[i]}' file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 2, "last_activity_date": 1468862539, "creation_date": 1468862539, "answer_id": 38442594, "question_id": 38441914, "link": "https://stackoverflow.com/questions/38441914/merge-lines-with-similar-id-and-sum-corresponding-values/38442594#38442594", "title": "Merge lines with similar ID and sum corresponding values", "body": "<p>If the records are already sorted by NC_xxxx numbers, you can do it without array <em>(you can also sort the file before using <code>sort</code>)</em>:</p>\n\n<pre><code>awk -F'[- ]' 'o!=$3{print o,s;o=$3;s=$2;next}{s+=$2}END{print o,s}' file\n</code></pre>\n"}], "owner": {"reputation": 1791, "user_id": 2300940, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d4e0c6ced7160325289bac815c9c4fb8?s=128&d=identicon&r=PG", "display_name": "user2300940", "link": "https://stackoverflow.com/users/2300940/user2300940"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 38442007, "answer_count": 2, "score": -3, "last_activity_date": 1468862539, "creation_date": 1468859873, "question_id": 38441914, "link": "https://stackoverflow.com/questions/38441914/merge-lines-with-similar-id-and-sum-corresponding-values", "title": "Merge lines with similar ID and sum corresponding values", "body": "<p>I would like to combine similar lines to create a unique output matrix that sums the counts after the <code>-</code> sign. Please see my example below:</p>\n\n<pre><code>278-3192 NC_002188.1\n310-2831 NC_007653.1\n384-2206 NC_004068.1\n1059-573 NC_004068.1\n</code></pre>\n\n<p>output</p>\n\n<pre><code>NC_002188.1 3192\nNC_007653.1 2831\nNC_004068.1 2779\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 4, "creation_date": 1468858899, "post_id": 38441622, "comment_id": 64288816, "body": "variables that are declared with <a href=\"http://perldoc.perl.org/functions/my.html\" rel=\"nofollow noreferrer\"><code>my</code></a> are lexically scoped, meaning they only exist in the innermost enclosing block. In this case that means your <code>if</code> and <code>else</code> blocks. If you need to access their values outside of these blocks, they should be declared <i>outside</i> of your if-statement."}, {"owner": {"reputation": 99308, "user_id": 107744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7d6a34fb9a78937e1500b7ae0b5aee37?s=128&d=identicon&r=PG&f=1", "display_name": "spencer7593", "link": "https://stackoverflow.com/users/107744/spencer7593"}, "edited": false, "score": 0, "creation_date": 1468858982, "post_id": 38441622, "comment_id": 64288867, "body": "Variables have a <i>scope</i> within Perl.  <a href=\"http://perlmaven.com/scope-of-variables-in-perl\" rel=\"nofollow noreferrer\">http://perlmaven.com/scope-of-variables-in-perl</a>. (<code>my $monopentime</code> within the curly braces <i>hides</i> the <code>$monopentime</code> variable declared in the outer scope. Your code is exhibiting expected behavior.)"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1468859021, "post_id": 38441622, "comment_id": 64288887, "body": "@HunterMcMillen That should be an answer, not a comment."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468859757, "post_id": 38441819, "comment_id": 64289267, "body": "No, you don&#39;t get that warning, because the vars are in different scopes. Test: <code>perl -c -e&#39;use strict; use warnings; my $x; if (f()) { my $x }&#39;</code> (I wish it did, though!!! It&#39;s soooo rare that you&#39;d want to hide a var like this)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468873915, "post_id": 38441819, "comment_id": 64296297, "body": "Hmm, I did definitely copy those errors from running <code>perl -c</code>. I&#39;ll have to backtrack and figure out where they came from."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468875247, "post_id": 38441819, "comment_id": 64296965, "body": "You&#39;ll get that message when you declare to variables with the sme in name in the same scope (as the message says). Test: <code>perl -c -e&#39;use strict; use warnings; my $x; my $x&#39;</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1468859476, "creation_date": 1468859476, "answer_id": 38441819, "question_id": 38441622, "link": "https://stackoverflow.com/questions/38441622/perl-not-saving-variable-value-outside-of-if-clause/38441819#38441819", "title": "perl not saving variable value outside of if clause", "body": "<p><a href=\"http://perldoc.perl.org/functions/my.html\" rel=\"nofollow\"><code>my</code></a> lexically scopes a <em>new</em> variable to the current block. </p>\n\n<p>If you run this with <code>strict</code> and <code>warnings</code> enabled you will get:</p>\n\n<pre><code>\"my\" variable $monopentime masks earlier declaration in same scope.\n</code></pre>\n\n<p>Which means exactly what it says - you're declaring it twice, writing a value into  the one <em>inside</em> the block - and then it vanishes at the end of the block.</p>\n\n<p>So basically - remove the 'my' statements around the variables you have already declared at the beginning, and it will work. </p>\n\n<p>And turn on <code>use strict;</code> <code>use warnings;</code> because that would have told you exactly what the problem is. </p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1468859818, "post_id": 38441824, "comment_id": 64289307, "body": "No, <code>use strict; use warnings;</code> doesn&#39;t reveal the problem. (Test: <code>perl -c -e&#39;use strict; use warnings; my $x; if (f()) { my $x }&#39;</code> (I wish it did, though!!! It&#39;s soooo rare that you&#39;d want to hide a var like this)"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1468859611, "last_edit_date": 1468859611, "creation_date": 1468859505, "answer_id": 38441824, "question_id": 38441622, "link": "https://stackoverflow.com/questions/38441622/perl-not-saving-variable-value-outside-of-if-clause/38441824#38441824", "title": "perl not saving variable value outside of if clause", "body": "<p>Variables that are declared with <a href=\"http://perldoc.perl.org/functions/my.html\" rel=\"nofollow\"><code>my</code></a> are lexically scoped, meaning they only exist in the innermost enclosing block. In this case that means your if and else blocks. If you need to access their values outside of these blocks, they should be declared outside of your if-statement.</p>\n\n<p><a href=\"http://perldoc.perl.org/warnings.html\" rel=\"nofollow\"><code>use warnings;</code></a> and <a href=\"http://perldoc.perl.org/strict.html\" rel=\"nofollow\"><code>use strict;</code></a> will also reveal that you are shadowing the definition of <code>$monopentime</code> here as well. </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1468861169, "last_edit_date": 1468861169, "creation_date": 1468859575, "answer_id": 38441840, "question_id": 38441622, "link": "https://stackoverflow.com/questions/38441622/perl-not-saving-variable-value-outside-of-if-clause/38441840#38441840", "title": "perl not saving variable value outside of if clause", "body": "<p><code>my</code> creates a new variable (scoped to the inner-most block in which it is located). Inside the <code>if</code>, you want to assign to the <em>existing</em> variable, so drop the <code>my</code>.</p>\n\n<pre><code>my ( $monclosed, $monopentime, $monopenper, $monclosetime, $moncloseper ); \nif ($monday eq \"closed\") {\n    $monclosed    = 1;\n    $monopentime  = \"1\";\n    $monopenper   = \"AM\";\n    $monclosetime = \"1\";\n    $moncloseper  = \"AM\";\n} else {\n    $monclosed = 0;\n    my ($monopen, $monclose) = split /-/, $monday;\n    ( $monopentime,  $monopenper  ) = split ' ', $monopen;\n    ( $monclosetime, $moncloseper ) = split ' ', $monclose;\n}\n\nprint \"$monopentime\\n\";\n</code></pre>\n\n<p>I cleaned up the code at the same time.</p>\n\n<ul>\n<li>Avoided some needless temporary vars.</li>\n<li>Used the list form of <code>my</code> to improve readability.</li>\n<li>Avoided a needless negation in the condition (by swapping the \"then\" and \"else\" blocks).</li>\n<li>Used <code>split ' '</code> instead of <code>split / /</code> for increased robustness. (These are not equivalent.)</li>\n<li>Improved indenting and spacing.</li>\n<li>Moved <code>$monclosed</code> to the front/top. It seemed more natural.</li>\n</ul>\n"}], "owner": {"reputation": 329, "user_id": 5927716, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70bfdd9b7d85dd80bdc22bee3d1c84d1?s=128&d=identicon&r=PG&f=1", "display_name": "slicks1", "link": "https://stackoverflow.com/users/5927716/slicks1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 557, "favorite_count": 1, "accepted_answer_id": 38441840, "answer_count": 3, "score": 0, "last_activity_date": 1468861169, "creation_date": 1468858821, "question_id": 38441622, "link": "https://stackoverflow.com/questions/38441622/perl-not-saving-variable-value-outside-of-if-clause", "title": "perl not saving variable value outside of if clause", "body": "<p>I am a newbie to perl. Heres my issue: </p>\n\n<pre><code>my $monopentime;my $monopenper;my $monclosetime;my $moncloseper;my $monclosed;\n\nif($monday ne \"closed\"){\n my @monfields = split /-/, $monday;\n my $monopen = $monfields[0];\n my @monopenparts = split / /,$monopen;\n my $monopentime = $monopenparts[0];\n my $monopenper = $monopenparts[1];\n my $monclose = $monfields[1];\n my @moncloseparts = split / /,$monclose;\n my $monclosetime = $moncloseparts[0];\n my $moncloseper = $moncloseparts[1];\n my $monclosed=0;\n print $monopentime;\n} else {\n my $monopentime=\"1\";\n my $monopenper=\"AM\";\n my $monclosetime=\"1\";\n my $moncloseper=\"AM\";\n my $monclosed=1;\n}\nprint $monopentime;\n</code></pre>\n\n<p>If you notice I have two print statements, one inside the <code>ne clause</code> and one outside the <code>if else</code>. when i print the variable <code>inside</code> the clause it prints the data but when I print outside the <code>if else</code> clause i get nothing. </p>\n\n<p>Like I said im fairly new to perl what is the issue? <strong>I set my variables outside the clause too</strong></p>\n"}, {"tags": ["perl", "awk"], "answers": [{"comments": [{"owner": {"reputation": 1791, "user_id": 2300940, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d4e0c6ced7160325289bac815c9c4fb8?s=128&d=identicon&r=PG", "display_name": "user2300940", "link": "https://stackoverflow.com/users/2300940/user2300940"}, "edited": false, "score": 0, "creation_date": 1468858641, "post_id": 38441440, "comment_id": 64288660, "body": "That almost worked, but it outputs 16  gi as well on my data"}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "reply_to_user": {"reputation": 1791, "user_id": 2300940, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d4e0c6ced7160325289bac815c9c4fb8?s=128&d=identicon&r=PG", "display_name": "user2300940", "link": "https://stackoverflow.com/users/2300940/user2300940"}, "edited": false, "score": 0, "creation_date": 1468863019, "post_id": 38441440, "comment_id": 64290928, "body": "The space is perhaps a tab, need to add to field delimiters."}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 1, "last_activity_date": 1468864156, "last_edit_date": 1468864156, "creation_date": 1468858210, "answer_id": 38441440, "question_id": 38441349, "link": "https://stackoverflow.com/questions/38441349/select-specific-columns-from-complex-lines/38441440#38441440", "title": "select specific columns from complex lines", "body": "<p><code>awk</code> to the rescue!</p>\n\n<pre><code>$ awk -F' +|\\\\|' '{for(i=2;i&lt;=NF;i++) if($i ~ /^NC_[0-9.]+$/) {print $1,$i; next}}' file\n484-2117 NC_002188.1\n787-1087 NC_004068.1\n</code></pre>\n\n<p>if the space is a tab char, need to add to the delimiter list</p>\n\n<pre><code>$ awk -F' +|\\\\||\\t' ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1468858868, "creation_date": 1468858868, "answer_id": 38441636, "question_id": 38441349, "link": "https://stackoverflow.com/questions/38441349/select-specific-columns-from-complex-lines/38441636#38441636", "title": "select specific columns from complex lines", "body": "<p>Something like this in perl:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n   my ( $id, $nc ) = m/^([\\d\\-]+).*(NC_[\\d\\.]+)/;\n   print \"$id $nc\\n\";\n}\n\n__DATA__\n484-2117    16  gi|9634679|ref|NC_002188.1| 188705  23  21M *   0   0   CGCGTACCAAAAGTAATAATT   IIIIIIIIIIIIIIIIIIIII   AS:i:-6 XN:i:0  XM:i:1  XO:i:0  XG:i:0  NM:i:1  MD:Z:0G20   YT:Z:UU\n787-1087    16  gi|21844535|ref|NC_004068.1|    7006    23  20M *   0   0   CTATACAACCTACTACCTCA    IIIIIIIIIIIIIIIIIIII    AS:i:-6 XN:i:0  XM:i:1  XO:i:0  XG:i:0  NM:i:1  MD:Z:19T0   YT:Z:UU\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>484-2117 NC_002188.1\n787-1087 NC_004068.1\n</code></pre>\n\n<p>Which reduces to a one liner of:</p>\n\n<pre><code>perl -ne 'm/^([\\d\\-]+).*(NC_[\\d\\.]+)/ and print \"$1 $2\\n\"'   yourfile\n</code></pre>\n\n<p>Note - this specifically matches a first column made up of number and dash - you could do this with a wider regex match. </p>\n"}, {"tags": [], "owner": {"reputation": 19601, "user_id": 1620779, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/dlgGb.png?s=128&g=1", "display_name": "sjsam", "link": "https://stackoverflow.com/users/1620779/sjsam"}, "is_accepted": false, "score": 0, "last_activity_date": 1468859463, "last_edit_date": 1468859463, "creation_date": 1468858943, "answer_id": 38441657, "question_id": 38441349, "link": "https://stackoverflow.com/questions/38441349/select-specific-columns-from-complex-lines/38441657#38441657", "title": "select specific columns from complex lines", "body": "<p>Using gnu-awk below could be solution:</p>\n\n<pre><code>awk '{printf \"%s %s\\n\",$1,gensub(/.*(NC_.*\\.1).*/,\"\\\\1\",1,$0)}' file\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>484-2117 NC_002188.1\n787-1087 NC_004068.1\n</code></pre>\n\n<p>A more restrictive version would be</p>\n\n<pre><code>awk '{printf \"%s %s\\n\",$1,gensub(/.*(NC_[[:digit:]]*\\.1).*/,\"\\\\1\",1,$0)}' file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 0, "last_activity_date": 1468858960, "creation_date": 1468858960, "answer_id": 38441662, "question_id": 38441349, "link": "https://stackoverflow.com/questions/38441349/select-specific-columns-from-complex-lines/38441662#38441662", "title": "select specific columns from complex lines", "body": "<p>With perl:</p>\n\n<pre><code>perl -anE'say \"$F[0] \",(split /\\|/, $F[2])[3]' file\n</code></pre>\n\n<p>or awk:</p>\n\n<pre><code>awk -F'\\\\|| +' '{print $1,$6}' file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1371, "user_id": 5056806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfa01ad122fc89b571651ffbbc34ce37?s=128&d=identicon&r=PG&f=1", "display_name": "Claes Wikner", "link": "https://stackoverflow.com/users/5056806/claes-wikner"}, "is_accepted": false, "score": 0, "last_activity_date": 1468939885, "creation_date": 1468939885, "answer_id": 38461924, "question_id": 38441349, "link": "https://stackoverflow.com/questions/38441349/select-specific-columns-from-complex-lines/38461924#38461924", "title": "select specific columns from complex lines", "body": "<pre><code>awk -F'[ |]' '{print $1,$10}' file\n484-2117 NC_002188.1\n787-1087 NC_004068.1\n</code></pre>\n"}], "owner": {"reputation": 1791, "user_id": 2300940, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d4e0c6ced7160325289bac815c9c4fb8?s=128&d=identicon&r=PG", "display_name": "user2300940", "link": "https://stackoverflow.com/users/2300940/user2300940"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 38441636, "answer_count": 5, "score": -1, "last_activity_date": 1468939885, "creation_date": 1468857920, "question_id": 38441349, "link": "https://stackoverflow.com/questions/38441349/select-specific-columns-from-complex-lines", "title": "select specific columns from complex lines", "body": "<p>I have a file that contains lines with the following format. I would like to keep only the <strong>first column</strong> and the column containing the string with the following format <strong>NC_XXXX.1</strong></p>\n\n<pre><code>484-2117    16  gi|9634679|ref|NC_002188.1| 188705  23  21M *   0   0   CGCGTACCAAAAGTAATAATT   IIIIIIIIIIIIIIIIIIIII   AS:i:-6 XN:i:0  XM:i:1  XO:i:0  XG:i:0  NM:i:1  MD:Z:0G20   YT:Z:UU\n787-1087    16  gi|21844535|ref|NC_004068.1|    7006    23  20M *   0   0   CTATACAACCTACTACCTCA    IIIIIIIIIIIIIIIIIIII    AS:i:-6 XN:i:0  XM:i:1  XO:i:0  XG:i:0  NM:i:1  MD:Z:19T0   YT:Z:UU\n.....\n....\n...\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>484-2117 NC_002188.1\n787-1087 NC_004068.1\n</code></pre>\n"}, {"tags": ["perl", "expect.pm"], "answers": [{"tags": [], "owner": {"reputation": 764, "user_id": 3581172, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Dlsro.jpg?s=128&g=1", "display_name": "Bad_Coder", "link": "https://stackoverflow.com/users/3581172/bad-coder"}, "is_accepted": true, "score": 1, "last_activity_date": 1473844841, "creation_date": 1473844841, "answer_id": 39486802, "question_id": 38440940, "link": "https://stackoverflow.com/questions/38440940/automate-and-capture-login-prompt-through-perls-expect/39486802#39486802", "title": "Automate and capture login prompt through perl&#39;s expect", "body": "<p>Not sure if it's the best way but it works</p>\n\n<pre><code>use Expect;\nmy $command = \"perl -e 'use REST::Client; \\$tmp = REST::Client-&gt;getCredentials();print \\$tmp-&gt;{'username'};print \\\" \\\";print \\$tmp-&gt;{'password'};'\";\nmy $exp = Expect-&gt;spawn($command) || die \"i am done\";\n$exp-&gt;expect(undef, 'Login on Remote:');\n$exp-&gt;send(\"user\\n\");\n$exp-&gt;expect(undef, 'Password of user:');\n$exp-&gt;send(\"12345\\n\");\nif ($exp-&gt;expect(undef,'-re','user 12345') == 1) {\n    print \"matched\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 764, "user_id": 3581172, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Dlsro.jpg?s=128&g=1", "display_name": "Bad_Coder", "link": "https://stackoverflow.com/users/3581172/bad-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "accepted_answer_id": 39486802, "answer_count": 1, "score": 4, "last_activity_date": 1504624065, "creation_date": 1468856707, "last_edit_date": 1504624065, "question_id": 38440940, "link": "https://stackoverflow.com/questions/38440940/automate-and-capture-login-prompt-through-perls-expect", "title": "Automate and capture login prompt through perl&#39;s expect", "body": "<p>I'm trying to automate a login prompt in Perl</p>\n\n<p>I'm using <code>SSHGetCredentials('login_prompt' =&gt; 1)</code> to generate a login prompt which is a function of perl's <code>Expect::SSH</code> library</p>\n\n<p>This is how my code looks like, here <code>REST::Client-&gt;getCredentials()</code> internally calls <code>SSHGetCredentials('login_prompt' =&gt; 1)</code> which would call a login prompt and return the entered userID and password.</p>\n\n<pre><code>use Expect;\nmy $command = \"perl -e 'use REST::Client; REST::Client-&gt;getCredentials()'\";\nmy $exp = Expect-&gt;spawn($command) || die \"i am done\";\n$exp-&gt;expect(undef, 'Login on Remote:');\n$exp-&gt;send(\"user\\n\");\n$exp-&gt;expect(undef, 'Password of user:');\n$exp-&gt;send(\"12345\\n\");\n</code></pre>\n\n<p>Now I want to verify whether user name or password is what I have passed, so I want to capture them and compare.</p>\n\n<p>How can I capture them?</p>\n\n<p>I tried this:</p>\n\n<pre><code>use Expect;\nmy $command = \"perl -e 'use REST::Client; \\$tmp = REST::Client-&gt;getCredentials();print \\$tmp-&gt;{'username'};print \\\" \\\";print \\$tmp-&gt;{'password'};'\";\nmy $exp = Expect-&gt;spawn($command) || die \"i am done\";\n$exp-&gt;expect(undef, 'Login on Remote:');\n$exp-&gt;send(\"user\\n\");\n$exp-&gt;expect(undef, 'Password of user:');\n$exp-&gt;send(\"12345\\n\");\nmy $value = $exp-&gt;expect(1);\n</code></pre>\n\n<p>but <code>$value</code> has nothing and <code>$exp-&gt;expect(1)</code> just prints the values in STDOUT.</p>\n"}, {"tags": ["perl", "unix", "authentication", "pam", "nis"], "owner": {"reputation": 95, "user_id": 2981210, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/267ba39b1ce7f8013a1297095902484e?s=128&d=identicon&r=PG&f=1", "display_name": "sid", "link": "https://stackoverflow.com/users/2981210/sid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1468855984, "creation_date": 1468855984, "question_id": 38440718, "link": "https://stackoverflow.com/questions/38440718/authenpam-login-doesnt-work-after-vintela-flush", "title": "Authen::PAM login doesn&#39;t work after Vintela flush", "body": "<p>I have a perl script that gets the username and password from an external process and then does user authentication using Vintela. Everything works perfectly until someone forces Vintela to flush it's cache. After the cache is flushed, the Authen::PAM module returns code 10, which means that it couldn't find the username.</p>\n\n<p>If I run the \"id $username\" command in the shell and then run the script then everything returns to normal for that user. Or if the user SSH's into the system then Authen::PAM works perfectly.</p>\n\n<p>On the production server user's don't SSH into the server and hence after Vintela flush, user's can't login anymore. I don't want to run the \"id\" command for every user before I authenticate them. Is there a way I can force the script or PAM module to look for user and then authenticate them ?</p>\n\n<p>Script --</p>\n\n<pre><code>BEGIN {\n    unshift(@INC, \"..\", \"/usr/local/staf/bin\", \"/usr/local/staf/lib\", \"C:/STAF/Bin\");\n}\n\nuse strict;\nuse PLSTAF;\nrequire Authen::PAM;\n\nmy $GlobalUserName = &lt;STDIN&gt;;\nmy $GlobalPasswd = &lt;STDIN&gt;;\nmy $result = -1;\n\n\n$GlobalPasswd = STAF::RemovePrivacyDelimiters($GlobalPasswd);\n\nmy $pamHandle = Authen::PAM-&gt;new(\"login\", $GlobalUserName, \\&amp;conversionFunction);\n$result = $pamHandle-&gt;pam_authenticate();\n\n# force the destructor execution for PAM\n$pamHandle = 0;\n\n# When $result is 0 then user has been authenticated\nif ($result == 0) {\n    print $result;\n    exit $result;\n}\nelse {\n    exit $result;\n}\n\n\nsub conversionFunction {\n\n    my @response = ();\n\n    # PAM constants\n    my $pamEchoOn = Authen::PAM-&gt;PAM_PROMPT_ECHO_ON();\n    my $pamEchoOff = Authen::PAM-&gt;PAM_PROMPT_ECHO_OFF();\n    my $pamSuccess = Authen::PAM-&gt;PAM_SUCCESS();\n\n    while ( @_ ) {\n        my $code = shift;\n        my $msg = shift;\n        my $answer = \"\";\n\n        if ($code == $pamEchoOn) {\n            $answer = $GlobalUserName;\n        }\n        if ($code == $pamEchoOff) {\n            $answer = $GlobalPasswd;\n        }\n\n        # response is always in pairs, response code and the actual answer\n        push(@response, $pamSuccess, $answer);\n    }\n    push(@response, $pamSuccess);\n\n    return @response;\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1468855533, "post_id": 38440406, "comment_id": 64286741, "body": "What is your question? How to read one file from an input file, or how to send an email?"}, {"owner": {"reputation": 456, "user_id": 4902679, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4c798e668824f0209721b21bcb86ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/4902679/goku"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1468856792, "post_id": 38440406, "comment_id": 64287533, "body": "My requirement is to send e-mail by reading the out.log file. Account balance and e-mail recipients are available in the log file   <code>12345 joe@gmail.com 67890 jack@gmail.com 45678 john@gmail.com</code>  I have to send e-mail to individual e-mail ids with e-mail body content like below:  to, <code>joe@gmail.com  Your balance is:12345</code>  to, <code>jack@gmail.com  Your balance is:67890</code>  to, <code>john@gmail.com  Your balance is:45678</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1468862506, "post_id": 38440406, "comment_id": 64290665, "body": "@Vigs You haven&#39;t really answered choroba&#39;s question.  Can you tell us -- (1) Do you know how to read the file(s) as needed? (2) Do you know how to send an email?"}], "answers": [{"comments": [{"owner": {"reputation": 456, "user_id": 4902679, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4c798e668824f0209721b21bcb86ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/4902679/goku"}, "edited": false, "score": 0, "creation_date": 1468924528, "post_id": 38441427, "comment_id": 64316184, "body": "With some customization , Its working great. Thanks."}], "tags": [], "owner": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "is_accepted": false, "score": 0, "last_activity_date": 1468858223, "last_edit_date": 1468858223, "creation_date": 1468858170, "answer_id": 38441427, "question_id": 38440406, "link": "https://stackoverflow.com/questions/38440406/perl-script-to-send-e-mail-reading-file-content/38441427#38441427", "title": "Perl script to send e-mail reading file content", "body": "<h1>haven't tested but this should solve your problem.</h1>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Mail::Sendmail;\n\nopen my $fh, '&lt;', 'output.log' or die \"could not open file output.log !$\";\n\nwhile (my $line = &lt;$fh&gt;) { # read the content of the file line by line\n      # match and capture balance and the email address\n      my ($balance, $to_email) = $line =~ /(\\d+)\\s+(\\S+)/;\n      %mail = ( To      =&gt; $to_email,\n                From    =&gt; 'your_eamil@address.comacine',\n                Messag =&gt; \"your balance is: $balance\"\n              );\n      sendmail(%mail);\n}\nclose $fh;\n</code></pre>\n"}], "owner": {"reputation": 456, "user_id": 4902679, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4c798e668824f0209721b21bcb86ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/4902679/goku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1468858223, "creation_date": 1468855090, "question_id": 38440406, "link": "https://stackoverflow.com/questions/38440406/perl-script-to-send-e-mail-reading-file-content", "title": "Perl script to send e-mail reading file content", "body": "<p>Wrote a Perl script to extract contents from 2 arrays and store it to a file <strong>(out.log)</strong> in the below format </p>\n\n<pre><code>open my $fh, \"&gt;\", \"out.log\" or die \"Cannot open out.log: $!\";\nfor my $i (0..$#arr_1){\n    print $fh \"$arr_1[$i]\\t$arr_2[$i]\\@gmail.com\\n\"; }\nclose $fh; \n\n\n12345 joe@gmail.com\n67890 jack@gmail.com\n45678 john@gmail.com\n</code></pre>\n\n<p>Now by reading the out.log file content , I have to send e-mail to joe@gmail.com with e-mail body content </p>\n\n<pre><code>Your balance is:12345\n</code></pre>\n\n<p>to, jack@gmail.com</p>\n\n<pre><code>Your balance is:67890\n</code></pre>\n\n<p>to,john@gmail.com</p>\n\n<pre><code>Your balance is:45678\n</code></pre>\n\n<p>I can read the log file and form the mail body content like below but unsure how to achieve the above mentioned scenario.</p>\n\n<pre><code>my $mail_body = \"Your balance is:\\n\";\n{\n  local $/ = undef;\n  open FILE, \"file\" or die \"...: !$\";\n  $mail_body .= &lt;FILE&gt;;\n  close FILE;\n}\n</code></pre>\n\n<p>Looking forward for help .Thanks in advance.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 3495, "user_id": 6282011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95b77715e47dc5e168ba0f573529099a?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Tomas", "link": "https://stackoverflow.com/users/6282011/juan-tomas"}, "edited": false, "score": 0, "creation_date": 1468854335, "post_id": 38440038, "comment_id": 64285858, "body": "<code>FEILD BEING REMOVED</code> != <code>FIELD BEING REMOVED</code>"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1468854336, "post_id": 38440038, "comment_id": 64285860, "body": "You have a typo in your <code>grep</code> expression. <code>FEILD</code> != <code>FIELD</code>"}, {"owner": {"reputation": 564, "user_id": 2256825, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aeb1455c5a16c144d42b9701f4bf7a68?s=128&d=identicon&r=PG", "display_name": "user2256825", "link": "https://stackoverflow.com/users/2256825/user2256825"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1468854600, "post_id": 38440038, "comment_id": 64286057, "body": "@HunterMcMillen , it still doesnt work."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1468854734, "post_id": 38440038, "comment_id": 64286164, "body": "Please provide a minimal, runnable demonstration of the problem."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1468856425, "creation_date": 1468856425, "answer_id": 38440847, "question_id": 38440038, "link": "https://stackoverflow.com/questions/38440038/grepping-a-word-phrase-in-arrays-index-and-return-the-whole-array-in-perl/38440847#38440847", "title": "Grepping a word/phrase in array&#39;s index and return the whole array in perl", "body": "<p>I think the problem here is - you may be forgetting that you can set <code>$/</code>:</p>\n\n<pre><code>my @records = do { local $/ = \"\"; &lt;DATA&gt; };\nprint Dumper \\@records;\n</code></pre>\n\n<p>(note - setting it to <code>\"\"</code> does this in 'paragraph mode' e.g. blank lines separating)</p>\n\n<p>And then you can <code>grep</code> by record:</p>\n\n<pre><code>print join \"\\n\", grep { /FIELD BEING REMOVED/ } @records;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "is_accepted": false, "score": 1, "last_activity_date": 1468913196, "creation_date": 1468913196, "answer_id": 38452025, "question_id": 38440038, "link": "https://stackoverflow.com/questions/38440038/grepping-a-word-phrase-in-arrays-index-and-return-the-whole-array-in-perl/38452025#38452025", "title": "Grepping a word/phrase in array&#39;s index and return the whole array in perl", "body": "<pre><code>use strict;\nuse warnings;\nmy $file = \"d:/test.txt\";\nmy $var;\n{\n    local $/;\n    open my $fh, '&lt;', $file or die \"can't open $file: $!\";\n    $var = &lt;$fh&gt;;\n}\nmy @array = split ( /\\n\\n/, $var); // you said the information is separated by double \\n\nuse Data::Dumper;\nprint Dumper @array;\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/svNzJ.png\" rel=\"nofollow\">This is the content of the @array</a></p>\n\n<pre><code>my @index_containing_FBR = grep { /FIELD BEING REMOVED/ } @array; \nprint Dumper @index_containing_FBR;\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/8Sk2w.png\" rel=\"nofollow\">This is the content of @index_containing_FBR</a></p>\n"}], "owner": {"reputation": 564, "user_id": 2256825, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aeb1455c5a16c144d42b9701f4bf7a68?s=128&d=identicon&r=PG", "display_name": "user2256825", "link": "https://stackoverflow.com/users/2256825/user2256825"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1468913196, "creation_date": 1468854100, "last_edit_date": 1468856669, "question_id": 38440038, "link": "https://stackoverflow.com/questions/38440038/grepping-a-word-phrase-in-arrays-index-and-return-the-whole-array-in-perl", "title": "Grepping a word/phrase in array&#39;s index and return the whole array in perl", "body": "<p>I read an input file and record  is seperated by double new line and \nStoring a chunk (seperated by \\n) in array\nAnd while i try to grep a pattern \"FEILD BEING REMOVED\" , it is actually not picking it\nAny issues with the way i am grepping,</p>\n\n<pre><code>my @msg = [split /\\n/, $input_line ];\nmy @index_containing_FBR = grep { /FIELD BEING REMOVED/ } @msg; \nprint Dumper @index_containing_o;\n\n__DATA__\n&lt;ALERT&gt; ID=7 Loss with count of 10 for\n    Field Identifier:780222304404\n    Address:up.v.000654\n    Time: 1468581106\n\n&lt;ALERT&gt; ID=8 Link Loss with count of 15 for\n    Field Identifier:780222304404\n    Address:up.v.000654\n    Time: 1468581114\n\n&lt;INFO&gt;  FIELD BEING REMOVED: an extended period of time - being removed from monitoring\n    FIELD Identifier:780222304203\n    Time: 146858308\n</code></pre>\n\n<p>Below data has 3 records and each record is seperated by double newline.\nAnd fields in each record are seperated by a single newline, which i am pushing to an array @msg.\nAnd finally iam trying to grep the \"FIELD BEING REMOVED\" pattern and would like the whole array to be returned.</p>\n\n<p>The above code is not really fetching required stuff.</p>\n\n<p>Please advice</p>\n\n<p>Thanks\nTejas</p>\n"}, {"tags": ["windows", "perl", "command-prompt", "path-variables"], "comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1468844749, "post_id": 38436510, "comment_id": 64278781, "body": "The accepted answer to this question (<a href=\"http://stackoverflow.com/questions/12436587/how-to-run-perl-script-from-any-where-any-directory\" title=\"how to run perl script from any where any directory\">stackoverflow.com/questions/12436587/&hellip;</a>) should help you"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1468846356, "last_edit_date": 1468846356, "creation_date": 1468845883, "answer_id": 38437094, "question_id": 38436510, "link": "https://stackoverflow.com/questions/38436510/run-perl-scripts-from-path-folder-in-command-prompt/38437094#38437094", "title": "run perl scripts from PATH folder in command prompt", "body": "<p>Just <code>abc.pl</code> should work for you if Perl is installed properly. Note, if you use <code>perl abc.pl</code>, bash won't search the path for <code>abc.pl</code> either: it will look in the current working directory and die if the file doesn't exist</p>\n\n<p>If you want Perl to search the path for the script file then use the <code>-S</code> option</p>\n\n<pre><code>perl -S abc.pl\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "is_accepted": false, "score": 0, "last_activity_date": 1468849081, "creation_date": 1468849081, "answer_id": 38438205, "question_id": 38436510, "link": "https://stackoverflow.com/questions/38436510/run-perl-scripts-from-path-folder-in-command-prompt/38438205#38438205", "title": "run perl scripts from PATH folder in command prompt", "body": "<p>Go with <code>cd</code> to your script directory. Run the folowing:<br> <code>path_to_perl\\perl.exe abc.pl</code></p>\n"}, {"tags": [], "owner": {"reputation": 8726, "user_id": 597305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ad05a19a937275934237503fc77d887?s=128&d=identicon&r=PG", "display_name": "Bill Ruppert", "link": "https://stackoverflow.com/users/597305/bill-ruppert"}, "is_accepted": false, "score": 0, "last_activity_date": 1468853469, "creation_date": 1468853469, "answer_id": 38439809, "question_id": 38436510, "link": "https://stackoverflow.com/questions/38436510/run-perl-scripts-from-path-folder-in-command-prompt/38439809#38439809", "title": "run perl scripts from PATH folder in command prompt", "body": "<p>Looks like Windows.  I have set the .pl extension to be opened by perl, using <code>Control Panel\\Programs\\Default Programs\\Set Associations</code>.  Then the command <code>abc.pl</code> works fine as long as it is on the path, as it is in your example.</p>\n"}], "owner": {"reputation": 1243, "user_id": 1682673, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c93dd597cdf4fa73876e42f96f17b2b?s=128&d=identicon&r=PG", "display_name": "rnbguy", "link": "https://stackoverflow.com/users/1682673/rnbguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2451, "favorite_count": 2, "accepted_answer_id": 38437094, "answer_count": 3, "score": 2, "last_activity_date": 1468870538, "creation_date": 1468844187, "last_edit_date": 1468870538, "question_id": 38436510, "link": "https://stackoverflow.com/questions/38436510/run-perl-scripts-from-path-folder-in-command-prompt", "title": "run perl scripts from PATH folder in command prompt", "body": "<p>I want to run a perl script located in a PATH directory.\nNow command prompt does not search arguments in PATH directories. It just search files in current directory.</p>\n\n<pre><code>C:\\Users\\dg&gt;echo %PATH%\n...;C:\\Users\\dg\\abc\n\nC:\\Users\\dg&gt;dir /a-d /b abc\nabc.pl\n\nC:\\Users\\dg&gt;perl abc.pl\nCan't open perl script \"abc.pl\": No such file or directory\n</code></pre>\n\n<p>Any solution or work around?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1468844701, "post_id": 38435191, "comment_id": 64278739, "body": "<a href=\"http://www.perlmonks.org/?node_id=500644\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=500644</a>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1468844183, "last_edit_date": 1468844183, "creation_date": 1468840758, "answer_id": 38435385, "question_id": 38435191, "link": "https://stackoverflow.com/questions/38435191/get-two-array-values-alternately/38435385#38435385", "title": "Get two array values alternately", "body": "\n\n<p>You can use the <code>pairwise</code> operator from <a href=\"https://metacpan.org/pod/List::MoreUtils\" rel=\"nofollow\"><code>List::MoreUtils</code></a></p>\n\n<p>Like so</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse List::MoreUtils 'pairwise';\n\nmy @a1 = qw/ ABC  DEF  GHI  /;\nmy @b1 = qw/ 1234 6789 7635 /;\n\nmy @pairs = pairwise { [ $a, $b ] } @a1, @b1;\n\nprint \"@$_\\n\" for @pairs;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>ABC 1234\nDEF 6789\nGHI 7635\n</code></pre>\n\n<p>If this is <em>all</em> you want to do with the pairs then you may avoid the intermediate list altogether and write</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>pairwise { print \"$a $b\\n\" } @a1, @b1;\n</code></pre>\n\n<p>with the same result</p>\n\n<p>Note that if one array is shorter than the other then <code>$a</code> or <code>$b</code> will be set to <code>undef</code> after the end of the shorter array. You will have to handle that as appropriate</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468841331, "post_id": 38435409, "comment_id": 64276453, "body": "Tabs are such awful things"}, {"owner": {"reputation": 456, "user_id": 4902679, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4c798e668824f0209721b21bcb86ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/4902679/goku"}, "edited": false, "score": 0, "creation_date": 1468843078, "post_id": 38435409, "comment_id": 64277636, "body": "Tried this option too and worked fine. Thanks much !"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 1, "last_activity_date": 1468842660, "last_edit_date": 1468842660, "creation_date": 1468840819, "answer_id": 38435409, "question_id": 38435191, "link": "https://stackoverflow.com/questions/38435191/get-two-array-values-alternately/38435409#38435409", "title": "Get two array values alternately", "body": "<p>Provided that <code>@a1</code> and <code>@b1</code> are always the same length:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @a1 = qw( ABC DEF GHI );\nmy @b1 = qw( 1234 6789 7635 );\n\nopen my $fh, \"&gt;\", \"log.txt\" or die \"Cannot open log.txt: $!\"; \n\nfor my $i (0..$#a1){\n    print $fh \"$a1[$i] $b1[$i]\\n\";\n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>use feature qw/ say /;\n\nsay $fh join(' ', $a1[$_], $b1[$_]) for 0 .. $#a1;\n</code></pre>\n"}], "owner": {"reputation": 456, "user_id": 4902679, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4c798e668824f0209721b21bcb86ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/4902679/goku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 38435385, "answer_count": 2, "score": 1, "last_activity_date": 1468844183, "creation_date": 1468840186, "last_edit_date": 1468841441, "question_id": 38435191, "link": "https://stackoverflow.com/questions/38435191/get-two-array-values-alternately", "title": "Get two array values alternately", "body": "<p></p>\n\n<p>I'm writing two array contents to file: </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>@a1 = ('ABC', 'DEF', 'GHI');\n@b1 = (1234, 6789, 7635);\n\nopen my $fh, \"&gt;\", \"log.txt\" or die \"Cannot open log.txt: $!\";\n\nforeach ( @a1, @a2 ) {\n    print $fh \"$_\\n\";\n} \n\nclose $fh; \n</code></pre>\n\n<p>Output: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ABC\nDEF\nGHI\n1234\n6789\n7635\n</code></pre>\n\n<p>I want to write it to the log file in the following manner: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ABC 1234\nDEF 6789\nGHI 7635\n</code></pre>\n\n<p>I'm unsure how to achieve it.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1468836055, "post_id": 38433818, "comment_id": 64273056, "body": "or gmtime instead of localtime, depending what you want"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468838164, "post_id": 38433818, "comment_id": 64274472, "body": "Also <code>use Time::Seconds &#39;ONE_WEEK&#39;</code> and <code>localtime( time - ONE_WEEK )</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468853077, "post_id": 38433818, "comment_id": 64284980, "body": "Doing math on epoch times such as <code>localtime( time - 604800 )</code> and <code>localtime( time - ONE_WEEK )</code> do is wrong; it sometimes give the incorrect result. Only performing arithmetic on the Time::Piece object is safe. Fixed."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1468853244, "last_edit_date": 1468853244, "creation_date": 1468836034, "answer_id": 38433818, "question_id": 38433759, "link": "https://stackoverflow.com/questions/38433759/perl-issue-converting-time-stamp-to-readable-date/38433818#38433818", "title": "Perl, issue converting time stamp to readable date", "body": "<p>Use <code>Time::Piece</code>.  It's a core module that replaces <code>localtime</code> (and <code>gmtime</code>) but turns it into a much more useful form. </p>\n\n<pre><code>use Time::Piece;\nmy $week_ago = localtime() - 604800;\nprint $week_ago -&gt; strftime(\"%Y-%m-%d\");\n</code></pre>\n\n<p>Note - both <code>localtime</code> and <code>gmtime</code> now return a <code>Time::Piece</code> object, which means you can do numeric comparisons with it too. </p>\n\n<p>You can also for clarity - import <code>Time::Seconds</code> and use it to define more useful constants (like <code>ONE_DAY</code> and <code>ONE_WEEK</code>) as noted by Borodin in the comments.</p>\n\n<pre><code>use Time::Piece;\nuse Time::Seconds qw ( ONE_WEEK ); \nmy $week_ago = localtime() - ONE_WEEK;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1468853731, "last_edit_date": 1495541690, "creation_date": 1468836166, "answer_id": 38433863, "question_id": 38433759, "link": "https://stackoverflow.com/questions/38433759/perl-issue-converting-time-stamp-to-readable-date/38433863#38433863", "title": "Perl, issue converting time stamp to readable date", "body": "<p><strong>As your error message says</strong>, POSIX's <code>strftime</code> takes a list of vaules, not a unix timestamp. You need to call <a href=\"http://perldoc.perl.org/functions/localtime.html\" rel=\"nofollow noreferrer\"><code>localtime</code></a> or <a href=\"http://perldoc.perl.org/functions/gmtime.html\" rel=\"nofollow noreferrer\"><code>gmtime</code></a> before you call it.</p>\n\n<pre><code> my $one_minute_ago = strftime(\"%Y-%m-%d\", localtime(time - 60)); \n</code></pre>\n\n<p>The above example is fine if you are doing date math with short amounts below one day. Everything above that is error-prone. For your <em>one week ago</em> scenario, use <a href=\"https://stackoverflow.com/a/38433818/1331451\">sobrique's answer</a> instead.</p>\n"}], "owner": {"reputation": 1246, "user_id": 4577456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10152662960092727/picture?type=large", "display_name": "Liam Fell", "link": "https://stackoverflow.com/users/4577456/liam-fell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 38433863, "answer_count": 2, "score": 1, "last_activity_date": 1468853731, "creation_date": 1468835868, "last_edit_date": 1468836154, "question_id": 38433759, "link": "https://stackoverflow.com/questions/38433759/perl-issue-converting-time-stamp-to-readable-date", "title": "Perl, issue converting time stamp to readable date", "body": "<p>I have the following one liner, this should convert the date from one week ago today to a readable format.</p>\n\n<p><code>my $week_ago = strftime(\"%Y-%m-%d\", time - 604800);</code></p>\n\n<p>However I get the following error:</p>\n\n<pre><code>Usage: POSIX::strftime(fmt, sec, min, hour, mday, mon, year, wday = -1, yday = -1, isdst = -1)\n</code></pre>\n\n<p>Can anyone suggest what the issue is here? From my understanding, <code>strftime</code> should convert a time stamp to a readable date.</p>\n"}, {"tags": ["perl", "concatenation"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1468831704, "post_id": 38432218, "comment_id": 64270235, "body": "I&#39;m going to hazard a guess that you&#39;ve read <code>$file</code> from STDIN. If so, you may want to ensure you <code>chomp;</code> it. This looks exactly the sort of thing you get if you have accidentally included a linefeed or carriage return in your filename."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6550864"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1468831962, "post_id": 38432218, "comment_id": 64270371, "body": "It comes from a textfield input in which the user enters the old Wiki urls. each line is stored in an array and <code>$file</code> is an element of it. <code>chomp</code> did not help :( same behaviour  EDIT: I had the same problem some weeks back but can&#39;t remember how I resolved it. There it was <code>&lt;STDIN&gt;</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1468832180, "post_id": 38432218, "comment_id": 64270492, "body": "We need to see more code to help then. Might want to try stripping &#39;linefeed/carriage return&#39; with <code>$file =~ s&#47;[\\r\\n]&#47;&#47;g;</code> and see if that hepls."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 1, "creation_date": 1468832261, "post_id": 38432218, "comment_id": 64270537, "body": "I strongly believe the problem is in the <code>$file</code> . try to print <code>$file</code> before assigning to the <code>$newFileName</code>. I think then you will know the problem."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6550864"}, "edited": false, "score": 0, "creation_date": 1468832624, "post_id": 38432218, "comment_id": 64270780, "body": "<code>$file =~ s&#47;[\\r\\n]&#47;&#47;g;</code> Did the trick! As you guys mentioned the problem came from $file itself, many thanks!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468839292, "post_id": 38432218, "comment_id": 64275199, "body": "It&#39;s almost always best to use <code>s&#47;\\s+\\z&#47;&#47;</code> instead of <code>chomp</code>, as it will remove all carriage-returns and linefeeds as well as trailing spaces and tabs that are probably unwanted. If you just want to remove all line-endings from the end of a string (CR, LF, or CRLF) then use <code>s&#47;\\R+\\z&#47;&#47;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "is_accepted": true, "score": 1, "last_activity_date": 1468834598, "last_edit_date": 1468834598, "creation_date": 1468834195, "answer_id": 38433176, "question_id": 38432218, "link": "https://stackoverflow.com/questions/38432218/concatenation-overwrites-string-and-is-mixed-up/38433176#38433176", "title": "Concatenation overwrites string and is mixed up", "body": "<p>Exact content of $newFileName seems to be</p>\n\n<pre><code>\"Pages/TheFileName\\r.aspx\"\n</code></pre>\n\n<p>which, when printed out looks like</p>\n\n<pre><code>.aspx/TheFileName\n</code></pre>\n\n<p>because included \"\\r\" (carriage return) causes cursor to go to start of the line so that \".aspx\" overwrites \"Pages\" on screen.</p>\n\n<p>So simple fix (as already mentioned in comments) is to remove \"\\r\" from $file, e.g. with</p>\n\n<pre><code>$file =~ s/\\r//g;\n</code></pre>\n\n<p>Problems like this can be quite common in Windows because in Windows newline is \"\\r\\n\" while many unix-like programs except \"\\n\", so it's easy to have that extra \"\\r\" left in strings.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6550864"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 38433176, "answer_count": 1, "score": 0, "last_activity_date": 1468839506, "creation_date": 1468831464, "last_edit_date": 1468839506, "question_id": 38432218, "link": "https://stackoverflow.com/questions/38432218/concatenation-overwrites-string-and-is-mixed-up", "title": "Concatenation overwrites string and is mixed up", "body": "<p></p>\n\n<p>I recently wrote a converter, which takes our old Wiki pages and converts them into SharePoint Pages.</p>\n\n<p>All this was done via command line, but now I switched to GUI with Win32.</p>\n\n<p>I'm still new to Perl and just copied my working code to my <code>new.pl</code> with fancy GUI things.</p>\n\n<p>Everything works expect this line:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$newFileName = 'Pages/'.$file.'.aspx';\n</code></pre>\n\n<p>It should output a path to my directory (<code>Pages/TheFileName.aspx</code>) where I store the converted pages.</p>\n\n<p>However I get this when I print <code>$newFileName</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>.aspx/TheFileName\n</code></pre>\n\n<p><code>.aspx</code> overwrites Pages instead of being concatenated at the end.</p>\n\n<p>I've tried hundreds of other combinations but the second concatenation just overwrites my text. It's the exact same line, which is working in my other script.</p>\n"}, {"tags": ["regex", "perl", "regex-greedy"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 8, "creation_date": 1468831376, "post_id": 38431931, "comment_id": 64270034, "body": "It doesn&#39;t help that <code>\\s</code> also matches <code>\\n</code>. A whitespace character that isn&#39;t a newline is <code>[^\\S\\n]</code>, or you could use &quot;horizontal whitespace&quot; <code>\\h</code>."}, {"owner": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "edited": false, "score": 0, "creation_date": 1468831680, "post_id": 38431931, "comment_id": 64270222, "body": "You can narrow comparison to <code>&#47;\\s*\\n&#47;</code> and <code>&#47;\\s+\\n&#47;</code> <a href=\"http://rextester.com/DSXF83795\" rel=\"nofollow noreferrer\">see live</a>. And note that it&#39;s only faster if the string doesn&#39;t match. In case of a match, it seems to take the same time"}, {"owner": {"reputation": 46207, "user_id": 74496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/633fe8d1b4783bb73748a75e0e768bba?s=128&d=identicon&r=PG", "display_name": "rjh", "link": "https://stackoverflow.com/users/74496/rjh"}, "reply_to_user": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "edited": false, "score": 0, "creation_date": 1468832005, "post_id": 38431931, "comment_id": 64270392, "body": "@ThomasAyoub I don&#39;t think that&#39;s narrowing the comparison. <code>\\s\\s*</code> should be identical to <code>\\s+</code> whereas the two your posted are different regexes. However I agree that the performance difference even between the two you posted is surprising!"}, {"owner": {"reputation": 46207, "user_id": 74496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/633fe8d1b4783bb73748a75e0e768bba?s=128&d=identicon&r=PG", "display_name": "rjh", "link": "https://stackoverflow.com/users/74496/rjh"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468832117, "post_id": 38431931, "comment_id": 64270457, "body": "@Borodin <code>[^\\S\\n]*\\n</code> is also very slow, though..."}, {"owner": {"reputation": 46207, "user_id": 74496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/633fe8d1b4783bb73748a75e0e768bba?s=128&d=identicon&r=PG", "display_name": "rjh", "link": "https://stackoverflow.com/users/74496/rjh"}, "edited": false, "score": 0, "creation_date": 1469082383, "post_id": 38431931, "comment_id": 64392966, "body": "With the recent outage (<a href=\"http://stackstatus.net/post/147710624694/outage-postmortem-july-20-2016\" rel=\"nofollow noreferrer\">stackstatus.net/post/147710624694/&hellip;</a>) this seems amusingly topical."}], "answers": [{"comments": [{"owner": {"reputation": 46207, "user_id": 74496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/633fe8d1b4783bb73748a75e0e768bba?s=128&d=identicon&r=PG", "display_name": "rjh", "link": "https://stackoverflow.com/users/74496/rjh"}, "edited": false, "score": 0, "creation_date": 1468833945, "post_id": 38432466, "comment_id": 64271634, "body": "I already attached a similar debug output to my question, but thanks for looking into it. I&#39;m interested in why it&#39;s happening :)"}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 7, "last_activity_date": 1472082364, "last_edit_date": 1472082364, "creation_date": 1468832273, "answer_id": 38432466, "question_id": 38431931, "link": "https://stackoverflow.com/questions/38431931/why-is-s-so-much-faster-than-s-s-in-this-perl-regex/38432466#38432466", "title": "Why is `\\s+` so much faster than `\\s\\s*` in this Perl regex?", "body": "<p>I am not sure of the internals of the regular expression engine, but it looks like it does not recognize that <code>\\s+</code> is in some way <strong><em>the same</em></strong> as <code>\\s\\s*</code>, since in the second one it matches a space, and then tries to match ever growing numbers of spaces, while in the first, it immediately concludes that there is no match.</p>\n\n<p>The output using <code>use re qw( Debug );</code> clearly shows this, using a much shorter string:</p>\n\n<p><strong>test_re.pl</strong></p>\n\n<pre><code>#!/usr/bin/env perl\nuse re qw(debug);\n\n$x=(\" \" x 10) . \"_\\n\";\nprint '-'x50 . \"\\n\";\n$x =~ /\\s+\\n/;\nprint '-'x50 . \"\\n\";\n$x =~ /\\s\\s*\\n/;\nprint '-'x50 . \"\\n\";\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Compiling REx \"\\s+\\n\"\nFinal program:\n    1: PLUS (3)\n    2:   SPACE (0)\n    3: EXACT &lt;\\n&gt; (5)\n    5: END (0)\nfloating \"%n\" at 1..2147483647 (checking floating) stclass SPACE plus minlen 2\nCompiling REx \"\\s\\s*\\n\"\nFinal program:\n    1: SPACE (2)\n    2: STAR (4)\n    3:   SPACE (0)\n    4: EXACT &lt;\\n&gt; (6)\n    6: END (0)\nfloating \"%n\" at 1..2147483647 (checking floating) stclass SPACE minlen 2\n--------------------------------------------------\nGuessing start of match in sv for REx \"\\s+\\n\" against \"          _%n\"\nFound floating substr \"%n\" at offset 11...\n    start_shift: 1 check_at: 11 s: 0 endpos: 11\nDoes not contradict STCLASS...\nGuessed: match at offset 0\nMatching REx \"\\s+\\n\" against \"          _%n\"\nMatching stclass SPACE against \"          _\" (11 bytes)\n   0 &lt;&gt; &lt;          &gt;         |  1:PLUS(3)\n                                  SPACE can match 10 times out of 2147483647...\n                                  failed...\nContradicts stclass... [regexec_flags]\nMatch failed\n--------------------------------------------------\nGuessing start of match in sv for REx \"\\s\\s*\\n\" against \"          _%n\"\nFound floating substr \"%n\" at offset 11...\n    start_shift: 1 check_at: 11 s: 0 endpos: 11\nDoes not contradict STCLASS...\nGuessed: match at offset 0\nMatching REx \"\\s\\s*\\n\" against \"          _%n\"\nMatching stclass SPACE against \"          _\" (11 bytes)\n   0 &lt;&gt; &lt;          &gt;         |  1:SPACE(2)\n   1 &lt; &gt; &lt;         _&gt;        |  2:STAR(4)\n                                  SPACE can match 9 times out of 2147483647...\n                                  failed...\n   1 &lt; &gt; &lt;         _&gt;        |  1:SPACE(2)\n   2 &lt;  &gt; &lt;        _&gt;        |  2:STAR(4)\n                                  SPACE can match 8 times out of 2147483647...\n                                  failed...\n   2 &lt;  &gt; &lt;        _&gt;        |  1:SPACE(2)\n   3 &lt;   &gt; &lt;       _%n&gt;      |  2:STAR(4)\n                                  SPACE can match 7 times out of 2147483647...\n                                  failed...\n   3 &lt;   &gt; &lt;       _%n&gt;      |  1:SPACE(2)\n   4 &lt;    &gt; &lt;      _%n&gt;      |  2:STAR(4)\n                                  SPACE can match 6 times out of 2147483647...\n                                  failed...\n   4 &lt;    &gt; &lt;      _%n&gt;      |  1:SPACE(2)\n   5 &lt;     &gt; &lt;     _%n&gt;      |  2:STAR(4)\n                                  SPACE can match 5 times out of 2147483647...\n                                  failed...\n   5 &lt;     &gt; &lt;     _%n&gt;      |  1:SPACE(2)\n   6 &lt;      &gt; &lt;    _%n&gt;      |  2:STAR(4)\n                                  SPACE can match 4 times out of 2147483647...\n                                  failed...\n   6 &lt;      &gt; &lt;    _%n&gt;      |  1:SPACE(2)\n   7 &lt;       &gt; &lt;   _%n&gt;      |  2:STAR(4)\n                                  SPACE can match 3 times out of 2147483647...\n                                  failed...\n   7 &lt;       &gt; &lt;   _%n&gt;      |  1:SPACE(2)\n   8 &lt;        &gt; &lt;  _%n&gt;      |  2:STAR(4)\n                                  SPACE can match 2 times out of 2147483647...\n                                  failed...\n   8 &lt;        &gt; &lt;  _%n&gt;      |  1:SPACE(2)\n   9 &lt;         &gt; &lt; _%n&gt;      |  2:STAR(4)\n                                  SPACE can match 1 times out of 2147483647...\n                                  failed...\n   9 &lt;         &gt; &lt; _%n&gt;      |  1:SPACE(2)\n  10 &lt;          &gt; &lt;_%n&gt;      |  2:STAR(4)\n                                  SPACE can match 0 times out of 2147483647...\n                                  failed...\nContradicts stclass... [regexec_flags]\nMatch failed\n--------------------------------------------------\nFreeing REx: \"\\s+\\n\"\nFreeing REx: \"\\s\\s*\\n\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 46207, "user_id": 74496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/633fe8d1b4783bb73748a75e0e768bba?s=128&d=identicon&r=PG", "display_name": "rjh", "link": "https://stackoverflow.com/users/74496/rjh"}, "edited": false, "score": 0, "creation_date": 1468834232, "post_id": 38433055, "comment_id": 64271823, "body": "In most regex engines <code>\\s+</code> will also cause catastrophic backtracking in exactly the same way. So my question is how is Perl optimising the <code>\\s+</code> case to be so much faster?"}, {"owner": {"reputation": 52749, "user_id": 1400768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tM0N8.png?s=128&g=1", "display_name": "nhahtdh", "link": "https://stackoverflow.com/users/1400768/nhahtdh"}, "edited": false, "score": 8, "creation_date": 1468839278, "post_id": 38433055, "comment_id": 64275189, "body": "<b>Both</b> can cause catastrophic backtracking (using PCRE engine for example, since it doesn&#39;t have optimization for this case: <a href=\"https://regex101.com/r/tU6sX9/1\" rel=\"nofollow noreferrer\"><code>\\s\\s*\\n</code></a>, <a href=\"https://regex101.com/r/iY9jT3/1\" rel=\"nofollow noreferrer\"><code>\\s+\\n</code></a>). The difference here is most likely caused by some optimization which Perl regex is laden with."}, {"owner": {"reputation": 22983, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "edited": false, "score": 0, "creation_date": 1468854605, "post_id": 38433055, "comment_id": 64286061, "body": "It&#39;s not immediate obvious to me why the engine needs to backtrack. Could you clarify?"}, {"owner": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "reply_to_user": {"reputation": 22983, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "edited": false, "score": 2, "creation_date": 1468855512, "post_id": 38433055, "comment_id": 64286719, "body": "@jpmc26 When you write a regex, be sure to be as specific as possible. If I line-up 20 tennis ball in front of you and ask you to pick one and any number of the following you want, there is a <b>lot</b> of ways to do complete the task. If I ask you to pick one and <i>all</i> the following it limits the possibilities. See the [<a href=\"http://www.regular-expressions.info/catastrophic.html](Runaway\" rel=\"nofollow noreferrer\">regular-expressions.info/catastrophic.html](Runaway</a> Regular Expressions: Catastrophic Backtracking), it explains quite well. I hope I was clear, don&#39;t hesitate to ask more"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1468866595, "post_id": 38433055, "comment_id": 64292670, "body": "You can&#39;t really compare <code>&quot;0_\\n&quot; =~ &#47;0+\\n&#47;</code> to <code>&quot; _\\n&quot; =~ &#47;\\s+\\n&#47;</code>. With the former, the optimizer knows that the input must contain the string <code>0\\n</code>; it doesn&#39;t, so the optimizer can bail out before running the full regex engine. With the latter, the optimizer only knows that the input must contain the string <code>\\n</code>; it does, so the full regex engine has to be run."}, {"owner": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468867012, "post_id": 38433055, "comment_id": 64292852, "body": "@ThisSuitIsBlackNot see <a href=\"http://rextester.com/QIKQ91272\" rel=\"nofollow noreferrer\">example with <code>\\s</code></a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1468867267, "post_id": 38433055, "comment_id": 64292979, "body": "The difference there has nothing to do with the optimizer (notice that there&#39;s no &quot;Match rejected by optimizer&quot;)."}, {"owner": {"reputation": 507073, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 3, "creation_date": 1468868874, "post_id": 38433055, "comment_id": 64293826, "body": "I&#39;m kind of confused by the description of <code>\\s</code> matching multiple spaces. Can you clarify that it is trying to find a single space in different positions, and that the problem could be solved by anchoring?"}, {"owner": {"reputation": 46207, "user_id": 74496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/633fe8d1b4783bb73748a75e0e768bba?s=128&d=identicon&r=PG", "display_name": "rjh", "link": "https://stackoverflow.com/users/74496/rjh"}, "edited": false, "score": 2, "creation_date": 1468900438, "post_id": 38433055, "comment_id": 64303597, "body": "@ThomasAyoub I appreciate your efforts but frankly you don&#39;t seem well-informed about this topic. Your first answer suggested that one version had catastrophic backtracking and the other didn&#39;t (incorrect). Your second edited answer was also wrong (as ThisSuitIsBlackNot points out) because one input is missing a zero, so Perl doesn&#39;t even execute the regex. I guess nobody knows precisely what the optimisation is."}, {"owner": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "reply_to_user": {"reputation": 46207, "user_id": 74496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/633fe8d1b4783bb73748a75e0e768bba?s=128&d=identicon&r=PG", "display_name": "rjh", "link": "https://stackoverflow.com/users/74496/rjh"}, "edited": false, "score": 0, "creation_date": 1468921301, "post_id": 38433055, "comment_id": 64313871, "body": "@rjh I hope the edit will answer your questions, if not, good luck in your quest :)"}], "tags": [], "owner": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "is_accepted": false, "score": 28, "last_activity_date": 1472079257, "last_edit_date": 1495541339, "creation_date": 1468833853, "answer_id": 38433055, "question_id": 38431931, "link": "https://stackoverflow.com/questions/38431931/why-is-s-so-much-faster-than-s-s-in-this-perl-regex/38433055#38433055", "title": "Why is `\\s+` so much faster than `\\s\\s*` in this Perl regex?", "body": "<p>First, even if the resulting regex will not keep the same meaning, let's reduces regexes to <code>\\s*0</code> and <code>\\s+0</code> and use <code>(\" \" x 4) . \"_0\"</code> as an input. For the sceptics, you can see <a href=\"http://rextester.com/OUZ39841\" rel=\"nofollow noreferrer\">here</a> that the lag is still present.</p>\n\n<p>Now let's consider the following code:</p>\n\n<pre><code>$x = (\" \" x 4) . \"_ 0\";\n$x =~ /\\s*0/; # The slow line \n$x =~ /\\s+0/; # The fast line\n</code></pre>\n\n<p>Digging a bit with <code>use re debugcolor;</code> we get the following output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Guessing start of match in sv for REx \"\\s*0\" against \"    _0\"\nFound floating substr \"0\" at offset 5...\nstart_shift: 0 check_at: 5 s: 0 endpos: 6 checked_upto: 0\nDoes not contradict STCLASS...\nGuessed: match at offset 0\nMatching REx \"\\s*0\" against \"    _0\"\nMatching stclass ANYOF_SYNTHETIC[\\x09-\\x0d 0\\x85\\xa0][{unicode_all}] against \"    _0\" (6 bytes)\n   0 &lt;    _0&gt;|  1:STAR(3)\n                                  POSIXD[\\s] can match 4 times out of 2147483647...\n                                  failed...\n   1 &lt;    _0&gt;|  1:STAR(3)\n                                  POSIXD[\\s] can match 3 times out of 2147483647...\n                                  failed...\n   2 &lt;    _0&gt;|  1:STAR(3)\n                                  POSIXD[\\s] can match 2 times out of 2147483647...\n                                  failed...\n   3 &lt;    _0&gt;|  1:STAR(3)\n                                  POSIXD[\\s] can match 1 times out of 2147483647...\n                                  failed...\n   5 &lt;    _0&gt;|  1:STAR(3)\n                                  POSIXD[\\s] can match 0 times out of 2147483647...\n   5 &lt;    _0&gt;|  3:  EXACT &lt;0&gt;(5)\n   6 &lt;    _0&gt;|  5:  END(0)\nMatch successful!\n\n-----------------------\n\nGuessing start of match in sv for REx \"\\s+0\" against \"    _0\"\nFound floating substr \"0\" at offset 5...\nstart_shift: 1 check_at: 5 s: 0 endpos: 5 checked_upto: 0\nDoes not contradict STCLASS...\nGuessed: match at offset 0\nMatching REx \"\\s+0\" against \"    _0\"\nMatching stclass POSIXD[\\s] against \"    _\" (5 bytes)\n   0 &lt;    _0&gt;|  1:PLUS(3)\n                                  POSIXD[\\s] can match 4 times out of 2147483647...\n                                  failed...\nContradicts stclass... [regexec_flags]\nMatch failed\n</code></pre>\n\n<p>Perl seems to <a href=\"https://stackoverflow.com/a/19578815/2307070\">be optimized for failure</a>. It will first look for constant strings (which only consume O(N)). Here, it'll look for <code>0</code> : <code>Found floating substr \"0\" at offset 5...</code></p>\n\n<p>Then it'll start with the <em>variable</em> part of the regex, respectivly <code>\\s*</code> and <code>\\s+</code>, against the whole minimum string to check:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Matching REx \"\\s*0\" against \"    _0\"\nMatching stclass ANYOF_SYNTHETIC[\\x09-\\x0d 0\\x85\\xa0][{unicode_all}] against \"    _0\" (6 bytes)\nMatching REx \"\\s+0\" against \"    _0\"\nMatching stclass POSIXD[\\s] against \"    _\" (5 bytes) # Only 5 bytes because there should be at least 1 \"\\s\" char\n</code></pre>\n\n<p>After that it'll look for the first position meeting the <code>stclass</code> requirement, here at position 0.</p>\n\n<ul>\n<li><code>\\s*0</code>:\n\n<ul>\n<li>starts at 0, find 4 spaces then fail;</li>\n<li>starts at 1, find 3 spaces then fail;</li>\n<li>starts at 2, find 2 spaces then fail;</li>\n<li>starts at 3, find 1 spaces then fail;</li>\n<li>starts at 4, find 0 spaces then <strong>doesn't fail</strong>;</li>\n<li>Find an exact <code>0</code></li>\n</ul></li>\n<li><code>\\s+0</code>:\n\n<ul>\n<li>starts at 0, find 4 spaces then fail. As the minimum number of spaces is not matched, the regex fails instantly.</li>\n</ul></li>\n</ul>\n\n<p>If you want to have fun with Perl regex optimization, you can consider the following regexes <code>/  *\\n</code> and <code>/ * \\n</code>. At first glance, they look the same, have the same meaning... But if you run its against <code>(\" \" x 40000) . \"_\\n\"</code> the first one will check all possibilities while the second one will look for <code>\" \\n\"</code> and fail immediately.</p>\n\n<p>In a vanilla, non-optimized regex engine, both regex can cause catastrophic backtracking, since they need to retry the pattern as it bumps along. However, in the example above, the second doesn't fail with Perl because it have been optimized to <code>find floating substr \"0%n\"</code></p>\n\n<hr>\n\n<p>You can see another example on <a href=\"https://blog.codinghorror.com/regex-performance/\" rel=\"nofollow noreferrer\">Jeff Atwood's blog</a>.</p>\n\n<p>Note also that the issue is not about <code>\\s</code> consideration but any pattern where <code>xx*</code> is used instead of <code>x+</code> see <a href=\"http://rextester.com/EPP77663\" rel=\"nofollow noreferrer\">example with 0s</a> and also <a href=\"http://www.rexegg.com/regex-explosive-quantifiers.html#combinations\" rel=\"nofollow noreferrer\">regex explosive quantifiers</a></p>\n\n<p>With such shorter example the behavior is \"findable\", but if you start to play with complicated patterns, it's far from easy to spot, for example: <a href=\"https://stackoverflow.com/questions/11522954/regular-expression-hangs-program-100-cpu-usage/11523255#11523255\">Regular expression hangs program (100% CPU usage)</a></p>\n"}, {"comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1468837580, "post_id": 38433349, "comment_id": 64274100, "body": "Does <code>&#47;\\s\\s*?\\n&#47;</code> suffer from backtracking?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 2, "creation_date": 1468838448, "post_id": 38433349, "comment_id": 64274668, "body": "@Zaid: Greedy and non-greedy patterns are <i>identical</i> with regard to backtracking. The only difference is that a greedy pattern will start off as <i>long</i> as possible and be shortened until the rest of the regex matches, while a non-greedy one will start off as <i>short</i> as possible and be extended until the rest of the regex matches."}, {"owner": {"reputation": 52749, "user_id": 1400768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tM0N8.png?s=128&g=1", "display_name": "nhahtdh", "link": "https://stackoverflow.com/users/1400768/nhahtdh"}, "edited": false, "score": 0, "creation_date": 1469073210, "post_id": 38433349, "comment_id": 64389799, "body": "The output of the debugging mode suggests that the engine actually go and match <code>\\s*</code> or <code>\\s+</code> from left to right, instead of checking whether there is a <code>_</code> before <code>\\n</code> or not. I have added additional logging to the source code and there is clearly a loop there."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 52749, "user_id": 1400768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tM0N8.png?s=128&g=1", "display_name": "nhahtdh", "link": "https://stackoverflow.com/users/1400768/nhahtdh"}, "edited": false, "score": 0, "creation_date": 1469077795, "post_id": 38433349, "comment_id": 64391051, "body": "@nhahtdh  Thank you for the comment -- i didn&#39;t realize how the above reads. I had suspected that it may check backwards and wrote that initially but then I found the same, once I looked through <code>re=debug</code> output, that it does go left to right (and changed the post).  What I meant to say is that it has a fixed-length space-only string that (is traced directly and) bumps into <code>_</code>.  The very presence of a fixed-length &#39;stick&#39; in there is huge, it&#39;s all very fast then. (Plus, this input is very special.)I think that that&#39;s enough of an optimization.  I should rephrase that sentence, thank you."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 52749, "user_id": 1400768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tM0N8.png?s=128&g=1", "display_name": "nhahtdh", "link": "https://stackoverflow.com/users/1400768/nhahtdh"}, "edited": false, "score": 0, "creation_date": 1469086646, "post_id": 38433349, "comment_id": 64395605, "body": "@nhahtdh  Thank you again, updated.  Also found the (overlooked) remnant of my original expectation that it checks backwards (disagreeing with the debug-based later addition)."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 14, "last_activity_date": 1480968615, "last_edit_date": 1480968615, "creation_date": 1468834722, "answer_id": 38433349, "question_id": 38431931, "link": "https://stackoverflow.com/questions/38431931/why-is-s-so-much-faster-than-s-s-in-this-perl-regex/38433349#38433349", "title": "Why is `\\s+` so much faster than `\\s\\s*` in this Perl regex?", "body": "<p>The <code>\\s+\\n</code> requires that the character preceding the <code>\\n</code> is a <code>SPACE</code>.</p>\n\n<p>According to <code>use re qw(debug)</code> the compilation establishes that it needs a straight string of a known number of spaces, up to the substring <code>\\n</code>, which is first checked for in the input. Then it checks the fixed-length space-only substring against the remaining part of input, failing as it comes to <code>_</code>.  It's a single possibility to check, regardless of how many spaces the input has. (When there are more <code>_\\n</code> each is found to fail equally directly, per debug output.) </p>\n\n<p>Looked at it this way, it's an optimization you'd almost expect, utilizing a rather specific search pattern and lucking out with this input. Except when taken in comparison with other engines, which clearly don't do this kind of analysis.</p>\n\n<p>With <code>\\s*\\n</code> this is not the case.  Once the <code>\\n</code> is found and the previous character is not a space, the search hasn't failed since <code>\\s*</code> allows nothing (zero characters). There are no fixed-length substrings either, and it's in the backtracking game.</p>\n"}, {"comments": [{"owner": {"reputation": 46207, "user_id": 74496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/633fe8d1b4783bb73748a75e0e768bba?s=128&d=identicon&r=PG", "display_name": "rjh", "link": "https://stackoverflow.com/users/74496/rjh"}, "edited": false, "score": 0, "creation_date": 1469082484, "post_id": 38495156, "comment_id": 64393029, "body": "Thank you, this is precisely the answer I was looking for (that actually digs into the C source and explains the optimisation). Thank you so much!!"}, {"owner": {"reputation": 46207, "user_id": 74496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/633fe8d1b4783bb73748a75e0e768bba?s=128&d=identicon&r=PG", "display_name": "rjh", "link": "https://stackoverflow.com/users/74496/rjh"}, "edited": false, "score": 1, "creation_date": 1469082503, "post_id": 38495156, "comment_id": 64393043, "body": "In light of <a href=\"http://stackstatus.net/post/147710624694/outage-postmortem-july-20-2016\" rel=\"nofollow noreferrer\">stackstatus.net/post/147710624694/&hellip;</a> this seems especially topical!"}, {"owner": {"reputation": 48191, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 0, "creation_date": 1480968876, "post_id": 38495156, "comment_id": 69174641, "body": "If <code>R+</code> works better than <code>RR</code>, why doesn&#39;t the regex compiler recognize and replace <code>RR*</code> with <code>R+</code>, at the AST level?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 48191, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 0, "creation_date": 1481038365, "post_id": 38495156, "comment_id": 69206759, "body": "@Kaz I address that in the last paragraph. That optimization could probably be added, but it would require effort on the part of the Perl maintainers for very little benefit."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 20, "last_activity_date": 1472093973, "last_edit_date": 1592644375, "creation_date": 1469076879, "answer_id": 38495156, "question_id": 38431931, "link": "https://stackoverflow.com/questions/38431931/why-is-s-so-much-faster-than-s-s-in-this-perl-regex/38495156#38495156", "title": "Why is `\\s+` so much faster than `\\s\\s*` in this Perl regex?", "body": "<p>When there is a &quot;plus&quot; node (e.g. <code>\\s+</code>) at the beginning of a pattern and the node fails to match, the regex engine skips forward to the point of failure and tries again; with <code>\\s*</code>, on the other hand, the engine only advances one character at a time.</p>\n<p>Yves Orton explains this optimization nicely <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=68564#txn-749844\" rel=\"noreferrer\">here</a>:</p>\n<blockquote>\n<p>The start class optimisation has two modes, &quot;try every valid start position&quot; (doevery) and &quot;flip flop mode&quot; (!doevery) where it trys only the first valid start position in a sequence.</p>\n<p>Consider /(\\d+)X/ and the string &quot;123456Y&quot;, now we know that if we fail to match X after matching &quot;123456&quot; then we will also fail to match after &quot;23456&quot; (assuming no evil tricks are in place, which disable the optimisation anyway), so we know we can skip forward until the check /fails/ and only then start looking for a real match. This is flip-flop mode.</p>\n</blockquote>\n<p><code>/\\s+/</code> triggers flip-flop mode; <code>/\\s*/</code>, <code>/\\s\\s*/</code>, and <code>/\\s\\s+/</code> don't.\nThis optimization can't be applied to &quot;star&quot; nodes like <code>\\s*</code> because they can match zero characters, so a failure at one point in a sequence isn't indicative of failure later in the same sequence.</p>\n<hr />\n<p>You can see this in the debug output for each regex. I've highlighted the skipped characters with <code>^</code>. Compare this (skips four characters at a time):</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -Mre=Debug,MATCH -e'&quot;123 456 789 x&quot; =~ /\\d+x/'\n   ...\n   0 &lt;&gt; &lt;123 456 78&gt;         |  1:PLUS(3)\n                                  POSIXD[\\d] can match 3 times out of 2147483647...\n                                  failed...\n   4 &lt;123 &gt; &lt;456 789 x&gt;      |  1:PLUS(3)\n      ^^^^\n                                  POSIXD[\\d] can match 3 times out of 2147483647...\n                                  failed...\n   8 &lt;23 456 &gt; &lt;789 x&gt;       |  1:PLUS(3)\n         ^^^^\n                                  POSIXD[\\d] can match 3 times out of 2147483647...\n                                  failed...\n</code></pre>\n<p>to this (skips one or two characters at a time):</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -Mre=Debug,MATCH -e'&quot;123 456 789 x&quot; =~ /\\d*x/'\n   ...\n   0 &lt;&gt; &lt;123 456 78&gt;         |  1:STAR(3)\n                                  POSIXD[\\d] can match 3 times out of 2147483647...\n                                  failed...\n   1 &lt;1&gt; &lt;23 456 789&gt;        |  1:STAR(3)\n      ^\n                                  POSIXD[\\d] can match 2 times out of 2147483647...\n                                  failed...\n   2 &lt;12&gt; &lt;3 456 789 &gt;       |  1:STAR(3)\n       ^\n                                  POSIXD[\\d] can match 1 times out of 2147483647...\n                                  failed...\n   4 &lt;123 &gt; &lt;456 789 x&gt;      |  1:STAR(3)\n        ^^\n                                  POSIXD[\\d] can match 3 times out of 2147483647...\n                                  failed...\n   5 &lt;123 4&gt; &lt;56 789 x&gt;      |  1:STAR(3)\n          ^\n                                  POSIXD[\\d] can match 2 times out of 2147483647...\n                                  failed...\n   6 &lt;23 45&gt; &lt;6 789 x&gt;       |  1:STAR(3)\n          ^\n                                  POSIXD[\\d] can match 1 times out of 2147483647...\n                                  failed...\n   8 &lt;23 456 &gt; &lt;789 x&gt;       |  1:STAR(3)\n           ^^\n                                  POSIXD[\\d] can match 3 times out of 2147483647...\n                                  failed...\n   9 &lt;23 456 7&gt; &lt;89 x&gt;       |  1:STAR(3)\n             ^\n                                  POSIXD[\\d] can match 2 times out of 2147483647...\n                                  failed...\n  10 &lt;23 456 78&gt; &lt;9 x&gt;       |  1:STAR(3)\n              ^\n                                  POSIXD[\\d] can match 1 times out of 2147483647...\n                                  failed...\n  12 &lt;23 456 789 &gt; &lt;x&gt;       |  1:STAR(3)\n               ^^\n                                  POSIXD[\\d] can match 0 times out of 2147483647...\n  12 &lt;23 456 789 &gt; &lt;x&gt;       |  3:  EXACT &lt;x&gt;(5)\n  13 &lt;23 456 789 x&gt; &lt;&gt;       |  5:  END(0)\n</code></pre>\n<p>Note that the optimization isn't applied to <code>/\\s\\s+/</code>, because <code>\\s+</code> isn't at the beginning of the pattern. Both <code>/\\s\\s+/</code> (logically equivalent to <code>/\\s{2,}/</code>) and <code>/\\s\\s*/</code> (logically equivalent to <code>/\\s+/</code>) probably <em>could</em> be optimized, though; it might make sense to ask on <a href=\"http://lists.perl.org/list/perl5-porters.html\" rel=\"noreferrer\">perl5-porters</a> whether either would be worth the effort.</p>\n<hr />\n<p><sub>In case you're interested, &quot;flip-flop mode&quot; is enabled by setting the <code>PREGf_SKIP</code> flag on a regex when it's compiled. See the code around lines 7344 and 7405 in <a href=\"https://github.com/Perl/perl5/blob/v5.24.0/regcomp.c#L7344\" rel=\"noreferrer\">regcomp.c</a> and line 1585 in <a href=\"https://github.com/Perl/perl5/blob/v5.24.0/regexec.c\" rel=\"noreferrer\">regexec.c</a> in the 5.24.0 source.</sub></p>\n"}], "owner": {"reputation": 46207, "user_id": 74496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/633fe8d1b4783bb73748a75e0e768bba?s=128&d=identicon&r=PG", "display_name": "rjh", "link": "https://stackoverflow.com/users/74496/rjh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4236, "favorite_count": 11, "accepted_answer_id": 38495156, "answer_count": 4, "score": 56, "last_activity_date": 1480968615, "creation_date": 1468830525, "last_edit_date": 1472092400, "question_id": 38431931, "link": "https://stackoverflow.com/questions/38431931/why-is-s-so-much-faster-than-s-s-in-this-perl-regex", "title": "Why is `\\s+` so much faster than `\\s\\s*` in this Perl regex?", "body": "<p>Why does replacing <code>\\s*</code> (or even <code>\\s\\s*</code>) with <code>\\s+</code> result in such a speedup for this input?</p>\n\n<pre><code>use Benchmark qw(:all);\n$x=(\" \" x 100000) . \"_\\n\";\n$count = 100;\ntimethese($count, {\n    '/\\s\\s*\\n/' =&gt; sub { $x =~ /\\s\\s*\\n/ },\n    '/\\s+\\n/' =&gt; sub { $x =~ /\\s+\\n/ },\n});\n</code></pre>\n\n<p><a href=\"http://rextester.com/QQYBD22619\" rel=\"nofollow noreferrer\">Link to online version</a></p>\n\n<p>I noticed a slow regex <code>s/\\s*\\n\\s*/\\n/g</code> in my code - when given a 450KB input file consisting of lots of spaces with a few non-spaces here and there, and a final newline at the end - the regex hung and never finished.</p>\n\n<p>I intuitively replaced the regex with <code>s/\\s+\\n/\\n/g; s/\\n\\s+/\\n/g;</code> and all was well.</p>\n\n<p>But why is it so much faster? After using <code>re Debug =&gt; \"EXECUTE\"</code> I noticed the <code>\\s+</code> version is somehow optimised to run in only one iteration: <a href=\"http://pastebin.com/0Ug6xPiQ\" rel=\"nofollow noreferrer\">http://pastebin.com/0Ug6xPiQ</a></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Matching REx \"\\s*\\n\" against \"       _%n\"\nMatching stclass ANYOF{i}[\\x09\\x0a\\x0c\\x0d ][{non-utf8-latin1-all}{unicode_all}] against \"       _%n\" (9 bytes)\n   0 &lt;&gt; &lt;       _%n&gt;         |  1:STAR(3)\n                                  SPACE can match 7 times out of 2147483647...\n                                  failed...\n   1 &lt; &gt; &lt;      _%n&gt;         |  1:STAR(3)\n                                  SPACE can match 6 times out of 2147483647...\n                                  failed...\n   2 &lt;  &gt; &lt;     _%n&gt;         |  1:STAR(3)\n                                  SPACE can match 5 times out of 2147483647...\n                                  failed...\n   3 &lt;   &gt; &lt;    _%n&gt;         |  1:STAR(3)\n                                  SPACE can match 4 times out of 2147483647...\n                                  failed...\n   4 &lt;    &gt; &lt;   _%n&gt;         |  1:STAR(3)\n                                  SPACE can match 3 times out of 2147483647...\n                                  failed...\n   5 &lt;     &gt; &lt;  _%n&gt;         |  1:STAR(3)\n                                  SPACE can match 2 times out of 2147483647...\n                                  failed...\n   6 &lt;      &gt; &lt; _%n&gt;         |  1:STAR(3)\n                                  SPACE can match 1 times out of 2147483647...\n                                  failed...\n   8 &lt;       _&gt; &lt;%n&gt;         |  1:STAR(3)\n                                  SPACE can match 1 times out of 2147483647...\n   8 &lt;       _&gt; &lt;%n&gt;         |  3:  EXACT &lt;\\n&gt;(5)\n   9 &lt;       _%n&gt; &lt;&gt;         |  5:  END(0)\nMatch successful!\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>Matching REx \"\\s+\\n\" against \"       _%n\"\nMatching stclass SPACE against \"       _\" (8 bytes)\n   0 &lt;&gt; &lt;       _%n&gt;         |  1:PLUS(3)\n                                  SPACE can match 7 times out of 2147483647...\n                                  failed...\n</code></pre>\n\n<p>I know Perl 5.10+ will immediately fail the regex (without running it) if a newline is not present. I suspect it is using the location of the newline to reduce the amount of searching it does. For all cases above it seems to cleverly reduce the backtracking involved (usually <code>/\\s*\\n/</code> against a string of spaces would take exponential-time). Can anyone offer insight into why the <code>\\s+</code> version is so much faster?</p>\n\n<p>Also note that <code>\\s*?</code> does not offer any speedup.</p>\n"}, {"tags": ["windows", "perl", "batch-file"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1468829313, "post_id": 38431475, "comment_id": 64268954, "body": "What does your <code>.bat</code> script look like?"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1468830191, "post_id": 38431475, "comment_id": 64269435, "body": "Please make your question more clear. Add example and what you have tried."}, {"owner": {"reputation": 1, "user_id": 6602442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd6b474da9a01582601a62e4118c0835?s=128&d=identicon&r=PG&f=1", "display_name": "Anirudh", "link": "https://stackoverflow.com/users/6602442/anirudh"}, "edited": false, "score": 0, "creation_date": 1468830281, "post_id": 38431475, "comment_id": 64269483, "body": "Have added the image of the .bat file in the description."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1468830548, "post_id": 38431475, "comment_id": 64269622, "body": "still your question is not very clear. I think basically you want to process multiple files using .bat script."}, {"owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 5, "creation_date": 1468830585, "post_id": 38431475, "comment_id": 64269631, "body": "Never post images of code. Post actual code. But using cmd to generate vbscript to generate HTML... why do this to yourself? Do it all in perl, or PowerShell, or pretty much anything else."}, {"owner": {"reputation": 1, "user_id": 6602442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd6b474da9a01582601a62e4118c0835?s=128&d=identicon&r=PG&f=1", "display_name": "Anirudh", "link": "https://stackoverflow.com/users/6602442/anirudh"}, "edited": false, "score": 0, "creation_date": 1468830620, "post_id": 38431475, "comment_id": 64269649, "body": "For Example i want to run my perl script this way &quot;perl run.pl file1.log file2.log file3.log&quot; I just want to be able to select these files in one go and run the script using the .bat file."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1468831995, "post_id": 38431475, "comment_id": 64270388, "body": "how you will process those arguments in your bat script?.will you call your bat script from perl script using system command"}], "answers": [{"tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": false, "score": 0, "last_activity_date": 1468831445, "creation_date": 1468831445, "answer_id": 38432212, "question_id": 38431475, "link": "https://stackoverflow.com/questions/38431475/i-need-a-bat-file-to-select-mutiple-files-and-run-a-perl-script/38432212#38432212", "title": "I need a .bat file to select mutiple files and run a perl script", "body": "<p>Your question is not very clear to me. I believe you want to process your command line arguments using perl. </p>\n\n<p>Run code :</p>\n\n<pre><code>perl run.pl file1.log file2.log file3.log\n</code></pre>\n\n<p>code :</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $val1= $ARGV[0];\nmy $val2 = $ARGV[1];\nmy $val3 = $ARGV[2];\nprint \"$val1\\n$val2\\n$val3\\n\";\n</code></pre>\n\n<p>output</p>\n\n<pre><code>file1.log \nfile2.log \nfile3.log\n</code></pre>\n\n<p>In this way you can get arguments in the perl script then you can process them.</p>\n\n<p>Hope this will help you . </p>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 0, "last_activity_date": 1468869997, "creation_date": 1468869997, "answer_id": 38444510, "question_id": 38431475, "link": "https://stackoverflow.com/questions/38431475/i-need-a-bat-file-to-select-mutiple-files-and-run-a-perl-script/38444510#38444510", "title": "I need a .bat file to select mutiple files and run a perl script", "body": "<p>If you just want to allow the user to select files, you don't need the dance with a <code>.bat</code> script that writes a <code>.vbs</code> script that writes a <code>.hta</code> script that writes the result to the registry.</p>\n\n<p>You can do it directly in Perl:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Win32::GUI ();\n\nmy @files = Win32::GUI::GetOpenFileName(\n    -filemustexist =&gt; 1,\n    -multisel      =&gt; 1,\n);\n\nif (@files == 1 &amp;&amp; !defined $files[0]) {\n    print \"Canceled\\n\";\n} elsif (@files == 1) {\n    print \"Selected one file: $files[0]\\n\";\n} else {\n    my $dir = shift @files;\n    print \"Selected multiple files in $dir\\n\";\n    for my $file (@files) {\n        print \" - $file\\n\";\n    }\n}\n</code></pre>\n\n<p>If you don't have Win32::GUI yet (<code>Can't locate Win32/GUI.pm in @INC ...</code>), you can install it using <code>cpan Win32::GUI</code>, at least with <a href=\"http://strawberryperl.com/\" rel=\"nofollow\">Strawberry Perl</a>. If you're using <a href=\"http://www.activestate.com/activeperl\" rel=\"nofollow\">ActivePerl</a>, I think you can get it with <code>ppm install Win32-GUI</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 6602442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd6b474da9a01582601a62e4118c0835?s=128&d=identicon&r=PG&f=1", "display_name": "Anirudh", "link": "https://stackoverflow.com/users/6602442/anirudh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1468869997, "creation_date": 1468828983, "last_edit_date": 1468830760, "question_id": 38431475, "link": "https://stackoverflow.com/questions/38431475/i-need-a-bat-file-to-select-mutiple-files-and-run-a-perl-script", "title": "I need a .bat file to select mutiple files and run a perl script", "body": "<p>Basically I want to pass multiple input files as arguments and run my perl script. I already have a .bat script which selects a single file. Is there anyway to have .bat file which gives an option to select multiple files using the ctrl key just the way we have that option when we attach files to say an email. </p>\n\n<p>Help would be greatly appreciated...\nThanks!!!!</p>\n\n<p>Existing .bat script</p>\n\n<p><img src=\"https://i.stack.imgur.com/AcWZV.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 3, "creation_date": 1468823195, "post_id": 38429733, "comment_id": 64265868, "body": "No, the shebang runs <code>&#47;bin&#47;perl</code> specifically and explicitly, and the <code>exec</code> would only run when the script was run by a shell (so <code>sh script.pl</code> or similar). This <code>exec</code> hack is a holdover from some ancient primitive systems which did not support the shebang specification."}, {"owner": {"reputation": 1733, "user_id": 1460102, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e70df89ccf5e5509e4aae9ef4ed5b865?s=128&d=identicon&r=PG", "display_name": "xxks-kkk", "link": "https://stackoverflow.com/users/1460102/xxks-kkk"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1468823971, "post_id": 38429733, "comment_id": 64266210, "body": "@tripleee thanks for the answer below , I can experiment out and you are correct. Thanks!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468826097, "post_id": 38429733, "comment_id": 64267245, "body": "<code>$]</code> will get you the version, but <code>$^X</code> will name the interpreter"}, {"owner": {"reputation": 1733, "user_id": 1460102, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e70df89ccf5e5509e4aae9ef4ed5b865?s=128&d=identicon&r=PG", "display_name": "xxks-kkk", "link": "https://stackoverflow.com/users/1460102/xxks-kkk"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468826729, "post_id": 38429733, "comment_id": 64267598, "body": "@ikegami Will <code>$^X</code> gives the same result as <code>use Config; my $perl = $Config{perlpath};</code>? From what I saw, the result is slightly different. Thanks much for the help!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468826986, "post_id": 38429733, "comment_id": 64267734, "body": "@Jerry, No relation between the two. (e.g. <code>ln $( which perl ) foo ; foo -E&#39;say $^X&#39;</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1468827258, "post_id": 38429836, "comment_id": 64267883, "body": "Uh, that&#39;s the version, not the path (which is in <code>$^X</code>)."}], "tags": [], "owner": {"reputation": 581, "user_id": 5863848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3w85.jpg?s=128&g=1", "display_name": "NishanthSpShetty", "link": "https://stackoverflow.com/users/5863848/nishanthspshetty"}, "is_accepted": false, "score": -1, "last_activity_date": 1468823145, "creation_date": 1468823145, "answer_id": 38429836, "question_id": 38429733, "link": "https://stackoverflow.com/questions/38429733/how-to-know-which-perl-interpreter-is-being-used-to-execute-current-perl-program/38429836#38429836", "title": "how to know which perl interpreter is being used to execute current perl program", "body": "<p>yes, you can find the version of perl interpreter currently script executing in, using perl special veriable. <code>$^V</code></p>\n"}], "owner": {"reputation": 1733, "user_id": 1460102, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e70df89ccf5e5509e4aae9ef4ed5b865?s=128&d=identicon&r=PG", "display_name": "xxks-kkk", "link": "https://stackoverflow.com/users/1460102/xxks-kkk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 500, "favorite_count": 0, "closed_date": 1468824077, "answer_count": 1, "score": -1, "last_activity_date": 1469415757, "creation_date": 1468822736, "last_edit_date": 1469415757, "question_id": 38429733, "link": "https://stackoverflow.com/questions/38429733/how-to-know-which-perl-interpreter-is-being-used-to-execute-current-perl-program", "closed_reason": "Duplicate", "title": "how to know which perl interpreter is being used to execute current perl program", "body": "<p>Suppose I have a script called <code>foo</code> and looks like below:</p>\n\n<pre><code>#!/bin/perl\neval 'exec perl5 -S $0 ${1+\"$@\"}'\n   if 0;\n</code></pre>\n\n<p>Based upon my understanding, if I run <code>perl foo</code> or <code>foo</code>, the system perl will be used to execute my script (i.e. <code>/usr/bin/perl</code> which is specified in shebang line). However, if I run my script <code>./foo</code> then the perl interpret being used is <code>perl5</code> inside <code>eval</code> statement.</p>\n\n<p>I want to verify my theory and I need to find a way to find out which perl interpreter is invoked to execute my script.</p>\n\n<p>Is there anyway to do so?</p>\n\n<p>Thanks much!</p>\n\n<p><strong>EDIT1:</strong> I think I nail this code chunk and I write a <a href=\"https://zeyuanhu.wordpress.com/2016/07/19/understanding-shebang-eval-combo-from-ancient-perl-script/\" rel=\"nofollow\">blog post</a> on it. Please check it out if you still have confusion on the above code chunk.</p>\n"}, {"tags": ["xml", "perl", "parsing"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1468819960, "post_id": 38429018, "comment_id": 64264607, "body": "From <a href=\"http://search.cpan.org/~grantm/XML-Simple-2.22/lib/XML/Simple.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~grantm/XML-Simple-2.22/lib/XML/Simple.pm</a> <code>You really don&#39;t want to use this module in new code. If you ignore this warning and use it anyway, the qw(:strict) mode will save you a little pain.</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1468819999, "post_id": 38429018, "comment_id": 64264616, "body": "<code>XML::LibXML</code> <a href=\"http://search.cpan.org/~shlomif/XML-LibXML-2.0126/LibXML.pod\" rel=\"nofollow noreferrer\">search.cpan.org/~shlomif/XML-LibXML-2.0126/LibXML.pod</a> and <code>XML::Twig</code> <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.49/Twig.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~mirod/XML-Twig-3.49/Twig.pm</a> are suggested as alternatives."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1468852831, "last_edit_date": 1468852831, "creation_date": 1468821721, "answer_id": 38429508, "question_id": 38429018, "link": "https://stackoverflow.com/questions/38429018/parsing-xml-in-perl-produce-output-in-different-format-than-i-expect/38429508#38429508", "title": "Parsing xml in perl produce output in different format than I expect", "body": "<p>Convert the data into the desired format using an hash slice.</p>\n\n<pre><code>my %name_by_isbn;\n@name_by_isbn{ @{ $data-&gt;{key} } } = @{ $data-&gt;{str} };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 4198023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7182f5c6dfce1bebd60008a0f4cc0f22?s=128&d=identicon&r=PG&f=1", "display_name": "sands1988", "link": "https://stackoverflow.com/users/4198023/sands1988"}, "edited": false, "score": 0, "creation_date": 1469077555, "post_id": 38432412, "comment_id": 64390980, "body": "Thanks Sobrique. It worked. You are right the Xml I am trying to parse is not in a good format. I got equivalent json file which can be parsed in the format I am expecting."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1468832083, "last_edit_date": 1495535328, "creation_date": 1468832083, "answer_id": 38432412, "question_id": 38429018, "link": "https://stackoverflow.com/questions/38429018/parsing-xml-in-perl-produce-output-in-different-format-than-i-expect/38432412#38432412", "title": "Parsing xml in perl produce output in different format than I expect", "body": "<p>Please please please - don't use <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\"><code>XML::Simple</code></a>. It's discouraged. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\nuse Data::Dumper; \n\nmy $twig = XML::Twig -&gt; new -&gt; parsefile($fuseMap);\n\nmy %data; \n\nmy @keys = map { $_ -&gt; text } $twig -&gt; get_xpath('//key'); \nmy @strs = map { $_ -&gt; text } $twig -&gt; get_xpath('//str');\n\n@data{@keys} = @strs;\n\nprint Dumper \\%data;\n</code></pre>\n\n<p>Which outputs:</p>\n\n<pre><code>$VAR1 = {\n          'ISBN2' =&gt; 'name2',\n          'ISBN6' =&gt; 'name6',\n          'ISBN3' =&gt; 'name3',\n          'ISBN5' =&gt; 'name5',\n          'ISBN1' =&gt; 'name1',\n          'ISBN4' =&gt; 'name4'\n        };\n</code></pre>\n\n<p>Or all compressed without temp vars (which may or may not be an improvement):</p>\n\n<pre><code>my %data;\n@data{ map { $_-&gt;text } $twig-&gt;get_xpath('//key') } =\n           map { $_-&gt;text } $twig-&gt;get_xpath('//str');\nprint Dumper \\%data;\n</code></pre>\n\n<p>Although I would suggest your source XML is badly structured - if the 'key' and 'str' are matched, they should be within the same element, because that's what elements are <em>for</em>. If you have any control over it, can I suggest:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"US-ASCII\"?&gt;\n&lt;books&gt;\n    &lt;book key=\"ISBN1\" name=\"name1\" /&gt;\n&lt;/books&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4198023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7182f5c6dfce1bebd60008a0f4cc0f22?s=128&d=identicon&r=PG&f=1", "display_name": "sands1988", "link": "https://stackoverflow.com/users/4198023/sands1988"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 38432412, "answer_count": 2, "score": 1, "last_activity_date": 1468900355, "creation_date": 1468818937, "last_edit_date": 1468900355, "question_id": 38429018, "link": "https://stackoverflow.com/questions/38429018/parsing-xml-in-perl-produce-output-in-different-format-than-i-expect", "title": "Parsing xml in perl produce output in different format than I expect", "body": "<p>I am very new to perl. I am trying to parse an xml file using perl xml parsing module XML::Simple.\nBelow is the sample xml I am trying to parse:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"US-ASCII\"?&gt;\n&lt;book&gt;\n    &lt;key&gt;ISBN1&lt;/key&gt;\n    &lt;str&gt;name1&lt;/str&gt;\n    &lt;key&gt;ISBN2&lt;/key&gt;\n    &lt;str&gt;name2&lt;/str&gt;\n    &lt;key&gt;ISBN3&lt;/key&gt;\n    &lt;str&gt;name3&lt;/str&gt;\n    &lt;key&gt;ISBN4&lt;/key&gt;\n    &lt;str&gt;name4&lt;/str&gt;\n    &lt;key&gt;ISBN5&lt;/key&gt;\n    &lt;str&gt;name5&lt;/str&gt;\n    &lt;key&gt;ISBN6&lt;/key&gt;\n    &lt;str&gt;name6&lt;/str&gt;\n&lt;/book&gt;\n</code></pre>\n\n<p>Below is perl program I am using to parse and dump the parsed output:</p>\n\n<pre><code>my $xml = XML::Simple-&gt;new;\nmy $data = $xml-&gt;XMLin($bookMap);\nprint Dumper($data);\n</code></pre>\n\n<p>And the output is:</p>\n\n<pre><code>$VAR1 = {\n          'str' =&gt; [\n                   'name1',\n                   'name2',\n                   'name3',\n                   'name4',\n                   'name5',\n                   'name6'\n                 ],\n          'key' =&gt; [\n                   'ISBN1',\n                   'ISBN2',\n                   'ISBN3',\n                   'ISBN4',\n                   'ISBN5',\n                   'ISBN6'\n                 ]\n        };\n</code></pre>\n\n<p>But I need it to be parsed in below format:</p>\n\n<pre><code>$VAR1 = {\n          'ISBN1' =&gt; 'name1',\n          'ISBN2' =&gt; 'name2',\n          'ISBN3' =&gt; 'name3',\n          'ISBN4' =&gt; 'name4',\n          'ISBN5' =&gt; 'name5',\n          'ISBN6' =&gt; 'name6',\n};\n</code></pre>\n\n<p>It seems my xml is in different format than what perl xml parser expects. Could someone help me find a better approach to get the expected output?</p>\n\n<p>Thanks in Advance.</p>\n"}, {"tags": ["python", "perl", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 5109148, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/247917c226bf21800a14d4976a500890?s=128&d=identicon&r=PG&f=1", "display_name": "Park Taecyeon", "link": "https://stackoverflow.com/users/5109148/park-taecyeon"}, "edited": false, "score": 0, "creation_date": 1468889960, "post_id": 38428060, "comment_id": 64301327, "body": "Sorry, I&#39;m new to perl. For use Path::Class qw( file );  Do I have to replace &quot;file&quot; with the file name?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468890322, "post_id": 38428060, "comment_id": 64301403, "body": "No, it&#39;s the name of a function that creates a Path::Class::File object. Each snippet I posted can be used as-is to produce a usable path in <code>$qfn</code> (which is short of &quot;qualified file name&quot;, meaning an absolute or relative path to a file). As I explained at the bottom, <code>__FILE__</code> will automatically be replaced with the path to the file in which the snippet resides."}, {"owner": {"reputation": 89, "user_id": 5109148, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/247917c226bf21800a14d4976a500890?s=128&d=identicon&r=PG&f=1", "display_name": "Park Taecyeon", "link": "https://stackoverflow.com/users/5109148/park-taecyeon"}, "edited": false, "score": 0, "creation_date": 1468891427, "post_id": 38428060, "comment_id": 64301663, "body": "Thanks. 1 more question if you don&#39;t mind.With regards to, use File::Basename qw( dirname ); How can I use it to get the parent directory?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468891738, "post_id": 38428060, "comment_id": 64301741, "body": "The parent of what? To obtain a path to the directory that contains the file contains the code being executed, use <code>dirname(__FILE__)</code> (as I&#39;ve shown)."}, {"owner": {"reputation": 89, "user_id": 5109148, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/247917c226bf21800a14d4976a500890?s=128&d=identicon&r=PG&f=1", "display_name": "Park Taecyeon", "link": "https://stackoverflow.com/users/5109148/park-taecyeon"}, "edited": false, "score": 0, "creation_date": 1468892422, "post_id": 38428060, "comment_id": 64301917, "body": "I noticed dirname(<b>FILE</b>) returned as /app/scripts/lib I would like to only have /app/scripts"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1468820870, "last_edit_date": 1468820870, "creation_date": 1468811322, "answer_id": 38428060, "question_id": 38427627, "link": "https://stackoverflow.com/questions/38427627/determining-relative-path-in-perl-module/38428060#38428060", "title": "Determining relative path in Perl Module", "body": "<p>I think you're asking how to execute a script that's located in the same dir as the module that executes it.</p>\n\n<pre><code>use Path::Class qw( file );\n\nmy $qfn = file(__FILE__)-&gt;dir-&gt;file('python_script.py');\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use File::Basename qw( dirname );\n\nmy $qfn = dirname(__FILE__) . '/python_script.py';\n</code></pre>\n\n<p>or </p>\n\n<pre><code>use Dir::Self qw( __DIR__ );\n\nmy $qfn = __DIR__ . '/python_script.py';\n</code></pre>\n\n<p><code>__FILE__</code> is a special token that returns the path to the file in which the symbol is located.</p>\n"}], "owner": {"reputation": 89, "user_id": 5109148, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/247917c226bf21800a14d4976a500890?s=128&d=identicon&r=PG&f=1", "display_name": "Park Taecyeon", "link": "https://stackoverflow.com/users/5109148/park-taecyeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1468820870, "creation_date": 1468807010, "question_id": 38427627, "link": "https://stackoverflow.com/questions/38427627/determining-relative-path-in-perl-module", "title": "Determining relative path in Perl Module", "body": "<p>First Module:</p>\n\n<pre><code>package Compute;\n\nour $sort_script= \"/app/scripts/python_script.py\";\n</code></pre>\n\n<p>Second Module:</p>\n\n<pre><code>package ProcessRestart;\nuse Compute;\n\n# This perl module is also in /app/scripts/\n# host1.com is an argument or script parameter \n\n$returnMsg= `$Compute::sort_script host1.com`;\n</code></pre>\n\n<p>Above is an example of a perl module I have written. It calls the python script from other modules and pass it in the necessary arguments/parameters.</p>\n\n<p>I have tried removing typing the actual path of the script and replacing it with \"./python_script.py\" but it does not seem to work. </p>\n\n<p>I have tried printing the directory upon running the script using Cwd, it points to my home directory. </p>\n\n<p>What other ways can I try to have a relative path to the script?</p>\n"}, {"tags": ["perl", "sorting"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1468803333, "post_id": 38427289, "comment_id": 64261211, "body": "Does <code>&lt;=&gt;</code> ring any bells?"}, {"owner": {"reputation": 721, "user_id": 667570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d4d2c92ba9a0fce1de04bb79c6cbe355?s=128&d=identicon&r=PG&f=1", "display_name": "Sol", "link": "https://stackoverflow.com/users/667570/sol"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1468803964, "post_id": 38427289, "comment_id": 64261320, "body": "Sure. But I still need to split the string before doing the comparison."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 2, "creation_date": 1468805990, "post_id": 38427289, "comment_id": 64261592, "body": "@Sol strictly speaking, you don&#39;t. <code>@sorted = reverse sort { $a &lt;=&gt; $b } @unsorted</code> produces some warnings but gives exactly the output you asked for. That&#39;s because numifying looks for a number at the beginning of the string and stops when it finds something else. Not recommended, but it&#39;s worth understanding!"}], "answers": [{"comments": [{"owner": {"reputation": 721, "user_id": 667570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d4d2c92ba9a0fce1de04bb79c6cbe355?s=128&d=identicon&r=PG&f=1", "display_name": "Sol", "link": "https://stackoverflow.com/users/667570/sol"}, "edited": false, "score": 0, "creation_date": 1468850820, "post_id": 38427505, "comment_id": 64283258, "body": "Awesome! Thank you for the education. Yep, your solutions are definitely more perlish."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1468805693, "creation_date": 1468805693, "answer_id": 38427505, "question_id": 38427289, "link": "https://stackoverflow.com/questions/38427289/more-perlish-way-to-sort-string-with-leading-floating-point-number/38427505#38427505", "title": "More perlish way to sort string with leading floating point number?", "body": "<pre><code>sort {\n   my @fields_a = split /\\|/, $a;\n   my @fields_b = split /\\|/, $b;\n   $fields_b[0] &lt;=&gt; $fields_a[0]\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sort { ( $b =~ /([^|]*)/ )[0] &lt;=&gt; ( $a =~ /([^|]*)/ )[0] }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>map $_-&gt;[0],\nsort { $b-&gt;[1] &lt;=&gt; $a-&gt;[1] }\nmap [ $_, split /\\|/ ],\n</code></pre>\n"}], "owner": {"reputation": 721, "user_id": 667570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d4d2c92ba9a0fce1de04bb79c6cbe355?s=128&d=identicon&r=PG&f=1", "display_name": "Sol", "link": "https://stackoverflow.com/users/667570/sol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 38427505, "answer_count": 1, "score": 0, "last_activity_date": 1468867997, "creation_date": 1468803110, "question_id": 38427289, "link": "https://stackoverflow.com/questions/38427289/more-perlish-way-to-sort-string-with-leading-floating-point-number", "title": "More perlish way to sort string with leading floating point number?", "body": "<p>I have an array of strings. Each string has multiple fields delimited by a pipe character. I want to do a reverse numerical sort of the strings by the first field in each string. I've written some perl code that works fine and I'm wondering if there is a more perlish way to write this.</p>\n\n<pre><code>sub by_firstField {\n    my @tmpA = split ( /\\|/, $a ) ;\n    my @tmpB = split ( /\\|/, $b ) ;\n    if ($tmpA[0]&gt; $tmpB[0]) { -1 } elsif ($tmpA[0] &lt; $tmpB[0]) { 1 } else { 0 }\n}\n\npush @unsorted, ( \"8.02|a|b|c\", \"47.6|d|e|f\", \"108.1|g|h|i\", \"411.5|j|k|l\", \"8.1|m|n|o\" ) ;\n\n@sorted = sort by_firstField @unsorted ;\n\nfor ( my $i = 0 ; $i &lt;= $#sorted; $i++ ) {\n    print $sorted[$i] . \"\\n\" ;\n}\n</code></pre>\n\n<p>And, here's the output:</p>\n\n<pre><code>411.5|j|k|l\n108.1|g|h|i\n47.6|d|e|f\n8.1|m|n|o\n8.02|a|b|c\n</code></pre>\n"}, {"tags": ["perl", "perl-pod"], "answers": [{"tags": [], "owner": {"reputation": 63134, "user_id": 112671, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e09fc9ec9f79f9444a60bc7b258cf71?s=128&d=identicon&r=PG", "display_name": "Robert Munteanu", "link": "https://stackoverflow.com/users/112671/robert-munteanu"}, "is_accepted": true, "score": 2, "last_activity_date": 1468841078, "creation_date": 1468841078, "answer_id": 38435498, "question_id": 38425732, "link": "https://stackoverflow.com/questions/38425732/pod2man-fails-with-no-name-given-for-document/38435498#38435498", "title": "pod2man fails with &#39;No name given for document&#39;", "body": "<p>This is fixed by adding the <code>--name</code> argument to the command invocation, e.g.</p>\n\n<pre><code>pod2man --name GITS-CHECKUP &lt; gits-checkup &gt; gits-checkup.1\n</code></pre>\n"}], "owner": {"reputation": 63134, "user_id": 112671, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e09fc9ec9f79f9444a60bc7b258cf71?s=128&d=identicon&r=PG", "display_name": "Robert Munteanu", "link": "https://stackoverflow.com/users/112671/robert-munteanu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 38435498, "answer_count": 1, "score": 2, "last_activity_date": 1468841078, "creation_date": 1468787976, "question_id": 38425732, "link": "https://stackoverflow.com/questions/38425732/pod2man-fails-with-no-name-given-for-document", "title": "pod2man fails with &#39;No name given for document&#39;", "body": "<p>I have a pod2man task which has started failing with a recent update ( now running perl 5.24.0 ). The error output is</p>\n\n<pre><code>[    8s] pod2man &lt; gits-checkup &gt; gits-checkup.1\n[    9s] IO::File=IO(0x1365550) around line 1: No name given for document\n[    9s] IO::File=IO(0xe06550) around line 1: No name given for document\n[    9s] POD document had syntax errors at /usr/bin/pod2man line 70.\n</code></pre>\n\n<p>The complete file is hosted at <a href=\"https://sourceforge.net/p/gitslave/code/ci/master/tree/contrib/gits-checkup\" rel=\"nofollow\">gits-checkup</a>. Not sure which exact snippet to post.</p>\n\n<p>How should I fix this error?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1468779992, "post_id": 38424036, "comment_id": 64255670, "body": "so you&#39;re trying to get the values from the other two arrays by index, based on the indexes found in <code>@array_A</code>?"}, {"owner": {"reputation": 109, "user_id": 5157746, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7a3f2af35a3c78652c2a0fc66e4fa6c9?s=128&d=identicon&r=PG&f=1", "display_name": "baba yaga", "link": "https://stackoverflow.com/users/5157746/baba-yaga"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1468780687, "post_id": 38424036, "comment_id": 64255880, "body": "@stevieb : Yes that&#39;s correct."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1468780850, "post_id": 38424036, "comment_id": 64255937, "body": "Don&#39;t you understand your <code>my @index = \u2026</code> line or are you struggling with applying the result, <code>(2, 5)</code>, to <code>@array_B</code> and <code>@array_C</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1468781535, "post_id": 38424682, "comment_id": 64256126, "body": "The not-so-verbose solution would be <code>my @a2_matches = @a2[ @indexes ];</code> and <code>my @a3_matches = @a3[ @indexes ];</code>. It makes use of <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow noreferrer\">array slices</a>, but your solution is more educational."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1468781855, "post_id": 38424682, "comment_id": 64256210, "body": "@PerlDog that&#39;s what I was going for, as it was pretty apparent that the OP was doing a school project of some sort ;)"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1468782526, "post_id": 38424682, "comment_id": 64256417, "body": "Yes, sure. I appreciate that and like your solution. I just added another approach."}, {"owner": {"reputation": 109, "user_id": 5157746, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7a3f2af35a3c78652c2a0fc66e4fa6c9?s=128&d=identicon&r=PG&f=1", "display_name": "baba yaga", "link": "https://stackoverflow.com/users/5157746/baba-yaga"}, "edited": false, "score": 0, "creation_date": 1468835267, "post_id": 38424682, "comment_id": 64272489, "body": "@stevieb : Thanks much for your inputs.I&#39;m able to fetch the values in array b and array C and write it to a file, like below:  <code>open my $fh, &quot;&gt;&quot;, &quot;log.txt&quot; or die &quot;Cannot open log.txt: $!&quot;; foreach (@array_B,@array_C){ print $fh &quot;$_\\n&quot;; } close $fh;</code>  O/P: <code>12345 67891 12333 john jack joy</code> How to write to a file in a following manner, <code>12345 john 67891 jack 12333 joy</code>"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 3, "last_activity_date": 1468781140, "last_edit_date": 1468781140, "creation_date": 1468780830, "answer_id": 38424682, "question_id": 38424036, "link": "https://stackoverflow.com/questions/38424036/perl-script-to-check-another-array-values-depending-on-current-array-index/38424682#38424682", "title": "Perl script to check another array values depending on current array index", "body": "<p>Here's an overly verbose example of how to extract the values you want as to show what's happening, while hopefully leaving some room for you to have to further investigate. Note that it's idiomatic Perl to use regex delimiters when using <code>=~</code>. eg: <code>$name =~ /steve/</code>.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy @a1 = qw(AT SAT CAT BAT MAT CAT SLAT);\nmy @a2 = qw(a b c d e f g);\nmy @a3 = qw(1 2 3 4 5 6 7);\n\n# note the difference in the next line... no @ symbol...\n\nmy @indexes = grep { $a1[$_] =~ /CAT/ } 0..$#a1;\n\nfor my $index (@indexes){\n    my $a2_value = $a2[$index];\n    my $a3_value = $a3[$index];\n\n    print \"a1 index: $index\\n\" .\n          \"a2 value: $a2_value\\n\" .\n          \"a3 value: $a3_value\\n\" .\n          \"\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>a1 index: 2\na2 value: c\na3 value: 3\n\na1 index: 5\na2 value: f\na3 value: 6\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 5157746, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7a3f2af35a3c78652c2a0fc66e4fa6c9?s=128&d=identicon&r=PG&f=1", "display_name": "baba yaga", "link": "https://stackoverflow.com/users/5157746/baba-yaga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468781140, "creation_date": 1468776684, "question_id": 38424036, "link": "https://stackoverflow.com/questions/38424036/perl-script-to-check-another-array-values-depending-on-current-array-index", "title": "Perl script to check another array values depending on current array index", "body": "<p>I'm working on a perl assignment, that has three arrays - @array_A, @array_B and array_C with some values in it, I grep for a string \"CAT\" on array A and fetching its indices too</p>\n\n<pre><code>my @index = grep { $@array_A[$_] =~ 'CAT' } 0..$#array_A;\n    print \"Index : @index\\n\";\n</code></pre>\n\n<blockquote>\n  <p>Output:  Index : 2 5</p>\n</blockquote>\n\n<p>I have to take this as an input and check the value of other two arrays at indices 2 and 5 and print it to a file.\nTrick is the position of the string -  \"CAT\" varies. (Index might be 5 , 7 and 9) </p>\n\n<p>I'm not quite getting the logic here , looking for some help with the logic.</p>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1468769931, "post_id": 38422715, "comment_id": 64252267, "body": "show  your sample execution, are there any arg values for <code>$1</code> or <code>$@</code> ? And did you try <code>#!&#47;bin&#47;ksh</code> ? Good luck."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1468770422, "post_id": 38422715, "comment_id": 64252442, "body": "This question is exploring arcane and inadvisable corners of shell and perl"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468771575, "post_id": 38422715, "comment_id": 64252849, "body": "@Borodin True (I actually prefer <code>#!&#47;usr&#47;bin&#47;env perl</code> and never had problems; I think you do it the same way), but it&#39;s an interesting question nevertheless. I thought it&#39;s not the shell&#39;s business to interpret the <code>-S</code> switch as it&#39;s a parameter to <code>perl5</code>. So why does the <i>shell</i> complain?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1468773086, "post_id": 38422715, "comment_id": 64253353, "body": "Btw: This behaviour is not restricted to <code>ksh</code> (which is the standard shell in AIX), but also applies to <code>bash</code>. I also got <code>&#47;bin&#47;bash: -S: invalid option</code> (no matter how many parameters I called the script with)."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 10, "last_activity_date": 1468803523, "last_edit_date": 1468803523, "creation_date": 1468774516, "answer_id": 38423671, "question_id": 38422715, "link": "https://stackoverflow.com/questions/38422715/a-change-of-shebang-eval-leads-to-the-perl-script-failure/38423671#38423671", "title": "A change of shebang + eval leads to the perl script failure", "body": "<p>From the Perl documentation:</p>\n\n<blockquote>\n  <p>If the <code>#!</code> line does not contain the word \"perl\" nor the word \"indir\", the program named after the <code>#!</code> is executed instead of the Perl interpreter. This is slightly bizarre, but it helps people on machines that don't do <code>#!</code>, because they can tell a program that their SHELL is <em>/usr/bin/perl</em>, and Perl will then dispatch the program to the correct interpreter for them.</p>\n</blockquote>\n\n<p>So if you launch the modified version as <code>./script</code>:</p>\n\n<ol>\n<li>Your shell executes <code>./script</code></li>\n<li>The kernel actually executes <code>/bin/sh ./script</code></li>\n<li><code>sh</code> executes <code>perl5 -S ./script</code></li>\n<li><code>perl5</code> executes <code>/bin/sh -S ./script</code> because it sees a shebang that doesn't contain <code>perl</code>.</li>\n<li><code>sh</code> dies because it doesn't recognize the <code>-S</code> option.</li>\n</ol>\n\n<p>And if you launch the modified version as <code>perl5 script</code>:</p>\n\n<ol>\n<li>Your shell executes <code>perl5 script</code></li>\n<li><code>perl5</code> executes <code>/bin/sh -S script</code> because it sees a shebang that doesn't contain <code>perl</code>.</li>\n<li><code>sh</code> dies because it doesn't recognize the <code>-S</code> option.</li>\n</ol>\n\n<blockquote>\n  <p><em>Also this web page I found online seems suggest that my new version should work as well.</em></p>\n</blockquote>\n\n<p>The code on that page is significantly different than the code you used. In that code, there's an explicit instruction (<code>-x</code>) to ignore the actual shebang line, and to look for one that contains <code>perl</code> later in the file (which is also missing from your code).</p>\n"}], "owner": {"reputation": 1733, "user_id": 1460102, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e70df89ccf5e5509e4aae9ef4ed5b865?s=128&d=identicon&r=PG", "display_name": "xxks-kkk", "link": "https://stackoverflow.com/users/1460102/xxks-kkk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 38423671, "answer_count": 1, "score": 1, "last_activity_date": 1468803523, "creation_date": 1468768422, "last_edit_date": 1495540736, "question_id": 38422715, "link": "https://stackoverflow.com/questions/38422715/a-change-of-shebang-eval-leads-to-the-perl-script-failure", "title": "A change of shebang + eval leads to the perl script failure", "body": "<p>This is a question derives from another <a href=\"https://stackoverflow.com/questions/38421103/understanding-a-code-chunk-of-perl?\">post</a>. Based upon the comments and answer from that post, I change the following shebang + eval into another one:</p>\n\n<p><strong>Old works version</strong></p>\n\n<pre><code>#!/bin/perl\neval 'exec perl5 -S $0 ${1+\"$@\"}'\n   if 0;\n</code></pre>\n\n<p><strong>New doesn't work version</strong></p>\n\n<pre><code>#!/bin/sh\neval 'exec perl5 -S $0 ${1+\"$@\"}'\n   if 0;\n</code></pre>\n\n<p>Notice that I change <code>#!/bin/perl</code> to <code>#!/bin/sh</code> and based upon my understanding, the new version should also work because the script is treated like shell script and <code>eval</code> get executed and <code>perl5</code> is invoked to use perl to execute the same script. However, when I actually run this, I got:</p>\n\n<pre><code>/bin/sh: -S: invalid option\n</code></pre>\n\n<p>Can anyone explain why this case the script is failed. Do I misunderstand something? I'm using <code>ksh</code></p>\n\n<p>Also this <a href=\"https://perlbrew.pl/Dealing-with-shebangs.html\" rel=\"nofollow noreferrer\">web page</a> I found online seems suggest that my new version should work as well.</p>\n\n<p>Thanks much!</p>\n"}, {"tags": ["xml", "perl", "xml-twig"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468761926, "post_id": 38421523, "comment_id": 64249822, "body": "<code>XML::Twig</code> has left the closing bracket unencoded because it is not ambiguous at that point in the data, and any decent XML parser will accept it happily. Do you need to provide for an &quot;indecent&quot; one?!"}, {"owner": {"reputation": 809, "user_id": 1151718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb6505c0711f36325e0d1d68d73b4f82?s=128&d=identicon&r=PG", "display_name": "capfan", "link": "https://stackoverflow.com/users/1151718/capfan"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468762599, "post_id": 38421523, "comment_id": 64250008, "body": "Honestly, I wasn&#39;t sure about the target parser. I just confirmed it, it&#39;s a decent parser. While testing, I simply noticed the behavior and it was unexpected. I&#39;m curious, it there a way to provide the content for &quot;indecent&quot; parsers?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468763079, "post_id": 38421523, "comment_id": 64250134, "body": "I&#39;m looking at it and will let you know when I&#39;ve absorbed the relevant module code. The module&#39;s author is regularly on this site, and he may well give you an answer before the day is out."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1468764210, "last_edit_date": 1468764210, "creation_date": 1468763873, "answer_id": 38422012, "question_id": 38421523, "link": "https://stackoverflow.com/questions/38421523/keep-encoded-tag-in-xmltwig/38422012#38422012", "title": "Keep encoded tag in XML::Twig", "body": "\n\n<p>You need to either set the <code>keep_encoding</code> option in the constructor, as below, or call <code>$twig-&gt;set_keep_encoding($option)</code> to modify it after the construction of the object</p>\n\n<p>Note that <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\">the module documentation</a> says this about it</p>\n\n<blockquote>\n  <p>This is a (slightly?) evil option: if the XML document is not UTF-8 encoded and you want to keep it that way, then setting keep_encoding will use the \"Expat\" <code>original_string</code> method for character, thus keeping the original encoding, as well as the original entities in the strings.</p>\n</blockquote>\n\n<p>But here it is, doing as you asked. The risk is your own call</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse XML::Twig;\n\nmy $input = &lt;&lt;END_XML;\n&lt;root&gt;\n    &lt;p&gt;&amp;lt;encoded tag&amp;gt;&lt;/p&gt;\n&lt;/root&gt;\nEND_XML\n\nmy $t = XML::Twig-&gt;new(\n    keep_spaces              =&gt; 1,\n    keep_encoding            =&gt; 1,\n    twig_roots               =&gt; { p =&gt; \\&amp;convert },   # process p elements\n    twig_print_outside_roots =&gt; 1,                    # print the rest\n);\n\n$t-&gt;parse($input);\n\n\nsub convert {\n    my ($t, $p) = @_;\n    $p-&gt;print;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root&gt;\n    &lt;p&gt;&amp;lt;encoded tag&amp;gt;&lt;/p&gt;\n&lt;/root&gt;\n</code></pre>\n"}], "owner": {"reputation": 809, "user_id": 1151718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb6505c0711f36325e0d1d68d73b4f82?s=128&d=identicon&r=PG", "display_name": "capfan", "link": "https://stackoverflow.com/users/1151718/capfan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 38422012, "answer_count": 1, "score": 2, "last_activity_date": 1468764210, "creation_date": 1468760627, "last_edit_date": 1468761658, "question_id": 38421523, "link": "https://stackoverflow.com/questions/38421523/keep-encoded-tag-in-xmltwig", "title": "Keep encoded tag in XML::Twig", "body": "<p></p>\n\n<p>I would like to modify a large XML file using <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\"><code>XML::Twig</code></a>.</p>\n\n<p>When using handler callbacks, <code>XML::Twig</code> seems to change characters that are encoded as HTML entities such as the greater than sign (<code>&amp;gt;</code> -- <code>&gt;</code>).</p>\n\n<p>Example script:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $input = q~\n&lt;root&gt;\n    &lt;p&gt;&amp;lt;encoded tag&amp;gt;&lt;/p&gt;\n&lt;/root&gt;\n~;\n\nmy $t = XML::Twig-&gt;new(\n    keep_spaces              =&gt; 1,\n    twig_roots               =&gt; { 'p' =&gt; \\&amp;convert, },   # process p tags\n    twig_print_outside_roots =&gt; 1,                       # print the rest\n);\n\n$t-&gt;parse($input);\n\n\nsub convert {\n    my ($t, $p)= @_;\n\n    $p-&gt;set_att('x' =&gt; 'y');\n\n    $p-&gt;print;\n}\n</code></pre>\n\n<p>This will turn the document into the following:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root&gt;\n    &lt;p x=\"y\"&gt;&amp;lt;encoded tag&gt;&lt;/p&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>I was expecting to get this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root&gt;\n    &lt;p x=\"y\"&gt;&amp;lt;encoded tag&amp;gt;&lt;/p&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>How do I keep the encoded contents of tags using <code>XML::Twig</code>?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 3, "creation_date": 1468759280, "post_id": 38421103, "comment_id": 64249041, "body": "Simply searching for this phrase gives lots of hits, among them <a href=\"http://stackoverflow.com/questions/6123971/what-is-the-exact-meaning-of-the-find2perl-perl-shebang-eval\">What is the exact meaning of the find2perl perl shebang + eval?</a>. And this should answer your question."}, {"owner": {"reputation": 1733, "user_id": 1460102, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e70df89ccf5e5509e4aae9ef4ed5b865?s=128&d=identicon&r=PG", "display_name": "xxks-kkk", "link": "https://stackoverflow.com/users/1460102/xxks-kkk"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1468759436, "post_id": 38421103, "comment_id": 64249090, "body": "@SteffenUllrich Thanks for the link!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468759509, "post_id": 38421103, "comment_id": 64249110, "body": "Did this code come from <code>find2perl</code>?"}, {"owner": {"reputation": 1733, "user_id": 1460102, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e70df89ccf5e5509e4aae9ef4ed5b865?s=128&d=identicon&r=PG", "display_name": "xxks-kkk", "link": "https://stackoverflow.com/users/1460102/xxks-kkk"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468759712, "post_id": 38421103, "comment_id": 64249165, "body": "@Borodin Nope but they look quite similar: <code>eval &#39;exec &#47;usr&#47;bin&#47;perl -S $0 ${1+&quot;$@&quot;}&#39;         if 0; #$running_under_some_shell</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468759782, "post_id": 38421103, "comment_id": 64249190, "body": "@Jerry: Yeah, I guess it&#39;s been stolen. It&#39;s a hack, basically. I&#39;ve written a skeleton answer below that should help."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1468768036, "post_id": 38421103, "comment_id": 64251640, "body": "You just amended your OP and added another question. Please post a new question instead."}, {"owner": {"reputation": 1733, "user_id": 1460102, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e70df89ccf5e5509e4aae9ef4ed5b865?s=128&d=identicon&r=PG", "display_name": "xxks-kkk", "link": "https://stackoverflow.com/users/1460102/xxks-kkk"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1468768447, "post_id": 38421103, "comment_id": 64251781, "body": "@PerlDog Done. Thanks! <a href=\"http://stackoverflow.com/questions/38422715/a-change-of-shebang-eval-leads-to-the-perl-script-failure\" title=\"a change of shebang eval leads to the perl script failure\">stackoverflow.com/questions/38422715/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1733, "user_id": 1460102, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e70df89ccf5e5509e4aae9ef4ed5b865?s=128&d=identicon&r=PG", "display_name": "xxks-kkk", "link": "https://stackoverflow.com/users/1460102/xxks-kkk"}, "edited": false, "score": 0, "creation_date": 1468760084, "post_id": 38421287, "comment_id": 64249287, "body": "Thanks for the answer. I understand the intuition behind this code chunk now: basically I can either run <code>perl foo</code> or <code>foo</code> directly in shell. But, could you elaborate more on &quot;because of <code>if 0 at the end</code>&quot; and &quot;the continuation line&quot;? I&#39;m really new to perl. Thanks much for the help!"}, {"owner": {"reputation": 1733, "user_id": 1460102, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e70df89ccf5e5509e4aae9ef4ed5b865?s=128&d=identicon&r=PG", "display_name": "xxks-kkk", "link": "https://stackoverflow.com/users/1460102/xxks-kkk"}, "edited": false, "score": 0, "creation_date": 1468763470, "post_id": 38421287, "comment_id": 64250248, "body": "I found <a href=\"http://stackoverflow.com/questions/6123971/what-is-the-exact-meaning-of-the-find2perl-perl-shebang-eval\" title=\"what is the exact meaning of the find2perl perl shebang eval\">stackoverflow.com/questions/6123971/&hellip;</a> and <a href=\"http://unix.stackexchange.com/questions/68484/what-does-1-mean-in-a-shell-script-and-how-does-it-differ-from\" title=\"what does 1 mean in a shell script and how does it differ from\">unix.stackexchange.com/questions/68484/&hellip;</a> make sense the most to me. Thanks for the answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1733, "user_id": 1460102, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e70df89ccf5e5509e4aae9ef4ed5b865?s=128&d=identicon&r=PG", "display_name": "xxks-kkk", "link": "https://stackoverflow.com/users/1460102/xxks-kkk"}, "edited": false, "score": 0, "creation_date": 1468765205, "post_id": 38421287, "comment_id": 64250716, "body": "@Jerry: The idea is that, while Perl considers newlines as just more whitespace, the shell sees them as statement terminators. That means Perl will ignore the <code>eval</code> because the rest of the statement says <code>if 0</code>, while a shell will execute it and <code>exec</code> to a whole new process. I can&#39;t say I see the point, because a proper shebang line will allow you to run <code>foo.pl</code> directly from the command line anyway, but there we are. People like hacks because it makes them feel clever."}, {"owner": {"reputation": 1733, "user_id": 1460102, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e70df89ccf5e5509e4aae9ef4ed5b865?s=128&d=identicon&r=PG", "display_name": "xxks-kkk", "link": "https://stackoverflow.com/users/1460102/xxks-kkk"}, "edited": false, "score": 0, "creation_date": 1468766215, "post_id": 38421287, "comment_id": 64251059, "body": "so what is really the point of <code>eval</code> part? Is it just for people to avoid a weird bug coming from very old borne-shell? Or it is for people want to execute the desire perl from <code>$PATH</code> instead of default system perl? Or maybe both? Thanks!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1733, "user_id": 1460102, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e70df89ccf5e5509e4aae9ef4ed5b865?s=128&d=identicon&r=PG", "display_name": "xxks-kkk", "link": "https://stackoverflow.com/users/1460102/xxks-kkk"}, "edited": false, "score": 0, "creation_date": 1468770163, "post_id": 38421287, "comment_id": 64252344, "body": "@Jerry: That&#39;s only to allow the statement to compile under Perl, even though it will never be executed. Please don&#39;t dwell on this, and use it as an example of something to avoid, if at all. Consider your current confusion, and try to avoid anyone else suffering in the same way."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1468765289, "last_edit_date": 1468765289, "creation_date": 1468759105, "answer_id": 38421287, "question_id": 38421103, "link": "https://stackoverflow.com/questions/38421103/understanding-a-code-chunk-of-perl/38421287#38421287", "title": "Understanding a code chunk of perl", "body": "<p>This is a dirty trick to get a script file to run either properly, under perl, or if it is submitted directly to the shell</p>\n\n<p>The statement does absolutely nothing under perl because of the <code>if 0</code> at the end</p>\n\n<p>However, if it's executed by sh or bash then the continuation line will be ignored, and the shell will do the <code>eval</code>, and run the same file through <code>perl5</code></p>\n\n<p>The idea is that, while Perl considers newlines as just more whitespace, the shell sees them as statement terminators. That means Perl will ignore the <code>eval</code> (as long as it compiles) because the rest of the statement says <code>if 0</code>, while a shell will execute it and <code>exec</code> to a whole new process</p>\n\n<p>I can't say I see the point, because a proper shebang line will allow you to run <code>foo.pl</code> directly from the command line anyway, but there we are. People like hacks because it makes them feel clever</p>\n"}], "owner": {"reputation": 1733, "user_id": 1460102, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e70df89ccf5e5509e4aae9ef4ed5b865?s=128&d=identicon&r=PG", "display_name": "xxks-kkk", "link": "https://stackoverflow.com/users/1460102/xxks-kkk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "closed_date": 1468759381, "accepted_answer_id": 38421287, "answer_count": 1, "score": 1, "last_activity_date": 1468768507, "creation_date": 1468757987, "last_edit_date": 1495541684, "question_id": 38421103, "link": "https://stackoverflow.com/questions/38421103/understanding-a-code-chunk-of-perl", "closed_reason": "Duplicate", "title": "Understanding a code chunk of perl", "body": "<p>Can anyone explain to me what the following is trying to do? What is the purpose behind this code chunk?</p>\n\n<pre><code>#!/bin/perl\neval 'exec perl5 -S $0 ${1+\"$@\"}'\n   if 0;\n</code></pre>\n\n<p>Thanks much!</p>\n\n<p><strong>EDIT1:</strong> I'm trying to change the code block above into:</p>\n\n<pre><code>#!/bin/sh\neval 'exec perl5 -S $0 ${1+\"$@\"}'\n   if 0;\n</code></pre>\n\n<p>and I think it should work because the script is treated like shell script and <code>eval</code> get executed and <code>perl5</code> is invoked to use perl to execute the same script. However, when I actually run this, I got:</p>\n\n<p><code>/bin/sh: -S: invalid option</code></p>\n\n<p>Can anyone explain why this case the script is failed. Do I misunderstand something? I'm using <code>ksh</code></p>\n\n<p>Thanks much! </p>\n\n<p><strong>EDIT2:</strong> EDIT1 seems like a totally separate question and I post it <a href=\"https://stackoverflow.com/questions/38422715/a-change-of-shebang-eval-leads-to-the-perl-script-failure\">here</a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1468746296, "post_id": 38419449, "comment_id": 64245897, "body": "What links these things together? <code>mydata1 === child1 === parent + child1</code>"}, {"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 3, "creation_date": 1468746563, "post_id": 38419449, "comment_id": 64245952, "body": "Please explain some more: What is the specific problem that prevents you calculating the relationships yourself? How much of the Perl have you figured out, and where are you stuck? For example, do you know how to open a file in Perl, do you understand how to parse the rows into separate parts (before and after <code>###</code>) etc?"}, {"owner": {"reputation": 1, "user_id": 6599541, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gTqoCh3Mwo0/AAAAAAAAAAI/AAAAAAAAAR8/T0xUhjHHGso/photo.jpg?sz=128", "display_name": "lucky lokhande", "link": "https://stackoverflow.com/users/6599541/lucky-lokhande"}, "edited": false, "score": 0, "creation_date": 1468749743, "post_id": 38419449, "comment_id": 64246717, "body": "Hi Neil,  Thanks for the reply , Let me show you my code here."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468755529, "post_id": 38419449, "comment_id": 64248082, "body": "I have voted to reopen this question as, although the OP has been careless with the question and made no apparent effort to solve it themselves, I consider it to be a difficult problem that involves building a tree structure of the data and traversing it. It&#39;s even more difficult to properly verify the original data. This is a common programming problem that I don&#39;t think has been dealt with before on Stack Overflow, and I have a solution to post if the question is reopened."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468758479, "post_id": 38419449, "comment_id": 64248831, "body": "@luckylokhande: It&#39;s always a bad idea to post a question that just says <i>I have this data and I want this output</i>. It&#39;s like begging on the streets and saying <i>I have a wife and children and I need &#163;1000</i>. Many people will see no evidence that you have made any effort of your own, and your question will be ignored or down-voted and closed"}, {"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468759770, "post_id": 38419449, "comment_id": 64249184, "body": "@Borodin: There technically is not a strict requirement to &quot;show work&quot; on SO, but it is a proxy for isolating the actual problem the OP has. The re-wording of the question helps a lot to make it answerable, so it might be the OP&#39;s lucky day. Voting to re-open."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 1, "creation_date": 1468761227, "post_id": 38419449, "comment_id": 64249639, "body": "@NeilSlater: It has become a de-facto requirement that the OP should show at least some effort. However I have seen many questions fall foul of that when the solution is so obscure that the OP has no idea where to start. I think it&#39;s fair to close a question like this one originally was, as there was no attempt even to explain the requirement. It is only in working with the data that I understood what was required and could improve the wording. I have to admit that I may not have been so generous with my reopen vote if I didn&#39;t have an answer waiting!"}, {"owner": {"reputation": 1, "user_id": 6599541, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gTqoCh3Mwo0/AAAAAAAAAAI/AAAAAAAAAR8/T0xUhjHHGso/photo.jpg?sz=128", "display_name": "lucky lokhande", "link": "https://stackoverflow.com/users/6599541/lucky-lokhande"}, "reply_to_user": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 0, "creation_date": 1468816491, "post_id": 38419449, "comment_id": 64263605, "body": "Hi @Neil,@Borodin,@fugu : I have submitted my efforts which I have done till now but not getting the actual output. Could you please help me here to get the expected output. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 729, "user_id": 3069115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9220d416e46ec9b73cab61afbb26798b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Tom", "link": "https://stackoverflow.com/users/3069115/tim-tom"}, "is_accepted": false, "score": 1, "last_activity_date": 1468850897, "creation_date": 1468850897, "answer_id": 38438867, "question_id": 38419449, "link": "https://stackoverflow.com/questions/38419449/walk-tree-structure-and-enumerate-all-paths/38438867#38438867", "title": "Walk tree structure and enumerate all paths", "body": "<p>Your solution appears to work fine except you are not sorting the children of the tree and you have a line in your loop iterating over the host names that prints out the parents.  Otherwise I don't see any difference between your output.</p>\n\n<p>So the changes would be to remove that print statement and change <code>for (keys %{$child_hash{$group}})</code> to <code>for (sort keys %{$child_hash{$group}})</code></p>\n\n<p>But I also went through your whole program and fixed the way you were storing the data to be more natural and explained a bunch of perl features you were using half right.</p>\n\n<pre><code>use strict;\nuse warnings;\n\n# Rather than explicitly managing parents and children, you can quite literally store the whole tree\n# in memory as a tree for more native iteration through it. For initialization you also need a\n# global node list so you can do the lookup.\nmy @host_names;\nmy %tree;\nmy %nodes;\n\n# You can use scalar variables ($fh) instead of global names (fh) for filehandles. This means that\n# they will automatically close when they go out of scope if they are used in functions or loops and\n# will be checked for existance by use strict which is great for me personally because I make\n# variable name typos all the time.\nopen(my $parent,\"&lt;\",\"parent.txt\") or die \"Could not open 'parent.txt' for read: $!\";\nopen(my $child,\"&lt;\",\"child.txt\") or die \"Could not open 'child.txt' for read: $!\";\n\n# As an example of that, this do block will read the host file into host_names and then\n# automatically close the file once the block has exited.\n@host_names = do {\n  open(my $host, '&lt;', 'data.txt') or die \"Could not open 'data.txt' for read: $!\";\n  &lt;$host&gt;;\n};\nchomp(@host_names);\n\nforeach my $host_name (@host_names) {\n  $tree{$host_name} = $nodes{$host_name} = {};\n}\n\n# In the ultimate confusing thing that you only have to learn once, you actually want to use while\n# instead of for to loop through files. Using a for loop will read the whole file into memory, split\n# it on newline and then iterate through it.  While loops will read the file one line at a time.  It\n# doesn't make a difference here, but if you were reading a 3GB file, you would notice.\nwhile(&lt;$parent&gt;) {\n  chomp;\n  # You can automatically unpack arrays in perl and the default second argument for split is $_\n  my ($parent, $child) = split(/###/);\n  die \"$parent does not exist\" unless exists $nodes{$parent};\n  die \"$child already defined\" if     exists $nodes{$child};\n  $nodes{$parent}{$child} = $nodes{$child} = {};\n}\n\n# This loop is exactly the same as above now, you could really make the two files the same and see\n# no differences (except that I changed split invocations to give you some more information)\nwhile(&lt;$child&gt;) {\n  chomp;\n  # If you want, you can also specify the maximum number of items split will look to unpack. If it's\n  # not specified and perl sees you unpack it immediately, it will default to the number of items in\n  # your list plus 1 (in your case 3). It does this because the behavior is the same either way, and\n  # it saves work if you have 200 splittable things in your line. We know there will be exactly two\n  # items, so we can save it even more work and tell it that.\n  my ($parent, $child) = split(/###/, $_, 2);\n  die \"$parent does not exist\" unless exists $nodes{$parent};\n  die \"$child already defined\" if     exists $nodes{$child};\n  $nodes{$parent}{$child} = $nodes{$child} = {};\n}\n\n# You can specify what you're iterating over in a for/foreach loop (They are synonyms in perl)\n# instead of renaming it on the first line of the loop.\nforeach my $host (@host_names) {\n  walk($tree{$host}, $host);\n}\n\n# With our tree now actually being a tree in memory, our 'derive' function can be a true tree walk.\nsub walk {\n  my ($node, $host, @path) = @_;\n  for my $child (sort keys %$node) {\n    if (@path &gt; 0) {\n      local $\" = \" + \"; # comment to fix stack overflow highlighter \"\n      print \"$host === $child ==== @path + $child\\n\";\n    }\n    walk($node-&gt;{$child}, $host, @path, $child);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6599541, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gTqoCh3Mwo0/AAAAAAAAAAI/AAAAAAAAAR8/T0xUhjHHGso/photo.jpg?sz=128", "display_name": "lucky lokhande", "link": "https://stackoverflow.com/users/6599541/lucky-lokhande"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468850897, "creation_date": 1468745259, "last_edit_date": 1468816210, "question_id": 38419449, "link": "https://stackoverflow.com/questions/38419449/walk-tree-structure-and-enumerate-all-paths", "title": "Walk tree structure and enumerate all paths", "body": "\n\n<p>Could you please help me with the logic here for problem.</p>\n\n<p>I have three files:</p>\n\n<h3>data.txt</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>mydata1\nmydata2\n</code></pre>\n\n<h3>parent.txt</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>mydata1###parent\nmydata2###parent2\n</code></pre>\n\n<h3>child.txt</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>parent###child1\nparent###child2\nparent###child3\nchild1###subchild1\nchild1###subchild2\nchild1###subchild3\nsubchild1###Ssubchild1\nsubchild1###Ssubchild2\nsubchild1###Ssubchild3\n</code></pre>\n\n<p>I require a list of all root items together with every child item (any item two or more jumps away from the root) and the path taken to get there. Note that <code>mydata2</code> and <code>parent2</code> don't appear below because they have no child items.</p>\n\n<p>It would look like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>mydata1 === child1 === parent + child1\nmydata1 === subchild1 === parent + child1 + subchild1\nmydata1 === Ssubchild1 === parent + child1 + subchild1 + Ssubchild1\nmydata1 === Ssubchild2 === parent + child1 + subchild1 + Ssubchild2\nmydata1 === Ssubchild3 === parent + child1 + subchild1 + Ssubchild3\nmydata1 === subchild2 === parent + child1 + subchild2\nmydata1 === subchild3 === parent + child1 + subchild3\nmydata1 === child2 === parent + child2\nmydata1 === child3 === parent + child3\n</code></pre>\n\n<p>I tried this problem with the below logic but did not get the expected solution.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>#!/usr/bin/perl\n\nuse strict;\n\nmy @host_name = (\"mydata1\",\"mydata2\");\nmy %parent_hash;\nmy %child_hash;\n\nopen (parent,\"&lt;\",\"parent.txt\") or die \"could not open\\n\";\nopen (child,\"&lt;\",\"childs.txt\") or die \"could not open\\n\";\n\nfor(&lt;parent&gt;)\n{\n    my @arr = split(\"###\",$_);\n    $parent_hash{$arr[0]}{$arr[1]} = 1;\n}\n\nfor(&lt;child&gt;)\n{\n    my @arrr = split(\"###\",$_);\n    $child_hash{$arrr[0]}{$arrr[1]} = 1;\n}\n\nmy $parent;\n\nfor(@host_name)\n{\n    my $host = $_; \n\n    if(exists($parent_hash{$host}))\n    {\n        for (keys %{$parent_hash{$host}})\n        {\n            chomp($_);\n            $parent = $_;\n            print \"$host === $parent ==== $parent\\n\";\n            derive($host,$_,$_,$parent);\n        }\n    }\n}\n\n\nsub derive()\n{\n    my $host = shift;\n    my $group = shift;\n    my $string = shift;\n    my $parent = shift;\n\n\n\n\n    for (keys %{$child_hash{$group}})\n        {\n            chomp($_);\n            my $temp = $string;\n            $string = $string.\"+\".$_;\n\n            if(exists ($child_hash{$_}))\n            {\n                print \"$host === $_ ==== $string\\n\";\n                derive($host,$_,$string,$parent);\n            }   \n            else\n            {\n                print \"$host === $_ ==== $string\\n\";\n                $string = $temp;    \n            }\n        }\n\n}\n</code></pre>\n\n<p>and getting the below result not the expected one</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>mydata1 === parent ==== parent  \nmydata1 === child1 ==== parent+child1\nmydata1 === subchild3 ==== parent+child1+subchild3\nmydata1 === subchild2 ==== parent+child1+subchild2\nmydata1 === subchild1 ==== parent+child1+subchild1\nmydata1 === Ssubchild2 ==== parent+child1+subchild1+Ssubchild2\nmydata1 === Ssubchild3 ==== parent+child1+subchild1+Ssubchild3\nmydata1 === Ssubchild1 ==== parent+child1+subchild1+Ssubchild1\nmydata1 === child2 ==== parent+child1+child2\nmydata1 === child3 ==== parent+child1+child3\nmydata2 === parent2 ==== parent2\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1468728933, "post_id": 38417817, "comment_id": 64242487, "body": "Split your string by <code>%%</code>. Iterate over the results and then split by <code>##</code>.  Have a look at <code>perldoc -f split</code> <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/split.html</a>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1468729010, "post_id": 38417817, "comment_id": 64242503, "body": "You will also need <code>perldoc -f join</code> <a href=\"http://perldoc.perl.org/functions/join.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/join.html</a>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1468729087, "post_id": 38417817, "comment_id": 64242516, "body": "As well as reading/writing files <code>perldoc perlopentut</code> <a href=\"http://perldoc.perl.org/perlopentut.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlopentut.html</a>"}, {"owner": {"reputation": 2211, "user_id": 3939241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072c2e014700af74ee7d2572ce8f29a6?s=128&d=identicon&r=PG&f=1", "display_name": "Abecee", "link": "https://stackoverflow.com/users/3939241/abecee"}, "edited": false, "score": 0, "creation_date": 1468733267, "post_id": 38417817, "comment_id": 64243197, "body": "Where did you get stuck with your regex?"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468737225, "post_id": 38418312, "comment_id": 64243847, "body": "I doubt the list of fields a rows has and their order are both guaranteed -- there would be no reason to include the field names in each row if that were the case -- but this solutions assumes it&#39;s constant."}], "tags": [], "owner": {"reputation": 2211, "user_id": 3939241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072c2e014700af74ee7d2572ce8f29a6?s=128&d=identicon&r=PG&f=1", "display_name": "Abecee", "link": "https://stackoverflow.com/users/3939241/abecee"}, "is_accepted": false, "score": -1, "last_activity_date": 1468737896, "last_edit_date": 1468737896, "creation_date": 1468734603, "answer_id": 38418312, "question_id": 38417817, "link": "https://stackoverflow.com/questions/38417817/i-want-code-in-perl-for-splitting-a-string-with-multiple-delimiters/38418312#38418312", "title": "I want code in Perl for splitting a string with multiple delimiters", "body": "<p>Based on your input, you could search for</p>\n\n<pre><code>^LOADID##([^%]+)%%ANAME##([^%]+)%%AID##([^%]+)%%AGNAME##([^%]+)%%AGID##([^%]+)%%HNAME##([^%]+)%%LOADDATE##([^%]+)%%LOADTIME##([^%]+).end$\n</code></pre>\n\n<p>and replace with</p>\n\n<pre><code>\\1|\\2|\\3|\\4|\\5|\\6|\\7|\\8\n</code></pre>\n\n<p>It:</p>\n\n<ul>\n<li>looks for the fixed parts, and captures the parameter values,</li>\n<li>assumes \"no empty parameter values\" (Could be addressed replacing <code>+</code> by <code>*</code> in the search expression as necessary.), and</li>\n<li>will fail, if any of the parameter values might include a percent sign.</li>\n</ul>\n\n<p>See it in action: <a href=\"https://regex101.com/r/tJ7nK1/1\" rel=\"nofollow\">RegEx101</a>.</p>\n\n<p>But string splitting might be more efficient.</p>\n\n<p>Please comment if and as this requires adjustment / further detail.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1468737388, "last_edit_date": 1468737388, "creation_date": 1468737038, "answer_id": 38418552, "question_id": 38417817, "link": "https://stackoverflow.com/questions/38417817/i-want-code-in-perl-for-splitting-a-string-with-multiple-delimiters/38418552#38418552", "title": "I want code in Perl for splitting a string with multiple delimiters", "body": "<h2>Parsing</h2>\n\n<pre><code>my %rec = split /##|%%/, $s, -1;\n</code></pre>\n\n<p>-or-</p>\n\n<pre><code>my %rec = map { split /##/, $_, 2 } split /%%/, $s;\n</code></pre>\n\n<p>The advantage of the latter one is that it supports keys with no values, as well as values that contain <code>##</code>. Simply put, it's more reliable.</p>\n\n<h2>Printing</h2>\n\n<pre><code>my @headers = qw( LOADID ANAME AID AGNAME AGID HNAME LOADDATE LOADTIME );\n\nsay join \"|\", @rec{@headers};\n</code></pre>\n\n<p>-or-</p>\n\n<pre><code>use Text::CSV_XS qw( );\n\nmy @headers = qw( LOADID ANAME AID AGNAME AGID HNAME LOADDATE LOADTIME );\n\nmy $csv = Text::CSV_XS-&gt;new({\n   auto_diag =&gt; 2,\n   binary    =&gt; 1,\n   sep_char  =&gt; '|',\n});\n\n$csv-&gt;say(\\*STDOUT, [ @rec{@headers} ]);\n</code></pre>\n\n<p>The later produces a pipe-separated CSV file, so it can support values that contain <code>|</code>, but it may employ CSV quoting.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 6599043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d880dcb847a96593f82c1fefa65dffd?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikant Shelar", "link": "https://stackoverflow.com/users/6599043/shrikant-shelar"}, "edited": false, "score": 0, "creation_date": 1468760061, "post_id": 38419326, "comment_id": 64249279, "body": "Thanks.... It works"}], "tags": [], "owner": {"reputation": 19060, "user_id": 4003419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIeUm.png?s=128&g=1", "display_name": "LukStorms", "link": "https://stackoverflow.com/users/4003419/lukstorms"}, "is_accepted": true, "score": 0, "last_activity_date": 1468764787, "last_edit_date": 1468764787, "creation_date": 1468744305, "answer_id": 38419326, "question_id": 38417817, "link": "https://stackoverflow.com/questions/38417817/i-want-code-in-perl-for-splitting-a-string-with-multiple-delimiters/38419326#38419326", "title": "I want code in Perl for splitting a string with multiple delimiters", "body": "<p>Just a simple Perl script with 2 regex replacements will do<br>\n(tested with Perl 5)\n</p>\n\n<pre><code>$ cat input.txt\nLOADID##49945-19-0-3540FAA-16995-16995%%ANAME##NWADVE15%%AID##51826%%AGNAME##ADDLEXPR%%AGID##49945%%HNAME##teranetcmoduat.teraner.com%%LOADDATE##07-12-16%%LOADTIME##02-04-53.end\n\n$ echo 's/(.*?)##(.*?)(?:%%|\\.end$|$)/$2|/g;s/\\|$//' &gt; pipeitup.pl\n\n$ perl -p pipeitup.pl input.txt &gt; result.txt\n\n$ cat result.txt\n49945-19-0-3540FAA-16995-16995|NWADVE15|51826|ADDLEXPR|49945|teranetcmoduat.teraner.com|07-12-16|02-04-53\n</code></pre>\n\n<p>The second regex replace <code>s/\\|$//</code> is just added to remove the pipe at the end.<br>\nSo if a final pipe doesn't bother you, then you can just golf it down to only the first regex replace <code>s/(.*?)##(.*?)(?:%%|\\.end$|$)/$2|/g</code>.</p>\n\n<p>And btw, just with a minor change you can print a header with the field names.\n(since those names are in capture group 1 of the first regex)  </p>\n\n<pre><code>$ head -n1 input.txt |perl -p -e 's/(.*?)##(.*?)(?:%%|\\.end$|$)/$1|/g;s/\\|$//' &gt;header.txt\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6599043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d880dcb847a96593f82c1fefa65dffd?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikant Shelar", "link": "https://stackoverflow.com/users/6599043/shrikant-shelar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "closed_date": 1469400118, "accepted_answer_id": 38419326, "answer_count": 3, "score": -4, "last_activity_date": 1468764787, "creation_date": 1468728437, "last_edit_date": 1468764734, "question_id": 38417817, "link": "https://stackoverflow.com/questions/38417817/i-want-code-in-perl-for-splitting-a-string-with-multiple-delimiters", "closed_reason": "Not suitable for this site", "title": "I want code in Perl for splitting a string with multiple delimiters", "body": "<p>I have a string like this:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>LOADID##49945-19-0-3540FAA-16995-16995%%ANAME##NWADVE15%%AID##51826%%AGNAME##ADDLEXPR%%AGID##49945%%HNAME##teranetcmoduat.teraner.com%%LOADDATE##07-12-16%%LOADTIME##02-04-53.end\n</code></pre>\n\n<p>I have to extract values for the parameters:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>LOADID, ANAME, AID, AGNAME, AGID, HNAME, LOADDATE, LOADTIME\n</code></pre>\n\n<p>...and write it into text file.  Output format is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>49945-19-0-3540FAA-16995-16995|NWADVE15|51826|ADDLEXPR|49945|teranetcmoduat.teraner.com|07-12-16|02-04-53\n</code></pre>\n"}, {"tags": ["perl", "obfuscation"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468717216, "post_id": 38416924, "comment_id": 64240958, "body": "Wow! Can you explain what <i>CTF</i> is as I&#39;ve can&#39;t think of anything likely. Would you also describe what your code is doing, as it&#39;s far from obvious."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468717323, "post_id": 38416924, "comment_id": 64240968, "body": "Why are you trying to obfuscate your code? Is that part of what CTF is, as otherwise it&#39;s pretty much pointless?"}, {"owner": {"reputation": 111, "user_id": 2844738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3b6606c8252071b2fd8612ac8adf9c6?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/2844738/aaron"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468717468, "post_id": 38416924, "comment_id": 64240994, "body": "CTF is &quot;Capture the Flag&quot; -- there are a series of challenges like forensics, crypto, etc.   This is a programming challenge in which you&#39;re supposed to extract the flag from the code.   When you run the program you&#39;re prompted about 36 times &quot;You&#39;re doing a thing...&quot; and you need to provide the correct input to continue.   This works for me up to the point where I think the program should end.    The problem is it doesn&#39;t and I believe there is additional input needed in the block that has the eval() function (line 191).   I&#39;ve never programmed in Perl before though, so I&#39;m unsure."}, {"owner": {"reputation": 111, "user_id": 2844738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3b6606c8252071b2fd8612ac8adf9c6?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/2844738/aaron"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468717532, "post_id": 38416924, "comment_id": 64241007, "body": "I&#39;m not obfuscating, someone else is.  There should be a snippet of text that results from correct input, but I&#39;ve hit a wall with it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468717918, "post_id": 38416924, "comment_id": 64241072, "body": "Okay, well you need to decode those base-64 blocks first. They should be executable Perl code (presumably complicated code if this is supposed to be tough). I don&#39;t see what happens to <code>$a</code> after all those concatenations. I&#39;ll take a proper look tomorrow as it&#39;s 2:30am right now."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468748397, "post_id": 38416924, "comment_id": 64246352, "body": "Run your program with <a href=\"https://metacpan.org/pod/B::Deparse\" rel=\"nofollow noreferrer\">metacpan.org/pod/B::Deparse</a>. It will tell you a more simplified version of the code that might help you along. Besides that, what Borodin said is spot-on about the base-64."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468749385, "post_id": 38416924, "comment_id": 64246597, "body": "<code>$a</code> contains a GIF image as far as I can tell from base64-decoding the first couple of pieces. Unfortunately my Windows machine doesn&#39;t like this super long line with the encoded 32 MegaByte string in the <code>eval</code> with any of my text editors, so I cannot really try. It keeps freezing. You need to copy that line, <code>base64_decode</code> it and then run the resulting Perl code through B::Deparse if it&#39;s not obvious. It will likely contain references to <code>$a</code> and do something with it. I am guessing it will do some transforms on it and then save it to disk."}, {"owner": {"reputation": 111, "user_id": 2844738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3b6606c8252071b2fd8612ac8adf9c6?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/2844738/aaron"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468983037, "post_id": 38416924, "comment_id": 64346610, "body": "Same here @simbabque.   Still trying though."}], "owner": {"reputation": 111, "user_id": 2844738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3b6606c8252071b2fd8612ac8adf9c6?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/2844738/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1468716162, "creation_date": 1468716162, "question_id": 38416924, "link": "https://stackoverflow.com/questions/38416924/trouble-understanding-eval-with-base64-obfuscation-in-perl", "title": "Trouble Understanding eval with base64 obfuscation in Perl", "body": "<p>I'm doing my first CTF and I've come across unfamiliar territory. I've never used Perl and after about 5 hours doing this, I'm a little burnt.</p>\n\n<p>Code here:\n<a href=\"https://gist.github.com/anonymous/8d738e7d83c42c758de6514ce258327a\" rel=\"nofollow\">https://gist.github.com/anonymous/8d738e7d83c42c758de6514ce258327a</a></p>\n\n<p>So far, I've gone through and figured out what input is needed for each if statement.   I have commented the inputs with the sections they're used in.   Ultimately, when I run the program with these inputs it is fine until line 191.  When I get to that final answer block, I'm just stuck with a blinking cursor.  When I enter any text, I hit the final else block and exit the program.</p>\n\n<p>I believe that I need further input and that there may be further evaluation happening in eval(), but I'm  not sure.</p>\n"}, {"tags": ["linux", "bash", "perl", "shell"], "answers": [{"tags": [], "owner": {"reputation": 10828, "user_id": 1394729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9Ri8.jpg?s=128&g=1", "display_name": "tink", "link": "https://stackoverflow.com/users/1394729/tink"}, "is_accepted": true, "score": 1, "last_activity_date": 1468704333, "creation_date": 1468704333, "answer_id": 38415780, "question_id": 38415662, "link": "https://stackoverflow.com/questions/38415662/errant-error-output-behavior-with-perl-execute-bash-scripts-on-a-remote-machine/38415780#38415780", "title": "Errant error output behavior with perl execute bash scripts on a remote machine", "body": "<p>Use the full path for the capture file.</p>\n\n<pre><code>some commands 2 &gt;&gt; /dir/dir/error.txt\n</code></pre>\n\n<p>Otherwise the file will be created in the users $HOME if it exists.</p>\n"}], "owner": {"reputation": 97, "user_id": 3861269, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/44651c982c81d4a9873d43177200b66c?s=128&d=identicon&r=PG&f=1", "display_name": "idleonbench", "link": "https://stackoverflow.com/users/3861269/idleonbench"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 38415780, "answer_count": 1, "score": 1, "last_activity_date": 1468704333, "creation_date": 1468703444, "question_id": 38415662, "link": "https://stackoverflow.com/questions/38415662/errant-error-output-behavior-with-perl-execute-bash-scripts-on-a-remote-machine", "title": "Errant error output behavior with perl execute bash scripts on a remote machine", "body": "<p>I have this line in my perl script that sshes into a remote machine and execute a bash script:</p>\n\n<pre><code>system(\"ssh -t remotemachine /dir/dir/bashscript\");\n</code></pre>\n\n<p>In my bash script, I used exit code 2 <code>some commands 2 &gt;&gt; error.txt</code> to capture any errors that I may encounter and I want this error.txt to be written in the same folder where the bash script is stored. </p>\n\n<p>My problem is when I ssh into the machine and run the program from the terminal, the error can be captured and written in error.txt but if I run the program from my perl, the program is able to run but the error is not captured.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 2186000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27724e710425e57e810062a11569105?s=128&d=identicon&r=PG", "display_name": "stderr", "link": "https://stackoverflow.com/users/2186000/stderr"}, "is_accepted": false, "score": 1, "last_activity_date": 1468698637, "creation_date": 1468698637, "answer_id": 38415002, "question_id": 38414852, "link": "https://stackoverflow.com/questions/38414852/use-external-variables-like-bash-when-run-perl-script/38415002#38415002", "title": "Use external variables like bash when run perl script", "body": "<p>You are looking for \"how to read environment variables with perl\". Perl have <code>%ENV</code> hash, which keeps all these variables. You can simply access them with <code>$ENV{'VARIABLENAME'}</code>. Simple example:</p>\n\n<pre><code>#!/usr/bin/perl\nprint $ENV{'VARIABLE'};\n</code></pre>\n\n<p>and than <code>VARIABLE=blahblah script.pl</code> returns <code>blahblah</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1468699120, "creation_date": 1468699120, "answer_id": 38415072, "question_id": 38414852, "link": "https://stackoverflow.com/questions/38414852/use-external-variables-like-bash-when-run-perl-script/38415072#38415072", "title": "Use external variables like bash when run perl script", "body": "<pre><code>local $ENV{VARIABLE} = 'foo';\nsystem('./script.sh');\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6598357, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GRpF2yh46Is/AAAAAAAAAAI/AAAAAAAACC8/rAMLkKnwioo/photo.jpg?sz=128", "display_name": "sL1pKn07", "link": "https://stackoverflow.com/users/6598357/sl1pkn07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "closed_date": 1468699740, "answer_count": 2, "score": 0, "last_activity_date": 1468739158, "creation_date": 1468697486, "last_edit_date": 1468739158, "question_id": 38414852, "link": "https://stackoverflow.com/questions/38414852/use-external-variables-like-bash-when-run-perl-script", "closed_reason": "Duplicate", "title": "Use external variables like bash when run perl script", "body": "<p>The question is simple, but I haven't found the answer on Google.</p>\n\n<p>How do I run in perl something like this?</p>\n\n<pre><code>[$] VARIABLE=foo ./script.sh\n</code></pre>\n\n<p>I have a perl script (Nvidia Cuda installer, for example) with hardcoded variables in the script, but I want to set that variables when I run the script instead of editing the script.</p>\n\n<p>In bash it's like posted above, but I don't know how make this work on perl.</p>\n\n<p>Is it possible to do this?</p>\n\n<p>Greetings.</p>\n\n<p>EDIT: For clarification: this is a sniplet of the install-linux.pl script:</p>\n\n<pre><code>sub can_add_for_all_users()\n{\n    my $filename = \"/usr/share/applications/.nvidiatoolkitinstall\";\n    system(\"touch $filename 2&gt;/dev/null\");\n    if (-f $filename)\n    {\n        system(\"rm $filename\");\n        return 1;\n    } else {\n        return 0;\n    }\n}\n</code></pre>\n\n<p>I want to run something like this:</p>\n\n<pre><code>[$] filename=\"/tmp/.nvidiatoolkitinstall\" perl install-linux.pl -destdir=\"${pkgdir}\" -prefix=\"/opt/cuda\" -noprompt -nosymlink\n</code></pre>\n\n<p>But this not works</p>\n\n<p>I can do edit the script with sed:</p>\n\n<pre><code>[$] sed 's|/usr/share/applications/.nvidiatoolkitinstall|/tmp/.nvidiatoolkitinstall|g' -i install-linux.pl\n</code></pre>\n\n<p>but i want parser the variable to perl instead, like bash can do</p>\n"}, {"tags": ["regex", "perl", "strip"], "comments": [{"owner": {"reputation": 4320, "user_id": 5103620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8ae06ea53a316cc879b9100b3ff25bfc?s=128&d=identicon&r=PG", "display_name": "Sebastian Lenartowicz", "link": "https://stackoverflow.com/users/5103620/sebastian-lenartowicz"}, "edited": false, "score": 1, "creation_date": 1468688173, "post_id": 38413435, "comment_id": 64234643, "body": "What have you tried? Are <code>dvi-i</code> and <code>dvi-d</code> the only phrases you want to exclude? Or is there a &quot;whitelist&quot; of them?"}, {"owner": {"reputation": 97, "user_id": 975419, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b0df3679eb98b672b1831bbfc6081ba7?s=128&d=identicon&r=PG", "display_name": "Andrew Smith", "link": "https://stackoverflow.com/users/975419/andrew-smith"}, "reply_to_user": {"reputation": 4320, "user_id": 5103620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8ae06ea53a316cc879b9100b3ff25bfc?s=128&d=identicon&r=PG", "display_name": "Sebastian Lenartowicz", "link": "https://stackoverflow.com/users/5103620/sebastian-lenartowicz"}, "edited": false, "score": 0, "creation_date": 1468693741, "post_id": 38413435, "comment_id": 64236088, "body": "Actually a white list may be better as there may be other hyphanated terms I need to keep"}], "answers": [{"comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 1, "creation_date": 1468690549, "post_id": 38413486, "comment_id": 64235303, "body": "your regEX demo output(<b>use either<code>-</code>dvi-d or-dvi-i</b>) is not as expected as desired output ."}, {"owner": {"reputation": 97, "user_id": 975419, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b0df3679eb98b672b1831bbfc6081ba7?s=128&d=identicon&r=PG", "display_name": "Andrew Smith", "link": "https://stackoverflow.com/users/975419/andrew-smith"}, "edited": false, "score": 0, "creation_date": 1468693698, "post_id": 38413486, "comment_id": 64236075, "body": "I don&#39;t think I can use (*SKIP) in perl, it doesn&#39;t like it?"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 1, "creation_date": 1468694362, "post_id": 38413486, "comment_id": 64236227, "body": "It definitely works in <code>perl</code>, <a href=\"http://ideone.com/ecCSFb\" rel=\"nofollow noreferrer\">here is a working perl demo</a>"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 1, "creation_date": 1468695159, "post_id": 38413486, "comment_id": 64236441, "body": "I&#39;ve also added a lookaround based solution as well."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 4, "last_activity_date": 1468695144, "last_edit_date": 1468695144, "creation_date": 1468688256, "answer_id": 38413486, "question_id": 38413435, "link": "https://stackoverflow.com/questions/38413435/perl-regex-remove-hyphen-but-ignore-specific-hyphenated-words/38413486#38413486", "title": "Perl Regex Remove Hyphen but Ignore Specific Hyphenated words", "body": "<p>You can use this PCRE regex with verbs <code>(*SKIP)(*F)</code> to skip certain words from your match:</p>\n\n<pre><code>dvi-[id](*SKIP)(*F)|-\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/hG1vK5/3\" rel=\"nofollow\">RegEx Demo</a></p>\n\n<p>This will skip words <code>dvi-i</code> and <code>dvi-d</code> for splitting due to use of <code>(*SKIP)(*F)</code>.</p>\n\n<p>For your code:</p>\n\n<pre><code>$string =~ s/dvi-[id](*SKIP)(*F)|-/ /g;\n</code></pre>\n\n<p><a href=\"http://ideone.com/ecCSFb\" rel=\"nofollow\">Perl Code Demo</a></p>\n\n<hr>\n\n<p>There is an <strong>alternate lookarounds based solution</strong> as well:</p>\n\n<pre><code>/(?&lt;!dvi)-|-(?![di])/\n</code></pre>\n\n<p>Which basically means match hyphen if it is not preceded by <code>dvi</code> OR if it is not followed by <code>d</code> or <code>i</code>, thus making sure to not match <code>-</code> when we have <code>dvi</code> on LHS and <code>[di]</code> on RHS.</p>\n\n<p>Perl code:</p>\n\n<pre><code>$string =~ s/(?&lt;!dvi)-|-(?![di])/ /g;\n</code></pre>\n\n<p><a href=\"http://ideone.com/7LNnda\" rel=\"nofollow\">Perl Code Demo 2</a></p>\n"}, {"comments": [{"owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 1, "creation_date": 1468688434, "post_id": 38413503, "comment_id": 64234702, "body": "what is this? why are you using alternation?"}, {"owner": {"reputation": 4128, "user_id": 4607733, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc604aa16e5409668cc4fd1f2f0c01e2?s=128&d=identicon&r=PG&f=1", "display_name": "horcrux", "link": "https://stackoverflow.com/users/4607733/horcrux"}, "reply_to_user": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 0, "creation_date": 1468688476, "post_id": 38413503, "comment_id": 64234719, "body": "I added an explanation."}, {"owner": {"reputation": 4128, "user_id": 4607733, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc604aa16e5409668cc4fd1f2f0c01e2?s=128&d=identicon&r=PG&f=1", "display_name": "horcrux", "link": "https://stackoverflow.com/users/4607733/horcrux"}, "reply_to_user": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 0, "creation_date": 1468688644, "post_id": 38413503, "comment_id": 64234770, "body": "Maybe not <code>i-i</code>, you can&#39;t know it."}, {"owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 0, "creation_date": 1468688721, "post_id": 38413503, "comment_id": 64234791, "body": "OP says that <code>I wish to NOT replace the hyphen in dvi-d and dvi-i </code>..why are you thinking about string <code>i-i</code>?"}, {"owner": {"reputation": 4128, "user_id": 4607733, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc604aa16e5409668cc4fd1f2f0c01e2?s=128&d=identicon&r=PG&f=1", "display_name": "horcrux", "link": "https://stackoverflow.com/users/4607733/horcrux"}, "reply_to_user": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 0, "creation_date": 1468688777, "post_id": 38413503, "comment_id": 64234805, "body": "Exactly, he is talking about excluding only <code>dvi-d</code> and <code>dvi-i</code> from the match."}, {"owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 0, "creation_date": 1468688831, "post_id": 38413503, "comment_id": 64234824, "body": "so why the alternation..first condition of yours <code>(?&lt;!dvi)-(?![id])</code> is sufficient for that"}, {"owner": {"reputation": 4128, "user_id": 4607733, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc604aa16e5409668cc4fd1f2f0c01e2?s=128&d=identicon&r=PG&f=1", "display_name": "horcrux", "link": "https://stackoverflow.com/users/4607733/horcrux"}, "reply_to_user": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 0, "creation_date": 1468688898, "post_id": 38413503, "comment_id": 64234848, "body": "I&#39;ve already explained it. With just <code>(?&lt;!dvi)-(?![id])</code> you exclude even something that is not requested to be excluded."}, {"owner": {"reputation": 97, "user_id": 975419, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b0df3679eb98b672b1831bbfc6081ba7?s=128&d=identicon&r=PG", "display_name": "Andrew Smith", "link": "https://stackoverflow.com/users/975419/andrew-smith"}, "edited": false, "score": 0, "creation_date": 1468693467, "post_id": 38413503, "comment_id": 64236020, "body": "Thanks for all the replies, I tried $phrase =~ s/(?&lt;!dvi)-(?![id])/ /g; but it returned use either-dvi-d or-dvi-i it didn&#39;t remove the hyphen before the word dvi??"}, {"owner": {"reputation": 97, "user_id": 975419, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b0df3679eb98b672b1831bbfc6081ba7?s=128&d=identicon&r=PG", "display_name": "Andrew Smith", "link": "https://stackoverflow.com/users/975419/andrew-smith"}, "edited": false, "score": 0, "creation_date": 1468693633, "post_id": 38413503, "comment_id": 64236058, "body": "Then I tried  this one, s/(?&lt;!dvi)-(?![id])|dvi-(?![id])|(?&lt;!dvi)-[id]/ /g; and it returned use either vi-d or vi-i, lost the d from dvi"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1468694633, "post_id": 38413503, "comment_id": 64236302, "body": "It is not just slow it is repeating <code>dvi</code> 3 times in regex"}], "tags": [], "owner": {"reputation": 4128, "user_id": 4607733, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc604aa16e5409668cc4fd1f2f0c01e2?s=128&d=identicon&r=PG&f=1", "display_name": "horcrux", "link": "https://stackoverflow.com/users/4607733/horcrux"}, "is_accepted": false, "score": 1, "last_activity_date": 1468693742, "last_edit_date": 1468693742, "creation_date": 1468688371, "answer_id": 38413503, "question_id": 38413435, "link": "https://stackoverflow.com/questions/38413435/perl-regex-remove-hyphen-but-ignore-specific-hyphenated-words/38413503#38413503", "title": "Perl Regex Remove Hyphen but Ignore Specific Hyphenated words", "body": "<pre><code>$string =~ s/(?&lt;!dvi)-(?![id])|(?&lt;=dvi)-(?![id])|(?&lt;!dvi)-(?=[id])/ /g;\n</code></pre>\n\n<p>While using just <code>(?&lt;!dvi)-(?![id])</code> you will exclude also <code>dvi-x</code> or <code>x-i</code>, where <code>x</code> can be any character.</p>\n"}, {"comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1468694472, "post_id": 38414127, "comment_id": 64236254, "body": "It doesn&#39;t split on <code>dvi-abc</code>"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1468697239, "post_id": 38414127, "comment_id": 64237012, "body": "addition of <code>\\+</code> will solve your concern. Earlier pattern for the user example only."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1468697497, "post_id": 38414127, "comment_id": 64237086, "body": "Escaped <code>\\+</code> after <code>\\w</code> matches a literal <code>+</code>"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1468697725, "post_id": 38414127, "comment_id": 64237163, "body": "There are lots of different way to solve this kind of problem . For example <code>[0-9,a-z,A-Z]\\+</code> instead of <code>\\w\\+</code> will also work."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1468729721, "post_id": 38414127, "comment_id": 64242619, "body": "still trying to figure out what is  wrong with my code and why community people give negative feedback. It actually demotivate me to contribute."}, {"owner": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "edited": false, "score": 0, "creation_date": 1468767167, "post_id": 38414127, "comment_id": 64251373, "body": "<code>(?&lt;!\\w)</code> is a negative lookbehind, not a lookahead.  It will always succeed, because <code>-</code> is not a word character.  But <code>(?!\\w)</code> is wrong too, because the OP only cares about <code>dvi-i</code> and <code>dvi-d</code>, <b>not</b> <code>dvi-x</code> or <code>dvi-abc</code> or <code>dvi-123</code>.  Also, the &quot;one or more&quot; quantifier is <code>+</code>, not <code>\\+</code>, and the commas in <code>[0-9,a-z,A-Z]</code> are just literal commas."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "edited": false, "score": 0, "creation_date": 1468768322, "post_id": 38414127, "comment_id": 64251721, "body": "@AlanMoore - Thanks a lot for your feedback .I have updated my code."}], "tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": false, "score": -2, "last_activity_date": 1468768347, "last_edit_date": 1468768347, "creation_date": 1468692590, "answer_id": 38414127, "question_id": 38413435, "link": "https://stackoverflow.com/questions/38413435/perl-regex-remove-hyphen-but-ignore-specific-hyphenated-words/38414127#38414127", "title": "Perl Regex Remove Hyphen but Ignore Specific Hyphenated words", "body": "<p>we can ignore specific words using <strong>negative Look-ahead</strong> and <strong>negative Look-behind</strong></p>\n\n<p>Example :  </p>\n\n<pre><code>(?!pattern)\nis a negative look-ahead assertion\n</code></pre>\n\n<p>in your case the pattern is </p>\n\n<pre><code>$string =~ s/(?&lt;!dvi)-(?&lt;![id])/ /g;\n</code></pre>\n\n<p>output :</p>\n\n<pre><code>use either dvi-d or dvi-i\n</code></pre>\n\n<p>Reference : <a href=\"http://www.perlmonks.org/?node_id=518444\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=518444</a></p>\n\n<p>Hope this will help you.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1468723832, "last_edit_date": 1592644375, "creation_date": 1468723832, "answer_id": 38417463, "question_id": 38413435, "link": "https://stackoverflow.com/questions/38413435/perl-regex-remove-hyphen-but-ignore-specific-hyphenated-words/38417463#38417463", "title": "Perl Regex Remove Hyphen but Ignore Specific Hyphenated words", "body": "<p>It is unlikely that you could get a simple and straightforward regex solution to this. However, you could try the following:</p>\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy %whitelist = map { $_ =&gt; 1 } qw( dvi-d dvi-i );\n\nmy $string = 'use-either-dvi-d-or-dvi-i';\n\nwhile ( $string =~ m{ ( [^-]+ ) ( - ) ( [^-]+ ) }gx ) {\n    my $segment = substr($string, $-[0], $+[0] - $-[0]);\n    unless ( $whitelist{ $segment } ) {\n        substr( $string, $-[2], 1, ' ');\n    }\n    pos( $string ) = $-[ 3 ];\n}\n\nprint $string, &quot;\\n&quot;;\n</code></pre>\n<p>The <code>@-</code> array contains the starting offsets of matched groups, and the <code>@+</code> array contains the ends offsets. In both cases, element <code>0</code> refers to the whole match.</p>\n<p>I had to resort to something like this <a href=\"http://perldoc.perl.org/perlre.html#Assertions\" rel=\"nofollow noreferrer\">because of how <code>\\G</code> works</a>:</p>\n<blockquote>\n<p>Note also that <code>s///</code> will refuse to overwrite part of a substitution that has already been replaced; so for example this will stop after the first iteration, rather than iterating its way backwards through the string:</p>\n<pre><code>   $_ = &quot;123456789&quot;;\n   pos = 6;\n   s/.(?=.\\G)/X/g;\n   print;     # prints 1234X6789, not XXXXX6789\n</code></pre>\n</blockquote>\n<p>Maybe @tchrist can figure out how to bend various assertions to his will.</p>\n"}], "owner": {"reputation": 97, "user_id": 975419, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b0df3679eb98b672b1831bbfc6081ba7?s=128&d=identicon&r=PG", "display_name": "Andrew Smith", "link": "https://stackoverflow.com/users/975419/andrew-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1468768347, "creation_date": 1468687927, "last_edit_date": 1468721459, "question_id": 38413435, "link": "https://stackoverflow.com/questions/38413435/perl-regex-remove-hyphen-but-ignore-specific-hyphenated-words", "title": "Perl Regex Remove Hyphen but Ignore Specific Hyphenated words", "body": "<p>I have a perl regex which converts hyphens to spaces eg:-</p>\n\n<pre><code>$string =~ s/-/ /g;\n</code></pre>\n\n<p>I need to modify this to ignore specific hyphenated phrases and not replace the hyphen e.g. in a string like this:</p>\n\n<pre><code>\"use-either-dvi-d-or-dvi-i\"\n</code></pre>\n\n<p>I wish to NOT replace the hyphen in dvi-d and dvi-i so it reads:</p>\n\n<pre><code>\"use either dvi-d or dvi-i\"\n</code></pre>\n\n<p>I have tried various negative look ahead matches but failed miserably.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6597857"}, "edited": false, "score": 0, "creation_date": 1468684415, "post_id": 38412771, "comment_id": 64233559, "body": "yes, the <code>-break</code> argument should be a list of comma separated numbers, e.g. 12,23,56,112"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1468684747, "post_id": 38412771, "comment_id": 64233656, "body": "@flobo Yes, which is a single argument string. The code is written as if it expects the user to specify <code>-break 1,2 ,3, 4</code> or something like that (i.e. <code>1,2</code> and <code>,3,</code> and <code>4</code> as separate arguments)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6597857"}, "edited": false, "score": 0, "creation_date": 1468684917, "post_id": 38412771, "comment_id": 64233712, "body": "I replaced the block with what you suggested and it works without a hitch. Thank you"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 1, "last_activity_date": 1468683872, "creation_date": 1468683872, "answer_id": 38412771, "question_id": 38412658, "link": "https://stackoverflow.com/questions/38412658/sgf2dg-and-perl-use-of-uninitialized-value-in-pattern-match-m/38412771#38412771", "title": "Sgf2dg and Perl: Use of uninitialized value $_ in pattern match (m//)", "body": "<p>That's a bug in the code.</p>\n\n<p><code>$ARGV[0] =! m/[\\d,]*/</code> really means <code>$ARGV[0] = (! m/[\\d,]*/)</code>, i.e. assign the negated result of <code>m/[\\d,]*/</code> to <code>$ARGV[0]</code>. And <code>m/[\\d,]*/</code> matches against <code>$_</code> by default, but <code>$_</code> isn't set at that point.</p>\n\n<p>The less-incorrect code would be <code>$ARGV[0] =~ m/[\\d,]*/</code> (a match of <code>[\\d,]*</code> against <code>$ARGV[0]</code>), but that's semantically wrong: <code>[\\d,]*</code> always matches, so that condition would be always true.</p>\n\n<p>It looks like it's supposed to check that the argument consists of digits and commas only, for which the correct code would be <code>$ARGV[0] =~ m/\\A[\\d,]+\\z/</code>.</p>\n\n<hr>\n\n<p>However, according to the documentation, <code>-break</code> only accepts one argument, so that whole block could be replaced by:</p>\n\n<pre><code>} elsif (($arg eq '-break') or ($arg eq '-breakList')) {\n    my $breaks = shift @ARGV;\n    @{$option{breakList}} = sort {$a &lt;=&gt; $b} split(/,/, $breaks);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 9354609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ced16d70c934b41e24c97e69885453c?s=128&d=identicon&r=PG&f=1", "display_name": "fborchers", "link": "https://stackoverflow.com/users/9354609/fborchers"}, "edited": false, "score": 0, "creation_date": 1548097002, "post_id": 54295702, "comment_id": 95412809, "body": "Thx for editing. I had not been able to use quotes inside the list."}], "tags": [], "owner": {"reputation": 113, "user_id": 9354609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ced16d70c934b41e24c97e69885453c?s=128&d=identicon&r=PG&f=1", "display_name": "fborchers", "link": "https://stackoverflow.com/users/9354609/fborchers"}, "is_accepted": false, "score": 1, "last_activity_date": 1548095924, "last_edit_date": 1548095924, "creation_date": 1548094614, "answer_id": 54295702, "question_id": 38412658, "link": "https://stackoverflow.com/questions/38412658/sgf2dg-and-perl-use-of-uninitialized-value-in-pattern-match-m/54295702#54295702", "title": "Sgf2dg and Perl: Use of uninitialized value $_ in pattern match (m//)", "body": "<p>The problem has been posted online as a bug report: <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=116213\" rel=\"nofollow noreferrer\">rt.cpan.org</a>, but the suggested solution to replace one line by</p>\n\n<pre><code>my $breaks = shift @ARGV;\n</code></pre>\n\n<p>is unclear, and in any case did not work for me. </p>\n\n<hr>\n\n<p>Anyway, I have installed <code>sgf2dg</code> on a new Debian <code>Buster</code> distribution with the following steps:</p>\n\n<ol>\n<li><p>Default Install of <code>sgf2dg</code>:\nUpdate the system and use <code>autoremove</code> to uninstall unused packages. Then run</p>\n\n<pre><code>apt-get install sgf2dg\napt-get remove sgf2dg\n</code></pre>\n\n<p><code>apt</code> will then mark a couple of packages for <code>autoremove</code>, but you want to keep them. Again use <code>apt</code> to mark them as manual install.<br>\nThen add </p>\n\n<pre><code>apt-get install libfile-slurp-perl\n</code></pre>\n\n<p>because you will need it later.</p></li>\n<li><p>Download and Install the latest version  </p>\n\n<p>Browse <a href=\"https://metacpan.org/pod/distribution/Games-Go-Sgf2Dg/lib/Games/Go/Sgf2Dg.pm\" rel=\"nofollow noreferrer\">to cpan</a> to download and install the latest version of <code>sgf2dg</code>.<br>\nIf there is an error with the <code>Makefile</code> it may help to delete an empty line with only <code>' '</code> in it. </p></li>\n<li><p>Repair the installed Perl File<br>\nLocate the file</p>\n\n<pre><code>find / -name Sgf2Dg.pm\n</code></pre>\n\n<p>and repair it as suggested by the above solution. This will repair the <code>-break</code> bug in the code.</p></li>\n<li><p>(Optional) Higher Level Commands for Annotating Go Diagrams<br>\nCheck the suggestions <a href=\"https://tex.stackexchange.com/questions/348772/typesetting-go-diagrams-with-sgf2dg\">here on tex.stackexchange.com</a>.</p></li>\n</ol>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6597857"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "accepted_answer_id": 38412771, "answer_count": 2, "score": -1, "last_activity_date": 1548095924, "creation_date": 1468683259, "question_id": 38412658, "link": "https://stackoverflow.com/questions/38412658/sgf2dg-and-perl-use-of-uninitialized-value-in-pattern-match-m", "title": "Sgf2dg and Perl: Use of uninitialized value $_ in pattern match (m//)", "body": "<p>As the title of my question suggests, I encountered the following problem:</p>\n\n<blockquote>\n  <p>Use of uninitialized value $_ in pattern match (m//)</p>\n</blockquote>\n\n<p>in line 1416 of <a href=\"http://cpansearch.perl.org/src/REID/Games-Go-Sgf2Dg-4.252/lib/Games/Go/Sgf2Dg.pm\" rel=\"nofollow\">Sgf2Dg.pm</a>\nof the sgf2dg package.\nThere it says:</p>\n\n<pre><code>} elsif (($arg eq '-break') or ($arg eq '-breakList')) {\n    my $breaks = '';\n    while (@ARGV and\n           $ARGV[0] =! m/[\\d,]*/) {\n        $breaks .= shift @ARGV;\n    }\n    @{$option{breakList}} = sort {$a &lt;=&gt; $b} split(/,/, $breaks);\n</code></pre>\n\n<p>Therefore I suppose the problem has something to do with the pattern match <code>=! m/[\\d,]*/</code>, but I don't know enough <code>perl</code> to deal with this myself, nor enough to present you with a simple MWE :(</p>\n\n<hr>\n\n<p>I have installed sgf2dg and it runs without a problem. I can use all the options except for the <code>-break</code> one, but that's the one I want. On Linux terminal:</p>\n\n<blockquote>\n  <p>sgf2dg -break 0 test.sgf</p>\n</blockquote>\n\n<p>where <code>test.sgf</code> is a typical <a href=\"http://www.red-bean.com/sgf/\" rel=\"nofollow\">smart game format file</a>. Without the <code>-break 0</code> option it runs without any problem.</p>\n\n<p>For your convenience I attach an sgf file here:</p>\n\n<pre><code>(;GM[1]FF[4]CA[UTF-8]AP[CGoban:3]ST[2]\nRU[Japanese]SZ[19]KM[0.00]\nAW[qm][oo][po][qo][ro][op][mq][oq][or]AB[pp][qp][rp][pq][pr]PL[W]\n;W[rr]\n;B[rs]\n;W[rq]\n;B[sp]\n;W[ps]\n;B[qs]\n;W[os]\n;B[qr]\n;W[sq]\n;B[sr]\n;W[ss])\n</code></pre>\n"}, {"tags": ["pipe", "signals", "freebsd", "perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1468687278, "post_id": 38411320, "comment_id": 64234379, "body": "<code>waitpid</code> can return -1, so that could put this code into an infinite loop"}], "answers": [{"tags": [], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "is_accepted": true, "score": 0, "last_activity_date": 1468673520, "creation_date": 1468673520, "answer_id": 38411410, "question_id": 38411320, "link": "https://stackoverflow.com/questions/38411320/perl-open2-together-with-sigchld-deadlock/38411410#38411410", "title": "Perl open2() together with SIGCHLD, deadlock?", "body": "<p>From <a href=\"http://man7.org/linux/man-pages/man7/pipe.7.html\" rel=\"nofollow\">http://man7.org/linux/man-pages/man7/pipe.7.html</a> (not FreeBSD, but I think this does not matter; after all there is the possibility that we may change our OS).</p>\n\n<p><strong>Pipe capacity</strong>\nA pipe has a limited capacity.  If the pipe is full, then a write(2) will block or fail, depending on whether the O_NONBLOCK flag is set (see below).</p>\n\n<p>Thus follows that the child process may \"hang\" attempting to write data to us and as a dealock we could infinitely wait when it terminates.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1468737722, "last_edit_date": 1468737722, "creation_date": 1468690731, "answer_id": 38413868, "question_id": 38411320, "link": "https://stackoverflow.com/questions/38411320/perl-open2-together-with-sigchld-deadlock/38413868#38413868", "title": "Perl open2() together with SIGCHLD, deadlock?", "body": "<blockquote>\n  <p><em>May writing to a PIPE (which is opened at both sides and is not going to be closed) block (if the other side does not read it)?</em></p>\n</blockquote>\n\n<p>Most definitely. Pipes have a finite capacity, and writes to the pipe will block if the pipe is full. </p>\n\n<p>For example, the following might happen in the child:</p>\n\n<ol>\n<li>Writes to STDOUT</li>\n<li>Writes to STDOUT</li>\n<li>...</li>\n<li>Writes to STDOUT</li>\n<li>Tries to write to STDOUT, but the pipe is full, so it blocks until the pipe is emptied some. </li>\n</ol>\n\n<p>If this happens, the child will remain blocked indefinitely (and thus never exit) because the parent doesn't read from the pipe until the child exits. This isn't technically a <a href=\"https://en.wikipedia.org/wiki/Deadlock\" rel=\"nofollow\">deadlock</a> since the parent is still free to do whatever it wants, but it's definitely a problem.</p>\n\n<p>Note: If the child makes the handle non-blocking, the write will fail instead of blocking.</p>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 1, "accepted_answer_id": 38411410, "answer_count": 2, "score": 1, "last_activity_date": 1468737722, "creation_date": 1468672917, "last_edit_date": 1468673329, "question_id": 38411320, "link": "https://stackoverflow.com/questions/38411320/perl-open2-together-with-sigchld-deadlock", "title": "Perl open2() together with SIGCHLD, deadlock?", "body": "<p>From a Perl script on FreeBSD I open several child processes with <code>IPC::Open2::open2()</code>, passing to each process its \"parameters\" through its stdin (probably I should close stdin after this) and also I do:</p>\n\n<pre><code>sub handle_SIGCHLD {\n  for(;;) {\n    my $kid = waitpid(-1, WNOHANG);\n    break if $kid == 0;\n    my $KidOutputFD = ...; # I stored the kid's output pipe FD earlier in the program\n    my $KidOutput = read_file($KidOutputFD); # use File::Slurp\n    # process $KidOutput\n  }\n}}\n\n$SIG{'CHLD'} = \\&amp;handle_SIGCHLD;\n</code></pre>\n\n<p>Now the question: Can something in code like this cause a deadlock? I prefer to read the output of the kid not as it arrives, but when it terminates to read the entire output; may it cause problems?</p>\n\n<p>Also the \"parameters\" I pass to a kid through stdin may be a long string. I am going to pass the entire string through one <code>print</code> operator with FD of the child stdin. Can it block in the middle of writing the parameters to the script?</p>\n\n<p>What else should I do to be sure of no deadlocks? Maybe should I handle SIGPIPE? (I would not like to do it, too much work for simple transforming an input string into output string by a child process Is there a simpler way?)</p>\n\n<p>Also note that I span multiple child processes. Sometimes I wait when a process terminates, sometimes I kill a child process with SIGTERM.</p>\n\n<hr>\n\n<p>More specific question: May writing to a PIPE (which is opened at both sides and is not going to be closed) block (if the other side does not read it)?</p>\n"}, {"tags": ["perl", "range"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1468664892, "post_id": 38409547, "comment_id": 64228484, "body": "The <code>&lt;&gt;</code> at the end of your print statement is unnecessary."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1468664916, "post_id": 38409547, "comment_id": 64228492, "body": "You are missing the code which prints out the results."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1468665039, "post_id": 38409547, "comment_id": 64228530, "body": "Your problem is likely due to the <code>while ( $x ne 1 )</code> which might not be true due to floating point rounding.  You should use <code>!=</code> for numeric comparison, instead of <code>ne</code> which is a string comparison.  Maybe change it to <code>while ( $x &lt;= 1 )</code>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1468668156, "creation_date": 1468668156, "answer_id": 38410674, "question_id": 38409547, "link": "https://stackoverflow.com/questions/38409547/probability-frequency-distribution-with-window-size-0-1-increments-wrong-bucket/38410674#38410674", "title": "Probability frequency distribution with window size 0.1 increments wrong bucket", "body": "\n\n<p>First of all, it's always a bad idea to use string comparators like <code>eq</code>, <code>ne</code> and <code>lt</code> for comparing numeric values. It makes Perl convert the values into a string and compare the characters on-by-one instead of just comparing the numbers directly.</p>\n\n<p>Also, you can never compare floating-point numbers for equality, because a value like 0.1 cannot be represented precisely in Intel floating point. This applies especially when the values are the result of a series of additions because adding, for instance, ten copies of 0.1 together will result in ten times the error that each one of those values had</p>\n\n<p>You could allow an arbitrary margin of error, such as</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>if ( abs($x - $y) &lt; 0.00001 ) { ... }\n</code></pre>\n\n<p>but that's clumsy and inexpressive</p>\n\n<p>By far the best way with sequences like this is to keep all the arithmetic in integer format. In my answer below I've changed from using <em>window size</em> <code>$p_win</code> to <em>number of windows</em> <code>$num_win</code>, which is always an integer. Then the array index <code>$i</code> for a given probability <code>$p</code> is just <code>$i = int $p * $num_win</code></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nprint \"Enter the number of windows: \";\nmy $num_win = &lt;&gt;;\n\nif ( $num_win and $num_win =~ /\\S/ ) {\n    chomp $num_win;\n}\nelse {\n    $num_win = 10;  # Default to ten windows\n}\n\nprintf \"\\nCalculating for %d Windows\\n\", $num_win;\n\nmy @count;\n$_ = 0 for @count[0 .. $num_win];\n\nopen my $fh, '&lt;', 'new.txt' or die $!;\n\nwhile ( &lt;$fh&gt; ) {\n\n    next if $. == 1;\n    next unless /\\S/;\n\n    my @fields = split;\n    my $i;\n\n    if ( $fields[3] eq 'NA' ) {\n        $i = $#count;\n    }\n    else {\n        $i = int $fields[4] * $num_win;\n        --$i if $i == $#count;\n    }\n\n    ++$count[$i];\n}\n\nfor my $i (0 .. $#count ) {\n\n    if ( $i &lt; $#count ) {\n        printf \"%.2f &lt;= p &lt; %.2f  count %d\\n\", $i/$num_win, ($i+1)/$num_win, $count[$i];\n    }\n    else {\n        printf \"%.2f (NA)         count %d\\n\", $i/$num_win, $count[$i];\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Enter the number of windows: \nCalculating for 10 Windows\n0.00 &lt;= p &lt; 0.10  count 1\n0.10 &lt;= p &lt; 0.20  count 3\n0.20 &lt;= p &lt; 0.30  count 4\n0.30 &lt;= p &lt; 0.40  count 2\n0.40 &lt;= p &lt; 0.50  count 2\n0.50 &lt;= p &lt; 0.60  count 2\n0.60 &lt;= p &lt; 0.70  count 1\n0.70 &lt;= p &lt; 0.80  count 1\n0.80 &lt;= p &lt; 0.90  count 2\n0.90 &lt;= p &lt; 1.00  count 4\n1.00 (NA)         count 2\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 3604793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c270d7f47c42519d40ae72d1a0c368?s=128&d=identicon&r=PG&f=1", "display_name": "user3604793", "link": "https://stackoverflow.com/users/3604793/user3604793"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1468668533, "creation_date": 1468660242, "last_edit_date": 1468668533, "question_id": 38409547, "link": "https://stackoverflow.com/questions/38409547/probability-frequency-distribution-with-window-size-0-1-increments-wrong-bucket", "title": "Probability frequency distribution with window size 0.1 increments wrong bucket", "body": "<p>I did not use only the equal operator to do so, because the user input for the window size can vary.</p>\n\n<pre><code>print\"Enter the window size\";\nmy $p_win=&lt;&gt;;#window size can vary according to the user's requirement\nchomp($p_win);\n\nmy $x=0;\nmy $y=$x+$p_win;\nmy $i=0;\nmy @count;\n#initializing the value of the count for all the ranges as 0\nwhile($x ne 1)\n{\n    $count[$i]=0;\nprint \"$x&gt;= p &gt;$y\\t$count[$i]=\\n\";&lt;&gt;;\n    $x=$x+$p_win;\n    $y=$y+$p_win;\n    $i++;\n}\n$count[$i]=0;# count where the value of D is NA and E is 1\nmy $na=$i;  \n\nopen(F1,\"new.txt\");\nmy $flag=0;\nmy (@a,@b);\nwhile(&lt;F1&gt;)\n{\n    if($flag == 0)\n    {\n        $flag++;#first line of the new.txt\n    }\n    else\n    {\n        chomp($_);\n        my @a=split(/\\t/,$_);\n        $x=0;\n        $y=$x+$p_win;\n        for($i=0; $i&lt;scalar(@count)-1; $i++)\n        {\n            if($a[3] eq 'NA')\n            {\n                $count[$na]++;                  \n                $i=scalar(@count);\n            }\n            else\n            {\n                if($x le $a[4] &amp;&amp; $a[4]&lt;$y)\n                {\n                    $count[$i]++;               \n                    $i=scalar(@count);\n                }\n                my $t=scalar(@count)-2;\n                if($i== $t)\n                {               \n                    if($a[4] eq $y)\n                    {\n                        $count[$i]++;\n                    }           \n                }\n            }\n            $x=$x+$p_win;\n            $y=$y+$p_win;\n        }\n\n    }\n}\n</code></pre>\n\n<p><code>new.txt</code> is in the given format. The frequency distribution of <code>e</code> is to be generated:</p>\n\n<pre><code>a   b   c   d   e\n1   2   4   5   0.1\n1   2   3   4   0.2\n1   2   4   5   0.9\n1   2   3   4   0\n1   2   4   NA  1\n1   2   3   4   0.2\n1   2   4   5   0.3\n1   2   3   4   0.9\n1   2   4   5   0.8\n1   2   3   4   0.7\n1   2   4   5   0.6\n1   2   3   4   0.5\n1   2   4   5   0.4\n1   2   3   4   0.2\n1   2   4   5   0.1\n1   2   3   4   1\n1   2   4   5   0.9\n1   2   3   4   0.8\n1   2   4   NA  1\n1   2   3   4   0.4\n1   2   4   5   0.5\n1   2   3   4   0.2\n1   2   4   5   0.3\n1   2   3   4   0.1\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>0 &gt;= p &gt; 0.1    1\n0.1 &gt;= p &gt; 0.2  3\n0.2 &gt;= p &gt; 0.3  6#count of 0.3-0.4 is also added here\n0.3 &gt;= p &gt; 0.4  0\n0.4 &gt;= p &gt; 0.5  2\n0.5 &gt;= p &gt; 0.6  2\n0.6 &gt;= p &gt; 0.7  1\n0.7 &gt;= p &gt; 0.8  1\n0.8 &gt;= p &gt; 0.9  2\n0.9 &gt;= p &gt;= 1   4\nNA 1     2\n</code></pre>\n"}, {"tags": ["sql", "oracle", "perl"], "comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 2, "creation_date": 1468657408, "post_id": 38409158, "comment_id": 64226754, "body": "Don&#39;t use backticks to get the date when you have perl builtin <code>localtime</code>. Why do this at all when you can use the Oracle built in for dates. Don&#39;t use backticks to automate sqlplus. use <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow noreferrer\">DBI</a>/with <a href=\"https://metacpan.org/pod/DBD::Oracle\" rel=\"nofollow noreferrer\">DBD::Oracle</a> along with bind variables and placeholders (see <a href=\"http://bobby-tables.com/\" rel=\"nofollow noreferrer\">bobby-tables.com</a> for example). Some variables in the above are undefined in your script provided. <code>if($a eq &quot;Y&quot; || $a eq &quot;y&quot;)</code> is better written <code>if ( uc( $a ) eq &#39;Y&#39; ){</code> but be aware that <code>$a</code> is a <a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\">special variable</a>"}, {"owner": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "reply_to_user": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1468659060, "post_id": 38409158, "comment_id": 64227074, "body": "Avalanche, Sorry,It&#39;s a typo mistake, now i gave coorectly like    select case when &#39;$start_dt&#39; &gt; &#39;$end_dt&#39; then 1 else 0 ||&#39;,&#39;|| when &#39;$end_dt&#39; &gt; &#39;$dt&#39; then 2 else 3 end from dual;  and for the variable a i gave my $a =&lt;&gt;; even though this code is not executing at all"}, {"owner": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "reply_to_user": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1468659762, "post_id": 38409158, "comment_id": 64227228, "body": "Yes Dr.Avalanche oracle has built in dates, but my situation is user will give the dates like from and to dates ( 01-JUL-16 15-JUL-16 ), in this case i need to validate the dates, Basically i&#39;m C programmer for an urgent issue i need to write this code, though i&#39;m not Perl programmer. Need some help Bro"}, {"owner": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "edited": false, "score": 0, "creation_date": 1468664525, "post_id": 38409158, "comment_id": 64228389, "body": "Really stupid way of programming. Why do you use <code>`sqlplus...`</code> instead of Perl DBD::Oracle module? Why do you use Oracle at all? You select from <code>dual</code> to compare two dates! Use basic perl functions for that. Maybe the <a href=\"http://search.cpan.org/~drolsky/DateTime-1.34/lib/DateTime.pm\" rel=\"nofollow noreferrer\">DateTime</a> module helps you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468664935, "post_id": 38409158, "comment_id": 64228500, "body": "When you say <i>&quot;unfortunately it is not working&quot;</i> you mean it doesn&#39;t even compile, and your indenting is dreadful. So you haven&#39;t even bothered creating something that you can start to debug before you post your attempt online for others to fix. What do you normally do when you need something that you don&#39;t have the skills for, and it&#39;s not software? You don&#39;t see authors posting a half-finished story on line and asking for help to get it readable."}, {"owner": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "edited": false, "score": 0, "creation_date": 1468665948, "post_id": 38409158, "comment_id": 64228744, "body": "@Wernfrid  <code>sqlplus...</code> it&#39;s kind of base code, already we have scripts they used the same fashion so that i used, i&#39;m new to SQL and Perl"}, {"owner": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "edited": false, "score": 0, "creation_date": 1468667479, "post_id": 38409158, "comment_id": 64229144, "body": "It is getting compiled and my sql query also returns the correct result, Now the problem is i&#39;m not able to fetch and validate correctly, I have removed  next if !/HCL/; in side for loop   Now the loop is getting called 1 time before it&#39;s gtting called 3 times  not sure why? and also it is not called the proper if condition. I gave two arguments 01-Jul-16 as start date and 01-Jun-16 as end date, but it is always executing the negative case. I think something wrong in if condition"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468670121, "post_id": 38409158, "comment_id": 64229821, "body": "@Siva: The code that you have posted here will not compile. If your original version is compiling then please copy and paste that instead."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "edited": false, "score": 0, "creation_date": 1468673409, "post_id": 38411301, "comment_id": 64230729, "body": "I debugged and achieved some progress, I have a script wich will do tax caluculation, now the requirement is i need to validate the dates that user gives. Coming to the problem that i&#39;m facing now is         my sql query showing the wrong result                                   select case when &#39;01-JUN-16&#39; &gt; &#39;01-Sep-16&#39; then &#39;1&#39; else &#39;0&#39; end, case when &#39;01-JUN-16&#39; &gt; &#39;01-AUG-16&#39; then &#39;2&#39; else &#39;3&#39; end from DUAL;  Out put: 0,2"}, {"owner": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "edited": false, "score": 0, "creation_date": 1468674392, "post_id": 38411301, "comment_id": 64231006, "body": "I tried ur code snippet but facing some issue, It&#39;s always calling &quot;st dt less than end_dt&quot;  my input was 01-SEP-16 01-JUN-16"}, {"owner": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "edited": false, "score": 0, "creation_date": 1468676263, "post_id": 38411301, "comment_id": 64231451, "body": "I found the issue when we give start date like 21-JUN-16 and end date like 15-JUL-16 it is checking the first number ex:  21&gt;15 even for month also it is treating like that only Ex: Mar&gt;JUL                 How to resolve this any idea @Wernfried"}], "tags": [], "owner": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "is_accepted": false, "score": -1, "last_activity_date": 1468672797, "creation_date": 1468672797, "answer_id": 38411301, "question_id": 38409158, "link": "https://stackoverflow.com/questions/38409158/i-need-to-write-a-oracle-sql-query-as-from-date-to-date-and-i-should-exit-if-i/38411301#38411301", "title": "I need to write a oracle sql query as from date &lt; to date and i should exit if it&#39;s a future date in Perl", "body": "<p>It is really difficult to guess what you try to achieve with this program. This little Perl script would do the same as your code but without any interaction with Oracle:</p>\n\n<pre><code>use POSIX qw(strftime);\n$dt = strftime('%Y-%m-%d', localtime);\n\nif ( $start_dt &gt; $end_dt ) {\n    die \"start dat is greater than end date\\n\";\n} else {\n    print \"st dt less than end_dt\";\n}\n\nif ( $end_dt &gt; $dt ) {\n    print \"you gave future date, u wnat proced [Y/N] \\n\";\n    $a = &lt;&gt;;\n    if ( $a eq \"Y\" || $a eq \"y\" ) {\n        print \"u gave yes\\n\";\n    } else {\n        die \"exiting due to futur date\\n\";\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "edited": false, "score": 0, "creation_date": 1468696526, "post_id": 38414490, "comment_id": 64236816, "body": "ThanQ so much Perl King, this is working except when month in small letters, So now i need to take a user input whether the future date is fine for him or not If he give Yes i need to proceed if no i need to exit. searching for that code/syntax in online. Because today only i started perl programming for an urgent issue"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "edited": false, "score": 0, "creation_date": 1468697381, "post_id": 38414490, "comment_id": 64237055, "body": "@siva You&#39;re welcome. I updated the answer with calls to <code>uc</code> (upper case). It might be written simpler but this way it might be easier for you to follow/understand the code."}, {"owner": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "edited": false, "score": 0, "creation_date": 1468697822, "post_id": 38414490, "comment_id": 64237201, "body": "Bro, Sorry to say it&#39;s difficult to understand/learn perl in a day, so that i asked help. for the user input i&#39;m thinking the code something like print&quot;u gave future date u want proceed [Y/N]&quot;;  $user_input = &lt;&gt;; if ( $user_input eq &quot;Y&quot; || $user_input eq &quot;y&quot;){ print&quot;proceed&quot;; } else{die &quot;exiting due to future date&quot;;}"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "edited": false, "score": 0, "creation_date": 1468698324, "post_id": 38414490, "comment_id": 64237332, "body": "@Siva Hmm... was your last comment a question? There&#39;s (almost) nothing wrong with your attempt but <code>$user_input = &lt;&gt;;</code> will contain the trailing newline <code>\\n</code>, so drop that with <code>chomp($user_input);</code> before comparing."}, {"owner": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "edited": false, "score": 0, "creation_date": 1468698614, "post_id": 38414490, "comment_id": 64237419, "body": "Bro, it&#39;s throwing some error   [vlltcmpsclrdap01]/home/imasdev&gt; 2TaxExt.pl 11-JUN-16 16-JUL-17 Start and end date are :11-JUN-16,16-JUL-17 end date is in the future, you want to proceed: [Y/N] Can&#39;t open 11-JUN-16: No such file or directory at ./2TaxExt.pl line 77. Can&#39;t open 16-JUL-17: No such file or directory at ./2TaxExt.pl line 77. exiting due to future end date, pls give today&#39;s or past date [vlltcmpsclrdap01]/home/imasdev&gt;"}, {"owner": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "edited": false, "score": 0, "creation_date": 1468699473, "post_id": 38414490, "comment_id": 64237643, "body": "King : Anything wrong in this code snippet?                                                                            if ($end_dte gt $dte) {     print &quot;end date is future, u want to go: [Y/N]\\n&quot;;     my $user_input_future = &lt;&gt;;     chomp($user_input_future);     if($user_input_future eq &quot;Y&quot; || $user_input_future eq &quot;y&quot;)     {         print&quot;going with future date\\n&quot;;     } else {         die&quot;exiting due to future date\\n&quot;;     }  } elsif ($start_dte le $end_dte) {     print &quot;start date is ls than or eq to end date\\n&quot;; } else {     die &quot;start date is gt than end date\\n&quot;; }"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "edited": false, "score": 0, "creation_date": 1468699541, "post_id": 38414490, "comment_id": 64237664, "body": "@Siva Look, I tried to answer your original question. To my understanding it boiled down to <i>&quot;How do I compare three dates?&quot;</i>. If you have further questions, please post another question, like <i>&quot;How do I open a file for reading although it does not exist?&quot;</i> (you see??)"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "edited": false, "score": 0, "creation_date": 1468700484, "post_id": 38414490, "comment_id": 64237896, "body": "I cannot tell whether your snippet is wrong or not. It compiles (with warnings, but it compiles). You said you&#39;re a C programmer so you must be familiar with <code>if \u2026 then \u2026 else \u2026</code> statements. They are not different in Perl. Just apply the same logic as you would in C."}, {"owner": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "edited": false, "score": 0, "creation_date": 1468700789, "post_id": 38414490, "comment_id": 64237966, "body": "Same like C only i wrote in perl also :), while debugging it seems input is not able to take the input from user/console and it is throwing error. Or may be the if condition is wrong."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 0, "last_activity_date": 1468697170, "last_edit_date": 1468697170, "creation_date": 1468694908, "answer_id": 38414490, "question_id": 38409158, "link": "https://stackoverflow.com/questions/38409158/i-need-to-write-a-oracle-sql-query-as-from-date-to-date-and-i-should-exit-if-i/38414490#38414490", "title": "I need to write a oracle sql query as from date &lt; to date and i should exit if it&#39;s a future date in Perl", "body": "<p>As far as I understand your question you want to compare <code>$start_dt</code>, <code>$end_dt</code>, and <code>$dt</code>.</p>\n\n<p>It would make things easier if you'd told us <em>exactly</em> what the actual values of these variables are (and ideally how they are obtained). For the future, please state their <em>exact</em> format. \"<em>Like</em> 01-JUL-16\" is not something a Perl program can interpret without further details. The expression \"1-July-2016\" is also <em>like</em> \"01-JUL-16\" -- somehow, at least.</p>\n\n<p>Having said that, I suggest the following code. It firstly converts the user input into values that are easier to compare and then does so with simple string comparison operators.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse POSIX qw(strftime);\n\n# data from user input\nmy $start_dt = '01-JUL-16';\nmy $end_dt   = '12-JUL-16';\n\n# convert user input to upper case (\"uc\") in case the input is mixed\n# and/or lower case. for lower case use \"lc\" and adjust the line\n# with \"%MONTH_NUMBERS = ...\" accordingly.\n$start_dt = uc($start_dt);\n$end_dt   = uc($end_dt);\n\n# create a hash with \"JAN=&gt;1, FEB=&gt;2, MAR=&gt;3, ...\" in your current locale\nmy %MONTH_NUMBERS = map { uc( POSIX::strftime( \"%b\", 0, 0, 0, 1, $_ - 1, 95 ) ) =&gt; $_ } ( 1 .. 12 );\n\n# returns \"now\" in the format 'YYYY-MM-DD' (e.g. for today '2016-07-16')\nmy $dt = POSIX::strftime( '%Y-%m-%d', localtime() );\n\n# convert $start_dt and $end_dt into 'YYYY-MM-DD'.\n# This assumes your input years are in the range 00-99 and actually mean 2000-2099.\n# If that's wrong, then you need to adjust the \"2000+$3\" part.\n$start_dt =~ s/(\\d\\d)-(\\D\\D\\D)-(\\d\\d)/ sprintf('%d-%02d-%02d', 2000+$3, $MONTH_NUMBERS{$2}, $1) /e;\n$end_dt =~ s/(\\d\\d)-(\\D\\D\\D)-(\\d\\d)/ sprintf('%d-%02d-%02d', 2000+$3, $MONTH_NUMBERS{$2}, $1) /e;\n\n# now the values are:\n#   dt       : 2016-07-16\n#   start_dt : 2016-07-01\n#   end_dt   : 2016-07-12\n\n# you can compare them now with simple string operations, i.e. 'le', 'eq', 'gt' and so forth:\nif ($end_dt gt $dt) {\n    print \"end date is in the future\\n\";\n} elsif ($start_dt le $end_dt) {\n    print \"start date is less than or equal to end date\\n\";\n} else {\n    print \"start date is greater than end date\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5282606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6hdD.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/5282606/siva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 38414490, "answer_count": 2, "score": -2, "last_activity_date": 1468697170, "creation_date": 1468656411, "last_edit_date": 1592644375, "question_id": 38409158, "link": "https://stackoverflow.com/questions/38409158/i-need-to-write-a-oracle-sql-query-as-from-date-to-date-and-i-should-exit-if-i", "title": "I need to write a oracle sql query as from date &lt; to date and i should exit if it&#39;s a future date in Perl", "body": "<p>I have a perl script to fetch the data from Db in a particular period for that i need to write a script to validate the, user asking period dates are valid or not</p>\n<p>Start and end dates are tacking from user like 01-JUL-16 12-JUL-16, below is my\ncode that i wrote, unfortunately it is not working, not sure why</p>\n<pre><code>my $dt=`date +%d-%m-%Y`;\nchop $dt;\nmy @res1 = `sqlplus -S $logon &lt;&lt;EOF\nset echo off\nset heading off\nselect case when '$start_dt' &gt; '$end_dt' then 1 else 0 ||','|| when `$end_dt' &gt; '$dt' then 2 else 3 end from dual;\nquit;\nEOF`;\n\nforeach( @res1 )\n{\n chop;\nnext if /^$/;\nnext if !/HCL/;\nmy @fields = undef;\n@fields = split(/\\s+/,$_);\nif ( $fields[0] eq &quot;1&quot;)\n  {\n   die&quot;start dat is greater than end date\\n&quot;;\n  }\n  else\n  {\n   print&quot;st dt less than end_dt&quot;;\n  }\n  if( $fields[1] eq &quot;2&quot;)\n      {\n        print&quot;you gave future date, u wnat proced [Y/N] \\n&quot;\n        $a=&lt;&gt;;\n        if($a eq &quot;Y&quot; || $a eq &quot;y&quot;)\n         {\n          print&quot;u gave yes\\n&quot;;\n         }\n          else\n           {\n             die &quot;exiting due to futur date\\n&quot;\n            }\n      }\n}\n</code></pre>\n<br/>\n<h3>Update</h3>\n<p>Perl reformatted to make it readable</p>\n<pre><code>my $dt = `date +%d-%m-%Y`;\nchop $dt;\n\nmy @res1 = `sqlplus -S $logon &lt;&lt;EOF\nset echo off\nset heading off\nselect case when '$start_dt' &gt; '$end_dt' then 1 else 0 ||','|| when `$end_dt' &gt; '$dt' then 2 else 3 end from dual;\nquit;\nEOF`;\n\nforeach (@res1) {\n\n    chop;\n\n    next if /^$/;\n    next if !/HCL/;\n\n    my @fields = undef;\n    @fields = split( /\\s+/, $_ );\n\n    if ( $fields[0] eq &quot;1&quot; ) {\n        die &quot;start dat is greater than end date\\n&quot;;\n    }\n    else {\n        print &quot;st dt less than end_dt&quot;;\n    }\n\n    if ( $fields[1] eq &quot;2&quot; ) {\n\n        print &quot;you gave future date, u wnat proced [Y/N] \\n&quot;\n        $a = &lt;&gt;;\n\n        if ( $a eq &quot;Y&quot; || $a eq &quot;y&quot; ) {\n            print &quot;u gave yes\\n&quot;;\n        }\n        else {\n            die &quot;exiting due to futur date\\n&quot;;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["ajax", "bash", "perl", "ssh", "real-time"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1468608961, "post_id": 38403022, "comment_id": 64214919, "body": "I would use WebSockets instead of AJAX."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468609448, "post_id": 38403022, "comment_id": 64215149, "body": "If you did use a persistent connection (e.g. WebSockets), then you could use File::Tail itself."}, {"owner": {"reputation": 97, "user_id": 3861269, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/44651c982c81d4a9873d43177200b66c?s=128&d=identicon&r=PG&f=1", "display_name": "idleonbench", "link": "https://stackoverflow.com/users/3861269/idleonbench"}, "edited": false, "score": 0, "creation_date": 1468620354, "post_id": 38403022, "comment_id": 64219773, "body": "Would you guys mind elaborating a bit more on websockets? I don&#39;t really think my program uses it atm (or I could be wrong)"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1469349536, "last_edit_date": 1469349536, "creation_date": 1468608855, "answer_id": 38403302, "question_id": 38403022, "link": "https://stackoverflow.com/questions/38403022/is-it-possible-to-use-perl-ajax-to-read-a-file-line-by-line-while-the-file-is-wr/38403302#38403302", "title": "Is it possible to use perl/ajax to read a file line by line while the file is written by another program?", "body": "<p>Ignoring AJAX for a second, a Perl program would normally use <a href=\"http://search.cpan.org/perldoc?File::Tail\" rel=\"nofollow\">File::Tail</a>.</p>\n\n<p>With AJAX, you'd probably have to reimplement File::Tail. The following is a basic version:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse CGI          qw( );\nuse Fcntl        qw( SEEK_SET );\nuse Text::CSV_XS qw( decode_json encode_json );\n\nmy $qfn = '...';\n\n{\n   my $cgi = CGI-&gt;new();\n   my $request = decode_json( $cgi-&gt;param('POSTDATA') || '{}' );\n   my $offset = $request-&gt;{offset} || 0;\n\n   open(my $fh, '&lt;:raw', $qfn)\n      or die(\"Can't open \\\"$qfn\\\": $!\\n\");\n\n   seek($fh, $offset, SEEK_SET)\n      or die(\"Can't seek: $!\\n\");\n\n   my $data = '';\n   while (1) {\n      my $rv = sysread($fh, $data, 64*1024, length($data));\n      die(\"Can't read from \\\"$qfn\\\": $!\\n\") if !defined($rv);\n      last if !$rv;\n   }\n\n   $offset .= length($data);\n\n   print($cgi-&gt;header('application/json'));\n   print(encode_json({\n      data   =&gt; $data,\n      offset =&gt; $offset,\n   }));\n}\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 3861269, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/44651c982c81d4a9873d43177200b66c?s=128&d=identicon&r=PG&f=1", "display_name": "idleonbench", "link": "https://stackoverflow.com/users/3861269/idleonbench"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 1, "accepted_answer_id": 38403302, "answer_count": 1, "score": 4, "last_activity_date": 1469349536, "creation_date": 1468607700, "last_edit_date": 1495541696, "question_id": 38403022, "link": "https://stackoverflow.com/questions/38403022/is-it-possible-to-use-perl-ajax-to-read-a-file-line-by-line-while-the-file-is-wr", "title": "Is it possible to use perl/ajax to read a file line by line while the file is written by another program?", "body": "<p>It is similar to the question being asked here<a href=\"https://stackoverflow.com/questions/23287537/how-to-read-from-file-line-by-line-using-ajax-request-while-file-is-written-by-o\">How to read from file line by line using ajax request while file is written by other program using java?</a> I have a file that will be populated with command line outputs generated from  a remote machine. What I would like to do is every time something gets written in the file, I want to use perl (or javascript but I am quite dubious about it) to capture it and display what is being written in an opened webpage. Ideally each line should be shown in the html as soon as it is written in the file like the way how it is generated in the terminal. </p>\n\n<p>My difficulty is that I am not sure how I should do the polling - detecting something is being written in the file - and how I can capture the line at real time. </p>\n\n<p>That being said, another possibility I have thought of is to change my script on the remote machine and dump the terminal output into a div of my website. This would avoid writing, reading and realtime polling but not even sure if this is possible?</p>\n"}, {"tags": ["perl", "module", "circos"], "comments": [{"owner": {"reputation": 670, "user_id": 4587209, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NWUgV8JWbK0/AAAAAAAAAAI/AAAAAAAAAAA/O5jTxfpdW4s/photo.jpg?sz=128", "display_name": "Tom&#225;\u0161 Kratochv&#237;la", "link": "https://stackoverflow.com/users/4587209/tom%c3%a1%c5%a1-kratochv%c3%adla"}, "edited": false, "score": 3, "creation_date": 1468604006, "post_id": 38402046, "comment_id": 64212246, "body": "Please copy the text from the command line and paste it as a code into your question instead of the picture."}, {"owner": {"reputation": 3115, "user_id": 2887760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcfc142aa3e67502448a0f91e40d08df?s=128&d=identicon&r=PG&f=1", "display_name": "Athena", "link": "https://stackoverflow.com/users/2887760/athena"}, "edited": false, "score": 0, "creation_date": 1468604743, "post_id": 38402046, "comment_id": 64212650, "body": "<i>head spins</i>  Even if you drop the image, please take a moment to clarify what you&#39;re asking. Include OS and relevant version numbers."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1468605203, "post_id": 38402046, "comment_id": 64212876, "body": "The &quot;Has already&quot; messages indicate we&#39;re not seeing the full picture. Please issue the following two commands from within <code>cpan</code>: <code>o conf build_dir_reuse 0</code> <code>o conf commit</code>. Then restart <code>cpan</code>, and try again. And please post the output as text, not an image."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1468607866, "post_id": 38402046, "comment_id": 64214293, "body": "can&#39;t reproduce on Strawberry Perl 5.20, Windows 7 64bit. Exit the cpan shell and try <code>cpan Font::TTF</code>. Which OS/Perl version are you on?"}, {"owner": {"reputation": 9, "user_id": 6594288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5098d3af5b0cef5d4724305f1dac08eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jiang Bo", "link": "https://stackoverflow.com/users/6594288/jiang-bo"}, "edited": false, "score": 0, "creation_date": 1468743626, "post_id": 38402046, "comment_id": 64245268, "body": "I&#39;ve pasted the code, anybody can find what is wrong? I&#39;ve aslo tried in my friends&#39; computer, it turned out to be the same problem."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 6594288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5098d3af5b0cef5d4724305f1dac08eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jiang Bo", "link": "https://stackoverflow.com/users/6594288/jiang-bo"}, "edited": false, "score": 0, "creation_date": 1469761754, "post_id": 38619930, "comment_id": 64682107, "body": "I have then used activePerl instead of strawberryPerl, and it works well. Thank you!"}], "tags": [], "owner": {"reputation": 1, "user_id": 6646153, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/485422bfaa26d5efaf7cb6c69874fc8e?s=128&d=identicon&r=PG", "display_name": "lmestor", "link": "https://stackoverflow.com/users/6646153/lmestor"}, "is_accepted": false, "score": 0, "last_activity_date": 1469641709, "creation_date": 1469641709, "answer_id": 38619930, "question_id": 38402046, "link": "https://stackoverflow.com/questions/38402046/trouble-in-installing-fontttf-module/38619930#38619930", "title": "Trouble in installing Font::TTF module", "body": "<p>Jiang Bo, I was also getting the same problem with the latest Strawberry Perl version (5.24.0.1). I downgraded to 5.20.3.3 / 64bit and cpan installations work fine there.</p>\n"}], "owner": {"reputation": 9, "user_id": 6594288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5098d3af5b0cef5d4724305f1dac08eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jiang Bo", "link": "https://stackoverflow.com/users/6594288/jiang-bo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 794, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1469641709, "creation_date": 1468603856, "last_edit_date": 1468813534, "question_id": 38402046, "link": "https://stackoverflow.com/questions/38402046/trouble-in-installing-fontttf-module", "title": "Trouble in installing Font::TTF module", "body": "<p>I failed to install the module through <code>cpan Font::TTF</code>. \nI'm on strawberry perl 5.24, windows 8 32bit.</p>\n\n<pre><code>C:\\Users\\user&gt;cpan\nLoading internal null logger. Install Log::Log4perl for logging messages\n\nThere seems to be running another CPAN process (pid 5860).  Contacting...\nOther job not responding. Shall I overwrite the lockfile 'C:\\STRAWB~1\\cpan\\.lock\n'? (Y/n) [y]\n\ncpan shell -- CPAN exploration and modules installation (v2.11)\nEnter 'h' for help.\n\n\ncpan&gt; o conf build_dir_reuse 0\n    build_dir_reuse    [0]\ncommit: wrote 'C:\\Strawberry\\perl\\lib/CPAN/Config.pm'\n\n\ncpan&gt; o conf commit\ncommit: wrote 'C:\\Strawberry\\perl\\lib/CPAN/Config.pm'\n\n\ncpan&gt; exit\nLockfile removed.\n\n\nC:\\Users\\user&gt;cpan Font::TTF\nLoading internal null logger. Install Log::Log4perl for logging messages\nCPAN: CPAN::SQLite loaded ok (v0.211)\nDatabase was generated on Fri, 15 Jul 2016 06:47:48 GMT\n\nRunning install for module 'Font::TTF'\nCPAN: Digest::SHA loaded ok (v5.95)\nCPAN: Compress::Zlib loaded ok (v2.069)\nChecksum for C:\\STRAWB~1\\cpan\\sources\\authors\\id\\M\\MH\\MHOSKEN\\Font-TTF-  1.05.tar.\ngz ok\nCPAN: Archive::Tar loaded ok (v2.06)\nCPAN: File::Temp loaded ok (v0.2304)\nCPAN: YAML::XS loaded ok (v0.62)\nCPAN: CPAN::Meta::Requirements loaded ok (v2.140)\nCPAN: Parse::CPAN::Meta loaded ok (v1.4417)\nCPAN: CPAN::Meta loaded ok (v2.150005)\nCPAN: Module::CoreList loaded ok (v5.20160507)\nConfiguring M/MH/MHOSKEN/Font-TTF-1.05.tar.gz with Makefile.PL\nChecking if your kit is complete...\nLooks good\nGenerating a dmake-style Makefile\nWriting Makefile for Font::TTF\nWriting MYMETA.yml and MYMETA.json\n  MHOSKEN/Font-TTF-1.05.tar.gz\n  C:\\Strawberry\\perl\\bin\\perl.exe Makefile.PL -- OK\nRunning make for M/MH/MHOSKEN/Font-TTF-1.05.tar.gz\n  MHOSKEN/Font-TTF-1.05.tar.gz\n  C:\\STRAWB~1\\c\\bin\\dmake.exe -- OK\nRunning make test\n\"C:\\Strawberry\\perl\\bin\\perl.exe\" \"-MExtUtils::Command::MM\" \"-MTest::Harness\"   \"-\ne\" \"undef *Test::Harness::Switches; test_harness(0, 'blib\\lib', 'blib\\arch')\"   t/\n*.t\nt/tags.t ..... Can't locate Font/TTF/OTTags.pm in @INC (you may need to   install\nthe Font::TTF::OTTags module) (@INC contains: C:\\STRAWB~1\\cpan\\build\\Font-TTF-1.\n05-8DWSyh\\blib\\lib C:\\STRAWB~1\\cpan\\build\\Font-TTF-1.05-8DWSyh\\blib\\arch  C:/Stra\nwberry/perl/site/lib C:/Strawberry/perl/vendor/lib C:/Strawberry/perl/lib .) at\nt/tags.t line 5.\nBEGIN failed--compilation aborted at t/tags.t line 5.\nt/tags.t ..... Dubious, test returned 2 (wstat 512, 0x200)\nFailed 6/6 subtests\nt/ttfcopy.t .. Can't locate Font/TTF/Font.pm in @INC (you may need to install th\ne Font::TTF::Font module) (@INC contains: C:\\STRAWB~1\\cpan\\build\\Font-TTF-  1.05-8\nDWSyh\\blib\\lib C:\\STRAWB~1\\cpan\\build\\Font-TTF-1.05-8DWSyh\\blib\\arch C:/Strawber\nry/perl/site/lib C:/Strawberry/perl/vendor/lib C:/Strawberry/perl/lib .) at t/tt\nfcopy.t line 5.\nBEGIN failed--compilation aborted at t/ttfcopy.t line 5.\nt/ttfcopy.t .. Dubious, test returned 2 (wstat 512, 0x200)\nFailed 4/4 subtests\n\nTest Summary Report\n-------------------\nt/tags.t   (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: Bad plan.  You planned 6 tests but ran 0.\nt/ttfcopy.t (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: Bad plan.  You planned 4 tests but ran 0.\nFiles=2, Tests=0,  1 wallclock secs ( 0.05 usr +  0.00 sys =  0.05 CPU)\nResult: FAIL\nFailed 2/2 test programs. 0/0 subtests failed.\ndmake.exe:  Error code 130, while making 'test_dynamic'\n  MHOSKEN/Font-TTF-1.05.tar.gz\n  C:\\STRAWB~1\\c\\bin\\dmake.exe test -- NOT OK\n//hint// to see the cpan-testers results for installing this module, try:\n  reports MHOSKEN/Font-TTF-1.05.tar.gz\nStopping: 'install' failed for 'Font::TTF'.\n\nC:\\Users\\user&gt;\n</code></pre>\n"}, {"tags": ["bash", "perl", "gnu-parallel"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1468601231, "post_id": 38401206, "comment_id": 64210796, "body": "Sorry, can&#39;t understand what you&#39;re trying to do. Parallelising code means you run two (isolated) processes in parallel. You need to capture and collate and results."}, {"owner": {"reputation": 367, "user_id": 6535153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c2c95376610565f4247625bce4e2f451?s=128&d=identicon&r=PG&f=1", "display_name": "antong", "link": "https://stackoverflow.com/users/6535153/antong"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1468601571, "post_id": 38401206, "comment_id": 64210964, "body": "This is using gnu parallels, assume that my_prog is the program that will be running in parallel. I have echo in front just to make sure that all my arguments for my_prog are correct. Currently in this example, gnu parallels will run echo in parallel."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468603504, "post_id": 38401206, "comment_id": 64211965, "body": "What is in <code>short</code>? What is the result that you get from this command? Why do you think it&#39;s wrong? It seems very odd to do arithmetic on the parallel job number <code>{%}</code>"}, {"owner": {"reputation": 367, "user_id": 6535153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c2c95376610565f4247625bce4e2f451?s=128&d=identicon&r=PG&f=1", "display_name": "antong", "link": "https://stackoverflow.com/users/6535153/antong"}, "edited": false, "score": 0, "creation_date": 1468603580, "post_id": 38401206, "comment_id": 64212008, "body": "short just contains a list of directories. Those will just be used in those in and out sections. Error has been added."}, {"owner": {"reputation": 367, "user_id": 6535153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c2c95376610565f4247625bce4e2f451?s=128&d=identicon&r=PG&f=1", "display_name": "antong", "link": "https://stackoverflow.com/users/6535153/antong"}, "edited": false, "score": 0, "creation_date": 1468603766, "post_id": 38401206, "comment_id": 64212110, "body": "I&#39;m assuming theres a conflict with using {= =} and {%} within those sections."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468603885, "post_id": 38401206, "comment_id": 64212171, "body": "It is probably better to use <code>--dry_run</code> than to add <code>echo</code> as the ccommand"}, {"owner": {"reputation": 367, "user_id": 6535153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c2c95376610565f4247625bce4e2f451?s=128&d=identicon&r=PG&f=1", "display_name": "antong", "link": "https://stackoverflow.com/users/6535153/antong"}, "edited": false, "score": 0, "creation_date": 1468603922, "post_id": 38401206, "comment_id": 64212189, "body": "--rpl &#39;tag perl expression&#39;                 Use tag as a replacement string for perl expression. This makes it possible to define your own                 replacement strings. GNU parallel&#39;s 7 replacement strings are implemented as:                   --rpl &#39;{%} 1 $_=$job-&gt;slot()&#39;"}, {"owner": {"reputation": 367, "user_id": 6535153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c2c95376610565f4247625bce4e2f451?s=128&d=identicon&r=PG&f=1", "display_name": "antong", "link": "https://stackoverflow.com/users/6535153/antong"}, "edited": false, "score": 0, "creation_date": 1468603933, "post_id": 38401206, "comment_id": 64212197, "body": "This is listed in the manual"}, {"owner": {"reputation": 367, "user_id": 6535153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c2c95376610565f4247625bce4e2f451?s=128&d=identicon&r=PG&f=1", "display_name": "antong", "link": "https://stackoverflow.com/users/6535153/antong"}, "edited": false, "score": 0, "creation_date": 1468603937, "post_id": 38401206, "comment_id": 64212202, "body": "--rpl &#39;{%} 1 $_=$job-&gt;slot()&#39;"}, {"owner": {"reputation": 367, "user_id": 6535153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c2c95376610565f4247625bce4e2f451?s=128&d=identicon&r=PG&f=1", "display_name": "antong", "link": "https://stackoverflow.com/users/6535153/antong"}, "edited": false, "score": 0, "creation_date": 1468603961, "post_id": 38401206, "comment_id": 64212223, "body": "I&#39;m just not 100% sure how to use this section, (I do not know perl)."}], "answers": [{"comments": [{"owner": {"reputation": 367, "user_id": 6535153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c2c95376610565f4247625bce4e2f451?s=128&d=identicon&r=PG&f=1", "display_name": "antong", "link": "https://stackoverflow.com/users/6535153/antong"}, "edited": false, "score": 0, "creation_date": 1468604499, "post_id": 38402211, "comment_id": 64212513, "body": "Shall test and get back to you."}, {"owner": {"reputation": 367, "user_id": 6535153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c2c95376610565f4247625bce4e2f451?s=128&d=identicon&r=PG&f=1", "display_name": "antong", "link": "https://stackoverflow.com/users/6535153/antong"}, "edited": false, "score": 0, "creation_date": 1468604584, "post_id": 38402211, "comment_id": 64212569, "body": "Works. Thank you very much :)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1468604658, "last_edit_date": 1468604658, "creation_date": 1468604459, "answer_id": 38402211, "question_id": 38401206, "link": "https://stackoverflow.com/questions/38401206/math-in-gnu-parallel/38402211#38402211", "title": "Math in GNU Parallel", "body": "<h2>Problem #1</h2>\n\n<p>You need to escape the Perl program so it doesn't get processed by the shell. Using single quotes around the program is the usual method used.</p>\n\n<h2>Problem #2</h2>\n\n<p>Looks like <code>{%}</code> is not replaced within <code>{= =}</code>, which makes sense. <code>{= =}</code> says \"<em>you have full access to all of GNU parallel's internal functions and data structures</em>\", so it becomes a question of finding the var/fun that provides the slot number.</p>\n\n<h2>Problem #3</h2>\n\n<p>It's the value of <code>$_</code> that's inserted into the command, so you need to assign the sum to <code>$_</code>.</p>\n\n<h2>Solution</h2>\n\n<pre><code>{= '$_ = $job-&gt;slot() + 1' =}\n</code></pre>\n"}], "owner": {"reputation": 367, "user_id": 6535153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c2c95376610565f4247625bce4e2f451?s=128&d=identicon&r=PG&f=1", "display_name": "antong", "link": "https://stackoverflow.com/users/6535153/antong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 1, "accepted_answer_id": 38402211, "answer_count": 1, "score": 2, "last_activity_date": 1468604658, "creation_date": 1468600891, "last_edit_date": 1468603887, "question_id": 38401206, "link": "https://stackoverflow.com/questions/38401206/math-in-gnu-parallel", "title": "Math in GNU Parallel", "body": "<p>The one thing I'm trying to do, is have a little bit of math done with the {%} option in <a href=\"http://www.gnu.org/software/parallel/\" rel=\"nofollow\">GNU Parallel</a></p>\n\n<pre><code>cat short | parallel -j 2 echo my_prog ----in {} ----out {/.}.extension ----gpu {= {%}+1 =} {= {%}-1 =}\n</code></pre>\n\n<p>(I have extra dashes in front of <code>in</code>, <code>out</code> and <code>gpu</code> just in case.)</p>\n\n<p>The math shown within <code>{= =}</code> is all I need to do, and I'm just not sure I understand how to write it with <code>--rpl</code> and <code>--parens</code></p>\n\n<p><code>{=   =}</code> is the space where one can write a Perl expression in GNU parallel.</p>\n\n<p>Also my program isn't running here, I'm just echoing the output to see if everything will be correct.</p>\n\n<p>Could someone please explain how to do this simple math within the command?</p>\n\n<p>My error is this:</p>\n\n<pre><code>parallel: Error: Cannot use {%}+1 : Missing right curly or square bracket at (eval 13) line 2, at end of line\nsyntax error at (eval 13) line 2, at EOF\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 28990, "user_id": 1114966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af8712b05e5cfb862323a07c83749054?s=128&d=identicon&r=PG", "display_name": "squiguy", "link": "https://stackoverflow.com/users/1114966/squiguy"}, "edited": false, "score": 0, "creation_date": 1468600688, "post_id": 38401071, "comment_id": 64210497, "body": "Do you want to compare in a list context? If so there is <a href=\"https://metacpan.org/pod/List::Compare\" rel=\"nofollow noreferrer\">this module</a>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1468601266, "post_id": 38401071, "comment_id": 64210816, "body": "Don&#39;t call variables single letter names. Don&#39;t call them <code>$a</code> and <code>$b</code> as that has a special meaning in perl."}, {"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "reply_to_user": {"reputation": 28990, "user_id": 1114966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af8712b05e5cfb862323a07c83749054?s=128&d=identicon&r=PG", "display_name": "squiguy", "link": "https://stackoverflow.com/users/1114966/squiguy"}, "edited": false, "score": 0, "creation_date": 1468601652, "post_id": 38401071, "comment_id": 64211007, "body": "@squiguy, yes, this should help, I am trying it out."}, {"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1468601693, "post_id": 38401071, "comment_id": 64211034, "body": "@sobrique, understood, thanks."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1468604052, "post_id": 38401071, "comment_id": 64212272, "body": "So do you specifically do not want to use sorting? Code with it is pretty clean."}, {"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1468607944, "post_id": 38401071, "comment_id": 64214335, "body": "@zdim, I am not against it, I am here to find if there is a better/easier  way."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 4, "creation_date": 1468615849, "post_id": 38401071, "comment_id": 64218161, "body": "<code>join(&#39; &#39;,sort split &#47; &#47;,$a) eq join(&#39; &#39;,sort split &#47; &#47;,$b)</code>"}, {"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1468616319, "post_id": 38401071, "comment_id": 64218361, "body": "@ysth, this is simple and works fine, thank you."}, {"owner": {"reputation": 4646, "user_id": 168683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6c60cfdf4426b0067801bff11e836430?s=128&d=identicon&r=PG&f=1", "display_name": "Fozi", "link": "https://stackoverflow.com/users/168683/fozi"}, "edited": false, "score": 0, "creation_date": 1469559806, "post_id": 38401071, "comment_id": 64583733, "body": "<code>sub ainb { my ($a, $b) = (shift, shift); $a =~ s&#47;\\s+&#47;|&#47;g; $b =~ s&#47;($a)&#47;&#47;g; return scalar $b =~ &#47;\\S&#47;; }</code> use <code>ainb($a, $b) &amp;&amp; ainb($b, $a)</code> :D"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1468601203, "last_edit_date": 1468601203, "creation_date": 1468600812, "answer_id": 38401183, "question_id": 38401071, "link": "https://stackoverflow.com/questions/38401071/compare-2-sets-of-numbers-contained-in-strings/38401183#38401183", "title": "Compare 2 sets of numbers contained in strings", "body": "<p>Without modules, you can use hashes:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $x = '100 105 010 2';\nmy $y = '010 105 100 100 1';\n\nmy (%hx, %hy);\n$hx{$_}++ for split ' ', $x;\n$hy{$_}++ for split ' ', $y;\n\nfor my $k (keys %hx) {\n    if (! exists $hy{$k}) {\n        print \"$k missing in y\\n\";\n\n    } elsif ($hy{$k} != $hx{$k}) {\n        print \"$k has different number of occurences\\n\";\n    }\n    delete $hy{$k};\n}\nprint \"$_ missing in x\\n\" for keys %hy;\n</code></pre>\n\n<p><code>$a</code> and <code>$b</code> are special variables used in <code>sort</code>, so I renamed them to <code>$x</code> and <code>$y</code>.</p>\n\n<p><a href=\"http://p3rl.org/split\" rel=\"nofollow\">split</a> turns the strings into lists. Each hash counts how many times a member occurs in the list.</p>\n\n<p>See also <a href=\"http://perldoc.perl.org/perlfaq4.html#How-do-I-compute-the-difference-of-two-arrays%3f-How-do-I-compute-the-intersection-of-two-arrays%3f\" rel=\"nofollow\">Perl FAQ 4</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 0, "last_activity_date": 1556124666, "last_edit_date": 1556124666, "creation_date": 1468608139, "answer_id": 38403122, "question_id": 38401071, "link": "https://stackoverflow.com/questions/38401071/compare-2-sets-of-numbers-contained-in-strings/38403122#38403122", "title": "Compare 2 sets of numbers contained in strings", "body": "<p>You can split each string into an array and sort and compare arrays.  By hand:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $x = '100 105 1 010';\nmy $y = '010 105 100 2';\n\nmy @xs = sort { $a &lt;=&gt; $b } split ' ', $x;\nmy @ys = sort { $a &lt;=&gt; $b } split ' ', $y;\n\nif (@xs != @ys) {\n    print \"Differ in number of elements.\\n\";\n}\nelse {\n    for (0..$#xs) {\n        print \"Differ: $xs[$_] vs $ys[$_]\\n\" if $xs[$_] != $ys[$_];\n    }\n}\n\n# For boolean comparison put it in a sub\nprint arr_num_eq(\\@xs, \\@ys), \"\\n\";    \n\nsub arr_num_eq {\n    my ($ra, $rb) = @_;\n    return 0 if @$ra != @$rb;\n    $ra-&gt;[$_] != $rb-&gt;[$_]  &amp;&amp; return 0  for 0..$#$ra; \n    return 1;\n}\n</code></pre>\n\n<p>The sorting can be moved to the sub as well, which would then take strings. The way it stands it can be used for comparison of existing arrays as well. Please add argument checking.</p>\n\n<p>There is a number of modules that have this capability. The <a href=\"http://search.cpan.org/~davecross/Array-Compare-2.12/lib/Array/Compare.pm#perm_@ARR1,_@ARR2\" rel=\"nofollow noreferrer\">perm</a> from <a href=\"http://search.cpan.org/~davecross/Array-Compare-2.12/lib/Array/Compare.pm\" rel=\"nofollow noreferrer\">Array::Compare</a> hides the sorting above, but internally joins sorted arrays into strings thus duplicating the work here since we started with strings.  The <a href=\"http://search.cpan.org/~drolsky/List-AllUtils-0.11/lib/List/AllUtils.pm\" rel=\"nofollow noreferrer\">List::AllUtils</a> certainly offers this as well with its long list of utilities. </p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/1609467/in-perl-is-there-a-built-in-way-to-compare-two-arrays-for-equality\">this post</a>, for example, for a few methods (just not the <em>smart match</em> <code>~~</code>), and for benchmarks if efficiency is a concern.</p>\n\n<p>Using the mentioned implementation idea from <a href=\"http://search.cpan.org/~davecross/Array-Compare-2.12/lib/Array/Compare.pm\" rel=\"nofollow noreferrer\">Array::Compare</a>, per comment by <a href=\"https://stackoverflow.com/users/17389/ysth\">ysth</a></p>\n\n<pre><code>sub str_num_eq {\n    return join(' ', sort { $a &lt;=&gt; $b } split / /, $_[0]) \n        eq join(' ', sort { $a &lt;=&gt; $b } split / /, $_[1])\n}\n</code></pre>\n\n<hr>\n\n<p>What the most suitable method is depends on what this is for and how it is used. Is it only a boolean comparison, or will more be done if they are found to differ? How does it come about in your program flow? What are typical sizes of strings, how often is it run? Are the strings most often the same or different, do they typically differ a lot or a little? Etc.</p>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1468645830, "last_edit_date": 1468645830, "creation_date": 1468644986, "answer_id": 38407891, "question_id": 38401071, "link": "https://stackoverflow.com/questions/38401071/compare-2-sets-of-numbers-contained-in-strings/38407891#38407891", "title": "Compare 2 sets of numbers contained in strings", "body": "<p>Something else try with pattern matching,</p>\n\n<p>This is not a straight forward but it will work. </p>\n\n<p>Construct the pattern by anyone of your scalar value. Then check the another string by the constructed pattern.</p>\n\n<pre><code>my $a = '100 100 105';\nmy $b = '100 105 100';\n\nmy @b_ary = split(\" \",$b);\nmy $regex =  join'\\b|\\b', @b_ary;\n\nmy $word_length = @b_ary * 2 - 1; #Count the number of words and space. \nmy $rgx = qr\"^(?:\\b$regex\\b|\\s){$word_length}$\"; #`{n}` match word exact n times \n\nif($a=~m/$rgx/)\n{\n    print \"same values\\n\";\n}\nelse\n{\n    print \"Not a same values\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 139, "user_id": 5738019, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bf0416a1e9cbb5090c064b17a7b67977?s=128&d=identicon&r=PG&f=1", "display_name": "s.patra", "link": "https://stackoverflow.com/users/5738019/s-patra"}, "is_accepted": false, "score": 0, "last_activity_date": 1468674789, "creation_date": 1468674789, "answer_id": 38411581, "question_id": 38401071, "link": "https://stackoverflow.com/questions/38401071/compare-2-sets-of-numbers-contained-in-strings/38411581#38411581", "title": "Compare 2 sets of numbers contained in strings", "body": "<p>The answer is already posted above. This is just in case you want to remove the white spaces and compare each number.</p>\n\n<pre><code>$x = '100 105 010';\n$y = '010 105 100';\njoin(\"\",sort split \"\",join(\"\",split \" \",$x)) eq join(\"\",sort split \"\",join(\"\",split \" \",$y));\n</code></pre>\n"}], "owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 38403122, "answer_count": 4, "score": 0, "last_activity_date": 1556124760, "creation_date": 1468600363, "last_edit_date": 1556124760, "question_id": 38401071, "link": "https://stackoverflow.com/questions/38401071/compare-2-sets-of-numbers-contained-in-strings", "title": "Compare 2 sets of numbers contained in strings", "body": "<p>I have 2 scalars as below:</p>\n\n<pre><code>$a = '100 105 010';\n$b = '010 105 100';\n</code></pre>\n\n<p>How do I compare if both has same set of values? order doesn't matter.\none way is to arrange it in ascending order and compare, is there a better way?</p>\n"}, {"tags": ["perl", "powershell", "variables"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 6, "creation_date": 1468594658, "post_id": 38398741, "comment_id": 64206839, "body": "I don&#39;t understand the question. You return the first element of <code>@output</code> in that loop. That means it stops processing the loop, because it returned. Because <code>@output</code> is lexical to the sub, it is then lost. But since your code does not call the <code>getvalue</code> sub, that doesn&#39;t really matter, because it&#39;s never executed anyway. Your assignment of <code>$newvar = $_</code> will assign something to <code>$newvar</code> (which is a horrible variable name btw). Please show your <b>real</b> code."}, {"owner": {"reputation": 123, "user_id": 5049160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e685c1bc98dad36bab8b5c7582bb9ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Campbell", "link": "https://stackoverflow.com/users/5049160/grant-campbell"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468598951, "post_id": 38398741, "comment_id": 64209529, "body": "This is my real code, but i&#39;ve changed names of some items"}], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 5049160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e685c1bc98dad36bab8b5c7582bb9ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Campbell", "link": "https://stackoverflow.com/users/5049160/grant-campbell"}, "is_accepted": true, "score": 0, "last_activity_date": 1468601148, "creation_date": 1468601148, "answer_id": 38401288, "question_id": 38398741, "link": "https://stackoverflow.com/questions/38398741/how-to-save-output-to-variable-in-perl/38401288#38401288", "title": "How to save output to variable in Perl", "body": "<p>Here is my solution. </p>\n\n<pre><code>sub getValue{\n    print \"Getting value...\\n\";\n    my $renamecmd = 'Powershell.exe -executionpolicy remotesigned -File C:\\Workspace\\Utilities\\pathtofile.ps1'.\" $var\";\n    my @output = `$renamecmd`;\n    $newvar= $output[3];\n}\n</code></pre>\n\n<p>Again this is just a mockup, with terrible variable names. </p>\n"}], "owner": {"reputation": 123, "user_id": 5049160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e685c1bc98dad36bab8b5c7582bb9ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Campbell", "link": "https://stackoverflow.com/users/5049160/grant-campbell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 38401288, "answer_count": 1, "score": -1, "last_activity_date": 1468606850, "creation_date": 1468593135, "last_edit_date": 1468594491, "question_id": 38398741, "link": "https://stackoverflow.com/questions/38398741/how-to-save-output-to-variable-in-perl", "title": "How to save output to variable in Perl", "body": "<p>I have a Perl script that passes an argument to powershell and returns the data to Perl. That value is stored, but i would like to assign that value to a variable and I'm not sure how to do so.</p>\n\n<pre><code>sub getvalue{\nprint \"Getting value...\\n\";\nmy $renamecmd = 'Powershell.exe -executionpolicy remotesigned -File  C:\\Workspace\\Utilities\\pathtofile.ps1'.\" $val\"; \nmy @output = `$renamecmd`;\nforeach (@output) {\nreturn $_;\n}\n}  \n\n$newvar = $_;\n</code></pre>\n\n<p>What I have above does not work.</p>\n"}, {"tags": ["perl", "parsing", "xlsm"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1468588891, "post_id": 38397151, "comment_id": 64202703, "body": "They don&#39;t. But I fear they wouldn&#39;t handle the macros."}, {"owner": {"reputation": 7429, "user_id": 4811873, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/2ef5bab087ac0b70e03e34b0b0009fd5?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Robinson", "link": "https://stackoverflow.com/users/4811873/mike-robinson"}, "edited": false, "score": 5, "creation_date": 1468589710, "post_id": 38397151, "comment_id": 64203331, "body": "Quite frankly, I think that you need to stick with the implementation (OLE) that you are now using. Excel is an extremely complicated product with many subtle variations in its file format, which third-party format readers do not reliably handle. <i>Per contra,</i> with OLE, Excel not only handles the file for you, but provides <i>itself</i> as an object for you to take advantage of.  If someone higher-up doesn&#39;t like the thought of using OLE, I suggest that you should strongly argue the case for leaving well enough alone."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1468590589, "post_id": 38397151, "comment_id": 64203968, "body": "They doesn&#39;t like the fact that they need an Excel license on each server that uses this and also that on multiple instances, the server blocks... that&#39;s why we search a workarround..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468590741, "post_id": 38397151, "comment_id": 64204074, "body": "I don&#39;t think there is a workaround, but if you have systems where you need the data but not the spreadsheet functionality then you could use Excel installed on a central machine to convert the values to CSV data or perhaps XLSX. Do you make use of the macro functionality of the XLSM files?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468592115, "post_id": 38397151, "comment_id": 64205011, "body": "Then use Excel to convert them to XLSX files and use <code>Spreadsheet::ParseXLSX</code>. There&#39;s a chance that the module will be happy with XLSM files if no advantage is taken of the macro functionality. I can only suggest that you try it."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1468592427, "post_id": 38397151, "comment_id": 64205228, "body": "Thank you for the suggestions!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1468594830, "post_id": 38397151, "comment_id": 64206941, "body": "Does it have to be Excel? You may have a lot more success with a <code>csv</code> file containing the same data."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1468824461, "post_id": 38397151, "comment_id": 64266432, "body": "Well, i can&#39;t change the input wich is an xlsm file. But I can convert as you guys said, to a xlsx or csv format and then parse it"}], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 614, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1468588649, "creation_date": 1468588649, "question_id": 38397151, "link": "https://stackoverflow.com/questions/38397151/perl-parse-an-xlsm-file-without-using-excel", "title": "Perl parse an .xlsm file without using excel", "body": "<p><br>\nI have an input .xlsm file from which I have to parse some values.<br>\nCurrently I am using Win32::OLE which from certain reasons I need to stop using.<br></p>\n\n<p>Is there a way to parse that file without using EXCEL processes?<br>My searches on google lead me to <strong>Spreadsheet::ParseXLSX</strong> module and <strong>Excel::Writer::XLSX</strong>(with some problemes), but I don't know whether they require Excel or not.\nThank you!</p>\n"}, {"tags": ["html", "perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 5, "creation_date": 1468587413, "post_id": 38396708, "comment_id": 64201706, "body": "use a HTML-parser, not regex"}, {"owner": {"reputation": 14813, "user_id": 14673, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5B0nG.png?s=128&g=1", "display_name": "Luc M", "link": "https://stackoverflow.com/users/14673/luc-m"}, "edited": false, "score": 1, "creation_date": 1468588557, "post_id": 38396708, "comment_id": 64202444, "body": "<a href=\"http://stackoverflow.com/a/1732454/14673\">An interesting story about pony and regex</a>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1468588233, "creation_date": 1468588233, "answer_id": 38396990, "question_id": 38396708, "link": "https://stackoverflow.com/questions/38396708/matching-only-words-inside-an-html-tag-using-perl/38396990#38396990", "title": "Matching only words inside an HTML tag using Perl", "body": "\n\n<p><em>Never</em> use regexes for processing HTML unless you are absolutely forced to, and probably not even then. There are several perfectly serviceable HTML parsers on CPAN, and <a href=\"https://metacpan.org/pod/HTML::TreeBuilder\" rel=\"nofollow\"><code>HTML::TreeBuilder</code></a> is quite adequate for this</p>\n\n<p>Here's a program that processes your data as you requested. It finds all the <code>span</code> elements with an <code>id</code> attribute that looks like the regex pattern <code>f\\d{3}</code> and stores their text contents in array <code>@text</code></p>\n\n<p>I've had to <code>use utf8</code> at the top only because the text in the <code>__DATA__</code> section contains some non-ASCII characters. If you're reading that from an external file then there's no need for that</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use utf8;\nuse strict;\nuse warnings 'all';\n\nuse open qw/ :std :encoding(utf8) /;\n\nuse HTML::TreeBuilder;\n\nmy $tree = HTML::TreeBuilder-&gt;new;\n$tree-&gt;parse_file(\\*DATA);\n\nmy @text = map { $_-&gt;as_text } $tree-&gt;look_down( _tag =&gt; 'span', id =&gt; qr/^f\\d{3}$/ );\n\nprint \"$_\\n\" for @text;\n\n__DATA__\n&lt;span id=\"f002\"&gt;From fairest creatures we desire increase,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f003\"&gt;That thereby beauty\u2019s rose might never die,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f004\"&gt;But as the riper should by time decease,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f005\"&gt;His tender heir might bear his memory:&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f006\"&gt;But thou contracted to thine own bright eyes,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f007\"&gt;Feed\u2019st thy light\u2019s flame with self-substantial fuel,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f008\"&gt;Making a famine where abundance lies,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f009\"&gt;Thy self thy foe, to thy sweet self too cruel:&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f010\"&gt;Thou that art now the world\u2019s fresh ornament,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f011\"&gt;And only herald to the gaudy spring,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f012\"&gt;Within thine own bud buriest thy content,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f013\"&gt;And tender churl mak\u2019st waste in niggarding:&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f014\"&gt;Pity the world, or else this glutton be,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f015\"&gt;To eat the world\u2019s due, by the grave and thee.&lt;/span&gt;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>From fairest creatures we desire increase,\nThat thereby beauty\u2019s rose might never die,\nBut as the riper should by time decease,\nHis tender heir might bear his memory:\nBut thou contracted to thine own bright eyes,\nFeed\u2019st thy light\u2019s flame with self-substantial fuel,\nMaking a famine where abundance lies,\nThy self thy foe, to thy sweet self too cruel:\nThou that art now the world\u2019s fresh ornament,\nAnd only herald to the gaudy spring,\nWithin thine own bud buriest thy content,\nAnd tender churl mak\u2019st waste in niggarding:\nPity the world, or else this glutton be,\nTo eat the world\u2019s due, by the grave and thee.\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 5713694, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7dffe77a8bd4135b6d91a4841490ea8b?s=128&d=identicon&r=PG&f=1", "display_name": "Elambarathi Vimal Kannan", "link": "https://stackoverflow.com/users/5713694/elambarathi-vimal-kannan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 1, "accepted_answer_id": 38396990, "answer_count": 1, "score": 0, "last_activity_date": 1468588233, "creation_date": 1468587338, "question_id": 38396708, "link": "https://stackoverflow.com/questions/38396708/matching-only-words-inside-an-html-tag-using-perl", "title": "Matching only words inside an HTML tag using Perl", "body": "<p>I have an HTML content I am reading the HTML in Perl and want to catch only the words inside the tag i.e:</p>\n\n<pre><code>&lt;span id=\"f002\"&gt;From fairest creatures we desire increase,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f003\"&gt;That thereby beauty\u2019s rose might never die,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f004\"&gt;But as the riper should by time decease,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f005\"&gt;His tender heir might bear his memory:&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f006\"&gt;But thou contracted to thine own bright eyes,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f007\"&gt;Feed\u2019st thy light\u2019s flame with self-substantial fuel,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f008\"&gt;Making a famine where abundance lies,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f009\"&gt;Thy self thy foe, to thy sweet self too cruel:&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f010\"&gt;Thou that art now the world\u2019s fresh ornament,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f011\"&gt;And only herald to the gaudy spring,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f012\"&gt;Within thine own bud buriest thy content,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f013\"&gt;And tender churl mak\u2019st waste in niggarding:&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f014\"&gt;Pity the world, or else this glutton be,&lt;/span&gt;&lt;br/&gt;\n&lt;span id=\"f015\"&gt;To eat the world\u2019s due, by the grave and thee.&lt;/span&gt;\n</code></pre>\n\n<p><strong>I want to catch each and every words inside the <code>span</code> tag,</strong> </p>\n\n<p>I have tried :</p>\n\n<pre><code>([\\w|\u2019|-]+)([\\W])\n</code></pre>\n\n<p>But its matching the tag names also as words, check here: <a href=\"https://regex101.com/r/mD3qG4/3\" rel=\"nofollow\">https://regex101.com/r/mD3qG4/3</a>\nkindly suggest some regex to achieve this </p>\n\n<p>thanks</p>\n"}, {"tags": ["perl", "stdin"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1468584427, "post_id": 38395105, "comment_id": 64199713, "body": "It&#39;s STDIN, not stdin. Perl is case sensitive."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1468584802, "post_id": 38395105, "comment_id": 64199956, "body": "@ThisSuitIsBlackNot: Confusingly, <code>stdin</code> and <code>STDIN</code> are synonyms. Likewise with the other <code>STD*</code> handles. Although it does warn <code>Unquoted string &quot;stdout&quot; may clash with future reserved word</code> if you <code>print stdout &quot;xx\\n&quot;</code>, while correctly producing output!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1468584953, "post_id": 38395105, "comment_id": 64200068, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/31185416/what-is-the-difference-between-stdin-and-stdin\">What is the difference between &lt;stdin&gt; and &lt;STDIN&gt;?</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1468585175, "post_id": 38395105, "comment_id": 64200217, "body": "@Borodin Ah, right, but only in main. I had forgotten about that until I found the post linked in my last comment, thanks."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 9, "last_activity_date": 1468585080, "last_edit_date": 1468585080, "creation_date": 1468584381, "answer_id": 38395710, "question_id": 38395105, "link": "https://stackoverflow.com/questions/38395105/why-stdin-is-not-working-inside-the-perl-module-file/38395710#38395710", "title": "Why &lt;stdin&gt; is not working inside the perl module file?", "body": "<p>The file handle that is opened when perl starts up is <code>STDIN</code> or <code>main::stdin</code>, but you have changed packages and are trying to read from <code>Insert::stdin</code>, which doesn't exist</p>\n\n<p>If you write <code>&lt;STDIN&gt;</code> or <code>&lt;main::stdin&gt;</code> instead then it will work as expected</p>\n\n<p>But you probably shouldn't be doing top-level IO inside a package subroutine anyway, and I suggest that you accumulate all of the data in your main program and pass it as a a parameter to <code>Insert::Insert_DATA()</code></p>\n\n<p>I would write something like this</p>\n\n<h3>main.pl</h3>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Insert;\n\nprint \"Please Enter the User Name: \";\n\nchomp(my $user_name = &lt;STDIN&gt;);\n\ninsert_data($user_name);\n</code></pre>\n\n<h3>Insert.pm</h3>\n\n<pre><code>package Insert;\n\nuse strict;\nuse warnings 'all';\n\nuse Exporter 'import';\nour @EXPORT = 'insert_data';\n\nsub insert_data {\n    my ($user_name) = @_;\n\n    print $user_name, \"\\n\";\n}\n\n1;\n</code></pre>\n"}], "owner": {"reputation": 523, "user_id": 5973612, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/gBZpu.png?s=128&g=1", "display_name": "Ganapathy", "link": "https://stackoverflow.com/users/5973612/ganapathy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1468585080, "creation_date": 1468582429, "question_id": 38395105, "link": "https://stackoverflow.com/questions/38395105/why-stdin-is-not-working-inside-the-perl-module-file", "title": "Why &lt;stdin&gt; is not working inside the perl module file?", "body": "<p>I wrote the <code>Perl</code> module to get the user name from the user through <code>&lt;stdin&gt;</code> and print it as like below,</p>\n\n<pre><code>use strict;\nuse warnings;\n{\n    package Insert;\n    sub Insert_DATA\n    {\n        my $User_Name;\n        print \"Please Enter the User Name: \";\n        chomp ( $User_Name = &lt;stdin&gt; );\n        print $User_Name , \"\\n\";\n    }\n}\nreturn 1; \n</code></pre>\n\n<p>But when I executed this code, It gives the error like this,</p>\n\n<pre><code>readline() on unopened filehandle stdin at Insert_Data.pm line 26.\nUse of uninitialized value $User_Name in chomp at Insert_Data.pm line 26.\nUse of uninitialized value $User_Name in print at Insert_Data.pm line 27.\n</code></pre>\n\n<p>So please help to solve this problem.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["performance", "perl"], "comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1468571606, "post_id": 38391450, "comment_id": 64191636, "body": "your program has four functions and I have no idea what they do. If you can explain little bit about them that may help us to understand your question properly."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468572180, "post_id": 38391450, "comment_id": 64191993, "body": "Why are you so concerned with efficiency? I think I would write <code>print_info(get_info_for_file($_), $output_file) for @listOfFiles;</code>, which is equivalent to your first option. But please don&#39;t use a mixture of camelCase and snake_case."}, {"owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "edited": false, "score": 0, "creation_date": 1468572210, "post_id": 38391450, "comment_id": 64192008, "body": "i thought i was suggestive with the function names, i added some comments"}, {"owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468572350, "post_id": 38391450, "comment_id": 64192105, "body": "@Borodin thank you for this advice!! I appreciate it!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1468572356, "post_id": 38391450, "comment_id": 64192110, "body": "Impossible to say given the information you&#39;ve got. <i>usually</i> writing data to disk is the slowest thing you can do, and so it&#39;s worth starting IO as early as possible. But there&#39;s also no particular advantage of having &#39;unneeded&#39; data held in memory."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468572390, "post_id": 38391450, "comment_id": 64192144, "body": "I would also like to write using @Borodin&#39;s way because this approach  is memory efficient than the other one."}, {"owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "edited": false, "score": 0, "creation_date": 1468572619, "post_id": 38391450, "comment_id": 64192287, "body": "I don&#39;t know which option would be more efficient for 1000 files let&#39;s say.."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1468574385, "post_id": 38391450, "comment_id": 64193364, "body": "You may wish to write it in such a way that if 1000 files becomes 10000 files, it will still work without rewrite ( i.e. write files as you go ), but it really depends on how much info you need to store per file to determine whether or not you will be constrained by available memory."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1468586402, "post_id": 38391450, "comment_id": 64201027, "body": "It depends on whether your hash will fit in main memory."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468594449, "post_id": 38391450, "comment_id": 64206683, "body": "Your edit made the code invalid. Comments are written with <code>#</code> in Perl."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1468578251, "creation_date": 1468578251, "answer_id": 38393738, "question_id": 38391450, "link": "https://stackoverflow.com/questions/38391450/perl-efficiency-in-writing-in-file/38393738#38393738", "title": "Perl efficiency in writing in file", "body": "<p>You are wrong to consider efficiency before you have even got your program working</p>\n\n<p>You should write your code as clearly as possible and debug it. Only then, if it is not running fast enough for your purpose, you should put your code through a profiler to discover the bottlenecks that are taking the most time</p>\n\n<p>The two options you show will probably not be very different unless your files are enormous</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1468586727, "post_id": 38395997, "comment_id": 64201221, "body": "Quite, and a ten-percent difference isn&#39;t worth bothering with"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1468593999, "post_id": 38395997, "comment_id": 64206364, "body": "I don&#39;t trust benchmark results when I haven&#39;t seen the benchmark. Far too easy to get wrong. For example, did you actually keep the silly <code>print_all_info(%hash, $output_file)</code> calling convention? How big is your data? etc"}], "tags": [], "owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "is_accepted": false, "score": 0, "last_activity_date": 1468585237, "creation_date": 1468585237, "answer_id": 38395997, "question_id": 38391450, "link": "https://stackoverflow.com/questions/38391450/perl-efficiency-in-writing-in-file/38395997#38395997", "title": "Perl efficiency in writing in file", "body": "<p>Doing a benchmark test on the two options i got those results ( which, if I increase the information size for each file, will lead to even bigger differencies between the two).</p>\n\n<p><a href=\"https://i.stack.imgur.com/nxgB9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nxgB9.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1468585237, "creation_date": 1468571446, "last_edit_date": 1468571996, "question_id": 38391450, "link": "https://stackoverflow.com/questions/38391450/perl-efficiency-in-writing-in-file", "title": "Perl efficiency in writing in file", "body": "<p>I am creating a database with some informations of files.\n<br>e.g: <strong>file_name | size | modify_date</strong> ...<br><br>\nI was thinking what is more efficient in this situation:</p>\n\n<p>1) <strong>For each file get the info and print them in my file</strong></p>\n\n<pre><code>foreach my $file ( @listOfFiles) {                 \n    my %temporary_hash = get_info_for_file($file); //store in a tempoarary hash\n                                                     the informations for current file\n    print_info(%temporary_hash, $output_file);     // print the  information in my output file\n}\n</code></pre>\n\n<p>2) <strong>Store the info for every file in a hash and print all the hash at once</strong></p>\n\n<pre><code>foreach my $file( @listOfFiles){\n    store_info_in_hash( get_info_for_file($file), %hash); // for each file, store the \n                                                             information in a global hash\n\n   }\nprint_all_info(%hash, $output_file);                       //after i have informations for each file\n                                                             print the whole hash in my output file \n</code></pre>\n"}, {"tags": ["html", "perl", "shell", "cgi"], "comments": [{"owner": {"reputation": 191, "user_id": 6230716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wAsbD.jpg?s=128&g=1", "display_name": "Virendrasingh", "link": "https://stackoverflow.com/users/6230716/virendrasingh"}, "edited": false, "score": 0, "creation_date": 1468561394, "post_id": 38388138, "comment_id": 64186394, "body": "Can you see <a href=\"http://perlmaven.com/running-external-programs-from-perl\" rel=\"nofollow noreferrer\">perlmaven.com/running-external-programs-from-perl</a>"}, {"owner": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "reply_to_user": {"reputation": 191, "user_id": 6230716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wAsbD.jpg?s=128&g=1", "display_name": "Virendrasingh", "link": "https://stackoverflow.com/users/6230716/virendrasingh"}, "edited": false, "score": 0, "creation_date": 1468564024, "post_id": 38388138, "comment_id": 64187414, "body": "Please be specific to the question. The link is all about the system command and I told you that it is running fine on independent execution."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1468586674, "post_id": 38388138, "comment_id": 64201178, "body": "There is no need to call <code>sh</code> explicitly (which may not be in the default <code>$PATH</code> when executing as a CGI script). Make <code>sample.sh</code> executable and you can just use `system(&#39;/full/path/to/sample.sh&#39;);  Be sure not to include a trailing space like you do now."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468563525, "post_id": 38388901, "comment_id": 64187192, "body": "I have given rwx permission to all for system.sh and why do I need to change permission for basecamp.pl."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468564271, "post_id": 38388901, "comment_id": 64187517, "body": "you also need to check the permission of the parent directories. To check, you can keep your script in <code>&#47;tmp</code> directory and then run. www-data has <b>tmp</b> directory permission(in ubuntu )"}, {"owner": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468564823, "post_id": 38388901, "comment_id": 64187750, "body": "ok ! If I wouldn&#39;t have this permission should I be able to run it from terminal coz it is running fine with that but not from CGI call."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468565280, "post_id": 38388901, "comment_id": 64187971, "body": "when you are running from terminal you have direct access to the program. and browser(www-data) need permission to your program. just think ,how browser will access your directory without your permission  <code>&#47;home&#47;basecamplocal&#47;Perforce&#47;depot&#47;qeutils&#47;basecamp_dev</code>"}, {"owner": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468565473, "post_id": 38388901, "comment_id": 64188083, "body": "So which directory I should give permission to.I have given rwx permission to all files of basecamp_dev"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468565690, "post_id": 38388901, "comment_id": 64188207, "body": "First try to run your script from <code>tmp</code> directory to test and each directory in your file path need to execute level permission to the <b>www-data</b>."}, {"owner": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468565858, "post_id": 38388901, "comment_id": 64188293, "body": "how to locate www-data. I am not able to find it."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468566249, "post_id": 38388901, "comment_id": 64188510, "body": "www-data is a group name. here is some information about it <a href=\"http://askubuntu.com/questions/244406/how-do-i-give-www-data-user-to-a-folder-in-my-home-folder\" title=\"how do i give www data user to a folder in my home folder\">askubuntu.com/questions/244406/&hellip;</a>  . I think it will help you"}, {"owner": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468566512, "post_id": 38388901, "comment_id": 64188647, "body": "I have switched to root and trying the same. but still unsuccessful."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468566893, "post_id": 38388901, "comment_id": 64188872, "body": "I didn&#39;t get what you did using root user. can you please explain"}, {"owner": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468568518, "post_id": 38388901, "comment_id": 64189787, "body": "Root already has all permissions, so while running anything as a root there shouldnot be any permission problems. I just switched to root user and then simply went to browser and clicked on the href. but still shell script is not executing. I stored its exit code into a variable and exit code is 0 that means it is running is it ?"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468570694, "post_id": 38388901, "comment_id": 64191086, "body": "your cgi-script is running on the browser and root is not the user for the browser. consider browser as a external user."}, {"owner": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468575783, "post_id": 38388901, "comment_id": 64194322, "body": "Yes So what should I do . Please talk in terms of what I have to do rather what should I consider as I am new to this but I completely understand server and client analogy in this case. Please help."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468576754, "post_id": 38388901, "comment_id": 64195025, "body": "have you tested your program by putting your script in /tmp directory?"}, {"owner": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468819148, "post_id": 38388901, "comment_id": 64264340, "body": "Where can I find tmp directory. I used grep but I couldn&#39;t find the tmp directory rather found a tmp function."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468819334, "post_id": 38388901, "comment_id": 64264415, "body": "what is your operating system . If its ubuntu just type <code>cd &#47;tmp</code>"}, {"owner": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468836649, "post_id": 38388901, "comment_id": 64273470, "body": "Yes I used the command and placed my sample.sh script at that place and then tried to run the same from root by restarting the server and clicked on the button. Still not able to execute sh. Please help."}, {"owner": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "edited": false, "score": 0, "creation_date": 1468839366, "post_id": 38388901, "comment_id": 64275241, "body": "Or you can suggest any other shell script which I can use so as to confirm that it is getting executed."}], "tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": false, "score": -1, "last_activity_date": 1468846838, "last_edit_date": 1468846838, "creation_date": 1468562710, "answer_id": 38388901, "question_id": 38388138, "link": "https://stackoverflow.com/questions/38388138/system-command-not-running-when-called-through-cgi-from-perl/38388901#38388901", "title": "System command not running when called through cgi from Perl", "body": "<p>Looks like you have permission issue. First check the permission of your <code>system.sh</code> program and parent directories. I think web user has no permission to execute the program.</p>\n\n<p>Test code : <code>test.cgi</code></p>\n\n<p>Persmission : 755</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse CGI::Carp qw(fatalsToBrowser);\nuse CGI qw(:standard);\nuse CGI::Carp qw(warningsToBrowser fatalsToBrowser);\nprint header( -type =&gt; 'text/html' );\nprint &lt;&lt;EOF;\n\n&lt;title&gt;Browser Page&lt;/title&gt;\n&lt;body&gt;\n&lt;div&gt; Hellow &lt;/div&gt;\n\nEOF\n\nmy $command =\"sh /tmp/abc.sh\";\nprint \"$command&lt;br&gt;\";\nsystem($command);\nprint \"&lt;/body&gt;\";\n</code></pre>\n\n<p>code: <code>abc.sh</code></p>\n\n<pre><code>#!/bin/bash\n\necho \"Good Day\"\n</code></pre>\n\n<p>Output on the browser is </p>\n\n<pre><code>Hellow\nsh /tmp/abc.sh \nGood Day\n</code></pre>\n\n<p>Hope this will help you.</p>\n"}], "owner": {"reputation": 11, "user_id": 6592452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058fece8ae17f6cf716f5a65a812ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "amisha mehta", "link": "https://stackoverflow.com/users/6592452/amisha-mehta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1394, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1468846838, "creation_date": 1468558681, "question_id": 38388138, "link": "https://stackoverflow.com/questions/38388138/system-command-not-running-when-called-through-cgi-from-perl", "title": "System command not running when called through cgi from Perl", "body": "<p>I have been stuck for many days where I have a perl script. I have made a function in my CGI File which has some HTML content and a system command to execute a shell script.Then I have an href which calls the perl file which in turn calls the CGI function and shows the content on the browser. But everything is loading except the execution of system command in CGI. I tried to put this system command in my Perl File itself and on execution it is successfully executing the shell script from command line. But I wanted this to happen on a button click so I had to make a CGI call but still I am not able to call it.\nI have been through many questions but I still am looking for the perfect answer.\nHere is my code:\ntest1.pl</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\n\nuse CGI::Carp qw(fatalsToBrowser);\nuse Basecamp::UI;\nuse Basecamp::Dashboard;\nuse Basecamp::Info;\n\nmy $cgi = Basecamp::UI-&gt;new-&gt;cgi();\nmy $dashboard = Basecamp::Dashboard-&gt;new();\nmy @html = $cgi-&gt;tab_ext();\n\n#push @html, '&lt;div class=\"page\"&gt;';\n#push @html, newstuff();\n#push @html, '&lt;/div&gt;';\n#print \"Hello Hey\";\n#system( ' sh  /home/basecamplocal/Perforce/depot/qeutils/basecamp_dev/sample.sh ');\n\nprint $cgi-&gt;begin('Basecamp | ext', $dashboard), $cgi-&gt;begin_page();\nprint @html;\nprint $cgi-&gt;end_page(), $cgi-&gt;begin_footer(), $cgi-&gt;end_footer(), $cgi-&gt;end();\n</code></pre>\n\n<p>shell script is:</p>\n\n<pre><code>#!/bin/bash\n#perl Basecamp.pl &gt; log_sample.txt\ntouch log_sample.txt\n\necho \"Good Day\"\n</code></pre>\n\n<p>CGI File Function:</p>\n\n<pre><code>=item tab_ext()\n======================================================================================\n\n        DESC:   Generates appropriate tabs for About, about.pl.\n        OUT:    Returns array of scalars with html to draw the tabs and any associated\n                        subtabs.\n\n======================================================================================\n=cut\nsub tab_ext\n{\n        my ($self) = @_;\n        my $tab = $self-&gt;param('tab');\n        my @tabs = ('&lt;li&gt;&lt;a href=\"test1.pl?tab=New\"&gt;Status Restart&lt;/a&gt;&lt;/li&gt;');\n        my @subtabs = ();\n        my @html = ();\n\n        $tabs[0] = '&lt;li class=\"selected\"&gt;&lt;a href=\"#\"&gt;Status Restart&lt;/a&gt;&lt;/li&gt;';\n\n        @html = ('&lt;ul id=\"tabs\"&gt;', @tabs, '&lt;/ul&gt;');\n\n        push @html, ('&lt;ul id=\"subtabs\"&gt;', @subtabs, '&lt;/ul&gt;');\n        print \"Content-type: text/html\\n\\n\";\n        system(\"sh /full path to shell file /sample.sh \");\n\n\n        return @html;\n\n}\n</code></pre>\n\n<p>and I am calling the test1.pl file on a href call html.The whole html content from CGI is being displayed except the execution of shell script.\nA helping hand would be appreciated.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6592197, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f4aoPAvJVaQ/AAAAAAAAAAI/AAAAAAAAB20/na0I_FMlF50/photo.jpg?sz=128", "display_name": "lmckenz", "link": "https://stackoverflow.com/users/6592197/lmckenz"}, "edited": false, "score": 0, "creation_date": 1468553869, "post_id": 38387445, "comment_id": 64184374, "body": "Is there a way to close the whole CMD? or just the script?"}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "reply_to_user": {"reputation": 11, "user_id": 6592197, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f4aoPAvJVaQ/AAAAAAAAAAI/AAAAAAAAB20/na0I_FMlF50/photo.jpg?sz=128", "display_name": "lmckenz", "link": "https://stackoverflow.com/users/6592197/lmckenz"}, "edited": false, "score": 0, "creation_date": 1468555194, "post_id": 38387445, "comment_id": 64184664, "body": "Not really. That isn&#39;t an expected behavior for any program."}], "tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": true, "score": 1, "last_activity_date": 1468553597, "creation_date": 1468553597, "answer_id": 38387445, "question_id": 38387173, "link": "https://stackoverflow.com/questions/38387173/how-do-i-close-the-cmd-when-i-enter-a-certain-value-in-perl/38387445#38387445", "title": "How do I close the CMD when I enter a certain value in perl?", "body": "<pre><code>}elsif ($prog_run == \"e\"){\n</code></pre>\n\n<p><code>==</code> is the numeric comparison operator; it only works correctly on numbers. Since <code>\"e\"</code> is a string, you will need to use the string comparison operator, <code>eq</code>, to compare something with it:</p>\n\n<pre><code>} elsif ($prog_run eq \"e\") {\n</code></pre>\n\n<p>However, the line you read from standard input will have a newline on it by default. You can either include this in your string (<code>\"e\\n\"</code>), or <code>chomp $prog_run;</code> beforehand to strip off the newline.</p>\n\n<p>Anyways.</p>\n\n<p>If you're in a loop, you can use <code>last</code> to exit out of it. Alternatively, you can use <code>exit</code> to make the whole Perl process\u2026 well, exit.</p>\n"}], "owner": {"reputation": 11, "user_id": 6592197, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f4aoPAvJVaQ/AAAAAAAAAAI/AAAAAAAAB20/na0I_FMlF50/photo.jpg?sz=128", "display_name": "lmckenz", "link": "https://stackoverflow.com/users/6592197/lmckenz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 38387445, "answer_count": 1, "score": 1, "last_activity_date": 1468572441, "creation_date": 1468551205, "question_id": 38387173, "link": "https://stackoverflow.com/questions/38387173/how-do-i-close-the-cmd-when-i-enter-a-certain-value-in-perl", "title": "How do I close the CMD when I enter a certain value in perl?", "body": "<p>I am currently making a program that will <em>eventually</em> be able to auto start when I sign onto my computer and will allow me to select from a variety of programs to start. I currently have two (just started it). Anyway, I was wondering, because it is being run thru CMD, how can I have the program close CMD when I enter a certain value. My code:</p>\n\n<pre><code>print \"What would you like to run? (1 for Chrome and 2 for Calculator \\\"e\\\" for exit)  \\n\";\nmy $prog_run = &lt;STDIN&gt;;\n\nif ($prog_run == 1){\n#Chrome Function\nsystem('\"C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\"');\n}elsif ($prog_run == 2){\n#Calculator Function\nsystem('\"C:\\Windows\\System32\\calc.exe\"');\n}elsif ($prog_run == \"e\"){\n  #Exit Fucntion\n  print \"Exiting........\";\n}\n</code></pre>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 3715, "user_id": 1241334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fCjAE.jpg?s=128&g=1", "display_name": "Jonny Henly", "link": "https://stackoverflow.com/users/1241334/jonny-henly"}, "edited": false, "score": 3, "creation_date": 1468542329, "post_id": 38386077, "comment_id": 64182090, "body": "Is this a program request or is this a question? This question also shows no research and no attempt made by the asker."}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1468542544, "post_id": 38386077, "comment_id": 64182132, "body": "This is at least three questions: generating random values, changing output colors, and doing this in <code>bash</code> or <code>perl</code>. You&#39;re going to have to show some research effort  and narrow this down a bit."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1468544760, "post_id": 38386077, "comment_id": 64182568, "body": "You don&#39;t appear to have asked a question, and seem to be expecting someone to do your job for you. Stack Overflow is about asking for help with fixing code that you&#39;ve written and are struggling to get working. It&#39;s not a place where you can just dump a requirement and a solution magically pops out. You would get a far better response if you had appeared to make even the slightest effort on your own."}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 4, "last_activity_date": 1468573974, "last_edit_date": 1468573974, "creation_date": 1468573549, "answer_id": 38392147, "question_id": 38386077, "link": "https://stackoverflow.com/questions/38386077/how-to-randomly-generate-ansi-colors-in-bash-perl/38392147#38392147", "title": "How to randomly generate ANSI colors in Bash/Perl?", "body": "<p>In bash, you need to use color escape sequences with <code>echo -e</code></p>\n\n<p><strong>random_colors.sh</strong></p>\n\n<pre><code>#!/bin/bash\n\nTXT='the quick brown fox jumped over the lazy dog.'\nWORDS=( $TXT )\nfor WORD in \"${WORDS[@]}\"; do\n    let \"i=$RANDOM % 256\"\n    echo -en \"\\e[38;5;${i}m$WORD \\e[0m\";\ndone;\necho\n</code></pre>\n\n<p>Running this 10 times:</p>\n\n<pre><code>for i in `seq 1 10`; do bash random_colors.sh; done\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/CyjpA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CyjpA.png\" alt=\"Bash Color Output\"></a></p>\n\n<p>To get a particular palette, you will need to restrict the set of color numbers.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code#Colors\" rel=\"nofollow noreferrer\">ANSI Escape Codes for Colors</a></p>\n\n<p><a href=\"http://misc.flogisoft.com/bash/tip_colors_and_formatting\" rel=\"nofollow noreferrer\">Colors and Formatting</a></p>\n"}], "owner": {"reputation": 185, "user_id": 5586781, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2b4942946dbb26e852c38eaf0bb8fab?s=128&d=identicon&r=PG&f=1", "display_name": "taiyebur", "link": "https://stackoverflow.com/users/5586781/taiyebur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 966, "favorite_count": 0, "accepted_answer_id": 38392147, "answer_count": 1, "score": -3, "last_activity_date": 1468607554, "creation_date": 1468541780, "question_id": 38386077, "link": "https://stackoverflow.com/questions/38386077/how-to-randomly-generate-ansi-colors-in-bash-perl", "title": "How to randomly generate ANSI colors in Bash/Perl?", "body": "<p>I want to generate ANSI colors randomly. It needs two features.</p>\n\n<ul>\n<li>Generated randomly</li>\n<li>Choice to generate from a specific color type e.g. randomly generate different shades of only grey or only green.</li>\n</ul>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5832, "user_id": 1650200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x9BvZ.jpg?s=128&g=1", "display_name": "Angelos Chalaris", "link": "https://stackoverflow.com/users/1650200/angelos-chalaris"}, "edited": false, "score": 1, "creation_date": 1468531040, "post_id": 38384278, "comment_id": 64178734, "body": "Please try to properly format your question so that others can easily view and understand the code in it."}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 2, "creation_date": 1468531401, "post_id": 38384278, "comment_id": 64178877, "body": "It&#39;s possible with a regex, but probably easier to use a regex for the string format and capture the number (with <code>$1</code> or <code>$&amp;</code>, for example), and then compare the number in a seperate if where you define the range there. If you want help with the range in the regex, look here: <a href=\"http://www.regular-expressions.info/numericranges.html\" rel=\"nofollow noreferrer\">regular-expressions.info/numericranges.html</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1468531458, "post_id": 38384278, "comment_id": 64178900, "body": "Hi mohan, your question was a bit unclear. I think I understand what you&#39;re trying to do so I edited it to make it clearer, but please edit again if I misunderstood."}, {"owner": {"reputation": 1, "user_id": 4922133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d4bc3b15cb1c6b698ca5563ccd4fd3c?s=128&d=identicon&r=PG&f=1", "display_name": "mohan", "link": "https://stackoverflow.com/users/4922133/mohan"}, "edited": false, "score": 0, "creation_date": 1468543281, "post_id": 38384278, "comment_id": 64182272, "body": "AnthonH Could you please provide one example if it is possible to find the range without using $1, using plane regex."}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 1, "creation_date": 1468559510, "post_id": 38384278, "comment_id": 64185800, "body": "@mohan You would basically have to have strings for all possible numbers, so it would start: <code>(2239|22[456789]\\d|2[3456789]\\d{2}...)</code>, but that would only cover the numbers 2239 to 2999. You would have to add additional statements for the 3000s, 4000s, and so on. Like, I said, it&#39;s possible, but so much easier to capture the number and compare it outside the regex."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468577798, "post_id": 38384278, "comment_id": 64195688, "body": "@mohan: <i>&quot;For this specific problem, I cannot use $1 for the range&quot;</i> Please explain why not. Is this a homework problem?"}, {"owner": {"reputation": 1, "user_id": 4922133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d4bc3b15cb1c6b698ca5563ccd4fd3c?s=128&d=identicon&r=PG&f=1", "display_name": "mohan", "link": "https://stackoverflow.com/users/4922133/mohan"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468591542, "post_id": 38384278, "comment_id": 64204626, "body": "@Borodin I wrote a tool myself which extracts this regex from a file and put into some script to find signals and then reassign. it selects only between /../ this and put it in scripts. and this is only one signal out of 1000 So I don&#39;t want to fix the tool for this problem."}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1468615541, "post_id": 38384278, "comment_id": 64218034, "body": "@mohan I put my answer with the regex, let me know if this is suitable."}], "answers": [{"tags": [], "owner": {"reputation": 333, "user_id": 6168549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04203874c94da7b9bcd58f6096ae8375?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos", "link": "https://stackoverflow.com/users/6168549/carlos"}, "is_accepted": false, "score": -1, "last_activity_date": 1468532777, "creation_date": 1468532777, "answer_id": 38384767, "question_id": 38384278, "link": "https://stackoverflow.com/questions/38384278/how-can-i-match-lines-that-include-a-number-between-x-and-y/38384767#38384767", "title": "How can I match lines that include a number between X and Y?", "body": "<p>As AntonH mentioned you can use the following below:</p>\n\n<pre><code>$_ =~ /SIgnal_Catch\\[(\\d+)\\]/;\n\nif ( $1 &gt;= 2239 &amp;&amp; $1 &lt;= 13569 )\n{\n    print $_;\n}\n</code></pre>\n\n<p>Your regex above will not work and your match is missing the \"[\" and \"]\".</p>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468540014, "post_id": 38385185, "comment_id": 64181670, "body": "That matches <code>1000</code> to <code>99999</code>"}, {"owner": {"reputation": 1, "user_id": 4922133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d4bc3b15cb1c6b698ca5563ccd4fd3c?s=128&d=identicon&r=PG&f=1", "display_name": "mohan", "link": "https://stackoverflow.com/users/4922133/mohan"}, "edited": false, "score": 0, "creation_date": 1468543350, "post_id": 38385185, "comment_id": 64182297, "body": "Dan Hydar  Could you please provide one example using plane regex without using $1."}, {"owner": {"reputation": 463, "user_id": 6511094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRJfm.jpg?s=128&g=1", "display_name": "D Hydar", "link": "https://stackoverflow.com/users/6511094/d-hydar"}, "edited": false, "score": 0, "creation_date": 1468543801, "post_id": 38385185, "comment_id": 64182380, "body": "Borodin -  I matched an easy <i>close</i> match with the regular expression, then  tightened the check by comparing the int values.  As long as I was doing a regex <i>anyway</i>, I figured I might as well tweak it to disqualify numbers that are <i>obviously</i> of range.  1000 &lt; 2239 &lt; 13569 &lt; 99999"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468591392, "post_id": 38385185, "comment_id": 64204531, "body": "I can&#39;t see any way that would be a good idea. The numerical comparison will be extremely fast, and isn&#39;t really helped by reducing the range of the value it has to compare. Meanwhile the regex will take rather longer (although insignificantly so)."}, {"owner": {"reputation": 463, "user_id": 6511094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRJfm.jpg?s=128&g=1", "display_name": "D Hydar", "link": "https://stackoverflow.com/users/6511094/d-hydar"}, "edited": false, "score": 0, "creation_date": 1468628195, "post_id": 38385185, "comment_id": 64221618, "body": "Well.... when I&#39;ve paid attention, it&#39;s seemed the overhead of a regular expression engine doesn&#39;t increase noticeably with slight changes in complexity (such as looking for a string of \\d rather than a length-limited set of chars).  OTOH, adding extra lines of code in a loop might well. Theoretically, it&#39;s just an int compare, but all the interpretation behind it  needs to be done. Dunno if Perl tries to be &quot;smart&quot; in that regard.  (A quick test on two versions of  the code verified the speed difference on the version of perl I&#39;m running on my Budget Conscious Linux Box.   YMMV, of course.)"}, {"owner": {"reputation": 463, "user_id": 6511094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRJfm.jpg?s=128&g=1", "display_name": "D Hydar", "link": "https://stackoverflow.com/users/6511094/d-hydar"}, "edited": false, "score": 0, "creation_date": 1468628332, "post_id": 38385185, "comment_id": 64221645, "body": "For good or for ill, I was making the assumption that the values being culled would be a fairly small subset of the values that actually appeared a file (very large - say, millions of lines) .  Now, that being said, it&#39;s probably Not  All That Important to do that silly optimization vs having the regular expression being <i>clearer</i>.  On that trade-off I plead somewhat guilty.   ;)"}], "tags": [], "owner": {"reputation": 463, "user_id": 6511094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRJfm.jpg?s=128&g=1", "display_name": "D Hydar", "link": "https://stackoverflow.com/users/6511094/d-hydar"}, "is_accepted": false, "score": 0, "last_activity_date": 1468535032, "creation_date": 1468535032, "answer_id": 38385185, "question_id": 38384278, "link": "https://stackoverflow.com/questions/38384278/how-can-i-match-lines-that-include-a-number-between-x-and-y/38385185#38385185", "title": "How can I match lines that include a number between X and Y?", "body": "<pre><code>if ( $line =~ /.*SIgnal_Catch\\[([1-9][0-9]{3,4})\\].*/ ) {\n\n    if ( $1 &gt;= 2239  &amp;&amp;  $1 &lt;= 13569 ) {\n       print $line . \"\\n\";\n    }\n\n}\n</code></pre>\n\n<p>Doing what you want with <em>just</em> regex would be, um, really hairy.  Try something like the above.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1468539570, "creation_date": 1468539570, "answer_id": 38385846, "question_id": 38384278, "link": "https://stackoverflow.com/questions/38384278/how-can-i-match-lines-that-include-a-number-between-x-and-y/38385846#38385846", "title": "How can I match lines that include a number between X and Y?", "body": "<p>Don't try to make regex patterns do too much. You're writing a Perl program, so use Perl</p>\n\n<p>This will do as you ask</p>\n\n<pre><code>if ( /SIgnal_Catch\\[(\\d+)\\]/ and $1 &gt;= 2239 and $1 &lt;= 13569 ) {\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "is_accepted": false, "score": 1, "last_activity_date": 1468638095, "last_edit_date": 1468638095, "creation_date": 1468615252, "answer_id": 38404714, "question_id": 38384278, "link": "https://stackoverflow.com/questions/38384278/how-can-i-match-lines-that-include-a-number-between-x-and-y/38404714#38404714", "title": "How can I match lines that include a number between X and Y?", "body": "<p>Since you've said you can't use <code>$1</code> or <code>$&amp;</code>, here is the regex string I made. It works, but it's not pretty:</p>\n\n<pre><code>$line =~ /SIgnal_Catch\\[\\b(2239|22[456789]\\d|2[3-9]\\d{2}|[3-9]\\d{3}|(10|11|12)\\d{3}|13[0-4]\\d{2}|135[0-6]\\d)\\b\\]/;\n</code></pre>\n\n<p>Like I said in my comments, you basically have to think how the numbers can be represented in a string, and format all the alternatives. I tested this string on <a href=\"https://regex101.com/\" rel=\"nofollow\">regex101</a> and it works. But if there is even a slight chance that this kind of regex may pop up again in the future, it's worth thinking about whether you can modify the tool (cfr Borodon's response, or my own comments to the original question) rather than just adding more regexes like this one.</p>\n\n<p>N.B.: If you do test it on the regex101 web site, and you have several numbers in the Test String box, don't forget to add the global modifier <code>g</code> to the regex, as it will otherwise just find the first.</p>\n"}], "owner": {"reputation": 1, "user_id": 4922133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d4bc3b15cb1c6b698ca5563ccd4fd3c?s=128&d=identicon&r=PG&f=1", "display_name": "mohan", "link": "https://stackoverflow.com/users/4922133/mohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1468638095, "creation_date": 1468530461, "last_edit_date": 1468543560, "question_id": 38384278, "link": "https://stackoverflow.com/questions/38384278/how-can-i-match-lines-that-include-a-number-between-x-and-y", "title": "How can I match lines that include a number between X and Y?", "body": "<p>In the large file, I have lines of the form <code>SIgnal_Catch[0]</code>, where the number in braces ranges from 0 to 223345. I want to extract the lines where the number is between 2239 and 13569.</p>\n\n<p>I tried this:</p>\n\n<pre><code>print \"$line\" if $line =~ /SIgnal_Catch\\[2239-13569]/;\n</code></pre>\n\n<p>but it didn't match the lines I want. I also tried this:</p>\n\n<pre><code>print \"$line\" if $line =~ /SIgnal_Catch\\[\\d+]/;\n</code></pre>\n\n<p>but it matches too much. How can I do this?\nFor this specific problem, I cannot use $1 for the range.</p>\n"}, {"tags": ["perl", "powershell"], "comments": [{"owner": {"reputation": 21144, "user_id": 478656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fd656a5e8d2a51290877d695649456ad?s=128&d=identicon&r=PG", "display_name": "TessellatingHeckler", "link": "https://stackoverflow.com/users/478656/tessellatingheckler"}, "edited": false, "score": 0, "creation_date": 1468526742, "post_id": 38383196, "comment_id": 64176522, "body": "I don&#39;t Perl, but assuming the backticks are invoking a command like in Bash, you&#39;re invoking one command with no parameter, and trying to run the variable as if it was another command. Then concatenate the results together. That doesn&#39;t look like it would work at all. Still, explain what <i>you</i> mean by &quot;not correctly&quot;, what should happen and what actually happens. Nobody can guess what&#39;s going wrong."}, {"owner": {"reputation": 123, "user_id": 5049160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e685c1bc98dad36bab8b5c7582bb9ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Campbell", "link": "https://stackoverflow.com/users/5049160/grant-campbell"}, "reply_to_user": {"reputation": 21144, "user_id": 478656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fd656a5e8d2a51290877d695649456ad?s=128&d=identicon&r=PG", "display_name": "TessellatingHeckler", "link": "https://stackoverflow.com/users/478656/tessellatingheckler"}, "edited": false, "score": 0, "creation_date": 1468527082, "post_id": 38383196, "comment_id": 64176705, "body": "Updated thank you for your reply"}], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 5049160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e685c1bc98dad36bab8b5c7582bb9ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Campbell", "link": "https://stackoverflow.com/users/5049160/grant-campbell"}, "is_accepted": true, "score": 1, "last_activity_date": 1468528229, "creation_date": 1468528229, "answer_id": 38383739, "question_id": 38383196, "link": "https://stackoverflow.com/questions/38383196/how-to-pass-argument-to-powershell-from-perl-and-retain-the-output/38383739#38383739", "title": "How to pass argument to Powershell from PERL and retain the output?", "body": "<p>I figured it out... \nI also wrapped it in a fuction</p>\n\n<pre><code>sub getvalue{\nprint \"Getting value...\\n\";\nmy $renamecmd = 'Powershell.exe -executionpolicy remotesigned -File C:\\Workspace\\Utilities\\pathtofile.ps1'.\" $val\";\nmy @output = `$renamecmd`;\nforeach (@output) {\n   print $_;\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 5049160, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e685c1bc98dad36bab8b5c7582bb9ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Campbell", "link": "https://stackoverflow.com/users/5049160/grant-campbell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "accepted_answer_id": 38383739, "answer_count": 1, "score": 0, "last_activity_date": 1468528229, "creation_date": 1468526175, "last_edit_date": 1468527067, "question_id": 38383196, "link": "https://stackoverflow.com/questions/38383196/how-to-pass-argument-to-powershell-from-perl-and-retain-the-output", "title": "How to pass argument to Powershell from PERL and retain the output?", "body": "<p>I'm trying to pass an argument to a Powershell script via PERL and then retain the output for use later in the script. I cannot seem to get it to work. </p>\n\n<p><strong>PERL</strong></p>\n\n<pre><code>$var= 1000;\n\nmy @output = `powershell.exe C:\\\\Workspace\\\\Utilities\\\\pathtoscript.ps1`.` $var`;\nforeach (@output)\n{\n   print $_;\n}\n</code></pre>\n\n<p>The powershell script appears to fail as if it's not receiving the argument. The powershell script is supposed to use that value and determine a new value based on the original value and pass it back to PERL to be used later in the PERL script. </p>\n\n<p>I have attached another example of what i tried, which also fails in the same </p>\n\n<p><strong>Alternate Script</strong> </p>\n\n<pre><code>$center = 1000;\nprint \"Getting business unit...\\n\";\nmy $renamecmd = 'Powershell.exe -executionpolicy remotesigned -File C:\\Workspace\\Utilities\\get_business_unit.ps1'.\" $center\";\nmy @output = `$renamecmd`;\nforeach (@output)\n{\n   print $_;\n}\n</code></pre>\n\n<p>Thanks in advance! </p>\n"}, {"tags": ["c", "linux", "perl", "awk", "merge"], "comments": [{"owner": {"reputation": 2379, "user_id": 5045375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17ed0af705e0449fe49b74d8814a8ce2?s=128&d=identicon&r=PG", "display_name": "Filip Allberg", "link": "https://stackoverflow.com/users/5045375/filip-allberg"}, "edited": false, "score": 3, "creation_date": 1468524881, "post_id": 38382251, "comment_id": 64175447, "body": "What have you tried so far? StackOverflow is not a site for getting other people to write your code for you."}, {"owner": {"reputation": 11, "user_id": 6589892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e9956785c7fbe51608d4e8fb4d1f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/6589892/sarah"}, "reply_to_user": {"reputation": 2379, "user_id": 5045375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17ed0af705e0449fe49b74d8814a8ce2?s=128&d=identicon&r=PG", "display_name": "Filip Allberg", "link": "https://stackoverflow.com/users/5045375/filip-allberg"}, "edited": false, "score": 0, "creation_date": 1468525490, "post_id": 38382251, "comment_id": 64175788, "body": "I&#39;m totally new to programming and in the learning process. I&#39;ve worked with Linux, Perl and C. I know how to merge files, but my problem is merging and sorting them based on the column names at the same time and also the the high number of rows and columns that I have."}, {"owner": {"reputation": 2379, "user_id": 5045375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17ed0af705e0449fe49b74d8814a8ce2?s=128&d=identicon&r=PG", "display_name": "Filip Allberg", "link": "https://stackoverflow.com/users/5045375/filip-allberg"}, "edited": false, "score": 0, "creation_date": 1468525895, "post_id": 38382251, "comment_id": 64176041, "body": "Okay, so in your example is A1 part of the actual file? Or is it just so we can refer to the first line?"}, {"owner": {"reputation": 11, "user_id": 6589892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e9956785c7fbe51608d4e8fb4d1f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/6589892/sarah"}, "reply_to_user": {"reputation": 2379, "user_id": 5045375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17ed0af705e0449fe49b74d8814a8ce2?s=128&d=identicon&r=PG", "display_name": "Filip Allberg", "link": "https://stackoverflow.com/users/5045375/filip-allberg"}, "edited": false, "score": 0, "creation_date": 1468526032, "post_id": 38382251, "comment_id": 64176111, "body": "It&#39;s just a reference to each row and exists in my actual file."}, {"owner": {"reputation": 11, "user_id": 6589892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e9956785c7fbe51608d4e8fb4d1f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/6589892/sarah"}, "reply_to_user": {"reputation": 2379, "user_id": 5045375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17ed0af705e0449fe49b74d8814a8ce2?s=128&d=identicon&r=PG", "display_name": "Filip Allberg", "link": "https://stackoverflow.com/users/5045375/filip-allberg"}, "edited": false, "score": 0, "creation_date": 1468526110, "post_id": 38382251, "comment_id": 64176152, "body": "I found a way in R, with very few commands, but takes a very very long time to read and write my files. I find Linux, Perl and C codes to be a lot more faster."}, {"owner": {"reputation": 2379, "user_id": 5045375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17ed0af705e0449fe49b74d8814a8ce2?s=128&d=identicon&r=PG", "display_name": "Filip Allberg", "link": "https://stackoverflow.com/users/5045375/filip-allberg"}, "edited": false, "score": 0, "creation_date": 1468526171, "post_id": 38382251, "comment_id": 64176194, "body": "Alright, so for the <code>A</code> file, is it so that <code>Affy1</code> refers to <code>1</code>, <code>Affy3</code> to <code>2</code> and since that file is missing <code>Affy2</code> there should be a <code>5</code> inserted there?"}, {"owner": {"reputation": 11, "user_id": 6589892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e9956785c7fbe51608d4e8fb4d1f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/6589892/sarah"}, "reply_to_user": {"reputation": 2379, "user_id": 5045375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17ed0af705e0449fe49b74d8814a8ce2?s=128&d=identicon&r=PG", "display_name": "Filip Allberg", "link": "https://stackoverflow.com/users/5045375/filip-allberg"}, "edited": false, "score": 0, "creation_date": 1468526276, "post_id": 38382251, "comment_id": 64176246, "body": "exactly! It is shown in the output file."}, {"owner": {"reputation": 2379, "user_id": 5045375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17ed0af705e0449fe49b74d8814a8ce2?s=128&d=identicon&r=PG", "display_name": "Filip Allberg", "link": "https://stackoverflow.com/users/5045375/filip-allberg"}, "edited": false, "score": 0, "creation_date": 1468526497, "post_id": 38382251, "comment_id": 64176393, "body": "And there is a row in each file with the column names?"}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 1, "creation_date": 1468526541, "post_id": 38382251, "comment_id": 64176424, "body": "I don&#39;t understand the &quot;merging&quot; idea, but I get &quot;appending&quot; since the <code>A</code> set seems to have nothing to do with the <code>B</code> set. I can see you are filling missing columns with a <code>5</code>, but I do not see why the third output line is <code>A3 1 5 5 0 0</code> and not <code>A3 1 5 0 2 2</code>."}, {"owner": {"reputation": 11, "user_id": 6589892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e9956785c7fbe51608d4e8fb4d1f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/6589892/sarah"}, "edited": false, "score": 0, "creation_date": 1468526751, "post_id": 38382251, "comment_id": 64176528, "body": "You are totally correct Weather Vane! My mistake in typing. corrected."}, {"owner": {"reputation": 11, "user_id": 6589892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e9956785c7fbe51608d4e8fb4d1f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/6589892/sarah"}, "edited": false, "score": 0, "creation_date": 1468526957, "post_id": 38382251, "comment_id": 64176645, "body": "Filip the column names are the Affy1, Affy2, .... I can have them as a separate file (as shown) or as a header in the first row."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1468527130, "post_id": 38382251, "comment_id": 64176735, "body": "Never mind the huge number of columns for now. Just show your <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> for the 5 column example, along with how you specify and interpret the column usage."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1468527313, "post_id": 38382251, "comment_id": 64176834, "body": "@Sarah please put the <code>@</code> in front of user names so they get flagged, thanks. You don&#39;t seem to have taken the &quot;tour&quot; just click &quot;help&quot; near the top right, and read <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a>. And please make up your mind which language this (missing) code is a question about."}, {"owner": {"reputation": 11, "user_id": 6589892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e9956785c7fbe51608d4e8fb4d1f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/6589892/sarah"}, "reply_to_user": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1468528594, "post_id": 38382251, "comment_id": 64177517, "body": "@WeatherVane Preferably Perl or awk. I&#39;m open to any language that solves the question."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1468528675, "post_id": 38382251, "comment_id": 64177553, "body": "Please see the first comment."}, {"owner": {"reputation": 11, "user_id": 6589892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e9956785c7fbe51608d4e8fb4d1f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/6589892/sarah"}, "reply_to_user": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1468528941, "post_id": 38382251, "comment_id": 64177700, "body": "@WeatherVane The two files I have are independent. Just want to sort the columns and replace the missing with a 5. So for this example I get an output with 6 rows and 5 columns (Affy1, Affy2, Affy3, Affy4, Affy5)"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6589892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e9956785c7fbe51608d4e8fb4d1f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/6589892/sarah"}, "edited": false, "score": 0, "creation_date": 1468606358, "post_id": 38383567, "comment_id": 64213489, "body": "The code works perfectly  with the sample, but how can I read a file instead of inputting the data? In reality I have around 700&#39;000 columns and 2&#39;000 rows. Thanks!"}], "tags": [], "owner": {"reputation": 474, "user_id": 5905325, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4Uf-a54iNo/AAAAAAAAAAI/AAAAAAAAAdA/jc13jE20tww/photo.jpg?sz=128", "display_name": "murphy", "link": "https://stackoverflow.com/users/5905325/murphy"}, "is_accepted": false, "score": -1, "last_activity_date": 1468529842, "last_edit_date": 1468529842, "creation_date": 1468527555, "answer_id": 38383567, "question_id": 38382251, "link": "https://stackoverflow.com/questions/38382251/merging-two-file-based-on-columns-and-sorting/38383567#38383567", "title": "Merging two file based on columns and sorting", "body": "<p>For the fun of it -- HTH</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse constant {A =&gt; 1, B =&gt; 2, BOTH =&gt;3};\n\n# I don't read data from file\nmy @columns = qw(Affy1 Affy2 Affy3 Affy4 Affy5);\nmy @locations = (BOTH, B,    BOTH, A,    A);\n\nmy @contentA = ([\"A1\", 1, 2, 5, 1],\n                [\"A2\", 0, 2, 1, 1],\n                [\"A3\", 1, 0, 2, 2]);\nmy @contentB = ([\"B1\", 1, 2, 0],\n                [\"B2\", 0, 1, 1],\n                [\"B3\", 5, 1, 1]);\n\n#I assume both files have the same amount of lines\n\nmy @ares  = ();\nmy @bres = ();\nfor(my $i = 0; $i &lt; @contentA; ++$i){\n  # this uses a lot of memory whith huge amounts of data\n  # maybe you write this in two temp result files and cat them\n  # together at the end\n  # another alternative would be to iterate first over\n  # file A and then over file A\n  my @row_a = ();\n  my @row_b = ();\n  push @row_a, shift @{$contentA[$i]}; #id\n  push @row_b, shift @{$contentB[$i]}; #id\n  foreach my $loc (@locations){\n    if(A == $loc){\n      push @row_a, shift @{$contentA[$i]};\n      push @row_b, 5;\n    }\n    if(B == $loc){\n      push @row_a, 5;\n      push @row_b, shift @{$contentB[$i]};\n    }\n    if(BOTH == $loc){\n      push @row_a, shift @{$contentA[$i]};\n      push @row_b, shift @{$contentB[$i]};\n    }\n  }\n  push @ares, \\@row_a;\n  push @bres, \\@row_b;\n}\n\nforeach my $ar(@ares){\n  print join \" \", @{$ar};\n  print \"\\n\";\n}\n\nforeach my $br(@bres){\n  print join \" \", @{$br};\n  print \"\\n\";\n}\n\nprint join(\"\\n\", @columns);\nprint \"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 6589892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e9956785c7fbe51608d4e8fb4d1f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/6589892/sarah"}, "edited": false, "score": 0, "creation_date": 1468605952, "post_id": 38396373, "comment_id": 64213272, "body": "Thanks!  When I try to run it I get an error on line 3. Also, the out put for the last three lines (B1, B2, B3) is incorrect."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 6589892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e9956785c7fbe51608d4e8fb4d1f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/6589892/sarah"}, "edited": false, "score": 0, "creation_date": 1468615532, "post_id": 38396373, "comment_id": 64218029, "body": "@Sarah: What is the error, please? What version of Perl are you running?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 6589892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e9956785c7fbe51608d4e8fb4d1f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/6589892/sarah"}, "edited": false, "score": 0, "creation_date": 1468618475, "post_id": 38396373, "comment_id": 64219160, "body": "@Sarah: My best guess is that you have a very old version of Perl which doesn&#39;t support <code>autodie</code> so I&#39;ve removed that and replaced it with a work-around. And I&#39;m sorry -- I was using the A file header names to reorder the B records; that bug is fixed now"}, {"owner": {"reputation": 11, "user_id": 6589892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e9956785c7fbe51608d4e8fb4d1f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/6589892/sarah"}, "edited": false, "score": 0, "creation_date": 1469647083, "post_id": 38396373, "comment_id": 64628603, "body": "The problem was the perl version. I fixed it and it worked :) Many thanks!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1468618525, "last_edit_date": 1468618525, "creation_date": 1468586415, "answer_id": 38396373, "question_id": 38382251, "link": "https://stackoverflow.com/questions/38382251/merging-two-file-based-on-columns-and-sorting/38396373#38396373", "title": "Merging two file based on columns and sorting", "body": "\n\n<p>The difficult part is ordering the headers when some of them appear only in one file. The best way I know is to build a directed graph using the <a href=\"https://metacpan.org/pod/Graph\" rel=\"nofollow\"><code>Graph</code></a> module and sort the elements topologically</p>\n\n<p>Once that's done it's simply a matter of assigning the values from each file to the correct columns and filling the blanks with 5s</p>\n\n<p>I've incorporated the headers as the first line of each data file, so this program works with this data</p>\n\n<h3>file1.txt</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>ID Affy1 Affy3 Affy4 Affy5\nA1 1 2 5 1 \nA2 0 2 1 1 \nA3 1 0 2 2\n</code></pre>\n\n<h3>file2.txt</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>ID Affy1 Affy2 Affy3\nB1 1 2 0\nB2 0 1 1\nB3 5 1 1\n</code></pre>\n\n<p>And here's the code</p>\n\n<h3>consolidate_columns.pl</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Graph::Directed;\n\nmy @files = qw/ file1.txt file2.txt /;\n\n# Make an array of two file handles\n#\nmy @fh = map {\n    open my $fh, '&lt;', $_ or die qq{Unable to open \"$_\" for input: $!};\n    $fh;\n} @files;\n\n# Make an array of two lists of header names\n#\nmy @file_heads = map { [ split ' ', &lt;$_&gt; ] } @fh;\n\n# Use a directed grapoh to sort all of the header names so thet they're\n# still in the order that they were at the top of both files\n#\nmy @ordered_headers = do {\n\n    my $g = Graph::Directed-&gt;new;\n\n    for my $f ( 0, 1 ) {\n        my $file_heads = $file_heads[$f];\n        $g-&gt;add_edge($file_heads-&gt;[$_], $file_heads-&gt;[$_+1]) for 0 .. $#$file_heads-1;\n    }\n\n    $g-&gt;topological_sort;\n};\n\n# Form a hash converting header names to column indexes for output\n#\nmy %ordered_headers = map { $ordered_headers[$_] =&gt; $_ } 0 .. $#ordered_headers;\n\n# Print the header and the reformed records from each file. Use the hash to\n# convert the header names into column indexes\n#\nprint \"@ordered_headers\\n\";\n\nfor my $i ( 0 .. $#fh ) {\n\n    my $fh         = $fh[$i];\n    my @file_heads = @{ $file_heads[$i] };\n    my @splice     = map { $ordered_headers{$_} } @file_heads;\n\n    while ( &lt;$fh&gt; ) {\n        next unless /\\S/;\n\n        my @columns;\n        @columns[@splice] = split;\n        $_ //= 5 for @columns[0 .. $#ordered_headers];\n\n        print \"@columns\\n\";\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>ID Affy1 Affy2 Affy3 Affy4 Affy5\nA1 1 5 2 5 1\nA2 0 5 2 1 1\nA3 1 5 0 2 2\nB1 1 2 0 5 5\nB2 0 1 1 5 5\nB3 5 1 1 5 5\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6589892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e9956785c7fbe51608d4e8fb4d1f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/6589892/sarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 1, "accepted_answer_id": 38396373, "answer_count": 2, "score": 0, "last_activity_date": 1468618525, "creation_date": 1468522928, "last_edit_date": 1468532796, "question_id": 38382251, "link": "https://stackoverflow.com/questions/38382251/merging-two-file-based-on-columns-and-sorting", "title": "Merging two file based on columns and sorting", "body": "<p>I have two files, <code>FILE1</code> and <code>FILE2</code>, that have a different number of\ncolumns and some columns in common. In both files the first column is\na row identifier. I want to merge the two files (<code>FILE1</code> and <code>FILE2</code>)\nwithout changing the order of the columns, and where there is a missing\nvalue input the value '5'.</p>\n\n<p>For example <code>FILE1</code> (first column is the row ID, <code>A1</code> is the first row, <code>A2</code>\nthe second, ...):</p>\n\n<pre><code>A1 1 2 5 1 \nA2 0 2 1 1 \nA3 1 0 2 2\n</code></pre>\n\n<p>The column names for <code>FILE1</code> is (these are specified in another file),</p>\n\n<pre><code>Affy1\nAffy3\nAffy4\nAffy5\n</code></pre>\n\n<p>which is to say that the value in row <code>A1</code>, column <code>Affy1</code> is <code>1</code>\nand the value in row <code>A3</code>, column <code>Affy5</code> is <code>2</code></p>\n\n<pre><code>     v~~~~~ Affy3\nA1 1 2 5 1 \nA2 0 2 1 1 \nA3 1 0 2 2\n   ^~~~ Affy1\n</code></pre>\n\n<p>Similarly for <code>FILE2</code></p>\n\n<pre><code>B1 1 2 0\nB2 0 1 1\nB3 5 1 1\n</code></pre>\n\n<p>And its column names,</p>\n\n<pre><code>Affy1\nAffy2\nAffy3\n</code></pre>\n\n<p>Meaning that</p>\n\n<pre><code>     v~~~~~ Affy2\nB1 1 2 0\nB2 0 1 1\nB3 5 1 1\n   ^~~~ Affy1\n</code></pre>\n\n<p>I want to merge and sort columns based on the column names and put a\n'5' for missing values. so the merged result would be as follows:</p>\n\n<pre><code>A1 1 5 2 5 1\nA2 0 5 2 1 1\nA3 1 5 0 2 2\nB1 1 2 0 5 5 \nB2 0 1 1 5 5 \nB3 5 1 1 5 5\n</code></pre>\n\n<p>And the columns:</p>\n\n<pre><code>Affy1\nAffy2\nAffy3\nAffy4\nAffy5\n</code></pre>\n\n<p>Which is to say,</p>\n\n<pre><code>     v~~~~~~~ Affy2\nA1 1 5 2 5 1\nA2 0 5 2 1 1\nA3 1 5 0 2 2\nB1 1 2 0 5 5 \nB2 0 1 1 5 5 \nB3 5 1 1 5 5\n   ^~~~ Affy1\n</code></pre>\n\n<p>In reality I have over 700K columns and over 2K rows in each file. Thanks in advance!</p>\n"}, {"tags": ["perl", "web", "server", "cgi"], "comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1468589768, "post_id": 38381507, "comment_id": 64203361, "body": "your form has no <code>action</code>"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 4215534, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-qHhWcbIGdfY/AAAAAAAAAAI/AAAAAAAAACc/mmeaYGqbHC4/photo.jpg?sz=128", "display_name": "Fastboyz", "link": "https://stackoverflow.com/users/4215534/fastboyz"}, "edited": false, "score": 0, "creation_date": 1468521795, "post_id": 38381690, "comment_id": 64173567, "body": "I tried that, but the $CGI-&gt;param does noot contain a key for &quot;username&quot; and &quot;password&quot;, so I get empty strings"}], "tags": [], "owner": {"reputation": 1253, "user_id": 792479, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59768793d816fc6e44f67a9bb5ffbe13?s=128&d=identicon&r=PG", "display_name": "Raghuveer", "link": "https://stackoverflow.com/users/792479/raghuveer"}, "is_accepted": false, "score": 0, "last_activity_date": 1468521121, "creation_date": 1468521121, "answer_id": 38381690, "question_id": 38381507, "link": "https://stackoverflow.com/questions/38381507/how-can-i-get-data-from-a-post-request-in-perl/38381690#38381690", "title": "How can I get data from a POST request in Perl?", "body": "<p>If you use <code>$CGI-&gt;param(\"btn_submit\");</code> it will only work corresponding to btn_submit.</p>\n\n<p>If you need to find the username and password, try this</p>\n\n<pre><code>my $username = $CGI-&gt;param(\"username\");\nmy $password = $CGI-&gt;param(\"password\");\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 4215534, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-qHhWcbIGdfY/AAAAAAAAAAI/AAAAAAAAACc/mmeaYGqbHC4/photo.jpg?sz=128", "display_name": "Fastboyz", "link": "https://stackoverflow.com/users/4215534/fastboyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469800756, "creation_date": 1468520517, "last_edit_date": 1469800756, "question_id": 38381507, "link": "https://stackoverflow.com/questions/38381507/how-can-i-get-data-from-a-post-request-in-perl", "title": "How can I get data from a POST request in Perl?", "body": "<p>I have a Perl script that runs and acts like a web page, on it I have create a from like this.</p>\n\n<pre><code>sub displayFrom{\nmy $html;\n$html.= getHeader(add User);\n$html.= getNavBar();\n$html .= '&lt;form method =\"POST\" accept-charset=\"utf-8\"&gt;';\n$html .= '&lt;input type=\"text\" id=\"username\" name=\"username\"&gt;';\n$html .= '&lt;input type=\"password\" id=\"password\" name=\"password\"&gt;';\n$html .= '&lt;input type=\"submit\" id=\"btn_submit\" name=\"btn_submit\"&gt;';\n$html .= '&lt;/from&gt;';\nprint $html;\n}\n</code></pre>\n\n<p>Then in my dispatcher I have this. </p>\n\n<pre><code>sub dispatch{\nmy $createRequest = $CGI-&gt;param(\"btn_submit\");\nif(defined $createRequest){\n    print Dumper $CGI;\n}\n</code></pre>\n\n<p>When I print the content of CGI, I cant see the field username and password. I am fairly new to Perl and Perl web/server stuff. Any help would be appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1468529079, "post_id": 38381269, "comment_id": 64177767, "body": "If I understand you correctly, <code>$data-&gt;{reports}-&gt;{$port}-&gt;{tb}-&gt;{tb}</code> is a reference to a hash with one element. That element has the key  <code>4|EXPENSES|Net Income</code>, so if you try to access an element with a key of <code>1|ASSETS|11240-000</code> you will get <code>undef</code> because it doesn&#39;t exist"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6590879"}, "edited": false, "score": 0, "creation_date": 1468521186, "post_id": 38381522, "comment_id": 64173201, "body": "That is interesting, but I have previous program for another database, and it  perfectly works. But new one - not. And in you case how can I check if it is defined? The same:(Defined ($data-&gt;{reports}-&gt;{$port}-&gt;{tb}-&gt;{tb}-&gt;{$keyee})?"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1468521419, "post_id": 38381522, "comment_id": 64173338, "body": "you can check the key already exists or not using <code>exists $myhash{&#39;tb&#39;}</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6590879"}, "edited": false, "score": 0, "creation_date": 1468521900, "post_id": 38381522, "comment_id": 64173634, "body": "But I have not only TB. I have report (they are different), port(portfolio - also different) and then tb and so on. How to check in this case?"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1468522286, "post_id": 38381522, "comment_id": 64173894, "body": "when you are inserting a value associated with a key , just check using <code>if condition</code> that the key already exists or not .To check multiple values use <b>loop</b>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6590879"}, "edited": false, "score": 0, "creation_date": 1468523914, "post_id": 38381522, "comment_id": 64174868, "body": "I do next (If defined.....). But they not defined and I don&#39;t know how to make them work"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1468524577, "post_id": 38381522, "comment_id": 64175280, "body": "use <code>exists</code>  to check the existence  of a variable instead defined"}], "tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": false, "score": -1, "last_activity_date": 1468520573, "creation_date": 1468520573, "answer_id": 38381522, "question_id": 38381269, "link": "https://stackoverflow.com/questions/38381269/loosing-some-values-in-perl-script/38381522#38381522", "title": "Loosing some values in perl script", "body": "<p>A hash key can hold only one value. To store multiple values associated with a single key , you need to use hash of array.</p>\n\n<p>Code example :</p>\n\n<pre><code>my %myhash;\n$myhash{'tb'}=\"val1\";\n$myhash{'tb'} =\"vale2\";\n</code></pre>\n\n<p>In the above example <code>tb</code> key will have only one value.</p>\n\n<p>Now If you want to get both the values associated to the <code>tb</code> key use hash of array .\ncode example </p>\n\n<pre><code>push(@{$myhash},\"val1\");\npush(@{$myhash},\"val2\");\n</code></pre>\n\n<p>Hope the above concept will help you.</p>\n\n<p>For more information about hash of array visit : <a href=\"http://docstore.mik.ua/orelly/perl2/prog/ch09_02.htm\" rel=\"nofollow\">http://docstore.mik.ua/orelly/perl2/prog/ch09_02.htm</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6590879"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1468520573, "creation_date": 1468519713, "last_edit_date": 1468520018, "question_id": 38381269, "link": "https://stackoverflow.com/questions/38381269/loosing-some-values-in-perl-script", "title": "Loosing some values in perl script", "body": "<p>I have several hashes. Below have value</p>\n\n<pre><code>$data-&gt;{reports}-&gt;{$port}-&gt;{tb}-&gt;{tb});   \n$data-&gt;{reports}-&gt;{$port}-&gt;{tb}-&gt;{change});   \n$data-&gt;{reports}-&gt;{$port}-&gt;{tb_pbd}-&gt;{tb_pbd});   \n</code></pre>\n\n<p>The values are:      </p>\n\n<pre><code>$VAR1 = {   \n'4|EXPENSES|Net Income' =&gt; '8658617.49'   \n};   \n$VAR1 = {   \n'4|EXPENSES|Net Income' =&gt; '8728605.17'   \n};   \n$VAR1 = {\n'4|EXPENSES|Net Income' =&gt; '-69987.68'   \n};   \n</code></pre>\n\n<p>separate variable has value:   </p>\n\n<pre><code>$keyee       \nvalue = 1|ASSETS|11240-000  \n</code></pre>\n\n<p>However, when I put this value to all hash, for example:    </p>\n\n<pre><code>$data-&gt;{reports}-&gt;{$port}-&gt;{tb}-&gt;{tb}-&gt;{$keyee}       \n</code></pre>\n\n<p>It became undef. Any idea why and how to make treatment?</p>\n"}, {"tags": ["server", "perl", "apache", "cgi", "apache2"], "comments": [{"owner": {"reputation": 3210, "user_id": 156671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e236942ba8d664b677cbde3ee69986c?s=128&d=identicon&r=PG", "display_name": "GrandmasterB", "link": "https://stackoverflow.com/users/156671/grandmasterb"}, "edited": false, "score": 0, "creation_date": 1468522386, "post_id": 38446021, "comment_id": 64297396, "body": "Multiple instances of the same Perl script are most certainly possible.  You would have to go out of your way to prevent it.  Not sure what you are seeing, but the problem isn&#39;t Perl.  How exactly are you testing this?"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 3210, "user_id": 156671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e236942ba8d664b677cbde3ee69986c?s=128&d=identicon&r=PG", "display_name": "GrandmasterB", "link": "https://stackoverflow.com/users/156671/grandmasterb"}, "edited": false, "score": 0, "creation_date": 1468522547, "post_id": 38446021, "comment_id": 64297397, "body": "@GrandmasterB I don&#39;t understand your question. I test it running the above Perl script two times almost simultaneously (from two tabs of a browser). If two instances would both run, then the difference would be probably 1-2 sec, but it is 10 sec. This makes me quite certain that two instances cannot run simultaneously on our server"}, {"owner": {"reputation": 3210, "user_id": 156671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e236942ba8d664b677cbde3ee69986c?s=128&d=identicon&r=PG", "display_name": "GrandmasterB", "link": "https://stackoverflow.com/users/156671/grandmasterb"}, "edited": false, "score": 0, "creation_date": 1468522914, "post_id": 38446021, "comment_id": 64297398, "body": "Bad deduction.  How do you know its not the browser causing it?  My suspicion is that its either your browser or something you have set up incorrectly in your web server (apache, nginx).  Multiple copies of a Perl script can most certainly run at the same time."}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 3210, "user_id": 156671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e236942ba8d664b677cbde3ee69986c?s=128&d=identicon&r=PG", "display_name": "GrandmasterB", "link": "https://stackoverflow.com/users/156671/grandmasterb"}, "edited": false, "score": 0, "creation_date": 1468523180, "post_id": 38446021, "comment_id": 64297399, "body": "@GrandmasterB I know that multiple copies of a Perl script can most certainly run at the same time. I assume that this is a problem with the Web server. If it were a Firefox bug, this could be found and fixed long time ago"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 3210, "user_id": 156671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e236942ba8d664b677cbde3ee69986c?s=128&d=identicon&r=PG", "display_name": "GrandmasterB", "link": "https://stackoverflow.com/users/156671/grandmasterb"}, "edited": false, "score": 0, "creation_date": 1468523266, "post_id": 38446021, "comment_id": 64297400, "body": "@GrandmasterB OK I checked it with another browser (Chromium), the bug persists. So it is not a browser bug"}, {"owner": {"reputation": 6520, "user_id": 147481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42aa353db48aba46e0d2947220e8d8a1?s=128&d=identicon&r=PG", "display_name": "BillThor", "link": "https://stackoverflow.com/users/147481/billthor"}, "edited": false, "score": 1, "creation_date": 1468619972, "post_id": 38446021, "comment_id": 64297401, "body": "@porton What happens if you use two different browsers?"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 6520, "user_id": 147481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42aa353db48aba46e0d2947220e8d8a1?s=128&d=identicon&r=PG", "display_name": "BillThor", "link": "https://stackoverflow.com/users/147481/billthor"}, "edited": false, "score": 0, "creation_date": 1468621009, "post_id": 38446021, "comment_id": 64297402, "body": "@BillThor When I use two different browsers a wonder happens: the distance between calls appears about 0-1 secs (that is the time between I clicked Enter in the browsers). It&#39;s very weird. Why does it depends on whether I use just one or two different browsers?"}, {"owner": {"reputation": 6520, "user_id": 147481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42aa353db48aba46e0d2947220e8d8a1?s=128&d=identicon&r=PG", "display_name": "BillThor", "link": "https://stackoverflow.com/users/147481/billthor"}, "edited": false, "score": 2, "creation_date": 1468640161, "post_id": 38446021, "comment_id": 64297403, "body": "@porton The browser may serialize the calls, as the two tabs are asking for the same resource. This makes cache management simpler as they can just use a blocking lock on the cache entry."}], "migrated_from": {"other_site": {"aliases": ["http://programmer.stackexchange.com", "http://programmers.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1292524346, "open_beta_date": 1283972400, "closed_beta_date": 1283367600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/apple-touch-icon@2.png", "twitter_account": "StackSoftEng", "favicon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/apple-touch-icon.png", "audience": "professionals, academics, and students working within the systems development life cycle", "site_url": "https://softwareengineering.stackexchange.com", "api_site_parameter": "softwareengineering", "logo_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/logo.png", "name": "Software Engineering", "site_type": "main_site"}, "on_date": 1468876124, "question_id": 324879}, "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1468876124, "creation_date": 1468519540, "question_id": 38446021, "link": "https://stackoverflow.com/questions/38446021/why-two-cgi-scripts-with-the-same-url-cant-run-simultaneously", "title": "Why two CGI scripts with the same URL can&#39;t run simultaneously?", "body": "<p>I start two instances of this Perl CGI script approximately simultaneously:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nprint \"Content-Type: text/plain\\n\\n\";\n\nprint \"Started at: \" . time;\n\nsleep 10;\n</code></pre>\n\n<p>Comparing the start time of the two scripts (which it outputs to the browser), I get that the difference is 10 sec, what is exactly the run time of the first script. This experiment shows that two instances of the same Perl script cannot run simultaneously.</p>\n\n<p>Now I ask why, and whether this can be corrected (to allow two instances of the same Perl script to run simultaneously)?</p>\n\n<p>We use a combination of Apache 2 and Nginx with CGI Perl scripts (not mod_perl).</p>\n"}, {"tags": ["ruby", "perl", "terminal"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1468509598, "post_id": 38378074, "comment_id": 64166239, "body": "Run <code>ruby -h</code> and see what it says."}], "answers": [{"tags": [], "owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "is_accepted": true, "score": 7, "last_activity_date": 1468511022, "last_edit_date": 1468511022, "creation_date": 1468509741, "answer_id": 38378178, "question_id": 38378074, "link": "https://stackoverflow.com/questions/38378074/ruby-equivalent-of-perls-one-line-string-replacer/38378178#38378178", "title": "Ruby equivalent of Perls one line string replacer", "body": "<p>Yep. Ruby has an equivalent for most of Perl's command line options, and many of them are identical.</p>\n\n\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ ruby -pi -e 'gsub /foo/, \"bar\"' *.txt\n</code></pre>\n\n<p>Here are the relevant docs from <code>man ruby</code>:</p>\n\n<blockquote>\n  <ul>\n  <li><p><strong><code>-i extension</code></strong> \u2013 Specifies in-place-edit mode. The extension,\n  if specified, is added to old file name to make a backup copy. For\n  example:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>% echo matz &gt; /tmp/junk\n% cat /tmp/junk\nmatz\n% ruby -p -i.bak -e '$_.upcase!' /tmp/junk\n% cat /tmp/junk\nMATZ\n% cat /tmp/junk.bak\nmatz\n</code></pre></li>\n  <li><p><strong><code>-n</code></strong> \u2013 Causes Ruby to assume the following loop around your\n  script, which makes it iterate over file name arguments somewhat like\n  <code>sed -n</code> or <code>awk</code>.</p>\n  \n  <pre class=\"lang-ruby prettyprint-override\"><code>while gets\n  ...\nend\n</code></pre></li>\n  <li><p><strong><code>-p</code></strong> \u2013 Acts mostly same as <code>-n</code> switch, but print the value of\n  variable <code>$_</code> at the each end of the loop. For example:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>% echo matz | ruby -p -e '$_.tr! \"a-z\", \"A-Z\"'\nMATZ\n</code></pre></li>\n  </ul>\n</blockquote>\n\n<p>My code above uses <a href=\"http://ruby-doc.org/core-2.3.1/Kernel.html#method-i-gsub\" rel=\"nofollow\"><code>Kernel#gsub</code></a>, which is only available in <code>-p</code>/<code>-n</code> mode. Per the docs:</p>\n\n<blockquote>\n  <p><strong>gsub(pattern, replacement) \u2192 $_</strong><br>\n  <strong>gsub(pattern) {|...| block } \u2192 $_</strong></p>\n  \n  <p>Equivalent to <code>$_.gsub...</code>, except that <code>$_</code> will be updated if\n  substitution occurs. Available only when <code>-p</code>/<code>-n</code> command line option\n  specified.</p>\n</blockquote>\n\n<p>There are a handful of other such Kernel methods, which are useful to know: <a href=\"http://ruby-doc.org/core-2.3.1/Kernel.html#method-i-chomp\" rel=\"nofollow\"><code>chomp</code></a>, <a href=\"http://ruby-doc.org/core-2.3.1/Kernel.html#method-i-chop\" rel=\"nofollow\"><code>chop</code></a>, and (naturally) <a href=\"http://ruby-doc.org/core-2.3.1/Kernel.html#method-i-sub\" rel=\"nofollow\"><code>sub</code></a>.</p>\n\n<p>Check out <code>man ruby</code>; there are a lot of great features.</p>\n"}], "owner": {"reputation": 387, "user_id": 625441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ebc3e23042ec62e09ddd910a1fa12b8b?s=128&d=identicon&r=PG", "display_name": "Torstein", "link": "https://stackoverflow.com/users/625441/torstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 38378178, "answer_count": 1, "score": 1, "last_activity_date": 1468511022, "creation_date": 1468509472, "question_id": 38378074, "link": "https://stackoverflow.com/questions/38378074/ruby-equivalent-of-perls-one-line-string-replacer", "title": "Ruby equivalent of Perls one line string replacer", "body": "<p>With perl, you can do this:</p>\n\n<p><code>$ perl -pi -e 's/foo/bar/g' *.txt</code></p>\n\n<p>Which will replace the string \"foo\" with \"bar\" on all *.txt files in the current directory.</p>\n\n<p>I like this, but I was wondering if the same thing is possible using Ruby.</p>\n"}, {"tags": ["perl", "transliteration"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1468505193, "post_id": 38376328, "comment_id": 64163037, "body": "We need to see at least the line in question. Please include it, or better yet the surrounding lines as well. You can <a href=\"https://stackoverflow.com/posts/38376328/edit\">edit</a> your question."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468505257, "post_id": 38376328, "comment_id": 64163082, "body": "You probably have a single <code>&#47;</code> or a <code>tr</code> without anything after it somewhere above that line in your code. It&#39;s likely just a typo. But we need to see the code to know for sure."}, {"owner": {"reputation": 1921, "user_id": 4807043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/962dbe37a32959e5ead7734f28f46771?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4807043/henry"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468506049, "post_id": 38376328, "comment_id": 64163607, "body": "@simbabque please take a look at it, I updated it"}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1468506291, "post_id": 38376766, "comment_id": 64163785, "body": "There is no way in a million man hours that anybody could have found this without seeing the code."}, {"owner": {"reputation": 1921, "user_id": 4807043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/962dbe37a32959e5ead7734f28f46771?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4807043/henry"}, "edited": false, "score": 0, "creation_date": 1468506587, "post_id": 38376766, "comment_id": 64163988, "body": "Thx much. That was a typo. I didn&#39;t want it ever, nor I noticed it."}, {"owner": {"reputation": 1921, "user_id": 4807043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/962dbe37a32959e5ead7734f28f46771?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4807043/henry"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468506980, "post_id": 38376766, "comment_id": 64164253, "body": "@simbabque it&#39;s weird that I looked at this code for half day and found nothing"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1921, "user_id": 4807043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/962dbe37a32959e5ead7734f28f46771?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4807043/henry"}, "edited": false, "score": 0, "creation_date": 1468507100, "post_id": 38376766, "comment_id": 64164339, "body": "@Henry that&#39;s one of those super obvious typos that every one else spots immediately, but the longer you look the harder it will be to find it. Don&#39;t worry about it and move on. Sometimes you just need a second pair of eyes. Happens to everyone. :)"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 7, "last_activity_date": 1468506130, "creation_date": 1468506130, "answer_id": 38376766, "question_id": 38376328, "link": "https://stackoverflow.com/questions/38376328/why-do-i-get-the-error-invalid-range-b-in-transliteration-operator-even-t/38376766#38376766", "title": "Why do I get the error &#39;Invalid range &quot; B-&gt;&quot; in transliteration operator&#39; even though `tr` doesn&#39;t appear in my code?", "body": "<p>This:</p>\n\n<pre><code> y @filecontent = `cat $idFile`;\n</code></pre>\n\n<p><code>y</code> is an archaic synonym for the <code>tr</code> operator. Perl is searching for two more <code>@</code> characters to complete the <code>y@...@...@</code> statement, and it finds the second one in your comment section.</p>\n"}], "owner": {"reputation": 1921, "user_id": 4807043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/962dbe37a32959e5ead7734f28f46771?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4807043/henry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "accepted_answer_id": 38376766, "answer_count": 1, "score": 1, "last_activity_date": 1468506541, "creation_date": 1468504974, "last_edit_date": 1468506541, "question_id": 38376328, "link": "https://stackoverflow.com/questions/38376328/why-do-i-get-the-error-invalid-range-b-in-transliteration-operator-even-t", "title": "Why do I get the error &#39;Invalid range &quot; B-&gt;&quot; in transliteration operator&#39; even though `tr` doesn&#39;t appear in my code?", "body": "<p>I'm getting the following error when I run my Perl script:</p>\n\n<blockquote>\n  <p>Invalid range \"B->\" in transliteration operator at ./foo.pl line 249</p>\n</blockquote>\n\n<p>However, line 249 is commented out, and I don't use the transliteration operator <code>tr</code> anywhere in my code.</p>\n\n<p>Here is the relevant piece of my script. Line 249 is <code># foreach (@projects)</code>, and as you can see, it has been commented out.</p>\n\n<pre><code># Find the project name, hardware, and version from the archive given\n$project = undef;\n$hardware = undef;\n$version = undef;\nif (defined $testfarmDB){\n    my $idFile = `pwd`; \n    chomp $idFile;\n    $idFile .= \"/$ENV{TESTDIR}/testrun.id\";\n    y @filecontent = `cat $idFile`;\n    $filecontent[0] =~ /(\\d+)/;\n    my $testRunID = $1;\n    $hardware = $testfarmDB-&gt;getTestRunModelName($testRunID);\n    $project = $testfarmDB-&gt;getTestRunProjectName2($testRunID);\n    $version = $testfarmDB-&gt;getTestRunSWRevisionName($testRunID);\n}else{\n    die \"Cannot connect to Database. Program terminated. \\n\";\n}\nprint \"   Project = $project\\n\";\nprint \"   Model Type = $hardware\\n\";\nprint \"   Software Version = $version\\n\";\n\n# Break up the path given to determine the project and version number\n# foreach (@projects)\n# {\n#     if ($archive =~ /($_)/i)\n#     {\n#         $project = $_;\n\n#         foreach my $hw (@hardwares)\n#         {\n#             if ($archive =~ /$hw/i)\n#             {\n#                 $hardware = $hw;\n#                 last;\n#             }\n#         }\n#         last;\n#     }\n# }\n\n $archive =~ /((?:\\d+\\.)+\\w+)/;\n# $version = $1;\n</code></pre>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["perl", "sftp"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1468504570, "post_id": 38376016, "comment_id": 64162642, "body": "By invalid, do you mean a wrong password? Or does this also happen when you use a <code>$server_address</code> that is neither a host name nor an IP address?"}, {"owner": {"reputation": 91, "user_id": 6381564, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/32afda75f32199383320fc76dc80f7b6?s=128&d=identicon&r=PG&f=1", "display_name": "Edu", "link": "https://stackoverflow.com/users/6381564/edu"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1468504780, "post_id": 38376016, "comment_id": 64162784, "body": "yes. wrong password/ wrong server name/wrong user name. if I pass any wrong values, the job is just hanging for long time and its not finishing at all."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 2, "creation_date": 1468565880, "post_id": 38376016, "comment_id": 64188306, "body": "Enable debugging both in the module and in <code>ssh</code> and post here the output: <code>$Net::SFTP::Foreign::debug=-1; my $sftp = Net::SFTP::Foreign-&gt;new(more =&gt; &#39;-vvv&#39;, ...);</code>"}, {"owner": {"reputation": 91, "user_id": 6381564, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/32afda75f32199383320fc76dc80f7b6?s=128&d=identicon&r=PG&f=1", "display_name": "Edu", "link": "https://stackoverflow.com/users/6381564/edu"}, "edited": false, "score": 1, "creation_date": 1468593870, "post_id": 38376016, "comment_id": 64206280, "body": "No luck even after the above update. I tried below.  Net::SFTP::Foreign::debug=-1; $sftp = Net::SFTP::Foreign-&gt;new(host=&gt; $server_address, user =&gt; $user_id, password =&gt; $password, more=&gt;&#39;-vvv&#39;); But the job is still hanging off and not giving any output if I pass a wrong host name. Please help!     or die &quot;Could not Connect To Server $server_address: $!&quot;;"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 1, "creation_date": 1468928522, "post_id": 38376016, "comment_id": 64319062, "body": "include the debugging output in the question!!!"}, {"owner": {"reputation": 91, "user_id": 6381564, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/32afda75f32199383320fc76dc80f7b6?s=128&d=identicon&r=PG&f=1", "display_name": "Edu", "link": "https://stackoverflow.com/users/6381564/edu"}, "edited": false, "score": 1, "creation_date": 1468936588, "post_id": 38376016, "comment_id": 64325539, "body": "Command I used: Net::SFTP::Foreign::debug=-1; $sftp = Net::SFTP::Foreign-&gt;new(more=&gt;&#39;-vvv&#39;, host=&gt; $server_address, user =&gt; $user_id, password =&gt; $password);  cmd line output -&gt; OpenSSH_5.3p1, OpenSSL 1.0.1e-fips 11 Feb 2013 debug1: Reading configuration data /etc/ssh/ssh_config debug1: Applying options for * debug2: ssh_connect: needpriv 0 ssh: Could not resolve hostname ftp_address: Name or service not known.  With this code, the job is handing off and not returning any status. After adding &#39;timeout=&gt;30&#39; to the login command, it is failing the job when I pass the incorrect host name."}], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 6381564, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/32afda75f32199383320fc76dc80f7b6?s=128&d=identicon&r=PG&f=1", "display_name": "Edu", "link": "https://stackoverflow.com/users/6381564/edu"}, "is_accepted": false, "score": 2, "last_activity_date": 1468937421, "creation_date": 1468937421, "answer_id": 38460955, "question_id": 38376016, "link": "https://stackoverflow.com/questions/38376016/how-to-handle-netsftpforeign-invalid-user-or-password-errors/38460955#38460955", "title": "How to handle Net::SFTP::Foreign invalid user or password errors?", "body": "<p>Finally, using the following option, I am able to handle the issue. \nNet::SFTP::Foreign::debug=-1; \n$sftp = Net::SFTP::Foreign->new( host=> $server_address, user => $user_id, password => $password, more=>'-vvv', timeout=>30);</p>\n\n<p>This command will handle the wrong host_name, user_id or password. The job will fail after waiting for the no.of seconds given for timeout, if it is not able to establish a connection.</p>\n"}], "owner": {"reputation": 91, "user_id": 6381564, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/32afda75f32199383320fc76dc80f7b6?s=128&d=identicon&r=PG&f=1", "display_name": "Edu", "link": "https://stackoverflow.com/users/6381564/edu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 647, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1468937421, "creation_date": 1468504088, "last_edit_date": 1468587826, "question_id": 38376016, "link": "https://stackoverflow.com/questions/38376016/how-to-handle-netsftpforeign-invalid-user-or-password-errors", "title": "How to handle Net::SFTP::Foreign invalid user or password errors?", "body": "<p>I am using Net::SFTP::Foreign with IO::Pty. </p>\n\n<p>My Login Command is:</p>\n\n<pre><code>Net::SFTP::Foreign-&gt;new(host=&gt; $server_address,\n                        user =&gt; $user_id,\n                        password =&gt; $password)\n    or die \"Could not Connect To Server $server_address: $!\"; \n</code></pre>\n\n<p>When I am passing invalid entry for server/user/password, it's not throwing the error message. It's simply hanging on the command line and not giving any output ever after 30+ minutes.</p>\n\n<p>Please help how to handle the errors, if there is any invalid input parameters.</p>\n\n<p>If I am passing all the valid values, its working fine.</p>\n"}, {"tags": ["arrays", "regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1468504438, "last_edit_date": 1468504438, "creation_date": 1468503283, "answer_id": 38375723, "question_id": 38375634, "link": "https://stackoverflow.com/questions/38375634/grep-multiple-pattern-in-perl-array-at-a-time/38375723#38375723", "title": "grep multiple pattern in perl array at a time", "body": "<p>You can combine the two conditions into one expression.</p>\n\n<pre><code>my @found = grep { $_-&gt;[0] eq '12345' &amp;&amp; $_-&gt;[1] eq '6789' }\n   @{$filteredTableEntriesMap{$REPORT_PART1}};\n</code></pre>\n\n<p>The stuff inside the <code>{}</code> for <code>grep</code> is basically a subroutine. You can do as much as you want in there as long as you return a true value if you want to keep <code>$_</code> in your <code>@found</code> result.</p>\n"}], "owner": {"reputation": 564, "user_id": 2256825, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aeb1455c5a16c144d42b9701f4bf7a68?s=128&d=identicon&r=PG", "display_name": "user2256825", "link": "https://stackoverflow.com/users/2256825/user2256825"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2390, "favorite_count": 0, "accepted_answer_id": 38375723, "answer_count": 1, "score": 0, "last_activity_date": 1468504438, "creation_date": 1468503035, "last_edit_date": 1468503331, "question_id": 38375634, "link": "https://stackoverflow.com/questions/38375634/grep-multiple-pattern-in-perl-array-at-a-time", "title": "grep multiple pattern in perl array at a time", "body": "<p>Below is the code which actually finds a pattern in a perl array.</p>\n\n<pre><code> my $isAvailable = grep { $_-&gt;[0] eq '12345' } {$filteredTableEntriesMap{$REPORT_PART1}} ;\n</code></pre>\n\n<p>But i would like to search for two patterns in two indexes at a time </p>\n\n<pre><code> my $isWiuAvailable = grep { $_-&gt;[0] eq '12345' }     @{$filteredTableEntriesMap{$REPORT_PART1}} ;\n my $isBsAvailable  = grep { $_-&gt;[1] eq '6789' } @{$filteredTableEntriesMap{$REPORT_PART1}} ;\n</code></pre>\n\n<p>This is how the map is represented</p>\n\n<pre><code> $VAR1 = {\n      'REPORT PART2' =&gt; [],\n      'REPORT PART1' =&gt; [\n                               [\n                                 '12345',\n                                 '6789',                         \n                               ],\n                               [\n                                 '343435',\n                                 '315',\n                               ],\n                               [\n                                 '00103',\n                                 '000315',\n\n                               ],\n                        ]   \n</code></pre>\n\n<p>And i would want to match an array which has these two entries in index 1 and index 2</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "syntax", "declaration"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 3, "creation_date": 1468500319, "post_id": 38374276, "comment_id": 64159480, "body": "Same reason that <code>$split</code> works. Being preceded by a sigil is significant, being immediately preceded by one is not. The whitespace is irrelevant there."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1468517634, "post_id": 38374276, "comment_id": 64171126, "body": "If you want to know the nitty-gritty details, it all happens in <a href=\"https://github.com/Perl/perl5/blob/v5.24.0/toke.c\" rel=\"nofollow noreferrer\">toke.c</a>, perl&#39;s lexer. In <code>perl -e&#39;$ split&#39;</code>, when the lexer encounters <code>$</code>, it checks for a bunch of different things like <code>$#</code>; if none of those things match, it says that the next token must be an identifier, so <code>split</code> is treated as an identifier, not a keyword. In <code>perl -e &#39;split&#39;</code>, when the lexer encounters <code>s</code>, it does a keyword lookup and finds a match, so <code>split</code> is treated as a keyword. See lines 5293 and 6225 in the version of toke.c that I linked."}], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "closed_date": 1468499816, "answer_count": 0, "score": 0, "last_activity_date": 1468500800, "creation_date": 1468499495, "last_edit_date": 1495540736, "question_id": 38374276, "link": "https://stackoverflow.com/questions/38374276/why-is-split-valid-syntax", "closed_reason": "Duplicate", "title": "Why is $ split valid syntax?", "body": "<p>There's already an <a href=\"https://stackoverflow.com/questions/745278/is-space-supposed-to-be-ignored-between-a-sigil-and-its-variable-name\">answer</a> for why <code>my %     foo;</code> or <code>my $           string;</code> both compile in perl, but I was surprised to see that this is also the case when the variable name is itself a function, such as <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a>:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $ split = 'why does this work?';\n\nsay $split;\n# why does this work?\n</code></pre>\n\n<p>How can this be the case?</p>\n"}, {"tags": ["perl", "printing", "duplicates"], "comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1468498232, "post_id": 38373782, "comment_id": 64158034, "body": "Add <code>use strict;</code> and <code>use warnings;</code> to the top of your script and run it again. What does it tell you?"}, {"owner": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1468498355, "post_id": 38373782, "comment_id": 64158125, "body": "Yes, I do and  I get a output in which only the identical ids are removed and no order like in the orderArr.txt. Because after &quot;=for&quot; commented, the loop iterates nothing but wrong."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1468511794, "post_id": 38373782, "comment_id": 64167850, "body": "push(@setArr1,$header,@tmpSet); Please check this push options"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1468573892, "post_id": 38381243, "comment_id": 64193075, "body": "This is what I got when I ran this script. &quot;uniq&quot; is not exported by the List::Util module. Since you mentioned already regarding this, I defined only, use List::Util qw(first) and commented the line &quot;my @uniqueMatches = uniq @matches;&quot;. It gives the desired output. Thank you for the corrections and the code."}], "tags": [], "owner": {"reputation": 729, "user_id": 3069115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9220d416e46ec9b73cab61afbb26798b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Tom", "link": "https://stackoverflow.com/users/3069115/tim-tom"}, "is_accepted": false, "score": 0, "last_activity_date": 1468519596, "creation_date": 1468519596, "answer_id": 38381243, "question_id": 38373782, "link": "https://stackoverflow.com/questions/38373782/perl-remove-identical-id-and-similar-id-maintain-the-array-order-and-print-them/38381243#38381243", "title": "perl remove identical id and similar id, maintain the array order and print them like matrix", "body": "<p>I'm not really sure why you wanted to call out removing duplicates if your end goal is to find the first item from each category that exists on the line, but I've kept that call in in case you're doing something not shown here using it. The code you have in your first for loop works except you want to assign <code>$val</code> instead of <code>{$val}</code> and from your problem description,you want the first match which means you want to use <code>//</code> (or if in ancient perl <code>||</code>) giving you <code>$hash{$k} //= $val;</code></p>\n\n<p>Then your second loop would become</p>\n\n<pre><code>foreach $S (@orderKeys)\n{\n  if(defined $hash{$S})\n  {\n      print \"$S\\t\";\n  }\n}\n</code></pre>\n\n<p>(That doesn't print out what you want, but it's the minimal change to make that code \"work\")</p>\n\n<p>If you want some cleaned up code that does everything you described in your sample please take a look at the below.</p>\n\n<pre><code>use strict;\nuse warnings;\n\n# List::Util also exports uniq, but the stock one usually doesn't so\n# you may still need to define it if you don't want to upgrade to the\n# newest version of the library for some reason.\nuse List::Util qw(first uniq);\n\nmy ($ipFilename, $orderFilename) = @ARGV;\n\n# The 3 argument open is preferred for safety and using a scalar\n# instead of a global bareword will help your sanity if you ever\n# want do put these things in subroutines.\nopen(my $ip, '&lt;', $ipFilename) or die \"Unable to open $ipFilename for read: $!\";\nmy @orderKeys = do {\n  open(my $order, '&lt;', $orderFilename) or die \"Unable to open $orderFilename for read: $!\";\n  &lt;$order&gt;;\n};\nchomp(@orderKeys);\n\n# Tell perl to print array elements joined with tabs.\nlocal $\" = \"\\t\"; # comment to fix github formatting \"\n\nprint \"Column1\\t@orderKeys\\n\";\n\nwhile (my $line = &lt;$ip&gt;) {\n  chomp($line);\n  my ($header, $matches) = split(/\\s*\\:\\s*/, $line, 2);\n  my @matches = ($header, split(/\\s*\\|\\s*/, $matches));\n  # I don't use or need this, but if you need it for some other purpose, it can still be here\n  my @uniqueMatches = uniq @matches;\n  # Get the first item from each category that starts with the given key.\n  my @slots = map { my $key = $_; first { /^\\Q$key\\E/ } @matches } @orderKeys;\n  no warnings 'uninitialized';\n  print \"$header\\t@slots\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": false, "score": 0, "last_activity_date": 1468534107, "last_edit_date": 1468534107, "creation_date": 1468522103, "answer_id": 38381996, "question_id": 38373782, "link": "https://stackoverflow.com/questions/38373782/perl-remove-identical-id-and-similar-id-maintain-the-array-order-and-print-them/38381996#38381996", "title": "perl remove identical id and similar id, maintain the array order and print them like matrix", "body": "<p>I am not sure that my take is want you want. If the column 1 id matches any of the subsequent ids on a line, any subsequent matching id will not be listed. Instead, the col 1 id will be used (in it's respective position).</p>\n\n<p><strong>Update:</strong> Added the '++' after the seen hash - I omitted it originally.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @order_keys = qw/\nEur1\nEur2\nEur3\nEur4\nEur5\n/;\n\nmy $fmt = \"%-15s\" x 6 . \"\\n\";\nprintf $fmt, '', @order_keys;\n\nwhile (&lt;DATA&gt;) {\n    my ($id, @data) = split /[:\\|\\s]+/;\n    my %seen;\n    my %tmp = map {@$_}\n              grep !$seen{$_-&gt;[0]}++,\n              map {[ /^([^_]+)/, $_ ]} ($id, @data);\n\n    printf $fmt, $id, map $_ // '', @tmp{@order_keys};\n}\n\n__DATA__\nEur2_1116: Eur1_9816|Eur1_916|Eur3_16|Eur4_17|Eur5_716\nEur3_2980: Eur1_8568|Eur2_98|Eur2_92|Eur4_12.3|Eur4_12.1|Eur4_12.9\nEur4_786: Eur2_0909|Eur5_1090|Eur5_2535|Eur1_233\nEur1_10616: \nEur5_5634: Eur3_1868|Eur4_8634|Eur1_35923\nEur1_34312: \nEur3_0000: Eur5_8235\nEur3_3433: \nEur5_3354: Eur2_245|Eur2_245|Eur1_34\nEur3_1122: Eur4_4431\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>               Eur1           Eur2           Eur3           Eur4           Eur5\nEur2_1116      Eur1_9816      Eur2_1116      Eur3_16        Eur4_17        Eur5_716\nEur3_2980      Eur1_8568      Eur2_98        Eur3_2980      Eur4_12.3\nEur4_786       Eur1_233       Eur2_0909                     Eur4_786       Eur5_1090\nEur1_10616     Eur1_10616\nEur5_5634      Eur1_35923                    Eur3_1868      Eur4_8634      Eur5_5634\nEur1_34312     Eur1_34312\nEur3_0000                                    Eur3_0000                     Eur5_8235\nEur3_3433                                    Eur3_3433\nEur5_3354      Eur1_34        Eur2_245                                     Eur5_3354\nEur3_1122                                    Eur3_1122      Eur4_4431\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": true, "score": 0, "last_activity_date": 1468525812, "creation_date": 1468525812, "answer_id": 38383081, "question_id": 38373782, "link": "https://stackoverflow.com/questions/38373782/perl-remove-identical-id-and-similar-id-maintain-the-array-order-and-print-them/38383081#38383081", "title": "perl remove identical id and similar id, maintain the array order and print them like matrix", "body": "<p>Code:</p>\n\n<pre><code>use strict;\nuse warnings;\nopen FH,\"tmp1\" or die \"Error\\n\";#orderArr.txt\nmy %myhash;\nmy $count++;\nmy @firstarray = (\"Eur1\",\"Eur2\", \"Eur3\", \"Eur4\", \"Eur5\");\nwhile (&lt;FH&gt;){\n        chomp($_);\n        my @val = split(/:/,$_);\n        $val[1] =~ s/\\s//;\n        if($val[1] ne \"\")\n        {\n                my @arr = split(/\\|/,$val[1]);\n                foreach my $id (@arr)\n                {\n                        my @val1 = split(/_/,$id);\n                        push(@{$myhash{$count}{$val[0]}{$val1[0]}},$id);\n                }\n        }\n        my @val1 = split(/_/,$val[0]);\n        push(@{$myhash{$count}{$val[0]}{$val1[0]}},$val[0]);\n\n        $count++;\n        #print \"$val[0]\\n\";\n\n}\nforeach my $count (sort { $a &lt;=&gt;  $b} keys %myhash)\n{\n        foreach my $id (keys %{$myhash{$count}})\n        {\n                print \"$id\";\n                foreach my $idlist (@firstarray)\n                #foreach my $idlist(keys %{$myhash{$count}{$id}})\n                {\n                        #print \" t $idlist t \";\n                        if(exists $myhash{$count}{$id}{$idlist})\n                        {\n                                my $value =$myhash{$count}{$id}{$idlist}[0];\n                                print \"\\t$value\";\n                        }\n                        else\n                        {\n                                print \"\\t\";\n                        }\n                }\n                print \"\\n\";\n\n        }\n}\n</code></pre>\n\n<p>Output :</p>\n\n<pre><code>Eur2_1116       Eur1_9816       Eur2_1116       Eur3_16 Eur4_17 Eur5_716\nEur3_2980       Eur1_8568       Eur2_98 Eur3_2980       Eur4_12.3\nEur4_786        Eur1_233        Eur2_0909               Eur4_786        Eur5_1090\nEur1_10616      Eur1_10616\nEur5_5634       Eur1_35923              Eur3_1868       Eur4_8634       Eur5_5634\nEur1_34312      Eur1_34312\nEur3_0000                       Eur3_0000               Eur5_8235\nEur3_3433                       Eur3_3433\nEur5_3354       Eur1_34 Eur2_245                        Eur5_3354\nEur3_1122                       Eur3_1122       Eur4_4431\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 6574124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b03403cf845bfb4c82f730399f5419?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/6574124/perlbeginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 38383081, "answer_count": 3, "score": 0, "last_activity_date": 1468534107, "creation_date": 1468497983, "last_edit_date": 1468506627, "question_id": 38373782, "link": "https://stackoverflow.com/questions/38373782/perl-remove-identical-id-and-similar-id-maintain-the-array-order-and-print-them", "title": "perl remove identical id and similar id, maintain the array order and print them like matrix", "body": "<p>my first file have some keys. Example, </p>\n\n<pre><code>Eur1\nEur2\nEur3\nEur4\nEur5\n</code></pre>\n\n<p>the other file is the actual input. separated by \":\" (headers are on the left side. right side is \"|\" delimited matching ids) it will look like, </p>\n\n<pre><code>Eur2_1116: Eur1_9816|Eur1_916|Eur3_16|Eur4_17|Eur5_716\nEur3_2980: Eur1_8568|Eur2_98|Eur2_92|Eur4_12.3|Eur4_12.1|Eur4_12.9\nEur4_786: Eur2_0909|Eur5_1090|Eur5_2535|Eur1_233\nEur1_10616: \nEur5_5634: Eur3_1868|Eur4_8634|Eur1_35923\nEur1_34312: \nEur3_0000: Eur5_8235\nEur3_3433: \nEur5_3354: Eur2_245|Eur2_245|Eur1_34\nEur3_1122: Eur4_4431\n</code></pre>\n\n<p>in my definition, </p>\n\n<p>identical ids are identical. example (Eur2_245, Eur2_245 at line 9)</p>\n\n<p>similar ids are derived from the same key with different value. example (Eur1_9816 and Eur1_916 at line1) or (Eur4_12.3,Eur4_12.1 and Eur4_12.9 at line 2). </p>\n\n<p>I want to remove the identical ids. Also, the similar ids after first match. Example, Eur1_9816 should go the output line 2. or Eur4_12.3 for line 2. Because, they are the first similar id among other similar ids.</p>\n\n<p>my desired output should be like matrix, having the headers in the first column exactly like the input headers. Followed by the ordered keys in the consecutive columns. Of note, headers are also belongs to one of the ordered keys. So header itself become a matching id at a respective column. </p>\n\n<p>Example, line 1, Eur2_1116 is the header.\nIt will be in the line 1 as header and ALSO it will be part of \"Eur2\" ordered key column.</p>\n\n<p>And similarly all other respective matches (after excluding identical, similar matches) should go to the respective columns.</p>\n\n<p>Desired output #1</p>\n\n<pre><code>Column1 Eur1    Eur2    Eur3    Eur4    Eur5\n\nEur2_1116       Eur1_9816       Eur2_1116       Eur3_16 Eur4_17 Eur5_716\nEur3_2980       Eur1_8568       Eur2_98 Eur3_2980       Eur4_12.3\nEur4_786        Eur1_233        Eur2_0909               Eur4_786        Eur5_1090\nEur1_10616      Eur1_10616\nEur5_5634       Eur1_35923              Eur3_1868       Eur4_8634       Eur5_5634\nEur1_34312      Eur1_34312\nEur3_0000                       Eur3_0000               Eur5_8235\nEur3_3433       Eur3_3433\nEur5_3354       Eur1_34 Eur2_245                        Eur5_3354\nEur3_1122                       Eur3_1122       Eur4_4431\n</code></pre>\n\n<p>my actual code is, (after =for commented lines, these code block is wrong). could you please correct it. If possible, to track back the identical and similar matches, can i write it in a separate file?</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $ipArr = $ARGV[0]; chomp $ipArr; #setArr.txt\nopen (IN,\"$ipArr\") or die \"Unalbe to open the file:$!\\n\";\n\nmy $orderArr = $ARGV[1]; chomp $orderArr; #orderArr.txt\nopen(OA,\"$orderArr\") or die \"Unable to open the order array:$!\\n\";\nmy @orderKeys = &lt;OA&gt;; chomp @orderKeys; close OA;\n\nwhile (my $line = &lt;IN&gt;) \n{\n    chomp ($line);\n    my ($header,$matchSet) = \"\";\n    my (@tmpSet, @setArr1, @setArr2) = ();\n    ($header,$matchSet) = split(\"\\:\",$line);\n    $matchSet =~ s/\\s+//g;\n    @tmpSet = split (/\\|/, $matchSet);\n    push(@setArr1,$header,@tmpSet);\n    sub uniq {\n        my % seen;\n        grep !$seen{$_}++, @_;\n    }\n    @setArr2 = uniq(@setArr1);\n    print join \"\\t\", @setArr2,\"\\n\";\n}\n\n=for\n    foreach my $g (@setArr2)\n    {\n        my ($k,$val) = \"\";\n        $g =~ /^(\\w.*)\\_(\\w.*)$/;\n        $k = $1; $val = $2;\n        $hash{$k} = {$val};\n    }\n}   \n    foreach $S (@orderKeys)\n        {\n            if($setArr[$i] =~ /^$S\\_.*$/)\n            {\n            print \"$S\\t\";\n            }\n        }\n    }\n\n    print \"\\n\";\n}   \nclose IN;\n</code></pre>\n"}]