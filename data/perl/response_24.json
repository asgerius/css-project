[{"tags": ["ruby", "regex", "bash", "perl", "sed"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4893168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d673063365ec93cf01a14566622a6524?s=128&d=identicon&r=PG&f=1", "display_name": "Ken Harvey", "link": "https://stackoverflow.com/users/4893168/ken-harvey"}, "edited": false, "score": 0, "creation_date": 1435193466, "post_id": 31039211, "comment_id": 50102677, "body": "Precise, informative, and instructive for those of us just beginning, Thank you!"}], "tags": [], "owner": {"reputation": 729, "user_id": 3069115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9220d416e46ec9b73cab61afbb26798b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Tom", "link": "https://stackoverflow.com/users/3069115/tim-tom"}, "is_accepted": true, "score": 2, "last_activity_date": 1435204224, "last_edit_date": 1435204224, "creation_date": 1435191077, "answer_id": 31039211, "question_id": 31039102, "link": "https://stackoverflow.com/questions/31039102/sed-or-perl-one-file-with-regex-instructions-one-instruction-per-line-execute/31039211#31039211", "title": "Sed or Perl: One file with regex instructions, one instruction per line, executed on another file", "body": "<p>The basic answer is that you need a semicolon after each line.</p>\n\n<p>Paraphrased from <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\" title=\"perlrun\">perlrun</a>, <code>-p</code> reads all lines of input, runs the commands you specified, and then prints out the value in <code>$_</code> (the implicit variable you're running your substitute commands on in this script).</p>\n\n<p>So, removing the magic, <code>-p</code> transformed your code into:</p>\n\n<pre><code>LINE:\nwhile (&lt;&gt;) {\n    # regex.pl\n    s/^(?!Mr)/Ms./g\n    s/Ms./Mrs./g\n} continue {\n    print or die \"-p destination: $!\\n\";\n}\n</code></pre>\n\n<p>Perl requires a semicolon between statements (but a terminal semicolon at the end of a block is optional) hence the error.</p>\n\n<p>I personally would recommend writing the whole script above into the file instead of using <code>-p</code> because it is far less magical, but you're welcome to do it either way.</p>\n\n<p>If you were going to write the whole script, I would recommend something more like the following:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile ( my $line = &lt;ARGV&gt; ) {\n\n    $line =~ s/^(?!Mr)/Ms./g;\n    print \"After first subst: $line\";\n\n    $line =~ s/Ms./Mrs./g;\n    print \"After second subst: $line\";\n}\n</code></pre>\n\n<p><code>use strict</code> and <code>use warnings</code> are the boilerplate you want at the top of any perl script (to catch typos and other common mistakes) and explicitly calling the variable <code>$line</code> gives you a better understanding of how the script is working (<code>$_</code> is very magical for beginners and the source of many errors IMO, but great when you know what's what).</p>\n\n<p>If you're wondering about <code>&lt;&gt;</code> vs. <code>&lt;ARGV&gt;</code> they are the same thing and mean \"Read through all the lines of files provided as command-line arguments to this script or standard input if no files are provided\".\"</p>\n"}], "owner": {"reputation": 33, "user_id": 4893168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d673063365ec93cf01a14566622a6524?s=128&d=identicon&r=PG&f=1", "display_name": "Ken Harvey", "link": "https://stackoverflow.com/users/4893168/ken-harvey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 31039211, "answer_count": 1, "score": 2, "last_activity_date": 1435204224, "creation_date": 1435190235, "last_edit_date": 1435191209, "question_id": 31039102, "link": "https://stackoverflow.com/questions/31039102/sed-or-perl-one-file-with-regex-instructions-one-instruction-per-line-execute", "title": "Sed or Perl: One file with regex instructions, one instruction per line, executed on another file", "body": "<p>I'm setting up a regex learning environment purely in bash/tmux with a pane for the file containing a regex, a pane for a text-file-for-processing, and a pane for the bash shell. I'm at the start of \"<a href=\"http://ruby.bastardsbook.com/chapters/regexes/\" rel=\"nofollow\">The Bastards Book of Ruby</a>\"-regex chapter.</p>\n\n<p>The 'Bastard's Book' shows an example of a 'negative-lookahead' regex (perfect, lets learn), where perl is recommended over sed. As I'm going for a CLI approach-> Bash command: <code>$ perl -p file_with_regex.pl test.txt</code>\n(This prints the lines from test.txt with the intended substitutions)</p>\n\n<p>Question: How would I add a second regex (on a new line) of the regex.pl file, and have perl execute both the first <strong>and</strong> (next) this second instruction for processing the text file? </p>\n\n<pre><code>    # regex.pl\n    s/^(?!Mr)/Ms./g\n    s/Ms./Mrs./g\n</code></pre>\n\n<p>(Adding the second regex results in \"Execution of regex.pl aborted due to compilation errors.\")</p>\n\n<p>The overall aim here is to progress in Ruby, while testing Regular Expressions as concisely as possible. Picking up a bare minimum of sed/perl while doing so would be a plus, as a proper dive into perl would take time from Ruby (and when it's time for the perl dive, I'll have had some time with the basics). <em>The more I look at this the more it seems necessary to just do it in Ruby, if there isn't a perl switch that would enable a command-line-with-files approach.</em></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 45, "user_id": 5046578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4ef58c3dd36b3c1a9dcf4517e0e6177?s=128&d=identicon&r=PG&f=1", "display_name": "tkidder", "link": "https://stackoverflow.com/users/5046578/tkidder"}, "edited": false, "score": 0, "creation_date": 1435187364, "post_id": 31038567, "comment_id": 50101138, "body": "To run, I type:     perlfile.pl folder  perfile.pl is in a bin folder I made."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 2, "creation_date": 1435187730, "post_id": 31038567, "comment_id": 50101242, "body": "The Perl code itself is syntactically correct. The syntax error message is from the shell invoked by the second <code>system</code> call. The string being passed to the shell as a command is <code>&quot;rm !(*.faa|*.tsv)&quot;</code>. What did you expect the shell to do with that? The <code>rm</code> command doesn&#39;t recognize <code>!</code> or parentheses as special characters."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 1, "last_activity_date": 1435187344, "creation_date": 1435187344, "answer_id": 31038654, "question_id": 31038567, "link": "https://stackoverflow.com/questions/31038567/sh-1-syntax-error-unexpected/31038654#31038654", "title": "sh: 1: Syntax error: &quot;(&quot; unexpected", "body": "<p>It's complaining about this line:</p>\n\n<pre><code>system (\"rm !\\(*.faa|*.tsv\\)\");\n</code></pre>\n\n<p>as even if you get the quoting of the shell metacharacters right, is pretty obtuse and does not, I believe, erase all files that don't end in <code>.faa</code> or <code>.tsv</code>.</p>\n\n<p>Perl is up to the latter task.</p>\n\n<pre><code>unlink grep { -f $_ &amp;&amp; !/[.]faa$/ &amp;&amp; !/[.]tsv$/ } glob(\"*\")\n</code></pre>\n\n<p>is one of several ways.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1435196148, "creation_date": 1435196148, "answer_id": 31039816, "question_id": 31038567, "link": "https://stackoverflow.com/questions/31038567/sh-1-syntax-error-unexpected/31039816#31039816", "title": "sh: 1: Syntax error: &quot;(&quot; unexpected", "body": "<p>This entire program is much simpler without the use of shell commands</p>\n\n<p>I would write this, which copies only the wanted file types in the first place. I assume there are no nested directories to be copied</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse File::Copy 'copy';\n\nmy ($folder) = @ARGV;\n\nwhile ( my $file = glob \"~/directoryA/$folder/*.{faa,tsv}\" ) {\n    copy $file, '~/directoryB';\n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 5046578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4ef58c3dd36b3c1a9dcf4517e0e6177?s=128&d=identicon&r=PG&f=1", "display_name": "tkidder", "link": "https://stackoverflow.com/users/5046578/tkidder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2627, "favorite_count": 0, "accepted_answer_id": 31038654, "answer_count": 2, "score": 0, "last_activity_date": 1435253357, "creation_date": 1435186858, "question_id": 31038567, "link": "https://stackoverflow.com/questions/31038567/sh-1-syntax-error-unexpected", "title": "sh: 1: Syntax error: &quot;(&quot; unexpected", "body": "<p>I am trying to run an executable perl file that copies a directory to another location and then removes every file in that new location except for those ending with .faa and .tsv. Here's the code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $folder = $ARGV[0];\n\nsystem (\"cp -r ~/directoryA/$folder/ ~/directoryB/\");\nchdir \"~/directoryB/$folder\";\n\n# Remove everything except for .faa and .tsv files\nsystem (\"rm !\\(*.faa|*.tsv\\)\");\n</code></pre>\n\n<p>Regardless of whether or not I escape the parenthesis, I get the error:</p>\n\n<pre><code>sh: 1: Syntax error: \"(\" unexpected\n</code></pre>\n\n<p>and it didn't remove any files. The location of the perl file is ~/bin, and I'd like to avoid changing the #!/usr/bin/perl line since several computers will be using this script.\nThis is a little beyond my knowledge, as I only know basic scripting, but does anyone know why this is happening?</p>\n"}, {"tags": ["perl", "file"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435184223, "post_id": 31037688, "comment_id": 50100117, "body": "If you rename first, then the move is going to fail, because you are trying to move the old file name."}, {"owner": {"reputation": 7, "user_id": 5005084, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-2oPE_E8W7iw/AAAAAAAAAAI/AAAAAAAAAFw/X1jEJ2FkMh4/photo.jpg?sz=128", "display_name": "alexeim", "link": "https://stackoverflow.com/users/5005084/alexeim"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435184494, "post_id": 31037688, "comment_id": 50100220, "body": "oh ok so basically i should do mv($oldfile, directory/$newfile) ?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1435185965, "creation_date": 1435185965, "answer_id": 31038434, "question_id": 31037688, "link": "https://stackoverflow.com/questions/31037688/file-managing-issues/31038434#31038434", "title": "File managing issues", "body": "<p>The problem is that you are renaming the files and then moving them, but after the rename the file no longer exists under its old name in the <code>@files</code> array</p>\n\n<p>You can use <code>mv</code> to change the name of the file as well as putting it into a new directory. In other words, you can call</p>\n\n<pre><code>mv 'movie.title.s01.e08.(2008).[1080p].mkv', 'Saison 01/Movie TitleS01E08.mkv'\n</code></pre>\n\n<p>which simplifies your program considerably. You just need to create the new directory if it doesn't exist, and then call <code>mv $f, \"$npath/$flast\"</code> for each name in <code>@files</code></p>\n"}], "owner": {"reputation": 7, "user_id": 5005084, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-2oPE_E8W7iw/AAAAAAAAAAI/AAAAAAAAAFw/X1jEJ2FkMh4/photo.jpg?sz=128", "display_name": "alexeim", "link": "https://stackoverflow.com/users/5005084/alexeim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 31038434, "answer_count": 1, "score": 0, "last_activity_date": 1435185965, "creation_date": 1435182482, "question_id": 31037688, "link": "https://stackoverflow.com/questions/31037688/file-managing-issues", "title": "File managing issues", "body": "<p>im working on a simple script to rename &amp; move files into a new directory. I can't seem to get it work properly, basically if the folder is already created it will moves the files into it only if the files are renamed, if the folder is already created but files need to be renamed it won't work it will just rename the files and give me an error because it won't be able to move the files. If the folder need to be created and files to be renamed it will create the folder and rename the files but it won't be able to move them. So i am a bit lost really..</p>\n\n<p><a href=\"http://i.stack.imgur.com/v8smp.jpg\" rel=\"nofollow\">http://i.stack.imgur.com/v8smp.jpg</a></p>\n\n<p>I've been trying a lot of different way but it ends up not working or giving me the same result i think i am doing something wrong, heres my code :</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Copy qw(mv);\n\nmy ($movie, $season, $cont) = @ARGV;\n\nif (not defined $movie) {\n    die \"need a name as first argument\\n\";\n}\n\nif (defined $movie and defined $season and defined $cont) {\n\n    print \"\\n\\nProcessing $movie season $season with container .$cont :\\n\";\n\n    my $npath = \"Saison \".\"$season\";\n    my $exist = 0;\n    my $num = 1;\n    my $ind = 0;\n    my $flast = undef;\n    my $rpath = undef;\n    my @files = glob(\"*.$cont\");\n    my @all = glob('*');\n\n    foreach my $f (@files) {\n        if ($f =~ m/e([0-1_-] ?)\\Q$num/i or $f =~ m/episode([0-1_-] ?)\\Q$num/i) {\n            $flast = \"$movie.S$season\".\"E$num.$cont\";\n            rename($f, $flast) or die \"\\nError while renaming $f !\";\n            $num++;\n        }\n    }\n\n    if (-d \"$npath\") {\n        $exist = 1;\n        print \"\\n$npath\";\n        }\n    else {\n        mkdir($npath) or die \"\\nError while making new directory\";\n        $exist = 1;\n    }\n\n    sleep(1);\n\n    if ($exist == 1) {\n        foreach my $f (@files) {\n            $npath = \"Saison \".\"$season/$f\";\n            mv($f, $npath) or die \"\\nError while moving $f\";\n            print \"\\n$f done !\";\n            $ind++;\n        }\n        print \"\\n\\n$ind files processed successfully !\";\n    }\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "edited": false, "score": 2, "creation_date": 1435181440, "post_id": 31037324, "comment_id": 50098904, "body": "Use an HTML parser instead."}, {"owner": {"reputation": 137, "user_id": 4466633, "user_type": "registered", "accept_rate": 13, "profile_image": "https://i.stack.imgur.com/GDIn1.jpg?s=128&g=1", "display_name": "jawjaw", "link": "https://stackoverflow.com/users/4466633/jawjaw"}, "reply_to_user": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "edited": false, "score": 0, "creation_date": 1435181628, "post_id": 31037324, "comment_id": 50098994, "body": "I need to do this replacement regularly not one time only so it would be nice to just write a bat file"}, {"owner": {"reputation": 3483, "user_id": 2668666, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/3QEDd.jpg?s=128&g=1", "display_name": "jmrah", "link": "https://stackoverflow.com/users/2668666/jmrah"}, "edited": false, "score": 0, "creation_date": 1435183294, "post_id": 31037324, "comment_id": 50099759, "body": "Do you want to remove the &lt;blockquote&gt; tags as well as what is between them, or just what is between them?"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1435183776, "post_id": 31037324, "comment_id": 50099929, "body": "Make a research about XPath, I think this will save your life."}, {"owner": {"reputation": 137, "user_id": 4466633, "user_type": "registered", "accept_rate": 13, "profile_image": "https://i.stack.imgur.com/GDIn1.jpg?s=128&g=1", "display_name": "jawjaw", "link": "https://stackoverflow.com/users/4466633/jawjaw"}, "edited": false, "score": 0, "creation_date": 1435220278, "post_id": 31037324, "comment_id": 50112144, "body": "I want to remove everything from &lt;table cellpadding=&quot;5&quot; cellspacing=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot;&gt; to &lt;/table&gt; IF text between &lt;blockquote&gt; and &lt;/blockquote&gt; is shorter than 10."}], "answers": [{"tags": [], "owner": {"reputation": 405, "user_id": 4860403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34928c032bed1222afd069cd23d0767f?s=128&d=identicon&r=PG&f=1", "display_name": "ilbelkyr", "link": "https://stackoverflow.com/users/4860403/ilbelkyr"}, "is_accepted": false, "score": 0, "last_activity_date": 1435182095, "creation_date": 1435182095, "answer_id": 31037603, "question_id": 31037324, "link": "https://stackoverflow.com/questions/31037324/perl-regex-word-max-7characters-word/31037603#31037603", "title": "Perl Regex word [max 7characters] word", "body": "<p>You really should use an HTML parser instead; it's more reliable and much less likely to randomly break on input you didn't expect. That said,</p>\n\n<pre><code>&lt;blockquote&gt;.{4,10}.*&lt;/blockquote&gt;\n</code></pre>\n\n<p>The <code>.{4,10}.*</code> you have there will match any character, 4 to 10 times, followed by any number of characters. If you only want to match where there's up to 10 characters, removing the <code>.*</code> should be sufficient for now.</p>\n"}, {"tags": [], "owner": {"reputation": 1404, "user_id": 5042170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c38b9d9b68e759ee2d234fefbccdf401?s=128&d=identicon&r=PG&f=1", "display_name": "HashSu", "link": "https://stackoverflow.com/users/5042170/hashsu"}, "is_accepted": false, "score": 0, "last_activity_date": 1435183291, "creation_date": 1435183291, "answer_id": 31037902, "question_id": 31037324, "link": "https://stackoverflow.com/questions/31037324/perl-regex-word-max-7characters-word/31037902#31037902", "title": "Perl Regex word [max 7characters] word", "body": "<p>As rightly pointed @ilberkyr it match even spaces. </p>\n\n<pre><code>&lt;blockquote&gt; \n\nSome Text THISWILLNOTBEREMOVED\n&lt;/blockquote&gt;\n\n@ARR = &lt;HTML&gt;;\n$LINE = $ARR =~ /&lt;blockquote&gt;(..)&lt;/blockquote&gt;/g;\n@lines = split(/\\s+/, $LINE);\n</code></pre>\n\n<p>If you want to remove character length between 0 to 10 try splitting with space, for each array value check text length if lesser don't write to the HTML file. You should also manage on the \" tags</p>\n"}], "owner": {"reputation": 137, "user_id": 4466633, "user_type": "registered", "accept_rate": 13, "profile_image": "https://i.stack.imgur.com/GDIn1.jpg?s=128&g=1", "display_name": "jawjaw", "link": "https://stackoverflow.com/users/4466633/jawjaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1447860910, "creation_date": 1435181063, "last_edit_date": 1447860910, "question_id": 31037324, "link": "https://stackoverflow.com/questions/31037324/perl-regex-word-max-7characters-word", "title": "Perl Regex word [max 7characters] word", "body": "<p>I need to remove text which matches this kind of pattern. I am working of tool which requires regex written in PERL(rxrepl.exe). I already did the first step to make it easier- deleted all symbols of end of line. \nNow i have only to discover how to correct this regex in PERL regular Expression.</p>\n\n<pre><code>My pattern:   &lt;table cellpadding=\"5\".*&lt;blockquote&gt;.{4,10}.*&lt;/blockquote&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt; \n</code></pre>\n\n<p>=== example of file</p>\n\n<pre><code>&lt;table cellpadding=\"5\" cellspacing=\"0\" border=\"0\" width=\"100%\"&gt;\n&lt;tr&gt;\n&lt;td style=\"border-bottom-color: #d0d0d0; border-bottom-style: solid; border-bottom-width: 1px; background-color: #eaeaea;\"&gt;&lt;!-- F1E896 --&gt;\n&lt;font style=\"font-size: 13px;\"&gt;&lt;b&gt;TITLE 25&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;font color=\"#808080\"&gt;18-06-2015 | &lt;a href=\"http://www.link1.co.uk/\" target=\"_top\"&gt;Web page&lt;/a&gt; | &lt;a href=\"\" target=\"_top\"&gt;Local page&lt;/a&gt;&lt;/font&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\"border-bottom-color: #f0f0f0; border-bottom-style: solid; border-bottom-width: 1px; background-color: #f8f8f8;\"&gt;&lt;!-- F5F2C7 --&gt;\n&lt;blockquote&gt;\n&lt;a href=\"\"&gt;HMRC relaxes PAYE late filing penalties&lt;/a&gt;&lt;br&gt;&lt;br&gt;HMRC will begin relaxing automatic late filing penalties for people who send PAYE information late, officials have...\n      &lt;br&gt;&lt;br&gt;&lt;a href=\"http://www.gogle.com\"&gt;Employers 'feel the pinch' of skills shortages&lt;/a&gt;&lt;br&gt;\n&lt;/blockquote&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;&lt;br&gt;\n&lt;br&gt;\n\n&lt;table cellpadding=\"5\" cellspacing=\"0\" border=\"0\" width=\"100%\"&gt;\n&lt;tr&gt;\n&lt;td style=\"border-bottom-color: #d0d0d0; border-bottom-style: solid; border-bottom-width: 1px; background-color: #eaeaea;\"&gt;&lt;!-- F1E896 --&gt;\n&lt;font style=\"font-size: 13px;\"&gt;&lt;b&gt;TITLE 2&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;font color=\"#808080\"&gt; | &lt;a href=\"http://www.TITLE2.com/\" target=\"_top\"&gt;Web page&lt;/a&gt; | &lt;a href=\"\" target=\"_top\"&gt;Local page&lt;/a&gt;&lt;/font&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\"border-bottom-color: #f0f0f0; border-bottom-style: solid; border-bottom-width: 1px; background-color: #f8f8f8;\"&gt;&lt;!-- F5F2C7 --&gt;\n&lt;blockquote&gt;\n&lt;br&gt;\n&lt;/blockquote&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;&lt;br&gt;\n&lt;br&gt;\n\n&lt;table cellpadding=\"5\" cellspacing=\"0\" border=\"0\" width=\"100%\"&gt;\n&lt;tr&gt;\n&lt;td style=\"border-bottom-color: #d0d0d0; border-bottom-style: solid; border-bottom-width: 1px; background-color: #eaeaea;\"&gt;&lt;!-- F1E896 --&gt;\n&lt;font style=\"font-size: 13px;\"&gt;&lt;b&gt;TEST80&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;font color=\"#808080\"&gt;18-06-2015 | &lt;a href=\"https://TEST2.CO.UK\" target=\"_top\"&gt;Web page&lt;/a&gt; | &lt;a href=\"\" target=\"_top\"&gt;Local page&lt;/a&gt;&lt;/font&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td style=\"border-bottom-color: #f0f0f0; border-bottom-style: solid; border-bottom-width: 1px; background-color: #f8f8f8;\"&gt;&lt;!-- F5F2C7 --&gt;\n&lt;blockquote&gt;\n\n\n TEXT SAMPLE TEXT\n    &lt;/blockquote&gt;\n    &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;/table&gt;&lt;br&gt;\n    &lt;br&gt;\n</code></pre>\n\n<p>edit: to be clear\nI want to remove everything from <code>&lt;table cellpadding=\"5\" cellspacing=\"0\" border=\"0\" width=\"100%\"&gt;</code> to <code>&lt;/table&gt;</code> IF text between <code>&lt;blockquote&gt;</code> and <code>&lt;/blockquote&gt;</code> is shorter than 10. \nThanks for help:)</p>\n"}, {"tags": ["sql-server", "perl", "odbc"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 4, "creation_date": 1435176362, "post_id": 31035931, "comment_id": 50096259, "body": "probably utf16 chars being displayed in some other charset, e.g. iso8859..."}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1435178573, "post_id": 31035931, "comment_id": 50097470, "body": "How would I change the charset?"}], "answers": [{"comments": [{"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1435188595, "post_id": 31038807, "comment_id": 50101486, "body": "Yes this was the solution. I ended up setting <code>LongReadLen</code> to 10000000 and I did not have to set <code>LongTruncOk</code>"}], "tags": [], "owner": {"reputation": 1514, "user_id": 897612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evivy.png?s=128&g=1", "display_name": "dpw", "link": "https://stackoverflow.com/users/897612/dpw"}, "is_accepted": true, "score": 1, "last_activity_date": 1435188365, "creation_date": 1435188365, "answer_id": 31038807, "question_id": 31035931, "link": "https://stackoverflow.com/questions/31035931/perl-not-reading-full-values-from-database/31038807#31038807", "title": "Perl Not Reading Full Values from Database", "body": "<p>You need to set <code>LongReadLen</code> in addition to <code>LongTruncOk</code>.  You've told DBI it's ok to cut off long results from the DB, and now you need to tell it how long of a string you're willing to accept.</p>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 31038807, "answer_count": 1, "score": 0, "last_activity_date": 1435188365, "creation_date": 1435176202, "last_edit_date": 1435181929, "question_id": 31035931, "link": "https://stackoverflow.com/questions/31035931/perl-not-reading-full-values-from-database", "title": "Perl Not Reading Full Values from Database", "body": "<p>I am currently using the <code>DBI</code> module to connect to my MSSQL Database to pull some data from a table.</p>\n\n<p>The row I am trying to pull contains a lot of text (it is of type <code>ntext</code> and can contain up to 6Mb of text). </p>\n\n<p>My query is a very simple one at the moment:</p>\n\n<pre><code>my $sql = \"SELECT TOP 1 [reportRow] from UsageReport\";\n</code></pre>\n\n<p>And I also have <code>LongTruncOk</code> enabled for the Database options.</p>\n\n<p>After I execute the query, I want to display the rows.</p>\n\n<pre><code>while ( my @row = $sth-&gt;fetchrow_array ) {\n   print \"@row\\n\";\n}\n</code></pre>\n\n<p>Unfortunately it displays the data in a very weird manner with spaces in between every character and it only retrieves the first 40 characters. </p>\n\n<pre><code>&lt; r e p o r t &gt; &lt; r e p o r t h e a d e r &gt; &lt; m o n t h &gt; O c t o b e r   2 0\n</code></pre>\n\n<p>If I use <code>File::Slurp</code> to output <code>@row</code> to a file, it displays as</p>\n\n<p><img src=\"https://i.stack.imgur.com/DuSEq.png\" alt=\"enter image description here\"></p>\n\n<p>Is there a reason the data is being cut off and is being displayed weird?</p>\n\n<p>Edit: How would I convert UTF16 into a format that doesn't insert spaces between characters?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1435175105, "post_id": 31035289, "comment_id": 50095500, "body": "You mean the <code>&#47;x</code> modifier to a regular expression?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1435175323, "post_id": 31035289, "comment_id": 50095622, "body": "@tadman <code>&#47;x</code> only ignores whitespace on the LHS of the substitution."}, {"owner": {"reputation": 3079, "user_id": 1226655, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Yyz1i.png?s=128&g=1", "display_name": "IDDQD", "link": "https://stackoverflow.com/users/1226655/iddqd"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1435175866, "post_id": 31035289, "comment_id": 50095986, "body": "@ThisSuitIsBlackNot is right. Couldn&#39;t care less about LHS, I need RHS to be split."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1435175909, "post_id": 31035289, "comment_id": 50096014, "body": "Can you give a bit more example? I mean, this looks like a place where you could use a loop... but it depends a bit where &#39;arbitary string&#39; comes from? If it&#39;s just hardcoded, then changing that into an array (or hash) seems a sensible approach."}], "answers": [{"comments": [{"owner": {"reputation": 3079, "user_id": 1226655, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Yyz1i.png?s=128&g=1", "display_name": "IDDQD", "link": "https://stackoverflow.com/users/1226655/iddqd"}, "edited": false, "score": 0, "creation_date": 1435176269, "post_id": 31035874, "comment_id": 50096210, "body": "Thanks for the effort, but I&#39;m interested in regex line split."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 3079, "user_id": 1226655, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Yyz1i.png?s=128&g=1", "display_name": "IDDQD", "link": "https://stackoverflow.com/users/1226655/iddqd"}, "edited": false, "score": 0, "creation_date": 1435176390, "post_id": 31035874, "comment_id": 50096276, "body": "OK, fair enough. But I&#39;m intrigued - what&#39;s behind that constraint?"}, {"owner": {"reputation": 3079, "user_id": 1226655, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Yyz1i.png?s=128&g=1", "display_name": "IDDQD", "link": "https://stackoverflow.com/users/1226655/iddqd"}, "edited": false, "score": 0, "creation_date": 1435176733, "post_id": 31035874, "comment_id": 50096461, "body": "I meant that each &#39;ArbitraryString&#39; is a unique value. Like apple, carrot, cabbage, potato, pear, etc."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 3079, "user_id": 1226655, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Yyz1i.png?s=128&g=1", "display_name": "IDDQD", "link": "https://stackoverflow.com/users/1226655/iddqd"}, "edited": false, "score": 0, "creation_date": 1435176851, "post_id": 31035874, "comment_id": 50096514, "body": "Yes,. But is there a reason it can&#39;t be a list (array) of unique values? That way you can format for readability anyway you like <code>qw()</code> can work quite well for that, but so does just y&#39;know, not trying to embed a long pattern in a hardcoded string."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1435176897, "last_edit_date": 1435176897, "creation_date": 1435176010, "answer_id": 31035874, "question_id": 31035289, "link": "https://stackoverflow.com/questions/31035289/perl-really-long-replace-substitution/31035874#31035874", "title": "Perl: really long replace/substitution?", "body": "<p>Could you not do this as a loop? </p>\n\n<pre><code>my @arbitrary_strings = qw ( arbitrarystring1 arbitrarystring2 ); \n\nmy ($part1, $part2) = ( $a =~ m/(.*) (.*)/ );\n\nmy $newstring;\n\nforeach my $element ( @arbitrary_strings ) {\n    $newstring .= $part1 . \"_\" . $element;\n}\n</code></pre>\n\n<p>Something like that? I'm afraid I'm not clear on exactly how you decide which goes before which element - is it as simple as the first half get 'alpha' in front, and the second get 'beta' in front? In which case:</p>\n\n<pre><code>my @first_group = qw ( trout carp haddock );\nmy @second_group = qw ( apple pear banana ); \n\nmy ( $part1, $part2 ) = ( $a =~ m/(.*) (.*)/ ); \n\nmy $result;\nforeach my $element ( @first_group ) { \n   $result .= $part1 . \"_\" . $element . \" \";\n}\n\nforeach my $element ( @second_group ) { \n   $result .= $part2 . \"_\" . $element . \" \";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1404, "user_id": 5042170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c38b9d9b68e759ee2d234fefbccdf401?s=128&d=identicon&r=PG&f=1", "display_name": "HashSu", "link": "https://stackoverflow.com/users/5042170/hashsu"}, "is_accepted": false, "score": 1, "last_activity_date": 1435176372, "last_edit_date": 1435176372, "creation_date": 1435176329, "answer_id": 31035975, "question_id": 31035289, "link": "https://stackoverflow.com/questions/31035289/perl-really-long-replace-substitution/31035975#31035975", "title": "Perl: really long replace/substitution?", "body": "<pre><code>my $a = \"alpha beta\"; my $a1 = '';my $b1 = '';\nforeach (1..99)\n{\n    $a1 .= $_;\n}\nforeach (100..199)\n{\n    $b1 .= $_;\n}\n# Each 'ArbitraryString' is a unique string\n# For example each denotes a unique fruit and vegetable types\n$a =~ s/^(.*)\\s(.*)$/$a1 $b1/;\n\nprint $a . \"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384\n858687888990919293949596979899 10010110210310410510610710810911011111211311411511611711811912012112212312412512612712812913013113213313413513613713813914014114\n214314414514614714814915015115215315415515615715815916016116216316416516616716816917017117217317417517617717817918018118218318418518618718818919019119219319419\n5196197198199\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3079, "user_id": 1226655, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Yyz1i.png?s=128&g=1", "display_name": "IDDQD", "link": "https://stackoverflow.com/users/1226655/iddqd"}, "edited": false, "score": 0, "creation_date": 1435177428, "post_id": 31036190, "comment_id": 50096839, "body": "Beautiful. I can append to <code>$r</code> using the <code>.=</code> operator, to create a string as long as I desire, and conveniently call the substitute function. Will mark as correct if you explain the details. What does the <code>ee</code> mean at the end?"}, {"owner": {"reputation": 3079, "user_id": 1226655, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Yyz1i.png?s=128&g=1", "display_name": "IDDQD", "link": "https://stackoverflow.com/users/1226655/iddqd"}, "edited": false, "score": 1, "creation_date": 1435178791, "post_id": 31036190, "comment_id": 50097567, "body": "Found it! From <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators</a> <code>ee  Evaluate the right side as a string then eval the result.</code>"}], "tags": [], "owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "is_accepted": true, "score": 1, "last_activity_date": 1435180811, "last_edit_date": 1435180811, "creation_date": 1435177134, "answer_id": 31036190, "question_id": 31035289, "link": "https://stackoverflow.com/questions/31035289/perl-really-long-replace-substitution/31036190#31036190", "title": "Perl: really long replace/substitution?", "body": "<p>Perhaps what you want is to <code>eval</code> the replacement:</p>\n\n<pre><code>$r='\"${1}_a ${1}_b ${2}_c ${2}_d\"';\ns/(.*)\\s(.*)$/$r/ee;\n</code></pre>\n\n<p>this gives <code>a_a a_b b_c b_d</code> for an input of <code>a b</code>.  Obviously, you can build <code>$r</code> up over several lines if you need to.</p>\n\n<p>The key is the doubled <code>ee</code> option to <code>s///</code> - this means to <code>eval</code> the replacement (giving us the contents of <code>$r</code>) and then <code>eval</code> the result of that (interpolating our current values of <code>$1</code>, <code>$2</code>, ... into it).</p>\n"}, {"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 1, "last_activity_date": 1435177675, "creation_date": 1435177675, "answer_id": 31036372, "question_id": 31035289, "link": "https://stackoverflow.com/questions/31035289/perl-really-long-replace-substitution/31036372#31036372", "title": "Perl: really long replace/substitution?", "body": "<p>You can use a function to generate the replacement string and evaluate it in the substitution using the <code>e</code> option:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nsub add_suffixes {\n    my ($foo, $bar) = @_;\n\n    my @suffixes = qw(apple carrot cabbage potato pear);\n    return join ' ', map { (\"${foo}_${_}\", \"${bar}_${_}\") } @suffixes;\n}\n\nmy $string = 'alpha beta';\n$string =~ s/^(.*) (.*)$/add_suffixes($1, $2)/e;\nsay $string;\n</code></pre>\n\n<h3>Output:</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>alpha_apple beta_apple alpha_carrot beta_carrot alpha_cabbage beta_cabbage alpha_potato beta_potato alpha_pear beta_pear\n</code></pre>\n"}], "owner": {"reputation": 3079, "user_id": 1226655, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Yyz1i.png?s=128&g=1", "display_name": "IDDQD", "link": "https://stackoverflow.com/users/1226655/iddqd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 31036190, "answer_count": 4, "score": 1, "last_activity_date": 1435180811, "creation_date": 1435173948, "question_id": 31035289, "link": "https://stackoverflow.com/questions/31035289/perl-really-long-replace-substitution", "title": "Perl: really long replace/substitution?", "body": "<p>I have a string variable with two elements in it, separated by a space. I am trying to do a regex replace on that variable. Problem is, the replace is REALLY long, and I have not been able to find a way to break up the regex onto several lines.</p>\n\n<p>Can someone suggest a solution to break up regex statement into several lines, or an alternate means of replacement? PerlDoc failed me here. Much appreciated.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nmy $a = \"alpha beta\";\n\n# Each 'ArbitraryString' is a unique string\n# For example each denotes a unique fruit and vegetable types\n$a=~s/^(.*) (.*)$/${1}_ArbitraryString1 ${1}_ArbitraryString2 ... ${2}_ArbitraryString50 ${2}_ArbitraryString51 ... ${2}_ArbitraryString99/;\nprint $a . \"\\n\";\n</code></pre>\n"}, {"tags": ["perl", "pdl"], "comments": [{"owner": {"reputation": 23, "user_id": 5045870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0bcd1fe5e33379649350eead3a03d38?s=128&d=identicon&r=PG&f=1", "display_name": "leman", "link": "https://stackoverflow.com/users/5045870/leman"}, "edited": false, "score": 0, "creation_date": 1435174841, "post_id": 31034467, "comment_id": 50095347, "body": "I fixed the issue with the transpose function, however I&#39;m still curious if anyone can show the logic behind this data flow for me. Thanks!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1435182490, "post_id": 31034467, "comment_id": 50099410, "body": "The function is called <code>rcols</code>, why would you think it pulls rows instead of columns? You can simplify your code a bit: <code>my $pdl = rcols &#39;infile&#39;, [];</code> To print the piddle, you can use <code>wcols $pdl, &#39;outfile&#39;;</code>"}, {"owner": {"reputation": 23, "user_id": 5045870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0bcd1fe5e33379649350eead3a03d38?s=128&d=identicon&r=PG&f=1", "display_name": "leman", "link": "https://stackoverflow.com/users/5045870/leman"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1435240321, "post_id": 31034467, "comment_id": 50125634, "body": "Well, it is obvious I agree. I couldn&#39;t find/make sense of anything similar to a &quot;rrows&quot; function though."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 2449827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e185071098c75ca9d468d218c078fbd?s=128&d=identicon&r=PG", "display_name": "Mark Baker", "link": "https://stackoverflow.com/users/2449827/mark-baker"}, "is_accepted": false, "score": 0, "last_activity_date": 1456788794, "last_edit_date": 1456788794, "creation_date": 1454219559, "answer_id": 35110822, "question_id": 31034467, "link": "https://stackoverflow.com/questions/31034467/perl-pdl-not-working-as-expected/35110822#35110822", "title": "Perl PDL not working as expected", "body": "<p>Maybe its just better to make a \"3,6 matrix of zeros\" then set in each value individually, (which means putting the data from a file into a 1D pdl() first) I would use a open() to read it into a scaler then put that in a 1D piddle; which can be rather involved ... once you get it in a 1D piddle do this:</p>\n\n<pre><code>open(FILE,\"yourfile\"); while (&lt;FILE&gt;) { $x = $_; } \n    close FILE;\n\n   $y = zeros(3,6);\np  $x = sequence(18);\n [0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17]\nfor $c(0..5) { for $d(0..2) {  $y($d,$c) .= $x($e++)   }}  \np $y\n [ 0  1  2]\n [ 3  4  5]\n [ 6  7  8]\n [ 9 10 11]\n [12 13 14]\n [15 16 17]\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5045870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0bcd1fe5e33379649350eead3a03d38?s=128&d=identicon&r=PG&f=1", "display_name": "leman", "link": "https://stackoverflow.com/users/5045870/leman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1456788794, "creation_date": 1435171309, "question_id": 31034467, "link": "https://stackoverflow.com/questions/31034467/perl-pdl-not-working-as-expected", "title": "Perl PDL not working as expected", "body": "<p>I really don't understand PDL's input functions. Personally, I've been using the rcols feature to create pdls, as was recommended to me in various places around the web. </p>\n\n<p>I have an input file like this :</p>\n\n<pre><code> 3 -4 -1\n 0 5 2\n 3 5 6\n 2 5 2\n 5 5 5\n 5 5 6\n</code></pre>\n\n<p>which, I want to assign to a Piddle. When I assign it to a piddle like so, </p>\n\n<pre><code>my @pdls = rcols $in_fh, { COLSEP =&gt; \"\\\\s\" } ;\nmy $pdl = pdl(@pdls[1 .. $#pdls]);\n</code></pre>\n\n<p>When I print @pdls this is printed :</p>\n\n<pre><code>[\n [ 3  0  3  2  5  5]\n [-4  5  5  5  5  5]\n [-1  2  6  2  5  6]\n]\n</code></pre>\n\n<p>Which made me think it pulled my file by columns, and not rows. Which makes sense looking at the code, really. When I saved this output to a file(After stripping out all the brackets) this is how it looked. :</p>\n\n<pre><code>3  0  3  2  5  5\n-4  5  5  5  5  5\n-1  2  6  2  5  6\n</code></pre>\n\n<p>When I ran the same script on the new input file, the result does not follow the same process as before :</p>\n\n<pre><code>[\n [ 0 -4 -1]\n [ 3  0  0]\n [ 0  5  2]\n [ 0  0  0]\n [ 0  5  6]\n [ 3  0  0]\n [ 0  5  2]\n [ 2  0  0]\n [ 0  5  5]\n [ 5  0  0]\n [ 0  5  6]\n [ 5  0  0]\n]\n</code></pre>\n\n<p>And I have no idea why it is doing so. In essence, I want to be able to read my text file into a piddle. Does anyone see what I'm missing, or able to offer any explanation?</p>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["sql-server", "perl"], "answers": [{"comments": [{"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1435173836, "post_id": 31034433, "comment_id": 50094779, "body": "What exactly is Sybase? I am getting <code>install_driver(Sybase) failed: Can&#39;t locate DBD&#47;Sybase.pm</code>"}, {"owner": {"reputation": 1404, "user_id": 5042170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c38b9d9b68e759ee2d234fefbccdf401?s=128&d=identicon&r=PG&f=1", "display_name": "HashSu", "link": "https://stackoverflow.com/users/5042170/hashsu"}, "reply_to_user": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1435174604, "post_id": 31034433, "comment_id": 50095216, "body": "Sybase it is a database and you need to install DBD::Sybase for the above connection to work on MsSQL. Like DBD::MySQL.<a href=\"http://search.cpan.org/~mewp/DBD-Sybase-1.15/Sybase.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~mewp/DBD-Sybase-1.15/Sybase.pm</a>"}], "tags": [], "owner": {"reputation": 1404, "user_id": 5042170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c38b9d9b68e759ee2d234fefbccdf401?s=128&d=identicon&r=PG&f=1", "display_name": "HashSu", "link": "https://stackoverflow.com/users/5042170/hashsu"}, "is_accepted": false, "score": 0, "last_activity_date": 1435173524, "last_edit_date": 1435173524, "creation_date": 1435171194, "answer_id": 31034433, "question_id": 31033456, "link": "https://stackoverflow.com/questions/31033456/perl-connect-to-mssql-database-engine/31034433#31034433", "title": "Perl Connect to MSSQL Database Engine", "body": "<p>You didn't find any useful links? \nI'm using MSSQL server for DB connection as below:</p>\n\n<pre><code>my $dbh = DBI-&gt;connect( \"DBI:Sybase:database=DBNAME;server=DBSERVER\",\n            \"User\", \"Password\", { PrintError =&gt; 1, AutoCommit =&gt; 1 } )\n          or die \"Cant connect to database: $DBI::errstr\\n\";\n\n    $sth = $dbh-&gt;prepare(\"select * from Table\");\n    $sth-&gt;execute();\n    $value = $sth-&gt;fetchrow_array();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1435178961, "post_id": 31036696, "comment_id": 50097658, "body": "I was able to use <a href=\"http://use.perl.org/use.perl.org/comments223a.html?sid=18337\" rel=\"nofollow noreferrer\">this</a> to solve my issue of connecting. I <a href=\"http://stackoverflow.com/questions/31035931\">have another issue now</a> though"}], "tags": [], "owner": {"reputation": 1514, "user_id": 897612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evivy.png?s=128&g=1", "display_name": "dpw", "link": "https://stackoverflow.com/users/897612/dpw"}, "is_accepted": true, "score": 2, "last_activity_date": 1435178767, "creation_date": 1435178767, "answer_id": 31036696, "question_id": 31033456, "link": "https://stackoverflow.com/questions/31033456/perl-connect-to-mssql-database-engine/31036696#31036696", "title": "Perl Connect to MSSQL Database Engine", "body": "<p>The link you referenced is absolutely the right track.  You'll be using an ODBC connection to talk to MS SQL Server.  Otherwise, you can use DBD::Sybase to connect (SQL Server grew out of the Sybase code-base, so they share the underlying protocol, which is why the drivers for Sybase can be used).</p>\n\n<p>I would recommend using Microsoft's official ODBC driver with DBD::ODBC over DBD::Sybase.</p>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 0, "closed_date": 1435205227, "accepted_answer_id": 31036696, "answer_count": 2, "score": -1, "last_activity_date": 1435178767, "creation_date": 1435167922, "question_id": 31033456, "link": "https://stackoverflow.com/questions/31033456/perl-connect-to-mssql-database-engine", "closed_reason": "Duplicate", "title": "Perl Connect to MSSQL Database Engine", "body": "<p>I am new to SQL and I am trying to create a Perl script to run a simple SELECT statement on a MSSQL Database I have access to.</p>\n\n<p>The database I am connecting to authenticates with SQL Server Authentication. I found <a href=\"http://www.easysoft.com/developer/languages/perl/sql_server_unix_tutorial.html\" rel=\"nofollow\">this</a> but I don't think it applies because it is for ODBC.</p>\n\n<p>Any help would be appreciated</p>\n"}, {"tags": ["perl", "debugging", "warnings"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1435164426, "post_id": 31032352, "comment_id": 50089237, "body": "Search for <code>$FH</code> before line 836. It&#39;s probably declared in the outermost scope somewhere. Or, you&#39;re missing a <code>}</code> at the end of the first sub."}, {"owner": {"reputation": 1829, "user_id": 1334858, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c4df4eb86afe87fb52513e69f12cb6ee?s=128&d=identicon&r=PG", "display_name": "user1334858", "link": "https://stackoverflow.com/users/1334858/user1334858"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1435164788, "post_id": 31032352, "comment_id": 50089458, "body": "Well I copy pasted my code into here so if there isn&#39;t a missing <code>}</code> here then its not missing in my code. Also I just searched and there are 0 other <code>$FH</code> or <code>$filename</code> variables anywhere in my code...."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1435164917, "post_id": 31032352, "comment_id": 50089537, "body": "When I copy&amp;paste your code and remove the numbers, I&#39;m getting no errors. Is there a source filter involved?"}, {"owner": {"reputation": 1989, "user_id": 996114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ab699f0efdf582f02f8f3dbba7a4b1?s=128&d=identicon&r=PG", "display_name": "Mike Covington", "link": "https://stackoverflow.com/users/996114/mike-covington"}, "edited": false, "score": 0, "creation_date": 1435166151, "post_id": 31032352, "comment_id": 50090336, "body": "And you don&#39;t get these warnings for lines 829, 830, 854, &amp; 855?"}, {"owner": {"reputation": 1829, "user_id": 1334858, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c4df4eb86afe87fb52513e69f12cb6ee?s=128&d=identicon&r=PG", "display_name": "user1334858", "link": "https://stackoverflow.com/users/1334858/user1334858"}, "edited": false, "score": 0, "creation_date": 1435166488, "post_id": 31032352, "comment_id": 50090557, "body": "Hmmm I turned on <code>use strict</code> fixed up some errors and now the warning is gone."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1435171185, "post_id": 31032352, "comment_id": 50093262, "body": "With the best will in the world - that&#39;s why <code>use strict;</code> and <code>use warnings;</code> are near mandatory before posting to stack overflow."}], "answers": [{"tags": [], "owner": {"reputation": 1829, "user_id": 1334858, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c4df4eb86afe87fb52513e69f12cb6ee?s=128&d=identicon&r=PG", "display_name": "user1334858", "link": "https://stackoverflow.com/users/1334858/user1334858"}, "is_accepted": false, "score": -6, "last_activity_date": 1435166555, "creation_date": 1435166555, "answer_id": 31033079, "question_id": 31032352, "link": "https://stackoverflow.com/questions/31032352/perl-my-variable-makes-earlier-declaration-in-same-statement/31033079#31033079", "title": "Perl &#39;My&#39; Variable [$] makes earlier declaration in same statement", "body": "<p>Turned on <code>use strict</code> and fixed some warnings. So there was no issue, just other issues caused these warnings.</p>\n"}, {"tags": [], "owner": {"reputation": 145, "user_id": 1490889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TictH.png?s=128&g=1", "display_name": "Medlock Perlman", "link": "https://stackoverflow.com/users/1490889/medlock-perlman"}, "is_accepted": false, "score": 1, "last_activity_date": 1493290378, "creation_date": 1493290378, "answer_id": 43655708, "question_id": 31032352, "link": "https://stackoverflow.com/questions/31032352/perl-my-variable-makes-earlier-declaration-in-same-statement/43655708#43655708", "title": "Perl &#39;My&#39; Variable [$] makes earlier declaration in same statement", "body": "<p>Well, I got this warning today and I <strong>DID</strong> have </p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>enabled.</p>\n\n<p>I went through the code looking for missing <code>;</code> and extraneous <code>{</code>s and <code>}</code>s and found a superfluous <code>}</code> a few lines above where the issue was at the end of a statement (but before the semicolon). </p>\n"}], "owner": {"reputation": 1829, "user_id": 1334858, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c4df4eb86afe87fb52513e69f12cb6ee?s=128&d=identicon&r=PG", "display_name": "user1334858", "link": "https://stackoverflow.com/users/1334858/user1334858"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3401, "favorite_count": 1, "answer_count": 2, "score": -4, "last_activity_date": 1493290378, "creation_date": 1435164224, "question_id": 31032352, "link": "https://stackoverflow.com/questions/31032352/perl-my-variable-makes-earlier-declaration-in-same-statement", "title": "Perl &#39;My&#39; Variable [$] makes earlier declaration in same statement", "body": "<p>So I have a few sub rutines for opening a file:</p>\n\n<pre><code>828 sub open_for_r {\n829     my $FH = shift;\n830     my $filename = shift;\n831 \n832     open($FH, \"&lt; $filename\") || die \"cannot open $filename: $!\";\n833 }\n834 \n835 sub open_for_w {\n836     my $FH = shift;\n837     my $filename = shift;\n838 \n839     open($FH, \"&gt; $filename\") || die \"cannot open $filename: $!\";\n840     # open($FH, \"&gt;&gt; $filename\") || die \"cannot open $filename: $!\";\n841 }\n842 \n843 sub open_for_rw {\n844     my $FH = shift;\n845     my $filename = shift;\n846 \n847     open($FH, \"+&lt; $filename\") || die \"cannot open $filename: $!\";\n848     # open($FH, \"&gt;&gt; $filename\") || die \"cannot open $filename: $!\";\n849 \n850 }\n851 \n852 sub read_file {\n853 \n854     my $FH = shift;\n855     my $filename = shift;\n856     my $contents = \"\";\n857     my $var = \"\";\n858 \n859     #To read from that file\n860     while (defined($var = &lt;$FH&gt;)) {\n861         # chomp($var);\n862         # print \"$var\\n\";\n863     $contents .= $var;\n864     }\n865     return $contents;\n866 }\n</code></pre>\n\n<p>Now I am getting a warning:</p>\n\n<p><strong>\"my\" variable $FH masks earlier declaration in same scope at ittp_to_scn.pl line 836.</strong></p>\n\n<p><strong>\"my\" variable $filename masks earlier declaration in same scope at ittp_to_scn.pl line 837.</strong></p>\n\n<p><strong>\"my\" variable $FH masks earlier declaration in same scope at ittp_to_scn.pl line 844.</strong></p>\n\n<p><strong>\"my\" variable $filename masks earlier declaration in same scope at ittp_to_scn.pl line 845.</strong></p>\n\n<p>Although nowhere else in my code do I have the <strong>$FH</strong> or <strong>$filename</strong> declared. I don't understand why it is saying that there is an earlier declaration? Aren't I allowed to use the same variable names in different sub routines? Or is this not allowed in Perl?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 1, "creation_date": 1435160096, "post_id": 31030794, "comment_id": 50086286, "body": "try printing $key to see if it is what you expect"}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1435160145, "post_id": 31030794, "comment_id": 50086306, "body": "also, the ? isn&#39;t needed because you&#39;ve anchored with $"}, {"owner": {"reputation": 119, "user_id": 3669539, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/101d00dc3e8101d71a7b949662d2b6a2?s=128&d=identicon&r=PG&f=1", "display_name": "user3669539", "link": "https://stackoverflow.com/users/3669539/user3669539"}, "reply_to_user": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1435160190, "post_id": 31030794, "comment_id": 50086341, "body": "Yes, that prints all the folders in the directory, as expected"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1435160319, "post_id": 31030794, "comment_id": 50086434, "body": "@user3669539 Mind listing one of them in the answer or comments?"}, {"owner": {"reputation": 119, "user_id": 3669539, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/101d00dc3e8101d71a7b949662d2b6a2?s=128&d=identicon&r=PG&f=1", "display_name": "user3669539", "link": "https://stackoverflow.com/users/3669539/user3669539"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1435160483, "post_id": 31030794, "comment_id": 50086560, "body": "@Hunter an example is 906f3387"}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1435160493, "post_id": 31030794, "comment_id": 50086572, "body": "also ( and ) aren&#39;t needed - try /^[0-9a-zA-Z]{8}$/"}, {"owner": {"reputation": 119, "user_id": 3669539, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/101d00dc3e8101d71a7b949662d2b6a2?s=128&d=identicon&r=PG&f=1", "display_name": "user3669539", "link": "https://stackoverflow.com/users/3669539/user3669539"}, "reply_to_user": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1435160710, "post_id": 31030794, "comment_id": 50086741, "body": "@Les but i need the () to print the folder name, actually i want to rename the folder"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1435160845, "post_id": 31030794, "comment_id": 50086839, "body": "Your example has a lower case letter. Your regex does not."}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1435160853, "post_id": 31030794, "comment_id": 50086847, "body": "@user3669539 - okay, or you could print $key"}], "answers": [{"tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": true, "score": 8, "last_activity_date": 1435160857, "last_edit_date": 1435160857, "creation_date": 1435160610, "answer_id": 31031071, "question_id": 31030794, "link": "https://stackoverflow.com/questions/31030794/perl-regex-for-8-digit-hexadecimal-number-may-be-missing-escape-characters/31031071#31031071", "title": "Perl regex for 8 digit hexadecimal number (may be missing escape characters)", "body": "<p>Your regex is using upper case A-F, but your folder has lower case.  Use <code>/^[0-9a-fA-F]{8}$/</code> to explicitly allow lower case, or <code>/^[0-9A-F]{8}$/i</code> to ignore case in the match.</p>\n"}], "owner": {"reputation": 119, "user_id": 3669539, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/101d00dc3e8101d71a7b949662d2b6a2?s=128&d=identicon&r=PG&f=1", "display_name": "user3669539", "link": "https://stackoverflow.com/users/3669539/user3669539"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 662, "favorite_count": 0, "accepted_answer_id": 31031071, "answer_count": 1, "score": 1, "last_activity_date": 1435160857, "creation_date": 1435159868, "last_edit_date": 1435160380, "question_id": 31030794, "link": "https://stackoverflow.com/questions/31030794/perl-regex-for-8-digit-hexadecimal-number-may-be-missing-escape-characters", "title": "Perl regex for 8 digit hexadecimal number (may be missing escape characters)", "body": "<p>I have the following code that looks for a folder whose name is a 8 digit hexadecimal number</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopendir(DIR, \".\\\\\");\nmy @files = readdir(DIR);\nclosedir DIR;\nforeach my $key (@files)\n{\n    if(-d \".\\\\$key\")\n    {\n        if ($key =~ /(^[0-9A-F]{8}?$)/){\n            print \"$1\\n\";\n        }\n    }\n}\n</code></pre>\n\n<p>i tested the regex on regex101 and it is finding the correct strings (8 digit hex) but the code can't find any of the folders i have that have 8 digit hex as name.  I suspect it has something to do with certain characters needing to be escaped e.g. $ but i tried many different combinations without success.</p>\n\n<p>e.g. a folder's name i have is 906f3387</p>\n"}, {"tags": ["perl", "sorting", "hash"], "comments": [{"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1435154477, "post_id": 31028629, "comment_id": 50081892, "body": "<a href=\"http://stackoverflow.com/questions/30677816/sorting-a-hash-in-perl-when-the-keys-are-dynamic\" title=\"sorting a hash in perl when the keys are dynamic\">stackoverflow.com/questions/30677816/&hellip;</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435155528, "post_id": 31028629, "comment_id": 50082751, "body": "Are your values unique? If the are, I&#39;d suggest inverting your hash instead."}], "answers": [{"tags": [], "owner": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "is_accepted": true, "score": 2, "last_activity_date": 1435155164, "last_edit_date": 1435155164, "creation_date": 1435154745, "answer_id": 31028831, "question_id": 31028629, "link": "https://stackoverflow.com/questions/31028629/perl-sort-irregular-nested-hash/31028831#31028831", "title": "Perl sort irregular nested hash", "body": "<p>Hashes are unordered, so you have to convert it into an ordered structure (such as an array) first:</p>\n\n<pre><code>my @data;\nfor my $os (keys %hash) {\n    for my $version (keys %{$hash{$os}}) {\n        push @data, { os =&gt; $os, version =&gt; $version, n =&gt; $hash{$os}-&gt;{$version} };\n    }\n}\n</code></pre>\n\n<p>Then, sorting is trivial:</p>\n\n<pre><code>@data = sort { $b-&gt;{n} &lt;=&gt; $a-&gt;{n} } @data;\n</code></pre>\n\n<p>As is reporting:</p>\n\n<pre><code>for (@data) {\n    print \"$_-&gt;{os}\\t$_-&gt;{version}\\t$_-&gt;{n}\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 1987782, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14d3d7992996eeffc85763807cf4ba02?s=128&d=identicon&r=PG", "display_name": "Jad", "link": "https://stackoverflow.com/users/1987782/jad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1435319901, "accepted_answer_id": 31028831, "answer_count": 1, "score": 1, "last_activity_date": 1435155164, "creation_date": 1435154256, "question_id": 31028629, "link": "https://stackoverflow.com/questions/31028629/perl-sort-irregular-nested-hash", "closed_reason": "Duplicate", "title": "Perl sort irregular nested hash", "body": "<p>I have an irregular hash (I don't know how else to label it)</p>\n\n<pre><code>my %hash = (\n      'BlackBerryOS' =&gt; {\n                          '6.0' =&gt; 9201,\n                          '7' =&gt; 5896,\n                          '10' =&gt; 9140,\n                          '4.1' =&gt; 5395,\n                          '4.6' =&gt; 6536\n                        },\n      'iOS' =&gt; {\n                 '8' =&gt; 9327,\n                 '3.0' =&gt; 4112,\n                 '5.0' =&gt; 8579,\n                 '4.0' =&gt; 14953,\n                 '6.0' =&gt; 12007,\n                 '7.0' =&gt; 13162\n               },\n      'AndroidOS' =&gt; {\n                       '4.2' =&gt; 167501,\n                       '2.3.4' =&gt; 7889,\n                       'x' =&gt; 473602,\n                       '4.3' =&gt; 44551,\n                       '4.1.2' =&gt; 90984\n                     }\n    );\n</code></pre>\n\n<p>I would like to sort this hash according to the deepest level's value. \nHow would I go about sorting and printing it to end up with something like this?</p>\n\n<pre><code>AndroidOS      x     473602\nAndroidOS      4.2   167501\nAndroidOS      4.1.2 90984\nAndroidOS      4.3   44551\niOS            4.0   14953\niOS            7.0   13162\niOS            6.0   12007\niOS            8     9327\nBlackBerryOS   6.0   9201\nBlackBerryOS   10    9140\niOS            5.0   8579\nAndroidOS      2.3.4 7889\nBlackBerryOS   4.6   6536\nBlackBerryOS   7     5896\nBlackBerryOS   4.1   5395\niOS            3.0   4112\n</code></pre>\n"}, {"tags": ["regex", "perl", "unix"], "comments": [{"owner": {"reputation": 822, "user_id": 2131913, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ac79c3a8b5d766be287aceed953a6fe?s=128&d=identicon&r=PG", "display_name": "sblandin", "link": "https://stackoverflow.com/users/2131913/sblandin"}, "edited": false, "score": 2, "creation_date": 1435154947, "post_id": 31028617, "comment_id": 50082273, "body": "can the PPI module be useful?"}, {"owner": {"reputation": 258, "user_id": 4811918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6gIB8wkwgA0/AAAAAAAAAAI/AAAAAAAAAAA/2Jrpg-a4NrM/photo.jpg?sz=128", "display_name": "rfportilla", "link": "https://stackoverflow.com/users/4811918/rfportilla"}, "edited": false, "score": 0, "creation_date": 1435158945, "post_id": 31028617, "comment_id": 50085397, "body": "Is there a rule against posting the same question elsewhere?"}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 258, "user_id": 4811918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6gIB8wkwgA0/AAAAAAAAAAI/AAAAAAAAAAA/2Jrpg-a4NrM/photo.jpg?sz=128", "display_name": "rfportilla", "link": "https://stackoverflow.com/users/4811918/rfportilla"}, "edited": false, "score": 0, "creation_date": 1435160628, "post_id": 31028617, "comment_id": 50086669, "body": "@rfportilla not sure if it&#39;s a rule, it makes sense not to waste the time of people if it&#39;s already answered somewhere else"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1435160969, "post_id": 31028617, "comment_id": 50086918, "body": "No, no rule - it&#39;s just a matter of politeness if it&#39;s answered in one place, to reference the answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 258, "user_id": 4811918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6gIB8wkwgA0/AAAAAAAAAAI/AAAAAAAAAAA/2Jrpg-a4NrM/photo.jpg?sz=128", "display_name": "rfportilla", "link": "https://stackoverflow.com/users/4811918/rfportilla"}, "edited": false, "score": 1, "creation_date": 1435171369, "post_id": 31028617, "comment_id": 50093373, "body": "@rfportilla: It&#39;s considered polite to say so if you&#39;ve posted the question elsewhere so that people&#39;s time isn&#39;t wasted. Having said that, I don&#39;t think I&#39;ve ever seen a question that says, \u201cand, by the way, I also asked this question on Perl Monks\u201d."}, {"owner": {"reputation": 258, "user_id": 4811918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6gIB8wkwgA0/AAAAAAAAAAI/AAAAAAAAAAA/2Jrpg-a4NrM/photo.jpg?sz=128", "display_name": "rfportilla", "link": "https://stackoverflow.com/users/4811918/rfportilla"}, "edited": false, "score": 0, "creation_date": 1435174768, "post_id": 31028617, "comment_id": 50095306, "body": "Part of the reason I ask is b/c I noticed that a few people have voted down this question.  I think its a good question and am wondering why it&#39;s being voted down.  At the time the only comment was that it was posted elsewhere.  I think if the question can be improved, a suggestion should be made in addition to voting down.  jmho"}, {"owner": {"reputation": 83, "user_id": 2057152, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2b20250a7ef717cedcb3a3e70a3d6939?s=128&d=identicon&r=PG", "display_name": "anil funde", "link": "https://stackoverflow.com/users/2057152/anil-funde"}, "edited": false, "score": 0, "creation_date": 1435208859, "post_id": 31028617, "comment_id": 50106284, "body": "yup, i only posted it on perlmonks and reason is pretty clear, more the inputs, more solid output. for one of my question related to perl i didn&#39;t get answer on stack. then same question I posted to perlmonk and i get answer. This time i followed same pattern."}, {"owner": {"reputation": 83, "user_id": 2057152, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2b20250a7ef717cedcb3a3e70a3d6939?s=128&d=identicon&r=PG", "display_name": "anil funde", "link": "https://stackoverflow.com/users/2057152/anil-funde"}, "edited": false, "score": 0, "creation_date": 1435293429, "post_id": 31028617, "comment_id": 50149809, "body": "guys, sorry if anything went wrong."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 2057152, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2b20250a7ef717cedcb3a3e70a3d6939?s=128&d=identicon&r=PG", "display_name": "anil funde", "link": "https://stackoverflow.com/users/2057152/anil-funde"}, "edited": false, "score": 0, "creation_date": 1435157149, "post_id": 31028859, "comment_id": 50084058, "body": "infact i have more interresting problem i am working on :) , part of that i wated to get this chunk solved."}, {"owner": {"reputation": 258, "user_id": 4811918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6gIB8wkwgA0/AAAAAAAAAAI/AAAAAAAAAAA/2Jrpg-a4NrM/photo.jpg?sz=128", "display_name": "rfportilla", "link": "https://stackoverflow.com/users/4811918/rfportilla"}, "reply_to_user": {"reputation": 83, "user_id": 2057152, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2b20250a7ef717cedcb3a3e70a3d6939?s=128&d=identicon&r=PG", "display_name": "anil funde", "link": "https://stackoverflow.com/users/2057152/anil-funde"}, "edited": false, "score": 0, "creation_date": 1435157273, "post_id": 31028859, "comment_id": 50084134, "body": "Awesome.  I hope you find this useful."}, {"owner": {"reputation": 83, "user_id": 2057152, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2b20250a7ef717cedcb3a3e70a3d6939?s=128&d=identicon&r=PG", "display_name": "anil funde", "link": "https://stackoverflow.com/users/2057152/anil-funde"}, "edited": false, "score": 0, "creation_date": 1435157337, "post_id": 31028859, "comment_id": 50084177, "body": "actually i did something like <code>cat UpgradeUtils.pm | grep -En &#39;^sub &#39;</code> this given me start line."}, {"owner": {"reputation": 258, "user_id": 4811918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6gIB8wkwgA0/AAAAAAAAAAI/AAAAAAAAAAA/2Jrpg-a4NrM/photo.jpg?sz=128", "display_name": "rfportilla", "link": "https://stackoverflow.com/users/4811918/rfportilla"}, "reply_to_user": {"reputation": 83, "user_id": 2057152, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2b20250a7ef717cedcb3a3e70a3d6939?s=128&d=identicon&r=PG", "display_name": "anil funde", "link": "https://stackoverflow.com/users/2057152/anil-funde"}, "edited": false, "score": 0, "creation_date": 1435157659, "post_id": 31028859, "comment_id": 50084423, "body": "I guess you assume that sub will always be at the beginning of the line (i.e. no white space in front).  Still, you will need a parser to go through line by line to do this.  Actually, a perl script is probably the easiest way."}, {"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1435158330, "post_id": 31028859, "comment_id": 50084903, "body": "Perl supports recursive regex patterns. They can be used for that. However, for a stable solution I would use  a <a href=\"http://search.cpan.org/~zefram/Parse-Perl-0.007/lib/Parse/Perl.pm\" rel=\"nofollow noreferrer\">perl parser</a>"}], "tags": [], "owner": {"reputation": 258, "user_id": 4811918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6gIB8wkwgA0/AAAAAAAAAAI/AAAAAAAAAAA/2Jrpg-a4NrM/photo.jpg?sz=128", "display_name": "rfportilla", "link": "https://stackoverflow.com/users/4811918/rfportilla"}, "is_accepted": false, "score": -1, "last_activity_date": 1435157238, "last_edit_date": 1435157238, "creation_date": 1435154806, "answer_id": 31028859, "question_id": 31028617, "link": "https://stackoverflow.com/questions/31028617/how-to-get-list-of-perl-subroutines-with-start-and-end-line-number-of-subroutine/31028859#31028859", "title": "How to get list of perl subroutines with start and end line number of subroutine?", "body": "<p>Hah!  This sounds like an interesting problem.  </p>\n\n<p>I've never done this before, but from writing some csv functions, I know it can be deceptively complicated.  This would be my approach.  You need to have a parser.  In the parser you will have to know what the beginning of a sub looks like (basically <code>/\\s*sub\\s+.*\\{/</code> or something similar).  You are then looking for the closing '}'.  You will then have to loop through every character looking for string and block markers like <code>[\\(\\)\\{\\}'\"]</code> (I tried to include backtick, also, but it is reserved for the web page).  These should be stored in an array.  so that you can keep track of how nested you are and identify when you have a the correct closing bracket.  While you loop through lines, you can keep track of the line that you are on.  </p>\n\n<p>I hope this helps.  </p>\n"}, {"comments": [{"owner": {"reputation": 822, "user_id": 2131913, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ac79c3a8b5d766be287aceed953a6fe?s=128&d=identicon&r=PG", "display_name": "sblandin", "link": "https://stackoverflow.com/users/2131913/sblandin"}, "edited": false, "score": 0, "creation_date": 1435222394, "post_id": 31032674, "comment_id": 50113506, "body": "cannot you just use $sub-&gt;name to get the sub name?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 822, "user_id": 2131913, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ac79c3a8b5d766be287aceed953a6fe?s=128&d=identicon&r=PG", "display_name": "sblandin", "link": "https://stackoverflow.com/users/2131913/sblandin"}, "edited": false, "score": 0, "creation_date": 1435240085, "post_id": 31032674, "comment_id": 50125421, "body": "Yes, yes you can. Edited."}, {"owner": {"reputation": 83, "user_id": 2057152, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2b20250a7ef717cedcb3a3e70a3d6939?s=128&d=identicon&r=PG", "display_name": "anil funde", "link": "https://stackoverflow.com/users/2057152/anil-funde"}, "edited": false, "score": 0, "creation_date": 1435668656, "post_id": 31032674, "comment_id": 50288042, "body": "just faced issue with PPI. one of my subroutine have this line at end of sub -   &quot;return ($ni_lookup-&gt;{$verifier_model}, $ni_lookup-&gt;{elements});&quot;  PPI is braking here, and showing sub list till this sub only. All other subsequent subroutines are getting ignored.   But when i am removing last parameter from this return statement like &quot;return ($ni_lookup-&gt;{$verifier_model}&quot; , it is working properly."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 5, "last_activity_date": 1435240117, "last_edit_date": 1435240117, "creation_date": 1435165191, "answer_id": 31032674, "question_id": 31028617, "link": "https://stackoverflow.com/questions/31028617/how-to-get-list-of-perl-subroutines-with-start-and-end-line-number-of-subroutine/31032674#31032674", "title": "How to get list of perl subroutines with start and end line number of subroutine?", "body": "<p>It's not trivial to learn how to use <a href=\"https://metacpan.org/pod/PPI\" rel=\"nofollow\"><code>PPI</code></a>, but once you do, it is trivial to use <code>PPI</code> to solve this problem.</p>\n\n<pre><code>use PPI;\n$FILE = ...;\n$doc = PPI::Document-&gt;new($FILE);\n$subs = $doc-&gt;find('PPI::Statement::Sub');\n\nforeach my $sub (@$subs) {\n    my @t = $sub-&gt;tokens;\n    #my $name = $t[2];  # usually good enough to get the sub name\n    my $name = $sub-&gt;name;\n    my $start = $t[0]-&gt;location-&gt;[0];\n    my $end = $t[-1]-&gt;location-&gt;[0];\n    print \"$name =&gt; $FILE: $start - $end\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 2057152, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2b20250a7ef717cedcb3a3e70a3d6939?s=128&d=identicon&r=PG", "display_name": "anil funde", "link": "https://stackoverflow.com/users/2057152/anil-funde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 31032674, "answer_count": 2, "score": -2, "last_activity_date": 1435240117, "creation_date": 1435154199, "question_id": 31028617, "link": "https://stackoverflow.com/questions/31028617/how-to-get-list-of-perl-subroutines-with-start-and-end-line-number-of-subroutine", "title": "How to get list of perl subroutines with start and end line number of subroutine?", "body": "<p>I am writing a script for build and upgrades analysis where i need to fecth all subroutines defined in perl module with their start and end line number.</p>\n\n<p>What is best way to achieve this?</p>\n"}, {"tags": ["javascript", "html", "perl"], "comments": [{"owner": {"reputation": 2182, "user_id": 177058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c940f697b06331883575ad24e772f2a?s=128&d=identicon&r=PG", "display_name": "SilverSkin", "link": "https://stackoverflow.com/users/177058/silverskin"}, "edited": false, "score": 0, "creation_date": 1435152364, "post_id": 31027551, "comment_id": 50080221, "body": "What is it exactly you want to do? Process Perl without a server? Display the output of a Perl script in html? Include a text file for output? What do you actually mean by &quot;without a web server&quot;? Do you just want the output to be HTML formatted?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4707355"}, "reply_to_user": {"reputation": 2182, "user_id": 177058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c940f697b06331883575ad24e772f2a?s=128&d=identicon&r=PG", "display_name": "SilverSkin", "link": "https://stackoverflow.com/users/177058/silverskin"}, "edited": false, "score": 0, "creation_date": 1435153257, "post_id": 31027551, "comment_id": 50080968, "body": "I will like, Display the output of a Perl script in html"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4707355"}, "edited": false, "score": 0, "creation_date": 1435156586, "post_id": 31029103, "comment_id": 50083656, "body": "Thank you for your well propositon Chandran  as I said values can change at any time. when I see your proposal values are fixed, and it does not solve the pobleme"}, {"owner": {"reputation": 1404, "user_id": 5042170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c38b9d9b68e759ee2d234fefbccdf401?s=128&d=identicon&r=PG&f=1", "display_name": "HashSu", "link": "https://stackoverflow.com/users/5042170/hashsu"}, "edited": false, "score": 0, "creation_date": 1435157031, "post_id": 31029103, "comment_id": 50083978, "body": "Those are test values Henri.. Please use the OPEN and PRINT html part from that snippet and add it in your script . Since u have $h, $v and $date_1 are dynamic value generated from your script."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4707355"}, "edited": false, "score": 0, "creation_date": 1435160351, "post_id": 31029103, "comment_id": 50086458, "body": "how you put a perl code in html file? and get this output"}], "tags": [], "owner": {"reputation": 1404, "user_id": 5042170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c38b9d9b68e759ee2d234fefbccdf401?s=128&d=identicon&r=PG&f=1", "display_name": "HashSu", "link": "https://stackoverflow.com/users/5042170/hashsu"}, "is_accepted": true, "score": 0, "last_activity_date": 1435160629, "last_edit_date": 1435160629, "creation_date": 1435155426, "answer_id": 31029103, "question_id": 31027551, "link": "https://stackoverflow.com/questions/31027551/display-information-from-a-csv-datei-on-a-html-page-without-webserver/31029103#31029103", "title": "display information from a csv-datei on a html-page without webserver", "body": "<p>If you need to output your value to a HTML file in the script, this might help</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse autodie;\nuse POSIX qw(strftime);\n\nmy $date_1 = strftime \"%Y%m%d %H:%M:%S\", localtime;\nmy $FileResult = 'result_1.csv'; \nopen( my $FhResult, '&gt;', $FileResult );\nopen my $fh, \"&lt;\", \"DATA.csv\";\nmy ($h, $v) = (0, 0); \n\nwhile (&lt;$fh&gt; ) {last if (/^\\d+\\s+\\d{2}:\\d{2}:\\d{2}\\s*$/)} \nwhile (&lt;$fh&gt; ) {\nnext if (/^\\s*$/);     \nif (/^default\\b/) {   \n   $h = 0 + grep {!/^(default)?$/} map {s/^\\s+|\\s+$//g; $_} split(/,/, $_);\n } else {                                                                  \n   $v++;                                                                   \n }                                                                        \n}\nclose($fh);\n\nopen FH ,\"&gt;1.html\";\nprint FH \"  \n    &lt;html&gt;    \n        &lt;head&gt;         \n            &lt;meta charset=\\\"UTF-8\\\"/&gt;\n            &lt;title&gt;SYSTEMRESULTS&lt;/title&gt;\n            &lt;link href=\\\"style.css\\\" type=\\\"text/css\\\" rel=\\\"stylesheet\\\"/&gt;\n        &lt;/head&gt;\n         &lt;body&gt;\n\n            &lt;div id=\\\"section_1\\\"&gt;\n                &lt;font face=\\\"arial\\\"&gt;&lt;h1&gt;&lt;a id=\\\"sec_1_0\\\"&gt;S&lt;/a&gt;ystem  &lt;a id=\\\"sec_1_0\\\"&gt;P&lt;/a&gt;arameter &amp;emsp;&lt;a id=\\\"sec_1_0\\\"&gt;C&lt;/a&gt;ompare&lt;/h1&gt;&lt;/font&gt;\n            &lt;/div&gt;\n\n\n             &lt;div id=\\\"section_3\\\"&gt; \n             &lt;font face=\\\"arial\\\" size=\\\"+2\\\"&gt;Current number of systems: $v &lt;/font&gt; \n             &lt;/div&gt;\n\n             &lt;div id=\\\"section_4\\\"&gt;\n             &lt;font face=\\\"arial\\\" size=\\\"+2\\\"&gt;Number of compared parameters: $h  &lt;/font&gt; \n             &lt;/div&gt;\n\n             &lt;div id=\\\"section_5\\\"&gt;\n             &lt;font face=\\\"arial\\\" size=\\\"+2\\\"&gt;Date:  $date_1&lt;/font&gt;\n             &lt;/div&gt;\n\n             &lt;div id=\\\"section_6\\\"&gt;&lt;a href=\\\"file/result_1.csv\\\"&gt;NEXT&lt;img src=\\\"aiga.png\\\"/&gt;&lt;/a&gt;&lt;/div&gt;\n\n        &lt;/body&gt;\n\n        &lt;div id=\\\"footer\\\"&gt;\n          &lt;p&gt;&amp;copy; 2015 copyright&lt;/p&gt;\n        &lt;/div&gt;  \n\n    &lt;/html&gt;\n    \";\n\nclose FH;\n\nOutput\n1.html content:\n\n\n    System Parameter \u2003Compare\n\n    Current number of systems: 56  \n\n    Number of compared parameters: 7  \n\n    Date: 20150617 1:00:13 p.m \n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4707355"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 31029103, "answer_count": 1, "score": 2, "last_activity_date": 1435736109, "creation_date": 1435151507, "last_edit_date": 1435736109, "question_id": 31027551, "link": "https://stackoverflow.com/questions/31027551/display-information-from-a-csv-datei-on-a-html-page-without-webserver", "title": "display information from a csv-datei on a html-page without webserver", "body": "<p>I have a problem that I will like someone here to help me.\nI have a Perl Script giving me informations about a csv-file.\nits informations are:</p>\n\n<p><strong>DATA:</strong></p>\n\n<pre><code>Number of compared parameters =7 \n\nCurrent number of systems = 56\n\nDate = 20150617 1:00:13 p.m.\n</code></pre>\n\n<p>Considering that the values can change.\nI love that its information is displayed in an html page.\nFor that I will not like to use a webserver.\nI was told that this was possible with javascript.\nI will like someone here can help me.</p>\n\n<p>for this reason I sent you my Perl Script and Front page (html).</p>\n\n<p><strong>Perl Code:</strong></p>\n"}, {"tags": ["perl", "command-line-interface", "psexec"], "answers": [{"tags": [], "owner": {"reputation": 1404, "user_id": 5042170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c38b9d9b68e759ee2d234fefbccdf401?s=128&d=identicon&r=PG&f=1", "display_name": "HashSu", "link": "https://stackoverflow.com/users/5042170/hashsu"}, "is_accepted": false, "score": 0, "last_activity_date": 1435178711, "creation_date": 1435178711, "answer_id": 31036666, "question_id": 31025480, "link": "https://stackoverflow.com/questions/31025480/copy-with-psexec-hangs-some-times-in-batch-execution/31036666#31036666", "title": "copy with PSEXEC hangs some times in batch execution", "body": "<p>Try adding -d in your command since it doesn't wait for the process to terminate\n<a href=\"https://technet.microsoft.com/en-us/sysinternals/bb897553.aspx\" rel=\"nofollow\">https://technet.microsoft.com/en-us/sysinternals/bb897553.aspx</a></p>\n"}], "owner": {"reputation": 45, "user_id": 3953638, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/533a7c8a1f729db60eb0fac4fbfc8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "Vysh", "link": "https://stackoverflow.com/users/3953638/vysh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435178711, "creation_date": 1435145730, "question_id": 31025480, "link": "https://stackoverflow.com/questions/31025480/copy-with-psexec-hangs-some-times-in-batch-execution", "title": "copy with PSEXEC hangs some times in batch execution", "body": "<p>im copying multiple files to server Machine using PSEXEC,Calling Psexec is through perl file</p>\n\n<pre><code>my $exit_code5 = system(\"cmd /c c:\\\\PsExec.exe \\\\\\\\$host_name  -u  $user_name  -p \\ $pwd  cmd /c xcopy \\\"\\\\\\\\$client\\\\c\\$\\\\sif folder\\\\$val\\\" \\\"c:\\\\sif folder\\\\\\\" /O /X /E /H /K /Y /q\");\nsleep(20);\n\n}\nif($exit_code5!=0)\n{\n}\n</code></pre>\n\n<p>This command is working fine , but sometimes in batch executions it randomly fails</p>\n\n<pre><code>-----Copying files to  BackUpFolder SiebsvrBackUp created in C Drive-----\nPsExec v1.98 - Execute processes remotely\nCopyright (C) 2001-2010 Mark Russinovich\nSysinternals - www.sysinternals.com\n</code></pre>\n\n<p>and will be in hang state... Is there any consistent way to perform multiple file copy using PSEXEC, Have tried COPY Command to, but no use</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1435147776, "post_id": 31024980, "comment_id": 50076887, "body": "You can do in place edit for record based files like CSV, but not for XML."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1435149138, "post_id": 31024980, "comment_id": 50077865, "body": "I was thinking with <code>XML</code> using something like <code>XML::Twig</code>s handlers, <code>purge</code> and <code>flush</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1435150360, "post_id": 31024980, "comment_id": 50078743, "body": "Having said that - <code>XML::Twig</code> has <code>parsefile_inplace</code> so this is moot."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435149088, "post_id": 31025531, "comment_id": 50077820, "body": "So just to clarify - is it the <code>print;</code> that&#39;s the important element, or does it have to modify and output <code>$_</code>?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435149564, "post_id": 31025531, "comment_id": 50078173, "body": "tested - printing anything replaces the content in the file. Seems to only do so within &#39;while&#39; loop."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435161713, "post_id": 31025531, "comment_id": 50087440, "body": "@Sobrique: No, it&#39;s the <code>&lt;&gt;</code> operator that does the magic (I don&#39;t think <code>ARGV-&gt;readline</code> works the same way) when it opens the files in <code>@ARGV</code> to read them. It renames the original file and opens a new file for output on <code>ARGVOUT</code> with the original name, and does a <code>select ARGVOUT</code> so you don&#39;t have to specify a handle in the <code>print</code> statements"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 12, "last_activity_date": 1435145917, "creation_date": 1435145917, "answer_id": 31025531, "question_id": 31024980, "link": "https://stackoverflow.com/questions/31024980/perl-in-place-editing-within-a-script-rather-than-one-liner/31025531#31025531", "title": "Perl in place editing within a script (rather than one liner)", "body": "<p>The edit-in-place behaviour that is enabled by the <code>-i</code> command-line option or by setting <code>$^I</code> works only on the <code>ARGV</code> file handle. That means the files must either be named on the command line or <code>@ARGV</code> must be set up within the program</p>\n\n<p>This program will change all lower-case letters to upper-case in all CSV files. Note that I have set <code>$^I</code> to a non-null string, which is advisable while you are testing so that your original data files are retained</p>\n\n<pre><code>use strict;\nuse warnings;\n\nour $^I = '.bak';\n\nwhile ( my $file = glob '*.csv' ) {\n\n  print \"Processing $file\\n\";\n\n  our @ARGV = ($file);\n\n  while ( &lt;ARGV&gt; ) {\n     tr/a-z/A-Z/;\n     print;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6902, "favorite_count": 6, "accepted_answer_id": 31025531, "answer_count": 1, "score": 11, "last_activity_date": 1435145917, "creation_date": 1435144233, "last_edit_date": 1435145202, "question_id": 31024980, "link": "https://stackoverflow.com/questions/31024980/perl-in-place-editing-within-a-script-rather-than-one-liner", "title": "Perl in place editing within a script (rather than one liner)", "body": "<p>So, I'm used to the <code>perl -i</code> to use perl as I would <code>sed</code> and in place edit. </p>\n\n<p>The docs for <code>$^I</code> in <code>perlvar</code>: </p>\n\n<blockquote>\n  <p>$^I\n  The current value of the inplace-edit extension. Use undef to disable inplace editing.</p>\n</blockquote>\n\n<p>OK. So this implies that I can perhaps mess around with 'in place' editing in a script? </p>\n\n<p>The thing I'm having trouble with is this:</p>\n\n<p>If I run:</p>\n\n<pre><code>perl -pi -e 's/^/fish/' test_file\n</code></pre>\n\n<p>And then deparse it:</p>\n\n<pre><code>BEGIN { $^I = \"\"; }\nLINE: while (defined($_ = &lt;ARGV&gt;)) {\n    s/^/fish/;\n}\ncontinue {\n    die \"-p destination: $!\\n\" unless print $_;\n}\n</code></pre>\n\n<p>Now - if I were to want to use <code>$^I</code> within a script, say to:</p>\n\n<pre><code> foreach my $file  ( glob \"*.csv\" ) {\n     #inplace edit these files - maybe using Text::CSV to manipulate? \n }\n</code></pre>\n\n<p>How do I 'enable' this to happen? Is it a question of changing <code>$_</code> (as <code>s/something/somethingelse/</code> does by default) and letting perl implicitly print it? Or is there something else going on? </p>\n\n<p>My major question is - can I do an 'in place edit' that applies a CSV transform (or XML tweak, or similar). </p>\n\n<p>I appreciate I can open separate file handles, read/print etc. I was wondering if there was another way. (even if it is only situationally useful). </p>\n"}, {"tags": ["php", "xml", "perl", "xml-rpc"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435141482, "post_id": 31023838, "comment_id": 50072667, "body": "We would need to see some code to have a chance to answer I think."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435144570, "post_id": 31023838, "comment_id": 50074757, "body": "Can you get the raw XML out of the API?"}, {"owner": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435147052, "post_id": 31023838, "comment_id": 50076403, "body": "As i tried to point out, the code is kinda irrelevant. I don&#39;t have access to the API&#39;s code, and mine is nothing but simple call methods(from three different modules). As for the test PHP script, it also contains the simplest possible declaration of the client, bind of parameters, and call. The output XML from both scripts is almost identical(a few newline characters more in the PHP-generated XML, but i really don&#39;t think that matters)"}, {"owner": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435147507, "post_id": 31023838, "comment_id": 50076733, "body": "Furthermore, i have tried posting the data outputted by the PHP script(which works) with CURL, and still no luck - empty response."}], "answers": [{"tags": [], "owner": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "is_accepted": false, "score": 0, "last_activity_date": 1435157310, "creation_date": 1435157310, "answer_id": 31029797, "question_id": 31023838, "link": "https://stackoverflow.com/questions/31023838/php-xml-rpc-server-return-code-error-do-not-show-in-perl-xml-rpc-client/31029797#31029797", "title": "PHP XML-RPC server return code/error do not show in Perl XML-RPC client", "body": "<p>Okay, turns out that the XML-RPC server is pretty picky and requires a set of headers and cookies to work(most of whom useless), otherwise it just outputs nothing. </p>\n"}], "owner": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 419, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435157310, "creation_date": 1435140786, "last_edit_date": 1435142378, "question_id": 31023838, "link": "https://stackoverflow.com/questions/31023838/php-xml-rpc-server-return-code-error-do-not-show-in-perl-xml-rpc-client", "title": "PHP XML-RPC server return code/error do not show in Perl XML-RPC client", "body": "<p>I am having a strange issue with XML-RPC.</p>\n\n<p>I need to use an existing commercial XML-RPC API, written in PHP (extremely poorly, I must add, with horrible documentation), from a Perl script. I have tried with all Perl XML-RPC modules i could find (<code>Frontier::Client</code>, <code>XML::RPC</code>, <code>RPC::XML</code>), but generally this happens:</p>\n\n<ul>\n<li><p>When my call is successful, i get the result, nothing wrong.</p></li>\n<li><p>When it isn't (for whatever reason - failed authentication, missing/wrong parameters), i get nothing. An empty response(when using Frontier::Client, it says 500 Internal Server Error), without any error code/message. </p></li>\n<li><p>But when I use the PHP test file the vendor of the commercial API have sent me, using the same methods and parameters, I get a response code and a response message(rarely useful, but nonetheless).</p></li>\n</ul>\n\n<p>What could be the explanation of that? The library they use on the server side outputs the errors in some weird way? (Note: I think they use xmlrpc-2.2.2, at least that's what's used on the client side in the test PHP file). This is an example XML response with an error I get from the PHP client.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" ?&gt;\n&lt;methodResponse&gt;\n    &lt;params&gt;\n        &lt;param&gt;\n        &lt;value&gt;\n            &lt;struct&gt;\n                &lt;member&gt;\n                    &lt;name&gt;demande&lt;/name&gt;\n                    &lt;value&gt;\n                        &lt;struct&gt;\n                            &lt;member&gt;\n                                &lt;name&gt;0&lt;/name&gt;\n                                &lt;value&gt;\n                                    &lt;struct&gt;\n                                        &lt;member&gt;\n                                            &lt;name&gt;codeReponse&lt;/name&gt;\n                                            &lt;value&gt;\n                                                &lt;int&gt;-28&lt;/int&gt;\n                                            &lt;/value&gt;\n                                        &lt;/member&gt;\n                                        &lt;member&gt;\n                                            &lt;name&gt;messageReponse&lt;/name&gt;\n                                            &lt;value&gt;\n                                                &lt;string&gt;Verifiez l&amp;apos;adresse email de validation&lt;/string&gt;\n                                            &lt;/value&gt;\n                                        &lt;/member&gt;\n                                    &lt;/struct&gt;\n                                &lt;/value&gt;\n                            &lt;/member&gt;\n                        &lt;/struct&gt;\n                    &lt;/value&gt;\n                &lt;/member&gt;\n            &lt;/struct&gt;\n        &lt;/value&gt;\n        &lt;/param&gt;\n    &lt;/params&gt;\n&lt;/methodResponse&gt;\n</code></pre>\n\n<p>It's in French, but you would get the gist. Why does that appear properly in the PHP, but not in my Perl script, whatever library I use? And is there any way to remedy this, without telling the vendor of the API to rewrite their code properly?</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435139515, "post_id": 31023198, "comment_id": 50071368, "body": "I was going to recommend adding <code>use strict;</code>. It is a good idea, but your code works with <code>use strict;use warnings;</code> anyway."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1435139591, "post_id": 31023198, "comment_id": 50071430, "body": "Although I will ask - why do you need such a large single JSON object?  This I think is the root of your problem - it&#39;s a large data structure that you&#39;re trying to build in memory."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1435139793, "post_id": 31023198, "comment_id": 50071555, "body": "A bit of a hack, but you can <code>print $out $json-&gt;encode({ID =&gt; $count, Name =&gt; $nameExp, Number =&gt; $numExp});</code> and manually take care of <code>{data =&gt; []}</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435139846, "post_id": 31023198, "comment_id": 50071594, "body": "That&#39;d be my first though, but it seems dirty. <code>JSON::XS</code> supports incremental parsing, but it doesn&#39;t seem to support incremental encoding."}, {"owner": {"reputation": 77, "user_id": 3864357, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7310a4bfc818a46f3ab21875e07b5adf?s=128&d=identicon&r=PG&f=1", "display_name": "lazy", "link": "https://stackoverflow.com/users/3864357/lazy"}, "edited": false, "score": 0, "creation_date": 1435140467, "post_id": 31023198, "comment_id": 50072043, "body": "<code>JSON::XS</code>is faster one !"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435141330, "post_id": 31023863, "comment_id": 50072571, "body": "I&#39;d reached much the same conclusion. Although I had started going with using <code>JSON</code> to format me an empty <code>data</code> array, I had got slightly tripped up by the need for omitting the last comma."}, {"owner": {"reputation": 77, "user_id": 3864357, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7310a4bfc818a46f3ab21875e07b5adf?s=128&d=identicon&r=PG&f=1", "display_name": "lazy", "link": "https://stackoverflow.com/users/3864357/lazy"}, "edited": false, "score": 0, "creation_date": 1435144055, "post_id": 31023863, "comment_id": 50074375, "body": "it took double the time to generate for <b><code>1M</code></b> data"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 77, "user_id": 3864357, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7310a4bfc818a46f3ab21875e07b5adf?s=128&d=identicon&r=PG&f=1", "display_name": "lazy", "link": "https://stackoverflow.com/users/3864357/lazy"}, "edited": false, "score": 0, "creation_date": 1435144741, "post_id": 31023863, "comment_id": 50074854, "body": "@lazy: Yes, that&#39;s because of all the calls to <code>encode</code>. I was thinking only of getting around the <code>Out of memory!</code> error. If you&#39;re going for this technique then you would probably be better off using YAML instead of JSON. I&#39;ve added an alternative solution to my post that will probably be very much faster"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1435202791, "last_edit_date": 1435202791, "creation_date": 1435140855, "answer_id": 31023863, "question_id": 31023198, "link": "https://stackoverflow.com/questions/31023198/writing-huge-data-in-json-format/31023863#31023863", "title": "Writing huge data in JSON format", "body": "<p>It's a bit of a hack, but you could encode each element of the array separately within the loop and write it to disk immediately. That requires a separate header and footer to be printed literally, and the commas between the elements must be introduced manually</p>\n\n<p>This program creates a smaller sample size of ten, but there are no problems with scaling as the data is stored on disk instead of in memory</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse JSON::XS;\n\nmy $json_file = 'D:/Test.json';\n\nopen my $out, '&gt;', $json_file\n    or die qq{Unable to open \"$json_file\" for input: $!};\nselect $out;\n\nprint qq&lt;{ \"data\": [\\n&gt;;\n\nmy $json = JSON::XS-&gt;new-&gt;pretty( 1 )-&gt;utf8;\n\nmy $count;\nfor ( 1 .. 10 ) {\n\n    my $num_exp  = join '', map { int rand 10 } 1 .. 10;\n    my $name_exp = join '', map { chr ord( 'A' ) + rand( 26 ) } 1 .. 8;\n\n    print ', ' if $count;\n    print $json-&gt;encode( { ID =&gt; ++$count, Name =&gt; $name_exp, Number =&gt; $num_exp } );\n}\n\nprint qq&lt;] }\\n&gt;;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{ \"data\": [\n{\n   \"Name\" : \"FQAJEWAL\",\n   \"ID\" : 1,\n   \"Number\" : \"6144230076\"\n}\n, {\n   \"Number\" : \"4802605879\",\n   \"Name\" : \"KKEBKUMZ\",\n   \"ID\" : 2\n}\n, {\n   \"Number\" : \"0843901915\",\n   \"Name\" : \"SGBGIIAS\",\n   \"ID\" : 3\n}\n, {\n   \"Number\" : \"2255081597\",\n   \"ID\" : 4,\n   \"Name\" : \"ZJOPKMPP\"\n}\n, {\n   \"Number\" : \"5392332416\",\n   \"Name\" : \"DXHVGHGQ\",\n   \"ID\" : 5\n}\n, {\n   \"ID\" : 6,\n   \"Name\" : \"HAYWEFWR\",\n   \"Number\" : \"2727718733\"\n}\n, {\n   \"ID\" : 7,\n   \"Name\" : \"DIXEBUHW\",\n   \"Number\" : \"9519451391\"\n}\n, {\n   \"ID\" : 8,\n   \"Name\" : \"LWIWIOTV\",\n   \"Number\" : \"9892199187\"\n}\n, {\n   \"ID\" : 9,\n   \"Name\" : \"LJWFVEYC\",\n   \"Number\" : \"4028143002\"\n}\n, {\n   \"Name\" : \"ARNCHOXK\",\n   \"ID\" : 10,\n   \"Number\" : \"2550291006\"\n}\n] }\n</code></pre>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>It is much easier to assemble YAML data correctly. Here's an equivalent program that generates the YAML equivalent</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $yaml_file = 'D:/Test.yaml';\nopen my $out, '&gt;', $yaml_file\n    or die qq{Unable to open \"$yaml_file\" for input: $!};\nselect $out;\n\nprint \"---\\n\";\nprint \"data:\\n\";\n\nmy $count;\nfor ( 1 .. 10 ) {\n\n    my $num_exp  = join '', map { int rand 10 } 1 .. 10;\n    my $name_exp = join '', map { chr ord( 'A' ) + rand( 26 ) } 1 .. 8;\n\n    printf \"- { ID: %d, Name: %s, Number: %s }\\n\", ++$count, $name_exp, $num_exp;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>---\ndata:\n- { ID: 1, Name: UOCBQUTN, Number: 8349775867 }\n- { ID: 2, Name: DXGMGTXH, Number: 3496217665 }\n- { ID: 3, Name: JABBDZLQ, Number: 4207644646 }\n- { ID: 4, Name: LWUJPOVY, Number: 5785602496 }\n- { ID: 5, Name: JGYEGFDH, Number: 5056633664 }\n- { ID: 6, Name: FUJKTBHF, Number: 6657427320 }\n- { ID: 7, Name: NAKMJZRS, Number: 1318423549 }\n- { ID: 8, Name: QXFDHPHP, Number: 1500434568 }\n- { ID: 9, Name: BINACIAB, Number: 5759930882 }\n- { ID: 10, Name: JSLNUXQE, Number: 9072575068 }\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 3864357, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7310a4bfc818a46f3ab21875e07b5adf?s=128&d=identicon&r=PG&f=1", "display_name": "lazy", "link": "https://stackoverflow.com/users/3864357/lazy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435202791, "creation_date": 1435139186, "last_edit_date": 1435141160, "question_id": 31023198, "link": "https://stackoverflow.com/questions/31023198/writing-huge-data-in-json-format", "title": "Writing huge data in JSON format", "body": "<p>I need to write data to a file using JSON format. After a bit of research I tried the following code</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse JSON::XS;\n\nmy $count = 1;\nmy $nameExp;\nmy $numExp;\nmy $maps = [];\n\nopen my $out, '&gt;', 'D:/Test.json';\n\nmy $json = JSON::XS-&gt;new-&gt;pretty(1)-&gt;utf8;\n\nfor (0..999999) {\n\n   $numExp = \"\";\n   for (0..9) {\n      $numExp = $numExp.(int(rand(9)));\n   }\n\n   $nameExp = \"\";\n   for (0..7) {\n      $nameExp = $nameExp.(chr(int(rand(25) + 65)));\n   }\n\n   push @$maps, {ID =&gt; \"$count\", Name =&gt; \"$nameExp\", Number =&gt; \"$numExp\"};\n\n   $count++;\n}\n\nprint $out $json-&gt;encode({data =&gt; $maps});\n</code></pre>\n\n<p>My problems are</p>\n\n<ol>\n<li><p>If the keys (columns inside the map like <code>ID</code>, <code>Name</code>, <code>Number</code>, etc.) or the no of data (currently 1M) increases, it will result in <code>Out of memory!</code>.</p></li>\n<li><p>Pushing the data into the array itself is taking a lot of time. Then I have to write it to the file. Is it possible to write it directly while maintaining the correct format?</p></li>\n</ol>\n\n<p>I have tried to write it directly instead of pushing it in array but the format is not valid one.</p>\n\n<p>my required sample JSON is like the one below,</p>\n\n<pre><code>{\n  \"data\": [\n     {\n        \"ID\": \"1\",\n        \"Name\": \"XXXXXX\",\n        \"Number\": \"7670418426\",\n     },\n     {\n        \"ID\": \"2\",\n        \"Name\": \"YYYYYYY\",\n        \"Number\": \"4421450424\"\n     }\n  ]\n}\n</code></pre>\n\n<p>any suggestions or solutions?</p>\n"}, {"tags": ["perl", "recursion", "hash"], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1435140463, "creation_date": 1435140463, "answer_id": 31023714, "question_id": 31022672, "link": "https://stackoverflow.com/questions/31022672/how-do-i-extract-the-value-from-a-nested-hash-with-unknown-level-of-nesting/31023714#31023714", "title": "How do I extract the value from a nested hash with unknown level of nesting?", "body": "<p>Yes, recursion works,</p>\n\n<pre><code>use v5.16;\nuse warnings;\n\nmy $hash = { 'known' =&gt; { 'a' =&gt; { 'b' =&gt; 'value' } } };\n\nprint sub { map { ref() ? __SUB__-&gt;(values %$_) : $_ } @_ }-&gt;($hash);\n</code></pre>\n\n<p>output</p>\n\n<pre><code>value\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1989, "user_id": 996114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ab699f0efdf582f02f8f3dbba7a4b1?s=128&d=identicon&r=PG", "display_name": "Mike Covington", "link": "https://stackoverflow.com/users/996114/mike-covington"}, "is_accepted": true, "score": 1, "last_activity_date": 1435141041, "creation_date": 1435141041, "answer_id": 31023932, "question_id": 31022672, "link": "https://stackoverflow.com/questions/31022672/how-do-i-extract-the-value-from-a-nested-hash-with-unknown-level-of-nesting/31023932#31023932", "title": "How do I extract the value from a nested hash with unknown level of nesting?", "body": "<p>An easy-to-read approach:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $hash = { 'known' =&gt; { 'a' =&gt; { 'b' =&gt; 'value' } } };\nprint get_deep_values($hash);\n\nsub get_deep_values {\n    my $hash = shift;\n    if (ref($hash) eq 'HASH') {\n        get_deep_values( (values %$hash)[0] )\n    }\n    else {\n        return $hash;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>value\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1435145225, "creation_date": 1435145225, "answer_id": 31025293, "question_id": 31022672, "link": "https://stackoverflow.com/questions/31022672/how-do-i-extract-the-value-from-a-nested-hash-with-unknown-level-of-nesting/31025293#31025293", "title": "How do I extract the value from a nested hash with unknown level of nesting?", "body": "<p>I assume none of the nested hashes have more than a single element?</p>\n\n<p>A simple iteration is all that's necessary</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy @hashes = (\n    { 'known' =&gt; { 'a' =&gt; { 'b' =&gt; 'value1' } } },\n    { 'known' =&gt; { 'a' =&gt; { 'b' =&gt;  { 'c' =&gt; 'value2' } } } },\n    { 'known' =&gt; { 'a' =&gt; { 'b' =&gt;  { 'c' =&gt; { 'd' =&gt; 'value3' } } } } },\n);\n\nsay get_value($_) for @hashes;\n\nsub get_value {\n  my ($hash) = @_;\n  ($hash) = values %$hash while ref $hash eq 'HASH';\n  $hash;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>value1\nvalue2\nvalue3\n</code></pre>\n"}], "owner": {"reputation": 1330, "user_id": 1768233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fbdf57a16515518ce0471cb0e75fce29?s=128&d=identicon&r=PG", "display_name": "user1768233", "link": "https://stackoverflow.com/users/1768233/user1768233"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 31023932, "answer_count": 3, "score": 2, "last_activity_date": 1435314833, "creation_date": 1435137768, "last_edit_date": 1435314833, "question_id": 31022672, "link": "https://stackoverflow.com/questions/31022672/how-do-i-extract-the-value-from-a-nested-hash-with-unknown-level-of-nesting", "title": "How do I extract the value from a nested hash with unknown level of nesting?", "body": "<p>What is the best way to walk a nested hash structure to get the value when there can be an unknown number of nested levels?</p>\n\n<p>For example the hash could be any of the following or any level of nesting.</p>\n\n<pre><code>my $hash = { 'known' =&gt; { 'a' =&gt; { 'b' =&gt; 'value' } } };\n\nmy $hash = { 'known' =&gt; { 'a' =&gt; { 'b' =&gt;  { 'c' =&gt; 'value' } } } };\n\nmy $hash = { 'known' =&gt; { 'a' =&gt; { 'b' =&gt;  { 'c' =&gt; { 'd' =&gt; 'value' } } } } };\n</code></pre>\n\n<p>The keys a,b,c below could be any value.</p>\n\n<p>I was thinking I could do it with a recursive function that extracts the key and value and the current level, checks to see if the value is a reference to \na hash and if so calls itself, otherwise I have the value?</p>\n"}, {"tags": ["perl", "garbage-collection"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1435135358, "last_edit_date": 1592644375, "creation_date": 1435135358, "answer_id": 31021779, "question_id": 31021741, "link": "https://stackoverflow.com/questions/31021741/weak-references-in-perl/31021779#31021779", "title": "Weak References in Perl", "body": "<p>You can't &quot;call&quot; destroy - the problem here is that perl works on reference counting - each reference to a thing is counted, and it is <em>only</em> when the ref count drops to zero, that it may be released/destroyed/garbage collected.</p>\n<p><code>DESTROY</code> is a special method that is called within an object to do cleanup tasks <em>when this happens</em>. It doesn't delete the object, it just lets it do some final tidying when it dies.</p>\n<p>Have a look at the <a href=\"http://search.cpan.org/%7Epevans/Scalar-List-Utils-1.42/lib/Scalar/Util.pm#weaken\" rel=\"nofollow noreferrer\"><code>Scalar::Util</code></a> module. It includes the <code>weaken</code> method which does exactly what you asked.</p>\n<blockquote>\n<p>The lvalue $ref will be turned into a weak reference. This means that it will not hold a reference count on the object it references. Also when the reference count on that object reaches zero, the reference will be set to undef. This function mutates the lvalue passed as its argument and returns no value.</p>\n<p>This is useful for keeping copies of references, but you don't want to prevent the object being DESTROY-ed at its usual time.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 2491122, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5a72431bdfa94aecbdf0a0b8f4e46eba?s=128&d=identicon&r=PG", "display_name": "Shail", "link": "https://stackoverflow.com/users/2491122/shail"}, "edited": false, "score": 0, "creation_date": 1435152641, "post_id": 31021970, "comment_id": 50080438, "body": "Though, it works fine, could there be any other solution beside using Scalar::Util &#39;weaken&#39; ?"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 75, "user_id": 2491122, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5a72431bdfa94aecbdf0a0b8f4e46eba?s=128&d=identicon&r=PG", "display_name": "Shail", "link": "https://stackoverflow.com/users/2491122/shail"}, "edited": false, "score": 0, "creation_date": 1435153382, "post_id": 31021970, "comment_id": 50081062, "body": "You can reinvent wheel."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 3, "last_activity_date": 1435135857, "creation_date": 1435135857, "answer_id": 31021970, "question_id": 31021741, "link": "https://stackoverflow.com/questions/31021741/weak-references-in-perl/31021970#31021970", "title": "Weak References in Perl", "body": "<p>From <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">perldoc</a>:</p>\n\n<blockquote>\n  <p>You can break circular references by creating a \"weak reference\". A weak reference does not increment the reference count for a variable, which means that the object can go out of scope and be destroyed. You can weaken a reference with the weaken function exported by the <a href=\"http://perldoc.perl.org/Scalar/Util.html\" rel=\"nofollow\">Scalar::Util</a> module.</p>\n</blockquote>\n\n<p>Here's how we can make the first example safer:</p>\n\n<pre><code>use Scalar::Util 'weaken';\nmy $foo = {};\nmy $bar = { foo =&gt; $foo };\n$foo-&gt;{bar} = $bar;\nweaken $foo-&gt;{bar};\n</code></pre>\n\n<blockquote>\n  <p>The reference from <code>$foo</code> to <code>$bar</code> has been weakened. When the <code>$bar</code> variable goes out of scope, it will be garbage-collected. The next time you look at the value of the <code>$foo-&gt;{bar} key</code>, it will be <code>undef</code>.</p>\n  \n  <p>This action at a distance can be confusing, so you should be careful with your use of weaken. You should weaken the reference in the variable that will go out of scope <em>first</em>. That way, the longer-lived variable will contain the expected reference until it goes out of scope.</p>\n</blockquote>\n"}], "owner": {"reputation": 75, "user_id": 2491122, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5a72431bdfa94aecbdf0a0b8f4e46eba?s=128&d=identicon&r=PG", "display_name": "Shail", "link": "https://stackoverflow.com/users/2491122/shail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1040, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1435135857, "creation_date": 1435135235, "last_edit_date": 1435135490, "question_id": 31021741, "link": "https://stackoverflow.com/questions/31021741/weak-references-in-perl", "title": "Weak References in Perl", "body": "<p>How to create weak references to the objects in perl, so when object goes out of scope, the reference count is released?<br>\nI have tried using the DESTROY sub to break the circular references.  </p>\n\n<pre><code>sub DESTROY{  \nmy $p = shift;  \ndelete $p-&gt;{__tree__};  \ndelete $p-&gt;{tokenizers};  \ndelete $p-&gt;{toke};  \n}\n</code></pre>\n\n<p>Please help.</p>\n"}, {"tags": ["arrays", "eclipse", "windows", "perl", "stdin"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1435124211, "post_id": 31018208, "comment_id": 50062428, "body": "Yes it is better now. Thanks"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1435124401, "post_id": 31018208, "comment_id": 50062497, "body": "<code>&lt;Ctrl-Z&gt; + &lt;Enter&gt;</code> should work. Run from command line if it doesn&#39;t."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1435124877, "post_id": 31018208, "comment_id": 50062699, "body": "<code>chomp(@list);</code> or <code>s&#47;\\R&#47;&#47; for @list;</code> to remove newlines from your input."}], "answers": [{"tags": [], "owner": {"reputation": 177, "user_id": 5043033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4oerX.jpg?s=128&g=1", "display_name": "Jeremy Pare", "link": "https://stackoverflow.com/users/5043033/jeremy-pare"}, "is_accepted": true, "score": 1, "last_activity_date": 1435137310, "last_edit_date": 1435137310, "creation_date": 1435125302, "answer_id": 31018640, "question_id": 31018208, "link": "https://stackoverflow.com/questions/31018208/stdin-working-only-the-first-time-in-perl-script-when-using-ctrl-z/31018640#31018640", "title": "&lt;STDIN&gt; working only the first time in Perl script when using Ctrl-Z", "body": "<p>The problem was from EPIC or Eclipse. If I'm running my code in the Windows console, everything is fine. I have to use <kbd>Ctrl</kbd>-<kbd>Z</kbd> + <kbd>Enter</kbd> though. Thanks to @\u0421\u0443\u0445\u043e\u043927 for the comments.</p>\n"}], "owner": {"reputation": 177, "user_id": 5043033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4oerX.jpg?s=128&g=1", "display_name": "Jeremy Pare", "link": "https://stackoverflow.com/users/5043033/jeremy-pare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 31018640, "answer_count": 1, "score": 4, "last_activity_date": 1435140398, "creation_date": 1435123280, "last_edit_date": 1435140398, "question_id": 31018208, "link": "https://stackoverflow.com/questions/31018208/stdin-working-only-the-first-time-in-perl-script-when-using-ctrl-z", "title": "&lt;STDIN&gt; working only the first time in Perl script when using Ctrl-Z", "body": "<p>As a Perl beginner, I'm trying to do a simple exercise from \"Learning Perl\" from Randal L. Schwartz. The exercise consist in getting a list of element from the user input (<code>&lt;STDIN&gt;</code>), sort it, and display it on the screen when it is sorted. The list can be output in two different ways, on the same line using commas, or on different lines.</p>\n\n<p>My problem is when I'm getting the list from the user input (<kbd>Enter</kbd> between each elements and <kbd>Ctrl</kbd>-<kbd>Z</kbd> when user is done), I cannot use <code>&lt;STDIN&gt;</code> again. Therefore, it is impossible for me to get the user input for the desired output method.</p>\n\n<p>Please be indulgent and I'm open to every advice, including on how using Stack Overflow, since this is my first post here.</p>\n\n<p>EDIT: I'm on Windows, using EPIC module in Eclipse. I already tried <kbd>Crtl</kbd>-<kbd>D</kbd>.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.014;\nuse warnings;\nuse utf8;\n\nprint \"Enter the list you want to sort.\";\nprint \"Type each element followed by &lt;Enter&gt;.\\n\";\nprint \"Type &lt;Ctrl-Z&gt; when you are done:\\n\";\n\nmy @list = &lt;STDIN&gt;;\n@list = sort @list;\n\nprint \"Do you want the elements to be printed on individual lines [i] or on the same line [s]?\\n\";\n\nchomp (my $userChoice = &lt;STDIN&gt;);\n\nif ($userChoice eq \"i\")\n{\n    foreach (@list)\n    {\n        print $_;\n    }\n}\nelse\n{\n    chomp(@list);        \n\n    print shift @list;\n\n    foreach (@list)\n    {\n        print \", \" . $_;\n    }\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "split"], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 2, "last_activity_date": 1435112696, "creation_date": 1435112696, "answer_id": 31016563, "question_id": 31016483, "link": "https://stackoverflow.com/questions/31016483/splitting-a-line-in-perl-by-whitespace-but-ignoring-whitespace-in-quotes/31016563#31016563", "title": "Splitting a line in perl by whitespace, but ignoring whitespace in quotes", "body": "<pre><code>use strict;\nuse warnings;\nfor my $line (&lt;DATA&gt;) {\n    my @fields = $line =~ /('.*?'|\\S+),?/g;\n    print join(',', @fields), \"\\n\";\n}\n__DATA__\nA2     IDENT    =     'THING1','THING2'\nA3 IDENT   =   'G'\nA4   IDENT   =         'SOME THING','ANOTHER THING'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": false, "score": 4, "last_activity_date": 1435113696, "creation_date": 1435113696, "answer_id": 31016730, "question_id": 31016483, "link": "https://stackoverflow.com/questions/31016483/splitting-a-line-in-perl-by-whitespace-but-ignoring-whitespace-in-quotes/31016730#31016730", "title": "Splitting a line in perl by whitespace, but ignoring whitespace in quotes", "body": "<p>Use <a href=\"http://perldoc.perl.org/Text/ParseWords.html\" rel=\"nofollow\">Text::ParseWords</a>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dump;\nuse Text::ParseWords;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my @words = parse_line( qr{\\s+}, 1, $_ );\n    dd(@words);\n}\n\n__DATA__\nA2     IDENT    =     'THING1','THING2'\nA3 IDENT   =   'G'\nA4   IDENT   =         'SOME THING','ANOTHER THING'\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>(\"A2\", \"IDENT\", \"=\", \"'THING1','THING2'\")\n(\"A3\", \"IDENT\", \"=\", \"'G'\")\n(\"A4\", \"IDENT\", \"=\", \"'SOME THING','ANOTHER THING'\")\n</code></pre>\n\n<p>Note: Using <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow\">Data::Dump</a> enables you to more easily see what your resultant array contains.</p>\n"}, {"tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 1, "last_activity_date": 1435121278, "creation_date": 1435121278, "answer_id": 31017832, "question_id": 31016483, "link": "https://stackoverflow.com/questions/31016483/splitting-a-line-in-perl-by-whitespace-but-ignoring-whitespace-in-quotes/31017832#31017832", "title": "Splitting a line in perl by whitespace, but ignoring whitespace in quotes", "body": "<pre><code>(?:\\s+|,)(?=(?:[^']*'[^']*')*[^']*$)\n</code></pre>\n\n<p>You can split by this and remove <code>empty splits</code> later.See demo.</p>\n\n<p><a href=\"https://regex101.com/r/vH0iN5/10\" rel=\"nofollow\">https://regex101.com/r/vH0iN5/10</a></p>\n"}], "owner": {"reputation": 9149, "user_id": 623990, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/49b25662f4bc09b799428dcdd6e4b606?s=128&d=identicon&r=PG&f=1", "display_name": "n0pe", "link": "https://stackoverflow.com/users/623990/n0pe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "closed_date": 1435162802, "answer_count": 3, "score": 2, "last_activity_date": 1435121278, "creation_date": 1435112101, "question_id": 31016483, "link": "https://stackoverflow.com/questions/31016483/splitting-a-line-in-perl-by-whitespace-but-ignoring-whitespace-in-quotes", "closed_reason": "Duplicate", "title": "Splitting a line in perl by whitespace, but ignoring whitespace in quotes", "body": "<p>I've got a line like this:</p>\n\n<pre><code>A2     IDENT    =     'THING1','THING2'\nA3 IDENT   =   'G'\nA4   IDENT   =         'SOME THING','ANOTHER THING'\n</code></pre>\n\n<p>And I'm trying to get tokens like this:</p>\n\n<pre><code>A2,IDENT,=,'THING1','THING2'\nA3,IDENT,=,'G'\nA4,IDENT,=,'SOME THING','ANOTHER THING'\n</code></pre>\n\n<p>I can do a split on <code>\\s+</code> and then on <code>,</code> (to split the last section), but the spaces in the last section mess it up.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1435119321, "post_id": 31015655, "comment_id": 50060878, "body": "Curious\u2026 why won&#39;t interpolation work?"}, {"owner": {"reputation": 11922, "user_id": 765271, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t2IUe.jpg?s=128&g=1", "display_name": "Nasser", "link": "https://stackoverflow.com/users/765271/nasser"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1435119661, "post_id": 31015655, "comment_id": 50060977, "body": "@vol7ron interpolation will not work at all. Try the example I posted with <code>&quot;EOT&quot;</code> instead of <code>&#39;EOT&#39;</code>, the problem is Latex using <code>$</code> itself, and also uses `\\` for all its commands. Interpolation will get in the way and generate many errors."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1435119716, "post_id": 31015655, "comment_id": 50060992, "body": "It should work, you just have to escape certain symbols."}, {"owner": {"reputation": 11922, "user_id": 765271, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t2IUe.jpg?s=128&g=1", "display_name": "Nasser", "link": "https://stackoverflow.com/users/765271/nasser"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1435119920, "post_id": 31015655, "comment_id": 50061050, "body": "@vol7ron &quot;you just have to escape certain symbols&quot; but the whole point of this, is not to do that!. This is raw text and I do not want to keep escaping things in it each time. If I copy the raw text out, I want it to remain the same and not have to remove the escape slashed added again."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1435119962, "post_id": 31015655, "comment_id": 50061058, "body": "So in your LaTex you&#39;re using a variable that your LaTex is not processing?  Is it embedded in your Perl, or is it an actual tex file?"}, {"owner": {"reputation": 11922, "user_id": 765271, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t2IUe.jpg?s=128&g=1", "display_name": "Nasser", "link": "https://stackoverflow.com/users/765271/nasser"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1435121023, "post_id": 31015655, "comment_id": 50061342, "body": "@vol7ron I am using Perl to generate the Latex. There are few places in the Latex code that I need to plugin some values for (like title, date, author, etc...) But the bulk of the Latex code should remain as is, unmodified. This way if I want later to use it outside of Perl, the changes are very minimal. I can copy it out. If I have to modify the Latex code greatly by escaping it everywhere, then this whole process will not work at all. I am trying to minimize any changes to the Latex code, that is why Interpolation will not work."}], "answers": [{"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 4, "last_activity_date": 1435179490, "last_edit_date": 1435179490, "creation_date": 1435106558, "answer_id": 31015783, "question_id": 31015655, "link": "https://stackoverflow.com/questions/31015655/is-it-possible-to-apply-sprintf-to-format-a-here-document-string/31015783#31015783", "title": "Is it possible to apply sprintf to format a HERE DOCUMENT string?", "body": "<p>You may be over-complicating things.  Yes Perl has <code>sprintf</code> and yes you can specify the format string using a heredoc, but it would be much easier to just use variable interpolation:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nmy $title = \"My report\";\nmy $date  = \"1/1/2016\";\n\nmy $s =&lt;&lt;\"EOT\";\n\\documentclass[12pt,titlepage]{article}\n\\begin{document}\n\\title{$title}\n\\date{$date}\n  some text\n\\end{document}\nEOT\n\nprint $s;\n</code></pre>\n\n<p>Note, I changed your single quotes around the <code>EOT</code> to double quotes.\nNormally you can just include a variable name in a double-quoted string, e.g.: <code>\"$title\"</code> but if you need to follow that with a literal letter, number or underscore, then simply wrap curly braces around the variable name: <code>\"${title}_word\"</code>.</p>\n\n<p>To answer the question as asked, you could do:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nmy $title = \"My report\";\nmy $date  = \"1/1/2016\";\n\nmy $s =&lt;&lt;'EOT';\n\\documentclass[12pt,titlepage]{article}\n\\begin{document}\n\\title{%s}\n\\date{%s}\n  some text\n\\end{document}\nEOT\n\nprintf($s, $title, $date);\n</code></pre>\n\n<p>Perl's <code>sprintf</code> doesn't support named placeholders.</p>\n\n<p>Edit: As @Nasser pointed out in a later comment my first example won't work as written, because changing from single to double quoting means that the backslashes need to be doubled up and any literal <code>$</code> characters in the string would also need to be escaped.</p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1435111761, "creation_date": 1435111761, "answer_id": 31016434, "question_id": 31015655, "link": "https://stackoverflow.com/questions/31015655/is-it-possible-to-apply-sprintf-to-format-a-here-document-string/31016434#31016434", "title": "Is it possible to apply sprintf to format a HERE DOCUMENT string?", "body": "<p>Yes, it is possible. Example:</p>\n\n<pre><code>printf &lt;&lt;'TEMPLATE',\n\n   %-20s    $%6.2f\n   %-20s    $%6.2f\n   %-20s    $%6.2f\n   --------------------    -------\n   TOTAL                   $%6.2f\n\nTEMPLATE\n    \"Cheeseburger\", 3.29,\n    \"Medium fries\", 1.99,\n    \"Large soda\", 1.69,\n    3.29 + 1.99 + 1.69;\n</code></pre>\n\n<p>In this example note the comma after the first <code>TEMPLATE</code>. You could omit it there and put it after the second template, at the beginning of a new line. Or you could put the other arguments to <code>printf</code> after the first <code>TEMPLATE</code>. Or you can mix it up -- not recommended, but you can</p>\n\n<pre><code>printf &lt;&lt;'TEMPLATE', \"Cheeseburger\", 3.29, \"Medium fries\"\n\n   %-20s    $%6.2f\n   %-20s    $%6.2f\n   %-20s    $%6.2f\n   --------------------    -------\n   TOTAL                   $%6.2f\n\nTEMPLATE\n    , 1.99,\n    \"Large soda\", 1.69,\n    3.29 + 1.99 + 1.69;\n</code></pre>\n\n<p>But as Grant McLean suggests, it is saner to put your template into a variable first -- created with a heredoc if it makes sense, but to make the <code>printf/sprintf</code> call itself look simple.</p>\n"}, {"comments": [{"owner": {"reputation": 11922, "user_id": 765271, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t2IUe.jpg?s=128&g=1", "display_name": "Nasser", "link": "https://stackoverflow.com/users/765271/nasser"}, "edited": false, "score": 0, "creation_date": 1435121131, "post_id": 31017564, "comment_id": 50061370, "body": "the regex trick is very nice! But named sprintf is still a little more clear I feel. Thanks."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1435460986, "post_id": 31017564, "comment_id": 50207803, "body": "@GrantMcLean yeah a template library like Template.pm or Template::Toolkit could be useful.  The big reason I didn&#39;t include one is there&#39;s a learning curve and it seems like the OP wanted something a little more straightforward and closer to printf.  It is a good suggestion though."}], "tags": [], "owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "is_accepted": true, "score": 1, "last_activity_date": 1471274920, "last_edit_date": 1471274920, "creation_date": 1435119657, "answer_id": 31017564, "question_id": 31015655, "link": "https://stackoverflow.com/questions/31015655/is-it-possible-to-apply-sprintf-to-format-a-here-document-string/31017564#31017564", "title": "Is it possible to apply sprintf to format a HERE DOCUMENT string?", "body": "<p>To answer the question, there are a few options; which I'll only address two of the simpler methods to implement (i.e., <code>printf</code>/<code>sprintf</code> and regex).</p>\n\n<ol>\n<li><h2><code>printf</code>/<code>sprintf</code></h2>\n\n<p>If you know the order of the placeholders, you can use the correct templating variables <code>%s</code> for string and insert your values using variables in the <code>printf</code> call.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $title = \"My report\";\nmy $date  = \"1/1/2016\";\n\nmy $s =&lt;&lt;'EOT';\n\\documentclass[12pt,titlepage]{article}\n\\begin{document}\n\\title{%s}\n\\date{%s}\n  some text\n\\end{document}\nEOT\n\nprintf( $s, $title, $date);\n</code></pre></li>\n<li><h2>Regex</h2>\n\n<p>Using regex, you could look for the literal string and replace that with some desired value (a variable).</p>\n\n<h3>Simple Replace</h3>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $title = \"My report\";\nmy $date  = \"1/1/2016\";\n\nmy $s     = &lt;&lt;'EOT';\n\\documentclass[12pt,titlepage]{article}\n\\begin{document}\n\\title{$title}\n\\date{$date}\n  some text\n\\end{document}\nEOT\n\n$s =~ s/\\$(title|date)/\"\\$$1\"/eeg;            # ee is important and so is wrapping the replacement pattern in a string\n\nprint $s;\n</code></pre>\n\n<h3>Hash Table Replace</h3>\n\n<p>You could make the process even more automated/flexible by using a replace hash. This helps to automatically generate the regex pattern and use the hash table to retrieve the respective value for the replacement. The benefit is you could add more-or-less variables to your hash, without having to touch the regex again (the pattern doesn't get any larger).</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $replace = {\n  title =&gt; q{My report},\n  date  =&gt; q{1/1/2016}\n};\n\nmy $s = &lt;&lt;'EOT';\n\\documentclass[12pt,titlepage]{article}\n\\begin{document}\n\\title{$title}\n\\date{$date}\n  some text\n\\end{document}\nEOT\n\n$s =~ s/\\$(@{[ join '|', keys %$replace ]})/$replace-&gt;{$1}/g;\n\nprint $s;\n</code></pre>\n\n<h3>Regex Caveats</h3>\n\n<p>There are however many caveats. For instance, word-wrapping could be a problem depending on where the variable breaks - the regex is not set up to look for that. A bigger concern is if you actually wanted the literal string '$title' or '$date' to appear in the generated document (after executing the <a href=\"https://en.wikipedia.org/wiki/TeX\" rel=\"nofollow\">TeX</a> code), the regex would have replaced it with some value. You'll have to determine which works best for you.</p>\n\n<p>Generally, in templating/parsing there isn't a one-line answer and it usually involves multiple statement process for various reasons (e.g., performance, maintainability, logic/complexity, or simply because it couldn't work otherwise).</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1435244919, "last_edit_date": 1435244919, "creation_date": 1435244512, "answer_id": 31054010, "question_id": 31015655, "link": "https://stackoverflow.com/questions/31015655/is-it-possible-to-apply-sprintf-to-format-a-here-document-string/31054010#31054010", "title": "Is it possible to apply sprintf to format a HERE DOCUMENT string?", "body": "<p>Perl's <code>sprintf</code> doesn't support named parameters, however the <a href=\"https://metacpan.org/pod/Template\" rel=\"nofollow\"><code>Template::Toolkit</code></a> module was designed precisely for this sort of thing. It has been applied to LaTeX in many projects, and the <a href=\"https://metacpan.org/pod/Template::Plugin::Latex\" rel=\"nofollow\"><code>Template::Plugin::Latex</code></a> module was written to facilitate this even further</p>\n\n<p>Here's an example of using the basic module to format the sample data in the question. Note that the usual use case has the template stored in a separate text file as the <code>process</code> method will take a filename as its first parameter. But it will also take an open file handle (so you can use the <code>DATA</code> file handle if you wish) or a simple string if it is passed by reference, as here</p>\n\n<p>The module is highly configurable, and the embedded directives form a comprehensive language, comparable to PHP, that allow templates to be written that match pretty much any circumstance</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Template;\n\nmy %vars = (\n  title =&gt; 'My report',\n  date  =&gt; '1/1/2016',\n);\n\nmy $template =&lt;&lt;'EOT';\n\\documentclass[12pt,titlepage]{article}\n\\begin{document}\n\\title{[% title %]}\n\\date{[% date %]}\n  some text\n\\end{document}\nEOT\n\nmy $tt = Template-&gt;new;\n$tt-&gt;process(\\$template, \\%vars);\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>\\documentclass[12pt,titlepage]{article}\n\\begin{document}\n\\title{My report}\n\\date{1/1/2016}\n  some text\n\\end{document}\n</code></pre>\n"}], "owner": {"reputation": 11922, "user_id": 765271, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t2IUe.jpg?s=128&g=1", "display_name": "Nasser", "link": "https://stackoverflow.com/users/765271/nasser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 912, "favorite_count": 0, "accepted_answer_id": 31017564, "answer_count": 4, "score": 4, "last_activity_date": 1471274920, "creation_date": 1435105590, "last_edit_date": 1471274770, "question_id": 31015655, "link": "https://stackoverflow.com/questions/31015655/is-it-possible-to-apply-sprintf-to-format-a-here-document-string", "title": "Is it possible to apply sprintf to format a HERE DOCUMENT string?", "body": "<p>I'd like to embed tokens inside a HERE DOCUMENT and then use <code>(s)printf</code> on the final string to replace these tokens with actual values. The reason is: This makes it much easier to build a HERE DOCUMENT with some parts of it that are varying.</p>\n\n<p>To explain, here is how I would do this in Python. From the small example below it will be more clear what I am trying to do. In Python <code>r\"\"\"</code> is similar to Perl <code>&lt;&lt;EOT</code>, i.e. it builds multi-line raw string. The string has to end with <code>\"\"\"</code> similar to Perl ending with <code>EOT</code>.</p>\n\n<pre><code>s=r\"\"\"\n\\documentclass[12pt,titlepage]{article}\n\\begin{document}\n\\title{%(title)s}\n\\date{%(date)s}\n  some text\n\\end{document}\"\"\"\n\nprint s % {\"title\": \"My report\",\"date\": \"1/1/2016\"}\n</code></pre>\n\n<p>The above prints</p>\n\n<pre><code>\\documentclass[12pt,titlepage]{article}\n\\begin{document}\n\\title{My report}\n\\date{1/1/2016}\n  some text\n\\end{document}\n</code></pre>\n\n<p>Notice that the <code>%(title)</code> and <code>%(date)</code> were replaced at the end by values given. This is very similar to doing <code>sprintf('%s',some_string)</code>, but here it is applied to the raw string itself. This is very handy and makes building raw string very easy.</p>\n\n<p>Here is an <a href=\"https://en.wiktionary.org/wiki/MWE\" rel=\"nofollow\">MWE</a> in Perl, but I am stuck on the last part, and I also do not know how to do the whole thing:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nmy $title = \"My report\";\nmy $date  = \"1/1/2016\";\n\nmy $s =&lt;&lt;'EOT';\n\\documentclass[12pt,titlepage]{article}\n\\begin{document}\n\\title{%(title)s}\n\\date{%(date)s}\n  some text\n\\end{document}\nEOT\n\nprint($s);   #how to format this in order to replace %title and %date\n             #emmbeded in $s with the values above? is it possible?\n</code></pre>\n\n<p>Make sure <code>EOT</code> is leftmost and has no spaces after it.</p>\n\n<p>I do not know if this is even possible in Perl. But I think if it is possible in Python, it should also be possible in Perl?</p>\n\n<p>Please note that I can't use interpolation in HERE DOCUMENT, i.e. <code>&lt;&lt;\"EOT\"</code> will not work for many reasons, and must use non interpolation HERE DOCUMENT. So something like this will not work for me:</p>\n\n<pre><code>my $s =&lt;&lt;\"EOT\";\n\\documentclass[12pt,titlepage]{article}\n\\begin{document}\n\\title{$title}\n\\date{$date}\n  some text\n\\end{document}\nEOT\n</code></pre>\n"}, {"tags": ["perl", "in-place"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1435105002, "post_id": 31015409, "comment_id": 50057653, "body": "What sort of changes will you be making in reality? Changing <code>world</code> to <code>WORLD</code> is simple because the two strings are the same length. If you want to append data to the end of the file then that is simple, but if you want to shorten or -- even worse -- lengthen lines before the end of the file then it becomes much harder"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1435104772, "creation_date": 1435104772, "answer_id": 31015548, "question_id": 31015409, "link": "https://stackoverflow.com/questions/31015409/perl-in-place-editing-produces-garbage/31015548#31015548", "title": "Perl in-place editing produces garbage", "body": "<p>The most straightforward way is to use <a href=\"https://metacpan.org/pod/Tie::File\" rel=\"nofollow\"><code>Tie::File</code></a>, which allows you to edit a text file by simply modifying an array. It does have the reputation of being slow, but you will know if it is <em>too</em> slow only by trying it yourself</p>\n\n<p>Your example code would become just this</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Tie::File;\n\ntie my @file, 'Tie::File', 'testingfile' or die $!;\n\ns/world/WORLD/ for @file;\n\nuntie @file;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 1010681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe10c5f177d45ff5630989d50111faf?s=128&d=identicon&r=PG", "display_name": "tachylatus", "link": "https://stackoverflow.com/users/1010681/tachylatus"}, "edited": false, "score": 0, "creation_date": 1435266176, "post_id": 31015594, "comment_id": 50141968, "body": "I actually ended up doing a variation of this: Step 1: Open file in read mode and store into @lines Step 2: Loop through the lines, modify content when applicable, and record any changes by increasing a counter. Step 3: Close the file Step 4: If the $changes counter is nonzero, reopen the file in write mode and flush contents."}], "tags": [], "owner": {"reputation": 2471, "user_id": 1455003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71ee972301ed4545eff4d0c07af8f064?s=128&d=identicon&r=PG", "display_name": "wolfhammer", "link": "https://stackoverflow.com/users/1455003/wolfhammer"}, "is_accepted": true, "score": 1, "last_activity_date": 1435105114, "creation_date": 1435105114, "answer_id": 31015594, "question_id": 31015409, "link": "https://stackoverflow.com/questions/31015409/perl-in-place-editing-produces-garbage/31015594#31015594", "title": "Perl in-place editing produces garbage", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n# getlines\nopen(FILE, \"&lt;\", \"testingfile\") or die \"$!\";\nmy @lines = &lt;FILE&gt;;\nmy $line = \"\";\nclose(FILE);\n\n# open file again but this time for writing\nopen(FILE, \"&gt;\", \"testingfile\") or die \"$!\";\n\n# write adjusted text\nforeach $line (@lines) {\n    $line =~s/world/WORLD/;\n    print FILE \"$line\";\n    print \"$line\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 1010681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe10c5f177d45ff5630989d50111faf?s=128&d=identicon&r=PG", "display_name": "tachylatus", "link": "https://stackoverflow.com/users/1010681/tachylatus"}, "edited": false, "score": 0, "creation_date": 1435267529, "post_id": 31016561, "comment_id": 50142630, "body": "Thanks for the thorough explanation. I still wonder why I got the garbage output and terminal hang; I guess I must&#39;ve triggered some bug. I ended up using a more &quot;simple&quot; approach - read file into memory, perform changes and reopen the file for writing if changes were made. Sounds like there is no easy way to insert or delete bytes, only overwrite existing ones?"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1435112687, "creation_date": 1435112687, "answer_id": 31016561, "question_id": 31015409, "link": "https://stackoverflow.com/questions/31015409/perl-in-place-editing-produces-garbage/31016561#31016561", "title": "Perl in-place editing produces garbage", "body": "<p>You need to learn about the <code>seek</code> command to move around in your file. Your filehandle <code>FILE</code> has a single cursor. After you read from <code>FILE</code>, its cursor is pointing at the end of the data you just read. Then you write on <code>FILE</code> and you are not overwriting the data you just read, but the data your were just about to read.</p>\n\n<p>Here is your file. When you first open it, the cursor is at the beginning of the file.</p>\n\n<pre><code> h e l l o \\n w o r l d \\n f o o \\n EOF\n^\n</code></pre>\n\n<p>Next you read a line of input with the <code>&lt;FILE&gt;</code> operation. That loads the text \"hello\\n\" into the variable <code>$_</code> and moves <code>FILE</code>'s cursor:</p>\n\n<pre><code> h e l l o \\n w o r l d \\n f o o \\n EOF\n             ^\n</code></pre>\n\n<p>Next, your substitution fails and doesn't alter <code>$_</code>, and you print the contents of <code>$_</code> to <code>FILE</code>. The writing begins at the cursor and you get</p>\n\n<pre><code> h e l l o \\n h e l l o \\n f o o \\n EOF\n                          ^\n</code></pre>\n\n<p>The next time you read, you get <code>foo\\n</code> in <code>$_</code>, move the cursor to the end of the file, and then rewrite <code>$_</code> at the end of the file.</p>\n\n<pre><code> h e l l o \\n h e l l o \\n f o o \\n f o o \\n EOF\n                                            ^\n</code></pre>\n\n<p>Use the <code>seek</code> command to move the cursor around. Maybe something like</p>\n\n<pre><code>open(FILE, \"+&lt;\", \"testingfile\") or die \"$!\";\n\nwhile (&lt;FILE&gt;) {\n    print;\n    if (s/world/WORLD/) {\n        seek FILE, -length($_), 1;   # move back by length of $_\n        print FILE $_;\n    }\n    print;\n}\n</code></pre>\n\n<p>As @Borodin points out, this gets a lot more complicated if you want to lengthen or shorten <code>$_</code> as you move through the file.</p>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 0, "last_activity_date": 1435154787, "creation_date": 1435154787, "answer_id": 31028852, "question_id": 31015409, "link": "https://stackoverflow.com/questions/31015409/perl-in-place-editing-produces-garbage/31028852#31028852", "title": "Perl in-place editing produces garbage", "body": "<p>The in-place editing doesn't do what you are doing. It renames the original file then opens a new file with the original name. It reads from the renamed file and writes to the original filename. See <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\">perlrun</a> for the explanation of <code>-I</code>.</p>\n"}], "owner": {"reputation": 83, "user_id": 1010681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe10c5f177d45ff5630989d50111faf?s=128&d=identicon&r=PG", "display_name": "tachylatus", "link": "https://stackoverflow.com/users/1010681/tachylatus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 31015594, "answer_count": 4, "score": 0, "last_activity_date": 1435154787, "creation_date": 1435103770, "question_id": 31015409, "link": "https://stackoverflow.com/questions/31015409/perl-in-place-editing-produces-garbage", "title": "Perl in-place editing produces garbage", "body": "<p>I am having trouble with in-place file editing, having browsed the web for a couple of hours without results.</p>\n\n<p>I really <strong><em>don't want</em></strong> to use the general temporary file scheme, i.e. writing everything to a new file and replace the old one. I <strong><em>need</em></strong> modification timestamps to reflect actual changes, permissions and ownership to remain unchanged etc.</p>\n\n<p>If I understand correctly, using <code>$I^</code> is just a short-hand for the temp-file scheeme - or am I wrong?</p>\n\n<p>The \"+&lt;\" mode should open the file for both reading and writing.</p>\n\n<p><strong>My test code so far:</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen(FILE, \"+&lt;\", \"testingfile\") or die \"$!\";\n\nwhile (&lt;FILE&gt;) {\n    print;\n    s/world/WORLD/;\n    print FILE $_;\n    print;\n}\n</code></pre>\n\n<p>The \"testingfile\" has three lines, and I just want to replace \"world\" with \"WORLD\" for now:</p>\n\n<pre><code>hello\nworld\nfoo\n</code></pre>\n\n<h1>Result</h1>\n\n<p>When I run the Perl script, garbage is produced and the terminal is left hanging until interrupted (Ctrl+C):</p>\n\n<pre><code>hello\nhello\nfoo\nfoo\no\no\nllo\nllo\n\u00c8\u00c8'&gt;j\u00cbNgs}&gt;\u00be\u00d8Keh%P8*   *        +       +      p+      \u00d1\u00d1\u00c0+    +       p+      p+      \u00a8\u00b0 #!/u8in/puse ct;\n\u00c8\u00c8'&gt;j\u00cbNgs}&gt;\u00be\u00d8Keh%P8*   *        +       +      p+      \u00d1\u00d1\u00c0+    +       p+      p+      \u00a8\u00b0 #!/u8in/puse ct;\n</code></pre>\n\n<p>The \"testingfile\" now contains:</p>\n\n<pre><code>hello\nworld\nfoo\nhello\nhello\nfoo\n</code></pre>\n\n<p>I'm running an old Perl on a SunOS (Solaris) production system:</p>\n\n<pre><code>This is perl, v5.8.4 built for i86pc-solaris-64int\n</code></pre>\n"}, {"tags": ["python", "bash", "perl", "awk"], "answers": [{"tags": [], "owner": {"reputation": 474, "user_id": 3582089, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff9757d5506ff85a9496429a2f47e10a?s=128&d=identicon&r=PG&f=1", "display_name": "moore1emu", "link": "https://stackoverflow.com/users/3582089/moore1emu"}, "is_accepted": false, "score": 1, "last_activity_date": 1435103059, "last_edit_date": 1495541161, "creation_date": 1435103059, "answer_id": 31015311, "question_id": 31014848, "link": "https://stackoverflow.com/questions/31014848/reorder-columns-by-string-variable/31015311#31015311", "title": "Reorder Columns by String Variable", "body": "<p>So the Code that @Glenn Jackson posted here: <a href=\"https://stackoverflow.com/questions/31008106/creating-an-awk-for-loop-out-of-piped-commands\">Creating an AWK For Loop out of piped commands</a></p>\n\n<p>and is below:</p>\n\n<pre><code>awk -F, -v OFS=, '\n{\n    delete val                 # clear the previous values if any\n    for (i=6; i&lt;=NF; i++) {\n        split($i, a, \" \")\n        val[a[1]] = $i         # a[1] is the first space-separated word\n    }\n    print $1,$2,$3,$4,$5, val[\"Reading\"],    # null values are OK\n                          val[\"Sentence\"], \n                          val[\"Arithmetic\"], \n                          val[\"College\"], \n                          val[\"Elementary\"]\n}\n' input\n</code></pre>\n\n<p>does exactly what i need and works perfectly and makes enough sense i can adapt it.</p>\n"}, {"tags": [], "owner": {"reputation": 729, "user_id": 3069115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9220d416e46ec9b73cab61afbb26798b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Tom", "link": "https://stackoverflow.com/users/3069115/tim-tom"}, "is_accepted": false, "score": 3, "last_activity_date": 1435114382, "last_edit_date": 1435114382, "creation_date": 1435103360, "answer_id": 31015351, "question_id": 31014848, "link": "https://stackoverflow.com/questions/31014848/reorder-columns-by-string-variable/31015351#31015351", "title": "Reorder Columns by String Variable", "body": "<p>Looks like you answered it yourself, but since I had already written this all up (and since it doesn't require the first word to be unique like that awk solution, just that no category is a substring of any other):</p>\n\n<p>In perl, this could be solved by the following.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @categories = ('Reading Comprehension', 'Sentence Skills', 'Arithmetic', 'College Level Math', 'Elementary Algebra');\n\nwhile(&lt;ARGV&gt;) {\n    chomp;\n    my @columns = split(/,/);\n    print join(',', @columns[0 .. 4], map { my $c = $_; (grep { /$c/ } @columns)[0] || '' } @categories).\"\\n\";\n}\n</code></pre>\n\n<p>This can either accept the filename as input or standard input if no argument is provided.</p>\n\n<p>The explanation of the join line is that you want the first 5 columns, followed by the first column that matches a given category or an empty string if no column matches.</p>\n\n<p><code>map { my $c = $_; ... } @categories</code>: Do this for every category (with $c representing the category instead of $_)<br>\n<code>grep { /$c/ } @columns</code>: All columns who match the given category<br>\n<code>(...)[0] || ''</code>: The first thing that matches or the empty string</p>\n\n<p>As a one-liner, this can be represented as the following:</p>\n\n<pre><code>perl -nalF, -e 'print join(\",\", @F[0 .. 4], map { my $c = $_; (grep { /$c/ } @F)[0] || \"\" } (\"Reading Comprehension\", \"Sentence Skills\", \"Arithmetic\", \"College Level Math\", \"Elementary Algebra\"));' inputfile.txt\n</code></pre>\n\n<p><code>-n</code>: implicitly put a <code>WHILE(&lt;ARGV&gt;){}</code> block around the code provided<br>\n<code>-a</code>: Automatically split the line and put the results in @F<br>\n<code>-l</code>: Automatically remove newlines from the input and add them to the output<br>\n<code>-F,</code>: Split on commas instead of the default of whitespace.</p>\n"}, {"tags": [], "owner": {"reputation": 3367, "user_id": 3671397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee012426897a4e53e39de64efce42fd8?s=128&d=identicon&r=PG", "display_name": "miindlek", "link": "https://stackoverflow.com/users/3671397/miindlek"}, "is_accepted": true, "score": 5, "last_activity_date": 1435129915, "last_edit_date": 1435129915, "creation_date": 1435104253, "answer_id": 31015480, "question_id": 31014848, "link": "https://stackoverflow.com/questions/31014848/reorder-columns-by-string-variable/31015480#31015480", "title": "Reorder Columns by String Variable", "body": "<p>Here is a simple clean solution written in python. You have to replace <code>input.csv</code> and <code>output.csv</code> with your CSV files.</p>\n\n<pre><code>import csv \n\nlabels = [\n    \"Reading Comprehension\", \"Sentence Skills\", \"Arithmetic\",\n    \"College Level Math\", \"Elementary Algebra\"\n]\n\nwith open('output.csv', 'wb') as outfile, \\\n     open('input.csv', 'rb') as infile:\n    writer = csv.writer(outfile)\n    reader = csv.reader(infile) \n\n    for row in reader: \n        head = row[:5]\n        tail = []\n        for label in labels:\n            tail.append(next((i for i in row[5:] if i.startswith(label)), \"\"))\n        writer.writerow(head + tail)\n</code></pre>\n\n<p>Here is another shorter solution, which uses piping:</p>\n\n<pre><code>#!/usr/bin/python    \nfrom sys import stdin, stdout\n\nlabels = [\n    \"Reading Comprehension\", \"Sentence Skills\", \"Arithmetic\",\n    \"College Level Math\", \"Elementary Algebra\"\n]\n\nfor line in stdin: \n    values = line.strip().split(',')\n    stdout.write(','.join(values[:5]))\n    for label in labels:\n        stdout.write(',')\n        stdout.write(next((i for i in values[5:] if i.startswith(label)), ''))\n    stdout.write('\\n')\nstdout.flush()\n</code></pre>\n\n<p>If you save this code in a file, for example called <code>reorder</code>, and make this file executable, you can reformat your CSV file like this:</p>\n\n<pre><code>$ cat input.csv | ./reorder\n</code></pre>\n\n<p>The reformatted csv content is then written to the standard output.</p>\n"}, {"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 2, "last_activity_date": 1435104783, "creation_date": 1435104783, "answer_id": 31015551, "question_id": 31014848, "link": "https://stackoverflow.com/questions/31014848/reorder-columns-by-string-variable/31015551#31015551", "title": "Reorder Columns by String Variable", "body": "<p>Another perl solution.  </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nmy @column_order = (\n   'Reading Comprehension',\n   'Sentence Skills',\n   'Arithmetic',\n   'College Level Math',\n   'Elementary Algebra',\n);\n\nmy $csv = 'foo.csv'; # CHANGME\n\n# Open the File\nopen my $fh, $csv\n    or die \"Unable to open $csv : $!\";\n\n# Read through the file, line-by-line\nwhile (&lt;$fh&gt;) {\n    my @columns = split /,/; # Split each line by ','\n    my $first_five = join ',', splice @columns, 0, 5; # Remove the first 5 columns\n    my %data = map { $_ =&gt; '' } @column_order;  # default to empty for each column\n\n    # iterate over remaing columns\n    for my $col (@columns) {\n        # if we match any of our desired columns\n        if (my ($match) = grep { $col =~ m|^$_| } @column_order) {\n            $col =~ s|\\s*$||; # delete any trailing whitespace\n            $data{$match} = $col; # store it in a hash\n        }\n    }\n    my $remaining_columns = join ',', @data{@column_order}; # join the hash values\n    print $first_five . ',', $remaining_columns . \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 474, "user_id": 3582089, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff9757d5506ff85a9496429a2f47e10a?s=128&d=identicon&r=PG&f=1", "display_name": "moore1emu", "link": "https://stackoverflow.com/users/3582089/moore1emu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 31015480, "answer_count": 4, "score": 1, "last_activity_date": 1435132265, "creation_date": 1435100151, "last_edit_date": 1435132265, "question_id": 31014848, "link": "https://stackoverflow.com/questions/31014848/reorder-columns-by-string-variable", "title": "Reorder Columns by String Variable", "body": "<p>I have a csv file like so:</p>\n\n<pre><code>Last,First,A00XXXXXX,1492-12-03,2015-06-23,Sentence Skills 67,Reading Comprehension 59,Elementary Algebra 41\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,Sentence Skills 44,Reading Comprehension 40\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,Reading Comprehension 39\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,Elementary Algebra 41,Sentence Skills 82\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,Sentence Skills 104,Elementary Algebra 82\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,Sentence Skills 85\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,Elementary Algebra 51\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,Reading Comprehension 71,Sentence Skills 54,Elementary Algebra 33\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,Reading Comprehension 70,Elementary Algebra 23,Arithmetic 42,Sentence Skills 75\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,Sentence Skills 96,Reading Comprehension 88\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,Elementary Algebra 53,Sentence Skills 97\n</code></pre>\n\n<p>The first 5 columns are always the same, the last 5 columns are always in a different order. I need to keep the first 5 columns the same and reorder the last 5 columns to always be in the following order Reading Comprehension,Sentence Skills,Arithmetic,College Level Math,Elementary Algebra</p>\n\n<p>If one of the strings doesnt exist add a comma</p>\n\n<p>So the end result would look like this:</p>\n\n<pre><code>Last,First,A00XXXXXX,1492-12-03,2015-06-23,Reading Comprehension 59,Sentence Skills 67,,,Elementary Algebra 41\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,Reading Comprehension 40,Sentence Skills 44,,,\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,Reading Comprehension 39,,,,\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,,Sentence Skills 82,,,Elementary Algebra 41\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,,Sentence Skills 104,,,Elementary Algebra 82\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,,Sentence Skills 85,,,\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,,,,,Elementary Algebra 51\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,Reading Comprehension 71,Sentence Skills 54,,,Elementary Algebra 33\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,Reading Comprehension 70,Sentence Skills 75,Arithmetic 42,,Elementary Algebra 23\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,Reading Comprehension 88,Sentence Skills 96,,,\nLast,First,A00XXXXXX,1492-12-03,2015-06-23,,Sentence Skills 97,,,Elementary Algebra 53\n</code></pre>\n\n<p>If they were always in the same order i could do something like this:</p>\n\n<pre><code>awk -F, -v OFS=, '!/Reading Comprehension/ { $5 = $5 \",\" } 1'\n</code></pre>\n\n<p>and if they were always at least in the same columns together i could just do a </p>\n\n<pre><code>awk {print $1,$2,$3,$4,$5,$7,$8,$6,$9,$10}\n</code></pre>\n\n<p>but each row being in a different order and having a number variable at the end as thrown me for a loop.</p>\n\n<p>I would like to do this with AWK, but i am open to anything at this point.</p>\n\n<p>logically speaking i think i need to do something like: j = Reading*, i = Sentence*, k = Arithmetic *, l = College *, m = Elementary *</p>\n\n<p>then awk {print $6j,$7i,$8k,$9l,$10m}</p>\n\n<p>But my googling has return miminal results. so even if the comment is look here or look for this or check out this answer...that would be greatly appreciated</p>\n\n<p>note: I did my best to make sure the input and output are correct. I have posted another question similar to this, but that was when columns were always in the same order. so this is a different request.</p>\n"}, {"tags": ["perl", "backticks"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1435086237, "last_edit_date": 1435086237, "creation_date": 1435085919, "answer_id": 31011227, "question_id": 31011108, "link": "https://stackoverflow.com/questions/31011108/perl-backtick-ignores-everything-past-the-first-space/31011227#31011227", "title": "Perl backtick ignores everything past the first space", "body": "<p>Perl's not ignoring the command parameters, it's just mentioning only the part of the command that it has a problem with -- it can't find <code>somecommand</code></p>\n\n<p>Whatever your <code>somecommand</code> is, it's not a shell command and it's not in a directory listed in your <code>PATH</code> variable</p>\n\n<p>Change <code>PATH</code> to add its location to the end and it will work for you. You can do that system-wide or you dan modify it temporarily in your Perl code by manipulating <code>$ENV{PATH}</code> before you run the command</p>\n"}], "owner": {"reputation": 17, "user_id": 1128845, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a647ca9c33f8d222cb0fd9f1490be5b5?s=128&d=identicon&r=PG", "display_name": "Todd Iglehart", "link": "https://stackoverflow.com/users/1128845/todd-iglehart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1435086237, "creation_date": 1435085459, "last_edit_date": 1435085813, "question_id": 31011108, "link": "https://stackoverflow.com/questions/31011108/perl-backtick-ignores-everything-past-the-first-space", "title": "Perl backtick ignores everything past the first space", "body": "<p>I have a command</p>\n\n<pre><code>my $output = `somecommand parm1 parm2`;\n</code></pre>\n\n<p>When I try to run this Perl script I get the message</p>\n\n<pre><code>Can't exec \"somecommand\" at .....\n</code></pre>\n\n<p>It seems it is not seeing anything past the first space in between the backticks. I have a friend who runs this in a different environment and it runs fine.</p>\n\n<p>What could I have in my environment that would cause this? I am running Perl v5.20 but so is my friend.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1891, "user_id": 493085, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/8c86b10df9af9c4bd40e5ba762db7f00?s=128&d=identicon&r=PG", "display_name": "Nate", "link": "https://stackoverflow.com/users/493085/nate"}, "edited": false, "score": 1, "creation_date": 1435084670, "post_id": 31010764, "comment_id": 50048510, "body": "Is your data file created in Windows? Windows line separators use <code>\\r\\n</code>"}, {"owner": {"reputation": 1891, "user_id": 493085, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/8c86b10df9af9c4bd40e5ba762db7f00?s=128&d=identicon&r=PG", "display_name": "Nate", "link": "https://stackoverflow.com/users/493085/nate"}, "edited": false, "score": 1, "creation_date": 1435085080, "post_id": 31010764, "comment_id": 50048745, "body": "Chomp removes the current input record separator, not the last character. The separator can be set by setting perl variable <code>$&#47; </code>"}, {"owner": {"reputation": 59, "user_id": 4309550, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-E3onOb69xc4/AAAAAAAAAAI/AAAAAAAACJk/hcgg9DNZXYA/photo.jpg?sz=128", "display_name": "David Ma", "link": "https://stackoverflow.com/users/4309550/david-ma"}, "reply_to_user": {"reputation": 1891, "user_id": 493085, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/8c86b10df9af9c4bd40e5ba762db7f00?s=128&d=identicon&r=PG", "display_name": "Nate", "link": "https://stackoverflow.com/users/493085/nate"}, "edited": false, "score": 0, "creation_date": 1435085288, "post_id": 31010764, "comment_id": 50048892, "body": "@Nate Thank you thank you thank you! The file was generated through entering in a textbox on my website which uses fwrite in PHP. DId not expect that it utilized \\r\\n. After altering the regex expression it worked perfectly."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435085553, "post_id": 31011102, "comment_id": 50049044, "body": "What <code>rtrim</code> function?"}, {"owner": {"reputation": 1193, "user_id": 1347817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded00eca8a936bc0cd1fd8d82fbb2752?s=128&d=identicon&r=PG", "display_name": "mmccaff", "link": "https://stackoverflow.com/users/1347817/mmccaff"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435085763, "post_id": 31011102, "comment_id": 50049175, "body": "Thanks @Borodin, edited to remove that last suggestion. Mixed up my perl and php."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435086051, "post_id": 31011102, "comment_id": 50049356, "body": "Okay. The <a href=\"https://metacpan.org/pod/Text::Trim\" rel=\"nofollow noreferrer\"><code>Text::Trim</code></a> module has an <code>rtrim</code> function and I assumed that that was what you meant. I was trying to say that you should cite the module. All it does is the <code>s&#47;\\s+\\z&#47;&#47;</code> that I recommended myself"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435104061, "post_id": 31011102, "comment_id": 50057419, "body": "Also, if you&#39;re running version 10 or better of Perl 5 then you can use the <code>\\R</code> regex pattern. It matches anything classified as vertical whitespace in Unicode (LF, VT, FF, or CR) or the two-characters CR LF. That means <code>s&#47;\\R\\z&#47;&#47;</code> will &quot;chomp&quot; a record with Linux, Windows (network), or old-style Mac OS line endings equally well"}], "tags": [], "owner": {"reputation": 1193, "user_id": 1347817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded00eca8a936bc0cd1fd8d82fbb2752?s=128&d=identicon&r=PG", "display_name": "mmccaff", "link": "https://stackoverflow.com/users/1347817/mmccaff"}, "is_accepted": false, "score": 1, "last_activity_date": 1435085735, "last_edit_date": 1435085735, "creation_date": 1435085444, "answer_id": 31011102, "question_id": 31010764, "link": "https://stackoverflow.com/questions/31010764/extra-unexpected-characters-perl/31011102#31011102", "title": "Extra unexpected characters Perl", "body": "<p>Try replacing your substitution and chomp with just this:</p>\n\n<pre><code>$_ =~ s/\\r?\\n//;\n</code></pre>\n\n<p>This should substitute either \\n or \\r\\n with nothing. You could also consider removing all trailing whitespace like this:</p>\n\n<pre><code>$_ =~ s/\\s+$//;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1435085452, "creation_date": 1435085452, "answer_id": 31011106, "question_id": 31010764, "link": "https://stackoverflow.com/questions/31010764/extra-unexpected-characters-perl/31011106#31011106", "title": "Extra unexpected characters Perl", "body": "<p>I suspect that you are processing a Windows text file on a foreign platform. You would see those symptoms because Windows text files have the two-character sequence CR LF as line terminators. I imagine there is no newline at the end of your last line</p>\n\n<p>This program will read all of your file into array <code>@go_data</code> and remove all trailing white space from every element, which includes CR and LF as well as spaces and tabs</p>\n\n<p>Note that you shouldn't use <code>our</code>, or put capital letters in local identifiers unless you have a very good reason</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy ($go_file) = @ARGV;\n\nopen my $go_fh, '&lt;', \"GOTempUpload/$go_file\"\n    or die qq{Unable to open \"$go_file\" for input: $!};\n\nmy  @go_data = &lt;$go_fh&gt;;\ns/\\s+\\z// for @go_data;\n\nclose $go_fh;\n\nsay length for @go_data;\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4309550, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-E3onOb69xc4/AAAAAAAAAAI/AAAAAAAACJk/hcgg9DNZXYA/photo.jpg?sz=128", "display_name": "David Ma", "link": "https://stackoverflow.com/users/4309550/david-ma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 31011106, "answer_count": 2, "score": 1, "last_activity_date": 1435085735, "creation_date": 1435084356, "last_edit_date": 1435085063, "question_id": 31010764, "link": "https://stackoverflow.com/questions/31010764/extra-unexpected-characters-perl", "title": "Extra unexpected characters Perl", "body": "<p>I'm reading a text file with multiple terms that are separated by newlines. For sample's sake, the two terms I have in the test file are</p>\n\n<pre><code>GO:0007161\nGO:0061302\n</code></pre>\n\n<p>again separated by newline.</p>\n\n<p>I read the file in and tried multiple things to get rid of the extra line: </p>\n\n<pre><code>our @GOTOSdata; \nopen (GOTOS, \"GOTempUpload/$ARGV[0]\"); #or die (\"Cannot open GOTreeOrderSearch file for read\"); # read each eid from gene set into array to check if in dbfile\nwhile (&lt;GOTOS&gt;) {\n    $_ =~ y/\\n//d;\n    chomp ($_);\n    push (@GOTOSdata, $_);\n}\nclose (GOTOS);\nchomp (@GOTOSdata);\n</code></pre>\n\n<p>I tried using both <code>chomp</code> and the regex expression to get rid of the newlines, but when I do <code>length($GOTOSdata[0])</code> and <code>length($GOTOSdata[1])</code>, the first element has the unexpected length of 11 (when it should be 10), and the second element has the expected length of 10.</p>\n\n<p>If I input more <code>GO</code> terms, similar things happen: the last term is correct with 10 characters, but everything else is at 11. </p>\n\n<p>How do I make sure that the string does not have anything else besides what is entered?</p>\n"}, {"tags": ["perl", "unit-testing", "module-build"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1435082243, "post_id": 31010025, "comment_id": 50047098, "body": "<code>perl -Mblib t&#47;test.t</code> would be more representative."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1435082274, "post_id": 31010025, "comment_id": 50047123, "body": "Did you run <code>.&#47;Build</code> before <code>.&#47;Build test</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1435082330, "post_id": 31010025, "comment_id": 50047152, "body": "@Hunter McMillen, Isn&#39;t the former included in the latter."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1435082377, "post_id": 31010025, "comment_id": 50047186, "body": "@ikegami I would expect that, but I don&#39;t see any mention of it in the documentation. Haven&#39;t looked at the source yet."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1435087311, "post_id": 31010025, "comment_id": 50050142, "body": "Tip: Authen::Krb5 should be listed as a prereq."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1435087875, "post_id": 31010025, "comment_id": 50050472, "body": "The direct problem is that Authen::Krb5 is trying to link to symbol <code>krb5_free_krbhst</code> in <code>libk5crypto</code> or <code>libcrypto</code>, but it can&#39;t find it for some reason. It&#39;s really wonky that it happens only some circumstances, and might requires extensive debugging. My best guess is a change in environment. Add <code>BEGIN { warn &quot;$_: $ENV{$_}\\n&quot; for sort keys %ENV }</code> before any <code>use</code> statements in <code>test.t</code> and run it both ways."}], "owner": {"reputation": 6220, "user_id": 268847, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2685d5bc8e51e598fcd291189c340f63?s=128&d=identicon&r=PG", "display_name": "rlandster", "link": "https://stackoverflow.com/users/268847/rlandster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435869771, "creation_date": 1435082091, "last_edit_date": 1435869771, "question_id": 31010025, "link": "https://stackoverflow.com/questions/31010025/perl-modulebuild-test-run-cannot-find-dynamically-loaded-module", "title": "Perl Module::Build test run cannot find dynamically loaded module", "body": "<p>I am building a Perl module using <code>Module::Build</code>. The <code>Build.PL</code> file is below:</p>\n\n<pre><code>use strict ;\nuse warnings ;\n\nuse Module::Build;\nmy $build = Module::Build-&gt;new\n(\n    module_name =&gt; 'Company::LDAP::SyncAttr',\n    license     =&gt; 'perl',\n    installdirs  =&gt; 'vendor',\n    install_path =&gt; {\n                      'bin'    =&gt; '/usr/bin',\n                      'script' =&gt; '/usr/bin'\n                    },\n) ;\n\n$build-&gt;create_build_script ;\n</code></pre>\n\n<p>The module itself is here:</p>\n\n<pre><code># SyncAttr.pm\npackage Company::LDAP::SyncAttr;\nuse Authen::Krb5;\n1;\n</code></pre>\n\n<p>I have a test file in <code>t/test.t</code> that looks like this:</p>\n\n<pre><code># test.t\nuse Company::LDAP::SyncAttr;\n</code></pre>\n\n<p>When I run <code>./Build test</code> I get this error:</p>\n\n<pre><code>t/test.t .. Can't load '/usr/lib/x86_64-linux-gnu/perl5/5.20/auto/Authen/Krb5/Krb5.so' for module Authen::Krb5: /usr/lib/x86_64-linux-gnu/perl5/5.20/auto/Authen/Krb5/Krb5.so: \nundefined symbol: krb5_free_krbhst at /usr/lib/x86_64-linux-gnu/perl/5.20/DynaLoader.pm line 187.\n at /tmp/gg/blib/lib/Company/LDAP/SyncAttr.pm line 3.\nCompilation failed in require at /tmp/gg/blib/lib/Company/LDAP/SyncAttr.pm line 3.\n</code></pre>\n\n<p>If I run the test.t file <em>directly</em>, I get no such error:</p>\n\n<pre><code>perl -Ilib/ t/test.t\n</code></pre>\n\n<p>What do I have to do to get <code>./Build test</code> to not error out?</p>\n\n<p><strong>UPDATE</strong>: The problem lies with Module::Build. There is a routine <code>do_tests</code> in the <code>Module::Build::Base</code> module that <em>forces</em> the environment variable <code>PERL_DL_NONLAZY</code> to 1. If I change that line to set <code>PERL_DL_NONLAZY</code> to 0, then the tests all pass. The module <code>Module::Build::Base</code> does not provide an option to not set <code>PERL_DL_NONLAZY</code>, so I have submitted a bug report asking them add such an option. In the meantime, I will just have to skip running <code>./Build test</code>.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "is_accepted": false, "score": 2, "last_activity_date": 1435080753, "creation_date": 1435080753, "answer_id": 31009583, "question_id": 31009539, "link": "https://stackoverflow.com/questions/31009539/simple-perl-regular-expression-doesnt-seem-to-work/31009583#31009583", "title": "simple perl regular expression doesn&#39;t seem to work", "body": "<p>The syntax for regex is <code>=~</code> not <code>~=</code> so try</p>\n\n<pre><code>if($line =~ /fred/i) {\n    print \"$line mentions fred.\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 4534304, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62ca49bd78c5eb8c320fc0c657a6f188?s=128&d=identicon&r=PG&f=1", "display_name": "Cosi", "link": "https://stackoverflow.com/users/4534304/cosi"}, "edited": false, "score": 0, "creation_date": 1435087001, "post_id": 31009584, "comment_id": 50049914, "body": "Thank you guys.  That was it!"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 8, "last_activity_date": 1435080755, "creation_date": 1435080755, "answer_id": 31009584, "question_id": 31009539, "link": "https://stackoverflow.com/questions/31009539/simple-perl-regular-expression-doesnt-seem-to-work/31009584#31009584", "title": "simple perl regular expression doesn&#39;t seem to work", "body": "<p>The match operator(<a href=\"http://perldoc.perl.org/perlop.html#Binding-Operators\"><code>=~</code></a>) has the tilde on the right-hand side, not the left:</p>\n\n<pre><code>if ($line ~= /(fred)/i) {\n</code></pre>\n\n<p>should be: </p>\n\n<pre><code>if ($line =~ /(fred)/i) {\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4021, "user_id": 3360759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ndket.png?s=128&g=1", "display_name": "frhack", "link": "https://stackoverflow.com/users/3360759/frhack"}, "is_accepted": false, "score": 0, "last_activity_date": 1435080773, "creation_date": 1435080773, "answer_id": 31009593, "question_id": 31009539, "link": "https://stackoverflow.com/questions/31009539/simple-perl-regular-expression-doesnt-seem-to-work/31009593#31009593", "title": "simple perl regular expression doesn&#39;t seem to work", "body": "<p>The problem is this:</p>\n\n<p>The operator is =~ and not ~=</p>\n"}], "owner": {"reputation": 65, "user_id": 4534304, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62ca49bd78c5eb8c320fc0c657a6f188?s=128&d=identicon&r=PG&f=1", "display_name": "Cosi", "link": "https://stackoverflow.com/users/4534304/cosi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 31009584, "answer_count": 3, "score": 1, "last_activity_date": 1435080773, "creation_date": 1435080580, "last_edit_date": 1435080601, "question_id": 31009539, "link": "https://stackoverflow.com/questions/31009539/simple-perl-regular-expression-doesnt-seem-to-work", "title": "simple perl regular expression doesn&#39;t seem to work", "body": "<p>Perl newb here.  I don't understand why the code below isn't working:</p>\n\n<pre><code>use strict;\n\nmy $file = shift;\nopen(FRED,'&lt;',$file);\nwhile (my $line = &lt;FRED&gt;) {\n    if ($line ~= /(fred)/i) {\n    print(\"$line mentions fred.\\n\");\n    }\n}\n</code></pre>\n\n<p>I keep getting the following errors:</p>\n\n<pre><code>syntax error at ./regex2.pl line 11, near \"$line ~\"\n\nsyntax error at ./regex2.pl line 14, near \"}\"\n</code></pre>\n\n<p>Execution of ./regex.pl aborted due to compilation errors.</p>\n"}, {"tags": ["windows", "apache", "perl", "mod-perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435092704, "post_id": 31009297, "comment_id": 50053270, "body": "Are you really saying that half a second is too slow for a response to a web browser? The advantage of <code>mod_perl</code> is that it keeps a Perl interpreter running continuously and calls your scripts as subroutines, removing the startup and compilation delay for each web query. If your analysis of the problem is correct then I think it (or FastCGI) is precisely what you need. <a href=\"https://perl.apache.org/docs/2.0/os/win32/install.html\" rel=\"nofollow noreferrer\">This page</a> describes how to install mod_perl"}, {"owner": {"reputation": 872, "user_id": 2954389, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cb2d03cb6f92d41f33511911a5c47f1e?s=128&d=identicon&r=PG&f=1", "display_name": "robisrob", "link": "https://stackoverflow.com/users/2954389/robisrob"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435164001, "post_id": 31009297, "comment_id": 50088966, "body": "For the nature of these apps a half second is painfully slow.  For instance one of the apps presents test data - typical usage involves scrolling through entries rapidly and looking at the queried results for patterns and anomalies before approving the data.  The desktop app that the web app replaces does this instantaneously using direct file access which was messy but very fast.  This is a far superior solution but the latency is horrible now that we&#39;re used to the previous speed."}, {"owner": {"reputation": 872, "user_id": 2954389, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cb2d03cb6f92d41f33511911a5c47f1e?s=128&d=identicon&r=PG&f=1", "display_name": "robisrob", "link": "https://stackoverflow.com/users/2954389/robisrob"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435165012, "post_id": 31009297, "comment_id": 50089599, "body": "Borodin the site you shared uses to the defunct server I mentioned in the question"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435165847, "post_id": 31009297, "comment_id": 50090134, "body": "If you need something better than 400ms per transaction then your choice shouldn&#39;t have been a simple web app. It sounds very much like the basic design is wrong, and trying to find ways of reducing the consequences of a poor design isn&#39;t the right way to go about things. You say you&#39;re not a software developer and not in the loop on standard practice. That means it&#39;s not your job to ask this question"}, {"owner": {"reputation": 872, "user_id": 2954389, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cb2d03cb6f92d41f33511911a5c47f1e?s=128&d=identicon&r=PG&f=1", "display_name": "robisrob", "link": "https://stackoverflow.com/users/2954389/robisrob"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435166166, "post_id": 31009297, "comment_id": 50090348, "body": "Don&#39;t be so sure Borodin.  We are a very small hardware company that has no foot in software development and I&#39;m the best thing we&#39;ve got.  I&#39;ve already advanced our capabilities significantly with my hackery and I know for certain I can get us the rest of the way there.  So please save the condescension and move on if you can&#39;t help"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435168216, "post_id": 31009297, "comment_id": 50091601, "body": "The more you tell me the more scary this sounds"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435168782, "post_id": 31009297, "comment_id": 50091973, "body": "You should at least consider sending XHR (XMLHttpRequest) messages to avoid updating the web page every time the data changes"}, {"owner": {"reputation": 872, "user_id": 2954389, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cb2d03cb6f92d41f33511911a5c47f1e?s=128&d=identicon&r=PG&f=1", "display_name": "robisrob", "link": "https://stackoverflow.com/users/2954389/robisrob"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435169424, "post_id": 31009297, "comment_id": 50092314, "body": "I believe this is what $.getJSON is.  The page is not reloaded.  Otherwise the half second delay wouldn&#39;t be so noticeable.  And you are right this place is scary"}, {"owner": {"reputation": 4718, "user_id": 660524, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NzGjo.png?s=128&g=1", "display_name": "Alex Tokarev", "link": "https://stackoverflow.com/users/660524/alex-tokarev"}, "edited": false, "score": 0, "creation_date": 1435387707, "post_id": 31009297, "comment_id": 50189319, "body": "@robisrob Is it really necessary to use Windows? I think it should be much easier to build Apache/mod_perl/DBD::mysql in Linux, and managing a virtual machine is no big deal."}], "answers": [{"tags": [], "owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "is_accepted": false, "score": 1, "last_activity_date": 1435082675, "creation_date": 1435082675, "answer_id": 31010202, "question_id": 31009297, "link": "https://stackoverflow.com/questions/31009297/is-mod-perl-what-im-looking-for-fastcgi-psgi-plack/31010202#31010202", "title": "Is mod_perl what I&#39;m looking for? FastCGI? PSGI/Plack?", "body": "<p>It's been an eternity since I've installed mod_perl on Windows so I'm not sure I can help you with that. </p>\n\n<p>But your understanding that FastCGI \"deals mostly with high traffic\" is not correct. Both FastCGI and mod_perl will offer very similar performance benefits, because both will execute your scripts with a persistent interpreter\u2013eliminating the overhead of starting up perl and compiling your code on each request. Therefore, there is no reason not to give FastCGI a shot. </p>\n\n<p>You might want to look at the PSGI/Plack API which allows you to write code agnostically that can run under vanilla CGI, FastCGI, mod_perl, or with a PSGI-aware server such as Starman, or uwsgi. All of these except for vanilla CGI offer a persistent environment that will reduce the overhead of executing your scripts.</p>\n"}, {"comments": [{"owner": {"reputation": 872, "user_id": 2954389, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cb2d03cb6f92d41f33511911a5c47f1e?s=128&d=identicon&r=PG&f=1", "display_name": "robisrob", "link": "https://stackoverflow.com/users/2954389/robisrob"}, "edited": false, "score": 0, "creation_date": 1435164698, "post_id": 31010803, "comment_id": 50089399, "body": "this is exactly the type of direction I was looking for.  I think I will focus on fastCGI.  I am not a software developer, I am not in the loop on what is &quot;standard&quot; practice, and don&#39;t have a ton of time to spend of these things which are basically ad hoc solutions for a very small company with a foot still decades in the past.  While scoffing at our use of xp consider that this system replaces a foxpro database running in a DOS window that can&#39;t be used in win7.  One of the apps actually replaces basic code that ran on a 1970s HP computer with a 1-line LED display"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 872, "user_id": 2954389, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cb2d03cb6f92d41f33511911a5c47f1e?s=128&d=identicon&r=PG&f=1", "display_name": "robisrob", "link": "https://stackoverflow.com/users/2954389/robisrob"}, "edited": false, "score": 0, "creation_date": 1435166447, "post_id": 31010803, "comment_id": 50090526, "body": "@robisrob Please don&#39;t misunderstand my concern about the use of an OS that has been unsupported for over a year as a web server.  Protecting an obsolete OS from compromise is not a trivial task.  Even if you put in firewall rules to protect it from a direct connection from the big bad world, you still need to worry about the clients who are <i>supposed</i> to be running your service inviting in something unpleasant.  In the end, an OS (and hardware?) upgrade will likely be less expensive.  Of course this may require reeducating a 1970s era PHB."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 6, "last_activity_date": 1435153061, "last_edit_date": 1435153061, "creation_date": 1435084475, "answer_id": 31010803, "question_id": 31009297, "link": "https://stackoverflow.com/questions/31009297/is-mod-perl-what-im-looking-for-fastcgi-psgi-plack/31010803#31010803", "title": "Is mod_perl what I&#39;m looking for? FastCGI? PSGI/Plack?", "body": "<blockquote>\n  <p>Is mod_perl even what I'm looking for?</p>\n</blockquote>\n\n<p>I hope not.</p>\n\n<p>There are issues with <code>mod_perl</code>.  Your <code>Apache</code>, <code>mod_perl</code> and <code>perl</code> need to all be built with compatible compilers and architectures so they can all be linked at run time.  There will be no running of a 32bit Apache with a 64bit perl when you are using mod_perl.  In my experience <code>mod_perl</code> should also be compiled against header files for your <em>specific versions</em> of both <code>Apache</code> and <code>perl</code>.  Presuming you get all this secret sauce mixed up correctly, you are now running a web server that can be crashed by a poorly written perl script.  But on the bright side, this <em>is</em> more efficient than common CGI.</p>\n\n<p><strong>After a few years of this madness, FastCGI was invented.</strong>  By running as a persistent, but separate, process, the web server was able to achieve mod_perl (or mod_PHP, or mod_python) efficiency without the need for binary compatibility or the stability risks.  Just think of the freedom!  An Apache module that cares only about binary compatability with it's Apache host and can farm out tasks to Perl, Python, C or even Visual Basic.  ( I just had an evil thought about trying to do web services with Forth or Lisp, but that would just be crazy.)</p>\n\n<p>Running on a linux distro (or other canned XAMPP stack) can make setup <em>and maintenance</em> of mod_perl easier because they will distribute it in a package that has been compiled to work with the packages they supply of both Apache &amp; perl.  Unfortunately if you want to run with a version of Apache or perl that is not \"official\" to your distro, get ready to DIY.  Even so, a distro's packages do not mitigate the stability issues inherent in running mod_(language-of-choice).</p>\n\n<hr>\n\n<p>In any case, before you're up and running in your new configuration, your existing CGI scripts will need to be modified.  You can choose to rewrite them to mod_perl, FastCGI, or PSGI/Plack standards.  If you choose to rewrite to PSGI/Plack standards, then you can care much less about the specifics of your web server's current or future configuration.</p>\n\n<blockquote>\n  <p>How do you install it in a post Randy Kobes world?</p>\n</blockquote>\n\n<p>The last link in your question appears to be spot on.  Do you have a religious or <a href=\"https://en.wikipedia.org/wiki/Pointy-Haired_Boss\" rel=\"nofollow\">PHB</a> based reason to prefer ActivePerl over StrawberryPerl?  In the end, mod_perl <em>requires</em> that it be built against your <em>specific version</em> of Apache and your <em>specific version</em> of perl.  This will either involve compiling it yourself, somebody else wrapping up versions for multiple Apache/perl version combos, or somebody else wrapping up a single version and asking you to use their preferred versions of Apache &amp; perl.</p>\n\n<p>If you choose the mod_perl route and believe even slightly that server software should be kept up to date (XP?  Seriously?), then be prepared to either roll your own or trust your 3rd party to keep you up to date.  Of course, if you're a hit-and-run developer, well that frees up your choices considerably...</p>\n\n<hr>\n\n<p><strong>tl-dr</strong>:</p>\n\n<p>FastCGI is your friend.  Particularly if you are running Windows and like to keep server software up to date.</p>\n\n<p>mod_perl works best when supported by a responsible distro or a responsible developer who is comfortable building it from it's source.  ...repeatedly.</p>\n"}], "owner": {"reputation": 872, "user_id": 2954389, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cb2d03cb6f92d41f33511911a5c47f1e?s=128&d=identicon&r=PG&f=1", "display_name": "robisrob", "link": "https://stackoverflow.com/users/2954389/robisrob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1435165919, "creation_date": 1435079817, "last_edit_date": 1435165919, "question_id": 31009297, "link": "https://stackoverflow.com/questions/31009297/is-mod-perl-what-im-looking-for-fastcgi-psgi-plack", "title": "Is mod_perl what I&#39;m looking for? FastCGI? PSGI/Plack?", "body": "<p>I have exhausted my ability to find answers on the web for this one. I'm trying to install mod_perl on windows and there are many dead ends.</p>\n\n<ol>\n<li><h3>Is mod_perl even what I'm looking for?***</h3>\n\n<p>I have a collection of web apps used within my company's local network for database and file system interface. The web server runs Apache 2.2 and ActivePerl 5.16 using <code>DBI</code>, <code>DBD::mysql</code>, and <code>CGI</code>. The clients get their dynamic content via AJAX calls (<code>jQuery.getJSON</code>) to the Perl scripts using CGI parameters. The traffic is extremely light - only 4 or so users and only a few queries at a time here and there.</p>\n\n<p>The issue I'm having is that the latency is unacceptable for the nature of these apps. The delay is typically around 400ms, all waiting time. I have experimented with increasingly simplistic Perl scripts and believe all of the delay is the Perl interpreter. I've looked into FastCGI but as I understand this deals mostly with high traffic which is not my problem: it's the overhead of each low-traffic call. So it seems like an Apache-embedded Perl interpreter (as I understand mod_perl to be) would solve my overhead-related latency issues.</p></li>\n<li><h3>How do you install it in a post Randy Kobes world?</h3>\n\n<p>All resources I've found for installing mod_perl for my setup involve a server <code>theory5x.uwinnipeg.ca</code> formerly run by him and now defunct after his passing. ActivePerl ppm does not have any mod_perl built in packages and <a href=\"https://code.activestate.com/ppm/mod_perl/\" rel=\"noreferrer\">the website</a> shows all <em>build failed</em> listings.</p></li>\n</ol>\n\n<p><a href=\"https://community.activestate.com/node/8629\" rel=\"noreferrer\">Here</a> is an ActiveState community post explaining why there is no ppm.</p>\n\n<p>I did find <a href=\"http://www.aptest.com/atm2/documentation/latest/readme/apache-windows.html\" rel=\"noreferrer\">this resource</a> that seems to have all the missing pieces but for Strawberry Perl.</p>\n\n<p>So I'm left to think the only way to do this is to install from source, but I have no understanding of how to do this. I have zero familiarity with Linux and it seems like most of this stuff is geared toward it. Worse yet I have a 64-bit Windows XP and a Windows Server to install it on.</p>\n\n<p>The other thing that crossed my mind is maybe I need to install some kind of distribution like XAMPP instead of putting together all the pieces myself. I'd be quite nervous to change course now and risk breaking my working but slow apps</p>\n"}, {"tags": ["javascript", "json", "angularjs", "perl"], "comments": [{"owner": {"reputation": 862, "user_id": 3586150, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1f0969599955a953e592034929ed7a23?s=128&d=identicon&r=PG", "display_name": "Neil H Watson", "link": "https://stackoverflow.com/users/3586150/neil-h-watson"}, "edited": false, "score": 2, "creation_date": 1435080060, "post_id": 31009227, "comment_id": 50045726, "body": "Where&#39;s your error checking? See: <a href=\"http://search.cpan.org/~leejo/CGI-4.21/lib/CGI.pod#Retrieving_cgi_errors\" rel=\"nofollow noreferrer\">search.cpan.org/~leejo/CGI-4.21/lib/&hellip;</a> And who still uses CGI?"}, {"owner": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "reply_to_user": {"reputation": 862, "user_id": 3586150, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1f0969599955a953e592034929ed7a23?s=128&d=identicon&r=PG", "display_name": "Neil H Watson", "link": "https://stackoverflow.com/users/3586150/neil-h-watson"}, "edited": false, "score": 0, "creation_date": 1435080465, "post_id": 31009227, "comment_id": 50045961, "body": "@NeilHWatson what is the alternative of CGI."}, {"owner": {"reputation": 862, "user_id": 3586150, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1f0969599955a953e592034929ed7a23?s=128&d=identicon&r=PG", "display_name": "Neil H Watson", "link": "https://stackoverflow.com/users/3586150/neil-h-watson"}, "edited": false, "score": 0, "creation_date": 1435080670, "post_id": 31009227, "comment_id": 50046107, "body": "Frameworks are the expected web tools. Mojolicious (my favourite), Dancer, and Catalyst are the big Perl ones."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1435082190, "post_id": 31009227, "comment_id": 50047067, "body": "@DeveshAgrawal See <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\"><code>CGI::Alternatives</code></a>"}], "owner": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1082, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435079584, "creation_date": 1435079584, "question_id": 31009227, "link": "https://stackoverflow.com/questions/31009227/how-to-send-json-data-to-cgi-perl-script-in-angularjs-and-read-back-in-perl", "title": "How to send JSON data to CGI Perl Script in AngularJS and read back in Perl", "body": "<p>I am using the following code for sending JSON Data to perl script.</p>\n\n<pre><code>ProductService.AddNewProduct = function(NewProduct)  {\n\n    var ProductData = {};\n    ProductData = NewProduct;\n    ProductData = JSON.stringify(ProductData);\n    alert (ProductData);\n\n    var req = {\n        method: 'POST',\n        url: \"cgi-bin/AddNewProduct2.pl\",\n        params: { NewProduct: ProductData }\n    };\n\n    $http(req).success(function()\n    {\n        alert ('New Product Added!');\n    })\n    .error(function()\n    {\n        alert ('New Product Add Error!');\n    });\n\n}\n</code></pre>\n\n<p>The alert is alerting this data.</p>\n\n<pre><code>{\"ProductID\":873,\"ProductName\":\"sds\",\"ProductImagePath\":\"/images/adidas/873.png\",\"SubCategoryID\":\"153\",\"SubCategoryName\":\"Cream Biscuits\",\"BrandID\":\"162\",\"BrandName\":\"Adidas\",\"Variants\":[]}\n</code></pre>\n\n<p>In perl script trying to get this data as follow:</p>\n\n<pre><code>my $cgi = CGI-&gt;new();\nmy $DecodedData = decode_json($cgi-&gt;param(\"NewProduct\"));\n\nmy $product_id = $DecodedData-&gt;{'ProductID'};\nmy $product_name = $DecodedData-&gt;{'ProductName'};\nmy $product_description = 'Desc';\nmy $image_path = $DecodedData-&gt;{'ProductImagePath'};\nmy $brand_id = $DecodedData-&gt;{'BrandID'};\nmy $subcatty_id = $DecodedData-&gt;{'SubCategoryID'}; \n</code></pre>\n\n<p>But none of the Perl variables are getting filled with data. </p>\n\n<p>What is the issue? Can please someone help me.</p>\n"}, {"tags": ["regex", "bash", "perl"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 1, "creation_date": 1435077526, "post_id": 31008453, "comment_id": 50044209, "body": "The discussion and answers on <a href=\"https://stackoverflow.com/questions/29613304/is-it-possible-to-escape-regex-metacharacters-reliably-with-sed\" title=\"is it possible to escape regex metacharacters reliably with sed\">stackoverflow.com/questions/29613304/&hellip;</a> might be of use here. Assigning the string to a perl variable and then using that variable might also work better."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 1, "creation_date": 1435077906, "post_id": 31008453, "comment_id": 50044416, "body": "You could always just use the program arguments. But the fancier perl quoting methods can probably fairly safely quote an arbitrary string (though I don&#39;t know what those are offhand)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1435088475, "post_id": 31008453, "comment_id": 50050839, "body": "Can <code>###matchingchars</code> contain a newline? If not, I don&#39;t see why you used <code>-0777</code>."}], "answers": [{"tags": [], "owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "is_accepted": false, "score": 1, "last_activity_date": 1435078400, "creation_date": 1435078400, "answer_id": 31008855, "question_id": 31008453, "link": "https://stackoverflow.com/questions/31008453/replace-a-string-with-another-string-could-have-any-strange-chars/31008855#31008855", "title": "Replace a string with another string (could have any strange chars)", "body": "<p>Thanks to Etan, I've found a workaround, I set the variable up, and then use it within Perl like the following...</p>\n\n<pre><code>replacement=STRING_FROM_BASH perl -0777 -i.original -pe 's/###matchingchars/$ENV{replacement}/igs' myfile\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "edited": false, "score": 0, "creation_date": 1435078735, "post_id": 31008858, "comment_id": 50044937, "body": "Super, I had found another solution, but this works fine and feels a bit nicer, so will switch to this."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "edited": false, "score": 0, "creation_date": 1435078790, "post_id": 31008858, "comment_id": 50044973, "body": "@Ian <code>%ENV</code> is actually better solution. :)"}, {"owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "edited": false, "score": 0, "creation_date": 1435078824, "post_id": 31008858, "comment_id": 50044997, "body": "Ok, thanks, can I just ask, where I could read about the pop thing ?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "edited": false, "score": 1, "creation_date": 1435078906, "post_id": 31008858, "comment_id": 50045048, "body": "@Ian without arguments it operates on <code>@ARGV</code> or <code>@_</code> inside subroutine. <a href=\"http://perldoc.perl.org/functions/pop.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/pop.html</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1435088214, "post_id": 31008858, "comment_id": 50050675, "body": "Placing the string first and using <code>shift</code> would make far more sense. It&#39;s tradition to place the opened ended list of files last."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1435088384, "last_edit_date": 1435088384, "creation_date": 1435078408, "answer_id": 31008858, "question_id": 31008453, "link": "https://stackoverflow.com/questions/31008453/replace-a-string-with-another-string-could-have-any-strange-chars/31008858#31008858", "title": "Replace a string with another string (could have any strange chars)", "body": "<p>Don't try to generate Perl code from the shell.</p>\n\n<p>You can pass it as a command-line argument:</p>\n\n<pre><code>perl -0777 -i.original -pe '$S //= pop; s/###matchingchars/$S/igs' myfile \"$STRING_FROM_BASH\"\n</code></pre>\n\n<p>You can pass it as an environment variable:</p>\n\n<pre><code>S=\"$STRING_FROM_BASH\" perl -0777 -i.original -pe 's/###matchingchars/$ENV{S}/igs' myfile \n</code></pre>\n"}], "owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 31008858, "answer_count": 2, "score": 2, "last_activity_date": 1435088384, "creation_date": 1435077162, "last_edit_date": 1435077306, "question_id": 31008453, "link": "https://stackoverflow.com/questions/31008453/replace-a-string-with-another-string-could-have-any-strange-chars", "title": "Replace a string with another string (could have any strange chars)", "body": "<p>I have a string, with newlines and odd characters in it, like quotes, commas, backslashes etc (it can be quite long, so not simple to escape characters).</p>\n\n<p>Eg </p>\n\n<pre><code>STRING_FROM_BASH=\"blah2 =&gt; '/blah',\"\n\nperl -0777 -i.original -pe \"s/###matchingchars/$STRING_FROM_BASH/igs\" myfile\n</code></pre>\n\n<p>I get an error </p>\n\n<pre><code>Having no space between pattern and following word is deprecated at -e line 1\n</code></pre>\n\n<p>Which I assume is because its interpolating the bash string.</p>\n\n<p>Is there any way to make Perl not interpolate that replacement string?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 5, "user_id": 5041177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40870784bdd46d665e0a90bf063599b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dr G", "link": "https://stackoverflow.com/users/5041177/dr-g"}, "edited": false, "score": 0, "creation_date": 1435077115, "post_id": 31008421, "comment_id": 50044002, "body": "I apologize for the formatting, new to this website and it didn&#39;t let me post it how I had it typed."}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1435077916, "post_id": 31008421, "comment_id": 50044420, "body": "I&#39;ve edited your post for formatting.  Editing help is available (albeit not very obvious) as a <code>?</code> at the right-hand side of the toolbar above the edit area (assuming that you have Javascript enabled for Stack Overflow).  There&#39;s also <a href=\"/editing-help\">a full help page</a> that should teach you what you need."}, {"owner": {"reputation": 5, "user_id": 5041177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40870784bdd46d665e0a90bf063599b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dr G", "link": "https://stackoverflow.com/users/5041177/dr-g"}, "reply_to_user": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1435080934, "post_id": 31008421, "comment_id": 50046274, "body": "thank you! didnt realize that"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1435083016, "post_id": 31008421, "comment_id": 50047532, "body": "Put a <code>print $1;</code> in the <code>if</code> statement before assigning it to <code>$hash_key_2</code>, and put a <code>print $line;</code> inside of the <code>elsif</code> statement to see if you&#39;re actually catching on your regex checks. Using <code>$1</code> is better written in an assignment something like: <code>$var = $1 || 0;</code> or similar, as if <code>$1</code> is undef, it&#39;ll proceed silently. I&#39;m not saying that&#39;s your problem (especially without knowing your input data), but it&#39;s pretty common."}, {"owner": {"reputation": 5, "user_id": 5041177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40870784bdd46d665e0a90bf063599b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dr G", "link": "https://stackoverflow.com/users/5041177/dr-g"}, "edited": false, "score": 0, "creation_date": 1435083796, "post_id": 31008421, "comment_id": 50047976, "body": "will give it a try! thanks!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435089441, "post_id": 31008421, "comment_id": 50051424, "body": "@DrG: I have edited your question to show what I think is the contents of your data file. (I guess they&#39;re FASTA files?) Please confirm that it&#39;s correct"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 5041177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40870784bdd46d665e0a90bf063599b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dr G", "link": "https://stackoverflow.com/users/5041177/dr-g"}, "edited": false, "score": 0, "creation_date": 1435087373, "post_id": 31011658, "comment_id": 50050175, "body": "how i would go about doing that? would if then work in this scenario?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5, "user_id": 5041177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40870784bdd46d665e0a90bf063599b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dr G", "link": "https://stackoverflow.com/users/5041177/dr-g"}, "edited": false, "score": 0, "creation_date": 1435087433, "post_id": 31011658, "comment_id": 50050213, "body": "I thought I&#39;d explained that. What don&#39;t you understand?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5, "user_id": 5041177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40870784bdd46d665e0a90bf063599b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dr G", "link": "https://stackoverflow.com/users/5041177/dr-g"}, "edited": false, "score": 0, "creation_date": 1435087848, "post_id": 31011658, "comment_id": 50050457, "body": "@DrG: Please confirm that I&#39;m right about what you&#39;re trying to do, as it doesn&#39;t really square with your subject line"}, {"owner": {"reputation": 5, "user_id": 5041177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40870784bdd46d665e0a90bf063599b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dr G", "link": "https://stackoverflow.com/users/5041177/dr-g"}, "edited": false, "score": 0, "creation_date": 1435088113, "post_id": 31011658, "comment_id": 50050613, "body": "trying to up your answer for your time but it is not letting me. sorry. thanks again."}, {"owner": {"reputation": 5, "user_id": 5041177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40870784bdd46d665e0a90bf063599b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dr G", "link": "https://stackoverflow.com/users/5041177/dr-g"}, "edited": false, "score": 0, "creation_date": 1435088221, "post_id": 31011658, "comment_id": 50050679, "body": "i dont think i worded as correctly as i could have."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5, "user_id": 5041177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40870784bdd46d665e0a90bf063599b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dr G", "link": "https://stackoverflow.com/users/5041177/dr-g"}, "edited": false, "score": 0, "creation_date": 1435089351, "post_id": 31011658, "comment_id": 50051370, "body": "@DrG: Don&#39;t worry about that: I have no interest in votes. But if one of the answers has solved your problem then you should accept it so that others can see that it has been resolved"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1435087559, "last_edit_date": 1592644375, "creation_date": 1435087244, "answer_id": 31011658, "question_id": 31008421, "link": "https://stackoverflow.com/questions/31008421/having-two-different-files-display-their-hash-keys-on-the-command-line-and-compa/31011658#31011658", "title": "Having two different files display their hash keys on the command line and comparing them using Perl", "body": "<p>All your program does is to open two files, read them into hashes and dump them</p>\n<p>From your question I suspect that your second file is just a series of headers without any data. If so then that is why your second file shows no output -- because there isn't any</p>\n<p>A wild guess says that you want to look up the sequences from the first file using the keys in the second file. You're simply looking in the wrong hash, and you can fix that by changing your penultimate line to</p>\n<pre><code>print &quot;$hash_key_3\\t$sequenceof{$hash_key_3}\\n&quot;;\n</code></pre>\n<hr />\n<h3>Update</h3>\n<p>Here's how I would solve your problem. There's no need to store the contents of the second hash in memory -- you can just pick out the IDs and look up the sequences as you read through the file</p>\n<pre><code>use strict;\nuse warnings;\n\nmy ( $repmod_file, $evalues_file ) = @ARGV;\n\nmy %sequence;\n{\n    open my $fh, '&lt;', $repmod_file\n        or die qq{Unable to open &quot;$repmod_file&quot;: $!};\n\n    my $key;\n    while ( &lt;$fh&gt; ) {\n        if ( /^&gt;(\\S+)/ ) {\n            $key = $1;\n        }\n        elsif ( /\\S/ ) {\n            chomp;\n            $sequence{$key} .= $_;\n        }\n    }\n}\n\nopen my $fh, '&lt;', $evalues_file\n    or die qq{Unable to open &quot;$evalues_file&quot;: $!};\nwhile ( &lt;$fh&gt; ) {\n    if ( /^&gt;(\\S+)/ ) {\n        printf &quot;%s\\t%s\\n&quot;, $1, $sequence{$1} // 'undef';\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 5041177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40870784bdd46d665e0a90bf063599b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dr G", "link": "https://stackoverflow.com/users/5041177/dr-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 31011658, "answer_count": 1, "score": 0, "last_activity_date": 1435100167, "creation_date": 1435077050, "last_edit_date": 1435100167, "question_id": 31008421, "link": "https://stackoverflow.com/questions/31008421/having-two-different-files-display-their-hash-keys-on-the-command-line-and-compa", "title": "Having two different files display their hash keys on the command line and comparing them using Perl", "body": "<p>I am having difficulty having this program run. .</p>\n\n<p>The first set of code reads from a file that contains data that looks like this: </p>\n\n<pre><code>&gt;name\nAGCTGCA\n</code></pre>\n\n<p>The second set of code reads from a file that contains data that looks like this: </p>\n\n<pre><code>&gt;name 0.05\n</code></pre>\n\n<p>My Perl code</p>\n\n<pre><code>my %sequence_of;\nopen(INPUT, $ARGV[0]) or die \"Cannot open the file: $!\";\nmy $hash_key;\n\nmy $hash_value;\nwhile (my $line = &lt;INPUT&gt;) {\n   if ($line =~ /^&gt;(\\S+)/) {\n      $hash_key = $1;\n   }\n\n   elsif ($line =~ /\\S/) {\n      chomp $line;\n      $hash_value = $line;\n      $sequence_of{$hash_key} = $hash_value;\n   } \n}\n\nforeach my $hash_key2 (keys %sequence_of) {\n   print \"$hash_key2\\t$sequence_of{$hash_key2}\\n\";\n}\n\n#open the second file\nmy %name_of;\nopen(INPUT_2, $ARGV[1]) or die \"Cannot open the file: $!\";\nmy $hash_key_2;\nmy $hash_value_2;\n\nwhile (my $line = &lt;INPUT_2&gt;) {\n   if ($line =~ /^&gt;(\\S+)/) {\n      $hash_key_2 = $1;\n   }\n   elsif ($line =~ /\\S/) {\n      chomp $line;\n      $hash_value_2 = $line;\n      $name_of{$hash_key_2} = $hash_value_2;\n   } \n}\n\nforeach my $hash_key_3 (keys %name_of) {\n   print \"$hash_key_3\\t$name_of{$hash_key_3}\\n\";\n}\n</code></pre>\n\n<p>The second part is the one giving me issues. I know there are no syntax errors because it lets me run it, but the second part doesn't print anything.</p>\n"}, {"tags": ["perl", "debugging", "script-debugging"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1435076309, "post_id": 31008050, "comment_id": 50043474, "body": "You could also consider using an environment variable: <code>DEBUG=1 perl perlScript.pl</code>. Then you could inspect the DEBUG environment variable(<code>$ENV{DEBUG}</code>) and react accordingly"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435087981, "post_id": 31008235, "comment_id": 50050531, "body": "The question was about how to set <code>$debug</code> in the first place"}], "tags": [], "owner": {"reputation": 862, "user_id": 3586150, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1f0969599955a953e592034929ed7a23?s=128&d=identicon&r=PG", "display_name": "Neil H Watson", "link": "https://stackoverflow.com/users/3586150/neil-h-watson"}, "is_accepted": false, "score": 1, "last_activity_date": 1435077105, "last_edit_date": 1435077105, "creation_date": 1435076424, "answer_id": 31008235, "question_id": 31008050, "link": "https://stackoverflow.com/questions/31008050/perl-debugging-using-flags/31008235#31008235", "title": "Perl Debugging Using Flags", "body": "<p>Similar to your idea, but more succinct and goes to stderr and assuming you use something like Getopt::Long to set a debug CLI option.</p>\n\n<pre><code>warn \"debug info:...\" if ( $debug );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1829, "user_id": 1334858, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c4df4eb86afe87fb52513e69f12cb6ee?s=128&d=identicon&r=PG", "display_name": "user1334858", "link": "https://stackoverflow.com/users/1334858/user1334858"}, "edited": false, "score": 0, "creation_date": 1435077798, "post_id": 31008294, "comment_id": 50044347, "body": "Perfect! Just what I wanted!"}, {"owner": {"reputation": 1829, "user_id": 1334858, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c4df4eb86afe87fb52513e69f12cb6ee?s=128&d=identicon&r=PG", "display_name": "user1334858", "link": "https://stackoverflow.com/users/1334858/user1334858"}, "edited": false, "score": 0, "creation_date": 1435099898, "post_id": 31008294, "comment_id": 50056315, "body": "So I used GetOptions for my command options. Is there a way to make <code>$debug = 1</code> if they put in the <code>-debug</code> flag. Because right now I first set <code>$debug =0</code> Then I do the <code>GetOptions(debug=i =&gt;$debug)</code>. The issue is if they just do &#39;-debug&#39; then <code>$debug</code> is still set to 0.... But I want it set to 1 if they don&#39;t include a verbose setting."}, {"owner": {"reputation": 1223, "user_id": 4424636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rUfLl.png?s=128&g=1", "display_name": "Greenonline", "link": "https://stackoverflow.com/users/4424636/greenonline"}, "edited": false, "score": 0, "creation_date": 1608039621, "post_id": 31008294, "comment_id": 115455610, "body": "For some reason, <code>grep (&quot;-d&quot;, @ARGV)</code> doesn&#39;t work for me, it just gives me the total number of arguments. In order to count the number of <code>-d</code> arguments passed, I have to use <code>grep(&#47;-d&#47;, @ARGV)</code>.  That is to say  use <code>&#47;</code> and not <code>&quot;</code>.This is assuming that you call the script using  <code>script.pl -d -d filename.txt</code>, to get a debugging level of two. Or have I misunderstood how the script is called (when using <code>grep(&quot;-d&quot;...</code>), i.e. how are the arguments used to trigger debugging?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1435076664, "creation_date": 1435076664, "answer_id": 31008294, "question_id": 31008050, "link": "https://stackoverflow.com/questions/31008050/perl-debugging-using-flags/31008294#31008294", "title": "Perl Debugging Using Flags", "body": "<p>In perl, compile time is also run time. So there's really not a great deal of advantage in using <code>#define</code> type statements. </p>\n\n<p>My usual trick is:</p>\n\n<pre><code>my $debug = 0; \n$debug += scalar grep ( \"-d\", @ARGV ); \n</code></pre>\n\n<p>(<code>GetOpt</code> is probably honestly a better plan though)</p>\n\n<p>And then use:</p>\n\n<pre><code>print if $debug;\nprint $statement if $debug &gt; 2;\n</code></pre>\n\n<p>Which means I've an easy way of setting the verbosity, and also allowing me to be selective about it by incrementing the statements.</p>\n\n<p>Sometimes I'll embed a signal handler to also adjust debugging level - </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $debug = 0; \n$debug += scalar grep ( \"-d\", @ARGV ); \n\n$SIG{'USR1'} = { $debug++ };\n$SIG{'USR2'} = { $debug-- };\n\nwhile ( 1 ) {\n    print \"Debugging at: $debug\\n\";\n    sleep 1;\n}\n</code></pre>\n\n<p>It's more a question of what sort of code I'm writing - this latter I particularly like when doing <code>fork</code>y stuff, because then I can adjust debug levels in each fork independently and on the fly. </p>\n"}, {"tags": [], "owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "is_accepted": false, "score": 1, "last_activity_date": 1435087492, "last_edit_date": 1435087492, "creation_date": 1435077711, "answer_id": 31008626, "question_id": 31008050, "link": "https://stackoverflow.com/questions/31008050/perl-debugging-using-flags/31008626#31008626", "title": "Perl Debugging Using Flags", "body": "<p>I usually use the following boilerplate for logging in scripts via <a href=\"https://metacpan.org/pod/Log::Log4perl\" rel=\"nofollow\">Log::Log4perl</a>. You can override the logbase/log configuration locations from the command line (or, more usually, set appropriate locations as default on deploy), and upon giving one or more -verbose flags to the script, override that logging and log to screen, with 4 verboses giving you screen output. This lets you transition easily from debugging by providing verbise flags to get every log output, to passing it to a custom log handler config to debug subsystems, to setting up logging in production deploy, all with minimal/no code changes.</p>\n\n<pre><code>use Getopt::Long;\nuse Pod::Usage;\nuse Log::Log4perl qw/:easy/;\n\nmy $opts = { logconf        =&gt; undef,\n             logbase        =&gt; 'corp.team.app.appname'\n             debug          =&gt; 0,\n           };\n\nGetOptions ( 'logconf|l=s'       =&gt; \\$opts-&gt;{logconf},\n             'logbase=s'         =&gt; \\$opts-&gt;{logbase},\n             'verbose|v+'        =&gt; \\$opts-&gt;{debug},  ### debug levels - 0 = off (default), 1 = error, 2 = warn, 3 = info, 4 = debug.\n                                                      ### Ignored if a logconf is provided.\n           ) or pod2usage(0);\n\n### Initialize logging subsystem\ninit_logger();\n\n### Usage\nlogger('app_subsystem')-&gt;info('some message...');\nlogger()-&gt;debug('debug message...');\n\n\n### Initialize logging system\nsub init_logger {\n    ### If a log configuration is found, and debug was not set, use it\n    if (        $opts-&gt;{logconf}\n         and -e $opts-&gt;{logconf}\n         and  ! $opts-&gt;{debug}\n       ) {\n        Log::Log4perl-&gt;init($opts-&gt;{logconf});\n    }\n    ### Otherwise fall through to easy_init a screen logger based on the verboseness level\n    ### Logging off if no config found and no verboseness set\n    else {\n        my ($min, $max) = ( 0, 4 );\n        my %levels;\n        @levels{$min .. $max} = ( $OFF, $ERROR, $WARN, $INFO, $DEBUG );\n        my $log_level = $opts-&gt;{debug};\n        if ($log_level &lt; $min) {\n            $log_level = $min;\n        }\n        elsif ($log_level &gt; $max) {\n            $log_level = $max;\n        }\n        Log::Log4perl-&gt;easy_init($levels{$log_level});\n    }\n}\n\n### Shorthand shim sub to get a logger\n### Always returns a Log::Log4perl logger object\nsub logger {\n    my ($category) = @_;\n    if ($category) {\n        return Log::Log4perl-&gt;get_logger($opts-&gt;{logbase} . '.' . $category);\n    }\n    return Log::Log4perl-&gt;get_logger($opts-&gt;{logbase});\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": -2, "last_activity_date": 1435087539, "creation_date": 1435087539, "answer_id": 31011750, "question_id": 31008050, "link": "https://stackoverflow.com/questions/31008050/perl-debugging-using-flags/31011750#31011750", "title": "Perl Debugging Using Flags", "body": "<p>Up through v5.10, you can also literally use the C preprocessor on your Perl script with the <code>-P</code> command-line switch, documented in <a href=\"https://metacpan.org/pod/perlrun\" rel=\"nofollow\"><code>perlrun</code></a>.</p>\n\n<pre><code>#!perl -P\n# myScript.pl\n#define DEBUG(x) x\n$foo = 42;\nDEBUG( print \"foo is $foo\\n\"; )\n\n$ perl -P myScript.pl\nfoo is 42\n</code></pre>\n\n<p>(Like the <code>-T</code> switch, <code>#!perl -P</code> doesn't automatically use the C preprocessor with your script, but it does force you to explicitly use the <code>-P</code> switch yourself every time you run the script)</p>\n"}, {"comments": [{"owner": {"reputation": 1829, "user_id": 1334858, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c4df4eb86afe87fb52513e69f12cb6ee?s=128&d=identicon&r=PG", "display_name": "user1334858", "link": "https://stackoverflow.com/users/1334858/user1334858"}, "edited": false, "score": 0, "creation_date": 1435100961, "post_id": 31012182, "comment_id": 50056642, "body": "I tried to use the -s... It is not doing what you say. Do I need the <code>use strict</code> and the <code>use warnings</code>? I am using GetOptions as my way of getting the -debug flag"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1829, "user_id": 1334858, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c4df4eb86afe87fb52513e69f12cb6ee?s=128&d=identicon&r=PG", "display_name": "user1334858", "link": "https://stackoverflow.com/users/1334858/user1334858"}, "edited": false, "score": 0, "creation_date": 1435102358, "post_id": 31012182, "comment_id": 50057000, "body": "@user1334858: The <code>-debug</code> has to be <i>after</i> the script file name and <i>before</i> any parameters to the script. So if you&#39;re passing files <code>f1</code> and <code>f2</code> to your script you would write <code>perl -d myscript.pl -debug f1 f2</code>. If it&#39;s working properly then <code>-debug</code> will be removed from <code>@ARGV</code> and <code>GetOptions</code> will never see it. You should try it with my program above first to see if you can get it to print the value 1, and then adapt it to your needs."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1435113438, "post_id": 31012182, "comment_id": 50059542, "body": "Learned something new about Perl today."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1435089006, "creation_date": 1435089006, "answer_id": 31012182, "question_id": 31008050, "link": "https://stackoverflow.com/questions/31008050/perl-debugging-using-flags/31012182#31012182", "title": "Perl Debugging Using Flags", "body": "<p>The <code>-s</code> option allows you to specify the value of <code>main</code> package variables on the command line, although you must be running a perl program from a file rather than using the <code>-e</code> option</p>\n\n<p>If you have a perl program</p>\n\n<pre><code>use strict;\nuse warnings;\n\nour $debug\nprint $debug, \"\\n\";\n</code></pre>\n\n<p>and run it with the command line</p>\n\n<pre><code>perl -s myprog.pl -debug\n</code></pre>\n\n<p>then the program will print <code>1</code></p>\n\n<p>Note that, instead of using <code>-s</code> on the command line, you can specify it on the shebang line in the program file itself, so if your code looks like</p>\n\n<pre><code>#!/usr/bin/perl -s\n\nuse strict;\nuse warnings;\n\nour $debug\nprint $debug, \"\\n\";\n</code></pre>\n\n<p>then your command line need only contain</p>\n\n<pre><code>myprog.pl -debug\n</code></pre>\n"}], "owner": {"reputation": 1829, "user_id": 1334858, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c4df4eb86afe87fb52513e69f12cb6ee?s=128&d=identicon&r=PG", "display_name": "user1334858", "link": "https://stackoverflow.com/users/1334858/user1334858"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1846, "favorite_count": 1, "accepted_answer_id": 31008294, "answer_count": 5, "score": 3, "last_activity_date": 1435089006, "creation_date": 1435075944, "question_id": 31008050, "link": "https://stackoverflow.com/questions/31008050/perl-debugging-using-flags", "title": "Perl Debugging Using Flags", "body": "<p>So my goal is to find an easy way to turn on print statements in Perl a flag. In C/C++ you can use a #define to choose if certain code is run and it is a way to turn on and off debug print statements. Where if a #define DEBUG is defined then you print something, else you run it without the print statements. I was wondering if there was an easy way to do this in Perl. </p>\n\n<p>Here is an example of how it would work:</p>\n\n<pre><code>for($i = 0 ; $i &lt; 10; $i++){\n    if(debug flag){\n         print some info;\n    }\n    do operational stuff.\n}\n</code></pre>\n\n<p>Now from the command line you could do one of two things:</p>\n\n<p>1.Run without the debug print statements</p>\n\n<pre><code>perlScript.pl \n</code></pre>\n\n<p>2.Run with debug print statements</p>\n\n<pre><code>perlScript.pl -debug\n</code></pre>\n\n<p>Or if someone has a better idea please let me know!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 283736, "user_id": 298479, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc66db28aa7c3fa8e4ce4238b696dee9?s=128&d=identicon&r=PG", "display_name": "ThiefMaster", "link": "https://stackoverflow.com/users/298479/thiefmaster"}, "edited": false, "score": 1, "creation_date": 1435074522, "post_id": 31007476, "comment_id": 50042199, "body": "Depending on your use case please don&#39;t forget to read this: <a href=\"http://blog.codinghorror.com/obscenity-filters-bad-idea-or-incredibly-intercoursing-bad-idea/\" rel=\"nofollow noreferrer\">blog.codinghorror.com/&hellip;</a>"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 1, "creation_date": 1435074723, "post_id": 31007476, "comment_id": 50042322, "body": "You should tag your question with the requested programming language"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1817927"}, "edited": false, "score": 0, "creation_date": 1435075249, "post_id": 31007476, "comment_id": 50042710, "body": "you need design algorithm....  get all dictionary words in array.  create a dictionary copy, and replace all characters with X (not spaces). make a loop for test in string each word in dictionary( strpos() ), if it is found replace with masked string  (str_replace)."}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1435075474, "post_id": 31007476, "comment_id": 50042883, "body": "@rubenrp81 &quot;Badge your question&quot; ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1817927"}, "edited": false, "score": 0, "creation_date": 1435076100, "post_id": 31007476, "comment_id": 50043321, "body": "your language is php?"}, {"owner": {"reputation": 59, "user_id": 5041076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a90d6514e536c7e01e755e6e4f4df20?s=128&d=identicon&r=PG&f=1", "display_name": "tent", "link": "https://stackoverflow.com/users/5041076/tent"}, "reply_to_user": {"reputation": 283736, "user_id": 298479, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc66db28aa7c3fa8e4ce4238b696dee9?s=128&d=identicon&r=PG", "display_name": "ThiefMaster", "link": "https://stackoverflow.com/users/298479/thiefmaster"}, "edited": false, "score": 0, "creation_date": 1435089567, "post_id": 31007476, "comment_id": 50051499, "body": "@ThiefMaster: well I admit you are perfectly right, but the idea is to filter out some strings from a document automatically indeed but then review them by a human being since what is described as obscenity filters does really make sense.. :)"}, {"owner": {"reputation": 59, "user_id": 5041076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a90d6514e536c7e01e755e6e4f4df20?s=128&d=identicon&r=PG&f=1", "display_name": "tent", "link": "https://stackoverflow.com/users/5041076/tent"}, "edited": false, "score": 0, "creation_date": 1435089656, "post_id": 31007476, "comment_id": 50051544, "body": "I&#39;m also thinking that it will probably be even more difficult than I was thinking originally since I&#39;d need to mach the dictionary strings not only one line after the other of the file but the dictionary string could also be line-wrapped like in: &quot;the quick brown hello&quot; \\n &quot;world fox jumps over the world&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435090999, "post_id": 31007528, "comment_id": 50052256, "body": "<b><i>&quot;No.&quot;</i></b> I challenge that solution"}], "tags": [], "owner": {"reputation": 283736, "user_id": 298479, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc66db28aa7c3fa8e4ce4238b696dee9?s=128&d=identicon&r=PG", "display_name": "ThiefMaster", "link": "https://stackoverflow.com/users/298479/thiefmaster"}, "is_accepted": false, "score": 3, "last_activity_date": 1435074475, "creation_date": 1435074475, "answer_id": 31007528, "question_id": 31007476, "link": "https://stackoverflow.com/questions/31007476/is-there-a-way-to-replace-a-substring-with-a-same-amount-of-x-characters-the-len/31007528#31007528", "title": "Is there a way to replace a substring with a same amount of X characters the length of it?", "body": "<p>No.</p>\n\n<p>However, your language might have a regex-replace function that accepts a callback. Then you could do something like this:</p>\n\n<pre><code>&gt;&gt;&gt; re.sub(r'o+b', lambda m: 'x' * len(m.group(0)), 'foobar')\n'fxxxar'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1435077517, "post_id": 31007721, "comment_id": 50044205, "body": "@rubenrp81 this is python. BTW, how did you conclude that it&#39;s for PHP ?"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1435077993, "post_id": 31007721, "comment_id": 50044474, "body": "@rubenrp81 LOL, here&#39;s a PHP solution for you ;)"}], "tags": [], "owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "is_accepted": false, "score": 0, "last_activity_date": 1435077975, "last_edit_date": 1435077975, "creation_date": 1435074942, "answer_id": 31007721, "question_id": 31007476, "link": "https://stackoverflow.com/questions/31007476/is-there-a-way-to-replace-a-substring-with-a-same-amount-of-x-characters-the-len/31007721#31007721", "title": "Is there a way to replace a substring with a same amount of X characters the length of it?", "body": "<p>Less elegant than ThiefM's answer (Python):</p>\n\n<pre><code>import re\nstr_to_replace = 'hello world'\nprint re.sub(str_to_replace, re.sub('\\w', 'x', str_to_replace), \\\n    \"the quick brown hello world fox jumps over the world\")\n\n# another option \nprint \"the quick brown hello world fox jumps over the world\".replace(str_to_replace, re.sub('\\w', 'x', str_to_replace))\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre><code>the quick brown xxxxx xxxxx fox jumps over the world\n</code></pre>\n\n<p>PHP solution for @rubenrp81:</p>\n\n<pre><code>&lt;?php\n$msg = \"the quick brown hello world fox jumps over the world\";\n$str = \"hello world\";\n$rep = preg_replace(\"/\\w/\", \"x\", $str);\n$patt = \"/$str/\";\n$res = preg_replace($patt, $rep, $msg);\necho $res; // prints: \"the quick brown xxxxx xxxxx fox jumps over the world\"\n?&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 59, "user_id": 5041076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a90d6514e536c7e01e755e6e4f4df20?s=128&d=identicon&r=PG&f=1", "display_name": "tent", "link": "https://stackoverflow.com/users/5041076/tent"}, "edited": false, "score": 0, "creation_date": 1435091115, "post_id": 31012424, "comment_id": 50052331, "body": "@tent: If you are replacing English words then you will probably want to at least wrap your regex in <code>\\b</code>...<code>\\b</code> (wound boundary anchors) to avoid embarrxxxment"}, {"owner": {"reputation": 59, "user_id": 5041076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a90d6514e536c7e01e755e6e4f4df20?s=128&d=identicon&r=PG&f=1", "display_name": "tent", "link": "https://stackoverflow.com/users/5041076/tent"}, "edited": false, "score": 0, "creation_date": 1435091407, "post_id": 31012424, "comment_id": 50052523, "body": "do you mean like this: $s =~ s/(\\b\\Q$pattern\\E\\b)/&#39;X&#39; x length $1/e; because they are always going to be in boundaries and never nested indeed.. And by the way: would it be possible to do the match also between multiple lines (I&#39;m going to read $s from a file containing many lines and the pattern might occur line-wrapped but always only on the whitespace)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 59, "user_id": 5041076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a90d6514e536c7e01e755e6e4f4df20?s=128&d=identicon&r=PG&f=1", "display_name": "tent", "link": "https://stackoverflow.com/users/5041076/tent"}, "edited": false, "score": 0, "creation_date": 1435091476, "post_id": 31012424, "comment_id": 50052564, "body": "@tent: Yes. I was thinking of <code>s&#47;\\b(\\Q$pattern\\E)\\b&#47;&#39;X&#39; x length $1&#47;e</code> but yours is fine"}, {"owner": {"reputation": 59, "user_id": 5041076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a90d6514e536c7e01e755e6e4f4df20?s=128&d=identicon&r=PG&f=1", "display_name": "tent", "link": "https://stackoverflow.com/users/5041076/tent"}, "edited": false, "score": 0, "creation_date": 1435130456, "post_id": 31012424, "comment_id": 50065643, "body": "And by the way: would it be possible to do the match also between multiple lines (I&#39;m going to read $s from a file containing many lines and the pattern might occur line-wrapped but always only on the whitespace)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 59, "user_id": 5041076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a90d6514e536c7e01e755e6e4f4df20?s=128&d=identicon&r=PG&f=1", "display_name": "tent", "link": "https://stackoverflow.com/users/5041076/tent"}, "edited": false, "score": 0, "creation_date": 1435139425, "post_id": 31012424, "comment_id": 50071309, "body": "@tent you would have to use <code>\\s+</code> in the pattern instead of spaces"}, {"owner": {"reputation": 59, "user_id": 5041076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a90d6514e536c7e01e755e6e4f4df20?s=128&d=identicon&r=PG&f=1", "display_name": "tent", "link": "https://stackoverflow.com/users/5041076/tent"}, "edited": false, "score": 0, "creation_date": 1435268345, "post_id": 31012424, "comment_id": 50143002, "body": "I just noticed that the use of /Q /E seems problematic since the pattern sometimes contains also parentheses () or quotes.. so not only alphanumerics.. leaving /Q /E out does not seem to solve either.."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 59, "user_id": 5041076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a90d6514e536c7e01e755e6e4f4df20?s=128&d=identicon&r=PG&f=1", "display_name": "tent", "link": "https://stackoverflow.com/users/5041076/tent"}, "edited": false, "score": 0, "creation_date": 1435293232, "post_id": 31012424, "comment_id": 50149762, "body": "@tent: I don&#39;t understand. <code>\\Q</code> will escape parentheses so that they are matched literally. Quotes aren&#39;t special inside regex patterns anyway, so escaping them makes no difference. Isn&#39;t that what you want?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1435090720, "last_edit_date": 1435090720, "creation_date": 1435089788, "answer_id": 31012424, "question_id": 31007476, "link": "https://stackoverflow.com/questions/31007476/is-there-a-way-to-replace-a-substring-with-a-same-amount-of-x-characters-the-len/31012424#31012424", "title": "Is there a way to replace a substring with a same amount of X characters the length of it?", "body": "<p>You would use a substution with the <code>/e</code> modifier for an <em>expression replacement</em>, together with the repetition operator <code>x</code></p>\n\n<p>The code looks like this. The <code>\\Q</code> ... <code>\\E</code> construct is to escape any non-alphanumeric characters so that they are interpreted literally instead of as regex metacharacters</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy $s = 'the quick brown hello world fox jumps over the world';\n\nmy $pattern = 'hello world';\n\n$s =~ s/(\\Q$pattern\\E)/'X' x length $1/e;\n\nsay $s;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>the quick brown XXXXXXXXXXX fox jumps over the world\n</code></pre>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>If you want to keep the whitespace in the replaced string then you need two nested expression replacements, like this</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.014;\n\nuse Data::Dump;\n\nmy $s = 'the quick brown hello world fox jumps over the world';\n\nmy $pattern = 'hello world';\n\n$s =~ s{(\\Q$pattern\\E)}{ s/(\\S+)/'x' x length($1)/egr }e;\n\nsay $s;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>the quick brown xxxxx xxxxx fox jumps over the world\n</code></pre>\n\n<p>or, if you are running a very old version of Perl (prior to v5.14) then you need this</p>\n\n<pre><code>$s =~ s{(\\Q$pattern\\E)}{ (my $r = $1) =~ s/(\\S+)/'x' x length($1)/eg; $r }e;\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 5041076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a90d6514e536c7e01e755e6e4f4df20?s=128&d=identicon&r=PG&f=1", "display_name": "tent", "link": "https://stackoverflow.com/users/5041076/tent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 1, "accepted_answer_id": 31012424, "answer_count": 3, "score": 3, "last_activity_date": 1435090720, "creation_date": 1435074354, "last_edit_date": 1435088684, "question_id": 31007476, "link": "https://stackoverflow.com/questions/31007476/is-there-a-way-to-replace-a-substring-with-a-same-amount-of-x-characters-the-len", "title": "Is there a way to replace a substring with a same amount of X characters the length of it?", "body": "<p>I'm trying to match some strings in a file with Perl with a regular expression that would susbtitute them with an equal amount of X characters, long like the original string length.\nFor instance the file could contain something like:</p>\n\n<pre><code>\"the quick brown hello world fox jumps over the world\" etc. etc.\n</code></pre>\n\n<p>and a dictionary that for instance has the strings like: <code>\"hello world\"</code> and that I would load into an array before.</p>\n\n<p>I'd like to have the following result:</p>\n\n<pre><code>\"the quick brown XXXXX XXXXX fox jumps over the world\" etc. etc.\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1435074234, "creation_date": 1435074234, "answer_id": 31007424, "question_id": 31007344, "link": "https://stackoverflow.com/questions/31007344/regex-in-perl-uninitialized-1/31007424#31007424", "title": "Regex in Perl Uninitialized $1", "body": "<p><code>$1</code> is the value captured by the first capture (<code>()</code>), but you have no captures in your pattern. Fix:</p>\n\n<pre><code>/(?&lt;=File `..\\/)(.*)(?=')/\n</code></pre>\n\n<p>Simplified:</p>\n\n<pre><code>m{File `../(.*)'}\n</code></pre>\n\n<p>More robust:</p>\n\n<pre><code>m{File `../([^']*)'}\n</code></pre>\n"}], "owner": {"reputation": 344, "user_id": 3791101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08468078a37047c975e58e6d58b3a5bd?s=128&d=identicon&r=PG&f=1", "display_name": "ansario", "link": "https://stackoverflow.com/users/3791101/ansario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 31007424, "answer_count": 1, "score": 0, "last_activity_date": 1435074315, "creation_date": 1435074039, "question_id": 31007344, "link": "https://stackoverflow.com/questions/31007344/regex-in-perl-uninitialized-1", "title": "Regex in Perl Uninitialized $1", "body": "<p>My string looks like this:</p>\n\n<pre><code>&lt;File `../Path/To/My_File.gif'&gt;\n</code></pre>\n\n<p>I want to extract just \"Path/To/My_File.gif\".</p>\n\n<p>Here is the check I have:</p>\n\n<pre><code>if ($row =~ /(?&lt;=File `..\\/).*(?=')/) {\n      print \"Found it!\\n\";\n      print \"$1\\n\";\n}\n</code></pre>\n\n<p>I see \"Found it!\" printed to the console but also get an error saying that $1 is uninitialized. What am I missing here?</p>\n"}, {"tags": ["perl", "vbscript", "argument-passing"], "answers": [{"tags": [], "owner": {"reputation": 15405, "user_id": 2237785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iXptK.png?s=128&g=1", "display_name": "Bond", "link": "https://stackoverflow.com/users/2237785/bond"}, "is_accepted": false, "score": 0, "last_activity_date": 1435080400, "last_edit_date": 1435080400, "creation_date": 1435079190, "answer_id": 31009114, "question_id": 31007340, "link": "https://stackoverflow.com/questions/31007340/autofiltering-excel-with-multiple-filter-conditions/31009114#31009114", "title": "Autofiltering Excel with multiple filter conditions", "body": "<p>If you put quotes around the values, VBScript will treat it as a single argument.</p>\n\n<pre><code>&gt; cscript script.vbs arg1 \"multiple values for arg 2\"\n</code></pre>\n\n<p>In the script:</p>\n\n<pre><code>WScript.Echo WScript.Arguments.Count    ' ==&gt; 2\n\na = Split(WScript.Arguments(1))\nWScript.Echo a(0)                        ' ==&gt; multiple\nWScript.Echo a(1)                        ' ==&gt; values\nWScript.Echo a(2)                        ' ==&gt; for\nWScript.Echo a(3)                        ' ==&gt; arg\nWScript.Echo a(4)                        ' ==&gt; 2\n</code></pre>\n\n<p>Excel expects:</p>\n\n<pre><code>Range.AutoFilter &lt;Field&gt;, &lt;Criteria&gt;, &lt;Operator&gt;\n</code></pre>\n\n<p>If you want a list of criteria to filter on, you'll use <code>xlFilterValues</code> for the <code>&lt;Operator&gt;</code> argument. <code>&lt;Criteria&gt;</code> will be an array of string values, which we created above.</p>\n\n<pre><code>Const xlFilterVaues = 7\n\nobjExcel.ActiveSheet.Range(\"G1\").AutoFilter WScript.Arguments.Item(0), a, xlFilterValues\n</code></pre>\n\n<p>So, just try adding <code>Split()</code> around <code>WScript.Arguments(1)</code> in your existing code, and pass <code>xlFilterValues</code> for the third param.</p>\n"}, {"comments": [{"owner": {"reputation": 413, "user_id": 2617423, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bff0e99f34be94a4b1a00d7afd25824b?s=128&d=identicon&r=PG", "display_name": "Programmer", "link": "https://stackoverflow.com/users/2617423/programmer"}, "edited": false, "score": 0, "creation_date": 1435123047, "post_id": 31009743, "comment_id": 50062020, "body": "thank you, the above code also filters one value at a time, I should filter all the options in the text file in one go... <code>ws.Range(&quot;G1&quot;).AutoFilter WScript.Arguments(0), f.ReadLine</code> in this case the first filter is removed after the first iteration. so finally the value at the end of the text file will be the final filter."}, {"owner": {"reputation": 174117, "user_id": 1630171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIS66.png?s=128&g=1", "display_name": "Ansgar Wiechers", "link": "https://stackoverflow.com/users/1630171/ansgar-wiechers"}, "reply_to_user": {"reputation": 413, "user_id": 2617423, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bff0e99f34be94a4b1a00d7afd25824b?s=128&d=identicon&r=PG", "display_name": "Programmer", "link": "https://stackoverflow.com/users/2617423/programmer"}, "edited": false, "score": 0, "creation_date": 1435133294, "post_id": 31009743, "comment_id": 50067389, "body": "@Programmer Your existing code does exactly the same, so I assumed that&#39;s what you wanted. If you want to apply all criteria to one column at the same time: that&#39;s not possibe. If you take a closer look at the <a href=\"https://msdn.microsoft.com/en-us/library/office/ff193884.aspx\" rel=\"nofollow noreferrer\"><code>AutoFilter</code> method</a> or the AutoFilter GUI you&#39;ll notice that you can have at most 2 filters for the same column."}], "tags": [], "owner": {"reputation": 174117, "user_id": 1630171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIS66.png?s=128&g=1", "display_name": "Ansgar Wiechers", "link": "https://stackoverflow.com/users/1630171/ansgar-wiechers"}, "is_accepted": false, "score": 0, "last_activity_date": 1435169045, "last_edit_date": 1435169045, "creation_date": 1435081206, "answer_id": 31009743, "question_id": 31007340, "link": "https://stackoverflow.com/questions/31007340/autofiltering-excel-with-multiple-filter-conditions/31009743#31009743", "title": "Autofiltering Excel with multiple filter conditions", "body": "<p>If only your second argument changes, you could pass the entire content of your data file to the VBScript:</p>\n\n<pre class=\"lang-pl prettyprint-override\"><code>local $/;\nmy $args = &lt;FILE&gt;;\n$args =~ s/^\\s+|\\s+$//g;\n$args =~ s/\\r?\\n/\" \"/g;\n\nsystem(\"cscript \\\"$currentWorkingDirectory\\\\your.vbs\\\" 9 \\\"$args\\\"\");\n</code></pre>\n\n<p>and change the processing in your VBScript to this:</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Set xl = CreateObject(\"Excel.Application\") \nxl.Visible = True\n\nSet wb = xl.Workbook.Open(\"C:\\path\\to\\your.xlsx\")\nSet ws = wb.Sheets(1)\n...\nxl.Selection.AutoFilter\n\nFor i = 1 To WScript.Arguments.Count - 1\n  ws.Range(\"G1\").AutoFilter WScript.Arguments(0), WScript.Arguments(i)\n  ...\nNext\n</code></pre>\n\n<p>Or you could simply call the VBScript with the field and the path to the data file:</p>\n\n<pre class=\"lang-pl prettyprint-override\"><code>system(\"cscript \\\"$currentWorkingDirectory\\\\your.vbs\\\" 9 \\\"$filepath\\\"\");\n</code></pre>\n\n<p>and do all the processing in VBScript:</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Set xl = CreateObject(\"Excel.Application\") \nxl.Visible = True\n\nSet wb = xl.Workbook.Open(\"C:\\path\\to\\your.xlsx\")\nSet ws = wb.Sheets(1)\n...\nxl.Selection.AutoFilter\n\nSet fso = CreateObject(\"Scripting.FileSystemObject\")\nSet f   = fso.OpenTextFile(WScript.Arguments(1))\nDo Until f.AtEndOfStream\n  ws.Range(\"G1\").AutoFilter WScript.Arguments(0), f.ReadLine\n  ...\nNext\nf.Close\n</code></pre>\n\n<p>Applying more than 2 AutoFilter conditions to a column at the same time is not possible. Check the signature of the <code>AutoFilter</code> method in the <a href=\"https://msdn.microsoft.com/en-us/library/office/ff193884.aspx\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>\n  <p>expression .<strong>AutoFilter</strong>(<strong><em>Field, Criteria1, Operator, Criteria2, VisibleDropDown</em></strong>)</p>\n  \n  <p>expression An expression that returns a <strong>Range</strong> object.</p>\n</blockquote>\n\n<p>You have <code>Critera1</code> and <code>Criteria2</code> and an <code>Operator</code> for combining the two. Calling the <code>AutoFilter</code> method with another set of criteria replaces the existing criteria.</p>\n"}], "owner": {"reputation": 413, "user_id": 2617423, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bff0e99f34be94a4b1a00d7afd25824b?s=128&d=identicon&r=PG", "display_name": "Programmer", "link": "https://stackoverflow.com/users/2617423/programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1036, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1435169045, "creation_date": 1435074035, "last_edit_date": 1435081526, "question_id": 31007340, "link": "https://stackoverflow.com/questions/31007340/autofiltering-excel-with-multiple-filter-conditions", "title": "Autofiltering Excel with multiple filter conditions", "body": "<p>I am trying to autofilter in Excel using the below VBScript code. This script called multiple times from a Perl program.</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Dim objExcel : Set objExcel = GetObject(,\"Excel.Application\") \nobjExcel.Visible = True\nobjExcel.Selection.AutoFilter\nobjExcel.ActiveSheet.Range(\"G1\").AutoFilter WScript.Arguments.Item(0), _\n    WScript.Arguments.Item (1)\n</code></pre>\n\n<p>Now I would like to know: is there a way by which I can pass an array for <code>WScript.Arguments.Item (1)</code> so that all the conditions are selected in one go? The task is to delete the filtered value. I call this script through Perl multiple times and the above script filter one value at a time and delete. The program works fine, but is slow.</p>\n\n<p>Following is the part of Perl which calls the VBScript.</p>\n\n<pre class=\"lang-pl prettyprint-override\"><code>while(&lt;FILE&gt;){\n    chomp;\n    system(\"CSCRIPT \".\"\\\"$currentWorkingDirectory\\\"\".'aboveVBS.vbs 9 '.\"\\\"$_\\\"\");\n    sleep(2);\n}\n</code></pre>\n"}, {"tags": ["perl", "elasticsearch", "bulkinsert"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1435063245, "post_id": 31002662, "comment_id": 50033684, "body": "From where you are getting <code>$ibulkid</code> value?"}, {"owner": {"reputation": 3, "user_id": 5010715, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1HZGFXYfHU/AAAAAAAAAAI/AAAAAAAAAAA/bExhFoBEKYY/photo.jpg?sz=128", "display_name": "bala subramanian", "link": "https://stackoverflow.com/users/5010715/bala-subramanian"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1435066151, "post_id": 31002662, "comment_id": 50035767, "body": "I used perviously. ibulkid is for indexing every 100 files into ES. my error line is my $res = $e-&gt;bulk(\\@docs);"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1435066988, "post_id": 31002662, "comment_id": 50036370, "body": "clue is in the error - that&#39;s an array ref, not a hash ref."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5010715, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1HZGFXYfHU/AAAAAAAAAAI/AAAAAAAAAAA/bExhFoBEKYY/photo.jpg?sz=128", "display_name": "bala subramanian", "link": "https://stackoverflow.com/users/5010715/bala-subramanian"}, "edited": false, "score": 0, "creation_date": 1435679162, "post_id": 31006614, "comment_id": 50296169, "body": "1 billion Thank you keety. now i am able to get 1250+ docs/sec. it is almost my target i.e 1500. now i am using single node. if i increase more nodes whether the indexing count will increase?"}], "tags": [], "owner": {"reputation": 15863, "user_id": 609087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2725ad67cddd93219495d032b0e063e5?s=128&d=identicon&r=PG", "display_name": "keety", "link": "https://stackoverflow.com/users/609087/keety"}, "is_accepted": true, "score": 0, "last_activity_date": 1435086545, "last_edit_date": 1435086545, "creation_date": 1435072190, "answer_id": 31006614, "question_id": 31002662, "link": "https://stackoverflow.com/questions/31002662/elastic-search-bulk-indexing-using-perl/31006614#31006614", "title": "Elastic Search bulk indexing using perl", "body": "<p>The above usage of <a href=\"https://metacpan.org/pod/Search::Elasticsearch::Client::2_0::Direct#bulk\" rel=\"nofollow\">bulk api</a> is wrong. bulk takes as input a hashref where the body is a reference to array of actions and documents</p>\n\n<p>For example something on these lines should work:</p>\n\n<pre><code>$action = {index =&gt; {_index =&gt; 'my_index', _type =&gt; 'blog_post', _id =&gt; $ifileid}};\n$doc =  {filename =&gt; $file, content =&gt; 'bala'};\npush @docs, $action;\npush @docs,$doc\nif ($ibulkid==100)\n    {       \n        # bulk index docs\n        my $res = $e-&gt;bulk(body =&gt; \\@docs);      \n       if ( $res-&gt;{errors} ) \n       {\n        die \"Bulk index had issues: \" . $json-&gt;encode( $res-&gt;{errors} );\n       }\n       $ibulkid=0;      \n    }\n    $ibulkid++;\n}\n$ifileid++;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5010715, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1HZGFXYfHU/AAAAAAAAAAI/AAAAAAAAAAA/bExhFoBEKYY/photo.jpg?sz=128", "display_name": "bala subramanian", "link": "https://stackoverflow.com/users/5010715/bala-subramanian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1266, "favorite_count": 0, "accepted_answer_id": 31006614, "answer_count": 1, "score": 0, "last_activity_date": 1435086545, "creation_date": 1435062066, "last_edit_date": 1435062424, "question_id": 31002662, "link": "https://stackoverflow.com/questions/31002662/elastic-search-bulk-indexing-using-perl", "title": "Elastic Search bulk indexing using perl", "body": "<p>I have tried the bulk API Perl client for content indexing in Elasticsearch. I am getting Error on the Bulk Ingestion line. Please find the code below:</p>\n\n<pre><code>my $ifileid=0;\nmy $dir = '/home/bala/input_files/output';\nopendir(DIR, $dir) or die $!;\nmy @arfiles = readdir (DIR);\nclosedir(DIR);\nprint scalar @arfiles.\" Total files\\n\";\nforeach(@arfiles)\n{\n    my $file = $_;\n    if ($ifileid&gt;1)\n    {\n    $doc = {index =&gt; 'my_index', type =&gt; 'blog_post', id =&gt; $ifileid, body =&gt; {filename =&gt; $file, content =&gt; 'bala'}}; \n    push @docs, { create =&gt; $doc };\n    if ($ibulkid==100)\n        {       \n            # bulk index docs\n           my $res = $e-&gt;bulk(\\@docs);      \n           if ( $res-&gt;{errors} ) \n           {\n            die \"Bulk index had issues: \" . $json-&gt;encode( $res-&gt;{errors} );\n           }\n           $ibulkid=0;      \n        }\n        $ibulkid++;\n    }\n    $ifileid++;\n}\n</code></pre>\n\n<p>I am getting the following error:</p>\n\n<pre><code>Error =&gt; Not a HASH reference at /usr/local/share/perl5/Search/Elasticsearch/Role/Client/Direct.pm line 15.\n</code></pre>\n"}, {"tags": ["excel", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1435059790, "post_id": 31001791, "comment_id": 50031385, "body": "Going to need more than that to be able to answer. Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for some hints on how to assemble an answerable question."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1435059796, "post_id": 31001791, "comment_id": 50031386, "body": "Show your code please."}, {"owner": {"reputation": 159, "user_id": 2190981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yNFX1.jpg?s=128&g=1", "display_name": "Sayhan", "link": "https://stackoverflow.com/users/2190981/sayhan"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1435061556, "post_id": 31001791, "comment_id": 50032523, "body": "@Jens Thanks for your reply. I have added the part of code that i had editted. Before the generated Spreadsheet was working fine. It is working in Libre Office Calc which is a linux software fine. The problem is with Microsoft Excel. The modified code has only increased the number of columns to BP."}], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 2190981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yNFX1.jpg?s=128&g=1", "display_name": "Sayhan", "link": "https://stackoverflow.com/users/2190981/sayhan"}, "is_accepted": true, "score": 1, "last_activity_date": 1435087979, "creation_date": 1435087979, "answer_id": 31011876, "question_id": 31001791, "link": "https://stackoverflow.com/questions/31001791/file-error-on-opening-spreadsheet-created-with-spreadsheetwriteexcel/31011876#31011876", "title": "File error on opening spreadsheet created with Spreadsheet::WriteExcel", "body": "<p>I have found answer. In the code there was a line which write data into a cell multiple times. So i found that multiple write attempt to a particular cell can cause file corruption.</p>\n"}], "owner": {"reputation": 159, "user_id": 2190981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yNFX1.jpg?s=128&g=1", "display_name": "Sayhan", "link": "https://stackoverflow.com/users/2190981/sayhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "accepted_answer_id": 31011876, "answer_count": 1, "score": 0, "last_activity_date": 1435087979, "creation_date": 1435059585, "last_edit_date": 1435062023, "question_id": 31001791, "link": "https://stackoverflow.com/questions/31001791/file-error-on-opening-spreadsheet-created-with-spreadsheetwriteexcel", "title": "File error on opening spreadsheet created with Spreadsheet::WriteExcel", "body": "<p>I was using  <a href=\"http://search.cpan.org/dist/Spreadsheet-WriteExcel/lib/Spreadsheet/WriteExcel.pm\" rel=\"nofollow\">Spreadsheet::WriteExcel</a> to create xls file using perl. When the range of spreadsheet increased, the Microsoft excel shows an alert before opening the file \"<strong>File Error: Data may have been lost</strong>\".</p>\n\n<p>Please help me to solve this.</p>\n\n<p>Here is the code </p>\n\n<pre><code>my $row = 2;\nforeach my $sid(array of students objects)\n{\n        my $s = $students-&gt;{$sid};\n    my $cc = 0;\nmy $wall = f1($x, $y, $z);#f1 is a method returns hash of arrays that have to write on excel having keys @key_array\nforeach my $key (@key_array) {\nmy $t_row = $row;\nmy $i_c = 0;\nmy $t_col = 0;\nmy $m_row = $max_row;\nwhile($m_row &gt; 0){\n    $t_col = 3+($cc*7);\n    if($cc == 0){\n    $ws-&gt;write($t_row, 0,\n                [$s-&gt;{first_name}, $s-&gt;{last_name}, $s-&gt;{l_name}], $fmt_wrap    \n            );\n    }\n    if(defined $wall-&gt;{$key}-&gt;[$i_c] ){\n    $ws-&gt;write($t_row, $t_col, $wall-&gt;{$key}-&gt;[$i_c], $fmt_wrap);\n    } else {\n    $ws-&gt;write($t_row, (3+$cc*7),[\"\",\"\",\"\",\"\",\"\",\"\",\"\"], $fmt_wrap);                \n    }\n    $t_row++;\n    $i_c++;\n    $m_row--;\n }#while loop\n    $ws-&gt;write($t_row-1, 3+$company_format*$max_step,\n                [ (scalar keys %{$s-&gt;{videos}}), $s-&gt;{total_pageviews} ], $fmt\n            );\n $cc++;\n $t_row = 2;\n}#foreach loop\n$row+=$max_row;\n}#foreach student array\n</code></pre>\n"}, {"tags": ["perl", "case-sensitive"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435058664, "post_id": 31001305, "comment_id": 50030680, "body": "Which module are you using? What you need to do is enumerate the available worksheets, and then pick one that closest matches your search term."}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 5036489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ae35e4769de4e0a5b9fd6d65c9085cb?s=128&d=identicon&r=PG&f=1", "display_name": "grege", "link": "https://stackoverflow.com/users/5036489/grege"}, "edited": false, "score": 0, "creation_date": 1435071398, "post_id": 31001526, "comment_id": 50039987, "body": "yes,  using Spreadsheet::ParseExcel. but it doesnt get into the if condition"}, {"owner": {"reputation": 7, "user_id": 5036489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ae35e4769de4e0a5b9fd6d65c9085cb?s=128&d=identicon&r=PG&f=1", "display_name": "grege", "link": "https://stackoverflow.com/users/5036489/grege"}, "edited": false, "score": 0, "creation_date": 1435072004, "post_id": 31001526, "comment_id": 50040466, "body": "the flow doesn&#39;t go into the if condition"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 7, "user_id": 5036489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ae35e4769de4e0a5b9fd6d65c9085cb?s=128&d=identicon&r=PG&f=1", "display_name": "grege", "link": "https://stackoverflow.com/users/5036489/grege"}, "edited": false, "score": 1, "creation_date": 1435073873, "post_id": 31001526, "comment_id": 50041770, "body": "Are there any worksheets? If you <code>print $sheet -&gt; name</code> outside the <code>if</code> does that do anything?"}, {"owner": {"reputation": 7, "user_id": 5036489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ae35e4769de4e0a5b9fd6d65c9085cb?s=128&d=identicon&r=PG&f=1", "display_name": "grege", "link": "https://stackoverflow.com/users/5036489/grege"}, "edited": false, "score": 0, "creation_date": 1435109223, "post_id": 31001526, "comment_id": 50058647, "body": "yes there are two worksheets. one matches the Food_list, one does not. nothing is printed from $sheet -&gt; name"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1435141370, "last_edit_date": 1435141370, "creation_date": 1435058879, "answer_id": 31001526, "question_id": 31001305, "link": "https://stackoverflow.com/questions/31001305/perl-how-to-search-excel-worksheet-being-case-insensitive/31001526#31001526", "title": "perl how to search excel worksheet being case insensitive", "body": "<p>Assuming you're using <code>Spreadsheet::ParseExcel</code>:</p>\n\n<pre><code>my $ws;\nfor my $sheet ( $wb-&gt;worksheets() ) {\n    if ( $sheet-&gt;get_name() =~ m/Food_list/i ) {\n        $ws = $sheet;\n        last;\n    }\n}\n</code></pre>\n\n<p>Update: Use get_name and it works.</p>\n"}], "owner": {"reputation": 7, "user_id": 5036489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ae35e4769de4e0a5b9fd6d65c9085cb?s=128&d=identicon&r=PG&f=1", "display_name": "grege", "link": "https://stackoverflow.com/users/5036489/grege"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 31001526, "answer_count": 1, "score": 0, "last_activity_date": 1435141370, "creation_date": 1435058167, "last_edit_date": 1435058587, "question_id": 31001305, "link": "https://stackoverflow.com/questions/31001305/perl-how-to-search-excel-worksheet-being-case-insensitive", "title": "perl how to search excel worksheet being case insensitive", "body": "<p>current script:</p>\n\n<pre><code>$ws = $wb-&gt;Worksheet(\"Food_List\");\n\nif ( !$ws ) {\n    print LOG\n        \"Error: Required 'Food_List' excel spreadsheet(tab). Review worksheet naming convention\";\n    exit 1;\n}\n</code></pre>\n\n<p>so now we need to match the worksheet to 'Food_List'. What if I want to allow more flexibility and allow 'food_list', or 'FOOD_LIST'worksheet?</p>\n"}, {"tags": ["perl", "command-line", "scripting", "pattern-matching"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1435056305, "creation_date": 1435056305, "answer_id": 31000655, "question_id": 31000398, "link": "https://stackoverflow.com/questions/31000398/perl-command-to-parse-a-text-file-and-spool-output-into-different-files-based-on/31000655#31000655", "title": "perl command to parse a text file and spool output into different files based on string pattern", "body": "<p>Use <a href=\"http://p3rl.org/open\" rel=\"nofollow\">open</a> to open a file, specify the <code>&gt;</code> mode to open it for writing. You can use a regular expression match to extract the month, then just compare it to the remembered value from the previous iteration. It it's different, open a new file.</p>\n\n<p>So, basically, something like</p>\n\n<pre><code> perl -ne '\n          ($file) = m%^(.+)/%;                       # Extract the month(s).\n          open $OUT, \"&gt;\", $file if $file ne $opened; # Open the file if not yet opened.\n          $opened = $file;                           # Remember the last opened file.\n          print {$OUT} $_;                           # Print the line to it.\n         ' &lt; input.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1435060426, "creation_date": 1435060426, "answer_id": 31002076, "question_id": 31000398, "link": "https://stackoverflow.com/questions/31000398/perl-command-to-parse-a-text-file-and-spool-output-into-different-files-based-on/31002076#31002076", "title": "perl command to parse a text file and spool output into different files based on string pattern", "body": "<p>Something like:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n#iterate one line at a time from STDIN or specified filename(s)\nwhile (&lt;&gt;) {\n    #split content - note 'greedy' regex means as much as possible gets read into\n    #first capture group.\n    my ( $location, $content ) = m,(.*)/(.*),;\n    #replace slashes, so February/January becomes February_January\n    $location =~ tr,/,_,;\n\n    #open a file based on that, print content\n    open( my $output, \"&gt;&gt;\", \"$location.out\" ) or warn $!;\n    print {$output} $content;\n    close($output);\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5039610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4358f311d08c1be6de881c385d74db0d?s=128&d=identicon&r=PG&f=1", "display_name": "anirudh1624", "link": "https://stackoverflow.com/users/5039610/anirudh1624"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 767, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1435065120, "creation_date": 1435055508, "question_id": 31000398, "link": "https://stackoverflow.com/questions/31000398/perl-command-to-parse-a-text-file-and-spool-output-into-different-files-based-on", "title": "perl command to parse a text file and spool output into different files based on string pattern", "body": "<p>I am running a perl script which I spool into a text file in one of the computer drives say D:.</p>\n\n<p>The output (text) file would look like this:</p>\n\n<pre><code>January/huhuharf\nJanuary/asdgfsdf\nJanuary/asegfeargterg\nJanuary/4t3t46456786949rhjyrj\nJanuary/asdgfasdfgdfgdf\n.\n.\n.\n.\n.\n.\n\nFebruary/asdvgaretrterre\nFebruary/34523452345345\nFebruary/054656445\n.\n.\n.\n.\n.\n.\nMarch/q235345\nMarch/asfwetrert\nMarch/gqergergh34\nMarch/12353245\n.\n.\n</code></pre>\n\n<p>Could you please let me know of a command or script that will parse through the text file and split this output into multiple text files based on string pattern. For Eg: I would want all the lines containing \"January\" in one text file, similarly \"all the lines containing \"February\" should be in another file, etc. </p>\n\n<p>Furthermore, if there are lines like:</p>\n\n<pre><code>February/January/asdvgaretrterre\nFebruary/January/34523452345345\n.\n.\n</code></pre>\n\n<p>I would want these lines to be stored in another text file.</p>\n"}, {"tags": ["perl", "parsing", "ldap", "ldif"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 5021145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1f0e922260195efdd1f324618b00245?s=128&d=identicon&r=PG&f=1", "display_name": "guete", "link": "https://stackoverflow.com/users/5021145/guete"}, "edited": false, "score": 0, "creation_date": 1435081942, "post_id": 31000999, "comment_id": 50046919, "body": "btw, could you please give example using $variable instead of *DATA ? I update the question with background idea why I need this. thanks anyway, appreciated :)"}], "tags": [], "owner": {"reputation": 355, "user_id": 4311691, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f8g0A.jpg?s=128&g=1", "display_name": "Georgi Rangelov", "link": "https://stackoverflow.com/users/4311691/georgi-rangelov"}, "is_accepted": false, "score": 2, "last_activity_date": 1435057300, "creation_date": 1435057300, "answer_id": 31000999, "question_id": 31000327, "link": "https://stackoverflow.com/questions/31000327/perl-netldapldif-read-ldif-from-variable-string/31000999#31000999", "title": "perl Net::LDAP::LDIF read ldif from variable string", "body": "<p>You can append the data you have to the end of the script and read from the DATA filehandle ( Net::LDAP::LDIF documentation states the first parameter can be a filename or a filehandle )</p>\n\n<pre><code>use Net::LDAP::LDIF;\nuse Net::LDAP::Entry;\nuse Data::Dumper;\n\nmy $ldif = Net::LDAP::LDIF-&gt;new( *DATA, \"r\") or die \"file not exits\\n\";\nwhile( not $ldif-&gt;eof ( ) ) {\n    $entry = $ldif-&gt;read_entry ( );\n    print Dumper $entry;\n}\n\n__DATA__\ndn: cn=Sheri Smith,ou=people,dc=example,dc=com\nobjectclass: inetOrgPerson\ncn: Sheri Smith\nsn: smith\nuid: ssmith\nuserpassword: sSmitH\ncarlicense: HERCAR 125\nhomephone: 555-111-2225\n</code></pre>\n\n<p>Another solution is to write the contents of the $var_ldif to a temporary file.</p>\n\n<p>Are you sure NET::LDAP::LDIF is the right module for what you want to do ?</p>\n"}, {"tags": [], "owner": {"reputation": 11917, "user_id": 516433, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c292b959ecf29c86e4c0d093a6f24e19?s=128&d=identicon&r=PG", "display_name": "Lucas", "link": "https://stackoverflow.com/users/516433/lucas"}, "is_accepted": false, "score": 0, "last_activity_date": 1466778591, "creation_date": 1466778591, "answer_id": 38015845, "question_id": 31000327, "link": "https://stackoverflow.com/questions/31000327/perl-netldapldif-read-ldif-from-variable-string/38015845#38015845", "title": "perl Net::LDAP::LDIF read ldif from variable string", "body": "<p>You can <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\">open</a> a SCALAR ref:</p>\n\n<blockquote>\n  <p>Perl is built using PerlIO by default. Unless you've changed this\n  (such as building Perl with Configure -Uuseperlio ), you can open\n  filehandles directly to Perl scalars via:</p>\n  \n  <p><code>open(my $fh, \"&gt;\", \\$variable) || ..</code></p>\n</blockquote>\n\n<p>And per the <a href=\"http://search.cpan.org/~marschap/perl-ldap-0.65/lib/Net/LDAP/LDIF.pod\" rel=\"nofollow\">Net::LDAP::LDIF</a> documentation:</p>\n\n<blockquote>\n  <p>FILE may be the name of a file or an already open filehandle. If FILE\n  begins or ends with a | then FILE will be passed directly to open.</p>\n</blockquote>\n\n<p>So, to answer your question:</p>\n\n<pre><code>open(my $string_fh, '&lt;', $var_ldif) || die(\"failed to open: $?\");\nmy $ldif = Net::LDAP::LDIF-&gt;new($string_fh, 'r', onerror =&gt; 'die');\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 5021145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1f0e922260195efdd1f324618b00245?s=128&d=identicon&r=PG&f=1", "display_name": "guete", "link": "https://stackoverflow.com/users/5021145/guete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1466778591, "creation_date": 1435055333, "last_edit_date": 1435081885, "question_id": 31000327, "link": "https://stackoverflow.com/questions/31000327/perl-netldapldif-read-ldif-from-variable-string", "title": "perl Net::LDAP::LDIF read ldif from variable string", "body": "<p>Usually, I load parse ldif from file using following method:</p>\n\n<pre><code>use Net::LDAP::LDIF;\nuse Net::LDAP::Entry;\nuse Data::Dumper;\n\nmy $ldif = Net::LDAP::LDIF-&gt;new( \"filename.ldif\", \"r\") or die \"file not exits\\n\";\nwhile( not $ldif-&gt;eof ( ) ) {\n    $entry = $ldif-&gt;read_entry ( );\n    print Dumper $entry;\n}\n</code></pre>\n\n<p>but instead of load from file, <strong>I need load the LDIF format file directly from variable string</strong>. so the code will look like :</p>\n\n<pre><code>use Net::LDAP::LDIF;\nuse Net::LDAP::Entry;\nuse Data::Dumper;\n\nmy $var_ldif = \"dn: cn=Sheri Smith,ou=people,dc=example,dc=com\nobjectclass: inetOrgPerson\ncn: Sheri Smith\nsn: smith\nuid: ssmith\nuserpassword: sSmitH\ncarlicense: HERCAR 125\nhomephone: 555-111-2225\";\n\nmy $ldif = Net::LDAP::LDIF-&gt;new( $var_ldif, \"r\") or die \"file not exits\\n\";\nwhile( not $ldif-&gt;eof ( ) ) {\n    $entry = $ldif-&gt;read_entry ( );\n    print Dumper $entry;\n}\n</code></pre>\n\n<p>so, how to do it corectly?</p>\n\n<p>thanks and sorry for this stupid question. :)\nBR//</p>\n\n<p><strong>BACKGROUND IDEA</strong>\n<em>My goal is to build script that compare LDIF data before and after in detail (from dn until attribute values, one by one). the LDIF data itself is really huge, about 10GB or more per file.</em></p>\n\n<p>*So I come with idea to read the file per-DN, and compare it before and after. parsing of each DN is stored in $variable_before and $variable_after. that is why I actually need data from $ variable, because the 'LDIF format data' is come from output from previous process. *</p>\n\n<p><em>I need LDAP::LDIF to make easier to parse LDIF string into perl hashref.</em></p>\n\n<p><em>I avoid using temporary file because the \"DN data\" is really much, will slower in processing if using temporary file.</em></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1435073365, "post_id": 30999158, "comment_id": 50041396, "body": "Don&#39;t know embperl, so I don&#39;t know if the following will be useful, but it creates Perl file handles for fd 0 (stdin) and fd 1 (stdout): <code>open(my $actual_stdin, &#39;&lt;&amp;=&#39;, 0) or die($!); open(my $actual_stdout, &#39;&gt;&amp;=&#39;, 1) or die($!);</code>"}, {"owner": {"reputation": 49, "user_id": 999818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be0360ce57a8afcf5b5d7732411eda9a?s=128&d=identicon&r=PG", "display_name": "Martin Nov&#225;k", "link": "https://stackoverflow.com/users/999818/martin-nov%c3%a1k"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1435152961, "post_id": 30999158, "comment_id": 50080713, "body": "Thank you, this solved the issue. I just used something like <code>open(my $actual_stdout, &#39;&gt;&amp;=&#39;, $FILE_ID) or die($!);</code> which redirected the standard output to the file handle which I passed via script argument."}], "owner": {"reputation": 49, "user_id": 999818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be0360ce57a8afcf5b5d7732411eda9a?s=128&d=identicon&r=PG", "display_name": "Martin Nov&#225;k", "link": "https://stackoverflow.com/users/999818/martin-nov%c3%a1k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435052232, "creation_date": 1435052232, "question_id": 30999158, "link": "https://stackoverflow.com/questions/30999158/how-to-use-custom-stdin-stdout-in-perlembed", "title": "How to use custom stdin/stdout in perlembed", "body": "<p>I'm making a program in C on Mac that runs a perl script in embedded perl using perlembed. I would like to communicate with the program using stdin and stdout. But the idea is that this stdin/out should be some open handle that I would write some commands and read the script output. The handle shouldn't interfere with my program's stdin/out to avoid possible collision. I tried to research some stuff like:</p>\n\n<ul>\n<li>passing handle id to \"select XX\" command, but no success so far</li>\n<li>I tried to have a look to perlio, but I'm completely lost there.</li>\n</ul>\n\n<p>I'm not sure if these things were good things to try or not or if I used them correctly. Can you, please, recommend me which direction should I go?</p>\n"}, {"tags": ["c#", "asp.net", "vb.net", "perl"], "comments": [{"owner": {"reputation": 822, "user_id": 2131913, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ac79c3a8b5d766be287aceed953a6fe?s=128&d=identicon&r=PG", "display_name": "sblandin", "link": "https://stackoverflow.com/users/2131913/sblandin"}, "edited": false, "score": 0, "creation_date": 1435065032, "post_id": 30994805, "comment_id": 50034973, "body": "Is the perl script located in the same folder of the web app?"}], "owner": {"reputation": 31, "user_id": 5036375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d908cfaba617b732e7a180ebb17667f?s=128&d=identicon&r=PG&f=1", "display_name": "Dipali", "link": "https://stackoverflow.com/users/5036375/dipali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435039432, "creation_date": 1435038686, "last_edit_date": 1495541648, "question_id": 30994805, "link": "https://stackoverflow.com/questions/30994805/trouble-executing-perl-script-in-c-web-application-after-deployed-on-iis", "title": "Trouble executing Perl script in C# Web Application after deployed on IIS", "body": "<p>I am having issues with executing a Perl script with input parameters within a <code>C# Web Application</code> after I deploy it on <code>IIS</code>. I have no problem executing the code from Visual Studio. I am using <code>IIS 7 and .Net framework 4.0</code>.</p>\n\n<p>I referred to link <a href=\"https://stackoverflow.com/questions/15695868/trouble-executing-perl-script-in-c-sharp-web-application\">Trouble executing Perl script in C# Web Application</a>\nbut could not get what permissions and for which user I need to set the permissions.</p>\n\n<p>The code I am using is:</p>\n\n<pre><code>try\n{\n    System.Diagnostics.ProcessStartInfo procStartInfo = new System.Diagnostics.ProcessStartInfo();\n    procStartInfo.FileName = @\"perl.exe\";\n    procStartInfo.Arguments = (string)command;\n    procStartInfo.RedirectStandardOutput = true;\n    procStartInfo.RedirectStandardError = true;\n    procStartInfo.RedirectStandardInput = true;\n    procStartInfo.UseShellExecute = false;\n    procStartInfo.CreateNoWindow = true;\n    System.Diagnostics.Process proc = new System.Diagnostics.Process();\n    proc.StartInfo = procStartInfo;\n\n    proc.Start();\n    result = proc.StandardOutput.ReadToEnd();\n}\ncatch (Exception objException)\n{\n    Response.Write(objException.ToString());\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 1267, "user_id": 1453258, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1035122868d481c530da3d88e0bc127c?s=128&d=identicon&r=PG", "display_name": "Rohit Shinde", "link": "https://stackoverflow.com/users/1453258/rohit-shinde"}, "edited": false, "score": 0, "creation_date": 1435037819, "post_id": 30994579, "comment_id": 50018358, "body": "The meaning of this is equals with <code>if($_ =~ &#47;&lt;P&gt;&#47;) ...</code> it will work with the next line if the actual contains <code>&lt;P&gt;</code>"}, {"owner": {"reputation": 1267, "user_id": 1453258, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1035122868d481c530da3d88e0bc127c?s=128&d=identicon&r=PG", "display_name": "Rohit Shinde", "link": "https://stackoverflow.com/users/1453258/rohit-shinde"}, "edited": false, "score": 0, "creation_date": 1435037885, "post_id": 30994579, "comment_id": 50018382, "body": "The whole snippet is this:  <code>if(&#47;&lt;P&gt;&#47;) {next;} </code> <code>chop;</code>"}, {"owner": {"reputation": 1267, "user_id": 1453258, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1035122868d481c530da3d88e0bc127c?s=128&d=identicon&r=PG", "display_name": "Rohit Shinde", "link": "https://stackoverflow.com/users/1453258/rohit-shinde"}, "edited": false, "score": 0, "creation_date": 1435037923, "post_id": 30994579, "comment_id": 50018400, "body": "So basically this code splits sentences from a given mass of text?"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": true, "score": 1, "last_activity_date": 1435038744, "last_edit_date": 1592644375, "creation_date": 1435037571, "answer_id": 30994579, "question_id": 30994505, "link": "https://stackoverflow.com/questions/30994505/command-line-arguments-in-perl/30994579#30994579", "title": "Command line arguments in Perl", "body": "<p>$! and $_ are global variables. For more information you can read <a href=\"http://www.tutorialspoint.com/perl/perl_special_variables.htm\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>$_ The default input and pattern-searching space</p>\n<p>$! If used in a numeric context, yields the current value of the errno variable, identifying the last system call error. If used in a string context, yields the corresponding system error string.</p>\n</blockquote>\n<pre><code>open(NC, &quot;|nc localhost 17001&quot;) || die &quot;nc failed: $!\\n&quot;;\n</code></pre>\n<p>will run the command nc with the parameter and if it fails it will give you the error message.</p>\n"}], "owner": {"reputation": 1267, "user_id": 1453258, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1035122868d481c530da3d88e0bc127c?s=128&d=identicon&r=PG", "display_name": "Rohit Shinde", "link": "https://stackoverflow.com/users/1453258/rohit-shinde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 30994579, "answer_count": 1, "score": 0, "last_activity_date": 1435038744, "creation_date": 1435037210, "question_id": 30994505, "link": "https://stackoverflow.com/questions/30994505/command-line-arguments-in-perl", "title": "Command line arguments in Perl", "body": "<p>I am working on an open source project for GSoC and I have this piece of Perl code with me. I need to create another Perl file for a similar task. However, I am having trouble understanding 3 lines of this file. More specifically, I am not able to understand why the files have <code>$</code> symbol. I assume it is because they are command line arguments. However, I am not sure. I would like to have the meaning of these 3 lines explained to me.</p>\n\n<pre><code>open(NC, \"|nc localhost 17001\") || die \"nc failed: $!\\n\";\nprint NC \"scm hush\\n(observe-text \\\"$_\\\")\\n\";\nprint \"submit-one: $_\\n\";\n</code></pre>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "edited": false, "score": 0, "creation_date": 1435034999, "post_id": 30993820, "comment_id": 50017324, "body": "I think you need to say &#39;use A&#39; at the start of the B.pm file, then call the sub  with A::your_sub_name();"}, {"owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "edited": false, "score": 5, "creation_date": 1435035736, "post_id": 30993820, "comment_id": 50017578, "body": "Post a complete example that demonstrates the problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1435072746, "post_id": 30993820, "comment_id": 50040972, "body": "Hard to tell what you did wrong since you didn&#39;t show us, but it&#39;s possibly a duplicate of <a href=\"http://stackoverflow.com/q/11521584/589924\">Why don&#39;t functions from package A get imported into package B when they recursively call each other?</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1435072803, "post_id": 30993820, "comment_id": 50041017, "body": "Tip: Don&#39;t call your module <code>B</code>. There&#39;s a core package called that."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1435072840, "post_id": 30993947, "comment_id": 50041040, "body": "No, that would result in <code>Can&#39;t locate A.pm in @INC</code>"}], "tags": [], "owner": {"reputation": 1253, "user_id": 792479, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59768793d816fc6e44f67a9bb5ffbe13?s=128&d=identicon&r=PG", "display_name": "Raghuveer", "link": "https://stackoverflow.com/users/792479/raghuveer"}, "is_accepted": false, "score": 0, "last_activity_date": 1435034159, "creation_date": 1435034159, "answer_id": 30993947, "question_id": 30993820, "link": "https://stackoverflow.com/questions/30993820/how-to-call-a-subroutine-from-one-perl-module-to-another-perl-module/30993947#30993947", "title": "How to call a subroutine from one perl module to another perl module?", "body": "<p>Undefined error could be because your B.PM is not able to find A.PM. Can you try using</p>\n\n<pre><code>use FindBin;\nuse lib \"$FindBin::Bin/../lib\";\n</code></pre>\n\n<p>or directly using <code>use lib \"$folder containing A.pm\"</code></p>\n\n<p>Also, I am not clear where are you getting undefined. In your perl script or in your B.PM module ?</p>\n"}, {"comments": [{"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 0, "creation_date": 1527170117, "post_id": 30997805, "comment_id": 88034606, "body": "This didn&#39;t work for me.  Can you please provide a complete end-to-end example using <code>use A qw ( somefunction );</code> and explain how a novice Perl user would invoke that function without running up against syntax errors and <code>undefined function</code> errors?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1527171227, "post_id": 30997805, "comment_id": 88035435, "body": "If it works for the OP, and doesn&#39;t for you, I&#39;d suggest there&#39;s a difference in detail between your scenarios. Your best bet would therefore to be to ask another question (and maybe reference this one, explaining what&#39;s different)"}, {"owner": {"reputation": 165, "user_id": 632913, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/82522ee3159fe4a5ff9f21c0d1239505?s=128&d=identicon&r=PG", "display_name": "dave2118", "link": "https://stackoverflow.com/users/632913/dave2118"}, "edited": false, "score": 0, "creation_date": 1592922335, "post_id": 30997805, "comment_id": 110594554, "body": "Referring to the package path worked for me.  Thank You!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1435048678, "creation_date": 1435048678, "answer_id": 30997805, "question_id": 30993820, "link": "https://stackoverflow.com/questions/30993820/how-to-call-a-subroutine-from-one-perl-module-to-another-perl-module/30997805#30997805", "title": "How to call a subroutine from one perl module to another perl module?", "body": "<p>There's two elements - first is finding the module. Perl has a 'library' path that you can find by:</p>\n\n<pre><code>print join ( \"\\n\", @INC ); \n</code></pre>\n\n<p>This is the places where it looks. It will also check the current working directory, but it's a little bit more difficult using a run time relative path - you need to use the <code>FindBin</code> module for that.</p>\n\n<p>The second element is importing and exporting the subroutine. By default, if you <code>use A;</code> you <em>won't</em> import everything into your local name space because... you don't want to accidentally override one of your internal functions. That way lies madness. </p>\n\n<p>So you either:</p>\n\n<pre><code>use A qw ( somefunction ); \n</code></pre>\n\n<p>Which will 'pull in' that function and define it in your local namespace. The exact behavor of these things can be modified via <a href=\"http://perldoc.perl.org/Exporter.html\" rel=\"noreferrer\"><code>Exporter</code></a> and setting <code>@EXPORT</code> and <code>@EXPORT_OK</code>.  </p>\n\n<p>Or refer to it by the 'package path'. </p>\n\n<pre><code>A::somefunction(@arguments);\n</code></pre>\n\n<p>This also works for variables, although you will have to scope them with <code>our</code> rather than <code>my</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 11399, "user_id": 74585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o1jYf.jpg?s=128&g=1", "display_name": "Matthew Lock", "link": "https://stackoverflow.com/users/74585/matthew-lock"}, "is_accepted": false, "score": 0, "last_activity_date": 1531900774, "creation_date": 1531900774, "answer_id": 51396604, "question_id": 30993820, "link": "https://stackoverflow.com/questions/30993820/how-to-call-a-subroutine-from-one-perl-module-to-another-perl-module/51396604#51396604", "title": "How to call a subroutine from one perl module to another perl module?", "body": "<p>I just wanted to directly call a sub (glob) from a perl module (File::Glob::Windows) without import the sub glob as it was clashing with Moose with the error \"overwriting a locally defined function with an accessor\".</p>\n\n<p>This pointed me in the right direction: <a href=\"https://www.perlmonks.org/?node_id=623567\" rel=\"nofollow noreferrer\">https://www.perlmonks.org/?node_id=623567</a></p>\n\n<pre><code>use File::Glob::Windows qw();   # Hide everything\n\n...\n\nFile::Glob::Windows::glob(...); # Access sub explicitly\n</code></pre>\n"}], "owner": {"reputation": 387, "user_id": 544808, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/bcb2af5ea959902ffe87831794955b14?s=128&d=identicon&r=PG", "display_name": "googytech", "link": "https://stackoverflow.com/users/544808/googytech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7736, "favorite_count": 1, "accepted_answer_id": 30997805, "answer_count": 3, "score": 2, "last_activity_date": 1531900774, "creation_date": 1435033351, "question_id": 30993820, "link": "https://stackoverflow.com/questions/30993820/how-to-call-a-subroutine-from-one-perl-module-to-another-perl-module", "title": "How to call a subroutine from one perl module to another perl module?", "body": "<p>I have a perl file which makes use of two perl modules A.pm , B.pm. </p>\n\n<p>But in B.pm I need to call a subroutine of A.pm. Even if I give use in A.pm and try to use it I am still getting undefined error. </p>\n\n<p>Any help on this greatly appreciated. </p>\n"}, {"tags": ["arrays", "perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1435034419, "creation_date": 1435034419, "answer_id": 30993973, "question_id": 30993490, "link": "https://stackoverflow.com/questions/30993490/filling-and-searching-a-hash-of-arrays-in-perl/30993973#30993973", "title": "Filling and searching a hash of arrays in Perl?", "body": "<p>You are close, just need to unroll ther rray at each hash key</p>\n\n<pre><code># Go through each search term.\nforeach my $match(@search_terms)  {\n   # If a key exists in the hash table, then we have a matched result.\n   if($hash{$match})  {\n        # Print the file name (scalar value for word key).\n        print \"$hash{$match} matched in file(s) \";\n        foreach my $elem ( @{\"$hash{$match}} ) {\n            print \"$elem : \"\n        }\n        print \"\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1435054321, "creation_date": 1435054321, "answer_id": 30999931, "question_id": 30993490, "link": "https://stackoverflow.com/questions/30993490/filling-and-searching-a-hash-of-arrays-in-perl/30999931#30999931", "title": "Filling and searching a hash of arrays in Perl?", "body": "<p>The thing you are missing is that there is not really any such thing as a hash of arrays in perl. Or an array of hashes. Both arrays and hashes can only hold a single value.</p>\n\n<p>They way perl 'does' multi-dimensional is through references:</p>\n\n<pre><code>my %hash;\npush ( @{$hash{'fish'}}, \"trout\" ); \n\nforeach my $key ( keys %hash ) {\n   print \"$key $hash{$key}\\n\";\n}\n</code></pre>\n\n<p>This will print (something like):</p>\n\n<pre><code>fish ARRAY(0x2d6ed4)\n</code></pre>\n\n<p>This is because the <em>single value</em> in <code>$hash{$key}</code> is a reference to that array. Which you then need to de-reference in order to access. </p>\n\n<p>E.g.</p>\n\n<pre><code>print join ( \"\\n\", @{$hash{$key}} ); \n</code></pre>\n\n<p>for example.</p>\n\n<p><code>Data::Dumper</code> can help you understand what's going on:</p>\n\n<pre><code>my %hash;\npush ( @{$hash{'fish'}}, \"trout\" ); \n\nprint Dumper \\%hash;\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>$VAR1 = {\n          'fish' =&gt; [\n                      'trout'\n                    ]\n        };\n</code></pre>\n\n<p>To to answer your original question - change your foreach loop slightly:</p>\n\n<pre><code>foreach my $match (@search_terms)  {\n   # If a key exists in the hash table, then we have a matched result.\n   if($hash{$match})  {\n        # Print the file name (scalar value for word key).\n        # $hash{$match} is an array reference, so we need to de-reference:\n        my @matching_files = @{$hash{$match}};\n        print \"$match found in:\\n\";\n        print join ( \"\\n\", @matching_files),\"\\n\";\n    }\n}\n</code></pre>\n\n<p>(I have made this a little more verbose than it needs to be for clarity - you can reduce it further though). </p>\n\n<p>I would also offer some secondary suggestions:</p>\n\n<ul>\n<li>Turn on <code>strict</code> and <code>warnings</code>. They're important for writing good code. </li>\n<li><p>Don't use <code>open</code> like that. Try instead:</p>\n\n<pre><code>open ( my $file, \"&lt;\", $filename ) or die $!; \nwhile ( &lt;$file&gt; ) { ... }\n</code></pre></li>\n<li><p>I prefer <code>glob</code> to <code>readdir</code> and <code>grep</code> because one of the gotchas of the approach you're doing is that all your <code>open</code>s will fail, unless <code>$directory</code> is also the current working directory. (You'd need to add a path to the filename). :</p>\n\n<pre><code>foreach my $filename ( glob \"$directory/*.txt\" ) { ... } \n</code></pre></li>\n<li><p><code>split(' ');</code> is good, but it's the same as <code>split;</code>. Choose whichever you feel is most readable. </p></li>\n<li><p>you don't actually need to do <code>my @words = split;</code> you could just do <code>foreach my $word ( split ) { ...</code></p></li>\n</ul>\n"}], "owner": {"reputation": 31, "user_id": 2925352, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1863e8f1400effb1f11e2d0ce0c47c02?s=128&d=identicon&r=PG&f=1", "display_name": "RecursionIsSexy", "link": "https://stackoverflow.com/users/2925352/recursionissexy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 777, "favorite_count": 0, "accepted_answer_id": 30999931, "answer_count": 2, "score": 1, "last_activity_date": 1435054321, "creation_date": 1435031060, "last_edit_date": 1435031390, "question_id": 30993490, "link": "https://stackoverflow.com/questions/30993490/filling-and-searching-a-hash-of-arrays-in-perl", "title": "Filling and searching a hash of arrays in Perl?", "body": "<p>I am trying to fill a hash of arrays with words from all the text files in a directory.  Words serve as keys, while the file name serves as the scalar value associated with the key.</p>\n\n<p>I am using a hash of arrays since a word may easily be repeated in another text file.  I want to fill the hash; then I would like to search by key words to determine which files contain some given keywords.</p>\n\n<p>An excerpt of my code:</p>\n\n<pre><code># Search term(s).\nmy @search_terms = (\"random\", \"searches\");\n\nopendir(DIR, $directory) or die $!;\n@files = grep(/\\.txt$/, readdir(DIR)) or die(\"you idiot\");\n\n# Create a hash table to store the words as keys and the file name. \nmy %hash;\n\n# Go through the files, grab the words, and create hash table.  \nforeach my $file(@files)  {\n    open(FILE,\"&lt;$file\") or die $!;\n    while(&lt;FILE&gt;){\n        chomp;\n        my @words = split(' ');\n        # Store the key, value pairs for each file.\n        # Key is the word.\n        # Value is the file name.\n        foreach my $word(@words)  {\n            push @{$hash{$word}}, $file;\n        }\n    }\n    close(FILE);\n}\n\n# Go through each search term.\nforeach my $match(@search_terms)  {\n   # If a key exists in the hash table, then we have a matched result.\n   if($hash{$match})  {\n        # Print the file name (scalar value for word key).\n        print \"$hash{$match} matched.\";\n        print \"\\n\";\n    }\n}\n</code></pre>\n\n<p>It appears that perhaps I'm not filling my hash correctly (or I just don't know how to print a hash of arrays).  Also, my matching is incorrect for files.  Any help as to what I'm doing wrong would be greatly appreciated!  Thanks!</p>\n"}, {"tags": ["perl", "dancer", "xml-twig"], "comments": [{"owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "edited": false, "score": 6, "creation_date": 1435028379, "post_id": 30993043, "comment_id": 50015588, "body": "What is the error?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1435045106, "post_id": 30993043, "comment_id": 50022002, "body": "You are not turning your myapp.pm into a Dancer app, you are just importing the Dancer syntax. There is a difference. Is that what you are intending to do?"}, {"owner": {"reputation": 660, "user_id": 521965, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/5ad3b36914a0ef795cfc750f07f9ebc2?s=128&d=identicon&r=PG", "display_name": "aliocee", "link": "https://stackoverflow.com/users/521965/aliocee"}, "edited": false, "score": 0, "creation_date": 1435062920, "post_id": 30993043, "comment_id": 50033456, "body": "Runtime Error  runtime error  Can&#39;t use an undefined value as a HASH reference at /Library/Perl/5.18/Dancer/Route/Registry.pm line 125."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1435069801, "post_id": 30993043, "comment_id": 50038697, "body": "@aliocee Please post the actual code you&#39;re using; the snippet you&#39;ve posted doesn&#39;t generate that error."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1435072285, "post_id": 30993043, "comment_id": 50040668, "body": "I think that could be based on the <code>get</code> imported from LWP::Simple. Dancer has a <code>get</code> DSL keyword (which you actually use). Try <code>use LWP::Simple ()</code> and later <code>my $docsums = LWP::Simple::get($url)</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1435081758, "post_id": 30993043, "comment_id": 50046802, "body": "I can&#39;t duplicate your issue. Running the code you posted, I get a different error: <code>Undefined subroutine &amp;MyApp::summary</code>. This happens because you pass a code reference to <code>XML::Twig::new</code> but never defined the <code>summary</code> function. Please <a href=\"https://stackoverflow.com/posts/30993043/edit\">edit</a> your question to include the contents of config.yml and what version of Dancer you&#39;re using."}], "owner": {"reputation": 660, "user_id": 521965, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/5ad3b36914a0ef795cfc750f07f9ebc2?s=128&d=identicon&r=PG", "display_name": "aliocee", "link": "https://stackoverflow.com/users/521965/aliocee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435072450, "creation_date": 1435027891, "last_edit_date": 1435072450, "question_id": 30993043, "link": "https://stackoverflow.com/questions/30993043/how-to-import-perl-module-xmltwig-in-a-dancer-framework", "title": "How to import perl module (xml::twig) in a dancer framework", "body": "<p>I am working on a webapp using Perl Dancer Framework. I am using XML::Twig in  <code>lib/myapp.pm</code> file but it seems to be causing a problem for me:</p>\n\n<pre><code>package map;\nuse Dancer ':syntax';\n\nuse LWP::Simple;\nuse XML::Twig;\n\nour $VERSION = '0.1';\n\nget '/' =&gt; sub {\n    template 'index';\n};\n\npost '/' =&gt; sub {\n\n    my $id = params -&gt; {id};\n    my $ls = params -&gt; {list};\n\n    my @as = split /\\,/, $ls;\n\n    foreach my $a (@as){\n\n        #assemble the epost URL\n        my $db = 'gene';\n        my $base = 'http://eutils.ncbi.nlm.nih.gov/entrez/eutils/';\n        my $url = $base . \"esummary.fcgi?db=$db&amp;id=$a\";\n        my $docsums = get($url);\n\n        #parse the record\n            my $t= XML::Twig-&gt;new(twig_roots =&gt; { \n              'DocumentSummary' =&gt; \\&amp;summary\n             });\n            $t-&gt;parse($docsums);\n\n        }\n    };\n\n    true;\n</code></pre>\n\n<p>The error it gives is:</p>\n\n<pre><code>Runtime Error runtime error Can't use an undefined value as a HASH reference at /Library/Perl/5.18/Dancer/Route/Registry.pm line 125\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 23234, "user_id": 4333555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i9zgM.jpg?s=128&g=1", "display_name": "chris85", "link": "https://stackoverflow.com/users/4333555/chris85"}, "edited": false, "score": 0, "creation_date": 1435017041, "post_id": 30991628, "comment_id": 50012981, "body": "I don&#39;t know perl but maybe <code>([.?!])\\S</code> replace with <code>$1 </code>."}, {"owner": {"reputation": 5903, "user_id": 790107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de1c480ed937e9291c4dcbf252e6d1f?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/790107/david"}, "edited": false, "score": 0, "creation_date": 1435017591, "post_id": 30991628, "comment_id": 50013135, "body": "Are you guaranteed that the first letter following <code>., ?, !</code> will be lower-case?  What about this, for example:  <code>the quick.Brown fox.</code>"}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 4044142, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a66234cf1b194b76cd5fe1fe8b966e88?s=128&d=identicon&r=PG&f=1", "display_name": "RoflcopterV RoflcopterV", "link": "https://stackoverflow.com/users/4044142/roflcopterv-roflcopterv"}, "edited": false, "score": 0, "creation_date": 1435073397, "post_id": 30992132, "comment_id": 50041426, "body": "This worked great, thanks for the explanation. I ended up needing to exclude &quot;.com&quot; and &quot;.net&quot; from this for my purposes, ended with a negative lookahead added to the start: <code>$text =~ s&#47;(?!.com|.net)[.?!]\\s*([a-z]?)&#47;. \\U$1&#47;img;</code>"}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 1, "last_activity_date": 1435093434, "last_edit_date": 1435093434, "creation_date": 1435020503, "answer_id": 30992132, "question_id": 30991628, "link": "https://stackoverflow.com/questions/30991628/perl-regex-replace-the-ending-of-sentences-to-be-period-one-whitespace-capit/30992132#30992132", "title": "Perl Regex - Replace the ending of sentences to be period, one whitespace, capital letter", "body": "<p>I think this will do what you want:</p>\n\n<pre><code>my $test = ucfirst('the quick.brown fox. jumped over! the slow.  dog');\n$test =~ s/[.?!]\\s*([a-z]?)/. \\U$1/img;\nsay $test;\n</code></pre>\n\n<p>As you can see, I moved the opening <code>(</code> so that the only thing captured was the letter you want to convert to uppercase.  All the parts of the match on the left hand side will be removed/replaced, capture brackets <code>(...)</code> +\u00a0<code>$1</code> allow you to carry part of that across to the replacement side.</p>\n\n<p>Note you generally don't need to backslash-escape things in <code>[...]</code>.</p>\n\n<p>@Borodin's edit added the <code>?</code> after <code>[a-z]</code> which makes the letter optional.  This allows the punctuation and the following spaces to be normalised even if the next thing is not a letter, or if it's the end of the line.</p>\n"}], "owner": {"reputation": 143, "user_id": 4044142, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a66234cf1b194b76cd5fe1fe8b966e88?s=128&d=identicon&r=PG&f=1", "display_name": "RoflcopterV RoflcopterV", "link": "https://stackoverflow.com/users/4044142/roflcopterv-roflcopterv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 30992132, "answer_count": 1, "score": 1, "last_activity_date": 1435093434, "creation_date": 1435016280, "question_id": 30991628, "link": "https://stackoverflow.com/questions/30991628/perl-regex-replace-the-ending-of-sentences-to-be-period-one-whitespace-capit", "title": "Perl Regex - Replace the ending of sentences to be period, one whitespace, capital letter", "body": "<p>I'm trying to develop a regex that will replace messy sentence endings with cleaner ones.</p>\n\n<p>For example, turning:</p>\n\n<pre><code>the quick.brown fox. jumped over! the slow.  dog\n</code></pre>\n\n<p>Into:</p>\n\n<pre><code>The quick. Brown fox. Jumped over. The slow. Dog\n</code></pre>\n\n<p>Here's what I have so far:</p>\n\n<pre><code>my $test = ucfirst('the quick.brown fox. jumped over! the slow.  dog');\n$test =~ s/([\\.\\?!]\\s*[a-z])/\\U$1/mg;\nprint $test;\n</code></pre>\n\n<p>Result is:</p>\n\n<pre><code>The quick.Brown fox. Jumped over! The slow.  Dog\n</code></pre>\n\n<p>I'm not having much luck figuring out how to force a period and single whitespace.</p>\n\n<p>Any help appreciated, thanks!</p>\n"}, {"tags": ["perl", "unix", "command-line", "awk"], "comments": [{"owner": {"reputation": 55264, "user_id": 1258041, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a2593c44c42429c503d2e5e9e307e241?s=128&d=identicon&r=PG", "display_name": "Lev Levitsky", "link": "https://stackoverflow.com/users/1258041/lev-levitsky"}, "edited": false, "score": 0, "creation_date": 1435012962, "post_id": 30990942, "comment_id": 50011739, "body": "See also: <a href=\"http://stackoverflow.com/q/10286522/1258041\">stackoverflow.com/q/10286522/1258041</a> and <a href=\"http://superuser.com/q/136821/126558\">superuser.com/q/136821/126558</a>"}, {"owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "edited": false, "score": 3, "creation_date": 1435013733, "post_id": 30990942, "comment_id": 50012025, "body": "Why not store the script in a file and simply execute the script?"}, {"owner": {"reputation": 29251, "user_id": 3923896, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4139ee1298ce4b0690a788cb97d47569?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Summit", "link": "https://stackoverflow.com/users/3923896/steve-summit"}, "edited": false, "score": 1, "creation_date": 1435013786, "post_id": 30990942, "comment_id": 50012042, "body": "I believe the standard solution here is an awk or perl one-liner.  Me, I got tired of those a long time ago, and wrote a &quot;math editor&quot; tool that lets me easily invoke things like <code>med &#39;sum(c1)&#39;</code> which simply sums column 1, but as this isn&#39;t a standard utility it&#39;s not an answer to your question."}, {"owner": {"reputation": 6354, "user_id": 4258430, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a2d5075177b2ff473c38f6d8fb64894?s=128&d=identicon&r=PG", "display_name": "Allen Luce", "link": "https://stackoverflow.com/users/4258430/allen-luce"}, "edited": false, "score": 0, "creation_date": 1435019763, "post_id": 30990942, "comment_id": 50013611, "body": "&quot;Standard&quot; isnt&#39; such a big deal -- have you published it anywhere?"}, {"owner": {"reputation": 29251, "user_id": 3923896, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4139ee1298ce4b0690a788cb97d47569?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Summit", "link": "https://stackoverflow.com/users/3923896/steve-summit"}, "edited": false, "score": 0, "creation_date": 1435029263, "post_id": 30990942, "comment_id": 50015836, "body": "It&#39;s at <a href=\"https://www.eskimo.com/~scs/src/#med\" rel=\"nofollow noreferrer\">eskimo.com/~scs/src/#med</a> , but I&#39;m afraid it still won&#39;t help you, because I misread the question you posed, which ends up being a notch more complicated than med can handle."}, {"owner": {"reputation": 6354, "user_id": 4258430, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a2d5075177b2ff473c38f6d8fb64894?s=128&d=identicon&r=PG", "display_name": "Allen Luce", "link": "https://stackoverflow.com/users/4258430/allen-luce"}, "reply_to_user": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "edited": false, "score": 0, "creation_date": 1435031482, "post_id": 30990942, "comment_id": 50016368, "body": "@ShellFish That&#39;s what I usually end up doing. I just figured that need oughta be common enough that someone&#39;s already wrapped up a neat little utility for it."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435040379, "post_id": 30990942, "comment_id": 50019434, "body": "Instead of gnu parallel,  have you considered running the whole thing as parallel perl?  That way you probably don&#39;t need a long pipe."}, {"owner": {"reputation": 6354, "user_id": 4258430, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a2d5075177b2ff473c38f6d8fb64894?s=128&d=identicon&r=PG", "display_name": "Allen Luce", "link": "https://stackoverflow.com/users/4258430/allen-luce"}, "edited": false, "score": 0, "creation_date": 1435049972, "post_id": 30990942, "comment_id": 50025014, "body": "I intend to keep the pipe construction for this particular class of tasks. It&#39;s quicker and more convenient for me to do so."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1435075158, "post_id": 30990942, "comment_id": 50042649, "body": "Sorry but this is too specialized and WAY too trivial to solve in a tiny awk or perl script for there to be any unique utility to do it. You don&#39;t need all of those other commands you are piping together if you are using awk. One small, simple awk script would almost certainly do everything you want."}], "answers": [{"comments": [{"owner": {"reputation": 6354, "user_id": 4258430, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a2d5075177b2ff473c38f6d8fb64894?s=128&d=identicon&r=PG", "display_name": "Allen Luce", "link": "https://stackoverflow.com/users/4258430/allen-luce"}, "edited": false, "score": 0, "creation_date": 1435050029, "post_id": 30991641, "comment_id": 50025047, "body": "I&#39;m looking to avoid this sort of construction, and am looking for a more specialized tool than perl."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6354, "user_id": 4258430, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a2d5075177b2ff473c38f6d8fb64894?s=128&d=identicon&r=PG", "display_name": "Allen Luce", "link": "https://stackoverflow.com/users/4258430/allen-luce"}, "edited": false, "score": 0, "creation_date": 1435050526, "post_id": 30991641, "comment_id": 50025359, "body": "@DougLuce: Then I&#39;m afraid your question is unclear. You&#39;ve been asked why you don&#39;t simply put the Perl code into a program file. You didn&#39;t respond to that, and I can&#39;t imagine a more specialised tool. At the same time you say you <i>\u201cintend to keep the pipe construction\u201d</i>, which seems to go in the opposite direction. The only other answer you have is very similar to my own but using awk in place of Perl, so it isn&#39;t just me being dumb"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "reply_to_user": {"reputation": 6354, "user_id": 4258430, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a2d5075177b2ff473c38f6d8fb64894?s=128&d=identicon&r=PG", "display_name": "Allen Luce", "link": "https://stackoverflow.com/users/4258430/allen-luce"}, "edited": false, "score": 1, "creation_date": 1435058570, "post_id": 30991641, "comment_id": 50030612, "body": "@DougLuce Why would anyone have created a utility for this, when it&#39;s easily doable with less than a line of code ?"}, {"owner": {"reputation": 6354, "user_id": 4258430, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a2d5075177b2ff473c38f6d8fb64894?s=128&d=identicon&r=PG", "display_name": "Allen Luce", "link": "https://stackoverflow.com/users/4258430/allen-luce"}, "edited": false, "score": 0, "creation_date": 1435269844, "post_id": 30991641, "comment_id": 50143636, "body": "See Steve Summit&#39;s comment on my question. I&#39;m tired of cranking out very similar one-liner scripts for this kind of situation. My question is not &quot;should I put my script into a file and run it in various places&quot; nor are answers and comments to this effect particularly helpful."}, {"owner": {"reputation": 6354, "user_id": 4258430, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a2d5075177b2ff473c38f6d8fb64894?s=128&d=identicon&r=PG", "display_name": "Allen Luce", "link": "https://stackoverflow.com/users/4258430/allen-luce"}, "edited": false, "score": 0, "creation_date": 1435269944, "post_id": 30991641, "comment_id": 50143686, "body": "The while in the end clause as an idiom is nice, thanks for that.  I just used it in yet another instance that the utility I fantasize about should tackle: <code>perl -alne &#39;$x{$F[0]} .= $F[1] . &quot; &quot;; END {print &quot;@v&quot; while @v = each %x}&#39;</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1435016771, "last_edit_date": 1435016771, "creation_date": 1435016410, "answer_id": 30991641, "question_id": 30990942, "link": "https://stackoverflow.com/questions/30990942/sum-counts-in-a-text-file/30991641#30991641", "title": "Sum counts in a text file", "body": "<p>Most of your code is in the <code>END</code> block to display the hash. You can make that much more concise using <code>while</code> instead of <code>for</code></p>\n\n<pre><code>perl -lanE '$O{$F[1]} += $F[0]; END {say \"@v\" while @v = each %O}}' countsfile\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>object1 5833\nobject3 277\nobject2 356\n</code></pre>\n\n<p>or, if you're inclined to install <code>Data::Dump</code> you can lose the loop altogether</p>\n\n<pre><code>perl -MData::Dump -lanE '$O{$F[1]} += $F[0]; END {dd \\%O}' countsfile\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{ object1 =&gt; 5833, object2 =&gt; 356, object3 =&gt; 277 }\n</code></pre>\n\n<p>You can even mess with the syntax to avoid the need for the <code>END</code> block</p>\n\n<pre><code>perl -lanE '$O{$F[1]} += $F[0];}{say \"@v\" while @v = each %O' countsfile\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6354, "user_id": 4258430, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a2d5075177b2ff473c38f6d8fb64894?s=128&d=identicon&r=PG", "display_name": "Allen Luce", "link": "https://stackoverflow.com/users/4258430/allen-luce"}, "edited": false, "score": 0, "creation_date": 1435050172, "post_id": 30993703, "comment_id": 50025142, "body": "This really isn&#39;t an improvement over what I&#39;m already doing.  I want to avoid having to write in perl or awk or anything that requires this level of complexity.  So I&#39;m looking for something specialized."}, {"owner": {"reputation": 5027, "user_id": 2290847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XjQRo.jpg?s=128&g=1", "display_name": "Arjun Mathew Dan", "link": "https://stackoverflow.com/users/2290847/arjun-mathew-dan"}, "reply_to_user": {"reputation": 6354, "user_id": 4258430, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a2d5075177b2ff473c38f6d8fb64894?s=128&d=identicon&r=PG", "display_name": "Allen Luce", "link": "https://stackoverflow.com/users/4258430/allen-luce"}, "edited": false, "score": 0, "creation_date": 1435051472, "post_id": 30993703, "comment_id": 50025981, "body": "Perhaps u can define an alias and use it... alias mycmd=&quot;awk &#39;{sum[\\$2]+=\\$1}END{for(i in sum)print i,sum[i]}&#39;&quot; . U can also add this to your .bashrc.  Then use it like mycmd File... sorry, i dont know about any other simpler utility as such.."}], "tags": [], "owner": {"reputation": 5027, "user_id": 2290847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XjQRo.jpg?s=128&g=1", "display_name": "Arjun Mathew Dan", "link": "https://stackoverflow.com/users/2290847/arjun-mathew-dan"}, "is_accepted": false, "score": 0, "last_activity_date": 1435032567, "creation_date": 1435032567, "answer_id": 30993703, "question_id": 30990942, "link": "https://stackoverflow.com/questions/30990942/sum-counts-in-a-text-file/30993703#30993703", "title": "Sum counts in a text file", "body": "<p>With <code>awk</code>:</p>\n\n<pre><code>awk '{sum[$2]+=$1}END{for(i in sum)print i,sum[i]}' File\n</code></pre>\n\n<p>With the second word (<code>objectx</code>) as index, update <code>sum</code> array. That is add up the first field (<code>number</code>) to <code>sum[objectx]</code>. At the end, print each index and the element at that index (which will be the sum).</p>\n\n<p><strong>Sample:</strong></p>\n\n<pre><code>AMD$ awk '{sum[$2]+=$1}END{for(i in sum)print i,sum[i]}' File\nobject1 5833\nobject2 356\nobject3 277\n</code></pre>\n"}], "owner": {"reputation": 6354, "user_id": 4258430, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a2d5075177b2ff473c38f6d8fb64894?s=128&d=identicon&r=PG", "display_name": "Allen Luce", "link": "https://stackoverflow.com/users/4258430/allen-luce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1435049870, "creation_date": 1435012388, "last_edit_date": 1435049870, "question_id": 30990942, "link": "https://stackoverflow.com/questions/30990942/sum-counts-in-a-text-file", "title": "Sum counts in a text file", "body": "<p>I'll often end up, by way of <a href=\"https://www.gnu.org/software/parallel/\" rel=\"nofollow\">gnu parallel</a>, with a large file containing counts of various objects:</p>\n\n<pre><code>1201 object1\n804 object1\n327 object2\n3828 object1\n29 object2\n277 object3\n...\n</code></pre>\n\n<p>This'll often have several thousand lines with various objects in no particular order.  I'll want a sum of the total counts of each object.  My usual approach is to put together a Perl one-liner like this:</p>\n\n<pre><code>perl -lane '$O{$F[1]} += $F[0]; END {foreach $k (keys %O) {print \"$k: $O{$k}\"}}' countsfile\n</code></pre>\n\n<p>I'll typically have a pipeline consisting of parallel, awk, grep, sort, uniq, cut, etc. with fairly terse arguments each.  The perl hack is an exception: it's long to type and much more complex than other parts of the pipeline.  I always feel like I'm specifying far more than I really need to when typing it.</p>\n\n<p>So my question: is there a technique or utility that'll let me do this without having a compose a full script every time? I'd like to be able to do this without using perl, awk, R, or other systems that implement general-purpose languages.</p>\n"}, {"tags": ["regex", "string", "replace", "perl"], "comments": [{"owner": {"reputation": 103, "user_id": 4103270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86e373b859cc3b85f408870416ec98c2?s=128&d=identicon&r=PG&f=1", "display_name": "Doug LN", "link": "https://stackoverflow.com/users/4103270/doug-ln"}, "edited": false, "score": 0, "creation_date": 1435008005, "post_id": 30989952, "comment_id": 50009813, "body": "Because I wouldn&#39;t like to modify the software implementation. But I&#39;d accept your suggestion."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1435008727, "post_id": 30989952, "comment_id": 50010125, "body": "I guess a simple find <code>&#47;[ ]+(&quot;[^&quot;]*&quot;)?&#47;</code> replace <code>FOO:$1</code> would work."}, {"owner": {"reputation": 103, "user_id": 4103270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86e373b859cc3b85f408870416ec98c2?s=128&d=identicon&r=PG&f=1", "display_name": "Doug LN", "link": "https://stackoverflow.com/users/4103270/doug-ln"}, "edited": false, "score": 0, "creation_date": 1435008930, "post_id": 30989952, "comment_id": 50010216, "body": "I need to replace the begining of the word with a String (JAVA), like my example above. But when I had double quotes I wouln&#39;t like the output be something like this      abc &quot;FOO:def FOO:ghi&quot; FOO:jkl  but  this      abc FOO:&quot;def ghi&quot; FOO:jkl"}, {"owner": {"reputation": 103, "user_id": 4103270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86e373b859cc3b85f408870416ec98c2?s=128&d=identicon&r=PG&f=1", "display_name": "Doug LN", "link": "https://stackoverflow.com/users/4103270/doug-ln"}, "edited": false, "score": 0, "creation_date": 1435009465, "post_id": 30989952, "comment_id": 50010439, "body": "Yes, at the beginning of each word. But when the word is inside double quotes, the escape character (FOO:) be at the beginning of the double quotes, like this ( foo:&quot;bla bla bla&quot; ) and not ( foo:bla foo:bla foo:bla )"}, {"owner": {"reputation": 103, "user_id": 4103270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86e373b859cc3b85f408870416ec98c2?s=128&d=identicon&r=PG&f=1", "display_name": "Doug LN", "link": "https://stackoverflow.com/users/4103270/doug-ln"}, "edited": false, "score": 0, "creation_date": 1435010546, "post_id": 30989952, "comment_id": 50010858, "body": "Please show me this simple example"}], "owner": {"reputation": 103, "user_id": 4103270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86e373b859cc3b85f408870416ec98c2?s=128&d=identicon&r=PG&f=1", "display_name": "Doug LN", "link": "https://stackoverflow.com/users/4103270/doug-ln"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 265, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435144185, "creation_date": 1435007706, "question_id": 30989952, "link": "https://stackoverflow.com/questions/30989952/perl5util-regex-substitute", "title": "Perl5Util Regex substitute", "body": "<p>I need some help to create/modify a regex to replace some strings. I've searched in other questions but without success.</p>\n\n<p>I need to use Perl5Util substitute method to to this. I have the following code:</p>\n\n<p>e.g.</p>\n\n<pre><code>String subQuery = \"abc def ghi jkl\";\nsubQuery = util.substitute(\"s/[ ]+/ \" + \"FOO\" + \":/g\", subQuery);\n</code></pre>\n\n<p>When I run the code I get:</p>\n\n<p>abc FOO:def FOO:ghi FOO:jkl</p>\n\n<p>This is Ok, but what I need is when I had a word/phrase in double quotes I'd get this</p>\n\n<pre><code>subQuery = \"abc \\\"def ghi\\\" jkl\";\n</code></pre>\n\n<p>output</p>\n\n<p>abc FOO:\"def ghi\" FOO:jkl</p>\n\n<p>I would appreciate any help.\nTks</p>\n"}, {"tags": ["perl", "scripting"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435018773, "post_id": 30989223, "comment_id": 50013402, "body": "Note that the module will calculate the magnitude of the vectors as well, so <code>my $mag1 = abs $v; my $mag2 = abs $u;</code>. In fact, if all you need is the angle between the vectors then the <code>maths</code> subroutine is just <code>atan2($v, $u) * 180 &#47; 3.14159</code>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1435073774, "post_id": 30989603, "comment_id": 50041701, "body": "@jcklasseter, Updated as per your comment."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1435073947, "last_edit_date": 1435073947, "creation_date": 1435006329, "answer_id": 30989603, "question_id": 30989223, "link": "https://stackoverflow.com/questions/30989223/looping-variables/30989603#30989603", "title": "Looping variables", "body": "<p>You could use the following:</p>\n\n<pre><code>my $v = V( @{ $data[$i+0] } );\nmy $u = V( @{ $data[$i+1] } );\n</code></pre>\n\n<hr>\n\n<p>Cleaned up:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Math::Trig         qw( acos );\nuse Math::Vector::Real qw( V );\n\nsub maths {\n    my ($v, $u) = @_;\n    my $dot = $v * $u;\n    my $mag1 = sqrt( $v-&gt;[0]**2 + $v-&gt;[1]**2 + $v-&gt;[2]**2 );\n    my $mag2 = sqrt( $u-&gt;[0]**2 + $u-&gt;[1]**2 + $u-&gt;[2]**2 );\n    my $prefinal = acos( $dot / ( $mag1 * $mag2 ) );\n    my $degrees = ( 180 / 3.14159 ) * $prefinal;\n    return $degrees;\n}\n\n{\n    my @data = map { V( split ) } &lt;&gt;;\n    for my $i (0..$#data-1) {\n        for my $j ($i+1..$#data) {\n            my $maths = maths(@data[$i, $j]);\n            print(\"$i,$j: $maths\\n\");\n        }\n    }\n}\n</code></pre>\n\n<p>Or with Borodin's alternate method:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Math::Trig         qw( acos atan2 );\nuse Math::Vector::Real qw( V );\n\nuse constant DEG_PER_RAD =&gt; 45 / atan2(1, 1);\n\n{\n    my @data = map { V( split ) } &lt;&gt;;\n    for my $i (0..$#data-1) {\n        for my $j ($i+1..$#data) {\n            my $maths = atan2(@data[$i, $j]) * DEG_PER_RAD;\n            print(\"$i,$j: $maths\\n\");\n        }\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>perl script.pl ./IN &gt;./OUT\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 243, "user_id": 4999890, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c34942cc479898b04d21c6c917d64955?s=128&d=identicon&r=PG&f=1", "display_name": "MadisonCooper", "link": "https://stackoverflow.com/users/4999890/madisoncooper"}, "edited": false, "score": 0, "creation_date": 1435060118, "post_id": 30992068, "comment_id": 50031578, "body": "Had to edit slightly to make it work (Awaiting peer review), but it did. I had read about the atan function, but it wasn&#39;t clearly explained so I did it the hard way. Learned a thing or two along the way. Thanks!"}, {"owner": {"reputation": 243, "user_id": 4999890, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c34942cc479898b04d21c6c917d64955?s=128&d=identicon&r=PG&f=1", "display_name": "MadisonCooper", "link": "https://stackoverflow.com/users/4999890/madisoncooper"}, "edited": false, "score": 0, "creation_date": 1435061847, "post_id": 30992068, "comment_id": 50032726, "body": "However, is there any way to make it so it computes the angles starting at each line to every other line? I tried some nested foreach loops, but to no avail. I.e., For every line, compute angles. Go to the next line, and compute angles, until the end of the file."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 243, "user_id": 4999890, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c34942cc479898b04d21c6c917d64955?s=128&d=identicon&r=PG&f=1", "display_name": "MadisonCooper", "link": "https://stackoverflow.com/users/4999890/madisoncooper"}, "edited": false, "score": 0, "creation_date": 1435083977, "post_id": 30992068, "comment_id": 50048098, "body": "@jcklasseter: Okay I&#39;ve added some code to do what I think you want. Please explain the change that you had to make, as I don&#39;t see anything wrong with my code as it stands"}, {"owner": {"reputation": 243, "user_id": 4999890, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c34942cc479898b04d21c6c917d64955?s=128&d=identicon&r=PG&f=1", "display_name": "MadisonCooper", "link": "https://stackoverflow.com/users/4999890/madisoncooper"}, "edited": false, "score": 0, "creation_date": 1435088442, "post_id": 30992068, "comment_id": 50050820, "body": "On my mac, the nested atan has to have (@data[$i,$j]) written as (@data[$i], @data[$j]). Strict also complains and makes me change @data to $data in there as well. Also, the Output file is opened for input. For whatever reasons, my changes didn&#39;t make it through peer review."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1435083913, "last_edit_date": 1592644375, "creation_date": 1435019987, "answer_id": 30992068, "question_id": 30989223, "link": "https://stackoverflow.com/questions/30989223/looping-variables/30992068#30992068", "title": "Looping variables", "body": "<p>As per my comment, most of the functionality of your program is provided by the <a href=\"https://metacpan.org/pod/Math::Vector::Real\" rel=\"nofollow noreferrer\"><code>Math::Vector::Real</code></a> module that you're already using</p>\n<p>It looks like you want the angle in degrees between successive pairs of 3D vectors in your file. This code creates vectors from each line in the file until there are two vectors in <code>@pair</code>, and then uses <code>atan2</code> to calculate the angle between them. <code>DEG_PER_RAD</code> is precalculated as a constant from the value of <code>atan2(1,1)</code> which is <strong>\u03c0 \u00f7 4</strong> by definition</p>\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Math::Vector::Real;\n\nuse constant DEG_PER_RAD =&gt; 45 / atan2(1, 1);\n\nmy ( $source, $out ) = qw/ IN OUT /;\n\nopen my $in_fh,  '&lt;', $source or die qq{Unable to open &quot;$source&quot; for input: $!\\n};\nopen my $out_fh, '&lt;', $out    or die qq{Unable to open &quot;$out&quot; for output: $!\\n};\nselect $out_fh;\n\nmy @pair;\n\nwhile ( &lt;$in_fh&gt; ) {\n\n    push @pair, V(split);\n\n    if ( @pair == 2 ) {\n      my $degrees = atan2(@pair) * DEG_PER_RAD;\n      print &quot;$degrees\\n&quot;;\n      shift @pair;\n    }\n}\n</code></pre>\n<hr />\n<h3>Update</h3>\n<p>To  do the calculation for every possible pair of vectors, it is simplest to read the whole of the file into an array of vectors and process them from there with two nested loops</p>\n<p>This code demonstrates. Insert it after the <code>select</code> call in the original program. It labels each line of output with the two array indices that gave rise to the angle</p>\n<pre><code>my @data;\npush @data, V(split) while &lt;$in_fh&gt;;\n\nfor my $i ( 0 .. $#data-1 ) {\n    for my $j ( $i+1 .. $#data ) {\n        my $degrees = atan2(@data[$i,$j]) * DEG_PER_RAD;\n        print &quot;[$i,$j] $degrees\\n&quot;;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 243, "user_id": 4999890, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c34942cc479898b04d21c6c917d64955?s=128&d=identicon&r=PG&f=1", "display_name": "MadisonCooper", "link": "https://stackoverflow.com/users/4999890/madisoncooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 30992068, "answer_count": 2, "score": 0, "last_activity_date": 1435083913, "creation_date": 1435004883, "question_id": 30989223, "link": "https://stackoverflow.com/questions/30989223/looping-variables", "title": "Looping variables", "body": "<p>I'm working with perl to make a script that will work with Dot products/assorted vector math. I've got a working script ( Still very much in progress/needs refinement ) that will do what I ask. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse diagnostics;\nuse Math::Vector::Real;\nuse 5.010;\nuse Math::Trig;\n\nmy $source = \"./IN\";\n\nmy $out = \"./OUT\";\n\nopen(IN, '&lt;', $source) or die \"Couldn't open $source: $!\\n\";\nopen(OUT, '&gt;', $out) or die \"Couldn't open $out: $!\\n\";\n\nmy(@data);\nwhile (&lt;IN&gt;) {\n    push @data, [ split ];\n}\n\nmy $v;\nmy $u;\n\n$v = V(0, 0, 0); \n$u = V(0, 0, 0);\n\nmy $i = 0;\n\nsub maths {\n        my $dot = $v * $u;\n        my $mag1 = (sqrt ((@$v[0])**2 + (@$v[1])**2 + (@$v[2])**2 ));\n        my $mag2 = (sqrt ((@$u[0])**2 + (@$u[1])**2 + (@$u[2])**2 ));\n        my $prefinal = acos( ( $dot ) / ( $mag1 * $mag2 ) );\n        my $degrees = ( ( 180 / 3.14159 ) * ( $prefinal ) );\n        return ($degrees);\n}\n\nmy $ref1 = $data[$i][0];\nmy $ref2 = $data[$i][1];\nmy $ref3 = $data[$i][2];\nmy $ref4 = $data[$i+1][0];\nmy $ref5 = $data[$i+1][1];\nmy $ref6 = $data[$i+1][2];\n\n$v-&gt;[0] = $ref1;\n$v-&gt;[1] = $ref2;\n$v-&gt;[2] = $ref3;\n\n$u-&gt;[0] = $ref4;\n$u-&gt;[1] = $ref5;\n$u-&gt;[2] = $ref6;\n\nmy $result = maths;\n\nprint \"$result\\n\";\n</code></pre>\n\n<p>A lot of stuff in the script is vestigial and for ease to follow (For me). \nWhat I desire it to do, is to have the script rotate through each line of the input file and perform the calculations on it. \nSomething akin to having :</p>\n\n<pre><code>foreach $i (@data) {\n\nmy $ref1 = $data[$i][0];\nmy $ref2 = $data[$i][1];\nmy $ref3 = $data[$i][2];\nmy $ref4 = $data[$i+1][0];\nmy $ref5 = $data[$i+1][1];\nmy $ref6 = $data[$i+1][2];\n\n$v-&gt;[0] = $ref1;\n$v-&gt;[1] = $ref2;\n$v-&gt;[2] = $ref3;\n\n$u-&gt;[0] = $ref4;\n$u-&gt;[1] = $ref5;\n$u-&gt;[2] = $ref6;\n\nmy $result = maths;\n\nprint \"$result\\n\";\n}\n</code></pre>\n\n<p>Anything is appreciated.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1435001527, "last_edit_date": 1435001527, "creation_date": 1435001165, "answer_id": 30988194, "question_id": 30988160, "link": "https://stackoverflow.com/questions/30988160/why-does-my-regex-fail-to-match-a-string-containing-a-tab/30988194#30988194", "title": "Why does my regex fail to match a string containing a tab?", "body": "<p>You have a literal space after <code>alias</code> in the pattern, so the first 6 characters of the string being matched must be \"<code>a</code>\", \"<code>l</code>\", \"<code>i</code>\", \"<code>a</code>\", \"<code>s</code>\" and space. But the sixth character of your string is a tab. I think you want the following:</p>\n\n<pre><code>my ($gname, $sname, $addr) = /^alias\\s+(\\S+)\\s+(\\S+)\\s+&lt;(.*)&gt;/;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my ($name, $addr) = /^alias\\s+([^&lt;\\s]+(?:\\s+[^&lt;\\s])*)\\s+&lt;(.*)&gt;/\n</code></pre>\n\n<p>(<code>\\S</code> is equivalent to <code>[^\\s]</code>.)</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1435001279, "post_id": 30988197, "comment_id": 50006363, "body": "(<code>\\s</code> actually matches 25 chars. Those are merely the ASCII chars it matches.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1435008051, "post_id": 30988197, "comment_id": 50009838, "body": "@Sam: <a href=\"http://stackoverflow.com/a/25956935/622310\">This answer</a> talks about matching whitespace"}], "tags": [], "owner": {"reputation": 18696, "user_id": 703229, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5c7b9b4837d58fb7ceac0e3bbf234246?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/703229/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1435001172, "creation_date": 1435001172, "answer_id": 30988197, "question_id": 30988160, "link": "https://stackoverflow.com/questions/30988160/why-does-my-regex-fail-to-match-a-string-containing-a-tab/30988197#30988197", "title": "Why does my regex fail to match a string containing a tab?", "body": "<p><code>[^...]</code> are negated character classes. <code>\\s</code> is a wildcard for whitespace characters (including tabs: <code>[ \\t\\r\\n\\f]</code>). <code>([^\\s]*)</code> will capture every non-whitespace character.</p>\n\n<p>As a side note, capitalizing a shorthand character class negates it. So, <code>[^\\s]</code> is the same as <code>\\S</code>.</p>\n"}], "owner": {"reputation": 1029, "user_id": 4464596, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/15b667c1afe164ed53ee4b4c4d7684fe?s=128&d=identicon&r=PG&f=1", "display_name": "simon", "link": "https://stackoverflow.com/users/4464596/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 585, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1435087169, "creation_date": 1435001015, "last_edit_date": 1435001285, "question_id": 30988160, "link": "https://stackoverflow.com/questions/30988160/why-does-my-regex-fail-to-match-a-string-containing-a-tab", "title": "Why does my regex fail to match a string containing a tab?", "body": "<p>I have a regular expression, but it does not work properly. The regular expression is:</p>\n\n<pre><code>m/^alias ([^\\s]*) (.*) (&lt;.*&gt;)/\n</code></pre>\n\n<p>I tested my expression on a mutt file to convert it into a vcard. My string for the test is:</p>\n\n<pre><code>alias     john smith &lt;john.smith@test.com&gt;\n</code></pre>\n\n<p>But between <code>alias</code> and <code>john</code> I have a tab, and <code>([^\\s]*)</code> doesn't find the tab. Why not? Normally <code>\\s</code> matches spaces or tabs, doesn't it?</p>\n"}, {"tags": ["perl", "loops", "parsing", "multiline"], "comments": [{"owner": {"reputation": 258, "user_id": 4811918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6gIB8wkwgA0/AAAAAAAAAAI/AAAAAAAAAAA/2Jrpg-a4NrM/photo.jpg?sz=128", "display_name": "rfportilla", "link": "https://stackoverflow.com/users/4811918/rfportilla"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1434998218, "post_id": 30987133, "comment_id": 50004679, "body": "I&#39;m basically trying to stay away from a copy and paste approach.  If there is a change in the EOR process, I also have to change the EOF process.  I&#39;m just asking because it seems like something that must have come up time and again and I&#39;m wondering how others handle this.   Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 258, "user_id": 4811918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6gIB8wkwgA0/AAAAAAAAAAI/AAAAAAAAAAA/2Jrpg-a4NrM/photo.jpg?sz=128", "display_name": "rfportilla", "link": "https://stackoverflow.com/users/4811918/rfportilla"}, "edited": false, "score": 0, "creation_date": 1435176304, "post_id": 30987434, "comment_id": 50096233, "body": "Thanks. I was aware of this approach; I just don&#39;t like using infinite loops. :-( This seems like the way to go.  Thanks for the help!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1435001846, "last_edit_date": 1435001846, "creation_date": 1434998449, "answer_id": 30987434, "question_id": 30987133, "link": "https://stackoverflow.com/questions/30987133/removing-code-duplication-in-detecting-eor-vs-eof/30987434#30987434", "title": "Removing code duplication in detecting EOR vs EOF", "body": "<p>So you want EOR and EOF to be handled at the same place. That means that checking for EOF can't be done at the top of the loop anymore. The trick to moving the condition into the loop is to switch to an infinite loop.</p>\n\n<pre><code>my $data = [];\nmy $record = {};\nwhile (1) {\n    my $line = &lt;$file&gt;;\n    if (!defined($line) || $line =~ /eor/) {\n        push(@$data, $record) if keys(%$record);\n        last if !defined($line);\n        $record = {};\n    }\n    elsif ($line =~ /marker-a:(.*)/) {\n        $record-&gt;{a} = $1;\n    }\n    elsif ($line =~ /marker-b:(.*)/) {\n        $record-&gt;{b} = $1;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 258, "user_id": 4811918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6gIB8wkwgA0/AAAAAAAAAAI/AAAAAAAAAAA/2Jrpg-a4NrM/photo.jpg?sz=128", "display_name": "rfportilla", "link": "https://stackoverflow.com/users/4811918/rfportilla"}, "edited": false, "score": 0, "creation_date": 1435153394, "post_id": 30989633, "comment_id": 50081069, "body": "It will never reach the <code>if ( ( ... or eof )</code> because the loop will end before that.  i.e. as soon as it hits eof, the loop breaks out and the block is no longer processed.  That is the problem.  Then there is data cached in $record that is not pushed to $data.  Thank you, though."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 258, "user_id": 4811918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6gIB8wkwgA0/AAAAAAAAAAI/AAAAAAAAAAA/2Jrpg-a4NrM/photo.jpg?sz=128", "display_name": "rfportilla", "link": "https://stackoverflow.com/users/4811918/rfportilla"}, "edited": false, "score": 0, "creation_date": 1435192875, "post_id": 30989633, "comment_id": 50102542, "body": "@rfportilla, That&#39;s not true. <code>eof</code> returns true if the <i>next</i> read will return EOF."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 258, "user_id": 4811918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6gIB8wkwgA0/AAAAAAAAAAI/AAAAAAAAAAA/2Jrpg-a4NrM/photo.jpg?sz=128", "display_name": "rfportilla", "link": "https://stackoverflow.com/users/4811918/rfportilla"}, "edited": false, "score": 0, "creation_date": 1435193375, "post_id": 30989633, "comment_id": 50102659, "body": "@rfportilla: I&#39;m sorry, I overlooked your comment until ikegami&#39;s response drew my attention. The code is fine. <code>eof</code> will return <i>true</i> any time after the last line is read from the file, that is, during the last iteration of the loop. It actually does a <code>getc</code> followed by an <code>ungetc</code> to check whether there is any more data in the stream without consuming it"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1435020698, "last_edit_date": 1592644375, "creation_date": 1435006457, "answer_id": 30989633, "question_id": 30987133, "link": "https://stackoverflow.com/questions/30987133/removing-code-duplication-in-detecting-eor-vs-eof/30989633#30989633", "title": "Removing code duplication in detecting EOR vs EOF", "body": "<p>All that is necessary is to change</p>\n<pre><code>if ( $line =~ /eor/ )\n</code></pre>\n<p>to</p>\n<pre><code>if ( $line =~ /eor/ or eof )\n</code></pre>\n<p>and remove the <code>push</code> outside the loop</p>\n<hr />\n<h3>Update</h3>\n<p>Here's a more complete solution that uses best practices and avoids pushing empty records onto the array</p>\n<pre><code>my ($data, $record);\n\nwhile ( &lt;$file&gt; ) {\n\n    if ( /marker-([ab]):(.*)/ ) {\n        $record-&gt;{$1} = $2;\n    }\n\n    if ( ( /eor/ or eof ) and $record ) {\n        push @$data, $record;\n        $record = undef;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 258, "user_id": 4811918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6gIB8wkwgA0/AAAAAAAAAAI/AAAAAAAAAAA/2Jrpg-a4NrM/photo.jpg?sz=128", "display_name": "rfportilla", "link": "https://stackoverflow.com/users/4811918/rfportilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 30989633, "answer_count": 2, "score": 0, "last_activity_date": 1435020698, "creation_date": 1434997375, "last_edit_date": 1434998226, "question_id": 30987133, "link": "https://stackoverflow.com/questions/30987133/removing-code-duplication-in-detecting-eor-vs-eof", "title": "Removing code duplication in detecting EOR vs EOF", "body": "<p>I am looping through multi-line records and loading them into an array.  I happen to be using Perl , but language is irrelevant as I am looking for an optimization to the algorithm.  Specifically, I am bothered by the fact that I am writing the array push twice. Once in the loop when I find an end of record (eor) and again when I run out of file (eof, not eor).  I know this doesn't affect the speed, I just don't like have to repeat the code in two places.  It means that if it changes, I have to modify in two places.  </p>\n\n<p>The approach I am taking is this:</p>\n\n<pre><code>my $data = []; #data object array\nmy $record = {};\nmy $line;\nwhile (my $line = &lt;$file&gt;){\n    if($line =~ /marker-a:(.*)/){\n        # Update data object\n        $$record{'a'} = $1;\n    }\n    if($line =~ /marker-b:(.*)/){\n        # Update data object\n        $$record{'b'} = $1;\n    }\n    if($line =~ /eor/){\n        # End of record; add to data array\n        push(@$data,$record);\n        $record = {};\n    }\n}\n#Update leftover data to data array\npush(@$data,$record);\n</code></pre>\n\n<p>Is there a better way to do this?  I know I could just create a function, but I am looking for something more elegant.  I haven't tested this code, but it should give enough of an idea of what I am doing.  Let me know if any questions.</p>\n"}, {"tags": ["arrays", "perl", "csv"], "comments": [{"owner": {"reputation": 5271, "user_id": 1658042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/879e79284efb4639584574a5fc46c9e4?s=128&d=identicon&r=PG", "display_name": "lcd047", "link": "https://stackoverflow.com/users/1658042/lcd047"}, "edited": false, "score": 3, "creation_date": 1434998309, "post_id": 30987082, "comment_id": 50004737, "body": "Have you tried anything so far?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "reply_to_user": {"reputation": 5271, "user_id": 1658042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/879e79284efb4639584574a5fc46c9e4?s=128&d=identicon&r=PG", "display_name": "lcd047", "link": "https://stackoverflow.com/users/1658042/lcd047"}, "edited": false, "score": 0, "creation_date": 1434999749, "post_id": 30987082, "comment_id": 50005540, "body": "Yes I did, I tried to print array but got <code>HASH(0x......)</code>."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "edited": false, "score": 0, "creation_date": 1434999830, "post_id": 30987394, "comment_id": 50005593, "body": "I read that manual,  still problems in my case tho I get <code>HASH(0x.....)</code> in my CSV-file."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "edited": false, "score": 0, "creation_date": 1435000063, "post_id": 30987394, "comment_id": 50005705, "body": "<code>my $csv = Text::CSV-&gt;new ( { sep_char =&gt; &#39;;&#39; } );       $csv-&gt;print( $fh1, \\@AoH );</code> is the one I use."}, {"owner": {"reputation": 862, "user_id": 3586150, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1f0969599955a953e592034929ed7a23?s=128&d=identicon&r=PG", "display_name": "Neil H Watson", "link": "https://stackoverflow.com/users/3586150/neil-h-watson"}, "edited": false, "score": 0, "creation_date": 1435000472, "post_id": 30987394, "comment_id": 50005915, "body": "$csv-&gt;print expects an array ref, not a AoH. See the doc in @Barett&#39;s answer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "reply_to_user": {"reputation": 862, "user_id": 3586150, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1f0969599955a953e592034929ed7a23?s=128&d=identicon&r=PG", "display_name": "Neil H Watson", "link": "https://stackoverflow.com/users/3586150/neil-h-watson"}, "edited": false, "score": 0, "creation_date": 1435002887, "post_id": 30987394, "comment_id": 50007262, "body": "@NeilHWatson <code>my $AoH_ref = \\@AoH;</code> Using $AoH_ref does not help in my case."}], "tags": [], "owner": {"reputation": 5177, "user_id": 95674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e606b10c31dd8d9eecd1034789653e44?s=128&d=identicon&r=PG", "display_name": "Barett", "link": "https://stackoverflow.com/users/95674/barett"}, "is_accepted": false, "score": 0, "last_activity_date": 1434998323, "creation_date": 1434998323, "answer_id": 30987394, "question_id": 30987082, "link": "https://stackoverflow.com/questions/30987082/perl-using-textcsv-to-print-aoh/30987394#30987394", "title": "Perl: Using Text::CSV to print AoH", "body": "<p>Try using the example for Text::CSV posted here: <a href=\"http://search.cpan.org/~makamaka/Text-CSV-1.33/lib/Text/CSV.pm\" rel=\"nofollow\">http://search.cpan.org/~makamaka/Text-CSV-1.33/lib/Text/CSV.pm</a></p>\n\n<p>You will need to set <code>sep_char = ';'</code> to make it semicolon-separated.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1435004366, "last_edit_date": 1435004366, "creation_date": 1435003627, "answer_id": 30988891, "question_id": 30987082, "link": "https://stackoverflow.com/questions/30987082/perl-using-textcsv-to-print-aoh/30988891#30988891", "title": "Perl: Using Text::CSV to print AoH", "body": "<p>Pretty fundamentally - <code>CSV</code> is an array based data structure - it's a vaguely enhanced version of <code>join</code>. But the thing you need for this job is <code>print_hr</code> from <code>Text::CSV</code>.</p>\n\n<p>First you need to set your header order:</p>\n\n<pre><code> $csv-&gt;column_names (@names);          # Set column names for getline_hr ()\n</code></pre>\n\n<p>Then you can use </p>\n\n<pre><code> $csv -&gt; print_hr ( *STDOUT, $hashref ); \n</code></pre>\n\n<p>E.g.</p>\n\n<pre><code> $csv -&gt; column_names ( qw ( User Size Unit ) ); \n foreach my $hashref ( @homefoldersize ) {\n      $csv -&gt; print_hr ( *STDOUT, $hashref ); \n }\n</code></pre>\n\n<p>As you want to concatenate a couple of your columns though, that's <em>slightly</em> harder - you'll need to transform the data first, because otherwise <code>Size</code> and <code>Unit</code> are separate columns. </p>\n\n<pre><code>foreach my $hashref ( @homefoldersize ) { \n    $hashref -&gt; {Size} .= $hashref -&gt; {Unit};\n    delete $hashref -&gt; {Unit};\n}\n</code></pre>\n\n<p>Additionally -as another poster notes - you'll need to set <code>sep_char</code> to change the delimiter to <code>;</code>. </p>\n\n<p>As an alternative to that - you could probably use a hash slice:</p>\n\n<pre><code>@values = @hash{@keys}; \n</code></pre>\n\n<p>But <code>print_hr</code> does pretty much the same thing. </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1435006179, "creation_date": 1435006179, "answer_id": 30989566, "question_id": 30987082, "link": "https://stackoverflow.com/questions/30987082/perl-using-textcsv-to-print-aoh/30989566#30989566", "title": "Perl: Using Text::CSV to print AoH", "body": "<p>All that is necessary is</p>\n\n<pre><code>printf \"%s;%s%s\\n\", @{$_}{qw/ User Size Unit /} for @homefoldersize;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 1, "accepted_answer_id": 30988891, "answer_count": 3, "score": 0, "last_activity_date": 1435006179, "creation_date": 1434997208, "last_edit_date": 1435002876, "question_id": 30987082, "link": "https://stackoverflow.com/questions/30987082/perl-using-textcsv-to-print-aoh", "title": "Perl: Using Text::CSV to print AoH", "body": "<p>I have an array of hashes (AoH) which looks like this:</p>\n\n<pre><code>$VAR1 = [\n          {\n            'Unit' =&gt; 'M',\n            'Size' =&gt; '321',\n            'User' =&gt; 'test'\n          }\n          {\n            'Unit' =&gt; 'M'\n            'Size' =&gt; '0.24'\n            'User' =&gt; 'test1'\n          }\n          ...\n        ];\n</code></pre>\n\n<p>How do I write my AoH to a CSV file with separators, to get the following result:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>test;321M\ntest1;0.24M\n</code></pre>\n\n<p>I've already tried this code:</p>\n\n<pre><code>my $csv = Text::CSV-&gt;new ( { sep_char =&gt; ';' } );\n$csv-&gt;print( $fh1, \\@homefoldersize );\n</code></pre>\n\n<p>But I get</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>HASH(0x....)\n</code></pre>\n\n<p>in my CSV file.</p>\n"}, {"tags": ["perl", "winapi"], "comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1435052002, "post_id": 30985378, "comment_id": 50026333, "body": "<code>GetWindowID($window)</code> ?"}, {"owner": {"reputation": 11, "user_id": 5037025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f454a5f97ac4de0dfc7e0b0a19f15fc6?s=128&d=identicon&r=PG&f=1", "display_name": "Dirk", "link": "https://stackoverflow.com/users/5037025/dirk"}, "reply_to_user": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1436380136, "post_id": 30985378, "comment_id": 50591805, "body": "Thanx, but GetWindowId requires the dynamic window handle. I&#39;m looking for a function or solution, which takes a statix parameter like a name and supplys the dynamic window handle."}], "owner": {"reputation": 11, "user_id": 5037025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f454a5f97ac4de0dfc7e0b0a19f15fc6?s=128&d=identicon&r=PG&f=1", "display_name": "Dirk", "link": "https://stackoverflow.com/users/5037025/dirk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1434994395, "creation_date": 1434991251, "last_edit_date": 1434994395, "question_id": 30985378, "link": "https://stackoverflow.com/questions/30985378/perl-win32guitest", "title": "Perl Win32::GuiTest", "body": "<p>I have a small application with a couple of edit fields. These fields have a property name.\nI try to get the windows handle for this object, using the Perl module <a href=\"https://metacpan.org/pod/Win32::GuiTest\" rel=\"nofollow\"><code>Win32::GuiTest</code></a> with the function call</p>\n\n<pre><code>@handle = FindWindowLike( undef, undef, \"WindowsForms10.EDIT.app.0.2bf8098_r11_ad1\")\n</code></pre>\n\n<p>I'm getting an array of handles from all edit objects. Does anybody know how I can select the unique ID for a given name? I can't give the name as a parameter, only the windows name.</p>\n"}, {"tags": ["perl", "sorting", "levenshtein-distance"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1434988490, "post_id": 30984287, "comment_id": 49999025, "body": "When you hand a block/subroutine to <code>sort</code>, it will be handed two (and only two) of the items in the list to be sorted at any given time.  It then answers the question &quot;Does a come before b&quot;.  If you&#39;d like to order items in a way than needs to examine more than two items at a time, then <code>sort</code> may not be the hammer for you..."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1434990242, "post_id": 30984287, "comment_id": 50000163, "body": "How should the strings in your example be sorted?"}], "answers": [{"comments": [{"owner": {"reputation": 8172, "user_id": 719016, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/RWd7T.png?s=128&g=1", "display_name": "719016", "link": "https://stackoverflow.com/users/719016/719016"}, "edited": false, "score": 0, "creation_date": 1435051117, "post_id": 30984505, "comment_id": 50025740, "body": "Thanks very much for this. There is an unanticipated case which is when the list is of size smaller than 3, where the loop does not print all values..."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 8172, "user_id": 719016, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/RWd7T.png?s=128&g=1", "display_name": "719016", "link": "https://stackoverflow.com/users/719016/719016"}, "edited": false, "score": 1, "creation_date": 1435052955, "post_id": 30984505, "comment_id": 50026984, "body": "Well spotted, yes. That&#39;s because the &#39;last&#39; was firing on the empty array (having shifted out the last element for printing). Amended slightly, looks like it works for that scenario now."}, {"owner": {"reputation": 5469, "user_id": 350713, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2b37134235e21817f74cd8c47eb0538d?s=128&d=identicon&r=PG", "display_name": "Faheem Mitha", "link": "https://stackoverflow.com/users/350713/faheem-mitha"}, "edited": false, "score": 0, "creation_date": 1596660899, "post_id": 30984505, "comment_id": 111886397, "body": "This is a somewhat late comment, but would you consider adding a description of what you are doing here for people who don&#39;t know Perl and don&#39;t particularly want to learn it? :-)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1435052960, "last_edit_date": 1435052960, "creation_date": 1434988529, "answer_id": 30984505, "question_id": 30984287, "link": "https://stackoverflow.com/questions/30984287/perl-custom-sort-by-string-similarity-clustering/30984505#30984505", "title": "perl custom sort by string similarity clustering", "body": "<p>Custom sorts take two inputs, perform a 'comparison' and respond with -1, 0 or 1 depending on whether they are before, after or equal. </p>\n\n<p>Sorting is designed for making a positional order, not really for 'grouping stuff that's vaguely similar'. </p>\n\n<p>You do have the <a href=\"http://search.cpan.org/dist/Text-Levenshtein/lib/Text/Levenshtein.pm\" rel=\"nofollow\"><code>Text::Levenshtein</code></a> module which quickly lets you compute that - but you have to do something altogether more complicated because you'd need to compare each word to each other word before being able to decide ordering. But frankly, you will have the same problem with any 'similar words' sort of comparison. </p>\n\n<p>In this, you're starting to look at graph theory and grouping based on that. It's quite a complicated problem though - it's far from as trivial as 'just' sorting.</p>\n\n<p>I'd be looking at <em>something</em> like:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Text::Levenshtein qw ( distance );\nuse Data::Dumper;\n\nmy @list = (\n    \"JK_HJ_Lancaster\",      \"SY4_TS_HJ_1000ng\",\n    \"NB_E_200cc_caHJ_Rep1\", \"HB_E_100cc_caHJ_Rep1\",\n    \"HB_E_200cc_caHJ_Rep1\", \"Normal_Lancaster\",\n    \"NB15_OP_HJ_1000ng\",    \"Zoey_HJ_Slough\",\n    \"NB_E_100cc_caHJ_Rep1\", \"Normal_Slough\",\n    \"JK_caHJ_Slough\",       \"Zoey_HJ_Lancaster\"\n);\n\nmy %distances;\n\nforeach my $elem (@list) {\n    foreach my $compare (@list) {\n        next if $elem eq $compare;\n        my $distance = distance( $elem, $compare );\n        $distances{$elem}{$compare} = $distance;\n    }\n}\n\nprint Dumper \\%distances;\n\nmy %seen;\nmy ($cursor) = sort @list;\n\nwhile ($cursor) {\n    print \"$cursor\\n\";\n    $seen{$cursor}++;\n    my @near_words_in_order =\n        sort { $distances{$cursor}{$a} &lt;=&gt; $distances{$cursor}{$b} }\n        keys %{ $distances{$cursor} };\n\n    #      print @near_words_in_order;\n    last unless @near_words_in_order;\n    while ( $seen{$cursor} ) {\n        $cursor = shift(@near_words_in_order) // 0;\n    }\n}\n</code></pre>\n\n<p>Which gives the result:</p>\n\n<pre><code>HB_E_100cc_caHJ_Rep1\nHB_E_200cc_caHJ_Rep1\nNB_E_200cc_caHJ_Rep1\nNB_E_100cc_caHJ_Rep1\nNB15_OP_HJ_1000ng\nSY4_TS_HJ_1000ng\nZoey_HJ_Slough\nJK_caHJ_Slough\nNormal_Slough\nNormal_Lancaster\nJK_HJ_Lancaster\nZoey_HJ_Lancaster\n</code></pre>\n\n<p>Which at least approximately groups like you request. You can probably get this more efficient, because you don't need to compute all the distances which'll reduce the algorithm complexity. But you also will get different groups based on proximity and start point. </p>\n"}], "owner": {"reputation": 8172, "user_id": 719016, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/RWd7T.png?s=128&g=1", "display_name": "719016", "link": "https://stackoverflow.com/users/719016/719016"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 1, "accepted_answer_id": 30984505, "answer_count": 1, "score": 0, "last_activity_date": 1435052960, "creation_date": 1434987889, "question_id": 30984287, "link": "https://stackoverflow.com/questions/30984287/perl-custom-sort-by-string-similarity-clustering", "title": "perl custom sort by string similarity clustering", "body": "<p>In Perl, I would like to sort a collection of different length strings\nin a way that automatically lumps together similar strings.</p>\n\n<p>Intuitively, I imagine I need some distance measure for each pair and\nthen a clustering routine that groups by the distance.</p>\n\n<p>My number of strings is always small and they are short, see an\nexample below.</p>\n\n<p>Is there a simple approach that will do what I need in\n<code>sort_magic_here</code>?</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\n\nmy @list =\n  (\"JK_HJ_Lancaster\", \"SY4_TS_HJ_1000ng\",\n   \"NB_E_200cc_caHJ_Rep1\", \"HB_E_100cc_caHJ_Rep1\",\n   \"HB_E_200cc_caHJ_Rep1\", \"Normal_Lancaster\",\n   \"NB15_OP_HJ_1000ng\",\"Zoey_HJ_Slough\",\n   \"NB_E_100cc_caHJ_Rep1\",\"Normal_Slough\",\n   \"JK_caHJ_Slough\",\"Zoey_HJ_Lancaster\");\n\nprint \"# Straight sort\\n\";\nforeach my $elem (sort @list) {\n  print \"$elem\\n\";\n}\n\nprint \"# Sort grouped by string distance\\n\";\nforeach my $elem (sort { sort_magic_here() }  @list) {\n  print \"$elem\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 7536, "user_id": 1691146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RW9zE.jpg?s=128&g=1", "display_name": "RobEarl", "link": "https://stackoverflow.com/users/1691146/robearl"}, "edited": false, "score": 1, "creation_date": 1434987820, "post_id": 30984159, "comment_id": 49998583, "body": "You need to create a multipart message to send text and attachment, see the second example in the synopsis for Mime::Lite"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1434987949, "post_id": 30984159, "comment_id": 49998670, "body": "The error message means that you&#39;re supplying both the <code>Data</code> and the <code>Path</code> options to <code>MIME::Lite::new</code>, but you can only use one or the other."}], "owner": {"reputation": 53, "user_id": 2747619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/29eb3a5d4c037325186a056df119b770?s=128&d=identicon&r=PG&f=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/2747619/bill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1434987463, "creation_date": 1434987463, "question_id": 30984159, "link": "https://stackoverflow.com/questions/30984159/error-supply-exactly-zero-or-one-of-datapathfh", "title": "Error: supply exactly zero or one of (Data|Path|FH)", "body": "<p>Cant seem to figure it out but i get a \"supply exactly zero or one of (Data|Path|FH)\" error when I attach files to this MSG body.</p>\n\n<p>Works if you Null Path IE: #Path</p>\n\n<p>CODE:</p>\n\n<pre><code>#!/usr/bin/perl\n\nprint \"Content-type: text/html\\n\\n\";\n\nuse CGI qw(:standard);\nuse CGI::Carp qw(warningsToBrowser fatalsToBrowser);\nuse strict;\n\n\nmy $IP= $ENV{REMOTE_ADDR};\n$IP =~ s/[^a-zA-Z0-9]*//g;\n\nmy $Files = $IP;\n\n# Zip up the users image files\nuse IO::Compress::Zip qw(zip $ZipError) ;\n\nchdir \"Data/Temp/$Files\";\nmy @files = &lt;*&gt;;\n\nzip \\@files =&gt; 'Images.zip' or die \"zip failed: $ZipError\\n\";\n\n# Create a new single-part message\nuse MIME::Lite;\n\n   my $msg = MIME::Lite-&gt;new(\n\n        From     =&gt; 'DO-NOT-REPLY@somemailaddress.com',\n        To       =&gt; 'blnukem@gmail.com',\n        Subject  =&gt; 'Image files',\n        Data     =&gt; \"Greetings\\n\\nAttached is your image zip file.\\n\\n\",\n        Type     =&gt; 'AUTO',\n        Encoding =&gt; 'base64',\n        Path     =&gt; 'Images.zip'\n    );\n\n$msg-&gt;send;\n\n\nprint \"Files Sent\";\n</code></pre>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1434984691, "post_id": 30983065, "comment_id": 49996342, "body": "Can you post say 3-5 lines of the input for testing? Make sure at least one has the newline, so we&#39;re working with the exact data sample you are."}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1434985109, "post_id": 30983065, "comment_id": 49996675, "body": "Since your record separator is always the same, I think you can possibly get away with using <code>print $0 RS</code> - either way, using <code>print</code> instead of <code>printf</code> will probably speed things up. I&#39;m not sure that porting to Perl is going to get you much of a performance gain for free (although it would be interesting to see the effect)."}, {"owner": {"reputation": 303, "user_id": 4589976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/81dbe9a189bf3ccf5accfd94c658b799?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Damon", "link": "https://stackoverflow.com/users/4589976/matt-damon"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1434985403, "post_id": 30983065, "comment_id": 49996903, "body": "@stevieb Unfortunately I&#39;m unable to post any of the data as it&#39;s sensitive data which is a little inconvenient. I&#39;ll see if I&#39;m able to re-create an example."}, {"owner": {"reputation": 303, "user_id": 4589976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/81dbe9a189bf3ccf5accfd94c658b799?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Damon", "link": "https://stackoverflow.com/users/4589976/matt-damon"}, "reply_to_user": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1434985405, "post_id": 30983065, "comment_id": 49996905, "body": "@TomFenech You say using print will generally be faster than printf, I&#39;ll try it out. But from what I&#39;ve read Perl is generally a lot faster for file manipulation than shell?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1434985510, "post_id": 30983065, "comment_id": 49996972, "body": "@MattDamon a sanitized sample will do. All that needs to be consistent with the original data are the line and record separators."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1434985639, "post_id": 30983065, "comment_id": 49997071, "body": "Put it this way - we don&#39;t want to see your data, but we do want something we can use to test our scripts to check they&#39;re &#39;doing it right&#39;. Mocking up two examples of lines and how they should (or shouldn&#39;t) be transformed is fine."}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 2, "creation_date": 1434986141, "post_id": 30983065, "comment_id": 49997436, "body": "@Matt you&#39;re currently using <code>gawk</code> to manipulate the data, which is a tool designed with that purpose in mind. I wouldn&#39;t expect it to be significantly faster or slower than perl. If you were using a <code>while read</code> loop in the shell, then that is usually a lot slower (and possibly the kind of thing that you have read about)."}, {"owner": {"reputation": 303, "user_id": 4589976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/81dbe9a189bf3ccf5accfd94c658b799?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Damon", "link": "https://stackoverflow.com/users/4589976/matt-damon"}, "edited": false, "score": 0, "creation_date": 1434986197, "post_id": 30983065, "comment_id": 49997474, "body": "Added a very simple example of what the data is structured like. Hopefully enough to explain/test what I mean."}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 4589976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/81dbe9a189bf3ccf5accfd94c658b799?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Damon", "link": "https://stackoverflow.com/users/4589976/matt-damon"}, "edited": false, "score": 0, "creation_date": 1434985767, "post_id": 30983299, "comment_id": 49997171, "body": "No one on my team has knowledge of Perl all I know is we have v5.8.8 installed. If I put this script in a test.pl file and run perl test.pl filename.csv I get this error: Can&#39;t locate Text/CSV.pm in @INC"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 303, "user_id": 4589976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/81dbe9a189bf3ccf5accfd94c658b799?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Damon", "link": "https://stackoverflow.com/users/4589976/matt-damon"}, "edited": false, "score": 0, "creation_date": 1434986086, "post_id": 30983299, "comment_id": 49997402, "body": "<code>5.8.8</code> is an old version of perl. (2008 was a while ago!) You should, however, be able to install the module with <code>cpan Text::CSV</code>  I wouldn&#39;t suggest using a workaround, because that will also trip up on the new lines."}, {"owner": {"reputation": 303, "user_id": 4589976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/81dbe9a189bf3ccf5accfd94c658b799?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Damon", "link": "https://stackoverflow.com/users/4589976/matt-damon"}, "edited": false, "score": 0, "creation_date": 1434986373, "post_id": 30983299, "comment_id": 49997608, "body": "We do seem to have a passion for old versions, as no one uses it we&#39;ve never really felt the need to update. It&#39;s also quite a lot of effort trying to get a version updated with the guys who manage the servers. I&#39;ll get it on a virtual machine and test it, if it&#39;s much quicker I&#39;ll have a reason! So I just need to do that cpan and run as I was?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 303, "user_id": 4589976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/81dbe9a189bf3ccf5accfd94c658b799?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Damon", "link": "https://stackoverflow.com/users/4589976/matt-damon"}, "edited": false, "score": 0, "creation_date": 1434986975, "post_id": 30983299, "comment_id": 49998007, "body": "You may also find the package is available to your version of Unix."}, {"owner": {"reputation": 303, "user_id": 4589976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/81dbe9a189bf3ccf5accfd94c658b799?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Damon", "link": "https://stackoverflow.com/users/4589976/matt-damon"}, "edited": false, "score": 0, "creation_date": 1435047716, "post_id": 30983299, "comment_id": 50023535, "body": "It doesn&#39;t look like I&#39;m able to install the module over our network. Is there any other implementation or are other ways not worth doing over shell?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 303, "user_id": 4589976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/81dbe9a189bf3ccf5accfd94c658b799?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Damon", "link": "https://stackoverflow.com/users/4589976/matt-damon"}, "edited": false, "score": 0, "creation_date": 1435048153, "post_id": 30983299, "comment_id": 50023823, "body": "Have a look at the package list available on your host. It may be it&#39;s available. Otherwise - I&#39;m afraid ... what you&#39;ve got is probably the best that&#39;s available."}, {"owner": {"reputation": 303, "user_id": 4589976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/81dbe9a189bf3ccf5accfd94c658b799?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Damon", "link": "https://stackoverflow.com/users/4589976/matt-damon"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435049915, "post_id": 30983299, "comment_id": 50024976, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/81253/discussion-between-matt-damon-and-sobrique\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1434987416, "last_edit_date": 1434987416, "creation_date": 1434985187, "answer_id": 30983299, "question_id": 30983065, "link": "https://stackoverflow.com/questions/30983065/removing-certain-newlines-from-a-file-with-perl/30983299#30983299", "title": "Removing certain newlines from a file with Perl", "body": "<p>We need some sample data to be sure. I would guess that what is going on here is you're trying to parse a CSV file, and getting caught by line feeds in your records. </p>\n\n<p>This is one reason why a line/regex based approach to CSV is a bad idea, generally. Thankfully, there is a nice easy solution in perl - the <a href=\"http://search.cpan.org/~makamaka/Text-CSV-1.33/lib/Text/CSV.pm\" rel=\"nofollow\"><code>Text::CSV</code></a> module. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Text::CSV;\nmy ( $filename ) = @ARGV;\n\nmy $csv = Text::CSV-&gt;new( { binary =&gt; 1, eol =&gt; $/ } );\n\nopen( my $input, \"&lt;\", $filename ) or die $!;\n\nwhile ( my $row = $csv-&gt;getline($input) ) {\n    foreach my $element (@$row) {\n        $element =~ s/\\n/ /g;\n    }\n    $csv-&gt;print( \\*STDOUT, $row );\n}\nclose($input);\n</code></pre>\n\n<p>This will iterate each line in a filename specified on command line -  and delete any line feeds that are embedded in fields, whilst preserving those outside the fields. </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -1, "last_activity_date": 1434989711, "creation_date": 1434989711, "answer_id": 30984905, "question_id": 30983065, "link": "https://stackoverflow.com/questions/30983065/removing-certain-newlines-from-a-file-with-perl/30984905#30984905", "title": "Removing certain newlines from a file with Perl", "body": "<p>This will do as you ask. It appends each line to the variable <code>$r</code> and, if the result contains an even number of double quotes, it prints <code>$r</code> and empties it</p>\n\n<pre><code>perl -i -lne'unless (($r .= $_) =~ tr/\"// % 2) { print $c; $r = \"\"}' $input_file\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 4589976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/81dbe9a189bf3ccf5accfd94c658b799?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Damon", "link": "https://stackoverflow.com/users/4589976/matt-damon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 30983299, "answer_count": 2, "score": 0, "last_activity_date": 1434989711, "creation_date": 1434984618, "last_edit_date": 1434986148, "question_id": 30983065, "link": "https://stackoverflow.com/questions/30983065/removing-certain-newlines-from-a-file-with-perl", "title": "Removing certain newlines from a file with Perl", "body": "<p>I'm using the following shell script to cleanse a file. The file contains data records from a database but seeing as some have new lines in the fields it's caused some records to spread over two lines which then causes issues when loading. The text is enclosed with \"\" and delimited by commas so I use the following shell script to remove the new lines which works fine but takes around 8 minutes on a 2mil record file, from what I understand Perl will be much quicker. </p>\n\n<p>I have absolutely no understanding of Perl, could someone translate/explain the following in Perl?</p>\n\n<pre><code>#!/bin/bash\n\ninput_file=$1\ngawk -v RS='\"' 'NR % 2 == 0 { gsub(/\\n/, \"\") } { printf(\"%s%s\", $0, RT) }' $input_file &gt; $input_file\"_temp\"\nmv $input_file\"_temp\" $input_file\n</code></pre>\n\n<p><strong>Edit:</strong> I can't give exact data but the issue would be similar to this (Records delimited by newline):</p>\n\n<pre><code>\"001\", \"Dave Surname\", \"1 High Street\"\n\"002\", \"John Surname\", \"2 High\nStreet\"\n\"003\", \"Bill Surname\", \"3 High Street\"\n\"004\", \"James \nSurname\", \"4 High Street\"\n</code></pre>\n\n<p>Judging by the above someone's put a new line in the address field so this should become:</p>\n\n<pre><code>\"001\", \"Dave Surname\", \"1 High Street\"\n\"002\", \"John Surname\", \"2 High Street\"\n\"003\", \"Bill Surname\", \"3 High Street\"\n\"004\", \"James Surname\", \"4 High Street\"\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "perl"], "comments": [{"owner": {"reputation": 4718, "user_id": 660524, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NzGjo.png?s=128&g=1", "display_name": "Alex Tokarev", "link": "https://stackoverflow.com/users/660524/alex-tokarev"}, "edited": false, "score": 0, "creation_date": 1435001366, "post_id": 30982898, "comment_id": 50006418, "body": "Out of pure curiosity, what is your use case? I would never imagine trying to use a JavaScript engine written in Perl for anything less trivial than &quot;whoa! it works!&quot; but then my imagination is rather limited. :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4718, "user_id": 660524, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NzGjo.png?s=128&g=1", "display_name": "Alex Tokarev", "link": "https://stackoverflow.com/users/660524/alex-tokarev"}, "edited": false, "score": 1, "creation_date": 1435024305, "post_id": 30982898, "comment_id": 50014651, "body": "@Alex Tokarev, Scrapping of pages generated using JS"}, {"owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1435024823, "post_id": 30982898, "comment_id": 50014763, "body": "@ikegami: If that&#39;s your use-case then you don&#39;t need the <code>require()</code> function which exists only in the server. Javascript from web pages cannot use the <code>require</code> function because it&#39;s not implemented in browsers."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4718, "user_id": 660524, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NzGjo.png?s=128&g=1", "display_name": "Alex Tokarev", "link": "https://stackoverflow.com/users/660524/alex-tokarev"}, "edited": false, "score": 0, "creation_date": 1435024901, "post_id": 30982898, "comment_id": 50014781, "body": "@Alex Tokarev, You&#39;re confusing me with the OP, and you said you couldn&#39;t imagine any use case, so I gave one (that&#39;s not necessarily the OP&#39;s)."}, {"owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1435025548, "post_id": 30982898, "comment_id": 50014938, "body": "@ikegami: HA! And you&#39;re confusing me with Alex Tokarev"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1435030858, "post_id": 30982898, "comment_id": 50016223, "body": "@slebetman, OMG LOL!"}, {"owner": {"reputation": 4718, "user_id": 660524, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NzGjo.png?s=128&g=1", "display_name": "Alex Tokarev", "link": "https://stackoverflow.com/users/660524/alex-tokarev"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1435034351, "post_id": 30982898, "comment_id": 50017126, "body": "@ikegami Interesting. If I&#39;m getting it right, you&#39;re essentially trying to run scrapped JavaScript in Perl simulator to get the resulting HTML? Doesn&#39;t that lead to DOM API simulation as well? Ouch, I&#39;d rather use a headless browser for something like that..."}, {"owner": {"reputation": 25945, "user_id": 743464, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3a21f6147bcc6bd9d997d5cc5b5f87c?s=128&d=identicon&r=PG", "display_name": "Andy Ray", "link": "https://stackoverflow.com/users/743464/andy-ray"}, "edited": false, "score": 0, "creation_date": 1435102676, "post_id": 30982898, "comment_id": 50057086, "body": "Running webpage javascript in a javascript perl implementation might be a huge security problem for you, but more importantly running javascript in a javascript perl implementation is almost certainly the wrong tool for the job."}, {"owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "reply_to_user": {"reputation": 25945, "user_id": 743464, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3a21f6147bcc6bd9d997d5cc5b5f87c?s=128&d=identicon&r=PG", "display_name": "Andy Ray", "link": "https://stackoverflow.com/users/743464/andy-ray"}, "edited": false, "score": 1, "creation_date": 1435115420, "post_id": 30982898, "comment_id": 50059963, "body": "@AndyRay JE is in same position as any interpreted templating languages like <a href=\"https://metacpan.org/pod/Dotiac::DTL\" rel=\"nofollow noreferrer\">Django</a> or <a href=\"https://metacpan.org/pod/Template\" rel=\"nofollow noreferrer\">Template::Toolkit</a> or anything what is more complex as simple tag substitution and allows cycles, conditionals and so on. Or if you want, it is like <a href=\"https://www.npmjs.com/browse/keyword/interpreter\" rel=\"nofollow noreferrer\">any interpreter</a>  written <b>in</b> JavaScript. It is simply an language what is interpreted with perl, and the perl <b>is</b> the right tool for such problems and does the right job."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1435085871, "post_id": 30992639, "comment_id": 50049249, "body": "You hadn&#39;t mentioned anything about wanting <code>require</code> returning an object. What object to you want it to return?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1435086430, "post_id": 30992639, "comment_id": 50049553, "body": "JS doesn&#39;t have a <code>require</code> function. What inputs and outputs do you want <i>your</i> function to have?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1435087014, "post_id": 30992639, "comment_id": 50049929, "body": "That&#39;s really different than what you originally asked, but if you want to run CommonJS&#39;s <code>require.js</code>, pass it to <code>eval</code>. Updated my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1435087168, "last_edit_date": 1435087168, "creation_date": 1435024503, "answer_id": 30992639, "question_id": 30982898, "link": "https://stackoverflow.com/questions/30982898/how-to-implement-the-jss-require-function-in-the-perls-je-engine/30992639#30992639", "title": "How to implement the &quot;JS&#39;s require&quot; function in the perl&#39;s JE engine?", "body": "<p>To execute <code>require.js</code>, you can use</p>\n\n<pre><code>my $require_js = get('http://requirejs.org/docs/release/2.1.18/comments/require.js');\n\n$j-&gt;eval($require_js);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 1, "last_activity_date": 1435102153, "creation_date": 1435102153, "answer_id": 31015175, "question_id": 30982898, "link": "https://stackoverflow.com/questions/30982898/how-to-implement-the-jss-require-function-in-the-perls-je-engine/31015175#31015175", "title": "How to implement the &quot;JS&#39;s require&quot; function in the perl&#39;s JE engine?", "body": "<p>After a studying a bit, I created a following, (an extremely simplified) solution:</p>\n\n<pre><code>use 5.016;\nuse warnings;\nuse JE::Destroyer;\nuse JE;\nuse Scalar::Util qw( weaken );\nuse Path::Tiny;\n\nmy $script = path(\"reqtest.js\")-&gt;slurp_utf8;\n\nmy $j = new JE;\n$j-&gt;{console} = {};\n$j-&gt;{console}-&gt;new_function(\"log\", sub { say @_ });\n{\n    weaken(my $j = $j);   #based on ikegami's previous answer\n    $j-&gt;new_function(require =&gt; sub {\n        my $source = get_source($_[0]);\n        my $code = new JE::Object::Function $j, qw(exports), $source;\n        my $exports = $j-&gt;{Object};\n        $code-&gt;($exports);\n        return $exports;\n    });\n}\n\n$j-&gt;eval($script);#eval the main script\n\nJE::Destroyer::destroy($j);\nundef $j;\n\n# extremelly simplyfied code search\n# the real code-search for the requide(\"some\") should try the following\n# some.js some/index.js some.json some/index.json\n# for the defined search-paths.\nsub get_source {\n    my $name = shift;\n    return path(\"node_modules\")-&gt;child(\"$name.js\")-&gt;slurp_utf8;\n}\n</code></pre>\n\n<p>The above is an shortest possible implementation of the CommonJS require, and prints the same as the <code>node.js</code> for the example in the question</p>\n\n<pre><code>start\n5\n</code></pre>\n\n<p>Of course, need many additional work (e.g. code caching) a like, but the minimal skeleton works.</p>\n"}], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1435102153, "creation_date": 1434984229, "last_edit_date": 1435084329, "question_id": 30982898, "link": "https://stackoverflow.com/questions/30982898/how-to-implement-the-jss-require-function-in-the-perls-je-engine", "title": "How to implement the &quot;JS&#39;s require&quot; function in the perl&#39;s JE engine?", "body": "<p>The <a href=\"https://metacpan.org/pod/JE\" rel=\"nofollow\">JE</a> is an nice JavaScript engine written in pure perl. Perfectly executes common JS code a his ability bind perl subroutines to JS functions is wonderful.</p>\n\n<p>What is missing the <code>require</code> function, what is implemented in the \"node.js\", and does similar task as the perl's require.</p>\n\n<p>Would be nice to know, how to implement such function in perl and bind it to JE, e.g. in the simple skeleton:</p>\n\n<pre><code>use 5.016;\nuse warnings;\nuse Path::Tiny;\n\nuse JE::Destroyer;\nuse JE;\n\nmy $jslib = path(\"./jslib\");\n\nmy $j = new JE;\n$j-&gt;new_function(\"say\", sub { say @_ });  # the \"say\" in the JS\n$j-&gt;new_function(\"require\", sub {         # the \"require\"\n\n    my $source = $jslib-&gt;child($_[0])-&gt;slurp_utf8; #read the source from some file\n    #how to implement the require ?\n    #e.g. what JE object should be created and what to bind to it?\n\n});\n</code></pre>\n\n<p>Any idea how the <code>node.js</code>'s <code>require</code> function is implemented in C, and how to implement the same in perl?</p>\n\n<h2>EDIT</h2>\n\n<p>For the more precise example adding an more extended skeleton:</p>\n\n<ul>\n<li>file <code>./reqtest.js</code> (the main program)</li>\n</ul>\n\n\n\n<pre><code>console.log(\"start\");\np = require('adder');\nconsole.log(p.add(2,3));\n</code></pre>\n\n<ul>\n<li>file <code>./node_modules/adder.js</code> (in the \"node_modules\" - for the <code>node.js</code> test)</li>\n</ul>\n\n\n\n<pre><code>exports.add = function() {\n    var sum = 0, i = 0, args = arguments, l = args.length;\n    while (i &lt; l) {\n        sum += args[i++];\n    }\n    return sum;\n};\n</code></pre>\n\n<p>running the above as</p>\n\n<pre><code>node reqtest.js\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>start\n5\n</code></pre>\n\n<p>so, it correctly required the <code>adder.js</code> and returned the object, but\nrunning it with the following perl/JE script:</p>\n\n<pre><code>use 5.016;\nuse warnings;\nuse JE::Destroyer;\nuse JE;\nuse Scalar::Util qw( weaken );\nuse Path::Tiny;\nuse PIR;\n\nmy $script = path(\"reqtest.js\")-&gt;slurp_utf8;\n\nmy $j = new JE;\n$j-&gt;{console} = {};\n$j-&gt;{console}-&gt;new_function(\"log\", sub { say @_ });\n{\n    weaken(my $j = $j);\n    $j-&gt;new_function(require =&gt; sub {\n        my $source = get_source($_[0]);\n        $j-&gt;eval($source) if $source;\n    });\n}\n\n$j-&gt;eval($script);#eval the main script\n\nJE::Destroyer::destroy($j);\nundef $j;\n\n#extremelly simplyfied\nsub get_source {\n    my $name = shift;\n    return path(\"node_modules\")-&gt;child(\"$name.js\")-&gt;slurp_utf8;\n}\n</code></pre>\n\n<p>prints only:</p>\n\n<pre><code>start\n</code></pre>\n\n<p>so, the \"simple <code>$j-&gt;eval($source)</code> implementation of the <code>require</code> doesn't follows the <code>CommonJS</code> module specification - it needs <em>something</em> more.</p>\n"}, {"tags": ["perl", "unix"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1434983695, "post_id": 30982644, "comment_id": 49995593, "body": "This seems like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. Can you explain why you need to access the tee&#39;d filename in your Perl script?"}, {"owner": {"reputation": 1073, "user_id": 1443563, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/YcZiU.jpg?s=128&g=1", "display_name": "gsinha", "link": "https://stackoverflow.com/users/1443563/gsinha"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1434984261, "post_id": 30982644, "comment_id": 49996030, "body": "@ThisSuitIsBlackNot Added context. Please me know if you need more information."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1434984371, "post_id": 30982644, "comment_id": 49996101, "body": "It&#39;s still an xy problem - you can&#39;t do this the way you&#39;re trying to do it."}, {"owner": {"reputation": 1073, "user_id": 1443563, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/YcZiU.jpg?s=128&g=1", "display_name": "gsinha", "link": "https://stackoverflow.com/users/1443563/gsinha"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1434984619, "post_id": 30982644, "comment_id": 49996283, "body": "@Sobrique Do yo mean this is not possible in Unix ? I had a feeling that there should be a way."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1434984762, "post_id": 30982644, "comment_id": 49996405, "body": "Processes don&#39;t get to interfere with other processes. You could probably run a <code>ps</code> and grep the arguments out, but this is an icky nasty thing to do and is unlikely to be at the heart of the problem you&#39;re trying to solve. What is the problem you&#39;re trying to solve?"}], "answers": [{"comments": [{"owner": {"reputation": 1073, "user_id": 1443563, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/YcZiU.jpg?s=128&g=1", "display_name": "gsinha", "link": "https://stackoverflow.com/users/1443563/gsinha"}, "edited": false, "score": 0, "creation_date": 1435032249, "post_id": 30983086, "comment_id": 50016569, "body": "Ok. I would try overriding the logging function by a subroutine which writes to a file and then calls the original overridden logging function. That way it could be handled from inside my perl script."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1434984679, "creation_date": 1434984679, "answer_id": 30983086, "question_id": 30982644, "link": "https://stackoverflow.com/questions/30982644/capture-tees-argument-inside-piped-perl-execution/30983086#30983086", "title": "Capture tee&#39;s argument inside piped Perl execution", "body": "<p>The short answer is - you can't. </p>\n\n<p><code>tee</code> is a separate process with it's own arguments. There is no way to access these arguments from that process. (well, I suppose you could run <code>ps</code> or something).</p>\n\n<p>The point of <code>tee</code> is to take <code>STDOUT</code> write some of it to a log file, and pass through the rest of it down the 'pipe'. (Which results in printing it if nothing else). </p>\n\n<p>What you could probably do instead is implement some manner of logging within your perl script, where the core functionality of <code>tee</code> is replicated by printing a line to both <code>STDOUT</code> and a designated log file. </p>\n"}, {"tags": [], "owner": {"reputation": 914, "user_id": 4114394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100006056441825/picture?type=large", "display_name": "Erik Bennett", "link": "https://stackoverflow.com/users/4114394/erik-bennett"}, "is_accepted": false, "score": 0, "last_activity_date": 1435158174, "creation_date": 1435158174, "answer_id": 31030112, "question_id": 30982644, "link": "https://stackoverflow.com/questions/30982644/capture-tees-argument-inside-piped-perl-execution/31030112#31030112", "title": "Capture tee&#39;s argument inside piped Perl execution", "body": "<p>If I had to \"cheat\", I might try something akin to:</p>\n\n<pre><code>#!/bin/sh\nMYLOG=/tmp/logfile\nexport MYLOG\nperl my_script.pl -some_args  |  tee $MYLOG\n</code></pre>\n\n<p>That is, get the name of the <code>tee</code> file before you invoke either <code>perl</code> or <code>tee</code>.  Everyone else's answers are more correct;  I only mention this as a counter-measure.</p>\n"}], "owner": {"reputation": 1073, "user_id": 1443563, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/YcZiU.jpg?s=128&g=1", "display_name": "gsinha", "link": "https://stackoverflow.com/users/1443563/gsinha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 30983086, "answer_count": 2, "score": 2, "last_activity_date": 1435158174, "creation_date": 1434983557, "last_edit_date": 1434984209, "question_id": 30982644, "link": "https://stackoverflow.com/questions/30982644/capture-tees-argument-inside-piped-perl-execution", "title": "Capture tee&#39;s argument inside piped Perl execution", "body": "<p>How to capture piped command's argument ? </p>\n\n<p>I use : </p>\n\n<pre><code>perl my_script.pl -some_args  |  tee arg_filename\n</code></pre>\n\n<p>How to get <code>arg_filename</code> 's value inside <code>my_script.pl</code> ? </p>\n\n<p><strong>CONTEXT</strong><br>\nI need to send this filename in a mail which <code>my_script.pl</code> sends at the end.<br>\nI need to use <code>tee</code> because we dump huge output in the standard logging which we use inside <code>my_script.pl</code> but we <code>print</code> more relevant things on <code>STDOUT</code> and <code>STDERR</code>.<br>\nThis script imports and uses additional proprietary libraries which could not be edited. But they too generate logs.  </p>\n"}, {"tags": ["perl", "email", "ssl"], "comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 1, "creation_date": 1434978562, "post_id": 30980685, "comment_id": 49991931, "body": "when reporting failures, ask why:   <code>print &quot;fail:&quot;, $smtp-&gt;message();</code>"}, {"owner": {"reputation": 16, "user_id": 2523267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/529a23f871c510ea5bf8475b769f5cb6?s=128&d=identicon&r=PG", "display_name": "DNikolov", "link": "https://stackoverflow.com/users/2523267/dnikolov"}, "reply_to_user": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1434979509, "post_id": 30980685, "comment_id": 49992586, "body": "I tried it but I think it turns out that $smtp is still not created. It is undefined and the script reports that can not invoke the message methode on an undefined value."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1434981047, "post_id": 30980685, "comment_id": 49993631, "body": "Do you have shell access to the host? [a few test commands/procedures]"}, {"owner": {"reputation": 16, "user_id": 2523267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/529a23f871c510ea5bf8475b769f5cb6?s=128&d=identicon&r=PG", "display_name": "DNikolov", "link": "https://stackoverflow.com/users/2523267/dnikolov"}, "edited": false, "score": 0, "creation_date": 1434981852, "post_id": 30980685, "comment_id": 49994221, "body": "No I don&#39;t have shell access and I&#39;m not sure how shell access could&#39;ve helped."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1434984268, "post_id": 30980685, "comment_id": 49996034, "body": "It appears to mean that gmail.com is refusing your SMTP connection on the port you specified for one reason or another. If you had CLI access, you could further troubleshoot this more easily."}, {"owner": {"reputation": 16, "user_id": 2523267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/529a23f871c510ea5bf8475b769f5cb6?s=128&d=identicon&r=PG", "display_name": "DNikolov", "link": "https://stackoverflow.com/users/2523267/dnikolov"}, "edited": false, "score": 0, "creation_date": 1434996048, "post_id": 30980685, "comment_id": 50003450, "body": "This works fine on my local machine."}], "owner": {"reputation": 16, "user_id": 2523267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/529a23f871c510ea5bf8475b769f5cb6?s=128&d=identicon&r=PG", "display_name": "DNikolov", "link": "https://stackoverflow.com/users/2523267/dnikolov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1434978120, "creation_date": 1434978120, "question_id": 30980685, "link": "https://stackoverflow.com/questions/30980685/perl-script-sends-email-when-executed-on-local-machine-but-not-when-hosted-on-se", "title": "Perl script sends email when executed on local machine but not when hosted on server", "body": "<p>I have a Perl cgi script which is supposed to be be accessed via AJAX request . The script is supposed to send mail to an email and prepare HTML response. The problem is that the script works on my local machine but it gives <strong>\"Net::SMTP::SSL conection refused at mailform.pl line 389\"</strong>. Line 389 from the script is this line:\n <pre><code></p>\n\n<pre><code>( $smtp = Net::SMTP::SSL-&gt;new(\n                    'smtp.gmail.com',\n                    Port=&gt;465,\n                    Debug   =&gt; 1,\n                    Timeout =&gt; 60,\n                    Hello =&gt; 'smtp2.dnikolov.co.nf@gmail.com',\n                    Notify =&gt;['SUCCESS','FAILURE'],\n                    Debug =&gt; 1\n                  ) )or die \"Cant connect to server\".$@.$!;\n</code></pre>\n\n<p></code></pre></p>\n\n<p>Here is the hole subroutine that does the actual sending of the script:\n<pre><code></p>\n\n<pre><code>sub sendMail {\n    my $params = shift;\n    my $body;\n    my $smtp;\n    ( $smtp = Net::SMTP::SSL-&gt;new(\n                    'smtp.gmail.com',\n                    Port=&gt;465,\n                    Debug   =&gt; 1,\n                    Timeout =&gt; 60,\n                    Hello =&gt; 'smtp2.dnikolov.co.nf@gmail.com',\n                    Notify =&gt;['SUCCESS','FAILURE'],\n                    Debug =&gt; 1\n                  ) )or die \"Cant connect to server\".$@.$!;\n    $smtp-&gt;auth('smtp2.dnikolov.co.nf@gmail.com', $params-&gt;{password} ) or die \"Can't authenticate \".$smtp-&gt;message();\n    return 0 unless $smtp-&gt;verify( $params-&gt;{readerEmail}-&gt;{value} );\n    $smtp-&gt;mail('smtp.dnikolov.co.nf@gmail.com'.\"\\n\") or die \"Cant from\";\n    $smtp-&gt;to('dnikolov.co.nf@gmail.com'.\"\\n\") or die \"invalid address\";\n    $smtp-&gt;data() or die \"cant call data successfuly\";\n    $smtp-&gt;datasend('From:&lt; \"'.$params-&gt;{readerEmail}-&gt;{value}.'\" smtp.dnikolov.co.nf@gmail.com&gt;'.\"\\n\");\n    $smtp-&gt;datasend('To:dnikolov.co.nf@gmail.com'.\"\\n\");\n    $smtp-&gt;datasend('Subject:'.$params-&gt;{readerSubject}-&gt;{value}.\"\\n\");\n    $smtp-&gt;datasend(\"\\n\");\n    $smtp-&gt;datasend('Reader Email: '.$params-&gt;{readerEmail}-&gt;{value}.\"\\n\");\n    $smtp-&gt;datasend('Reader Site: '.$params-&gt;{readerSite}-&gt;{value}.\"\\n\");\n    $smtp-&gt;datasend('Reader Subject: '.$params-&gt;{readerSubject}-&gt;{value}.\"\\n\");\n    $smtp-&gt;datasend('Reader Message: '.$params-&gt;{readerMessage}-&gt;{value}.\"\\n\");\n    $smtp-&gt;dataend()or die \"Failed to Send Message\";\n    $smtp-&gt;quit() or die \"Failed on quit\";\n    return 1;\n}\n</code></pre>\n\n<p></pre></code>\nHere is how the output in the developer's console look like:<img src=\"https://i.stack.imgur.com/UtZV5.png\" alt=\"How the output in the developer console looks like\"></p>\n"}, {"tags": ["jquery", "html", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1434978131, "post_id": 30980430, "comment_id": 49991640, "body": "Make the page reload itself every 20s? Make AJAX calls to get the progress details?"}], "answers": [{"tags": [], "owner": {"reputation": 399, "user_id": 4994787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/913dea43616dbdb55c067645bf138a33?s=128&d=identicon&r=PG&f=1", "display_name": "Grrruk", "link": "https://stackoverflow.com/users/4994787/grrruk"}, "is_accepted": false, "score": 0, "last_activity_date": 1434985070, "creation_date": 1434985070, "answer_id": 30983248, "question_id": 30980430, "link": "https://stackoverflow.com/questions/30980430/how-to-track-the-progress-of-the-content-of-the-file-using-either-html-jquery-o/30983248#30983248", "title": "How to track the progress of the content of the file using either html, jquery or perl?", "body": "<p>My rather crude solution that I use for many years in shell CGI scripts is very simple: I use two scripts: first CGI script launches the process in background with nohup redirected to some logfile and immediately prints simple HTML to redirect browser to second script:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"refresh\" content=\"0;URL='/cgi-bin/showprogress.cgi'\" /&gt;\n    &lt;/head&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The browser is redirected to showprogress.cgi, then showprogress.cgi prints tail -n20 logfile as HTML </p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"refresh\" content=\"10;URL='/cgi-bin/showprogress.cgi'\" /&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;pre&gt;\n            [last 20 logfile lines]\n        &lt;/pre&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>No javascript or anything complicated, meta refresh works fine.</p>\n\n<p>Don't use tail -f, it won't work.</p>\n"}], "owner": {"reputation": 1, "user_id": 4829176, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/51a5bfd1e8dc8ca2876c4ffca3508654?s=128&d=identicon&r=PG&f=1", "display_name": "nikki", "link": "https://stackoverflow.com/users/4829176/nikki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1434985070, "creation_date": 1434977349, "last_edit_date": 1434982253, "question_id": 30980430, "link": "https://stackoverflow.com/questions/30980430/how-to-track-the-progress-of-the-content-of-the-file-using-either-html-jquery-o", "title": "How to track the progress of the content of the file using either html, jquery or perl?", "body": "<p>I am using CGI + HTML to make a web application which runs external Perl program, for that I am using the system. This program takes approximately 60 min to complete and each step is recorded in a file. I would like to show those steps on the web browser as a real-time. I tried using the following command:</p>\n\n<pre><code>system('tail -f ' $filename);\n</code></pre>\n\n<p>This command works finee, however, it does not exist to show the footer. I tried - </p>\n\n<pre><code>'tail -fq $filename'\n</code></pre>\n\n<p>I appreciate any suggestion or comment. </p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["perl", "sybase"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 3, "creation_date": 1434970820, "post_id": 30978198, "comment_id": 49986768, "body": "Define &quot;not working&quot;. What makes you believe this? What have you done to debug it? What is the return value of the call to connect? What does $DBI::errstr say?"}, {"owner": {"reputation": 59, "user_id": 4622472, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-1XuvV7i6ktg/AAAAAAAAAAI/AAAAAAAADFU/UYCyey46VaQ/photo.jpg?sz=128", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4622472/bhushan-patil"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1434971696, "post_id": 30978198, "comment_id": 49987325, "body": "Can&#39;t connect to data source &#39;dbi:Sybase ASE:server=server name;database=PP_DB;port=5000&#39; because I can&#39;t work out what driver to use (it doesn&#39;t seem to contain a &#39;dbi:driver:&#39; prefix and the DBI_DRIVER env var is not set) at ./update_database.pl line 6                                                This is the error getting"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1434975799, "post_id": 30978198, "comment_id": 49989941, "body": "Have you installed <a href=\"https://metacpan.org/pod/DBD::Sybase\" rel=\"nofollow noreferrer\">DBD::Sybase</a> from CPAN?"}, {"owner": {"reputation": 59, "user_id": 4622472, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-1XuvV7i6ktg/AAAAAAAAAAI/AAAAAAAADFU/UYCyey46VaQ/photo.jpg?sz=128", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4622472/bhushan-patil"}, "edited": false, "score": 0, "creation_date": 1434978813, "post_id": 30978198, "comment_id": 49992107, "body": "Yes I have DBD:Sybase installed from CPAN"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1434984559, "creation_date": 1434984559, "answer_id": 30983048, "question_id": 30978198, "link": "https://stackoverflow.com/questions/30978198/perl-script-to-connect-to-sybase-database/30983048#30983048", "title": "Perl script to connect to Sybase database", "body": "<p>The <code>server</code> parameter in the data source name expects a Sybase server <em>name</em>. If you want to specify an IP address then you need to use <code>host</code> instead:</p>\n\n<pre><code>my $dbh = DBI-&gt;connect( 'dbi:Sybase:host=&lt;sybase IP address&gt;;database=PP_DB;port=5000', qw/ sa password /);\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4622472, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-1XuvV7i6ktg/AAAAAAAAAAI/AAAAAAAADFU/UYCyey46VaQ/photo.jpg?sz=128", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4622472/bhushan-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1400, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1434984559, "creation_date": 1434970667, "last_edit_date": 1434981756, "question_id": 30978198, "link": "https://stackoverflow.com/questions/30978198/perl-script-to-connect-to-sybase-database", "title": "Perl script to connect to Sybase database", "body": "<p>I am writing a Perl script to connect to Sybase machine having particular  database name called PPDB but it is not working.</p>\n\n<pre><code>my $dbh = DBI-&gt;connect( \"dbi:Sybase:server=sybase IP address; database=PP_DB;port=5000\",\"sa\", \"password\" );\n</code></pre>\n\n<p>This is the error I'm getting</p>\n\n<blockquote>\n  <p>Can't connect to data source 'dbi:Sybase ASE:server=server\n  name;database=PP_DB;port=5000' because I can't work out what driver to\n  use (it doesn't seem to contain a 'dbi:driver:' prefix and the\n  DBI_DRIVER env var is not set) at ./update_database.pl line 6</p>\n</blockquote>\n\n<p>Don't know what's wrong in this. Your suggestions are welcome.</p>\n"}, {"tags": ["regex", "perl", "grep"], "comments": [{"owner": {"reputation": 11282, "user_id": 1620622, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/mvnmG.png?s=128&g=1", "display_name": "Downgoat", "link": "https://stackoverflow.com/users/1620622/downgoat"}, "edited": false, "score": 0, "creation_date": 1434970090, "post_id": 30977917, "comment_id": 49986305, "body": "make this: <code>=~&#47;\\S+?,config,</code> to this:  <code>=~&#47;[^[:space:]]+?,config,</code> add the <code>-P</code> flag also"}, {"owner": {"reputation": 2689, "user_id": 1134991, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e102cb584a0fba3cd07b0a4d79350ba2?s=128&d=identicon&r=PG", "display_name": "user1134991", "link": "https://stackoverflow.com/users/1134991/user1134991"}, "edited": false, "score": 0, "creation_date": 1434971699, "post_id": 30977917, "comment_id": 49987330, "body": "Hello Avinash. The -c was intended to show that there are no matches. W/o it, one gets 0 lines."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1434986705, "post_id": 30977917, "comment_id": 49997850, "body": "<code>grep -ic &#39;,config,&#39;</code> is equivalent and simpler. Is there a complication you&#39;re not telling us?"}, {"owner": {"reputation": 2689, "user_id": 1134991, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e102cb584a0fba3cd07b0a4d79350ba2?s=128&d=identicon&r=PG", "display_name": "user1134991", "link": "https://stackoverflow.com/users/1134991/user1134991"}, "edited": false, "score": 0, "creation_date": 1435136125, "post_id": 30977917, "comment_id": 50069021, "body": "Yes, it is an excerpt from a larger file, that I cannot share, and I need it after the third comma. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 1999, "user_id": 2866898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7c3f789c8dff46eed3cfa22ee7abc00?s=128&d=identicon&r=PG", "display_name": "Arkanosis", "link": "https://stackoverflow.com/users/2866898/arkanosis"}, "is_accepted": true, "score": 1, "last_activity_date": 1434970576, "creation_date": 1434970576, "answer_id": 30978165, "question_id": 30977917, "link": "https://stackoverflow.com/questions/30977917/gnu-grep-p-option-mismatch-with-perl-regular-expression/30978165#30978165", "title": "GNU grep -P option mismatch with Perl regular expression", "body": "<p>Consider updating grep. It works fine with GNU grep version 2.16:</p>\n\n<pre><code>$ /bin/grep -icP '\\S+?,config,' test\n1\n</code></pre>\n\n<p>Remember that the <code>-P</code> feature in grep is still experimental.</p>\n"}, {"tags": [], "owner": {"reputation": 2689, "user_id": 1134991, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e102cb584a0fba3cd07b0a4d79350ba2?s=128&d=identicon&r=PG", "display_name": "user1134991", "link": "https://stackoverflow.com/users/1134991/user1134991"}, "is_accepted": false, "score": 0, "last_activity_date": 1434971994, "creation_date": 1434971994, "answer_id": 30978662, "question_id": 30977917, "link": "https://stackoverflow.com/questions/30977917/gnu-grep-p-option-mismatch-with-perl-regular-expression/30978662#30978662", "title": "GNU grep -P option mismatch with Perl regular expression", "body": "<p>There 2 solutions, one is to update the grep, just as Arkanosis suggested.\nThe second is similar to what vihan1086 suggested.\nUse</p>\n\n<pre><code>grep -iCP '[^ ]+?' test\n</code></pre>\n"}], "owner": {"reputation": 2689, "user_id": 1134991, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e102cb584a0fba3cd07b0a4d79350ba2?s=128&d=identicon&r=PG", "display_name": "user1134991", "link": "https://stackoverflow.com/users/1134991/user1134991"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 30978165, "answer_count": 2, "score": 0, "last_activity_date": 1434971994, "creation_date": 1434969785, "last_edit_date": 1434971377, "question_id": 30977917, "link": "https://stackoverflow.com/questions/30977917/gnu-grep-p-option-mismatch-with-perl-regular-expression", "title": "GNU grep -P option mismatch with Perl regular expression", "body": "<p>See very simple output of <code>grep -P</code>, on a 1 line file:</p>\n\n<pre><code>[ldagan:dfII]cat test\noh,this,is,config,2\n[ldagan:dfII]grep -icP '\\S+?,config,' test\n0\n</code></pre>\n\n<p>However, getting the string to match within Perl regular expression does match!<br>\nSee below:</p>\n\n<pre><code>[ldagan:dfII]perl -e ' if (\"oh,this,is,config,2\" =~/\\S+?,config,/ )  \n{print \"yey!\\n\"} else {print \"ney!\\n\"} ;'\nyey!\n</code></pre>\n\n<p>I am using GNU grep version 2.5.1</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 39, "user_id": 4041908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d700c18c2e802b438d0e680ddbaab23c?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/4041908/raj"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1434970588, "post_id": 30977884, "comment_id": 49986616, "body": "Following is the output which I got &quot;a-b: $VAR1 = [           1,           2,           3,           4,           5,           6         ];  c-a: $VAR1 = [           2,           1,           4,           3,           6,           5         ];  c in a:&quot; which is wrong"}, {"owner": {"reputation": 39, "user_id": 4041908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d700c18c2e802b438d0e680ddbaab23c?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/4041908/raj"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1434970793, "post_id": 30977884, "comment_id": 49986756, "body": "yes, Line 7 should be &quot;my @a = (1,2,3,4,5,6);&quot;. My mistake, sorry for that, I should have checked it."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 5, "last_activity_date": 1434972761, "last_edit_date": 1434972761, "creation_date": 1434972453, "answer_id": 30978813, "question_id": 30977884, "link": "https://stackoverflow.com/questions/30977884/cant-diff-array-when-using-for-defining-in-perl/30978813#30978813", "title": "Can&#39;t diff array when using [] for defining in perl", "body": "<p>That's because these things do something completely different. </p>\n\n<pre><code>my @a = (1,2,3,4,5,6);\n\nmy @a = [1,2,3,4,5,6];\n</code></pre>\n\n<p>Square brackets define an anonymous list, returning a reference.  Therefore in the second case you effectively create a multi-dimensional data structure. </p>\n\n<pre><code>$VAR1 = [\n          1,\n          2,\n          3,\n          4,\n          5,\n          6\n        ];\n</code></pre>\n\n<p>Vs.</p>\n\n<pre><code>$VAR1 = [\n          [\n            1,\n            2,\n            3,\n            4,\n            5,\n            6\n          ]\n        ];\n</code></pre>\n\n<p>Note the extra bracket. You could access this as <code>@{$a[0]}</code> and get the same result in your code. </p>\n\n<p>But the key purpose of the square bracket is to assign to a reference:</p>\n\n<pre><code>my $a_ref = [1,2,3,4,5,6];\nprint Dumper $a_ref;\n</code></pre>\n\n<p>Which is essentially what you're doing - take your second example:</p>\n\n<pre><code>my @a = [1,2,3,4,5,6]; \n\nprint \"a has \", scalar @a, \" elements\\n\";\nprint join (\"\\n\", @a );\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>a has 1 elements\nARRAY(0x346dd4)\n</code></pre>\n\n<p>Because <code>@a</code> is a single element array, containing a reference, which Dumper \"follows\" to get at the rest of the data structure. </p>\n\n<p>Chances are the function calls you're making aren't doing this, which is why it isn't working. </p>\n"}], "owner": {"reputation": 39, "user_id": 4041908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d700c18c2e802b438d0e680ddbaab23c?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/4041908/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1434972761, "creation_date": 1434969684, "last_edit_date": 1434971828, "question_id": 30977884, "link": "https://stackoverflow.com/questions/30977884/cant-diff-array-when-using-for-defining-in-perl", "title": "Can&#39;t diff array when using [] for defining in perl", "body": "<p>When I use following code it works fine:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse Data::Dumper;\nuse Array::Utils qw(:all);\n\nmy @a = (1,2,3,4,5,6);\nmy @b = (1,2,3,4,7,8,9,10);\nmy @c = (2,1,4,3,6,5);\n\nprint \"a: \".Dumper(@a).\"\\n\";\nprint \"b: \".Dumper(@b).\"\\n\";\nprint \"c: \".Dumper(@c).\"\\n\";\nprint \"a-b: \".Dumper(array_minus(@a, @b)).\"\\n\";\n#print \"b-a: \".Dumper(array_minus(@b, @a)).\"\\n\";\n#print \"c-b: \".Dumper(array_minus(@c, @b)).\"\\n\";\n#print \"b-c: \".Dumper(array_minus(@b, @c)).\"\\n\";\n#print \"a-c: \".Dumper(array_minus(@a, @c)).\"\\n\";\nprint \"c-a: \".Dumper(array_minus(@c, @a)).\"\\n\";\nprint \"c in a: \".Dumper(intersect(@c, @a)).\"\\n\";\n</code></pre>\n\n<p>However, when I use this type of declaration for array code doesn't work:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse Data::Dumper;\nuse Array::Utils qw(:all);\n\nmy @a = [1,2,3,4,5,6];\nmy @b = [1,2,3,4,7,8,9,10];\nmy @c = [2,1,4,3,6,5];\n\nprint \"a: \".Dumper(@a).\"\\n\";\nprint \"b: \".Dumper(@b).\"\\n\";\nprint \"c: \".Dumper(@c).\"\\n\";\nprint \"a-b: \".Dumper(array_minus(@a, @b)).\"\\n\";\n#print \"b-a: \".Dumper(array_minus(@b, @a)).\"\\n\";\n#print \"c-b: \".Dumper(array_minus(@c, @b)).\"\\n\";\n#print \"b-c: \".Dumper(array_minus(@b, @c)).\"\\n\";\n#print \"a-c: \".Dumper(array_minus(@a, @c)).\"\\n\";\nprint \"c-a: \".Dumper(array_minus(@c, @a)).\"\\n\";\nprint \"c in a: \".Dumper(intersect(@c, @a)).\"\\n\";\n</code></pre>\n\n<p>I need to define array using [] because in my original code when I use <code>Array::Diff-&gt;diff</code> it returns two array added and deleted which are stored using [] instead of () due to which my <code>array_minus</code>, intersect operations are failing.</p>\n"}, {"tags": ["xml", "perl"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1434966773, "creation_date": 1434966773, "answer_id": 30976938, "question_id": 30976716, "link": "https://stackoverflow.com/questions/30976716/perl-xml-handling-module-by-default/30976938#30976938", "title": "perl XML handling module by default", "body": "<p>This is a recommendation question, so typically that's offtopic. However I will draw your attention to this from <code>XML::Simple</code>. </p>\n\n<blockquote>\n  <p>The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces. In particular, XML::LibXML is highly recommended.</p>\n</blockquote>\n\n<p>Depending on the task, different libraries are 'good'. <code>XML::LibXML</code> or <code>XML::Twig</code> are solid choices. <code>XML::Simple</code> isn't - it's prone to making bad code. </p>\n\n<p>Above all though - you should DEFINITELY use a parser, because whilst XML looks a bit like plain text, it isn't - there are some actually quite strict rules about what is - and isn't - OK in XML, and there are some semantically identical snippets of XML that have completely different formatting. </p>\n\n<p>This question is my attempt at assembling XML with <code>XML::Twig</code>. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/29009370/assembling-xml-in-perl\">Assembling XML in Perl</a></p>\n\n<p>You will probably have to install either of these modules. But don't worry. Installing modules is a Good Thing, and one of the reasons why Perl is so good. </p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1434975770, "post_id": 30979503, "comment_id": 49989922, "body": "Having used Activestate extensively, it&#39;s useful to know Strawberry ships with those."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1434974499, "creation_date": 1434974499, "answer_id": 30979503, "question_id": 30976716, "link": "https://stackoverflow.com/questions/30976716/perl-xml-handling-module-by-default/30979503#30979503", "title": "perl XML handling module by default", "body": "<p><a href=\"http://strawberryperl.com/releases.html\" rel=\"nofollow\"><strong><em>Strawberry Perl</em></strong></a> is bundled with many useful prebuilt modules, including the excellent <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow\"><code>XML::LibXML</code></a> and <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\"><code>XML::Twig</code></a></p>\n\n<p>I recommend <a href=\"https://metacpan.org/pod/XML::Writer\" rel=\"nofollow\"><code>XML::Writer</code></a> for creating XML documents from scratch, but unfortunately it isn't on the list of bundled modules. However <a href=\"https://metacpan.org/pod/App::cpanminus\" rel=\"nofollow\"><code>App::cpanminus</code></a> is there, which means you can add to your collection of utilities with </p>\n\n<pre><code>cpanm XML::Writer\n</code></pre>\n\n<p>from the command line</p>\n"}], "owner": {"reputation": 231, "user_id": 4738153, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/eb97fb1106021b914f22c3b8ba578620?s=128&d=identicon&r=PG&f=1", "display_name": "palyxk", "link": "https://stackoverflow.com/users/4738153/palyxk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 30976938, "answer_count": 2, "score": 0, "last_activity_date": 1434974499, "creation_date": 1434966168, "question_id": 30976716, "link": "https://stackoverflow.com/questions/30976716/perl-xml-handling-module-by-default", "title": "perl XML handling module by default", "body": "<p>Can i use default perl (say Strawberry perl 5.20 v) to build xml and populate its content with mine data? Or it is better to use modules from cpan like libXML or SimpleXML ? Are any useful modules default by installation ?</p>\n"}, {"tags": ["regex", "perl", "unix"], "comments": [{"owner": {"reputation": 2470, "user_id": 2254382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b5fff7f4b2cddee56d3f0120339f84?s=128&d=identicon&r=PG", "display_name": "melwil", "link": "https://stackoverflow.com/users/2254382/melwil"}, "edited": false, "score": 1, "creation_date": 1434961669, "post_id": 30975114, "comment_id": 49981415, "body": "What does <code>-M $file</code> actually return? Could you give some examples of output from that for files you want and files you don&#39;t?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434963154, "post_id": 30975114, "comment_id": 49982244, "body": "It&#39;s not clear what you&#39;re expecting. Your code will process all files that are modified more than ten minutes ago, which clearly includes files that were modified yesterday."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2470, "user_id": 2254382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b5fff7f4b2cddee56d3f0120339f84?s=128&d=identicon&r=PG", "display_name": "melwil", "link": "https://stackoverflow.com/users/2254382/melwil"}, "edited": false, "score": 0, "creation_date": 1434963192, "post_id": 30975114, "comment_id": 49982264, "body": "@melwil: <code>-M</code> returns the (floating point) number of days since the file was modified"}, {"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "reply_to_user": {"reputation": 2470, "user_id": 2254382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b5fff7f4b2cddee56d3f0120339f84?s=128&d=identicon&r=PG", "display_name": "melwil", "link": "https://stackoverflow.com/users/2254382/melwil"}, "edited": false, "score": 0, "creation_date": 1435012588, "post_id": 30975114, "comment_id": 50011594, "body": "@melwil From the Perl documentation <code>-M</code>  Script start time minus file modification time, in days."}, {"owner": {"reputation": 2470, "user_id": 2254382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b5fff7f4b2cddee56d3f0120339f84?s=128&d=identicon&r=PG", "display_name": "melwil", "link": "https://stackoverflow.com/users/2254382/melwil"}, "edited": false, "score": 0, "creation_date": 1435056960, "post_id": 30975114, "comment_id": 50029573, "body": "Yes, I think that has been made clear. I wanted to know if the author had considered just looking at what&#39;s coming out and why his program is failing based on that."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434963562, "post_id": 30975728, "comment_id": 49982495, "body": "What do you mean by <b><i>&quot;the familiar old floating point inaccuracy&quot;</i></b>? 32-bit floating-point values are accurate to about twelve digits, or about one microsecond per day. That should be quite good enough"}, {"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1434964512, "post_id": 30975728, "comment_id": 49983101, "body": "Well, for example, the approximation 0.0069 days that the poster uses is actually 9.936 minutes, not ten. Probably not relevant under the circumstances, but add a few more layers of approximation and it can get significant."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1434964856, "post_id": 30975728, "comment_id": 49983302, "body": "Ah okay. But that&#39;s not <i>floating point inaccuracy</i> -- I&#39;d call it <i>using the wrong number</i>!"}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": false, "score": 1, "last_activity_date": 1434963239, "creation_date": 1434963239, "answer_id": 30975728, "question_id": 30975114, "link": "https://stackoverflow.com/questions/30975114/how-to-find-few-minutes-older-files-in-perl/30975728#30975728", "title": "How to find few minutes older files in perl", "body": "<p>The code as written should work. There are a few possible reasons why it doesn't. One is of course the familiar old floating point inaccuracy, but that should only hit times close to the ten-minute limit. Another one, which I think is more likely, but you don't give enough context to say for sure, is that the <code>-M</code> operator returns differences between the file timestamp and the time when the script started running. This means, for example, that any file created after the script was started will get a negative value from <code>-M</code>. If your script is long-running, <code>-M</code> is pretty useless. If the filesystem your files reside on is a remote one (NFS or something), clock discrepancy between the server hosting the file system and the server running your script can also mess things up.</p>\n\n<p>I suggest that you rewrite your code to use <code>stat()</code> directly. That way you get the times in seconds, so you can deal with integers instead of floats, and you can compare against the current time instead of script start time. Have a look at <code>perldoc File::stat</code> to make using <code>stat()</code> a bit more readable.</p>\n"}, {"comments": [{"owner": {"reputation": 187, "user_id": 4395029, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8fc584900f95fe27f78834d21853522d?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur", "link": "https://stackoverflow.com/users/4395029/ankur"}, "edited": false, "score": 0, "creation_date": 1434969373, "post_id": 30975812, "comment_id": 49985923, "body": "thanks.. i have replied with my query in the original question.. :)"}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "reply_to_user": {"reputation": 187, "user_id": 4395029, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8fc584900f95fe27f78834d21853522d?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur", "link": "https://stackoverflow.com/users/4395029/ankur"}, "edited": false, "score": 0, "creation_date": 1435045492, "post_id": 30975812, "comment_id": 50022186, "body": "@Ankur: I guess something is wrong on your machine. Add  some debugging code to find the mistake:  <code>require Data::Dumper; warn Data::Dumper::Dumper([stat($file), -M $file]);</code>  should perhaps lead you to your mistake"}], "tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": false, "score": 0, "last_activity_date": 1434963478, "creation_date": 1434963478, "answer_id": 30975812, "question_id": 30975114, "link": "https://stackoverflow.com/questions/30975114/how-to-find-few-minutes-older-files-in-perl/30975812#30975812", "title": "How to find few minutes older files in perl", "body": "<p>Your code actually works:\nTrying </p>\n\n<pre><code>for my $file (&lt;*&gt;) { \n  print \"File $file\\n\\t -M: \" . (-M $file );\n  if ( -M $file &lt; .0069 ) {\n     print \" Doesnt fit\\n\";\n     next;\n  } else {\n      print \" Fits\\n\";\n  }\n} \n</code></pre>\n\n<p>in my /tmp directory returned:</p>\n\n<pre><code>File config-err-GBOOnR\n     -M: 0.0935532407407407 Fits\nFile cvcd\n     -M: 0.0938425925925926 Fits\nFile kde-gm\n     -M: 0.0935300925925926 Fits\nFile ksocket-gm\n     -M: 0.0935300925925926 Fits\nFile orbit-gm\n     -M: 16608.367650463 Fits\nFile unity_support_test.0\n     -M: 0.0935532407407407 Fits\n</code></pre>\n\n<p>But you can also use stat instead:</p>\n\n<pre><code>my $mtime = stat($file)[9];\nif(time-$mtime &gt; 10*60) {\n}\n</code></pre>\n\n<p>should do the job. See </p>\n\n<pre><code>perldoc -f stat\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 914, "user_id": 4114394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100006056441825/picture?type=large", "display_name": "Erik Bennett", "link": "https://stackoverflow.com/users/4114394/erik-bennett"}, "is_accepted": false, "score": 0, "last_activity_date": 1435157748, "creation_date": 1435157748, "answer_id": 31029972, "question_id": 30975114, "link": "https://stackoverflow.com/questions/30975114/how-to-find-few-minutes-older-files-in-perl/31029972#31029972", "title": "How to find few minutes older files in perl", "body": "<p>Most Linux installations which include <code>perl</code> probably have the more generalized <code>find2perl</code> program.</p>\n"}], "owner": {"reputation": 187, "user_id": 4395029, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8fc584900f95fe27f78834d21853522d?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur", "link": "https://stackoverflow.com/users/4395029/ankur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 967, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1435157748, "creation_date": 1434961342, "last_edit_date": 1434969342, "question_id": 30975114, "link": "https://stackoverflow.com/questions/30975114/how-to-find-few-minutes-older-files-in-perl", "title": "How to find few minutes older files in perl", "body": "<p>I only want to process files which are last modified 10 minutes ago. I am trying to achieve it like this.</p>\n\n<pre><code>for my $file (&lt;${dir}/*csv&gt;_) { \n    if ( -M $file &lt; .0069 ) {\n        next;\n        }\n    else {\n         code ...\n          }\n    } \n</code></pre>\n\n<p>.0069 days have been counted for 10 minutes (10/ (24*60)).  Now files present in the directory which are older than 1 day are identified correctly but any file which is less than 1 day older is recognized incorrectly. for example if file is 23 hours older it is getting processed in if block rather than else.\nI guess '-M $file' converting its value to integer (i.e. 0 in this case). Can anyone help here? Thanks </p>\n\n<p>Additional:\nThanks all. I am now trying with file::Stat</p>\n\n<pre><code>for my $file (&lt;${dir}/*csv&gt;_) { \n    my $mtime = (stat($file))[9];\n    my ctime = time;\n    my $time_diff = $ctime - $mtime;\n\n    if ( $time_diff &lt; 600 ) {\n        next; }\n    else {\n        code ...\n          }\n    }\n</code></pre>\n\n<p>But this is not provoding the accurate results. For file just created $time_diff must be almost zero but it is coming out to be somewhere around -17640. I guess epoch shouldn't be any issue as both times are calculated since epoch.  Where I wrong? ( server time is following IST (+5:30 hrs)</p>\n\n<pre><code>} \n</code></pre>\n"}, {"tags": ["perl", "heredoc"], "answers": [{"comments": [{"owner": {"reputation": 11922, "user_id": 765271, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t2IUe.jpg?s=128&g=1", "display_name": "Nasser", "link": "https://stackoverflow.com/users/765271/nasser"}, "edited": false, "score": 0, "creation_date": 1434961712, "post_id": 30975067, "comment_id": 49981431, "body": "I did read this, but I really did not understand it. And I still do not understand this whole thing. What is the point of using this module then, if one can not have a blank line in here document?? i.e. I am asking, how would one use blank line, and still use the indent feature?  If one can&#39;t have blank line, then this whole module makes no sense. Or may be I am still missing something."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 11922, "user_id": 765271, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t2IUe.jpg?s=128&g=1", "display_name": "Nasser", "link": "https://stackoverflow.com/users/765271/nasser"}, "edited": false, "score": 0, "creation_date": 1434961915, "post_id": 30975067, "comment_id": 49981530, "body": "I don&#39;t know what the module is for. Convenience, I guess. It&#39;s been written in 2003 and the <a href=\"https://metacpan.org/changes/distribution/Filter-Indent-HereDoc\" rel=\"nofollow noreferrer\">last release</a> is 2003 also. To be honest I don&#39;t see any use in this. What you could do is monkeypatch it, but there is just one function anyway, so that doesn&#39;t really make sense."}, {"owner": {"reputation": 11922, "user_id": 765271, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t2IUe.jpg?s=128&g=1", "display_name": "Nasser", "link": "https://stackoverflow.com/users/765271/nasser"}, "edited": false, "score": 0, "creation_date": 1434962321, "post_id": 30975067, "comment_id": 49981734, "body": "ok, thanks. If this is how it is supposed to work, then it is useless really. Not being able to have blank line in here document makes no sense."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1434961177, "creation_date": 1434961177, "answer_id": 30975067, "question_id": 30973532, "link": "https://stackoverflow.com/questions/30973532/why-filterindentheredoc-complain-when-blank-line-in-middle-of-heredoc/30975067#30975067", "title": "Why Filter::Indent::HereDoc complain when blank line in middle of HereDoc", "body": "<p>The <a href=\"https://metacpan.org/pod/Filter::Indent::HereDoc#DESCRIPTION\" rel=\"nofollow\">documentation</a> says:</p>\n\n<blockquote>\n  <p>If there is no terminator string (so the here document stops at the\n  first blank line), then enough whitespace will be stripped out so that\n  the leftmost character of the document will be flush with the left\n  margin, e.g.</p>\n\n<pre><code>print &lt;&lt;;\n     Hello,\n    World!\n\n# This will print:\n Hello,\nWorld!\n</code></pre>\n</blockquote>\n\n<p>This is the paragraph directly below the one you quoted in the question. <strong>The fact that it stops at blank lines is a feature</strong>.</p>\n"}], "owner": {"reputation": 11922, "user_id": 765271, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t2IUe.jpg?s=128&g=1", "display_name": "Nasser", "link": "https://stackoverflow.com/users/765271/nasser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 30975067, "answer_count": 1, "score": 1, "last_activity_date": 1434961177, "creation_date": 1434955448, "question_id": 30973532, "link": "https://stackoverflow.com/questions/30973532/why-filterindentheredoc-complain-when-blank-line-in-middle-of-heredoc", "title": "Why Filter::Indent::HereDoc complain when blank line in middle of HereDoc", "body": "<p>I am trying <a href=\"http://search.cpan.org/dist/Filter-Indent-HereDoc/HereDoc.pm\" rel=\"nofollow\">Filter::Indent::HereDoc</a> which allows one to indent the HereDocument. This is very useful, to be able to have HereDoc that flows with the code logic. </p>\n\n<p>From the above link</p>\n\n<blockquote>\n  <p>When a 'here document' is used, the document text and the termination\n  string must be flush with the left margin, even if the rest of the\n  code block is indented.</p>\n  \n  <p>Filter::Indent::HereDoc removes this restriction, and acts in a more\n  DWIM kind of way - that if the terminator string is indented then that\n  level of indent will apply to the whole document.</p>\n</blockquote>\n\n<p>This module can be installed using <code>sudo cpanm Filter::Indent::HereDoc</code></p>\n\n<p>However, I am finding that if there is blank line inside the HereDoc, then it gives the error</p>\n\n<pre><code>  Can't find string terminator \"EOT\" anywhere before EOF at....\n</code></pre>\n\n<p>Which does not happen when I remove the blank line.  Here is MWE</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Filter::Indent::HereDoc;\n\nmy $str = &lt;&lt;'EOT';\n    some text\n    some text\n    EOT\n\nprint $str;\n</code></pre>\n\n<p>The above runs with no problem, even though space exists before <code>EOT</code> (It would have failed without using <code>Filter::Indent::HereDoc</code>)</p>\n\n<pre><code>&gt;perl t4.pl \nsome text\nsome text\n&gt;\n</code></pre>\n\n<p>Now I simply insert a blank line in between, like this</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Filter::Indent::HereDoc;\n\nmy $str = &lt;&lt;'EOT';\n    some text\n\n    some text\n    EOT\n\nprint $str;\n</code></pre>\n\n<p>and now</p>\n\n<pre><code>&gt;perl t4.pl \nCan't find string terminator \"EOT\" anywhere before EOF at t4.pl line 6.\n&gt;\n</code></pre>\n\n<p>If the space before <code>EOT</code> is now removed, then it works:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Filter::Indent::HereDoc;\n\nmy $str = &lt;&lt;'EOT';\n     some text\n\n     some text\nEOT\n\nprint $str;\n</code></pre>\n\n<p>and now</p>\n\n<pre><code>&gt;perl t4.pl \n     some text\n\n     some text\n&gt;\n</code></pre>\n\n<p>But the whole idea of using this module is to allow one to indent the HereDoc.</p>\n\n<p>Any idea what is going on?</p>\n\n<p>Information:</p>\n\n<pre><code>&gt;perl --version\n\nThis is perl 5, version 18, subversion 2 (v5.18.2) built \nfor i686-linux-gnu-thread-multi-64int\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1434955317, "post_id": 30973091, "comment_id": 49978191, "body": "Why not do it in pure Perl?! That would probably be easier anyway."}, {"owner": {"reputation": 3, "user_id": 5034950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7141d3e93a63806dafcfc736bca9580e?s=128&d=identicon&r=PG&f=1", "display_name": "Test 1991", "link": "https://stackoverflow.com/users/5034950/test-1991"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1434956528, "post_id": 30973091, "comment_id": 49978772, "body": "Thanks for the response ... Please advice how can i do in pure perl.."}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1434957102, "post_id": 30973091, "comment_id": 49979064, "body": "Show us some example input and expected output. Chances are it can be done with a single regex."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5034950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7141d3e93a63806dafcfc736bca9580e?s=128&d=identicon&r=PG&f=1", "display_name": "Test 1991", "link": "https://stackoverflow.com/users/5034950/test-1991"}, "edited": false, "score": 0, "creation_date": 1435024059, "post_id": 30974669, "comment_id": 50014592, "body": "Thanks for the response ... I am getting syntax error :syntax error at file.pl line 7, near &quot;tr~,~/~r &quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 5034950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7141d3e93a63806dafcfc736bca9580e?s=128&d=identicon&r=PG&f=1", "display_name": "Test 1991", "link": "https://stackoverflow.com/users/5034950/test-1991"}, "edited": false, "score": 0, "creation_date": 1435024126, "post_id": 30974669, "comment_id": 50014611, "body": "You have an old copy of Perl that doesn&#39;t support the <code>&#47;r</code> modifier. Try it now"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1435025298, "last_edit_date": 1435025298, "creation_date": 1434959700, "answer_id": 30974669, "question_id": 30973091, "link": "https://stackoverflow.com/questions/30973091/perl-display-perl-variable-awk-sed-echo/30974669#30974669", "title": "Perl : Display perl variable awk sed echo", "body": "<p>You can do that using a Perl regex pattern</p>\n\n<pre><code>my $calculate;\n($calculate = $1) =~ tr~,~/~ if $value =~ /SP=[^:]*:([^;]*)/;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 5034950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7141d3e93a63806dafcfc736bca9580e?s=128&d=identicon&r=PG&f=1", "display_name": "Test 1991", "link": "https://stackoverflow.com/users/5034950/test-1991"}, "edited": false, "score": 0, "creation_date": 1435024141, "post_id": 30974778, "comment_id": 50014613, "body": "Thanks for the response. Above code is giving blank value for $result."}, {"owner": {"reputation": 3, "user_id": 5034950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7141d3e93a63806dafcfc736bca9580e?s=128&d=identicon&r=PG&f=1", "display_name": "Test 1991", "link": "https://stackoverflow.com/users/5034950/test-1991"}, "edited": false, "score": 0, "creation_date": 1435024247, "post_id": 30974778, "comment_id": 50014638, "body": "Sorry it looks like its not going in this loop ---&gt;  if ( $hash{&#39;SP&#39;} =~ m/:(\\w+),(\\d+)$/ ) {"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "reply_to_user": {"reputation": 3, "user_id": 5034950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7141d3e93a63806dafcfc736bca9580e?s=128&d=identicon&r=PG&f=1", "display_name": "Test 1991", "link": "https://stackoverflow.com/users/5034950/test-1991"}, "edited": false, "score": 0, "creation_date": 1435034834, "post_id": 30974778, "comment_id": 50017275, "body": "It works fine for me; it enters the if statement (which isn&#39;t a loop, BTW) and prints <code>person&#47;3</code>."}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "reply_to_user": {"reputation": 3, "user_id": 5034950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7141d3e93a63806dafcfc736bca9580e?s=128&d=identicon&r=PG&f=1", "display_name": "Test 1991", "link": "https://stackoverflow.com/users/5034950/test-1991"}, "edited": false, "score": 0, "creation_date": 1435035476, "post_id": 30974778, "comment_id": 50017488, "body": "Did you debug it and have a look at the contents of <code>%hash</code>? Or at least print <code>$hash{&#39;SP&#39;}</code>?"}], "tags": [], "owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "is_accepted": false, "score": 0, "last_activity_date": 1434960760, "last_edit_date": 1434960760, "creation_date": 1434960133, "answer_id": 30974778, "question_id": 30973091, "link": "https://stackoverflow.com/questions/30973091/perl-display-perl-variable-awk-sed-echo/30974778#30974778", "title": "Perl : Display perl variable awk sed echo", "body": "<p>Something like this, perhaps:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse v5.20;\n\nmy $data\n  = 'HM=Happy:man,1;SP=SAD:person,3;AP=Arrogant:personality,5;MD=Mad:Dynamic,9;PR=Power:raper,10;';\n\nmy %hash = map {m/(.*?)=(.*)$/} split( ';', $data );\n\nif ( $hash{'SP'} =~ m/:(\\w+),(\\d+)$/ ) {\n  my $result = $1 . '/' . $2;\n  say $result;\n}\n</code></pre>\n\n\n\n<pre><code>person/3\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5034950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7141d3e93a63806dafcfc736bca9580e?s=128&d=identicon&r=PG&f=1", "display_name": "Test 1991", "link": "https://stackoverflow.com/users/5034950/test-1991"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 30974669, "answer_count": 2, "score": -5, "last_activity_date": 1435025298, "creation_date": 1434953463, "last_edit_date": 1434959395, "question_id": 30973091, "link": "https://stackoverflow.com/questions/30973091/perl-display-perl-variable-awk-sed-echo", "title": "Perl : Display perl variable awk sed echo", "body": "<p>When I am using below command directly its working fine but when I am trying to put this in perl script its giving lots of error.</p>\n\n<pre><code>my $calculate = `echo \"$value\" | awk -F \"SP=\" '{print $2}' | awk  -F \";\" '{print $1}' | awk -F \":\" '{print $2}' | sed 's/\\,/\\//g'`;\n</code></pre>\n\n<p>Data is like:</p>\n\n<pre><code>HM=Happy:man,1;SP=SAD:person,3;AP=Arrogant:personality,5;MD=Mad:Dynamic,9;PR=Power:raper,10;\n</code></pre>\n\n<p>I want output as</p>\n\n<pre><code>person/3\n</code></pre>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1434946918, "post_id": 30971898, "comment_id": 49975515, "body": "Does doing <code>chcp 437</code> first (in the console from which you run <code>ppm</code>) help? Hopefully, the worse that will happen is that &quot;&#233;&quot; will be displayed as &quot;\u0644&quot;."}, {"owner": {"reputation": 5769, "user_id": 712104, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/5bba53f4248b06303525e038fd7b06d5?s=128&d=identicon&r=PG", "display_name": "AMH", "link": "https://stackoverflow.com/users/712104/amh"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1434956499, "post_id": 30971898, "comment_id": 49978759, "body": "it worked fine thanks a lot"}], "answers": [{"tags": [], "owner": {"reputation": 1579, "user_id": 926639, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1b885a5f2fda4f34c7cf52b6ae47cf37?s=128&d=identicon&r=PG", "display_name": "shgnInc", "link": "https://stackoverflow.com/users/926639/shgninc"}, "is_accepted": false, "score": 0, "last_activity_date": 1458812764, "creation_date": 1458812764, "answer_id": 36197155, "question_id": 30971898, "link": "https://stackoverflow.com/questions/30971898/active-perl-and-local-encoding-issue/36197155#36197155", "title": "Active perl and local encoding issue", "body": "<p>It seems like a bug in on windows for number of the active console code page cp720.</p>\n\n<p>You can change this code with command prompt by inserting chcp nnn, where nnn specifies the code page ( example :  chcp 850), you can find a list of cp here. but you must repeat the same steps each time you want to open tlmgr.\nYou can automate the previous steps by inserting the command chcp nnn directly in cmd.</p>\n\n<p><code>chcp 850</code></p>\n"}], "owner": {"reputation": 5769, "user_id": 712104, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/5bba53f4248b06303525e038fd7b06d5?s=128&d=identicon&r=PG", "display_name": "AMH", "link": "https://stackoverflow.com/users/712104/amh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458812764, "creation_date": 1434945049, "question_id": 30971898, "link": "https://stackoverflow.com/questions/30971898/active-perl-and-local-encoding-issue", "title": "Active perl and local encoding issue", "body": "<p>am trying to using actvperrl to install prerequsist for bugzila but when trying to run this script from <code>cmd</code> running as administrator </p>\n\n<pre><code> ppm install TimeDate\n</code></pre>\n\n<p>I get the following error </p>\n\n<pre><code>ppm install failed: The locale codeset (cp720) isn't one that perl can decode, s\ntopped\n</code></pre>\n\n<p>even if am using English , any idea how to fix that </p>\n"}, {"tags": ["perl", "perlbrew"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1434947476, "last_edit_date": 1495539828, "creation_date": 1434947476, "answer_id": 30972148, "question_id": 30971820, "link": "https://stackoverflow.com/questions/30971820/can-i-install-perl-binary-with-perlbrew/30972148#30972148", "title": "Can I install perl binary with perlbrew?", "body": "<p><code>perlbrew</code> isn't a package manager. It can't install whatever package it is you have.</p>\n\n<p>But once you have it installed, you can manage it using <code>perlbrew</code> by following <a href=\"https://stackoverflow.com/a/25188576/589924\">these intructions</a>.</p>\n"}], "owner": {"reputation": 579, "user_id": 1055416, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cd85b1a85e5b7bee75e684cc19da3fc1?s=128&d=identicon&r=PG", "display_name": "leetom", "link": "https://stackoverflow.com/users/1055416/leetom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1434966077, "creation_date": 1434944508, "last_edit_date": 1434966077, "question_id": 30971820, "link": "https://stackoverflow.com/questions/30971820/can-i-install-perl-binary-with-perlbrew", "title": "Can I install perl binary with perlbrew?", "body": "<p>I am using perlbrew on a raspi, but I don't want to the slow processor to compile new perls. Can I install binaries with it (or other similar tools), like when I use homebrew?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1434959956, "post_id": 30971040, "comment_id": 49980522, "body": "You <b><i>must always</i></b> <code>use strict</code> and <code>use warnings</code> at the top of every Perl program you write"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1434967614, "post_id": 30971040, "comment_id": 49984878, "body": "That goes double if you&#39;re posting it asking for assistance :)"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 1782046, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a9567f1681c9ddbd51a3fdfad2bf4f81?s=128&d=identicon&r=PG", "display_name": "user1782046", "link": "https://stackoverflow.com/users/1782046/user1782046"}, "edited": false, "score": 0, "creation_date": 1434951085, "post_id": 30971531, "comment_id": 49976633, "body": "unless ($_ =~ /(Status Code 1)/) { - didn&#39;t work for me"}, {"owner": {"reputation": 13, "user_id": 1782046, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a9567f1681c9ddbd51a3fdfad2bf4f81?s=128&d=identicon&r=PG", "display_name": "user1782046", "link": "https://stackoverflow.com/users/1782046/user1782046"}, "edited": false, "score": 0, "creation_date": 1434956825, "post_id": 30971531, "comment_id": 49978921, "body": "Thanks for looking into this.. I find the issue when I use the line &quot;my $entire_file_as_string = &lt;INCOMING&gt;;&quot; printing &quot;$entire_file_as_string&quot; variable prints only has the first line of the each file, it should print all lines of the given file.. While the code works the functionality breaks as the  &quot;if($entire_file_as_string =~ /(Exit Status 1)/) {&quot; only compares the first line of each file and not the entire file."}, {"owner": {"reputation": 1097, "user_id": 3916640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ff440cfc7c911ffc3ec96b892f20d4e?s=128&d=identicon&r=PG", "display_name": "rurouni88", "link": "https://stackoverflow.com/users/3916640/rurouni88"}, "reply_to_user": {"reputation": 13, "user_id": 1782046, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a9567f1681c9ddbd51a3fdfad2bf4f81?s=128&d=identicon&r=PG", "display_name": "user1782046", "link": "https://stackoverflow.com/users/1782046/user1782046"}, "edited": false, "score": 0, "creation_date": 1434960157, "post_id": 30971531, "comment_id": 49980601, "body": "Yeps, half asleep here, and I rushed that solution. Rejigged and refactored. Change the line regexp to a nested loop and a quick bail out option as soon as the string is found.  BTW, as a side recommendation, something like this would be quicker as a bash shell script, because you can grep for the String in the entire file vs reading it line by line"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1434962847, "post_id": 30971531, "comment_id": 49982056, "body": "Ever since Perl v5.8 twenty years ago it has been preferable to use lexical file handles  and the three-parameter form of <code>open</code>. It&#39;s also wrong to put solitary scalar variables inside quotes, so <code>open (INCOMING, &quot;&lt;$filename&quot;)</code> should be <code>open my $incoming, &#39;&lt;&#39;, $filename</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434965140, "post_id": 30971531, "comment_id": 49983460, "body": "<code>print FILE sprintf (&quot;%s\\n&quot;, $filename)</code> is usually written as <code>printf FILE &quot;%s\\n&quot;, $filename</code> or just <code>print FILE &quot;$filename\\n&quot;</code>"}], "tags": [], "owner": {"reputation": 1097, "user_id": 3916640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ff440cfc7c911ffc3ec96b892f20d4e?s=128&d=identicon&r=PG", "display_name": "rurouni88", "link": "https://stackoverflow.com/users/3916640/rurouni88"}, "is_accepted": false, "score": 0, "last_activity_date": 1434959962, "last_edit_date": 1434959962, "creation_date": 1434941692, "answer_id": 30971531, "question_id": 30971040, "link": "https://stackoverflow.com/questions/30971040/search-string-with-multiple-words-in-the-pattern/30971531#30971531", "title": "Search string with multiple words in the pattern", "body": "<p>Change</p>\n\n<pre><code>unless ($_ =~ /perl/) {\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>unless ($_ =~ /(Status Code 1)/) {\n</code></pre>\n\n<p>I am certain the above works, except it's case sensitive.\nSince you question it, I rewrote your script to make more sense of what you're trying to accomplish and implement the above suggestion. Correct me if I am wrong, but you're trying to make a script which matches \"Status Code 1\" in a bunch of files where last modified within 1 day and print the filename to a text file.\nAnyways, below is what I recommend:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $output_file = 'report.txt';\nmy @list = `find /home/ad -type f -mtime -1`;\n\nforeach my $filename (@list) {\n        print \"PROCESSING: $filename\";\n        open (INCOMING, \"&lt;$filename\") || die \"FATAL: Could not open '$filename' $!\";\n        foreach my $line (&lt;INCOMING&gt;) {\n\n                if ($line =~ /(Status Code 1)/) {\n                        open( FILE, \"&gt;&gt;$output_file\") or die \"FATAL: Could not open '$output_file' $!\";\n                        print FILE sprintf (\"%s\\n\", $filename);\n                        close(FILE) || die \"FATAL: Could not CLOSE '$output_file' $!\";\n\n                        # Bail when we get the first match\n                        last;\n                }\n        }\n        close(INCOMING) || die \"FATAL: Could not close '$filename' $!\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 1782046, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a9567f1681c9ddbd51a3fdfad2bf4f81?s=128&d=identicon&r=PG", "display_name": "user1782046", "link": "https://stackoverflow.com/users/1782046/user1782046"}, "edited": false, "score": 0, "creation_date": 1434951034, "post_id": 30972281, "comment_id": 49976618, "body": "Case was matched correctly. This also didn&#39;t work: unless($_ =~ /Status\\s+Code\\s+1/i)"}], "tags": [], "owner": {"reputation": 941, "user_id": 3637135, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Z7NA2.jpg?s=128&g=1", "display_name": "karsas", "link": "https://stackoverflow.com/users/3637135/karsas"}, "is_accepted": false, "score": 0, "last_activity_date": 1434948558, "creation_date": 1434948558, "answer_id": 30972281, "question_id": 30971040, "link": "https://stackoverflow.com/questions/30971040/search-string-with-multiple-words-in-the-pattern/30972281#30972281", "title": "Search string with multiple words in the pattern", "body": "<p>it should have matched unless $_ contains text in different case.</p>\n\n<p>try this.</p>\n\n<pre><code>unless($_ =~ /Status\\s+Code\\s+1/i) {\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1434967677, "post_id": 30975527, "comment_id": 49984920, "body": "Original script does recurse, so <code>File::Find</code> might be appropriate?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1434962679, "creation_date": 1434962679, "answer_id": 30975527, "question_id": 30971040, "link": "https://stackoverflow.com/questions/30971040/search-string-with-multiple-words-in-the-pattern/30975527#30975527", "title": "Search string with multiple words in the pattern", "body": "<p>There are a number of problems with your code</p>\n\n<ul>\n<li><p>You <strong><em>must always</em></strong> <code>use strict</code> and <code>use warnings</code> at the top of every Perl program. There is little point in delcaring anything with <code>my</code> without <code>strict</code> in place</p></li>\n<li><p>The lines returned by the <code>find</code> command will have a newline at the end which must be removed before Perl can find the files</p></li>\n<li><p>You should use <em>lexical file handles</em> (<code>my $fh</code> instead of <code>FILE</code>) and the three-parameter form of <code>open</code> as you do with your output file</p></li>\n<li><p><code>$_ = &lt;FILE&gt;</code> reads only the <em>first</em> line of the file into <code>$_</code></p></li>\n<li><p><code>unless ($_ =~ /perl/)</code> is inverted logic, and there's no need to specify <code>$_</code> as it is the default. You should write <code>if ( /perl/ )</code></p></li>\n<li><p>You can't use <code>say</code> unless you have <code>use feature 'say'</code> at the top of your program (or <code>use 5.010</code>, which adds all features available in Perl v5.10)</p></li>\n</ul>\n\n<p>It is also best to avoid using shell commands as Perl is more than able to do anything that you can using command line utilities. In this case <code>-f $file</code> is a test that returns <em>true</em> if the file is a plain file, and <code>-M $file</code> returns the (floating point) number of days since the file's modification time</p>\n\n<p>This is how I would write your program</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nfor my $file ( glob '/home/ad/*' ) {\n\n    next unless -f $file and int(-M $file) == 1;\n\n    open my $fh, '&lt;', $file or die $!;\n\n    while ( &lt;$fh&gt; ) {\n\n        if ( /perl/ ) {\n\n            print \"found\\n\";\n\n            my $filename = 'report.txt';\n            open my $out_fh, '&gt;&gt;', $filename or die \"Could not open file '$filename': $!\";\n            say $fh \"My first report generated by perl\";\n            close $out_fh;\n\n            last;\n        }\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 1782046, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a9567f1681c9ddbd51a3fdfad2bf4f81?s=128&d=identicon&r=PG", "display_name": "user1782046", "link": "https://stackoverflow.com/users/1782046/user1782046"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1434962679, "creation_date": 1434936893, "last_edit_date": 1434960191, "question_id": 30971040, "link": "https://stackoverflow.com/questions/30971040/search-string-with-multiple-words-in-the-pattern", "title": "Search string with multiple words in the pattern", "body": "<p>My program is trying to search a string from multiple files in a directory. The code searches for single patterns like <code>perl</code> but fails to search a long string like <code>Status Code 1</code>.</p>\n\n<p>Can you please let me know how to search for strings with multiple words?</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy @list = `find /home/ad -type f -mtime -1`;\n\n# printf(\"Lsit is $list[1]\\n\");\n\nforeach (@list) {\n\n    # print(\"Now is : $_\");\n\n    open(FILE, $_);\n    $_ = &lt;FILE&gt;;\n    close(FILE);\n\n    unless ($_ =~ /perl/) { # works, but fails to find string \"Status Code 1\"\n        print \"found\\n\";\n\n        my $filename = 'report.txt';\n        open(my $fh, '&gt;&gt;', $filename) or die \"Could not open file '$filename' $!\";\n        say $fh \"My first report generated by perl\";\n        close $fh;\n\n    } # end unless\n\n} # end For\n</code></pre>\n"}, {"tags": ["java", "eclipse", "perl", "path"], "comments": [{"owner": {"reputation": 63596, "user_id": 2314073, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/buvFz.png?s=128&g=1", "display_name": "Juned Ahsan", "link": "https://stackoverflow.com/users/2314073/juned-ahsan"}, "edited": false, "score": 0, "creation_date": 1434930004, "post_id": 30970383, "comment_id": 49972241, "body": "is perl in your path? Any exception?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user411103"}, "reply_to_user": {"reputation": 63596, "user_id": 2314073, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/buvFz.png?s=128&g=1", "display_name": "Juned Ahsan", "link": "https://stackoverflow.com/users/2314073/juned-ahsan"}, "edited": false, "score": 0, "creation_date": 1434930495, "post_id": 30970383, "comment_id": 49972321, "body": "Yes, perl is in the path (and partially runs for Match.pl). I cannot see any exceptions from Eclipse"}, {"owner": {"user_type": "does_not_exist", "display_name": "user411103"}, "reply_to_user": {"reputation": 63596, "user_id": 2314073, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/buvFz.png?s=128&g=1", "display_name": "Juned Ahsan", "link": "https://stackoverflow.com/users/2314073/juned-ahsan"}, "edited": false, "score": 0, "creation_date": 1434930867, "post_id": 30970383, "comment_id": 49972391, "body": "My guess is that the export is not completed before the perl script is run"}, {"owner": {"reputation": 63596, "user_id": 2314073, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/buvFz.png?s=128&g=1", "display_name": "Juned Ahsan", "link": "https://stackoverflow.com/users/2314073/juned-ahsan"}, "edited": false, "score": 1, "creation_date": 1434931061, "post_id": 30970383, "comment_id": 49972429, "body": "export works in the same shell, and as you are launching two different process so i don&#39;t think export will be available for the second one. Try combining both the scripts and check the result."}, {"owner": {"user_type": "does_not_exist", "display_name": "user411103"}, "reply_to_user": {"reputation": 63596, "user_id": 2314073, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/buvFz.png?s=128&g=1", "display_name": "Juned Ahsan", "link": "https://stackoverflow.com/users/2314073/juned-ahsan"}, "edited": false, "score": 0, "creation_date": 1434932129, "post_id": 30970383, "comment_id": 49972631, "body": "Combining? How can I run the export from a perl script?"}, {"owner": {"reputation": 63596, "user_id": 2314073, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/buvFz.png?s=128&g=1", "display_name": "Juned Ahsan", "link": "https://stackoverflow.com/users/2314073/juned-ahsan"}, "edited": false, "score": 1, "creation_date": 1434932213, "post_id": 30970383, "comment_id": 49972642, "body": "Call Match.pl from hello.sh"}], "answers": [{"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 1, "last_activity_date": 1434948014, "last_edit_date": 1434948014, "creation_date": 1434933412, "answer_id": 30970743, "question_id": 30970383, "link": "https://stackoverflow.com/questions/30970383/unable-to-call-perl-script-from-java-code/30970743#30970743", "title": "Unable to call Perl script from Java code", "body": "<p>Try adding:</p>\n\n<pre><code>use FindBin;\nuse lib $FindBin::RealBin;\n</code></pre>\n\n<p>This will add the directory that the script is in to the library search path.</p>\n\n<p>Edit: The shell script is not working  because it changes the environment of the shell process, not the Java process that spawned it.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user411103"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 30970743, "answer_count": 1, "score": 0, "last_activity_date": 1434948014, "creation_date": 1434929866, "question_id": 30970383, "link": "https://stackoverflow.com/questions/30970383/unable-to-call-perl-script-from-java-code", "title": "Unable to call Perl script from Java code", "body": "<p>I am using JAX-WS in Eclipse (tomcat8 localhost) and I need to call a Perl script from it. Using the code below, I am able to reach the first three lines of Match.pl. However, when it reaches <code>use Stats;</code>, the process returns exitvalue 2.</p>\n\n<p>The Stats.pm file is in the same directory as Match.pl, which has been exported to PERL5LIB with hello.sh script.</p>\n\n<p>What am I doing wrong? Is there a way to use relative paths instead of absolute ones?</p>\n\n<pre><code>@Path(\"/\")\npublic class MyService {\n    @POST\n    @Path(\"/generatePath\")\n    @Produces(MediaType.TEXT_PLAIN)\n    public Response generatePathService(\n            @FormParam(\"url\") String fileURL) throws IOException, InterruptedException {\n        Process p0 = Runtime.getRuntime().exec(\"sh /home/me/workspace/MyService/hello.sh\");\n        p0.waitFor();\n        Process p = Runtime.getRuntime().exec(\"perl /home/me/workspace/MyService/Match.pl\");\n        p.waitFor();\n\n        return Response.status(200).entity(fileURL).build();\n    }\n}\n</code></pre>\n\n<p><strong>Match.pl</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Getopt::Long;\nuse Stats;\n</code></pre>\n\n<p><strong>Stats.pm</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\npackage Stats;\n\nuse strict;\nuse warnings;\n</code></pre>\n\n<p><strong>hello.sh</strong></p>\n\n<pre><code>#!/bin/bash\n\nexport PERL5LIB=/home/me/workspace/MyService\n</code></pre>\n"}, {"tags": ["perl", "ubuntu", "download", "package"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1434924966, "post_id": 30969809, "comment_id": 49971249, "body": "It depends on your Perl installation. Try <code>cpan Net::DNS</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434928070, "post_id": 30969809, "comment_id": 49971944, "body": "Did this not work for you?"}, {"owner": {"reputation": 1375, "user_id": 3097712, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e259ae77d52bc7e2113fc753bf96267a?s=128&d=identicon&r=PG&f=1", "display_name": "user3097712", "link": "https://stackoverflow.com/users/3097712/user3097712"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434930649, "post_id": 30969809, "comment_id": 49972358, "body": "I got the message: &quot;mkdir /root/.cpan: Permission denied at /usr/share/perl/5.10/CPAN/FTP.pm line 501&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434930784, "post_id": 30969809, "comment_id": 49972378, "body": "Sorry, that should be <code>sudo cpan Net::DNS</code>"}, {"owner": {"reputation": 1375, "user_id": 3097712, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e259ae77d52bc7e2113fc753bf96267a?s=128&d=identicon&r=PG&f=1", "display_name": "user3097712", "link": "https://stackoverflow.com/users/3097712/user3097712"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434930999, "post_id": 30969809, "comment_id": 49972421, "body": "No, problem. Now, I have a lot of &quot;Warning: no successful downloading&quot;-messages. And at the end, it says: &quot;Could not fetch authors/01mailrc.txt.gz&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434931148, "post_id": 30969809, "comment_id": 49972445, "body": "That&#39;s odd. Does it give any clue about <i>why</i> the download failed? Perhaps you could edit your question and add the log."}, {"owner": {"reputation": 1375, "user_id": 3097712, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e259ae77d52bc7e2113fc753bf96267a?s=128&d=identicon&r=PG&f=1", "display_name": "user3097712", "link": "https://stackoverflow.com/users/3097712/user3097712"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434993552, "post_id": 30969809, "comment_id": 50002069, "body": "@Borodin: Yes, your advice worked!!! The problem for the odd messages above was that I had no available network connection at the time when I wrote your recommended command. Now, after getting network connection, it worked and inetsim does not show the &quot;dns-fail&quot;-message. Thank you !"}], "answers": [{"comments": [{"owner": {"reputation": 1375, "user_id": 3097712, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e259ae77d52bc7e2113fc753bf96267a?s=128&d=identicon&r=PG&f=1", "display_name": "user3097712", "link": "https://stackoverflow.com/users/3097712/user3097712"}, "edited": false, "score": 0, "creation_date": 1434926072, "post_id": 30969948, "comment_id": 49971515, "body": "after your recommended command, it says: &quot;libnet is already the newest version&quot;. But the message mentioned in my first post is still there."}], "tags": [], "owner": {"reputation": 3217, "user_id": 21987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e82fa3d3e0a99a93777b65a4ccda8126?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/21987/joel"}, "is_accepted": false, "score": 1, "last_activity_date": 1434925577, "creation_date": 1434925577, "answer_id": 30969948, "question_id": 30969809, "link": "https://stackoverflow.com/questions/30969809/installation-of-perl-library-net-version-0-66/30969948#30969948", "title": "Installation of Perl library Net version &gt; 0.66", "body": "<p>On Ubuntu, if you're not using CPAN, try <code>sudo apt-get install libnet-dns-perl</code> to upgrade your library.  I just tried it on my own machine and it installed version 0.66.</p>\n"}], "owner": {"reputation": 1375, "user_id": 3097712, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e259ae77d52bc7e2113fc753bf96267a?s=128&d=identicon&r=PG&f=1", "display_name": "user3097712", "link": "https://stackoverflow.com/users/3097712/user3097712"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1434931955, "creation_date": 1434924502, "last_edit_date": 1434931955, "question_id": 30969809, "link": "https://stackoverflow.com/questions/30969809/installation-of-perl-library-net-version-0-66", "title": "Installation of Perl library Net version &gt; 0.66", "body": "<p>I have installed INetSim on Ubuntu and when I start it, I get the following message:</p>\n\n<pre><code> The installed version 0.65 of Perl library Net::DNS is broken. \n Please upgrade to version 0.66 or later.\n</code></pre>\n\n<p>So, I use Ubuntu for the first time. I googled for that package but I am not sure which command to type in the terminal. \nCan somebody tell me the correct lines that I can type into the terminal ?</p>\n\n<p>EDIT:\nwhen I run the 'cpan' - command, then I get the following:\n<img src=\"https://i.stack.imgur.com/oM9Pf.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/FbIdD.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/1upj1.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/miUTT.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["java", "eclipse", "perl", "jax-ws"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user411103"}, "edited": false, "score": 0, "creation_date": 1434919003, "post_id": 30968817, "comment_id": 49969595, "body": "I just tried it and still doesn&#39;t work. The app goes straight to the return before executing the run()."}, {"owner": {"reputation": 1426, "user_id": 3077349, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Co2uW.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/3077349/chris"}, "edited": false, "score": 0, "creation_date": 1434919099, "post_id": 30968817, "comment_id": 49969625, "body": "is there some possibility to &#39;trace&#39; your perl script? i mean does it run? how far? is there a log file or whatever?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user411103"}, "edited": false, "score": 0, "creation_date": 1434920117, "post_id": 30968817, "comment_id": 49969942, "body": "It&#39;s strange. I just replaced match.pl by a hello.pl that does this: <code>use strict; use warnings; open(my $fh, &#39;&gt;&#39;, &#39;report.txt&#39;); print $fh &quot;My first report generated by perl\\n&quot;; close $fh; print &quot;done\\n&quot;</code>. That file report.txt is never created. However, I would say it runs because p.exitvalue() = 0, however, if I change the name hello.pl to hello2.pl (unexistent) it returns 2"}, {"owner": {"reputation": 1426, "user_id": 3077349, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Co2uW.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/3077349/chris"}, "edited": false, "score": 0, "creation_date": 1434920290, "post_id": 30968817, "comment_id": 49969998, "body": "what about calling a shell script? maybe this is better to debug? just an idea..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user411103"}, "edited": false, "score": 0, "creation_date": 1434926618, "post_id": 30968817, "comment_id": 49971638, "body": "Wow, for a dummy helloworld.sh it works. I believe the problem is about permissions. match.pl is creating some files (ideally at the same directory as it is). Is there a way to run this perl command as root? How can I see the output? (I have prints on it)"}, {"owner": {"reputation": 1426, "user_id": 3077349, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Co2uW.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/3077349/chris"}, "edited": false, "score": 0, "creation_date": 1434945444, "post_id": 30968817, "comment_id": 49975223, "body": "Which user is running tomcat? Maybe that user needs more rights. I would recommend adding some debug output to the perl script to see whats the problem. Maybe do some fileExists() after creating it (or whatever the command is called in perl)"}], "tags": [], "owner": {"reputation": 1426, "user_id": 3077349, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Co2uW.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/3077349/chris"}, "is_accepted": true, "score": 0, "last_activity_date": 1434917171, "creation_date": 1434917171, "answer_id": 30968817, "question_id": 30968023, "link": "https://stackoverflow.com/questions/30968023/calling-perl-script-from-java-jax-ws-in-eclipse/30968817#30968817", "title": "Calling Perl script from Java (JAX-WS in Eclipse)", "body": "<p>I got similar stuff some time ago. The solution for me was to 'accept' the output of the program. Something like this:</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(cmd);\nfinal InputStream is = p.getInputStream();\nnew Thread(new Runnable() {\n    @Override\n    public void run() {\n        try {\n            while (is.available() != 0) {\n                is.read();\n            }\n        } catch (IOException ex) {\n        }\n    }\n}).start();\n</code></pre>\n\n<p>You should also try to get the error stream with <code>p.getErrorStream()</code>. An alternative could be to change your perl program in that way that there is nothing printed to standard out or error out.</p>\n\n<p>Or you call a shell script and redirect the output to dev/null (someting like \u00b4blabla>/dev/null`.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user411103"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 30968817, "answer_count": 1, "score": 0, "last_activity_date": 1434917171, "creation_date": 1434912010, "last_edit_date": 1434915151, "question_id": 30968023, "link": "https://stackoverflow.com/questions/30968023/calling-perl-script-from-java-jax-ws-in-eclipse", "title": "Calling Perl script from Java (JAX-WS in Eclipse)", "body": "<p>I have a JAX-WS webservice that receives a string as parameter, calls a Perl script, and returns the string converted to upper case. It is running on Tomcat 8 (localhost on Eclipse).</p>\n\n<p>When I type from the console:</p>\n\n<pre><code>curl -X POST --data \"mystring=HelloWorld\" http://localhost:8080/MyServices/api/generatePath\n</code></pre>\n\n<p>Everything works except for the Perl call. On the debugger I see that line is executed, but apparently nothing happens (not even errors). If I run <code>perl /home/me/workspace/match.pl</code> from the console it works perfectly. The path of the match.pl file is correct.</p>\n\n<p>In addition, <code>process.exitValue()</code> return 2.</p>\n\n<pre><code>@Path(\"/\")\npublic class MyServices {\n    @POST\n    @Path(\"/generatePath\")\n    @Produces(MediaType.APPLICATION_JSON)\n\n    public Response generatePathService(\n            @FormParam(\"mystring\") String myString) {\n\n        Process process = null;\n\n        try {\n            process = Runtime.getRuntime().exec(\"perl /home/me/workspace/match.pl --lang en\");\n        }\n        catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } \n\n        return Response.status(200).entity(myString.toUpperCase()).build();\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "cgi"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 3, "last_activity_date": 1434912184, "creation_date": 1434912184, "answer_id": 30968050, "question_id": 30967944, "link": "https://stackoverflow.com/questions/30967944/how-to-zip-only-files-and-not-the-full-path/30968050#30968050", "title": "How to zip only files and not the full path", "body": "<p>Use <a href=\"http://perldoc.perl.org/functions/chdir.html\" rel=\"nofollow\">chdir</a> to change into the directory:</p>\n\n<pre><code>use Archive::Zip;\n\n$obj = Archive::Zip-&gt;new();   # new instance\n\nchdir 'Data/Temp/Files';\n@files = &lt;*&gt;;\n\nforeach $file (@files) {\n    $obj-&gt;addFile($file);   # add files\n}\n\n$obj-&gt;writeToFileNamed(\"Images.zip\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1434912835, "creation_date": 1434912835, "answer_id": 30968151, "question_id": 30967944, "link": "https://stackoverflow.com/questions/30967944/how-to-zip-only-files-and-not-the-full-path/30968151#30968151", "title": "How to zip only files and not the full path", "body": "<p>The names and paths of zip archive members are completely independent of those of their real file counterparts. Although the two names are conventionally the same, <code>AddFile</code> allows you to specify a second parameter which is the name and path of the corresponding archive member where the file information should be stored</p>\n\n<p>You can achieve the effect you're asking for my using <code>basename</code> from the <code>File::Basename</code> module to extract just the file name from the complete path</p>\n\n<p>This program demonstrates. Note that it is <em>essential</em> to <code>use strict</code> and <code>use warnings</code> at the top of every Perl program you write</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Archive::Zip;\nuse File::Basename 'basename';\n\nmy $zip = Archive::Zip-&gt;new;\n\nfor my $jpg ( glob 'Data/Temp/Files/*.jpg' ) {\n  $zip-&gt;addFile($jpg, basename($jpg));\n}\n\n$zip-&gt;writeToFileNamed('Data/Temp/Files/Images.zip');\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 2747619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/29eb3a5d4c037325186a056df119b770?s=128&d=identicon&r=PG&f=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/2747619/bill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 0, "accepted_answer_id": 30968050, "answer_count": 2, "score": 1, "last_activity_date": 1434912835, "creation_date": 1434911523, "question_id": 30967944, "link": "https://stackoverflow.com/questions/30967944/how-to-zip-only-files-and-not-the-full-path", "title": "How to zip only files and not the full path", "body": "<p>I'm trying to zip up image files using Archive::Zip. The files are in Data/Temp/Files When I loop through the logs in the directory and add them to the zip file, I end up with the folder hierarchy and the image files when I only want the image files.</p>\n\n<p>So the zip ends up containing:</p>\n\n<pre><code>Data\n  \u2514Temp  \n    \u2514Files\n       \u2514Image1.jpg\n        Image2.jpg\n        Image3.jpg\n</code></pre>\n\n<p>When I want the zip file to contain is:</p>\n\n<pre><code>Image1.jpg\nImage2.jpg\nImage3.jpg\n</code></pre>\n\n<p>Here is the script I'm running to test with:</p>\n\n<pre><code>#!/usr/bin/perl\nuse Archive::Zip;\n\n$obj = Archive::Zip-&gt;new();   # new instance\n\n@files = &lt;Data/Temp/Files/*&gt;;\n\nforeach $file (@files) {\n    $obj-&gt;addFile($file);   # add files\n}\n\n$obj-&gt;writeToFileNamed(\"Data/Temp/Files/Images.zip\");\n</code></pre>\n"}, {"tags": ["perl", "anyevent"], "answers": [{"comments": [{"owner": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "edited": false, "score": 0, "creation_date": 1434982911, "post_id": 30972652, "comment_id": 49994978, "body": "Thanks for the help. This technically works, but on_connect_error will result in a barrage of connection attempts until successful. This option isn&#39;t very network friendly and pegs the cpu churning through the while loop until the connection is reestablished. Adding sleeps or arbitrary counters here seems to go against the nature of event handling framework like AnyEvent. Specifically, I need it to be able to do other things even when the network is down, but at some interval attempt a reconnect. If connection is successful, continue as normal."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "edited": false, "score": 1, "creation_date": 1434989261, "post_id": 30972652, "comment_id": 49999541, "body": "So just use a timer! And of course, the calls to AnyEvent::Handle should be moved into the callback, which complicate things. See update."}, {"owner": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "edited": false, "score": 0, "creation_date": 1434993942, "post_id": 30972652, "comment_id": 50002285, "body": "While I made my code work using a timer, your option is certainly more robust and easily reusable. I can&#39;t say I understand all of it (due to my experience level), but it certainly illuminates some topics I need to work on. You mention memory leaks, and I was curious what you meant. If it&#39;s the @bulk growing out of control I plan to handle that. Is that what you were referring to or am I missing something? Thanks again!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "edited": false, "score": 1, "creation_date": 1434995459, "post_id": 30972652, "comment_id": 50003142, "body": "The callbacks of the object stored in <code>$conn_hdl</code> capture <code>$conn_hdl</code>, forming a reference cycle. I avoided the reference cycles though the use of reference weekening and using the <code>$_[0]</code> instead of <code>$conn_hdl</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1434995148, "last_edit_date": 1434995148, "creation_date": 1434951051, "answer_id": 30972652, "question_id": 30967783, "link": "https://stackoverflow.com/questions/30967783/reconnect-using-anyeventhandle-and-tcp-connect/30972652#30972652", "title": "Reconnect using AnyEvent::Handle and tcp_connect", "body": "<p>You can use the following:</p>\n\n<pre><code>package MyConnector;\n\nuse strict;\nuse warnings;\n\nuse AE               qw( );\nuse AnyEvent::Handle qw( );\nuse Scalar::Util     qw( );\n\nsub new {\n   my $class = shift;\n   my %opts = @_;\n\n   my $self = bless({}, $class);\n\n   {\n      Scalar::Util::weaken(my $self = $self);\n\n      my $on_connect       = delete($opts{on_connect});\n      my $on_connect_error = delete($opts{on_connect_error});\n\n      my $tries    = delete($opts{tries})    ||  5;\n      my $cooldown = delete($opts{cooldown}) || 15;\n\n      $self-&gt;{_connect} = sub {\n         $self-&gt;{_timer} = undef;\n\n         $self-&gt;{_handle} = AnyEvent::Handle-&gt;new(\n            %opts,\n\n            on_connect =&gt; sub {\n               my ($handle, $host, $port, $retry) = @_;\n\n               $self-&gt;{handle} = $handle;\n               delete @{$self}{qw( _connect _handle _timer )};\n\n               $on_connect-&gt;($handle, $host, $port, $retry)\n                  if $on_connect;\n            },\n\n            on_connect_error =&gt; sub {\n               my ($handle, $message) = @_;\n\n               if (!$tries--) {\n                  $on_connect_error-&gt;($handle, $message)\n                     if $on_connect_error;\n\n                  delete @{$self}{qw( _connect _handle _timer )};\n\n                  return;\n               }\n\n               # This will happen when this callback returns,\n               # but that might not be for a while, so let's\n               # do it now in case it saves resources.\n               $handle-&gt;destroy();\n\n               $self-&gt;{_timer} = AE::timer($cooldown, 0, $self-&gt;{_connect});\n            },\n         );\n      };\n\n      $self-&gt;{_connect}-&gt;();\n   }\n\n   return $self;\n}\n\nsub handle {\n   my ($self) = @_;\n   return $self-&gt;{handle};\n}\n\n1;\n</code></pre>\n\n<p>I'm pretty sure it's free of memory leaks (unlike your code). You'd use it as follows:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse AE          qw( );\nuse MyConnector qw( );\n\nmy $host = $ARGV[0] || 'www.stackoverflow.com';\nmy $port = $ARGV[1] || 80;\n\nmy $conn_cv = AE::cv();\n\nmy $connector = MyConnector-&gt;new(\n   connect   =&gt; [ $host, $port ],\n   keepalive =&gt; 1,\n\n   on_connect =&gt; sub {\n       print(\"Connected successfully\\n\");\n       $conn_cv-&gt;send();\n   },\n\n   on_connect_error =&gt; sub {\n       warn(\"Could not connect: $_[1]\\n\");\n       $conn_cv-&gt;send();\n   },\n\n   # ...\n);\n\n$conn_cv-&gt;recv();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1434988774, "creation_date": 1434988774, "answer_id": 30984590, "question_id": 30967783, "link": "https://stackoverflow.com/questions/30967783/reconnect-using-anyeventhandle-and-tcp-connect/30984590#30984590", "title": "Reconnect using AnyEvent::Handle and tcp_connect", "body": "<p>Thanks to ikegami, I figured I might want to track the connection status and use that in conjunction with another AnyEvent timer watcher to reconnect if the connection isn't established. This results in connection attempts every second if the connection status ($isConnected) is zero. Meanwhile, the events are queued up for when the connection is reestablished.</p>\n\n<p>If there is a simpler way to accomplish this, I'm all ears, but for now I think this will solve the issue.</p>\n\n<pre><code>my @bulk;\nmy $host = '127.0.0.1';\nmy $port = 9999;\nmy $isConnected = 0;\n\nmy $conn_cv = AnyEvent-&gt;condvar;\nmy $conn_hdl;\n\n# Flush Timer\nmy $timer = AnyEvent-&gt;timer(\n    after =&gt; 5,\n    interval =&gt; 5,\n    cb =&gt; sub {\n        push(@bulk,\"Test message\");\n        if ($isConnected == 1) {\n            flush(\\@bulk);\n            undef @bulk;\n        }   \n    }\n);\n\n# Reconnect Timer\nmy $reconn = AnyEvent-&gt;timer(\n    after =&gt; 1,\n    interval =&gt; 1,\n    cb =&gt; sub {\n\n        if ($isConnected == 0) {\n\n            $conn_hdl = AnyEvent::Handle-&gt;new(\n                connect =&gt; [$host, $port],\n                keepalive =&gt; 1,\n                on_connect =&gt; sub {\n                    $isConnected = 1;\n                },\n                on_connect_error =&gt; sub {\n                    warn \"Could not connect: $_[1]\\n\";\n                    $conn_hdl-&gt;destroy;\n                    $isConnected = 0;       \n                },\n                on_error =&gt; sub {\n                    my ($out_hdl, $fatal, $msg) = @_;\n                    AE::log error =&gt; $msg;\n                    $conn_hdl-&gt;destroy;\n                    $isConnected = 0;\n                },\n                on_eof =&gt; sub {\n                    warn \"EOF\\n\";\n                    $conn_hdl-&gt;destroy;\n                    $isConnected = 0;\n                },\n                on_read =&gt; sub {\n                    my ($self) = @_;\n                        $self-&gt;unshift_read(line =&gt; sub {\n                            my ($hdl,$data) = @_;\n                            print $data.\"\\n\";\n                    });\n                }\n            );  \n        }\n    }\n);\n\n$conn_cv-&gt;recv;\n</code></pre>\n"}], "owner": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 811, "favorite_count": 0, "accepted_answer_id": 30972652, "answer_count": 2, "score": 3, "last_activity_date": 1434995148, "creation_date": 1434910476, "last_edit_date": 1434961171, "question_id": 30967783, "link": "https://stackoverflow.com/questions/30967783/reconnect-using-anyeventhandle-and-tcp-connect", "title": "Reconnect using AnyEvent::Handle and tcp_connect", "body": "<p>I have a simple TCP server and client written using <a href=\"https://metacpan.org/pod/AnyEvent::Handle\" rel=\"nofollow\"><code>AnyEvent::Handle</code></a> leveraging <code>tcp_connect</code> and <code>tcp_server</code>. The client connects to the server and sends the string <code>Test Message</code> every 5 seconds.</p>\n\n<p>This works without issue if the server is reachable, however, if the server is unavailable when the client launches, or becomes unavailable, the client script never tries to reconnect.</p>\n\n<p>I'd like it to try and reconnect if the connection handle is not available (destroyed?). If unavailable, do things (print status message perhaps), but try and reconnect every 5 seconds would be the ideal outcome.</p>\n\n<p>I'm not sure how to do that. I've pared down my client and server code to the following.</p>\n\n<h3>Client</h3>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse AnyEvent;\nuse AnyEvent::Handle;\nuse AnyEvent::Socket;\nuse Compress::Zlib;\n\nmy @bulk;\n\n# Start Timer\nmy $timer = AnyEvent-&gt;timer(\n    after    =&gt; 5,\n    interval =&gt; 5,\n    cb       =&gt; sub {\n        push( @bulk, \"Test message\" );\n        flush( \\@bulk );\n        undef @bulk;\n    } );\n\nmy $host = '127.0.0.1';\nmy $port = 9999;\n\nmy $conn_cv = AnyEvent-&gt;condvar;\nmy $conn_hdl;\n\n$conn_hdl = AnyEvent::Handle-&gt;new(\n    connect          =&gt; [$host, $port],\n    keepalive        =&gt; 1,\n    on_connect_error =&gt; sub {\n        print \"Could not connect: $_[1]\\n\";\n        $conn_hdl-&gt;destroy;\n\n        #$conn_cv-&gt;send;\n    },\n    on_error =&gt; sub {\n        my ( $out_hdl, $fatal, $msg ) = @_;\n        AE::log error =&gt; $msg;\n        $conn_hdl-&gt;destroy;\n\n        #$conn_cv-&gt;send;\n    },\n    on_read =&gt; sub {\n        my ( $self ) = @_;\n        $self-&gt;unshift_read(\n            line =&gt; sub {\n                my ( $hdl, $data ) = @_;\n                print $data. \"\\n\";\n            } );\n    } );\n\n$conn_cv-&gt;recv;\n\n# Flush array of events\nsub flush {\n    my ( $bulk ) = @_;\n    return 0 if scalar @{$bulk} == 0;\n\n    my $output = join( \",\", @{$bulk} );\n    $output = compress( $output );\n    my $l = pack( \"N\", length( $output ) );\n    $output = $l . $output;\n    $conn_hdl-&gt;push_write( $output );\n}\n</code></pre>\n\n<h3>Server</h3>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse AnyEvent;\nuse AnyEvent::Handle;\nuse AnyEvent::Socket;\nuse Compress::Zlib;\n\nmy %holding;\n\nmy $host = '127.0.0.1';\nmy $port = 9999;\n\nmy %connections;\n\n# Start Timer\nmy $timer = AnyEvent-&gt;timer(\n    after    =&gt; 5,\n    interval =&gt; 5,\n    cb       =&gt; sub {\n        print \"Number of connected hosts: \";\n        print scalar keys %connections;\n        print \"\\n\";\n        foreach my $k ( keys %connections ) {\n            delete $connections{$k} if $connections{$k}-&gt;destroyed;\n        }\n    } );\n\nmy $server_cv = AnyEvent-&gt;condvar;\nmy $server    = tcp_server(\n    $host, $port,\n    sub {\n        my ( $fh, $h, $p ) = @_;\n        my $handle;\n\n        $handle = AnyEvent::Handle-&gt;new(\n            fh        =&gt; $fh,\n            poll      =&gt; 'r',\n            keepalive =&gt; 1,\n            on_read   =&gt; sub {\n                my ( $self ) = @_;\n\n                # Get Length Header\n                $self-&gt;unshift_read(\n                    chunk =&gt; 4,\n                    sub {\n                        my $len = unpack( \"N\", $_[1] );\n\n                        # Get Data\n                        $self-&gt;unshift_read(\n                            chunk =&gt; $len,\n                            sub {\n                                my $data = $_[1];\n                                $data = uncompress( $data );\n                                print $data. \"\\n\";\n                            } );\n                    } );\n\n            },\n            on_eof =&gt; sub {\n                my ( $hdl ) = @_;\n                $hdl-&gt;destroy();\n            },\n            on_error =&gt; sub {\n                my ( $hdl ) = @_;\n                $hdl-&gt;destroy();\n            },\n        );\n\n        $connections{ $h . ':' . $p } = $handle;    # keep it alive.\n    } );\n\n$server_cv-&gt;recv;\n</code></pre>\n"}, {"tags": ["macos", "perl"], "answers": [{"comments": [{"owner": {"reputation": 1097, "user_id": 1435633, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/71a550afb931ec357921e686aca7e918?s=128&d=identicon&r=PG&f=1", "display_name": "Enrico Pirani", "link": "https://stackoverflow.com/users/1435633/enrico-pirani"}, "edited": false, "score": 0, "creation_date": 1434896211, "post_id": 30965046, "comment_id": 49962676, "body": "Yes I know, but apparently  <a href=\"https://github.com/jshy/Beancounter\" rel=\"nofollow noreferrer\">beancounter</a> without this module doesn&#39;t communicate with Postgres. And I need this in order to setup an historical stock database.."}, {"owner": {"reputation": 9013, "user_id": 230214, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d0f3ba56744ffc3654bbcf8f96f34626?s=128&d=identicon&r=PG", "display_name": "bessarabov", "link": "https://stackoverflow.com/users/230214/bessarabov"}, "reply_to_user": {"reputation": 1097, "user_id": 1435633, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/71a550afb931ec357921e686aca7e918?s=128&d=identicon&r=PG&f=1", "display_name": "Enrico Pirani", "link": "https://stackoverflow.com/users/1435633/enrico-pirani"}, "edited": false, "score": 0, "creation_date": 1434908595, "post_id": 30965046, "comment_id": 49966383, "body": "Maybe it will be easier to run all this app stack on some linux box? Are you planning to install in on mac os just to debug/improve or the production system will be mac os? In case it will be run on some linux server maybe you can not solve the problem with mac os installation."}, {"owner": {"reputation": 1097, "user_id": 1435633, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/71a550afb931ec357921e686aca7e918?s=128&d=identicon&r=PG&f=1", "display_name": "Enrico Pirani", "link": "https://stackoverflow.com/users/1435633/enrico-pirani"}, "edited": false, "score": 0, "creation_date": 1434915810, "post_id": 30965046, "comment_id": 49968691, "body": "On linux box (Arch) it runs without problems after installing the aforementioned module. I have planned to use Linux box as server. Now it is just a mere curiosity. Most important is that GTrader for doing check trading strategies is running ok on OSX. Thanks!"}], "tags": [], "owner": {"reputation": 9013, "user_id": 230214, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d0f3ba56744ffc3654bbcf8f96f34626?s=128&d=identicon&r=PG", "display_name": "bessarabov", "link": "https://stackoverflow.com/users/230214/bessarabov"}, "is_accepted": true, "score": 2, "last_activity_date": 1434893399, "creation_date": 1434893399, "answer_id": 30965046, "question_id": 30964774, "link": "https://stackoverflow.com/questions/30964774/pg-perl-module-does-not-build-on-osx/30965046#30965046", "title": "Pg perl module does not build on OSX", "body": "<p>I'm not sure that you should use this module. It was last updated 15 years ago (info from the <a href=\"https://metacpan.org/changes/distribution/pgsql_perl5\" rel=\"nofollow\">Changes file</a>) and it has <a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=pgsql_perl5\" rel=\"nofollow\">open bugs</a>. But the most important thing that is has no likes on metacpan \u2014 it means that very few people use it.</p>\n\n<p>I thinks that <a href=\"https://metacpan.org/pod/release/RUDY/DBD-Pg-1.32/Pg.pm\" rel=\"nofollow\">DBD::Pg</a> is a better choice. It was last updates 11 years ago and it also <a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=DBD-Pg\" rel=\"nofollow\">have open bugs</a> but has a <a href=\"https://metacpan.org/pod/release/RUDY/DBD-Pg-1.32/Pg.pm\" rel=\"nofollow\">lot of likes on metacpan</a> that means that it works well.</p>\n"}], "owner": {"reputation": 1097, "user_id": 1435633, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/71a550afb931ec357921e686aca7e918?s=128&d=identicon&r=PG&f=1", "display_name": "Enrico Pirani", "link": "https://stackoverflow.com/users/1435633/enrico-pirani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 30965046, "answer_count": 1, "score": 0, "last_activity_date": 1434893399, "creation_date": 1434891545, "question_id": 30964774, "link": "https://stackoverflow.com/questions/30964774/pg-perl-module-does-not-build-on-osx", "title": "Pg perl module does not build on OSX", "body": "<p>I am trying without success to build the <a href=\"http://search.cpan.org/~mergl/pgsql_perl5-1.9.0/Pg.pm\" rel=\"nofollow\">Pg</a> perl module. I set up the <code>POSTGRES_LIB</code> and <code>POSTGRES_INCLUDE</code> respectively to <code>/opt/local/lib/postgresql93</code> and <code>/opt/local/include/postgresql93</code>. But when I run <code>perl Makefile.pl</code> I get this error \n</p>\n\n<pre><code>Configuring Pg\nRemember to actually read the README file !\nplease set environment variables POSTGRES_INCLUDE and POSTGRES_LIB !\n</code></pre>\n\n"}, {"tags": ["python", "perl", "soap", "sqlite"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 2, "creation_date": 1434888215, "post_id": 30964148, "comment_id": 49960523, "body": "Whats the issue? The stack trace you are showing is caused by pressing CTRL + C on the keyboard to kill the program. Did you try to actually hit the soap endpoint?"}, {"owner": {"reputation": 1, "user_id": 5033145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b76f403274caaf728513cf37d630384?s=128&d=identicon&r=PG&f=1", "display_name": "FilgeN", "link": "https://stackoverflow.com/users/5033145/filgen"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1434893229, "post_id": 30964148, "comment_id": 49961847, "body": "The problem is that the code in Perl works but in Python doesn&#39;t work. I want Python code to do the same what doing Perl, i showed stack trace only for help to solve the problem. What do you mean: &quot; hit the soap endpoint&quot; ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1434909662, "post_id": 30964148, "comment_id": 49966720, "body": "How do you know it didn&#39;t work? Did you make a SOAP request to your service (&quot;endpoint&quot;)? What error did you get?"}], "owner": {"reputation": 1, "user_id": 5033145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b76f403274caaf728513cf37d630384?s=128&d=identicon&r=PG&f=1", "display_name": "FilgeN", "link": "https://stackoverflow.com/users/5033145/filgen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1434893448, "creation_date": 1434887157, "last_edit_date": 1434893448, "question_id": 30964148, "link": "https://stackoverflow.com/questions/30964148/perl-to-python-sqlite-3-soap", "title": "Perl to Python ( SQLite 3, SOAP )", "body": "<p>I have a problem with rewriting code from Perl to Python. \nThe problem is that the code in Perl works but in Python doesn't work. I want Python code to do the same what doing Perl.\nIf that help i add show stack trace (interrupted by CTRL+C):</p>\n\n<pre><code>Traceback (most recent call last):   File\n\"../../../../../ABCD/ABCD/public_html/cgi-bin/Tip3/zad3.py\",\nline 22, in &lt;module&gt;\n    server.serve_forever()   File \"/usr/lib/python2.7/SocketServer.py\", line 236, in serve_forever\n    poll_interval)   File \"/usr/lib/python2.7/SocketServer.py\", line 155, in _eintr_retry\n    return func(*args) KeyboardInterrupt\n</code></pre>\n\n<p>Can someone tell me what I do wrong?</p>\n\n<p><strong>Perl Code</strong></p>\n\n<pre><code>#!/usr/bin/perl -w\nuse DBI;\nuse CGI;\nuse POSIX qw(strftime);\nuse SOAP::Transport::HTTP;\n\nSOAP::Transport::HTTP::CGI\n    -&gt; dispatch_to('Project')\n    -&gt; handle;\n\npackage Project;\n\nsub list {\n    my $dbh = DBI-&gt;connect(\"dbi:SQLite:dbname=zad3.db\",\"\",\"\");\n    my $sth1 = $dbh-&gt;prepare(\"select name,value from product\");\n    $sth1-&gt;execute();\n\n    my @row;\n    my $xml = \"&lt;?xml version=\\\"1.0\\\" ?&gt;&lt;root&gt;\";\n    while ( @row = $sth1-&gt;fetchrow_array() ) {\n        $xml .= \"&lt;product&gt;\";\n        $xml .= \"&lt;name&gt;\".$row[0].\"&lt;/name&gt;\";\n        $xml .= \"&lt;value&gt;\".$row[1].\"&lt;/value&gt;\";\n        $xml .= \"&lt;/product&gt;\";\n    }\n    $xml .= \"&lt;/root&gt;\";\n\n    return $xml;\n}\n</code></pre>\n\n<p><strong>Python Code</strong></p>\n\n<pre><code>#!/usr/local/bin/python2.7\nimport SOAPpy\nimport sqlite3\n\ndef Project():\n    conn = sqlite3.connect('zad3.db')\n    print \"Opened database successfully\"\n    cursor = conn.execute(\"SELECT name, value FROM product\")\n\n    xml = \"&lt;?xml version=\\\"1.0\\\" ?&gt;&lt;root&gt;\"\n    for row in cursor:\n        print \"name\" + row[0]\n        print \"value\" + row[1]\n        xml += \"&lt;product&gt;\"   \n        xml += \"&lt;name&gt;\"+row[0]+\"&lt;/name&gt;\" \n        xml += \"&lt;value&gt;\"+str(row[1])+\"&lt;/value&gt;\" \n        xml += \"&lt;/product&gt;\"\n    xml += \"&lt;/root&gt;\"\n\n    return xml\n\nserver = SOAPpy.SOAPServer((\"localhost\",8081))\nserver.registerFunction(Project)\nserver.serve_forever()\n</code></pre>\n"}, {"tags": ["php", "perl", "gps", "tracking"], "comments": [{"owner": {"reputation": 905, "user_id": 2641483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/849d311ae1e79d161a6c93b2f9f881bf?s=128&d=identicon&r=PG&f=1", "display_name": "sourcx", "link": "https://stackoverflow.com/users/2641483/sourcx"}, "edited": false, "score": 0, "creation_date": 1436188201, "post_id": 30963534, "comment_id": 50490782, "body": "Did you manage to solve this problem yet? Maybe you already did but if not, could you explain a bit more on how you set up the GPS device? Which commands did you use to set the server&#39;s hostname/ip and port?  Did you test your perl client on the same machine? Perhaps you need to open up some ports on the server."}, {"owner": {"reputation": 739, "user_id": 4512651, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-oRSZM1_Px7Q/AAAAAAAAAAI/AAAAAAAAAd4/IkwT0oSKjYo/photo.jpg?sz=128", "display_name": "Choxx", "link": "https://stackoverflow.com/users/4512651/choxx"}, "reply_to_user": {"reputation": 905, "user_id": 2641483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/849d311ae1e79d161a6c93b2f9f881bf?s=128&d=identicon&r=PG&f=1", "display_name": "sourcx", "link": "https://stackoverflow.com/users/2641483/sourcx"}, "edited": false, "score": 0, "creation_date": 1436534581, "post_id": 30963534, "comment_id": 50667805, "body": "@Frank i did everything you said above. But I am unable to open my ports for external connection. before i was using shared hosting on which it was impossible to open up the ports for security reasons. But now I am working on Amazon ec2 virtual cloud server. Here also my application is unable to open the ports. Suggest me something useful..."}, {"owner": {"reputation": 1, "user_id": 2814051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0177df7742d1044c22cf8f337e2ae480?s=128&d=identicon&r=PG&f=1", "display_name": "Satyajit", "link": "https://stackoverflow.com/users/2814051/satyajit"}, "edited": false, "score": 0, "creation_date": 1439976600, "post_id": 30963534, "comment_id": 52077932, "body": "You may like to check this answer-  <a href=\"http://stackoverflow.com/a/13054630\">stackoverflow.com/a/13054630</a>"}], "answers": [{"tags": [], "owner": {"reputation": 739, "user_id": 4512651, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-oRSZM1_Px7Q/AAAAAAAAAAI/AAAAAAAAAd4/IkwT0oSKjYo/photo.jpg?sz=128", "display_name": "Choxx", "link": "https://stackoverflow.com/users/4512651/choxx"}, "is_accepted": true, "score": 1, "last_activity_date": 1554964883, "last_edit_date": 1554964883, "creation_date": 1459522909, "answer_id": 36359654, "question_id": 30963534, "link": "https://stackoverflow.com/questions/30963534/how-to-receive-gps-data-on-web-server/36359654#36359654", "title": "How to receive GPS data on Web server?", "body": "<p>After a lot of research, I found below Git repositories which might be helpful for the developers who are trying to trace gps with their own server. </p>\n\n<p><a href=\"https://github.com/choxx/location.io\" rel=\"nofollow noreferrer\">Location.io</a></p>\n\n<p><a href=\"https://github.com/choxx/gps-google-maps-socket-io\" rel=\"nofollow noreferrer\">Freshworkstudio</a></p>\n\n<p><a href=\"https://github.com/tananaev/traccar\" rel=\"nofollow noreferrer\">Traccar</a></p>\n\n<p>I am not providing any more info regarding these links. Just check out them and you'll find the relevant info on these links itself.\nCheers :)</p>\n"}], "owner": {"reputation": 739, "user_id": 4512651, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-oRSZM1_Px7Q/AAAAAAAAAAI/AAAAAAAAAd4/IkwT0oSKjYo/photo.jpg?sz=128", "display_name": "Choxx", "link": "https://stackoverflow.com/users/4512651/choxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4244, "favorite_count": 1, "accepted_answer_id": 36359654, "answer_count": 1, "score": 0, "last_activity_date": 1554964883, "creation_date": 1434882612, "question_id": 30963534, "link": "https://stackoverflow.com/questions/30963534/how-to-receive-gps-data-on-web-server", "title": "How to receive GPS data on Web server?", "body": "<p>Below is the code for a client server application for Web Server. This code is working fine i.e. first I will run server script which bind my server program to specified IP and port, after that when i run client script and connect to same IP and port, server will accept the connection and call <strong>subroutine_name</strong> subroutine in which I have created one random variable $zz and storing its data to database using <strong>test.php</strong>.\nThis is working fine for this server client application, but when I'am trying to connect a <strong>GPS device(tk103)</strong> to the same running server script by configuring same IP and port, nothing happens. Means no connection is established between server script and GPS device.</p>\n\n<p>Please help me.</p>\n\n<p>This is my client script.  <strong>client.pl</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse cPanelUserConfig;\nuse strict;\n\nprint \"Content-Type: text/html \\n\\n\";\n# auto-flush on socket\n$| = 1;\nuse IO::Socket::INET;\n# create a connecting socket\nmy $socket = new IO::Socket::INET (\n    PeerHost =&gt; '199.79.62.103',\n    PeerPort =&gt; '7784',\n    Proto =&gt; 'tcp',\n);\nprint \"cannot connect to the server $!\\n\" unless $socket;\nprint \"connected to the server\\n\";\n\n# data to send to a server\nmy $req = 'hello world';\nmy $size = $socket-&gt;send($req);\nprint \"sent data of length $size\\n\";\n\n# notify server that request has been sent\nshutdown($socket, 1);\n\n# receive a response of up to 1024 characters from server\nmy $response = \"\";\n$socket-&gt;recv($response, 1024);\nprint \"received response: $response\\n\";\n\n$socket-&gt;close();\n</code></pre>\n\n<p>This is my server script for PHP server. <strong>server.pl</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse cPanelUserConfig;\nprint \"Content-Type: text/html \\n\\n\";\nuse warnings;\n\n\nuse IO::Socket::INET;\n\n# auto-flush on socket\n$| = 1;\n\n# creating a listening socket\nmy $socket = new IO::Socket::INET (\n    LocalHost =&gt; '199.79.62.103',\n    LocalPort =&gt; '7784',\n    Proto =&gt; 'tcp',\n    Listen =&gt; 5,\n    Reuse =&gt; 1\n);\nprint \"cannot create socket $!\\n\" unless $socket;\nprint \"server waiting for client connection on port 7784\\n\";\n\n\n\nwhile(1)\n{\n    # waiting for a new client connection\n    my $client_socket = $socket-&gt;accept();\n\n    # get information about a newly connected client\n    my $client_address = $client_socket-&gt;peerhost();\n    my $client_port = $client_socket-&gt;peerport();\n    print \"connection from $client_address:$client_port\\n\";\n    subroutine_name();\n\n\n\n    # read up to 1024 characters from the connected client\n    my $data = \"\";\n    $client_socket-&gt;recv($data, 1024);\n    print \"received data: $data\\n\";\n\n\n\n\n\n\n    # write response data to the connected client\n    $data = \"ok mi\";\n    $client_socket-&gt;send($data);\n\n    # notify client that response has been sent\n    shutdown($client_socket, 1);\n}\n\nsub subroutine_name{\n      my $filename = 'report.txt';\n    open(my $fh, '&gt;', $filename) or die \"Could not open file '$filename' $!\";\n    print $fh \"My first report generated by perl\\n\";\n    close $fh;\n    print \"done\\n\";\n\n\n     $zz='hello world my world';\n    my $url = \"http://www.geekzgarage.com/gps/test.php?\"\n      . \"ln=$zz\";\n    # print \"$url\\n\";\n    use LWP::Simple;\n    my $content = get $url;\n    die \"Couldn't get $url\" unless defined $content;\n\n\n\n}\n\n$socket-&gt;close();\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "is_accepted": false, "score": 0, "last_activity_date": 1530633466, "last_edit_date": 1530633466, "creation_date": 1489962881, "answer_id": 42893112, "question_id": 30963129, "link": "https://stackoverflow.com/questions/30963129/solving-a-numbrix-puzzle-with-perl/42893112#42893112", "title": "Solving a numbrix puzzle with Perl", "body": "<p>You are not asking for code, just for logic. So this might be what you are looking for:<br>\nIn order to keep a candidate (e.g. 15 or 19  for 1.1)<br>\nit would require the two bordering candidates (e.g. 14 and 16 for 15, or 18 and 20 for 19)<br>\nin two bordering cells (e.g. 1.2 and 2.1.).<br>\nThis is true for 19 but not for 15, hence 19 stays but 15 gets eliminated.</p>\n"}], "owner": {"reputation": 71, "user_id": 4489443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab265e151936b106d201f4a8a7b4e58?s=128&d=identicon&r=PG&f=1", "display_name": "Agnaroc", "link": "https://stackoverflow.com/users/4489443/agnaroc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 388, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530633466, "creation_date": 1434879470, "last_edit_date": 1434886189, "question_id": 30963129, "link": "https://stackoverflow.com/questions/30963129/solving-a-numbrix-puzzle-with-perl", "title": "Solving a numbrix puzzle with Perl", "body": "<p>The task is to solve square numbrix puzzle. A numbrix puzzle consists of a field <code>n*n</code> and each cell can contain a number <code>1 -&gt; n*n</code>. The task is to solve the puzzle and create a path from the cell with number <code>1</code> to the cell with number <code>n*n</code>.\nExample with solution:</p>\n\n<pre><code>... ... 017 ... ...\n... 021 ... 023 ...\n005 ... ... ... 013\n... 003 ... 001 ...\n... ... 009 ... ... \n</code></pre>\n\n<p>Solution:</p>\n\n<pre><code>019 018 017 016 015\n020 021 022 023 014\n005 004 025 024 013\n006 003 002 001 012\n007 008 009 010 011\n</code></pre>\n\n<p>My teacher has given us a file that contains some steps (printed by his solution perl program). But I can't figure the list reduction step.</p>\n\n<p>What my teacher's program prints:</p>\n\n<pre><code>... ... 017 ... ...\n... 021 ... 023 ...\n005 ... ... ... 013\n... 003 ... 001 ...\n... ... 009 ... ...\n\n\n1 | 2 &lt; 3 | 4 &lt; 5 &gt; 6 | 7 &lt; 8 &lt; 9 &gt; 10 | 11 &lt; 12 &lt; 13 &gt; 14 | 15 &lt; 16 &lt; 17 &gt; 18 | 19 &lt; 20 &lt; 21 | 22 &lt; 23 &gt; 24 &gt; 25\n\n1.1:      15 19 \n1.2:      16 18 20\n1.4:      16 18 22 24\n1.5:      11 15 25 \n2.1:      4 6 20\n2.3:      16 18 20 22 24\n2.5:      12 14 22 24\n3.2:      2 4 6 20\n3.3:      7 11 15 19 25 \n3.4:      12 14 22 24\n4.1:      2 4 6\n4.3:      2 8 10\n4.5:      12 14\n5.1:      7\n5.2:      2 8 10\n5.4:      8 10\n5.5:      7 11\n\n1.1:      19\n1.2:      18 20\n1.4:      16 24\n1.5:      15 25\n2.1:      20\n2.3:      16 18 20 22 24\n2.5:      14 24\n3.2:      4 6 20\n3.3:      7 11 15 19 25\n3.4:      12 14 24\n4.1:      4 6\n4.3:      2 8 10\n4.5:      12\n5.1:      7\n5.2:      8\n5.4:      10\n5.5:      11\n\n# cell(s) with only one candidate: (1.1=19) (2.1=20) (1.2=18) (4.5=12) (5.1=7) (5.2=8) (5.4=10) (4.3=2) (5.5=11)\n\n019 018 017 ... ...\n020 021 ... 023 ...\n005 ... ... ... 013\n... 003 002 001 012\n007 008 009 010 011\n\n1.4:      16 24\n1.5:      15 25\n2.3:    * 16 22 24\n2.5:      14 24\n3.2:    * 4\n3.3:    * 15 25\n3.4:    * 14 24\n4.1:      4 6\n\n# cell(s) with only one candidate: (3.2=4) (4.1=6)\n\n019 018 017 ... ...\n020 021 ... 023 ...\n005 004 ... ... 013\n006 003 002 001 012\n007 008 009 010 011\n\n1.4:      16 24\n1.5:      15 25\n2.3:      16 22 24\n2.5:      14 24\n3.3:      15 25\n3.4:      14 24\n\n# cell(s) with only one candidate: (2.3=22)\n\n019 018 017 ... ...\n020 021 022 023 ...\n005 004 ... ... 013\n006 003 002 001 012\n007 008 009 010 011\n\n1.4:      16 24\n1.5:      15 25\n2.5:      14 24\n3.3:    * 25\n3.4:    * 24\n\n# cell(s) with only one candidate: (3.3=25) (1.5=15) (3.4=24) (1.4=16) (2.5=14)\n\n019 018 017 016 015\n020 021 022 023 014\n005 004 025 024 013\n006 003 002 001 012\n007 008 009 010 011\n</code></pre>\n\n<p>What my solution can do:</p>\n\n<p>I have a datastructure with keeps track of the cell (1.1 for example) and it's candidates. I can print out the first list.</p>\n\n<p>What my problem is:</p>\n\n<p>I don't understand how he can reduce the number of candidates per cell. For example: the first list says that the possible candidates for cell 1.1 are 15 and 19. (I have this whole list). But then suddenly he can reduce the list saying cell 1.1 can only contain the number: 19. How does he do this ? (I don't need any code, I don't understand the logic behind this reduction).</p>\n"}, {"tags": ["regex", "perl", "zsh"], "answers": [{"tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 2, "last_activity_date": 1434878211, "creation_date": 1434878211, "answer_id": 30962973, "question_id": 30962925, "link": "https://stackoverflow.com/questions/30962925/collapse-directories-in-zsh-prompt/30962973#30962973", "title": "Collapse directories in zsh prompt", "body": "<p>You may use this,</p>\n\n<pre><code>s|^$HOME|~|g; s|/([^/])[^/]*(?=/[^/]*/[^/]*/)|/\\$1|g\n</code></pre>\n\n<p>It checks that the match must be followed by atleast three forward slashes.</p>\n\n<p><a href=\"https://regex101.com/r/zN9sQ2/5\" rel=\"nofollow\">DEMO</a></p>\n"}], "owner": {"reputation": 16254, "user_id": 24949, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/18040800897df7eebd802fe40da96a2a?s=128&d=identicon&r=PG", "display_name": "Sudar", "link": "https://stackoverflow.com/users/24949/sudar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 1, "accepted_answer_id": 30962973, "answer_count": 1, "score": 1, "last_activity_date": 1434878211, "creation_date": 1434877882, "last_edit_date": 1434878128, "question_id": 30962925, "link": "https://stackoverflow.com/questions/30962925/collapse-directories-in-zsh-prompt", "title": "Collapse directories in zsh prompt", "body": "<p>I am using the following function to generate my <code>zsh prompt</code>:</p>\n\n<pre><code>_sudar_collapsed_wd() {\n  echo $(pwd | perl -pe \"\n   BEGIN {\n      binmode STDIN,  ':encoding(UTF-8)';\n      binmode STDOUT, ':encoding(UTF-8)';\n   }; s|^$HOME|~|g; s|/([^/])[^/]*(?=/)|/\\$1|g\n\")\n}\n</code></pre>\n\n<p>Basically this converts a path like <code>/Users/sudar/dir1/dir2/dir3/dir4</code> into <code>~/D/c/d/d/d/dir4</code> by collapsing all parent directories except the current one.</p>\n\n<p>But I don't want to collapse the last 3 directories in the path. So <code>/Users/sudar/dir1/dir2/dir3/dir4</code> becomes <code>~/D/c/d/dir2/dir3/dir4</code></p>\n\n<p>The actual substitution happens in this regular expression:  <code>s|/([^/])[^/]*(?=/)|/\\$1|g</code>.</p>\n\n<p>How to change this regular expression, so that it doesn't substitute the last 3 directories in the path?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 9013, "user_id": 230214, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d0f3ba56744ffc3654bbcf8f96f34626?s=128&d=identicon&r=PG", "display_name": "bessarabov", "link": "https://stackoverflow.com/users/230214/bessarabov"}, "is_accepted": false, "score": 1, "last_activity_date": 1434882938, "last_edit_date": 1434882938, "creation_date": 1434881537, "answer_id": 30963385, "question_id": 30962566, "link": "https://stackoverflow.com/questions/30962566/getting-h-with-podusage-and-getoptlong-violates-of-the-dry-principle/30963385#30963385", "title": "Getting -h with Pod::Usage and GetOpt::Long violates of the DRY principle", "body": "<p>Maybe Perl library <a href=\"https://metacpan.org/pod/Getopt::Long::Descriptive\" rel=\"nofollow\">Getopt::Long::Descriptive</a> is what you need.</p>\n\n<p>This is your script rewritten with <a href=\"https://metacpan.org/pod/Getopt::Long::Descriptive\" rel=\"nofollow\">Getopt::Long::Descriptive</a>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Pod::Usage 'pod2usage';\nuse Capture::Tiny ':all';\nuse Getopt::Long::Descriptive;\n\n=head1 AUTHOR\n\nJohn Doe &lt;j@doe.com&gt;\n\n=head1 DESCRIPTION\n\nB&lt;This program&gt; does nothing important. But at least it is properly documented.\n\n=head1 COPYRIGHT\n\n    Copyright(c) Nobody\n\n=head1 VERSION\n\n    v0.1\n\n=cut\n\nsub pod2scalar {\n    my $stdout = capture_merged {\n        pod2usage(-verbose =&gt; 99, -sections =&gt; \"DESCRIPTION\", -exitval =&gt; \"noexit\");\n    };\n\n    return $stdout;\n}\n\nmy ($opt, $usage) = describe_options(\n    pod2scalar() . \"%c %o &lt;some-arg&gt;\",\n    [ 'l|length=i', 'Length of the string', { required =&gt; 1, default =&gt; 4  } ],\n    [ 'f|file=s', 'Input filename', { required =&gt; 1  } ],\n    [ 'v', 'Verbose' ],\n    [ 'help', \"print usage message and exit\" ],\n    {\n        show_defaults =&gt; 1,\n    },\n);\n\nif ($opt-&gt;help) {\n    print($usage-&gt;text);\n    exit;\n}\n</code></pre>\n\n<p>This is the output of your original script:</p>\n\n<pre><code>$ ./before.pl --help\nUsage: before.pl [options]...\n    This program does nothing important. But at least it is properly\n    documented.\n\nOptions:\n  -l, --length      Length of the string\n  -f, --file        Input filename\n  -v                Verbose\n</code></pre>\n\n<p>And here is the output of the new script:</p>\n\n<pre><code>$ ./after.pl --help\nMandatory parameter 'f' missing in call to (eval)\n\nDescription:\n This program does nothing important. But at least it is properly\n documented.\n\nafter.pl [-flv] [long options...] &lt;some-arg&gt;\n        --length INT -l INT   Length of the string\n                              (default value: 4)\n        --file STR -f STR     Input filename\n        -v                    Verbose\n        --help                print usage message and exit\n</code></pre>\n"}], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1434882938, "creation_date": 1434874851, "question_id": 30962566, "link": "https://stackoverflow.com/questions/30962566/getting-h-with-podusage-and-getoptlong-violates-of-the-dry-principle", "title": "Getting -h with Pod::Usage and GetOpt::Long violates of the DRY principle", "body": "<p>I would like to give a better documentation to my Perl Programs. For this I don't have many solutions. Actuatlly I found only one: the POD.</p>\n\n<p>For the <code>NAME</code> section we usually have:</p>\n\n<pre><code>=head1 NAME\n\nprogram_name - Short description\n\n=cut\n</code></pre>\n\n<p>It takes 5 lines where the only relevant information is the short description. The program_name should be automatically filled with <code>basename($0)</code>. </p>\n\n<p>Then it comes the options. From the <code>GetOptions</code> arguments, I can automatically extract: </p>\n\n<ul>\n<li>Name of each option</li>\n<li>Is the argument mandatory</li>\n</ul>\n\n<p>We can easily add options such as <code>category</code>, <code>mandatory</code>, <code>description</code> and  <code>in_conflict_with</code>. So why should I repeat myself in the POD?</p>\n\n<p>To illustrate my example I wrote this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse feature 'say';\nuse Getopt::Long;\nuse Pod::Usage 'pod2usage';\nuse File::Basename;\n\n=head1 AUTHOR\n\nJohn Doe &lt;j@doe.com&gt;\n\n=head1 DESCRIPTION\n\nB&lt;This program&gt; does nothing important. But at least it is properly documented.\n\n=head1 COPYRIGHT\n\n    Copyright(c) Nobody\n\n=head1 VERSION\n\n    v0.1\n\n=cut\n\n\nmy %cfg;\nCliInfo (\n    args =&gt; [\n    {arg =&gt; \"l|length=i\", dest =&gt; \\$cfg{length}, desc =&gt; \"Length of the string\", type =&gt; 'mandatory'},\n    {arg =&gt; \"f|file=s\"  , dest =&gt; \\$cfg{data},   desc =&gt; \"Input filename\", type =&gt; 'mandatory'},\n    {arg =&gt; \"v\"         , dest =&gt; sub {\\$cfg{verbose}++}, desc =&gt; \"Verbose\"},\n    ]\n);\n\nsub CliInfo { \n    my %info = @_;\n    my $programName = basename $0;\n    GetOptions(map( {$_-&gt;{arg} =&gt; $_-&gt;{dest}}  @{$info{args}}), \n        'h|help' =&gt; sub {\n            say \"Usage: $programName [options]...\";\n            say pod2scalar(-verbose =&gt; 99, -sections =&gt; \"DESCRIPTION\");\n            say \"\\nOptions:\";\n            say sprintf('%-20s', (sub {\n                my @opt = split /\\|/, shift =~ s/=.*//r; \n                return \"  -$opt[0], --$opt[1]\" if @opt &gt; 1;\n                return \"      --$opt[0]\" if length $opt[0] &gt; 1;\n                return \"  -$opt[0]\";\n            })-&gt;($_-&gt;{arg})), $_-&gt;{desc} for @{$info{args}};\n            say \"\\n\";\n        }, \n        'version' =&gt; sub {\n            my $ver = pod2scalar(-verbose =&gt; 99, -sections =&gt; \"VERSION\");\n            say STDERR $programName, \" - $ver\";\n            say pod2scalar(-verbose =&gt; 99, -sections =&gt; \"COPYRIGHT\");\n            say \"\";\n            exit;\n        })\n        or say \"Invalid option, try --help\" and exit 1; \n\n    sub pod2scalar {\n        open my $fh, '&gt;', \\my $text;\n        pod2usage(@_, -output =&gt; $fh, -exitval =&gt; 'NOEXIT');\n        $text =~ s/^(?:.*\\n)//;\n        $text =~ s/(?:\\s*\\n)\\z//r;\n    }\n}\n\n__END__\n</code></pre>\n\n<p>Which gives this output (Also pretty compatible with the GNU standards):</p>\n\n<pre><code>$ ./help.pl  --help\nUsage: help.pl [options]...\nThis program does nothing important. But at least it is properly documented.\n\nOptions:\n  -l, --length      Length of the string\n  -f, --file        Input filename\n  -v                Verbose\n</code></pre>\n\n<p>So the question:</p>\n\n<blockquote>\n  <p>Is there any standard and similar solution to what I am showing here with respect of the DRY principle?</p>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1434864113, "post_id": 30961505, "comment_id": 49955268, "body": "Welcome to Stack Overflow. Please read the <a href=\"https://stackoverflow.com/tour\">About</a> page soon.  Please note that it helps if you create an MCVE (<a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable Example?</a>). In your code, show example values of <code>$sentence</code> and <code>$value</code> that are not working.  For example, <code>my $sentence = &quot;something&quot;;</code> and <code>my $value = &quot;charismatic non-entity&quot;;</code> or whatever is sufficient.  And explain why you think the value should be found in the sentence if it isn&#39;t obvious (my counter-example values presumably should not print anything \u2014 what happens when you use them?)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1434865286, "post_id": 30961505, "comment_id": 49955448, "body": "@RoopaliBhandari: Finding words in English text is very ambiguous. For instance, would you say the word <code>for</code> had been found if the string contained <code>free-for-all</code>? Or has the word <code>re</code> been found in <code>you&#39;re</code>? Is <code>&amp;</code> a word? Is <code>the</code> the same word as <code>The</code>? If so, then is <code>Henry</code> the same word as <code>henry</code>? There is a lot to think about"}], "answers": [{"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 1, "last_activity_date": 1434867904, "last_edit_date": 1495535204, "creation_date": 1434864877, "answer_id": 30961592, "question_id": 30961505, "link": "https://stackoverflow.com/questions/30961505/perl-matching-exact-value-in-the-sentence/30961592#30961592", "title": "Perl matching exact value in the sentence", "body": "<p>If you want an exact word match, <code>index</code> is not the right tool to be using.  You probably need a regex, though, with it being Perl, TMTOWTDI \u2014 There's More Than One Way To Do It.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $value = \"abc\";\nmy @sentences = (\"I am happy Babc\", \"I am happy abc\");\n\nprint \"Index method\\n\";\nfor my $sentence (@sentences)\n{\n    print \"Found [$value] in [$sentence]\\n\" if (index($sentence, $value) != -1);\n}\n\nprint \"Regex method\\n\";\nmy $rx = qr/\\b\\Q$value\\E\\b/;\nfor my $sentence (@sentences)\n{\n    print \"Found [$value] in [$sentence]\\n\" if ($sentence =~ $rx);\n}\n</code></pre>\n\n<p>When run, this produces:</p>\n\n<pre><code>Index method\nFound [abc] in [I am happy Babc]\nFound [abc] in [I am happy abc]\nRegex method\nFound [abc] in [I am happy abc]\n</code></pre>\n\n<p>This assumes that Perl's idea of word boundaries matches what you want.  The chances are at least moderate that it does, unless you have stringent requirements on what constitutes a word (see <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a>'s <a href=\"https://stackoverflow.com/questions/30961505/perl-matching-exact-value-in-the-sentence?noredirect=1#comment49955448_30961505\">comment</a> for example).</p>\n\n<p>Note that this is similar in concept to an MCVE (<a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable Example?</a>) or SSCCE (<a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">Short, Self-Contained, Correct Example</a>) \u2014 two names and links for the same idea.  The code is slightly larger than minimal on several grounds, but not by a large margin (and compressing it to minimal would reduce its legibility).</p>\n"}], "owner": {"reputation": 3, "user_id": 5032582, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MkSwYnhl07k/AAAAAAAAAAI/AAAAAAAAAe0/4OuAOJXYVC0/photo.jpg?sz=128", "display_name": "Roopali Bhandari", "link": "https://stackoverflow.com/users/5032582/roopali-bhandari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "accepted_answer_id": 30961592, "answer_count": 1, "score": 0, "last_activity_date": 1434867904, "creation_date": 1434863856, "last_edit_date": 1434867784, "question_id": 30961505, "link": "https://stackoverflow.com/questions/30961505/perl-matching-exact-value-in-the-sentence", "title": "Perl matching exact value in the sentence", "body": "<p>I want to print if an exact match (for value) is found in the sentence. </p>\n\n<pre><code>if (index($sentence, $value ) != -1) { $logger-&gt;debug(\"DEBUG: $value found\"); }\n</code></pre>\n\n<p>I have tried by putting ^$value but it is not working.</p>\n\n<hr>\n\n<p>Actually it's working but failing in the scenario where the word to be matched is a sub-string of a word in the sentence. For example: if the value is <code>abc</code>, the script is also considering the words <code>Babc</code>, <code>Dabc</code>, <code>abcf</code> because it's finding <code>abc</code> anywhere.</p>\n\n<p>For example: Sentence is \"I am happy Babc\".  The script will consider it as it found <code>abc</code>. I want it will only go into diagnostic printing if it found the exact word <code>abc</code>, which should be found in \"I am happy abc\".</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 9013, "user_id": 230214, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d0f3ba56744ffc3654bbcf8f96f34626?s=128&d=identicon&r=PG", "display_name": "bessarabov", "link": "https://stackoverflow.com/users/230214/bessarabov"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 2, "creation_date": 1434892878, "post_id": 30960126, "comment_id": 49961737, "body": "I&#39;ve used perbug and send a messge. Here is that I have send \u2014 <a href=\"https://gist.github.com/bessarabov/2e938f4bbb79e78d1941\" rel=\"nofollow noreferrer\">gist.github.com/bessarabov/2e938f4bbb79e78d1941</a>"}], "answers": [{"tags": [], "owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "is_accepted": true, "score": 11, "last_activity_date": 1536690697, "last_edit_date": 1536690697, "creation_date": 1434846644, "answer_id": 30960175, "question_id": 30960126, "link": "https://stackoverflow.com/questions/30960126/how-can-i-use-perl-default-array-variable-with-push/30960175#30960175", "title": "How can I use Perl default array variable @_ with push?", "body": "<p>I believe you've found an error in the documentation.</p>\n\n<p><code>@_</code> is the default for <code>pop</code> and <code>shift</code>, but not for <code>push</code> and <code>unshift</code>. For both <code>push</code> and <code>unshift</code>, the array has to be specified explicitly.</p>\n\n<p><code>perldoc -f push</code> shows the syntax as:</p>\n\n<pre><code>push ARRAY,LIST\npush EXPR,LIST\n</code></pre>\n\n<p>with no option to leave the array unspecified; likewise for <code>perldoc -f unshift</code>.</p>\n\n<p>(The OP has submitted a Perl bug report; see <a href=\"https://gist.github.com/bessarabov/2e938f4bbb79e78d1941\" rel=\"nofollow noreferrer\">https://gist.github.com/bessarabov/2e938f4bbb79e78d1941</a>)</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>This has been corrected. In the git repo for Perl, it was corrected in commit <code>256ca3d37ed232e10fbb2884be45691e745be7a9</code>, 2015-06-21. The fix appears in releases 5.23.1 and 5.24.0. This doesn't seem to be mentioned in any of the <code>perldelta*.pod</code> files.</p>\n"}], "owner": {"reputation": 9013, "user_id": 230214, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d0f3ba56744ffc3654bbcf8f96f34626?s=128&d=identicon&r=PG", "display_name": "bessarabov", "link": "https://stackoverflow.com/users/230214/bessarabov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 604, "favorite_count": 0, "accepted_answer_id": 30960175, "answer_count": 1, "score": 11, "last_activity_date": 1536690697, "creation_date": 1434846133, "question_id": 30960126, "link": "https://stackoverflow.com/questions/30960126/how-can-i-use-perl-default-array-variable-with-push", "title": "How can I use Perl default array variable @_ with push?", "body": "<p>In the <a href=\"http://perldoc.perl.org/perlvar.html\">perlvar documentation</a> there is a text about <code>@_</code>:</p>\n\n<blockquote>\n  <p>Within a subroutine the array @_ contains the parameters passed to\n  that subroutine. Inside a subroutine, @_ is the default array for the\n  array operators push, pop, shift, and unshift.</p>\n</blockquote>\n\n<p>It is a common way to use <code>shift</code> without parameters to get first element from the array. It is very often used as:</p>\n\n<pre><code>sub some_method {\n    my $self = shift; # the same as `my $self = shift @_;`\n\n    ...\n}\n</code></pre>\n\n<p>But in the documentation there is written that it can be used with <code>push</code>, but I can't create working example without explicitly specifying <code>@_</code> to the push. From reading this doc I'm expecting <code>push 123;</code> to push to <code>@_</code>, but it is not working. </p>\n"}, {"tags": ["multithreading", "perl", "queue"], "comments": [{"owner": {"reputation": 11, "user_id": 5032135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326cda39ddd4cede121432a6ea4514b7?s=128&d=identicon&r=PG&f=1", "display_name": "prasad hv", "link": "https://stackoverflow.com/users/5032135/prasad-hv"}, "edited": false, "score": 2, "creation_date": 1434845452, "post_id": 30960062, "comment_id": 49952785, "body": "$q-&gt;enqueue(@job); is $q-&gt;enqueue(@j);"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434870348, "post_id": 30960062, "comment_id": 49956329, "body": "You <b><i>must always</i></b> <code>use strict</code> and <code>use warnings</code> at the top of every Perl program, ans declare all of your variables with <code>my</code> as close as possible to their first point of use"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434871172, "post_id": 30960062, "comment_id": 49956474, "body": "The whole of your <code>if</code> statement (if you used <code>&#39; &#39;</code> instead of <code>&#47;\\s&#47;</code> as you should) is the same as <code>my @j = split &#39; &#39;, $line</code>. And you must pass an array by reference to <code>enqueue</code> so you must write <code>$q-&gt;enqueue(\\@j)</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1434873417, "post_id": 30960062, "comment_id": 49956881, "body": "Re &quot;now, once it reaches &quot;number of active threads&quot; = 1, threads stop&quot; Well, yeah. If you end your workers, you won&#39;t have any workers. So why do you end your workers?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1434913870, "post_id": 30960062, "comment_id": 49968120, "body": "<code>strict</code> and warnings are doubly important for threading programs. Anything parallel gives you a whole new class of fruity and exciting bugs as the execution sequence of your program becomes less well defined. But it really is something you should be doing <i>before</i> asking for assistance with your code."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1434913401, "post_id": 30962459, "comment_id": 49967985, "body": "I think Thread::Queue&#39;s can be locked - the modules suggest doing so if you&#39;re going to do non-atomic stuff to it. It&#39;s irrelevant in this case, but it can be done."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1434929520, "post_id": 30962459, "comment_id": 49972177, "body": "@Sobrique, I wouldn&#39;t lock the T::Q object itself (<code>lock %$q;</code>, which is the first thing <code>enqueue</code> and <code>dequeue</code> do). Not sure what this has to do with my answer (or the question)."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1614902737, "last_edit_date": 1614902737, "creation_date": 1434874007, "answer_id": 30962459, "question_id": 30960062, "link": "https://stackoverflow.com/questions/30960062/not-able-to-re-use-threads-in-perl/30962459#30962459", "title": "Not able to re-use threads in perl", "body": "<p>Each of the threads in your program dies with <code>Undefined subroutine &amp;main::dequeue</code> and the main program dies with <code>Can't locate object method &quot;new&quot; via package &quot;File::Tail&quot;</code>.</p>\n<ul>\n<li>Add <code>use File::Tail;</code>.</li>\n<li>Change <code>dequeue( $q )</code> to <code>$q-&gt;dequeue()</code>.</li>\n</ul>\n<p>Adding <code>use strict; use warnings;</code> (which you should <em>always</em> use) finds problems.</p>\n<ul>\n<li>Change <code>$q-&gt;enqueue( @job );</code> to <code>$q-&gt;enqueue( @j );</code>.</li>\n</ul>\n<p>Still more problems are revealed as you fix the above.</p>\n<ul>\n<li>Remove <code>lock( $q );</code>. 1) It's won't work since it's not a shared variable, 2) Locking in only one place is useless, and 3) Thread::Queue is thread-safe.</li>\n<li>Subroutine <code>test</code> doesn't exist.</li>\n</ul>\n<p>After applying those fixes and some other cleanup, you get the following:</p>\n<pre><code>use strict;\nuse warnings;\nuse threads;\nuse File::Tail         qw( );\nuse Thread::Queue 3.01 qw( );\n\nuse constant NUM_WORKERS      =&gt; 10;\nuse constant COMMAND_FILE_QFN =&gt; '...';\nuse constant DEBUG            =&gt; 1;\n\nsub worker {\n    my ( $job ) = @_;\n    print( &quot;Processed $job.\\n&quot; );\n}\n\nmy $q = Thread::Queue-&gt;new();\nfor (1..NUM_WORKERS) {\n    async {\n        while ( defined( my $job = $q-&gt;dequeue() ) ) {\n            worker( $job );\n        }\n    };\n}\n\nmy $tail = File::Tail-&gt;new(\n    name        =&gt; COMMAND_FILE_QFN,\n    maxinterval =&gt; DEBUG ? 1 : 60,\n);\nwhile ( defined( my $line = $tail-&gt;read() ) ) {\n    $q-&gt;enqueue( split( ' ', $line ) );\n}\n\n$q-&gt;end();\n$_-&gt;join() for threads-&gt;list();\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5032135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326cda39ddd4cede121432a6ea4514b7?s=128&d=identicon&r=PG&f=1", "display_name": "prasad hv", "link": "https://stackoverflow.com/users/5032135/prasad-hv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1614902737, "creation_date": 1434845293, "last_edit_date": 1434870563, "question_id": 30960062, "link": "https://stackoverflow.com/questions/30960062/not-able-to-re-use-threads-in-perl", "title": "Not able to re-use threads in perl", "body": "<p>I am tailing a file, reading each line and feeding it to thread queue, using the below code</p>\n\n<pre><code>use threads;\nuse threads::shared;\n\nuse Thread::Queue;\n\nuse threads 'exit' =&gt; 'threads_only';\n\n$thread_limit = 10;\n\nmy $q   = Thread::Queue-&gt;new();\n\nmy @thr = map {\n    threads-&gt;create(\n        sub {\n            while ( defined( my $item = dequeue( $q ) ) ) {\n                test( $item );\n            }\n        } );\n} 1 .. $thread_limit;\n\nmy $file = File::Tail-&gt;new( \"/path/File.txt\" );\n\nwhile ( defined( my $line = $file-&gt;read ) ) {\n\n    my @j;\n    if ( $line !~ /\\s/ ) {\n        push( @j, $line );\n    }\n    else {\n        my @temp = split( /\\s/, $line );\n        my $size = @temp;\n        for ( my $i = 0 ; $i &lt;= $size ; $i++ ) {\n            push( @j, $temp[$i] );\n        }\n    }\n\n    {\n        lock( $q );\n        $q-&gt;enqueue( @job );\n    }\n}\n</code></pre>\n\n<p>Problem: </p>\n\n<p>thread_limit = 10</p>\n\n<p>now, once it reaches \"number of active threads\" = 1, threads stop, though the queue has more work items to dequeue. Can you please help?\nReading file for work items will be continuous.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9013, "user_id": 230214, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d0f3ba56744ffc3654bbcf8f96f34626?s=128&d=identicon&r=PG", "display_name": "bessarabov", "link": "https://stackoverflow.com/users/230214/bessarabov"}, "edited": false, "score": 1, "creation_date": 1434844808, "post_id": 30959881, "comment_id": 49952695, "body": "@bessarabov: Why is that? I&#39;ve removed it anyway as it&#39;s more concise if I just add the new parameters in the procedure call, but there&#39;s no way it can do any harm to manipulate <code>@_</code>. After all it is very common practice to extract parameters from the array by using <code>shift</code>, so if you can <i>remove</i> elements from <code>@_</code> there shouldn&#39;t be a problem with <i>adding</i> to it!"}, {"owner": {"reputation": 9013, "user_id": 230214, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d0f3ba56744ffc3654bbcf8f96f34626?s=128&d=identicon&r=PG", "display_name": "bessarabov", "link": "https://stackoverflow.com/users/230214/bessarabov"}, "edited": false, "score": 0, "creation_date": 1434845466, "post_id": 30959881, "comment_id": 49952788, "body": "Hm... I never used @_ as a normal array, I only used it as a thing to access parameters passed to sub. Now I&#39;ve tried to construct some example that breaks because of direct usage of @_, but I couldn&#39;t do it. Maybe it is ok to use it, but I have never seen such usage before."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9013, "user_id": 230214, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d0f3ba56744ffc3654bbcf8f96f34626?s=128&d=identicon&r=PG", "display_name": "bessarabov", "link": "https://stackoverflow.com/users/230214/bessarabov"}, "edited": false, "score": 1, "creation_date": 1434846468, "post_id": 30959881, "comment_id": 49952975, "body": "@bessarabov: <code>@_</code> just happens to be where Perl puts parameter values when a subroutine is called. Otherwise it&#39;s a very ordinary array"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1434844848, "last_edit_date": 1434844848, "creation_date": 1434843190, "answer_id": 30959881, "question_id": 30959520, "link": "https://stackoverflow.com/questions/30959520/how-to-get-a-pod-section-into-a-string/30959881#30959881", "title": "How to get a POD section into a string?", "body": "<p>You can open a scalar variable for output by passing a reference to <code>open</code> in place of a file name</p>\n\n<p>Then you can provide the file handle as the value of the <code>-output</code> option of <code>pod2usage</code> to get the data sent to your scalar variable</p>\n\n<p>You will also want to set an <code>-exitval</code> of <code>'NOEXIT'</code> so that you get a chance to use what you have captured</p>\n\n<p>It would look like this</p>\n\n<pre><code>use Pod::Usage 'pod2usage';\n\nsub pod2scalar {\n  open my $fh, '&gt;', \\my $text;\n  pod2usage(@_, -output =&gt; $fh, -exitval =&gt; 'NOEXIT');\n  $text;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9013, "user_id": 230214, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d0f3ba56744ffc3654bbcf8f96f34626?s=128&d=identicon&r=PG", "display_name": "bessarabov", "link": "https://stackoverflow.com/users/230214/bessarabov"}, "is_accepted": false, "score": 2, "last_activity_date": 1434844139, "creation_date": 1434844139, "answer_id": 30959970, "question_id": 30959520, "link": "https://stackoverflow.com/questions/30959520/how-to-get-a-pod-section-into-a-string/30959970#30959970", "title": "How to get a POD section into a string?", "body": "<p>There is an excellent perl library <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow\">Capture::Tiny</a> that simplifies saving stdout/stderr.</p>\n\n<p>By default <code>pod2usage</code> exits the program, so you must specify <code>-exitval =&gt; \"noexit\"</code>.</p>\n\n<p>Here is a full working example:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nuse Pod::Usage;\nuse Capture::Tiny ':all';\n\n=head1 DESCRIPTION\n\nA description\n\n=cut\n\nmy $stdout = capture_merged {\n    pod2usage(-verbose =&gt; 99, -sections =&gt; \"DESCRIPTION\", -exitval =&gt; \"noexit\");\n};\n\nsay \"## Captured\";\nsay $stdout;\n\n__END__\n\nThis will output:\n\n## Captured\nDescription:\n    A description\n</code></pre>\n"}], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 30959881, "answer_count": 2, "score": 1, "last_activity_date": 1434844848, "creation_date": 1434839737, "last_edit_date": 1434840436, "question_id": 30959520, "link": "https://stackoverflow.com/questions/30959520/how-to-get-a-pod-section-into-a-string", "title": "How to get a POD section into a string?", "body": "<p>How to get a POD section into a variable: </p>\n\n<pre><code>pod2usage(-verbose =&gt; 99, -sections =&gt; \"DESCRIPTION\"); # Goes on STDOUT\n\n=head1 DESCRIPTION\n\n    A description\n\n=cut\n</code></pre>\n\n<p>I just want to assign <code>DESCRIPTION</code> to a variable instead displaying it on <code>STDOUT</code>. </p>\n\n<p>I am currently investigating this way. It is complicated and it doesn't work:</p>\n\n<pre><code>sub pod2scalar {\n    use File::Temp 'tempfile';\n    my ($fh, $filename) = tempfile(UNLINK =&gt; 1);\n    open OLDOUT, '&gt;&amp;STDOUT';\n    {\n        local *STDOUT;\n        open STDOUT, \"&gt;\", $filename or warn \"Can't open $filename: $!\";\n\n        #pod2usage(@_); # Doesn't work... I don't know why...\n        print STDOUT \"This is captured in \\$str\";\n\n        close STDOUT;\n    }\n    open STDOUT, '&gt;&amp;OLDOUT' or die \"Can't restore stdout: $!\";\n    close OLDOUT or die \"Can't close OLDOUT: $!\";\n    open $fh, \"&lt;\", $filename or warn \"Can't open $filename: $!\";\n    my $str = do { local $/, &lt;$fh&gt; };\n    close $fh;\n    $str;\n}      \n</code></pre>\n"}, {"tags": ["perl", "testing", "dancer"], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 2773127, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fef172929e808d472f63d56950a4b62?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Staab", "link": "https://stackoverflow.com/users/2773127/peter-staab"}, "edited": false, "score": 0, "creation_date": 1435052779, "post_id": 30959410, "comment_id": 50026852, "body": "This worked great.  Thanks.  I was also trying to get it working under a different port (than the default 3000) and if I used <code>set port =&gt; 3003;</code> in WebApp.pm and <code>Dancer::set port =&gt; &#39;3003&#39;;</code> in the testing file, it continued to work."}], "tags": [], "owner": {"reputation": 9013, "user_id": 230214, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d0f3ba56744ffc3654bbcf8f96f34626?s=128&d=identicon&r=PG", "display_name": "bessarabov", "link": "https://stackoverflow.com/users/230214/bessarabov"}, "is_accepted": true, "score": 1, "last_activity_date": 1434838698, "creation_date": 1434838698, "answer_id": 30959410, "question_id": 30958368, "link": "https://stackoverflow.com/questions/30958368/how-to-run-a-perl-dancer-test/30959410#30959410", "title": "How to run a Perl Dancer Test", "body": "<p>You should remove <code>dancer()</code> from the WebApp.pm. Here is the correct content:</p>\n\n<pre><code>package WebApp;\nuse Dancer;\n\n# declare routes/actions\nget '/' =&gt; sub {\n    \"Hello World\";\n};\n\n1;\n</code></pre>\n\n<p>Then you test will pass.</p>\n\n<p>The common way to create dancer apps is to declare all the routes in one or more .pm files and to have a file usually called <code>app.psgi</code> with the content:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse Dancer;\nuse WebApp;\ndance;\n</code></pre>\n\n<p>Then to start your web application you should run <code>perl -Ilib app.psgi</code>.</p>\n"}], "owner": {"reputation": 349, "user_id": 2773127, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fef172929e808d472f63d56950a4b62?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Staab", "link": "https://stackoverflow.com/users/2773127/peter-staab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 30959410, "answer_count": 1, "score": 1, "last_activity_date": 1434838698, "creation_date": 1434830647, "question_id": 30958368, "link": "https://stackoverflow.com/questions/30958368/how-to-run-a-perl-dancer-test", "title": "How to run a Perl Dancer Test", "body": "<p>Reading through the Dancer::Test documentation made it seem straightforward to do a test, but I'm missing something.  If I have the following Dancer application (<code>WebApp.pm</code>):</p>\n\n<pre><code>package WebApp;\nuse Dancer;\n\n# declare routes/actions\nget '/' =&gt; sub {\n    \"Hello World\";\n};\n\ndance;\n</code></pre>\n\n<p>and then the following testing file <code>001_base.t</code>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Test::More tests =&gt; 1;\n\nuse WebApp;\nuse Dancer::Test;\n\nresponse_status_is [GET =&gt; '/'], 200, \"GET / is found\";\n</code></pre>\n\n<p>Then when I run the test: <code>perl 001_base.t</code>, the output is that the dancer script starts up:</p>\n\n<pre><code>Dancer 1.3132 server 7679 listening on http://0.0.0.0:3000\n== Entering the development dance floor ...\n</code></pre>\n\n<p>But then waits.  (This is the same as if I just run the code in WebApp.pm).  What am I missing here?  I guess I'm not running the test correctly.  </p>\n"}, {"tags": ["xml", "perl", "xml-twig"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434826014, "post_id": 30957421, "comment_id": 49948014, "body": "You should at least make an attempt to do this yourself before asking for free consultancy"}, {"owner": {"reputation": 990, "user_id": 1878947, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/68adee7288f257bb5a2b1696be17042c?s=128&d=identicon&r=PG", "display_name": "chidori", "link": "https://stackoverflow.com/users/1878947/chidori"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434826238, "post_id": 30957421, "comment_id": 49948079, "body": "@Borodin . I am trying.  Thought i could get some pointers here."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434826311, "post_id": 30957421, "comment_id": 49948092, "body": "Show your code, and describe the problems you are having and why the result doesn&#39;t match your requirement, and we will help you out. The first pointer I would give you is to indent your code properly so that you can read what you have written. I have done it for you in this case but I shouldn&#39;t have had to"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434826425, "post_id": 30957421, "comment_id": 49948128, "body": "Are you only looking for duplicates in children of the <code>config</code> root element, or can they occur deeper -- say, inside <code>opt</code>"}, {"owner": {"reputation": 990, "user_id": 1878947, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/68adee7288f257bb5a2b1696be17042c?s=128&d=identicon&r=PG", "display_name": "chidori", "link": "https://stackoverflow.com/users/1878947/chidori"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434826485, "post_id": 30957421, "comment_id": 49948148, "body": "just the children of <code>config</code> root element"}, {"owner": {"reputation": 990, "user_id": 1878947, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/68adee7288f257bb5a2b1696be17042c?s=128&d=identicon&r=PG", "display_name": "chidori", "link": "https://stackoverflow.com/users/1878947/chidori"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434826799, "post_id": 30957421, "comment_id": 49948252, "body": "@Borodin I am finding it hard to understand and get it done using XML::Twig. What i have in mind is may be read both xml data with XML::Simple module , build hash and compare the hash keys and delete the duplicate from second. As far as XML::Twig , If i could find out some way to get the children name, may I could trying picking the duplicate the same way by comparing hash."}], "answers": [{"comments": [{"owner": {"reputation": 990, "user_id": 1878947, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/68adee7288f257bb5a2b1696be17042c?s=128&d=identicon&r=PG", "display_name": "chidori", "link": "https://stackoverflow.com/users/1878947/chidori"}, "edited": false, "score": 0, "creation_date": 1434870832, "post_id": 30958323, "comment_id": 49956411, "body": "That really helped. Thanks"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1434830381, "creation_date": 1434830381, "answer_id": 30958323, "question_id": 30957421, "link": "https://stackoverflow.com/questions/30957421/delete-common-xml-tags-from-second-xml-file-while-merging-two-xml-files/30958323#30958323", "title": "Delete common XML tags from second XML file while merging two XML files", "body": "<p>This solution works by adding the tag names of all the first-level elements to a hash <code>%tags</code>. When the second file is processed, each first-level element is cut and pasted into the original document if its tag name isn't already present in the hash</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy %tags;\n\nmy $twig = XML::Twig-&gt;parse('inputfile1.xml');\n\n++$tags{$_-&gt;tag} for $twig-&gt;findnodes('/config/*');\n\n\n{\n    my $twig2 = XML::Twig-&gt;parse('inputfile2.xml');\n\n    for my $elem ( $twig2-&gt;findnodes('/config/*') ) {\n      unless ( $tags{$elem-&gt;tag} ) {\n        $elem-&gt;cut;\n        $elem-&gt;paste(last_child =&gt; $twig-&gt;root);\n      }\n    }\n}\n\n$twig-&gt;set_pretty_print('indented');\n$twig-&gt;print;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>&lt;config&gt;\n  &lt;tag1&gt;A1&lt;/tag1&gt;\n  &lt;tag2&gt;A2&lt;/tag2&gt;\n  &lt;tag3&gt;A1&lt;/tag3&gt;\n  &lt;opt&gt;\n    &lt;user fullname=\"BOB\" login=\"grep\"/&gt;\n    &lt;user fullname=\"TOM\" login=\"stty\"/&gt;\n  &lt;/opt&gt;\n&lt;/config&gt;\n</code></pre>\n"}], "owner": {"reputation": 990, "user_id": 1878947, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/68adee7288f257bb5a2b1696be17042c?s=128&d=identicon&r=PG", "display_name": "chidori", "link": "https://stackoverflow.com/users/1878947/chidori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 30958323, "answer_count": 1, "score": 1, "last_activity_date": 1434830381, "creation_date": 1434824512, "last_edit_date": 1434826244, "question_id": 30957421, "link": "https://stackoverflow.com/questions/30957421/delete-common-xml-tags-from-second-xml-file-while-merging-two-xml-files", "title": "Delete common XML tags from second XML file while merging two XML files", "body": "<p>I am able to merge two XML file data with the help of XML::Twig module but in some cases there are chances of same tag appearing in both the XML files in such a situation I need to keep the data from first file intact and delete it from the second. Can someone please let me know how to achieve it via <code>XML::Twig</code> ?</p>\n\n<p>Below is the code that I am using to merge two XML data</p>\n\n<p><strong>First XML data</strong>\n</p>\n\n<pre><code>&lt;config&gt;\n    &lt;tag1&gt;A1&lt;/tag1&gt;\n    &lt;tag2&gt;A2&lt;/tag2&gt;\n&lt;/config&gt;\n</code></pre>\n\n<p><strong>Second XML data</strong>\n</p>\n\n<pre><code>&lt;config&gt;\n    &lt;tag2&gt;A2&lt;/tag2&gt;\n    &lt;tag3&gt;A1&lt;/tag3&gt;\n    &lt;opt&gt;\n        &lt;user login=\"grep\" fullname=\"BOB\" /&gt;\n        &lt;user login=\"stty\" fullname=\"TOM\" /&gt;\n    &lt;/opt&gt;\n&lt;/config&gt;\n</code></pre>\n\n<p><code>&lt;tag2&gt;</code> data appears in both files. I need to delete duplicate data from the second file.</p>\n\n<p><strong>Code</strong>\n</p>\n\n<pre><code>use XML::Twig;\nuse Data::Dumper;\nuse XML::Simple;\n\nprint add(\n    'C:\\Users\\chidori\\Desktop\\inputfile1.xml',\n    'C:\\Users\\chidori\\Desktop\\inputfile2.xml'\n);\n\nsub add {\n    my $result_twig;\n    my ( $XML_File1, $XML_File2 ) = @_;\n\n    foreach my $file ( $XML_File1, $XML_File2 ) {\n\n        my $current_twig = XML::Twig-&gt;new(\n            pretty_print =&gt; 'indented',\n            comments     =&gt; 'process',\n        );\n\n        $current_twig-&gt;parsefile( $file );\n\n        if ( !$result_twig ) {\n            $result_twig = $current_twig;\n        }\n        else {\n            $current_twig-&gt;root-&gt;move( last_child =&gt; $result_twig-&gt;root )-&gt;erase;\n        }\n    }\n\n    return $result_twig-&gt;sprint;\n}\n</code></pre>\n"}, {"tags": ["perl", "ksh"], "answers": [{"tags": [], "owner": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "is_accepted": true, "score": 5, "last_activity_date": 1434820033, "last_edit_date": 1434820033, "creation_date": 1434808402, "answer_id": 30954739, "question_id": 30954588, "link": "https://stackoverflow.com/questions/30954588/perl-system-exit-code-36096/30954739#30954739", "title": "perl system() exit code 36096", "body": "<p>Note that 36096 is 141 * 256. As the <code>system</code> docs tell you, 141 is the exit status of the program. Note again, that an exit status >128 from a shell often means that the child process was killed due to a signal. That signal is obtained by subtracting 128 from the exit status (i.e. look at the low 7 bits).</p>\n\n<p>So the script got signal 13, which is <code>SIGPIPE</code> - write on a pipe with no reader.</p>\n\n<p>It looks as if the <code>mail</code> program could not be started (got the <code>PATH</code> right? Usually cron jobs have a very minimal <code>PATH</code> and you need to set it in your script with something like <code>PATH=$(getconf PATH)</code>.)</p>\n\n<p>Then <code>cat</code> pipes into a non-existing reader, and voila, there's your signal.</p>\n\n<p>BTW, that's a useless use of <code>cat</code>, since <code>mail -s subj recipient &lt; /path/to/mail.txt</code> would avoid an expensive fork and pipe.</p>\n"}], "owner": {"reputation": 15, "user_id": 1093654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611769ff68e3e84bfb08e2f4888724b2?s=128&d=identicon&r=PG", "display_name": "user1093654", "link": "https://stackoverflow.com/users/1093654/user1093654"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 1, "accepted_answer_id": 30954739, "answer_count": 1, "score": 1, "last_activity_date": 1434820033, "creation_date": 1434807406, "last_edit_date": 1434807594, "question_id": 30954588, "link": "https://stackoverflow.com/questions/30954588/perl-system-exit-code-36096", "title": "perl system() exit code 36096", "body": "<p>I am trying to find the meaning of exit code 36096 from the following system() call to ksh script. </p>\n\n<pre><code>$proc_ret = system(\"/path/to/shellscript.sh\"); \n</code></pre>\n\n<p>$proc_ret returns \"36096\" </p>\n\n<p>I have checked the output of shellscript.sh, It run fine until the another shell script (status.sh) inside shellscript.sh was invoked. \nonly the first line of that script was invoked, the rest of the script was not get invoked. </p>\n\n<p>here is the content of status.sh </p>\n\n<pre><code>echo \"a\" &gt; /tmp/a\necho \"complete.\"\necho \"b\" &gt;&gt; /tmp/a\ncat /path/to/mail.txt | mail -s \"subject\" email@domain\necho \"mail complete.\"\necho \"c\" &gt;&gt; /tmp/a\n</code></pre>\n\n<p>I don't know why the script did not continue after the first line. the exit code of system call made to shellscript.sh looks strange to me. \nIf anyone know the meaning of 36096 then please let me know.</p>\n"}, {"tags": ["c", "perl", "perl-xs"], "comments": [{"owner": {"reputation": 14451, "user_id": 33499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c590aa4c56918b47c7ba5e39dba5d8?s=128&d=identicon&r=PG", "display_name": "wimh", "link": "https://stackoverflow.com/users/33499/wimh"}, "edited": false, "score": 0, "creation_date": 1434795243, "post_id": 30952438, "comment_id": 49938992, "body": "<code>av_fetch((AV  *)a, idx, 0);</code> should remove the warning."}, {"owner": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "reply_to_user": {"reputation": 14451, "user_id": 33499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c590aa4c56918b47c7ba5e39dba5d8?s=128&d=identicon&r=PG", "display_name": "wimh", "link": "https://stackoverflow.com/users/33499/wimh"}, "edited": false, "score": 0, "creation_date": 1434796734, "post_id": 30952438, "comment_id": 49939392, "body": "@Wimmel: Thx, this works. I remember to have tried it before, but not in the final combination."}, {"owner": {"reputation": 97942, "user_id": 25324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c812d568dcbf02b96796728be3cac626?s=128&d=identicon&r=PG", "display_name": "pmg", "link": "https://stackoverflow.com/users/25324/pmg"}, "edited": false, "score": 0, "creation_date": 1434797274, "post_id": 30952438, "comment_id": 49939516, "body": "&quot;Lie to the compiler and it will get its revenge.&quot; -- Henry Spencer ( <a href=\"http://www.lysator.liu.se/c/henry/\" rel=\"nofollow noreferrer\">lysator.liu.se/c/henry</a> )"}, {"owner": {"reputation": 14451, "user_id": 33499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c590aa4c56918b47c7ba5e39dba5d8?s=128&d=identicon&r=PG", "display_name": "wimh", "link": "https://stackoverflow.com/users/33499/wimh"}, "edited": false, "score": 0, "creation_date": 1434799874, "post_id": 30952438, "comment_id": 49940134, "body": "true, see also <a href=\"http://stackoverflow.com/a/10906616/33499\">this example</a>"}, {"owner": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "edited": false, "score": 0, "creation_date": 1434814307, "post_id": 30952438, "comment_id": 49944271, "body": "Don&#39;t know, what const exactly does, why the author of libmba defined it, and why the above solution (or workaround) should be a lie to the compiler. The whole module gets <code>a</code> as a reference to an array, and works on it read-only. Does this mean I should rewrite libmba? Yes, I will do it, but mostly for other reasons."}, {"owner": {"reputation": 97942, "user_id": 25324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c812d568dcbf02b96796728be3cac626?s=128&d=identicon&r=PG", "display_name": "pmg", "link": "https://stackoverflow.com/users/25324/pmg"}, "edited": false, "score": 0, "creation_date": 1434815390, "post_id": 30952438, "comment_id": 49944599, "body": "<code>const</code> is a promise by you, the programmer, to the compiler that the value will not change during evaluation of the function body. If you promise that but change the value anyway, that is the lie to the compiler. If <code>av_fetch()</code> does not change the value pointed to by the 1st parameter, then that function should have made it a <code>const</code> qualified parameter. I cannot guess why it hasn&#39;t."}, {"owner": {"reputation": 362, "user_id": 1023009, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gdR2A.png?s=128&g=1", "display_name": "squarewav", "link": "https://stackoverflow.com/users/1023009/squarewav"}, "edited": false, "score": 0, "creation_date": 1478313053, "post_id": 30952438, "comment_id": 68116733, "body": "I am the author of libmba. That const is supposed to emphasize that if your indexing routine were to modify the elements in any way, the diff routine could behave incorrectly. In this particular case, you are calling a function of a library that was not specifically crafted to be used as an indexing routine with diff and so it is no surprise that you have a minor incompatibility in the two APIs. If you know with certainty that av_fetch will not modify the elements, then you can assert that just by casting to <code>(AV *)</code>. So the correct solution in this case is to just cast to <code>(AV*)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "edited": false, "score": 0, "creation_date": 1434793841, "post_id": 30952491, "comment_id": 49938606, "body": "Then I get <code>incompatible pointer types passing</code> for the call to <code>diff()</code>."}, {"owner": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "edited": false, "score": 0, "creation_date": 1434794505, "post_id": 30952491, "comment_id": 49938800, "body": "Also tried to remove <code>const</code> in the typedef of libmba/diff.h, but then it warns multiple times at compiling libmba/diff.c."}, {"owner": {"reputation": 97942, "user_id": 25324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c812d568dcbf02b96796728be3cac626?s=128&d=identicon&r=PG", "display_name": "pmg", "link": "https://stackoverflow.com/users/25324/pmg"}, "reply_to_user": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "edited": false, "score": 0, "creation_date": 1434795835, "post_id": 30952491, "comment_id": 49939137, "body": "You could also copy the argument to a local variable and pass that to <code>av_fetch()</code>; see my edit"}], "tags": [], "owner": {"reputation": 97942, "user_id": 25324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c812d568dcbf02b96796728be3cac626?s=128&d=identicon&r=PG", "display_name": "pmg", "link": "https://stackoverflow.com/users/25324/pmg"}, "is_accepted": false, "score": 0, "last_activity_date": 1434796085, "last_edit_date": 1434796085, "creation_date": 1434793072, "answer_id": 30952491, "question_id": 30952438, "link": "https://stackoverflow.com/questions/30952438/solve-warning-passing-const-void-to-parameter-of-type-av/30952491#30952491", "title": "Solve warning: passing &#39;const void *&#39; to parameter of type &#39;AV *&#39;", "body": "<p>Well ... in <code>_av_idx</code> you are promising you will not change the contents of the first parameter</p>\n\n<pre><code>inline static const void *_av_idx(const void *a, int idx, void *context)\n//                                ^^^^^\n</code></pre>\n\n<p>But then you proceed to send that parameter to a function (<code>av_fetch(a, idx, 0)</code>) that does not promise to not change it. That makes your promise a little strange.</p>\n\n<p>Just remove your promise ...</p>\n\n<pre><code>inline static const void *_av_idx(void *a, int idx, void *context)\n//                       no const ^^^^^^^\n</code></pre>\n\n<hr>\n\n<p>Edit</p>\n\n<p>Or you could copy the argument to a local variable and pass that</p>\n\n<pre><code>inline\nstatic const void * \n_av_idx(const void *a, int idx, void *context)\n{\n   AV *a_copy;\n   deep_copy(a_copy, a);\n   if (a_copy != NULL) {\n       SV *line = *av_fetch(a_copy, idx, 0);\n       free(a_copy);\n   } else {\n       /* error */\n   }\n   STRLEN klen;\n   char *key = SvPVbyte(line, klen);\n   //printf(\"key: %s\\n\",key);\n\n  return key;\n}\n</code></pre>\n"}], "owner": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1325, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1434796972, "creation_date": 1434792785, "last_edit_date": 1434796972, "question_id": 30952438, "link": "https://stackoverflow.com/questions/30952438/solve-warning-passing-const-void-to-parameter-of-type-av", "title": "Solve warning: passing &#39;const void *&#39; to parameter of type &#39;AV *&#39;", "body": "<p>Compiling an XS-module including libmba I cannot solve this warning with my beginners level experience in C:</p>\n\n<pre><code>helmut@Helmuts-MacBook-Air:~/github/LCS-XS$ make\n\"/Users/helmut/perl5/perlbrew/perls/perl-5.18.2/bin/perl\"    \"/Users/helmut/perl5/perlbrew/perls/perl-5.18.2/lib/5.18.2/ExtUtils/xsubpp\"  -typemap \"/Users/helmut/perl5/perlbrew/perls/perl-  5.18.2/lib/5.18.2/ExtUtils/typemap\"  XS.xs &gt; XS.xsc &amp;&amp; mv XS.xsc XS.c\ncc -c  -I. -fno-common -DPERL_DARWIN -fno-strict-aliasing -pipe - fstack-protector -I/usr/local/include -I/opt/local/include -O3   - DVERSION=\\\"0.01\\\" -DXS_VERSION=\\\"0.01\\\"  \"- I/Users/helmut/perl5/perlbrew/perls/perl-5.18.2/lib/5.18.2/darwin- 2level/CORE\"   XS.c\n  XS.xs:55:26: warning: passing 'const void *' to parameter of type 'AV  *' (aka 'struct av *') discards qualifiers\n    [-Wincompatible-pointer-types-discards-qualifiers]\n       SV *line = *av_fetch(a, idx, 0);\n                            ^\n/Users/helmut/perl5/perlbrew/perls/perl-5.18.2/lib/5.18.2/darwin- 2level/CORE/embed.h:51:46: note: expanded from macro\n'av_fetch'\n#define av_fetch(a,b,c)         Perl_av_fetch(aTHX_ a,b,c)\n                                                    ^\n/Users/helmut/perl5/perlbrew/perls/perl-5.18.2/lib/5.18.2/darwin- 2level/CORE/proto.h:178:44: note: passing argument to\n  parameter 'av' here\n    PERL_CALLCONV SV**      Perl_av_fetch(pTHX_ AV *av, I32 key, I32 lval)\n                                                   ^\n1 warning generated.\n</code></pre>\n\n<p>The compiled module is working fine. But is there a way to code it without warning?</p>\n\n<p>The relevant parts in LCS/XS.xs:</p>\n\n<pre><code>#include \"EXTERN.h\"\n#include \"perl.h\"\n#include \"XSUB.h\"\n\n#include \"ppport.h\"\n\n#include &lt;string.h&gt;\n\n#include &lt;mba/diff.h&gt;\n#include &lt;mba/diff.c&gt;\n\n/* snipped */\n\ninline\nstatic const void * \n_av_idx(const void *a, int idx, void *context)\n{\n   //AV *av = a;\n   SV *line = *av_fetch(a, idx, 0);\n   STRLEN klen;\n   char *key = SvPVbyte(line, klen);\n   //printf(\"key: %s\\n\",key);\n\n  return key;\n}\n\n/* snipped */\n\nvoid lcs_LCS(obj, s1, s2)\n  SV *obj\n  AV * s1\n  AV * s2\n\n  PREINIT:\n    struct CTX *ctx = (struct CTX *)SvIVX(SvRV(obj));\n\n  PPCODE:\n    int d, sn, i;\n    struct varray *ses = varray_new(sizeof(struct diff_edit), NULL);\n\n    IV n;\n    IV m;\n    n = av_top_index(s1);\n    m = av_top_index(s2);\n\n    // call libmba::diff()\n    d = diff(s1, 0, n, s2, 0, m, &amp;_av_idx, &amp;_cmp_str,  NULL, 0, ses, &amp;sn, NULL);\n</code></pre>\n\n<p>The part of mba/diff.h</p>\n\n<pre><code>typedef const void *(*idx_fn)(const void *s, int idx, void *context);\n</code></pre>\n\n<p>And in mba/diff.c:</p>\n\n<pre><code>int\ndiff(const void *a, int aoff, int n,\n    const void *b, int boff, int m,\n    idx_fn idx, cmp_fn cmp, void *context, int dmax,\n    struct varray *ses, int *sn,\n    struct varray *buf)\n{\n</code></pre>\n\n<p>Is there a good practice to solve this warning without changing the source of libmba?</p>\n\n<p>SOLVED:</p>\n\n<pre><code>inline\nstatic const void * \n_av_idx(const void *a, int idx, void *context)\n{\n    SV *line = *av_fetch((AV *)a, idx, 0);\n    //                   ^^^^^^\n    STRLEN klen;\n    char *key = SvPVbyte(line, klen);\n\n    return key;\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 988, "user_id": 1937437, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7643373129ddb04b50d23bb7cbb73507?s=128&d=identicon&r=PG", "display_name": "pmr", "link": "https://stackoverflow.com/users/1937437/pmr"}, "edited": false, "score": 0, "creation_date": 1434809315, "post_id": 30951869, "comment_id": 49942751, "body": "..if ( /^(NAME)/ ) has been used to by pass the header row of file. I have thought a new approach. I will put a print &quot;$. ,\\n&quot;; just after chomp and fill an array1. Then just before  $final_my_records = join(  I will put one more print &quot;$. ,\\n&quot;; and fill an array2. The difference of array1(all lines)and 2(selected lines) should be the rejected line numbers. Could you agree/help this construction ?"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 988, "user_id": 1937437, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7643373129ddb04b50d23bb7cbb73507?s=128&d=identicon&r=PG", "display_name": "pmr", "link": "https://stackoverflow.com/users/1937437/pmr"}, "edited": false, "score": 0, "creation_date": 1434809832, "post_id": 30951869, "comment_id": 49942912, "body": "Operation <code>push</code> is done for all lines which pass <code>&#47;^(NAME)&#47;</code> test. I do not understand you. There is not any other code which skips lines."}, {"owner": {"reputation": 988, "user_id": 1937437, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7643373129ddb04b50d23bb7cbb73507?s=128&d=identicon&r=PG", "display_name": "pmr", "link": "https://stackoverflow.com/users/1937437/pmr"}, "edited": false, "score": 0, "creation_date": 1434810861, "post_id": 30951869, "comment_id": 49943230, "body": "@Hynek...sir I have just posted code snippets so there might be {} related mistake. Fact is if Input file has 100000 line output is 80000 line. I needed those 20000 line for analysis purpose. Anyway Thanks for your help and I have accepted your answer and my idea is working."}], "tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": true, "score": 1, "last_activity_date": 1434804124, "last_edit_date": 1434804124, "creation_date": 1434788446, "answer_id": 30951869, "question_id": 30951317, "link": "https://stackoverflow.com/questions/30951317/getting-line-number-of-input-file-which-is-not-coming-in-final-output/30951869#30951869", "title": "Getting line number of input file which is not coming in final output", "body": "<p>There is <a href=\"http://perldoc.perl.org/perlvar.html#%24INPUT_LINE_NUMBER\" rel=\"nofollow\"><code>$.</code> variable</a></p>\n\n<blockquote>\n  <ul>\n  <li><strong><code>HANDLE-&gt;input_line_number( EXPR )</code></strong></li>\n  <li><strong><code>$INPUT_LINE_NUMBER</code></strong></li>\n  <li><strong><code>$NR</code></strong></li>\n  <li><strong><code>$.</code></strong>     </li>\n  </ul>\n  \n  <p>Current line number for the last filehandle accessed.</p>\n  \n  <p>Each filehandle in Perl counts the number of lines that have been\n  read from it. (Depending on the value of <code>$/</code>, Perl's idea of what\n  constitutes a line may not match yours.) When a line is read from\n  a filehandle (via <code>readline()</code> or <code>&lt;&gt;</code>), or when <code>tell()</code> or\n  <code>seek()</code> is called on it, <code>$.</code> becomes an alias to the line counter\n  for that filehandle.</p>\n  \n  <p>You can adjust the counter by assigning to <code>$.</code>, but this will not\n  actually move the seek pointer. Localizing <code>$.</code> will not localize\n  the filehandle's line count. Instead, it will localize perl's\n  notion of which filehandle <code>$.</code> is currently aliased to.</p>\n  \n  <p><code>$.</code> is reset when the filehandle is closed, but not when an open\n  filehandle is reopened without an intervening <code>close()</code>. For more\n  details, see \"I/O Operators\" in <code>perlop</code>. Because <code>&lt;&gt;</code> never does an\n  explicit close, line numbers increase across <code>ARGV</code> files (but see\n  examples in <code>eof</code> in <code>perlfunc</code>).</p>\n  \n  <p>You can also use <code>HANDLE-&gt;input_line_number(EXPR)</code> to access the\n  line counter for a given filehandle without having to worry about\n  which handle you last accessed.</p>\n  \n  <p>Mnemonic: many programs use <code>.</code> to mean the current line number.</p>\n</blockquote>\n\n<p>The code which add record <code>push @final_records, \"$final_my_records\\n\";</code> is outside of all the you spaghetti if-else code. It means the only place where is record rejected is <code>next if $_ =~ /^(NAME)/;</code>. So do something like:</p>\n\n<pre><code>if ( /^(NAME)/ ) {\n    ... # put your code here\n    next;\n}\n</code></pre>\n"}], "owner": {"reputation": 988, "user_id": 1937437, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7643373129ddb04b50d23bb7cbb73507?s=128&d=identicon&r=PG", "display_name": "pmr", "link": "https://stackoverflow.com/users/1937437/pmr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 30951869, "answer_count": 1, "score": 1, "last_activity_date": 1434804124, "creation_date": 1434784220, "last_edit_date": 1434803459, "question_id": 30951317, "link": "https://stackoverflow.com/questions/30951317/getting-line-number-of-input-file-which-is-not-coming-in-final-output", "title": "Getting line number of input file which is not coming in final output", "body": "<p>I have shown here a small sample Perl script section like as below where from a input file based on many if-else condition getting final output in the @final_records. My questions is how to easily detect the input file line numbers which are getting rejected in this code and possibly taking those lines in a separate new file ? </p>\n\n<pre><code>while (&lt;MY_INP_FILE&gt;) {\n    chomp;\n    next if $_ =~ /^(NAME)/;\n    (   $secname,       $id_my_sec_num_des,\n        $my_source,     $id_my_sec_num_src,\n        $id_my_unique,  $security_typ,\n        $my_sector_des, $id_my_global,\n        $composite_id_my_global,\n    ) = split( /\\|/, $_ );\n\n    if ( exists $trexcp{$id_my_global} ) {\n        $my_match_ticker = $trexcp{$id_my_global};\n    }\n    else {\n\n        $ticker          = $id_my_sec_num_des;\n        $my_match_ticker = $id_my_sec_num_des;\n\n        if ( $my_sector_des eq \"BSE\" ) {\n            ( $indx_tick, $indx_val ) = split( ' ', $id_my_sec_num_des );\n            $my_match_ticker = $indx_tick;\n\n        }\n        elsif ( $my_sector_des eq \"PFD\" || $my_sector_des eq \"COMP\" ) {\n            ( $base_ticker, $div_percent, $matdt, $series )\n                = split( \" \", $id_my_sec_num_des );\n\n            if ( length($base_ticker) &gt; 3 ) {\n                $base_tick = substr( $base_ticker, 0, 3 );\n            }\n            else { $base_tick = $base_ticker; }\n\n            if ( $my_sector_des eq \"PFD\" &amp;&amp; $matdt ne \"\" ) {\n                $series =~ s /([A-Z])([A-Z])/$2/;\n                $my_match_ticker = $base_tick . \".PR\" . $series;\n            }\n\n        }\n        elsif ( $my_sector_des eq \"EQ\" ) {\n\n            if ( $my_source =~ m/^(BD|IN|MM|KS|KF|SP)$/ ) {\n                if ( $my_source eq \"MM\" ) {\n                    $my_match_ticker =~ s/(\\s+)/ /g;\n                    @mm_tick = split( ' ', $my_match_ticker );\n\n                    if (   ( $my_match_ticker !~ /\\*/ )\n                        &amp;&amp; ( $#mm_tick eq 2 )\n                        &amp;&amp; ( $mm_tick[2] ne \" \" ) )\n                    {\n                        $my_match_ticker = \"$mm_tick[0]\" . \"$mm_tick[2]\";\n                    }\n                    $my_match_ticker =~ s/\\*|\\///g;\n                }\n            }\n            elsif (( $my_source eq \"HK\" )\n                &amp;&amp; ( length($id_my_sec_num_des) &lt; 4 ) )\n            {\n                if ( $id_my_sec_num_des =~ m/^(\\d\\d\\d)$/ ) {\n                    $my_match_ticker\n                        =~ s/$id_my_sec_num_des/0$id_my_sec_num_des/;\n                }\n\n            }\n\n        }\n    }\n\n    $final_my_records = join(\n        \"|\",\n        (   $id_my_global,           $id_my_sec_num_src,\n            $id_my_unique,           $secname,\n            $id_my_sec_num_des,      $my_source,\n            $security_typ,           $my_sector_des,\n            $composite_id_my_global, $my_match_ticker\n        )\n    );\n\n    push @final_records, \"$final_my_records\\n\";\n\n}\n</code></pre>\n"}, {"tags": ["perl", "nginx", "proxy"], "answers": [{"tags": [], "owner": {"reputation": 362, "user_id": 1782798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5902363adb9f38595f20e29d8184756f?s=128&d=identicon&r=PG", "display_name": "Jamie", "link": "https://stackoverflow.com/users/1782798/jamie"}, "is_accepted": false, "score": 0, "last_activity_date": 1439749146, "creation_date": 1439749146, "answer_id": 32038416, "question_id": 30950186, "link": "https://stackoverflow.com/questions/30950186/make-check-page-reverse-proxy-nginx-like-cloudflares-im-under-attack-mode/32038416#32038416", "title": "Make Check Page Reverse Proxy Nginx | Like Cloudflare&#39;s I&#39;m Under Attack Mode", "body": "<p>This question would probably be better on ServerFault (but I can't move it as I don't have enough rep)</p>\n\n<p>HashCat isn't really production-ready software, but as its developer I can give you an overview on how to prepare your server for it:</p>\n\n<p>It needs the <code>ngx_http_perl_module</code> module to run correctly, as I think you identified. As far as I'm aware, though, Debian does not compile nginx with the embedded Perl module by default. I think Red Hat does though, if it makes your life any easier.</p>\n\n<p>You can activate the module by building nginx with the flag <code>--with-http_perl_module</code>.</p>\n\n<p>Check out <a href=\"https://wiki.debian.org/BuildingAPackage#Get_the_source_package\" rel=\"nofollow\">https://wiki.debian.org/BuildingAPackage#Get_the_source_package</a> for a guide on compiling Debian packages - I've summarised it here for you.</p>\n\n<p><code>apt-get install build-essentials</code><br />\n<code>apt-get source nginx</code><br />\n<code>sudo mk-build-deps -i -r nginx</code><br />\n<code>cd nginx-xxxx</code><br />\n<code>nano debian/rules</code><br /></p>\n\n<p>Add the configure flag \"--with-http_perl_module\" to the file. Now, we can recompile the package and produce a new .deb file</p>\n\n<p><code>debuild -us -uc</code><br /></p>\n\n<p>Install the .deb</p>\n\n<p><code>sudo dpkg -i ../nginx-xxxxx.deb</code></p>\n\n<p>This should replace the nginx you have installed with a Perl-enabled version :-)</p>\n\n<p>(P.S. Don't forget to run <code>cpan Digest::SHA1 String::Util</code>)</p>\n\n<p>And to install HashCat, make a folder /usr/share/nginx/perl (if it doesn't already exist) and place the source files in it. </p>\n"}], "owner": {"reputation": 153, "user_id": 4924025, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5f5628fc78146b1e605ae1cb1e1d8168?s=128&d=identicon&r=PG&f=1", "display_name": "blue ice", "link": "https://stackoverflow.com/users/4924025/blue-ice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 216, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439749146, "creation_date": 1434773702, "question_id": 30950186, "link": "https://stackoverflow.com/questions/30950186/make-check-page-reverse-proxy-nginx-like-cloudflares-im-under-attack-mode", "title": "Make Check Page Reverse Proxy Nginx | Like Cloudflare&#39;s I&#39;m Under Attack Mode", "body": "<p>I have a large server with DDoS protection. I also have a setup for stopping layer 7 attacks.</p>\n\n<p>I want to set up a reverse proxy to my website on my other server and have a check page similar to cloudflare's I'm Under Attack Mode.</p>\n\n<p>Which only after displaying that check page and passing the check will the nginx reverse proxy pass the request onto my other server with the website.</p>\n\n<p>There is absolutely ZERO documentation on this.</p>\n\n<p>I have found <a href=\"https://index.hm/hashcat.html\" rel=\"nofollow\">https://index.hm/hashcat.html</a> although there is many problems with this as you need perl modules. Which apt-get install nginx-extras doesn't have.</p>\n\n<p>I am just looking for some guidance, thank you!</p>\n"}, {"tags": ["python", "perl", "sorting", "unix"], "comments": [{"owner": {"reputation": 42504, "user_id": 1161878, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0157ddd785dc01e95342e3661d34b42a?s=128&d=identicon&r=PG", "display_name": "Gene", "link": "https://stackoverflow.com/users/1161878/gene"}, "edited": false, "score": 0, "creation_date": 1434774219, "post_id": 30950152, "comment_id": 49934223, "body": "A system sort like this <a href=\"http://man7.org/linux/man-pages/man1/sort.1.html\" rel=\"nofollow noreferrer\">man7.org/linux/man-pages/man1/sort.1.html</a> is much better optimized for data of this size than reading the whole set into a perl array. With the right options, it will solve your problem neatly except that there is no clean way to get a percent complete indicator either in perl or unix sort."}, {"owner": {"reputation": 988, "user_id": 1937437, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7643373129ddb04b50d23bb7cbb73507?s=128&d=identicon&r=PG", "display_name": "pmr", "link": "https://stackoverflow.com/users/1937437/pmr"}, "reply_to_user": {"reputation": 42504, "user_id": 1161878, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0157ddd785dc01e95342e3661d34b42a?s=128&d=identicon&r=PG", "display_name": "Gene", "link": "https://stackoverflow.com/users/1161878/gene"}, "edited": false, "score": 0, "creation_date": 1434775010, "post_id": 30950152, "comment_id": 49934364, "body": "@Gene, I am not looking clean way...but any way how to code up for % complete indicator"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1434776498, "post_id": 30950152, "comment_id": 49934608, "body": "How do you define, and then measure, percentage complete?  Using a built-in sort function is likely to give you problems in measuring the completeness of the job."}, {"owner": {"reputation": 988, "user_id": 1937437, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7643373129ddb04b50d23bb7cbb73507?s=128&d=identicon&r=PG", "display_name": "pmr", "link": "https://stackoverflow.com/users/1937437/pmr"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1434778440, "post_id": 30950152, "comment_id": 49935005, "body": "@JonathanLeffler I got a script here: <a href=\"http://stackoverflow.com/questions/930044/how-could-the-unix-sort-command-sort-a-very-large-file\" title=\"how could the unix sort command sort a very large file\">stackoverflow.com/questions/930044/&hellip;</a>                      MAX_LINES_PER_CHUNK=1000000 ORIGINAL_FILE=$1 SORTED_FILE=$2 CHUNK_FILE_PREFIX=$ORIGINAL_FILE.split. SORTED_CHUNK_FILES=$CHUNK_FILE_PREFIX*.sorted     so based  on this CHUNKS is something possible ?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1434779114, "post_id": 30950152, "comment_id": 49935142, "body": "I&#39;m not sure what you&#39;re looking for.  I suspect not, even so.  Monitoring progress is not easy."}], "answers": [{"comments": [{"owner": {"reputation": 988, "user_id": 1937437, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7643373129ddb04b50d23bb7cbb73507?s=128&d=identicon&r=PG", "display_name": "pmr", "link": "https://stackoverflow.com/users/1937437/pmr"}, "edited": false, "score": 0, "creation_date": 1434777206, "post_id": 30950488, "comment_id": 49934747, "body": "@Gene..very good. I am just curious here &quot;counting how many comparisons have occurred, but since you&#39;ll never be sure of the final number&quot;...if we can count then why we are not sure about the number ?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 988, "user_id": 1937437, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7643373129ddb04b50d23bb7cbb73507?s=128&d=identicon&r=PG", "display_name": "pmr", "link": "https://stackoverflow.com/users/1937437/pmr"}, "edited": false, "score": 0, "creation_date": 1434778652, "post_id": 30950488, "comment_id": 49935048, "body": "@purnendumaity: You can know how many comparisons have been made; you might be able to make a guess at how many comparisons will be made, but for all except the simplest (and most inefficient) sorts, that will probably be an upper-bound.  And in any case, unless you&#39;ve written the sort to be instrumented, you won&#39;t be able to determine how many comparisons it expects to make."}], "tags": [], "owner": {"reputation": 42504, "user_id": 1161878, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0157ddd785dc01e95342e3661d34b42a?s=128&d=identicon&r=PG", "display_name": "Gene", "link": "https://stackoverflow.com/users/1161878/gene"}, "is_accepted": false, "score": 2, "last_activity_date": 1434777574, "last_edit_date": 1434777574, "creation_date": 1434776901, "answer_id": 30950488, "question_id": 30950152, "link": "https://stackoverflow.com/questions/30950152/improving-a-sort-programs-efficiency-displaying-column-sort-completion-in-te/30950488#30950488", "title": "Improving a sort program&#39;s efficiency; displaying column sort % completion in terminal", "body": "<p>As I said in comments, the Linux/Unix system sort is likely to perform better, but if you really want Perl, this will do the trick:</p>\n\n<pre><code>use strict;\n\nsub main {\n  open F, 'input.txt' or die $!;\n  my @pairs;\n  while (&lt;F&gt;) {\n    my @fields = split(/\\|/);\n    my $key = [ @fields[0, 1, -2] ];\n    push @pairs, [$key, $_];\n  }\n  close F;\n  my @sorted_pairs = sort {\n    my $a_key = $a-&gt;[0];\n    my $b_key = $b-&gt;[0];\n    $a_key-&gt;[0] &lt;=&gt; $b_key-&gt;[0]\n      || $a_key-&gt;[1] cmp $b_key-&gt;[1] \n      || $a_key-&gt;[2] cmp $b_key-&gt;[2]\n  } @pairs;\n  foreach my $pair (@sorted_pairs) {\n    print $pair-&gt;[1];\n  }\n}\n\nmain;\n</code></pre>\n\n<p>Also as I said in comments, I know of no way to introspectively gather progress information.  You could hack something by counting how many comparisons have occurred, but since you'll never be sure of the final number, a percent complete can't be calculated.</p>\n"}, {"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": true, "score": 0, "last_activity_date": 1434805295, "creation_date": 1434805295, "answer_id": 30954307, "question_id": 30950152, "link": "https://stackoverflow.com/questions/30950152/improving-a-sort-programs-efficiency-displaying-column-sort-completion-in-te/30954307#30954307", "title": "Improving a sort program&#39;s efficiency; displaying column sort % completion in terminal", "body": "<p>From your sample data, you are going to sort approximately 950MB. It will take 9.5s reading from normal HD (100MB/s). I do not know how fast it will be sorted by standard <code>sort</code> but from my experience it can go 1-3 millions of records per CPU core. Let's say 1 million. It will take 3s on dual core and less on a server with more CPU cores. I think the most time will take reading and parsing of your data. So simple</p>\n\n<pre><code>pv -p your_file.dat | sort -t'|' -k '1n,1' -k '2d,2' -k '14,14'\n</code></pre>\n\n<p>should do most of required functionality.</p>\n"}], "owner": {"reputation": 988, "user_id": 1937437, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7643373129ddb04b50d23bb7cbb73507?s=128&d=identicon&r=PG", "display_name": "pmr", "link": "https://stackoverflow.com/users/1937437/pmr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 30954307, "answer_count": 2, "score": 1, "last_activity_date": 1434805295, "creation_date": 1434773053, "last_edit_date": 1434778104, "question_id": 30950152, "link": "https://stackoverflow.com/questions/30950152/improving-a-sort-programs-efficiency-displaying-column-sort-completion-in-te", "title": "Improving a sort program&#39;s efficiency; displaying column sort % completion in terminal", "body": "<p>I have a big pipe-delimited input file approx 6 million lines as below:</p>\n\n<pre><code>24|BBG000SJFVB0|EQ0000000009296012|OI SA-ADR|OIBR/C|US|ADR|Equity 16|BBG002PHVB83|EQ0000000022353186|BLOOM SELECT INCOME FUND|BLB-U|CT|Closed-End Fund|Equity\n-50|BBG000V0TN75|EQ0000000010271114|MECHEL-PREF SPON ADR|MTL/P|US|ADR|Equity 20|BBG002S0ZR60|EQ0000000022739316|DIVIDEND 15 SPLIT CORP II-RT|DF-R|CT|Closed-End Fund|Equity\n-20|BBG001R3LGM8|EQ0000000017879513|ING FLOATING RATE SENIOR LOA|ISL/U|CT|Closed-End Fund|Equity 0|BBG006M6SXL2|EQ0000000006846232|AA PLC|AA/|LN|Common Stock|Equity\n</code></pre>\n\n<blockquote>\n  <p>Requirements are as below:<br>\n  1. I need to sort this input file by 1st column and then 2nd column and then 2nd last column in that order<br>\n  2. Displaying % of sort completion in terminal/console for e.g. \"column 2 75% sort done\"<br>\n  3. finally output in a separate file.</p>\n</blockquote>\n\n<p>I have written the program below which is sorting by 1st column perfectly.\nBut how to incorporate the all other conditions? Also now it is taking a little more time to run. Is there any more efficient and cleaner way to do it? Only thing is we can't use any additional outside package from CPAN. Unix solutions like using SED/AWK are OK but Perl is preferable.I just came to know built-in Python is also there so that solution is also welcome.</p>\n\n<pre><code>my (%link_strength);\n{$data=\"datascope_input.txt\";\n $out=\"sort_file.txt\";\nopen (my $indata , '&lt;', $data)|| die \"could not open $data :\\n$!\";\nopen (my $outdata , '&gt;', $out)|| die \"could not open $out :\\n$!\";\nselect $outdata;\nmy @array=(&lt;$indata&gt;);\nfor (@array){\n    $link_strength{$1}=$_  if /(?:[^|]+\\|){0}([^|]+)/;\n            }\nprint $link_strength{$_} for (sort {$a&lt;=&gt;$b} keys %link_strength);\n  close ($outdata);\n  close ($indata);\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1438312604, "post_id": 30950074, "comment_id": 51409830, "body": "Also, don&#39;t use floating point for money."}], "answers": [{"tags": [], "owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "is_accepted": true, "score": 2, "last_activity_date": 1434780784, "last_edit_date": 1434780784, "creation_date": 1434774367, "answer_id": 30950242, "question_id": 30950074, "link": "https://stackoverflow.com/questions/30950074/how-to-print-numbers-with-symbol-in-perl/30950242#30950242", "title": "How to print numbers with $ symbol in perl?", "body": "<p>You just need to put an escaped $ in your format string</p>\n\n<pre><code>printf \"\\$%0.2f\\n\", 34.6666666;\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5007408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10c776b230dc766a9b84e26f47f7178c?s=128&d=identicon&r=PG&f=1", "display_name": "Jawn Fam", "link": "https://stackoverflow.com/users/5007408/jawn-fam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 0, "accepted_answer_id": 30950242, "answer_count": 1, "score": -1, "last_activity_date": 1434780784, "creation_date": 1434772274, "last_edit_date": 1434776520, "question_id": 30950074, "link": "https://stackoverflow.com/questions/30950074/how-to-print-numbers-with-symbol-in-perl", "title": "How to print numbers with $ symbol in perl?", "body": "<p>I'm working with Perl at the moment and I just don't know how to print the number $34.6666666 as $34.67 when I execute it. </p>\n\n<p>I was able to do it using this script: </p>\n\n<pre><code>printf \"%0.2f\\n\", 34.6666666;   \n</code></pre>\n\n<p>It gives me the output of 34.67, but I'm trying to incorporate the $ sign in my output, which I don't how to do.  Any kind of help would be much appreciated.</p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1434873034, "post_id": 30948934, "comment_id": 49956823, "body": "Don&#39;t give the name of a function in another language, say what you want to do."}], "answers": [{"comments": [{"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1434989952, "post_id": 30962381, "comment_id": 49999972, "body": "My problem is something similar to : <a href=\"http://stackoverflow.com/questions/12994100/perl-encode-pm-cannot-decode-string-with-wide-character\" title=\"perl encode pm cannot decode string with wide character\">stackoverflow.com/questions/12994100/&hellip;</a>   Encode::_utf8_off solved my problem. But a part of my script is in python and the python script is having the same issue. So I was looking for the same function in python so that I can apply there."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1434992107, "post_id": 30962381, "comment_id": 50001269, "body": "I repeat: NEVER USE <code>Encode::_utf8_off</code>. Meng Lu was passing something that wasn&#39;t encoded to <code>decode</code>. The solution to Meng Lu&#39;s problem wasn&#39;t to add <code>_utf8_off</code>. The solution was to fix their buggy code."}, {"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1434992318, "post_id": 30962381, "comment_id": 50001393, "body": "Hey.. thanks i will try utf::downgrade. But just wondering, can you please explain why I should NEVER use Encode::_utf8_off ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1434992486, "post_id": 30962381, "comment_id": 50001480, "body": "Because sometimes it does <code>utf8::encode</code>, and sometimes it does nothing at all."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1434873195, "creation_date": 1434873195, "answer_id": 30962381, "question_id": 30948934, "link": "https://stackoverflow.com/questions/30948934/perl-encode-utf8-off-in-python/30962381#30962381", "title": "perl Encode::_utf8_off in python", "body": "<p>You should <strong>never</strong> ever use <code>Encode::_utf8_off</code>.</p>\n\n<p>You are probably trying to encode a string using UTF-8. In Perl, you'd could use any of the following:</p>\n\n<ul>\n<li><code>utf8::encode($s);</code></li>\n<li><code>utf8::encode( my $utf8 = $uni );</code></li>\n<li><code>use Encode qw( encode_utf8 );  my $utf8 = encode_utf8($uni);</code></li>\n<li><code>use Encode qw( encode );  my $utf8 = encode('UTF-8', $uni);</code></li>\n</ul>\n\n<p>I don't know Python, but a quick search finds</p>\n\n<pre><code>utf8 = uni.encode('UTF-8', 'strict')\n</code></pre>\n"}], "owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "accepted_answer_id": 30962381, "answer_count": 1, "score": -2, "last_activity_date": 1492967882, "creation_date": 1434758623, "last_edit_date": 1492967882, "question_id": 30948934, "link": "https://stackoverflow.com/questions/30948934/perl-encode-utf8-off-in-python", "title": "perl Encode::_utf8_off in python", "body": "<p>What is Python's equivalent function of Perl's <code>Encode::_utf8_off</code> ?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1434746017, "post_id": 30946710, "comment_id": 49928208, "body": "What delimits that text within the filename?"}, {"owner": {"reputation": 3169, "user_id": 4114124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k73hh.jpg?s=128&g=1", "display_name": "Politank-Z", "link": "https://stackoverflow.com/users/4114124/politank-z"}, "edited": false, "score": 0, "creation_date": 1434746141, "post_id": 30946710, "comment_id": 49928259, "body": "Does the output file need to be in an Excel-specific format (xls / xlsx), or can it be in a structured text format (csv)?"}, {"owner": {"reputation": 29, "user_id": 4087058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/822ea9c32395a496c02b9652f94ccb95?s=128&d=identicon&r=PG&f=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/4087058/priya"}, "edited": false, "score": 0, "creation_date": 1434751364, "post_id": 30946710, "comment_id": 49930212, "body": "it can be in csv format tooo"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1434771884, "post_id": 30946710, "comment_id": 49933894, "body": "Why is there only one digit for the seconds (the trailing <code>_1</code>)?  Can there be underscores in the prefix (<code>EXPresult</code> in the example)?  What have you tried?  Splitting on <code>_</code> and selecting the right bits looks like a promising (simple) approach."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4087058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/822ea9c32395a496c02b9652f94ccb95?s=128&d=identicon&r=PG&f=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/4087058/priya"}, "edited": false, "score": 0, "creation_date": 1434785207, "post_id": 30947233, "comment_id": 49936502, "body": "Can I have CSV file rather than excel file. I am sorry i did not have excel write:XLSX is not installed in lab pc"}, {"owner": {"reputation": 59, "user_id": 5019187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/834ece1d11606fb67c4575cc1ffdedf5?s=128&d=identicon&r=PG&f=1", "display_name": "chetangb", "link": "https://stackoverflow.com/users/5019187/chetangb"}, "edited": false, "score": 0, "creation_date": 1434793608, "post_id": 30947233, "comment_id": 49938545, "body": "you can install  module using cpan -i  Excel::Writer::XLSX on your lab PC or contact your system admin. I&#39;ve not tried CSV, probably try looking at &quot;Text::CSV&quot; module in cpan."}], "tags": [], "owner": {"reputation": 59, "user_id": 5019187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/834ece1d11606fb67c4575cc1ffdedf5?s=128&d=identicon&r=PG&f=1", "display_name": "chetangb", "link": "https://stackoverflow.com/users/5019187/chetangb"}, "is_accepted": false, "score": 1, "last_activity_date": 1434808547, "last_edit_date": 1434808547, "creation_date": 1434747845, "answer_id": 30947233, "question_id": 30946710, "link": "https://stackoverflow.com/questions/30946710/i-want-specific-word-to-be-stored-in-a-csv-file/30947233#30947233", "title": "I want specific word to be stored in a CSV file", "body": "<p>I've just wrote using Excel::Writer::XLSX you need to install this module to run this script if already not available. You can also take a look at this module on cpan if you need more capability.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse Excel::Writer::XLSX;\n\nmy $k          = 0;\nmy $reportfile = \"report.xlsx\";\nmy $workbook   = Excel::Writer::XLSX-&gt;new( $reportfile );\ndie \"Problems creating new Excel file: $!\" unless defined $workbook;\nmy $worksheet  = $workbook-&gt;add_worksheet();\n\n# Excel Format\nmy $format = $workbook-&gt;add_format();\n\nmy @val;\nopendir( my $dir, \"./test/\" );\nmy @file = grep( /EXP/, readdir( $dir ) );\nwhile ( &lt;@file&gt; ) {\n    @val = split( /_/, $_ );\n    print \"$val[1] $val[2] $val[3] $val[4] $val[5]_$val[6]_$val[7]\\n\";\n    $format-&gt;set_align( 'top' );\n    $worksheet-&gt;write( $k, 0, \"$val[1]\",                 $format );\n    $worksheet-&gt;write( $k, 1, \"$val[2]\",                 $format );\n    $worksheet-&gt;write( $k, 2, \"$val[3]\",                 $format );\n    $worksheet-&gt;write( $k, 3, \"$val[4]\",                 $format );\n    $worksheet-&gt;write( $k, 4, \"$val[5]_$val[6]_$val[7]\", $format );\n    $k++;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 4087058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/822ea9c32395a496c02b9652f94ccb95?s=128&d=identicon&r=PG&f=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/4087058/priya"}, "edited": false, "score": 0, "creation_date": 1434848778, "post_id": 30960021, "comment_id": 49953289, "body": "Thanks, thus really helps me."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1434844731, "creation_date": 1434844731, "answer_id": 30960021, "question_id": 30946710, "link": "https://stackoverflow.com/questions/30946710/i-want-specific-word-to-be-stored-in-a-csv-file/30960021#30960021", "title": "I want specific word to be stored in a CSV file", "body": "<p>This is fairly straightforward if all you want is a CSV output</p>\n\n<p>This program checks that each directory item is a file (not a directory) and that the name contains <code>EXP</code>, and then splits it on underscores <code>_</code> to a maximum of six fields. That leaves the trailing date-time intact as a single field</p>\n\n<p>Then the first field is removed, the time is stripped from the last field, and all remaining fields are printed, joined by commas <code>,</code></p>\n\n<p>I have used <code>autodie</code> which removes the need to check the success of the <code>opendir</code></p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\nuse autodie;\n\nuse File::Spec::Functions 'rel2abs';\n\nuse constant DIRECTORY =&gt; '/home/grds/datafiles';\n\nopendir my $dh, DIRECTORY;\n\nwhile ( my $node = readdir $dh ) {\n\n  my $fullpath = rel2abs($node, DIRECTORY);\n  next unless -f $fullpath and $node =~ /EXP/;\n\n  my @fields = split /_/, $node, 6;\n  next unless @fields == 6;\n\n  shift @fields;\n  $fields[-1] =~ s/\\d+_\\d+_\\d+\\K.*//;\n\n  print join(',', @fields), \"\\n\";\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>3D0R0000002345,test345,cache1,IND0000ASD123,2014_04_12\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 4087058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/822ea9c32395a496c02b9652f94ccb95?s=128&d=identicon&r=PG&f=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/4087058/priya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 30960021, "answer_count": 2, "score": -1, "last_activity_date": 1434844731, "creation_date": 1434745543, "last_edit_date": 1434842324, "question_id": 30946710, "link": "https://stackoverflow.com/questions/30946710/i-want-specific-word-to-be-stored-in-a-csv-file", "title": "I want specific word to be stored in a CSV file", "body": "<p>I need a specific word in a file name should be pulled out from file names among directory</p>\n\n<pre><code>!/usr/bin/perl -w\n\nmy $directory = \"/home/grds/datafiles\";\nopendir(DIR, $directory) or die \"couldn't open $directory: $!\\n\";\n@files = grep(\"EXP\", readdir(DIR));\nclosedir(DIR);\n\nforeach $file (@files) {\n  # print \"$file\\n\";\n        open ($file\n}   \n</code></pre>\n\n<p>example file name : </p>\n\n<pre><code>EXPresult_3D0R0000002345_test345_cache1_IND0000ASD123_2014_04_12_18_56_1\n</code></pre>\n\n<p>I need</p>\n\n<pre><code>3D0R0000002345, test345, cache1, IND0000ASD123, 2014_04_12\n</code></pre>\n\n<p>should be stored in Excel file with separate columns.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 38551, "user_id": 8078, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/26a6b978dd7b7f8ea7dd446cff12cf5c?s=128&d=identicon&r=PG", "display_name": "JSB\u0571\u0578\u0563\u0579", "link": "https://stackoverflow.com/users/8078/jsb%d5%b1%d5%b8%d5%a3%d5%b9"}, "edited": false, "score": 0, "creation_date": 1434741506, "post_id": 30945706, "comment_id": 49926015, "body": "Hi, fasolo. There are lots of ways to accomplish this, so it&#39;s not clear to me what you&#39;re asking. Are you trying to find out if a variable contains a string or a number? Or are you more concerned with how to present this to the user?"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 2, "creation_date": 1434741782, "post_id": 30945706, "comment_id": 49926136, "body": "We also need to see some code. Is this a program the user would run from the command line, a web app, a GUI program or something else?"}, {"owner": {"reputation": 41, "user_id": 4581002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff6f84b44b2d53ff904cf676bcd9787f?s=128&d=identicon&r=PG&f=1", "display_name": "fasolo", "link": "https://stackoverflow.com/users/4581002/fasolo"}, "edited": false, "score": 0, "creation_date": 1434741804, "post_id": 30945706, "comment_id": 49926146, "body": "@ JSB\u0571\u0578\u0563\u0579 Hi, imagine a calculator. What the program accepts is 2+2, if someone try to put 2+&quot;a&quot; the program show an error."}, {"owner": {"reputation": 41, "user_id": 4581002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff6f84b44b2d53ff904cf676bcd9787f?s=128&d=identicon&r=PG&f=1", "display_name": "fasolo", "link": "https://stackoverflow.com/users/4581002/fasolo"}, "edited": false, "score": 1, "creation_date": 1434741881, "post_id": 30945706, "comment_id": 49926191, "body": "Just an &quot;if&quot; with a verification if some input is a letter"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4581002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff6f84b44b2d53ff904cf676bcd9787f?s=128&d=identicon&r=PG&f=1", "display_name": "fasolo", "link": "https://stackoverflow.com/users/4581002/fasolo"}, "edited": false, "score": 0, "creation_date": 1434743942, "post_id": 30945982, "comment_id": 49927222, "body": "Thanks, it was very helpfull!!"}], "tags": [], "owner": {"reputation": 3169, "user_id": 4114124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k73hh.jpg?s=128&g=1", "display_name": "Politank-Z", "link": "https://stackoverflow.com/users/4114124/politank-z"}, "is_accepted": true, "score": 1, "last_activity_date": 1434742524, "creation_date": 1434742524, "answer_id": 30945982, "question_id": 30945706, "link": "https://stackoverflow.com/questions/30945706/detect-letter-where-number-was-expected/30945982#30945982", "title": "Detect letter where number was expected", "body": "<p>A regexp match makes this easy. Searching for any character which isn't a numeral or an arithmetic symbol:</p>\n\n<pre><code>if ( $input =~ /[^0-9+*/-]/ ) {\n  print \"Incorrect character detected!\\n\"\n}\n</code></pre>\n\n<p>Literally anything which is a letter:</p>\n\n<pre><code>if ( $input =~ /[A-Za-z]/ ) {\n  print \"Incorrect character detected!\\n\"\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4581002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff6f84b44b2d53ff904cf676bcd9787f?s=128&d=identicon&r=PG&f=1", "display_name": "fasolo", "link": "https://stackoverflow.com/users/4581002/fasolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "closed_date": 1434746530, "accepted_answer_id": 30945982, "answer_count": 1, "score": 0, "last_activity_date": 1434744022, "creation_date": 1434741325, "last_edit_date": 1434744022, "question_id": 30945706, "link": "https://stackoverflow.com/questions/30945706/detect-letter-where-number-was-expected", "closed_reason": "Needs more focus", "title": "Detect letter where number was expected", "body": "<p>How can I detect and show an error if someone put a letter and the program expects a number?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1434737573, "post_id": 30944233, "comment_id": 49924153, "body": "FYI, <code>get_Lonly</code> is an alias for <code>get_unique</code>, so you should only call one or the other, not both."}, {"owner": {"reputation": 37, "user_id": 4577358, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3697d69b26891f9f170cce7e81902f38?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyEd38239", "link": "https://stackoverflow.com/users/4577358/crazyed38239"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1434740055, "post_id": 30944233, "comment_id": 49925396, "body": "@ThisSuitisBlackNot oops... I guess I had misread the alias quote for <code>get_Lonly</code>.  Corrected!"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1434750003, "post_id": 30944233, "comment_id": 49929759, "body": "Are you sure that <code>grep</code> invocation does what you want?  It looks like you are mixing shell-style patterns with a regular expression tool.  On my system (and most POSIXish systems), <code>grep &#39;*.x86_64.rpm&#39;</code> looks for a pattern with a literal asterisk in it..."}, {"owner": {"reputation": 37, "user_id": 4577358, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3697d69b26891f9f170cce7e81902f38?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyEd38239", "link": "https://stackoverflow.com/users/4577358/crazyed38239"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1434752294, "post_id": 30944233, "comment_id": 49930497, "body": "@pilcrow: Well, I&#39;m working on that right now. I had to change <code>grep</code> invocation to <code>grep &#39;.*x86_64.rpm&#39;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1434736175, "post_id": 30944310, "comment_id": 49923420, "body": "And the <code>@inst = join &#39;.rpm&#39;, @inst</code> should be changed to <code>s&#47;$&#47;.rpm&#47; for @inst</code> or similar."}, {"owner": {"reputation": 37, "user_id": 4577358, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3697d69b26891f9f170cce7e81902f38?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyEd38239", "link": "https://stackoverflow.com/users/4577358/crazyed38239"}, "edited": false, "score": 0, "creation_date": 1434743753, "post_id": 30944310, "comment_id": 49927114, "body": "@ikegami  Thanks for the help!  I&#39;m going to have to look up what <code>chomp()</code> does, since I have not yet encountered that yet."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1434744716, "post_id": 30944310, "comment_id": 49927612, "body": "Remove the trailing newlines"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1434736475, "last_edit_date": 1434736475, "creation_date": 1434736101, "answer_id": 30944310, "question_id": 30944233, "link": "https://stackoverflow.com/questions/30944233/how-to-get-an-unique-element-from-two-arrays-in-perl/30944310#30944310", "title": "How to get an unique element from two arrays in Perl", "body": "<p><code>@upd</code> contains one element, the exit status of the shell that executed <code>perl test.pl | grep '*.x86_64.rpm'</code>. Similarly, <code>@inst</code> contains one element, the exit status of <code>rpm</code>. Perhaps you were trying to capture the output? Use backticks.</p>\n\n<pre><code>my @upd  = `perl test.pl | grep '*.x86_64.rpm'`;\nchomp(@upd);\n\nmy @inst = `rpm -qa`;\nchomp(@inst);\n</code></pre>\n\n<hr>\n\n<p>Also, the following is incorrect:</p>\n\n<pre><code>@inst = join( '.rpm', @inst);\n</code></pre>\n\n<p>It should be replaced with the following:</p>\n\n<pre><code>$_ .= '.rpm' for @inst;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 4577358, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3697d69b26891f9f170cce7e81902f38?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyEd38239", "link": "https://stackoverflow.com/users/4577358/crazyed38239"}, "edited": false, "score": 0, "creation_date": 1434737475, "post_id": 30944565, "comment_id": 49924103, "body": "I was thinking of some kind of <code>foreach</code> or <code>if</code> statement.  Other answers hinted at some &quot;magical&quot; mode function.  I thought I was misusing or missing a mode."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1434737480, "post_id": 30944565, "comment_id": 49924107, "body": "That&#39;s O(N*M), a  very poor approach. It can be done in O(N+M)"}, {"owner": {"reputation": 49, "user_id": 4965904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8a96e080ae3eda5b2fbc8a3c4efeedf?s=128&d=identicon&r=PG&f=1", "display_name": "ingueni", "link": "https://stackoverflow.com/users/4965904/ingueni"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1434737876, "post_id": 30944565, "comment_id": 49924317, "body": "@ikegami this is true, but how big is your list? i realize this is bestcase=worse, but unless your lists are massive....."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1434738157, "post_id": 30944565, "comment_id": 49924482, "body": "Even for very modest lists of 100 items, we&#39;re talking about 50x more compares. It&#39;s a pretty good bet that List::Compare does it right, so the entire point of your answer it so recommend making the code much worse (seeing as it doesn&#39;t address the OP&#39;s problem at all!)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1434738460, "post_id": 30944565, "comment_id": 49924642, "body": "@ingueni &quot;how big is your list&quot; <code>rpm -qa</code> returns a list of all RPMs installed on a system. On my machine, that&#39;s 596 results. And that&#39;s only one of the OP&#39;s two lists."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1434738481, "post_id": 30944565, "comment_id": 49924649, "body": "910 on the machine of mine that uses <code>rpm</code>. There&#39;s no way to know what the other will return, but I suspect it will be in the same ballpark. So for TSIBN: 360,000 comparions vs 1,200 hash operations (300x more operations). For mine: 810,000 comparions vs 1,800 hash operations (450x more operations)."}, {"owner": {"reputation": 49, "user_id": 4965904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8a96e080ae3eda5b2fbc8a3c4efeedf?s=128&d=identicon&r=PG&f=1", "display_name": "ingueni", "link": "https://stackoverflow.com/users/4965904/ingueni"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1434749499, "post_id": 30944565, "comment_id": 49929610, "body": "@ThisSuitIsBlackNot, so it appears my understanding of smart match was off, it will not perform a comparison of N*M elements"}], "tags": [], "owner": {"reputation": 49, "user_id": 4965904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8a96e080ae3eda5b2fbc8a3c4efeedf?s=128&d=identicon&r=PG&f=1", "display_name": "ingueni", "link": "https://stackoverflow.com/users/4965904/ingueni"}, "is_accepted": false, "score": -3, "last_activity_date": 1434749529, "last_edit_date": 1495542598, "creation_date": 1434737010, "answer_id": 30944565, "question_id": 30944233, "link": "https://stackoverflow.com/questions/30944233/how-to-get-an-unique-element-from-two-arrays-in-perl/30944565#30944565", "title": "How to get an unique element from two arrays in Perl", "body": "<p>Iterate through the list and check each element against every in the second list, if its not in the entire second list push it (or do whatever) to a new array</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse v5.10;\nmy @upd = ('cat', 'dog','mouse', 'fatcatsrul');\nmy @inst = ('cat', 'dog', 'mouse');\nmy @unique_elements_in_upd;\nforeach(@upd)\n{\n    my $key= $_;\n    if(!($key ~~@inst))\n    {\n        push(@unique_elements_in_upd, $key);\n        print $key . \"\\n\";\n    }\n}\n</code></pre>\n\n<p><strong>output: fatcatsrul</strong></p>\n\n<p>check out this\n<a href=\"http://perlmaven.com/smart-matching-in-perl-5.10\" rel=\"nofollow noreferrer\">http://perlmaven.com/smart-matching-in-perl-5.10</a></p>\n\n<p>also check out this comparison\n<a href=\"https://stackoverflow.com/questions/3951812/how-fast-is-perls-smart-match-operator-for-searching-scalar-in-an-array\">How fast is Perl&#39;s smartmatch operator when searching for a scalar in an array?</a></p>\n"}], "owner": {"reputation": 37, "user_id": 4577358, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3697d69b26891f9f170cce7e81902f38?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyEd38239", "link": "https://stackoverflow.com/users/4577358/crazyed38239"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 30944310, "answer_count": 2, "score": 2, "last_activity_date": 1434749529, "creation_date": 1434735793, "question_id": 30944233, "link": "https://stackoverflow.com/questions/30944233/how-to-get-an-unique-element-from-two-arrays-in-perl", "title": "How to get an unique element from two arrays in Perl", "body": "<p>I have tried to get a list of the unique elements in the first array.  (AKA: the elements in the first array that are NOT in the second array.)  However my script returns the <em>number</em> of unique elements not the info in each element.  </p>\n\n<p>As a newbie to Perl, I know there are many nuances to the language.  I have not seen how I am getting a number instead of a list of elements.  The only research I have seen is how to get a number of unique elements and apparently, I have discovered another way. </p>\n\n<p>Any help is appreciated.  Below is the code.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse v5.10;\n\nuse XML:Simple;\nuse LWP::Simple;\nuse List::Compare;\n\nmy @upd = system (\"perl test.pl | grep '*.x86_64.rpm'\");\nmy @inst = system (\"rpm -qa\");\n\n@inst = join( '.rpm', @inst);\n\nmy $ls = List::Compare-&gt;new( {lists=&gt; [\\@upd, \\@inst]} );\nmy @list = $ls-&gt;get_unique;\n@list = $ls-&gt;get_Lonly;\n\nsay \"@list\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1434735596, "post_id": 30944147, "comment_id": 49923121, "body": "On metacpan, you can view all of the source files in a distribution by clicking &quot;Browse&quot;: <a href=\"https://metacpan.org/source/RJBS/perl-5.22.0/ext/I18N-Langinfo\" rel=\"nofollow noreferrer\">metacpan.org/source/RJBS/perl-5.22.0/ext/I18N-Langinfo</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1434736086, "post_id": 30944147, "comment_id": 49923369, "body": "@ThisSuitIsBlackNot Thanks, I missed that!"}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1434735974, "post_id": 30944181, "comment_id": 49923313, "body": "I see, thanks :) good to know. So then there is no source on my local machine? Only on metacpan.org?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1434736256, "post_id": 30944181, "comment_id": 49923465, "body": "I don&#39;t know what&#39;s on your machine, but it&#39;s not installed along with <code>perl</code>. It&#39;s available in far more places than metacpan.org, including in the <a href=\"http://perl5.git.perl.org/perl.git\" rel=\"nofollow noreferrer\">Perl5 Master Repository</a>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1434735890, "last_edit_date": 1434735890, "creation_date": 1434735578, "answer_id": 30944181, "question_id": 30944147, "link": "https://stackoverflow.com/questions/30944147/how-to-find-source-code-of-perl-module-using-xsloader/30944181#30944181", "title": "How to find source code of Perl module using XSLoader?", "body": "<p>In the distribution: <a href=\"https://metacpan.org/source/RJBS/perl-5.22.0/ext/I18N-Langinfo/Langinfo.xs\" rel=\"nofollow\"><code>Langinfo.xs</code></a>. No use installing the source!</p>\n\n<p>I18N::Langinfo's <code>langinfo</code> simply exposes C function <code>nl_langinfo</code>.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 30944181, "answer_count": 1, "score": 1, "last_activity_date": 1434735890, "creation_date": 1434735467, "question_id": 30944147, "link": "https://stackoverflow.com/questions/30944147/how-to-find-source-code-of-perl-module-using-xsloader", "title": "How to find source code of Perl module using XSLoader?", "body": "<p>I would like to view the source code of <a href=\"https://metacpan.org/pod/I18N::Langinfo\" rel=\"nofollow\"><code>I18N::Langinfo</code></a>. If I go to metacpan.org I can find the source at </p>\n\n<p><a href=\"https://metacpan.org/source/RJBS/perl-5.22.0/ext/I18N-Langinfo/Langinfo.pm\" rel=\"nofollow\">https://metacpan.org/source/RJBS/perl-5.22.0/ext/I18N-Langinfo/Langinfo.pm</a></p>\n\n<p>but it is just a wrapper that calls <code>XSLoader::load();</code>. If I type <code>perldoc -l I18N::Langinfo</code> I get <code>/usr/lib/x86_64-linux-gnu/perl/5.20/I18N/Langinfo.pm</code> but this is just the same file as on metacpan.org, and there is no other files in that directory either.</p>\n\n<p>Where is the source code located?</p>\n"}]