[{"tags": ["perl", "expect.pm"], "answers": [{"comments": [{"owner": {"reputation": 3357, "user_id": 580796, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/05c3749b20cd6c607011443ee3b49070?s=128&d=identicon&r=PG", "display_name": "Manidip Sengupta", "link": "https://stackoverflow.com/users/580796/manidip-sengupta"}, "edited": false, "score": 0, "creation_date": 1458235798, "post_id": 36053270, "comment_id": 59781673, "body": "Tried your change, does not work for me. The problem - we never get to your 2nd line. Wondering if this is due to the OS, Perl/Expect versions, etc. I am on OSX El Capitan v10.11.3, Perl 5.22.1, Expect 1.320.0_0. If the solution works for you, do you mind sharing your platform and/or versions. Thank you."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 3357, "user_id": 580796, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/05c3749b20cd6c607011443ee3b49070?s=128&d=identicon&r=PG", "display_name": "Manidip Sengupta", "link": "https://stackoverflow.com/users/580796/manidip-sengupta"}, "edited": false, "score": 0, "creation_date": 1458252270, "post_id": 36053270, "comment_id": 59791126, "body": "OSX 10.10.5, Perl 5.20.1 and Expect 1.32. This works for me."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 1, "last_activity_date": 1458196727, "creation_date": 1458196727, "answer_id": 36053270, "question_id": 36048787, "link": "https://stackoverflow.com/questions/36048787/how-can-expect-get-out-of-infinite-loop-in-a-spawned-process/36053270#36053270", "title": "How can expect get out of infinite loop in a spawned process", "body": "<p>After a timeout you can close the command with a <code>hard_close</code>, (or a <code>soft_close</code> if you need to be nice, and can wait the extra time it uses), to terminate it, and the infinite loop. </p>\n\n<p>Instead of</p>\n\n<pre><code>$ex-&gt;expect (2, $prompt) or die \"\\n$0: Expect timed out for $count\\n\";\n</code></pre>\n\n<p>You can do something like</p>\n\n<pre><code>if (!$ex-&gt;expect(2, $prompt)) {\n    print \"\\n$0: Expect timed out for $count, closing\\n\";\n    $ex-&gt;hard_close();\n}\nelse {\n    print \"\\n$0: Received prompt back from expect\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 3357, "user_id": 580796, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/05c3749b20cd6c607011443ee3b49070?s=128&d=identicon&r=PG", "display_name": "Manidip Sengupta", "link": "https://stackoverflow.com/users/580796/manidip-sengupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504624013, "creation_date": 1458170161, "last_edit_date": 1504624013, "question_id": 36048787, "link": "https://stackoverflow.com/questions/36048787/how-can-expect-get-out-of-infinite-loop-in-a-spawned-process", "title": "How can expect get out of infinite loop in a spawned process", "body": "<p>Let me ask the question with a specific set of example. The 1st code, nlines.pl is as follows:</p>\n\n<pre><code>#!/usr/local/bin/perl\n#########################\n# print Hello world n times with n entered by a prompt\n#########################\n\nuse strict;\nuse Time::HiRes qw(sleep);\n\ndie \"Syntax: $0 &lt;prompt&gt; &lt;time2sleep&gt;\\n\" if ($#ARGV &lt; 1);\nmy $prompt = $ARGV[0] . '&gt; ';\nmy $sleepsec = $ARGV[1];        print \"$0: Timeout interval: $sleepsec\\n\";\nprint $prompt;\nwhile (&lt;STDIN&gt;) {\n        chomp;\n        last unless /\\d+/;\n        my $loopCount = $_;\n        print \"\\n$0: Received request for $loopCount lines\\n\";\n        for (my $count = 0; $count != $loopCount ; $count++) {\n                Time::HiRes::sleep($sleepsec) if ($sleepsec &gt; 0);\n                print \"$0 [$count] Hello world\\n\"\n        }\n        print $prompt\n}\nprint \"Bye bye\\n\";\nexit 0;\n</code></pre>\n\n<p>$ nlines.pl pp 0.2 generates a prompt \"pp> \", and when given an input \"6\", prints \"Hello world\" 6 times, with 0.2 secs time intervals (only if the interval is +ve number). A non-numeric input gets you out of the loop, and a negative number for line count results in an infinite loop. Works fine!</p>\n\n<p>Now, consider the 2nd script - \"expnlines.pl\", as a driver for the script above.</p>\n\n<pre><code>#!/usr/local/bin/perl\n#############################\n# expnlines.pl: driver for nlines.pl\n#############################\n\nuse strict;\nuse Expect;\n\ndie \"Syntax: $0 &lt;Count&gt; &lt;SleepSec&gt;\\n\" if ($#ARGV &lt; 1);\nmy $count = $ARGV[0];\nmy $child = 'nlines.pl';\nmy $prompt = 'CountOfLines';\nmy $ex = Expect-&gt;new;\n$ex-&gt;raw_pty(1);\n$ex-&gt;spawn ($child, $prompt, $ARGV[1]);\n$ex-&gt;expect (1, $prompt) or die \"$0: No prompt from $child\\n\";\nprint \"$0: Sending $count\\n\";\n$ex-&gt;send($count . \"\\n\");\n$ex-&gt;expect (2, $prompt) or die \"\\n$0: Expect timed out for $count\\n\";\nprint \"\\n$0: Received prompt back from expect\\n\";\nexit 0;\n</code></pre>\n\n<p>If we run this as \"expnlines.pl 4 0.2\" it works fine. \"expnlines.pl -1 0.3\" (or whatever else for the timeout) works too. For the -ve # for linecount, the 1st script enters into the infinite loop but is timed out by expect. However, \"expnlines.pl -1 0\" cannot stop the infinite loop (after those 2 seconds), and I cannot figure out how to get expect to interrupt this loop.</p>\n\n<p>Any suggestions? TIA.</p>\n\n<p>Btw, in my real world, I do not have any control over equivalent of the binary for \"nlines.pl\". My script is \"expnlines.pl\", and I am using expect as a driver for the binary, with different arguments. When the child process runs an infinite loop, I need some mechanism to detect and stop it, and I cannot figure out how. Appreciate the responses.</p>\n"}, {"tags": ["perl", "raku", "taint"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5854207"}, "is_accepted": false, "score": 0, "last_activity_date": 1458181635, "creation_date": 1458181635, "answer_id": 36050589, "question_id": 36048450, "link": "https://stackoverflow.com/questions/36048450/does-perl-6-have-a-taint-mode/36050589#36050589", "title": "Does Perl 6 have a taint mode?", "body": "<p>Perl 5 will mark a Scalar container as tainted and that taint may or may not spill into other containers. The reason why it doesn't stick to values put into Arrays is that Perl 5 is using the very same Arrays to keep it's own data around. The performance hit would have been to big to make tainted mode work properly.</p>\n\n<p>As you likely have guess already, tainted mode joined the Dodo. Instead you could use a restricted setting. See the code for <a href=\"https://github.com/perl6/evalbot\" rel=\"nofollow\">Camelia</a> how it's done.</p>\n"}, {"comments": [{"owner": {"reputation": 608, "user_id": 581475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d932dd6d4e96abedb1ac2474ad066de?s=128&d=identicon&r=PG", "display_name": "Coke", "link": "https://stackoverflow.com/users/581475/coke"}, "edited": false, "score": 0, "creation_date": 1480605213, "post_id": 36051901, "comment_id": 69040496, "body": "NYI implies that it will be implemented; I think a better answer is simply &quot;no.&quot;"}, {"owner": {"reputation": 25859, "user_id": 1077672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f8b55b0ade2c4748e94fb73a40662?s=128&d=identicon&r=PG", "display_name": "raiph", "link": "https://stackoverflow.com/users/1077672/raiph"}, "reply_to_user": {"reputation": 608, "user_id": 581475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d932dd6d4e96abedb1ac2474ad066de?s=128&d=identicon&r=PG", "display_name": "Coke", "link": "https://stackoverflow.com/users/581475/coke"}, "edited": false, "score": 0, "creation_date": 1480630052, "post_id": 36051901, "comment_id": 69054695, "body": "Fixed. Thanks @Coke"}], "tags": [], "owner": {"reputation": 25859, "user_id": 1077672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f8b55b0ade2c4748e94fb73a40662?s=128&d=identicon&r=PG", "display_name": "raiph", "link": "https://stackoverflow.com/users/1077672/raiph"}, "is_accepted": false, "score": 5, "last_activity_date": 1480629994, "last_edit_date": 1480629994, "creation_date": 1458190150, "answer_id": 36051901, "question_id": 36048450, "link": "https://stackoverflow.com/questions/36048450/does-perl-6-have-a-taint-mode/36051901#36051901", "title": "Does Perl 6 have a taint mode?", "body": "<p>No.</p>\n\n<p>Such a feature is <a href=\"https://encrypted.google.com/search?ie=UTF-8&amp;oe=UTF-8&amp;domains=perlcabal.org&amp;sitesearch=perlcabal.org%2Fsyn%2F&amp;q=taint&amp;btnG=Google+Search+the+Synopses\" rel=\"nofollow noreferrer\">briefly mentioned in design docs</a>. The suggestion is introduction of a <code>taint</code> <a href=\"https://doc.perl6.org/language/functions#Traits\" rel=\"nofollow noreferrer\">trait</a>.</p>\n\n<p>You can see the latest comments by Larry Wall about this (and any other topic) by searching the #perl6 logs. <a href=\"http://irclog.perlgeek.de/perl6/search/?nick=TimToady&amp;q=taint\" rel=\"nofollow noreferrer\">Mentions of 'taint' by TimToady</a> reveal <a href=\"http://irclog.perlgeek.de/perl6/2015-12-17#i_11735389\" rel=\"nofollow noreferrer\">\"we have no tainting mechanism yet to prevent abuse\"</a> in December.</p>\n"}], "owner": {"reputation": 3045, "user_id": 951615, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/32f59de3e1040fae90a803448e43316f?s=128&d=identicon&r=PG", "display_name": "smith", "link": "https://stackoverflow.com/users/951615/smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1480629994, "creation_date": 1458168583, "last_edit_date": 1480416561, "question_id": 36048450, "link": "https://stackoverflow.com/questions/36048450/does-perl-6-have-a-taint-mode", "title": "Does Perl 6 have a taint mode?", "body": "<p>Perl 5 supports taint mode with the -T switch. The script will internally mark any value that is retrieved from a source external to the script as tainted which should be untainted. Does Perl 6 support such an option?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1458161881, "post_id": 36045803, "comment_id": 59742146, "body": "sounds like a job for <a href=\"https://metacpan.org/pod/File::Find\" rel=\"nofollow noreferrer\">File::Find</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "edited": false, "score": 0, "creation_date": 1458182906, "post_id": 36048005, "comment_id": 59749838, "body": "Thanks a lot, but is there anyway through which I can list the full path of the file, not just <code>.&#47;Main_dir&#47;sub1_dir&#47;sub1.name.txt?</code> for example, if user executes the script from ./Main_dir which is located in - /usr/bin/local/Main_dir, can the list of file look like /usr/bin/local/Main_dir/sub1_dir/sub1.name.txt? Thanks!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "edited": false, "score": 0, "creation_date": 1458184730, "post_id": 36048005, "comment_id": 59750263, "body": "@B_perl: You could use <code>rel2abs</code> from <code>File::Spec::Functions</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1458166600, "creation_date": 1458166600, "answer_id": 36048005, "question_id": 36045803, "link": "https://stackoverflow.com/questions/36045803/error-for-all-subdirectories-under-a-main-dir-create-a-list-of-files-within/36048005#36048005", "title": "Error - For all subdirectories under a main dir - create a list of files within each subdirectory", "body": "<p>I think you want</p>\n\n<pre><code>my @files = glob './Main_dir/*/*.txt'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "edited": false, "score": 0, "creation_date": 1458189807, "post_id": 36051548, "comment_id": 59751581, "body": "Thanks @dasgar - I tried this, but i am getting an error -` Use of uninitialized value in method lookup at list_file_v3.pl line 13. Can&#39;t locate method File::Find::Rule:: at list_file_v3.pl line 13, which is <code>$rule-&gt; $file</code>;. I tried the script after removing this line and it lists everything in the main directory ( including all subdirectories). How can I create a list within each subdirectory with just files inside it."}, {"owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "reply_to_user": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "edited": false, "score": 0, "creation_date": 1458191044, "post_id": 36051548, "comment_id": 59752009, "body": "That&#39;s because I had a typo.  Change <code>$rule-&gt;$file;</code> to be <code>$rule-&gt;file;</code>.  I had an extra sigil that didn&#39;t belong.  I apologize for that."}, {"owner": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "edited": false, "score": 0, "creation_date": 1458191325, "post_id": 36051548, "comment_id": 59752127, "body": "Thanks a lot! it works now, should i loop over each subdirectory inorder to create a list file within each subdirectory? As this results in one list with all files from all subdirectories. thanks!"}, {"owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "reply_to_user": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "edited": false, "score": 0, "creation_date": 1458192140, "post_id": 36051548, "comment_id": 59752406, "body": "Rather than trying to write the code for you, I was basically trying to share one module that could help you out.  If were to write the code for you, I would be asking for more details (what does the full file/directory - such as how many levels of subdirectories and are there subdirectories that need to be ignored, what are you trying to do with file list, etc.).  One route that you could do is to use File::Find::Rule to find the list of subdirectories.  Then loop over that list to find the files in each subdirectories."}, {"owner": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "edited": false, "score": 0, "creation_date": 1458193391, "post_id": 36051548, "comment_id": 59752839, "body": "yes dasgar, thanks for sharing the code, I am iterating over sub dirs using opener and reader and then using your code. I was just trying to use/seek a different approach of using pattern match for subfolder names like sub_dir1, sub_dir2.But, I will stick with this approach as it solves the purpose."}, {"owner": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "edited": false, "score": 0, "creation_date": 1458249287, "post_id": 36051548, "comment_id": 59789730, "body": "Hi @dasgar, I was able to run the script and create a list file for each subdirectory, but I have just one small error - My script reads the ./Maindir in the directory array as well, apart from all the subdirectories inside it. Is there a way to not read the ./Maindir in <code>File::Find::Rule-&gt;directory-&gt;in( $directory );</code> but all subsequent /.. directories? Thanks a lot!"}], "tags": [], "owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "is_accepted": false, "score": 0, "last_activity_date": 1458191201, "last_edit_date": 1458191201, "creation_date": 1458188039, "answer_id": 36051548, "question_id": 36045803, "link": "https://stackoverflow.com/questions/36045803/error-for-all-subdirectories-under-a-main-dir-create-a-list-of-files-within/36051548#36051548", "title": "Error - For all subdirectories under a main dir - create a list of files within each subdirectory", "body": "<p>As someone else suggested, <a href=\"https://metacpan.org/pod/File::Find\" rel=\"nofollow\">File::Find</a> is a useful module for this type of task.  Personally, I prefer to use <a href=\"https://metacpan.org/pod/File::Find::Rule\" rel=\"nofollow\">File::Find::Rule</a> instead.  Basically File::Find:Rule provides an alternate interface to the File::Find module.</p>\n\n<p>Here's an example using File::Find::Rule to find all files (with full paths) within a directory (and within it's subdirectories):</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse feature 'say';\n\nuse File::Find::Rule;\n\nmy $dir = '/mydir';\nmy $rule = File::Find::Rule-&gt;new();\n$rule-&gt;$file;\nmy @files = $rule-&gt;in($dir);\n\nforeach my $file (@files) {say $file;}\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>The above code has a typo.  The <code>$rule-&gt;$file;</code> line should be <code>$rule-&gt;file;</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1458234878, "creation_date": 1458158417, "last_edit_date": 1458234878, "question_id": 36045803, "link": "https://stackoverflow.com/questions/36045803/error-for-all-subdirectories-under-a-main-dir-create-a-list-of-files-within", "title": "Error - For all subdirectories under a main dir - create a list of files within each subdirectory", "body": "<p>I am trying to generate individual list of files inside each subdirectory under one given directory. This may be an already addressed and resolved problem, but my specific issue is that my sub directories will always have a pattern in name and also have exact number files for eg - </p>\n\n<pre><code> &lt;**Main_Dir**&gt;\n\n&lt;sub-directory&gt;- sub1_dir with files \n    sub1.name.txt\n    sub1.place.txt\n    sub3.time.txt\n    sub4.date.txt\n\n&lt;sub-directory&gt;- sub2_dir with files \n    sub2.name.txt\n    sub2.place.txt\n   ..............\n\n&lt;sub-directory&gt;- sub3_dir with files \n        sub3.name.txt\n       ...............\n       .......\n</code></pre>\n\n<p>Is there a way to make the code loop over each sub* subfolder, since I know the pattern/name for these main folders will remain like this? \nIn short the script should create a file under each subdirectory with list of files in it. </p>\n\n<p>Eg - </p>\n\n<pre><code>&lt;sub-directory&gt;- sub1_dir with files \n        List_sub1_dir.txt\n        sub1.name.txt\n       ..............\n&lt;sub-directory&gt;- sub2_dir with files \n        List_sub2_dir.txt\n      ...............\n</code></pre>\n\n<p><strong>My edited code</strong> -  <strong>It does not create any list file in the subfolder</strong> Can someone please help me find the error? Thanks a lot!! </p>\n\n<pre><code>    use strict;\nuse warnings;\n\nuse File::Find::Rule;\nmy $directory = './Maindir';\n\nmy @subdirs = File::Find::Rule-&gt;directory-&gt;in( $directory );\n\nforeach my $dir (@subdirs) {\n        #print \"$dir\\n\";\n        next if ($dir eq \"..\");\n\n        if (-d $dir)\n        {\n        my @files = File::Find::Rule-&gt;file() -&gt;name( '*.*' ) -&gt;in( $di\n+r);\n\n        foreach my $file (@files)\n                {\n        open (FH,\"$file\");\n\n\n        while (&lt;FH&gt;)\n        {\n        open FILE,\"&gt;&gt;./$dir.txt\" or die $!;\n        print FILE \"$_\";\n        }\n        close(FH);\n        close FILE;\n\n        #print  \"$file\\n\";\n\n                }\n\n\n        }\n</code></pre>\n"}, {"tags": ["string", "perl", "compare", "string-comparison"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1458161692, "post_id": 36045008, "comment_id": 59742032, "body": "<code>diff -u0 &lt;(sort file1) &lt;(sort file2)</code>  or <code>comm -3 &lt;(sort file1) &lt;(sort file2)</code>"}, {"owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1458164158, "post_id": 36045008, "comment_id": 59743373, "body": "@ysth  Both commands are cute, but you&#39;d need to squeeze some sed filter in to eliminate the difference caused by &quot;=&quot; and &quot;==&quot;. And the reporting isn&#39;t perfect."}], "answers": [{"tags": [], "owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "is_accepted": false, "score": 0, "last_activity_date": 1458157923, "creation_date": 1458157923, "answer_id": 36045667, "question_id": 36045008, "link": "https://stackoverflow.com/questions/36045008/string-comparison/36045667#36045667", "title": "String comparison", "body": "<p>An uninspired solution: put keys and values into two hashes and compare them.</p>\n\n<pre><code>sub f2h {\n  my( $hr, $path ) = @_;    \n  open FILE, $path or die \"$path: couldn't open: $!\";\n  while( my $line = &lt;FILE&gt; ){\n    $line =~ s/\\s+$//;   # there are trailing spaces in your data\n    my( $key, $val ) = split( /==?/, $line );\n    $hr-&gt;{$key} = $val;\n  }\n  close FILE;\n}\n\nmy %h1;\nmy %h2;\nf2h( \\%h1, \"file1.dat\" );\nf2h( \\%h2, \"file2.dat\" );\nwhile( my( $k, $v ) = each %h1 ){\n  if( exists( $h2{$k} ) ){\n    print \"different $k\\n\" if $h2{$k} ne $v;\n  } else {\n    print \"$k missing in 2\\n\";\n  }\n}\nwhile( my( $k, $v ) = each %h2 ){\n  print \"$k missing in 1\\n\" unless exists $h1{$k};\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467889737, "last_edit_date": 1467889737, "creation_date": 1458177714, "answer_id": 36050021, "question_id": 36045008, "link": "https://stackoverflow.com/questions/36045008/string-comparison/36050021#36050021", "title": "String comparison", "body": "<p>I suggest you make use of the <a href=\"https://p3rl.org/Data::Diff\" rel=\"nofollow\"><code>Data::Diff</code></a> module</p>\n\n<p>It returns a reference to a hash containing a summary of the differences between the parameters. The keys are</p>\n\n<ul>\n<li><code>same</code> \u2014 elements that are the same in both cases</li>\n<li><code>diff</code> \u2014 elements that have a different value for a given key</li>\n<li><code>uniq_a</code> and <code>uniq_b</code> \u2014 elements that appear in only one structure or the other</li>\n</ul>\n\n<p><br/></p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse autodie;\n\nuse Data::Dump;\nuse Data::Diff 'Diff';\n\nmy %f1 = do {\n    open my $fh, '&lt;', 'file1.txt';\n    map { s/\\s+\\z//; split /=+/, $_, 2 } &lt;$fh&gt;;\n};\n\nmy %f2 = do {\n    open my $fh, '&lt;', 'file2.txt';\n    map { s/\\s+\\z//; split /=+/, $_, 2 } &lt;$fh&gt;;\n};\n\nmy $diff = Diff(\\(%f1, %f2));\ndd $diff;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\n  diff   =&gt; {\n              \"LOSS_USERCURVE_INDEX_OFFSET[\\\\\\\"GRPY\\\\\\\"]\" =&gt; { diff_a =&gt; \"BY_LOAN_AGE\", diff_b =&gt; \"BY_DEAL_AGE\", type =&gt; \"\" },\n            },\n  same   =&gt; {\n              \"LOSS_NONPERF_ADV_PCT_I[\\\\\\\"GRPY\\\\\\\"]\"  =&gt; { same =&gt; 0, type =&gt; \"\" },\n              \"LOSS_NONPERF_ADV_PCT_P[\\\\\\\"GRPY\\\\\\\"]\"  =&gt; { same =&gt; 0, type =&gt; \"\" },\n              \"LOSS_UNITS[\\\\\\\"GRPY\\\\\\\"]\"              =&gt; { same =&gt; \"CDR\", type =&gt; \"\" },\n              \"LOSS_USERCURVE_TYPE[\\\\\\\"GRPY\\\\\\\"]\"     =&gt; { same =&gt; \"PCT_MULTIPLY\", type =&gt; \"\" },\n              \"SEVERITY_USERCURVE_TYPE[\\\\\\\"GRPY\\\\\\\"]\" =&gt; { same =&gt; \"NONE\", type =&gt; \"\" },\n            },\n  type   =&gt; \"HASH\",\n  uniq_a =&gt; { \"LOSS_RATE[\\\\\\\"GRPY\\\\\\\"]\" =&gt; 100 },\n  uniq_b =&gt; { \"LOSS_SEVERITY[\\\\\\\"GRPY\\\\\\\"]\" =&gt; 31.73 },\n}\n</code></pre>\n"}], "owner": {"reputation": 626, "user_id": 781700, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3a14422146baa976de19fe6870b8b35b?s=128&d=identicon&r=PG", "display_name": "user781700", "link": "https://stackoverflow.com/users/781700/user781700"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 36050021, "answer_count": 2, "score": -1, "last_activity_date": 1467889737, "creation_date": 1458155776, "last_edit_date": 1592644375, "question_id": 36045008, "link": "https://stackoverflow.com/questions/36045008/string-comparison", "title": "String comparison", "body": "<p>I have two file generated from IntexCalc and Intex API, and I want to compare their content. I do not want to compare line by line. Below example will give more detail about it.</p>\n<h3>File 1</h3>\n<pre><code>LOSS_UNITS[\\&quot;GRPY\\&quot;]==CDR  \nLOSS_USERCURVE_TYPE[\\&quot;GRPY\\&quot;]==PCT_MULTIPLY  \nLOSS_USERCURVE_INDEX_OFFSET[\\&quot;GRPY\\&quot;]==BY_LOAN_AGE  \nLOSS_RATE[\\&quot;GRPY\\&quot;]==100  \nLOSS_NONPERF_ADV_PCT_P[\\&quot;GRPY\\&quot;]==0  \nLOSS_NONPERF_ADV_PCT_I[\\&quot;GRPY\\&quot;]==0  \nSEVERITY_USERCURVE_TYPE[\\&quot;GRPY\\&quot;]==NONE  \n</code></pre>\n<h3>File 2</h3>\n<pre><code>LOSS_USERCURVE_TYPE[\\&quot;GRPY\\&quot;]=PCT_MULTIPLY  \nLOSS_NONPERF_ADV_PCT_P[\\&quot;GRPY\\&quot;]=0  \nLOSS_UNITS[\\&quot;GRPY\\&quot;]=CDR  \nLOSS_NONPERF_ADV_PCT_I[\\&quot;GRPY\\&quot;]=0  \nSEVERITY_USERCURVE_TYPE[\\&quot;GRPY\\&quot;]=NONE  \nLOSS_SEVERITY[\\&quot;GRPY\\&quot;]=31.73  \nLOSS_USERCURVE_INDEX_OFFSET[\\&quot;GRPY\\&quot;]=BY_DEAL_AGE  \n</code></pre>\n<ol>\n<li><p>I want to compare the <code>LOSS_UNITS[\\&quot;GRPY\\&quot;]</code> flag value from both files. In both files their value after =/== is the same regardless of their position in file, so this flag value is equal.</p>\n</li>\n<li><p>The flag value of <code>LOSS_USERCURVE_INDEX_OFFSET[\\&quot;GRPY\\&quot;]</code> in File 1 is <code>BY_LOAN_AGE</code> and in File 2 is <code>BY_DEAL_AGE</code>, so this flag value is different.</p>\n</li>\n<li><p>The flag <code>LOSS_RATE[\\&quot;GRPY\\&quot;]</code> is present only in File 1 so this is a difference</p>\n</li>\n<li><p>The flag <code>LOSS_SEVERITY[\\&quot;GRPY\\&quot;]</code> is present only in File 2 so this is also a difference.</p>\n</li>\n</ol>\n<p>What is the best way or tool to compare this kind of file structure?</p>\n"}, {"tags": ["perl", "xslt", "xml-libxml"], "answers": [{"tags": [], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "is_accepted": true, "score": 1, "last_activity_date": 1458157424, "creation_date": 1458157424, "answer_id": 36045519, "question_id": 36043382, "link": "https://stackoverflow.com/questions/36043382/unable-to-parse-xml-file-using-registered-namespace/36045519#36045519", "title": "unable to parse xml file using registered namespace", "body": "<p>This would be my approach</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse XML::LibXML;\n\nmy $XML=&lt;&lt;EOF;\n&lt;DataSet xmlns=\"http://www.w3schools.com\" xmlns:xsi=\"https://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.w3schools.com note.xsd\"&gt;\n    &lt;exec&gt;\n        &lt;survey_region ver=\"1.1\" type=\"x789\" date=\"20160312\"/&gt;\n        &lt;survey_loc ver=\"1.1\" type=\"x789\" date=\"20160312\"/&gt;\n        &lt;note&gt;Population survey&lt;/note&gt;\n    &lt;/exec&gt;\n    &lt;country name=\"ABC\" type=\"MALE\"&gt;\n        &lt;state name=\"ABC_state1\" result=\"PASS\"&gt;\n            &lt;info&gt;\n                &lt;type&gt;literacy rate comparison&lt;/type&gt;\n            &lt;/info&gt;\n            &lt;comment&gt;&lt;![CDATA[\nSome random text\ncontained here\n]]&gt;&lt;/comment&gt;\n        &lt;/state&gt;\n    &lt;/country&gt;\n    &lt;country name=\"XYZ\" type=\"MALE\"&gt;\n        &lt;state name=\"XYZ_state2\" result=\"FAIL\"&gt;\n            &lt;info&gt;\n                &lt;type&gt;literacy rate comparison&lt;/type&gt;\n            &lt;/info&gt;\n            &lt;comment&gt;&lt;![CDATA[\nany random text data\n]]&gt;&lt;/comment&gt;\n        &lt;/state&gt;\n    &lt;/country&gt;\n&lt;/DataSet&gt;\nEOF\n\n\nmy $parser = XML::LibXML-&gt;new();\nmy $tree = $parser-&gt;parse_string($XML);\nmy $root = $tree-&gt;getDocumentElement;\nmy @country = $root-&gt;getElementsByTagName('country');\n\n\nforeach my $citem(@country){\n    my $country_name = $citem-&gt;getAttribute('name');\n    my $country_type = $citem-&gt;getAttribute('type');\n    print \"Country Name -- $country_name\\nCountry Type -- $country_type\\n\";\n    my @state = $citem-&gt;getElementsByTagName('state');\n    foreach my $sitem(@state){\n        my @info = $sitem-&gt;getElementsByTagName('info');\n        my $state_name = $sitem-&gt;getAttribute('name');\n        my $state_result = $sitem-&gt;getAttribute('result');\n        print \"State Name -- $state_name\\nState Result -- $state_result\\n\";\n        foreach my $i (@info){\n            my $text = $i-&gt;getElementsByTagName('type');\n            print \"Info --- $text\\n\";\n        }\n    }\n    print \"\\n\";\n}\n</code></pre>\n\n<p>Of course you can manipulate the data anyway you'd like.  If you are parsing from a file change <b>parse_string</b> to <b>parse_file</b>.</p>\n\n<p>For the individual elements in the xml use the <strong>getElementsByTagName</strong> to get the elements within the tags.  This should be enough to get you going</p>\n"}, {"comments": [{"owner": {"reputation": 990, "user_id": 1878947, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/68adee7288f257bb5a2b1696be17042c?s=128&d=identicon&r=PG", "display_name": "chidori", "link": "https://stackoverflow.com/users/1878947/chidori"}, "edited": false, "score": 0, "creation_date": 1458182227, "post_id": 36045528, "comment_id": 59749660, "body": "If I remove the registered namespace and try using my same code it seems to work. Can you please help me understand the difference. Have updated the code in my question."}], "tags": [], "owner": {"reputation": 9326, "user_id": 2115381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08e9c37fb930fc49aa27f35d6b85238a?s=128&d=identicon&r=PG", "display_name": "hr_117", "link": "https://stackoverflow.com/users/2115381/hr-117"}, "is_accepted": false, "score": 1, "last_activity_date": 1458207971, "last_edit_date": 1458207971, "creation_date": 1458157461, "answer_id": 36045528, "question_id": 36043382, "link": "https://stackoverflow.com/questions/36043382/unable-to-parse-xml-file-using-registered-namespace/36045528#36045528", "title": "unable to parse xml file using registered namespace", "body": "<p>There seem to be two small mistakes here.<br>\n1. call findvalue for the XPathContext document with the context node as parameter.<br>\n2. name is a attribute  in country no a node.</p>\n\n<p>Therefor try :</p>\n\n<pre><code>   my $country_name = $xc-&gt;findvalue('./x:country/@name', $camelid );\n</code></pre>\n\n<p><strong>Update</strong>  to the updated question <em>if I remove the name space from XML and change my XPath slightly it seems to work. Can someone help me understand the difference.</em></p>\n\n<p>To understand what happens here have a look to <a href=\"http://search.cpan.org/dist/XML-LibXML/lib/XML/LibXML/Node.pod\" rel=\"nofollow\">NOTE ON NAMESPACES AND XPATH</a></p>\n\n<p>In your case  <code>$camelid-&gt;findvalue('./x:state/@name');</code> calls findvalue is called for an  node. </p>\n\n<p>But: <em>The recommended way is to use the XML::LibXML::XPathContext module to define an explicit context for XPath evaluation, in which a document independent prefix-to-namespace mapping can be defined.</em> Which I did above. </p>\n\n<p><strong>Conclusion:</strong>\nCalling find on a node will only work: <strong>if the root element  had no namespace</strong><br>\n(or if you use the same prefix as in the xml doucment if ther is any)</p>\n"}], "owner": {"reputation": 990, "user_id": 1878947, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/68adee7288f257bb5a2b1696be17042c?s=128&d=identicon&r=PG", "display_name": "chidori", "link": "https://stackoverflow.com/users/1878947/chidori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 36045519, "answer_count": 2, "score": 0, "last_activity_date": 1458207971, "creation_date": 1458150975, "last_edit_date": 1458182149, "question_id": 36043382, "link": "https://stackoverflow.com/questions/36043382/unable-to-parse-xml-file-using-registered-namespace", "title": "unable to parse xml file using registered namespace", "body": "<p>I am using <code>XML::LibXML</code> to parse a XML file. There seems to some problem in using registered namespace while accessing the node elements. I am planning to covert this xml data into CSV file. I am trying to access each and every element here. To start with I tried out extracting attribute values of <code>&lt;country&gt;</code> and <code>&lt;state&gt;</code> tags. Below is the code I have come with . But I am getting error saying <code>XPath error : Undefined namespace prefix</code>. </p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\nuse XML::LibXML;\n\nmy $XML=&lt;&lt;EOF;\n&lt;DataSet xmlns=\"http://www.w3schools.com\" xmlns:xsi=\"https://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.w3schools.com note.xsd\"&gt;\n    &lt;exec&gt;\n        &lt;survey_region ver=\"1.1\" type=\"x789\" date=\"20160312\"/&gt;\n        &lt;survey_loc ver=\"1.1\" type=\"x789\" date=\"20160312\"/&gt;\n        &lt;note&gt;Population survey&lt;/note&gt;\n    &lt;/exec&gt;\n    &lt;country name=\"ABC\" type=\"MALE\"&gt;\n        &lt;state name=\"ABC_state1\" result=\"PASS\"&gt;\n            &lt;info&gt;\n                &lt;type&gt;literacy rate comparison&lt;/type&gt;\n            &lt;/info&gt;\n            &lt;comment&gt;&lt;![CDATA[\nSome random text\ncontained here\n]]&gt;&lt;/comment&gt;\n        &lt;/state&gt;\n    &lt;/country&gt;\n    &lt;country name=\"XYZ\" type=\"MALE\"&gt;\n        &lt;state name=\"XYZ_state2\" result=\"FAIL\"&gt;\n            &lt;info&gt;\n                &lt;type&gt;literacy rate comparison&lt;/type&gt;\n            &lt;/info&gt;\n            &lt;comment&gt;&lt;![CDATA[\nany random text data\n]]&gt;&lt;/comment&gt;\n        &lt;/state&gt;\n    &lt;/country&gt;\n&lt;/DataSet&gt;\nEOF\n\n\n\n\nmy $parser = XML::LibXML-&gt;new();\nmy $doc  = $parser-&gt;parse_string($XML);\n\n\nmy $xc     = XML::LibXML::XPathContext-&gt;new($doc);\n$xc-&gt;registerNs('x','http://www.w3schools.com');\n\n\n\nforeach my $camelid ($xc-&gt;findnodes('//x:DataSet')) {\n\n    my $country_name = $camelid-&gt;findvalue('./x:country/@name');\n    my $country_type = $camelid-&gt;findvalue('./x:country/@type');\n\n    my $state_name =  $camelid-&gt;findvalue('./x:state/@name');\n    my $state_result =  $camelid-&gt;findvalue('./x:state/@result');\n    print \"state_name ($state_name)\\n\";\n    print \"state_result ($state_result)\\n\";\n    print \"country_name ($country_name)\\n\";\n    print \"country_type ($country_type)\\n\";\n}\n</code></pre>\n\n<p><strong>Update</strong>\nif I remove the name space from XML and change my XPath slightly it seems to work. Can someone help me understand the difference.</p>\n\n<pre><code>foreach my $camelid ($xc-&gt;findnodes('//DataSet')) {\n    my $country_name = $camelid-&gt;findvalue('./country/@name');\n    my $country_type = $camelid-&gt;findvalue('./country/@type');\n\n    my $state_name =  $camelid-&gt;findvalue('./country/state/@name');\n    my $state_result =  $camelid-&gt;findvalue('./country/state/@result');\n    print \"state_name ($state_name)\\n\";\n    print \"state_result ($state_result)\\n\";\n    print \"country_name ($country_name)\\n\";\n    print \"country_type ($country_type)\\n\";\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 1, "creation_date": 1458149319, "post_id": 36042813, "comment_id": 59734506, "body": "What do you want to do if the text is <code>blah blah (soups (up))</code>?  Doing this correctly involves counting open and close parentheses, which is hard (if not impossible) to do with regular expressions."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1458149385, "post_id": 36042813, "comment_id": 59734549, "body": "@JimGarrison good point, anything including sub brackets within the brackets should go"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 1, "creation_date": 1458149480, "post_id": 36042813, "comment_id": 59734608, "body": "I haven&#39;t kept up with the very latest bells &amp; whistles in Perl regex, so there might be some recent feature for this. However, recursively nested parentheses do not define a &quot;regular language&quot; that is parseable using regex."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1458149607, "post_id": 36042813, "comment_id": 59734691, "body": "Also, what happens if there is an unmatched parenthesis, or one contained in quotes (are quotes special too)? I.e. the string <code>Bracket chars are &quot;(&quot; and &quot;)&quot;</code>.  I suspect you <i>don&#39;t</i> want to end up with <code>Bracket chars are &quot;&quot;</code>.  In other words, this is a grammar/parsing problem and is much more complex than simple replacement."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 1, "creation_date": 1458149998, "post_id": 36042813, "comment_id": 59734976, "body": "@JimGarrison Perl has supported <a href=\"http://perldoc.perl.org/perlre.html#%28%3f_PARNO_%29-%28%3f-_PARNO_%29-%28%3f%2b_PARNO_%29-%28%3fR%29-%28%3f0%29\" rel=\"nofollow noreferrer\">recursive regexes</a> since 5.10.0."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1458150273, "post_id": 36042813, "comment_id": 59735168, "body": "Does it also support correctly parsing quoted strings, embedded escaped quotes, etc. etc.  Assuming the OP confirms no need to parse quotes or escapes then I agree a recursive regex is appropriate.  I&#39;m trying to point out that the OP hasn&#39;t considered even a small fraction of the possibilities and beyond a certain level of complexity regex is the wrong tool."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 1, "creation_date": 1458150327, "post_id": 36042813, "comment_id": 59735204, "body": "@Dr.Avalanche To get an answer you are going to have to better specify the grammar of the strings you want to process."}], "answers": [{"comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1458150585, "post_id": 36043207, "comment_id": 59735352, "body": "thanks for the answer. I thought the question mark was matching anything within the range, e.g. between the brackets."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1458150651, "post_id": 36043207, "comment_id": 59735392, "body": "@Dr.Avalanche Brackets in a regex don&#39;t match literal brackets in the string. <code>&#47;^(foo)&#47;</code> does not match the text <code>(foo)</code>, while it does match the text <code>foo</code> (and additionally stores <code>foo</code> in <code>$1</code>)."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458150771, "post_id": 36043207, "comment_id": 59735473, "body": "@ThisSuitIsBlackNot running the above code in a test suite seems to be working so far for removing brackets and anything in between."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1458151162, "post_id": 36043207, "comment_id": 59735695, "body": "This does not handle nested parens.  <code>&quot;blah blah (soups up (tomato!) )&quot;</code> becomes <code>blah blah  )</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1458151405, "post_id": 36043207, "comment_id": 59735858, "body": "@Dr.Avalanche You haven&#39;t shown the code for your test suite, so I can&#39;t tell you why you&#39;re seeing that. I can tell you that unescaped brackets in a regex do not match literal brackets in the search string: <code>perl -E&#39;say &quot;match&quot; if &quot;(foo)&quot; =~ &#47;^(foo)&#47;&#39;</code>. Also see <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perlretut</a>: &quot;...not all characters can be used &#39;as is&#39; in a match. Some characters, called metacharacters, are reserved for use in regexp notation. The metacharacters are <code>{}[]()^$.|*+?\\</code> ...a metacharacter can be matched by putting a backslash before it...&quot;"}, {"owner": {"reputation": 66, "user_id": 1569659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/537b03db2bfb4ca8d2023b5911cf32f1?s=128&d=identicon&r=PG", "display_name": "heyhey2k", "link": "https://stackoverflow.com/users/1569659/heyhey2k"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1458151965, "post_id": 36043207, "comment_id": 59736184, "body": "@Schwern - I edited the question mark out of my response to deal with nested parens. The question mark would make the match non-greedy, but it sounds like in this case we want to match up to and including the last paren."}, {"owner": {"reputation": 66, "user_id": 1569659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/537b03db2bfb4ca8d2023b5911cf32f1?s=128&d=identicon&r=PG", "display_name": "heyhey2k", "link": "https://stackoverflow.com/users/1569659/heyhey2k"}, "edited": false, "score": 0, "creation_date": 1458152034, "post_id": 36043207, "comment_id": 59736236, "body": "More info on greedy and non-greedy matches here: <a href=\"http://www.ultraedit.com/support/tutorials_power_tips/ultraedit/non-greedy-perl-regex.html\" rel=\"nofollow noreferrer\">ultraedit.com/support/tutorials_power_tips/ultraedit/&hellip;</a>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1458152407, "post_id": 36043207, "comment_id": 59736459, "body": "@heyhey2k That kinda makes it worse. It&#39;s going to capture everything between the first <code>(</code> and the last <code>)</code>. For example, <code>out1 (in1) out2 (in2)</code> will return just <code>out1 </code> when it should return <code>out1  out2 </code>. The regex needs to take balancing into account."}, {"owner": {"reputation": 66, "user_id": 1569659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/537b03db2bfb4ca8d2023b5911cf32f1?s=128&d=identicon&r=PG", "display_name": "heyhey2k", "link": "https://stackoverflow.com/users/1569659/heyhey2k"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1458156104, "post_id": 36043207, "comment_id": 59738653, "body": "@Schwern - Point taken, but it wasn&#39;t clear from the question that these cases needed to be taken into account."}], "tags": [], "owner": {"reputation": 66, "user_id": 1569659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/537b03db2bfb4ca8d2023b5911cf32f1?s=128&d=identicon&r=PG", "display_name": "heyhey2k", "link": "https://stackoverflow.com/users/1569659/heyhey2k"}, "is_accepted": false, "score": 0, "last_activity_date": 1458151791, "last_edit_date": 1458151791, "creation_date": 1458150502, "answer_id": 36043207, "question_id": 36042813, "link": "https://stackoverflow.com/questions/36042813/perl-remove-text-within-characters/36043207#36043207", "title": "Perl remove text within () characters", "body": "<p>Well the first thing to note in the most simple case, if you aren't yet worried about some of the edge cases mentioned above, is that the bracket characters are also used for grouping and backreferences in regexes. So you'll need to escape them in your match statement like so:</p>\n\n<blockquote>\n  <p>$desc =~ s/\\(.*\\)//gs;</p>\n</blockquote>\n\n<p>Here's some more info on the topic:\n<a href=\"http://perlmeme.org/faqs/regexp/metachar_regexp.html\" rel=\"nofollow\">http://perlmeme.org/faqs/regexp/metachar_regexp.html</a></p>\n\n<p>Second question: What are you intending to do with the question mark in the match? The '*' will match from 0-n occurrences of the previous character, so I'm not sure the '?' is going to do much here.</p>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 4, "last_activity_date": 1458152537, "last_edit_date": 1458152537, "creation_date": 1458150790, "answer_id": 36043315, "question_id": 36042813, "link": "https://stackoverflow.com/questions/36042813/perl-remove-text-within-characters/36043315#36043315", "title": "Perl remove text within () characters", "body": "<p>Matching balanced text is a classic hard regex problem.  For example, how do you deal with <code>keep (remove) keep (remove)</code>?  Fortunately it's gotten much easier.  <a href=\"http://perldoc.perl.org/perlfaq4.html#How-do-I-find-matching%2fnesting-anything%3f\" rel=\"nofollow\">perlfaq4 covers it</a>.  You have two choices.</p>\n\n<p>First is to use recursive regexes introduced in 5.10.  <code>(?R)</code> says to recurse the whole pattern.</p>\n\n<pre><code>m{\n    \\(                        # Open paren\n       (?&gt;\n           [^()]   |          # No nested parens OR\n           (?R)               # Recurse to check for balanced parens\n       )*\n    \\)                        # Close paren\n }x;\n</code></pre>\n\n<p>However, this doesn't deal with escapes like <code>(this is \\) all in parens)</code>.</p>\n\n<p>Rather than go into the regex contortions necessary to handle escapes, use a module to build that regex for you.  <a href=\"https://metacpan.org/pod/Regexp::Common::balanced\" rel=\"nofollow\">Regexp::Common::balanced</a> and <a href=\"https://metacpan.org/pod/Regexp::Common::delimited\" rel=\"nofollow\">Regexp::Common::delimited</a> can do that, and a lot of other hard regex problems, and it will handle escapes.</p>\n\n<pre><code>use v5.10;\nuse strict;\nuse warnings;\nuse Regexp::Common;\n\nmy $re = $RE{balanced}{-parens=&gt;\"()\"};\n\nmy $s = \"blah blah (soups up (tomato!\\) )\";\n\n$s =~ s{$re}{};\n\nsay $s;    # \"blah blah\"\n</code></pre>\n"}], "owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 36043315, "answer_count": 2, "score": 0, "last_activity_date": 1458153351, "creation_date": 1458149275, "last_edit_date": 1458149497, "question_id": 36042813, "link": "https://stackoverflow.com/questions/36042813/perl-remove-text-within-characters", "title": "Perl remove text within () characters", "body": "<p>I have a variable which may or may not contain text within brackets, e.g.</p>\n\n<pre><code>blah blah (soups up)\n</code></pre>\n\n<p>I want to remove anything within and including the brackets, so for this example I'd be left with:</p>\n\n<pre><code>blah blah\n</code></pre>\n\n<p>I tried the following substitution but it didn't work as expected:</p>\n\n<pre><code>$desc =~ s/(.*?)//gs;\nprint \"fixed desc: $desc\\n\";\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>fixed desc:\n</code></pre>\n\n<p>As per the discussion, anything, including sub brackets within brackets should be blitz'd</p>\n\n<p>e.g.</p>\n\n<pre><code>blah blah (soups up (tomato!) )\n</code></pre>\n"}, {"tags": ["perl", "unit-testing", "io", "compiler-errors", "packages"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458142907, "post_id": 36040282, "comment_id": 59729749, "body": "1) Since <code>error_post</code> has no <code>return</code> statement, it will return the value of the last statement, which is <code>print</code>. <code>print</code> returns 1 on success, so <code>$error_in</code> will generally be 1. 2) <code>is()</code> checks that the first argument is equal to the second argument. You&#39;re checking if 1 is equal to a compiled regex, which is not the same as checking that it matches a regex. <a href=\"https://metacpan.org/pod/Test::More#like\" rel=\"nofollow noreferrer\"><code>like()</code></a> allows you to match against a regex, but I think you want to test equality here."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1458143943, "post_id": 36040706, "comment_id": 59730577, "body": "And for integration tests with printed output, I suggest getting a QA intern. :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1458143578, "creation_date": 1458143578, "answer_id": 36040706, "question_id": 36040282, "link": "https://stackoverflow.com/questions/36040282/how-to-create-a-unit-test-for-a-simple-i-o-subroutine-in-perl/36040706#36040706", "title": "How to create a unit test for a simple I/O subroutine in Perl", "body": "<p>You can use <a href=\"https://metacpan.org/pod/Test::Output\" rel=\"nofollow\">Test::Output</a> to test printed stuff.</p>\n\n<pre><code>use Test::More;\nuse Test::Output;\n\nsub error_post {\n    my ($error) = @_;\n    print( $error-&gt;{message} );\n}\n\nstdout_is { error_post( { message =&gt; 'foo' } ) } \"foo\", \n  'the error message is correct';\n\n# equivalent without the bare block/map-ish syntax\nstdout_is(\n    sub { error_post( { message =&gt; 'foo' } ) },\n    \"foo\",\n    'the error message is correct'\n);\n\n# and using like\nstdout_like { error_post($error) } qr/foo/,\n  'the error message looks correct';\n\ndone_testing;\n</code></pre>\n\n<p>In this case, the return value of your sub is not tested at all. If you want both, you would have to save it in your anonymous sub and test it later.</p>\n\n<pre><code>my $rv;\nstdout_is { $rv = error_post( { message =&gt; 'foo' } ) } \"foo\", \n  'the error message is correct';\nis $rv, 'expected', '... and the return value is too';\n</code></pre>\n\n<p>Test::Output uses <a href=\"http://p3rl.org/Capture::Tiny\" rel=\"nofollow\">Capture::Tiny</a> under the hood, which is great if you just need to make output in code you do not control <em>go away</em>.</p>\n"}], "owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 36040706, "answer_count": 1, "score": 2, "last_activity_date": 1458143578, "creation_date": 1458142524, "last_edit_date": 1458142965, "question_id": 36040282, "link": "https://stackoverflow.com/questions/36040282/how-to-create-a-unit-test-for-a-simple-i-o-subroutine-in-perl", "title": "How to create a unit test for a simple I/O subroutine in Perl", "body": "<p>ErrorLibrary.pm :</p>\n\n<pre><code>package Artopi::Builder::ErrorLibrary;\n\nuse strict;\nuse warnings;    \n\nuse constant {\n    # wiki link included as a variable in this example\n    CABLING_ERROR =&gt; {\n    errorCode =&gt; 561,\n    message =&gt; \"cabling is not correct\\n\\n \",\n    t =&gt; { template =&gt; 'disabled'},\n    page =&gt;'http://w.error-sol.com/index/Builder/ErrorCodes/_CABLING_ERROR',\n    },\n};\n</code></pre>\n\n<p>Here is the error_post method that I'm trying to test. I am trying to unit test so that the expected it output is correct. My current test won't compile properly, I can't see what is majorly wrong with my code. It's probably something I should be able to see/know.</p>\n\n<p>ErrorPost.pm :</p>\n\n<pre><code>package Artopi::Builder::ErrorPost;\n\nuse strict;\nuse warnings;\nuse Artopi::Builder::ErrorLibrary;\n\n\n# takes error name as a param and prints out the message contained in the error hash.\nsub error_post {\n\n    my($error) = @_;\n    print ($error-&gt;{ message });  \n\n}\n1;\n</code></pre>\n\n<p>Below is the current test that I have come up with. But it gives me an error saying : <em>'Can't use string Artopi::Builder::ErrorPost as a HASH ref while \"strict refs\" in use at /ErrorPost.pm Line 12</em></p>\n\n<pre><code>error_post.t :\n    my $error = Artopi::Builder::ErrorLibrary-&gt;CABLING_ERROR; \n    # expected values\n    my $exp_output = ($error-&gt;{message});\n    my $exp_input =  Artopi::Builder::ErrorLibrary-&gt;CABLING_ERROR;\n\n    # input value as a parameter of error_post method\n    my $error_in = Artropi::Builder::ErrorPost-&gt;error_post($exp_input);\n\n    # checking that exp_input matches the expected output after the output has\n    # been passed through the error_post method\n    is($error_in, qr/$exp_output/, 'This is the correct output');   \n</code></pre>\n\n<p>Any suggestions? :)</p>\n"}, {"tags": ["perl", "svn", "slack-api", "slack"], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 1, "last_activity_date": 1474206044, "last_edit_date": 1474206044, "creation_date": 1458207589, "answer_id": 36056678, "question_id": 36037472, "link": "https://stackoverflow.com/questions/36037472/customise-displayed-message-in-slack-from-svn-integration/36056678#36056678", "title": "Customise displayed message in Slack from SVN integration", "body": "<p>If you want to create a custom message you should use <a href=\"https://api.slack.com/incoming-webhooks\" rel=\"nofollow\">Incoming Webhooks</a> in the API. I suspect you are using a Subversion hook, and it probably has a fixed layout of the message.</p>\n\n<p>Post the text you want in the <code>text</code> key in the <code>payload</code>. That way you can format it as you would a normal Slack message.</p>\n"}, {"tags": [], "owner": {"reputation": 2318, "user_id": 1783362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e55e75e3e9b8751065238b940f083dc?s=128&d=identicon&r=PG", "display_name": "Adam Erstelle", "link": "https://stackoverflow.com/users/1783362/adam-erstelle"}, "is_accepted": false, "score": 0, "last_activity_date": 1533237637, "creation_date": 1533237637, "answer_id": 51660774, "question_id": 36037472, "link": "https://stackoverflow.com/questions/36037472/customise-displayed-message-in-slack-from-svn-integration/51660774#51660774", "title": "Customise displayed message in Slack from SVN integration", "body": "<p>Came across wanting to do the same thing. What I ended doing was changing the <code>$payload</code>'s log value to include <code>$files</code> ... like so:</p>\n\n<pre><code>my $files = `/usr/bin/svnlook changed -r $ARGV[1] $ARGV[0]`;\nmy $payload = {\n    'revision'      =&gt; $ARGV[1],\n    'url'           =&gt; $url,\n    'author'        =&gt; $who,\n    'log'           =&gt; \"$log\\n$files\"\n};\n</code></pre>\n\n<p>(starting with the sample here: <a href=\"https://github.com/tinyspeck/services-examples/blob/master/subversion.pl\" rel=\"nofollow noreferrer\">https://github.com/tinyspeck/services-examples/blob/master/subversion.pl</a>)</p>\n"}], "owner": {"reputation": 1429, "user_id": 2773192, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/548b5209a670fa2771287c34dd54646e?s=128&d=identicon&r=PG&f=1", "display_name": "doctorG", "link": "https://stackoverflow.com/users/2773192/doctorg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 937, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1533237637, "creation_date": 1458135869, "last_edit_date": 1474205996, "question_id": 36037472, "link": "https://stackoverflow.com/questions/36037472/customise-displayed-message-in-slack-from-svn-integration", "title": "Customise displayed message in Slack from SVN integration", "body": "<p>I'm pretty new to <a href=\"https://en.wikipedia.org/wiki/Slack_(software)\" rel=\"nofollow\">Slack</a>. I've created a team, and I've added an integration with our SVN repository. I've set up a \"post-commit\" script and I get a notification in the intended Slack channel. All is good as far as that goes.</p>\n\n<p>I would like to customise the notification in the slack channel, and I'm failing.</p>\n\n<p>The post-commit script is Perl-based; a number of templates are available. I've used one and added a line to include the files changed thus:</p>\n\n<pre><code>my $files = `/usr/bin/svnlook changed -r $ARGV[1] $ARGV[0]`;\nmy $date = `/usr/bin/svnlook date -r $ARGV[1] $ARGV[0]`;\nmy $log = `/usr/bin/svnlook log -r $ARGV[1] $ARGV[0]`;\nmy $who = `/usr/bin/svnlook author -r $ARGV[1] $ARGV[0]`;\nchomp $who;\n\nmy $payload = {\n        'revision'      =&gt; $ARGV[1],\n        'date'          =&gt; $date,\n        'author'        =&gt; $who,\n        'log'           =&gt; $log,\n        'files'         =&gt; $files,\n};\n\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;timeout(15);\n\nmy $req = POST( \"https://${opt_domain}/services/hooks/subversion?token=${opt_token}\", ['payload' =&gt; encode_json($payload)] );\n</code></pre>\n\n<p>The only message I get in the Slack channel is of the form:</p>\n\n<pre><code>&lt;rev number&gt;:&lt;author&gt;-&lt;log message&gt;\n</code></pre>\n\n<p>I don't know why I don't get the date and the list of files changed appear in the Slack message. The relevant svnlook commands, when run manually on the server produce the expected results. If I change the relevant bit of the script to:</p>\n\n<pre><code>my $payload = {\n        'wibble'      =&gt; $ARGV[1],\n        'date'          =&gt; $date,\n        'author'        =&gt; $who,\n        'log'           =&gt; $log,\n        'files'         =&gt; $files,\n};\n</code></pre>\n\n<p>and then manually invoke the hook with</p>\n\n<pre><code>post-commit /var/svn/repo 5966\n</code></pre>\n\n<p>(for example) I get an output that includes:</p>\n\n<pre><code>payload=%7B%22wibble%22%3A%225966%22\n</code></pre>\n\n<p>(as I expected/hoped), but then</p>\n\n<pre><code>Response:\nHTTP/1.1 500 Server Error\nConnection: close\n...\nX-Cache: Error from cloudfront\nX-Frame-Options: SAMEORIGIN\n\ninvalid_payload\n</code></pre>\n\n<p>I was naively expecting the payload to specify the message, so you could craft a message something like:</p>\n\n<pre><code>revision: 5696\ndate: 2016/03/14 12:00:00\nauthor: ...\nlog: &lt;log text&gt;\nfiles: myfile.c, myfile.h\n</code></pre>\n\n<p>In the above example, I was wondering if I'd get</p>\n\n<pre><code>wibble: 5696\n</code></pre>\n\n<p>So, I have to come to the conclusion that something at the Slack end requires only certain fields in the received <a href=\"http://en.wikipedia.org/wiki/JSON\" rel=\"nofollow\">JSON</a> and then formats them into the channel message according to some rule. I have found NO clue what fields are acceptable and how one might exercise some control over the formatting. For example, the fact I don't get an error about an invalid payload suggests that the date and files field names are valid, but how do I get them to appear in the Slack message?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "is_accepted": false, "score": 1, "last_activity_date": 1458138499, "last_edit_date": 1458138499, "creation_date": 1458136377, "answer_id": 36037697, "question_id": 36037385, "link": "https://stackoverflow.com/questions/36037385/round-number-to-6-decimal-places-perl-excelwriterxlsx/36037697#36037697", "title": "Round number to 6 decimal places perl Excel::Writer:XLSX", "body": "<p>Recent versions of the Excel file formats employ styles (referred to as 'formats'), which can be shared among the cells. The <code>Excel::Writer::XLSX</code> provides the interface to <a href=\"http://search.cpan.org/~jmcnamara/Excel-Writer-XLSX/lib/Excel/Writer/XLSX.pm#add_format%28_%25properties_%29\" rel=\"nofollow\">create the new formats</a>, and to <a href=\"http://search.cpan.org/~jmcnamara/Excel-Writer-XLSX/lib/Excel/Writer/XLSX.pm#write%28_$row,_$column,_$token,_$format_%29\" rel=\"nofollow\">assign them to the cells</a>. Search for <code>numeric formats</code> in <a href=\"http://search.cpan.org/~jmcnamara/Excel-Writer-XLSX/lib/Excel/Writer/XLSX/Examples.pm#Example:_formats.pl\" rel=\"nofollow\">the official examples</a> on how to use them.</p>\n\n<p>P.S. I haven't used formats with the XLSX files personally - only with the older <code>Spreadsheet::WriteExcel</code> for the XLS files. But the interface is literally the same. And the author of the modules is the same.</p>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 6067877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ced37d73bb140428c94e5507b77ecc1?s=128&d=identicon&r=PG&f=1", "display_name": "Krzysztof Kielak", "link": "https://stackoverflow.com/users/6067877/krzysztof-kielak"}, "is_accepted": true, "score": 1, "last_activity_date": 1458140561, "creation_date": 1458140561, "answer_id": 36039433, "question_id": 36037385, "link": "https://stackoverflow.com/questions/36037385/round-number-to-6-decimal-places-perl-excelwriterxlsx/36039433#36039433", "title": "Round number to 6 decimal places perl Excel::Writer:XLSX", "body": "<p>I would round the number in Perl using <code>sprintf</code> function</p>\n\n<pre><code>use Excel::Writer::XLSX;\n\n# Create a new Excel workbook\nmy $workbook = Excel::Writer::XLSX-&gt;new( 'perl.xlsx' );\n\n$worksheet = $workbook-&gt;add_worksheet();\n$worksheet-&gt;write( 'A1', sprintf(\"%.6f\", 1/3) );\n</code></pre>\n\n<p>The cell A1 will contain 0.333333 value</p>\n"}], "owner": {"reputation": 1540, "user_id": 4807625, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/825e21cf278fa7a7f40ff21e6cc218ab?s=128&d=identicon&r=PG&f=1", "display_name": "PTN", "link": "https://stackoverflow.com/users/4807625/ptn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 0, "accepted_answer_id": 36039433, "answer_count": 2, "score": 0, "last_activity_date": 1458140561, "creation_date": 1458135668, "question_id": 36037385, "link": "https://stackoverflow.com/questions/36037385/round-number-to-6-decimal-places-perl-excelwriterxlsx", "title": "Round number to 6 decimal places perl Excel::Writer:XLSX", "body": "<p>How do I output a number rounded to 6 decimal places to an <code>Excel</code> sheet using the <code>Excel::Writer::XLSX</code> package in <code>Perl</code>?</p>\n"}, {"tags": ["xml", "perl", "utf-8"], "comments": [{"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458134786, "post_id": 36036769, "comment_id": 59723069, "body": "can you post a piece of source XML?"}, {"owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "reply_to_user": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458135155, "post_id": 36036769, "comment_id": 59723418, "body": "Sure. Just added the full xml at <a href=\"http://pastebin.com/Sitm01kh\" rel=\"nofollow noreferrer\">pastebin.com/Sitm01kh</a>"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1458135448, "post_id": 36036769, "comment_id": 59723690, "body": "I don&#39;t see escaped strings or question mark diamonds in the pastebin."}, {"owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "edited": false, "score": 0, "creation_date": 1458135849, "post_id": 36036769, "comment_id": 59724038, "body": "Good point. I now see that it is <code>XMLin</code> that introduces the problem. I have updated OP."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1458137966, "post_id": 36036769, "comment_id": 59725854, "body": "Have you read &quot;STATUS OF THIS MODULE&quot; in <a href=\"http://p3rl.org/XML::Simple\" rel=\"nofollow noreferrer\">XML::Simple</a>?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1458148414, "post_id": 36036769, "comment_id": 59733857, "body": "<a href=\"http://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Why is XML::Simple &quot;discouraged&quot;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "is_accepted": true, "score": 1, "last_activity_date": 1458136923, "last_edit_date": 1458136923, "creation_date": 1458135973, "answer_id": 36037521, "question_id": 36036769, "link": "https://stackoverflow.com/questions/36036769/how-to-convert-xml-characters-to-utf8/36037521#36037521", "title": "How to convert XML characters to utf8?", "body": "<pre><code>#!/usr/bin/perl\n\nuse DDP;\nuse XML::Simple;\n\nmy $xml = '&lt;Element Id=\"496669\" ParentId=\"495555\" Name=\"Klassel\u00e6rere\" ContextName=\"01005 Advanced Engineering Mathematics 1 E15/Klassel\u00e6rere\" IsArchived=\"false\" SubgroupCount=\"0\" /&gt;';\n\nmy $result = XMLin($xml);\n\nbinmode(STDOUT, \":utf8\");\nprint p($result)\n</code></pre>\n\n<p>produces the following output </p>\n\n<pre><code>{\n   ContextName     \"01005 Advanced Engineering Mathematics 1 E15/Klassel\u00e6rere\",\n   Id              496669,\n   IsArchived      \"false\",\n   Name            \"Klassel\u00e6rere\",\n   ParentId        495555,\n   SubgroupCount   0\n   }\n</code></pre>\n\n<p>Data::Dumper itself works weirdly with unicode. Use Data::Printer to see unicode characters</p>\n"}, {"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1458136463, "post_id": 36037623, "comment_id": 59724595, "body": "locales influence the settings of your shell, not the terminal. The terminal is usually configured via its menu."}, {"owner": {"reputation": 118, "user_id": 6071308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d066feea341ddebd6120aaa389af919?s=128&d=identicon&r=PG", "display_name": "jhoran", "link": "https://stackoverflow.com/users/6071308/jhoran"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1458136772, "post_id": 36037623, "comment_id": 59724884, "body": "you&#39;re right; I meant the terminal&#39;shell. AFAIK, Data::Dumper works fine with unicode, so it seems to me the problem is more on the shell side."}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458138426, "post_id": 36037623, "comment_id": 59726199, "body": "to work with Data::Dumper and unicode you should configure Data::Dumper::AutoEncode first,  which makes code quite noisy"}], "tags": [], "owner": {"reputation": 118, "user_id": 6071308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d066feea341ddebd6120aaa389af919?s=128&d=identicon&r=PG", "display_name": "jhoran", "link": "https://stackoverflow.com/users/6071308/jhoran"}, "is_accepted": false, "score": 1, "last_activity_date": 1458136205, "creation_date": 1458136205, "answer_id": 36037623, "question_id": 36036769, "link": "https://stackoverflow.com/questions/36036769/how-to-convert-xml-characters-to-utf8/36037623#36037623", "title": "How to convert XML characters to utf8?", "body": "<p>I guess that your terminal is not able to display the caracter \\xe6.</p>\n\n<p>If you are on linux, type 'locale' to see what are the settings of your terminal.</p>\n\n<p>You can try to set the terminal encoding like that :</p>\n\n<p>export LC_ALL=utf-8</p>\n"}], "owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "accepted_answer_id": 36037521, "answer_count": 2, "score": 1, "last_activity_date": 1458136923, "creation_date": 1458134086, "last_edit_date": 1458135805, "question_id": 36036769, "link": "https://stackoverflow.com/questions/36036769/how-to-convert-xml-characters-to-utf8", "title": "How to convert XML characters to utf8?", "body": "<p>When I dump xml using <code>Simple::XML</code> I end up with strings that contain escaped characters such as <code>\\x{e6}</code>. Here is an example</p>\n\n<pre><code>#!/usr/bin/perl\nuse Data::Dumper;\nuse Encode;\n\n$s=\"sel\\x{e6}re\";\ndecode_utf8($s);\nprint Dumper $s;\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>$VAR1 = 'sel\ufffdre';\n</code></pre>\n\n<p><strong>Question</strong></p>\n\n<p>How can I get the weird character into UTF-8?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Here is the full xml output. <a href=\"http://pastebin.com/Sitm01kh\" rel=\"nofollow\">http://pastebin.com/Sitm01kh</a></p>\n\n<p><strong>Update 2</strong></p>\n\n<p>As pointed out in the comments, the XML is fine, but the problem comes when I</p>\n\n<pre><code>my $ref = XMLin($xml, ForceArray =&gt; 1, KeyAttr =&gt; { Element =&gt; 'Id' });\nprint Dumper $ref;\n</code></pre>\n\n<p><a href=\"http://pastebin.com/7KDB50fd\" rel=\"nofollow\">http://pastebin.com/7KDB50fd</a></p>\n"}, {"tags": ["regex", "perl", "perl-data-structures"], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 2, "last_activity_date": 1458128640, "last_edit_date": 1458128640, "creation_date": 1458127730, "answer_id": 36034391, "question_id": 36034171, "link": "https://stackoverflow.com/questions/36034171/how-to-replace-a-middle-of-string-in-a-file-in-perl-language/36034391#36034391", "title": "how to replace a middle of string in a file in perl language", "body": "<p>You want to add the <code>ID</code> number in <code>dept_id</code>. So iterate the while loop for the file. </p>\n\n<p>Then remove the newlines using <code>chomp</code>.</p>\n\n<p>Then <code>split</code> the each line into the array by space or tab separated, afterwards print the array by using array index.</p>\n\n<p>Your <code>$ar[0]</code> holds the id. so print with <code>$ar[0].$ar[2]</code></p>\n\n<pre><code>open my $handler, \"&lt;\",\"file.txt\";\nmy $first = &lt;$handler&gt;;\nprint \"$first\";\nwhile (&lt;$handler&gt;)\n{\n    chomp;\n    my @ar = split(/\\s+/);\n    print \"$ar[0]\\t$ar[1]\\t$ar[0].$ar[2]\\n\";\n\n}\n</code></pre>\n\n<p>Or simply try this one liner</p>\n\n<p><code>-n</code> for loop over the input file.  Then <code>$.</code> tells the current line number. </p>\n\n<p>Then here i used pattern matching for your case. </p>\n\n<p>I created the temporary list named  <code>$on $tw $th</code>. <code>$on</code> holds the id, <code>$tw</code> holds the Name, <code>$th</code> holds the Dept_id. Then it will give by the printing  <code>\"$on\\t$tw\\t$on.$th\"</code></p>\n\n<pre><code>perl -ne 'if($. == 1){ print \"$_\"; next;} ($on,$tw,$th)= $_ =~m/(\\w+)/g; print \"$on\\t$tw\\t$on.$th\\n\";' file.txt \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 3, "last_activity_date": 1458128326, "creation_date": 1458128326, "answer_id": 36034632, "question_id": 36034171, "link": "https://stackoverflow.com/questions/36034171/how-to-replace-a-middle-of-string-in-a-file-in-perl-language/36034632#36034632", "title": "how to replace a middle of string in a file in perl language", "body": "<pre><code>perl -pe's/^(\\d+)\\s\\S+\\s\\K(\\d+)/$1.$2/' input.txt &gt; output.txt\n</code></pre>\n\n<p>In perl code the program would look like so:</p>\n\n<pre><code>while (&lt;&gt;) {\n    s/^(\\d+)\\s\\S+\\s\\K(\\d+)/$1.$2/;\n} continue {\n    print;\n}\n</code></pre>\n\n<p>The substitution regex looks for a line starting with one or more numbers <code>\\d+</code>, and capture them with parentheses, followed by a whitespace <code>\\s</code>, non-whitespaces <code>\\S+</code>, a whitespace again, and followed by numbers, which we also capture. The <code>\\K</code> (keep) indicates that we do not wish to change anything to the left. Then we replace it with the first captured string, a period <code>.</code> and the second captured string.</p>\n"}], "owner": {"reputation": 43, "user_id": 3735192, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-ub_9XJdkJc4/AAAAAAAAAAI/AAAAAAAAABM/La5wKi7CHug/photo.jpg?sz=128", "display_name": "Chella", "link": "https://stackoverflow.com/users/3735192/chella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1458128640, "creation_date": 1458127153, "question_id": 36034171, "link": "https://stackoverflow.com/questions/36034171/how-to-replace-a-middle-of-string-in-a-file-in-perl-language", "title": "how to replace a middle of string in a file in perl language", "body": "<p>For Example input file is </p>\n\n<pre><code>ID Name Dept_id\n1 aaa 1\n2 ddd 1\n3 sss 2\n</code></pre>\n\n<p>It is  tab separated file </p>\n\n<p>The is output will be like</p>\n\n<pre><code>ID Name Dept_id\n1 aaa 1.1\n2 ddd 2.1\n3 sss 3.2\n</code></pre>\n\n<p>Any one can help me??</p>\n"}, {"tags": ["perl", "hash", "hash-of-hashes"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1458126135, "post_id": 36033603, "comment_id": 59716684, "body": "You don&#39;t want to generate the statement. You want to generate the hash. But why do you want that?"}, {"owner": {"reputation": 69, "user_id": 5384164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/915d1997617a7f7cac627959d6c054d1?s=128&d=identicon&r=PG&f=1", "display_name": "Yaswanth Gelli", "link": "https://stackoverflow.com/users/5384164/yaswanth-gelli"}, "edited": false, "score": 1, "creation_date": 1458126557, "post_id": 36033603, "comment_id": 59716974, "body": "Please refer below question: <a href=\"http://stackoverflow.com/questions/4558981/dynamically-recursively-building-hashes-in-perl\" title=\"dynamically recursively building hashes in perl\">stackoverflow.com/questions/4558981/&hellip;</a> I hope that helps!"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1458127850, "post_id": 36033603, "comment_id": 59717898, "body": "See <a href=\"https://metacpan.org/pod/Data::Diver\" rel=\"nofollow noreferrer\"><code>Data::Diver</code></a> and <a href=\"https://metacpan.org/pod/Deep::Hash::Utils\" rel=\"nofollow noreferrer\"><code>Deep::Hash::Utils</code></a>"}, {"owner": {"reputation": 695, "user_id": 2178956, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6efb8df1c31a08f8eb04b075170fd1f5?s=128&d=identicon&r=PG", "display_name": "Soumya", "link": "https://stackoverflow.com/users/2178956/soumya"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458128456, "post_id": 36033603, "comment_id": 59718298, "body": "@simbabque : The hash, thus generated , will be consumed to render a bug report.The bug report will be then able to show the bugs grouped by createdBy &gt; status &gt; devPriority. [ In short, I am given a list of groupBy fields and a dump of all bug records -  and I need to return a hash which should group the bug records appropriately].Thanks for the edit anyways.Cheers."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458128686, "post_id": 36033603, "comment_id": 59718432, "body": "So you want to auto-group."}, {"owner": {"reputation": 695, "user_id": 2178956, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6efb8df1c31a08f8eb04b075170fd1f5?s=128&d=identicon&r=PG", "display_name": "Soumya", "link": "https://stackoverflow.com/users/2178956/soumya"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458128819, "post_id": 36033603, "comment_id": 59718519, "body": "@simbabque : Yes - exactly.The number of groupBy fields are not constant - so I guess this &quot;auto-group&quot; is the best approach.But if there are better ways, I am more than willing to change my approach here."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1458129879, "post_id": 36033603, "comment_id": 59719218, "body": "@H&#229;konH&#230;gland I didn&#39;t know Data::Diver. That&#39;s fun, especially that it can be an lvalue. :)"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1458129622, "creation_date": 1458129622, "answer_id": 36035109, "question_id": 36033603, "link": "https://stackoverflow.com/questions/36033603/creating-hash-of-hash-dynamically-in-perl/36035109#36035109", "title": "Creating hash of hash dynamically in perl", "body": "<p>Here is a working implementation with <a href=\"http://p3rl.org/Data::Diver\" rel=\"nofollow\">Data::Diver</a>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Diver 'DiveVal';\nuse Data::Printer;\n\nmy %hBugDetails = (\n    records =&gt; [\n        {\n            createdBy   =&gt; 'created_by1',\n            status      =&gt; 'status1',\n            devPriority =&gt; 'dev_priority1',\n            foo         =&gt; 'foo1',\n            bar         =&gt; 'bar1',\n        },\n        {\n            createdBy   =&gt; 'created_by1',\n            status      =&gt; 'status2',\n            devPriority =&gt; 'dev_priority2',\n            foo         =&gt; 'foo',\n            bar         =&gt; 'bar',\n        },\n    ],\n);\n\n# we want to group by these fields\nmy @group_by = ( 'createdBy', 'status', 'devPriority' );\n\nmy $grouped_bugs = {};    # for some reason we need to start with an empty hashref\nforeach my $bug ( @{ $hBugDetails{records} } ) {\n\n    # this will auto-vivify the hash for us\n    push @{ DiveVal( $grouped_bugs, map { $bug-&gt;{$_} } @group_by ) }, $bug;\n}\n\np $grouped_bugs;\n</code></pre>\n\n<p>The output looks like this.</p>\n\n<pre><code>\\ {\n    created_by1   {\n        status1   {\n            dev_priority1   [\n                [0] {\n                    bar           \"bar1\",\n                    createdBy     \"created_by1\",\n                    devPriority   \"dev_priority1\",\n                    foo           \"foo1\",\n                    status        \"status1\"\n                }\n            ]\n        },\n        status2   {\n            dev_priority2   [\n                [0] {\n                    bar           \"bar\",\n                    createdBy     \"created_by1\",\n                    devPriority   \"dev_priority2\",\n                    foo           \"foo\",\n                    status        \"status2\"\n                }\n            ]\n        }\n    }\n}\n</code></pre>\n\n<p>Note that I renamed your variables. It was very hard to read the code like that. It makes more sense to just use speaking names instead of cryptic abbreviations for the <em>type</em> of variable. The sigil already does that for you.</p>\n"}, {"comments": [{"owner": {"reputation": 695, "user_id": 2178956, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6efb8df1c31a08f8eb04b075170fd1f5?s=128&d=identicon&r=PG", "display_name": "Soumya", "link": "https://stackoverflow.com/users/2178956/soumya"}, "edited": false, "score": 0, "creation_date": 1458408714, "post_id": 36041941, "comment_id": 59851951, "body": "This worked like a charm.Gave me back exactly what I wanted.I know I am asking for too much here - can you please explain the code $hash = $hash-&gt;{ $key } //= {}; Thanks a lot for your input."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1458146846, "creation_date": 1458146846, "answer_id": 36041941, "question_id": 36033603, "link": "https://stackoverflow.com/questions/36033603/creating-hash-of-hash-dynamically-in-perl/36041941#36041941", "title": "Creating hash of hash dynamically in perl", "body": "<p>This code will do what you need</p>\n\n<pre><code>my @aGroupByFields = qw/ createdBy status devPriority /;\n\nmy %hTemp;\n\nfor my $phBugRecord ( @{ $hBugDetails{records} } ) {\n\n    my $hash = \\%hTemp;\n\n    for my $field ( @aGroupByFields ) {\n\n        my $key = $phBugRecord-&gt;{$field};\n\n        if ( $field eq $aGroupByFields[-1] ) {\n            push @{ $hash-&gt;{ $key } }, $phBugRecord;\n        }\n        else {\n            $hash = $hash-&gt;{ $key } //= {};\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 695, "user_id": 2178956, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6efb8df1c31a08f8eb04b075170fd1f5?s=128&d=identicon&r=PG", "display_name": "Soumya", "link": "https://stackoverflow.com/users/2178956/soumya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2360, "favorite_count": 0, "accepted_answer_id": 36041941, "answer_count": 2, "score": 2, "last_activity_date": 1458146846, "creation_date": 1458125754, "last_edit_date": 1458126206, "question_id": 36033603, "link": "https://stackoverflow.com/questions/36033603/creating-hash-of-hash-dynamically-in-perl", "title": "Creating hash of hash dynamically in perl", "body": "<p>I am trying to create a hash of hash of - the nesting depth depends on the number of arguments passed into <code>@aGroupByFields</code> array.</p>\n\n<p>In the below implementation, I am getting the desired hash structure.But I have hard coded the fields [ example - <code>$phBugRecord-&gt;{createdBy}</code> ] instead of deriving it from the array.</p>\n\n<p>I am not sure how to dynamically create this.</p>\n\n<pre><code>my (@aGroupByFields) = ['createdBy','status','devPriority']; \n# In real case,these are passed in as arguments\n\nmy (%hTemp); \n# This is the final hash which will be structured according to above fields\n\n# %hBugDetails is the hash containing details of all bugs\n\nforeach my $phBugRecord ( @{ $hBugDetails{records} } ) {\n\n    # The below statement needs to be generated dynamically as \n    # opposed to the hard-coded values.\n    push(\n        @{\n            $hTemp{ $phBugRecord-&gt;{createdBy} }{ $phBugRecord-&gt;{status} }\n                { $phBugRecord-&gt;{devPriority} }\n        },\n        $phBugRecord\n    );\n\n}\n</code></pre>\n\n<p>Any pointer will be a great help.Thanks.</p>\n"}, {"tags": ["perl", "zsh", "gnu-parallel"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1458123338, "post_id": 36032601, "comment_id": 59714696, "body": "What do you mean by <i>\u201cnot working\u201d</i>?"}, {"owner": {"reputation": 13026, "user_id": 855050, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/7LxPC.jpg?s=128&g=1", "display_name": "becko", "link": "https://stackoverflow.com/users/855050/becko"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1458123592, "post_id": 36032601, "comment_id": 59714891, "body": "@Borodin I get this error: <code>zsh:1: no matches found: s&#47;(S+)&#47;sprintf(%.1e, )&#47;ge</code>."}, {"owner": {"reputation": 13026, "user_id": 855050, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/7LxPC.jpg?s=128&g=1", "display_name": "becko", "link": "https://stackoverflow.com/users/855050/becko"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1458140624, "post_id": 36032601, "comment_id": 59727957, "body": "@Borodin Is the issue Zsh specific? My command runs fine in Bash (can&#39;t test because I don&#39;t have Bash enabled here)? I am asking because you tagged zsh."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1458140893, "post_id": 36032601, "comment_id": 59728174, "body": "I don&#39;t know zsh very well but I think it&#39;s possible. I added the zsh tag so that those who do know it might help"}], "answers": [{"comments": [{"owner": {"reputation": 13026, "user_id": 855050, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/7LxPC.jpg?s=128&g=1", "display_name": "becko", "link": "https://stackoverflow.com/users/855050/becko"}, "edited": false, "score": 0, "creation_date": 1458129151, "post_id": 36033436, "comment_id": 59718706, "body": "So the error is particular to zsh? It would run fine in bash?"}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "reply_to_user": {"reputation": 13026, "user_id": 855050, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/7LxPC.jpg?s=128&g=1", "display_name": "becko", "link": "https://stackoverflow.com/users/855050/becko"}, "edited": false, "score": 0, "creation_date": 1458138897, "post_id": 36033436, "comment_id": 59726585, "body": "@becko The Zsh solution will work in both Bash and Zsh. But if you do not use a function in Bash you need to quote there aswell."}, {"owner": {"reputation": 13026, "user_id": 855050, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/7LxPC.jpg?s=128&g=1", "display_name": "becko", "link": "https://stackoverflow.com/users/855050/becko"}, "edited": false, "score": 0, "creation_date": 1458139904, "post_id": 36033436, "comment_id": 59727389, "body": "So it&#39;s not a matter of Bash vs Zsh. You just have two possible solutions, which should work in both shells. Maybe you should make that explicit."}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "reply_to_user": {"reputation": 13026, "user_id": 855050, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/7LxPC.jpg?s=128&g=1", "display_name": "becko", "link": "https://stackoverflow.com/users/855050/becko"}, "edited": false, "score": 1, "creation_date": 1458140623, "post_id": 36033436, "comment_id": 59727955, "body": "Nope: The function-based solution does not work in Zsh. The double-quoted solution works for both."}], "tags": [], "owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "is_accepted": true, "score": 2, "last_activity_date": 1458163735, "last_edit_date": 1458163735, "creation_date": 1458125311, "answer_id": 36033436, "question_id": 36032601, "link": "https://stackoverflow.com/questions/36032601/perl-command-inside-gnu-parallel/36033436#36033436", "title": "Perl command inside GNU parallel?", "body": "<p>In Bash you can make a function:</p>\n\n<pre><code>doit() {\n  perl -pe '!/^step/ &amp;&amp; s/(\\S+)/sprintf(\"%.2e\", $1)/ge' \"$1\" &gt; \"$2\"\n}\nexport -f doit\nparallel doit {} {}.fix ::: *\n</code></pre>\n\n<p>Exporting functions in Zsh requires using a variable:</p>\n\n<pre><code>doit() {\n  perl -pe '!/^step/ &amp;&amp; s/(\\S+)/sprintf(\"%.2e\", $1)/ge' \"$1\" &gt; \"$2\"\n}\nPARALLEL_ENV=\"$(typeset -f doit)\"\nparallel doit {} {}.fix ::: *\n</code></pre>\n\n<p>Alternatively you can quote the perl expression and the redirection (which will also work in Bash):</p>\n\n<pre><code>parallel perl -pe \\''!/^step/ &amp;&amp; s/(\\S+)/sprintf(\"%.2e\", $1)/ge'\\' {} '&gt;' {}.fix ::: *\n</code></pre>\n"}], "owner": {"reputation": 13026, "user_id": 855050, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/7LxPC.jpg?s=128&g=1", "display_name": "becko", "link": "https://stackoverflow.com/users/855050/becko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 1, "accepted_answer_id": 36033436, "answer_count": 1, "score": 2, "last_activity_date": 1458163735, "creation_date": 1458123210, "last_edit_date": 1495540226, "question_id": 36032601, "link": "https://stackoverflow.com/questions/36032601/perl-command-inside-gnu-parallel", "title": "Perl command inside GNU parallel?", "body": "<p>I am trying to run this in parallel:</p>\n\n<pre><code>parallel perl -pe '!/^step/ &amp;&amp; s/(\\S+)/sprintf(\"%.2e\", $1)/ge' {} &gt; {}.fix ::: *\n</code></pre>\n\n<p>That is, I want to execute the perl command on all files in the current directory, in parallel. This is not working, but I have no idea why.</p>\n\n<p>Comment: The perl command is fixing floating-point numbers in tables. See <a href=\"https://stackoverflow.com/q/36031317/855050\">Replacing precision of floating point numbers in existing file</a>.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1458118429, "post_id": 36030437, "comment_id": 59711182, "body": "What do you mean by <i>\u201cthe regexp is too long\u201d</i>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1458118614, "post_id": 36030437, "comment_id": 59711299, "body": "This is the way Perl regexes work. With only one pair of parentheses there can be only one capture. It looks like you should just use <code>split</code>"}, {"owner": {"reputation": 2486, "user_id": 5967915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc1ede82b4d6b5af1148a77d874c5396?s=128&d=identicon&r=PG&f=1", "display_name": "Tim007", "link": "https://stackoverflow.com/users/5967915/tim007"}, "edited": false, "score": 0, "creation_date": 1458119089, "post_id": 36030437, "comment_id": 59711610, "body": "@Akshay Belvadi Your regex is repeat <code>(?:\\s+(\\d+(?:\\.\\d+)?))</code> 6 times will be wrong with <code>some_string_here  00  12.34  34  56.78  78.90 78.90</code> (7 numbers) <code>&#47;(?:\\s+(\\d+(?:\\.\\d+)?))&#47;g</code> will work too."}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 1, "last_activity_date": 1458119718, "last_edit_date": 1458119718, "creation_date": 1458118156, "answer_id": 36030655, "question_id": 36030437, "link": "https://stackoverflow.com/questions/36030437/matching-repetition-with-capturing-groups-returns-only-the-final-match-value/36030655#36030655", "title": "Matching repetition with capturing groups returns only the final match value", "body": "<p>Try this</p>\n\n<pre><code>$s = \"some_string_here  00  12.34  34  56.78  78.90\";\n@ar = $s =~m/(\\d+\\.?(?:\\d+)?)/g;\n$, = \"\\n\";\nprint @ar;\n</code></pre>\n\n<p><code>g</code> flag returns all possible matches in a list. And the list was stored into the array. So it will give the all possible matches in an array.</p>\n\n<p>Without using <code>g</code> global modifier it returns the only one element that is <code>00</code>. Because search will satisfy at a first match. </p>\n\n<p>output</p>\n\n<pre><code>00\n12.34\n34 \n56.78\n78.90\n</code></pre>\n\n<p>Else you want to store particular number of elements, create the list and the give the variables</p>\n\n<p>For example, you want to store the only three matches,</p>\n\n<pre><code>($first,$second,$thrid) = $s =~m/(\\d+\\.?(?:\\d+)?)/g;\n</code></pre>\n\n<p>Here <code>$first holds the 00, $second holds the 12.34 and the $third holds the 34.</code></p>\n"}, {"tags": [], "owner": {"reputation": 2486, "user_id": 5967915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc1ede82b4d6b5af1148a77d874c5396?s=128&d=identicon&r=PG&f=1", "display_name": "Tim007", "link": "https://stackoverflow.com/users/5967915/tim007"}, "is_accepted": false, "score": 0, "last_activity_date": 1458118675, "creation_date": 1458118675, "answer_id": 36030818, "question_id": 36030437, "link": "https://stackoverflow.com/questions/36030437/matching-repetition-with-capturing-groups-returns-only-the-final-match-value/36030818#36030818", "title": "Matching repetition with capturing groups returns only the final match value", "body": "<p>Try this</p>\n\n<pre><code>(\\d+\\.?\\d*)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/uX2hF2/1\" rel=\"nofollow\">Demo</a></p>\n\n<p>Input </p>\n\n<pre><code>some_string_here  00  12.34  34  56.78  78.90\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>MATCH 1\n1.  [18-20] `00`\nMATCH 2\n1.  [22-27] `12.34`\nMATCH 3\n1.  [29-31] `34`\nMATCH 4\n1.  [33-38] `56.78`\nMATCH 5\n1.  [40-45] `78.90`\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1458122289, "creation_date": 1458122289, "answer_id": 36032234, "question_id": 36030437, "link": "https://stackoverflow.com/questions/36030437/matching-repetition-with-capturing-groups-returns-only-the-final-match-value/36032234#36032234", "title": "Matching repetition with capturing groups returns only the final match value", "body": "<p>As I mentioned in my comment, you probably just want <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split</code></a>, like this</p>\n\n<pre><code>my $s = 'some_string_here  00  12.34  34  56.78  78.90';\n\nmy @groups = split ' ', $s;\nshift @groups;\n\nfor my $i ( 0 .. $#groups ) {\n    printf \"Group #%d: %-s\\n\", $i+1, $groups[$i];\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Group #1: 00\nGroup #2: 12.34\nGroup #3: 34\nGroup #4: 56.78\nGroup #5: 78.90\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5886805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f8bb80882a72abffb0f6582f9dedcd?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Belvadi", "link": "https://stackoverflow.com/users/5886805/akshay-belvadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1458122289, "creation_date": 1458117435, "last_edit_date": 1458118228, "question_id": 36030437, "link": "https://stackoverflow.com/questions/36030437/matching-repetition-with-capturing-groups-returns-only-the-final-match-value", "title": "Matching repetition with capturing groups returns only the final match value", "body": "<p>I am trying to capture a recursive sequence using matching repetition with capturing groups.</p>\n\n<p>Here is a sample text:</p>\n\n<pre><code>some_string_here  00  12.34  34  56.78  78.90\n</code></pre>\n\n<p>The regexp used to capture all the floating point values:</p>\n\n<pre><code>\\S+(?:\\s+(\\d+(?:\\.\\d+)?)){5}\n</code></pre>\n\n<p>The regexp matches all the floating point values as expected but the capturing group returns only the final match result.</p>\n\n<pre><code>Group #1: 78.90\n</code></pre>\n\n<p>The required result is:</p>\n\n<pre><code>Group #1: 00\nGroup #2: 12.34\nGroup #3: 34\nGroup #4: 56.78\nGroup #5: 78.90\n</code></pre>\n\n<p>If I use the following as the regexp, the result is as expected, but with too many recursive sequence, the regexp is too long.</p>\n\n<pre><code>\\S+(?:\\s+(\\d+(?:\\.\\d+)?))(?:\\s+(\\d+(?:\\.\\d+)?))(?:\\s+(\\d+(?:\\.\\d+)?))(?:\\s+(\\d+(?:\\.\\d+)?))(?:\\s+(\\d+(?:\\.\\d+)?))\n</code></pre>\n\n<p>Is there a way to capture all of the floating point values in a matching repetition with capturing groups?</p>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458117788, "post_id": 36030284, "comment_id": 59710811, "body": "in linux it indeed dies at line 21"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458117796, "post_id": 36030284, "comment_id": 59710818, "body": "You can print full error via <code>Carp</code> -- it would be interesting to see what is reported, given this behavior.  My guess here would be that the broken-up regex that counts differently.. I can come up with &quot;13&quot; by counting each regex part as one line and discarding empty lines inside the regex, what I can imagine being done."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458117911, "post_id": 36030284, "comment_id": 59710876, "body": "For me, with v5.16 on CentOS 7, it also dies on the last blank line before <code>}{</code>."}, {"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "reply_to_user": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458118137, "post_id": 36030284, "comment_id": 59710994, "body": "@sotona do you have a Perl version &gt; 5.18?"}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458118581, "post_id": 36030284, "comment_id": 59711272, "body": "@Ren&#233;Nyffenegger exactly. I tested also on 5.16 and it indeed complains on 13th line."}, {"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "edited": false, "score": 1, "creation_date": 1458118774, "post_id": 36030284, "comment_id": 59711418, "body": "So that seems to indicate that this is a bug fixed in a release after 5.18."}], "answers": [{"tags": [], "owner": {"reputation": 1625, "user_id": 227965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14ac83c8df1bedae5919f851734ba781?s=128&d=identicon&r=PG", "display_name": "Uncle Arnie", "link": "https://stackoverflow.com/users/227965/uncle-arnie"}, "is_accepted": true, "score": 4, "last_activity_date": 1458132424, "creation_date": 1458132424, "answer_id": 36036123, "question_id": 36030284, "link": "https://stackoverflow.com/questions/36030284/perl-reports-wrong-line-number-if-dying-in-multi-line-substitution-is-this-expe/36036123#36036123", "title": "Perl reports wrong line number if dying in multi line substitution. Is this expected or a bug?", "body": "<p>A quick bit of investigation showed this:</p>\n\n<p><code>v5.10.1</code> dies on line 13.<br>\n<code>v5.18.4</code> dies on line 13.<br>\n<code>v5.20.2</code> dies on line 21.<br>\n<code>v5.22.0</code> dies on line 21.  </p>\n\n<p>Then after checking the <a href=\"http://perldoc.perl.org/5.20.0/perldelta.html#Everything-Else\" rel=\"nofollow\">perldelta for 5.20</a>, I found:</p>\n\n<blockquote>\n  <p>Line numbers inside multiline quote-like operators are now reported correctly. [perl #3643]</p>\n</blockquote>\n\n<p>So, it seems the only way to get the right line number would be to upgrade to a later version of perl.</p>\n"}], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 36036123, "answer_count": 1, "score": 8, "last_activity_date": 1458132424, "creation_date": 1458116911, "last_edit_date": 1458118426, "question_id": 36030284, "link": "https://stackoverflow.com/questions/36030284/perl-reports-wrong-line-number-if-dying-in-multi-line-substitution-is-this-expe", "title": "Perl reports wrong line number if dying in multi line substitution. Is this expected or a bug?", "body": "<p>When I run the following code, the script dies with <code>expected three at c:\\temp\\die.pl line 13.</code>.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $text = 'one two Three';\n\n$text =~ s{\n\n  (\\w+)  # Find a word\n  \\s+\n  (\\w+)  # Find another word\n  \\s+\n  (\\w+)  # Find third word\n\n}{\n\n   # Insert a few lines on purpose\n   # to make the point.\n\n   die 'expected one'   unless $1 eq 'one';\n   die 'expected two'   unless $2 eq 'two';\n   die 'expected three' unless $3 eq 'three';\n\n}ex;\n</code></pre>\n\n<p>I am somewhat surprised because the actual line that causes the death is line 21.</p>\n\n<p>It seems that the interpreter does not count the pattern part of the substitution when it calculates(?) the line of death. Line 6 would be <code>$text =~ s{</code> then the code until <code>}{</code> is \"skipped\", making line 7 the following empty line, line 8 <code># Insert a few lines on purpose</code> and so on until it reaches <code>die 'expected three' unless $3 eq 'three';</code> having counted 13 lines.</p>\n\n<p>Is this behaviour expected?</p>\n\n<p>Is there a way to have perl print the real line of death?</p>\n\n<p><code>perl -v</code> starts with <code>This is perl 5, version 18, subversion 1 (v5.18.1) built for MSWin32-x86-multi-thread-64int</code></p>\n\n<h1>Using carp instead of die</h1>\n\n<p>It was suggested I use <code>carp</code> instead of <code>die</code>.</p>\n\n<p>It now dies (or carps) with the only slightly different <code>expected three at c:\\temp\\die.pl line 14</code> which I attribute to the additional third line <code>use Carp;</code>.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1458097061, "post_id": 36025242, "comment_id": 59702724, "body": "Related: <a href=\"http://stackoverflow.com/q/18354691/176646\">what does s{SOMESTR}{$myvar} mean in perl?</a>, <a href=\"http://stackoverflow.com/q/22454089/176646\">Curly brackets in regexps with Perl</a>"}], "answers": [{"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1458094340, "post_id": 36025354, "comment_id": 59701989, "body": "But in the code I gave there is both the <code>[</code> and <code>]</code> characters, so it is not just a replacement of the <code>&#47;</code> character. There is something else going on."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1458096322, "post_id": 36025354, "comment_id": 59702566, "body": "The natural &quot;partner&quot; of  [  is  ]  , so strictly speaking, I guess you are right - but apart from replacing one &#39;/&#39; with [ and the other with ], - it <b><i>is</i></b> the same in effect.  You can see how much easier it is to interpret the pattern that way - finally, the other answerer has over 84k points and is saying the same thing - not likely (s)he is wrong, yes? ;-)"}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 0, "last_activity_date": 1458092674, "last_edit_date": 1458092674, "creation_date": 1458092357, "answer_id": 36025354, "question_id": 36025242, "link": "https://stackoverflow.com/questions/36025242/s-notation-in-perl/36025354#36025354", "title": "s[][] notation in perl", "body": "<p>It's just an alternative pattern delimiter.  Depending on the details of the pattern - in particular, if the pattern has slashes in it - it may be easier for humans to parse the expression if something other than the slash is used as a delimiter.  In this case its a little marginal but, if you used the slash it would look like this:</p>\n\n<pre><code>$filename =~ s/^.+\\///;\n</code></pre>\n\n<p>You can immediately see how its harder to figure out which slashes are part of the pattern and which delimit the pattern.  In this case the third last slash is part of the pattern and would be interpreted as ending the pattern and hence has to be escaped.</p>\n"}, {"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1458094261, "post_id": 36025368, "comment_id": 59701967, "body": "But in the code I gave there is both the <code>[</code> and <code>]</code> characters, so it is not just a replacement of the <code>&#47;</code> character.  There is something else going on."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 3, "creation_date": 1458096178, "post_id": 36025368, "comment_id": 59702536, "body": "@CJ7 See the <a href=\"http://perldoc.perl.org/perlop.html#s%2f_PATTERN_%2f_REPLACEMENT_%2fmsixpodualngcer\" rel=\"nofollow noreferrer\">docs for <code>s&#47;&#47;&#47;</code></a>: &quot;Any non-whitespace delimiter may replace the slashes...If the PATTERN is delimited by bracketing quotes, the REPLACEMENT has its own pair of quotes, which may or may not be bracketing quotes, for example, <code>s(foo)(bar)</code> or <code>s&lt;foo&gt;&#47;bar&#47;</code>.&quot;"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 1, "creation_date": 1458096313, "post_id": 36025368, "comment_id": 59702562, "body": "@CJ7 You can also prove this to yourself using <a href=\"https://metacpan.org/pod/B::Deparse\" rel=\"nofollow noreferrer\">B::Deparse</a>: <code>perl -MO=Deparse -e&#39;s[foo][bar]&#39;</code> prints <code>s&#47;foo&#47;bar&#47;;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1458121918, "post_id": 36025368, "comment_id": 59713656, "body": "@CJ7: As I tried to explain, if the delimiter chosen is one of the four opening bracket characters then its pair is used as the closing character. The substitution <code>s&#47;&#47;&#47;</code> has <i>two</i> parameters, so both must be delimited and it appears as <code>s(...)(...)</code> or even <code>s&lt;...&gt;{...}</code> or <code>s&#47;...&#47;[...]</code>"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1466743872, "post_id": 36025368, "comment_id": 63455199, "body": "<code>%</code> cannot be used"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1466768931, "post_id": 36025368, "comment_id": 63467746, "body": "@CJ7: Not true. <code>perl -E &#39;my $s = &quot;abc&quot;; $s =~ s%b%x%; say $s;&#39;</code> prints <code>axc</code>. Not that I would  recommend it as it&#39;s not very readable"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 10, "last_activity_date": 1458098160, "last_edit_date": 1458098160, "creation_date": 1458092471, "answer_id": 36025368, "question_id": 36025242, "link": "https://stackoverflow.com/questions/36025242/s-notation-in-perl/36025368#36025368", "title": "s[][] notation in perl", "body": "<p>Perl allows any non-whitespace character to be used as a string delimiter. See <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\"><em>Quote and Quote-like Operators</em></a></p>\n\n<p>Bracketing characters are used in pairs, like <code>&lt;...&gt;</code>, <code>[...]</code>, <code>(...)</code>, and <code>{...}</code>, while single-quotes prevent interpolation. Otherwise the functionality is identical to that of the default delimiter</p>\n\n<p>In this case</p>\n\n<pre><code>$filename =~ s[^.+/][]\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>$filename =~ s/^.+\\///\n</code></pre>\n\n<p>but is far more readable</p>\n\n<p>I tend to prefer the pipe character <code>|</code> which looks similar to the usual slash</p>\n\n<pre><code>$filename =~ s|^.+/||\n</code></pre>\n\n<p>but the choice is up to you</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 36025368, "answer_count": 2, "score": 4, "last_activity_date": 1458100649, "creation_date": 1458091542, "question_id": 36025242, "link": "https://stackoverflow.com/questions/36025242/s-notation-in-perl", "title": "s[][] notation in perl", "body": "<p>I have seen this <code>perl</code> code on the <code>cpan</code> documentation for a module:</p>\n\n<pre><code>$filename =~ s[^.+/][];\n</code></pre>\n\n<p>What does this mean?  I am used to the <code>s//</code> notation for the <code>s</code> function.</p>\n"}, {"tags": ["perl", "at-command", "qualcomm"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1458126418, "post_id": 36024687, "comment_id": 59716873, "body": "I am not familiar with your environment, but you could try <code>Win32::SerialPort</code> or <a href=\"https://www.nu42.com/2015/08/playing-with-true-rng-hardware-random-number-generator.html\" rel=\"nofollow noreferrer\">roll your own</a>."}, {"owner": {"reputation": 1079, "user_id": 1884351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0ccc73c4be038f1bb08243adc61f5550?s=128&d=identicon&r=PG&f=1", "display_name": "fnisi", "link": "https://stackoverflow.com/users/1884351/fnisi"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1458162638, "post_id": 36024687, "comment_id": 59742563, "body": "Thanks Sinan! I noticed that I was using two COM ports to communicate with the handset within QXDM, while only one would be sufficient for QXDM to collect RF measurements, which leaves one spare COM port for modem communication. I found <code>Device::Modem</code> which has a method called <code>atsend()</code>....It is possible to write a Perl script to send AT commands to the modem, but still don&#39;t know how to execute/call that script within QXDM."}, {"owner": {"reputation": 204, "user_id": 1789095, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/qbBuS.jpg?s=128&g=1", "display_name": "arka.b", "link": "https://stackoverflow.com/users/1789095/arka-b"}, "edited": false, "score": 0, "creation_date": 1485167167, "post_id": 36024687, "comment_id": 70795682, "body": "Can you share that script with me? I am trying to achieve that similar thing."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7683696, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zMnkdgimRt4/AAAAAAAAAAI/AAAAAAAACXo/a31PeqetbyM/photo.jpg?sz=128", "display_name": "usman chaudhry", "link": "https://stackoverflow.com/users/7683696/usman-chaudhry"}, "is_accepted": false, "score": 0, "last_activity_date": 1489055034, "creation_date": 1489055034, "answer_id": 42692729, "question_id": 36024687, "link": "https://stackoverflow.com/questions/36024687/using-at-commands-in-qxdm/42692729#42692729", "title": "Using AT Commands in QXDM", "body": "<p>There must be one more port other then diagnostic port. You can connect to it to send AT commands to the modem. You can use putty for that.</p>\n"}], "owner": {"reputation": 1079, "user_id": 1884351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0ccc73c4be038f1bb08243adc61f5550?s=128&d=identicon&r=PG&f=1", "display_name": "fnisi", "link": "https://stackoverflow.com/users/1884351/fnisi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2324, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489055034, "creation_date": 1458087627, "question_id": 36024687, "link": "https://stackoverflow.com/questions/36024687/using-at-commands-in-qxdm", "title": "Using AT Commands in QXDM", "body": "<p>I am trying to figure out a way to send AT Commands to a handset while it is being used by QXDM. I need to record some RF measurements and do this for a sequence of events (for an FTP UL session for example).</p>\n\n<p>I had a look at example perl scripts under <code>C:\\users\\myuser\\Documents\\Qualcomm\\Automation Samples</code> but could not find any script that uses a set of AT commands.</p>\n\n<p>Is there a way in QXDM to achive this task?</p>\n\n<p>Thanks in advance...</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1458074378, "post_id": 36021502, "comment_id": 59694633, "body": "Try things like <code>type perldoc</code>, make sure the script exist in the current directory or in $PATH. What Perl versions are involved?"}, {"owner": {"reputation": 617, "user_id": 2364438, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lhmZW.gif?s=128&g=1", "display_name": "tvs", "link": "https://stackoverflow.com/users/2364438/tvs"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1458082255, "post_id": 36021502, "comment_id": 59698451, "body": "perldoc works perfectly, that is not the issue ... perl 5.18.2 works ok on Mac OS but the same version fails on Debian so I don&#39;t think it&#39;s related to the version either"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1458089162, "post_id": 36021502, "comment_id": 59700664, "body": "Where is the script on Mac OS X?  Where is the script on Debian?  What is your current directory when you run <code>perldoc myscript.pl</code> on Mac OS X and on Debian?"}, {"owner": {"reputation": 617, "user_id": 2364438, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lhmZW.gif?s=128&g=1", "display_name": "tvs", "link": "https://stackoverflow.com/users/2364438/tvs"}, "edited": false, "score": 0, "creation_date": 1458091105, "post_id": 36021502, "comment_id": 59701123, "body": "in both cases (OS X and Debian) the script is in the current working directory"}], "answers": [{"comments": [{"owner": {"reputation": 617, "user_id": 2364438, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lhmZW.gif?s=128&g=1", "display_name": "tvs", "link": "https://stackoverflow.com/users/2364438/tvs"}, "edited": false, "score": 0, "creation_date": 1458091303, "post_id": 36024850, "comment_id": 59701170, "body": "I&#39;ve added <b>.</b> on the <b>$PATH</b> environment variable but the behavior is the same ... Also, in both environments <b>.</b> (the current directory) is included in the defined library path"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 617, "user_id": 2364438, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lhmZW.gif?s=128&g=1", "display_name": "tvs", "link": "https://stackoverflow.com/users/2364438/tvs"}, "edited": false, "score": 0, "creation_date": 1458091794, "post_id": 36024850, "comment_id": 59701314, "body": "I&#39;ve updated my answer with another thing to try - the &quot;-D&quot; option"}, {"owner": {"reputation": 617, "user_id": 2364438, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lhmZW.gif?s=128&g=1", "display_name": "tvs", "link": "https://stackoverflow.com/users/2364438/tvs"}, "edited": false, "score": 0, "creation_date": 1458092117, "post_id": 36024850, "comment_id": 59701396, "body": "there&#39;s clearly a bug then, according to the output you posted, it looked for myscript.pl in <b>.</b> (the current directory) but it couldn&#39;t find it, right?"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 617, "user_id": 2364438, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lhmZW.gif?s=128&g=1", "display_name": "tvs", "link": "https://stackoverflow.com/users/2364438/tvs"}, "edited": false, "score": 0, "creation_date": 1458092815, "post_id": 36024850, "comment_id": 59701579, "body": "In my case yes - I have &quot;.&quot; in my path - but that&#39;s irrelevant.  I&#39;m suggesting <i>you</i> run this and study the output carefully and check that the directory that has (the real) &quot;myscript.pl&quot; (on your machine) is one of the directories checked by perldoc."}, {"owner": {"reputation": 617, "user_id": 2364438, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lhmZW.gif?s=128&g=1", "display_name": "tvs", "link": "https://stackoverflow.com/users/2364438/tvs"}, "edited": false, "score": 0, "creation_date": 1458093118, "post_id": 36024850, "comment_id": 59701664, "body": "I think is relevant, because I have a similar output (with the current directory included) but it couldn&#39;t find the script AND the script is in the current directory"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 617, "user_id": 2364438, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lhmZW.gif?s=128&g=1", "display_name": "tvs", "link": "https://stackoverflow.com/users/2364438/tvs"}, "edited": false, "score": 0, "creation_date": 1458094589, "post_id": 36024850, "comment_id": 59702067, "body": "post output of this <b>perldoc -D myscript.pl 2&gt;&amp;1 | perl -nE &#39;/Looking/ &amp;&amp; say join(&quot;\\n&quot;, split &quot; &quot;)&#39;</b>"}, {"owner": {"reputation": 617, "user_id": 2364438, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lhmZW.gif?s=128&g=1", "display_name": "tvs", "link": "https://stackoverflow.com/users/2364438/tvs"}, "edited": false, "score": 0, "creation_date": 1458096574, "post_id": 36024850, "comment_id": 59702633, "body": "Looking for myscript.pl in /usr/bin /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.20.2 /usr/local/share/perl/5.20.2 /usr/lib/x86_64-linux-gnu/perl5/5.20 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.20 /usr/share/perl/5.20 /usr/local/lib/site_perl . /sbin /usr/sbin /usr/local/sbin /usr/local/bin /usr/sbin /usr/bin /sbin /bin"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 617, "user_id": 2364438, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lhmZW.gif?s=128&g=1", "display_name": "tvs", "link": "https://stackoverflow.com/users/2364438/tvs"}, "edited": false, "score": 0, "creation_date": 1458097033, "post_id": 36024850, "comment_id": 59702716, "body": "I&#39;ve edited the answer again to add one more option to eliminate (or prove) the problem being with the POD itself.  If that doesn&#39;t help, I&#39;m out of ideas! :-)"}, {"owner": {"reputation": 617, "user_id": 2364438, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lhmZW.gif?s=128&g=1", "display_name": "tvs", "link": "https://stackoverflow.com/users/2364438/tvs"}, "edited": false, "score": 0, "creation_date": 1458097773, "post_id": 36024850, "comment_id": 59702914, "body": "that doesn&#39;t work (I think -d is not useful in this case) ... have you tried the command with an existent myscript.pl? does it work in your case?"}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 2, "last_activity_date": 1458098532, "last_edit_date": 1458098532, "creation_date": 1458088773, "answer_id": 36024850, "question_id": 36021502, "link": "https://stackoverflow.com/questions/36021502/perldoc-error-no-documentation-file/36024850#36024850", "title": "perldoc error: No documentation file", "body": "<p>If you consult the man page for perldoc itself; <code>man perldoc</code> you read:</p>\n\n<pre><code> \"perldoc\" also searches directories specified by the \n \"PERL5LIB\" (or \"PERLLIB\" if \"PERL5LIB\" is not defined) and\n \"PATH\" environment variables.  (The latter is so that embedded \n pods for executables, such as \"perldoc\" itself,are available.)\n</code></pre>\n\n<p>So you see, the usual places that libraries of modules can be found are searched but also directories specified in your <strong>$PATH</strong> environment variable.  The latter might come as a surprise but as the man page explains, how else is going to check for POD in home-grown scripts.</p>\n\n<p>Your question is really dependant on your environment so, I can't say anything authoritative, but I would bet that in some places (ie some machines) your <strong>$PATH</strong> includes <strong>\".\"</strong> - the current directory - for convenience but on other machines,  <strong>\".\"</strong> is excluded from <strong>$PATH</strong> on security grounds.</p>\n\n<p>Failing that, you can get a running commentary on where perldoc is looking for the POD by using the <strong>-D</strong> CLI option:</p>\n\n<pre><code>$ perldoc -D myscript.pl\nEnding switch processing.  Args are [myscript.pl] with 0 errors.\nPagers: /usr/bin/sensible-pagermorelesspgviewcat/usr/bin/perldoc =&gt; Pod::Perldoc v3.23\n\nFormatter class Pod::Perldoc::ToTerm version 3.23 successfully loaded!\nWill format with the class Pod::Perldoc::ToTerm\nSearching for myscript.pl\nLooking for myscript.pl in /usr/bin /etc/perl /usr/local/lib/x86_64-linux-gn\nu/perl/5.20.2 /usr/local/share/perl/5.20.2 /usr/lib/x86_64-linux-gnu/perl5/5.20\n/usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.20 /usr/share/perl/5.20\n/usr/local/lib/site_perl . /opt/perl6/share/perl6/site/bin /opt/perl6/bin\n/usr/local/sbin /usr/local/bin /usr/sbin /usr/bin /sbin /bin\nNo documentation found for \"myscript.pl\".\n$\n</code></pre>\n\n<p>I deliberately chose \"myscript.pl\" because I don't have such a script.  You see clearly everywhere it's looking - this should reveal where the problem is. Finally, finally, you can use <code>-F</code> to explicitly state what file to get the POD out of - this can be used to see if the problem is the POD in the file itself:  <code>perldoc -F ./myscript.pl</code></p>\n"}, {"tags": [], "owner": {"reputation": 810, "user_id": 370611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b5d487d6cd2acd4046500efbf7021139?s=128&d=identicon&r=PG", "display_name": "JohnL4", "link": "https://stackoverflow.com/users/370611/johnl4"}, "is_accepted": false, "score": 0, "last_activity_date": 1574449564, "creation_date": 1574449564, "answer_id": 59000294, "question_id": 36021502, "link": "https://stackoverflow.com/questions/36021502/perldoc-error-no-documentation-file/59000294#59000294", "title": "perldoc error: No documentation file", "body": "<p>For those that stumble across this (like me):</p>\n\n<pre><code>pod2man ./myscript.pl | groff -man -T utf8\n</code></pre>\n\n<p>...maybe.  If you want all the glorious man-page formatting.  Otherwise, maybe <code>pod2text</code>?</p>\n"}], "owner": {"reputation": 617, "user_id": 2364438, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lhmZW.gif?s=128&g=1", "display_name": "tvs", "link": "https://stackoverflow.com/users/2364438/tvs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 635, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1574449564, "creation_date": 1458073792, "last_edit_date": 1458088059, "question_id": 36021502, "link": "https://stackoverflow.com/questions/36021502/perldoc-error-no-documentation-file", "title": "perldoc error: No documentation file", "body": "<p>I usually document my perl code using POD syntax, normally I can read the documentation using:</p>\n\n<pre><code>perldoc myscript.pl\n</code></pre>\n\n<p>where myscript.pl is the perl script I wrote with the POD inside.</p>\n\n<p>For example if <strong>myscript.pl</strong> contains:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nprint 'hello world';\n\n=head1 NAME\n\nMy Script name\n\n=head1 DESCRIPTION\n\nDescription of My Script\n\n=cut\n</code></pre>\n\n<p>and execute: <strong>perldoc myscript.pl</strong> I got this:</p>\n\n<pre><code>MYSCRIPT(1)           User Contributed Perl Documentation          MYSCRIPT(1)\n\n\n\nNAME\n       My Script name\n\nDESCRIPTION\n       Description of My Script\n\n\n\nperl v5.18.2                      2016-03-15                       MYSCRIPT(1)\n</code></pre>\n\n<p>Now I found that in some systems I got the following error: </p>\n\n<pre><code>$ perldoc myscript.pl\nNo documentation found for \"myscript.pl\".\n</code></pre>\n\n<p>Anyone have an idea why is this happening? Could be a missing module or software package? Anything else?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 28990, "user_id": 1114966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af8712b05e5cfb862323a07c83749054?s=128&d=identicon&r=PG", "display_name": "squiguy", "link": "https://stackoverflow.com/users/1114966/squiguy"}, "edited": false, "score": 1, "creation_date": 1458071916, "post_id": 36020901, "comment_id": 59693221, "body": "<a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlsub.html</a> and <a href=\"http://perldoc.perl.org/functions/ref.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/ref.html</a>  I&#39;m not a huge fan of pasting links but these will answer your questions."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1458072379, "post_id": 36020901, "comment_id": 59693502, "body": "With my best intentions: I would suggest that you read up on this from a coherent source.  This is important stuff, Googling quick answers won&#39;t cut it for the future.  Nor will short SO posts, unless somebody is willing to write a tutorial.  But they are out there already."}], "answers": [{"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 3, "last_activity_date": 1458074635, "creation_date": 1458074635, "answer_id": 36021723, "question_id": 36020901, "link": "https://stackoverflow.com/questions/36020901/perl-ref-shift-keyword/36021723#36021723", "title": "PERL: ref, shift keyword", "body": "<p>When you call a subroutine in Perl any arguments you supply will be available to the subroutine in a special array called <code>@_</code>.</p>\n\n<p>The <code>shift</code> function takes an array as an argument, removes the first element from the array and returns that value.</p>\n\n<p>However, if you call <code>shift</code> without passing it an array, it operates on the <code>@_</code> array.</p>\n\n<p>So for example if you call a subroutine like this:</p>\n\n<pre><code>my_sub('one', 'two', 'three');\n</code></pre>\n\n<p>And the definition of <code>my_sub</code> starts like this:</p>\n\n<pre><code>sub my_sub {\n    my $arg1 = shift;\n</code></pre>\n\n<p>Then the <code>$arg1</code> variable will contain the string <code>'one'</code> and the <code>@_</code> array will be left with <code>('two', 'three')</code>.</p>\n\n<p>The code you're trying to understand seems to relate to object oriented coding.  If you call a method on an object like this:</p>\n\n<pre><code>$obj-&gt;my_method('one');\n</code></pre>\n\n<p>Then the <code>my_method</code> subroutine will actually be passed two arguments in <code>@_</code>.  The first is the object that the method was invoked on (sometimes called the <code>invocant</code>) which in this example is <code>$obj</code>.  The second argument will be the string <code>'one'</code>.</p>\n\n<p>It is very common in object-oriented code to start a method definition like this:</p>\n\n<pre><code>sub my_method {\n    my $self = shift;\n</code></pre>\n\n<p>Which means <code>$self</code> will now contain the invocant and <code>@_</code> will be left with all the remaining arguments.</p>\n\n<p>In your specific example, you were looking at a constructor which is a special kind of method.  Usually it would be called like this:</p>\n\n<pre><code>my $my_obj = MyClass-&gt;new($arg1, $arg2);\n</code></pre>\n\n<p>In which case the invocant will be the name of the class that the <code>new</code> method was invoked on - the string <code>'MyClass'</code> in this example.</p>\n\n<p>It would also be possible to invoke the constructor function on an existing object like this:</p>\n\n<pre><code>my $new_obj = $my_obj-&gt;new($arg1, $arg2);\n</code></pre>\n\n<p>Exactly what the result of this call should be is not at all clear to the casual reader.  Should it be a completely new object that is a clone of <code>$my_obj</code> or should it be a new object that has nothing in common with <code>$my_obj</code> at all?  In the first case, defining a <code>clone</code> method would be clearer and in the second case, calling the constructor on the class would be clearer.</p>\n\n<p>Your example code is trying to handle these two cases.  If the invocant is a class then <code>ref($self)</code> will return <code>undef</code> since a plain string (the class name) is not a reference.  If the invocant is an object, then <code>ref($self)</code> will return the name of the class that the object is an instance of.</p>\n\n<p>If you're trying to grok Perl's native support for OO programming then start with <a href=\"http://perldoc.perl.org/perlootut.html\" rel=\"nofollow\">the standard tutorial doc</a>.  If you just want to do OO programming with Perl then start with <a href=\"https://metacpan.org/pod/distribution/Moose/lib/Moose/Manual.pod\" rel=\"nofollow\">Moose</a>.</p>\n"}], "owner": {"reputation": 784, "user_id": 4832134, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ad7a1c7bef47a40b0e8ed5c1deb2d200?s=128&d=identicon&r=PG&f=1", "display_name": "John Rambo", "link": "https://stackoverflow.com/users/4832134/john-rambo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 2, "closed_date": 1458089209, "accepted_answer_id": 36021723, "answer_count": 1, "score": -1, "last_activity_date": 1458074635, "creation_date": 1458071746, "question_id": 36020901, "link": "https://stackoverflow.com/questions/36020901/perl-ref-shift-keyword", "closed_reason": "Duplicate", "title": "PERL: ref, shift keyword", "body": "<p>I am going through the following subroutine:</p>\n\n<pre><code>sub new{\n    my $self  = shift;\n    my $class = ref($self) || $self;\n} \n</code></pre>\n\n<p>Here, I don't understand what does <code>shift</code> is used for? What I understand from googling is that, <code>shift</code> returns and deletes the leftmost value of the array. But still I am not sure.</p>\n\n<p>Another question, what does <code>ref</code> is used for? Google says it acts as <code>typeof</code> function that returns the type like <code>scalar</code>, <code>array</code>, <code>hashes</code>.</p>\n\n<p>Still I am not sure about my understanding. Can someone please clarify? </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1458067589, "post_id": 36019521, "comment_id": 59690723, "body": "What&#39;s your question?"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1458067658, "post_id": 36019521, "comment_id": 59690757, "body": "You probably want to use a regular expression here, not split due to the lines being delimited by whitespace. If there is no discoverer listed, then the <code>$discoverer</code> scalar will be filled in with the value of what would have gone into <code>$year</code>."}, {"owner": {"reputation": 11, "user_id": 5451507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08ca302fe738fc658a4d1025278415e?s=128&d=identicon&r=PG&f=1", "display_name": "john castello", "link": "https://stackoverflow.com/users/5451507/john-castello"}, "edited": false, "score": 0, "creation_date": 1458068010, "post_id": 36019521, "comment_id": 59690959, "body": "my question is to find the rows on the list that do not have a discoverer and print them. but I cant seem to get any further that what I have up top."}, {"owner": {"reputation": 11, "user_id": 5451507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08ca302fe738fc658a4d1025278415e?s=128&d=identicon&r=PG&f=1", "display_name": "john castello", "link": "https://stackoverflow.com/users/5451507/john-castello"}, "edited": false, "score": 0, "creation_date": 1458068068, "post_id": 36019521, "comment_id": 59690994, "body": "Hunter McMillen, I&#39;m sorry I do not understand what you are trying to say exactly. Sorry very new to this language."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1458069042, "post_id": 36019521, "comment_id": 59691573, "body": "try <code>print &quot;$row\\n&quot; if $discoverer eq &#39;-&#39;</code>"}, {"owner": {"reputation": 11, "user_id": 5451507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08ca302fe738fc658a4d1025278415e?s=128&d=identicon&r=PG&f=1", "display_name": "john castello", "link": "https://stackoverflow.com/users/5451507/john-castello"}, "edited": false, "score": 0, "creation_date": 1458069445, "post_id": 36019521, "comment_id": 59691810, "body": "yes, fugu that worked. I dint realize that all the blank ones had a &#39;-&#39; or the other ones had a &#39;?&#39;. thanks a bunch. I definitely need to keep my eyes open to those little details."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5451507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08ca302fe738fc658a4d1025278415e?s=128&d=identicon&r=PG&f=1", "display_name": "john castello", "link": "https://stackoverflow.com/users/5451507/john-castello"}, "edited": false, "score": 0, "creation_date": 1458264651, "post_id": 36020197, "comment_id": 59795088, "body": "hey fugu or anyone else that can help. I have encountered another problem. I need to remove the second element of every line(the period, which are the roman numerals). I set everything into an array but for some reason it only removes the second element from the first line. do you have any ideas on what could work?? here is the code that I got so far:#!/usr/bin/perl open(DICT, &quot;&lt;solar.txt&quot;);   while (@line = &lt;DICT&gt;) { # Loop through each line    $moons = &quot;@line&quot;;    @line = split(/ /, $moons);           splice(@lines, 1 , 1 , &quot; &quot;);     print &quot;@line\\n&quot;; # print out the words\u2026   }  close(DICT);"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "reply_to_user": {"reputation": 11, "user_id": 5451507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08ca302fe738fc658a4d1025278415e?s=128&d=identicon&r=PG&f=1", "display_name": "john castello", "link": "https://stackoverflow.com/users/5451507/john-castello"}, "edited": false, "score": 0, "creation_date": 1458298529, "post_id": 36020197, "comment_id": 59809285, "body": "@johncastello - You should ask another question. However a quick glance at your code suggests that the problem could be fixed by replacing <code>while (@line = &lt;DICT&gt;)</code> with <code>while ($line = &lt;DICT&gt;)</code>"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": true, "score": 1, "last_activity_date": 1458069789, "last_edit_date": 1458069789, "creation_date": 1458069424, "answer_id": 36020197, "question_id": 36019521, "link": "https://stackoverflow.com/questions/36019521/inputing-a-text-file-that-has-a-list-of-planets-and-information-on-them-and-sear/36020197#36020197", "title": "inputing a text file that has a list of planets and information on them and searching them in perl", "body": "<p>I googled and found your data and you're almost there. However, you should include an example of a line that you want to print in your question, such as:</p>\n\n<pre><code>Adrastea XV Jupiter 129000 0.30 0.00 0.00 Jewitt 1979 # Discoverer named -&gt; don't print\nEarth III Sun 149600000 365.26 0.00 0.02 - - # Discoverer not named -&gt; print\n</code></pre>\n\n<p>This makes it easier to diagnose the problem in your code. Try this <code>if</code> statement: </p>\n\n<pre><code>if ($discoverer eq '-'){\n    print \"$row\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5451507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08ca302fe738fc658a4d1025278415e?s=128&d=identicon&r=PG&f=1", "display_name": "john castello", "link": "https://stackoverflow.com/users/5451507/john-castello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 36020197, "answer_count": 1, "score": 0, "last_activity_date": 1458069789, "creation_date": 1458067313, "last_edit_date": 1458069750, "question_id": 36019521, "link": "https://stackoverflow.com/questions/36019521/inputing-a-text-file-that-has-a-list-of-planets-and-information-on-them-and-sear", "title": "inputing a text file that has a list of planets and information on them and searching them in perl", "body": "<p>I'm very new to perl, and still trying to get used to it. so ive been practicing and I found this project online, and ive been trying to figure it out, but I'm stuck.\nthese are the instuctions: </p>\n\n<pre><code>Print all records that do not list a discoverer in the eighth field.  \nThis file contains lines of 9 items, the first being: \nAdrastea XV Jupiter 129000 0.30 0.00 0.00 Jewitt 1979 in alphabetical order by the name of the planet or moon (first field). The text in [] is the corresponding field from the line above. \n\nThe fields in this file are:\n1. Name of planet or moon [Adrastea]\n2. Number of moon or planet (roman numerals) [XV]\n3. Name of the abject around which the satellite orbits [Jupiter]\n4. Orbital radius (semimajor axis) in kilometers [129000]\n5. Orbital period in days [0.30]\n6. Orbital inclination in degrees [0.00]\n7. Orbital eccentricity [0.00]\n8. Discoverer [Jewitt]\n9. Year of discovery [1979]\n</code></pre>\n\n<p>This is an example of a line from my data that I want to print (i.e. where there is no discoverer named): </p>\n\n<pre><code>Earth III Sun 149600000 365.26 0.00 0.02 - - # Discoverer not named -&gt; print\n</code></pre>\n\n<p>I'm stuck on how to search the file and finding which rows don't have a discoverer listed.</p>\n\n<p>This is my code so far (I'm sure that my last if statement is wrong):</p>\n\n<pre><code>    #!/usr/bin/perl\n    use strict;\n    use warnings;\n    my $filename = 'solar.txt';\n    open(my $fh, '&lt;:encoding(UTF -8)', $filename)\n        or die \"could not open file!!!\";\n            #print \"$fh\";\n\n    while ( my $row = &lt;$fh&gt;) {\n         my ( $planet, \n              $number_moons, \n              $obj_orbit, \n              $orbital_radius, \n              $orbital_period, \n              $orbital_inclination, \n              $orbtial_eccentricity, \n              $discoverer, \n              $year\n         ) = split / /, $row;\n\n         if( $row !~ $discoverer ){\n             print \"$row\";\n        }\n    }\n</code></pre>\n"}, {"tags": ["xml", "perl", "xml-twig"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5226388, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-S_f-X_R2k3U/AAAAAAAAAAI/AAAAAAAAAls/4gnwb-aQ2oY/photo.jpg?sz=128", "display_name": "Vijay Baskar", "link": "https://stackoverflow.com/users/5226388/vijay-baskar"}, "edited": false, "score": 0, "creation_date": 1458145221, "post_id": 36014234, "comment_id": 59731533, "body": "Thanks Mirod, its working as expected. Can you help me how to skip the second &lt;p&gt; element inside each &lt;list-item&gt;."}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "reply_to_user": {"reputation": 21, "user_id": 5226388, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-S_f-X_R2k3U/AAAAAAAAAAI/AAAAAAAAAls/4gnwb-aQ2oY/photo.jpg?sz=128", "display_name": "Vijay Baskar", "link": "https://stackoverflow.com/users/5226388/vijay-baskar"}, "edited": false, "score": 0, "creation_date": 1458190802, "post_id": 36014234, "comment_id": 59751932, "body": "if you want to skip the 2cd p, but output all the others, add <code>return if $_-&gt;prev_siblings(&#39;p&#39;) == 1;</code> at the beginning of the handler (return if the current p has a single previous sibling). If you only want to output the first <code>p</code>, add <code>return if $_-&gt;prev_sibling(&#39;p&#39;);</code> (return if the current p has a previous sibling)"}], "tags": [], "owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "is_accepted": false, "score": 6, "last_activity_date": 1458060219, "last_edit_date": 1458060219, "creation_date": 1458052399, "answer_id": 36014234, "question_id": 36013929, "link": "https://stackoverflow.com/questions/36013929/handling-html-nested-list-element-using-perl-xmltwig/36014234#36014234", "title": "handling html nested list element using perl XML::Twig", "body": "<p>You can get the number of enclosing lists by using <code>ancestors( 'list')</code> in scalar context (which returns the number of elements of the list). Use this value to generate the prefix with the proper number of '*':</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nXML::Twig-&gt;new( twig_handlers =&gt; { \n  'list-item/p' =&gt; sub { my $level= $_-&gt;ancestors( 'list');\n                         $_-&gt;prefix( '*' x $level . ' ');\n                         $_-&gt;print;\n                         print \"\\n\";\n                       }\n  }\n)\n         -&gt;parse( \\*DATA);\n__DATA__\n&lt;list list-type=\"bullet\"&gt;\n  &lt;list-item&gt;\n    &lt;p&gt;Linea&lt;/p&gt;\n    &lt;list list-type=\"bullet\"&gt;\n      &lt;list-item&gt;\n        &lt;p&gt;Uno&lt;/p&gt;\n      &lt;/list-item&gt;\n      &lt;list-item&gt;\n        &lt;p&gt;vitara&lt;/p&gt;\n      &lt;/list-item&gt;\n     &lt;/list&gt;\n   &lt;/list-item&gt;\n   &lt;list-item&gt;\n    &lt;p&gt;Panda&lt;/p&gt;\n   &lt;/list-item&gt;\n&lt;/list&gt;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5226388, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-S_f-X_R2k3U/AAAAAAAAAAI/AAAAAAAAAls/4gnwb-aQ2oY/photo.jpg?sz=128", "display_name": "Vijay Baskar", "link": "https://stackoverflow.com/users/5226388/vijay-baskar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458060838, "creation_date": 1458051570, "last_edit_date": 1458060838, "question_id": 36013929, "link": "https://stackoverflow.com/questions/36013929/handling-html-nested-list-element-using-perl-xmltwig", "title": "handling html nested list element using perl XML::Twig", "body": "<p>Im processing the html list using perl XML::Twig.</p>\n\n<p>The list element have the another nested list element like</p>\n\n<pre><code>&lt;list list-type=\"bullet\"&gt;\n  &lt;list-item&gt;\n    &lt;p&gt;Linea&lt;/p&gt;\n    &lt;list list-type=\"bullet\"&gt;\n      &lt;list-item&gt;\n        &lt;p&gt;Uno&lt;/p&gt;\n      &lt;/list-item&gt;\n      &lt;list-item&gt;\n        &lt;p&gt;vitara&lt;/p&gt;\n      &lt;/list-item&gt;\n     &lt;/list&gt;\n   &lt;/list-item&gt;\n   &lt;list-item&gt;\n    &lt;p&gt;Panda&lt;/p&gt;\n   &lt;/list-item&gt;\n&lt;/list&gt;\n</code></pre>\n\n<p>The output should be </p>\n\n<pre><code>&lt;p&gt;* Linea&lt;/p&gt;\n&lt;p&gt;** Uno&lt;/p&gt;\n&lt;p&gt;** vitara&lt;/p&gt;\n&lt;p&gt;* Panda&lt;/p&gt;\n</code></pre>\n\n<p>Can anyone help me here to get this output using XML::Twig</p>\n\n<p>Thanks in Advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1458051556, "post_id": 36013883, "comment_id": 59679091, "body": "<code>home&#47;user&#47;newresults_percengtage_vs_pn</code> is a relative path; unless you run your script from <code>&#47;</code>, it&#39;s not the same as <code>&#47;home&#47;user&#47;newresults_percengtage_vs_pn</code>."}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458051614, "post_id": 36013883, "comment_id": 59679145, "body": "how would i be able to outfile it to that specific location then?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1458051674, "post_id": 36013883, "comment_id": 59679187, "body": "Plus you are opening the file for writing and then loop over the filehandle as if you were reading from it. I suggest <i>either -- or</i>."}, {"owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "edited": false, "score": 0, "creation_date": 1458051696, "post_id": 36013883, "comment_id": 59679205, "body": "@m.lochhead by adding the missing <code>&#47;</code> maybe?"}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "reply_to_user": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "edited": false, "score": 0, "creation_date": 1458051980, "post_id": 36013883, "comment_id": 59679440, "body": "@sidyll it didnt work :/"}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1458051996, "post_id": 36013883, "comment_id": 59679452, "body": "@PerlDog what do you mean by either -- or ?"}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458052213, "post_id": 36013883, "comment_id": 59679625, "body": "the probelm is to read in a file and then output a file. above the &quot;sub pushval&quot; i have the file being read into to program. this function is to take that data from the file and outfile a new file. thats where the &quot;$fields&quot; come from."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1458052541, "post_id": 36013883, "comment_id": 59679906, "body": "<i>Either/or</i> means: <i>either</i> you open the file for reading and iterate over the filehandle <i>or</i> you open the file for writing and then iterate over your data structure and write to the file. You can do both r/w on the same filehandle but not the way you opened it."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458055696, "post_id": 36014962, "comment_id": 59682496, "body": "i get the following error after fixing my program. Thank yu so much!!"}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458055701, "post_id": 36014962, "comment_id": 59682507, "body": "syntax error at ./reprioritize line 36, near &quot;){&quot; syntax error at ./reprioritize line 38, near &quot;}elsif&quot; syntax error at ./reprioritize line 40, near &quot;}elsif&quot;"}, {"owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "reply_to_user": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458055904, "post_id": 36014962, "comment_id": 59682676, "body": "I may have missed a semi-colon after the first print statement after the open line."}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458055996, "post_id": 36014962, "comment_id": 59682749, "body": "it still gives me a no such file or directory exits for the open outfile portion"}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458056284, "post_id": 36014962, "comment_id": 59682989, "body": "maybe if i create the file to be an empty file before hand in the script then do this? because the file doesnt exist since i want to oufile to it."}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458056343, "post_id": 36014962, "comment_id": 59683036, "body": "like i want it to create a brand new file"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458058815, "post_id": 36014962, "comment_id": 59684794, "body": "@m.lochhead Does the directory <code>newresults_percengtage_vs_pn</code> exist? To be more precise: can you execute <code>cd &#47;home&#47;user&#47;newresults_percengtage_vs_pn</code> in a terminal window without errors?"}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1458059938, "post_id": 36014962, "comment_id": 59685575, "body": "@PerlDog yes it does exist and i can change directory to it"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458061706, "post_id": 36014962, "comment_id": 59686750, "body": "@m.lochhead Ok, that&#39;s half the battle. I just wanted to make sure."}], "tags": [], "owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "is_accepted": false, "score": 0, "last_activity_date": 1458054228, "creation_date": 1458054228, "answer_id": 36014962, "question_id": 36013883, "link": "https://stackoverflow.com/questions/36013883/what-is-wrong-with-the-syntax-that-does-not-give-me-an-outfile/36014962#36014962", "title": "what is wrong with the syntax that does not give me an outfile?", "body": "<p>The comments explain that your two issues with the snippet are</p>\n\n<ol>\n<li>The missing leading '/' in the $newresult declaration</li>\n<li>You are treating your filehandle as both a read and a write.</li>\n</ol>\n\n<p>The first is easy to fix. The second is not as easy to fix properly with knowing the rest of the script. I am making an assumption that pushval is called once per record in a Array of Arrays(?). This snippet below should get the result you want, but there is likely a better way of doing it.</p>\n\n<pre><code>my $newresult = \"/home/user/newresults_percengtage_vs_pn\";\n\nsub pushval{\n        my @fields = @_;\n        open OUTFILE, \"&gt;&gt;$newresult/fixedhomdata_030716-031316.csv\" or die $!;   #line 35\n        print OUTFILE \"$fields[0]\", \"$fields[1]\",\"$fields[2]\",\"$fields[3]\",\"$fields[4]\",\"$fields[5]\"\n        if($fields[5] &gt;= 13) {\n              print OUTFILE \"0\\n\";\n        } elsif($fields[5] &lt; 13 &amp;&amp; $fields[5] &gt; 1) {\n              print OUTFILE \"1\\n\";\n        } elsif($fields[5] &lt;= 1) {\n              print OUTFILE \"2\\n\";\n        }\n\n        close (OUTFILE);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458128770, "post_id": 36023002, "comment_id": 59718488, "body": "thank you so much for clarifying it! it fixed the problem i was having."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 1, "last_activity_date": 1458079029, "creation_date": 1458079029, "answer_id": 36023002, "question_id": 36013883, "link": "https://stackoverflow.com/questions/36013883/what-is-wrong-with-the-syntax-that-does-not-give-me-an-outfile/36023002#36023002", "title": "what is wrong with the syntax that does not give me an outfile?", "body": "<p>You may want to have a look at <a href=\"http://perldoc.perl.org/perlopentut.html#Opening-Text-Files\" rel=\"nofollow\">Perl's tutorial on opening files</a>.</p>\n\n<p>I simplify it a bit. There are basically three modes: open for <strong>reading</strong>, open for <strong>writing</strong>, and open for <strong>appending</strong>.</p>\n\n<h3>Reading</h3>\n\n<p>Opening for <strong>reading</strong> is indicated by either a <code>&lt;</code> preceeding the filename or on its own, as a separate parameter to the <code>open()</code> call (preferred), i.e.:</p>\n\n<pre><code>my $fh = undef;\nmy $filename = 'fixedhomdata_030716-031316.csv';\nopen($fh, \"&lt;$filename\") or die $!;      # bad   \nopen($fh, '&lt;', $filename) or die $!;    # good\nwhile( my $line = &lt;$fh&gt; ) {             # read one line from filehandle $fh\n   ...\n}\nclose($fh);\n</code></pre>\n\n<p>When you open the file this way, <em>it must exist</em>, else you get your error (<code>No such file or directory at ...</code>).</p>\n\n<h3>Writing</h3>\n\n<p>Opening for <strong>writing</strong> is indicated by a <code>&gt;</code>, i.e.:</p>\n\n<pre><code>open($fh, \"&gt;$filename\") or die $!;      # bad   \nopen($fh, '&gt;', $filename) or die $!;    # good\nprint $fh \"some text\\n\";                # write to filehandle $fh\nprint $fh \"more text\\n\";                # write to filehandle $fh\n...\nclose($fh);\n</code></pre>\n\n<p>When you open the file this way, it is truncated (cleared) and overwritten if it existed. If it did not exist, it will get created.</p>\n\n<h3>Appending</h3>\n\n<p>Opening for <strong>appending</strong> is indicated by a <code>&gt;&gt;</code>, i.e.:</p>\n\n<pre><code>open($fh, \"&gt;&gt;$filename\") or die $!;     # bad   \nopen($fh, '&gt;&gt;', $filename) or die $!;   # good\nprint $fh \"some text\\n\";                # append to filehandle $fh\nprint $fh \"more text\\n\";                # append to filehandle $fh\n...\nclose($fh);\n</code></pre>\n\n<p>When you open the file this way and it existed, then the new lines will be appended to the file, i.e. nothing is lost. If the file did not\nexist, it will be created (as if only <code>&gt;</code> had been given).</p>\n\n<p>Your error message doesn't match your code. You opened the file for writing (<code>&gt;</code>) but got <code>doesn't exist</code>, which indicates that you actually opened it for reading.</p>\n\n<p>This <em>might</em> have happened because you use OUTPUT as a filehandle instead of a scoped variable, e.g. <code>$fh</code>. OUTPUT is a <em>global</em> filehandle, i.e. if you open a file this way, then all of your code (no matter which function in) can use OUTPUT. Don't do that. From the <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\">docs</a>:</p>\n\n<blockquote>\n  <p>An older style is to use a bareword as the filehandle, as</p>\n\n<pre><code>    open(FH, \"&lt;\", \"input.txt\")\n       or die \"cannot open &lt; input.txt: $!\";\n</code></pre>\n  \n  <p>Then you can use FH as the filehandle, in close FH and  and so on.\n  Note that it's a global variable, <strong><em>so this form is not recommended\n  in new code.</em></strong></p>\n</blockquote>\n\n<p>To summarize:</p>\n\n<ul>\n<li>use scoped variables as filehandles (<code>$fh</code> instead of <code>OUTPUT</code>)</li>\n<li>open your file in the right mode (<code>&gt;</code> vs. <code>&lt;</code>)</li>\n<li>always use three-argument open (<code>open($fh, $mode, $filename)</code> vs. <code>open($fh, \"$mode$filename\")</code></li>\n</ul>\n"}], "owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 36023002, "answer_count": 2, "score": 0, "last_activity_date": 1458079029, "creation_date": 1458051462, "question_id": 36013883, "link": "https://stackoverflow.com/questions/36013883/what-is-wrong-with-the-syntax-that-does-not-give-me-an-outfile", "title": "what is wrong with the syntax that does not give me an outfile?", "body": "<p>I dont know what exactly is wrong but everytime I execute this script i keep getting \"No such file or directory at ./reprioritize line 35,  line 1\".</p>\n\n<p>here is my script that is having an issue:</p>\n\n<pre><code>my $newresult = \"home/user/newresults_percengtage_vs_pn\";\n\nsub pushval\n        {\n        my @fields = @_;\n        open OUTFILE, \"&gt;$newresult/fixedhomdata_030716-031316.csv\" or die $!;   #line 35\n        while(&lt;OUTFILE&gt;)\n        {\n                if($fields[5] &gt;= 13)\n                {\n                        print OUTFILE \"$fields[0]\", \"$fields[1]\",\"$fields[2]\",\"$fields[3]\",\"$fields[4]\",\"$fields[5]\", \"0\";\n                }\n                elsif($fields[5] &lt; 13 &amp;&amp; $fields[5] &gt; 1)\n                {\n                        print OUTFILE \"$fields[0]\", \"$fields[1]\",\"$fields[2]\",\"$fields[3]\",\"$fields[4]\",\"$fields[5]\", \"1\";\n                }\n                elsif($fields[5] &lt;= 1)\n                {\n                        print OUTFILE \"$fields[0]\", \"$fields[1]\",\"$fields[2]\",\"$fields[3]\",\"$fields[4]\",\"$fields[5]\", \"2\";\n                }\n        }\n        close (OUTFILE);\n</code></pre>\n"}, {"tags": ["perl", "subdirectory", "readdir"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 0, "creation_date": 1458051986, "post_id": 36014013, "comment_id": 59679446, "body": "Thank you, I didn&#39;t realize I had to use opendir again.  That solves the problem!"}], "tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": false, "score": 4, "last_activity_date": 1458051802, "creation_date": 1458051802, "answer_id": 36014013, "question_id": 36013827, "link": "https://stackoverflow.com/questions/36013827/read-all-the-files-in-a-series-of-subdirectories-in-perl/36014013#36014013", "title": "Read all the files in a series of subdirectories in Perl", "body": "<p><code>readdir</code> works on handles opened with <code>opendir</code>. You're using it correctly first time, but incorrectly try to feed it string with path second time.</p>\n\n<p>You also might be interested in using <a href=\"http://p3rl.org/File::Find\" rel=\"nofollow\"><code>File::Find</code></a> instead of writing your own implementation.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1458057750, "last_edit_date": 1458057750, "creation_date": 1458054814, "answer_id": 36015163, "question_id": 36013827, "link": "https://stackoverflow.com/questions/36013827/read-all-the-files-in-a-series-of-subdirectories-in-perl/36015163#36015163", "title": "Read all the files in a series of subdirectories in Perl", "body": "<p>It's often easier to use the <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\"><code>glob</code></a> function instead of <code>opendir</code> and <code>readdir</code>. It has the advantage of ignoring the pseudo-directories <code>.</code> and <code>..</code> as well as returning paths instead of bare file names</p>\n\n<p>I think your code should look something like this</p>\n\n<pre><code>my $parent = 'D:/Cleaned 10Ks';\n\nwhile ( my $subdir = glob \"$parent/*\" ) {\n\n    next unless -d $subdir;\n\n    my @files = grep -f, glob \"$subdir/*\";\n}\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1156, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1458057750, "creation_date": 1458051346, "question_id": 36013827, "link": "https://stackoverflow.com/questions/36013827/read-all-the-files-in-a-series-of-subdirectories-in-perl", "title": "Read all the files in a series of subdirectories in Perl", "body": "<p>I want to create an array of all the files in a series of subdirectories, one subdirectory at a time.  My current code is returning a \"Bad symbol for dirhandle\" error message at the last line of this code.  What do I need to change to properly read in the files for each subdirectory into the @I1_s array?</p>\n\n<pre><code>my $parent = \"D:/Cleaned 10Ks\" ;\nmy ($par_dir, $sub_dir);\nopendir($par_dir, $parent);\nwhile (my $sub_folders = readdir($par_dir)) {\n    next if ($sub_folders =~ /^..?$/);  # skip . and ..\n        my $path = $parent . '/' . $sub_folders;\n    next unless (-d $path);   # skip anything that isn't a directory\n    chdir($path) or die \"Cant chdir to $path $!\";\n    my @I1_s=readdir($path) ;\n</code></pre>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 353, "user_id": 3930179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8accad02d8b7e05b7b0f769d79a71999?s=128&d=identicon&r=PG&f=1", "display_name": "chaya", "link": "https://stackoverflow.com/users/3930179/chaya"}, "reply_to_user": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1458042137, "post_id": 36010236, "comment_id": 59672015, "body": "it should search for combination of 2,6,7  and display those lines of files  only"}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1458042289, "post_id": 36010236, "comment_id": 59672149, "body": "Well, the linked question handles the case of two fields, so you can just change the field separator to a pipe character <code>-F&#39;|&#39;</code> and use <code>[$2,$6,$7]</code> instead of <code>[$2,$3]</code> in the accepted answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1458052514, "post_id": 36010236, "comment_id": 59679884, "body": "@TomFenech: I think the use of <i>\u201cunique\u201d</i> here is misleading. The <a href=\"http://stackoverflow.com/questions/30895396/selecting-unique-lines-based-on-two-columns\">linked question</a> asks for all records that are distinct according to a subset of the columns. I believe the OP here is asking for a way to find all lines in the file with the <i>specific values</i> <code>IGA US TESTFEED</code>, <code>System memory</code> and <code>2255935216</code> for columns 2, 7 and 8. We need clarification before this question should be closed"}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 3930179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8accad02d8b7e05b7b0f769d79a71999?s=128&d=identicon&r=PG&f=1", "display_name": "chaya", "link": "https://stackoverflow.com/users/3930179/chaya"}, "edited": false, "score": 0, "creation_date": 1458044614, "post_id": 36010460, "comment_id": 59673804, "body": "Can u replace the static column value into dynamic column count, like   :   grep &quot;.*|$2|.*|.*|.*|.*|$6|$7|.*&quot; &#39;M02232016.IGA-US-TESTFEED.dat&#39;,     Correct me the syntax"}], "tags": [], "owner": {"reputation": 1589, "user_id": 5944798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7532aec0ae828a8c2e98970b40fd1cc7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien Lopez", "link": "https://stackoverflow.com/users/5944798/julien-lopez"}, "is_accepted": false, "score": 0, "last_activity_date": 1458202527, "last_edit_date": 1458202527, "creation_date": 1458042433, "answer_id": 36010460, "question_id": 36010236, "link": "https://stackoverflow.com/questions/36010236/how-to-get-the-file-with-unique-combination-of-columns-of-file-using-shell-scrip/36010460#36010460", "title": "How to get the file with unique combination of columns of file using shell script command", "body": "<pre><code>x=\"IGA US TESTFEED\"; \ny=\"System memory\"; \nz=\"2255935216\"; \ngrep \".*|$x|.*|.*|.*|.*|$y|$z|.*\" file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1458046702, "last_edit_date": 1458046702, "creation_date": 1458046208, "answer_id": 36011837, "question_id": 36010236, "link": "https://stackoverflow.com/questions/36010236/how-to-get-the-file-with-unique-combination-of-columns-of-file-using-shell-scrip/36011837#36011837", "title": "How to get the file with unique combination of columns of file using shell script command", "body": "<p>I think this will do as you ask</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -aF'\\|' -ne 'print if \"@F[1,6,7]\" eq \"IGA US TESTFEED System memory 2255935216\"' myfile.txt\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>C|IGA US TESTFEED|bld-af-y1-dhe.boulder.ibm.com|02/21/2016|00:02:31||System memory|2255935216|4294967295|4294967295|300\nC|IGA US TESTFEED|bld-af-y1-dhe.boulder.ibm.com|02/21/2016|00:07:31||System memory|2255935216|4294967295|4294967295|300\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 3930179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8accad02d8b7e05b7b0f769d79a71999?s=128&d=identicon&r=PG&f=1", "display_name": "chaya", "link": "https://stackoverflow.com/users/3930179/chaya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1458202527, "creation_date": 1458041793, "last_edit_date": 1458051942, "question_id": 36010236, "link": "https://stackoverflow.com/questions/36010236/how-to-get-the-file-with-unique-combination-of-columns-of-file-using-shell-scrip", "title": "How to get the file with unique combination of columns of file using shell script command", "body": "<p>I want to get the unique combination of the 2nd, 7th, and 8th columns</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>IGA US TESTFEEDSystem memory2255935216\n</code></pre>\n\n<p>It should display the entire row of the file</p>\n\n<p>Here is some example data</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C|IGA US TESTFEED|bld-af-y1-dhe.boulder.ibm.com|02/21/2016|00:02:31||System memory|2255935216|4294967295|4294967295|300\nC|IGA US TESTFEED|bld-af-y1-dhe.boulder.ibm.com|02/21/2016|00:04:21||MEMPOOL_DMA|75432384|260292160|260215120|300\nC|IGA US TESTFEED|bld-af-y1-dhe.boulder.ibm.com|02/21/2016|00:04:27||MEMPOOL_GLOBAL_SHARED|352552672|4294967295|4294967295|300\nC|IGA US TESTFEED|bld-af-y1-dhe.boulder.ibm.com|02/21/2016|00:07:31||System memory|2255935216|4294967295|4294967295|300\nC|IGA US TESTFEED|bld-af-y1-dhe.boulder.ibm.com|02/21/2016|00:09:15||MEMPOOL_DMA_ALT1|63314848|272409696|272409600|300\nC|IGA US TESTFEED|bld-af-y1-dhe.boulder.ibm.com|02/21/2016|00:09:21||MEMPOOL_DMA|75432384|260292160|260215120|300\nC|IGA US TESTFEED|bld-af-y1-dhe.boulder.ibm.com|02/21/2016|00:09:27||MEMPOOL_GLOBAL_SHARED|352552672|4294967295|4294967295|300 \n</code></pre>\n"}, {"tags": ["mysql", "json", "perl", "dbi"], "answers": [{"tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": true, "score": 3, "last_activity_date": 1458041445, "creation_date": 1458041445, "answer_id": 36010097, "question_id": 36009514, "link": "https://stackoverflow.com/questions/36009514/insert-json-string-into-mysql/36010097#36010097", "title": "insert json string into mysql", "body": "<p>Try removing that period after the closing parenthesis after <code>meta</code>.</p>\n"}], "owner": {"reputation": 202, "user_id": 1606164, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6306a99514c0a21ba2e88e58b998505e?s=128&d=identicon&r=PG", "display_name": "Tigran Khachikyan", "link": "https://stackoverflow.com/users/1606164/tigran-khachikyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 923, "favorite_count": 0, "accepted_answer_id": 36010097, "answer_count": 1, "score": 1, "last_activity_date": 1458041445, "creation_date": 1458040042, "question_id": 36009514, "link": "https://stackoverflow.com/questions/36009514/insert-json-string-into-mysql", "title": "insert json string into mysql", "body": "<p>I want to store json string in mysql db. \nBut seems there is some quotation issue, I can't figure out.</p>\n\n<pre><code>use DBI;\nuse JSON;\n\n#some staff\n\nmy $json_string = encode_json \\%DB;\n\n#DBI CONNECTION...\n\n# insert data into the links table\nmy $sql = \"INSERT INTO `tech_nodes` (`meta`).\n    VALUES(?)\";\nmy $stmt = $dbh-&gt;prepare($sql);\n$stmt-&gt;bind_param(1, $json_string );\n\n# execute the query\n$stmt-&gt;execute();\n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>DBD::mysql::st execute failed: You have an error in your SQL syntax;\n  check the manual that corresponds to your MySQL server version for the\n  right syntax to use near '.\n          VALUES('{\\\"techs\\\":{\\\"A\\\":{\\\"B\\\":null,\\\"techs\\\":{\\\"stack.tc'\n  at line 1 at ./stacks.pl line 121. DBD::mysql::st execute failed: You\n  have an error in your SQL syntax; check the manual that corresponds to\n  your MySQL server version for the right syntax to use near '.\n          VALUES('{\\\"techs\\\":{\\\"A\\\":{\\\"B\\\":null,\\\"techs\\\":{\\\"stack.tc'\n  at line 1 at./stacks.pl line 121.</p>\n</blockquote>\n\n<p>Table description:</p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS `tech_nodes` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `meta` MEDIUMTEXT NOT NULL,\n  `generated_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;\n</code></pre>\n"}, {"tags": ["perl", "ubuntu", "docker", "docker-build"], "comments": [{"owner": {"reputation": 23608, "user_id": 2915097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91318014af3b3d389901d50d5f9276d5?s=128&d=identicon&r=PG&f=1", "display_name": "user2915097", "link": "https://stackoverflow.com/users/2915097/user2915097"}, "edited": false, "score": 0, "creation_date": 1458039198, "post_id": 36008852, "comment_id": 59669962, "body": "Can you post your Dockerfile? Did you begin with <code>apt-get update</code>? which distribution do you use (Ubuntu, Debian, Centos, Alpine...)?"}, {"owner": {"reputation": 6733, "user_id": 52116, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c2fdf17881a0a3d248f9d431f98e1bca?s=128&d=identicon&r=PG", "display_name": "Adam Taylor", "link": "https://stackoverflow.com/users/52116/adam-taylor"}, "edited": false, "score": 0, "creation_date": 1458039204, "post_id": 36008852, "comment_id": 59669968, "body": "Maybe try a <code>RUN apt-get update</code> first. I&#39;m quite new to docker myself but I believe if you look at the output of <code>docker ps</code> you can then connect to the docker image <code>sudo docker exec -it &lt;containerIdOrName&gt; bash</code> and then play around with the installation procedure manually until you get it to work."}, {"owner": {"reputation": 4893, "user_id": 1925997, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/nfivT.jpg?s=128&g=1", "display_name": "Kishore Bandi", "link": "https://stackoverflow.com/users/1925997/kishore-bandi"}, "edited": false, "score": 0, "creation_date": 1458040079, "post_id": 36008852, "comment_id": 59670551, "body": "I&#39;ve updated my Docker File used. Yes, I&#39;ve update as well. Also, I used the same dockerFile for multiple other images and they used to work fine. I started facing this issue only with this new image that I&#39;m creating."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1458120255, "post_id": 36008852, "comment_id": 59712401, "body": "I think this is related to apt setup. Can you show the contents <code>&#47;etc&#47;apt&#47;sources.list</code> and <code>&#47;etc&#47;apt&#47;sources.list.d</code> inside the image?"}], "answers": [{"tags": [], "owner": {"reputation": 4893, "user_id": 1925997, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/nfivT.jpg?s=128&g=1", "display_name": "Kishore Bandi", "link": "https://stackoverflow.com/users/1925997/kishore-bandi"}, "is_accepted": true, "score": 1, "last_activity_date": 1458300741, "creation_date": 1458300741, "answer_id": 36083283, "question_id": 36008852, "link": "https://stackoverflow.com/questions/36008852/building-a-docker-image-results-in-error-while-trying-to-install-libwww-perl-i-e/36083283#36083283", "title": "Building a Docker Image results in error while trying to install libwww-perl i.e., perl-modules_5.14.2-6 and perl_5.14.2-6 Not found", "body": "<p>Looks like the issue was the linux image downloaded.\nAfter using another version of the image and adding</p>\n\n<pre><code>RUN apt-get update\n</code></pre>\n\n<p>line before all other RUN commands even for my existing DockerFile (which worked till now) fixed the issue.</p>\n\n<p>But I'm still not sure how these existing DockerFile worked till now.</p>\n"}], "owner": {"reputation": 4893, "user_id": 1925997, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/nfivT.jpg?s=128&g=1", "display_name": "Kishore Bandi", "link": "https://stackoverflow.com/users/1925997/kishore-bandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 36083283, "answer_count": 1, "score": 0, "last_activity_date": 1458300741, "creation_date": 1458038302, "last_edit_date": 1458040010, "question_id": 36008852, "link": "https://stackoverflow.com/questions/36008852/building-a-docker-image-results-in-error-while-trying-to-install-libwww-perl-i-e", "title": "Building a Docker Image results in error while trying to install libwww-perl i.e., perl-modules_5.14.2-6 and perl_5.14.2-6 Not found", "body": "<p>I need the package <code>libwww-perl</code> when my ubuntu image is created in docker.\nSo in my Docker file, I added the line</p>\n\n<p><code>RUN apt-get install -y libwww-perl</code></p>\n\n<p>However when I'm trying to build this Docker image</p>\n\n<p><code>sudo docker build -t web-service:latest .</code></p>\n\n<p>I end up with below error.</p>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>Step 3 : RUN apt-get install -y libwww-perl\n ---&gt; Running in 5c6c1fdd3b66\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following extra packages will be installed:\n  libclass-isa-perl libencode-locale-perl libfile-listing-perl\n  libfont-afm-perl libhtml-form-perl libhtml-format-perl libhtml-parser-perl\n  libhtml-tagset-perl libhtml-tree-perl libhttp-cookies-perl\n  libhttp-daemon-perl libhttp-date-perl libhttp-message-perl\n  libhttp-negotiate-perl libio-socket-inet6-perl libio-socket-ssl-perl\n  liblwp-mediatypes-perl liblwp-protocol-https-perl libmailtools-perl\n  libnet-http-perl libnet-ssleay-perl libsocket6-perl libswitch-perl\n  libtimedate-perl liburi-perl libwww-robotrules-perl perl perl-modules\nSuggested packages:\n  libdata-dump-perl libcrypt-ssleay-perl libmime-base64-perl\n  libauthen-ntlm-perl perl-doc libterm-readline-gnu-perl\n  libterm-readline-perl-perl libpod-plainer-perl\nThe following NEW packages will be installed:\n  libclass-isa-perl libencode-locale-perl libfile-listing-perl\n  libfont-afm-perl libhtml-form-perl libhtml-format-perl libhtml-parser-perl\n  libhtml-tagset-perl libhtml-tree-perl libhttp-cookies-perl\n  libhttp-daemon-perl libhttp-date-perl libhttp-message-perl\n  libhttp-negotiate-perl libio-socket-inet6-perl libio-socket-ssl-perl\n  liblwp-mediatypes-perl liblwp-protocol-https-perl libmailtools-perl\n  libnet-http-perl libnet-ssleay-perl libsocket6-perl libswitch-perl\n  libtimedate-perl liburi-perl libwww-perl libwww-robotrules-perl perl\n  perl-modules\n0 upgraded, 29 newly installed, 0 to remove and 12 not upgraded.\nNeed to get 9092 kB of archives.\nAfter this operation, 36.5 MB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu/ precise/main libclass-isa-perl all 0.36-3 [11.9 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ precise/main libswitch-perl all 2.16-2 [19.2 kB]\nGet:3 http://archive.ubuntu.com/ubuntu/ precise/main libencode-locale-perl all 1.02-2 [12.0 kB]\nGet:4 http://archive.ubuntu.com/ubuntu/ precise/main libtimedate-perl all 1.2000-1 [41.6 kB]\nGet:5 http://archive.ubuntu.com/ubuntu/ precise/main libhttp-date-perl all 6.00-1 [10.1 kB]\nGet:6 http://archive.ubuntu.com/ubuntu/ precise/main libfile-listing-perl all 6.03-1 [9690 B]\nGet:7 http://archive.ubuntu.com/ubuntu/ precise/main libfont-afm-perl all 1.20-1 [14.3 kB]\nGet:8 http://archive.ubuntu.com/ubuntu/ precise/main liburi-perl all 1.59-1 [90.3 kB]\nGet:9 http://archive.ubuntu.com/ubuntu/ precise/main libhtml-tagset-perl all 3.20-2 [13.5 kB]\nGet:10 http://archive.ubuntu.com/ubuntu/ precise/main libhtml-parser-perl amd64 3.69-1build1 [97.3 kB]\nGet:11 http://archive.ubuntu.com/ubuntu/ precise/main liblwp-mediatypes-perl all 6.01-1 [17.5 kB]\nGet:12 http://archive.ubuntu.com/ubuntu/ precise/main libhttp-message-perl all 6.01-1 [77.6 kB]\nGet:13 http://archive.ubuntu.com/ubuntu/ precise/main libhtml-form-perl all 6.00-1 [22.8 kB]\nGet:14 http://archive.ubuntu.com/ubuntu/ precise/main libhtml-tree-perl all 4.2-1 [205 kB]\nGet:15 http://archive.ubuntu.com/ubuntu/ precise/main libhtml-format-perl all 2.10-1 [40.6 kB]\nGet:16 http://archive.ubuntu.com/ubuntu/ precise/main libhttp-cookies-perl all 6.00-2 [23.3 kB]\nGet:17 http://archive.ubuntu.com/ubuntu/ precise/main libhttp-daemon-perl all 6.00-1 [16.7 kB]\nGet:18 http://archive.ubuntu.com/ubuntu/ precise/main libhttp-negotiate-perl all 6.00-2 [13.4 kB]\nGet:19 http://archive.ubuntu.com/ubuntu/ precise/main libsocket6-perl amd64 0.23-1build2 [21.9 kB]\nGet:20 http://archive.ubuntu.com/ubuntu/ precise/main libio-socket-inet6-perl all 2.69-2 [14.3 kB]\nGet:21 http://archive.ubuntu.com/ubuntu/ precise/main libnet-ssleay-perl amd64 1.42-1build1 [188 kB]\nGet:22 http://archive.ubuntu.com/ubuntu/ precise/main libio-socket-ssl-perl all 1.53-1 [47.5 kB]\nGet:23 http://archive.ubuntu.com/ubuntu/ precise/main libnet-http-perl all 6.02-1 [23.5 kB]\nGet:24 http://archive.ubuntu.com/ubuntu/ precise/main libwww-robotrules-perl all 6.01-1 [14.1 kB]\nGet:25 http://archive.ubuntu.com/ubuntu/ precise/main libwww-perl all 6.03-1 [156 kB]\nGet:26 http://archive.ubuntu.com/ubuntu/ precise/main liblwp-protocol-https-perl all 6.02-1 [6746 B]\nGet:27 http://archive.ubuntu.com/ubuntu/ precise/main libmailtools-perl all 2.08-1 [84.0 kB]\nErr http://archive.ubuntu.com/ubuntu/ precise-security/main perl-modules all 5.14.2-6ubuntu2.4\n  404  Not Found [IP: 91.189.88.153 80]\nErr http://archive.ubuntu.com/ubuntu/ precise-security/main perl amd64 5.14.2-6ubuntu2.4\n  404  Not Found [IP: 91.189.88.153 80]\nFailed to fetch http://archive.ubuntu.com/ubuntu/pool/main/p/perl/perl-modules_5.14.2-6ubuntu2.4_all.deb  404  Not Found [IP: 91.189.88.153 80]\nFailed to fetch http://archive.ubuntu.com/ubuntu/pool/main/p/perl/perl_5.14.2-6ubuntu2.4_amd64.deb  404  Not Found [IP: 91.189.88.153 80]\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\nFetched 1293 kB in 8s (145 kB/s)\nThe command '/bin/sh -c apt-get install -y libwww-perl' returned a non-zero code: 100\n</code></pre>\n\n<p>However, When I try to manually run the command in my local machine running ubuntu, it works fine.\n<code>apt-get install -y libwww-perl</code></p>\n\n<p>Any idea what's the issue?</p>\n\n<p><strong>Update:\nMy Docker File Contents -</strong> </p>\n\n<pre><code>FROM dockerhub.corp.comp.com/idp/docker-jvm-8\nMAINTAINER bandikishores@yahoo.com\n\nRUN apt-get update\nRUN apt-get install -y libwww-perl\n\nENV basedir /opt/comp/apps/web-service\nENV libdir ${basedir}/lib\nENV confdir ${basedir}/conf\nENV bindir ${basedir}/bin\nENV logdir /opt/comp/logs/web-service\n\nRUN mkdir -p ${libdir} ${confdir} ${logdir}\nRUN chown -R nobody:nogroup ${libdir}\nRUN chown -R nobody:nogroup ${confdir}\nRUN chown -R nobody:nogroup ${logdir}\n\n\nADD setup.sh ${bindir}/setup.sh\nADD service_start.sh /tmp/service_start.sh\nADD healthcheck.pl /tmp/healthcheck.pl\n\nRUN cd /tmp &amp;&amp; mkdir test_config &amp;&amp; mv config.jar test_config/config.jar &amp;&amp; cd test_config &amp;&amp; jar -xvf config.jar &amp;&amp; rm config.jar\nRUN cd /tmp &amp;&amp; mkdir test_env &amp;&amp; mv env.jar test_env/env.jar &amp;&amp; cd test_env &amp;&amp; jar -xvf env.jar &amp;&amp; rm env.jar\n\nRUN chown -R nobody:nogroup ${bindir}\nRUN chmod -R +x ${bindir}/setup.sh\n\nEXPOSE 11040\n</code></pre>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458034665, "post_id": 36007390, "comment_id": 59666305, "body": "Why did you start using the bit shift? Was it already there? Did you take it from somewhere?"}, {"owner": {"reputation": 871289, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1458034813, "post_id": 36007390, "comment_id": 59666433, "body": "You actually observed a value of 134? The answer below suggests that shouldn&#39;t happen."}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "reply_to_user": {"reputation": 871289, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1458034871, "post_id": 36007390, "comment_id": 59666484, "body": "@T.J.Crowder looks like <code>$status</code> isn&#39;t being set..."}, {"owner": {"reputation": 871289, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1458034899, "post_id": 36007390, "comment_id": 59666507, "body": "@TomFenech: I was wondering about the <code>$?</code> (in the title) vs. <code>$status</code> (in the code) thing, but I don&#39;t know enough (read: basically anything) about Perl..."}, {"owner": {"reputation": 626, "user_id": 3237253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vkeN5.jpg?s=128&g=1", "display_name": "Dipak", "link": "https://stackoverflow.com/users/3237253/dipak"}, "reply_to_user": {"reputation": 871289, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1458035013, "post_id": 36007390, "comment_id": 59666602, "body": "Sry actually its $? not $status @T.J.Crowder"}], "answers": [{"comments": [{"owner": {"reputation": 626, "user_id": 3237253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vkeN5.jpg?s=128&g=1", "display_name": "Dipak", "link": "https://stackoverflow.com/users/3237253/dipak"}, "edited": false, "score": 0, "creation_date": 1458034844, "post_id": 36007471, "comment_id": 59666455, "body": "So my assert (134) is also one of failure so why it is making it 0 by doing &gt;&gt;8 ?"}, {"owner": {"reputation": 626, "user_id": 3237253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vkeN5.jpg?s=128&g=1", "display_name": "Dipak", "link": "https://stackoverflow.com/users/3237253/dipak"}, "edited": false, "score": 0, "creation_date": 1458034888, "post_id": 36007471, "comment_id": 59666500, "body": "And can you please describe about wait call? what is it?"}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "reply_to_user": {"reputation": 626, "user_id": 3237253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vkeN5.jpg?s=128&g=1", "display_name": "Dipak", "link": "https://stackoverflow.com/users/3237253/dipak"}, "edited": false, "score": 0, "creation_date": 1458035158, "post_id": 36007471, "comment_id": 59666695, "body": "wait, waitpid, waitid - wait for process to change state. more details you can obtain using man 2 wait."}], "tags": [], "owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "is_accepted": false, "score": 7, "last_activity_date": 1529092247, "last_edit_date": 1529092247, "creation_date": 1458034702, "answer_id": 36007471, "question_id": 36007390, "link": "https://stackoverflow.com/questions/36007390/why-to-shift-bits-8-when-using-perl-system-function-to-execute-command/36007471#36007471", "title": "Why to shift bits &quot;$? &gt;&gt; 8&quot; when using Perl system function to execute command", "body": "<p><code>perldoc -f system</code> snippet:</p>\n\n<blockquote>\n  <p>The return value is the exit status of the program\n                 as returned by the <code>wait</code> call.  To get the actual\n                 exit value divide by 256. </p>\n  \n  <p>You can check all the failure possibilities by\n                 inspecting <code>$?</code> like this:</p>\n\n<pre><code>$exit_value  = $? &gt;&gt; 8;\n$signal_num  = $? &amp; 127;\n$dumped_core = $? &amp; 128;\n</code></pre>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 626, "user_id": 3237253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vkeN5.jpg?s=128&g=1", "display_name": "Dipak", "link": "https://stackoverflow.com/users/3237253/dipak"}, "edited": false, "score": 0, "creation_date": 1458035294, "post_id": 36007643, "comment_id": 59666817, "body": "Yes, I know the solution for fix, i will just remove shifting to solve it, But i need a valid reason when to use shifting with system() and when not to use?"}, {"owner": {"reputation": 626, "user_id": 3237253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vkeN5.jpg?s=128&g=1", "display_name": "Dipak", "link": "https://stackoverflow.com/users/3237253/dipak"}, "edited": false, "score": 1, "creation_date": 1458036122, "post_id": 36007643, "comment_id": 59667540, "body": "What you said it does really makes sense i found something, The system() function returns two numeric values folded into one. The first is the Unix signal (e.g INT=2, QUIT=3, KILL=9), if any, that terminated the command. This is stored in the lower eight bits returned. The next higher eight bits contain the exit code for the command you executed."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 626, "user_id": 3237253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vkeN5.jpg?s=128&g=1", "display_name": "Dipak", "link": "https://stackoverflow.com/users/3237253/dipak"}, "edited": false, "score": 0, "creation_date": 1458036370, "post_id": 36007643, "comment_id": 59667722, "body": "@Dipal  Yes! That&#39;s the point.  Even as the program just sent back a zero the OS knew that something was wrong (signal) and returned to Perl a non-zero."}, {"owner": {"reputation": 626, "user_id": 3237253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vkeN5.jpg?s=128&g=1", "display_name": "Dipak", "link": "https://stackoverflow.com/users/3237253/dipak"}, "edited": false, "score": 0, "creation_date": 1458036511, "post_id": 36007643, "comment_id": 59667835, "body": "Yes assert is an termination condition so it came in lower 8 bit and there was no error code so higher 8 bits are 0. Am i right now?"}, {"owner": {"reputation": 626, "user_id": 3237253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vkeN5.jpg?s=128&g=1", "display_name": "Dipak", "link": "https://stackoverflow.com/users/3237253/dipak"}, "edited": false, "score": 0, "creation_date": 1458037167, "post_id": 36007643, "comment_id": 59668337, "body": "I found it it was core dump that&#39;s why 128 bit was set from lower 8 bit and plus 6 for assert so finally it was 128|6 = 134"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 626, "user_id": 3237253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vkeN5.jpg?s=128&g=1", "display_name": "Dipak", "link": "https://stackoverflow.com/users/3237253/dipak"}, "edited": false, "score": 1, "creation_date": 1458037314, "post_id": 36007643, "comment_id": 59668457, "body": "@Dipak  Nice.  Now, there are other tools in Perl for this.  If nothing else, modules that make it easier and cleaner.  I haven&#39;t used them enough to recommend, but there is a lot of good advice on SO."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 6, "last_activity_date": 1567581223, "last_edit_date": 1567581223, "creation_date": 1458035108, "answer_id": 36007643, "question_id": 36007390, "link": "https://stackoverflow.com/questions/36007390/why-to-shift-bits-8-when-using-perl-system-function-to-execute-command/36007643#36007643", "title": "Why to shift bits &quot;$? &gt;&gt; 8&quot; when using Perl system function to execute command", "body": "<p>The program executed under <code>system</code> may return a specific code when it exits. That is packaged into high bits of a number (<em>exit status</em>) which Perl gets and which is available in <code>$?</code>. This is why you want to test that number, for example (but see below)</p>\n\n<pre><code>system($cmd) == 0  or die \"Error: $?\";\n</code></pre>\n\n<p>Or, you can separately check <a href=\"https://perldoc.perl.org/perlvar.html#Error-Variables\" rel=\"nofollow noreferrer\">$?</a> after the call. If true (non-zero), that only means that there was something other than a clean exit by the application, or a problem with <code>system</code> itself.  When you unpack that you are looking for what the application communicated on its exit. In order to merely see whether there was an error you only look at <code>$?</code>, and you <em>are</em> getting a value.  So there is no conflict.</p>\n\n<p>What code that program returned is its business (design decision). Programs ideally exit with codes when they fail (if they can detect and handle the problem), and have documentation explaining what code means what. For an example see <a href=\"https://stackoverflow.com/questions/35593723/unable-to-capture-stderr-while-performing-openssh-to-a-variable-perl/35594073#35594073\">this answer</a>, and for another comment <a href=\"https://stackoverflow.com/questions/22762710/perl-after-a-successful-system-call-or-die-command-still-ends-script/35543666#35543666\">this one</a>.</p>\n\n<p>As seen in <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system</a>, you readily get: exit code <code>$? &gt;&gt; 8</code>, signal number <code>$? &amp; 127</code>, and whether core was dumped <code>$? &amp; 128</code>. With your exit status of <code>134</code> the signal number is <code>6</code>, which <code>man 7 signal</code> lists as <code>SIGABRT</code>. The core should be there as well. So that is what you got from your program, and no explicit exit code. Apparently, the program caused abort and dumped core. </p>\n\n<p>In your case, you know where all this comes from -- <code>assert</code> is a macro which calls <code>abort</code>, whereby <code>SIGABRT</code> is raised (<code>man 3 assert abort</code>). Perl gets back that <code>6</code> packaged into <code>134</code>.</p>\n\n<hr>\n\n<p>Note that <code>assert</code> prints a message to <code>STDERR</code>, so you may want to run the program via <code>qx</code> (backticks), in which case you can capture that error. See the first link above, or search on SO.</p>\n"}], "owner": {"reputation": 626, "user_id": 3237253, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vkeN5.jpg?s=128&g=1", "display_name": "Dipak", "link": "https://stackoverflow.com/users/3237253/dipak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6208, "favorite_count": 1, "accepted_answer_id": 36007643, "answer_count": 2, "score": 5, "last_activity_date": 1567581223, "creation_date": 1458034507, "last_edit_date": 1503938057, "question_id": 36007390, "link": "https://stackoverflow.com/questions/36007390/why-to-shift-bits-8-when-using-perl-system-function-to-execute-command", "title": "Why to shift bits &quot;$? &gt;&gt; 8&quot; when using Perl system function to execute command", "body": "<p>I have seen this in many places in Perl scripts:</p>\n\n<pre><code>system(\"binary\");\n$exit_code = ($? &gt;&gt; 8)\nexit($exit_code)\n</code></pre>\n\n<ol>\n<li><p>Why should I use this?  Is there an alternative way?</p></li>\n<li><p>I am calling some binary in <code>system(binary)</code> which I created in C++, which does some stuff and if it fails it gives <code>assert</code>. When I reboot a Linux machine, the stuff which is going fails, and my binary generates <code>assert</code> as expected.  But on the Perl side where I called it, it throws a <code>134</code> error code, which after <code>134 &gt;&gt; 8</code>, becomes <code>0</code>. Ultimately it is making my failure operation a <em>success</em> (which I don't want).</p></li>\n</ol>\n"}, {"tags": ["bash", "perl", "awk"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1458025300, "post_id": 36004437, "comment_id": 59661061, "body": "Insert data in a <a href=\"https://en.wikipedia.org/wiki/SQLite\" rel=\"nofollow noreferrer\">SQLite database</a> and use SQL to get result."}], "answers": [{"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 1, "last_activity_date": 1458027125, "creation_date": 1458027125, "answer_id": 36005018, "question_id": 36004437, "link": "https://stackoverflow.com/questions/36004437/how-to-compare-multiple-columns-in-two-files-and-retrieve-the-corresponding-valu/36005018#36005018", "title": "How to compare multiple columns in two files and retrieve the corresponding value from another column if match found", "body": "<p>You can use this awk command:</p>\n\n<pre><code>awk  'FNR==NR{a[$1,$2,$3]; next} ($4,$5,$6) in a{print $2}' file1 file2\n\n10352\n10356\n10357\n10358\n10453\n10454\n10458\n10459\n10460\n10512\n10513\n10514\n10515\n10556\n10557\n10558\n10566\n10567\n10568\n10569\n10650\n10651\n10652\n10653\n10654\n10655\n23627\n23628\n23629\n23630\n23631\n23632\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 3925751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a48d1fbbb023f53b7459c989b87781b?s=128&d=identicon&r=PG&f=1", "display_name": "Asha", "link": "https://stackoverflow.com/users/3925751/asha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1594, "favorite_count": 1, "accepted_answer_id": 36005018, "answer_count": 1, "score": 2, "last_activity_date": 1458027245, "creation_date": 1458024625, "question_id": 36004437, "link": "https://stackoverflow.com/questions/36004437/how-to-compare-multiple-columns-in-two-files-and-retrieve-the-corresponding-valu", "title": "How to compare multiple columns in two files and retrieve the corresponding value from another column if match found", "body": "<p>I have two files File1.txt and File2.txt. I need to compare the three columns 1, 2 and 3 from File1 with 4,5 and 6 of File2, respectively and if the match is found, I want to retrieve the corresponding value from the column 2 of File2 and paste it in Output.txt. The sample files are as below:</p>\n\n<p>File1.txt</p>\n\n<pre><code>ASP B   276\nASN B   290\nALA B   294\nALA B   297\nARG B   298\nARG B   303\nLYS D   288\n</code></pre>\n\n<p>File2.txt</p>\n\n<pre><code>ATOM    4770    N   ALA A   346 71.417  37.005  4.562   1   0   N\nATOM    4778    C   ALA A   346 72.003  34.855  3.476   1   0   C\nATOM    4779    O   ALA A   346 72.956  34.2    3.103   1   0   O\nATOM    4859    N   SER A   353 78.218  33.415  -2.595  1   0   N\nATOM    4867    HG  SER A   353 78.828  31.548  0.899   1   0   \nATOM    4868    C   SER A   353 79.637  31.351  -2.619  1   0   C\nATOM    4869    O   SER A   353 80.669  30.76   -2.372  1   0   O\nATOM    9771    N   ASP B   238 52.86   30.061  -7.031  1   0   N\nATOM    9772    H   ASP B   238 53.651  30.105  -7.641  1   0   \nATOM    9776    HB1 ASP B   238 53.516  32.92   -5.486  1   0   \nATOM    10352   H   ASP B   276 11.565  35.255  6.968   1   0   \nATOM    10356   HB1 ASP B   276 10.084  33.659  6.727   1   0   \nATOM    10357   HB2 ASP B   276 10.331  32.059  6.945   1   0   \nATOM    10358   CG  ASP B   276 9.946   33.07   8.681   1   0   C\nATOM    10453   H   ASN B   290 16.73   30.519  13.339  1   0   \nATOM    10454   CA  ASN B   290 18.755  31.013  13.763  1   0   C\nATOM    10458   HB2 ASN B   290 20.105  29.465  13.891  1   0   \nATOM    10459   CG  ASN B   290 18.471  28.842  14.99   1   0   C\nATOM    10460   OD1 ASN B   290 18.246  29.429  16.072  1   0   O\nATOM    10512   H   ALA B   294 24.099  33.167  8.943   1   0   \nATOM    10513   CA  ALA B   294 26.095  33.794  9.273   1   0   C\nATOM    10514   HA  ALA B   294 26.597  34.261  8.545   1   0   \nATOM    10515   CB  ALA B   294 25.515  34.817  10.199  1   0   C\nATOM    10556   H   ALA B   297 28.288  31.299  7.752   1   0   \nATOM    10557   CA  ALA B   297 30.202  31.869  7.061   1   0   C\nATOM    10558   HA  ALA B   297 30.566  31.457  6.226   1   0   \nATOM    10566   H   ARG B   298 30.012  32.059  9.568   1   0   \nATOM    10567   CA  ARG B   298 31.961  32.047  10.392  1   0   C\nATOM    10568   HA  ARG B   298 32.532  32.853  10.237  1   0   \nATOM    10569   CB  ARG B   298 31.251  32.167  11.74   1   0   C\nATOM    10650   HE  ARG B   303 36.405  23.564  2.394   1   0   \nATOM    10651   CZ  ARG B   303 34.807  22.582  3.07    1   0   C\nATOM    10652   NH1 ARG B   303 33.867  22.493  3.991   1   0   N\nATOM    10653  1HH1 ARG B   303 33.829  23.162  4.733   1   0   \nATOM    10654  2HH1 ARG B   303 33.192  21.757  3.947   1   0   \nATOM    10655   NH2 ARG B   303 34.847  21.706  2.081   1   0   N\nATOM    17143   OE1 GLU C   295 59.322  13.561  -6.631  1   0   O\nATOM    17144   OE2 GLU C   295 57.646  14.02   -7.941  1   0   O\nATOM    17145   C   GLU C   295 54.718  13.527  -3.448  1   0   C\nATOM    17146   O   GLU C   295 54.509  14.618  -2.982  1   0   O\nATOM    23627   HB1 LYS D   288 32.909  52.854  29.282  1   0   \nATOM    23628   HB2 LYS D   288 31.41   53.372  29.672  1   0   \nATOM    23629   CG  LYS D   288 32.811  53.749  31.138  1   0   C\nATOM    23630   HG1 LYS D   288 32.137  53.82   31.873  1   0   \nATOM    23631   HG2 LYS D   288 33.636  53.303  31.484  1   0   \nATOM    23632   CD  LYS D   288 33.168  55.146  30.656  1   0   C\n</code></pre>\n\n<p>The output.txt should contain the values of column 2 of second file only if the three columns of File1 matches with the three columns of File2.</p>\n\n<p>Output.txt</p>\n\n<pre><code>10352\n10356\n10357\n10358\n10453\n10454\n10458\n10459\n10460\n10512\n10513\n10514\n10515\n10556\n10557\n10558\n10566\n10567\n10568\n10569\n10650\n10651\n10652\n10653\n10654\n10655\n23627\n23628\n23629\n23630\n23631\n23632\n</code></pre>\n\n<p>I have tried with awk one liner, which is provided below. The script was executed but has retrieved different values of the column 2 of File2. Hence, I need help in resolving this and finding out where am I going wrong. </p>\n\n<pre><code>awk 'FNR==NR{a[$1,$2,$3]=$0;next}{if(b=a[$4,$5,$6]){print $2}}' File1.txt File2.txt &gt; Output.txt\n</code></pre>\n\n<p>Thanks in advance.</p>\n\n<p>Asha,\nMBU, IISc,\nBangalore, India</p>\n"}, {"tags": ["perl", "echo", "system"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1458024323, "post_id": 36004051, "comment_id": 59660565, "body": "Because <code>echo -e</code> is not portable, this is a particularly poor example. For anything real, everything <code>echo</code> can do, you can do more easily in Perl itself. Perhaps you should use a different example, perhaps closer to the real code you want to run."}], "answers": [{"tags": [], "owner": {"reputation": 7787, "user_id": 1257035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WHLC8.png?s=128&g=1", "display_name": "a3f", "link": "https://stackoverflow.com/users/1257035/a3f"}, "is_accepted": false, "score": 0, "last_activity_date": 1458023648, "last_edit_date": 1458023648, "creation_date": 1458023320, "answer_id": 36004128, "question_id": 36004051, "link": "https://stackoverflow.com/questions/36004051/systemecho-e-str-can-not-been-output-rightly-in-perl/36004128#36004128", "title": "system(&quot;echo -e $str&quot;) can not been output rightly in perl", "body": "<pre><code>my $cmd = qq(echo -e \"$str\");\n</code></pre>\n\n<p>A new line in system's argument string is like a <code>;</code>. It separates commands. In order for that not to happen, you need to put it inside quotes.</p>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 6064254, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/768fe3067e498a95876cfd3e5412cfc4?s=128&d=identicon&r=PG&f=1", "display_name": "user6064254", "link": "https://stackoverflow.com/users/6064254/user6064254"}, "edited": false, "score": 0, "creation_date": 1458025164, "post_id": 36004185, "comment_id": 59660979, "body": "thx, the output is like this when i using your recommand command: <code>-e hello world</code> But when remove <code>-e</code> option (<code>&quot;ehco  $cmd = &quot;echo &#39;$str&#39; &quot;</code>), it can work correctly."}], "tags": [], "owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "is_accepted": true, "score": 5, "last_activity_date": 1458049754, "last_edit_date": 1458049754, "creation_date": 1458023551, "answer_id": 36004185, "question_id": 36004051, "link": "https://stackoverflow.com/questions/36004051/systemecho-e-str-can-not-been-output-rightly-in-perl/36004185#36004185", "title": "system(&quot;echo -e $str&quot;) can not been output rightly in perl", "body": "<p>If you print out <code>$cmd</code> after you set it, you'll see this:</p>\n\n<pre><code>echo -e hello\nworld\n</code></pre>\n\n<p>... and if you paste that into the shell you'll get similar error messages, although without the <code>-e</code>.  </p>\n\n<p>The first problem is that when it gets to the shell, the string is missing both the quotation marks and the non-literal newline.  Try this:</p>\n\n<pre><code>my $str = \"hello\\\\nworld\";\nmy $cmd = \"echo -e '$str'\";\n</code></pre>\n\n<p>In this particular case, you can get away with just the quotation marks - there will be a literal newline inside the argument to <code>echo</code>, but that's legal as long as it's quoted.</p>\n\n<p>However, you will still get a literal <code>-e</code> in the output and no interpretation of the <code>\\n</code> as a newline. That's because perl is running <code>/bin/echo</code>, not the <code>echo</code> built into bash.  If you want to use bash's builtin, you have to tell perl to run <code>bash</code> explicitly. But that means passing the echo command itself inside an argument to bash, which introduces <em>another</em> level of quoting to deal with. </p>\n\n<p>The best bet here (and everywhere, really) is to use the multiple-argument version of <code>system</code>; that bypasses the first shell level and executes the command directly.  We still have to deal with the newline:</p>\n\n<pre><code>my $str = \"hello\\nworld\";                 # literal newline\n(my $escaped_str = $str) =~ s,\\n,\\\\n,g;    # escaped newline\n</code></pre>\n\n<p>In order to get the desired behavior from the shell, we need to embed the string in single quotes in the shell command, because anything in single quotes is taken completely literally by the shell.  In this case we just assigned the string from a literal in the Perl code, so we know exactly what it contains, and it doesn't contain apostrophes. But if it might ever contain apostrophes, we should run it through another escape pass to quote them, so it's safe to embed in single quotes:</p>\n\n<pre><code>$escaped_str =~ s,','\\\\'',g;              # quote any embedded apostrophes\n</code></pre>\n\n<p>There may be other characters you wish to replace with escapes, too - perhaps tab or carriage return. This would be the place to make those changes as well.</p>\n\n<p>Use the escaped string to build the bash command:</p>\n\n<pre><code>my $command = \"echo -ne '$escaped_str'\";  # bash command to echo string\n</code></pre>\n\n<p>Doing manual search/replaces like this is error-prone; there are a lot of edge cases to consider. So you may also want to look at the CPAN module <a href=\"http://search.cpan.org/~rosch/String-ShellQuote-1.03/ShellQuote.pm\" rel=\"nofollow\"><code>String::ShellQuote</code></a>, in which you can skip the manual escaping above and generate the escaped string from the original like this:</p>\n\n<pre><code>my $command = shell_quote(\"echo\", \"-ne\", $str);\n</code></pre>\n\n<p>Once you have the escaped command string, use the multiple-argument <code>system</code> to run bash directly with that string as an argument:</p>\n\n<pre><code>system('bash', '-c', $command);\n</code></pre>\n\n<p>In general and more importantly, I would consider replacing whatever the shell command does with code in Perl itself; the result will be much easier to manage, and probably more portable and performant as well.</p>\n"}], "owner": {"reputation": 27, "user_id": 6064254, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/768fe3067e498a95876cfd3e5412cfc4?s=128&d=identicon&r=PG&f=1", "display_name": "user6064254", "link": "https://stackoverflow.com/users/6064254/user6064254"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 36004185, "answer_count": 2, "score": 0, "last_activity_date": 1458049754, "creation_date": 1458023026, "question_id": 36004051, "link": "https://stackoverflow.com/questions/36004051/systemecho-e-str-can-not-been-output-rightly-in-perl", "title": "system(&quot;echo -e $str&quot;) can not been output rightly in perl", "body": "<p>I write a simple perl script like this</p>\n\n<pre><code>#!/usr/bin/perl\nmy $str = \"hello\\nworld\";\nmy $cmd = \"echo -e $str\";\nsystem($cmd);\n</code></pre>\n\n<p>and output is :</p>\n\n<pre><code>-e hello\nsh: 2: world: not found\n</code></pre>\n\n<p>which is not expected. And what I want is this:</p>\n\n<pre><code>hello\nworld\n</code></pre>\n\n<p>Notes that \"echo -e\" can work correclty, because when I run following command,</p>\n\n<pre><code>echo -e \"hello\\nworld\"\n</code></pre>\n\n<p>the output is correct.</p>\n\n<p>any solutions ? </p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 1, "creation_date": 1458018175, "post_id": 36002809, "comment_id": 59658342, "body": "As a more of a side note, <code>0 .. (scalar(@{$x})-1)</code> is much more easily written <code>0 .. $#$x</code>, or if you prefer <code>0 .. $#{$x}</code>."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1458018352, "post_id": 36002809, "comment_id": 59658398, "body": "<code>$#foo</code> is often misused, and if you&#39;re adding 1 to it, you&#39;re doing something wrong... but if you&#39;re ranging over the indices of an array, or talking about the last index, it&#39;s exactly the thing you want."}], "answers": [{"comments": [{"owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "edited": false, "score": 0, "creation_date": 1458029101, "post_id": 36003013, "comment_id": 59662813, "body": "Actually, this prints <code>6</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "edited": false, "score": 0, "creation_date": 1458029538, "post_id": 36003013, "comment_id": 59663036, "body": "@ChatterOne  Fixed, thank you very much.  A typo from a different version :("}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1458032343, "post_id": 36003013, "comment_id": 59664636, "body": "Why <code>grep</code> + slice if you can <code>map</code> right away and get rid of temporary indices array?"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1466836529, "last_edit_date": 1495541633, "creation_date": 1458018023, "answer_id": 36003013, "question_id": 36002809, "link": "https://stackoverflow.com/questions/36002809/what-is-the-best-way-to-exclude-elements-from-an-array-by-indexes-in-perl/36003013#36003013", "title": "What is the best way to exclude elements from an array by indexes in Perl?", "body": "<p>Prepare a hash so to identify indices efficiently, then index into the original array with it.</p>\n\n<pre><code>my %ref_index;\n@ref_index{ @ind_toss } = ();    \n@arr_filt = @arr_orig[ grep { !exists $ref_index{$_} } (0..$#arr_orig) ];\n</code></pre>\n\n<p>Final <code>@arr_filt</code> contains elements of the <code>@arr_orig</code> at indices other than those in <code>@ind_toss</code>.</p>\n\n<p>See solution by <a href=\"https://stackoverflow.com/users/17389/ysth\">ysth</a> in <a href=\"https://stackoverflow.com/questions/6714667/how-can-i-find-elements-that-are-in-one-array-but-not-another-in-perl\">this post</a> for filtering array elements by another array in general.</p>\n\n<hr>\n\n<p>Wrap it in a sub and run. Array with indices to exclude is <code>@ind_toss</code>, original array is <code>@arr_orig</code>.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy @ind_toss = (1, 4, 5);\nmy @arr_orig = ('a', '1', 'b', 'c', '2', '6', 'd', 'e');\n\nmy @filtered = @{ filter_array_by_index(\\@arr_orig, \\@ind_toss) };\n\nprint \"@filtered\" . \"\\n\";    \n\nsub filter_array_by_index {\n    my ($rarr, $rind) = @_;    \n    my %ref_index;\n    @ref_index{ @$rind } = (); \n    return [ @$rarr[grep { !exists $ref_index{$_} } (0..$#$rarr)] ];\n}\n</code></pre>\n\n<p>Prints</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>a b c d e\n</code></pre>\n\n<hr>\n\n<p><strong>Notes</strong></p>\n\n<p>The <code>return</code> from the sub, as hinted in comment by <a href=\"https://stackoverflow.com/users/936986/oleg-v-volkov\">Oleg V. Volkov</a>, can also be written as</p>\n\n<pre><code>return [ map { !exists $ref_index{$_} ? $rarr-&gt;[$_] : ()  } (0..$#$rarr) ];\n</code></pre>\n\n<p>This avoids construction of a list by <code>grep</code> and a slice but rather indexes into the array conditionally.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458028039, "post_id": 36004375, "comment_id": 59662303, "body": "I believe OP needs to <i>exclude</i> elements at those indices."}], "tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": false, "score": 2, "last_activity_date": 1458024369, "creation_date": 1458024369, "answer_id": 36004375, "question_id": 36002809, "link": "https://stackoverflow.com/questions/36002809/what-is-the-best-way-to-exclude-elements-from-an-array-by-indexes-in-perl/36004375#36004375", "title": "What is the best way to exclude elements from an array by indexes in Perl?", "body": "<p>You don't need anything beyond an <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow\">array slice</a>, so I'd avoid creating a sub just for this.</p>\n\n<pre><code>my @wanted = @array[@indices];\n</code></pre>\n\n<p>If you're working with array references, the same recipe applies:</p>\n\n<pre><code>my @wanted = @{$array}[@$indices];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "is_accepted": false, "score": 0, "last_activity_date": 1458033154, "last_edit_date": 1458033154, "creation_date": 1458030969, "answer_id": 36006143, "question_id": 36002809, "link": "https://stackoverflow.com/questions/36002809/what-is-the-best-way-to-exclude-elements-from-an-array-by-indexes-in-perl/36006143#36006143", "title": "What is the best way to exclude elements from an array by indexes in Perl?", "body": "<p>Just to clean up a bit on zdim's answer (which is correct anyway):</p>\n\n<pre><code>sub filter_array_by_index {\n    my ( $rarr, $rind ) = @_;\n    my %ref_index = map { $_ =&gt; 1 } @ind_toss;\n    my @indices = grep { !$ref_index{$_} } (0..$#$rarr);\n\n    return @{$rarr}[@indices];\n}\n</code></pre>\n"}], "owner": {"reputation": 6964, "user_id": 1424739, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/19d3c927744b5ad3b94afbf88e1c3844?s=128&d=identicon&r=PG", "display_name": "user1424739", "link": "https://stackoverflow.com/users/1424739/user1424739"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 1, "answer_count": 3, "score": 5, "last_activity_date": 1466836529, "creation_date": 1458016805, "question_id": 36002809, "link": "https://stackoverflow.com/questions/36002809/what-is-the-best-way-to-exclude-elements-from-an-array-by-indexes-in-perl", "title": "What is the best way to exclude elements from an array by indexes in Perl?", "body": "<p>I use the following code to exclude elements in <code>@{$x}</code> at indexes in <code>@{$index}</code>. But I am not sure it is the most efficient way to implement this function. Does anybody have any better way to do. </p>\n\n<pre><code>sub arrayexclude {\n    my $x = shift;\n    my $index = shift;\n\n    my @keep_index = (0 .. (scalar(@{$x})-1));\n\n    delete @keep_index[@{$index}];\n\n    my $result=[];\n\n    for my $i (@keep_index) {\n        if(defined $i) {\n            push @{$result}, @{$x}[$i];\n        }\n    }\n    return $result;\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "nested", "expression", "parentheses"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1458012747, "post_id": 36000914, "comment_id": 59656788, "body": "I haven&#39;t tested it, but I expect the following to be faster because it only tries to recurse when it must: <code>\\( ( [^()]* (?: \\( (?1) \\) [^()]* )* ) \\)</code>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1458062938, "post_id": 36000914, "comment_id": 59687603, "body": "@ikegami I&#39;d think the <code>++</code> should make them pretty much the same"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1458065286, "post_id": 36000914, "comment_id": 59689167, "body": "@ikegami  - Yes, it appears %30 faster than the alternation. Sort of unrolled loop meets recursion."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1458085779, "post_id": 36000914, "comment_id": 59699663, "body": "This is unnecessarily elaborate. The OP doesn&#39;t ask that the string should be tested to ensure the parentheses are balanced, just that the string within the outermost pair is extracted"}, {"owner": {"reputation": 30507, "user_id": 433790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51aa60ad1252fc91cb4419c25b0ad542?s=128&d=identicon&r=PG", "display_name": "ridgerunner", "link": "https://stackoverflow.com/users/433790/ridgerunner"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467899198, "post_id": 36000914, "comment_id": 63915452, "body": "@ikegami - Your unrolled recursive loop is <i>Brilliant!</i> Thanks for the tip!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 3, "last_activity_date": 1458003728, "creation_date": 1458003728, "answer_id": 36000914, "question_id": 36000621, "link": "https://stackoverflow.com/questions/36000621/perl-nested-parentheses-expression/36000914#36000914", "title": "Perl nested parentheses expression", "body": "<p>It can be done with this <code>(\\(((?:[^()]++|(?1))*)\\))</code> and there are several<br>\nways to do it.  </p>\n\n<p><a href=\"http://www.regexformat.com\" rel=\"nofollow\">Formatted and tested:</a></p>\n\n<pre><code> (                       # (1 start), Recursion code group\n      \\(                      # Opening (\n      (                       # (2 start), Capture, inner core\n           (?:                     # Cluster group\n                [^()]++                 # Possesive, not parenth's\n             |                        # or,\n                (?1)                    # Recurse to group 1\n           )*                      # End cluster, do 0 to many times\n      )                       # (2 end)\n      \\)                      # Closing )\n )                       # (1 end)\n</code></pre>\n\n<p>Output  </p>\n\n<pre><code> **  Grp 0 -  ( pos 4 , len 16 ) \n(-(A + (B - C)))  \n **  Grp 1 -  ( pos 4 , len 16 ) \n(-(A + (B - C)))  \n **  Grp 2 -  ( pos 5 , len 14 ) \n-(A + (B - C))  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467890342, "last_edit_date": 1467890342, "creation_date": 1458045691, "answer_id": 36011657, "question_id": 36000621, "link": "https://stackoverflow.com/questions/36000621/perl-nested-parentheses-expression/36011657#36011657", "title": "Perl nested parentheses expression", "body": "<p>I don't see that anything more than this is required</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $text = \"(-(A + (B - C)))\";\n\nmy ($result) = $text =~ / \\( (.*) \\) /x;\n\nprint $result, \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>-(A + (B - C))\n</code></pre>\n\n<p>The pattern captures everything from after the first opening parenthesis to before the last closing parenthesis. From your question, I don't think there's a need to check that the string is balanced</p>\n"}], "owner": {"reputation": 17, "user_id": 6063827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R5bK3.jpg?s=128&g=1", "display_name": "user6063827", "link": "https://stackoverflow.com/users/6063827/user6063827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1467890342, "creation_date": 1458001709, "last_edit_date": 1458002196, "question_id": 36000621, "link": "https://stackoverflow.com/questions/36000621/perl-nested-parentheses-expression", "title": "Perl nested parentheses expression", "body": "<p>How do I use perl regex to extract the contents within the outermost parentheses?</p>\n\n<p>text   = (-(A + (B - C)))</p>\n\n<p>output = -(A + (B - C))</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "loops"], "comments": [{"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1458011647, "post_id": 36000557, "comment_id": 59656492, "body": "See rot 13; <a href=\"http://php.net/manual/en/function.str-rot13.php\" rel=\"nofollow noreferrer\">User Contributed Notes</a>."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 0, "last_activity_date": 1458014008, "creation_date": 1458014008, "answer_id": 36002399, "question_id": 36000557, "link": "https://stackoverflow.com/questions/36000557/how-to-loop-through-rot1-rot25/36002399#36002399", "title": "How to loop through ROT1-ROT25", "body": "<pre><code>my $decoded = $encoded;\nfor my $rot (reverse 1..25) {\n    $decoded = decode($decoded);\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2880, "user_id": 1540600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iv9jm.jpg?s=128&g=1", "display_name": "sferencik", "link": "https://stackoverflow.com/users/1540600/sferencik"}, "is_accepted": false, "score": 0, "last_activity_date": 1458027695, "creation_date": 1458027695, "answer_id": 36005174, "question_id": 36000557, "link": "https://stackoverflow.com/questions/36000557/how-to-loop-through-rot1-rot25/36005174#36005174", "title": "How to loop through ROT1-ROT25", "body": "<p>Try the following:</p>\n\n<pre><code>my $decoded = $encoded;\nmy $decodingFound;\nfor (1 .. 25) {\n    $decoded = decode($decoded);\n    if ($decoded =~ /\\bthe\\b/) {\n        print($decoded);\n        $decodingFound = 1;\n        last;\n    }\n}\n\nprint(\"File does not contain the, not the secret file\")\n    unless $decodingFound;\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>this tries all the ROTs from ROT1 to ROT25</li>\n<li>it never checks the original (encoded) string; to do that, loop 26 instead of 25 times</li>\n<li>as soon as it finds <em>a</em> rotation that contains \"the\", it stops looking</li>\n<li>the regular expression is <code>\\bthe\\b</code>: the <code>\\b</code> means word binaries, so neither <code>\"there\"</code> nor <code>\"father\"</code> will match; it seems that's what you wanted, judging by your comment (\"make this more robust!\")</li>\n</ul>\n\n<p>Also, your rotation may be shortened to <code>tr/ZA-Yza-y/A-Za-z/r</code> (<code>Z</code> is as good as <code>Z-Z</code>) and may be more legible as <code>tr/A-Za-z/B-ZAb-za/r</code>.</p>\n"}], "owner": {"reputation": 57, "user_id": 5848101, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ead46b56b2b4f124d13a9ed96912f01?s=128&d=identicon&r=PG&f=1", "display_name": "CorDell", "link": "https://stackoverflow.com/users/5848101/cordell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1458027695, "creation_date": 1458001337, "question_id": 36000557, "link": "https://stackoverflow.com/questions/36000557/how-to-loop-through-rot1-rot25", "title": "How to loop through ROT1-ROT25", "body": "<p>I have it set up so far that it decodes a ROT25 encrypted message and reads it only displaying if has the word \"the\" in it. But I have to make it go through every ROT(1-25). I know its probably a loop but not sure how to set it up. </p>\n\n<pre><code>use English;\n\nmy $file_name = shift;\n\nsub decode\n{\n    return shift =~ tr/Z-ZA-Yz-za-y/A-Za-z/r;\n}\n\nopen(my $file_handle, '&lt;', $file_name)\nor die \"Could not open file '$file_name' $!\";\n\nmy $encoded = '';\n\n{   # allow us to read entire file in as a string:\n\n    local $INPUT_RECORD_SEPARATOR = undef;\n\n    $encoded = &lt;$file_handle&gt;;\n}\n\nclose $file_handle;\n\nmy $decoded = &amp;decode($encoded);\n\nif ($decoded=~m/(^| )the/)  # make this more robust!\n{\n    print($decoded);\n}else{\nprint(\"File does not contain the, not the secret file\");\n}\n</code></pre>\n"}, {"tags": ["perl", "ssl", "paypal", "paypal-ipn"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1458029051, "post_id": 36000364, "comment_id": 59662798, "body": "Hard to tell without more details but my guess is that you are using an old version of LWP/IO::Socket::SSL or OpenSSL. It does not matter what your server supports in this case. Please add the versions of the libs with: <code>perl -MLWP::UserAgent -MIO::Socket::SSL -e &#39;printf &quot;openssl=%x\\nio-ssl=%s\\nlwp=%s\\nperl=%s\\n&quot;,Net::SSLeay::OPEN&zwnj;&#8203;SSL_VERSION_NUMBER()&zwnj;&#8203;,IO::Socket::SSL-&gt;VE&zwnj;&#8203;RSION,LWP::UserAgent&zwnj;&#8203;-&gt;VERSION,$^V&#39;</code>"}, {"owner": {"reputation": 1, "user_id": 4907377, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-05_surTo4Xs/AAAAAAAAAAI/AAAAAAAAAHk/NlsIhe6yDYE/photo.jpg?sz=128", "display_name": "VanScott", "link": "https://stackoverflow.com/users/4907377/vanscott"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1458193061, "post_id": 36000364, "comment_id": 59752729, "body": "@Steffen Thanks much for the suggestion. When I execute this command, I receive the message &quot;Can&#39;t find string terminator &quot;&#39;&quot; anywhere before EOF at -e line 1.&quot; I can&#39;t see any problem with the syntax. What am I missing?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1458193736, "post_id": 36000364, "comment_id": 59752967, "body": "for whatever reason cut+paste seems to add some strange characters. Try to use <a href=\"http://pastebin.com/gqjcCvsT\" rel=\"nofollow noreferrer\">pastebin.com/gqjcCvsT</a>"}, {"owner": {"reputation": 1, "user_id": 4907377, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-05_surTo4Xs/AAAAAAAAAAI/AAAAAAAAAHk/NlsIhe6yDYE/photo.jpg?sz=128", "display_name": "VanScott", "link": "https://stackoverflow.com/users/4907377/vanscott"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1458598870, "post_id": 36000364, "comment_id": 59923472, "body": "Tried pastebin - same message. Checked it for non-displayable characters - looks clean. Any other thoughts?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1458626440, "post_id": 36000364, "comment_id": 59931876, "body": "My guess is that you are using Windows then with their strange ways of escaping on the command line. Use the code in <a href=\"http://pastebin.com/t3ae1dNn\" rel=\"nofollow noreferrer\">pastebin.com/t3ae1dNn</a> then, put it into a file and execute this file with Perl."}, {"owner": {"reputation": 1, "user_id": 4907377, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-05_surTo4Xs/AAAAAAAAAAI/AAAAAAAAAHk/NlsIhe6yDYE/photo.jpg?sz=128", "display_name": "VanScott", "link": "https://stackoverflow.com/users/4907377/vanscott"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1458676021, "post_id": 36000364, "comment_id": 59964719, "body": "Thanks, received the response: openssl=1000005f io-ssl=1.44 lwp=6.02 perl=v5.14.2"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4907377, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-05_surTo4Xs/AAAAAAAAAAI/AAAAAAAAAHk/NlsIhe6yDYE/photo.jpg?sz=128", "display_name": "VanScott", "link": "https://stackoverflow.com/users/4907377/vanscott"}, "edited": false, "score": 0, "creation_date": 1458841631, "post_id": 36165891, "comment_id": 60046703, "body": "Thank you Steffen, for your time and advice.With the understanding that this is a &quot;mission critical&quot; application for my client, I will need to find some solution. Would it make sense to find a web host that provides an up-to-date module library that supports TLS 1.2 (if there exists such a host) and migrate the system, or spend the time, as you suggest, recompiling the necessary modules and referencing them in a local library."}, {"owner": {"reputation": 1, "user_id": 4907377, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-05_surTo4Xs/AAAAAAAAAAI/AAAAAAAAAHk/NlsIhe6yDYE/photo.jpg?sz=128", "display_name": "VanScott", "link": "https://stackoverflow.com/users/4907377/vanscott"}, "edited": false, "score": 0, "creation_date": 1458842363, "post_id": 36165891, "comment_id": 60047166, "body": "I don&#39;t have experience compiling Perl modules, but am certainly willing to learn - I&#39;m just concerned about the time required for the learning curve, since PayPal is scheduled to make these changes in their production environment soon.  Incidentally, my host provider - iPower - has shown little interest in updating the Perl modules in their library, even when it&#39;s been pointed out that some of them are not compliant with new security standards."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 1, "user_id": 4907377, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-05_surTo4Xs/AAAAAAAAAAI/AAAAAAAAAHk/NlsIhe6yDYE/photo.jpg?sz=128", "display_name": "VanScott", "link": "https://stackoverflow.com/users/4907377/vanscott"}, "edited": false, "score": 0, "creation_date": 1458847292, "post_id": 36165891, "comment_id": 60050058, "body": "@VanScott: If you are using only shared hosting I doubt that it will be possible to upgrade to a newer OpenSSL version by yourself. If your hoster is unwilling to do this you probably need to change. I cannot give you any recommendations which hoster provides the needed support but any hoster offering recent software should have it because the necessary OpenSSL version 1.0.1 was already released about 4 years ago."}, {"owner": {"reputation": 1, "user_id": 4907377, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-05_surTo4Xs/AAAAAAAAAAI/AAAAAAAAAHk/NlsIhe6yDYE/photo.jpg?sz=128", "display_name": "VanScott", "link": "https://stackoverflow.com/users/4907377/vanscott"}, "edited": false, "score": 0, "creation_date": 1458927805, "post_id": 36165891, "comment_id": 60081195, "body": "My host service expressed little interest in updating OpenSSL, so I&#39;ll be looking for another service. Thanks for the help!"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1458683332, "creation_date": 1458683332, "answer_id": 36165891, "question_id": 36000364, "link": "https://stackoverflow.com/questions/36000364/perl-paypal-ipn-listener-returning-500-ssl-handshake-failure-message/36165891#36165891", "title": "Perl PayPal IPN Listener Returning &quot;500 SSL Handshake Failure&quot; message", "body": "<p>According to <a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=www.sandbox.paypal.com\" rel=\"nofollow\">SSLLabs</a> the site is TLS 1.2 only, that it it does not accept TLS 1.0 or TLS 1.1. And according to your comment you are using OpenSSL version 1.0.0e (1000005f). But this version does not support TLS 1.2 yet because such support was only added with version 1.0.1.</p>\n\n<p>This means that your system is too old to support TLS 1.2. You need to upgrade at least the OpenSSL version but preferable the whole system. Note that it does not help to just install a new version of OpenSSL. Instead you would need to recompile all the modules in Perl which make use of the library, i.e. especially Net::SSLeay in this case.</p>\n"}], "owner": {"reputation": 1, "user_id": 4907377, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-05_surTo4Xs/AAAAAAAAAAI/AAAAAAAAAHk/NlsIhe6yDYE/photo.jpg?sz=128", "display_name": "VanScott", "link": "https://stackoverflow.com/users/4907377/vanscott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458683332, "creation_date": 1458000223, "last_edit_date": 1458057889, "question_id": 36000364, "link": "https://stackoverflow.com/questions/36000364/perl-paypal-ipn-listener-returning-500-ssl-handshake-failure-message", "title": "Perl PayPal IPN Listener Returning &quot;500 SSL Handshake Failure&quot; message", "body": "<p>A perl script that has been running ok for two years just began returning \"500 SSL Handshake Failure\" errors upon postback of IPN message. My host service supports SHA 256, TLS 1.2 and HTTP/1.1. I'm using my host service's shared cert.\nThe code (from PayPal's sample script):</p>\n\n<pre><code># read post from PayPal system and add 'cmd'\nread (STDIN, $query, $ENV{'CONTENT_LENGTH'});\n$query .= '&amp;cmd=_notify-validate';\n\n# post back to PayPal system to validate\n$ua = LWP::UserAgent-&gt;new(ssl_opts =&gt; { verify_hostname =&gt; 1 });\n$req = HTTP::Request-&gt;new('POST', 'https://www.sandbox.paypal.com/cgi-bin/webscr');\n$req-&gt;content_type('application/x-www-form-urlencoded');\n$req-&gt;header(Host =&gt; 'www.sandbox.paypal.com');\n$req-&gt;content($query);\n$res = $ua-&gt;request($req);\n\nif ($res-&gt;is_error) {\n # HTTP error\n $retmsg = \"HTTP Error:&lt;br /&gt;\";\n $retmsg .= $res-&gt;status_line();\n}\n</code></pre>\n\n<p>...</p>\n\n<p>How do I best troubleshoot this?</p>\n"}, {"tags": ["perl", "glob"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1457996223, "post_id": 35999388, "comment_id": 59651929, "body": "Have you tried using forward slashes instead of all those backslashes?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458012224, "post_id": 35999388, "comment_id": 59656639, "body": "Can you use a module that will take care of all those for you?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1457996589, "creation_date": 1457996589, "answer_id": 35999712, "question_id": 35999388, "link": "https://stackoverflow.com/questions/35999388/how-to-use-perl-glob-to-read-remote-location/35999712#35999712", "title": "How to use Perl glob to read remote location?", "body": "<p>I'm pretty sure you can't use <code>glob</code> on a network drive, however <code>opendir</code> and <code>readdir</code> will work</p>\n\n<p>Like this</p>\n\n<pre><code>my $loc = '\\\\\\\\ant\\d1_sp\\test__18716093';\n\nmy @test = do {\n    opendir my ($dh), $loc or die $!;\n    map \"$loc\\\\$_\", grep /\\.log$/i, readdir $dh;\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1457999214, "post_id": 36000160, "comment_id": 59652944, "body": "shouldn&#39;t that be &quot;Best to just use <code>&#47;</code> instead of `\\`...&quot;?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1457999948, "last_edit_date": 1457999948, "creation_date": 1457999028, "answer_id": 36000160, "question_id": 35999388, "link": "https://stackoverflow.com/questions/35999388/how-to-use-perl-glob-to-read-remote-location/36000160#36000160", "title": "How to use Perl glob to read remote location?", "body": "<p>You want to list the <code>.log</code> files in the following share:</p>\n\n<pre><code>\\\\ant\\d1_sp\\test__18716093\n</code></pre>\n\n<p>To do so, you need to use the following glob pattern:</p>\n\n<pre><code>\\\\\\\\ant\\\\d1_sp\\\\test__18716093\\\\*.log\n</code></pre>\n\n<p>The following is a string literal that produces that string:</p>\n\n<pre><code>\"\\\\\\\\\\\\\\\\ant\\\\\\\\d1_sp\\\\\\\\test__18716093\\\\\\\\*.log\"\n</code></pre>\n\n<p>So the solution is</p>\n\n<pre><code>glob(\"\\\\\\\\\\\\\\\\ant\\\\\\\\d1_sp\\\\\\\\test__18716093\\\\\\\\*.log\")\n</code></pre>\n\n<p>Best to just use <code>/</code> instead of <code>\\</code> since you don't need to escape it in either glob patterns or string literals.</p>\n\n<pre><code>glob(\"//ant/d1_sp/test__18716093/*.log\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1457999877, "post_id": 36000203, "comment_id": 59653152, "body": "Double quotes around a file pattern are fine, and necessary if you have spaces in the path"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458053841, "post_id": 36000203, "comment_id": 59681009, "body": "The first part of your answer is incorrect: <code>mkdir foo &amp;&amp; touch foo&#47;{bar,baz,qux}.pl &amp;&amp; perl -E&#39;$loc = &quot;foo&quot;; say for glob qq{&quot;$loc&#47;*.pl&quot;}&#39;</code> prints <code>foo&#47;bar.pl</code>, <code>foo&#47;baz.pl</code>, and <code>foo&#47;qux.pl</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458070418, "post_id": 36000203, "comment_id": 59692362, "body": "@zdim Ah, it looks like treatment of quotes in <code>glob</code> was inconsistent <a href=\"http://perldoc.perl.org/perl5160delta.html#The-glob-operator\" rel=\"nofollow noreferrer\">until 5.16.0</a>. On 5.10.1, <code>glob(qq{&quot;foo bar&#47;*.pl&quot;})</code> works because there&#39;s a space, but <code>glob(qq{&quot;foo&#47;*.pl&quot;})</code> doesn&#39;t. The extra quotes are necessary if the path contains any spaces, but you&#39;re right that they&#39;re unnecessary here."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458071434, "post_id": 36000203, "comment_id": 59692928, "body": "@zdim You have to include literal quotes in the glob pattern if your path contains a space. <code>glob(q{foo bar&#47;*})</code> returns <code>foo</code> followed by the contents of directory <code>bar</code>. <code>glob(q{&quot;foo bar&#47;*&quot;})</code> returns the contents of directory <code>foo bar</code>. That&#39;s what Borodin was referring to."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458072044, "post_id": 36000203, "comment_id": 59693302, "body": "@ThisSuitIsBlackNot Ok, yes it&#39;s needed for that.  But isn&#39;t that a bit of a hack? I&#39;d rather build my <code>$loc</code> carefully -- escape spaces, or use quotes, or best use a module for Windows paths.  Then quote once. It gets dizzying with directly nested quotes. We are talking about <code>glob qq(&quot;$loc&quot;)</code>, where <code>$loc</code> has been built somehow.  The <code>qq</code> is just extra, to me. I don&#39;t want to rely on that to fix my <code>$loc</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458076539, "post_id": 36000203, "comment_id": 59695808, "body": "It&#39;s not a hack, it&#39;s required so that <code>glob</code> interprets your pattern as one pattern containing a space and not as two separate patterns. At some point you have to embed the literal quotes in your glob pattern, whether you do <code>my $loc = q{&quot;foo bar&quot;}; glob($loc);</code> or <code>my $loc = &quot;foo bar&quot;; glob(qq{&quot;$loc&quot;});</code> doesn&#39;t matter. Alternatively, <code>use File::Glob qw(:bsd_glob);</code> will treat spaces in the pattern as part of the filename, so you can just do <code>my $loc = &quot;foo bar&quot;; glob($loc)</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458123116, "post_id": 36000203, "comment_id": 59714548, "body": "@ThisSuitIsBlackNot  Thank you, summarized above."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 0, "last_activity_date": 1458154362, "last_edit_date": 1495540786, "creation_date": 1457999264, "answer_id": 36000203, "question_id": 35999388, "link": "https://stackoverflow.com/questions/35999388/how-to-use-perl-glob-to-read-remote-location/36000203#36000203", "title": "How to use Perl glob to read remote location?", "body": "<p>For one thing, your <code>qq</code> supplies extra quoting that <code>glob</code> may or may not handle as intended. </p>\n\n<p>This correctly lists all <code>.pl</code> files in <code>$loc</code>, being single directory or <code>'{dir1,dir2,...}'</code></p>\n\n<pre><code>my @files = glob \"$loc/*.pl\";\n</code></pre>\n\n<p>With an extra <code>qq</code> I get the empty list, on v5.10.</p>\n\n<p>Here is an example with extra <code>qq</code> brought up in a comment by <a href=\"https://stackoverflow.com/users/176646/thissuitisblacknot\">ThisSuitIsBlackNot</a>, copied</p>\n\n<pre><code>mkdir foo &amp;&amp; touch foo/{bar,baz,qux}.pl;\nperl -E '$loc = \"foo\"; say for glob qq{\"$loc/*.pl\"}'\n# prints `foo/bar.pl, foo/baz.pl, and foo/qux.pl`.\n</code></pre>\n\n<p>This works as intended on v5.16 but on v5.10 it does not (empty list), while without <code>qq</code> it does. This inconsistent behavior of <code>glob</code> with respect to quoting and space was <a href=\"http://perldoc.perl.org/perl5160delta.html#The-glob-operator\" rel=\"nofollow noreferrer\">fixed in v5.16</a>.</p>\n\n<p>With spaces in the path an extra level of quoting is necessary, as noted by <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a> and explained by <a href=\"https://stackoverflow.com/users/176646/thissuitisblacknot\">ThisSuitIsNotBlack</a> in comments, summarized here.\nFor <code>$path</code> with spaces one needs either of</p>\n\n<pre><code>$loc = q(\"$path\"); glob(\"$loc/*\");  \n$loc = \"$path\";    glob(qq{\"$loc/*\"});\n</code></pre>\n\n<p>Another option, which I would prefer, is to use <a href=\"http://search.cpan.org/~kwilliams/Path-Class-0.36/README.pod\" rel=\"nofollow noreferrer\">Path::Class</a>.</p>\n\n<hr>\n\n<p>From <code>perldoc -f glob</code>:</p>\n\n<blockquote>\n  <p>This is the internal function implementing the <code>&lt;*.c&gt;</code> operator, but you can use it  directly. If EXPR is omitted, <code>$_</code> is used.  The <code>&lt;*.c&gt;</code> operator is discussed in more detail in \"I/O Operators\" in perlop.</p>\n</blockquote>\n\n<p>From <code>perldoc perlop</code>, while talking about <code>&lt;..&gt;</code></p>\n\n<blockquote>\n  <p>If what's within the angle brackets is neither a filehandle nor a simple\n      scalar variable containing a filehandle name, typeglob, or typeglob\n      reference, it is interpreted as a filename pattern to be globbed, and\n      either a list of filenames or the next filename in the list is returned,\n      depending on context.</p>\n  \n  <p>...</p>\n  \n  <p>One level of double-quote interpretation is done first...</p>\n</blockquote>\n\n<p>[No more interpolation is mentioned.]</p>\n"}], "owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 1, "accepted_answer_id": 36000160, "answer_count": 3, "score": 0, "last_activity_date": 1458154362, "creation_date": 1457994815, "last_edit_date": 1457995642, "question_id": 35999388, "link": "https://stackoverflow.com/questions/35999388/how-to-use-perl-glob-to-read-remote-location", "title": "How to use Perl glob to read remote location?", "body": "<p>my test script:</p>\n\n<pre><code>my $loc = \"\\\\\\\\ant\\\\d1_sp\\\\test__18716093\";\n####$loc = \"c:\\\\temp\"; #this works good if I un-comment.\nsystem(\"dir $loc\\\\*.log\"); #added system command just for debugging.\nmy @test = glob qq(\"$loc\\\\*.log\");\nprint \"\\narray=@test\\n\";\n</code></pre>\n\n<p>I want to save the file names in <em>$loc</em> into array for further processing, but its not doing so, what am I missing? output is:</p>\n\n<pre><code>C:\\&gt;perl c:\\temp\\foo.pl\n\nDirectory of \\\\ant\\d1_sp\\test__18716093\n\n03/14/2016  01:09 PM               959 build_1.8980.log\n03/14/2016  01:20 PM           102,402 build_2.98981.log\n           2 File(s)        103,361 bytes\n           0 Dir(s)  1,589,522,239,488 bytes free\n\narray=\nC:\\&gt;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1457990420, "post_id": 35998268, "comment_id": 59649181, "body": "Please show the code you&#39;re having problems with"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457991055, "post_id": 35998268, "comment_id": 59649492, "body": "Your example output doesn&#39;t seem to be related to the input data you have shown"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6063401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcc9887b5e7a748ee1f4a5b8733138f0?s=128&d=identicon&r=PG&f=1", "display_name": "lizhengca", "link": "https://stackoverflow.com/users/6063401/lizhengca"}, "edited": false, "score": 0, "creation_date": 1457999163, "post_id": 35998456, "comment_id": 59652928, "body": "I got :Can&#39;t find string terminator &quot;&#39;&quot; anywhere before EOF at -e line 1."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 6063401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcc9887b5e7a748ee1f4a5b8733138f0?s=128&d=identicon&r=PG&f=1", "display_name": "lizhengca", "link": "https://stackoverflow.com/users/6063401/lizhengca"}, "edited": false, "score": 0, "creation_date": 1457999618, "post_id": 35998456, "comment_id": 59653072, "body": "I changed the quotes from double to single a long time ago. Do you have the latest version?"}, {"owner": {"reputation": 1, "user_id": 6063401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcc9887b5e7a748ee1f4a5b8733138f0?s=128&d=identicon&r=PG&f=1", "display_name": "lizhengca", "link": "https://stackoverflow.com/users/6063401/lizhengca"}, "edited": false, "score": 0, "creation_date": 1458000499, "post_id": 35998456, "comment_id": 59653357, "body": "thanks. double quotes could work for me. But is there any way to do do it within the perl script?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 6063401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcc9887b5e7a748ee1f4a5b8733138f0?s=128&d=identicon&r=PG&f=1", "display_name": "lizhengca", "link": "https://stackoverflow.com/users/6063401/lizhengca"}, "edited": false, "score": 0, "creation_date": 1458005187, "post_id": 35998456, "comment_id": 59654773, "body": "Sorry, do <i>what</i> within the Perl script? It&#39;s sounding like you need to ask a new question and show the code you&#39;re running"}, {"owner": {"reputation": 1, "user_id": 6063401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcc9887b5e7a748ee1f4a5b8733138f0?s=128&d=identicon&r=PG&f=1", "display_name": "lizhengca", "link": "https://stackoverflow.com/users/6063401/lizhengca"}, "edited": false, "score": 0, "creation_date": 1458005686, "post_id": 35998456, "comment_id": 59654910, "body": "anyway, thanks man. I may come up with a new question."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1457990941, "creation_date": 1457990941, "answer_id": 35998456, "question_id": 35998268, "link": "https://stackoverflow.com/questions/35998268/how-to-break-a-huge-text-file-into-different-lines-every-32-characters-in-one-l/35998456#35998456", "title": "How to break a huge text file into different lines (every 32 characters in one line) using Perl?", "body": "<p>As long as your file contains only one long line of text, this should work for you</p>\n\n<pre><code>perl -E 'say $chunk while read STDIN, $chunk, 32' &lt; myfile.txt\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>473e004095bc0058703e00b0dc3d0080\n5f3e00984c3e00d0053e0028703e0080\n0d3c0008553e00b0e6bd00b0de3d00c0\n50be00008bbc005075be00900abe0098\n44be00f85bbe00a0d0bd00a870be0040\nc13c00e03fbe00a00e3e0010adbd00d8\n603e0060153d00b86a3e00b01f3e00f0\n343e00106c3e00609c3d0018733e0000\n67bd0008303e004029be00c0883d0068\n6bbe00108bbd00506ebe001834be0030\n2abe00c868be00a046bd00e864be0070\na03d00881fbe00483e3e00a00bbd0040\n753e0070bd3d0050663e00b8453e0058\n113e00f06d3e0080803c0040573e00b0\nd7bd0080063e007845be0080253c00c0\n6cbe00a0f3bd005059be005056be00d0\ne8bd006072be0000f13b00d047be0058\n023e0020d4bd00585c3e0000e83c0070\n723e0080173e00a8463e00a0603e0010\nb63d00486c3e00e039bd00a0313e00f8\n1dbe00f0963d00d864be006043bd00c8\n61be00e02abe00302bbe008864be00e0\n6fbd009066be0020903d004819be00a0\n303e008034bd00d86f3e0030b93d0000\n683e0058383e00d0193e0018733e0040\nd03c0070633e0060bebd00a8113e0028\n46be0040ae3c00886fbe0060e7bd00d0\n5dbe00e04ebe00a801be00b86ebe0000\nf9bb00e053be0020f63d0020e9bd0018\n5b3e0000443c00d0713e00480a3e0080\n453e0090573e00c0d13d00a0743e0040\nb5bc00083f3e00a018be0070a93d0018\n5dbe00c033bd005869be00401abe0048\n36be00d863be00f09ebd005870be0060\n6a3d00282abe00a8273e00a06fbd00e8\n683e0040933d00286b3e00303e3e0070\n1b3e00406e3e00c0283d00605e3e00e0\nb4bd00500d3e00783cbe00c0df3c00c0\n6abe0090d2bd008061be00784abe0060\n0bbe006875be000004bc00e04fbe0070\nf53d0020f1bd00c0513e0000f03b00b0\n713e0068083e0050483e0010593e0020\ncf3d00d0743e00009abc0040473e00a8\n12be0070b83d00f05dbe002013bd0020\n72be00c81cbe00483cbe00b06abe00d0\n94bd00a86fbe00e0413d00a030be0020\n223e006079bd00186f3e0040933d00f0\n663e0098263e0058263e00206e3e0020\n663d0030603e0090b0bd0068193e0020\n37be0000e33c00d86bbe00c0c9bd0028\n61be005046be002814be002070be0080\naabc\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1457991087, "creation_date": 1457991087, "answer_id": 35998496, "question_id": 35998268, "link": "https://stackoverflow.com/questions/35998268/how-to-break-a-huge-text-file-into-different-lines-every-32-characters-in-one-l/35998496#35998496", "title": "How to break a huge text file into different lines (every 32 characters in one line) using Perl?", "body": "<p>You can set the <code>$/</code> variable to a number reference to set the input buffer size:</p>\n\n<pre><code>perl -lpe 'BEGIN { $/ = \\32 }' input &gt; output\n</code></pre>\n\n<ul>\n<li><code>-p</code> will print each buffer read from the input;</li>\n<li><code>-l</code> will add newlines to prints.</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 6063401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcc9887b5e7a748ee1f4a5b8733138f0?s=128&d=identicon&r=PG&f=1", "display_name": "lizhengca", "link": "https://stackoverflow.com/users/6063401/lizhengca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "closed_date": 1457991170, "answer_count": 2, "score": -6, "last_activity_date": 1457991087, "creation_date": 1457990303, "question_id": 35998268, "link": "https://stackoverflow.com/questions/35998268/how-to-break-a-huge-text-file-into-different-lines-every-32-characters-in-one-l", "closed_reason": "Not suitable for this site", "title": "How to break a huge text file into different lines (every 32 characters in one line) using Perl?", "body": "<p>for example the text file can be:</p>\n\n<p>473e004095bc0058703e00b0dc3d00805f3e00984c3e00d0053e0028703e00800d3c0008553e00b0e6bd00b0de3d00c050be00008bbc005075be00900abe009844be00f85bbe00a0d0bd00a870be0040c13c00e03fbe00a00e3e0010adbd00d8603e0060153d00b86a3e00b01f3e00f0343e00106c3e00609c3d0018733e000067bd0008303e004029be00c0883d00686bbe00108bbd00506ebe001834be00302abe00c868be00a046bd00e864be0070a03d00881fbe00483e3e00a00bbd0040753e0070bd3d0050663e00b8453e0058113e00f06d3e0080803c0040573e00b0d7bd0080063e007845be0080253c00c06cbe00a0f3bd005059be005056be00d0e8bd006072be0000f13b00d047be0058023e0020d4bd00585c3e0000e83c0070723e0080173e00a8463e00a0603e0010b63d00486c3e00e039bd00a0313e00f81dbe00f0963d00d864be006043bd00c861be00e02abe00302bbe008864be00e06fbd009066be0020903d004819be00a0303e008034bd00d86f3e0030b93d0000683e0058383e00d0193e0018733e0040d03c0070633e0060bebd00a8113e002846be0040ae3c00886fbe0060e7bd00d05dbe00e04ebe00a801be00b86ebe0000f9bb00e053be0020f63d0020e9bd00185b3e0000443c00d0713e00480a3e0080453e0090573e00c0d13d00a0743e0040b5bc00083f3e00a018be0070a93d00185dbe00c033bd005869be00401abe004836be00d863be00f09ebd005870be00606a3d00282abe00a8273e00a06fbd00e8683e0040933d00286b3e00303e3e00701b3e00406e3e00c0283d00605e3e00e0b4bd00500d3e00783cbe00c0df3c00c06abe0090d2bd008061be00784abe00600bbe006875be000004bc00e04fbe0070f53d0020f1bd00c0513e0000f03b00b0713e0068083e0050483e0010593e0020cf3d00d0743e00009abc0040473e00a812be0070b83d00f05dbe002013bd002072be00c81cbe00483cbe00b06abe00d094bd00a86fbe00e0413d00a030be0020223e006079bd00186f3e0040933d00f0663e0098263e0058263e00206e3e0020663d0030603e0090b0bd0068193e002037be0000e33c00d86bbe00c0c9bd002861be005046be002814be002070be0080aabc</p>\n\n<p>I want to break every 32 characters into one line, which will be like:</p>\n\n<p>52494646783a150057415645656d7420</p>\n\n<p>bd002861be005046be002814be002070</p>\n\n<p>dbe002013bd002072be00c81cbe00483</p>\n\n<p>How can I do it in Perl?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1457984907, "post_id": 35996677, "comment_id": 59645898, "body": "What about <code>length</code>? Why do you say it does not work?"}, {"owner": {"reputation": 669, "user_id": 1854603, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/5ad51d222e092ea29c7b24e2918b7b76?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/1854603/stephen"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 1, "creation_date": 1457985029, "post_id": 35996677, "comment_id": 59645960, "body": "<code>length(00)</code> returns <code>1</code> for me. I&#39;m trying to find a stretch of digits so length of <code>00</code> or <code>01</code> or <code>02</code> or etc. returns <code>2</code>"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1457987405, "post_id": 35996677, "comment_id": 59647376, "body": "<code>length(00)</code> returns 1 because it is the same as <code>length(0)</code>, or <code>length(&#39;0&#39;)</code>. <code>length(&#39;00&#39;)</code> returns 2."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 2, "creation_date": 1457987621, "post_id": 35996677, "comment_id": 59647529, "body": "@Stephen: Yes, <code>length(00)</code> does return <code>1</code>, but that&#39;s not the cause of your problem. This isn&#39;t a string-vs-number issue, you&#39;re just passing the wrong string, as explained in the accepted answer. (I&#39;m adding this comment for the benefit of future readers.)"}], "answers": [{"comments": [{"owner": {"reputation": 669, "user_id": 1854603, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/5ad51d222e092ea29c7b24e2918b7b76?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/1854603/stephen"}, "edited": false, "score": 0, "creation_date": 1457985124, "post_id": 35996717, "comment_id": 59646018, "body": "I would like to find a stretch of digits so that the length of <code>05</code> returns <code>2</code>"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1457985340, "post_id": 35996717, "comment_id": 59646161, "body": "The <code>log</code> method fails for non-positive numbers."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1457985604, "post_id": 35996717, "comment_id": 59646293, "body": "Just using <code>abs</code> would (a) blow up on <code>log(0)</code> and (b) would report that the length of <code>-42</code> is 2 rather than 3."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1457986663, "post_id": 35996717, "comment_id": 59646941, "body": "And it wouldn&#39;t fix the problem. See the accepted answer."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1457987193, "post_id": 35996717, "comment_id": 59647266, "body": "It answers the question that was initially asked, &quot;How do I find the length of a number?&quot;. New information changed the question after I wrote this."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": -1, "last_activity_date": 1457985738, "last_edit_date": 1457985738, "creation_date": 1457984953, "answer_id": 35996717, "question_id": 35996677, "link": "https://stackoverflow.com/questions/35996677/is-there-a-built-in-perl-function-that-determines-length-of-numeric-variable/35996717#35996717", "title": "Is there a built-in perl function that determines length of numeric variable?", "body": "<p>You can use the <a href=\"http://perldoc.perl.org/functions/length.html\" rel=\"nofollow\">length</a> built-in, just like you would for a string; Perl implicitly converts arguments based on the operator/builtin that they are being passed to:</p>\n\n<pre><code>#!perl \n\nuse strict; \nuse warnings; \n\nmy $number = 5; \nprint length($number), \"\\n\";\n</code></pre>\n\n<p>You can also use a base-10 logarithm to determine how long a number is:</p>\n\n<pre><code>#!perl \n\nuse strict;\nuse warnings; \n\nmy $number = 12345;\nmy $length = $number &gt; 0 \n    ? int(log($number)/log(10)) + 1\n    : $number == 0 \n          ? 0 \n          : int(log(abs($number))/log(10)) + 2;\nprint $length, \"\\n\"; \n# 5\n</code></pre>\n\n<p>**EDIT: as @Keith Thompson points out, log is not defined for numbers &lt;= 0. Use <a href=\"http://perldoc.perl.org/functions/abs.html\" rel=\"nofollow\">abs</a> to prevent this condition.</p>\n"}, {"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 6, "last_activity_date": 1457986134, "last_edit_date": 1457986134, "creation_date": 1457985586, "answer_id": 35996926, "question_id": 35996677, "link": "https://stackoverflow.com/questions/35996677/is-there-a-built-in-perl-function-that-determines-length-of-numeric-variable/35996926#35996926", "title": "Is there a built-in perl function that determines length of numeric variable?", "body": "<p>Your regular expression grabs the leading 0 because <code>.*</code> is very greedy.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nwhile (my $line = &lt;DATA&gt;) {\n    if ($line =~ /\\[numeric[\\D]*(\\d+)\\-(\\d+)/i){\n        my $rangemin = $1;\n        my $len = length $rangemin;\n        print \"rangemin=$rangemin len=$len\\n\";\n    }\n}\n\n__DATA__\ncat       dog      [numeric, 00-23]\npickle    fence    [numeric, 0-5]\ntack      glue     [numeric,1-53]\ndent      paint    [numeric01-15]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>rangemin=00 len=2\nrangemin=0 len=1\nrangemin=1 len=1\nrangemin=01 len=2\n</code></pre>\n"}], "owner": {"reputation": 669, "user_id": 1854603, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/5ad51d222e092ea29c7b24e2918b7b76?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/1854603/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 35996926, "answer_count": 2, "score": 1, "last_activity_date": 1457986134, "creation_date": 1457984763, "last_edit_date": 1457985219, "question_id": 35996677, "link": "https://stackoverflow.com/questions/35996677/is-there-a-built-in-perl-function-that-determines-length-of-numeric-variable", "title": "Is there a built-in perl function that determines length of numeric variable?", "body": "<p>I am parsing a text file with the following format that needs to be distinguished.</p>\n\n<pre><code>cat       dog      [numeric, 00-23]\npickle    fence    [numeric, 0-5]\ntack      glue     [numeric,1-53]\ndent      paint    [numeric01-15]\n</code></pre>\n\n<p>If the minimum of the range is a single digit, then I need to process it a certain way. If the minimum of the range is double-digit (including 00,01,02,etc), I need to process it another way. </p>\n\n<pre><code>if($line =~ /\\[numeric.*(\\d+)\\-(\\d+)/i){\n       $rangemin=$1;\n       $rangemax=$2;\n       #find # of digits in $rangemin\n       #length() doesn't work\n       #I'm trying to find a function that finds number of digits so length of `00` or `01` or `02` or etc. returns `2` \n}\n</code></pre>\n\n<p>How do I find the # of digits of <code>$rangemin</code>?</p>\n"}, {"tags": ["perl", "unit-testing", "subroutine"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1457982166, "post_id": 35995805, "comment_id": 59644351, "body": "You have stray parentheses on the last four lines. Edit it so that at least you have something that compiles."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1457982312, "post_id": 35995805, "comment_id": 59644436, "body": "You&#39;re also missing a semi-colon after <code>use constant { ... }</code> and you forgot the quotes around <code>www.error-fix.com</code>. Please don&#39;t invent code that you&#39;re not actually using and type it directly into the question box; create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and copy-paste it verbatim instead. (This is just general advice, by the way; I can see that you&#39;re asking about the right approach and not about compilation errors.)"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1457983143, "post_id": 35995805, "comment_id": 59644928, "body": "Also, the way things are configured in your tests, you&#39;re attempting to call methods on an <code>$error</code> object, instead of checking the values of hash keys. Have you even attempted to run this code?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457983965, "post_id": 35995805, "comment_id": 59645383, "body": "Addressing your actual question: what are you trying to test? It seems like you&#39;re trying to check for invalid input to <code>error_post()</code>, using <code>ok()</code> like <code>assert()</code> in C. To unit test a function, usually you pass a known input and check that the output matches what you expect, e.g. <code>my $error = { message =&gt; &#39;foo&#39; }; is( error_post($error), $error-&gt;{message}, &#39;returns message&#39; );</code>"}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1457983837, "creation_date": 1457983837, "answer_id": 35996397, "question_id": 35995805, "link": "https://stackoverflow.com/questions/35995805/how-to-create-a-unit-test-in-perl/35996397#35996397", "title": "How to create a unit test in Perl?", "body": "<p>I didn't have much time, but here's some tests somewhat along the lines on how I'd write them. However, tests should live in their own files, have a <code>*.t</code> extension, and live within their own directory. They shouldn't be inline with the code you're writing.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Test::More;\n\nuse constant {\n\n    ERROR_AED =&gt; {\n        errorCode =&gt; 561,\n        message =&gt; \"this is an error.\\n\",\n        tt =&gt; { template =&gt; 'disabled'},\n        link =&gt; 'www.error-fix.com',\n    },\n};\n\nmy $error = ERROR_AED;\n\nis (ref $error, 'HASH', 'ERROR_AED is a hashref');\n\nis (defined $error-&gt;{errorCode}, 1, 'ERROR_AED contains an errorCode key');\nis ($error-&gt;{errorCode}, 561, 'ERROR_AED errorCode is correct');\n\nis (defined $error-&gt;{message}, 1, 'ERROR_AED contains key message');\nlike ($error-&gt;{message}, qr/this is an error/, 'ERROR_AED msg output is ok');\n\nis (defined $error-&gt;{tt}, 1, 'ERROR_AED contains key tt');\nis (ref $error-&gt;{tt}, 'HASH', 'ERROR_AED tt is a hashref');\nis (defined $error-&gt;{tt}{template}, 1, 'ERROR_AED tt href contains template key');\nis ($error-&gt;{tt}{template}, 'disabled', 'ERROR_AED tt template is ok');\n\nis (defined $error-&gt;{link}, 1, 'ERROR_AED has a link key');\nis ($error-&gt;{link}, 'www.error-fix.com', 'ERROR_AED link is ok');\n\ndone_testing();\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 35996397, "answer_count": 1, "score": -1, "last_activity_date": 1460211453, "creation_date": 1457981822, "last_edit_date": 1460211453, "question_id": 35995805, "link": "https://stackoverflow.com/questions/35995805/how-to-create-a-unit-test-in-perl", "title": "How to create a unit test in Perl?", "body": "<p>I am trying to create a unit test for this error post subroutine shown below. This method takes in the error name and prints out the message which is a value located in each error. This is the code I have:</p>\n\n<pre><code>    use constant {\n        # link included as a variable in this example\n        ERROR_AED =&gt; {\n        errorCode =&gt; 561,\n        message =&gt; {\"this is an error. \"},\n        tt =&gt; { template =&gt; 'disabled'},\n        link =&gt; 'www.error-fix.com',\n        },\n};\n\n\nsub error_post {\n\n    my($error) = @_;\n    printf ($error-&gt;{ message });    \n}\n\nerror_post(ERROR_AED);\n</code></pre>\n\n<p>This was my approach I'm pretty sure it's wrong I was attempting to verify the input values, or more generally verify that it was an error that was passed into the error_post method.</p>\n\n<pre><code>#verifying input values \n\nsub test_error_post {\n    ok( defined $error, 'Should have an input value' );  # check that it's a constant\n    ok($error-&gt;isa(constant) , 'Error should be of type constant');\n    ok($error-&gt;errorCode), 'Should contain key errorCode');\n    ok($error-&gt;message), 'Should contain key message'); \n    ok($error-&gt;tt), 'Should contain key tt');\n    ok($error-&gt;wiki_page) 'Should contain key wiki page');      \n}\n</code></pre>\n\n<p>I know this is probably a long way off. </p>\n"}, {"tags": ["regex", "perl", "pattern-matching"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1457964758, "post_id": 35989809, "comment_id": 59632102, "body": "If you have a full HTML document you should use an HTML parser instead of regular expressions."}, {"owner": {"reputation": 23, "user_id": 1935187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wiqmp.jpg?s=128&g=1", "display_name": "Sina Ahm", "link": "https://stackoverflow.com/users/1935187/sina-ahm"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1457964845, "post_id": 35989809, "comment_id": 59632160, "body": "@simbabque You&#39;re right but as a question, I want to know what&#39;s the problem."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1457965018, "post_id": 35989809, "comment_id": 59632306, "body": "I think it might be too greedy, but I would have to see how you read the file and what <code>$string</code> contains. You can add <a href=\"https://metacpan.org/pod/re#debug-mode\" rel=\"nofollow noreferrer\"><code>use re &#39;debug&#39;</code></a> to the top of your code to see what the regex engine is doing. That might give you a hint."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 1935187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wiqmp.jpg?s=128&g=1", "display_name": "Sina Ahm", "link": "https://stackoverflow.com/users/1935187/sina-ahm"}, "edited": false, "score": 0, "creation_date": 1457978006, "post_id": 35990201, "comment_id": 59641787, "body": "Thanks a lot Sobrique. I could resolve the problem thanks to your solution."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1457965609, "creation_date": 1457965609, "answer_id": 35990201, "question_id": 35989809, "link": "https://stackoverflow.com/questions/35989809/regex-doesnt-match-in-perl/35990201#35990201", "title": "regex doesn&#39;t match in Perl", "body": "<p>Yes, there probably are. But honestly, I'd probably tackle it a bit differently. Use an HTML parser is the first port of call. </p>\n\n<p>Like for example - you're re-using <code>$mystring</code>, and that's usually a warning sign that you're not using <code>strict</code> and <code>warnings</code>, and thus are doing things that you're not expecting. </p>\n\n<p>You're not getting the output you desire, because you overwrite <code>$mystring</code> with this bit, for example:</p>\n\n<pre><code>    if($mystring =~ m/(&gt;.*&lt;)/){\n        $mystring = $1;\n</code></pre>\n\n<p>But having run your code with your sample data - it seems to almost work - because you're clobbering <code>$mystring</code> you're getting:</p>\n\n<pre><code>ZAN 3713 \nZAN2310 \nZAN2410 \n</code></pre>\n\n<p>I would suggest a slightly different approach though:</p>\n\n<pre><code>while (&lt;DATA&gt;) {\n    m/r=(\\d+)\\\"\\s*&gt;([^&lt;]+)/g &amp;&amp; print \"$1 $2\\n\";\n}\n\n__DATA__\n&lt;pre&gt;\n&lt;option data-url=\"/nav/extra/list?s=prix_asc&amp;amp;cat=436&amp;amp;npk=1&amp;amp;b=4294959199&amp;amp;r=4294959195\" &gt;ZAN 3713&lt;/option&gt;\n&lt;option data-url=\"/nav/extra/list?s=prix_asc&amp;amp;cat=436&amp;amp;npk=1&amp;amp;b=4294959199&amp;amp;r=4294959194\" &gt;ZAN2310&lt;/option&gt;\n&lt;option data-url=\"/nav/extra/list?s=prix_asc&amp;amp;cat=436&amp;amp;npk=1&amp;amp;b=4294959199&amp;amp;r=4294959193\" &gt;ZAN2410&lt;/option&gt;\n</code></pre>\n\n<p>This gives you output of:</p>\n\n<pre><code>4294959195 ZAN 3713\n4294959194 ZAN2310\n4294959193 ZAN2410\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1457966660, "creation_date": 1457966660, "answer_id": 35990624, "question_id": 35989809, "link": "https://stackoverflow.com/questions/35989809/regex-doesnt-match-in-perl/35990624#35990624", "title": "regex doesn&#39;t match in Perl", "body": "<p>Your code seems to do what you're asking. The values of (the first) <code>$mystring</code> evaluate to</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>;r=4294959195\" &gt;ZAN 3713&lt;\n;r=4294959194\" &gt;ZAN2310&lt;\n;r=4294959193\" &gt;ZAN2410&lt;\n</code></pre>\n\n<p>the last of which matches your expected string <code>;r=4294959193\" &gt;ZAN2410&lt;</code></p>\n\n<p>But then you go on to extract the value between <code>&gt;</code> and <code>&lt;</code> and print that, which gives</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ZAN 3713 \nZAN2310 \nZAN2410 \n</code></pre>\n\n<p>Which again is what I would expect, so I don't see any issue here. To get the result you say you want you should just omit the inner <code>if</code> block altogether</p>\n"}], "owner": {"reputation": 23, "user_id": 1935187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wiqmp.jpg?s=128&g=1", "display_name": "Sina Ahm", "link": "https://stackoverflow.com/users/1935187/sina-ahm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 35990201, "answer_count": 2, "score": 2, "last_activity_date": 1457966660, "creation_date": 1457964651, "last_edit_date": 1457966198, "question_id": 35989809, "link": "https://stackoverflow.com/questions/35989809/regex-doesnt-match-in-perl", "title": "regex doesn&#39;t match in Perl", "body": "<p>I'm going to extract the name and the id of some scraped data using this script: </p>\n\n<pre><code>if ( $string =~ m/(;r=\\d*.*&lt;)/ ) {\n\n    $mystring = $1;\n    $mystring =~ s/;//;\n\n    if ( $mystring =~ m/(&gt;.*&lt;)/ ) {\n\n        $mystring = $1;\n        $mystring =~ s/&gt;//;\n        $mystring =~ s/&lt;//;\n\n        print \"$mystring \\n\";\n    }\n}\n</code></pre>\n\n<p>in which <code>$string</code> contains one line of the input file per iteration. Here are some lines: </p>\n\n<pre><code>&lt;pre&gt;\n&lt;option data-url=\"/nav/extra/list?s=prix_asc&amp;amp;cat=436&amp;amp;npk=1&amp;amp;b=4294959199&amp;amp;r=4294959195\" &gt;ZAN 3713&lt;/option&gt;\n&lt;option data-url=\"/nav/extra/list?s=prix_asc&amp;amp;cat=436&amp;amp;npk=1&amp;amp;b=4294959199&amp;amp;r=4294959194\" &gt;ZAN2310&lt;/option&gt;\n&lt;option data-url=\"/nav/extra/list?s=prix_asc&amp;amp;cat=436&amp;amp;npk=1&amp;amp;b=4294959199&amp;amp;r=4294959193\" &gt;ZAN2410&lt;/option&gt;\n</code></pre>\n\n<p>\nWhat I expect normally is <code>;r=4294959193\" &gt;ZAN2410&lt;</code> as the result; but the problem is that Perl doesn't detect any matches! \nIs there any problem with my regex? </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2705585"}, "edited": false, "score": 2, "creation_date": 1457963768, "post_id": 35989378, "comment_id": 59631351, "body": "I don&#39;t think you need regex in this. Subtract each number from the given number. Remove the <code>-</code> sign if there is any. The smallest difference will be closest match."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1457963801, "post_id": 35989378, "comment_id": 59631379, "body": "What do you mean by &quot;closest&quot;? And does it have to be a regex solution? I would have thought regexes were particularly poorly suited to this"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1457963870, "post_id": 35989378, "comment_id": 59631433, "body": "Depends if it&#39;s a numeric &#39;close&#39; or a text &#39;close&#39;. Being off by an order of magnitude might be &#39;closer&#39; despite numerically not being. Either way - <code>regex</code> isn&#39;t the right tool."}, {"owner": {"reputation": 120, "user_id": 4700816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db6ce60a46e0fef9686e4e13aabb193c?s=128&d=identicon&r=PG&f=1", "display_name": "AvremyC", "link": "https://stackoverflow.com/users/4700816/avremyc"}, "edited": false, "score": 0, "creation_date": 1458027695, "post_id": 35989378, "comment_id": 59662134, "body": "Correct, these are phone numbers, these are all in string format"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457964644, "post_id": 35989585, "comment_id": 59632017, "body": "It never occurred to me that these may be telephone numbers\u2014well spotted. <code>44</code> is the country code for the United Kingdom. This is why I asked what the OP meant by <i>\u201cclosest\u201d</i>. I think we need a better description of the problem"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457965013, "post_id": 35989585, "comment_id": 59632302, "body": "I have it easy - I live in .uk so recognised it instantly. <code>0208</code> would be a London area code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457966013, "post_id": 35989585, "comment_id": 59633072, "body": "Me too\u2014I&#39;m up in Norfolk\u2014but it didn&#39;t click with me because I expect to see it as <code>+44</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1457964700, "last_edit_date": 1457964700, "creation_date": 1457964040, "answer_id": 35989585, "question_id": 35989378, "link": "https://stackoverflow.com/questions/35989378/regex-closest-match-digits/35989585#35989585", "title": "regex closest match digits", "body": "<p>Regex is really the wrong tool for this job - regular expressions are about matching patterns. The task you're doing... isn't.</p>\n\n<p>Try a different approach, like using <a href=\"http://search.cpan.org/dist/Text-Levenshtein/lib/Text/Levenshtein.pm\" rel=\"nofollow\"><code>Text::Levenshtein</code></a> to compare them:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Text::Levenshtein qw/ distance /;\n\nmy $search = '442082020987';\n\nwhile ( &lt;DATA&gt; ) {\n    chomp;\n    print distance ( $search, $_ ), \"=&gt;\", $_,\"\\n\";\n}\n\n__DATA__\n4\n44\n4420\n44208\n442082\n4420820\n44208202\n4420820205\n44208202057\n442082020579\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>11=&gt;4\n10=&gt;44\n8=&gt;4420\n7=&gt;44208\n6=&gt;442082\n5=&gt;4420820\n4=&gt;44208202\n3=&gt;4420820205\n2=&gt;44208202057\n3=&gt;442082020579\n</code></pre>\n\n<p>I'll leave it to you to select the minimum, assuming that: \"<code>2 =&gt; 44208202057</code>\" is the right answer for your scenario. </p>\n\n<p>Or you could do a numeric comparison - but these look like phone numbers, so a string based match might be appropriate. </p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1457964155, "post_id": 35989592, "comment_id": 59631649, "body": "Cool. Numeric based, and text based comparison answers. That&#39;s pretty comprehensive ;)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1467624938, "last_edit_date": 1467624938, "creation_date": 1457964054, "answer_id": 35989592, "question_id": 35989378, "link": "https://stackoverflow.com/questions/35989378/regex-closest-match-digits/35989592#35989592", "title": "regex closest match digits", "body": "<p>I think this is a case for <code>nmin_by</code> from the <a href=\"http://metacpan.org/module/List::UtilsBy\" rel=\"nofollow\"><code>List::UtilsBy</code></a> module</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse List::UtilsBy 'nmin_by';\n\nchomp( my @data = &lt;DATA&gt; );\n\nmy $target = 442082020987;\n\nsay nmin_by { abs($_ - $target) } @data;\n\n__DATA__\n4\n44\n4420\n44208\n442082\n4420820\n44208202\n4420820205\n44208202057\n442082020579\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>442082020579\n</code></pre>\n\n<p>If you would prefer to avoid using the module then this will do job. The output is identical to the first solution</p>\n\n<pre><code>for my $n ( @data ) {\n    my $delta = abs($n - $target);\n    unless ( defined $min_delta and $min_delta &lt;= $delta ) {\n        ($nearest, $min_delta) = ($n, $delta);\n    }\n}\n\nsay $nearest;\n</code></pre>\n"}], "owner": {"reputation": 120, "user_id": 4700816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db6ce60a46e0fef9686e4e13aabb193c?s=128&d=identicon&r=PG&f=1", "display_name": "AvremyC", "link": "https://stackoverflow.com/users/4700816/avremyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 35989592, "answer_count": 2, "score": 0, "last_activity_date": 1467624938, "creation_date": 1457963484, "question_id": 35989378, "link": "https://stackoverflow.com/questions/35989378/regex-closest-match-digits", "title": "regex closest match digits", "body": "<p>I have a list of numbers<br>\n4<br>\n44<br>\n4420<br>\n44208<br>\n442082<br>\n4420820<br>\n44208202<br>\n4420820205<br>\n44208202057<br>\n442082020579</p>\n\n<p>now I have the number 442082020987 , how can i get a regex search to find the closest match?</p>\n\n<p>44?2?0?8?2?0?2?0?5?7?9? gives me all of them , is there a way to show the closest match?</p>\n\n<p>thanks</p>\n"}, {"tags": ["perl", "awk", "sed"], "answers": [{"comments": [{"owner": {"reputation": 201, "user_id": 6060872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ba1c96bfad2a2ef2d2accfe0cab1d2?s=128&d=identicon&r=PG&f=1", "display_name": "rehctawrats", "link": "https://stackoverflow.com/users/6060872/rehctawrats"}, "edited": false, "score": 0, "creation_date": 1457960716, "post_id": 35988221, "comment_id": 59629058, "body": "Wow. Fast and perfectly working answer... thanks a lot!!"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1457961025, "post_id": 35988221, "comment_id": 59629288, "body": "This will mangle the format of your file and replace any whitespace with a single space."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1457961231, "post_id": 35988221, "comment_id": 59629442, "body": "@TLP: True. You can split manually by <code>split &#47;(\\s+)&#47;</code> and use the same modulo trick to only change the odd elements in the array."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1457961286, "post_id": 35988221, "comment_id": 59629475, "body": "I am checking out a regex substitution variant, but it keeps putting in <code>+</code> for negated values, which is passing odd."}, {"owner": {"reputation": 201, "user_id": 6060872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ba1c96bfad2a2ef2d2accfe0cab1d2?s=128&d=identicon&r=PG&f=1", "display_name": "rehctawrats", "link": "https://stackoverflow.com/users/6060872/rehctawrats"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1457961315, "post_id": 35988221, "comment_id": 59629504, "body": "@TLP: the whitespace issue is fine with me. pluses and the newly created 0 in front of .3 are ok, too, for my purpose."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 6, "last_activity_date": 1457960304, "creation_date": 1457960304, "answer_id": 35988221, "question_id": 35988094, "link": "https://stackoverflow.com/questions/35988094/how-to-replace-numbers-with-their-negative-on-every-second-line/35988221#35988221", "title": "How to replace numbers with their negative on every second line?", "body": "<p>Perl to the rescue:</p>\n\n<pre><code>perl -lane '$. % 2 and $_ = -$_ for @F; print \"@F\"' input &gt; output\n</code></pre>\n\n<ul>\n<li><code>-n</code> reads the input line by line</li>\n<li><code>-a</code> splits each line into the @F array</li>\n<li><code>-l</code> adds newlines to print</li>\n<li><code>$.</code> contains the line number, <code>%</code> is the modulo operator. <code>$. % 2</code> is true for each odd line.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "edited": false, "score": 0, "creation_date": 1457962580, "post_id": 35988593, "comment_id": 59630465, "body": "you can also write <code>$1=-$1</code> avoiding multiplication, not that it matters much."}, {"owner": {"reputation": 10152, "user_id": 2229272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oisED.png?s=128&g=1", "display_name": "jas", "link": "https://stackoverflow.com/users/2229272/jas"}, "reply_to_user": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "edited": false, "score": 0, "creation_date": 1457969914, "post_id": 35988593, "comment_id": 59636174, "body": "I agree @karakfa, no reason to multiply. Updated."}], "tags": [], "owner": {"reputation": 10152, "user_id": 2229272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oisED.png?s=128&g=1", "display_name": "jas", "link": "https://stackoverflow.com/users/2229272/jas"}, "is_accepted": false, "score": 4, "last_activity_date": 1457978732, "last_edit_date": 1457978732, "creation_date": 1457961257, "answer_id": 35988593, "question_id": 35988094, "link": "https://stackoverflow.com/questions/35988094/how-to-replace-numbers-with-their-negative-on-every-second-line/35988593#35988593", "title": "How to replace numbers with their negative on every second line?", "body": "<p>With awk:</p>\n\n<pre><code>$ awk 'NR % 2 {for (i=1;i&lt;=NF;++i) $i=-$i}1' oddneg.txt \n-1.5 -1.6 -1.7\n-5\n-2.1 -2.8 0.3\n4.005\n</code></pre>\n\n<p><strong>NR % 2</strong><br>\nPerform this action only when the current line number mod 2 is not zero (i.e., do this for odd lines).</p>\n\n<p><strong>{for (i=1;i&lt;=NF;++i) $i = -$i}</strong><br>\nLoop through the columns setting each to its negative</p>\n\n<p><strong>1</strong><br>\nPrint the current (modified) line. (awk idiom that works because <code>1</code> evaluates to true, and the default action is to print the current line.)</p>\n"}, {"comments": [{"owner": {"reputation": 201, "user_id": 6060872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ba1c96bfad2a2ef2d2accfe0cab1d2?s=128&d=identicon&r=PG&f=1", "display_name": "rehctawrats", "link": "https://stackoverflow.com/users/6060872/rehctawrats"}, "edited": false, "score": 0, "creation_date": 1458132046, "post_id": 35989110, "comment_id": 59720818, "body": "This would be great if it didn&#39;t change the exponent sign in scientific notation."}, {"owner": {"reputation": 201, "user_id": 6060872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ba1c96bfad2a2ef2d2accfe0cab1d2?s=128&d=identicon&r=PG&f=1", "display_name": "rehctawrats", "link": "https://stackoverflow.com/users/6060872/rehctawrats"}, "edited": false, "score": 0, "creation_date": 1458214681, "post_id": 35989110, "comment_id": 59765450, "body": "This is the best answer because of full preservation of format and text. Thank you."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1458140698, "last_edit_date": 1458140698, "creation_date": 1457962783, "answer_id": 35989110, "question_id": 35988094, "link": "https://stackoverflow.com/questions/35988094/how-to-replace-numbers-with-their-negative-on-every-second-line/35989110#35989110", "title": "How to replace numbers with their negative on every second line?", "body": "<p>I suggest this, which works by adding or removing the minus sign at the start of each number. Anything that is not a number is left untouched</p>\n\n<pre><code>perl -pe's/(?&lt;!\\S)(-?)([\\d.]+)/$1 ? $2 : \"-$2\" /ge if $. % 2' myfile.txt\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>-1.5 -1.6 -1.7\n-5\n-2.1 -2.8 .3\n4.005\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 201, "user_id": 6060872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ba1c96bfad2a2ef2d2accfe0cab1d2?s=128&d=identicon&r=PG&f=1", "display_name": "rehctawrats", "link": "https://stackoverflow.com/users/6060872/rehctawrats"}, "edited": false, "score": 0, "creation_date": 1458132862, "post_id": 36006821, "comment_id": 59721475, "body": "This is perfect for purely numerical content. Tank you."}], "tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 0, "last_activity_date": 1458032997, "creation_date": 1458032997, "answer_id": 36006821, "question_id": 35988094, "link": "https://stackoverflow.com/questions/35988094/how-to-replace-numbers-with-their-negative-on-every-second-line/36006821#36006821", "title": "How to replace numbers with their negative on every second line?", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed '1~2{s/\\S\\+/-&amp;/g;s/--//g}' file\n</code></pre>\n\n<p>Assuming the only values in the file are numbers. Insert a negative sign infront of each number. If there are two consecutive negative signs the original number was negative so remove the sign.</p>\n"}], "owner": {"reputation": 201, "user_id": 6060872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ba1c96bfad2a2ef2d2accfe0cab1d2?s=128&d=identicon&r=PG&f=1", "display_name": "rehctawrats", "link": "https://stackoverflow.com/users/6060872/rehctawrats"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 35989110, "answer_count": 4, "score": 1, "last_activity_date": 1458140698, "creation_date": 1457960020, "last_edit_date": 1457960357, "question_id": 35988094, "link": "https://stackoverflow.com/questions/35988094/how-to-replace-numbers-with-their-negative-on-every-second-line", "title": "How to replace numbers with their negative on every second line?", "body": "<p>I have huge files containing numbers, say</p>\n\n<pre><code>1.5 1.6 1.7\n-5\n2.1 2.8 -.3\n4.005\n</code></pre>\n\n<p>and would like to change them to</p>\n\n<pre><code>-1.5 -1.6 -1.7\n-5\n-2.1 -2.8 .3\n4.005\n</code></pre>\n\n<p>i.e. replace all numbers by their negative values on every second line. By that I mean all odd line numbers.</p>\n\n<p>Does anyone know how to do that? Combining answers to related questions did not work for me.</p>\n"}, {"tags": ["perl", "syntax-error", "bioinformatics", "vcf-variant-call-format", "bcftools"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457959328, "post_id": 35987632, "comment_id": 59628082, "body": "By the way, you might want to let the authors know that <code>my $chr = $1 if ($tmp[0] =~ &#47;chr([\\S]+)&#47;);</code>, which is a buggy way of writing <code>my ($chr) = $tmp[0] =~ &#47;chr([\\S]+)&#47;;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6060760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07578d5ef56c5e7076996390fbf6dc7c?s=128&d=identicon&r=PG&f=1", "display_name": "SamC", "link": "https://stackoverflow.com/users/6060760/samc"}, "edited": false, "score": 0, "creation_date": 1457960193, "post_id": 35987951, "comment_id": 59628691, "body": "But that is supposed to happen when I am using the mpileup code for generating vcf. Is it possible that it is a glitch in the vcf2linkdatagen.pl code, at line 487?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 23, "user_id": 6060760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07578d5ef56c5e7076996390fbf6dc7c?s=128&d=identicon&r=PG&f=1", "display_name": "SamC", "link": "https://stackoverflow.com/users/6060760/samc"}, "edited": false, "score": 0, "creation_date": 1457960348, "post_id": 35987951, "comment_id": 59628782, "body": "I don&#39;t know anything about <code>mpileup</code> or VCF files. You asked why you&#39;re getting the warning, and I told you why."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1457960407, "last_edit_date": 1457960407, "creation_date": 1457959622, "answer_id": 35987951, "question_id": 35987632, "link": "https://stackoverflow.com/questions/35987632/error-in-linkdatagen-use-of-uninitiated-value-chr-in-concatenation-or-str/35987951#35987951", "title": "Error in Linkdatagen : Use of uninitiated value $chr in concatenation (.) or string", "body": "<p>Ignoring lines starting with <code>#</code>, <code>vcf2linkdatagen.pl</code> expects the first field of the first line of the VCF to contain something of the form \"chr<em>something</em>\", and your file doesn't meet that expectation. Examples from a comment in the code:</p>\n\n<pre><code>chr1    888659  .   T   C   226 .   DP=26;AF1=1;CI95=1,1;DP4=0,0,9,17;MQ=49;FQ=-81  GT:PL:GQ    1/1:234,78,0:99\nchr1    990380  .   C   .   44.4    .   DP=13;AF1=7.924e-09;CI95=1.5,0;DP4=3,10,0,0;MQ=49;FQ=-42    PL  0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457959854, "post_id": 35987991, "comment_id": 59628446, "body": "Re &quot;<i>Because if the condition fails, does the variable exist?</i>&quot;, Since <code>my</code>&#39;s compile-time effect creates the variable, that&#39;s not the problem. The problem is that the variable won&#39;t be cleared on scope exit unless <code>my</code> gets executed. This is why this code is documented to have undefined behaviour."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 0, "last_activity_date": 1457960894, "last_edit_date": 1457960894, "creation_date": 1457959734, "answer_id": 35987991, "question_id": 35987632, "link": "https://stackoverflow.com/questions/35987632/error-in-linkdatagen-use-of-uninitiated-value-chr-in-concatenation-or-str/35987991#35987991", "title": "Error in Linkdatagen : Use of uninitiated value $chr in concatenation (.) or string", "body": "<p>The warning means that a variable used in a string is not initialized (undefined). It is an indication that something might be wrong. The line in question can be traced to this statement</p>\n\n<pre><code>my $chr = $1 if ($tmp[0] =~ /chr([\\S]+)/);\n</code></pre>\n\n<p>It is bad practice to use postfix if statements on a <code>my</code> statement. </p>\n\n<p>As ikegami notes a workaround for this might be</p>\n\n<pre><code>my ($chr) = $tmp[0] =~ /chr([\\S])/;\n</code></pre>\n\n<p>But since the match failed, it will likely return the same error. The only way to solve is to know more about the purpose of this variable, if the error should be fatal or not. The author has not handled this case, so we do not know.</p>\n\n<p>If you want to know more about the problem, you might add a debug line such as this:</p>\n\n<pre><code>warn \"'chr' value not found in the string '$tmp[0]'\" unless defined $chr;\n</code></pre>\n\n<p>Typically, an error like this occurs when someone gives input to a program that the author did not expect. So if you see which lines give this warning, you might find out what to do about it.</p>\n"}], "owner": {"reputation": 23, "user_id": 6060760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07578d5ef56c5e7076996390fbf6dc7c?s=128&d=identicon&r=PG&f=1", "display_name": "SamC", "link": "https://stackoverflow.com/users/6060760/samc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1601911290, "creation_date": 1457958711, "last_edit_date": 1601911290, "question_id": 35987632, "link": "https://stackoverflow.com/questions/35987632/error-in-linkdatagen-use-of-uninitiated-value-chr-in-concatenation-or-str", "title": "Error in Linkdatagen : Use of uninitiated value $chr in concatenation (.) or string", "body": "<p>Hi I was trying to use linkdatagen, which is a perl based tool. It requires a vcf file (using mpileup from SAMtools) and a hapmap annotation file (provided). I have followed the instructions but the moment I use the perl script provided, I get this error.\nThe codes I used are:</p>\n\n<pre><code>samtools mpileup -d10000 -q13 -Q13 -gf hg19.fa -l annotHapMap2U.txt samplex.bam | bcftools view -cg -t0.5 - &gt; samplex.HM.vcf\n\nPerl vcf2linkdatagen.pl -variantCaller mpileup -annotfile annotHapMap2U.txt -pop CEU -mindepth 10 -missingness 0 samplex.HM.vcf &gt; samplex.brlmm\n</code></pre>\n\n<p><code>Use of uninitiated value $chr in concatenation (.) or string  at vcf2linkdatagentest.pl line 487, &lt;IN&gt; line 1</code>.... it goes on and on.. I have mailed the authors, and haven't heard from them yet. Can anyone here please help me? What am I doing wrong?</p>\n\n<p>The perl script is :\n<a href=\"http://bioinf.wehi.edu.au/software/linkdatagen/vcf2linkdatagen.pl\" rel=\"nofollow\">http://bioinf.wehi.edu.au/software/linkdatagen/vcf2linkdatagen.pl</a></p>\n\n<p>The HapMap file can be downloaded from the website mentioned below.<br>\n<a href=\"http://bioinf.wehi.edu.au/software/linkdatagen/\" rel=\"nofollow\">http://bioinf.wehi.edu.au/software/linkdatagen/</a></p>\n\n<p>Thanks so much</p>\n"}, {"tags": ["sql-server", "database", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1457951732, "post_id": 35984737, "comment_id": 59623026, "body": "How does the present code connect to the database, then?"}, {"owner": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "edited": false, "score": 0, "creation_date": 1457953128, "post_id": 35984737, "comment_id": 59623917, "body": "Check the <code>FreeTDS</code> - AFAIK the only native way to connect to SQL Server. Alternatively, check whether you can create and manipulate a temporary ODBC connection from the script. Alternatively 2, check for possible solutions with Visual Basic, and convert them to Perl with the help of the <code>Win32::OLE</code> module (<a href=\"https://technet.microsoft.com/en-us/library/aa905872%28v=sql.80%29.aspx\" rel=\"nofollow noreferrer\">example</a>)."}, {"owner": {"reputation": 1098, "user_id": 1131491, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e3f11a3db9e089aef82569700dc6e6c4?s=128&d=identicon&r=PG", "display_name": "louis xie", "link": "https://stackoverflow.com/users/1131491/louis-xie"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1457970585, "post_id": 35984737, "comment_id": 59636719, "body": "@choroba we are executing sqlcmd and bcp via windows batch file. We are going to migrate them into perl and add additional processing logic."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1457978928, "post_id": 35984737, "comment_id": 59642387, "body": "If the DBAs give rights out as needed to AD users then including <code>Trusted_Connection=True;</code> in your connection string will pass along the user&#39;s AD credentials without your needing to include them in your program.  As your <code>sqlcmd</code> does not include <code>-U</code> and <code>-P</code> this is likely your answer."}], "answers": [{"comments": [{"owner": {"reputation": 1098, "user_id": 1131491, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e3f11a3db9e089aef82569700dc6e6c4?s=128&d=identicon&r=PG", "display_name": "louis xie", "link": "https://stackoverflow.com/users/1131491/louis-xie"}, "edited": false, "score": 0, "creation_date": 1458010839, "post_id": 35994983, "comment_id": 59656240, "body": "This means I have to setup ODBC? I would like to avoid having to do this where possible."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 1098, "user_id": 1131491, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e3f11a3db9e089aef82569700dc6e6c4?s=128&d=identicon&r=PG", "display_name": "louis xie", "link": "https://stackoverflow.com/users/1131491/louis-xie"}, "edited": false, "score": 0, "creation_date": 1458049464, "post_id": 35994983, "comment_id": 59677440, "body": "@louisxie What do you mean &quot;setup ODBC&quot;?  If you&#39;re running on Windows, ODBC is already installed.  If you&#39;re asking whether you need to set up a DSN, not if you properly craft your connection string.  If you&#39;re running on *nix, then, depending on your distro, you may in fact need to do some setup."}, {"owner": {"reputation": 1098, "user_id": 1131491, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e3f11a3db9e089aef82569700dc6e6c4?s=128&d=identicon&r=PG", "display_name": "louis xie", "link": "https://stackoverflow.com/users/1131491/louis-xie"}, "edited": false, "score": 0, "creation_date": 1458125681, "post_id": 35994983, "comment_id": 59716361, "body": "yes i meant adding a new DSN through the ODBC Data Source Administration. Do you mean I can connect to a database via ODBC without having to add the DSN? Sorry if i am asking a silly question. But if you do have a properly crafted connection string, could you kindly provide me a sample? I am currently using a windows machine."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 1098, "user_id": 1131491, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e3f11a3db9e089aef82569700dc6e6c4?s=128&d=identicon&r=PG", "display_name": "louis xie", "link": "https://stackoverflow.com/users/1131491/louis-xie"}, "edited": false, "score": 0, "creation_date": 1458138415, "post_id": 35994983, "comment_id": 59726191, "body": "I&#39;m a big fan of <code>connectionstrings.com</code>.  How&#39;s <a href=\"http://www.connectionstrings.com/sqlconnection/trusted-connection/\" rel=\"nofollow noreferrer\">this <code>Trusted_Connection</code> example</a> work for you? A more general set of examples for SQL 2012 can be found <a href=\"http://www.connectionstrings.com/sql-server-2012/\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 1098, "user_id": 1131491, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e3f11a3db9e089aef82569700dc6e6c4?s=128&d=identicon&r=PG", "display_name": "louis xie", "link": "https://stackoverflow.com/users/1131491/louis-xie"}, "edited": false, "score": 0, "creation_date": 1458139354, "post_id": 35994983, "comment_id": 59726937, "body": "@louisxie Oh, and to be clear in the DBI connect method, the ODBC connection string should be preceded with <code>dbi:ODBC:Driver={SQL Server};</code>.  Concatenate those two strings.  BTW: <code>SQL Server</code> is the name of the driver as it appears in the ODBC DSA interface on my Win 8.1 machine.  Feel free to adjust..."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 0, "last_activity_date": 1458139875, "last_edit_date": 1458139875, "creation_date": 1457979211, "answer_id": 35994983, "question_id": 35984737, "link": "https://stackoverflow.com/questions/35984737/using-perl-to-connect-to-ms-sql-without-use-of-an-odbc-dsn/35994983#35994983", "title": "Using Perl to connect to MS SQL without use of an ODBC DSN", "body": "<p>I notice that your <code>sqlcmd</code> statement does not include <code>-U</code> and <code>-P</code>.  This means it is using the logged-in user's credentials to access the database.</p>\n\n<p>To accomplish the same with ODBC &amp; DBI, include <code>Trusted_Connection=True;</code> in the connection string.  This is akin to using the \"With Windows NT authentication using the network login ID.\" radio button on the 2nd page of the DSN setup wizard.</p>\n\n<p>For example on my Win 8.1 box, where <code>SQL Server</code> is the name of the relevant <em>driver</em> (not DSN) in my ODBC Data Source Administration interface, I might give the DBI connect method the following string:</p>\n\n<blockquote>\n  <p>dbi:ODBC:Driver={SQL Server};Server=myServerAddress;Database=myDataBase;Trusted_Connection=True;</p>\n</blockquote>\n\n<p>In contrast a string using a DSN might look like:</p>\n\n<blockquote>\n  <p>dbi:ODBC:myDSN</p>\n</blockquote>\n\n<p>FWIW: I find <a href=\"http://connectionstrings.com\" rel=\"nofollow\">http://connectionstrings.com</a> to be a valuable resource.</p>\n"}], "owner": {"reputation": 1098, "user_id": 1131491, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e3f11a3db9e089aef82569700dc6e6c4?s=128&d=identicon&r=PG", "display_name": "louis xie", "link": "https://stackoverflow.com/users/1131491/louis-xie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1174, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458144186, "creation_date": 1457950547, "last_edit_date": 1458144186, "question_id": 35984737, "link": "https://stackoverflow.com/questions/35984737/using-perl-to-connect-to-ms-sql-without-use-of-an-odbc-dsn", "title": "Using Perl to connect to MS SQL without use of an ODBC DSN", "body": "<p>Is there a way to use Perl to connect to a MS SQL database without the use of ODBC? I have a few scripts running in my production environment which I intend to migrate to perl.</p>\n\n<p>Sample SQLCMD used:</p>\n\n<pre><code>sqlcmd -S &lt;dbHostName&gt; -i &lt;input_file&gt; -o &lt;output_file&gt;\n</code></pre>\n\n<p>Sample BCP used:</p>\n\n<pre><code>bcp &lt;sqlQuery&gt; queryout &lt;output_file&gt; -c -t, -T -S &lt;dbHostName&gt;\n</code></pre>\n\n<p>The main reason is that I do not know the password to my production database, and I cannot have knowledge of it. Therefore there is no way I can pass in the pass phrase whether in my perl script or via the ODBC setup.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 758, "user_id": 1586913, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/da7fcb41cc4239d92becd95552bd4d03?s=128&d=identicon&r=PG", "display_name": "Subbeh", "link": "https://stackoverflow.com/users/1586913/subbeh"}, "edited": false, "score": 0, "creation_date": 1457949484, "post_id": 35984203, "comment_id": 59621602, "body": "Thanks for the answer, unfortunately this doesn&#39;t seem to be working with the version of perl I&#39;m running here: <code>Can&#39;t modify division (&#47;) in division (&#47;)</code>"}, {"owner": {"reputation": 758, "user_id": 1586913, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/da7fcb41cc4239d92becd95552bd4d03?s=128&d=identicon&r=PG", "display_name": "Subbeh", "link": "https://stackoverflow.com/users/1586913/subbeh"}, "edited": false, "score": 0, "creation_date": 1457950320, "post_id": 35984203, "comment_id": 59622131, "body": "I changed <code>&#47;&#47;=</code> with <code>||=</code> and it seems to be working now"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1457951291, "post_id": 35984203, "comment_id": 59622734, "body": "<code>&#47;&#47;</code> is for newer versions of perl. <code>5.14+</code> if I recall correctly. <code>||</code> works almost the same - it just handles empty string <code>&#39;&#39;</code> and <code>0</code> differently."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1457951895, "post_id": 35984203, "comment_id": 59623136, "body": "Changing <code>&#47;&#47;=</code> to <code>||=</code> will not work if 0 or &#39;&#39; are valid values in your data."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1457958500, "post_id": 35984203, "comment_id": 59627479, "body": "@Sobrique It&#39;s 5.10+."}], "tags": [], "owner": {"reputation": 28098, "user_id": 86072, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/dd41ab60469c4ee32c957c97fc101b9d?s=128&d=identicon&r=PG", "display_name": "LeGEC", "link": "https://stackoverflow.com/users/86072/legec"}, "is_accepted": true, "score": 4, "last_activity_date": 1457961830, "last_edit_date": 1457961830, "creation_date": 1457948974, "answer_id": 35984203, "question_id": 35984156, "link": "https://stackoverflow.com/questions/35984156/simple-algorithm-to-fill-remaining-fields-with-last-value/35984203#35984203", "title": "simple algorithm to fill remaining fields with last value", "body": "<p><code>//=</code> is the <a href=\"http://www.effectiveperlprogramming.com/2010/10/set-default-values-with-the-defined-or-operator/\" rel=\"nofollow\">\"defined or\" operator</a>.</p>\n\n<pre><code>$var2 //= $var1;\n$var3 //= $var2;\n$var4 //= $var3;\n</code></pre>\n\n<p>As said in the linked post, if you use a version prior to <code>5.10</code>, the equivalent is :</p>\n\n<pre><code>$var2 = defined($var2) ? $var2 : $var1;\n$var3 = defined($var3) ? $var3 : $var2;\n$var4 = defined($var4) ? $var4 : $var3;\n</code></pre>\n\n<hr>\n\n<p>Some strings are falsey values :</p>\n\n<pre><code>$str = '';\nif ($str) {\n    print \"true\\n\";\n} else {\n    print \"false\\n\";\n}\n# prints 'false'\n\n$str = '0';\nif ($str) {\n    print \"true\\n\";\n} else {\n    print \"false\\n\";\n}\n# prints 'false'\n</code></pre>\n\n<p>If <code>''</code> or <code>'0'</code> are \"invalid\" values in your porgram, you can use the <code>||=</code> operator.<br>\nIf only <code>undef</code> shoud be overwritten, use one of the two versions above.</p>\n\n<pre><code>$var2 ||= $var1; # $var2 will be overriden if $var2 is undef or '' or '0'\n$var3 ||= $var2; # $var3 will be overriden if $var3 is undef or '' or '0'\n$var4 ||= $var3; # $var4 will be overriden if $var4 is undef or '' or '0'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 758, "user_id": 1586913, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/da7fcb41cc4239d92becd95552bd4d03?s=128&d=identicon&r=PG", "display_name": "Subbeh", "link": "https://stackoverflow.com/users/1586913/subbeh"}, "edited": false, "score": 0, "creation_date": 1457956111, "post_id": 35984753, "comment_id": 59625880, "body": "Thanks, nice solution as well"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1459190267, "last_edit_date": 1495539906, "creation_date": 1457950589, "answer_id": 35984753, "question_id": 35984156, "link": "https://stackoverflow.com/questions/35984156/simple-algorithm-to-fill-remaining-fields-with-last-value/35984753#35984753", "title": "simple algorithm to fill remaining fields with last value", "body": "<p>It takes a preparatory step and an extra variable and then it's a one-line loop.</p>\n\n<pre><code># my (@in, $tmp) = ($var1, $var2, $var3, $var4); # If it was split\nmy (@in, $tmp) = (split /,/, $inputLine);\n\nfor ($var1, $var2, $var3, $var4) {\n    $tmp = $_ = shift @in || $tmp;\n}\n</code></pre>\n\n<p>The bad: <code>$tmp</code> stays around.</p>\n\n<hr>\n\n<p><strong>Update</strong>  As explained in <a href=\"https://stackoverflow.com/users/86072/legec\">LeGEC</a> solution, in order to keep the data that evaluates to false but may be legitimate in the application (<code>''</code> and <code>0</code>) the loop-line above should be changed to</p>\n\n<p>With v5.10 or later</p>\n\n<pre><code>$tmp = $_ = shift @in // $tmp\n</code></pre>\n\n<p>For earlier versions</p>\n\n<pre><code>$tmp = $_ = (@in ? shift @in : $tmp)\n</code></pre>\n\n<p>If data surely cannot be <code>''</code> or <code>0</code>, or if these indeed need be replaced, only then may <code>||</code> stay.</p>\n"}], "owner": {"reputation": 758, "user_id": 1586913, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/da7fcb41cc4239d92becd95552bd4d03?s=128&d=identicon&r=PG", "display_name": "Subbeh", "link": "https://stackoverflow.com/users/1586913/subbeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 1, "accepted_answer_id": 35984203, "answer_count": 2, "score": 2, "last_activity_date": 1459190267, "creation_date": 1457948853, "question_id": 35984156, "link": "https://stackoverflow.com/questions/35984156/simple-algorithm-to-fill-remaining-fields-with-last-value", "title": "simple algorithm to fill remaining fields with last value", "body": "<p>I've got a line separated by commas which I need to split into 4 separate variables.</p>\n\n<p>i.e. a line like <code>val1, val2, val3, val4</code> would result in the following 4 variables:</p>\n\n<pre><code>var1 = val1\nvar2 = val2\nvar3 = val3\nvar4 = val4\n</code></pre>\n\n<p>Now I can easily get this by using something like this:</p>\n\n<pre><code>($var1, $var2, $var3, $var4) = (split /,/, $inputLine);\n</code></pre>\n\n<p>However, if the inputline contains less than 4 values, the remaining variables should contain the last available value.</p>\n\n<p>I.e. if the inputline is <code>val1, val2</code>, then the variables should be set like this:</p>\n\n<pre><code>var1 = val1\nvar2 = val2\nvar3 = val2\nvar4 = val2\n</code></pre>\n\n<p>What would be an elegant way to approach this?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1458156650, "last_edit_date": 1458156650, "creation_date": 1457947290, "answer_id": 35983586, "question_id": 35983521, "link": "https://stackoverflow.com/questions/35983521/how-to-close-the-select-in-file-write/35983586#35983586", "title": "How to close the select in file write?", "body": "<p>Need to first set the default filehandle back to what it had been</p>\n\n<pre><code>my $old_fh = select($handle);    \n# your prints ...\nselect $old_fh;\nclose $handle;\n</code></pre>\n\n<p>The <code>select</code> sets up the new default filehandle if supplied an expression, returning the current one.  So the way you have it you are trying to close the default filehandle.  </p>\n\n<p>From <code>perldoc -f select</code></p>\n\n<blockquote>\n  <p>select FILEHANDLE\n  <br>\n  select \n  <br>\n  Returns the currently selected filehandle. If FILEHANDLE is\n  supplied, sets the new current default filehandle for output. This\n  has two effects: first, a \"write\" or a \"print\" without a\n  filehandle default to this FILEHANDLE. Second, references to\n  variables related to output will refer to this output channel.</p>\n</blockquote>\n"}], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 35983586, "answer_count": 1, "score": 0, "last_activity_date": 1458156650, "creation_date": 1457947062, "question_id": 35983521, "link": "https://stackoverflow.com/questions/35983521/how-to-close-the-select-in-file-write", "title": "How to close the select in file write?", "body": "<p>I write the output in the file by using <code>select</code>.</p>\n\n<pre><code>open my $handler, \"&gt;\",\"newfile.txt\";\nselect ($handler);\nprint \"Something print into the file\";\nprint \"Something print into the file\";\nprint \"Something print into the file\";\n\nclose $handler;  #This is not working\n\nprint \"print into the terminal\";\n</code></pre>\n\n<p>For this easily i will do using without <code>select</code>,</p>\n\n<pre><code>open my $handler, \"&gt;\",\"newfile.txt\";\nprint $handler \" print on file\";\nprint \"print on terminal\";\n</code></pre>\n\n<p>Using <code>select</code> how can i do it?\nHow to close the <code>select</code>? Also i want to print the output on the terminal. </p>\n"}, {"tags": ["regex", "perl", "unix"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1457951872, "post_id": 35982951, "comment_id": 59623115, "body": "<code>perl -ne &#39;Host=(\\w+).*Port=(\\w+)&#47;g &amp;&amp; print &quot;$1=$2\\n&quot;;&#39;</code> - based on your sample data. Useful trick - you can match on a negative if you want &quot;everything up to a bracket&quot; as <code>[^)]+</code> for example."}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 6059833, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c417b445997c09aacd5782563aa064ac?s=128&d=identicon&r=PG&f=1", "display_name": "Eswar Vignesh", "link": "https://stackoverflow.com/users/6059833/eswar-vignesh"}, "edited": false, "score": 0, "creation_date": 1457957809, "post_id": 35985704, "comment_id": 59627003, "body": "why are you using greater than &#39;ge&#39; in the code....and ^ mean beginning of the string what does [^)] means ..thanks"}, {"owner": {"reputation": 2627, "user_id": 3783352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ldO4p.jpg?s=128&g=1", "display_name": "mik", "link": "https://stackoverflow.com/users/3783352/mik"}, "reply_to_user": {"reputation": 77, "user_id": 6059833, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c417b445997c09aacd5782563aa064ac?s=128&d=identicon&r=PG&f=1", "display_name": "Eswar Vignesh", "link": "https://stackoverflow.com/users/6059833/eswar-vignesh"}, "edited": false, "score": 0, "creation_date": 1457958316, "post_id": 35985704, "comment_id": 59627326, "body": "At the beginning of a character class <code>^</code> means negation. So <code>[^)]</code> means any character except <code>)</code>."}, {"owner": {"reputation": 2627, "user_id": 3783352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ldO4p.jpg?s=128&g=1", "display_name": "mik", "link": "https://stackoverflow.com/users/3783352/mik"}, "reply_to_user": {"reputation": 77, "user_id": 6059833, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c417b445997c09aacd5782563aa064ac?s=128&d=identicon&r=PG&f=1", "display_name": "Eswar Vignesh", "link": "https://stackoverflow.com/users/6059833/eswar-vignesh"}, "edited": false, "score": 0, "creation_date": 1457958781, "post_id": 35985704, "comment_id": 59627684, "body": "And <code>ge</code> here are the modifiers of <code>s&#47;&#47;&#47;</code> regular expression replace. <code>g</code> means global so you match every occurrence (without it you would match only first one as in your question), <code>e</code> means execute the replacement string and paste the result (instead of pasting the string itself). I recommend reading <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html</a> :)"}], "tags": [], "owner": {"reputation": 2627, "user_id": 3783352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ldO4p.jpg?s=128&g=1", "display_name": "mik", "link": "https://stackoverflow.com/users/3783352/mik"}, "is_accepted": true, "score": 0, "last_activity_date": 1457953222, "creation_date": 1457953222, "answer_id": 35985704, "question_id": 35982951, "link": "https://stackoverflow.com/questions/35982951/multiple-name-match-the-pattern/35985704#35985704", "title": "multiple name match the pattern", "body": "<p>If you want to have all entries in the order of appearance, you can use something like that:</p>\n\n<pre><code>perl -nle 's{Host=([^)]*).*?Port=([^)]*)}{print \"$1:$2\"}ge' &lt; sample1.txt &gt; sample3.txt\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 6059833, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c417b445997c09aacd5782563aa064ac?s=128&d=identicon&r=PG&f=1", "display_name": "Eswar Vignesh", "link": "https://stackoverflow.com/users/6059833/eswar-vignesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 2, "accepted_answer_id": 35985704, "answer_count": 1, "score": -1, "last_activity_date": 1458984027, "creation_date": 1457945164, "last_edit_date": 1457946169, "question_id": 35982951, "link": "https://stackoverflow.com/questions/35982951/multiple-name-match-the-pattern", "title": "multiple name match the pattern", "body": "<p><strong>Input file:File name='sample1.txt'</strong></p>\n\n<ol>\n<li><p>lion is a good friend (Host=lion) (Port=animal) and tiger is\n(Host=Tiger)(Port=an)</p></li>\n<li><p>burger is a food (Host=Burger)(Port=Food)</p></li>\n</ol>\n\n<p>I have data as shown in the above txt file.I want to collect the host and port in each line from a txt file and place them in new txt file</p>\n\n<p><strong>Required Outfile:</strong></p>\n\n<ul>\n<li>lion:animal</li>\n<li>Tiger:an</li>\n<li>Burger:Food</li>\n</ul>\n\n<p><strong>Code used till nw:</strong></p>\n\n<pre><code>cat sample1.txt | perl -ne 'print \"$1=$2\\n\" if(/Host=([\\w.]*.'-'*[\\w.]*.).*Port=(\\d+)/)' &gt; sample2.txt\n\nsed 's|[()]||g' sample2.txt &gt; sample3.txt\n</code></pre>\n\n<p><strong>Obtained output:</strong></p>\n\n<ul>\n<li>lion:animal</li>\n<li>Burger:Food</li>\n</ul>\n\n<p><strong>Not getting the Tiger and an:</strong></p>\n\n<p><strong>Problem</strong> : I am not able to get the host and port in same line which is present more then once..i some line it have only one host and port value..in other line there are more than one host and port value..pls help me to slove this ..thank you ..:)</p>\n"}, {"tags": ["perl", "tcl"], "comments": [{"owner": {"reputation": 605, "user_id": 1125996, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/cd49982b83b12c0815310c06c053b409?s=128&d=identicon&r=PG", "display_name": "Roman Kaganovich", "link": "https://stackoverflow.com/users/1125996/roman-kaganovich"}, "edited": false, "score": 0, "creation_date": 1457946524, "post_id": 35982815, "comment_id": 59619718, "body": "-i flag in tclsh example is not matter since I get the output in res variable.  BTW, even adding -i not modified the testFile"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1457960806, "post_id": 35982815, "comment_id": 59629127, "body": "In perl, use <code>$1</code> instead of <code>\\1</code> in the replacement part."}], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 1125996, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/cd49982b83b12c0815310c06c053b409?s=128&d=identicon&r=PG", "display_name": "Roman Kaganovich", "link": "https://stackoverflow.com/users/1125996/roman-kaganovich"}, "edited": false, "score": 0, "creation_date": 1457946595, "post_id": 35982896, "comment_id": 59619751, "body": "thanks for your comment but it exactly what i do when running pure perl from shell"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1457945002, "creation_date": 1457945002, "answer_id": 35982896, "question_id": 35982815, "link": "https://stackoverflow.com/questions/35982815/exec-perl-regexp-one-liner-from-tclsh/35982896#35982896", "title": "exec perl regexp one liner from tclsh", "body": "<p>Try to use <code>-i</code> for modify the file itself</p>\n\n<pre><code> perl -i -pe  \"s/(XOR\\s.*)/my insertion (\\1)/g\" testFile\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 605, "user_id": 1125996, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/cd49982b83b12c0815310c06c053b409?s=128&d=identicon&r=PG", "display_name": "Roman Kaganovich", "link": "https://stackoverflow.com/users/1125996/roman-kaganovich"}, "edited": false, "score": 0, "creation_date": 1457946783, "post_id": 35982915, "comment_id": 59619857, "body": "% exec perl -ne &#39;print &quot;my insertion &quot; . $_ if /^XOR/&#39; testFile can&#39;t read &quot;_&quot;: no such variable"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 605, "user_id": 1125996, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/cd49982b83b12c0815310c06c053b409?s=128&d=identicon&r=PG", "display_name": "Roman Kaganovich", "link": "https://stackoverflow.com/users/1125996/roman-kaganovich"}, "edited": false, "score": 0, "creation_date": 1457947053, "post_id": 35982915, "comment_id": 59620023, "body": "@RomanKaganovich I see -- then you need to protect the arguments (<code>exec perl args</code>) from shell interpretations.  I&#39;ll look into how exactly to do this. It may be even enough to escape a few characters, but it&#39;s better to protect the whole expression."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1457989341, "last_edit_date": 1495542687, "creation_date": 1457945063, "answer_id": 35982915, "question_id": 35982815, "link": "https://stackoverflow.com/questions/35982815/exec-perl-regexp-one-liner-from-tclsh/35982915#35982915", "title": "exec perl regexp one liner from tclsh", "body": "<p>You don't show the critical <code>-i</code> flag <em>in your tcsh script</em> (the command you show has it) -- to change the file in place.  So if this is indeed in your script, you are not telling it to write the file.</p>\n\n<p>Additionally, I'd change the one liner to prepend to the line instead of running the substitution.</p>\n\n<pre><code>perl -i -ne 'print \"my insertion \" . $_ if /^XOR/' testFile\n</code></pre>\n\n<hr>\n\n<p><strong>Added</strong> after the fact, for completeness.</p>\n\n<p>As shown in <a href=\"https://stackoverflow.com/users/974155/dinesh\">Dinesh</a> solution, code inside <code>''</code> need also be wrapped in <code>{}</code> for protection.</p>\n"}, {"comments": [{"owner": {"reputation": 14819, "user_id": 974155, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jz7oo.jpg?s=128&g=1", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/974155/dinesh"}, "edited": false, "score": 0, "creation_date": 1457945574, "post_id": 35982981, "comment_id": 59619200, "body": "I am not a <code>perl</code> expert. But, giving answers from the <code>tcl</code>&#39;s perspective."}, {"owner": {"reputation": 605, "user_id": 1125996, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/cd49982b83b12c0815310c06c053b409?s=128&d=identicon&r=PG", "display_name": "Roman Kaganovich", "link": "https://stackoverflow.com/users/1125996/roman-kaganovich"}, "edited": false, "score": 0, "creation_date": 1457947008, "post_id": 35982981, "comment_id": 59619983, "body": "It works! Thanks! but what if I&#39;ll use variable instead string. In this case regexp inside {} will not be parsed."}, {"owner": {"reputation": 14819, "user_id": 974155, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jz7oo.jpg?s=128&g=1", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/974155/dinesh"}, "reply_to_user": {"reputation": 605, "user_id": 1125996, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/cd49982b83b12c0815310c06c053b409?s=128&d=identicon&r=PG", "display_name": "Roman Kaganovich", "link": "https://stackoverflow.com/users/1125996/roman-kaganovich"}, "edited": false, "score": 0, "creation_date": 1457947477, "post_id": 35982981, "comment_id": 59620299, "body": "@RomanKaganovich : Then you should use double quotes only and escape the backslashes accordingly."}], "tags": [], "owner": {"reputation": 14819, "user_id": 974155, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jz7oo.jpg?s=128&g=1", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/974155/dinesh"}, "is_accepted": true, "score": 2, "last_activity_date": 1457945252, "creation_date": 1457945252, "answer_id": 35982981, "question_id": 35982815, "link": "https://stackoverflow.com/questions/35982815/exec-perl-regexp-one-liner-from-tclsh/35982981#35982981", "title": "exec perl regexp one liner from tclsh", "body": "<p>You have to brace the expression.</p>\n\n<pre><code>exec perl -i -pe {s/(XOR\\s.*)/my insertion (\\1)/g} testFile\n</code></pre>\n\n<p>Or, escape the backslashes. Because, within double quotes, <code>\\s</code> is same as literal <code>s</code>. To represent the literal backslash, it should be </p>\n\n<pre><code>exec perl -i -pe \"s/(XOR\\\\s.*)/my insertion (\\\\1)/g\" testFile\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12685, "user_id": 488796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bec8145ec10828cf4988b6b2005bafa?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lewerin", "link": "https://stackoverflow.com/users/488796/peter-lewerin"}, "is_accepted": false, "score": 2, "last_activity_date": 1459032375, "last_edit_date": 1459032375, "creation_date": 1457959363, "answer_id": 35987859, "question_id": 35982815, "link": "https://stackoverflow.com/questions/35982815/exec-perl-regexp-one-liner-from-tclsh/35987859#35987859", "title": "exec perl regexp one liner from tclsh", "body": "<p>For reference, a pure-Tcl solution.</p>\n\n<pre><code>package require fileutil\n\nproc rsub {str data} {\n    regsub -all -line {^(XOR)\\y} $data \"$str \\\\1\"\n}\n\n::fileutil::updateInPlace testfile [list rsub \"my insertion\"]\n</code></pre>\n\n<p>Documentation: <a href=\"http://core.tcl.tk/tcllib/doc/trunk/embedded/www/tcllib/files/modules/fileutil/fileutil.html\" rel=\"nofollow\" title=\"Procedures implementing some file utilities\">fileutil</a> package, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/list.htm\" rel=\"nofollow\" title=\"Create a list\">list</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/package.htm\" rel=\"nofollow\" title=\"Facilities for package loading and version control\">package</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/proc.htm\" rel=\"nofollow\" title=\"Create a Tcl procedure\">proc</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/regsub.htm\" rel=\"nofollow\" title=\"Perform substitutions based on regular expression pattern matching\">regsub</a></p>\n"}], "owner": {"reputation": 605, "user_id": 1125996, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/cd49982b83b12c0815310c06c053b409?s=128&d=identicon&r=PG", "display_name": "Roman Kaganovich", "link": "https://stackoverflow.com/users/1125996/roman-kaganovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "accepted_answer_id": 35982981, "answer_count": 4, "score": 0, "last_activity_date": 1459032375, "creation_date": 1457944675, "question_id": 35982815, "link": "https://stackoverflow.com/questions/35982815/exec-perl-regexp-one-liner-from-tclsh", "title": "exec perl regexp one liner from tclsh", "body": "<p>I want to modify an ASCII file.\nEach line contain </p>\n\n<pre><code>XOR word word\n</code></pre>\n\n<p>should be changed to</p>\n\n<pre><code>my insertion XOR word word\n</code></pre>\n\n<p>for this task I am using simple PERL one liner</p>\n\n<pre><code>perl -i -pe \"s/(XOR\\s.*)/my insertion (\\1)/g\" testFile\n</code></pre>\n\n<p>and it works perfect in tcsh\nbut when I execute it from tclsh the file not modified</p>\n\n<pre><code>tcsh&gt; cat testFile\n\nsome text\nXOR X1 Y2\nanother line\nyet another line\nXOR X2 Y3\nsomething else\n\n\ntclsh:\n%catch {exec perl -pe \"s/(XOR\\s.*)/my insertion (\\1)/g\" testFile} res \n0\nputs $res\n\nsome text\nXOR X1 Y2\nanother line\nyet another line\nXOR X2 Y3\nsomething else\n</code></pre>\n"}, {"tags": ["perl", "selenium"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457942246, "post_id": 35982032, "comment_id": 59617486, "body": "So what are those permissions on that file you are trying to unlink?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1457942298, "post_id": 35982032, "comment_id": 59617514, "body": "Sounds like the browser is still running, and keeping this file locked somehow."}, {"owner": {"reputation": 137, "user_id": 4243343, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-1RQhwdB4kW8/AAAAAAAAAAI/AAAAAAAAAFQ/x35pbl8QZRM/photo.jpg?sz=128", "display_name": "prateek goyal", "link": "https://stackoverflow.com/users/4243343/prateek-goyal"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457943405, "post_id": 35982032, "comment_id": 59618021, "body": "@zdim Actually, this error comes for all the files which are created in the Temp folder(in this case &quot;89qNk6oDJh&quot;).  And in windows checklist I am seeing that all users have full control on the files. @tripleee I use <code>$webDriver-&gt;close();</code> to close the browser. It should close browser."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457943730, "post_id": 35982032, "comment_id": 59618188, "body": "OK, that matters a lot for the question.  I&#39;d suggest an edit, add this information."}], "answers": [{"tags": [], "owner": {"reputation": 2627, "user_id": 3783352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ldO4p.jpg?s=128&g=1", "display_name": "mik", "link": "https://stackoverflow.com/users/3783352/mik"}, "is_accepted": false, "score": 1, "last_activity_date": 1457954705, "creation_date": 1457954705, "answer_id": 35986225, "question_id": 35982032, "link": "https://stackoverflow.com/questions/35982032/perl-cannot-unlink-file-permission-denied-at-c-strawberry-perl-lib-file-temp/35986225#35986225", "title": "perl: cannot unlink file: Permission denied at C:/Strawberry/perl/lib/File/Temp.pm", "body": "<p>In Windows a file cannot be deleted while it is open.</p>\n"}], "owner": {"reputation": 137, "user_id": 4243343, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-1RQhwdB4kW8/AAAAAAAAAAI/AAAAAAAAAFQ/x35pbl8QZRM/photo.jpg?sz=128", "display_name": "prateek goyal", "link": "https://stackoverflow.com/users/4243343/prateek-goyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 828, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457954705, "creation_date": 1457941691, "question_id": 35982032, "link": "https://stackoverflow.com/questions/35982032/perl-cannot-unlink-file-permission-denied-at-c-strawberry-perl-lib-file-temp", "title": "perl: cannot unlink file: Permission denied at C:/Strawberry/perl/lib/File/Temp.pm", "body": "<p>I am trying to run a perl script using selenium webdriver.\nAfter successful execution of script, I am getting following error:\n*</p>\n\n<blockquote>\n  <p>cannot unlink file for\n  C:\\Users\\\\AppData\\Local\\Temp\\89qNk6oDJh\\cert8.db: Permission\n  denied at C:/Strawberry/perl/lib/File/Temp.pm line 1616.</p>\n</blockquote>\n\n<p>*</p>\n\n<p>And the line 1616 in Temp.pm looks like this:</p>\n\n<pre><code>eval { rmtree($self-&gt;{REALNAME}, $File::Temp::DEBUG, 0); };\n</code></pre>\n\n<p>What can be the cause?</p>\n\n<p>My script is simple perl program, it creates a webdriver object and open a URL and gets the title.</p>\n"}, {"tags": ["perl", "bioperl", "clustal"], "comments": [{"owner": {"reputation": 11, "user_id": 6055266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ae450c726b4a64112f05536ff75f339?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitri C", "link": "https://stackoverflow.com/users/6055266/dimitri-c"}, "edited": false, "score": 0, "creation_date": 1458005632, "post_id": 35978391, "comment_id": 59654892, "body": "I Just made it work! Steps to make it work  1)copy the clustalw2.exe   2)paste it on your e.g. Desktop  3)Rename it to clustalw.exe  4)Give the $ENV{CLUSTALDIR} the new path to clustalw.exe  and it works!  (at first tried to rename the basic clustalw2.exe of &#39;C:\\Program Files (x86)\\ClustalW2&#39; but didn&#39;t work)"}], "owner": {"reputation": 11, "user_id": 6055266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ae450c726b4a64112f05536ff75f339?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitri C", "link": "https://stackoverflow.com/users/6055266/dimitri-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1457923067, "creation_date": 1457920943, "last_edit_date": 1457923067, "question_id": 35978391, "link": "https://stackoverflow.com/questions/35978391/cant-run-clustalw-through-bioperl", "title": "Can&#39;t run Clustalw through Bioperl", "body": "<p>I m trying to run the script below. but I get the error:</p>\n\n<blockquote>\n  <p>------------- EXCEPTION ------------- MSG: Cannot find executable for clustalw. path=\"clustalw.exe\" STACK\n  Bio::Tools::Run::WrapperBase::executable\n  C:/Perl64/site/lib/Bio/Tools/Run/ WrapperBase.pm:340 STACK\n  Bio::Tools::Run::Alignment::Clustalw::_run\n  C:/Perl64/site/lib/Bio/Tools/Ru n/Alignment/Clustalw.pm:752 STACK\n  Bio::Tools::Run::Alignment::Clustalw::align\n  C:/Perl64/site/lib/Bio/Tools/R un/Alignment/Clustalw.pm:515 STACK\n  toplevel a.pl:29</p>\n</blockquote>\n\n<p>How to make perl find my <code>clustalw.exe</code>?</p>\n\n<p>I think that already did that by setting at the beginning the environmental variable <code>$ENV{CLUSTALDIR}</code>.</p>\n\n<pre><code>#!/usr/bin/perl\n$ENV{CLUSTALDIR} = 'C:\\Program Files (x86)\\ClustalW2';\nuse warnings;\nuse strict;\n\nuse Bio::AlignIO;\nuse Bio::SeqIO;\nuse Bio::Tools::Run::Alignment::Clustalw;\n\nmy $file = &lt;&gt;; # Get file name from command prompt.\nmy $factory = Bio::Tools::Run::Alignment::Clustalw-&gt;new(-matrix =&gt; 'BLOSUM');\nmy $ktuple = 3;\n$factory-&gt;ktuple($ktuple);\n\nmy $inseq = Bio::SeqIO-&gt;new(\n                    -file =&gt; \"&lt;$file\",\n                    -format =&gt; \"fasta\"\n                   );\n\nmy $seq;\nmy @seq_array;\nwhile ($seq = $inseq-&gt;next_seq) {\n    push(@seq_array, $seq);\n}\n\n# Now we do the actual alignment.\nmy $seq_array_ref = \\@seq_array;\nmy $aln = $factory-&gt;align($seq_array_ref); \n</code></pre>\n"}, {"tags": ["perl", "datetime", "unix"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 5283299, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3edb20466ebfcdb29fc4f7493302ab46?s=128&d=identicon&r=PG&f=1", "display_name": "SumoStash", "link": "https://stackoverflow.com/users/5283299/sumostash"}, "edited": false, "score": 0, "creation_date": 1458012716, "post_id": 35987256, "comment_id": 59656776, "body": "This require the DateTime module. I get this error: Can&#39;t locate DateTime/Format/Strptime.pm in @INC (you may need to install the DateTime::Format::Strptime module) (@INC contains: /usr/lib/perl5/site_perl/5.22/i686-cygwin-threads-64int /usr/lib/perl5/site_perl/5.22 /usr/lib/perl5/vendor_perl/5.22/i686-cygwin-threads-64int /usr/lib/perl5/vendor_perl/5.22 /usr/lib/perl5/5.22/i686-cygwin-threads-64int /usr/lib/perl5/5.22 .) at findtime2.pl line 6. BEGIN failed--compilation aborted at findtime2.pl line 6.  Is there a way to install the module through Cygwin?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 45, "user_id": 5283299, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3edb20466ebfcdb29fc4f7493302ab46?s=128&d=identicon&r=PG&f=1", "display_name": "SumoStash", "link": "https://stackoverflow.com/users/5283299/sumostash"}, "edited": false, "score": 0, "creation_date": 1458012822, "post_id": 35987256, "comment_id": 59656810, "body": "Easily: <code>cpan DateTime::Format::Strptime</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1457958769, "last_edit_date": 1457958769, "creation_date": 1457957584, "answer_id": 35987256, "question_id": 35977188, "link": "https://stackoverflow.com/questions/35977188/perl-script-time-difference-calculation-is-off-by-one-hour/35987256#35987256", "title": "Perl Script time difference calculation is off by one hour", "body": "<p>I don't know why you claim the output should be 24 hours. As you hinted, you inhabit somewhere that switched to Daylight Saving Time during that span, so there were only 23 hours between the two date-times in question. The output is correct.</p>\n\n<p>I think you're trying to find the difference between two date-times in terms of days, hours, etc., but you haven't realized that the fact that not all days have 24 hours (and that not all minutes have 60 seconds) prevents you from doing that from a number of seconds.</p>\n\n<p>To do that, I'd use the DateTime module.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse DateTime::Format::Strptime        qw( );\nuse DateTime::Format::Human::Duration qw( );\n\nmy $dt_format = DateTime::Format::Strptime-&gt;new(\n    pattern  =&gt; '%Y-%m-%d %H:%M:%S',\n    time_zone =&gt; 'local',\n    on_error  =&gt; 'croak',\n);\n\nmy $dur_format = DateTime::Format::Human::Duration-&gt;new();\n\nmy $dt1 = $dt_format-&gt;parse_datetime(\"2016-03-12 06:31:55\");\nmy $dt2 = $dt_format-&gt;parse_datetime(\"2016-03-13 06:31:55\");\nmy $dur = $dt1-&gt;delta_md($dt2);\nprint($dur_format-&gt;format_duration($dur), \"\\n\");   # 1 day\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 5283299, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3edb20466ebfcdb29fc4f7493302ab46?s=128&d=identicon&r=PG&f=1", "display_name": "SumoStash", "link": "https://stackoverflow.com/users/5283299/sumostash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1457958769, "creation_date": 1457911531, "last_edit_date": 1457957647, "question_id": 35977188, "link": "https://stackoverflow.com/questions/35977188/perl-script-time-difference-calculation-is-off-by-one-hour", "title": "Perl Script time difference calculation is off by one hour", "body": "<p>For some reason the following script I use to calculate the time differences of two given date/time is off by an hour. Not sure if it's related to daylight saving. Anyone knows why?</p>\n\n<p>If possible, I would like to know how to add milliseconds to the calculation.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Time::Local;\n\nsub str2epoch {\n    my $str = shift;\n    my ($date, $time) = split(/\\s+/, $str);\n    my ($yr, $mon, $dd) = split(/\\-/, $date);\n    my ($hr, $min, $sec) = split(/:/, $time);\n    $yr -= 1900;\n    $mon -= 1;\n\n    $hr -= 24 if ($hr == 24);\n\n    if ($sec =~ m/PM/ &amp;&amp; $hr &lt; 12){\n            $hr += 12;\n            $sec =~ s/PM//;\n    } elsif ($sec =~ m/PM/ &amp;&amp; $hr == 12) {\n            $sec =~ s/PM//;\n    }\n\n    if ($sec =~ m/AM/ &amp;&amp; $hr == 12) {\n            $hr -= 12;\n    } elsif ($sec =~ m/AM/ &amp;&amp; $hr &lt; 12) {\n            $sec =~ s/AM//;\n    }\n\n    return timelocal($sec,$min,$hr,$dd,$mon,$yr);\n}\n\n{\n    my $str1 = \"2016-03-12 06:31:55\";\n    my $str2 = \"2016-03-13 06:31:55\";\n\n    my $t1 = str2epoch($str1);\n    my $t2 = str2epoch($str2);\n    my $diff = $t2 - $t1;\n    my $hrss = $diff/3600/24;\n    my $hr_diff = int ($diff/3600);\n    my $r = $diff%3600;\n    #my $milli = $diff/3600/24/60/60/60;\n    my $min = 0;\n    my $sec = 0;\n    #my $milli = 0;\n\n    if ($r &gt; 60) {\n        $min = int($r/60);\n        $sec = $r%60;\n    } else {\n        $sec = $r;\n    }\n\n    print \"$str1 to $str2: $hr_diff hrs, $min min, $sec sec, millisecond\\n\";\n}\n</code></pre>\n\n<p>The output should be: 24 hrs. 0 min, 0 sec But due to daylight saving, it output: 23 hrs. 0 min, 0 sec</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 1, "creation_date": 1457896269, "post_id": 35974531, "comment_id": 59603515, "body": "Well, it looks incomplete. There&#39;s no closing brace for the sub.  Did you post all of it?"}, {"owner": {"reputation": 1947, "user_id": 2501936, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/BdTN9.jpg?s=128&g=1", "display_name": "Jirong Hu", "link": "https://stackoverflow.com/users/2501936/jirong-hu"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1457896590, "post_id": 35974531, "comment_id": 59603634, "body": "No, I didn&#39;t post the complete code, it&#39;s too long. I just added the screenshot in Notepad++."}, {"owner": {"reputation": 3577, "user_id": 2176813, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Nv7lK.jpg?s=128&g=1", "display_name": "tambre", "link": "https://stackoverflow.com/users/2176813/tambre"}, "edited": false, "score": 4, "creation_date": 1457896662, "post_id": 35974531, "comment_id": 59603671, "body": "You should post the minimum amount of code, that compiles and reproduces the problem. It&#39;s hard to help otherwise."}, {"owner": {"reputation": 1947, "user_id": 2501936, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/BdTN9.jpg?s=128&g=1", "display_name": "Jirong Hu", "link": "https://stackoverflow.com/users/2501936/jirong-hu"}, "reply_to_user": {"reputation": 3577, "user_id": 2176813, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Nv7lK.jpg?s=128&g=1", "display_name": "tambre", "link": "https://stackoverflow.com/users/2176813/tambre"}, "edited": false, "score": 0, "creation_date": 1457896806, "post_id": 35974531, "comment_id": 59603731, "body": "@tambre, the file has 2K lines, lots of functions. It compiles with no issue. I&#39;ve never seen this happen, so just want to in what cases this can happen."}, {"owner": {"reputation": 3577, "user_id": 2176813, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Nv7lK.jpg?s=128&g=1", "display_name": "tambre", "link": "https://stackoverflow.com/users/2176813/tambre"}, "edited": false, "score": 3, "creation_date": 1457896880, "post_id": 35974531, "comment_id": 59603766, "body": "Like I said, you should post the minimum amount of compilable code, that would reproduce the problem. Ie. we would be able to compile the code, run it and have it reproduce the problem with as little code as possible."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 5, "creation_date": 1457899163, "post_id": 35974531, "comment_id": 59604572, "body": "I agree with <a href=\"http://stackoverflow.com/questions/35974531/perl-code-stop-execution-at-a-point-dont-know-why#comment59603671_35974531\">tambre</a>. There is nothing wrong with the code you have shown, and it is impossible to help you without knowing the full context. You must reduce the code to something of a manageable size that displays the same behaviour. Is your application threaded? Is it still running when your output terminates in this way? Have you tried adding <code>STDOUT-&gt;flush</code> after each print statement?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1457899898, "post_id": 35974531, "comment_id": 59604850, "body": "Please don&#39;t post screenshots of code. And why is your image different from the text of the same function?"}, {"owner": {"reputation": 1947, "user_id": 2501936, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/BdTN9.jpg?s=128&g=1", "display_name": "Jirong Hu", "link": "https://stackoverflow.com/users/2501936/jirong-hu"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457900189, "post_id": 35974531, "comment_id": 59604943, "body": "@Borodin, I just checked all the actual process is done. So must be related to the output flush. It&#39;s ok now after adding $| = 1; at the beginning of file. Thanks a lot."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457901116, "post_id": 35974531, "comment_id": 59605272, "body": "@JirongHu: I&#39;m pleased to have helped. I&#39;ve posted my comment as an answer, together with a suggestion to use <code>STDOUT-&gt;autoflush</code> instead of <code>$| = 1</code>; it&#39;s far more clear what it does"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1457900978, "creation_date": 1457900978, "answer_id": 35975420, "question_id": 35974531, "link": "https://stackoverflow.com/questions/35974531/perl-code-stop-execution-at-a-point-dont-know-why/35975420#35975420", "title": "Perl code stop execution at a point, don&#39;t know why", "body": "<p>Have you tried adding <code>STDOUT-&gt;flush</code> after each print statement?</p>\n\n<p>If that works then you should put</p>\n\n<pre><code>STDOUT-&gt;autoflush\n</code></pre>\n\n<p>at the top of your code. It's far more expressive than <code>$| = 1</code></p>\n"}], "owner": {"reputation": 1947, "user_id": 2501936, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/BdTN9.jpg?s=128&g=1", "display_name": "Jirong Hu", "link": "https://stackoverflow.com/users/2501936/jirong-hu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "closed_date": 1458636436, "accepted_answer_id": 35975420, "answer_count": 1, "score": -2, "last_activity_date": 1457900978, "creation_date": 1457896201, "last_edit_date": 1457896628, "question_id": 35974531, "link": "https://stackoverflow.com/questions/35974531/perl-code-stop-execution-at-a-point-dont-know-why", "closed_reason": "Not suitable for this site", "title": "Perl code stop execution at a point, don&#39;t know why", "body": "<p><a href=\"https://i.stack.imgur.com/hBaiI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hBaiI.png\" alt=\"enter image description here\"></a>This is my code. It's called by a ClearCase trigger. It was working fine, but after I reformat the code with Padre Perl Tidy or something like this. If I open the file with Notepad++, looks like some format is wrong. But Padre doesn't show any syntax error, and the file can be run with \"perl filename\" with no compile error.</p>\n\n<pre><code>sub processUnixFile {\n    print \"# *** start processUnixFile ***\\n\\n\";\n    my $result;    \n    my (\n        $target_servers, $target_permission, $app_name,\n        $target_env,     $file,              $fname,\n        $ftype,          $target_view,       $app_banner\n    ) = @_;\n\n    if ( $app_name eq \"UARF\" ) {\n        print \"$app_name NOT AUTOMATED, exit 0\\n\";\n        exit 0;\n    }\n\n    print \"Retrieve server information from table ${app_name}_ENV.txt\\n\";\n    my %envs;\n    %envs = bccpbmod::getUnixEnvVar( $app_name, $target_env );\n</code></pre>\n\n<p>This is the output:</p>\n\n<pre><code># *** start processUnixFile ***\nRetrieve server information fr\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1457896379, "post_id": 35974442, "comment_id": 59603551, "body": "Show some sample input, expected output and actual output"}, {"owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1457896685, "post_id": 35974442, "comment_id": 59603679, "body": "-5 5 5 5 5 5 5 5 -8 7 7 7 1 7 3 7 -7 1 6 5 10 100 1000 1 -5 1 6 7 1 1 10 1 is the l input    5 6 5 6 5 6 5 6 5 6 5 6 5 6 -1 6 7 6 7 6 7 6 -1 6 7 6 -1 6 -1 6 -1 6 -1 6 -1 6 -1 6 -1 6 -1 6 -1 6 -1 6 -1 6 -1 6 -1 6 -1 6 -1 6  the o utput that i get =("}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457897187, "post_id": 35974442, "comment_id": 59603891, "body": "What exactly is your question?"}, {"owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "edited": false, "score": 0, "creation_date": 1457897355, "post_id": 35974442, "comment_id": 59603939, "body": "Why it keeps printing something in every iteration? :_  instead of only 5, 7, -1, -1, keeps printing strange things."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457897390, "post_id": 35974442, "comment_id": 59603950, "body": "Do you have <code>use strict</code> and <code>use warnings &#39;all&#39;</code> in place? I imagine that your problem may be because of the test <code>$i = $length - 1</code>, which is an <i>assignment</i>, and should be <code>$i == $length - 1</code>"}, {"owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "edited": false, "score": 0, "creation_date": 1457897646, "post_id": 35974442, "comment_id": 59604047, "body": "YAAAY Thank you!!!! it worked!!! :DDD I&#39;m a complete dork. Sorry, it&#39;s my first month trying to program. and i&#39;m already old :p"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1457898261, "post_id": 35974442, "comment_id": 59604265, "body": "You&#39;re welcome; it&#39;s a very common mistake. You must practise encouraging yourself: calling yourself names will soak into your attitude. Remind yourself that you couldn&#39;t even have considered this a month ago and reject the thoughts that tell you you&#39;re not progressing fast enough"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1457898353, "creation_date": 1457898353, "answer_id": 35974929, "question_id": 35974442, "link": "https://stackoverflow.com/questions/35974442/majority-element-failing-to-close-cycles/35974929#35974929", "title": "Majority Element Failing to close cycles", "body": "<p>Do you have <code>use strict</code> and <code>use warnings 'all'</code> in place?</p>\n\n<p>I imagine that your problem may be because of the test <code>$i = $length - 1</code>, which is an assignment, and should be <code>$i == $length - 1</code></p>\n"}, {"tags": [], "owner": {"reputation": 2627, "user_id": 3783352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ldO4p.jpg?s=128&g=1", "display_name": "mik", "link": "https://stackoverflow.com/users/3783352/mik"}, "is_accepted": false, "score": 1, "last_activity_date": 1458034146, "last_edit_date": 1458034146, "creation_date": 1457967676, "answer_id": 35990994, "question_id": 35974442, "link": "https://stackoverflow.com/questions/35974442/majority-element-failing-to-close-cycles/35990994#35990994", "title": "Majority Element Failing to close cycles", "body": "<p>To find a majority element I would use a hash:</p>\n\n<pre><code>perl -nae '%h=(); $h{$_}+=2 for @F; $h{$_}&gt;@F and print for keys %h; print \"\\n\"'\n</code></pre>\n\n<p>Each line of input is treated separately. Each line of output matches a line of input and presents its majority element or is empty if there is no such element.</p>\n\n<p>Edit: Now the solution uses autosplit (<code>-a</code>), which is shorter and work not only for numbers.</p>\n"}], "owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 35974929, "answer_count": 2, "score": 0, "last_activity_date": 1458034146, "creation_date": 1457895739, "last_edit_date": 1457897752, "question_id": 35974442, "link": "https://stackoverflow.com/questions/35974442/majority-element-failing-to-close-cycles", "title": "Majority Element Failing to close cycles", "body": "<p>I'm trying to figure out why this keeps printing the \"majority element\" candidate in every cycle.</p>\n\n<p>The code I've been trying to make work is a Majority Element search (to find an element that is repeated more than half of the length of a list).</p>\n\n<p>I can't separate the processes of finding the candidate and testing against the array because my input is a text file that has an indeterminate number of arrays. It's an exercise from <a href=\"http://rosalind.info/problems/locations/\" rel=\"nofollow\">rosalind.info</a> that has different inputs every time you try to solve it.</p>\n\n<p>An example of the input would be</p>\n\n<pre><code>-5 5 5 5 5 5 5 5 -8 7 7 7 1 7 3 7 -7 1 6 5 10 100 1000 1 -5 1 6 7 1 1 10 1 \n</code></pre>\n\n<p>Here's what I've written so far.</p>\n\n<pre><code>foreach my $currentrow (@lists) {\n\n    my @row = ();\n    @row = split( /\\s/, $currentrow );\n\n    my $length = $#row;\n    my $count  = 0;\n    my $i      = 0;\n\n    for $i ( 0 .. $length - 1 ) {\n\n        if ( $count == 0 ) {\n            $candidate = $row[$i];\n            $count++;\n        }\n\n        if ( ( $count &gt; 0 ) and ( $i = $length - 1 ) ) {\n\n            my $counter2 = 0;\n\n            for my $j ( 0 .. $length - 1 ) {\n                if ( $row[$j] == $candidate ) {\n                    $counter2++;\n                }\n            }\n\n            if ( $counter2 &lt;= ( $#row / 2 ) and ( $i = $length - 1 ) ) {\n                $candidate = -1;\n                print $candidate, \" \", $i, \" \";\n            }\n\n            if ( $counter2 &gt; ( $#row / 2 ) and ( $i = $length - 1 ) ) {\n                print $candidate, \" \", $i, \" \";\n            }\n\n        }\n\n        if ( $candidate == $row[$i] and $count &gt; 0 ) {\n            $count = $count + 1;\n        }\n\n        if ( $candidate != $row[$i] and $count &gt; 0 ) {\n            $count = $count - 1;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1457892105, "post_id": 35973637, "comment_id": 59601780, "body": "You should check if <code>open</code> fails and report the error, i.e. add <code>... or die &quot;Cannot open &#39;$file1&#39;: $!&quot;</code>. <code>$_</code> contains each line of the file you are reading, in line-by-line mode. As it happens, you can replace all that logic with <code>while (&lt;&gt;)</code>, which will automatically open files for you, or read from stdin as needed."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 5848101, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ead46b56b2b4f124d13a9ed96912f01?s=128&d=identicon&r=PG&f=1", "display_name": "CorDell", "link": "https://stackoverflow.com/users/5848101/cordell"}, "edited": false, "score": 0, "creation_date": 1457894142, "post_id": 35973811, "comment_id": 59602590, "body": "Thanks for the help, now how do i get the a to line up with z when im decrypting. so hello encrypted would be gdkkn"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 57, "user_id": 5848101, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ead46b56b2b4f124d13a9ed96912f01?s=128&d=identicon&r=PG&f=1", "display_name": "CorDell", "link": "https://stackoverflow.com/users/5848101/cordell"}, "edited": false, "score": 3, "creation_date": 1457896479, "post_id": 35973811, "comment_id": 59603593, "body": "@CorDell: Please ask a new question. Stack Overflow isn&#39;t a chat forum. You seem to have a assembled a formulaic program that uses bits of code that you have found elsewhere; I don&#39;t think you&#39;re truly understanding what you have written. I suggest you work through a Perl tutorial such as those recommended on <a href=\"http://learn.perl.org/\" rel=\"nofollow noreferrer\">learn.perl.org</a>"}, {"owner": {"reputation": 57, "user_id": 5848101, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ead46b56b2b4f124d13a9ed96912f01?s=128&d=identicon&r=PG&f=1", "display_name": "CorDell", "link": "https://stackoverflow.com/users/5848101/cordell"}, "edited": false, "score": 0, "creation_date": 1457897692, "post_id": 35973811, "comment_id": 59604076, "body": "Ill admit it I used other peoples code, big deal? i know what it does and why else would it be out there? I&#39;m not learning how to do this for anything its because i have too. And if I wana chat in my question then I can"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 57, "user_id": 5848101, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ead46b56b2b4f124d13a9ed96912f01?s=128&d=identicon&r=PG&f=1", "display_name": "CorDell", "link": "https://stackoverflow.com/users/5848101/cordell"}, "edited": false, "score": 3, "creation_date": 1457898473, "post_id": 35973811, "comment_id": 59604333, "body": "@CorDell: You clearly <i>don&#39;t</i> know what it does, or you wouldn&#39;t have had to ask this question"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 57, "user_id": 5848101, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ead46b56b2b4f124d13a9ed96912f01?s=128&d=identicon&r=PG&f=1", "display_name": "CorDell", "link": "https://stackoverflow.com/users/5848101/cordell"}, "edited": false, "score": 2, "creation_date": 1457899421, "post_id": 35973811, "comment_id": 59604667, "body": "@CorDell: And I&#39;m saying that you should <i>learn Perl</i> sufficiently to know what the code your writing actually does, instead of cobbling together a Frankenstein&#39;s monster of a program and then rushing to others to ask us to fix what you have written"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1457893236, "last_edit_date": 1457893236, "creation_date": 1457892345, "answer_id": 35973811, "question_id": 35973637, "link": "https://stackoverflow.com/questions/35973637/how-to-read-the-contents-of-a-file/35973811#35973811", "title": "How to read the contents of a file", "body": "<p>This line</p>\n\n<pre><code>my $enc = encode_decode($file1)\n</code></pre>\n\n<p>passes the <em>name</em> of the file to <code>encode_decode</code></p>\n\n<p>A loop like <code>while ( &lt;$fh1&gt; ) { ... }</code> puts each line from the file into the default variable <code>$_</code>. You've written so yourself in your comment <em>\u201cdo something with <code>$_</code> from <code>$file1</code> ...\u201d</em>. You probably want</p>\n\n<pre><code>my $enc = encode_decode($_)\n</code></pre>\n\n<p>And, by the way, your <code>encode_decode</code> subroutine won't reverse its own encoding. You've written what is effectively a ROT25 encoding, so you would have to apply <code>encode_decode</code> 26 times to get back to the original string</p>\n\n<p>It's also worth noting that your shebang line</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>#!/Strawberry/perl/bin/perl\n</code></pre>\n\n<p>is pointless on Windows because the command shell doesn't process shebang lines. Perl itself will check the line for options like <code>-w</code> or <code>-i</code>, but you shouldn't be using those anyway. Just omit the line, or if you want to be able to run your program on Linux as well as Windows then use</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>#!/bin/env perl\n</code></pre>\n\n<p>which will cause a Linux shell to search the PATH variable for the first <code>perl</code> executable</p>\n"}], "owner": {"reputation": 57, "user_id": 5848101, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ead46b56b2b4f124d13a9ed96912f01?s=128&d=identicon&r=PG&f=1", "display_name": "CorDell", "link": "https://stackoverflow.com/users/5848101/cordell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 35973811, "answer_count": 1, "score": 1, "last_activity_date": 1457893236, "creation_date": 1457891428, "last_edit_date": 1457892802, "question_id": 35973637, "link": "https://stackoverflow.com/questions/35973637/how-to-read-the-contents-of-a-file", "title": "How to read the contents of a file", "body": "<p>I am confused on how to read the contents of a text file. I'm able to read the files name but can't figure out how to get the contents. By the way the file is encrypted that's why I'm trying to decrypt.</p>\n\n<pre><code>#!/Strawberry/perl/bin/perl\n\nuse v5.14;\n\nsub encode_decode {\n    shift =~ tr/A-Za-z/Z-ZA-Yz-za-y/r;\n}\n\nmy ($file1) = @ARGV;\n\nopen my $fh1, '&lt;', $file1;\n\nwhile (&lt;$fh1&gt;) {\n\n    my $enc = encode_decode($file1);\n\n    print my $dec = encode_decode($enc);\n\n    # ... do something with $_ from $file1 ...\n}\n\nclose $fh1;\n</code></pre>\n"}, {"tags": ["perl", "vector", "sum", "filehandle"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457891306, "post_id": 35973064, "comment_id": 59601479, "body": "You should <code>use warnings &#39;all&#39;</code> in preference to <code>-w</code> on the shebang line. Don&#39;t use both"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1457891462, "post_id": 35973064, "comment_id": 59601532, "body": "<code>my @sum = 0</code>? What is that supposed to mean? An array where the first element is 0?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1457891772, "post_id": 35973064, "comment_id": 59601647, "body": "If you intended <code>&#47;^$&#47;</code> to check for lines starting with dollar sign <code>$</code>, that will not work, as <code>$</code> is a regex meta character. Which you incidentally show in the next regex."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1457892198, "post_id": 35973064, "comment_id": 59601818, "body": "@briandfoy No, that would be the third regex looking for blank lines. <code>&#47;^\\s$&#47;</code>. He says in the comments that it is &quot;lines starting with $&quot;."}, {"owner": {"reputation": 29, "user_id": 2961021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f52355d9ec735024dfa7b5575f1dc30?s=128&d=identicon&r=PG&f=1", "display_name": "user2961021", "link": "https://stackoverflow.com/users/2961021/user2961021"}, "edited": false, "score": 0, "creation_date": 1457892516, "post_id": 35973064, "comment_id": 59601955, "body": "Thank you for the advice about shebang, I will keep that in mind. About @sum- good point, it&#39;s absolutely not necessary. I will keep in mind that there are better ways for finding blank lines, thank you for that notice."}], "answers": [{"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1457891329, "post_id": 35973278, "comment_id": 59601486, "body": "&quot;Try this&quot; answers without further explanations are rather annoying, and not very valuable. It means I have to read through your entire code, see how it is different from the OPs, and try to discern what you are trying to do, and if you did it right."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457892198, "post_id": 35973278, "comment_id": 59601819, "body": "<code>close(ARGV) if eof;</code> is the documented example."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457892792, "post_id": 35973278, "comment_id": 59602068, "body": "That doesn&#39;t work if the last line is blank or a comment."}], "tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": false, "score": -1, "last_activity_date": 1457890773, "last_edit_date": 1457890773, "creation_date": 1457889666, "answer_id": 35973278, "question_id": 35973064, "link": "https://stackoverflow.com/questions/35973064/how-to-identify-nth-lines-of-n-files-in-while/35973278#35973278", "title": "How to identify nth lines of n files in while&lt;&gt;", "body": "<p>Try this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nif ($ARGV[0] ne \"vector1.dat\"){\n    die (\"vector1.dat is necessary as first argument\");\n}\n\nmy %sum;\nmy $dim = 0;\nmy $vector_length;\nmy $line_number;\n\nwhile (&lt;&gt;) {\n\n    #Ignore blank lines, hashtags\n    #and lines starting with $\n    if ($_ =~ /#/ || $_ =~ /^$/ || $_ =~ /^\\s$/){\n        next;\n    }\n    my @vectors = split(\" \", $_);\n    $vector_length = @vectors;\n\n    if ($dim eq 0) {\n        $dim = $vector_length;\n    }\n    else {\n        if ($dim ne $vector_length) {\n            die (\"Vector dimensions do not match. : $!\");\n        }\n    }\n    for (my $i = 0; $i &lt;= $#vectors; $i++) {\n        $sum{$.}{$i} += $vectors[$i];\n    }\n    $line_number = $.;\n    $. = 0 if eof;\n}\n\n$\" = \"\\t\\t\";\nfor (my $line=1; $line&lt;=$line_number; $line++)\n{\n    print $line;\n    for (my $vector=0; $vector&lt;$vector_length; $vector++)\n    {\n        print \" \" . $sum{$line}{$vector};\n    }\n    print \"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 2961021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f52355d9ec735024dfa7b5575f1dc30?s=128&d=identicon&r=PG&f=1", "display_name": "user2961021", "link": "https://stackoverflow.com/users/2961021/user2961021"}, "edited": false, "score": 0, "creation_date": 1457893266, "post_id": 35973535, "comment_id": 59602241, "body": "Thank you, your explanations helped me a lot. Totally didn&#39;t think about a two dimensional array, that&#39;s a good notice."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457893681, "post_id": 35973535, "comment_id": 59602396, "body": "Don&#39;t need to <code>chomp($_)</code> if <code>$_</code> is only used in <code>split(&#39; &#39;, $_)</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457893761, "post_id": 35973535, "comment_id": 59602432, "body": "Re &quot;but hardly anyone is going to understand&quot;, That&#39;s what comments are for."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457893932, "post_id": 35973535, "comment_id": 59602505, "body": "If you really did want to avoid magic, you&#39;d use <code>my $input_line_number = $.;</code> instead of <code>use English;</code>"}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 2, "last_activity_date": 1457891440, "last_edit_date": 1495541728, "creation_date": 1457890984, "answer_id": 35973535, "question_id": 35973064, "link": "https://stackoverflow.com/questions/35973064/how-to-identify-nth-lines-of-n-files-in-while/35973535#35973535", "title": "How to identify nth lines of n files in while&lt;&gt;", "body": "<p>Open each file yourself and use the <code>$.</code> variable to know which line you are on (or count the files yourself). Here's the basic structure:</p>\n\n<pre><code>foreach my $file ( @files ) {\n    open my $fh, '&lt;', $file or die ...;\n    while( &lt;$fh&gt; ) {\n        chomp;\n        $sum[ $. ] = ...;  # $. is the line number\n        }\n    }\n</code></pre>\n\n<p>If you don't like <code>$.</code>, you can use its longer name. You have to turn on <a href=\"http://www.metacpan.org/modules/English\" rel=\"nofollow noreferrer\">English</a>  (which comes with Perl):</p>\n\n<pre><code>use English;\n## use English qw( -no_match_vars );  # for v5.16 and earlier\n\nforeach my $file ( @files ) {\n    open my $fh, '&lt;', $file or die ...;\n    while( &lt;$fh&gt; ) {\n        chomp;\n        $sum[ $INPUT_LINE_NUMBER ] = ...;\n        }\n    }\n</code></pre>\n\n<p>Or, you can count yourself, which might be handy if the vectors in the files don't line up by strict line number (perhaps because of comments or some other formatting oddity):</p>\n\n<pre><code>foreach my $file ( @files ) {\n    open my $fh, '&lt;', $file or die ...;\n    my $line = -1;\n    while( &lt;$fh&gt; ) {\n        $line++;\n        chomp;\n        $sum[ $line ] = ...;\n        }\n    }\n</code></pre>\n\n<p>The harder way is <a href=\"https://stackoverflow.com/a/35973278/2766176\">the answer bart gives</a> which inspects <a href=\"http://perldoc.perl.org/functions/eof.html\" rel=\"nofollow noreferrer\">eof</a> at the end of every line to see if the magical ARGV handle is looking at a new file, and resetting <code>$.</code> if it is. It's an interesting trick but hardly anyone is going to understand what it's doing (or even notice it).</p>\n\n<p>For the other part of the problem, I think you're doing the vector sum wrong, or using confusing variable names. A line is a vector, and the numbers in the lines are a component. A two dimensional array will work. The first index is the line number and the second in the component index:</p>\n\n<pre><code>while( &lt;$fh&gt; ) {\n    chomp;\n    ... skip unwanted lines\n    my @components = split;\n    ... various dimension checks\n    foreach my $i ( 0 .. $#components ) {\n        $sum[ $. ][ $i ] += $components[ $i ];\n        }\n    }\n</code></pre>\n\n<p>The <a href=\"http://www.metacpan.org/module/Data::Dumper\" rel=\"nofollow noreferrer\">Data::Dumper</a> module is handy for complex data structures. You can also see the <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a> (Perl Data Structures Cookbook) documentation. The <code>$.</code> variable is found in <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">perlvar</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 2961021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f52355d9ec735024dfa7b5575f1dc30?s=128&d=identicon&r=PG&f=1", "display_name": "user2961021", "link": "https://stackoverflow.com/users/2961021/user2961021"}, "edited": false, "score": 0, "creation_date": 1457894387, "post_id": 35973832, "comment_id": 59602701, "body": "I will be more specific when declaring variables, sorry for confusing readers with inappropriate names."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 29, "user_id": 2961021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f52355d9ec735024dfa7b5575f1dc30?s=128&d=identicon&r=PG&f=1", "display_name": "user2961021", "link": "https://stackoverflow.com/users/2961021/user2961021"}, "edited": false, "score": 0, "creation_date": 1457894545, "post_id": 35973832, "comment_id": 59602754, "body": "That&#39;s not it. It&#39;s important to choose appropriate names to avoid confusing <i>oneself</i>. With the names I used, your incorrect addition (<code>$sum_vectors[$i] += $vector[$i];</code>) would have looked incorrect. You would have been able to tell something&#39;s wrong by yourself."}, {"owner": {"reputation": 29, "user_id": 2961021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f52355d9ec735024dfa7b5575f1dc30?s=128&d=identicon&r=PG&f=1", "display_name": "user2961021", "link": "https://stackoverflow.com/users/2961021/user2961021"}, "edited": false, "score": 0, "creation_date": 1457894969, "post_id": 35973832, "comment_id": 59602930, "body": "That&#39;s true. Will be careful with namings. And yes, I already noticed the useless $! variable too. As for comments, that&#39;s a really good point. Thank you for your help you made me notice really simple but important things that I missed."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1457904672, "last_edit_date": 1457904672, "creation_date": 1457892453, "answer_id": 35973832, "question_id": 35973064, "link": "https://stackoverflow.com/questions/35973064/how-to-identify-nth-lines-of-n-files-in-while/35973832#35973832", "title": "How to identify nth lines of n files in while&lt;&gt;", "body": "<p><code>$.</code> is the line number of the most recently read file handle. <code>close(ARGV) if eof;</code> can be used to reset the file number between files (as documented in <a href=\"http://perldoc.perl.org/functions/eof.html\" rel=\"nofollow\"><code>eof</code></a>). (Note: <code>eof()</code> is different than <code>eof</code>.) So you now have line numbers.</p>\n\n<p>The second problem you have is that you are adding vector components (<code>$vectors[$i]</code>) to a vectors (<code>$sum[$i]</code>). You need to add vector components to vectors components. Start by using more appropriate variable names.</p>\n\n<p>This is what we get:</p>\n\n<pre><code>my @sum_vectors;\nwhile (&lt;&gt;) {\n   s/#.*//;          # Remove comments.\n   next if /^\\s*$/;  # Ignore blank lines.\n\n   my @vector = split;\n\n   if ($sum_vectors[$.] &amp;&amp; @{ $sum_vectors[$.] } != @vector) {\n      die(\"$ARGV:$.: Vector dimensions do not match\\n\");\n   }\n\n   for my $i (0..$#vector) {\n      $sum_vectors[$.][$i] += $vector[$i];\n   }\n} continue {\n   close(ARGV) if eof;  # Reset line numbers for each file.\n}\n</code></pre>\n\n<p>Two other errors fixed:</p>\n\n<ul>\n<li><code>$!</code> did not contain anything meaningful when you used it.</li>\n<li>You ignored lines that contain comments, even if they contained valid data too.</li>\n</ul>\n"}], "owner": {"reputation": 29, "user_id": 2961021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f52355d9ec735024dfa7b5575f1dc30?s=128&d=identicon&r=PG&f=1", "display_name": "user2961021", "link": "https://stackoverflow.com/users/2961021/user2961021"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 35973535, "answer_count": 3, "score": 0, "last_activity_date": 1457904672, "creation_date": 1457888423, "last_edit_date": 1457891840, "question_id": 35973064, "link": "https://stackoverflow.com/questions/35973064/how-to-identify-nth-lines-of-n-files-in-while", "title": "How to identify nth lines of n files in while&lt;&gt;", "body": "<p>I have a code which adds all vectors in all files. \nThere can be any number of input files. For example first input file is:</p>\n\n<pre><code>0.55        0       0.3335      1.2\n0.212       0       2.2025      1\n</code></pre>\n\n<p>and the second one is:</p>\n\n<pre><code>0.25        0       0.3333      1.0\n0.1235      0       0.2454      1\n</code></pre>\n\n<p>What I get is the sum of all vectors, thus in result i get one vector\nwhich is: </p>\n\n<pre><code>1.13550     0       3.1147      4.2\n</code></pre>\n\n<p>But I'm trying to sum the first vector of the first file with the first vector of the second file and so on. In result according to this example I should get 2 vectors.</p>\n\n<p>For now I have this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nif ($ARGV[0] ne \"vector1.dat\"){\n    die (\"vector1.dat is necessary as first argument\");\n}\n\nmy @sum = 0;\nmy $dim = 0;\n\nwhile (&lt;&gt;) {\n\n    #Ignore blank lines, hashtags \n    #and lines starting with $\n    if ($_ =~ /#/ || $_ =~ /^$/ || $_ =~ /^\\s$/){\n        next;\n    }\n    my @vectors = split(\" \", $_);\n    my $vector_length = @vectors;\n\n    if ($dim eq 0) {\n        $dim = $vector_length;\n    } \n    else {\n        if ($dim ne $vector_length) {\n            die (\"Vector dimensions do not match. : $!\");\n        }\n    }\n    for (my $i = 0; $i &lt;= $#vectors; $i++) {\n        $sum[$i] += $vectors[$i];\n    }\n}\n\n$\" = \"\\t\\t\";\nprint \"\\n --- \\n @sum \\n\";\n</code></pre>\n\n<p>What I need is just to find out how to identify each file's nth line\nand to sum the column values of those lines while keeping in mind, that there can be n number of files. \nI saw filehandling question over here with similar issue, however \nI didn't find my answer there.\nJust looking for some suggestions and guidance. Got stuck on this.</p>\n"}, {"tags": ["perl", "encryption"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1457886252, "post_id": 35972479, "comment_id": 59599569, "body": "@CorDell What exactly is your question? How to open and read a file?"}, {"owner": {"reputation": 57, "user_id": 5848101, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ead46b56b2b4f124d13a9ed96912f01?s=128&d=identicon&r=PG&f=1", "display_name": "CorDell", "link": "https://stackoverflow.com/users/5848101/cordell"}, "edited": false, "score": 0, "creation_date": 1457886737, "post_id": 35972479, "comment_id": 59599732, "body": "how to open a file from command line, the file is  encrypted and I need to decrypt it using ROT-25 and only display it if it has the word &quot;the&quot; somewhere in the text"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1457887137, "post_id": 35972479, "comment_id": 59599883, "body": "Did you mean to say that you need to decrypt the content of a file, named on the command line, and search the content for a keyword and then conditionally display the content of the file? Which of these things did you want to ask about?"}, {"owner": {"reputation": 57, "user_id": 5848101, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ead46b56b2b4f124d13a9ed96912f01?s=128&d=identicon&r=PG&f=1", "display_name": "CorDell", "link": "https://stackoverflow.com/users/5848101/cordell"}, "edited": false, "score": 0, "creation_date": 1457887296, "post_id": 35972479, "comment_id": 59599933, "body": "yeah thats what I mean. But I&#39;m confused on how to take a file read in from the command line and decrypt it. Then only display if it has the word &quot;the&quot; in it."}, {"owner": {"reputation": 57, "user_id": 5848101, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ead46b56b2b4f124d13a9ed96912f01?s=128&d=identicon&r=PG&f=1", "display_name": "CorDell", "link": "https://stackoverflow.com/users/5848101/cordell"}, "edited": false, "score": 0, "creation_date": 1457888171, "post_id": 35972479, "comment_id": 59600265, "body": "Guess we can start by reading from a encrypted file."}], "answers": [{"tags": [], "owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "is_accepted": false, "score": 0, "last_activity_date": 1457895493, "creation_date": 1457895493, "answer_id": 35974403, "question_id": 35972479, "link": "https://stackoverflow.com/questions/35972479/decrypting-a-file-read-in-from-the-command-line/35974403#35974403", "title": "Decrypting a file read in from the command line", "body": "<p>Only a small change, either declare a variable for holding the current line (or use <code>$_</code>):</p>\n\n<pre><code>open my $fh1, '&lt;', $file1;\nwhile ( my $line = &lt;$fh1&gt; ) {\n    my $dec = decode( $line );\n#   say \"Dec: \", $dec;\n}\nclose $fh1;\n</code></pre>\n\n<p>You can test the decoded lines for \"the\". If it is found, open the file again and print all lines.</p>\n"}, {"comments": [{"owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "edited": false, "score": 0, "creation_date": 1457901756, "post_id": 35974528, "comment_id": 59605502, "body": "@CorDell, I&#39;ve swapped the <code>&#47;i</code> on the pattern match for a <code>&#47;m</code> which will make the pattern test case sensitive as you noted in an earlier comment and will allow it to cross onto other lines in the text, as you also noted."}], "tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": true, "score": 1, "last_activity_date": 1457901612, "last_edit_date": 1457901612, "creation_date": 1457896190, "answer_id": 35974528, "question_id": 35972479, "link": "https://stackoverflow.com/questions/35972479/decrypting-a-file-read-in-from-the-command-line/35974528#35974528", "title": "Decrypting a file read in from the command line", "body": "<p>There are several issue here.  First, a function that uses the same logic to <code>encode_decode()</code> doesn't make sense for ROT25, only for ROT13.  To create your initial encoded file, you can use Unix to do it:</p>\n\n<pre><code>echo \"The secret of getting ahead is getting started -- Mark Twain\" | tr \"A-Za-z\" \"Z-ZA-Yz-za-y\" &gt; encoded_twain.txt\n</code></pre>\n\n<p>then run your program on encoded_twain.txt</p>\n\n<p>Since you need to determine if \"the\" appears anywere in the text, reading the file in line by line isn't your best bet.  You're better off reading it in as a single string and then both decoding and testing that.</p>\n\n<p>Your decoder has to do the opposite of what it does now (encoding.)</p>\n\n<p>Putting it all together, we get something like:</p>\n\n<pre><code>use English;\n\nmy $file_name = shift;\n\nsub decode\n{\n    return shift =~ tr/Z-ZA-Yz-za-y/A-Za-z/r;\n}\n\nopen my $file_handle, '&lt;', $file_name;\n\nmy $encoded = '';\n\n{   # allow us to read entire file in as a string:\n\n    local $INPUT_RECORD_SEPARATOR = undef;\n\n    $encoded = &lt;$file_handle&gt;;\n}\n\nclose $file_handle;\n\nmy $decoded = &amp;decode($encoded);\n\nif ($decoded =~ m/(^| )the /m)  # make this more robust!\n{\n    print($decoded);\n}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 5848101, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ead46b56b2b4f124d13a9ed96912f01?s=128&d=identicon&r=PG&f=1", "display_name": "CorDell", "link": "https://stackoverflow.com/users/5848101/cordell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 35974528, "answer_count": 2, "score": 0, "last_activity_date": 1457901612, "creation_date": 1457885016, "question_id": 35972479, "link": "https://stackoverflow.com/questions/35972479/decrypting-a-file-read-in-from-the-command-line", "title": "Decrypting a file read in from the command line", "body": "<p>I need the decrypting to be in ROT-25 which i think I already have set up. Next it needs to decrypt a file read in from the command line and that's where my problem is. I'm guessing it would have to be run like perl filename anyfile.txt but how do i set this up?</p>\n\n<pre><code>#!/Strawberry/perl/bin/perl\n use v5.14;\nmy ($file1) = @ARGV;\nopen my $fh1, '&lt;', $file1;\nwhile (&lt;$fh1&gt;) {\n\nsub encode_decode {\n   shift =~ tr/A-Za-z/Z-ZA-Yz-za-y/r;\n}\n\nmy $enc = encode_decode();\nmy $dec = encode_decode($enc);\nsay \"Enc: \", $enc;\nsay \"Dec: \", $dec;\n\n}\nclose $fh1;\n</code></pre>\n"}, {"tags": ["javascript", "apache", "perl", "cgi"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1457860764, "post_id": 35968495, "comment_id": 59591440, "body": "<i>Warning</i>: The use of CGI.pm is <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#CGI.pm-HAS-BEEN-REMOVED-FROM-THE-PERL-CORE\" rel=\"nofollow noreferrer\">not recommended</a>, it has been removed from Perl Core."}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 3, "last_activity_date": 1457860685, "creation_date": 1457860685, "answer_id": 35968551, "question_id": 35968495, "link": "https://stackoverflow.com/questions/35968495/javascript-not-running-with-perl-cgi/35968551#35968551", "title": "JavaScript not running with Perl CGI", "body": "<blockquote>\n  <p>I searched for this error and found it was relate to cgi files. So my guess is that apache2 is interpreting experiment.js as a cgi file. I am right in this? </p>\n</blockquote>\n\n<p>Yes</p>\n\n<blockquote>\n  <p>If yes, what is the proper way to setup so that javascript and cgi could be used together.</p>\n</blockquote>\n\n<p>Don't put non-CGI programs in your <code>cgi-bin</code>. Put them with the rest of your static files. </p>\n\n<p>You'll need to adjust the URL. <code>src=\"/js/experiment.js\"</code> for example.</p>\n"}], "owner": {"reputation": 2788, "user_id": 1204781, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3650412926f7e278e072076551b541b7?s=128&d=identicon&r=PG", "display_name": "sudeepdino008", "link": "https://stackoverflow.com/users/1204781/sudeepdino008"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 35968551, "answer_count": 1, "score": 0, "last_activity_date": 1466626509, "creation_date": 1457860241, "last_edit_date": 1466626509, "question_id": 35968495, "link": "https://stackoverflow.com/questions/35968495/javascript-not-running-with-perl-cgi", "title": "JavaScript not running with Perl CGI", "body": "<p>Inside the cgi-bin folder, I have an experiment.cgi:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse DBI;\nuse CGI qw(:standard);\nrequire \"../common/config.pl\";\n\nprint header;\nprint start_html(-title=&gt;\"Add Assignment\");\n\n\nprint&lt;&lt;EOT;\n  &lt;script type = \"application/javascript\" src = \"experiment.js\"&gt;&lt;/script&gt;\nEOT\n\nprint h2(\"Add New Automated Assignment\");\n\n# print&lt;&lt;AEOT;\n#   &lt;script&gt;experiment();&lt;/script&gt;\n# AEOT\nprint end_html;\n</code></pre>\n\n<p>In the same folder I have experiment.js</p>\n\n<pre><code>function experiment(){\n    alert('ghello world');\n}\n</code></pre>\n\n<p>However there is problem with the experiment.js file inclusion. In the log files I get the following error:</p>\n\n<pre><code>End of script output before headers: experiment.js\n</code></pre>\n\n<p>I searched for this error and found it was relate to cgi files. So my guess is that apache2 is interpreting experiment.js as a cgi file. Am I right in this? If yes, what is the proper way to set it up so that JavaScript and cgi could be used together?</p>\n"}, {"tags": ["perl", "awk", "sed"], "answers": [{"comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1457852094, "post_id": 35966995, "comment_id": 59589332, "body": "Nice, I didn&#39;t know that sed had that ability. It&#39;s a little cryptic, but pretty useful."}, {"owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "edited": false, "score": 0, "creation_date": 1457907067, "post_id": 35966995, "comment_id": 59607298, "body": "The second <code>sed</code> one-liner works brilliantly for me!  It is possible to modify it so that the asterisk does NOT get appended to the subject line iff the line two lines above said subject line begins with the pattern <code>^abc</code>?  If not, I&#39;ll just add another command to my pipeline (after the one you supplied) that removes the asterisks that I did not want appended."}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "reply_to_user": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "edited": false, "score": 0, "creation_date": 1457907367, "post_id": 35966995, "comment_id": 59607397, "body": "@Digger Yes, you&#39;d have to keep track of 4 lines then. Do you mean &quot;line starts with <code>abc</code>&quot;, or literally <code>^abc</code> inlcuding the <code>^</code>?"}, {"owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "edited": false, "score": 0, "creation_date": 1457907493, "post_id": 35966995, "comment_id": 59607433, "body": "@BenjaminW. Sorry, I meant the regex meaning of &quot;^&quot;.  So, the line would BEGIN with <code>abc</code>."}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "reply_to_user": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "edited": false, "score": 0, "creation_date": 1457908464, "post_id": 35966995, "comment_id": 59607723, "body": "@Digger I&#39;ve added a solution that does it."}, {"owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "edited": false, "score": 0, "creation_date": 1457925338, "post_id": 35966995, "comment_id": 59611925, "body": "Again, works great for me!  Especially appreciate the tutorial - sure to be useful for many people in the future!"}], "tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": true, "score": 5, "last_activity_date": 1457908454, "last_edit_date": 1457908454, "creation_date": 1457848028, "answer_id": 35966995, "question_id": 35966938, "link": "https://stackoverflow.com/questions/35966938/append-to-line-that-is-preceded-and-followed-by-empty-line/35966995#35966995", "title": "Append to line that is preceded AND followed by empty line", "body": "<p>A sed solution:</p>\n\n<pre><code>$ sed '1N;N;s/^\\(\\n.*\\)\\(\\n\\)$/\\1*\\2/;P;D' infile\nfoo\n\nfoo\nfoo\n\nfoo*\n\nfoo\n</code></pre>\n\n<p><code>N;P;D</code> is the idiomatic way to look at two lines at the same time by appending the next one to the pattern space, then printing and deleting the first line.</p>\n\n<p><code>1N;N;P;D</code> extends that to always having three lines in the pattern space, which is what we want here.</p>\n\n<p>The substitution matches if the first and last line are empty (<code>^\\n</code> and <code>\\n$</code>) and appends one <code>*</code> to the line between the empty lines.</p>\n\n<p>Notice that this matches and appends a <code>*</code> also for the second line of three empty lines, which might not be what you want. To make sure this doesn't happen, the first capture group has to have at least one non-whitespace character:</p>\n\n<pre><code>sed '1N;N;s/^\\(\\n[^[:space:]].*\\)\\(\\n\\)$/\\1*\\2/;P;D' infile\n</code></pre>\n\n<hr>\n\n<h3>Question from comment</h3>\n\n<p>Can we <em>not</em> append the <code>*</code> if the line two above begins with <code>abc</code>?</p>\n\n<p>Example input file:</p>\n\n<pre><code>foo\n\nfoo\nabc\n\nfoo\n\nfoo\n\nfoo\n\nfoo\n</code></pre>\n\n<p>There are three <code>foo</code> between empty lines, but the first one should not get the <code>*</code> appended because the line two above starts with <code>abc</code>. This can be done as follows:</p>\n\n<pre><code>$ sed '1{N;N};N;/^abc/!s/^\\(.*\\n\\n[^[:space:]].*\\)\\(\\n\\)$/\\1*\\2/;P;D' infile\nfoo\n\nfoo\nabc\n\nfoo\n\nfoo*\n\nfoo*\n\nfoo\n</code></pre>\n\n<p>This keeps <em>four</em> lines at a time in the pattern space and only makes the substitution if the pattern space does not start with <code>abc</code>:</p>\n\n<pre><code>1 {      # On the first line\n    N    # Append next line to pattern space\n    N    # ... again, so there are three lines in pattern space\n}\nN        # Append fourth line\n/^abc/!  # If the pattern space does not start with abc...\n    s/^\\(.*\\n\\n[^[:space:]].*\\)\\(\\n\\)$/\\1*\\2/   # Append '*' to 3rd line in pattern space\nP        # Print first line of pattern space\nD        # Delete first line of pattern space, start next cycle\n</code></pre>\n\n<p>Two remarks:</p>\n\n<ol>\n<li>BSD sed requires an extra semicolon: <code>1{N;N;}</code> instead of <code>1{N;N}</code>.</li>\n<li><p>If the first and third line of the file are empty, the second line does <em>not</em> get an asterisk appended because we only start checking once there are four lines in the pattern space. This could be solved by adding an extra substitution into the <code>1{}</code> block:</p>\n\n<pre><code>1{N;N;s/^\\(\\n[^[:space:]].*\\)\\(\\n\\)$/\\1*\\2/}\n</code></pre>\n\n<p>(remember the extra <code>;</code> for BSD sed), but trying to cover all edge cases makes sed even less readable, especially in one-liners:</p>\n\n<pre><code>sed '1{N;N;s/^\\(\\n[^[:space:]].*\\)\\(\\n\\)$/\\1*\\2/};N;/^abc/!s/^\\(.*\\n\\n[^[:space:]].*\\)\\(\\n\\)$/\\1*\\2/;P;D' infile\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 174, "user_id": 5889745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6e1d09e53789c17ad12bef08a52e3e?s=128&d=identicon&r=PG&f=1", "display_name": "Jorgen", "link": "https://stackoverflow.com/users/5889745/jorgen"}, "is_accepted": false, "score": 0, "last_activity_date": 1457871723, "last_edit_date": 1457871723, "creation_date": 1457851263, "answer_id": 35967367, "question_id": 35966938, "link": "https://stackoverflow.com/questions/35966938/append-to-line-that-is-preceded-and-followed-by-empty-line/35967367#35967367", "title": "Append to line that is preceded AND followed by empty line", "body": "<p>Update: My solution also fails after two consecutive matches as described above and needs the same lookback: s/(?&lt;=\\n\\n)(\\w+)\\n\\n/\\1\\2*\\n\\n/mg;</p>\n\n<p>The easiest way is to use multi-line match:</p>\n\n<pre><code>    local $/;     ## slurp mode\n    $file = &lt;DATA&gt;;\n\n    $file =~ s/\\n\\n(\\w+)\\n\\n/\\n\\n\\1*\\n\\n/mg;\n    printf $file;\n\n    __DATA__\n    foo\n\n    foo\n    foo\n\n    foo\n\n    foo\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 1, "last_activity_date": 1457852810, "creation_date": 1457852810, "answer_id": 35967558, "question_id": 35966938, "link": "https://stackoverflow.com/questions/35966938/append-to-line-that-is-preceded-and-followed-by-empty-line/35967558#35967558", "title": "Append to line that is preceded AND followed by empty line", "body": "<p>Here's a perl filter version, for the sake of illustration \u2014 hopefully it's clear to see how it works. It would be possible to write a version that has a lower input-output delay (2 lines instead of 3) but I don't think that's important.</p>\n\n<pre><code>my @lines;\n\nwhile (&lt;&gt;) {\n    # Keep three lines in the buffer, print them as they fall out\n    push @lines, $_;\n    print shift @lines if @lines &gt; 3;\n\n    # If a non-empty line occurs between two empty lines...\n    if (@lines == 3 &amp;&amp; $lines[0] =~ /^$/ &amp;&amp; $lines[2] =~ /^$/ &amp;&amp; $lines[1] !~ /^$/) {\n        # place an asterisk at the end\n        $lines[1] =~ s/$/*/;\n    }\n}\n\n# Flush the buffer at EOF\nprint @lines;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1457859523, "post_id": 35967873, "comment_id": 59591118, "body": "This can be tripped up if there is a pattern of empty - non-empty - empty - non-empty - empty line; it ignores the second occurrence because the patterns overlap."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1457861409, "post_id": 35967873, "comment_id": 59591608, "body": "@BenjaminW.  Thank you!  The <code>lookbehind</code> comes to rescue."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1493250341, "last_edit_date": 1493250341, "creation_date": 1457855337, "answer_id": 35967873, "question_id": 35966938, "link": "https://stackoverflow.com/questions/35966938/append-to-line-that-is-preceded-and-followed-by-empty-line/35967873#35967873", "title": "Append to line that is preceded AND followed by empty line", "body": "<p>A perl one-liner</p>\n\n<pre><code>perl -0777 -lne's/(?&lt;=\\n\\n)(.*?)(\\n\\n)/$1\\*$2/g; print' ol.txt\n</code></pre>\n\n<p>The <code>-0777</code> \"slurps\" in the whole file, assigned to <code>$_</code>, on which the (global) substitution is run and which is then <code>print</code>ed.  </p>\n\n<p>The <a href=\"http://perldoc.perl.org/perlre.html#Look-Around-Assertions\" rel=\"nofollow noreferrer\">lookbehind</a> <code>(?&lt;=text)</code> is needed for repeating patterns, <code>[empty][line][empty][line][empty]</code>.  It is a \"<em>zero-width assertion</em>\" that only checks that the pattern is there without consuming it. That way the pattern stays available for next matches.</p>\n\n<p>Such consecutive repeating patterns trip up the <code>/(\\n\\n)(.*?)(\\n\\n)/$1$2\\*$3/</code>, posted initially, since the trailing <code>\\n\\n</code> are not considered for the start of the very next pattern, having been just matched.</p>\n"}, {"tags": [], "owner": {"reputation": 8652, "user_id": 2040863, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IspsC.jpg?s=128&g=1", "display_name": "John Hascall", "link": "https://stackoverflow.com/users/2040863/john-hascall"}, "is_accepted": false, "score": 2, "last_activity_date": 1457979118, "last_edit_date": 1457979118, "creation_date": 1457864439, "answer_id": 35969053, "question_id": 35966938, "link": "https://stackoverflow.com/questions/35966938/append-to-line-that-is-preceded-and-followed-by-empty-line/35969053#35969053", "title": "Append to line that is preceded AND followed by empty line", "body": "<p>One way to think about these problems is as a state machine.</p>\n\n<pre><code>start: state = 0\n\n0: /* looking for a blank line */\n   if (blank line) state = 1\n\n1: /* leading blank line(s)\n   if (not blank line) {\n       nonblank = line\n       state = 2\n   }\n\n2: /* saw non-blank line */\n   if (blank line) {\n       output noblank*\n       state = 0\n   } else {\n       state = 1\n   }\n</code></pre>\n\n<p>And we can translate this pretty directly to an awk program:</p>\n\n<pre><code>BEGIN {\n        state = 0;                # start in state 0\n}\n\nstate == 0 {                      # looking for a (leading) blank line\n        print;\n        if (length($0) == 0) {    #   found one\n                state = 1;\n                next;\n        }\n}\n\nstate == 1 {                      # have a leading blank line\n        if (length($0) &gt; 0) {     #   found a non-blank line\n                saved = $0;       #     save it\n                state = 2;\n                next;\n        } else {\n                print;            # multiple leading blank lines (ok)\n        }\n}\n\nstate == 2 {                      # saw the non-blank line\n        if (length($0) == 0) {    #   followed by a blank line\n                print saved \"*\";  #     BINGO!\n                state = 1;        # to the saw a blank-line state\n        } else {                  # nope, consecutive non-blank lines\n                print saved;      #   as-is\n                state = 0;        # to the looking for a blank line state\n        }\n        print;\n        next;\n}\n\nEND {                             # cleanup, might have something saved to show\n        if (state == 2) print saved;\n}\n</code></pre>\n\n<p>This is not the shortest way, nor likely the fastest, but it's probably the most straightforward and easy to understand.</p>\n\n<h2>EDIT</h2>\n\n<p>Here is a comparison of Ed's way and mine (see the comments under his answer for context).  I replicated the OP's input a million-fold and then timed the runnings:</p>\n\n<pre><code># ls -l\ntotal 22472\n-rw-r--r--. 1 root root      111 Mar 13 18:16 ed.awk\n-rw-r--r--. 1 root root 23000000 Mar 13 18:14 huge.in\n-rw-r--r--. 1 root root      357 Mar 13 18:16 john.awk\n\n# time awk -f john.awk &lt; huge.in &gt; /dev/null\n2.934u 0.001s 0:02.95 99.3%     0+0k 112+0io 1pf+0w\n\n# time awk -f ed.awk huge.in huge.in &gt; /dev/null\n14.217u 0.426s 0:14.65 99.8%    0+0k 272+0io 2pf+0w\n</code></pre>\n\n<p>His version took about 5 times as long, did twice as much I/O, and (not shown in this output) took 1400 times as much memory.</p>\n\n<p><strong>EDIT</strong> from Ed Morton:\nFor those of us unfamiliar with the output of whatever <code>time</code> command John used above, here's the 3rd-invocation results from the normal UNIX <code>time</code> program on cygwin/bash using GNU awk 4.1.3:</p>\n\n<pre><code>$ wc -l huge.in\n1000000 huge.in\n\n$ time awk -f john.awk huge.in &gt; /dev/null\nreal    0m1.264s\nuser    0m1.232s\nsys     0m0.030s\n\n$ time awk -f ed.awk huge.in huge.in &gt; /dev/null\nreal    0m1.638s\nuser    0m1.575s\nsys     0m0.030s\n</code></pre>\n\n<p>so if you'd rather write 37 lines than 3 lines to save a third of a second on processing a million line file then John's answer is the right one for you.</p>\n\n<h2>EDIT#3</h2>\n\n<p>It's the standard \"time\" built-in from tcsh/csh.  And even if you didn't recognize it, the output should be intuitively obvious.  And yes, boys and girls, my solution can also be written as a short incomprehensible mess:</p>\n\n<pre><code>s == 0 { print; if (length($0) == 0) { s = 1; next; } }\ns == 1 { if (length($0) &gt; 0) { p = $0; s = 2; next; } else { print; } }\ns == 2 { if (length($0) == 0) { print p \"*\"; s = 1; } else { print p; s = 0; } print; next; }\nEND { if (s == 2) print p; }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8652, "user_id": 2040863, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IspsC.jpg?s=128&g=1", "display_name": "John Hascall", "link": "https://stackoverflow.com/users/2040863/john-hascall"}, "edited": false, "score": 0, "creation_date": 1457897911, "post_id": 35971609, "comment_id": 59604154, "body": "Sorry, but yuck.  First, this means it can&#39;t be used as a filter.  Secondly, it does twice the work needed."}, {"owner": {"reputation": 8652, "user_id": 2040863, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IspsC.jpg?s=128&g=1", "display_name": "John Hascall", "link": "https://stackoverflow.com/users/2040863/john-hascall"}, "edited": false, "score": 0, "creation_date": 1457911611, "post_id": 35971609, "comment_id": 59608702, "body": "Again sorry, but beg to disagree."}, {"owner": {"reputation": 8652, "user_id": 2040863, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IspsC.jpg?s=128&g=1", "display_name": "John Hascall", "link": "https://stackoverflow.com/users/2040863/john-hascall"}, "edited": false, "score": 0, "creation_date": 1457912454, "post_id": 35971609, "comment_id": 59608907, "body": "I timed your version vs mine -- see the EDIT to my answer."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 8652, "user_id": 2040863, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IspsC.jpg?s=128&g=1", "display_name": "John Hascall", "link": "https://stackoverflow.com/users/2040863/john-hascall"}, "edited": false, "score": 0, "creation_date": 1457917648, "post_id": 35971609, "comment_id": 59610184, "body": "@JohnHascall - hope you don&#39;t mind but I didn&#39;t know how to read your <code>time</code> output so I added the timing results I get on cygwin/bash with gawk 4.1.3 to your answer so it&#39;s all in one place for anyone who cares to see the performance difference. Looks like your 37-line script would run about 1/3rd of a second faster than my 3-line script on a 1 million line file."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1457880144, "creation_date": 1457880144, "answer_id": 35971609, "question_id": 35966938, "link": "https://stackoverflow.com/questions/35966938/append-to-line-that-is-preceded-and-followed-by-empty-line/35971609#35971609", "title": "Append to line that is preceded AND followed by empty line", "body": "<p>It's simplest and clearest to do this in 2 passes:</p>\n\n<pre><code>$ cat tst.awk\nNR==FNR { nf[NR]=NF; nr=NR; next }\nFNR&gt;1 &amp;&amp; FNR&lt;nr &amp;&amp; NF &amp;&amp; !nf[FNR-1] &amp;&amp; !nf[FNR+1] { $0 = $0 \"*\" }\n{ print }\n\n$ awk -f tst.awk file file\nfoo\n\nfoo\nfoo\n\nfoo*\n\nfoo\n</code></pre>\n\n<p>The above takes one pass to record the number of fields on each line (NF is zero for an empty line) and then the second pass just checks your requirements - the current line is not the first or last in the file, it is not empty and the lines before and after are empty.</p>\n"}, {"tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 0, "last_activity_date": 1457901005, "creation_date": 1457901005, "answer_id": 35975422, "question_id": 35966938, "link": "https://stackoverflow.com/questions/35966938/append-to-line-that-is-preceded-and-followed-by-empty-line/35975422#35975422", "title": "Append to line that is preceded AND followed by empty line", "body": "<p>alternative <code>awk</code> solution (single pass)</p>\n\n<pre><code>$ awk 'NR&gt;2 &amp;&amp; !pp &amp;&amp; !NF {p=p\"*\"} \n                      NR&gt;1{print p} \n                          {pp=length(p);p=$0} \n                       END{print p}' foo       \n\nfoo                                                                                                                   \n\nfoo                                                                                                                   \nfoo                                                                                                                   \n\nfoo*                                                                                                                  \n\nfoo         \n</code></pre>\n\n<p><strong>Explanation:</strong> defer printing to next line for decision making, so need to keep previous line in <code>p</code> and state of the second previous line in <code>pp</code> (length zero assumed to be empty).  Do the bookkeeping assignments and at the end print the last line.</p>\n"}], "owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 1, "accepted_answer_id": 35966995, "answer_count": 7, "score": 1, "last_activity_date": 1493250341, "creation_date": 1457847517, "last_edit_date": 1495542355, "question_id": 35966938, "link": "https://stackoverflow.com/questions/35966938/append-to-line-that-is-preceded-and-followed-by-empty-line", "title": "Append to line that is preceded AND followed by empty line", "body": "<p>I need to append an asterisk to a line, but only if said line is preceded <em>and</em> followed by empty lines (FYI, said empty lines will NOT have any white space in them).</p>\n\n<p>Suppose I have the following file:</p>\n\n<pre><code>foo\n\nfoo\nfoo\n\nfoo\n\nfoo\n</code></pre>\n\n<p>I want the output to look like this:</p>\n\n<pre><code>foo\n\nfoo\nfoo\n\nfoo*\n\nfoo\n</code></pre>\n\n<p>I tried modifying the following <code>awk</code> command (found <a href=\"https://stackoverflow.com/questions/21517723/sed-replace-pattern-only-if-followed-by-empty-line\">here</a>):</p>\n\n<pre><code>awk 'NR==1 {l=$0; next}\n       /^$/ {gsub(/test/,\"xxx\", l)}\n       {print l; l=$0}\n       END {print l}' file\n</code></pre>\n\n<p>to suit my uses, but got all tied up in knots.</p>\n\n<p>Sed or Perl solutions are, of course, welcome also!</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>It turned out that the question I asked was not quite correct.  What I really needed was code that would append text to non-empty lines that do not start with whitespace AND are followed, two lines down, by non-empty lines that also do not start with whitespace.</p>\n\n<p>For this revised problem, suppose I have the following file:</p>\n\n<pre><code>foo\n\nthird line foo\n\nfifth line foo\n this line starts with a space foo\n this line starts with a space foo\n\nninth line foo\n\neleventh line foo\n\n this line starts with a space foo\n\nlast line foo\n</code></pre>\n\n<p>I want the output to look like this:</p>\n\n<pre><code>foobar\n\nthird line foobar\n\nfifth line foo\n this line starts with a space foo\n this line starts with a space foo\n\nninth line foobar\n\neleventh line foo\n\n this line starts with a space foo\n\nlast line foo\n</code></pre>\n\n<p>For <em>that</em>, this sed one-liner does the trick:</p>\n\n<pre><code>sed '1N;N;/^[^[:space:]]/s/^\\([^[:space:]].*\\o\\)\\(\\n\\n[^[:space:]].*\\)$/\\1bar\\2/;P;D' infile\n</code></pre>\n\n<p>Thanks to Benjamin W.'s clear and informative answer below, I was able to cobble this one-liner together!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1457830888, "post_id": 35965145, "comment_id": 59585435, "body": "You&#39;re worrying too much about the Ctrl-D or Ctrl-Z. Those characters don&#39;t appear in the data your program receives. What is wrong with the code you have shown? It looks fine to me except that your <code>for</code> loop won&#39;t stop until you have entered nine cities. What is it that you want to do?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1511019434, "last_edit_date": 1511019434, "creation_date": 1457832327, "answer_id": 35965400, "question_id": 35965145, "link": "https://stackoverflow.com/questions/35965145/perl-get-array-in-terminal-until-user-type-ctrlz-or-ctrlc/35965400#35965400", "title": "Perl: get array in terminal until user type ctrl+z or ctrl+c", "body": "<p>I think what you're looking for is the <a href=\"http://perldoc.perl.org/functions/eof.html\" rel=\"nofollow noreferrer\"><code>eof</code></a> (end of file) operator, but I'm hesitant to recommend it as it looks like you're following a tutorial</p>\n\n<p>Here's how your code would look. The last line prints each element of the <code>@sentence</code> array back to the console so that you can see the program is still running. Pressing <kbd>Ctrl</kbd>+<kbd>D</kbd> or <kbd>Ctrl</kbd>+<kbd>Z</kbd> signals the end of the input and makes <code>eof</code> return a <em>true</em> value</p>\n\n<pre><code>for $i ( 0 ... 8 ) {\n    print \"Give me a name of a city: \\n\";\n    $sentence[$i] = &lt;STDIN&gt;;    #get value\n    last if eof;\n}\n\nprint for @sentence;\n</code></pre>\n\n<p>Please remember that this isn't a method you'll see often in programming</p>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1511016723, "last_edit_date": 1511016723, "creation_date": 1457855821, "answer_id": 35967932, "question_id": 35965145, "link": "https://stackoverflow.com/questions/35965145/perl-get-array-in-terminal-until-user-type-ctrlz-or-ctrlc/35967932#35967932", "title": "Perl: get array in terminal until user type ctrl+z or ctrl+c", "body": "<p>You can catch and handle signals in Perl, see for example <a href=\"http://perltricks.com/article/37/2013/8/18/Catch-and-Handle-Signals-in-Perl/\" rel=\"nofollow noreferrer\">this blog post</a>. Here is a scripts that checks for <kbd>CTRL</kbd>+<kbd>C</kbd> on Unix:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy @sentence;\n\nlocal $SIG{INT} = sub { die };\n\nfor my $i (0...8) {\n   print \"Give me a name of a city: \\n\";\n   eval {\n       $sentence[$i] = &lt;STDIN&gt;; #get value\n   };\n   last if $@;\n}\n\nsay \"\";\nprint for @sentence;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6055539, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iyPXT1LB4Ck/AAAAAAAAAAI/AAAAAAAAAZQ/e74SnMgE2R0/photo.jpg?sz=128", "display_name": "Ana Gonzalez", "link": "https://stackoverflow.com/users/6055539/ana-gonzalez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1511019434, "creation_date": 1457829557, "last_edit_date": 1510747014, "question_id": 35965145, "link": "https://stackoverflow.com/questions/35965145/perl-get-array-in-terminal-until-user-type-ctrlz-or-ctrlc", "title": "Perl: get array in terminal until user type ctrl+z or ctrl+c", "body": "<p>I need to make a program that receive a array of strings and the list should end with <kbd>CTRL</kbd>-<kbd>D</kbd> (unix) or <kbd>CTRL</kbd>-<kbd>Z</kbd>(win). I have been reading how to do it but i dont understand. I dont want the answer I just one a simple explanation of how to capture the stop without finish my program</p>\n\n<pre><code>for $i (0...8){\n   print \"Give me a name of a city: \\n\";\n   $sentence[$i] = &lt;STDIN&gt;; #get value\n} \n</code></pre>\n\n<p>My answer was:</p>\n\n<pre><code>print \"Give me a name of a city: \\n\";\n$a=0;\n$SIG{'INT'} = sub {$a=1;}; #change de flag\nwhile ($a == 0){\n   $string = &lt;STDIN&gt;;\n   push @sentence, $string;\n   if($a == 0){\n      print \"Give me a name of a city: $a\\n\";\n   }\n}\n</code></pre>\n"}, {"tags": ["php", "python", "apache", "perl", "privileges"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1457811595, "post_id": 35961414, "comment_id": 59579706, "body": "Go to the document root and do a <code>su www-data</code>. Then try to run the scripts as user www-data. If this fails it is not a problem of apache but simply because UNIX permissions do not allow you to access the scripts or the perl/python binary."}, {"owner": {"reputation": 96, "user_id": 4714697, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/7vFXw.jpg?s=128&g=1", "display_name": "Jason Paw", "link": "https://stackoverflow.com/users/4714697/jason-paw"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1457813316, "post_id": 35961414, "comment_id": 59580316, "body": "When I try to su www-data I get &quot;This account is currently not available.&quot;"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1457813543, "post_id": 35961414, "comment_id": 59580384, "body": "This means that the account has not shell. See <a href=\"https://geekpeek.net/this-account-is-currently-not-available-login-problems/\" rel=\"nofollow noreferrer\">geekpeek.net/&hellip;</a> for how to fix it temporarily for testing but I recommend to set it back afterwards."}], "answers": [{"comments": [{"owner": {"reputation": 96, "user_id": 4714697, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/7vFXw.jpg?s=128&g=1", "display_name": "Jason Paw", "link": "https://stackoverflow.com/users/4714697/jason-paw"}, "edited": false, "score": 0, "creation_date": 1457813715, "post_id": 35962761, "comment_id": 59580463, "body": "This is the site that led me down the final path. <a href=\"https://www.digitalocean.com/community/tutorials/how-to-use-suexec-in-apache-to-run-cgi-scripts-on-an-ubuntu-vps\" rel=\"nofollow noreferrer\">digitalocean.com/community/tutorials/&hellip;</a>"}], "tags": [], "owner": {"reputation": 96, "user_id": 4714697, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/7vFXw.jpg?s=128&g=1", "display_name": "Jason Paw", "link": "https://stackoverflow.com/users/4714697/jason-paw"}, "is_accepted": false, "score": 1, "last_activity_date": 1457813627, "creation_date": 1457813627, "answer_id": 35962761, "question_id": 35961414, "link": "https://stackoverflow.com/questions/35961414/perl-python-scripts-fail-to-access-internet-network-through-web-gui/35962761#35962761", "title": "Perl/Python Scripts Fail to Access Internet/Network through Web GUI", "body": "<p>So after I posted this I looked into Handlers like I use for IIS. That led me down the path of SUEXEC and through everything I tried I couldn't get Apache to load it. Even made sure that I set the bits for SETUID and SETGID. </p>\n\n<p>When I was researching that I ran across .htaccess files and how they can enable CGI scripts. I didn't want to put in .htaccess files so I just made sure the apache.conf was configured to allow CGI. That also did not help.</p>\n\n<p>So finally while I was studying .htaccess they referred to ScriptAlias. I believe this is what solved my issue. I modified the ScriptAlias section in an apache configuration file to point to my directory containing the script. After some fussing with absolute directories and permissions for the script to read/write a file I got everything to work except it isn't going through the proxy set by environment http_proxy. That is a separate issue though so I think I am good to go on this issue. I will attempt the same solution on my perl LAMP.</p>\n"}], "owner": {"reputation": 96, "user_id": 4714697, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/7vFXw.jpg?s=128&g=1", "display_name": "Jason Paw", "link": "https://stackoverflow.com/users/4714697/jason-paw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457813627, "creation_date": 1457806055, "question_id": 35961414, "link": "https://stackoverflow.com/questions/35961414/perl-python-scripts-fail-to-access-internet-network-through-web-gui", "title": "Perl/Python Scripts Fail to Access Internet/Network through Web GUI", "body": "<p>Another way I could ask this question is:</p>\n\n<p><strong>How do I set pages served by Apache to have higher privileges?</strong> This would be similar to me setting an Application Pool in IIS to use different credentials.</p>\n\n<p>I have multiple Perl and Python scripts I am publishing through a web front end. The front end is intended to run any script I have in a database. With most of the scripts I have no issues... but anything that seems to utilize the network returns nothing. No error messages or failures reported. Running from CLI <strong>as ROOT</strong> works, run from WEB GUI <strong>as www-data</strong> calling same command fails.</p>\n\n<p>I am lumping Python and Perl together in this question because the issue is the same leading me to believe it isn't a code issue, it is a permissions issue. Also why I am not including code, initially.</p>\n\n<p>These are running on linux using Apache and PHP5. Python 2.7 and Perl5 I believe. Here are examples of apps I have that are failing:</p>\n\n<ol>\n<li>Python - Connecting out to VirusTotal API</li>\n<li>Perl - Connecting to Domains and Creating a Graph with GraphViz</li>\n<li>Perl - Performing a Wake On LAN function on a local network segment.</li>\n</ol>\n"}, {"tags": ["perl", "substring", "cgi"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457784326, "post_id": 35956737, "comment_id": 59570124, "body": "Calling subroutines with an ampersand <code>&amp;</code> hasn&#39;t been correct since Perl 4.0 twenty-three years ago. So <code>&amp;getCourseList</code> should be <code>getCourseList()</code>. Whichever tutorial you&#39;re using you should get a better one."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2788, "user_id": 1204781, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3650412926f7e278e072076551b541b7?s=128&d=identicon&r=PG", "display_name": "sudeepdino008", "link": "https://stackoverflow.com/users/1204781/sudeepdino008"}, "edited": false, "score": 1, "creation_date": 1457784043, "post_id": 35957185, "comment_id": 59570047, "body": "@sudeepdino008: That&#39;s not a comment that will endear you to the majority of people who browse questions with the Perl tag. Perl works the same way as JavaScript, PHP, C#, C++, and SQL, except for the added facility of indexing from the end of the string with negative numbers. Ruby treats strings as objects, and the notation for a substring is <code>str[start,length]</code>. In fact I can only think of Python which bucks the trend and uses <code>str[start:end]</code> instead. Are you perhaps a Python programmer?"}, {"owner": {"reputation": 2788, "user_id": 1204781, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3650412926f7e278e072076551b541b7?s=128&d=identicon&r=PG", "display_name": "sudeepdino008", "link": "https://stackoverflow.com/users/1204781/sudeepdino008"}, "edited": false, "score": 0, "creation_date": 1457785555, "post_id": 35957185, "comment_id": 59570536, "body": "I agree it is not a proper comment to make here. Yes I&#39;m am mostly programming in c++, python and java - in which case the substr works in the way I am used to."}, {"owner": {"reputation": 2788, "user_id": 1204781, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3650412926f7e278e072076551b541b7?s=128&d=identicon&r=PG", "display_name": "sudeepdino008", "link": "https://stackoverflow.com/users/1204781/sudeepdino008"}, "edited": false, "score": 0, "creation_date": 1457785685, "post_id": 35957185, "comment_id": 59570592, "body": "and in fact at this point I am furious at myself for not going through the documentation of substr thinking something weird is can happen and is happening since it is perl."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2788, "user_id": 1204781, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3650412926f7e278e072076551b541b7?s=128&d=identicon&r=PG", "display_name": "sudeepdino008", "link": "https://stackoverflow.com/users/1204781/sudeepdino008"}, "edited": false, "score": 1, "creation_date": 1457786236, "post_id": 35957185, "comment_id": 59570764, "body": "@sudeepdino008: Ah Java; I forgot about that one. But C++ is with the rest of us\u2014<code>string std::string::substr(size_t pos = 0, size_t len = npos)</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1457782845, "creation_date": 1457782845, "answer_id": 35957185, "question_id": 35956737, "link": "https://stackoverflow.com/questions/35956737/bizzare-output-from-substr/35957185#35957185", "title": "Bizzare output from substr", "body": "<p><a href=\"http://perldoc.perl.org/functions/substr.html\">The documentation for <code>substr</code></a> says this</p>\n\n<blockquote>\n  <p>substr EXPR,OFFSET,LENGTH</p>\n  \n  <p>Extracts a substring out of EXPR and returns it. First character is at offset zero. If OFFSET is negative, starts that far back from the end of the string. If LENGTH is omitted, returns everything through the end of the string. If LENGTH is negative, leaves that many characters off the end of the string.</p>\n</blockquote>\n\n<p>So the third parameter is the <em>length</em> of the substring you want to extract, not the offset of the end</p>\n\n<p>However, you could use negative numbers for the start and end, which will be indices from the end of the string. Like this</p>\n\n<pre><code>$ perl -E\"say substr 'cs600032016s', -5, -1\"\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>2016\n</code></pre>\n"}], "owner": {"reputation": 2788, "user_id": 1204781, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3650412926f7e278e072076551b541b7?s=128&d=identicon&r=PG", "display_name": "sudeepdino008", "link": "https://stackoverflow.com/users/1204781/sudeepdino008"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 35957185, "answer_count": 1, "score": 0, "last_activity_date": 1457783166, "creation_date": 1457780066, "question_id": 35956737, "link": "https://stackoverflow.com/questions/35956737/bizzare-output-from-substr", "title": "Bizzare output from substr", "body": "<p>I am trying to extract year from a code which looks like <strong>cs600032016s</strong>. \nThe year lies from index 7 to 10 but just to generalize on the variable length of the code preceding it, I have used the following code:</p>\n\n<pre><code>$year = substr($code, $len-5, $len-1);\n</code></pre>\n\n<p>But it gives me <code>2016s</code> rather than 2016. Any idea where the mistake is? Changing <code>$len-1</code> to <code>$len-2</code> or <code>$len-3</code> gives no change to output. It's very weird. \nThis is the code:</p>\n\n<pre><code>sub getCCodeFromCode{\n  my ($code) = @_;\n  my $len = length($code);\n  return substr($code, 0 , $len-5);    #4 char for year and one for sem\n}\n\nsub getYearFromCode{\n  my ($code) = @_;\n  my $len = length($code);\n#  print \"substr($code, $len-5, $len-1)\";\n  return substr($code, $len-5, $len-1);\n}\n\nsub getSemFromCode{\n  my ($code) = @_;\n  my $len = length($code);\n  return substr($code, $len-1);\n}\n\nmy %hashmap = &amp;getCourseList;\n#my %hashmap = %{$hashmap_ref};\n\nforeach my $key (keys %hashmap) {\n  my $code = &amp;getCCodeFromCode($key);\n  my $year = &amp;getYearFromCode($key);\n  my $sem = &amp;getSemFromCode($key);\n  print $key.\"\\n\".$code.\"\\n\".$year.\"\\n\".$sem.\"\\n\";\n  #print \"&lt;p&gt;$key = $hashmap{$key}&lt;br&gt;qq$code b $year b $semqq&lt;/p&gt;&lt;br&gt;\\n\";\n}\n</code></pre>\n\n<p>This is the output:</p>\n\n<pre><code>Content-Type: text/html; charset=ISO-8859-1\n\n&lt;!DOCTYPE html\n    PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n     \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en-US\" xml:lang=\"en-US\"&gt;\n&lt;head&gt;\n&lt;title&gt;Add Assignment&lt;/title&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\ncs600172015a\ncs60017\n2015a\na\ncs410012015a\ncs41001\n2015a\na\ncs220012016a\ncs22001\n2016a\na\ncs600442016a\ncs60044\n2016a\na\ncs300022015a\ncs30002\n2015a\na\ncs600032016s\ncs60003\n2016s\ns\ncs500022015a\ncs50002\n2015a\na\ncs220012016s\ncs22001\n2016s\ns\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["perl", "exception-handling", "sigils"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 14, "last_activity_date": 1457774853, "creation_date": 1457774853, "answer_id": 35955902, "question_id": 35955802, "link": "https://stackoverflow.com/questions/35955802/what-is-in-perl/35955902#35955902", "title": "What is @$ in perl?", "body": "<p><code>@$</code> has no meaning (yet) in Perl. It exists because <code>$$</code> exists (for each special variable \"sigil-char\", all other \"another_sigil-char\" variables exist). Therefore, <code>warn</code> gets no arguments - you can verify that by using just <code>warn;</code> - you'll get the same output.</p>\n\n<p>Now, let's read the documentation for <a href=\"http://p3rl.org/warn\">warn</a>:</p>\n\n<blockquote>\n  <p>If the output is empty and <code>$@</code> already contains a value (typically from a previous eval) that value is used after appending <code>\"\\t...caught\"</code> to <code>$@</code>. This is useful for staying almost, but not entirely similar to <code>die</code>.</p>\n</blockquote>\n\n<p><code>$@</code> contains the exception from the <code>eval</code>, so the behaviour is expected.</p>\n"}], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 385, "favorite_count": 0, "accepted_answer_id": 35955902, "answer_count": 1, "score": 7, "last_activity_date": 1457774853, "creation_date": 1457774021, "question_id": 35955802, "link": "https://stackoverflow.com/questions/35955802/what-is-in-perl", "title": "What is @$ in perl?", "body": "<p>I came across this, expecting it to be a typo for <code>$@</code>:</p>\n\n<pre><code>use strict;\nuse warnings;\n\neval {\n  my $error = Not::Here-&gt;new();\n};\n\nwarn @$;\n</code></pre>\n\n<p>And to my surprise it outputs this:</p>\n\n<blockquote>\n  <p>Can't locate object method \"new\" via package \"Not::Here\" (perhaps you forgot to load \"Not::Here\"?) at dollar_array.pl line 6.\n      ...caught at dollar_array.pl line 9.</p>\n</blockquote>\n\n<p>I'm unable to find any information about <code>@$</code>, and it's not listed on <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"noreferrer\">perlvar</a>, nor in <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"noreferrer\">eval</a></p>\n\n<p>Since the output show <code>caught at ...</code>, it seems that this is something in the exception handling of perl.</p>\n"}, {"tags": ["excel", "perl", "spreadsheet"], "comments": [{"owner": {"reputation": 121871, "user_id": 478884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLckc.jpg?s=128&g=1", "display_name": "Tim Williams", "link": "https://stackoverflow.com/users/478884/tim-williams"}, "edited": false, "score": 0, "creation_date": 1457741128, "post_id": 35952029, "comment_id": 59560392, "body": "Not sure why it would work with CSV or XLS files: neither of these is stored in a zip format..."}, {"owner": {"reputation": 121871, "user_id": 478884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLckc.jpg?s=128&g=1", "display_name": "Tim Williams", "link": "https://stackoverflow.com/users/478884/tim-williams"}, "edited": false, "score": 0, "creation_date": 1457741832, "post_id": 35952029, "comment_id": 59560569, "body": "Also - check the xlsx file you&#39;re having a problem with to make sure it&#39;s the correct format.  Change the extension to &quot;zip&quot; and try to open it and view the contents."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457753805, "post_id": 35952029, "comment_id": 59563011, "body": "How do you know <i>&quot;The file uploads correctly&quot;</i>? Have you tried to open it with Excel?"}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 4880521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d886f28133c30b5739b82bbf636fcdb?s=128&d=identicon&r=PG&f=1", "display_name": "Cole Tarbet", "link": "https://stackoverflow.com/users/4880521/cole-tarbet"}, "edited": false, "score": 0, "creation_date": 1457799224, "post_id": 35952308, "comment_id": 59575362, "body": "It works for all of them if you use <a href=\"http://search.cpan.org/~hmbrand/Spreadsheet-Read/Read.pm\" rel=\"nofollow noreferrer\">Spreadsheet::Read.</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 141, "user_id": 4880521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d886f28133c30b5739b82bbf636fcdb?s=128&d=identicon&r=PG&f=1", "display_name": "Cole Tarbet", "link": "https://stackoverflow.com/users/4880521/cole-tarbet"}, "edited": false, "score": 0, "creation_date": 1457799807, "post_id": 35952308, "comment_id": 59575557, "body": "@ColeTarbet: Then my best guess is that your XLSX file is really something else. Can you put it online so that I can test with it?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1457751370, "last_edit_date": 1457751370, "creation_date": 1457743099, "answer_id": 35952308, "question_id": 35952029, "link": "https://stackoverflow.com/questions/35952029/perl-spreadsheetxlsx-error-cannot-open-as-zip-archive/35952308#35952308", "title": "Perl SpreadSheet::XLSX Error: &quot;Cannot open as Zip Archive&quot;", "body": "<p>You can't open CSV or XLS files with <a href=\"http://metacpan.org/module/Spreadsheet:XLSX\" rel=\"nofollow\">Spreadsheet:XLSX</a>. As the name implies, it's for XLSX files which are zipped XML files. If it won't open these then your file is probably corrupt</p>\n"}, {"tags": [], "owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "is_accepted": false, "score": -1, "last_activity_date": 1457753142, "creation_date": 1457753142, "answer_id": 35953389, "question_id": 35952029, "link": "https://stackoverflow.com/questions/35952029/perl-spreadsheetxlsx-error-cannot-open-as-zip-archive/35953389#35953389", "title": "Perl SpreadSheet::XLSX Error: &quot;Cannot open as Zip Archive&quot;", "body": "<p>Since it appears that you are on Windows, one option open to you if you have Excel installed on that system is to use the <a href=\"https://metacpan.org/pod/Win32::OLE\" rel=\"nofollow\">Win32::OLE</a> module to directly control Excel to read/write Excel files.</p>\n\n<p>For CSV files, it may be easier to directly parse the contents as if it was a text file or use something like the <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow\">Text::CSV</a> module.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457800885, "post_id": 35960066, "comment_id": 59575957, "body": "Your solution needs more information before it can be useful to others. You didn&#39;t show any code that opens your uploaded file. Is that in the code that uploads the file, or where it is read on the server? It isn&#39;t Windows but Perl whose behaviour is different. Windows terminates each line of a text file with CR LF, whereas Linux uses just CR. The default for Perl on a Windows system is to remove the CR, but that is clearly bad news for a zip file where 0x0D (CR) may just be part of the data"}, {"owner": {"reputation": 141, "user_id": 4880521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d886f28133c30b5739b82bbf636fcdb?s=128&d=identicon&r=PG&f=1", "display_name": "Cole Tarbet", "link": "https://stackoverflow.com/users/4880521/cole-tarbet"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457967958, "post_id": 35960066, "comment_id": 59634642, "body": "I honestly couldn&#39;t find any real documentation or examples about it except that link I posted.  I don&#39;t pretend to be a cross-platform raw data expert. :)  I can only imagine that this is relatively unknown because Perl websites are typically run on Linux."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457968230, "post_id": 35960066, "comment_id": 59634869, "body": "Thanks for updating your solution, but the sort of information I would like is what I&#39;m certain that you do know. For instance, which library provides the <code>upload</code> function, and is this code server side or client side?"}], "tags": [], "owner": {"reputation": 141, "user_id": 4880521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d886f28133c30b5739b82bbf636fcdb?s=128&d=identicon&r=PG&f=1", "display_name": "Cole Tarbet", "link": "https://stackoverflow.com/users/4880521/cole-tarbet"}, "is_accepted": true, "score": 1, "last_activity_date": 1457985440, "last_edit_date": 1457985440, "creation_date": 1457799077, "answer_id": 35960066, "question_id": 35952029, "link": "https://stackoverflow.com/questions/35952029/perl-spreadsheetxlsx-error-cannot-open-as-zip-archive/35960066#35960066", "title": "Perl SpreadSheet::XLSX Error: &quot;Cannot open as Zip Archive&quot;", "body": "<p>Wow, that took forever for such a simple thing.</p>\n\n<p>The solution was to open the file in \"binary mode\" because I'm using Windows which differentiates between text and binary data.</p>\n\n<p><a href=\"http://perldoc.perl.org/functions/binmode.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/binmode.html</a></p>\n\n<pre><code>use CGI qw(:standard);\n\n# upload file\nmy $upload_filehandle = upload(\"filename\"); \n\n# open the uploaded file\nopen ( UPLOADFILE, \"&gt;$upload_dir/$filename\" ) or die \"$!\";\n\n# use binary mode (for Excel files on Windows)\nbinmode UPLOADFILE;\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 4880521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d886f28133c30b5739b82bbf636fcdb?s=128&d=identicon&r=PG&f=1", "display_name": "Cole Tarbet", "link": "https://stackoverflow.com/users/4880521/cole-tarbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1474, "favorite_count": 0, "accepted_answer_id": 35960066, "answer_count": 3, "score": 0, "last_activity_date": 1457985440, "creation_date": 1457740925, "last_edit_date": 1457753774, "question_id": 35952029, "link": "https://stackoverflow.com/questions/35952029/perl-spreadsheetxlsx-error-cannot-open-as-zip-archive", "title": "Perl SpreadSheet::XLSX Error: &quot;Cannot open as Zip Archive&quot;", "body": "<p>I'm trying to use <a href=\"http://metacpan.org/module/Spreadsheet:XLSX\" rel=\"nofollow\"><code>Spreadsheet:XLSX</code></a> to read Excel files, but I get this error message with CSV, XLS, and XLSX file uploads. I had it working previously with <a href=\"http://metacpan.org/module/Spreadsheet::Read\" rel=\"nofollow\"><code>Spreadsheet::Read</code></a> and CSV files.</p>\n\n<p>The code is so simple I just don't know what to troubleshoot.</p>\n\n<p>The file uploads correctly and I have the correct path and filename.</p>\n\n<p>Error message:</p>\n\n<pre><code>Cannot open c:\\Website\\cgi-bin\\bidprocess\\files\\SEIPA-request-0307123509.xlsx as Zip archive at C:/strawberry/perl/site/lib/Spreadsheet/XLSX.pm line 279.\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code># CHECK FOR VALID FILE \nmy $filename = shift or die \"ERROR: File not received.  Please try again.\";\n\n#DEBUG\nprint $filename;\n\n# READ EXCEL FILE \nmy $workbook = Spreadsheet::XLSX-&gt;new($filename);\n</code></pre>\n"}, {"tags": ["perl", "random"], "comments": [{"owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "reply_to_user": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1457736623, "post_id": 35951189, "comment_id": 59558923, "body": "@zaph: I know that. I don&#39;t really need cryptographically secure numbers, and I could get by with the 32 non-predictable(?) bits, but I thought this was weird."}, {"owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "reply_to_user": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1457737339, "post_id": 35951189, "comment_id": 59559192, "body": "Because this is NOT about generating random number I can use, it&#39;s about understanding what rand() does."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 3, "creation_date": 1457737880, "post_id": 35951189, "comment_id": 59559389, "body": "Maybe this helps <a href=\"http://stackoverflow.com/a/12993693/632407\">stackoverflow.com/a/12993693/632407</a>"}, {"owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 1, "creation_date": 1457738435, "post_id": 35951189, "comment_id": 59559567, "body": "@jm666: It does, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "edited": false, "score": 2, "creation_date": 1457748396, "post_id": 35952792, "comment_id": 59561973, "body": "That was essentially hat I got from the linked answer, but expressed a lot clearer."}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 5, "last_activity_date": 1457747705, "last_edit_date": 1457747705, "creation_date": 1457747389, "answer_id": 35952792, "question_id": 35951189, "link": "https://stackoverflow.com/questions/35951189/perl-output-of-rand-is-partially-predictable/35952792#35952792", "title": "Perl: output of rand() is partially predictable?", "body": "<p>It's not just the implementation of the \"default\" seed (<code>srand</code> called with no argument or not called at all), as you might think from Schwern's answer that was linked in a comment; <em>all</em> <code>srand</code> calls (and so all means of initializing the RNG state) are subject to this problem.</p>\n\n<p>Currently (since 5.20) perl uses its own RNG implementation based on FreeBSD's <code>drand48</code> and <code>srand48</code>; prior to that, perl used <code>drand48</code> and <code>srand48</code> if available, so the behavior on Linux was effectively the same. In either case, the <code>srand</code> implementation only uses 32 bits of input, placing them in the upper 32 bits of the 48-bit RNG state; the lower 16 bits are initialized to <code>0x330e</code>. If you run <code>0x330e</code> through one round of the LCG algorithm (only the bottom 16 bits of the previous state are necessary to get the bottom 16 bits of the next state), multiplying by <code>0xe66d</code> and adding <code>0x000b</code>, you end up with <code>0x5101</code> which is the first value you observe.</p>\n\n<p>Obviously this predictability in the lower bits is bad, and I'm not sure why it hasn't been addressed especially now that perl has its own RNG implementation that could easily be 48-bit clean. Obviously it's less damaging than having the <em>high</em> bits always initialized to a known state, however.</p>\n\n<p>At the moment, I would recommend that if you want to do anything serious with perl's RNG, use it for at most 32 bits per call, combining multiple calls if necessary to get greater precision/range.</p>\n"}], "owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 1, "accepted_answer_id": 35952792, "answer_count": 1, "score": 7, "last_activity_date": 1457747705, "creation_date": 1457735871, "last_edit_date": 1457736293, "question_id": 35951189, "link": "https://stackoverflow.com/questions/35951189/perl-output-of-rand-is-partially-predictable", "title": "Perl: output of rand() is partially predictable?", "body": "<p>I was playing around with perl's rand() and noticed that when supplying an argument larger than 2^32, the last bits of the output becomes predictable.</p>\n\n<p>The most clear way I found of illustrating it is with the following script:</p>\n\n<pre><code>srand(); for $i (1..10) { printf \"%4x\\n\",rand(2**48)%2**16 }\n</code></pre>\n\n<p>Whenever I execute that the output is</p>\n\n<pre><code>5101\n6378\n2a23\n62f2\n8d15\neffc\n9657\n2d16\nf669\n40c0\n</code></pre>\n\n<p>(It's not just the first 10 values, but I didn't see a point copying a long list of \"random\" numbers)</p>\n\n<p>The call to srand() is superfluous, but it's there to make it easy to supply an argument, and see that it doesn't change anything.</p>\n\n<p>I've tried this on:</p>\n\n<ul>\n<li>Debian squeeze having perl 5.10 (randbits=48)</li>\n<li>Debian wheezy having perl 5.14 (randbits=48)</li>\n<li>Debian jessie having perl 5.20 (randbits=48)</li>\n</ul>\n\n<p>I know rand() is not supposed to be cryptographically secure, but the last 16 bits being predictable is worse than what I had understood. Am I using any of the function(s) wrong?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2705585"}, "edited": false, "score": 1, "creation_date": 1457732657, "post_id": 35950353, "comment_id": 59557159, "body": "Why using <code>TCT</code> and <code>PLA</code> when it&#39;s <code>TXT</code> and <code>SLA</code> ?"}, {"owner": {"reputation": 101, "user_id": 2423782, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/71c915acf59ce6741e026c34364f1cae?s=128&d=identicon&r=PG", "display_name": "Deep", "link": "https://stackoverflow.com/users/2423782/deep"}, "edited": false, "score": 0, "creation_date": 1457732813, "post_id": 35950353, "comment_id": 59557237, "body": "Sorry, it should be TXT only typo error while putting it in blog"}, {"owner": {"reputation": 101, "user_id": 2423782, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/71c915acf59ce6741e026c34364f1cae?s=128&d=identicon&r=PG", "display_name": "Deep", "link": "https://stackoverflow.com/users/2423782/deep"}, "edited": false, "score": 0, "creation_date": 1457733173, "post_id": 35950353, "comment_id": 59557386, "body": "@noob I have updated it &amp; shared screenshot as well."}], "answers": [{"tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": false, "score": 1, "last_activity_date": 1457733243, "creation_date": 1457733243, "answer_id": 35950631, "question_id": 35950353, "link": "https://stackoverflow.com/questions/35950353/sort-file-based-on-name-using-perl/35950631#35950631", "title": "Sort file based on name using perl", "body": "<p>From the documentation of <a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow\"><code>sort</code></a>:</p>\n\n<blockquote>\n  <p>If SUBNAME or BLOCK is omitted, sorts in standard string comparison order.</p>\n</blockquote>\n\n<p>So the following code</p>\n\n<pre><code> sort \n map  { /TXT(.*)PLA/; [$1, $_] }\n @files;\n</code></pre>\n\n<p>sorts the arrayref values returned from <code>map</code> by their stringified value (something like <code>ARRAY(0x22bcd48)</code>). The following should sort the arrayrefs by their first element:</p>\n\n<pre><code> sort { $a-&gt;[0] cmp $b-&gt;[0] }\n map  { /TXT(.*)PLA/; [$1, $_] }\n @files;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 2423782, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/71c915acf59ce6741e026c34364f1cae?s=128&d=identicon&r=PG", "display_name": "Deep", "link": "https://stackoverflow.com/users/2423782/deep"}, "edited": false, "score": 0, "creation_date": 1457733675, "post_id": 35950646, "comment_id": 59557623, "body": "Yes, but code is giving me same output even after adding this code : map  { $_-&gt;[1] }                 sort {$a-&gt;[0] cmp $b-&gt;[0]}    map  { /TXT(.*)SLA/; [$1, $_] }"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 101, "user_id": 2423782, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/71c915acf59ce6741e026c34364f1cae?s=128&d=identicon&r=PG", "display_name": "Deep", "link": "https://stackoverflow.com/users/2423782/deep"}, "edited": false, "score": 3, "creation_date": 1457733829, "post_id": 35950646, "comment_id": 59557703, "body": "@Deep &quot;...sort does not happen in place. The output has to be assigned back to <code>@files.</code>&quot; In other words, you have to do <code>@files = map {$_-&gt;[1]}  sort {$a-&gt;[0] cmp $b-&gt;[0]} map {&#47;TXT(.*)SLA&#47;;[$1, $_]} @files;</code>"}, {"owner": {"reputation": 101, "user_id": 2423782, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/71c915acf59ce6741e026c34364f1cae?s=128&d=identicon&r=PG", "display_name": "Deep", "link": "https://stackoverflow.com/users/2423782/deep"}, "edited": false, "score": 0, "creation_date": 1457733883, "post_id": 35950646, "comment_id": 59557722, "body": "I think I have to check what you have suggested by assigning the value back to @files."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 4, "last_activity_date": 1457733314, "creation_date": 1457733314, "answer_id": 35950646, "question_id": 35950353, "link": "https://stackoverflow.com/questions/35950353/sort-file-based-on-name-using-perl/35950646#35950646", "title": "Sort file based on name using perl", "body": "<p>There's two problems, both here:</p>\n\n<pre><code>print \n     map  { $_-&gt;[1] } \n     sort \n     map  { /TXT(.*)SLA/; [$1, $_] }\n     @files;\n</code></pre>\n\n<p>First, your <a href=\"https://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"nofollow\">Schwartzian Transform</a> is lacking a sort function.  So it's sorting the string versions of your array references like <code>ARRAY(0x7ff730805468)</code>.  You need to add something like <code>sort { $a-&gt;[0] cmp $b-&gt;[0] }</code>.</p>\n\n<p>Second, sort does not happen in place.  The output has to be assigned back to <code>@files</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1467624981, "last_edit_date": 1467624981, "creation_date": 1457753549, "answer_id": 35953425, "question_id": 35950353, "link": "https://stackoverflow.com/questions/35950353/sort-file-based-on-name-using-perl/35953425#35953425", "title": "Sort file based on name using perl", "body": "<p>A <em>Schwartzian Transform</em> is a useful optimisation only when the data set is huge or the sorting function is complex and slow; otherwise it just makes for unclear code. So it's a shame that it has become the go-to pattern any time someone wants to sort by a <em>function</em> of the data instead of the data itself</p>\n\n<p>There are a couple of alternatives, and you may prefer a standard sort function like this. The relevant parts of <code>$a</code> and <code>$b</code> are extracted into <code>$aa</code> and <code>$bb</code> respectively, and then they are simply compared</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nchomp( my @data = &lt;DATA&gt; );\n\nsay for sort {\n    my ($aa, $bb) = map { /TXT_([A-Z]+)_SLA/ } $a, $b;\n    $aa cmp $bb;\n} @data;\n\n__DATA__\n20160311_TXT_XPL_SLA_Attribution\n20160301_TXT_APL_SLA_Attribution\n20160301_TXT_XPL_SLA_Attribution\n20160302_TXT_APL_SLA_Attribution\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>20160301_TXT_APL_SLA_Attribution\n20160302_TXT_APL_SLA_Attribution\n20160311_TXT_XPL_SLA_Attribution\n20160301_TXT_XPL_SLA_Attribution\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 2423782, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/71c915acf59ce6741e026c34364f1cae?s=128&d=identicon&r=PG", "display_name": "Deep", "link": "https://stackoverflow.com/users/2423782/deep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1467624981, "creation_date": 1457732105, "last_edit_date": 1457733122, "question_id": 35950353, "link": "https://stackoverflow.com/questions/35950353/sort-file-based-on-name-using-perl", "title": "Sort file based on name using perl", "body": "<p>I have a source folder where many files are there with different name:</p>\n\n<pre><code>20160311_TXT_XPL_SLA_Attribution\n\n20160301_TXT_APL_SLA_Attribution\n\n20160301_TXT_XPL_SLA_Attribution\n\n20160302_TXT_APL_SLA_Attribution\n</code></pre>\n\n<p>I have to sort the files based on letters between TXT_***_SLA.</p>\n\n<p>I wrote the Perl script but this is not properly sorting:</p>\n\n<pre><code>    #!/usr/bin/perl\n\n    $dir = \"E://Unix\";\n    my $file;\n    my @files;\n    opendir (DIR, \"$dir\");\n    while ($file = readdir(DIR)) \n    {\n      push (@files, $file);\n    }\n\n\n    print \n         map  { $_-&gt;[1] } \n         sort \n         map  { /TXT(.*)SLA/; [$1, $_] }\n         @files;\n\n   foreach $file (@files) \n   {\n     print \"$file\\n\";\n   }\n\n   closedir(DIR);\n</code></pre>\n\n<p>Even I checked the after removing the underscores but don't see any change in sorting patter. I am really new to Perl &amp; it will be great help if someone can tell me where I am going wrong?</p>\n\n<p>Output is coming:</p>\n\n<pre><code>20160301_TXT_APL_SLA_Attribution.txt\n\n20160301_TXT_XPL_SLA_Attribution.txt\n\n20160302_TXT_APL_SLA_Attribution.txt\n\n20160311_TXT_XPL_SLA_Attribution.txt\n</code></pre>\n\n<p>Expected is:</p>\n\n<pre><code>20160301_TXT_APL_SLA_Attribution.txt\n\n20160302_TXT_APL_SLA_Attribution.txt\n\n20160301_TXT_XPL_SLA_Attribution.txt\n\n20160311_TXT_XPL_SLA_Attribution.txt\n</code></pre>\n\n<p>Regex used:</p>\n\n<pre><code>/(TXT)(.*)(SLA)/\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1457731288, "post_id": 35949265, "comment_id": 59556556, "body": "&quot;the purpose of this question is to understand Perl&#39;s bitwise operators better.&quot; If you really want to understand them, you should look at how they&#39;re implemented: see <code>pp_left_shift</code> in <a href=\"https://github.com/Perl/perl5/blob/maint-5.22/pp.c#L1918\" rel=\"nofollow noreferrer\">pp.c</a>. <code>pp_left_shift</code> simply uses C&#39;s left shift operator; in C, it&#39;s undefined behavior to shift a value by the number of bits it contains, which is why I think <code>(1 &lt;&lt; $i) - 1</code> and <code>~(~0 &lt;&lt; $i)</code> fail."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457752046, "post_id": 35949265, "comment_id": 59562690, "body": "<code>E&lt;$i&gt;</code> is a strange notation for <code>f($i)</code>"}, {"owner": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1457789856, "post_id": 35949265, "comment_id": 59571918, "body": "@ikegami: that&#39;s because my intention was <i>precisely to avoid</i> functional notation, since that would have <i>invariably</i> been misinterpreted as my asking for a <code>sub</code>, whereas I was asking for an expression.  Of course, <code>E&lt;$i&gt;</code> <i>is</i> a function of <code>$i</code>, in the more general/mathematical sense of the term, but if I had used <code>E($i)</code>, most, if not all, the answers I would have gotten would have been of the form <code>sub E { ... }</code>, ant that&#39;s <i>not</i> what I&#39;m after."}], "answers": [{"comments": [{"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1457739848, "post_id": 35950156, "comment_id": 59559998, "body": "Overflowing a unsigned integer in C has a defined behavior, it simply &quot;wraps around&quot;. Perl has traditionally always used (and still uses) unsigned integers when using bitwise op&#39;s unless the integer pragma is in effect."}, {"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457743126, "post_id": 35950156, "comment_id": 59560919, "body": "@ThisSuitIsBlackNot, IMHO you should remove some of the unnecessary documentation you added in your edit, the first paragraph excluding the last sentence with a pointer to perldoc  would be enough."}], "tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": false, "score": 0, "last_activity_date": 1457731794, "last_edit_date": 1457731794, "creation_date": 1457731310, "answer_id": 35950156, "question_id": 35949265, "link": "https://stackoverflow.com/questions/35949265/expression-for-setting-lowest-n-bits-that-works-even-when-n-equals-word-size/35950156#35950156", "title": "Expression for setting lowest n bits that works even when n equals word size", "body": "<p>The documentation on the shift operators in <a href=\"http://perldoc.perl.org/perlop.html#Shift-Operators\" rel=\"nofollow\">perlop</a> has an answer to your problem: <code>use bigint;</code>. </p>\n\n<p>From the documentation:</p>\n\n<blockquote>\n  <p>Note that both <code>&lt;&lt;</code> and <code>&gt;&gt;</code> in Perl are implemented directly using <code>&lt;&lt;</code> and <code>&gt;&gt;</code> in C. If <code>use integer</code> (see <a href=\"http://perldoc.perl.org/perlop.html#Integer-Arithmetic\" rel=\"nofollow\">Integer Arithmetic</a>) is in force then signed C integers are used, else unsigned C integers are used. Either way, the implementation isn't going to generate results larger than the size of the integer type Perl was built with (32 bits or 64 bits).</p>\n  \n  <p>The result of overflowing the range of the integers is undefined because it is undefined also in C. In other words, using 32-bit integers, <code>1 &lt;&lt; 32</code> is undefined. Shifting by a negative number of bits is also undefined.</p>\n  \n  <p>If you get tired of being subject to your platform's native integers, the <code>use bigint</code> pragma neatly sidesteps the issue altogether:</p>\n\n<pre><code>print 20 &lt;&lt; 20;  # 20971520\nprint 20 &lt;&lt; 40;  # 5120 on 32-bit machines, \n                 # 21990232555520 on 64-bit machines\nuse bigint;\nprint 20 &lt;&lt; 100; # 25353012004564588029934064107520\n</code></pre>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "edited": false, "score": 0, "creation_date": 1457738330, "post_id": 35950861, "comment_id": 59559540, "body": "Nice.  It fails for <code>$n = 0</code>, but that&#39;s an easy exception to check for."}, {"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457738698, "post_id": 35950861, "comment_id": 59559650, "body": "@ThisSuitIsBlackNot, Thanks for the edit, they where indeed redundant!"}, {"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "reply_to_user": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "edited": false, "score": 0, "creation_date": 1457740440, "post_id": 35950861, "comment_id": 59560203, "body": "@kjo, how much data can you store if you have zero bits?"}, {"owner": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "edited": false, "score": 0, "creation_date": 1457791172, "post_id": 35950861, "comment_id": 59572320, "body": "<code>$n</code> does not refer to the number of bits available for storage, but to the number of the bits (in the word&#39;s low end) that are 1.  When <code>$n = 0</code>, then <i>U</i> is obviously 0.  IOW, the problem is perfectly well defined for the case <code>$n = 0</code>.  (In the problem statement, I referred to it as a &quot;non-negative integer&quot;.)"}], "tags": [], "owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "is_accepted": false, "score": 1, "last_activity_date": 1457735949, "last_edit_date": 1457735949, "creation_date": 1457734236, "answer_id": 35950861, "question_id": 35949265, "link": "https://stackoverflow.com/questions/35949265/expression-for-setting-lowest-n-bits-that-works-even-when-n-equals-word-size/35950861#35950861", "title": "Expression for setting lowest n bits that works even when n equals word size", "body": "<p>Fun challenge!</p>\n\n<pre><code>use Devel::Peek qw[Dump];\n\nfor my $n (8, 16, 32, 64) {\n  Dump(~(((1 &lt;&lt; ($n - 1)) &lt;&lt; 1) - 1) ^ ~0);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>SV = IV(0x7ff60b835508) at 0x7ff60b835518\n  REFCNT = 1\n  FLAGS = (PADTMP,IOK,pIOK)\n  IV = 255\nSV = IV(0x7ff60b835508) at 0x7ff60b835518\n  REFCNT = 1\n  FLAGS = (PADTMP,IOK,pIOK)\n  IV = 65535\nSV = IV(0x7ff60b835508) at 0x7ff60b835518\n  REFCNT = 1\n  FLAGS = (PADTMP,IOK,pIOK)\n  IV = 4294967295\nSV = IV(0x7ff60b835508) at 0x7ff60b835518\n  REFCNT = 1\n  FLAGS = (PADTMP,IOK,pIOK,IsUV)\n  UV = 18446744073709551615\n</code></pre>\n\n<p>Perl compiled with:</p>\n\n<pre><code>ivtype='long', ivsize=8, nvtype='double', nvsize=8\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1457752430, "last_edit_date": 1457752430, "creation_date": 1457751986, "answer_id": 35953272, "question_id": 35949265, "link": "https://stackoverflow.com/questions/35949265/expression-for-setting-lowest-n-bits-that-works-even-when-n-equals-word-size/35953272#35953272", "title": "Expression for setting lowest n bits that works even when n equals word size", "body": "<pre><code>use Config qw( %Config );\n\n$i &gt;= $Config{uvsize}*8 ? ~0 : ~(~0 &lt;&lt; $i)\n</code></pre>\n\n<p>Technically, the word size is looked up, not computed.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1457814642, "last_edit_date": 1457814642, "creation_date": 1457752474, "answer_id": 35953320, "question_id": 35949265, "link": "https://stackoverflow.com/questions/35949265/expression-for-setting-lowest-n-bits-that-works-even-when-n-equals-word-size/35953320#35953320", "title": "Expression for setting lowest n bits that works even when n equals word size", "body": "<p>On systems where <code>eval($Config{nv_overflows_integers_at}) &gt;= 2**($Config{ptrsize*8})</code> (which excludes one that uses double-precision floats and 64-bit ints),</p>\n\n<pre><code>2**$i - 1\n</code></pre>\n\n<p>On all systems,</p>\n\n<pre><code>( int(2**$i) - 1 )|0\n</code></pre>\n\n<ul>\n<li><p>When i&lt;W, <code>int</code> will convert the NV into an IV/UV, allowing the subtraction to work on systems with the precision of NVs is less than the size of UVs. <code>|0</code> has no effect in this case.</p></li>\n<li><p>When i&ge;W, <code>int</code> has no effect, so the subtraction has no effect. <code>|0</code> therefore overflows, in which case Perl returns the largest integer.</p></li>\n</ul>\n\n<p><strong>I don't know how reliable that <code>|0</code> behaviour is. It could be compiler-specific. Don't use this!</strong></p>\n"}], "owner": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 2, "accepted_answer_id": 35953320, "answer_count": 4, "score": 9, "last_activity_date": 1457814642, "creation_date": 1457727881, "last_edit_date": 1457798161, "question_id": 35949265, "link": "https://stackoverflow.com/questions/35949265/expression-for-setting-lowest-n-bits-that-works-even-when-n-equals-word-size", "title": "Expression for setting lowest n bits that works even when n equals word size", "body": "<p>NB: the purpose of this question is to understand Perl's bitwise operators better.  I know of ways to compute the number <em>U</em> described below.</p>\n\n<p>Let <code>$i</code> be a nonnegative integer.  I'm looking for a simple expression <code>E&lt;$i&gt;</code><sup>1</sup> that will evaluate to the <em>unsigned int</em> <em>U</em>, whose <code>$i</code> lowest bits are all 1's, and whose remaining bits are all 0's.  E.g. <code>E&lt;8&gt;</code> should be 255.  In particular, if <code>$i</code> equals the machine's word size (<em>W</em>), <code>E&lt;$i&gt;</code> should equal <code>~0</code><sup>2</sup>.</p>\n\n<p>The expressions <code>(1 &lt;&lt; $i) - 1</code> and <code>~(~0 &lt;&lt; $i)</code> both do the right thing, except when <code>$i</code> equals <em>W</em>, in which case they both take on the value <code>0</code>, rather than <code>~0</code>.</p>\n\n<p>I'm looking for a way to do this that does not require computing <em>W</em> first.</p>\n\n<hr>\n\n<p>EDIT: OK, I thought of an ugly, plodding solution</p>\n\n<pre><code>$i &lt; 1 ? 0 : do { my $j = 1 &lt;&lt; $i - 1; $j &lt; $j &lt;&lt; 1 ? ( $j &lt;&lt; 1 ) - 1 : ~0 }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$i &lt; 1 ? 0 : ( 1 &lt;&lt; ( $i - 1 ) ) &lt; ( 1 &lt;&lt; $i ) ? ( 1 &lt;&lt; $i ) - 1 : ~0\n</code></pre>\n\n<p>(Also impractical, of course.)</p>\n\n<hr>\n\n<p><sup><sup>1</sup> I'm using the strange notation <code>E&lt;$i&gt;</code> as shorthand for \"expression based on <code>$i</code>\".</sup></p>\n\n<p><sup><sup>2</sup> I don't have a strong preference at the moment for what <code>E&lt;$i&gt;</code> should evaluate to when <code>$i</code> is strictly <em>greater</em> than <em>W</em>.</sup></p>\n"}, {"tags": ["regex", "perl", "extract"], "comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1457709577, "post_id": 35943796, "comment_id": 59544002, "body": "If you know how to use a hammer for a nail, why bother about trying to use a saw instead?"}, {"owner": {"reputation": 3, "user_id": 3083970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2507dcf05ac4ae18fd2ebdab994daa6?s=128&d=identicon&r=PG&f=1", "display_name": "user3083970", "link": "https://stackoverflow.com/users/3083970/user3083970"}, "reply_to_user": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1457709805, "post_id": 35943796, "comment_id": 59544177, "body": "@Jan professor doesn&#39;t want us to use regex...."}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1457709845, "post_id": 35943796, "comment_id": 59544219, "body": "Then please provide some real input strings."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1457710031, "post_id": 35943796, "comment_id": 59544349, "body": "If you wanted all the digits, e.g. &quot;1234&quot; from &quot;1LOL234&quot;, then maybe grep would be useful.  If you want to find and capture the digits at the end or the first group of digits or anything like that, it wouldn&#39;t be.  Define your problem more clearly."}, {"owner": {"reputation": 3, "user_id": 3083970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2507dcf05ac4ae18fd2ebdab994daa6?s=128&d=identicon&r=PG&f=1", "display_name": "user3083970", "link": "https://stackoverflow.com/users/3083970/user3083970"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1457710258, "post_id": 35943796, "comment_id": 59544520, "body": "@ysth Yes, I want to capture all the digits."}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1457710327, "post_id": 35943796, "comment_id": 59544568, "body": "<code>grep</code> in Perl does not do necessarily do string matching.  It is a filter to find items in a list that match a condition.  For example <code>@evens = grep { $_ % 2 == 0 } @numbers</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457710697, "post_id": 35943796, "comment_id": 59544859, "body": "And what if your string is something like <code>ABC123DEF456</code>?"}, {"owner": {"reputation": 3, "user_id": 3083970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2507dcf05ac4ae18fd2ebdab994daa6?s=128&d=identicon&r=PG&f=1", "display_name": "user3083970", "link": "https://stackoverflow.com/users/3083970/user3083970"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457711214, "post_id": 35943796, "comment_id": 59545240, "body": "@Borodin It&#39;d never be like that because in this specific case of mine, the letters are first and numbers after like a course number."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 3083970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2507dcf05ac4ae18fd2ebdab994daa6?s=128&d=identicon&r=PG&f=1", "display_name": "user3083970", "link": "https://stackoverflow.com/users/3083970/user3083970"}, "edited": false, "score": 0, "creation_date": 1457711108, "post_id": 35944212, "comment_id": 59545156, "body": "So I have it as: print join &#39;&#39;, grep{$_ + 0} split //, &quot;LOL123&quot;; It gives me an error that L O L is not numeric, but it still prints out the 123 fine. How would I use ge?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 3, "user_id": 3083970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2507dcf05ac4ae18fd2ebdab994daa6?s=128&d=identicon&r=PG&f=1", "display_name": "user3083970", "link": "https://stackoverflow.com/users/3083970/user3083970"}, "edited": false, "score": 0, "creation_date": 1457711513, "post_id": 35944212, "comment_id": 59545458, "body": "That will only keep 1-9."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 3, "user_id": 3083970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2507dcf05ac4ae18fd2ebdab994daa6?s=128&d=identicon&r=PG&f=1", "display_name": "user3083970", "link": "https://stackoverflow.com/users/3083970/user3083970"}, "edited": false, "score": 0, "creation_date": 1457711615, "post_id": 35944212, "comment_id": 59545538, "body": "Hint: a digit is one of the strings &#39;0&#39;, &#39;1&#39;, ..., &#39;9&#39;"}, {"owner": {"reputation": 3, "user_id": 3083970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2507dcf05ac4ae18fd2ebdab994daa6?s=128&d=identicon&r=PG&f=1", "display_name": "user3083970", "link": "https://stackoverflow.com/users/3083970/user3083970"}, "edited": false, "score": 0, "creation_date": 1457712240, "post_id": 35944212, "comment_id": 59545984, "body": "I tried grep{$_ eq &#39;0&#39; || &#39;1&#39; || ... || &#39;9&#39;} but doesn&#39;t work... I&#39;m not sure how to do it."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 3, "user_id": 3083970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2507dcf05ac4ae18fd2ebdab994daa6?s=128&d=identicon&r=PG&f=1", "display_name": "user3083970", "link": "https://stackoverflow.com/users/3083970/user3083970"}, "edited": false, "score": 0, "creation_date": 1457713583, "post_id": 35944212, "comment_id": 59546908, "body": "You&#39;d need to do <code>$_ eq &#39;0&#39; || $_ eq &#39;1&#39; ...</code>.  That would work, but using ge and le would be easier."}, {"owner": {"reputation": 3, "user_id": 3083970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2507dcf05ac4ae18fd2ebdab994daa6?s=128&d=identicon&r=PG&f=1", "display_name": "user3083970", "link": "https://stackoverflow.com/users/3083970/user3083970"}, "edited": false, "score": 0, "creation_date": 1457713655, "post_id": 35944212, "comment_id": 59546959, "body": "How would you do it by using ge or le?"}, {"owner": {"reputation": 3, "user_id": 3083970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2507dcf05ac4ae18fd2ebdab994daa6?s=128&d=identicon&r=PG&f=1", "display_name": "user3083970", "link": "https://stackoverflow.com/users/3083970/user3083970"}, "edited": false, "score": 0, "creation_date": 1457723643, "post_id": 35944212, "comment_id": 59552785, "body": "I figured it out. I needed to ord($_) le 65. Thanks for your help"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 3, "user_id": 3083970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2507dcf05ac4ae18fd2ebdab994daa6?s=128&d=identicon&r=PG&f=1", "display_name": "user3083970", "link": "https://stackoverflow.com/users/3083970/user3083970"}, "edited": false, "score": 1, "creation_date": 1457724661, "post_id": 35944212, "comment_id": 59553281, "body": "<code>$_ ge &#39;0&#39; &amp;&amp; $_ le &#39;9&#39;</code>.   or you could do ord($_) &gt;= 48 &amp;&amp; ord($_) &lt;= 57.  using 65 will let through a bunch of non-digit, non-letters, and ord() and 65 are numbers so you would want a numeric <code>&lt;=</code>, not the string <code>le</code>"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1457710591, "creation_date": 1457710591, "answer_id": 35944212, "question_id": 35943796, "link": "https://stackoverflow.com/questions/35943796/extracting-numbers-from-string-in-perl/35944212#35944212", "title": "Extracting numbers from string in perl", "body": "<p>To split a string into a list of characters, use <code>split //</code>, not <code>split / /</code>.</p>\n\n<p>Then the code in the grep needs to test whether <code>$_</code> (which grep will alias to each character in turn) is a digit.  Normally you'd use a regex for that, but you could use be string comparison operators <code>ge</code> and <code>le</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 3083970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2507dcf05ac4ae18fd2ebdab994daa6?s=128&d=identicon&r=PG&f=1", "display_name": "user3083970", "link": "https://stackoverflow.com/users/3083970/user3083970"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1457761552, "creation_date": 1457709520, "last_edit_date": 1457761535, "question_id": 35943796, "link": "https://stackoverflow.com/questions/35943796/extracting-numbers-from-string-in-perl", "title": "Extracting numbers from string in perl", "body": "<p>I'm having a problem coming up with an expression that would print out only \"123\" from \"LOL123.\" I cannot use regex to solve this, so I must compare the string somehow. This is the code I have so far:</p>\n\n<pre><code>print join '', grep{$_ + 0} split //, \"LOL123\";\n</code></pre>\n\n<p>This works, but gives me a warning that L, O, L are nonnumeric. </p>\n\n<p>Is there any possible way to do this without getting an error?</p>\n"}, {"tags": ["javascript", "html", "perl"], "answers": [{"comments": [{"owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1457713136, "post_id": 35942921, "comment_id": 59546583, "body": "print &quot;$_&lt;br/&gt;\\n&quot; for @output2; Doesn&#39;t appear to work for me - it just prints &quot;for (then value of entire array&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1457713922, "post_id": 35942921, "comment_id": 59547168, "body": "@Jaron787: Then either your code is wrong or you have only one element in your array. What is the output of <code>use Data::Dumper; $Data::Dumper::Useqq = 1; $Data::Dumper::Terse = 1; print Dumper \\@output2;</code>?"}, {"owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1458551450, "post_id": 35942921, "comment_id": 59892897, "body": "@output2 = qw( Test1 Test2 Test3 Test3 );   $Data::Dumper::Useqq = 1; $Data::Dumper::Terse = 1; print Dumper \\@output2;  Dumper = [ &quot;Test1&quot;, &quot;Test2&quot;, &quot;Test3&quot;, &quot;Test3&quot; ]  Code:  print &quot;&lt;td&gt;\\n&quot;; print &quot;&lt;div id=\\&quot;1\\&quot; class=\\&quot;desc\\&quot;&gt;\\n&quot;; print &quot;$_ for @output2\\n&quot;; print &quot;&lt;/div&gt;\\n&quot;;  Output = &quot;for Test1 Test2 Test3 Test3 &quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1458551762, "post_id": 35942921, "comment_id": 59893065, "body": "@Jaron787: Your code is wrong: that isn&#39;t what I wrote. I have <code>print &quot;$_&lt;br&#47;&gt;\\n&quot; for @output</code>; you have <code>print &quot;$_ for @output2\\n&quot;</code>"}, {"owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1458552181, "post_id": 35942921, "comment_id": 59893327, "body": "print &quot;&lt;td&gt;\\n&quot;; print &quot;&lt;div id=\\&quot;1\\&quot; class=\\&quot;desc\\&quot;&gt;\\n&quot;; print &quot;\\&quot;$_&lt;br/&gt;\\n\\&quot; for @output2\\n&quot;; print &quot;&lt;/div&gt;\\n&quot;;  Now outputs:  &quot; &quot; for Test1 Test2 Test3 Test3"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1458552277, "post_id": 35942921, "comment_id": 59893384, "body": "@Jaron787: You&#39;re using anything but what I have written. Forget those escapes. You want <code>print &quot;$_&lt;br&#47;&gt;\\n&quot; for @output</code>"}, {"owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1458552566, "post_id": 35942921, "comment_id": 59893560, "body": "Ah I understand - Apologies @Borodin I was misreading. This works very well thanks! I will now go ahead and start using HTML::Tiny to clean up the style."}, {"owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1461056955, "post_id": 35942921, "comment_id": 61013504, "body": "I have now added a submit button inside one of the divs which reloads the page, is there away to keep the current div displayed onclick of this button &lt;input type=&quot;submit&quot; value=&quot;Refresh Data&quot; name=&quot;submitButton&quot;&gt;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1461058132, "post_id": 35942921, "comment_id": 61014308, "body": "@Jaron787:  Please formulate a new question"}, {"owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1461059635, "post_id": 35942921, "comment_id": 61015381, "body": "Please see - &quot;Perl Javascipt keep selected div displayed on page refresh button click&quot;"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1457707063, "creation_date": 1457707063, "answer_id": 35942921, "question_id": 35941733, "link": "https://stackoverflow.com/questions/35941733/print-array-to-divs-with-show-hide-radio-buttons/35942921#35942921", "title": "Print array to Divs with show/hide radio buttons", "body": "<p>It is probably simplest to split your output into parts, like this</p>\n\n<pre><code>print qq{&lt;td&gt;\\n};\n\nprint qq{&lt;div id=\"1\" class=\"desc\"&gt;\\n};\nprint \"$_&lt;br/&gt;\\n\" for @output;\nprint qq{&lt;/div&gt;\\n};\n\nprint qq{&lt;div id=\"10\" class=\"desc\"&gt;\\n};\nprint \"$_&lt;br/&gt;\\n\" for @output2;\nprint qq{&lt;/div&gt;\\n};\n\nprint qq{&lt;/td&gt;\\n};\n</code></pre>\n\n<p>But I recommend that you use <a href=\"http://metacpan.org/module/HTML::Tiny\" rel=\"nofollow\"><code>HTML::Tiny</code></a> instead of building your HTML with literal text. At the least you should use Perl syntax like here documents and different string delimiters to avoid all those escapes. Here's a rewrite of the initial part of your code that does the same thing but in a clearer style</p>\n\n<pre><code>my @output  = split /\\n/, $TESTFILE;\nmy @output2 = split /\\n/, $TESTFILE2;\n\nprint &lt;&lt;'END_TEXT';\n$(document).ready(function() {\n    $(\"div.desc\").hide();\n    $(\"input[name$='visibility']\").click(function() {\n        var test = $(this).val();\n        $(\"div.desc\").hide();\n        $(\"#\" + test).show();\n    });\n});\nEND_TEXT\n\nprint qq{&lt;td align=\"left\"&gt;Test 1&lt;/td&gt;&lt;td&gt;&lt;input type=\"radio\" name=\"visibility\" value=\"1\"&gt;&lt;/td&gt;\\n};\n\nprint qq{&lt;td align=\"left\"&gt;Test 2&lt;/td&gt;&lt;td&gt;&lt;input type=\"radio\" name=\"visibility\" value=\"2\"&gt;&lt;/td&gt;\\n};\n</code></pre>\n"}], "owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 35942921, "answer_count": 1, "score": 0, "last_activity_date": 1457707063, "creation_date": 1457703551, "last_edit_date": 1457705273, "question_id": 35941733, "link": "https://stackoverflow.com/questions/35941733/print-array-to-divs-with-show-hide-radio-buttons", "title": "Print array to Divs with show/hide radio buttons", "body": "<p>In a perl script I am writing HTML to the screen. \nI have some radio buttons which are showing and hiding divs based on which radio button is clicked. Currently @output is outputting the array all on one line in the div.</p>\n\n<p>How do I output each element in the array on a new line to the div below. </p>\n\n<pre><code>@output = split (/\\n/, $TESTFILE);\n@output2 = split (/\\n/, $TESTFILE2);\n\nprint \"\\$(document).ready(function() {\\n\";\nprint \"    \\$(\\\"div.desc\\\").hide();\\n\";\nprint \"    \\$(\\\"input[name\\$='visibility']\\\").click(function() {\\n\";\nprint \"        var test = \\$(this).val();\\n\";\nprint \"        \\$(\\\"div.desc\\\").hide();\\n\";\nprint \"        \\$(\\\"#\\\" + test).show();\\n\";\nprint \"    });\\n\";\nprint \"});\\n\";\n\nprint \"&lt;td align=\\\"left\\\"&gt;Test 1&lt;/td&gt;&lt;td&gt;&lt;input type=\\\"radio\\\" name=\\\"visibility\\\" value=\\\"1\\\"&gt;&lt;/td&gt;\\n\";\nprint \"&lt;td align=\\\"left\\\"&gt;Test 2&lt;/td&gt;&lt;td&gt;&lt;input type=\\\"radio\\\" name=\\\"visibility\\\" value=\\\"2\\\"&gt;&lt;/td&gt;\\n\";\n\n\nprint \"&lt;td&gt;&lt;div id=\\\"1\\\" class=\\\"desc\\\"&gt; @output &lt;/div&gt;\\n\";\nprint \"&lt;div id=\\\"10\\\" class=\\\"desc\\\"&gt; @output2 &lt;/div&gt;&lt;/td&gt;\\n\";\n</code></pre>\n"}, {"tags": ["perl", "templates", "hash", "error-handling", "template-engine"], "comments": [{"owner": {"reputation": 1437, "user_id": 1573649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ea06fa08aecf23b29c5edb7ec3102b?s=128&d=identicon&r=PG&f=1", "display_name": "pmakholm", "link": "https://stackoverflow.com/users/1573649/pmakholm"}, "edited": false, "score": 0, "creation_date": 1457704783, "post_id": 35941040, "comment_id": 59540392, "body": "Not sure whether you real question is about good practises for Error handling or about templates. My answer assumes that you are really asking about error handling."}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1460133415, "post_id": 35941906, "comment_id": 60616685, "body": "How could I make this work if the <code>$values</code> are actual parameters that the values aren&#39;t known? (they are known at runtime)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1460202560, "post_id": 35941906, "comment_id": 60638202, "body": "@PaulRussell: Those values are already assigned at run time. You should have no problem using the code directly"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1467889759, "last_edit_date": 1495540354, "creation_date": 1457704049, "answer_id": 35941906, "question_id": 35941040, "link": "https://stackoverflow.com/questions/35941040/i-am-trying-to-create-a-template-for-placeholders-for-error-messages-in-perl-an/35941906#35941906", "title": "I am trying to create a template for placeholders for Error messages in perl. Any suggestions?", "body": "<p>I can't immediately see what this approach buys you that isn't provided by the <code>printf</code> format I <a href=\"https://stackoverflow.com/a/35918907/622310\">explained before</a>, but \nI suggest you use the <a href=\"http://metacpan.org/module/Text::Template\" rel=\"nofollow noreferrer\"><code>Text::Template</code></a> module to do it this way. It is less extensive than <a href=\"http://metacpan.org/module/Template::Toolkit\" rel=\"nofollow noreferrer\"><code>Template::Toolkit</code></a> but perfectly adequate for your purposes</p>\n\n<p>Here's what a program using <code>Text::Template</code> would look like. I hope it helps you</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Text::Template qw/ fill_in_string /;\n\nuse constant {\n    ERROR_SW =&gt; {\n        errorCode =&gt; 727,\n        message   =&gt; 'Not able to ping switch {$switch_ip} in {$timeout} seconds',\n        fatal    =&gt; 1,\n        web_page =&gt; 'http://www.errorsolution.com/727',\n    }\n};\n\nmy $values = {\n    switch_ip =&gt; '192.168.0.1',\n    timeout   =&gt; 60,\n};\n\nsub error_post {\n    my ($error) = @_;\n    print( fill_in_string($error-&gt;{message}, hash =&gt; $values) );\n}\n\nerror_post(ERROR_SW);\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Not able to ping switch 192.168.0.1 in 60 seconds\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457705332, "post_id": 35942116, "comment_id": 59540770, "body": "The biggest problem with anything based on <code>Moose</code> is that, together with its dependencies, it is a <i>huge</i> bundle of code and can take many minutes to install"}], "tags": [], "owner": {"reputation": 1437, "user_id": 1573649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ea06fa08aecf23b29c5edb7ec3102b?s=128&d=identicon&r=PG&f=1", "display_name": "pmakholm", "link": "https://stackoverflow.com/users/1573649/pmakholm"}, "is_accepted": false, "score": 0, "last_activity_date": 1457705494, "last_edit_date": 1457705494, "creation_date": 1457704653, "answer_id": 35942116, "question_id": 35941040, "link": "https://stackoverflow.com/questions/35941040/i-am-trying-to-create-a-template-for-placeholders-for-error-messages-in-perl-an/35942116#35942116", "title": "I am trying to create a template for placeholders for Error messages in perl. Any suggestions?", "body": "<p>I would create a package for each error type in you project. Each error object should have the necessary attributes to describe the error and a as_string() method giving a human readable message.</p>\n\n<p>These packages can be written using you normal Object oriented framework (e.g. Moose). With good old perl objects it could look like this:</p>\n\n<pre><code>package My::Error;\n\nsub new {\n    my ($class, %self) = @_;\n    bless \\%self, $class;\n}\n\npackage My::Error::SW;\nuse parent 'My::Error';\n\nsub as_string {\n    my $self = shift;\n\n    return sprintf \"Not able to ping switch %s in %s seconds\", $self-&gt;{switch_ip}, $self-&gt;{timeout};\n}\n</code></pre>\n\n<p>There exists multiple frameworks for this on CPAN. One example is the Throwable modules which uses Moose.</p>\n"}], "owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 35941906, "answer_count": 2, "score": -1, "last_activity_date": 1467889759, "creation_date": 1457701576, "question_id": 35941040, "link": "https://stackoverflow.com/questions/35941040/i-am-trying-to-create-a-template-for-placeholders-for-error-messages-in-perl-an", "title": "I am trying to create a template for placeholders for Error messages in perl. Any suggestions?", "body": "<p>I have a solution for this currently but it may not be the most versatile code. I know there is a way to use templates with placeholders for variables instead of putting the actual runtime parameters into the error message. Apologies if what I'm asking is unclear. I don't have a whole lot of knowledge on how to use templates.</p>\n\n<pre><code> use constant {\n    #list will contain more errors\n\n    ERROR_SW =&gt; {\n    errorCode =&gt; 727,\n    message =&gt; sub{\"Not able to ping switch $switch_ip in $timeout seconds\"},\n    fatal =&gt; 1,\n    web_page =&gt; 'http://www.errorsolution.com/727',\n    }\n};\n\nsub error_post {\n    my ($error) = @_;\n    print($error-&gt;{message}());   \n}\n    error_post(ERROR_SW);\n</code></pre>\n\n<p>I am trying to design it so that I can use placeholders for $switch_ip and $timeout instead of having to declare the message as a subroutine reference.\nLike below</p>\n\n<pre><code> use constant {\n    #list will contain more errors\n\n    ERROR_SW =&gt; {\n    errorCode =&gt; 727,\n    message =&gt; \"Not able to ping switch **{{switch_ip}}** in **{{timeout}}** seconds\",\n    fatal =&gt; 1,\n    web_page =&gt; 'http://www.errorsolution.com/727',\n    }\n};\n\nsub error_post {\n    my ($error) = @_;\n    print($error-&gt;{message});   \n}\n    error_post(ERROR_SW);\n</code></pre>\n\n<p>They also appear in code like so:</p>\n\n<pre><code>%%error%%\n</code></pre>\n\n<p>I'm not sure how to create the template which will handle the parameters.\nAgain Apologies for being vague or not explaining this well.</p>\n"}, {"tags": ["arrays", "perl"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1457701693, "last_edit_date": 1457701693, "creation_date": 1457701261, "answer_id": 35940931, "question_id": 35940583, "link": "https://stackoverflow.com/questions/35940583/remove-new-line-from-array-in-perl/35940931#35940931", "title": "remove new line from array in perl", "body": "<p>It looks like you are using Linux to process a file originating from Windows, which puts CR LF at the end of each line. Your <code>chomp</code> removes the LF, leaving CR. You can fix that by changing your code like so</p>\n\n<pre><code>my $fname = 'filenames.txt';\nopen my $fptr, '&lt;:crlf', $fname or die qq{Can't open file \"$fname\" for input: $!};\nchomp(my @filenames = &lt;$fptr&gt;);\n</code></pre>\n\n<p>An alternative way would be to replace <code>chomp</code> with</p>\n\n<pre><code>s/\\R\\z// for @filenames;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>s/\\s+\\z// for @filenames;\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 2686137, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8280c9fccb420337a941cfcbc9b6ada9?s=128&d=identicon&r=PG", "display_name": "Balaji Karthick", "link": "https://stackoverflow.com/users/2686137/balaji-karthick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2639, "favorite_count": 1, "accepted_answer_id": 35940931, "answer_count": 1, "score": 1, "last_activity_date": 1457701693, "creation_date": 1457700159, "question_id": 35940583, "link": "https://stackoverflow.com/questions/35940583/remove-new-line-from-array-in-perl", "title": "remove new line from array in perl", "body": "<p>I m trying to filtering the filenames from a text file</p>\n\n<pre><code>my $fname= \"filenames.txt\";\nopen (FPTR,$fname) || die \"Can't Open File: $fname\\n\";\nchomp(my @filenames = &lt;FPTR&gt;);\n</code></pre>\n\n<p>The context of the file is like below</p>\n\n<pre><code>file1.pl\nfile2.pl\nfile3.pl\n.\n.\n.\nfile100.pl\n</code></pre>\n\n<p>But when i print the @filenames array its like</p>\n\n<pre><code>';AR1 = 'file1.pl\n';AR2 = 'file2.pl\n';AR3 = 'file3.pl\n';AR4 = 'file4.pl\n.\n.\n.\n.\n$VAR100 = 'file100.pl';\n</code></pre>\n\n<p>Even though i add the chomp the new line was not removed from array elements.</p>\n"}, {"tags": ["perl", "passwords", "backup", "cpanel"], "comments": [{"owner": {"reputation": 6353, "user_id": 1486562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01e47645a7afc7e351b193d12de90a43?s=128&d=identicon&r=PG", "display_name": "flaviodesousa", "link": "https://stackoverflow.com/users/1486562/flaviodesousa"}, "edited": false, "score": 0, "creation_date": 1457694758, "post_id": 35937049, "comment_id": 59533671, "body": "You could add your own wrapper around this gzip-wrapper that gpg the resulting .tar.gz into a .tar.gz.encrypted, wiping/erasing the .tar.gz afterwards"}, {"owner": {"reputation": 6514, "user_id": 1407491, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/66e9ed83df73071f4d203cfd0e2f037d?s=128&d=identicon&r=PG", "display_name": "Nabi K.A.Z.", "link": "https://stackoverflow.com/users/1407491/nabi-k-a-z"}, "reply_to_user": {"reputation": 6353, "user_id": 1486562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01e47645a7afc7e351b193d12de90a43?s=128&d=identicon&r=PG", "display_name": "flaviodesousa", "link": "https://stackoverflow.com/users/1486562/flaviodesousa"}, "edited": false, "score": 0, "creation_date": 1457700596, "post_id": 35937049, "comment_id": 59537325, "body": "@flaviodesousa Do you can provide a code with edit above code?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1457781522, "creation_date": 1457781522, "answer_id": 35956965, "question_id": 35937049, "link": "https://stackoverflow.com/questions/35937049/set-password-on-backup-files-of-cpanel/35956965#35956965", "title": "Set password on backup files of cpanel", "body": "<blockquote>\n  <p>I know about how using zip, gpg, crypt,... But I don't know that how can I use it in this function and append that.</p>\n</blockquote>\n\n<p>I don't think you should modify the Cpanel software, and tar has no password support. So you should use either <code>gpg</code> or <code>crypt</code> to encrypt the .tar.gz after it has been created, deleting the original file in the process</p>\n"}], "owner": {"reputation": 6514, "user_id": 1407491, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/66e9ed83df73071f4d203cfd0e2f037d?s=128&d=identicon&r=PG", "display_name": "Nabi K.A.Z.", "link": "https://stackoverflow.com/users/1407491/nabi-k-a-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 349, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1457802259, "creation_date": 1457690216, "last_edit_date": 1457802259, "question_id": 35937049, "link": "https://stackoverflow.com/questions/35937049/set-password-on-backup-files-of-cpanel", "title": "Set password on backup files of cpanel", "body": "<p>I want to set password on <code>.tar.gz</code> file backups of <a href=\"http://cpanel.com/\" rel=\"nofollow\"><code>Cpanel</code></a> backup system.<br>\nThe cpanel use a <code>perl</code> script for doing backup in <code>/scripts/cpbackup</code> file path.<br>\nSo, I edit this file and find this function in here:</p>\n\n<pre><code>sub backupaccts {\n    my $target      = shift;\n    my $all_targets = shift;\n\n    Cpanel::FileUtils::TouchFile::touchfile($target);\n\n    #if another cpbackup starts just go bye bye\n\n    if ( !( $CONF{'BACKUPFILES'} eq \"no\" ) ) {\n        print \"[cpbackup] Running dir &amp; file backup with target : $target\\n\";\n        if ( !-e \"$target/files\" ) {\n            mkdir( \"$target/files\", 0700 );\n        }\n        if ( !-e \"$target/dirs\" ) {\n            mkdir( \"$target/dirs\", 0700 );\n        }\n        chmod( 0700, \"$target/files\", \"$target/dirs\" );\n        my ( $syncstatus, $syncmessage );\n        foreach my $file (@FILES) {\n            next if ( !-e $file );\n            my $rawfile = $file;\n            $rawfile =~ s/\\//_/g;\n            if ( $CONF{'BACKUPINC'} eq \"yes\" ) {\n                ( $syncstatus, $syncmessage ) = Cpanel::SimpleSync::syncfile( $file, \"$target/files/$rawfile\", 0, 1 );\n            }\n            else {\n                ( $syncstatus, $syncmessage ) = Cpanel::SimpleSync::syncfile( $file, \"$target/files/$rawfile\", 0, 1 );\n\n                if ( $syncstatus != 0 ) {\n                    if ( cpusystem( $gzip_bin, \"-f\", \"$target/files/$rawfile\" ) != 0 ) {\n                        print STDERR \"[cpbackup] Failed to compress file $target/files/$rawfile\\n\";\n                    }\n                }\n            }\n            if ( $syncstatus == 0 ) { print STDERR \"[cpbackup] Failed to backup $file ($syncmessage)\\n\"; }\n        }\n\n        foreach my $dir (@DIRS) {\n            next if ( !-e $dir );\n            my $rawdir = $dir;\n            $rawdir =~ s/\\//_/g;\n\n            my @EXCLUDES = (\n                $dir eq '/var/cpanel'\n                ? ( \"--exclude=lastrun/*\", \"--exclude=bwusagecache/*\", \"--exclude=serviceauth/*\", \"--exclude=dnsrequests_db/*\", \"--exclude=configs.cache/*\" )\n                : (\"--exclude=*/proc/*\")\n            );\n\n            # Added exclude for /proc for chroot bind setups to prevent error messages\n            if ( $CONF{'BACKUPINC'} eq \"yes\" ) {\n                if ( cpusystem( $rsync_bin, $rsyncopts, @EXCLUDES, '--delete', \"$dir/\", \"$target/dirs/$rawdir\" ) != 0 ) {\n                    print STDERR \"[cpbackup] Failed to perform incremental backup of $dir/ to $target/dirs/$rawdir\\n\";\n                }\n            }\n            else {\n                if ( cpusystem( $tar_bin, '--use-compress-program=/usr/local/cpanel/bin/gzip-wrapper', '--create', '--preserve-permissions', '--file', \"$target/dirs/$rawdir.tar.gz\", @EXCLUDES, $dir ) == 0 ) {\n                    chmod( 0600, \"$target/dirs/$rawdir.tar.gz\" );\n                }\n                else {\n                    print STDERR \"[cpbackup] Failed to perform full backup of $dir/ to $target/dirs/$rawdir.tar.gz\\n\";\n                }\n            }\n        }\n    }\n\n    print \"[cpbackup] Running account backup with target : $target\\n\";\n\n    #BACKUPLOGS no\n    #MYSQLBACKUP accounts\n    #BACKUPBWDATA yes\n    $ENV{'pkgacct-logs'} = ( $CONF{'BACKUPLOGS'} eq \"yes\" ? 'yes' : 'no' );\n    $ENV{'pkgacct-mysql'}  = ( ( $CONF{'MYSQLBACKUP'} eq \"dir\" || $CONF{'MYSQLBACKUP'} eq \"no\" ) ? 'no' : 'yes' );\n    $ENV{'pkgacct-psql'}   = ( $CONF{'PSQLBACKUP'} eq \"no\"                                       ? 'no' : 'yes' );\n    $ENV{'pkgacct-bwdata'} = ( $CONF{'BACKUPBWDATA'} eq \"no\"                                     ? 'no' : 'yes' );\n\n    my %user_error_map = ();\n    if ( $CONF{'BACKUPACCTS'} ne 'no' ) {\n\n        # we need to be sure that all accounts are converted to the new backup system\n        #     user config need to have the LEGACY_BACKUP entry\n        #    this can be missing when importing an account prior 11.36\n        #    or if an error happen during the upgrade process\n        Install::LegacyBackups-&gt;new()-&gt;perform();\n\n        Cpanel::PwCache::init_passwdless_pwcache();\n\n        my @cpusers = Cpanel::Config::Users::getcpusers();\n        foreach my $user ( sort @cpusers ) {\n            my $user_conf = Cpanel::Config::LoadCpUserFile::load($user);\n            $user_conf-&gt;{'LEGACY_BACKUP'} = 0 if !exists $user_conf-&gt;{'LEGACY_BACKUP'};\n            next if !$user_conf-&gt;{'LEGACY_BACKUP'};\n\n            if ( $CONF{'BACKUPINC'} eq 'yes' ) {\n                my $last_update_time = time();\n                utime( $last_update_time, $last_update_time, \"$target/$user\" );\n            }\n            if ( cpusystem( $pkgacct, ( $CONF{'COMPRESSACCTS'} eq 'no' ? '--nocompress' : () ), ( $CONF{'BACKUPINC'} eq \"yes\" ? '--incremental' : () ), $user, $target, 'backup' ) != 0 ) {\n                print STDERR \"[cpbackup] Failed to back up account $user\\n\";\n                $user_error_map{$user}{'account'} = {\n                    'error_message' =&gt; ( $LAST_CPUSYSTEM_ERROR || 'Failed to backup account' )    # FIXME: This is a hack to avoid refactoring cpusystem\n                };\n            }\n            else {\n                if ( $CONF{'BACKUPTYPE'} eq 'ftp' ) {\n                    my $target_file = ( $CONF{'COMPRESSACCTS'} eq 'no' ? \"$user.tar\" : \"$user.tar.gz\" );\n                    foreach my $remote_target (@$all_targets) {                                   # If we are going to update multiple targets we send the file multiple times\n                                                                                                  # previously we would build the backup once for every target.  Now we just upload it once\n                                                                                                  # instead as we know all the targets before we get here now\n                        my %ftp_error_info = ftpsend( $remote_target, $target . '/' . $target_file, $target_file );\n                        $user_error_map{$user}{'transport'}{$remote_target} = \\%ftp_error_info if keys %ftp_error_info;\n                    }\n                    unlink( $target . '/' . $target_file );\n                }\n            }\n\n        }\n    }\n\n    return \\%user_error_map;\n}\n</code></pre>\n\n<p>As you can see, this line doing create <code>.tar.gz</code> file for archived backup:</p>\n\n<pre><code>cpusystem( $tar_bin, '--use-compress-program=/usr/local/cpanel/bin/gzip-wrapper', '--create', '--preserve-permissions', '--file', \"$target/dirs/$rawdir.tar.gz\", @EXCLUDES, $dir )\n</code></pre>\n\n<p>I know about how using <code>zip</code>, <code>gpg</code>, <code>crypt</code>,... But I don't know that how can I use it in this function and append that.</p>\n\n<p>What's your idea for doing this work? and I don't know perl programming so please provide a sample code for me if you can.</p>\n"}, {"tags": ["regex", "linux", "perl"], "comments": [{"owner": {"reputation": 2196, "user_id": 1859022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/186abed63b4234083bbdaf523b8ac567?s=128&d=identicon&r=PG&f=1", "display_name": "user1859022", "link": "https://stackoverflow.com/users/1859022/user1859022"}, "edited": false, "score": 0, "creation_date": 1457690044, "post_id": 35936676, "comment_id": 59530517, "body": "<b>\\w</b> only matches  a &quot;word&quot; character (alphanumeric plus &quot;_&quot;, plus other connector punctuation chars plus Unicode marks) see: <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1457692879, "post_id": 35937858, "comment_id": 59532427, "body": "Whats \\p do ? And why is alpha in curly braces ? Nevermind, for anyone else who cares it is for unicode property."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 1, "creation_date": 1457692985, "post_id": 35937858, "comment_id": 59532496, "body": "<code>\\p</code> is a unicode property. There&#39;s a load of them, and it&#39;s listed in: <a href=\"http://perldoc.perl.org/perluniprops.html#Properties-accessible-through-%5cp%7b%7d-and-%5cP%7b%7d\" rel=\"nofollow noreferrer\">perldoc.perl.org/&hellip;</a>"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1457693058, "post_id": 35937858, "comment_id": 59532557, "body": "Yeah , found it right after asking, cheers for the reply though."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1457693109, "last_edit_date": 1457693109, "creation_date": 1457692379, "answer_id": 35937858, "question_id": 35936676, "link": "https://stackoverflow.com/questions/35936676/how-to-replace-special-characters-to-underscore-perl/35937858#35937858", "title": "How to replace special characters to underscore(_) perl", "body": "<p>You can use <code>\\W</code> to negate the <code>\\w</code> character class, but the problem you've got is that <code>\\w</code> doesn't match your non-ascii letters. </p>\n\n<p>So you need to do something like this instead:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @folder = ('s,c%','c__pp_p','Monday_\u00f8\u00e5_Tuesday,  Wednesday','Monday &amp;       Tuesday','Monday_Tuesday___Wednesday');\n\ns/[^\\p{Alpha}]+/_/g for @folder;\nprint Dumper \\@folder;\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>$VAR1 = [\n          's_c_',\n          'c_pp_p',\n          'Monday_\u00f8\u00e5_Tuesday_Wednesday',\n          'Monday_Tuesday',\n          'Monday_Tuesday_Wednesday'\n        ];\n</code></pre>\n\n<p>This uses a unicode property - these are documented in <a href=\"http://perldoc.perl.org/perluniprops.html#Properties-accessible-through-%5Cp%7B%7D-and-%5CP%7B%7D\" rel=\"nofollow\"><code>perldoc perluniprop</code></a> - but the long and short of it is, <code>\\p{Alpha}</code> is the <em>unicode</em> alphanumeric set, so much like <code>\\w</code> but internationalised. </p>\n\n<p>Although, it does have a trailing <code>_</code> on the first line. From your description, that seems to be what you wanted. If not, then... it's probably easier to:</p>\n\n<pre><code>s/_$// for @folder;\n</code></pre>\n\n<p>than make a more complicated pattern. </p>\n"}], "owner": {"reputation": 25, "user_id": 3101852, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/00154fc9bc7b5b8d3d1259947aec0947?s=128&d=identicon&r=PG&f=1", "display_name": "user3101852", "link": "https://stackoverflow.com/users/3101852/user3101852"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "accepted_answer_id": 35937858, "answer_count": 1, "score": 1, "last_activity_date": 1457693109, "creation_date": 1457689163, "last_edit_date": 1457691987, "question_id": 35936676, "link": "https://stackoverflow.com/questions/35936676/how-to-replace-special-characters-to-underscore-perl", "title": "How to replace special characters to underscore(_) perl", "body": "<pre><code>my @folder = ('s,c%','c__pp_p','Monday_\u00f8\u00e5_Tuesday,  Wednesday','Monday &amp;       Tuesday','Monday_Tuesday___Wednesday');\n\nif ($folder =~ s/[^\\w_*\\-]/_/g ) {\n  $folder =~ s/_+/_/g;\n  print \"$folder : Got %\\n\" ; \n}\n</code></pre>\n\n<p>Using above code i am not able to handle this \"Monday_\u00f8\u00e5_Tuesday_Wednesday\"</p>\n\n<p>The output should be :</p>\n\n<pre><code>s_c\nc_pp_p\nMonday_\u00f8\u00e5_Tuesday_Wednesday\nMonday_Tuesday\nMonday_Tuesday_Wednesday\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "edited": false, "score": 0, "creation_date": 1457693316, "post_id": 35936561, "comment_id": 59532742, "body": "One word to the &quot;quick-downvoters&quot;: Short and on the first sight simple questions can get interesting if you take the time to really understand all the background. See my comment to the accepted answer below."}], "answers": [{"comments": [{"owner": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "edited": false, "score": 0, "creation_date": 1457693056, "post_id": 35936882, "comment_id": 59532555, "body": "Thanks @pmakholm for sharing your point of view and the examples. Finally I found the reason for having seen both variants when I run <code>$ perlcritic -1 script.pl</code>. Using the <b>braced variant</b> is considered a best-practice but only because it visually distinguishes the file-handle from the other arguments. This PBP is defined <a href=\"http://search.cpan.org/dist/Perl-Critic-1.116/lib/Perl/Critic/Policy/InputOutput/RequireBracedFileHandleWithPrint.pm\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 1437, "user_id": 1573649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ea06fa08aecf23b29c5edb7ec3102b?s=128&d=identicon&r=PG&f=1", "display_name": "pmakholm", "link": "https://stackoverflow.com/users/1573649/pmakholm"}, "reply_to_user": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "edited": false, "score": 0, "creation_date": 1457694246, "post_id": 35936882, "comment_id": 59533353, "body": "Now you mentions it I recognise it as something PBP would recommend \u2013 Not that I agree and Perl::Critic seems to have it at the lowest severity."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1457707289, "post_id": 35936882, "comment_id": 59542253, "body": "The reason it&#39;s recommended is for lexical filehandles: <code>print {$output}, &quot;some text&quot;;</code> is a syntax error, where <code>print $output, &quot;some text&quot;;</code> isn&#39;t, but doesn&#39;t do what you wanted. (In addition to the clarity point). Neither of which IMO really apply to <code>STDOUT</code>/<code>STDERR</code>."}], "tags": [], "owner": {"reputation": 1437, "user_id": 1573649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ea06fa08aecf23b29c5edb7ec3102b?s=128&d=identicon&r=PG&f=1", "display_name": "pmakholm", "link": "https://stackoverflow.com/users/1573649/pmakholm"}, "is_accepted": true, "score": 2, "last_activity_date": 1457689832, "creation_date": 1457689832, "answer_id": 35936882, "question_id": 35936561, "link": "https://stackoverflow.com/questions/35936561/printing-to-either-stderr-or-stderr/35936882#35936882", "title": "Printing to either STDERR or {*STDERR}?", "body": "<p>I would say that the first variant is the idiomatic way to express it and I don't think I have ever seen the second variant for simple file handles.</p>\n\n<p>The second variant is a simple example of a more general construct where you can decide the filehandle dynamically. For example it could be useful to write code something like:</p>\n\n<pre><code>say { $errors_on_stderr ? *STDERR : *STDOUT } \"hello world\";\n</code></pre>\n\n<p>Where the variable is used to decide which file handle should be used. You can use any perl expression inside the curly brackets. Another example would be if you have the filehandle stored in a hash. Then it can be necessary to write</p>\n\n<pre><code>my $data = { fh =&gt; *STDOUT };\nsay { $data-&gt;{fh} } \"Hello world\";\n</code></pre>\n\n<p>But in your simple case I would for the first variant.</p>\n"}], "owner": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 35936882, "answer_count": 1, "score": 0, "last_activity_date": 1457689832, "creation_date": 1457688861, "question_id": 35936561, "link": "https://stackoverflow.com/questions/35936561/printing-to-either-stderr-or-stderr", "title": "Printing to either STDERR or {*STDERR}?", "body": "<p>I have seen both variants:</p>\n\n<pre><code>say STDERR    'hello world';\n\nsay {*STDERR} 'hello world';\n</code></pre>\n\n<p>Any difference? Security considerations, best-practice, ...?</p>\n"}, {"tags": ["html", "perl", "cookies", "mechanize"], "answers": [{"tags": [], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "is_accepted": false, "score": -1, "last_activity_date": 1457715997, "creation_date": 1457715997, "answer_id": 35945983, "question_id": 35935911, "link": "https://stackoverflow.com/questions/35935911/mechanize-not-dealing-with-cookies-like-a-browser-does/35945983#35945983", "title": "Mechanize not dealing with cookies like a browser does", "body": "<p>You could try adding a cookie jar to the constructor, something along these lines</p>\n\n<pre><code>use HTTP::Cookies;\n\nmy $cookie_jar = HTTP::Cookies-&gt;new(file =&gt; $cookie_file, autosave =&gt; 1, ignore_discard =&gt; 1);\nmy $mech = WWW::Mechanize-&gt;new('ssl_opts'=&gt; {'SSL_verify_mode'=&gt;'SSL_VERIFY_NONE'}, cookie_jar =&gt; $cookie_jar, autocheck =&gt; 0);\n</code></pre>\n\n<p>If you want to save the cookie and then load it later to retain your sessions do something like this:</p>\n\n<pre><code>$cookie_jar-&gt;save; \n#after the content call\n</code></pre>\n\n<p>To load the cookie:</p>\n\n<pre><code>$mech-&gt;cookie_jar-&gt;load($cookie_file);\n#before the get function (but you may want a conditional statement to check if the cookie even exists\n</code></pre>\n\n<p>Hope this helps</p>\n"}, {"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1457757240, "post_id": 35953763, "comment_id": 59563669, "body": "Sorry that&#39;s a typo. I&#39;ve edited the question to correct the URL."}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1457848786, "post_id": 35953763, "comment_id": 59588755, "body": "Did you try the script I posted?"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1457849459, "post_id": 35953763, "comment_id": 59588874, "body": "Because I am not at work I tried running your code at home on a Windows machine and <code>LWP::ConsoleLogger::Easy</code> doesn&#39;t appear to be available.  Did you try the corrected URL?"}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1457881003, "post_id": 35953763, "comment_id": 59597588, "body": "You&#39;d just need to install that module. I tried with your updated URL.  Not sure what&#39;s going on.  It&#39;s not the cookies, since WWW::Mechanize creates a cookie jar by default.  I tried adding a different UserAgent string, but that doesn&#39;t fix it either.  If you try my suggestion, you&#39;ll at least see more debugging info which may help you a bit."}], "tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": false, "score": 1, "last_activity_date": 1457756918, "creation_date": 1457756918, "answer_id": 35953763, "question_id": 35935911, "link": "https://stackoverflow.com/questions/35935911/mechanize-not-dealing-with-cookies-like-a-browser-does/35953763#35953763", "title": "Mechanize not dealing with cookies like a browser does", "body": "<p>I get a 404 when I enter that URL in a browser, but try this code to get more detailed debugging output.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse LWP::ConsoleLogger::Easy qw( debug_ua );\nuse WWW::Mechanize;\nmy $url\n    = \"http://daccess-ods.un.org/access.nsf/GetOpen&amp;DS=A/HRC/WGAD/2015/28&amp;Lang=E\";\nmy $mech = WWW::Mechanize-&gt;new();\ndebug_ua( $mech );\n\n$mech-&gt;get( $url );\nmy $content = $mech-&gt;content();\nwhile (\n    $content =~ m/&lt;META HTTP-EQUIV=\"refresh\" CONTENT=\"(\\d+); URL=(.+?)\"&gt;/ )\n{\n    my $refresh = $1;\n    my $link    = $2;\n    sleep $refresh;\n    $mech-&gt;get( $link );\n    $content = $mech-&gt;content();\n}\n$mech-&gt;save_content( \"output.txt\" );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "is_accepted": false, "score": -1, "last_activity_date": 1457850407, "last_edit_date": 1457850407, "creation_date": 1457781471, "answer_id": 35956955, "question_id": 35935911, "link": "https://stackoverflow.com/questions/35935911/mechanize-not-dealing-with-cookies-like-a-browser-does/35956955#35956955", "title": "Mechanize not dealing with cookies like a browser does", "body": "<p>This is how I automated this in <code>VBA</code>:</p>\n\n<pre><code>Private Declare Function FindWindow Lib \"user32\" Alias \"FindWindowA\" _\n(ByVal lpClassName As String, ByVal lpWindowName As String) As Long\n\nPrivate Declare Function FindWindowEx Lib \"user32\" Alias \"FindWindowExA\" _\n(ByVal hWnd1 As Long, ByVal hWnd2 As Long, ByVal lpsz1 As String, _\nByVal lpsz2 As String) As Long\n\nPrivate Declare Function SetCursorPos Lib \"user32\" _\n(ByVal X As Integer, ByVal Y As Integer) As Long\n\nPrivate Declare Function GetWindowRect Lib \"user32\" _\n(ByVal hwnd As Long, lpRect As RECT) As Long\n\nPrivate Declare Sub Sleep Lib \"kernel32\" (ByVal dwMilliseconds As Long)\n\nPrivate Declare Sub mouse_event Lib \"user32.dll\" (ByVal dwFlags As Long, _\nByVal dx As Long, ByVal dy As Long, ByVal cButtons As Long, ByVal dwExtraInfo As Long)\n\nPrivate Declare Sub SetWindowPos Lib \"user32\" (ByVal hwnd As Integer, ByVal _\n    hWndInsertAfter As Integer, ByVal X As Integer, ByVal Y As Integer, ByVal cx As _\n    Integer, ByVal cy As Integer, ByVal wFlags As Integer)\n\n\n'~~&gt; Constants for pressing left button of the mouse\nPrivate Const MOUSEEVENTF_LEFTDOWN As Long = &amp;H2\n'~~&gt; Constants for Releasing left button of the mouse\nPrivate Const MOUSEEVENTF_LEFTUP As Long = &amp;H4\n\nPrivate Type RECT\n    Left As Long\n    Top As Long\n    Right As Long\n    Bottom As Long\nEnd Type\n\nConst HWND_TOPMOST = -1\nConst HWND_NOTOPMOST = -2\nConst SWP_NOSIZE = &amp;H1\nConst SWP_NOMOVE = &amp;H2\nConst SWP_NOACTIVATE = &amp;H10\nConst SWP_SHOWWINDOW = &amp;H40\n\nDim ie As InternetExplorer\n\nSub GetFiles()\n\nSet ie = New InternetExplorer\n\nGetFileFromUrl \"http://daccess-ods.un.org/access.nsf/Get?Open&amp;DS=A/HRC/WGAD/2015/28&amp;Lang=E\"\nGetFileFromUrl \"http://daccess-ods.un.org/access.nsf/Get?Open&amp;DS=A/HRC/WGAD/2015/31&amp;Lang=F\"\n\nEnd Sub\n\n\n\nSub GetFileFromUrl(url As String)\n\n\n\nDim pos As RECT\n\nie.Navigate url\n\nie.Visible = True\n\nWhile ie.ReadyState &lt;&gt; 4\n    DoEvents\nWend\n\nSleep 7000\n\nie.ExecWB 4, 1, \"c:\\test.pdf\"\n\nSleep 5000\n\n\nSaveAsHwnd = FindWindow(vbNullString, \"Save As\")\n\nIf SaveAsHwnd &lt;&gt; 0 Then\n    Debug.Print \"Found Save As window\"\nElse\n    Debug.Print \"Did not find Save As window\"\nEnd If\n\nSaveButtonHwnd = FindWindowEx(SaveAsHwnd, ByVal 0&amp;, \"Button\", \"&amp;Save\")\n\nIf SaveButtonHwnd &lt;&gt; 0 Then\n\n    Debug.Print \"Found Save button\"\n\n    ' click button\n    'res = SendMessage(SaveButtonHwnd, TCM_SETCURFOCUS, 1, ByVal 0&amp;)\n    'res = PostMessage(SaveButtonHwnd, BM_CLICK, ByVal 0&amp;, ByVal 0&amp;)\n    'res = SendMessage(SaveButtonHwnd, WM_COMMAND, 0&amp;, 0&amp;)\n\n    GetWindowRect SaveButtonHwnd, pos\n\n    '~~&gt; Move the cursor to the specified screen coordinates.\n    SetCursorPos (pos.Left - 10), (pos.Top - 10)\n    '~~&gt; Suspends the execution of the current thread for a specified interval.\n    '~~&gt; This give ample amount time for the API to position the cursor\n    Sleep 100\n    SetCursorPos pos.Left, pos.Top\n    Sleep 100\n    SetCursorPos (pos.Left + pos.Right) / 2, (pos.Top + pos.Bottom) / 2\n\n    '~~&gt; Set the size, position, and Z order of \"File Download\" Window\n    SetWindowPos Ret, HWND_TOPMOST, 0, 0, 0, 0, SWP_NOACTIVATE Or SWP_SHOWWINDOW Or SWP_NOMOVE Or SWP_NOSIZE\n    Sleep 100\n\n    '~~&gt; Simulate mouse motion and click the button\n    '~~&gt; Simulate LEFT CLICK\n    mouse_event MOUSEEVENTF_LEFTDOWN, (pos.Left + pos.Right) / 2, (pos.Top + pos.Bottom) / 2, 0, 0\n    Sleep 700\n    '~~&gt; Simulate Release of LEFT CLICK\n    mouse_event MOUSEEVENTF_LEFTUP, (pos.Left + pos.Right) / 2, (pos.Top + pos.Bottom) / 2, 0, 0\n\nElse\n\n    Debug.Print \"Did not find Save button\"\n\nEnd If\n\n\nSleep 5000\n\n\nEnd Sub\n</code></pre>\n\n<p>Alternatively, the <code>UIAutomation</code> <code>COM</code> object can be used:</p>\n\n<pre><code>Sub GetFilesAutomation()\n\nDim o As IUIAutomation\nDim e As IUIAutomationElement\n\nDim SaveAsHwnd As LongPtr\nDim ie As New InternetExplorer\nSet o = New CUIAutomation\n\nie.Navigate \"http://daccess-ods.un.org/access.nsf/Get?Open&amp;DS=A/HRC/WGAD/2015/28&amp;Lang=E\"\n\nie.Visible = True\n\nSleep 10000\n\nie.ExecWB 4, 1\n\nSleep 5000\n\nSaveAsHwnd = FindWindow(vbNullString, \"Save As\")\n\nSet e = o.ElementFromHandle(ByVal SaveAsHwnd)\nDim iCnd As IUIAutomationCondition\nSet iCnd = o.CreatePropertyCondition(UIA_NamePropertyId, \"Save\")\n\nDim Button As IUIAutomationElement\nSet Button = e.FindFirst(TreeScope_Subtree, iCnd)\nDim InvokePattern As IUIAutomationInvokePattern\nSet InvokePattern = Button.GetCurrentPattern(UIA_InvokePatternId)\nInvokePattern.Invoke\n\nEnd Sub\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 1, "creation_date": 1457994602, "post_id": 35983922, "comment_id": 59651223, "body": "You have obviously given a good answer which solves the problem.  But just one thing: you say that <code>mech-&gt;get($link)</code> will not work without a full URL.  That is not correct.  I am able to get relative links with <code>get</code>."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1458042246, "post_id": 35983922, "comment_id": 59672112, "body": "Sorry about that. I don&#39;t know why I thought that. I must have made another error. I will update the answer. You can use <code>-&gt;follow_link</code> or <code>-&gt;get</code> as you like. If you use <code>-&gt;get</code> you can send the WWW::Mechanize::Link object."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 2, "last_activity_date": 1458042281, "last_edit_date": 1458042281, "creation_date": 1457948206, "answer_id": 35983922, "question_id": 35935911, "link": "https://stackoverflow.com/questions/35935911/mechanize-not-dealing-with-cookies-like-a-browser-does/35983922#35983922", "title": "Mechanize not dealing with cookies like a browser does", "body": "<p>When you request <a href=\"http://daccess-ods.un.org/access.nsf/Get?Open&amp;DS=A/HRC/WGAD/2015/28&amp;Lang=E\" rel=\"nofollow\">http://daccess-ods.un.org/access.nsf/Get?Open&amp;DS=A/HRC/WGAD/2015/28&amp;Lang=E</a> you first get a redirect to <code>https</code>. </p>\n\n<p>Then you get a page with a <code>META REFRESH</code>. This gives you a file in <code>/TMP</code>.</p>\n\n<p>After getting <a href=\"https://daccess-ods.un.org/TMP/xxx.xxx.html\" rel=\"nofollow\">https://daccess-ods.un.org/TMP/xxx.xxx.html</a> and following the <code>META REFRESH</code> to <a href=\"https://documents-dds-ny.un.org/doc/UNDOC/GEN/G15/263/87/PDF/G1526387.pdf?OpenElement\" rel=\"nofollow\">https://documents-dds-ny.un.org/doc/UNDOC/GEN/G15/263/87/PDF/G1526387.pdf?OpenElement</a> it still does not download the document, but gives an error message.</p>\n\n<p>The reason when you examine the headers from the browser is because the browser sets three cookies, and WWW::Mechanize only one:</p>\n\n<ul>\n<li>citrix_ns_id=xxx</li>\n<li>citrix_ns_id_.un.org_%2F_wat=xxx</li>\n<li>LtpaToken=xxx</li>\n</ul>\n\n<p>So where does these cookies come from? Turns out that the TMP html has more than a META REFRESH. It also has this HTML:</p>\n\n<pre><code>&lt;frameset ROWS=\"0,100%\" framespacing=\"0\" FrameBorder=\"0\" Border=\"0\"&gt;\n  &lt;frame name=\"footer\" scrolling=\"no\" noresize target=\"main\" src=\"https://documents-dds-ny.un.org/prod/ods_mother.nsf?Login&amp;Username=freeods2&amp;Password=1234\" marginwidth=\"0\" marginheight=\"0\"&gt;\n  &lt;frame name=\"main\" src=\"\" scrolling=\"auto\" target=\"_top\"&gt;\n  &lt;noframes&gt;\n  &lt;body&gt;\n  &lt;p&gt;This page uses frames, but your browser doesn't support them.&lt;/p&gt;\n  &lt;/body&gt;\n  &lt;/noframes&gt;\n&lt;/frameset&gt;\n</code></pre>\n\n<p>This url <a href=\"https://documents-dds-ny.un.org/prod/ods_mother.nsf?Login&amp;Username=freeods2&amp;Password=1234\" rel=\"nofollow\">https://documents-dds-ny.un.org/prod/ods_mother.nsf?Login&amp;Username=freeods2&amp;Password=1234</a> does set these cookies. </p>\n\n<pre><code>Set-Cookie: LtpaToken=xxx; domain=.un.org; path=/\nSet-Cookie: citrix_ns_id=xxx; Domain=.un.org; Path=/; HttpOnly\nSet-Cookie: citrix_ns_id_.un.org_%2F_wat=xxx; Domain=.un.org; Path=/\n</code></pre>\n\n<p>So by changing your code to take this into account:</p>\n\n<pre><code>use strict;\nuse WWW::Mechanize;\n\nmy $url = \"http://daccess-ods.un.org/access.nsf/Get?Open&amp;DS=A/HRC/WGAD/2015/28&amp;Lang=E\";\nmy $mech = WWW::Mechanize-&gt;new();\n$mech-&gt;get($url);\nmy $more = 1;\nwhile ($more) {\n    $more = 0;\n    my $follow_link;\n    my @links = $mech-&gt;links;\n    foreach my $link (@links) {\n        if ($link-&gt;tag eq 'meta') {\n            $follow_link = $link;\n        }\n        if (($link-&gt;tag eq 'frame') &amp;&amp; ($link-&gt;url)) {\n            $mech-&gt;follow_link( url =&gt; $link-&gt;url );\n            $mech-&gt;back;\n        }\n    }\n    if ($follow_link) {\n        $more = 1;\n        $mech-&gt;follow_link( url =&gt; $follow_link-&gt;url );\n    }\n}\n$mech-&gt;save_content(\"output.txt\");\n</code></pre>\n\n<p>output.txt successfully includes the pdf.</p>\n\n<pre><code>$ file output.txt\noutput.txt: PDF document, version 1.5\n</code></pre>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 1, "accepted_answer_id": 35983922, "answer_count": 4, "score": 2, "last_activity_date": 1458042281, "creation_date": 1457686674, "last_edit_date": 1457757191, "question_id": 35935911, "link": "https://stackoverflow.com/questions/35935911/mechanize-not-dealing-with-cookies-like-a-browser-does", "title": "Mechanize not dealing with cookies like a browser does", "body": "<p>I have the following code:</p>\n\n<pre><code>use WWW::Mechanize;\n$url = \"http://daccess-ods.un.org/access.nsf/Get?Open&amp;DS=A/HRC/WGAD/2015/28&amp;Lang=E\";\n$mech = WWW::Mechanize-&gt;new();\n$mech-&gt;get($url);\n$content = $mech-&gt;content();\nwhile ($content =~ m/&lt;META HTTP-EQUIV=\"refresh\" CONTENT=\"(\\d+); URL=(.+?)\"&gt;/) {\n    $refresh = $1;\n    $link = $2;\n    sleep $refresh;\n    $mech-&gt;get($link);\n    $content = $mech-&gt;content();\n}\n$mech-&gt;save_content(\"output.txt\");\n</code></pre>\n\n<p>When I put the URL assigned to <code>$url</code> in a browser the end result is the downloading of a <code>PDF</code> file, but when I run the above code I end up with a different file.  I think that maybe <code>Mechanize</code> is not able to handle cookies properly.  How can I get this to work?</p>\n"}, {"tags": ["arrays", "xml", "perl", "nested"], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 0, "last_activity_date": 1457685858, "creation_date": 1457685858, "answer_id": 35935697, "question_id": 35935353, "link": "https://stackoverflow.com/questions/35935353/perl-xmlsimple-with-nested-arrays/35935697#35935697", "title": "Perl XML::Simple with nested arrays", "body": "<pre><code>print join ';', @{ $_-&gt;{elem} }, \"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1457689966, "last_edit_date": 1495540771, "creation_date": 1457689966, "answer_id": 35936947, "question_id": 35935353, "link": "https://stackoverflow.com/questions/35935353/perl-xmlsimple-with-nested-arrays/35936947#35936947", "title": "Perl XML::Simple with nested arrays", "body": "<p>I would start with  <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">\"don't use XML::Simple\"</a> - I quite like <code>XML::Twig</code> as a nice and easy to use alternative. (<code>XML::LibXML</code> is good too, but has a bit more of a learning curve):</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $xml = XML::Twig -&gt; parsefile ( $infile );\n\nforeach my $row ( $xml -&gt; get_xpath('//row') ) {\n   print join ( \";\", map { $_ -&gt; text } $row -&gt; children('elem')),\"\\n\";\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>a;b;c\nd;e;f\n</code></pre>\n\n<p>(Unrolling the loops for the sake of clarity:</p>\n\n<pre><code>foreach my $row ( $xml -&gt; get_xpath('//row') ) {\n   foreach my $elem ( $row -&gt; children ( 'elem' ) ) { \n      print $elem -&gt; text, \";\";\n   }\n   print \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6048843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/070277890aa6bd037f150ae4e4c8f9e1?s=128&d=identicon&r=PG&f=1", "display_name": "Adiveara", "link": "https://stackoverflow.com/users/6048843/adiveara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1457689966, "creation_date": 1457684531, "question_id": 35935353, "link": "https://stackoverflow.com/questions/35935353/perl-xmlsimple-with-nested-arrays", "title": "Perl XML::Simple with nested arrays", "body": "<p>I'm using perl with XML::Simple to print the contents of a XML file.\nThe structure of the XML file however prevents me from listing all entries since I cannot find the right way to loop over the nested arrays. Can anyone help me out and show how to do this?</p>\n\n<p>The XML structure is like:</p>\n\n<pre><code>&lt;header&gt;\n &lt;rows&gt;\n  &lt;row&gt;\n   &lt;elem&gt;a&lt;/elem&gt;\n   &lt;elem&gt;b&lt;/elem&gt;\n   &lt;elem&gt;c&lt;/elem&gt;\n  &lt;/row&gt;\n  &lt;row&gt;\n   &lt;elem&gt;d&lt;/elem&gt;\n   &lt;elem&gt;e&lt;/elem&gt;\n   &lt;elem&gt;f&lt;/elem&gt;\n  &lt;/row&gt;\n &lt;/rows&gt;\n&lt;/header&gt;\n</code></pre>\n\n<p>My program is like this:</p>\n\n<pre><code> my $infile = test.xml;\n my $xml = new XML::Simple (KeyAttr=&gt;[]);\n my $main = $xml-&gt;XMLin(\"$infile\",SuppressEmpty =&gt; '');\n</code></pre>\n\n<p>I can print separate entries of elem using</p>\n\n<pre><code> print \"$main-&gt;{rows}-&gt;{row}-&gt;[0]-&gt;{elem}[0]\\n\";\n</code></pre>\n\n<p>and print all entries of the n-th elem using</p>\n\n<pre><code> for (@{$main-&gt;{rows}{row}}) {\n    print \"$_-&gt;{elem}[0] \\n\";\n }\n</code></pre>\n\n<p>This would print </p>\n\n<pre><code> a\n d\n</code></pre>\n\n<p>But how do I print this:</p>\n\n<pre><code> a;b;c;\n d;e;f;\n</code></pre>\n\n<p>Thanks for any answers.</p>\n"}, {"tags": ["perl", "kerberos", "gssapi", "sunos"], "comments": [{"owner": {"reputation": 17071, "user_id": 696632, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b78708c369f2ee0d06a9a8e8f89684a3?s=128&d=identicon&r=PG&f=1", "display_name": "Michael-O", "link": "https://stackoverflow.com/users/696632/michael-o"}, "edited": false, "score": 1, "creation_date": 1457706285, "post_id": 35935192, "comment_id": 59541504, "body": "Welcome aboard, I have tried to make this module work on another platform and failed. The author did not respond. Finally, I have avoided using the module :-("}], "owner": {"reputation": 569, "user_id": 3423750, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e9e5f034a288f311d61b611a62f3e42a?s=128&d=identicon&r=PG", "display_name": "Phalgun", "link": "https://stackoverflow.com/users/3423750/phalgun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1457704934, "creation_date": 1457683890, "last_edit_date": 1457704934, "question_id": 35935192, "link": "https://stackoverflow.com/questions/35935192/perl-module-gssapi-core-dumps-with-kerberos-1-14", "title": "Perl module GSSAPI core dumps with kerberos 1.14", "body": "<p>I am trying to compile GSSAPI PERL module with kerberos and I'm getting a core dump while testing it. Here are the details:</p>\n\n<pre><code>GSSAPI version: 0.28\nKERBEROS: 1.14\nPERL: 5.22\nOS: SunOS kangaroo 5.11 11.2 sun4v sparc sun4v\n</code></pre>\n\n<p>While running the tests for GSSAPI, I get a core dump</p>\n\n<pre><code>sv_app@kangaroo:\u2026rc/trunk/perl-5.22/GSSAPI-0.28$ make test\nPERL_DL_NONLAZY=1 \"/u01/sv/app/10.00/perl/product/perl-5.22.0/bin/perl\" \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t\nt/1constants.t ..... ok\nt/2status.t ........ ok\nt/checkoids.t ...... ok\nt/importnames.t .... ok\nt/indicatemechs.t .. 1/5 # KRB5 old Mechtype, Kerberos 5, SPNEGO\nt/indicatemechs.t .. ok\nt/inquire_cred.t ... Failed 6/6 subtests\nt/pod.t ............ skipped: Test::Pod 1.00 required for testing POD\nt/test.t ........... ok\nt/zbugfixes.t ...... 1/3 #\n</code></pre>\n\n<p>Stack Trace from core dump:</p>\n\n<pre><code>t@1 (l@1) program terminated by signal BUS (invalid address alignment)\n0x0007fffefcbec2d0: get_value_vt+0x0010:        ldx      [%i3 + 8], %i1\n(dbx) where\ncurrent thread: t@1\n=&gt;[1] get_value_vt(0x1006b9ca0, 0xffffffff7fffe7d0, 0xffffffff7fffe7c8, 0x11, 0x0, 0x0), at 0x7fffefcbec2d0\n  [2] profile_get_string(0x1006b9ca0, 0x7fffefcbf9ab0, 0x7fffefcbf9b08, 0x0, 0x0, 0xffffffff7fffe8a8), at 0x7fffefcbec420\n  [3] k5_kt_client_default_name(0x1003746b0, 0xffffffff7fffe968, 0x0, 0x0, 0xffffffffffed59e8, 0x12a400), at 0x7fffefcbd50b0\n  [4] krb5_kt_client_default(0x1003746b0, 0x1005734a0, 0xffffffff7fffeafc, 0x0, 0xffffffff7fffef8c, 0x0), at 0x7fffefcb63678\n  [5] acquire_init_cred(0x1003746b0, 0xffffffff7fffef8c, 0x0, 0x0, 0x0, 0x100573450), at 0x7fffefd53c878\n  [6] acquire_cred_context(0x1003746b0, 0xffffffff7fffef8c, 0x0, 0x0, 0x100573450, 0x1), at 0x7fffefd53cc04\n  [7] krb5_gss_acquire_cred_from(0x0, 0x0, 0x78, 0x0, 0x1, 0x0), at 0x7fffefd53d880\n  [8] gss_add_cred_from(0xffffffff7fffef8c, 0x100362470, 0x78, 0x100362410, 0x100362470, 0x0), at 0x7fffefd51d61c\n  [9] gss_acquire_cred_from(0xffffffff7ffff188, 0x0, 0x1, 0x0, 0xffffffff7fffefd0, 0x0), at 0x7fffefd51cf50\n  [10] gss_acquire_cred(0xffffffff7ffff188, 0x0, 0x78, 0x0, 0x1, 0xffffffff7ffff198), at 0x7fffefd51cb84\n  [11] XS_GSSAPI__Cred_acquire_cred(0x28, 0x0, 0x0, 0x38, 0x30, 0x8), at 0x7fffefd808a08\n  [12] Perl_pp_entersub(0x38, 0x2, 0x20000, 0x1004b3310, 0x100000, 0x7), at 0x100116408\n  [13] Perl_runops_standard(0x100169260, 0x1006ca470, 0x1006ca470, 0x10034c000, 0x10034c, 0x10034c5e0), at 0x100109c04\n  [14] S_run_body(0x100000, 0x10034c, 0x10034c, 0x0, 0x0, 0x10034d460), at 0x100054fc0\n  [15] perl_run(0x10034d, 0xffffffff7ffff488, 0x100000, 0x1, 0x0, 0x10034b000), at 0x100054c20\n  [16] main(0x2, 0xffffffff7ffff6c8, 0x10034b, 0x10034d000, 0x10034b, 0x10034bb80), at 0x1000261f0\n(dbx) frame 1\n0x0007fffefcbec2d0: get_value_vt+0x0010:        ldx      [%i3 + 8], %i1\n(dbx) regs\ncurrent thread: t@1\ncurrent frame:  [1]\ng0-g1    0x0000000000000000 0x0000000000000000\ng2-g3    0x0000000000000000 0x0000000000000000\ng4-g5    0x000000000000004b 0x0007fffefcbf9af5\ng6-g7    0x0000000000000000 0x0007fffefea02a40\no0-o1    0x0000000000000000 0xffffffff7fffe7d0\no2-o3    0xffffffff7fffe708 0x0000000000000000\no4-o5    0x0000000000000000 0x0000000000000000\no6-o7    0xffffffff7fffde51 0x0007fffefcbec368\nl0-l1    0x0000000000000000 0x0000000000000000\nl2-l3    0x0000000000000000 0x0000000000000000\nl4-l5    0x0000000000000000 0x0000000000000000\nl6-l7    0x0000000000000000 0x0000000000000011\ni0-i1    0x00000001006b9ca0 0xffffffff7fffe7d0\ni2-i3    0xffffffff7fffe7c8 0x0000000000000011\ni4-i5    0x0000000000000000 0x0000000000000000\ni6-i7    0xffffffff7fffdf11 0x0007fffefcbec420\ny        0x0000000000000000\nccr      0x0000000000000000\npc       0x0007fffefcbec2d0:get_value_vt+0x10    ldx      [%i3 + 8], %i1\nnpc      0x0007fffefcbec2d4:get_value_vt+0x14    call     %i1\n(dbx) examine 0xffffffff7fffe7d0/i\n0xffffffff7fffe7d0:     illtrap  0x7fffe\n</code></pre>\n\n<p><strong>krb5-1.14/src/util/profile/prof_get.c</strong></p>\n\n<pre><code>/* Look up a relation in a vtable profile and return the first value in the\n * result. */\nstatic errcode_t\nget_value_vt(profile_t profile, const char *const *names, char **ret_value)\n{\n    errcode_t               retval;\n    char                    **vtvalues;\n\n    retval = profile-&gt;vt-&gt;get_values(profile-&gt;cbdata, names, &amp;vtvalues);\n    if (retval)\n        return retval;\n    *ret_value = strdup(*vtvalues);\n    if (*ret_value == NULL)\n        retval = ENOMEM;\n    profile-&gt;vt-&gt;free_values(profile-&gt;cbdata, vtvalues);\n    return retval;\n}\n</code></pre>\n"}, {"tags": ["perl", "solr"], "answers": [{"comments": [{"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1457780903, "post_id": 35955956, "comment_id": 59569150, "body": "Perfect, thanks for that. I was also trying to just <code>eval {}</code> the search - but in fact the <code>eval</code> needed to be wrapped around the <b>WHOLE</b> part of the code. Thanks again!"}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 1, "last_activity_date": 1457775249, "creation_date": 1457775249, "answer_id": 35955956, "question_id": 35934398, "link": "https://stackoverflow.com/questions/35934398/catch-connection-error-in-webservicesolr-perl-module/35955956#35955956", "title": "Catch connection error in WebService::Solr Perl module", "body": "<p>The problem with your code is that it's not <code>WebService::Solr-&gt;new()</code> that casts the exception, but <code>$response-&gt;content</code>, which is called implicitly from <code>$response-&gt;docs</code>. </p>\n\n<p>You should move your <code>eval</code> to that part of your code:</p>\n\n<pre><code>my $response = $solr-&gt;search( $query );\neval {\n    for my $doc ( $response-&gt;docs ) {\n        print $doc-&gt;value_for( $id );\n    }\n};\n\nif ($@) {\n    print \"FOO: $@ \\n\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 35955956, "answer_count": 1, "score": 1, "last_activity_date": 1457775249, "creation_date": 1457680833, "last_edit_date": 1457681016, "question_id": 35934398, "link": "https://stackoverflow.com/questions/35934398/catch-connection-error-in-webservicesolr-perl-module", "title": "Catch connection error in WebService::Solr Perl module", "body": "<p>I can't work out why Solr keeps crashing. I've written a shell script that will auto reboot it:</p>\n\n<pre><code>#!/bin/bash\n\ndeclare -a arr=(tomcat7 nginx mysql);\n\nfor i in \"${arr[@]}\"\ndo\n   echo \"Checking $i\"\n    if (( $(ps -ef | grep -v grep | grep $i | wc -l) &gt; 0 ))\n    then\n    echo \"$i is running!!!\"\n    else\n    echo \"service $i start\\n\"\n    service $i start\n    fi\ndone\n\n# re-run, but this time do a restart if its still not going!\nfor i in \"${arr[@]}\"\ndo\n   echo \"Checking $i\"\n    if (( $(ps -ef | grep -v grep | grep $i | wc -l) &gt; 0 ))\n    then\n    echo \"$i is running!!!\"\n    else\n    service $i restart\n    fi\ndone\n</code></pre>\n\n<p>However, even that doesn't seem to work. I just had to manually restart it again, because it has been offline for the last 3 days (only happened to notice, as I was checking the error logs)</p>\n\n<p>The dropouts are much less than before (maybe once every couple of weeks). I would however, like to be notified when they occur.</p>\n\n<p>I'm using this Perl module: <a href=\"http://search.cpan.org/~petdance/WebService-Solr-0.23/lib/WebService/Solr.pm\" rel=\"nofollow\">http://search.cpan.org/~petdance/WebService-Solr-0.23/lib/WebService/Solr.pm</a> to do the work (yes, I'm aware its pretty limited, but it does what I need)</p>\n\n<p>My old code was just:</p>\n\n<pre><code>            $solr = WebService::Solr-&gt;new( SOLR )\n</code></pre>\n\n<p>However, when the Solr has gone offline, you get a nasty error message:</p>\n\n<blockquote>\n  <p>Could not parse JSON response: malformed JSON string, neither tag,\n  array, object, number, string or atom, at character offset 0 (before\n  \"Can't connect to loc...\") at\n  /srv/www/site.net/www/cgi-bin/admin/WebService/Solr/Response.pm line\n  42. Can't connect to localhost:8080</p>\n</blockquote>\n\n<p>I was trying to use <code>eval {}</code> to catch the error, but even that doesn't seem to work:</p>\n\n<pre><code>        my $solr;\n        eval {\n            $solr = WebService::Solr-&gt;new( SOLR )\n        };\n\n         if (@$) {\n            print $IN-&gt;header;\n            print \"FOO: @$\";\n            exit;\n         }\n</code></pre>\n\n<p>Does anyone have any suggestions on how I can catch these errors? (I'm then going to make it email me, so that I know the problem has happened!)</p>\n"}, {"tags": ["regex", "perl", "regex-lookarounds"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1457680285, "post_id": 35933989, "comment_id": 59525266, "body": "See the part about sequence numbers in perlop: <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html#Range-Operators</a>"}, {"owner": {"reputation": 3251, "user_id": 2948042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/enMF3.jpg?s=128&g=1", "display_name": "Vince", "link": "https://stackoverflow.com/users/2948042/vince"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457682389, "post_id": 35933989, "comment_id": 59526271, "body": "@ThisSuitIsBlackNot Thank you. I saw &quot;You can exclude the beginning point by waiting for the sequence number to be greater than 1.&quot; That allows me to skip printing the first pattern using <code>perl -ne &#39;print if ((&#47;^START&#47;..&#47;^END&#47;) &gt; 1);&#39; file.txt</code>, but it&#39;s not a fixed number of lines so I can&#39;t exclude the last pattern in the range."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1457682723, "post_id": 35933989, "comment_id": 59526444, "body": "&quot;The final sequence number in a range has the string <code>E0</code> appended to it, which doesn&#39;t affect its numeric value, but gives you something to search for if you want to exclude the endpoint.&quot;"}, {"owner": {"reputation": 3251, "user_id": 2948042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/enMF3.jpg?s=128&g=1", "display_name": "Vince", "link": "https://stackoverflow.com/users/2948042/vince"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457683741, "post_id": 35933989, "comment_id": 59526941, "body": "@ThisSuitIsBlackNot Hah! Thank you :) I saw that at the page you linked and didn&#39;t register its meaning until now. While trying to test it, I was using <code>printf(&quot;%d\\n&quot;)</code> so I didn&#39;t see the <code>E0</code>. Now I have <code>perl -ne &#39;$s = &#47;^START&#47;..&#47;^END&#47;; print if ($s &gt; 1 &amp;&amp; $s !~ &#47;E0&#47;);&#39; file.txt</code>. It&#39;s effective and shorter than my <code>unless</code> version, but I was really hoping to make it work with the <i>lookarounds</i>."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1457684605, "post_id": 35933989, "comment_id": 59527345, "body": "With lookarounds, you need to read the whole text in and use something like <code>&#47;(?&lt;=^START\\n)(?:(?!^END$).)*&#47;sm</code>. The tempered greedy token combined with an unanchored lookbehind is actually an overkill and in case the input is large, this is a very inefficient approach."}], "answers": [{"comments": [{"owner": {"reputation": 3251, "user_id": 2948042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/enMF3.jpg?s=128&g=1", "display_name": "Vince", "link": "https://stackoverflow.com/users/2948042/vince"}, "edited": false, "score": 0, "creation_date": 1457682644, "post_id": 35934356, "comment_id": 59526411, "body": "That&#39;ll get the job done, but I was hoping for a way to make it work with the look-ahead / look-behind assertions, or an explanation as to why that idea doesn&#39;t work. I&#39;ll accept your answer if no one offers a solution using the <i>lookarounds</i> in a couple days."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1457680690, "creation_date": 1457680690, "answer_id": 35934356, "question_id": 35933989, "link": "https://stackoverflow.com/questions/35933989/one-liner-to-print-all-lines-between-two-patterns/35934356#35934356", "title": "One-liner to print all lines between two patterns", "body": "<p>It seems kind of arbitrary to place a single-line restriction on this, but here's one way to do it:</p>\n\n<pre><code>$ perl -wne 'last if /^END/; print if $p; $p = 1 if /^START/;' file.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 1, "last_activity_date": 1457685345, "last_edit_date": 1457685345, "creation_date": 1457683462, "answer_id": 35935100, "question_id": 35933989, "link": "https://stackoverflow.com/questions/35933989/one-liner-to-print-all-lines-between-two-patterns/35935100#35935100", "title": "One-liner to print all lines between two patterns", "body": "<pre><code>perl -e 'print split(/.*START.|END.*/s, join(\"\", &lt;&gt;))' file.txt\n\nperl -ne 'print if /START/../END/' file.txt | perl -ne 'print unless $.==1 or eof'\n\nperl -ne 'print if /START/../END/' file.txt | sed -e '$d' -n -e '1\\!p'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3251, "user_id": 2948042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/enMF3.jpg?s=128&g=1", "display_name": "Vince", "link": "https://stackoverflow.com/users/2948042/vince"}, "edited": false, "score": 0, "creation_date": 1457773591, "post_id": 35935368, "comment_id": 59567039, "body": "Thanks! You gave me the shortest version in your first example. My first and second patterns are alone on the line, so I ended up with <code>perl -0 -e &#39;print &lt;&gt; =~ &#47;START\\n(.*?)END&#47;gs;&#39; file.txt</code>. I didn&#39;t know about either <code>-0</code> to change the record separator or the diamond operator (that was tough to find the name of)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3251, "user_id": 2948042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/enMF3.jpg?s=128&g=1", "display_name": "Vince", "link": "https://stackoverflow.com/users/2948042/vince"}, "edited": false, "score": 0, "creation_date": 1457775599, "post_id": 35935368, "comment_id": 59567535, "body": "@Vince Glad it helped :).  Another useful version of it is <code>-00</code>, for paragraph mode <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\">perlrun</a> Your final line was my first take as well.."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1458929781, "last_edit_date": 1458929781, "creation_date": 1457684597, "answer_id": 35935368, "question_id": 35933989, "link": "https://stackoverflow.com/questions/35933989/one-liner-to-print-all-lines-between-two-patterns/35935368#35935368", "title": "One-liner to print all lines between two patterns", "body": "<p>Read the whole file, match, and print.  </p>\n\n<pre><code>perl -0777 -e 'print &lt;&gt; =~ /START.*?\\n(.*?)END.*?/gs;' file.txt\n</code></pre>\n\n<p>May drop <code>.*?</code> after <code>START|END</code> if alone on line. \nThen drop <code>\\n</code> for a blank line between segments.</p>\n\n<hr>\n\n<p>Read file, split line by <code>START|END</code>, print every odd of <code>@F</code> </p>\n\n<pre><code>perl -0777 -F\"START|END\" -ane 'print @F[ grep { $_ &amp; 1 } (0..$#F) ]' file.txt\n</code></pre>\n\n<hr>\n\n<p>Use <code>END { }</code> block for extra processing. Uses <code>}{</code> for <code>END { }</code>.</p>\n\n<pre><code>perl -ne 'push @r, $_ if (/^START/../^END/); }{ print \"@r[1..$#r-1]\"' file.txt\n</code></pre>\n\n<p>Works as it stands only for a single such segment in the file.</p>\n"}, {"comments": [{"owner": {"reputation": 3251, "user_id": 2948042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/enMF3.jpg?s=128&g=1", "display_name": "Vince", "link": "https://stackoverflow.com/users/2948042/vince"}, "edited": false, "score": 0, "creation_date": 1457774467, "post_id": 35938000, "comment_id": 59567269, "body": "Thanks! At first using lookarounds seemed like the cleanest and easiest to understand solution. The file I&#39;m working with is small and it&#39;s not executed as part of a user-facing process. I&#39;m just saving myself some time copying and pasting from one file into another. So, performance isn&#39;t a concern in my case. If something like <code>&#47;(?=START)&#47;..&#47;^(?=END)&#47;</code> could work without checking the sequence number, it would have been easy to read and maintain. Of course, that&#39;s just my opinion."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1457775238, "post_id": 35938000, "comment_id": 59567446, "body": "So you were thinking the lookarounds would help match without printing? Of course, in this case, you are examining an isolated line, and the whole line is always printed regardless of which part of the line matched. Slurping the entire file and substituting is different; when you substitute the part which matched, it does matter whether the regex captures the delimiter or not."}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 1, "last_activity_date": 1457767850, "last_edit_date": 1457767850, "creation_date": 1457692756, "answer_id": 35938000, "question_id": 35933989, "link": "https://stackoverflow.com/questions/35933989/one-liner-to-print-all-lines-between-two-patterns/35938000#35938000", "title": "One-liner to print all lines between two patterns", "body": "<p>I don't see why you are so insistent on using lookarounds, but here are a couple of ways to do it.</p>\n\n<pre><code>perl -ne 'print if /^(?=START)/../^(?=END)/'\n</code></pre>\n\n<p>This finds the terminators without actually matching them.  A zero-length match which satisfies the lookahead is matched.</p>\n\n<p>Your lookbehind wasn't working because it was trying to find beginning of line <code>^</code> with <code>START</code> before it on the same line, which can obviously never match.  Factor the <code>^</code> into the zero-width assertion and it will work:</p>\n\n<pre><code>perl -ne 'print if /(?&lt;=^START)/../(?&lt;=^END)/'\n</code></pre>\n\n<p>As suggested in comments by @ThisSuitIsBlackNot you can use the sequence number to omit the <code>START</code> and <code>END</code> tokens.</p>\n\n<pre><code>perl -ne '$s = /^START/../^END/; print if ($s&gt;1 &amp;&amp; $s !~ /E0/)'\n</code></pre>\n\n<p>The lookarounds don't contribute anything useful so I did not develop those examples fully. You can adapt this to one of the lookaround examples above if you care more about using lookarounds than about code maintainability and speed of execution.</p>\n"}], "owner": {"reputation": 3251, "user_id": 2948042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/enMF3.jpg?s=128&g=1", "display_name": "Vince", "link": "https://stackoverflow.com/users/2948042/vince"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1693, "favorite_count": 2, "accepted_answer_id": 35935368, "answer_count": 4, "score": 3, "last_activity_date": 1555522276, "creation_date": 1457679194, "last_edit_date": 1555522276, "question_id": 35933989, "link": "https://stackoverflow.com/questions/35933989/one-liner-to-print-all-lines-between-two-patterns", "title": "One-liner to print all lines between two patterns", "body": "<p>Using one line of Perl code, what is the shortest way possible to print all the lines between two patterns not including the lines with the patterns?</p>\n\n<p>If this is file.txt:</p>\n\n<pre><code>aaa\nSTART\nbbb\nccc\nddd\nEND\neee\nfff\n</code></pre>\n\n<p>I want to print this:</p>\n\n<pre><code>bbb\nccc\nddd\n</code></pre>\n\n<p>I can get most of the way there using something like this:</p>\n\n<pre><code>perl -ne 'print if (/^START/../^END/);'\n</code></pre>\n\n<p>That includes the <code>START</code> and <code>END</code> lines, though.</p>\n\n<p>I can get the job done like this:</p>\n\n<pre><code>perl -ne 'if (/^START/../^END/) { print unless (/^(START)|(END)/); };' file.txt\n</code></pre>\n\n<p>But that seems redundant.</p>\n\n<p>What I'd really like to do is use lookbehind and lookahead assertions like this:</p>\n\n<pre><code>perl -ne 'print if (/^(?&lt;=START)/../(?=END)/);' file.txt\n</code></pre>\n\n<p>But that doesn't work and I think I've got something just a little bit wrong in my regex.</p>\n\n<p>These are just some of the variations I've tried that produce no output:</p>\n\n<pre><code>perl -ne 'print if (/^(?&lt;=START)/../^.*$(?=END)/);' file.txt\nperl -ne 'print if (/^(?&lt;=START)/../^.*(?=END)/);' file.txt\nperl -ne 'print if (/^(?&lt;=START)/../(?=END)/);' file.txt\nperl -ne 'print if (/^(?&lt;=START)/../.*(?=END)/);' file.txt\nperl -ne 'print if (/^(?&lt;=START)/../^.*(?=END)/);' file.txt\nperl -ne 'print if (/^(?&lt;=START)/../$(?=END)/);' file.txt\nperl -ne 'print if (/^(?&lt;=START)/../^(?=END)/);' file.txt\nperl -ne 'print if (/^(?&lt;=START)/../(?=^END)/);' file.txt\nperl -ne 'print if (/^(?&lt;=START)/../.*(?=END)/s);' file.txt\n</code></pre>\n"}, {"tags": ["linux", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1457676037, "post_id": 35933129, "comment_id": 59523586, "body": "And what have you tried so far? You seem to have forgotten to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the code that isn&#39;t working."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1457676900, "post_id": 35933129, "comment_id": 59523912, "body": "I&#39;m sorry, but <a href=\"https://stackoverflow.com\">Stack Overflow</a> is not a code-writing service. You&#39;ll have to demonstrate some effort if you expect to receive help here."}, {"owner": {"reputation": 27, "user_id": 6048381, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/59ca4a68845138b6fa4e42dd7a94ff6e?s=128&d=identicon&r=PG&f=1", "display_name": "SGS", "link": "https://stackoverflow.com/users/6048381/sgs"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1457677213, "post_id": 35933129, "comment_id": 59524045, "body": "I am new and i dont have much knowledge on scripting but i tried below one which is changing the hour  field but data is missing and i am not sure how to calculate the date if hr goes beyond 24  # cat f 123456|2016-03-10T14:30:25.000|abcd|efdgh|1245|2016-03-10T23&zwnj;&#8203;:30:25.000  654321|2016-03-10T20:30:25.000|abcd|efdgh|1245|2016-03-11T04&zwnj;&#8203;:30:25.000  # awk &#39;BEGIN {FS = &quot;T&quot;;; OFS=&quot;T&quot; } $2+=4,$3+=5&#39; f 123456|2016-03-10T18T28 654321|2016-03-10T24T9"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1457677364, "post_id": 35933129, "comment_id": 59524113, "body": "You should <a href=\"https://stackoverflow.com/posts/35933129/edit\">edit</a> your question to include that."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1457694658, "post_id": 35938343, "comment_id": 59533617, "body": "Small typo - <code>time_zone</code>, not <code>time_sone</code>. And I think that DateTime::Format::Strptime will make this a little easier - no need to parse out all of the individual bits from the timestamp."}], "tags": [], "owner": {"reputation": 1437, "user_id": 1573649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ea06fa08aecf23b29c5edb7ec3102b?s=128&d=identicon&r=PG&f=1", "display_name": "pmakholm", "link": "https://stackoverflow.com/users/1573649/pmakholm"}, "is_accepted": false, "score": 0, "last_activity_date": 1457695554, "last_edit_date": 1457695554, "creation_date": 1457693587, "answer_id": 35938343, "question_id": 35933129, "link": "https://stackoverflow.com/questions/35933129/increment-hour-field-by-5-utc-to-est-format/35938343#35938343", "title": "Increment hour field by 5 (UTC to EST format)", "body": "<p>Life is too short for doing date and time calculations by hand. So use a language that includes modules for time handling. Based on your choice of tags I would chose Perl and the DateTime module.</p>\n\n<p>So extract the date field and then create a DateTime object to do the calculations:</p>\n\n<pre><code>use DateTime;\nmy $date = '2016-03-10T23:30:25.000'\nif ($date =~ /(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)T(\\d\\d):(\\d\\d):(\\d\\d)/) {\n    my $dt = DateTime-&gt;new(year =&gt; $1, month =&gt; $2, day =&gt; $3,\n                           hour =&gt; $4, minute =&gt; $5, second =&gt; $6,\n                           time_zone =&gt; 'UTC');\n\n    $dt-&gt;set_time_zone(\"EST\");\n    $date = $dt-&gt;ymd . \"T\" . $dt-&gt;hms;\n} else {\n    die \"invalid date\";\n}\n</code></pre>\n\n<p>This would take care of all the corner cases where it is not just offsetting with 5 hours.</p>\n\n<p>Yes, I know that DateTime is not the fastest solution. But unless proven otherwise I think it should perform well enough.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1457694513, "creation_date": 1457694513, "answer_id": 35938675, "question_id": 35933129, "link": "https://stackoverflow.com/questions/35933129/increment-hour-field-by-5-utc-to-est-format/35938675#35938675", "title": "Increment hour field by 5 (UTC to EST format)", "body": "<p>I think your calculation is wrong. You convert from UTC to EST by subtracting five hours, not by adding five hours (assuming that by \"EST\" you mean US Eastern Standard Time).</p>\n\n<p>Here's how I'd do it.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse DateTime::Format::Strptime;\n\nmy $fmt = '%Y-%m-%dT%H:%M:%S';\nmy $dp = DateTime::Format::Strptime-&gt;new(\n  pattern   =&gt; $fmt,\n  time_zone =&gt; 'UTC',\n);\n\nwhile (&lt;DATA&gt;) {\n  s/(\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d)/change_time($1)/eg;\n  print;\n}\n\nsub change_time {\n  my $time = shift;\n  my $dt = $dp-&gt;parse_datetime($time);\n  $dt-&gt;set_time_zone(\"EST\");\n  return $dt;\n}\n\n__DATA__\n123456|2016-03-10T14:30:25.000|abcd|efdgh|1245|2016-03-10T23:30:25.000\n\n654321|2016-03-10T20:30:25.000|abcd|efdgh|1245|2016-03-11T04:30:25.000\n</code></pre>\n\n<p>The output from running this is:</p>\n\n<pre><code>123456|2016-03-10T09:30:25.000|abcd|efdgh|1245|2016-03-10T18:30:25.000\n\n654321|2016-03-10T15:30:25.000|abcd|efdgh|1245|2016-03-10T23:30:25.000\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1457701877, "creation_date": 1457701877, "answer_id": 35941139, "question_id": 35933129, "link": "https://stackoverflow.com/questions/35933129/increment-hour-field-by-5-utc-to-est-format/35941139#35941139", "title": "Increment hour field by 5 (UTC to EST format)", "body": "<p>With GNU awk for time functions:</p>\n\n<pre><code>$ cat tst.awk\nBEGIN { FS=OFS=\"|\" }\n{ $2=upd($2); $6=upd($6); print }\nfunction upd(dt,        a) {\n    split(dt,a,/[.]/)\n    gsub(/[-T:]/,\" \",a[1])\n    return strftime(\"%Y-%m-%dT%H:%M:%S\",mktime(a[1])+5*60*60) \".\" a[2]\n}\n\n$ awk -f tst.awk file\n123456|2016-03-10T19:30:25.000|abcd|efdgh|1245|2016-03-11T04:30:25.000\n654321|2016-03-11T01:30:25.000|abcd|efdgh|1245|2016-03-11T09:30:25.000\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 6048381, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/59ca4a68845138b6fa4e42dd7a94ff6e?s=128&d=identicon&r=PG&f=1", "display_name": "SGS", "link": "https://stackoverflow.com/users/6048381/sgs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1457701877, "creation_date": 1457675170, "last_edit_date": 1457677712, "question_id": 35933129, "link": "https://stackoverflow.com/questions/35933129/increment-hour-field-by-5-utc-to-est-format", "title": "Increment hour field by 5 (UTC to EST format)", "body": "<p>I have a file with thousands of records. Each line should have one or more date-time fields in UTC format.</p>\n\n<p>I need to convert the date and time field to EST format: adding +5 to the hour field, and if it becomes greater than 24, the date should also change.</p>\n\n<p>For example:</p>\n\n<p>Input:</p>\n\n<pre><code>123456|2016-03-10T14:30:25.000|abcd|efdgh|1245|2016-03-10T23:30:25.000\n\n654321|2016-03-10T20:30:25.000|abcd|efdgh|1245|2016-03-11T04:30:25.000\n</code></pre>\n\n<p>Output should be:</p>\n\n<pre><code>123456|2016-03-10T19:30:25.000|abcd|efdgh|1245|2016-03-10T14:30:25.000\n\n654321|2016-03-11T01:30:25.000|abcd|efdgh|1245|2016-03-10T19:30:25.000\n</code></pre>\n\n<p>This is what I have tried:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code># cat f\n123456|2016-03-10T14:30:25.000|abcd|efdgh|1245|2016-03-10T23:30:25.000 654321|2016-03-10T20:30:25.000|abcd|efdgh|1245|2016-03-11T04:30:25.000\n# awk 'BEGIN {FS = \"T\";; OFS=\"T\" } $2+=4,$3+=5' f\n123456|2016-03-10T18T28 654321|2016-03-10T24T9\n</code></pre>\n"}, {"tags": ["javascript", "perl", "postback", "mechanize"], "comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1457659418, "post_id": 35930464, "comment_id": 59519206, "body": "Using the <a href=\"https://metacpan.org/pod/WWW::Mechanize::Firefox#mech-eval_in_page-str-env-document\" rel=\"nofollow noreferrer\">metacpan.org/pod/&hellip;</a> maybe could help...."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1457659881, "post_id": 35930464, "comment_id": 59519321, "body": "Does that require Firefox to be installed? Because it isn&#39;t installed on the server I am working on."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1457661058, "post_id": 35930464, "comment_id": 59519612, "body": "Yes, it needs the FF... :( and also the Mozrepl plugin."}], "answers": [{"comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1457661113, "post_id": 35930610, "comment_id": 59519627, "body": "Your &quot;solution&quot; is nice - just it isn&#39;t &quot;runs&quot; the JS, just emulates what the JS does ;) :)"}], "tags": [], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "is_accepted": false, "score": 0, "last_activity_date": 1457659615, "creation_date": 1457659615, "answer_id": 35930610, "question_id": 35930464, "link": "https://stackoverflow.com/questions/35930464/how-to-emulate-javascript-in-mechanize/35930610#35930610", "title": "How to emulate javascript in Mechanize?", "body": "<pre><code>$mech-&gt;form_name(\"Form1\");\n$mech-&gt;field(\"__EVENTTARGET\", $eventTarget);\n$mech-&gt;field(\"__EVENTARGUMENT\", $eventArgument);\n$mech-&gt;submit();\n</code></pre>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 276, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1457659615, "creation_date": 1457658643, "question_id": 35930464, "link": "https://stackoverflow.com/questions/35930464/how-to-emulate-javascript-in-mechanize", "title": "How to emulate javascript in Mechanize?", "body": "<p>How can I run this <code>JavaScript</code> using <code>perl</code> <code>Mechanize</code>?</p>\n\n<pre><code>function __doPostBack(eventTarget, eventArgument) {\n        var theform;\n        if (window.navigator.appName.toLowerCase().indexOf(\"microsoft\") &gt; -1) {\n            theform = document.Form1;\n        }\n        else {\n            theform = document.forms[\"Form1\"];\n        }\n        theform.__EVENTTARGET.value = eventTarget.split(\"$\").join(\":\");\n        theform.__EVENTARGUMENT.value = eventArgument;\n        theform.submit();\n    }\n</code></pre>\n"}, {"tags": ["forms", "apache", "perl", "cgi"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1457649696, "post_id": 35928777, "comment_id": 59516111, "body": "You appear to be using CGI.pm, <a href=\"https://metacpan.org/pod/CGI#CGI.pm-HAS-BEEN-REMOVED-FROM-THE-PERL-CORE\" rel=\"nofollow noreferrer\">you shouldn&#39;t do that</a>"}, {"owner": {"reputation": 13599, "user_id": 1159538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AmqfA.png?s=128&g=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/1159538/satish"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1457649808, "post_id": 35928777, "comment_id": 59516163, "body": "Yes i have updated my question"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457650832, "post_id": 35928777, "comment_id": 59516588, "body": "Quentin&#39;s point was that use of CGI.pm is discouraged and that the HTML generation functions you&#39;re using <a href=\"https://metacpan.org/pod/CGI#HTML-Generation-functions-should-no-longer-be-used\" rel=\"nofollow noreferrer\">have been deprecated</a>."}, {"owner": {"reputation": 13599, "user_id": 1159538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AmqfA.png?s=128&g=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/1159538/satish"}, "edited": false, "score": 0, "creation_date": 1457650960, "post_id": 35928777, "comment_id": 59516643, "body": "These codes are years, years code and need just small modification.. We can re-write it from scratch..it would be good if in existing code something possible, how about <code>radio_group</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 13599, "user_id": 1159538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AmqfA.png?s=128&g=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/1159538/satish"}, "edited": false, "score": 0, "creation_date": 1457669477, "post_id": 35929563, "comment_id": 59521486, "body": "You codes looks good but question, I have 2 line email which i want to put it there, how that will fit there, LIke <code>We have emergency maintenances which require system down for X to Y time etc..</code>"}, {"owner": {"reputation": 1383, "user_id": 5578714, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mufAl.png?s=128&g=1", "display_name": "David White", "link": "https://stackoverflow.com/users/5578714/david-white"}, "reply_to_user": {"reputation": 13599, "user_id": 1159538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AmqfA.png?s=128&g=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/1159538/satish"}, "edited": false, "score": 1, "creation_date": 1457716977, "post_id": 35929563, "comment_id": 59549112, "body": "If you want to submit those two lines as a form value, just make it the value of one of the radio buttons.  <code>-values=&gt;[&#39;comment&#39;,&#39;problem&#39;,&#39;We have emergency maintenances...&#39;],</code>"}], "tags": [], "owner": {"reputation": 1383, "user_id": 5578714, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mufAl.png?s=128&g=1", "display_name": "David White", "link": "https://stackoverflow.com/users/5578714/david-white"}, "is_accepted": true, "score": 1, "last_activity_date": 1457653445, "creation_date": 1457653445, "answer_id": 35929563, "question_id": 35928777, "link": "https://stackoverflow.com/questions/35928777/perl-cgi-radio-button-form/35929563#35929563", "title": "perl CGI radio button form", "body": "<p>Like others have mentioned, you should really consider using one of the other solutions found in <a href=\"http://search.cpan.org/~leejo/CGI-Alternatives-0.14/lib/CGI/Alternatives.pm\" rel=\"nofollow\">CGI::Alternatives</a>.</p>\n\n<p>Nevertheless...</p>\n\n<pre><code>my %labels = (\n    'comment'   =&gt; 'General Comment',\n    'problem'   =&gt; 'Non-critical Problem',\n    'emergency' =&gt; 'Critical Emergency',\n);\n$html .= $q-&gt;radio_group(\n            -name=&gt;'notification',\n            -values=&gt;['comment','problem','emergency'],\n            -default=&gt;'comment',\n            -linebreak=&gt;'true',\n            -labels=&gt;\\%labels,\n);\n</code></pre>\n"}], "owner": {"reputation": 13599, "user_id": 1159538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AmqfA.png?s=128&g=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/1159538/satish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 969, "favorite_count": 0, "accepted_answer_id": 35929563, "answer_count": 1, "score": 0, "last_activity_date": 1457653445, "creation_date": 1457649560, "last_edit_date": 1457649796, "question_id": 35928777, "link": "https://stackoverflow.com/questions/35928777/perl-cgi-radio-button-form", "title": "perl CGI radio button form", "body": "<p>I have following CGI snippet from my code. its create textarea to type my message which i want to send, but i want to convert that into template style like \"radio\", so i select just radio button and it will inject whatever message into notification for customer, so i don't need to type message every time. just like template. Anybody has any example or code which can fix in my requirement? </p>\n\n<pre><code>use CGI;\nuse CGI::Carp;\n...\n...\n$html .= $q-&gt;b(\"Customer Notification:\") . $q-&gt;br;\n    $html .= $q-&gt;textarea(-name=&gt;'notification',\n                          -rows=&gt;4,\n                          -columns=&gt;60) . $q-&gt;p;\n\n    $html .= $q-&gt;submit(-name=&gt;' Send Notification ');\n    $html .= \"&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; \";\n    $html .= $q-&gt;reset(-name=&gt;' Reset to Original Value ');\n    $html .= $q-&gt;p;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1457648305, "post_id": 35928417, "comment_id": 59515486, "body": "It is matching more than once.  But you have it in the scalar context under the <code>if</code> so all that <code>if</code> gets is the <i>number of matches</i>, it evaluates that to &#39;true&#39; and it prints.  How would it print twice, it is evaluated just once.  Feed the regex output into an array, and you&#39;ll have all matches in it, etc.  Does this help?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1457648624, "post_id": 35928417, "comment_id": 59515619, "body": "The regex does return the list of all its matches -- when invoked in &quot;list context.&quot; When in &quot;scalar context&quot; -- which is what you have under your <code>if</code> -- it returns the number of matches.  So if you have, say, 5 matches, your code becomes <code>if(5)</code>.  True, print.  Also, at any rate, that <code>if</code> is executed once and it cannot magically print more than once."}], "answers": [{"tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": false, "score": 2, "last_activity_date": 1457653935, "creation_date": 1457653935, "answer_id": 35929656, "question_id": 35928417, "link": "https://stackoverflow.com/questions/35928417/global-matching-in-regex-in-variable/35929656#35929656", "title": "Global matching in regex in variable", "body": "<p>Change <code>if ($text =~ /$velar_velar/g) {</code> to <code>while ($text =~ /$velar_velar/g) {</code>.</p>\n"}], "owner": {"reputation": 728, "user_id": 5209289, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3874e84d81711bf6751461e0be235976?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/5209289/lisa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1457653935, "creation_date": 1457648081, "question_id": 35928417, "link": "https://stackoverflow.com/questions/35928417/global-matching-in-regex-in-variable", "title": "Global matching in regex in variable", "body": "<p>I have a perl script that contains a few regexes in variables, such as this:</p>\n\n<pre><code>my $velar_velar = qr/([a-zA-Z']*(?:[^n\\s]g|[^n\\s]k))\\s+((?:g|k|c[^ieyh])[a-zA-Z']*)/;\n</code></pre>\n\n<p>Later, I use these in an <code>if</code> (and <code>elsif</code>) statements, but I want this regex to be able to match more than once per line:</p>\n\n<pre><code>$text = \"tack go pack go\";\n   if ($text =~ /$velar_velar/g) {\n   print \"Yes\";\n   }\n</code></pre>\n\n<p>Where it would print \"Yes\" twice. I have tried the code I have here but it doesn't seem to work. I've also tried putting <code>/g</code> at the end of the regex variable but that does not work either.\nHow do I get my regex to match more than once when it is a variable? I </p>\n"}, {"tags": ["linux", "perl", "unix", "cpan", "yum"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1457632310, "post_id": 35923307, "comment_id": 59505710, "body": "Yes. On a package managed system if the package manager provides the software you need I would suggest using it before doing anything else."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1457636077, "post_id": 35923307, "comment_id": 59508148, "body": "You generally shouldn&#39;t mix package installs with CPAN installs. If you want to use the system perl, use your package manager; otherwise, it&#39;s best to install your own perl and use CPAN."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1457640026, "post_id": 35923307, "comment_id": 59510524, "body": "The same applies to <code>dpkg</code> on Debian-based systems (like Ubuntu), though the package naming scheme is different. One issue is that not all CPAN modules are going to be available in your OS&#39;s package repo (which is why you need <code>cpanm</code> as a fallback)."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1457641895, "post_id": 35923307, "comment_id": 59511681, "body": "Leave your vendor Perl alone and check out <a href=\"http://perlbrew.pl/\" rel=\"nofollow noreferrer\">Perlbrew</a> instead."}], "answers": [{"comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1457723878, "post_id": 35925908, "comment_id": 59552880, "body": "I don&#39;t entirely agree with <i>&quot;put there for your system&#39;s use&quot;</i>. Yes, the system does use Perl and Perl modules, but ultimately all those packages are made available for everyone to use.  I do agree that you shouldn&#39;t mess with the files provided by the distribution packages."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1458140981, "post_id": 35925908, "comment_id": 59728240, "body": "@GrantMcLean &quot;made available for everyone to use&quot; So long as we&#39;re willing to use the generally out of date version of perl that comes with the distro, sure!  Updating it in place is dangerous.  This leaves the option of a locally installed &quot;production&quot; perl.  Perhaps I&#39;m just a control freak..."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 0, "last_activity_date": 1457639396, "creation_date": 1457639396, "answer_id": 35925908, "question_id": 35923307, "link": "https://stackoverflow.com/questions/35923307/yum-apt-get-before-cpan-to-manage-unix-system-wide-perl-modules/35925908#35925908", "title": "Yum/apt-get before cpan to manage UNIX system-wide Perl modules?", "body": "<p>Your system's perl was put there for your system's use.  The folks that maintain your distribution will update it when they see fit to another version that suits the needs of your system.  Using your system's Package Manager to manage it is really your best idea.</p>\n\n<p>Feel free to use it, but if you need a different version, for whatever reason, you are best rolling your own into a separate location.  When maintaining your own perl install, use CPAN.</p>\n"}, {"comments": [{"owner": {"reputation": 2098, "user_id": 5025060, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/eUCHO.jpg?s=128&g=1", "display_name": "CODE-REaD", "link": "https://stackoverflow.com/users/5025060/code-read"}, "edited": false, "score": 0, "creation_date": 1457708277, "post_id": 35926537, "comment_id": 59542981, "body": "Grant, to clarify, to install system-wide a CPAN module not found by <code>apt-get</code>, do you recommend I download and build my own and add it to a local repository rather than rely on <code>cpanm</code> to find and install it?  Also, would you please give an example of the command(s) you use to accomplish this under Debian?"}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 3, "last_activity_date": 1457723427, "last_edit_date": 1457723427, "creation_date": 1457641472, "answer_id": 35926537, "question_id": 35923307, "link": "https://stackoverflow.com/questions/35923307/yum-apt-get-before-cpan-to-manage-unix-system-wide-perl-modules/35926537#35926537", "title": "Yum/apt-get before cpan to manage UNIX system-wide Perl modules?", "body": "<p>I can't speak from experience with RPM/yum systems, but I have done a lot of work with Perl applications on Debian systems and I <em>do</em> highly recommend going with the system packaged versions of CPAN modules if you can.  I know a lot of people disagree and historically they may have had good reason but I've been doing it for a long time and find it works very well.</p>\n\n<p>In the Debian world there are an enormous number of Perl modules in pre-packaged form and if you happen to need one that isn't packaged you can build your own package with <code>dh-make-perl</code> and put it in your local apt repository.  Being able to run <code>apt-get install your-application</code> and have it pull in all the required dependencies is a real time saver when your code is moving through Dev -> Staging/UAT -> Production workflows.  It also gives you confidence that the version of a particular module you're deploying to production is the same as the one you tested in UAT.</p>\n\n<p>One thing you absolutely should not do is use <code>cpanm</code> or the cpan shell as root to install modules into the system directories.  If you decide to install direct from CPAN, then use <a href=\"https://metacpan.org/pod/local::lib\" rel=\"nofollow\">local::lib</a> to install the modules in an application-specific lib directory.</p>\n\n<p><strong>[Edit]</strong> Some sample commands as requested:</p>\n\n<p>On a Debian-based system, you would first install the dh-make-perl tool:</p>\n\n<pre><code>sudo apt-get-install dh-make-perl\n</code></pre>\n\n<p>Then to download a package from CPAN and build it into a .deb file you would run a command like this*:</p>\n\n<pre><code>dh-make-perl --build --cpan Algorithm::CouponCode\n</code></pre>\n\n<p>You could install the resulting <code>.deb</code> file with:</p>\n\n<pre><code>sudo dpkg -i libalgorithm-couponcode-perl_1.005-1_all.deb\n</code></pre>\n\n<p>Managing your own apt repository is a whole other topic.  In my case I'd copy the <code>.deb</code> to an appropriate directory on the local apt server and run a script to update the index (I think our script uses <code>dpkg-scanpackages</code>).</p>\n\n<p>Note in my opening paragraph above I recommend using systems packages <em>\"if you can\"</em>.  To be clear, I meant in the case where most of the modules you want are already packaged by Debain. The example above did not build packages for any dependencies. If your app involves installing modules which have long dependency chains that are not in Debian already, then using cpanm and local::lib will simplify the install.  But then you shoulder the burden of repeating that as your code advances through staging to production servers. And you may need to use <a href=\"https://metacpan.org/pod/distribution/Module-CPANfile/lib/cpanfile.pod\" rel=\"nofollow\">cpanfile</a> or <a href=\"https://metacpan.org/release/Carton\" rel=\"nofollow\">carton</a> to make sure you're getting the same versions at each step.</p>\n\n<p>* one gotcha: if you have previously set up local::lib so that cpan installs go into a private directory (e.g.: /home/user/perl5) then that will affect the pathnames used in the <code>.deb</code> produced by <code>dh-make-perl</code>.  To avoid that, run this before <code>dh-make-perl</code>:</p>\n\n<pre><code>unset PERL5LIB PERL_LOCAL_LIB_ROOT PERL_MB_OPT PERL_MM_OPT\n</code></pre>\n"}], "owner": {"reputation": 2098, "user_id": 5025060, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/eUCHO.jpg?s=128&g=1", "display_name": "CODE-REaD", "link": "https://stackoverflow.com/users/5025060/code-read"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 526, "favorite_count": 0, "accepted_answer_id": 35926537, "answer_count": 2, "score": 2, "last_activity_date": 1458140768, "creation_date": 1457631013, "last_edit_date": 1495541726, "question_id": 35923307, "link": "https://stackoverflow.com/questions/35923307/yum-apt-get-before-cpan-to-manage-unix-system-wide-perl-modules", "title": "Yum/apt-get before cpan to manage UNIX system-wide Perl modules?", "body": "<p>Perl's <code>cpan</code> command is a powerful way to manage Perl modules.  However, when maintaining modules system-wide under UNIX, <a href=\"https://stackoverflow.com/a/23754365/5025060\">Michal Ingeli</a> notes that another possible option is\n<code>yum install 'perl(PerlModuleName)'</code>.  If available, should yum be my first resort in this case?</p>\n\n<p>For example, the command <code>cpanm CGI</code> installs the CGI module under my ~/perl5 directory, which may be best if the CGI module is only needed by scripts run under my account.  But this won't provide the CGI module to scripts run by other accounts.</p>\n\n<p>I can use <code>cpanm -l &lt;directory&gt;</code> to force the <code>cpanm</code> command to load modules to a specific directory (e.g., <code>cpanm -l /usr/local CGI</code> to install CGI to /usr/local/lib/perl5), or I can edit <code>~/cpan/CPAN/MyConfig.pm</code> to change the default install location <code>cpan</code> uses.</p>\n\n<p>But on nearly all systems, multiple Perl system library locations exist (/usr/local/share/perl5, /usr/share/perl5/vendor_perl, /usr/lib64/perl5, etc.), and choosing the correct one is somewhat arbitrary since these are not generated by the cpan command.</p>\n\n<p>With this in mind, should I turn to <code>yum</code> (if available) before <code>cpan</code> for system-wide UNIX Perl module management?  It's easy enough to test with a command like:</p>\n\n<pre><code>yum install 'perl(LWP::Simple)'\n</code></pre>\n\n<p>If yum failed in this instance, I would fall back to:</p>\n\n<pre><code>cpanm -l &lt;directory&gt; LWP::Simple\n</code></pre>\n\n<p>What do you recommend in this type of case, and why?</p>\n\n<p>(Note that <a href=\"https://stackoverflow.com/a/7965329/5025060\">nxadm</a> has answered a more general question about this.)</p>\n\n<hr>\n\n<p>To summarize answers so far:</p>\n\n<ul>\n<li><p>If at all possible, use the system package manager to update CPAN modules.  E.g., for <em>LWP::Simple</em>:</p>\n\n<ul>\n<li><p><code>yum install 'perl(LWP::Simple)'</code>, or</p></li>\n<li><p><code>apt-get install liblwp-simple-perl</code></p></li>\n</ul></li>\n<li><p>If the preceding fails, try to implement a separate Perl environment in which to use CPAN modules not present in the system-wide libraries.  Consider  <em><a href=\"http://search.cpan.org/perldoc?local::lib\" rel=\"nofollow noreferrer\">local::lib</a></em> or <em><a href=\"http://search.cpan.org/perldoc?App::perlbrew\" rel=\"nofollow noreferrer\">Perlbrew</a></em> for this;</p></li>\n<li><p>Only if the above options don't apply, use <code>cpanm -l &lt;directory&gt;</code> to load the module to a system-wide directory.</p></li>\n</ul>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 4, "creation_date": 1457627347, "post_id": 35921221, "comment_id": 59502307, "body": "Can you clarify your question?  This feels like an XY Problem, so it would help if you gave more setup.  Perhaps the <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">SIG handlers DIE and WARN</a> are relevant to your question, but can&#39;t really say without more explanation."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457628578, "post_id": 35921221, "comment_id": 59503145, "body": "I&#39;m guessing that you have something\u2014perhaps an IDE\u2014that needs to parse Perl error messages, and you don&#39;t know how to make it work when it sometimes doesn&#39;t have a data input line number? There are much better ways to do this if you explain the situation properly"}, {"owner": {"reputation": 2627, "user_id": 3783352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ldO4p.jpg?s=128&g=1", "display_name": "mik", "link": "https://stackoverflow.com/users/3783352/mik"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1457628627, "post_id": 35921221, "comment_id": 59503180, "body": "@ThisSuitIsBlackNot because I am reading from a database (but parsing some other computed structure could also be the case) and I wanted to have longer messages. It is easy to set <code>$.</code> to have correct &quot;line&quot; number in the message, though."}, {"owner": {"reputation": 2627, "user_id": 3783352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ldO4p.jpg?s=128&g=1", "display_name": "mik", "link": "https://stackoverflow.com/users/3783352/mik"}, "edited": false, "score": 0, "creation_date": 1457629378, "post_id": 35921221, "comment_id": 59503744, "body": "I have updated the question to include more context."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1457630962, "post_id": 35921221, "comment_id": 59504818, "body": "&quot;I wanted to have longer messages&quot; --&gt; Well, then just add some random strings to it. Like so: <code>warn &quot;increment overflow ... &quot; . &quot;random junk text xyxyxyxyxyxy&quot;</code>."}, {"owner": {"reputation": 2627, "user_id": 3783352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ldO4p.jpg?s=128&g=1", "display_name": "mik", "link": "https://stackoverflow.com/users/3783352/mik"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1457686728, "post_id": 35921221, "comment_id": 59528472, "body": "@TLP OK, but it should depend on the context of invoking the function: if there is a file opened, a database query, which line was read last, etc."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1457704680, "post_id": 35921221, "comment_id": 59540315, "body": "@mik If there is an active file handle, it will be added. If you want to be explicit about what data to add to the warning, then be specific and add it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458103977, "post_id": 35921221, "comment_id": 59704562, "body": "So you really want more complete error reporting? Or do you need it to be custom in some particular way to the separate sources that you mention? For example, what is it that you need that is not provided by the answer by <a href=\"http://stackoverflow.com/users/176646/thissuitisblacknot\">ThisSuitIsBlackNot</a> ?"}, {"owner": {"reputation": 2627, "user_id": 3783352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ldO4p.jpg?s=128&g=1", "display_name": "mik", "link": "https://stackoverflow.com/users/3783352/mik"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458136480, "post_id": 35921221, "comment_id": 59724607, "body": "@zdim I want a more complete error reporting without changing the places where error reporting is done :)"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458103328, "post_id": 35924462, "comment_id": 59704355, "body": "This exception handling implementation should be extremely useful for many."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 1, "last_activity_date": 1457701906, "last_edit_date": 1457701906, "creation_date": 1457634603, "answer_id": 35924462, "question_id": 35921221, "link": "https://stackoverflow.com/questions/35921221/perl-how-to-make-warn-think-we-read-from-a-file/35924462#35924462", "title": "perl: How to make &#39;warn&#39; think we read from a file?", "body": "<p>The filehandle information that appears in <code>warn</code> and <code>die</code> messages is only set after calls to <code>&lt;HANDLE&gt;</code>, <code>readline</code>, <code>tell</code>, <code>eof</code>, and <code>seek</code>. When you fetch data from a database with DBI, for example, you're not calling any of these, so you have to pass the extra data yourself.</p>\n\n<p>One way to do this is to write a custom exception class that stringifies to the text you want:</p>\n\n<pre><code>package MyException;\n\nuse strict;\nuse warnings 'all';\nuse v5.18.0;\n\nuse overload '\"\"' =&gt; \\&amp;as_string;\n\nsub new {\n    my ($self, $message, $src, $src_line) = @_;\n    my ($package, $file, $line) = caller;\n\n    if (! defined $src &amp;&amp; ref ${^LAST_FH} eq 'GLOB') {\n        $src = *${^LAST_FH}{NAME};\n        $src_line = $.;\n    }\n\n    bless { message  =&gt; $message,\n            file     =&gt; $file,\n            line     =&gt; $line,\n            src      =&gt; $src,\n            src_line =&gt; $src_line }, $self;\n}\n\nsub as_string {\n    my ($self) = @_;\n\n    my $message = \"$self-&gt;{message} at $self-&gt;{file} line $self-&gt;{line}\";\n\n    if (defined $self-&gt;{src} &amp;&amp; defined $self-&gt;{src_line}) {\n        $message .= \", &lt;$self-&gt;{src}&gt; line $self-&gt;{src_line}\";\n    }\n\n    $message .= \"\\n\";\n}\n\n1;\n</code></pre>\n\n<p>Note that Perl 5.18.0 or up is required to use the read-only <a href=\"http://perldoc.perl.org/perlvar.html#%24%7B%5ELAST_FH%7D\" rel=\"nofollow\"><code>${^LAST_FH}</code></a> variable, which holds a reference to the last read filehandle.</p>\n\n<hr>\n\n<p>Here's how you would use this when reading from a file:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse MyException;\n\nwhile (&lt;DATA&gt;) {\n    warn MyException-&gt;new('foo'); # equivalent to warn 'foo'\n}\n\n__DATA__\nfirst\nsecond\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>foo at ./myscript line 9, &lt;DATA&gt; line 1\nfoo at ./myscript line 9, &lt;DATA&gt; line 2\n</code></pre>\n\n<hr>\n\n<p>And here's how you would use it when fetching records from a database:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse DBI;\nuse MyException;\n\nmy $dbh = DBI-&gt;connect('dbi:mysql:test', 'user', 'pass', {\n    RaiseError =&gt; 1\n});\n\nmy $sql = 'SELECT * FROM test';\nmy $sth = $dbh-&gt;prepare($sql);\n$sth-&gt;execute;\n\nmy $count;\nwhile (my $row = $sth-&gt;fetch) {\n    warn MyException-&gt;new('foo', $sql, ++$count);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>foo at ./myscript line 19, &lt;SELECT * FROM test&gt; line 1\nfoo at ./myscript line 19, &lt;SELECT * FROM test&gt; line 2\n</code></pre>\n\n<p>(Unfortunately, DBI doesn't provide a method to get the number of rows that have been fetched so far, so you have to count them yourself.)</p>\n\n<hr>\n\n<p>Since you're trying to <code>warn</code> or <code>die</code> from inside a subroutine, you have to do a little bit more work. The simplest approach for <code>die</code> would be to trap exceptions from your subroutine with <code>eval</code> and re-throw them:</p>\n\n<pre><code>my $count = 1;\nwhile (my $row = $sth-&gt;fetch) {\n    eval {\n        inc($row[0]);\n    };\n\n    if ($@ =~ /^(cannot increment \\[.*?\\])/) {\n        die MyException-&gt;new($1, $sql, $count);\n    }\n    elsif ($@) {\n        die $@;\n    }\n\n    $count++;\n}\n</code></pre>\n\n<p>You can handle warnings in a similar way by creating a <code>__WARN__</code> handler:</p>\n\n<pre><code>{\n    my $count = 1;\n\n    local $SIG{__WARN__} = sub {\n        if ($_[0] =~ /^(increment overflow \\[.*?\\])/) {\n            warn MyException-&gt;new($1, $sql, $count);\n        }\n        else {\n            warn @_;\n        }\n    };\n\n    while (my $row = $sth-&gt;fetch) {\n        inc($row[0]);\n        $count++;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2627, "user_id": 3783352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ldO4p.jpg?s=128&g=1", "display_name": "mik", "link": "https://stackoverflow.com/users/3783352/mik"}, "edited": false, "score": 0, "creation_date": 1457686376, "post_id": 35925453, "comment_id": 59528263, "body": "This is helpful, but did not answer my question, which was about <code>warn</code> and <code>die</code> messages."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467554826, "last_edit_date": 1467554826, "creation_date": 1457637917, "answer_id": 35925453, "question_id": 35921221, "link": "https://stackoverflow.com/questions/35921221/perl-how-to-make-warn-think-we-read-from-a-file/35925453#35925453", "title": "perl: How to make &#39;warn&#39; think we read from a file?", "body": "<p>You may prefer this implementation of your <code>inc</code> subroutine. Your own uses the reserved variables <code>$a</code> and <code>$b</code>, as well as saving and retrieving the initial non-numeric part of the string</p>\n\n<p>Note that the STDERR output is not in sync with STDOUT, so the warning appears prematurely in the aggregated text. In reality the warning is issued only when the passed string has an all-nines numeric field</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $s = 'ZZ90';\n\nfor ( 1 .. 20 ) {\n    $s = inc_str($s);\n    print $s, \"\\n\";\n}\n\nsub inc_str {\n\n    my ($str) = @_;\n\n    $str =~ s{([0-9]+)$}{\n        my $num = $1;\n        warn \"Increment overflow [$str]\"  unless $num =~ /[^9]/;\n        sprintf '%0*d', length($num), $num+1;\n    }e or die \"Cannot increment [$str]\";\n\n    return $str;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Increment overflow [ZZ99] at E:\\Perl\\source\\inc_str.pl line 18.\nZZ91\nZZ92\nZZ93\nZZ94\nZZ95\nZZ96\nZZ97\nZZ98\nZZ99\nZZ100\nZZ101\nZZ102\nZZ103\nZZ104\nZZ105\nZZ106\nZZ107\nZZ108\nZZ109\nZZ110\n</code></pre>\n"}], "owner": {"reputation": 2627, "user_id": 3783352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ldO4p.jpg?s=128&g=1", "display_name": "mik", "link": "https://stackoverflow.com/users/3783352/mik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1467554826, "creation_date": 1457625119, "last_edit_date": 1458135867, "question_id": 35921221, "link": "https://stackoverflow.com/questions/35921221/perl-how-to-make-warn-think-we-read-from-a-file", "title": "perl: How to make &#39;warn&#39; think we read from a file?", "body": "<p>I have a function (a variation of string<code>++</code>):</p>\n\n<pre><code>sub inc\n{\n  $_[0] =~ /^(.*?)([0-9]+)$/;\n  my ($a,$b)=($1,$2);\n  die \"cannot increment [$_[0]]\" unless defined $b;\n  warn \"increment overflow [$_[0]]\" if length(++$b) != length($2);\n  $a.$b;\n}\n</code></pre>\n\n<p>It is invoked in many places of a script, on different data (sometimes from a file, sometimes from a database).</p>\n\n<p>When I read from a filehandle, <code>die</code> and <code>warn</code> print a message like this:</p>\n\n<pre><code>cannot increment [abc] at script line 5, &lt;filehandle&gt; line 123.\n</code></pre>\n\n<p>otherwise a shorter message is printed:</p>\n\n<pre><code>cannot increment [abc] at script line 5.\n</code></pre>\n\n<p>When I read from database I would like to have a message like this:</p>\n\n<pre><code>cannot increment [abc] at script line 5, &lt;SELECT...&gt; line 123.\n</code></pre>\n\n<p>Is it possible?</p>\n\n<p>Setting the line number is quite simple: an assignment to <code>$.</code> can be made. But how to set the 'filehandle' part and make it visible?</p>\n\n<p>I have found such a workaround:</p>\n\n<pre><code>my $fh = \"SELECT...\";\nopen $fh, \"/dev/null\";\n&lt;$fh&gt;;\n</code></pre>\n\n<p>but it is a bit long, and it actually does open a file.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": true, "score": 2, "last_activity_date": 1457625599, "creation_date": 1457625599, "answer_id": 35921403, "question_id": 35921213, "link": "https://stackoverflow.com/questions/35921213/how-to-get-a-maximum-of-a-transformed-array/35921403#35921403", "title": "how to get a maximum of a transformed array", "body": "<p>It's not terribly clear from the <code>List::MoreUtils</code> documentation, but you have to assign to <code>$_</code> in the code block to get the value to propagate out. So change the code block to <code>{ $_ = length $_-&gt;{name} }</code> and it works.</p>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 4, "last_activity_date": 1457627302, "creation_date": 1457627302, "answer_id": 35922033, "question_id": 35921213, "link": "https://stackoverflow.com/questions/35921213/how-to-get-a-maximum-of-a-transformed-array/35922033#35922033", "title": "how to get a maximum of a transformed array", "body": "<p>You don't need <code>apply</code> in this case because <code>length</code> doesn't modify the list items:</p>\n\n<pre><code>print max map { length $_-&gt;{name} } @list;\n</code></pre>\n"}], "owner": {"reputation": 1608, "user_id": 108461, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bd8c70b696492f99907bf7ba7eaf62b8?s=128&d=identicon&r=PG", "display_name": "sly", "link": "https://stackoverflow.com/users/108461/sly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 35921403, "answer_count": 2, "score": 3, "last_activity_date": 1457627302, "creation_date": 1457625102, "question_id": 35921213, "link": "https://stackoverflow.com/questions/35921213/how-to-get-a-maximum-of-a-transformed-array", "title": "how to get a maximum of a transformed array", "body": "<p>Newbie alert. The following:</p>\n\n<pre><code>use List::Util qw(max);\nuse List::MoreUtils qw(apply);\n\nmy @list = ( \n        { 'name' =&gt; 'foo' , 'value' =&gt; 3 } , \n        { 'name' =&gt; 'bar' , 'value' =&gt; 31 } , \n        { 'name' =&gt; 'longname' , 'value' =&gt; -33 } , \n        { 'name' =&gt; 'grill' , 'value' =&gt; 333 } , \n        );\n\n print max apply { length $_-&gt;{name} } @list;\n</code></pre>\n\n<p>Outputs,</p>\n\n<pre><code>HASH(0x2e47c28)\n</code></pre>\n\n<p>Instead of <code>8</code>. </p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["perl", "bit-fields"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1457957294, "last_edit_date": 1457957294, "creation_date": 1457625554, "answer_id": 35921385, "question_id": 35920687, "link": "https://stackoverflow.com/questions/35920687/perl-build-big-little-endian-bigfields-and-output-them-with-a-single-pack/35921385#35921385", "title": "perl: build big/little endian bigfields and output them with a single pack", "body": "<p>You could use XS. This will handle endianness and compiler-specific alignment (padding) for you.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Inline C =&gt; &lt;&lt;'__EOC__';\n\n   typedef struct {\n      void* X;\n      void* Y;\n      void* Z;\n      unsigned int size: 26;\n      unsigned int type:  6;\n   } FORMAT;\n\n   SV* pack_FORMAT(UV X, UV Y, UV Z, unsigned int size, unsigned int type) {\n      FORMAT format;\n      format.X = INT2PTR(void*, X);\n      format.Y = INT2PTR(void*, Y);\n      format.Z = INT2PTR(void*, Z);\n      format.size = size;\n      format.type = type;\n      return newSVpvn(&amp;format, sizeof(format));\n   }\n\n__EOC__\n\nmy $size = 0x3C;\nmy $type = 0x05;\n\nmy $packed = pack_FORMAT(0, 0, 0, $size, $type);\nprintf(\"%v02X\\n\", $packed);\n</code></pre>\n\n<hr>\n\n<p>That said</p>\n\n<pre><code>pack(\"L&gt;\", $size &lt;&lt; 6) | pack(\"L&gt;\", $type)\npack(\"L&lt;\", $size) | pack(\"L&lt;\", $type &lt;&lt; 26)\n</code></pre>\n\n<p>can be written as</p>\n\n<pre><code>pack(\"L&gt;\", ($size &lt;&lt; 6) | $type)\npack(\"L&lt;\", $size | ($type &lt;&lt; 26))\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5357012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617a20816e3390cad9737f327f8ecb5b?s=128&d=identicon&r=PG&f=1", "display_name": "Jan", "link": "https://stackoverflow.com/users/5357012/jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 35921385, "answer_count": 1, "score": 1, "last_activity_date": 1457957294, "creation_date": 1457623739, "question_id": 35920687, "link": "https://stackoverflow.com/questions/35920687/perl-build-big-little-endian-bigfields-and-output-them-with-a-single-pack", "title": "perl: build big/little endian bigfields and output them with a single pack", "body": "<p>I'm building binary data in perl. \nThis binary data is based on a C structure, and is used on 32 and 64bit, big and little endian systems.\nThe diffucult part is the bitfield in the FORMAT structure. This is layed out differently in memory on little/big endian architectures.</p>\n\n<p>I am currently making the bitfields like this:</p>\n\n<pre><code>struct FORMAT\n{\n void * X,\n void * Y,\n void * Z,\n unsigned int size   : 26;\n unsigned int type   :  6;\n &lt;4 byte padding on 64bit targets&gt;\n}\n\nmy $size = 0x3C;\nmy $type = 0x05;\n\n=&gt; big endian\nprint pack(\"L&gt;\", $size &lt;&lt; 6) | pack(\"L&gt;\", $type);  # 00 00 0f 05\n=&gt; little endian\nprint pack(\"L&lt;\", $size) | pack(\"L&lt;\", $type &lt;&lt; 26); # 3c 00 00 14\n</code></pre>\n\n<p>But I would like to have the above in a single pack format,(and thus not call pack two times, and OR the result and then print it.)  </p>\n\n<p>Eventually I want to print an entire FORMAT record in one shot. </p>\n\n<pre><code> pack(\"Q&gt;3L&gt;L&gt;\", X, Y, Z, ???, 0) #64bit big endian\n</code></pre>\n\n<p>I have about 500k FORMAT records that I need to write out, and calling pack() multiple times for each record is too costly.</p>\n"}, {"tags": ["perl", "error-handling", "constants", "subroutine", "hash-of-hashes"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1457618938, "post_id": 35918285, "comment_id": 59495811, "body": "If you want the constant to be dynamic, use a function. Constants are, er, constant."}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1457620781, "post_id": 35918907, "comment_id": 59497246, "body": "yeah @Borodin. This more like what I&#39;m trying to do. I am trying to make at general subroutine though. As it will be accepting more than the 2 named variables. Is this possible?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1457621091, "post_id": 35918907, "comment_id": 59497495, "body": "@PaulRussell: Hello my Irish neighbour! I&#39;m afraid it&#39;s not clear what you want to do, and I think you should write it up with examples, probably as a new question but possibly as an amendment of this one if you can do it without making nonsense of the existing responses"}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1457623191, "post_id": 35918907, "comment_id": 59499236, "body": "Making the message a subroutine reference seems like the perfect solution at the minute, I couldn&#39;t think of any other solution. Thanks @Borodin"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1467889811, "last_edit_date": 1495542780, "creation_date": 1457619292, "answer_id": 35918907, "question_id": 35918285, "link": "https://stackoverflow.com/questions/35918285/how-can-i-read-in-a-variable-value-which-is-a-runtime-parameter-that-is-inside-a/35918907#35918907", "title": "How can I read in a variable/value which is a runtime parameter that is inside a constant list of hashes?", "body": "<p>As has been explained, your <code>ERROR_SW</code> is a <em>constant</em>, and may not contain run-time variables</p>\n\n<p>If you intended <code>$switch_ip</code> and <code>$timeout</code> to also be constant values then, because <code>use constant</code> is evaluated at compile time, you would also have to declare and define these two variables beforehand. Like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy ($switch_ip, $timeout);\n\nBEGIN {\n    ($switch_ip, $timeout) = qw/ 127.0.0.1 30 /;\n}\n\nuse constant {\n    ERROR_SW =&gt; {\n        errorCode =&gt; 727,\n        message   =&gt; \"Not able to ping switch $switch_ip in $timeout seconds\",\n        fatal     =&gt; 1,\n        web_page  =&gt; 'http://www.errorsolution.com/727',\n    }\n};\n\nsub error_post {\n    my ($error) = @_;\n    print( $error-&gt;{message} );\n}\n\nerror_post(ERROR_SW);\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>However I think you meant the message to vary with the values of these variables, which is impossible with a constant. The usual way is to define an error message to have constant error message string that contain <code>printf</code> field specifiers. Like this, for instance</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse constant {\n    ERROR_SW =&gt; {\n        errorCode =&gt; 727,\n        message   =&gt; \"Not able to ping switch %s in %s seconds\",\n        fatal     =&gt; 1,\n        web_page  =&gt; 'http://www.errorsolution.com/727',\n    }\n};\n\nmy ( $switch_ip, $timeout ) = qw/ 127.0.0.1 30 /;\n\nsub error_post {\n    my ($error) = @_;\n    printf $error-&gt;{message}, $switch_ip, $timeout;\n}\n\nerror_post(ERROR_SW);\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Not able to ping switch 127.0.0.1 in 30 seconds\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>An alternative way that <strong>choroba</strong> hinted at <a href=\"https://stackoverflow.com/questions/35918285/how-can-i-read-in-a-variable-value-which-is-a-runtime-parameter-that-is-inside-a/35918907#comment59495811_35918285\">in his comment</a> is to make the value of the <code>message</code> field a <em>subroutine reference</em>. That can be executed at run time to incorporate the current values of the parameters. That solution looks like this</p>\n\n<p>Note the additional parentheses at the end of <code>$error-&gt;{message}()</code> to call the reference to be <em>called</em> instead of <em>evaluated</em></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy ($switch_ip, $timeout);\n\nuse constant {\n    ERROR_SW =&gt; {\n        errorCode =&gt; 727,\n        message   =&gt; message   =&gt; sub { \"Not able to ping switch $switch_ip in $timeout seconds\"},\n        fatal     =&gt; 1,\n        web_page  =&gt; 'http://www.errorsolution.com/727',\n    }\n};\n\n($switch_ip, $timeout) = qw/ 192.168.0.1 99 /;\n\nsub error_post {\n    my ($error) = @_;\n    print( $error-&gt;{message}() );\n}\n\nerror_post(ERROR_SW);\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Not able to ping switch 192.168.0.1 in 99 seconds\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 35918907, "answer_count": 1, "score": -2, "last_activity_date": 1467889811, "creation_date": 1457617528, "last_edit_date": 1457618955, "question_id": 35918285, "link": "https://stackoverflow.com/questions/35918285/how-can-i-read-in-a-variable-value-which-is-a-runtime-parameter-that-is-inside-a", "title": "How can I read in a variable/value which is a runtime parameter that is inside a constant list of hashes?", "body": "<p>I have tried putting the variables in the string but it reads as blank when I run the program. Here is an example of what I'm working with:</p>\n\n<pre><code>        use constant {\n    #list will contain more errors\n\n    ERROR_SW =&gt; {\n    errorCode =&gt; 727,\n    message =&gt; \"Not able to ping switch $switch_ip in $timeout seconds\",\n    fatal =&gt; 1,\n    web_page =&gt; 'http://www.errorsolution.com/727',\n    }\n};\n\nsub error_post {\n    my ($error) = @_;\n    print($error-&gt;{message});   \n}\n    error_post(ERROR_SW);\n</code></pre>\n\n<p>I simply want to post the error with the variable values included in the string.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 32382, "user_id": 587803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7431a850a166ca3a648141c532aa9d0?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/587803/ben"}, "edited": false, "score": 1, "creation_date": 1457622287, "post_id": 35918022, "comment_id": 59498484, "body": "use quotemeta to escape metacharacters. If you want to check try <code>perl -e &#39;print quotemeta(&quot;access_log-&quot;)&#39;</code>"}, {"owner": {"reputation": 32382, "user_id": 587803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7431a850a166ca3a648141c532aa9d0?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/587803/ben"}, "edited": false, "score": 0, "creation_date": 1457687302, "post_id": 35918022, "comment_id": 59528793, "body": "Underscore <code>_</code> is in SQL <code>LIKE</code> patterns though, which aren&#39;t full regexes."}], "answers": [{"comments": [{"owner": {"reputation": 7975, "user_id": 3836111, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bc8e3526756540925b0536455b280205?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Proske", "link": "https://stackoverflow.com/users/3836111/sebastian-proske"}, "edited": false, "score": 0, "creation_date": 1457618874, "post_id": 35918358, "comment_id": 59495772, "body": "<code>-</code> is only a Metacharacter inside character classes, so need to worry for the OP at all in this case, e.g. <code>a-z</code> matches <code>a-z</code> literally whereas <code>[a-z]</code> matches a single lowercase letter"}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "reply_to_user": {"reputation": 7975, "user_id": 3836111, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bc8e3526756540925b0536455b280205?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Proske", "link": "https://stackoverflow.com/users/3836111/sebastian-proske"}, "edited": false, "score": 0, "creation_date": 1457619283, "post_id": 35918358, "comment_id": 59496054, "body": "@SebastianProske, thanks, updated. That&#39;s what I get for using too many different pattern specifications from different engines."}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457622132, "post_id": 35918358, "comment_id": 59498358, "body": "@Borodin, &quot;Quoted&quot; is used interchangably with &quot;escaped&quot;. For example look up <code>perlre</code>, especially <code>\\Q</code> part."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457623270, "post_id": 35918358, "comment_id": 59499301, "body": "@OlegV.Volkov: IMO it is horrible to use <i>quoting</i> when you mean <i>escaping</i>. How would you describe making <code>[</code> into <code>&quot;[&quot;</code>? And since there is a common unambiguous verb that says what you mean, why not use it? I shall raise a bug report about <code>perlre</code>"}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457624903, "post_id": 35918358, "comment_id": 59500517, "body": "@Borodin, you&#39;d need to bug report <code>quotemeta</code> first - it is right in the name. This is not a bug or &quot;another meaning&quot;, just two English words used interchangeably in this context. For example en.wiki article on <a href=\"https://en.wikipedia.org/wiki/Escape_character\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Escape_character</a> uses it too."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1457627584, "post_id": 35918358, "comment_id": 59502462, "body": "@OlegV.Volkov: Yes, I&#39;ve mentioned <code>quotemeta</code> and <code>\\Q</code> in my bug report. Of course I&#39;m aware that <i>quote</i> is often used to mean <i>escape</i>, but in the context of programming where the former can mean several critically different things it is just lazy not to say <i>escape</i> when that is what you mean"}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1457742491, "post_id": 35918358, "comment_id": 59560750, "body": "@ThisSuitsIsBlackNot, guys, why are you so hellbent on acting Captain Obvious and stating that <code>_</code> is underscore and <code>-</code> is hypen as if somebody would think that they are a tree and bicycle instead? First Borodin, now you, I don&#39;t get it."}], "tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": true, "score": 3, "last_activity_date": 1457725231, "last_edit_date": 1457725231, "creation_date": 1457617731, "answer_id": 35918358, "question_id": 35918022, "link": "https://stackoverflow.com/questions/35918022/which-characters-must-be-escaped-in-a-perl-regex-pattern/35918358#35918358", "title": "Which characters must be escaped in a Perl regex pattern", "body": "<p>Underscore (<code>_</code>) is not a metacharacter and does not need to be quoted (though it won't change anything if you quote it).</p>\n\n<p>Hyphen (<code>-</code>) IS a metacharacter that defines the range between two symbols inside a bracketed character class. However, <strong>in this particular position,</strong> it will be interpreted verbatim and doesn't need quoting since it is not inside <code>[]</code> with a symbol on both sides.</p>\n\n<p>You can use your regexp as is; hyphens (<code>-</code>) might need quoting if your format changes in future.</p>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1457627718, "post_id": 35920224, "comment_id": 59502554, "body": "It wouldn&#39;t hurt to add a link to <a href=\"http://perldoc.perl.org/perlre.html#Regular-Expressions\" rel=\"nofollow noreferrer\">perldoc perlre</a>, which describes the metacharacters in a concise little table."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1457653458, "post_id": 35920224, "comment_id": 59517480, "body": "@MattJacob: I think you&#39;ve done that for me! Thanks Matt"}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1457655392, "post_id": 35920224, "comment_id": 59518012, "body": "See the <a href=\"http://perldoc.perl.org/perlrecharclass.html#Special-Characters-Inside-a-Bracketed-Character-Class\" rel=\"nofollow noreferrer\">perlrecharclass man page</a> for other characters that must be escaped in character classes."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1457622886, "last_edit_date": 1457622886, "creation_date": 1457622467, "answer_id": 35920224, "question_id": 35918022, "link": "https://stackoverflow.com/questions/35918022/which-characters-must-be-escaped-in-a-perl-regex-pattern/35920224#35920224", "title": "Which characters must be escaped in a Perl regex pattern", "body": "<p>Your regex pattern is exactly right</p>\n\n<p>Neither underscore <code>_</code> nor hyphen <code>-</code> need to be escaped. Outside a square-bracketed character class, the twelve Perl regex metacharacters are</p>\n\n<ul>\n<li>Brackets <code>(</code> <code>)</code> <code>[</code> <code>{</code></li>\n<li>Quantifiers <code>*</code> <code>+</code> <code>?</code></li>\n<li>Anchors <code>^</code> <code>$</code></li>\n<li>Alternator <code>|</code></li>\n<li>Wild character <code>.</code></li>\n<li>The escape itself <code>\\</code></li>\n</ul>\n\n<p>and only these must be escaped</p>\n\n<p>If the pattern of your file names doesn't vary from what you have shown then the pattern that you are using</p>\n\n<pre><code>^access_log-\\d{8}$\n</code></pre>\n\n<p>is correct, unless you need to validate the date string</p>\n\n<p><br/></p>\n\n<hr>\n\n<p><strong><em>Within a character class</em></strong> like <code>[A-F]</code> you <em>must</em> escape the hyphen if you want it to be interpreted literally. As it stands, that class is the equivalent to <code>[ABCDEF]</code>. If you mean just the three characters <code>A</code>, <code>-</code> or <code>F</code> then <code>[A\\-F]</code> will do what you want, but it is usual to put the hyphen at the start or end of the class list to make it unambiguous. <code>[-AF]</code> and <code>[AF-]</code> are the same as <code>[A\\-F]</code> and rather more readable</p>\n"}], "owner": {"reputation": 121, "user_id": 4370813, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2dcef020458c6d808d8b89374e541e31?s=128&d=identicon&r=PG&f=1", "display_name": "ContraViZe", "link": "https://stackoverflow.com/users/4370813/contravize"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "accepted_answer_id": 35918358, "answer_count": 2, "score": 1, "last_activity_date": 1457725231, "creation_date": 1457616853, "last_edit_date": 1457621356, "question_id": 35918022, "link": "https://stackoverflow.com/questions/35918022/which-characters-must-be-escaped-in-a-perl-regex-pattern", "title": "Which characters must be escaped in a Perl regex pattern", "body": "<p>Im trying to find files that are looking like this:</p>\n\n<pre><code>access_log-20160101\naccess_log-20160304\n...\n</code></pre>\n\n<p>with perl regex i came up with something like this:</p>\n\n<pre><code>/^access_log-\\d{8}$/\n</code></pre>\n\n<p>But im not sure about the \"_\" and the \"-\". are these metacharacter?\nWhat is the expression for this?</p>\n\n<p>i read that \"_\" in regex is something like \\w, but how do i use them in my exypression?</p>\n\n<pre><code>/^access\\wlog-\\d{8}$/ ?\n</code></pre>\n"}, {"tags": ["r", "perl", "bioinformatics", "bioperl"], "answers": [{"tags": [], "owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "is_accepted": false, "score": 3, "last_activity_date": 1457612606, "last_edit_date": 1457612606, "creation_date": 1457612304, "answer_id": 35916325, "question_id": 35915635, "link": "https://stackoverflow.com/questions/35915635/converting-selected-rows-to-column-using-perl-script/35916325#35916325", "title": "Converting selected rows to column using perl script", "body": "<p>As a single-line command, this would be</p>\n\n<pre><code>perl -n -e 's/^\\s+//; s/\\s+$//; next unless $_ ne \"\"; if (/^[&gt;]/) { $n = $_; } else { printf \"%-11s%s\\n\", $n, $_; }' &lt; data.txt\n</code></pre>\n\n<p>For clarification, when put in a perl program, it would look like:</p>\n\n<pre><code>#!/usr/bin/perl\n\nwhile (&lt;&gt;) {                            # iterate over all lines\n    s/^\\s+//;                           # remove whitespace at the beginning...\n    s/\\s+$//;                           # ...and the end of the line\n    next unless $_ ne \"\";               # ignore empty lines\n    if (/^[&gt;]/) { $n = $_; }            # if line starts with &gt;, remember it\n    else { printf \"%-11s%s\\n\", $n, $_;  # otherwise output the remembered \n}                                       # content and the current line\n</code></pre>\n\n<p>This accepts your content as input, so it would be called with <code>perl program.pl &lt; data.txt</code>.</p>\n\n<p>The content is expected to be contained in <code>data.txt</code>; modify this to your actual filename.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1457617240, "creation_date": 1457617240, "answer_id": 35918179, "question_id": 35915635, "link": "https://stackoverflow.com/questions/35915635/converting-selected-rows-to-column-using-perl-script/35918179#35918179", "title": "Converting selected rows to column using perl script", "body": "<p>With some explanatory comments...</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\n# Store the current line\nmy $line;\nwhile (&lt;DATA&gt;) {\n  # Remove the newline\n  chomp;\n  # If the line starts with '&gt;'\n  if (/^&gt;/) {\n    # Output the current $line\n    # (if we have one)\n    say $line if $line;\n    # Set $line to this line\n    $line = $_;\n  } else {\n    # Append this line to $line\n    $line .= \"\\t$_\";\n  }\n}\n\n# Output the current line\nsay $line;\n\n__DATA__\n&gt;pmpG\n polymorphic outer membrane protein\n&gt;pmpH\n polymorphic outer membrane protein\n&gt;CTA_0953\n hypothetical protein\n&gt;pmpI\n polymorphic outer membrane protein\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5830914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53f846cf5dbb4602f527f6f31f2f551d?s=128&d=identicon&r=PG&f=1", "display_name": "Nitha", "link": "https://stackoverflow.com/users/5830914/nitha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1457617240, "creation_date": 1457610464, "last_edit_date": 1457611144, "question_id": 35915635, "link": "https://stackoverflow.com/questions/35915635/converting-selected-rows-to-column-using-perl-script", "title": "Converting selected rows to column using perl script", "body": "<p>I need a Perl script to concatenation the line..</p>\n\n<p>I have more than 1000 gene name (>pmpI) and its function (polymorphic outer membrane protein) its is in separate line and i wish to join the function of the gene near to the gene name, so that it can be easy in future to visualize and save it for further reference.</p>\n\n<p>Eg: Files content looks like this</p>\n\n<pre><code>&gt;pmpG\n polymorphic outer membrane protein\n&gt;pmpH\n polymorphic outer membrane protein\n&gt;CTA_0953\n hypothetical protein\n&gt;pmpI\n polymorphic outer membrane protein\n</code></pre>\n\n<p>I tried to do manually in excel manually, but its not possible for many files, so i thought to get help from programmer..</p>\n\n<p>I need Perl script to concatenation the lines</p>\n\n<p>Program out put should be like this:</p>\n\n<pre><code>&gt;pmpG      polymorphic outer membrane protein\n&gt;pmpH      polymorphic outer membrane protein\n&gt;CTA_0953  hypothetical protein\n&gt;pmpI      polymorphic outer membrane protein\n</code></pre>\n"}, {"tags": ["perl", "authentication", "cgi", "catalyst", "libssh2"], "answers": [{"comments": [{"owner": {"reputation": 202, "user_id": 1606164, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6306a99514c0a21ba2e88e58b998505e?s=128&d=identicon&r=PG", "display_name": "Tigran Khachikyan", "link": "https://stackoverflow.com/users/1606164/tigran-khachikyan"}, "edited": false, "score": 0, "creation_date": 1457619304, "post_id": 35915256, "comment_id": 59496073, "body": "I&#39;m not gonna store $ssh2 object in session. What I need is somehow generate public/private keys  for user during first login. and then user key authentication during command execution."}], "tags": [], "owner": {"reputation": 103, "user_id": 1630337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28dacf6024a164e98131bf58fd67b5a3?s=128&d=identicon&r=PG", "display_name": "justnoxx", "link": "https://stackoverflow.com/users/1630337/justnoxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1457609496, "creation_date": 1457609496, "answer_id": 35915256, "question_id": 35914065, "link": "https://stackoverflow.com/questions/35914065/netssh2-authentication-without-password/35915256#35915256", "title": "Net::SSH2 authentication without password", "body": "<p>I don't think that you can do it that way.\nCatalyst's Session can store user data, but you need to know that\nNet::SSH2 is XS module, so, it Net::SSH2 object will be XS.\nIf you will try to store connected Net::SSH2 object you will get core dump.</p>\n\n<p>Dump of the Net::SSH2 objet looks like:</p>\n\n<pre><code>$VAR1 = bless( do{\\(my $o = 137381360)}, 'Net::SSH2' );\n</code></pre>\n\n<p>You're unable to serialize/deserialize XS object. You have to store password, or use different authentication mechanism, for example, key authentication.</p>\n"}], "owner": {"reputation": 202, "user_id": 1606164, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6306a99514c0a21ba2e88e58b998505e?s=128&d=identicon&r=PG", "display_name": "Tigran Khachikyan", "link": "https://stackoverflow.com/users/1606164/tigran-khachikyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457609496, "creation_date": 1457606306, "question_id": 35914065, "link": "https://stackoverflow.com/questions/35914065/netssh2-authentication-without-password", "title": "Net::SSH2 authentication without password", "body": "<p>I have a web interface and login mechanize in which authentication done by checking whether user can login on the server or no.</p>\n\n<pre><code>use Net::SSH2;\n\n#Get  $un and $pw as POST data.\n\nmy $ssh2 = Net::SSH2-&gt;new();\n$ssh2-&gt;connect('localhost') or die $!;\n\nif($ssh2-&gt;auth_password($un, $pw) ){\n    $c-&gt;session-&gt;{logged}  = 1;\n}\n</code></pre>\n\n<p>I don't want to store any password for session.</p>\n\n<p>And later in the flow I need to execute some command in the server by logged user.\nSo at this point I again need the password in order to make ssh2 authentication\n(Execution can be later in the flow from other page).\nMy question is, once I make authentication first time, can I store anything (may be private key) for session or for user in order to not ask for password second time.</p>\n"}, {"tags": ["mysql", "perl", "driver"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1457615156, "post_id": 35914039, "comment_id": 59493014, "body": "Does the file &#39;D:/xampp/perl/vendor/lib/auto/DBD/mysql/mysql.dll&#39; exist? Have you installed DBD::mysql? If so, how did you install it?"}, {"owner": {"reputation": 36, "user_id": 3386500, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0QoOL.jpg?s=128&g=1", "display_name": "user3386500", "link": "https://stackoverflow.com/users/3386500/user3386500"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1457617651, "post_id": 35914039, "comment_id": 59494877, "body": "This file was already there. <a href=\"http://prntscr.com/adhey3\" rel=\"nofollow noreferrer\">prntscr.com/adhey3</a> Also i tried using the install command cpan&gt; install DBI cpan&gt; install DBD::mysql It also did not help."}, {"owner": {"reputation": 36, "user_id": 3386500, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0QoOL.jpg?s=128&g=1", "display_name": "user3386500", "link": "https://stackoverflow.com/users/3386500/user3386500"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1457619219, "post_id": 35914039, "comment_id": 59496006, "body": "Is that the right way to install i.e. using cpan for xampp or should i use something else?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1457619411, "post_id": 35914039, "comment_id": 59496151, "body": "Using &quot;cpan&quot; (or &quot;cpanm&quot;) seems fine. But it seems that something isn&#39;t quite right here. I&#39;m afraid I avoid Windows, so I can&#39;t be any more help."}, {"owner": {"reputation": 36, "user_id": 3386500, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0QoOL.jpg?s=128&g=1", "display_name": "user3386500", "link": "https://stackoverflow.com/users/3386500/user3386500"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1457619708, "post_id": 35914039, "comment_id": 59496394, "body": "I appreciate the help , thanks."}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 3386500, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0QoOL.jpg?s=128&g=1", "display_name": "user3386500", "link": "https://stackoverflow.com/users/3386500/user3386500"}, "is_accepted": false, "score": 1, "last_activity_date": 1457625555, "creation_date": 1457625555, "answer_id": 35921387, "question_id": 35914039, "link": "https://stackoverflow.com/questions/35914039/mysql-and-perl-driver-issue-dbdmysql-load-filethe-specified-module-could-n/35921387#35921387", "title": "MySQL and Perl Driver Issue - DBD::mysql: load_file:The specified module could not be found", "body": "<p>I found a workaround this:</p>\n\n<p>It seems the xampp version of perl is somewhat not ready or has missing files. So i just installed strawberry Perl, and the program ran without any issue. I hope it helps any others who are looking for a fix.</p>\n"}], "owner": {"reputation": 36, "user_id": 3386500, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0QoOL.jpg?s=128&g=1", "display_name": "user3386500", "link": "https://stackoverflow.com/users/3386500/user3386500"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1983, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1457625555, "creation_date": 1457606260, "last_edit_date": 1457618069, "question_id": 35914039, "link": "https://stackoverflow.com/questions/35914039/mysql-and-perl-driver-issue-dbdmysql-load-filethe-specified-module-could-n", "title": "MySQL and Perl Driver Issue - DBD::mysql: load_file:The specified module could not be found", "body": "<p>I've just started learning perl. So i am getting introduced to database connectivity here. For this i am using XAMPP server installed on my windows7 machine. Following is a sample piece of code that i have written for testing database.</p>\n\n<pre><code>#!D:\\xampp\\perl\\perl.exe\nprint \" Enter Name : \";\nchomp($name=&lt;STDIN&gt;);\nprint \" Enter Age : \";\nchomp($age=&lt;STDIN&gt;);\n\nuse DBI;\n\n$dbh=DBI-&gt;connect('DBI:mysql:test');\n\n$insert=\"insert into student values ('$name',$age)\";\n$d=$dbh-&gt;prepare($insert);\n$d-&gt;execute();\n\n$s=\"select * from student\";\n$s1=$dbh-&gt;prepare($s);\n$s1-&gt;execute();\n\nwhile(@v=$s1-&gt;fetchrow_array)\n{\n    print \"$v[0] \\t $v[1] \\n\";\n}\n\n$dbh-&gt;disconnect();\n</code></pre>\n\n<p>As you might be able to see that i'm using the test database available in the phpmyadmin database. i have created a student table with name and age as columns. But when i run this code in my browser i get the following error.</p>\n\n<blockquote>\n  <p>C:\\Users\\dellpc\\Google Drive\\coding\\web>perl datab.pl<br>\n  Enter Name : one\n  Enter Age : 20 \n  install_driver(mysql) failed: Can't load\n  'D:/xampp/perl/vendor/lib/auto/DBD/mysql/mysql.dll' for module\n  DBD::mysql: load_file:The specified module could not be found at\n  D:/xampp/perl/lib/DynaLoader.pm line 190,  line 2.  at (eval 4)\n  line 3. Compilation failed in require at (eval 4) line 3,  line\n  2. Perhaps a required shared library or dll isn't installed where expected  at datab.pl line 9.</p>\n</blockquote>\n\n<p>I browsed over Google to find out what this error could mean. It seemed that i was missing a file called libmysql.dll , which i downloaded and copied in the xampp perl/bin and the perl/vendor/.../DBD directory as well but this did not help. </p>\n\n<p>I also tried using older version of XAMPP , the issue still persists. Does anyone has any idea how to fix this? Thanks in advance. :)</p>\n\n<p><strong>Edit 1:</strong></p>\n\n<p>This is the error i get when i try install commands.</p>\n\n<pre><code>&gt; cpan&gt; install DBI \n</code></pre>\n\n<blockquote>\n  <p>T/TI/TIMB/DBI-1.634.tar.gz   Has already been unwrapped into directory\n  D:\\xampp\\cpan\\build\\DBI-1.634-HZNMVR Could not make: Unknown error\n  Running make test   Can't test without successful make Running make\n  install   Make had returned bad status, install seems impossible</p>\n</blockquote>\n\n<p>cpan> install DBD::mysql Running install for module 'DBD::mysql'</p>\n\n<blockquote>\n  <p>Running make for C/CA/CAPTTOFU/DBD-mysql-4.033.tar.gz   Has already\n  been unwrapped into directory\n  D:\\xampp\\cpan\\build\\DBD-mysql-4.033-3pgMhg<br>\n  'D:\\xampp\\perl\\bin\\perl.exe Makefile.PL' returned status 512, won't\n  make Running make test   Make had some problems, won't test Running\n  make install   Make had some problems, won't installRunning install for module 'DBI' Running make for</p>\n</blockquote>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1464, "user_id": 3603374, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/MRRo6.gif?s=128&g=1", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/3603374/sandeep"}, "edited": false, "score": 1, "creation_date": 1457597608, "post_id": 35910822, "comment_id": 59480857, "body": "Rahul i edited the question for formatting, please check if it correct as for your scenario."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1457598907, "post_id": 35910822, "comment_id": 59481577, "body": "Do you want to read the file in and write out another but without these lines?"}, {"owner": {"reputation": 50, "user_id": 4118614, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3jOfF6S-93A/AAAAAAAAAAI/AAAAAAAAAA8/lltgD_y8D8U/photo.jpg?sz=128", "display_name": "Rahul Verma", "link": "https://stackoverflow.com/users/4118614/rahul-verma"}, "edited": false, "score": 0, "creation_date": 1457604693, "post_id": 35910822, "comment_id": 59485668, "body": "I am reading from one file and writing to another but i need without those lines"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1457605349, "post_id": 35911621, "comment_id": 59486179, "body": "You might want to double-check that regex. I don&#39;t think that <code>.?</code> does what you think it does. You might mean <code>.*?</code> or <code>.+?</code> instead."}, {"owner": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1457605632, "post_id": 35911621, "comment_id": 59486382, "body": "@DaveCross Thanks - I was looking for non-greedy matching. Fixed now."}], "tags": [], "owner": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "is_accepted": false, "score": 1, "last_activity_date": 1457605594, "last_edit_date": 1457605594, "creation_date": 1457600006, "answer_id": 35911621, "question_id": 35910822, "link": "https://stackoverflow.com/questions/35910822/i-need-to-remove-a-segment-till-a-delimiter-after-two-or-three-lines-of-a-s/35911621#35911621", "title": "I need to remove a segment till a delimiter &quot;);&quot; after two or three lines of a search keyword in file using perl script", "body": "<p>You need to use multi-line matching. You will need to slurp the whole file into a variable and then substitute that.</p>\n\n<pre><code>$all_lines =~ s/FIND_WORD.*?\\)\\;//sg;\n</code></pre>\n\n<p>This matches from FIND_WORD to the nearest \");\" and deletes it.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1457603636, "creation_date": 1457603636, "answer_id": 35913024, "question_id": 35910822, "link": "https://stackoverflow.com/questions/35910822/i-need-to-remove-a-segment-till-a-delimiter-after-two-or-three-lines-of-a-s/35913024#35913024", "title": "I need to remove a segment till a delimiter &quot;);&quot; after two or three lines of a search keyword in file using perl script", "body": "<p>Sounds like this is exactly what the flip-flop operator is for.</p>\n\n<pre><code>while (&lt;&gt;) {\n  print unless /FIND_WORD\\(/ .. /\\);/;\n}\n</code></pre>\n\n<p>From <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow\">perlop</a>:</p>\n\n<blockquote>\n  <p>In scalar context, \"..\" returns a boolean value. The operator is\n  bistable, like a flip-flop, and emulates the line-range (comma)\n  operator of sed, awk, and various editors. Each \"..\" operator\n  maintains its own boolean state, even across calls to a subroutine\n  that contains it. It is false as long as its left operand is false.\n  Once the left operand is true, the range operator stays true until the\n  right operand is true, AFTER which the range operator becomes false\n  again.</p>\n</blockquote>\n\n<p>See <a href=\"http://blog.geekuni.com/2016/03/perl-flip-flop.html\" rel=\"nofollow\">this recent GeekUni blog post</a> for more details.</p>\n"}], "owner": {"reputation": 50, "user_id": 4118614, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3jOfF6S-93A/AAAAAAAAAAI/AAAAAAAAAA8/lltgD_y8D8U/photo.jpg?sz=128", "display_name": "Rahul Verma", "link": "https://stackoverflow.com/users/4118614/rahul-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 1, "accepted_answer_id": 35913024, "answer_count": 2, "score": 0, "last_activity_date": 1457605594, "creation_date": 1457597182, "last_edit_date": 1457598671, "question_id": 35910822, "link": "https://stackoverflow.com/questions/35910822/i-need-to-remove-a-segment-till-a-delimiter-after-two-or-three-lines-of-a-s", "title": "I need to remove a segment till a delimiter &quot;);&quot; after two or three lines of a search keyword in file using perl script", "body": "<p>Iam trying to remove a test segment frequently occurs in a file. I have a matching keyword let suppose</p>\n\n<pre><code>FIND_WORD(---------\n            -----------\n             -----------); \n</code></pre>\n\n<p>is terminating after 2 or 3 lines at \" <code>);</code>\" but i need to remove next few lines also till \"<code>);</code>\" </p>\n\n<p>I am using</p>\n\n<pre><code>if ($line =~ m/FIND_WORD/) {return 0;}\n</code></pre>\n\n<p>which removes one line\nI need to remove till \"<code>);</code>\"</p>\n"}, {"tags": ["perl", "distribution", "random-sample"], "answers": [{"tags": [], "owner": {"reputation": 174, "user_id": 5889745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6e1d09e53789c17ad12bef08a52e3e?s=128&d=identicon&r=PG&f=1", "display_name": "Jorgen", "link": "https://stackoverflow.com/users/5889745/jorgen"}, "is_accepted": false, "score": 1, "last_activity_date": 1457611073, "last_edit_date": 1457611073, "creation_date": 1457610386, "answer_id": 35915607, "question_id": 35910765, "link": "https://stackoverflow.com/questions/35910765/random-binomial-distributed-dataset-in-perl/35915607#35915607", "title": "random binomial distributed dataset in perl", "body": "<p>I don't know much about statistics, but since nobody else comes forward: I would use the Perl Data Language PDL (which I use for other things) and fetch the PDL::Stats::Distr module. You can find an example that looks somewhat similar to yours here <a href=\"http://pdl-stats.sourceforge.net/Distr.htm\" rel=\"nofollow\">http://pdl-stats.sourceforge.net/Distr.htm</a>. The module includes pmf_binomial (mass function) and mme_binomial (distribution). You will also need the PGPLOT module.</p>\n\n<p>You will need some random data:</p>\n\n<pre><code>    $data = pdl  1..100000;    ## generate linear 1 - 100000\n    $data = $data-&gt;random;     ## make them random between 0..1\n</code></pre>\n"}], "owner": {"reputation": 627, "user_id": 1386500, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51385782f7402df39437a962f1aaf75f?s=128&d=identicon&r=PG", "display_name": "splaisan", "link": "https://stackoverflow.com/users/1386500/splaisan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1457611073, "creation_date": 1457596996, "question_id": 35910765, "link": "https://stackoverflow.com/questions/35910765/random-binomial-distributed-dataset-in-perl", "title": "random binomial distributed dataset in perl", "body": "<p>I try to do in perl what I succeedd in R but is difficult to combine with my downstream needs.</p>\n\n<p>in R I did the following</p>\n\n<pre><code>library(\"MASS\")\nd &lt;- rnegbin(100000, mu = 250, theta = 2)\nhist(d, breaks=1000, xlim=c(0,1000))\n</code></pre>\n\n<p>producing the nice graph I need with a peak round 180-200 and a tail to the right. </p>\n\n<p><a href=\"https://i.stack.imgur.com/ioX2f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ioX2f.png\" alt=\"enter image description here\"></a></p>\n\n<p>Could someone help me code the perl equivalent using <strong>Math::Random</strong></p>\n\n<p>I tried this but do not get the right shape</p>\n\n<pre><code>use Math::Random qw(random_negative_binomial);\n\n# random_negative_binomial($n, $ne, $p)\n# When called in an array context, returns an array of $n outcomes \n# generated from the negative binomial distribution with number of \n# events $ne and probability of an event in each trial $p. \n# When called in a scalar context, generates and returns only one \n# such outcome as a scalar, regardless of the value of $n.\n# Argument restrictions: $ne is rounded using int(), the result must be positive. \n# $p must be between 0 and 1 exclusive.\n\n# I tried different variable values but never got the right shape\nmy @dist = random_negative_binomial($n, $ne, $p);\n</code></pre>\n\n<p>what values do I need to mimic the R results?\nI need the same range of values on X and the same general shape</p>\n\n<p>Thanks for any help, I did not find illustrated examples of that package</p>\n\n<p>Stephane</p>\n"}, {"tags": ["perl", "awk", "sed", "compare", "match"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4871106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb9b7aca273b3cc612ae277483c64b58?s=128&d=identicon&r=PG&f=1", "display_name": "vmadhav", "link": "https://stackoverflow.com/users/4871106/vmadhav"}, "edited": false, "score": 0, "creation_date": 1457602896, "post_id": 35911168, "comment_id": 59484299, "body": "Thanks jas for your solution. Is there any other simple way of doing this ?"}, {"owner": {"reputation": 35, "user_id": 4871106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb9b7aca273b3cc612ae277483c64b58?s=128&d=identicon&r=PG&f=1", "display_name": "vmadhav", "link": "https://stackoverflow.com/users/4871106/vmadhav"}, "edited": false, "score": 0, "creation_date": 1457605440, "post_id": 35911168, "comment_id": 59486242, "body": "Thanks Jas, That&#39;s awesome and it suits my solution."}], "tags": [], "owner": {"reputation": 10152, "user_id": 2229272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oisED.png?s=128&g=1", "display_name": "jas", "link": "https://stackoverflow.com/users/2229272/jas"}, "is_accepted": false, "score": 1, "last_activity_date": 1457603788, "last_edit_date": 1457603788, "creation_date": 1457598503, "answer_id": 35911168, "question_id": 35909988, "link": "https://stackoverflow.com/questions/35909988/compare-non-consecutive-fields-in-two-different-files/35911168#35911168", "title": "Compare non consecutive fields in two different files", "body": "<p>With <code>awk</code>:</p>\n\n<pre><code>$ cat s.awk\nBEGIN { FS=\",\" }\nNR==FNR { a[$1]; next }\n$2 in a { print &gt; \"matched.txt\" }\n!($2 in a) { print &gt; \"missing.txt\" }\n\n$ awk -f s.awk f1 f2\n\n$ cat missing.txt\n2015-10-30,8888,bsjfjah,iojk\n\n$ cat matched.txt\n2015-10-30,1234,zxcfgdk,kyfz\n2015-10-30,2567,askjfkj,aaaa\n</code></pre>\n\n<p>With <code>grep</code>:</p>\n\n<p>Another possibility is simply to use grep, but you need to be sure that the values in file1 will never appear (word delimited) in file2 outside of field2:</p>\n\n<pre><code>$ grep -w -f f1 f2\n2015-10-30,1234,zxcfgdk,kyfz\n2015-10-30,2567,askjfkj,aaaa\n\n$ grep -v -w -f f1 f2\n2015-10-30,8888,bsjfjah,iojk\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4871106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb9b7aca273b3cc612ae277483c64b58?s=128&d=identicon&r=PG&f=1", "display_name": "vmadhav", "link": "https://stackoverflow.com/users/4871106/vmadhav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1457603788, "creation_date": 1457594292, "last_edit_date": 1457603046, "question_id": 35909988, "link": "https://stackoverflow.com/questions/35909988/compare-non-consecutive-fields-in-two-different-files", "title": "Compare non consecutive fields in two different files", "body": "<p>I have a File_1.txt with below data in it.</p>\n\n<pre><code>1234\n2567\n</code></pre>\n\n<p>The second file File_2.txt has the below data in it.</p>\n\n<pre><code>2015-10-30,1234,zxcfgdk,kyfz\n2015-10-30,2567,askjfkj,aaaa\n2015-10-30,8888,bsjfjah,iojk\n</code></pre>\n\n<p>I want to compare the File_1.txt data with column2 data of File_2.txt. If it matches then redirect the entire row of File_2.txt to a seperate file. And the one's which are not matched to anothe file.</p>\n\n<p>Have googled many pages. But was not of any help. </p>\n\n<p>Thanks !</p>\n"}, {"tags": ["regex", "string", "perl", "comparison", "substring"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1457594435, "post_id": 35909966, "comment_id": 59479137, "body": "How about checking the length of both strings before <code>index()</code>?"}, {"owner": {"reputation": 299, "user_id": 5466956, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99c4633946bdfe763743821e2864ee6f?s=128&d=identicon&r=PG&f=1", "display_name": "Vraj Solanki", "link": "https://stackoverflow.com/users/5466956/vraj-solanki"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1457594582, "post_id": 35909966, "comment_id": 59479215, "body": "what if the length is same? say A =&quot;abcd&quot; B=&quot;bcef&quot; then I wont be able to decide which one to pass as substring"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1457595605, "post_id": 35909966, "comment_id": 59479761, "body": "What do you mean by &quot;better technique?&quot;  In one line, one statement, most efficient, most elegant ... ?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1457595617, "post_id": 35909966, "comment_id": 59479770, "body": "Obviously order doesn&#39;t matter if they are of same length."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457597862, "post_id": 35909966, "comment_id": 59480998, "body": "You do need to know which one is contained (in the other one), yes?  That would be a complicated statement."}, {"owner": {"reputation": 299, "user_id": 5466956, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99c4633946bdfe763743821e2864ee6f?s=128&d=identicon&r=PG&f=1", "display_name": "Vraj Solanki", "link": "https://stackoverflow.com/users/5466956/vraj-solanki"}, "edited": false, "score": 0, "creation_date": 1457603420, "post_id": 35909966, "comment_id": 59484685, "body": "Yeah I just wanted to know if there was a simpler method, say more precise than what I did, since I am a newbie in perl."}], "answers": [{"comments": [{"owner": {"reputation": 299, "user_id": 5466956, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99c4633946bdfe763743821e2864ee6f?s=128&d=identicon&r=PG&f=1", "display_name": "Vraj Solanki", "link": "https://stackoverflow.com/users/5466956/vraj-solanki"}, "edited": false, "score": 0, "creation_date": 1457607412, "post_id": 35910071, "comment_id": 59487637, "body": "okay so the mask contains 1,0 if s1 is a substring of the s2 right??"}, {"owner": {"reputation": 299, "user_id": 5466956, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99c4633946bdfe763743821e2864ee6f?s=128&d=identicon&r=PG&f=1", "display_name": "Vraj Solanki", "link": "https://stackoverflow.com/users/5466956/vraj-solanki"}, "edited": false, "score": 0, "creation_date": 1457608096, "post_id": 35910071, "comment_id": 59488128, "body": "So my purpose is I need to check which one is the substr of the other. I can follow a convention like if the response is 0 first one is a substr of other and if response is 1 vice versa. But what you did helps!"}, {"owner": {"reputation": 299, "user_id": 5466956, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99c4633946bdfe763743821e2864ee6f?s=128&d=identicon&r=PG&f=1", "display_name": "Vraj Solanki", "link": "https://stackoverflow.com/users/5466956/vraj-solanki"}, "edited": false, "score": 0, "creation_date": 1457610200, "post_id": 35910071, "comment_id": 59489493, "body": "No I would just add them in the map, and thats it. Thanks btw ;)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1459188840, "last_edit_date": 1459188840, "creation_date": 1457594593, "answer_id": 35910071, "question_id": 35909966, "link": "https://stackoverflow.com/questions/35909966/perl-how-can-we-check-that-which-string-is-a-sub-string-of-another/35910071#35910071", "title": "Perl: How can we check that which string is a sub string of another?", "body": "<p>Here is a simple way to submit the pair and get the string enclosing the other, or <code>undef</code>.</p>\n\n<pre><code>($enclosing) = grep { /$s2/ &amp;&amp; /$s1/ } ($s1, $s2);\n</code></pre>\n\n<p>Here is a way to get the strings ordered as <code>($inside, $enclosing)</code>, or get an empty list </p>\n\n<pre><code>@sorted = sort { \"$b$a\" =~ /^$b.*$b/ &lt;=&gt; \"$a$b\" =~ /^$a.*$a/ }\n          grep { $s1 =~ /$s2/ || $s2 =~ /$s1/ } ($s1, $s2);\n</code></pre>\n\n<p>This first filters out the no-match case by a two-way regex, passing through an empty list.</p>\n\n<p>In both cases equal words aren't in any way marked as such, and I don't see how they could be. \n<br>  However, they do contain each other and can probably be further processed the same way.\n<br>\nThe only solution in this answer that delivers that is the <code>@mask</code> below, set to <code>(1,1)</code> in that case.</p>\n\n<p>All code here runs under <code>use warnings</code> which is omitted for brevity.</p>\n\n<hr>\n\n<p>Posted initially. Returns a copy of the word that is inside the other or <code>undef</code>.</p>\n\n<pre><code>($in) =  map { /^($s1).*$s1|(^$s2).*$s2/ ? $1 // $2 : () } (\"$s1$s2\", \"$s2$s1\");\n</code></pre>\n\n<p>Comments clarified that returning a code clasifying which string is inside the other may be useful. </p>\n\n<pre><code>($sc) =  map { /^($s1).*$s1|(^$s2).*$s2/ ? ($1 &amp;&amp; 1) || ($2 &amp;&amp; 2) : () } \n              (\"$s1$s2\", \"$s2$s1\");\n</code></pre>\n\n<p>The <code>$sc</code> is <code>1</code> when <code>$s1</code> is contained in <code>$s2</code>,or <code>2</code> when <code>$s2</code> is in <code>$s1</code>, or <code>undef</code> otherwise.</p>\n\n<hr>\n\n<p>Depending on how this is meant to be used, the origin of the above may be useful</p>\n\n<pre><code>@mask =  map { /^($s1.*$s1)|(^$s2.*$s2)/ ? 1 : 0 } (\"$s1$s2\", \"$s2$s1\");\n</code></pre>\n\n<p>The <code>@mask</code> has <code>(bool, bool)</code> for whether words <code>($s1, $s2)</code> are inside the other. </p>\n\n<p>It is: <code>(1,1)</code> (equal), or <code>(1,0)</code> or <code>(0,1)</code> (for <code>$s1</code> or <code>$s2</code> inside the other) or <code>(0,0)</code> (distinct).</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457603983, "post_id": 35912609, "comment_id": 59485128, "body": "nice :)  That&#39;s <i>one</i> statement? :+1"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457606828, "post_id": 35912609, "comment_id": 59487235, "body": "@zdim it could be. :)"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1457628331, "post_id": 35912609, "comment_id": 59502969, "body": "@EugenKonkov perhaps not complete answer, as s1 is substr of s2, and s2 is substr of s1 at the same time."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 3, "last_activity_date": 1457602604, "creation_date": 1457602604, "answer_id": 35912609, "question_id": 35909966, "link": "https://stackoverflow.com/questions/35909966/perl-how-can-we-check-that-which-string-is-a-sub-string-of-another/35912609#35912609", "title": "Perl: How can we check that which string is a sub string of another?", "body": "<blockquote>\n  <p>@zdim one statement </p>\n</blockquote>\n\n<p>Knock yourself out,</p>\n\n<pre><code>print length($s1) &gt; length($s2) \n  ? \"s2 is @{[ index($s1,$s2) &lt;0 &amp;&amp; 'NOT ']}substr of s1\"\n  : \"s1 is @{[ index($s2,$s1) &lt;0 &amp;&amp; 'NOT ']}substr of s2\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "is_accepted": false, "score": 1, "last_activity_date": 1457614364, "creation_date": 1457614364, "answer_id": 35917058, "question_id": 35909966, "link": "https://stackoverflow.com/questions/35909966/perl-how-can-we-check-that-which-string-is-a-sub-string-of-another/35917058#35917058", "title": "Perl: How can we check that which string is a sub string of another?", "body": "<p>If you're sure that one of the string is a substring of the other, you could use something like:</p>\n\n<pre><code>my $c = ($sa =~ /$sb/) || (-1) *($sb =~ /$sa/);\n</code></pre>\n\n<p>Where 1 means $sb is a substr of $sa and -1 means $sa is a substr of $sb.</p>\n"}], "owner": {"reputation": 299, "user_id": 5466956, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99c4633946bdfe763743821e2864ee6f?s=128&d=identicon&r=PG&f=1", "display_name": "Vraj Solanki", "link": "https://stackoverflow.com/users/5466956/vraj-solanki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 35910071, "answer_count": 3, "score": 2, "last_activity_date": 1459188840, "creation_date": 1457594221, "last_edit_date": 1457767336, "question_id": 35909966, "link": "https://stackoverflow.com/questions/35909966/perl-how-can-we-check-that-which-string-is-a-sub-string-of-another", "title": "Perl: How can we check that which string is a sub string of another?", "body": "<p>I have 2 strings say A and B. Now any of these 2 can be a substring of another. For eg: </p>\n\n<pre><code> Case:1-- A = \"abcdef\" and B = \"abc\" //String B is Substring of A.\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Case:2-- A = \"xyz\" and B = \"wxyza\"  // String A is Substring of B.\n</code></pre>\n\n<p>Now I know about index function </p>\n\n<pre><code> index($substr, $str)\n</code></pre>\n\n<p>but I don't know which one is a substring of another, so can't pass the parameters.</p>\n\n<blockquote>\n  <p>I have done it using an <code>OR</code> where I check for both the cases by swapping the variables.</p>\n</blockquote>\n\n<p>I only need to know that one of the strings is a substring of another.\n<strong>But I need a better technique to do so?</strong> \nThanks in advance!</p>\n"}, {"tags": ["apache", "perl", "internal-server-error", "cgi-bin"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6042924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40245b28ea257c6ecd1e783521daca15?s=128&d=identicon&r=PG&f=1", "display_name": "Brownie Scavengers", "link": "https://stackoverflow.com/users/6042924/brownie-scavengers"}, "edited": false, "score": 0, "creation_date": 1457676188, "post_id": 35909335, "comment_id": 59523643, "body": "I did that it didnt work, Status 200 is only to check if it generates a form on the terminal, the script is executable what do you think we should do?"}, {"owner": {"reputation": 23, "user_id": 6042924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40245b28ea257c6ecd1e783521daca15?s=128&d=identicon&r=PG&f=1", "display_name": "Brownie Scavengers", "link": "https://stackoverflow.com/users/6042924/brownie-scavengers"}, "edited": false, "score": 0, "creation_date": 1457800625, "post_id": 35909335, "comment_id": 59575859, "body": "I did, got the following error [cgid:error] End of script output before headers"}, {"owner": {"reputation": 919, "user_id": 5513684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/961769367178033/picture?type=large", "display_name": "Steven Carlson", "link": "https://stackoverflow.com/users/5513684/steven-carlson"}, "reply_to_user": {"reputation": 23, "user_id": 6042924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40245b28ea257c6ecd1e783521daca15?s=128&d=identicon&r=PG&f=1", "display_name": "Brownie Scavengers", "link": "https://stackoverflow.com/users/6042924/brownie-scavengers"}, "edited": false, "score": 0, "creation_date": 1457807584, "post_id": 35909335, "comment_id": 59578279, "body": "The script same above is the full script, correct?  Do you have SSH access on your server?  If so try running the script in SSH (perl &lt;script_name.pl&gt;)"}, {"owner": {"reputation": 23, "user_id": 6042924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40245b28ea257c6ecd1e783521daca15?s=128&d=identicon&r=PG&f=1", "display_name": "Brownie Scavengers", "link": "https://stackoverflow.com/users/6042924/brownie-scavengers"}, "edited": false, "score": 0, "creation_date": 1458118963, "post_id": 35909335, "comment_id": 59711541, "body": "No it&#39;s not the full script it&#39;s too long and also generates a HTML output. I checked the form generated by copying and pasting the output into a HTML file after running the script from the terminal,  The html file works fine separately just not with apache. What do you think we should do about it?"}, {"owner": {"reputation": 919, "user_id": 5513684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/961769367178033/picture?type=large", "display_name": "Steven Carlson", "link": "https://stackoverflow.com/users/5513684/steven-carlson"}, "reply_to_user": {"reputation": 23, "user_id": 6042924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40245b28ea257c6ecd1e783521daca15?s=128&d=identicon&r=PG&f=1", "display_name": "Brownie Scavengers", "link": "https://stackoverflow.com/users/6042924/brownie-scavengers"}, "edited": false, "score": 0, "creation_date": 1458149144, "post_id": 35909335, "comment_id": 59734386, "body": "For testing what I do is put print &quot;test&quot;; __END__ in my codes and keep going line by line until I find the offending line that is causing the crash."}], "tags": [], "owner": {"reputation": 919, "user_id": 5513684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/961769367178033/picture?type=large", "display_name": "Steven Carlson", "link": "https://stackoverflow.com/users/5513684/steven-carlson"}, "is_accepted": false, "score": 0, "last_activity_date": 1457591963, "creation_date": 1457591963, "answer_id": 35909335, "question_id": 35908621, "link": "https://stackoverflow.com/questions/35908621/internal-server-error-500-on-apache-for-perl-script/35909335#35909335", "title": "Internal Server Error 500 on Apache for perl script", "body": "<p>You must have the Content-Type be the first thing printed back to the screen.  Also make sure the script is set as executable.</p>\n\n<pre><code>print \"Status: 200 OK\\nContent-Type: text/html\\n\\n\";\n</code></pre>\n\n<p>Should be:</p>\n\n<pre><code>print \"Content-Type: text/html\\n\\nStatus: 200 OK\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 6042924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40245b28ea257c6ecd1e783521daca15?s=128&d=identicon&r=PG&f=1", "display_name": "Brownie Scavengers", "link": "https://stackoverflow.com/users/6042924/brownie-scavengers"}, "edited": false, "score": 0, "creation_date": 1457676268, "post_id": 35921283, "comment_id": 59523668, "body": "The script is executable and is giving the same error, what do you think we should do?"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 23, "user_id": 6042924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40245b28ea257c6ecd1e783521daca15?s=128&d=identicon&r=PG&f=1", "display_name": "Brownie Scavengers", "link": "https://stackoverflow.com/users/6042924/brownie-scavengers"}, "edited": false, "score": 0, "creation_date": 1457717111, "post_id": 35921283, "comment_id": 59549186, "body": "Could you try the script I provided above and see if that works?"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 23, "user_id": 6042924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40245b28ea257c6ecd1e783521daca15?s=128&d=identicon&r=PG&f=1", "display_name": "Brownie Scavengers", "link": "https://stackoverflow.com/users/6042924/brownie-scavengers"}, "edited": false, "score": 0, "creation_date": 1458142780, "post_id": 35921283, "comment_id": 59729643, "body": "It looks like the problem is with your code then. Given you&#39;re not getting any other errors in the log, the likely problem is your script isn&#39;t outputting anything, not even the headers."}], "tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": false, "score": 0, "last_activity_date": 1457625287, "creation_date": 1457625287, "answer_id": 35921283, "question_id": 35908621, "link": "https://stackoverflow.com/questions/35908621/internal-server-error-500-on-apache-for-perl-script/35921283#35921283", "title": "Internal Server Error 500 on Apache for perl script", "body": "<p>The script also needs to be executable by Apache for it to work</p>\n\n<pre><code>chmod a+x YourScript.pl\n</code></pre>\n\n<p>I've tested with the following script and once I fixed the permissions it works just fine. You also only need to set the status if it isn't 200 as that's the default.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nprint \"Status: 200\\nContent-Type: text/html\\n\\n\";\n\nprint \"&lt;p&gt;Foo&lt;/p&gt;\";\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6042924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40245b28ea257c6ecd1e783521daca15?s=128&d=identicon&r=PG&f=1", "display_name": "Brownie Scavengers", "link": "https://stackoverflow.com/users/6042924/brownie-scavengers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1580, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1457625287, "creation_date": 1457589058, "last_edit_date": 1457590665, "question_id": 35908621, "link": "https://stackoverflow.com/questions/35908621/internal-server-error-500-on-apache-for-perl-script", "title": "Internal Server Error 500 on Apache for perl script", "body": "<p>I have a perl script in my cgi-bin. It first prints out the following statements</p>\n\n<pre><code>print \"Status: 200 OK\\nContent-Type: text/html\\n\\n\";\n</code></pre>\n\n<p>It generates a html form on the terminal perfectly but when I try running it on the browser it gives the following error</p>\n\n<blockquote>\n  <p>Internal Server Error The server encountered an internal error or\n  misconfiguration and was unable to complete your request. Please\n  contact the server administrator at [no address given] to inform them\n  of the time this error occurred, and the actions you performed just\n  before this error.</p>\n</blockquote>\n\n<p>I have enabled cgi-bin in the apache configuration, the error log prints the following error</p>\n\n<blockquote>\n  <p>End of script output before headers</p>\n</blockquote>\n\n<p>What could be the problem and how should I resolve it</p>\n"}, {"tags": ["perl", "mechanize", "content-type"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1457581900, "post_id": 35906653, "comment_id": 59474472, "body": "MIME::Type, MIME::Types and File::MimeInfo seem able."}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1457577972, "creation_date": 1457577972, "question_id": 35906653, "link": "https://stackoverflow.com/questions/35906653/how-to-determine-file-extension-of-downloaded-content", "title": "How to determine file extension of downloaded content", "body": "<p>I am downloading multiple files which may be of different types (eg. <code>PDF</code> or <code>TIFF</code>).  I would like to save the files with the correct file extension for each file.  I am able to look at the content-type header using:</p>\n\n<pre><code>$type = $mech-&gt;response-&gt;headers-&gt;header( 'Content-Type' );\n</code></pre>\n\n<p>Then I can work from there and make up my own file extensions based on the content-type found, but is there a <code>perl</code> module that already does this?  How else can it be done?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457571946, "post_id": 35905647, "comment_id": 59471734, "body": "Why is this under <code>grep</code>?  What are you trying to do altogether?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1457572647, "post_id": 35905647, "comment_id": 59471943, "body": "Btw, what you posted isn&#39;t valid: your &#39;string&#39; has to be quoted somehow."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1457573424, "post_id": 35905647, "comment_id": 59472156, "body": "&quot;grep out&quot; is confusing; can you explain better what you want to do?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1457582343, "post_id": 35905647, "comment_id": 59474610, "body": "1. That code doesn&#39;t do what you say at all (and that&#39;s ignoring the mistake that prevents it from even compiling). 2. It&#39;s not clear what you want to do. How about if you give an example?"}], "answers": [{"tags": [], "owner": {"reputation": 2486, "user_id": 5967915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc1ede82b4d6b5af1148a77d874c5396?s=128&d=identicon&r=PG&f=1", "display_name": "Tim007", "link": "https://stackoverflow.com/users/5967915/tim007"}, "is_accepted": true, "score": 0, "last_activity_date": 1457571638, "creation_date": 1457571638, "answer_id": 35905695, "question_id": 35905647, "link": "https://stackoverflow.com/questions/35905647/how-to-regex-first-letter-of-each-word-perl/35905695#35905695", "title": "How to regex first letter of each word perl", "body": "<p>Try this: (remove <code>+</code>)</p>\n\n<pre><code>(\\b\\w)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/cU8iA0/2\" rel=\"nofollow\">Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 174, "user_id": 5889745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6e1d09e53789c17ad12bef08a52e3e?s=128&d=identicon&r=PG&f=1", "display_name": "Jorgen", "link": "https://stackoverflow.com/users/5889745/jorgen"}, "is_accepted": false, "score": 0, "last_activity_date": 1457594606, "creation_date": 1457594606, "answer_id": 35910079, "question_id": 35905647, "link": "https://stackoverflow.com/questions/35905647/how-to-regex-first-letter-of-each-word-perl/35910079#35910079", "title": "How to regex first letter of each word perl", "body": "<p>Though you got an answer, you are not doing it right: there is really no need to use a heavyweight like grep; use instead =~ to associate your string with the pattern match. You don't need \\b either as this is only needed to limit the search to whole words, while you only want a character. The result will then be stored in $1.</p>\n\n<pre><code>    my $string = \"Bank Of America\";\n    $string =~ /(\\w)/;\n    print \"$1\\n\";\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4740518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a9c6c1a198740ef9541443bae5fee86?s=128&d=identicon&r=PG&f=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/4740518/leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 35905695, "answer_count": 2, "score": -2, "last_activity_date": 1457594606, "creation_date": 1457571335, "question_id": 35905647, "link": "https://stackoverflow.com/questions/35905647/how-to-regex-first-letter-of-each-word-perl", "title": "How to regex first letter of each word perl", "body": "<p>I need to grep out just the first letters of a string.</p>\n\n<pre><code>my $string = Bank Of America;\n# I tried this\nmy $newstring = grep (/\\b(\\w)+/, $string);\n</code></pre>\n\n<p>All this gives me is the \"Bank\" not even B. What am I doing wrong?</p>\n"}]