[{"tags": ["perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1571269629, "post_id": 58423015, "comment_id": 103188257, "body": "<code>use warnings;</code>"}, {"owner": {"reputation": 1, "user_id": 12229479, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDv92aTu1AmiItoMeNKHmQHzQCM_40gTMzcOzPG=k-s128", "display_name": "Endorosaurus", "link": "https://stackoverflow.com/users/12229479/endorosaurus"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1571270625, "post_id": 58423015, "comment_id": 103188441, "body": "Tried that, it doesn&#39;t work"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1571271714, "post_id": 58423015, "comment_id": 103188652, "body": "<code>use warnings</code> is not used to make your code work. It&#39;s to show you some of the things you are not doing right."}, {"owner": {"reputation": 1, "user_id": 12229479, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDv92aTu1AmiItoMeNKHmQHzQCM_40gTMzcOzPG=k-s128", "display_name": "Endorosaurus", "link": "https://stackoverflow.com/users/12229479/endorosaurus"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1571271922, "post_id": 58423015, "comment_id": 103188691, "body": "It doesn&#39;t say anything"}, {"owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 1, "creation_date": 1571276136, "post_id": 58423015, "comment_id": 103189491, "body": "<code>==</code> and <code>||</code> don&#39;t work the way you appear to think they do"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1571276625, "post_id": 58423015, "comment_id": 103189597, "body": "Re &quot;<i>It doesn&#39;t say anything</i>&quot;, That&#39;s not true! For starters, it says <code>Argument &quot;add&quot; isn&#39;t numeric in numeric eq (==)</code>. <code>$a == &quot;list&quot; || &quot;look at list&quot;</code> should be <code>$a eq &quot;list&quot; || $a eq &quot;look at list&quot;</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1571297500, "post_id": 58423015, "comment_id": 103195603, "body": "I&#39;ve fixed the indentation in your code to make it easier to follow. You&#39;re welcome, of course, but please consider doing that yourself in the future."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1571305036, "last_edit_date": 1571305036, "creation_date": 1571297778, "answer_id": 58427286, "question_id": 58423015, "link": "https://stackoverflow.com/questions/58423015/why-does-my-terminal-only-let-me-type-in-something-and-then-the-code-stops/58427286#58427286", "title": "Why does my terminal only let me type in something and then the code stops?", "body": "<p>Perl has two sets of comparison operators.</p>\n\n<p>The ones that look like maths (<code>==</code>, <code>!=</code>, <code>&gt;</code>, etc.) do a numeric comparison.</p>\n\n<p>The ones that look like words (<code>eq</code>, <code>ne</code>, <code>gt</code>, etc.) do a string comparison.</p>\n\n<p>You have the following:</p>\n\n<pre><code>if ($a == \"quit\") {\n\n...\n\nif ($a == \"add\" || \"add item\") {\n\n...\n\n} elsif ($a == \"list\" || \"look at list\") {\n\n...\n\n} elsif ($a == \"reset\"){\n</code></pre>\n\n<p>All of these are doing numeric comparisons. You need to change all of the <code>==</code> to <code>eq</code>.</p>\n\n<p>Also, this isn't doing what you think it is:</p>\n\n<pre><code>if ($a == \"add\" || \"add item\") {\n</code></pre>\n\n<p>I think you meant:</p>\n\n<pre><code>if ($a eq \"add\" or $a eq \"add item\") {\n</code></pre>\n\n<p>In addition, <code>$a</code> is a special variable in Perl. Please don't use it in general code. Variable naming is important. Your variable should be called <code>$action</code>.</p>\n\n<p><strong>Update:</strong> It's also worth pointing out that if you had <code>use warnings</code> in your code (and you should <em>always</em> include <code>use warnings</code> in your Perl code) then you would have seen warnings telling you that there was a problem with your code.</p>\n\n<pre><code>$ perl -Mwarnings -e'$action = \"x\"; print \"yes\" if $action == \"quit\"'\nArgument \"quit\" isn't numeric in numeric eq (==) at -e line 1.\nArgument \"x\" isn't numeric in numeric eq (==) at -e line 1.\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12229479, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDv92aTu1AmiItoMeNKHmQHzQCM_40gTMzcOzPG=k-s128", "display_name": "Endorosaurus", "link": "https://stackoverflow.com/users/12229479/endorosaurus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1571305036, "creation_date": 1571269433, "last_edit_date": 1571297457, "question_id": 58423015, "link": "https://stackoverflow.com/questions/58423015/why-does-my-terminal-only-let-me-type-in-something-and-then-the-code-stops", "title": "Why does my terminal only let me type in something and then the code stops?", "body": "<p>I have tried to run this script that I made so poorly and quickly. May someone please point me in the right direction or correct me? When I run the script, it says \"What would you like to do with your shopping list?\" then, it lets me input something, and then it just stops. Plain stops</p>\n\n<pre><code>use Term::ANSIColor;\n\nMenu();\n\nsub Menu {\n    print \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\";\n    print \"What would you like to do with your shopping list? \\n\";\n    print colored(\"&gt; Add Item \\n\", 'bold blue');\n    print colored(\"&gt; Look at list \\n\", 'bold blue');\n    print colored(\"&gt; Reset \\n\", 'bold red');\n    print colored(\"&gt; Quit \\n\", 'bold red');\n    print \"&gt; \";\n\n    my $a = &lt;STDIN&gt;;\n    lc $a;\n    chomp $a;\n\n    if ($a == \"quit\") {\n        open (my $fh, '&gt;&gt;', 'list.txt') or die \"Couldn't find file!\";\n        while(&lt;FH&gt;) { \n            print $_; \n        }\n        close $fh;\n    } else {\n        Action();\n    }\n}\n\nsub Action {\n    if ($a == \"add\" || \"add item\") {\n        open(my $fh, '&gt;&gt;', 'list.txt') or die \"Couldn't find file!\";\n        print \"What would you like to add to the list?\\n\";\n        print \"&gt; \";\n        my $i = &lt;&gt;;\n        lc $i;\n        chomp $i;\n        print \"\\n\";\n        print \"&gt; \";\n        print FH $i;\n        print \n        close $fh;\n    } elsif ($a == \"list\" || \"look at list\") {\n        open (my $fh, '&gt;&gt;', 'list.txt') or die \"Couldn't find file!\";\n        while(&lt;FH&gt;) { \n            print $_; \n        } \n        close $fh;\n    } elsif ($a == \"reset\"){\n        open (my $fh, '&gt;&gt;', 'list.txt') or die \"Couldn't find file!\";\n        print FH colored(\"Shopping list\", 'bold underline');\n        close $fh;\n    } else {\n        print \"Unknown command! Try again.\";\n        Menu();\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "command-line", "informatica", "informatica-powercenter", "strawberry-perl"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1571266415, "post_id": 58422639, "comment_id": 103187523, "body": "Nothing in this actually runs the command. You did not use system from IPC::System::Simple or run3 from IPC::Run3. The readpipe operator is <code>qx</code>, not <code>qw</code>, which just returns a list of words."}, {"owner": {"reputation": 33, "user_id": 12223324, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M7QP3K1577U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfHqWPfibzpXKP6_Zd-O4VF3Yv8yw/photo.jpg?sz=128", "display_name": "Priti Verma", "link": "https://stackoverflow.com/users/12223324/priti-verma"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1571266721, "post_id": 58422639, "comment_id": 103187605, "body": "I have not posted all the tried options here as it will be very long. But I actually monitor the execution in Workflow monitor and it executes."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1571266749, "post_id": 58422639, "comment_id": 103187615, "body": "Then your code is not what you showed."}, {"owner": {"reputation": 33, "user_id": 12223324, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M7QP3K1577U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfHqWPfibzpXKP6_Zd-O4VF3Yv8yw/photo.jpg?sz=128", "display_name": "Priti Verma", "link": "https://stackoverflow.com/users/12223324/priti-verma"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1571266969, "post_id": 58422639, "comment_id": 103187666, "body": "I edited it with one of my code."}], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 2, "last_activity_date": 1598206720, "last_edit_date": 1598206720, "creation_date": 1571267204, "answer_id": 58422774, "question_id": 58422639, "link": "https://stackoverflow.com/questions/58422639/how-to-capture-the-success-failure-status-of-the-powercenter-workflow-in-perl-en/58422774#58422774", "title": "How to capture the success/failure status of the PowerCenter workflow in PERL environment using pmcmd command line?", "body": "<p>These methods each have different ways of indicating success, and there are also two different kinds of success: whether it successfully executes, and the exit status returned by the process.</p>\n<p><a href=\"https://metacpan.org/pod/IPC::System::Simple\" rel=\"nofollow noreferrer\">IPC::System::Simple</a> <code>system</code> will throw an exception if the command fails or returns a non-zero status. You can define acceptable non-zero statuses by passing an arrayref as the first argument. It is easiest when you want to allow errors to cause your program to die with a useful error message, so you don't need any exception handling like eval or try/catch.</p>\n<pre><code>use strict;\nuse warnings;\nuse IPC::System::Simple qw(system EXIT_ANY);\n\nsystem $cmd; # failure or non-zero exit will cause program to die\n\nmy $exit = system EXIT_ANY, $cmd; # failure to execute will cause program to die\n\nuse Syntax::Keyword::Try;\ntry {\n  system $cmd;\n} catch {\n  # error in $@\n}\n\ntry {\n  my $exit = system [0..5], $cmd;\n  if ($exit) {\n    # one of the allowed non-zero exit status\n  }\n} catch {\n  # error in $@\n}\n\ntry {\n  my $exit = system EXIT_ANY, $cmd;\n  if ($exit) {\n    # non-zero exit status\n  }\n} catch {\n  # error starting command in $@\n}\n</code></pre>\n<p><a href=\"https://metacpan.org/pod/IPC::Run3\" rel=\"nofollow noreferrer\">IPC::Run3</a> will throw an exception if the command fails, and set <a href=\"https://perldoc.pl/variables/$%3F\" rel=\"nofollow noreferrer\">$?</a> to the wait status. Its return value is always true.</p>\n<pre><code>use strict;\nuse warnings;\nuse IPC::Run3;\nuse Syntax::Keyword::Try;\n\ntry {\n  run3 $cmd;\n  if ($?) {\n    # non-zero exit status\n    my $exit = $? &gt;&gt; 8;\n  }\n} catch {\n  # error starting command in $@\n}\n</code></pre>\n<p><code>qx</code> or backticks which is the <a href=\"https://perldoc.pl/functions/readpipe\" rel=\"nofollow noreferrer\">readpipe</a> operator will not throw an exception, but will return undef if the command failed to start, and otherwise set <code>$?</code> the same way as IPC::Run3.</p>\n<pre><code>use strict;\nuse warnings;\n\nmy $output = `$cmd`;\nif (!defined $output) {\n  # error occured starting command, check $!\n} elsif ($?) {\n  # non-zero exit status\n  my $exit = $? &gt;&gt; 8;\n}\n</code></pre>\n<p>The built-in <a href=\"https://perldoc.pl/functions/system\" rel=\"nofollow noreferrer\">system</a> function will return the wait status, or -1 if the command failed to start, and set the same value in <code>$?</code>.</p>\n<pre><code>use strict;\nuse warnings;\n\nsystem $cmd;\nif ($? == -1) {\n  # error occured starting command, check $!\n} elsif ($?) {\n  # non-zero exit status\n  my $exit = $? &gt;&gt; 8;\n}\n</code></pre>\n<p>Note that all of these options aside from the readpipe operator (but see my <a href=\"https://metacpan.org/pod/IPC::ReadpipeX\" rel=\"nofollow noreferrer\">IPC::ReadpipeX</a>) support passing a command in list form, which bypasses the shell and thus safer when the command may contain arbitrary input, but sometimes can be buggy on Windows as it only pretends to bypass the shell there.</p>\n<pre><code>system 'pmcmd.exe', 'startworkflow', '-sv', ...;\nrun3 ['pmcmd.exe', ...];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 12223324, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M7QP3K1577U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfHqWPfibzpXKP6_Zd-O4VF3Yv8yw/photo.jpg?sz=128", "display_name": "Priti Verma", "link": "https://stackoverflow.com/users/12223324/priti-verma"}, "is_accepted": true, "score": 1, "last_activity_date": 1571329569, "creation_date": 1571329569, "answer_id": 58437040, "question_id": 58422639, "link": "https://stackoverflow.com/questions/58422639/how-to-capture-the-success-failure-status-of-the-powercenter-workflow-in-perl-en/58437040#58437040", "title": "How to capture the success/failure status of the PowerCenter workflow in PERL environment using pmcmd command line?", "body": "<p>Thank you Grinnz for your time and explanation ! It really helped for my knowledge. For my question, issue was with my pmcmd command. I was missing -wait option to use as an argument. Hence, pmcmd command was just returning a generic error code which was 0. After using -wait, I could capture the workflow failure status. Thanks once again ! </p>\n\n<p>For anyone out there facing same issue, here is the complete command I am using : </p>\n\n<p><code>pmcmd.exe startworkflow -sv &lt;integrationservice&gt; -d &lt;domain&gt; -u &lt;user&gt; -p &lt;pwd&gt; -f &lt;folder name&gt; -paramfile &lt;parameter file name&gt; -wait &lt;workflow name&gt;</code></p>\n"}], "owner": {"reputation": 33, "user_id": 12223324, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M7QP3K1577U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfHqWPfibzpXKP6_Zd-O4VF3Yv8yw/photo.jpg?sz=128", "display_name": "Priti Verma", "link": "https://stackoverflow.com/users/12223324/priti-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 905, "favorite_count": 1, "accepted_answer_id": 58437040, "answer_count": 2, "score": 1, "last_activity_date": 1598206720, "creation_date": 1571266177, "last_edit_date": 1571332753, "question_id": 58422639, "link": "https://stackoverflow.com/questions/58422639/how-to-capture-the-success-failure-status-of-the-powercenter-workflow-in-perl-en", "title": "How to capture the success/failure status of the PowerCenter workflow in PERL environment using pmcmd command line?", "body": "<p>I am trying to run a Informatica PowerCenter workflow using pmcmd command from Strawberry Perl. I am failing the working in case of any errored data received in the source files. Once PowerCenter workflow fails, I want to send an email from Perl script (not from Post session task in Session properties). Please help in capturing the workflow status from perl script. I really appreciate your time and help.</p>\n\n<p>I tried multiple options like using system(), qw(), IPC::Run3 , IPC::System::Simple qw(system) etc but still I am not able to capture the success or failure of the workflow execution. \nI am aware of the pmcmd getworkflowdetails as well but that would be my last option.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IPC::Run3;\n\nuse IPC::System::Simple qw(system);\nmy ($stdout, $stderr,$command,$run);\n\n$command = \"pmcmd.exe startworkflow -sv.......\" # not putting the complete command as it is very lengthy\n$run = run3($command);\n\nif ( $run == 0) {\nprint \"success\";\n} else {\nprint \"fail \";\n}\n</code></pre>\n\n<p>I have 2 workflows, 1 fails and 1 run successful. But whichever option I have tried, it gives same result for both the workflow execution.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1571244221, "post_id": 58417933, "comment_id": 103178734, "body": "If your if statement is not succeeding, then your hash table does not contain the value &#39;DELAY&#39;. Perhaps the value you set was not exactly &#39;DELAY&#39;, such as if it still contained a trailing newline when read from something else."}, {"owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "edited": false, "score": 0, "creation_date": 1571244412, "post_id": 58417933, "comment_id": 103178817, "body": "Add this before <code>if</code> to find the actual hash value, since it probably contains other something else (leading/trailing whitespace, other characters): <code>print qq{&quot;$margin_name&quot; =&gt; &quot;$type&quot;\\n};</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1571297085, "post_id": 58417933, "comment_id": 103195376, "body": "I&#39;ve added indentation to your code to make it easier to follow. You&#39;re welcome, of course, but please consider doing that yourself in the future."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1571297195, "post_id": 58417933, "comment_id": 103195431, "body": "What do you see if you add to your code: <code>use Data::Dumper; print Dumper \\%margin_hash;</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1571255067, "creation_date": 1571255067, "answer_id": 58420661, "question_id": 58417933, "link": "https://stackoverflow.com/questions/58417933/how-to-test-the-value-returned-from-of-a-hash-table-access/58420661#58420661", "title": "How to test the value returned from of a hash table access", "body": "<p><code>$type eq \"DELAY\"</code> checks of the value of <code>$type</code> is a string that is identical to <code>DELAY</code>, (or something that stringifies to such a string).</p>\n\n<p><code>$type =~ \"DELAY\"</code> (a weird way of writing <code>$type =~ /DELAY/</code>) checks if the value of <code>$type</code> matches regex pattern <code>DELAY</code>. If will match if the value is a string that <em>contains</em> <code>DELAY</code> (or something that stringifies to such a string).</p>\n\n<p>Since <code>$type =~ \"DELAY\"</code> is true and <code>$type eq \"DELAY\"</code> is false, you have a string that isn't <code>DELAY</code>, but contains <code>DELAY</code>. Maybe you have a trailing line feed? <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow noreferrer\"><code>chomp</code></a> lines you read from files.</p>\n"}], "owner": {"reputation": 11, "user_id": 12202768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd53800ae63b1ec922d629cd88789e4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance", "link": "https://stackoverflow.com/users/12202768/lance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1571297045, "creation_date": 1571243618, "last_edit_date": 1571297045, "question_id": 58417933, "link": "https://stackoverflow.com/questions/58417933/how-to-test-the-value-returned-from-of-a-hash-table-access", "title": "How to test the value returned from of a hash table access", "body": "<p>I am iterating an hash table and i retrieve the value using the key as an access. I want to test the accessed value to see if it matches a particular string however i am not getting any print statement in the if condition that tests if the value is a particular string.</p>\n\n<p>Assume i have a hash table called margin_hash which contains Key\nand value pairs where the key is a margin name and the value is \na string.</p>\n\n<pre><code>foreach my $margin_name (keys %margin_hash) {\n    my $type = $margin_hash{$margin_name}{\"MARGIN TYPE\"};\n    if ( $type eq \"DELAY\") {\n      print \"FOUND a DELAY margin\\n\";\n    }\n}\n</code></pre>\n\n<p>I know my hash table contains a value \"DELAY\". However it seems\nthe if condition is somehow not working? </p>\n\n<p>I expected output to print FOUND a DELAY margin</p>\n"}, {"tags": ["python", "list", "perl", "scripting", "command"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12227146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b40dd69edfb75ff165e47daa405bb3ba?s=128&d=identicon&r=PG&f=1", "display_name": "CNL", "link": "https://stackoverflow.com/users/12227146/cnl"}, "edited": false, "score": 0, "creation_date": 1571237980, "post_id": 58415880, "comment_id": 103175484, "body": "Thank you so much for the help! This appears to read my files fine. The only thing being that I would like to print the output to a new txt file which keeps each list&#39;s results in a new column. category List 1 List 2 a   1   3 b   4    c   5   6  d   2    f       7 g       2 (oops, I&#39;m not sure how to format the output here, so edited the original post to show the type of output format I am hoping to be able to get in the final document.) Thanks!"}, {"owner": {"reputation": 61, "user_id": 9407878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3gs8t.png?s=128&g=1", "display_name": "Noonewins", "link": "https://stackoverflow.com/users/9407878/noonewins"}, "reply_to_user": {"reputation": 1, "user_id": 12227146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b40dd69edfb75ff165e47daa405bb3ba?s=128&d=identicon&r=PG&f=1", "display_name": "CNL", "link": "https://stackoverflow.com/users/12227146/cnl"}, "edited": false, "score": 0, "creation_date": 1571238271, "post_id": 58415880, "comment_id": 103175659, "body": "I edited my original post to include writing to file in the format you want."}, {"owner": {"reputation": 1, "user_id": 12227146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b40dd69edfb75ff165e47daa405bb3ba?s=128&d=identicon&r=PG&f=1", "display_name": "CNL", "link": "https://stackoverflow.com/users/12227146/cnl"}, "edited": false, "score": 0, "creation_date": 1571250752, "post_id": 58415880, "comment_id": 103181596, "body": "This is getting so close! The only thing is that I need to ensure each file remains in its own column. For example, if file 1 and 2 both have information for &#39;a&#39; than the first line will be &quot;a 1 3&quot;. But if only file two has information for &#39;g&#39; for example, then the line in the document will be &quot;g  2&quot; with an extra space between the g and the 2, signifying that it belongs to the second file. Sorry, this is a bit confusing. I have tried showing this in the example output above, with tabs separating the columns. Alternatively, these could be printed as a csv if that would be easier?"}], "tags": [], "owner": {"reputation": 61, "user_id": 9407878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3gs8t.png?s=128&g=1", "display_name": "Noonewins", "link": "https://stackoverflow.com/users/9407878/noonewins"}, "is_accepted": false, "score": 1, "last_activity_date": 1571238410, "last_edit_date": 1571238410, "creation_date": 1571236600, "answer_id": 58415880, "question_id": 58415561, "link": "https://stackoverflow.com/questions/58415561/combining-lists-by-category-and-creating-new-column-with-description-for-each-li/58415880#58415880", "title": "Combining lists by category and creating new column with description for each list", "body": "<p>PYTHON solution:</p>\n\n<p>I imagine that your files contain data in this way:</p>\n\n<pre><code>1   a\n4   b\n5   c\n2   d\n</code></pre>\n\n<p>Here is my example code and I will explain what's  going on.</p>\n\n<pre><code>files = ['test1.txt', 'test2.txt']\ncategory_dict = dict()\nfor _file in files:\n    with open(_file, 'r') as fhl:\n        for line in fhl:\n            key, val = line.split()\n            if key in category_dict:\n                category_dict[key].append(val)\n            else:\n                category_dict[key] = [val]\nprint(category_dict)\n</code></pre>\n\n<p>Result of the print:</p>\n\n<pre><code>{'1': ['a'], '4': ['b'], '5': ['c'], '2': ['d', 'g'], '3': ['a'], '6': ['c'], '7': ['f']}\n</code></pre>\n\n<p>First I create a simple list of all the files I want to read. Note that you can os.walk ( check it online) to grab all files you want from a directory, or you can simply add fails in this list (full pat).</p>\n\n<pre><code>files = ['test1.txt', 'test2.txt']\n</code></pre>\n\n<p>Then we create a dictionary object to store our data in the way you wanted:</p>\n\n<pre><code>category_dict = dict()\n</code></pre>\n\n<p>Then we loop through the file list and we open each file and we read it line by line:</p>\n\n<pre><code>for _file in files:\n    with open(_file, 'r') as fhl:\n        for line in fhl:\n</code></pre>\n\n<p>Here is the interesting part. If the file is not exactly in the format you showed above, you might get and error or read the data not in the way you want. Check your files and adjust the 'split()' part if needed.</p>\n\n<p>Furthermore, we split (check it online), basically split a string into list of words.</p>\n\n<pre><code>key, val = line.split()\n</code></pre>\n\n<p>Note that if they are not separated by space you might need to adjust the line above.</p>\n\n<p>After that we check if the 'key' is presented in the 'category_dict', if not, we create it and then make it equal to a list of the value we got from the file. If the key is already there, that means that we already assigned a list of a value/values to that 'key'. Then we just append the new value.</p>\n\n<p>This way you will have a 'category' and keep each 'key' values separately.</p>\n\n<p>EDIT:\nIf you want to record the result in a file (txt extension), each value in the dict to be written on a new line, here is example:</p>\n\n<pre><code>with open('results.txt', 'w+') as fhl:\n    for key in category_dict:\n        fhl.write('{} {}'.format(key, ' '.join(category_dict[key])))\n        fhl.write('\\n')\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>1 a\n4 b\n5 c\n2 d g\n3 a\n6 c\n7 f\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 12227146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b40dd69edfb75ff165e47daa405bb3ba?s=128&d=identicon&r=PG&f=1", "display_name": "CNL", "link": "https://stackoverflow.com/users/12227146/cnl"}, "edited": false, "score": 0, "creation_date": 1571260144, "post_id": 58417446, "comment_id": 103185643, "body": "Thank you! This looks like it will work well. However, I am getting an error: File &quot;count.py&quot;, line 3, in &lt;module&gt; result=pd.DataFrame() NameError: name &#39;pd&#39; is not defined&quot;. I thought this might be an error in my python version, but I have tried running both v3 and v2 with no luck."}, {"owner": {"reputation": 993, "user_id": 8560382, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gpJqa.jpg?s=128&g=1", "display_name": "chrisckwong821", "link": "https://stackoverflow.com/users/8560382/chrisckwong821"}, "reply_to_user": {"reputation": 1, "user_id": 12227146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b40dd69edfb75ff165e47daa405bb3ba?s=128&d=identicon&r=PG&f=1", "display_name": "CNL", "link": "https://stackoverflow.com/users/12227146/cnl"}, "edited": false, "score": 0, "creation_date": 1571272456, "post_id": 58417446, "comment_id": 103188787, "body": "my bad, pls import pandas as pd"}, {"owner": {"reputation": 1, "user_id": 12227146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b40dd69edfb75ff165e47daa405bb3ba?s=128&d=identicon&r=PG&f=1", "display_name": "CNL", "link": "https://stackoverflow.com/users/12227146/cnl"}, "edited": false, "score": 0, "creation_date": 1571329584, "post_id": 58417446, "comment_id": 103214115, "body": "Ah! Yes, I appreciate the help! But now the error is: ParserWarning: Falling back to the &#39;python&#39; engine because the &#39;c&#39; engine does not support regex separators (separators &gt; 1 char and different from &#39;\\s+&#39; are interpreted as regex); you can avoid this warning by specifying engine=&#39;python&#39;.   df = pd.read_csv(file,delimiter=&#39;  &#39;) create_count_file4.py:14: FutureWarning: Sorting because non-concatenation axis is not aligned. A future version of pandas will change to not sort by default. To accept the future behavior, pass &#39;sort=False&#39;..."}, {"owner": {"reputation": 1, "user_id": 12227146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b40dd69edfb75ff165e47daa405bb3ba?s=128&d=identicon&r=PG&f=1", "display_name": "CNL", "link": "https://stackoverflow.com/users/12227146/cnl"}, "edited": false, "score": 0, "creation_date": 1571329628, "post_id": 58417446, "comment_id": 103214129, "body": "... ParserWarning: Falling back to the &#39;python&#39; engine because the &#39;c&#39; engine does not support regex separators   I am sorry I am not more familiar with Python."}, {"owner": {"reputation": 1, "user_id": 12227146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b40dd69edfb75ff165e47daa405bb3ba?s=128&d=identicon&r=PG&f=1", "display_name": "CNL", "link": "https://stackoverflow.com/users/12227146/cnl"}, "edited": false, "score": 0, "creation_date": 1571797864, "post_id": 58417446, "comment_id": 103356324, "body": "I am sorry for the delay. And thank you again for the help! I was able to remedy my error by reinstalling python, but I wonder if you might be able to help me print the results to a new txt file? Thank you!"}], "tags": [], "owner": {"reputation": 993, "user_id": 8560382, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gpJqa.jpg?s=128&g=1", "display_name": "chrisckwong821", "link": "https://stackoverflow.com/users/8560382/chrisckwong821"}, "is_accepted": false, "score": 0, "last_activity_date": 1571272012, "last_edit_date": 1571272012, "creation_date": 1571241758, "answer_id": 58417446, "question_id": 58415561, "link": "https://stackoverflow.com/questions/58415561/combining-lists-by-category-and-creating-new-column-with-description-for-each-li/58417446#58417446", "title": "Combining lists by category and creating new column with description for each list", "body": "<pre><code>import glob\nimport pandas as pd\nfiles = glob.glob('*.txt')\n#eg: files = ['1.txt','2.txt']\nresult = pd.DataFrame()\nfor file in files:\n    df = pd.read_csv(file,delimiter='  ')\n    current_col = df.columns[0]\n    df.reset_index(inplace=True)\n    df.set_index(current_col,inplace=True)\n    df.index.name = 'index'\n    df.rename(columns={'index':current_col}, inplace=True)\n    result = pd.concat([result,df],axis=1)\n\n&gt;&gt;&gt; result\n    List 1:  List 2:\n a      1.0      3.0\n b      4.0      NaN\n c      5.0      6.0\n d      2.0      NaN\n f      NaN      7.0\n g      NaN      2.0\n\n&gt;&gt;&gt; result.fillna(0)\n    List 1:  List 2:\n a      1.0      3.0\n b      4.0      0.0\n c      5.0      6.0\n d      2.0      0.0\n f      0.0      7.0\n g      0.0      2.0\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12227146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b40dd69edfb75ff165e47daa405bb3ba?s=128&d=identicon&r=PG&f=1", "display_name": "CNL", "link": "https://stackoverflow.com/users/12227146/cnl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1571272012, "creation_date": 1571235609, "last_edit_date": 1571238115, "question_id": 58415561, "link": "https://stackoverflow.com/questions/58415561/combining-lists-by-category-and-creating-new-column-with-description-for-each-li", "title": "Combining lists by category and creating new column with description for each list", "body": "<p>I have 15 .txt lists which I would like to combine by category and keep each list's description separate in a new column. Unfortunately, not all categories are present in each list, and the descriptions will need to correspond with the correct category. </p>\n\n<p>For example, if two of my lists look something like:</p>\n\n<pre><code>List 1:\n1   a\n4   b\n5   c\n2   d\n\n\n\nList 2:\n3   a\n6   c\n7   f\n2   g\n</code></pre>\n\n<p>I am looking for an output such as (but for the eventual 15 files to be combined):</p>\n\n<pre><code>category List1 List2    \na   1   3\nb   4   \nc   5   6 \nd   2   \nf       7\ng       2\n</code></pre>\n\n<p>Does anyone have scripting suggestions to help make this happen?\nThanks! </p>\n"}, {"tags": ["sql", "perl", "ssh", "isql"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1571233162, "last_edit_date": 1571233162, "creation_date": 1571230048, "answer_id": 58413690, "question_id": 58408959, "link": "https://stackoverflow.com/questions/58408959/perl-ssh-to-server-and-execute-sql-query/58413690#58413690", "title": "Perl SSH to server and execute SQL query", "body": "<p>That looks like the kind of screen that a program would display if you tried to run it with invalid command-line arguments. It's a help screen saying \"don't run me like that - here are my valid options\".</p>\n\n<p>Here's your command:</p>\n\n<pre><code>isql -SWebDB -UMyID -PMyPWD -w2222\n</code></pre>\n\n<p>And here's the sample command from the help screen:</p>\n\n<pre><code>isql WebDB MyID MyPWD -w\n</code></pre>\n\n<p>I'm not sure where you got your command line from but there are a few differences.</p>\n\n<ul>\n<li><code>isql</code> doesn't have a <code>-S</code> option. Instead, you just give the database name as an argument.</li>\n<li><code>isql</code> doesn't have a <code>-U</code> option. Instead, you just give the username as an argument.</li>\n<li><code>isql</code> doesn't have a <code>-P</code> option. Instead, you just give the password as an argument.</li>\n<li><code>isql</code> has a <code>-w</code> option, but it doesn't look like it takes an argument. It's just an on/off flag.</li>\n</ul>\n\n<p>You need to change your command line to look more like the examples given in the help text.</p>\n\n<p><strong>Update:</strong> But the best option is probably to use <code>isql</code>'s networking capabilities. Run it on your local server and connect to the database server remotely.</p>\n"}], "owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1579976411, "creation_date": 1571214585, "last_edit_date": 1579976411, "question_id": 58408959, "link": "https://stackoverflow.com/questions/58408959/perl-ssh-to-server-and-execute-sql-query", "title": "Perl SSH to server and execute SQL query", "body": "<p>I am doing ssh to the server where sql is been installed using Net::OpenSSH perl module.</p>\n\n<p>Connection to the ssh server is happening here. </p>\n\n<p>Here is how I am ssh'ing to the server:</p>\n\n<pre><code>my $ssh = Net::OpenSSH-&gt;new(\"$user:$passwd\\@$host\");\n$ssh-&gt;error and die \"Couldn't establish SSH connection: \". $ssh-&gt;error;\n</code></pre>\n\n<p>But while connecting to the sql server and executing a query I am getting following message.</p>\n\n<pre><code>**********************************************\n* unixODBC - isql                            *\n**********************************************\n* Syntax                                     *\n*                                            *\n*      isql DSN [UID [PWD]] [options]        *\n*                                            *\n* Options                                    *\n*                                            *\n* -b         batch.(no prompting etc)        *\n* -dx        delimit columns with x          *\n* -x0xXX     delimit columns with XX, where  *\n*            x is in hex, ie 0x09 is tab     *\n* -w         wrap results in an HTML table   *\n* -c         column names on first row.      *\n*            (only used when -d)             *\n* -mn        limit column display width to n *\n* -v         verbose.                        *\n* -lx        set locale to x                 *\n* -q         wrap char fields in dquotes     *\n* -3         Use ODBC 3 calls                *\n* -n         Use new line processing         *\n* -e         Use SQLExecDirect not Prepare   *\n* -k         Use SQLDriverConnect            *\n* --version  version                         *\n*                                            *\n* Commands                                   *\n*                                            *\n* help - list tables                         *\n* help table - list columns in table         *\n* help help - list all help options          * \n*                                            *\n* Examples                                   *\n*                                            *\n*      isql WebDB MyID MyPWD -w &lt; My.sql     *\n*                                            *\n*      Each line in My.sql must contain      *\n*      exactly 1 SQL command except for the  *\n*      last line which must be blank (unless *\n*      -n option specified).                 *\n*                                            *\n* Please visit;                              *\n*                                            *\n*      http://www.unixodbc.org               *\n*      nick@lurcher.org                      *\n*      pharvey@codebydesign.com              *\n********************************************** \n</code></pre>\n\n<p>My code looks like:</p>\n\n<pre><code>$result = $ssh-&gt;capture(\"isql -SWebDB -UMyID -PMyPWD -w2222 &lt; query.sql\");\n$ssh-&gt;error and warn \"operation didn't complete successfully: \". $ssh-&gt;error;\n</code></pre>\n\n<p>where <code>query.sql</code> I have placed in the remote server where I am doing ssh. </p>\n\n<p>I am thinking whether syntax is missing inside <code>$ssh-&gt;capture(....);</code> or do we have any other function in <code>Net::OpenSSH</code> to run SQL queries. Because through <code>$ssh-&gt;capture(....);</code> if I pass any scripts or unix commands(ex:ls) its totally working fine. So I am suspecting is there any functions in <code>Net::OpenSSH</code>to run sql queries. Need input from you guys.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 2, "creation_date": 1571215749, "post_id": 58408496, "comment_id": 103162366, "body": "Can you provide your data as actual perl data structures? Are those supposed to be arrays of strings, arrays of array refs, etc.?"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1571215821, "post_id": 58408496, "comment_id": 103162399, "body": "<a href=\"http://p3rl.org/DBD::CSV\" rel=\"nofollow noreferrer\">DBD::CSV</a> is the answer. Example: <a href=\"https://stackoverflow.com/a/51271732/46395\">stackoverflow.com/a/51271732/46395</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1571233743, "post_id": 58408496, "comment_id": 103172608, "body": "What have you tried? What problems are you having? Please show us your code."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12224956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f87a2a02910c068826f944f9e1e55f6d?s=128&d=identicon&r=PG&f=1", "display_name": "Danyel", "link": "https://stackoverflow.com/users/12224956/danyel"}, "edited": false, "score": 1, "creation_date": 1571312675, "post_id": 58411090, "comment_id": 103204214, "body": "Straightforward!! Thank you @mkHun!"}, {"owner": {"reputation": 3, "user_id": 12224956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f87a2a02910c068826f944f9e1e55f6d?s=128&d=identicon&r=PG&f=1", "display_name": "Danyel", "link": "https://stackoverflow.com/users/12224956/danyel"}, "edited": false, "score": 0, "creation_date": 1571312781, "post_id": 58411090, "comment_id": 103204270, "body": "Morning All; Thank you and sorry for late reply_ To Shawn : They were array of strings._ To Daxim : DBD::CSV, I will be looking at it._ To Dave Cross : I directly query the data from two tables in mysql, and <i>inner join</i> them <i>on</i> the first 3 columns where their value are use to match the corresponding rows. I was looking for a way to do this with perl because the data were populated from a perl script and inserted into two different tables in mysql where we joined queries to match the corresponding rows. (I am doing a one reply, sorry)."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 1, "last_activity_date": 1571221791, "last_edit_date": 1571221791, "creation_date": 1571221482, "answer_id": 58411090, "question_id": 58408496, "link": "https://stackoverflow.com/questions/58408496/how-to-perform-an-inner-join-on-values-in-perl/58411090#58411090", "title": "How to perform an &quot;inner join on values&quot; in perl", "body": "<p>Welcome to Stack Overflow. You should post what you have tried so far :) then people will understand and help/solve your problem.</p>\n\n<p>If I understood your  problem, Let's consider you are having array of array like below. We have to compare both array till the specified index value. So I used the variable name called <code>$matchedColums</code>. Then we have to make nested loop to compare both array values.</p>\n\n<p>So what I did was, I got the values from the given index and comparing with both values, and pushing into the another array. Then you can get the new array.. </p>\n\n<pre><code>use warnings;\nuse strict;\nuse Data::Dumper;\n\nmy $array =  [[\"0\",\"1\",\"3\",\"some text\"], [\"0\",\"1\",\"6\",\"more text\"], [\"1\",\"2\",\"0\",\"and more\"]];\n\nmy $array1 =  [[\"0\",\"1\",\"3\",\"where missing on page2\"], [\"0\",\"1\",\"6\",\"to do with it\"], [\"1\",\"2\",\"0\",\"to read on tuesday\"]];\n\nmy $matchedColums = 3;\nmy $mc = $matchedColums-1;\n\n\nmy @finalArray ;\n\nfor my $a1 (@{$array}){ #Iterating loop for array elements.\n\n    my $matchA1 = join ( \"\" , @{$a1}[0..$mc] );    # joining the elements from the given index\n    my @a2String;\n\n    for my $a2 (@{$array1}){\n        my $matchA2 = join ( \"\" , @{$a2}[0..$mc] );    \n        if ($matchA1 == $matchA2) { \n            @a2String = @{$a2}[$mc+1..$#$a2];\n            last;\n        }\n    }\n\n    my @fn = (@{$a1}, @a2String);\n    push @finalArray, \\@fn; #pushing it as an array reference.\n\n}\n\nprint Dumper \\@finalArray;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12224956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f87a2a02910c068826f944f9e1e55f6d?s=128&d=identicon&r=PG&f=1", "display_name": "Danyel", "link": "https://stackoverflow.com/users/12224956/danyel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 58411090, "answer_count": 1, "score": -1, "last_activity_date": 1571221791, "creation_date": 1571212984, "last_edit_date": 1571213608, "question_id": 58408496, "link": "https://stackoverflow.com/questions/58408496/how-to-perform-an-inner-join-on-values-in-perl", "title": "How to perform an &quot;inner join on values&quot; in perl", "body": "<p>I have two arrays in perl that I need to merge into one, based on their first 3rd column value, as described below;</p>\n\n<p><strong>Array1:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0 1 3 some text\n\n0 1 6 more text\n\n1 2 0 and more\n</code></pre>\n\n<p><strong>Array2:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0 1 3 where missing on page2\n\n1 2 0 to do with it\n\n0 1 6 to read on tuesday\n</code></pre>\n\n<p>And I want to achieve:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0 1 3 some text where missing on page2\n\n0 1 6 more text to read on tuesday\n\n1 2 0 and more to do with it\n</code></pre>\n\n<p>Can you please help and provide some explanation where necessary?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1571194024, "post_id": 58404944, "comment_id": 103154794, "body": "Treating HTML like regular text is prone to more difficulty than you originally bargain for. You might take an hour or so learning to use Mojo::DOM, which has DOM searching and replacing built in, and in so doing will unlock a new skill that could be useful."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1571200236, "post_id": 58404944, "comment_id": 103155960, "body": "Yes, learn a library for HTML as DavidO says (<code>Mojo::DOM</code>, <code>HTML::TreeBuilder</code>, etc) -- that&#39;s one actually good thing you can make out of this (easy) task.  But then, also ..."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1571202515, "post_id": 58404944, "comment_id": 103156450, "body": "(1) Shouldn&#39;t <code>CODE</code> be the key and <code>title_of...</code> its value? So <code>$map{$key} = $value;</code>. But as those names aren&#39;t informative perhaps <code>$title{$code} = $text;</code> (or other, yet better, names) (2) instead of greedy (and backtracking) <code>.*</code> use <code>[^&#47;]</code> (3) In <code>while</code> replace only the next <code>&#47;...&#47;</code> segment after <code>CODE</code> -- look up <code>\\K</code>, to drop all matches up to that point (so you don&#39;t have to retype them). // Submit code to &quot;code review&quot;"}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1571260723, "post_id": 58404944, "comment_id": 103185836, "body": "If it ain&#39;t broke, don&#39;t fix it. What is the problem/enhancement you are trying to solve here?"}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 0, "last_activity_date": 1571321995, "creation_date": 1571321995, "answer_id": 58434809, "question_id": 58404944, "link": "https://stackoverflow.com/questions/58404944/ways-to-make-this-search-and-replace-code-better/58434809#58434809", "title": "Ways to make this Search and Replace code better?", "body": "<p>I'd do this with <a href=\"https://mojolicious.org/perldoc/Mojo/DOM\" rel=\"nofollow noreferrer\">Mojo::DOM</a>. Let it find all of the A tags then change what's in their HREF values:</p>\n\n<pre><code>#!perl\nuse v5.14;\n\nuse Mojo::DOM;\nuse Mojo::URL;\n\nmy $html = &lt;&lt;'HERE';\n&lt;html&gt;\n&lt;body&gt;\n\n&lt;a href=\"https://reddit.com/r/subreddit/comments/CODE/\"&gt;Some title&lt;/a&gt;\n&lt;a href=\"https://example.com/\"&gt;Leave alone&lt;/a&gt;\n&lt;a href=\"https://reddit.com/r/subreddit/comments/CODE/\"&gt;Other title&lt;/a&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\nHERE\n\n# Create the Document object model\nmy $dom = Mojo::DOM-&gt;new($html);\n\n$dom\n    # find all the A tags in the HTML with CSS selectors\n    # The ^= matches just the HREFs that start with that text\n    -&gt;find( 'a[href^=https://reddit.com/]' )\n    -&gt;map( sub {\n        # take the slug from the text between the A opener and closer.\n        # replace whitespace (or whatever) with underscores\n        my $slug = lc($_-&gt;text) =~ s/\\s+/_/gr;\n\n        # add the slug to the last part of the URL's path\n        my $url = Mojo::URL-&gt;new( $_-&gt;attr('href') );\n        push $url-&gt;path-&gt;parts-&gt;@*, $slug;\n\n        # give the HREF its new value\n        $_-&gt;attr('href', $url)\n        })\n    ;\n\n# The DOM now has the modified HTML\nsay $dom\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6910672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eec0fd4330a3669164d6ccf74155b25a?s=128&d=identicon&r=PG&f=1", "display_name": "Renox92", "link": "https://stackoverflow.com/users/6910672/renox92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571321995, "creation_date": 1571193202, "question_id": 58404944, "link": "https://stackoverflow.com/questions/58404944/ways-to-make-this-search-and-replace-code-better", "title": "Ways to make this Search and Replace code better?", "body": "<p>I have this code</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %map;\nopen my $MAP, '&lt;', 'full_links' or die $!;\nwhile (&lt;$MAP&gt;) {\n    my ($key, $value) = /comments\\/(.*)\\/(.*)\\//;\n    $map{$key} = \"$key/$value\";\n}\n\nopen my $IN, '&lt;', 'html_links' or die $!;\nopen my $out, '&gt;', \"results\" or die;\nwhile (&lt;$IN&gt;) {\n    s/comments\\/(.*)\"/comments\\/$map{$1}\\/\"/g;\n    print $out $_;\n}\nclose $out;\n</code></pre>\n\n<p>that changes lines in html_links file </p>\n\n<p>from <code>&lt;a href=\"https://reddit.com/r/subreddit/comments/CODE/\"&gt;title&lt;/a&gt;</code></p>\n\n<p>to <code>&lt;a href=\"https://reddit.com/r/subreddit/comments/CODE/title_of_the_post/\"&gt;title&lt;/a&gt;</code></p>\n\n<p>by looking at full_link file, that's filled with lines like this:</p>\n\n<p><code>https://reddit.com/r/subreddit/comments/CODE/title_of_the_post/</code></p>\n\n<p>But I feel like it looks a bit odd. Specifically the <code>$map{$key} = \"$key/$value\";</code> part and it's further use in the replacement. I feels like doing just <code>$map{$key} = $value</code> should be sufficient, but I dont know how to utilize it to make the replacement that I need.</p>\n"}, {"tags": ["perl", "error-handling", "copy", "file-copying", "strawberry-perl"], "comments": [{"owner": {"reputation": 33, "user_id": 12223324, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M7QP3K1577U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfHqWPfibzpXKP6_Zd-O4VF3Yv8yw/photo.jpg?sz=128", "display_name": "Priti Verma", "link": "https://stackoverflow.com/users/12223324/priti-verma"}, "edited": false, "score": 0, "creation_date": 1571183810, "post_id": 58403980, "comment_id": 103152909, "body": "This is my very first post , so please excuse the formatting of post"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1571184566, "post_id": 58403980, "comment_id": 103153048, "body": "<code>copy</code> returns false/zero on failure (it&#39;s not like <code>system</code>)"}, {"owner": {"reputation": 33, "user_id": 12223324, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M7QP3K1577U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfHqWPfibzpXKP6_Zd-O4VF3Yv8yw/photo.jpg?sz=128", "display_name": "Priti Verma", "link": "https://stackoverflow.com/users/12223324/priti-verma"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1571247110, "post_id": 58403980, "comment_id": 103180030, "body": "Thank you so much David O and ikegami ! It resolved this issue."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571196086, "post_id": 58404107, "comment_id": 103155145, "body": "Most external programs will accept <code>&#47;</code> as well because <code>&#47;</code> is actually fully supported by Windows itself. (Perl doesn&#39;t translate <code>&#47;</code> to <code>\\ </code>; it simply passes paths with <code>&#47;</code> to the OS.) The problems usually come from <code>&#47;</code> being treated as the start of a command line switch, an issue that can usually be circumvented through the use of quotes. (<code>dir c:&#47;temp</code> bad; <code>dir &quot;c:&#47;temp&quot;</code> ok)"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571201836, "post_id": 58404107, "comment_id": 103156298, "body": "Correct: This is documented in <code>perldoc perlport</code> at <a href=\"https://perldoc.perl.org/perlport.html#DOS-and-Derivatives\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlport.html#DOS-and-Derivatives</a> , though your example is good, and lacking in the documentation."}, {"owner": {"reputation": 33, "user_id": 12223324, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M7QP3K1577U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfHqWPfibzpXKP6_Zd-O4VF3Yv8yw/photo.jpg?sz=128", "display_name": "Priti Verma", "link": "https://stackoverflow.com/users/12223324/priti-verma"}, "edited": false, "score": 0, "creation_date": 1571248489, "post_id": 58404107, "comment_id": 103180624, "body": "@DavidO Actually I have another script where I am trying to execute Informatica workflow thru pmcmd command using strawberry perl but I am not able to capture the failure of the workflow. I am using  if (qx($pmcmd_command)) where $pmcmd_command has the actual command to execute."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1571264875, "post_id": 58404107, "comment_id": 103187135, "body": "<code>qx&#47;&#47;</code> returns STDOUT, but STDERR gets lost unless you redirect it somewhere, which I don&#39;t know how to do in Windows.  If I were you I would use the Capture::Tiny module, which makes handling STDOUT, STDERR, and the exit code easy, and portable."}], "tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": true, "score": 2, "last_activity_date": 1571193649, "last_edit_date": 1571193649, "creation_date": 1571184903, "answer_id": 58404107, "question_id": 58403980, "link": "https://stackoverflow.com/questions/58403980/how-to-get-the-value-of-last-executed-command-in-strawberry-perl/58404107#58404107", "title": "how to get the value of last executed command in strawberry perl", "body": "<p>If you look at <code>perldoc File::Copy</code> you will see the following:</p>\n\n<pre><code>RETURN\n    All functions return 1 on success, 0 on failure. $! will be set if an\n    error was encountered.\n</code></pre>\n\n<p>Therefore, your code should be exposing what is in <code>$!</code> if there is an error:</p>\n\n<pre><code>if ( copy($source_file, $target_file)) {\n    print \"success\\n\";\n} \nelse { \n    warn \"fail: $!\\n\";\n}\n</code></pre>\n\n<p>Also, as described in the documentation for File::Copy, <code>copy</code> returns <code>1</code> on success (a true value), so I removed your <code>== 0</code> in the success test.  With Perl, any true value in the <code>if(COND){...}</code> statement will do; you don't need to explicitly test for <code>1</code>.</p>\n\n<p>Regarding paths: The <code>/</code> character can be used as a path delimiter, even if you're using Windows except in some cases where you might be sending the path to an external program. This capability allows you to relatively portably write code that expresses paths as <code>foo/bar/baz</code>, and it will work with Windows similarly to how it would work under a *nix operating system.  Using the forward slash as a delimiter allows you to avoid escaping every backslash in a path: <code>foo\\\\bar\\\\baz</code>.</p>\n"}], "owner": {"reputation": 33, "user_id": 12223324, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M7QP3K1577U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfHqWPfibzpXKP6_Zd-O4VF3Yv8yw/photo.jpg?sz=128", "display_name": "Priti Verma", "link": "https://stackoverflow.com/users/12223324/priti-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 58404107, "answer_count": 1, "score": 0, "last_activity_date": 1571193649, "creation_date": 1571183659, "last_edit_date": 1571184668, "question_id": 58403980, "link": "https://stackoverflow.com/questions/58403980/how-to-get-the-value-of-last-executed-command-in-strawberry-perl", "title": "how to get the value of last executed command in strawberry perl", "body": "<p>I am trying to execute a simple strawberry perl script for file copy to get the code from the last executed command. But I get 0/success in all the case.</p>\n\n<p>Code from my test.pl script</p>\n\n<pre><code>use File::Copy;  \nuse strict;\nuse warnings;\n\nmy $source_file = \"D:\\\\abc\\\\def\\\\in\\\\test\\\\test1.csv\";\nmy $target_file = \"D:\\\\abc\\\\def\\\\in\\\\test\\\\test2.csv\";\n\nif ( copy( $source_file, $target_file ) == 0 ) {\n    print \"success\";\n} \nelse { print \"fail\"; }\n</code></pre>\n\n<p>Since the path I used <code>D:\\\\abc\\\\def\\\\in\\\\test\\\\test1.csv</code> does not exist on the machine so I expect to get fail but I get success no matter what I provide.</p>\n\n<p>Following the execution and output:</p>\n\n<pre>\nD:\\pet\\common\\bin\\backup>perl test.pl\nsuccess\n</pre>\n"}, {"tags": ["perl", "module", "cgi", "perl-module", "cpan"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1571185985, "post_id": 58403884, "comment_id": 103153330, "body": "It is likely in your home directory, not <code>perl5</code> in the root directory. File paths are also case sensitive. It also looks up based on the whole module name so the library path you are actually looking for is <code>&#47;home&#47;youruser&#47;perl5&#47;lib&#47;perl5</code>."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1571186069, "post_id": 58403884, "comment_id": 103153345, "body": "Do not update <code>@INC</code> manually, use <a href=\"https://perldoc.pl/lib\" rel=\"nofollow noreferrer\">lib</a> or you will not get version and arch specific instllations (such as XS code)."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1571186149, "post_id": 58403884, "comment_id": 103153357, "body": "You can also use <a href=\"https://httpd.apache.org/docs/2.4/mod/mod_env.html#setenv\" rel=\"nofollow noreferrer\">SetEnv</a> to add the directory to the <code>PERL5LIB</code> environment variable for CGI scripts."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1571196269, "post_id": 58403884, "comment_id": 103155175, "body": "<code>BEGIN failed--compilation aborted</code> is never the first error message; what error are you actually getting?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1571196361, "post_id": 58403884, "comment_id": 103155187, "body": "<code>push(@INC, &#39;&#47;&#47;Perl5&#47;lib&#47;perl5&#47;HTML&#39;)</code> should be <code>use lib &#39;&#47;perl5&#47;lib&#47;perl5&#39;;</code> You might be modifying <code>@INC</code> too late --<code>use lib</code> will change it at compile-time -- you misspelled <code>perl5</code>, and you shouldn&#39;t have included <code>HTML</code>."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 3197375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3acdd751e25381742d0357343f876be0?s=128&d=identicon&r=PG&f=1", "display_name": "user3197375", "link": "https://stackoverflow.com/users/3197375/user3197375"}, "is_accepted": false, "score": 1, "last_activity_date": 1571315102, "creation_date": 1571315102, "answer_id": 58432628, "question_id": 58403884, "link": "https://stackoverflow.com/questions/58403884/why-perl-cgi-does-not-compile-cpan-module/58432628#58432628", "title": "Why perl cgi does not compile CPAN module", "body": "<p>Thank you for those who provided comments. I have used the advice given by Grinnz who pointed me to the use of 'use lib /path /to /module'\nBy using the use lib statement with the path to the Template module as the second line of the script and before the use HTML::Template statement, the script worked perfectly.\nThanks again.</p>\n"}], "owner": {"reputation": 21, "user_id": 3197375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3acdd751e25381742d0357343f876be0?s=128&d=identicon&r=PG&f=1", "display_name": "user3197375", "link": "https://stackoverflow.com/users/3197375/user3197375"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571315102, "creation_date": 1571182750, "question_id": 58403884, "link": "https://stackoverflow.com/questions/58403884/why-perl-cgi-does-not-compile-cpan-module", "title": "Why perl cgi does not compile CPAN module", "body": "<p>My OS is Debian Buster. My cgi-bin is in /var. The CPAN module is HTML::Template and located in /perl5/lib/perl5/HTML as installed by cpanm. My server is Apache2 and appears to be configured correctly by all the research I have done (but something must be wrong somewhere). My browser is Firefox , but I also use curl for testing. I can run cgi perl scripts without perl modules from localhost/cgi-bin/ successfully. I can run perl scripts WITH 'use HTML::Template' from the command line with ./ with perfect HTML output BUT, AND THIS IS THE PROBLEM I cannot run these from localhost either with the browser or curl when they include a perl module such as HTML::Template. </p>\n\n<p>The Apache2 error message is \nBEGIN failed--compilation aborted at /var/cgi-bin/templateOne.cgi line 5.: /var/cgi-bin/templateOne.cgi\n[Wed Oct 16 00:01:23.341309 2019] [cgi:error] [pid 3743] [client ::1:36728] End of script output before headers: templateOne.cgi</p>\n\n<p>Now line 5 of the script is \nuse HTML::Template;</p>\n\n<p>So it fails to either locate or compile the module, but since the program works perfectly from the command line then Apache2 I assume is unable to locate the module. </p>\n\n<p>I have tried using \npush(@INC, '//Perl5/lib/perl5/HTML');\nat the start of the script but this does not work either.</p>\n\n<p>Does any one have a suggestion</p>\n"}, {"tags": ["linux", "shell", "perl", "unix", "aix"], "answers": [{"tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": false, "score": 0, "last_activity_date": 1571184198, "creation_date": 1571184198, "answer_id": 58404038, "question_id": 58403859, "link": "https://stackoverflow.com/questions/58403859/how-to-search-and-replace-a-value-in-a-particular-column-in-unix/58404038#58404038", "title": "How to search and replace a value in a particular column in unix", "body": "<p>In awk;</p>\n\n<pre><code>awk -v newval=\"$NEW_VAL_2\" -v i=\"$i\" '\n  BEGIN{OFS=\"\\t\"}\n  $1 == i { $2 = newval } 1' $FILE &gt; newfile\n</code></pre>\n\n<hr>\n\n<p>See <a href=\"https://stackoverflow.com/questions/19075671/how-do-i-use-shell-variables-in-an-awk-script\">How do I use shell variables in an awk script</a> for more about <code>-v</code> and why it's better than trying to insert variables in the middle of a script string.</p>\n"}, {"tags": [], "owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "is_accepted": false, "score": 0, "last_activity_date": 1571237739, "creation_date": 1571237739, "answer_id": 58416255, "question_id": 58403859, "link": "https://stackoverflow.com/questions/58403859/how-to-search-and-replace-a-value-in-a-particular-column-in-unix/58416255#58416255", "title": "How to search and replace a value in a particular column in unix", "body": "<p>Here is a perl one-liner solution. It is easier and faster to use pure perl here (with pattern matching) than a mixture of grep, awk and perl.</p>\n\n<pre><code>$ export FILE=foo\n\n$ cat $FILE\ninstance1       13      16\ninstance2       14      12\ninstance4       58      76\ninstance15      44      91\ninstance102     31      10\ninstance112     12      38\n\n$ export i=instance112\n$ export NEW_VAL_2=99\n$ export NEW_VAL_3=11\n\n$ perl -lne 'if ( m{ \\A $ENV{i} \\t }xms ) { $_ = join \"\\t\", @ENV{ qw( i NEW_VAL_2 NEW_VAL_3 ) }; } print; ' foo\ninstance1       13      16\ninstance2       14      12\ninstance4       58      76\ninstance15      44      91\ninstance102     31      10\ninstance112     99      11\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 116, "user_id": 11954790, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAilFnqzs9C0ijKaKC_AQHJx2ZtPiovylvUjzQU=k-s128", "display_name": "Robin Hsu", "link": "https://stackoverflow.com/users/11954790/robin-hsu"}, "is_accepted": false, "score": 0, "last_activity_date": 1571392326, "creation_date": 1571392326, "answer_id": 58448344, "question_id": 58403859, "link": "https://stackoverflow.com/questions/58403859/how-to-search-and-replace-a-value-in-a-particular-column-in-unix/58448344#58448344", "title": "How to search and replace a value in a particular column in unix", "body": "<p>Let <code>ITEM</code> be the instance line to be modified.  Let <code>NV2</code> and <code>NV3</code> be the new values of the 2nd and 3rd fields.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>ITEM=instance102; NV2=100; NV3=80; sed -E -e \"s/^${ITEM}(\\\\s+)(\\\\S+)(\\\\s+)(\\\\S+)(\\\\s*)\\$/${ITEM}\\\\1${NV2}\\\\3${NV3}\\\\5/\" $FILE\n</code></pre>\n\n<p>It also preserves the original spacing characters: be it tab, space, orcombination of tabs and spaces.  It keeps original spacing even when different spacing styles are used for different lines.</p>\n"}], "owner": {"reputation": 11, "user_id": 12223248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c2a3374078e02734a690c5134c76358?s=128&d=identicon&r=PG&f=1", "display_name": "mbsak", "link": "https://stackoverflow.com/users/12223248/mbsak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1129, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1571392326, "creation_date": 1571182551, "question_id": 58403859, "link": "https://stackoverflow.com/questions/58403859/how-to-search-and-replace-a-value-in-a-particular-column-in-unix", "title": "How to search and replace a value in a particular column in unix", "body": "<p>I am working on a shell script in AIX which has some code to update certain values in a text file. \nThe file is the format as shown below:</p>\n\n<pre><code># cat $FILE\ninstance1   13  16\ninstance2   14  12\ninstance4   58  76\ninstance15  44  91\ninstance102 31  10\ninstance112 12  38\n</code></pre>\n\n<p>I am trying to search by instance name and replace the values in column 2 and column 3 with new values\nI was able to do it using perl as follows:</p>\n\n<pre><code># for i in `cat $FILE|awk '{print $1}'`;do \n# perl -pi -e \"s/`grep -i $i $FILE|awk '{print $2}'`/$NEW_VAL_2/ if /$i/\" $FILE\n\n# perl -pi -e \"s/`grep -i $i $FILE|awk '{print $3}'`/$NEW_VAL_3/ if /$i/\" $FILE\n# done\n</code></pre>\n\n<p>This worked but then I realized that it is replacing every occurrence of the value. For example, in the last row it is replacing the value in column 2 but also the last two characters of the instance name.</p>\n\n<pre><code>Example:\n\n    # i = instance112\n    # NEW_VAL_2 = 99\n    # perl -pi -e \"s/`grep -i $i $FILE|awk '{print $2}'`/$NEW_VAL_2/ if /$i/\" $FILE\n\n    Output:\n\n        instance199 99  38\n</code></pre>\n\n<p>How can I search for the row by instance name and replace only the values in a particular column?</p>\n"}, {"tags": ["arrays", "perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": true, "score": 7, "last_activity_date": 1571179003, "creation_date": 1571179003, "answer_id": 58403441, "question_id": 58403416, "link": "https://stackoverflow.com/questions/58403416/trouble-deleting-key-and-its-associated-value-from-a-perl-hash/58403441#58403441", "title": "Trouble deleting key and it&#39;s associated value from a perl hash", "body": "<p>Here:</p>\n\n<pre><code>sub removeSong{\n    my $namesong=@_;\n</code></pre>\n\n<p>You are assigning an array to a scalar variable. This results in the length of the array being assigned to the scalar (this will be <code>1</code> if a single argument was passed as expected). Since key <code>1</code> does not exists in the hash, you get the error message.</p>\n\n<p>You want:</p>\n\n<pre><code>my ($namesong) = @_;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>my $namesong = shift;\n</code></pre>\n\n<p>Reference: <a href=\"https://perldoc.perl.org/perldata.html\" rel=\"noreferrer\">perldata</a>:</p>\n\n<blockquote>\n  <p>If you evaluate an array in scalar context, it returns the length of the array. </p>\n</blockquote>\n"}], "owner": {"reputation": 93, "user_id": 12076645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/384f04b538161534d56c3174afd07829?s=128&d=identicon&r=PG&f=1", "display_name": "kikikey", "link": "https://stackoverflow.com/users/12076645/kikikey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 58403441, "answer_count": 1, "score": 4, "last_activity_date": 1590929561, "creation_date": 1571178797, "last_edit_date": 1590929561, "question_id": 58403416, "link": "https://stackoverflow.com/questions/58403416/trouble-deleting-key-and-its-associated-value-from-a-perl-hash", "title": "Trouble deleting key and it&#39;s associated value from a perl hash", "body": "<p>I'm writing a basic song managment program in perl that via the use of a module allows the user to add a song name and song time pair to a hash where the key is the name of the song and the value is the time of the song, both of them are strings. The addSong is functioning perfectly however the removeSong is not. In the removeSong I first want to check if the song name string passed in exists as a key. If the input matches an existing key it is deleted(along with it's corresponding value) and if it isn't the subroutine gives out an error message. When I proceed to test the subroutine by removing the song \"Hello\" I receive the error message I programed in that is given out when the input doesn't match a key and when I use the Data::Dumper function on the hash I can see that the song key I wanted to remove is still in the hash.</p>\n\n<p>I used this stackoverflow link for help:\n<a href=\"https://stackoverflow.com/questions/18480114/how-to-remove-keys-from-hash-in-perl\">How to remove keys from hash in Perl?</a></p>\n\n<p>Here is the code for my test.pl function:</p>\n\n<pre><code>use warnings;\nuse FindBin;\nuse lib $FindBin::Bin;\nuse SongList;\nuse strict;\n\nSongList::addSong(\"Hello\", \"5.23\");\nSongList::addSong(\"all my heros are cornballs\", \"3:23\");\nSongList::addSong(\"Grimy Waifu\", \"2:55\");\nSongList::addSong(\"ptsd\", \"2:28\");\nSongList::removeSong(\"Hello\");\n</code></pre>\n\n<p>And here is the code for my SongList.pm module:</p>\n\n<pre><code>package SongList;\n#DECLARE VARIABLES AS LOCALLY AS POSSIBLE TO PREVENT BUGS\nuse strict;\nuse warnings;\nuse Data::Dumper;\nmy %songhash;\n\nmy $songlisttitle;\nsub addSong{#this works\n\n\n    my ($namesong, $timesong) = @_;\n    $songhash{$namesong}=$timesong;\n    print \"success\\n\";\n    print Dumper(\\%songhash);\n\n}\n\nsub removeSong{\n    my $namesong=@_;\n\n    print \"removing song from list\\n\";\n    if(exists $songhash{$namesong}){\n    delete($songhash{$namesong})\n    }\nelse{\n    print \"that song wasn't in the list anyways\\n\";\n    }\n    print Dumper(\\%songhash);\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1571174657, "post_id": 58402794, "comment_id": 103150615, "body": "Tip: To avoid <code>grep</code> finding itself use <code>grep &quot;[d]efunct&quot;</code> instead, one of <a href=\"https://unix.stackexchange.com/questions/74185/how-can-i-prevent-grep-from-showing-up-in-ps-results\">several approaches</a> to avoid the secondary <code>grep -v</code>."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 2, "creation_date": 1571176415, "post_id": 58402794, "comment_id": 103151159, "body": "It&#39;s hard to know without more system/code context.  Can you please show us the output of <code>ps -ef | grep de[f]unct | wc -l</code> and then the output of <code>perl -E &#39;say `ps -ef | grep de[f]unct | wc -l`&#39;</code> from the same shell&#39;s prompt?"}], "answers": [{"tags": [], "owner": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "is_accepted": false, "score": 2, "last_activity_date": 1571415370, "last_edit_date": 1571415370, "creation_date": 1571291705, "answer_id": 58425780, "question_id": 58402794, "link": "https://stackoverflow.com/questions/58402794/perl-script-is-returning-incorrect-output-of-zombie-process-on-linux-box/58425780#58425780", "title": "Perl script is returning incorrect output of zombie process on Linux box", "body": "<p>(linux only)</p>\n\n<pre><code>$zombie_count = do { local *ARGV; @ARGV=&lt;/proc/[0-9]*/stat&gt;; grep /Z[^)]*$/, &lt;&gt; }\n</code></pre>\n\n<p>Just grepping for <code>defunct</code> in the <code>ps</code> output is broken, because a process may put <code>defunct</code> in its command line just to break your script. More robust (but yet not portable [1]) solutions are <code>ps -eo state | grep Z</code> or <code>ps -eo s | grep Z</code>. </p>\n\n<p>In your case, your perl script is probably creating the extra zombies, which disappear when it terminates. Unlike the shell, perl will not greedily reap its children as soon as they die; it's up to you to <code>wait()</code> for them, either directly or indirectly:</p>\n\n<pre><code>$ perl -e 'my $pid = open my $fh, \"echo yup|\"; exec \"ps\", $pid'\n  PID TTY      STAT   TIME COMMAND\n 6840 pts/11   Z+     0:00 [echo] &lt;defunct&gt;\n$ perl -e 'my $pid = open my $fh, \"echo yup|\"; undef $fh; exec \"ps\", $pid'\n  PID TTY      STAT   TIME COMMAND\n$ perl -e 'my $pid = open my $fh, \"echo yup|\"; wait; exec \"ps\", $pid'\n  PID TTY      STAT   TIME COMMAND\n$ perl -e 'my $pid = open FH, \"echo yup|\"; close FH; exec \"ps\", $pid'\n  PID TTY      STAT   TIME COMMAND\n</code></pre>\n\n<p>[1] no, <code>ps -ef</code> is not portable, either.</p>\n"}], "owner": {"reputation": 11, "user_id": 7399121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4fe83469e4b3d3d12221554bf667c73?s=128&d=identicon&r=PG&f=1", "display_name": "mishra07amit", "link": "https://stackoverflow.com/users/7399121/mishra07amit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571415370, "creation_date": 1571174450, "question_id": 58402794, "link": "https://stackoverflow.com/questions/58402794/perl-script-is-returning-incorrect-output-of-zombie-process-on-linux-box", "title": "Perl script is returning incorrect output of zombie process on Linux box", "body": "<p>Perl script is returning incorrect value of zomibie process on Linux box</p>\n\n<pre><code>    my $threshold = 5;\n\n    $number_of_defuncts = `ps -ef | grep defunct |grep -v grep|wc -l`;\n    if ( $number_of_defuncts &gt; $threshold )\n    {\n            print(\"number of defunct is [$number_of_defuncts] \\n\");\n    }\n</code></pre>\n\n<p>WHen manually checked via ps command then zombie processes are always zero but using perl script is giving the erroneous output of 7, 8 or similar high number.</p>\n"}, {"tags": ["perl", "exec"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1571182239, "post_id": 58402167, "comment_id": 103152611, "body": "Win32 doesn&#39;t really have an equivalent to <code>exec</code> syscalls so I wouldn&#39;t be surprised if its emulation has different semantics. <code>perlport</code> does have some warnings about it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1571203113, "post_id": 58402167, "comment_id": 103156589, "body": "@Shawn Indeed, but this is all by the docs.  Even the dedicated <a href=\"https://perldoc.perl.org/perlfork.html\" rel=\"nofollow noreferrer\">perlfork</a> clearly states in a few places  that &quot;pseudo processes&quot; are waited for.  I&#39;m puzzled.  (Can&#39;t play with it on Windows right now...)"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1571206424, "post_id": 58402167, "comment_id": 103157770, "body": "@zdim He&#39;s not using <code>fork</code> though."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1571206734, "post_id": 58402167, "comment_id": 103157877, "body": "@Shawn Right, but the docs seem to relate to all of it.  And here the thing is with the <code>system</code>, which doesn&#39;t wait (so <code>fork</code>).  It just seems <i>from the docs</i> that it &quot;should&quot;"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1571211150, "post_id": 58402167, "comment_id": 103159924, "body": "@zdim Looking at the source, <code>exec</code> on Windows follows different paths depending on if it&#39;s using one of those fork psuedo-processes or not. The fast non-fork path calls <code>_execvp()</code> (I was wrong about Windows not having an equivalent), which sounds like it just calls <code>CreateProcess()</code> and exits."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1571211731, "post_id": 58402167, "comment_id": 103160215, "body": "@Shawn Ah, interesting.  That then highlights the main question, of why does the initial <code>system</code> not wait?  Since the <code>exec</code> did (in one way or another) turn into something else, then what makes the <code>system</code> (which started it all) exit?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1571211969, "post_id": 58402167, "comment_id": 103160320, "body": "@zdim I suspect that what happens is that the <code>system</code> call does wait until the child process ends; it&#39;s just that the child process is only around very briefly before starting a grandchild process the original one running <code>system</code> doesn&#39;t know about and then exiting."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1571256309, "post_id": 58402167, "comment_id": 103184025, "body": "@Shawn Seems like that, since here we get a <i>new</i> process with &quot;exec&quot;, unlike with Unix <code>exec</code>, the original <code>system</code> looses track of it.  The docs never let us in on that."}], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "edited": false, "score": 0, "creation_date": 1571251844, "post_id": 58407898, "comment_id": 103182117, "body": "You are right! I thought exec would result in myScript.pl running with the same PID as runcmd.pl, which I now can see is not true. I am already using the solution with open3, but unfortunately it does not work well when external programs are called from concurrent Perl threads. I am actually trying to find an alternative."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "edited": false, "score": 0, "creation_date": 1571290131, "post_id": 58407898, "comment_id": 103192551, "body": "The Windows system call to create processes, <code>CreateProcess</code>, accepts file handles for STD*. This would do the trick. Unfortunately, Win32::Process doesn&#39;t expose that functionality. Maybe there&#39;s another module. Or you could use Win32::API, I suppose, but that&#39;s pretty advanced."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1571211353, "last_edit_date": 1571211353, "creation_date": 1571210632, "answer_id": 58407898, "question_id": 58402167, "link": "https://stackoverflow.com/questions/58402167/perl-exec-on-windows-vs-unix/58407898#58407898", "title": "Perl: exec() on Windows vs. Unix", "body": "<p>Not exactly, no. Simply put, <code>exec</code> changes the program being executed by the current process. This is not something supported by Windows.</p>\n\n<p>Perl apparently emulates <code>exec</code> by executing the program in a new process and exiting the existing process. Like on unix systems, this leaves a single program running.</p>\n\n<p>You could get the desired result on Windows by replacing <code>exec</code> with <code>system</code>.</p>\n\n<p>Alternatively, avoid the second program entirely. <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a> and <a href=\"https://metacpan.org/pod/IPC::Run3\" rel=\"nofollow noreferrer\">IPC::Run3</a> are solid modules for launching other programs.</p>\n\n<pre><code>use IPC::Run qw( run );\n\nrun [ $^X, 'myScript.pl', 'arg1', 'arg2' ],\n   '&gt;', \"out.tmp\",\n   '2&gt;', \"err.tmp\";\n</code></pre>\n\n<p>Even low-level but core <a href=\"https://metacpan.org/pod/IPC::Open3\" rel=\"nofollow noreferrer\">IPC::Open3</a> would work here.</p>\n\n<pre><code>use IPC::Run qw( open3 );\n\nopen(local *CHILD_STDOUT, '&gt;', 'out.tmp') or die $!;\nopen(local *CHILD_STDERR, '&gt;', 'err.tmp') or die $!;\n\nmy $pid = open3('&lt;&amp;STDIN', '&gt;&amp;CHILD_STDOUT', '&gt;&amp;CHILD_STDERR',\n   $^X, 'myScript.pl', 'arg1', 'arg2');\n\nwaitpid($pid, 0);\n</code></pre>\n"}], "owner": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 1, "accepted_answer_id": 58407898, "answer_count": 1, "score": 2, "last_activity_date": 1571211353, "creation_date": 1571171064, "question_id": 58402167, "link": "https://stackoverflow.com/questions/58402167/perl-exec-on-windows-vs-unix", "title": "Perl: exec() on Windows vs. Unix", "body": "<p>Below code works as I would expect on Unix - system() call blocks until child process finishes.\nOn Windows though it works differently - system() blocks only till child script reaches exec(), then it returns immediately, and exec-ed child script continues to run in background. Is there a way to make it work the same way as on Unix?</p>\n\n<pre><code># main script\nmy $myCmd = [$^X, 'myScript.pl', 'arg1', 'arg2'];\nsystem($^X, 'runcmd.pl', @$myCmd);\n\n\n# runcmd.pl\nopen(STDOUT, '&gt;', 'out.tmp');\nopen(STDERR, '&gt;', 'err.tmp');\nmy $exe = shift @ARGV;\nunless(exec($exe, @ARGV))\n{\n    close(STDOUT);\n    close(STDERR);\n    exit(1);\n}\n\n# myScript.pl - any script that runs few seconds and produces some output, e.g:\nforeach (1..5)\n{\n    sleep 1;\n    print \"$_\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "ssl"], "answers": [{"comments": [{"owner": {"reputation": 327, "user_id": 2685189, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/74d91b5a5b3ce513dbc54f86cf2baee1?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Bergemann", "link": "https://stackoverflow.com/users/2685189/frank-bergemann"}, "edited": false, "score": 0, "creation_date": 1571166257, "post_id": 58401045, "comment_id": 103147450, "body": "Hi Steffen, thanks for clarification! Actually, i am looking for a tool, that offers option to control the SSL/TLS handshake in more detail. I was not able to do it with curl or the openssl command line interface. E.g. i wanted to enable/disable use of Client Hello Extension &quot;heartbeat&quot;. I hoped i could do it on openssl API level - e.g. with perl."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 327, "user_id": 2685189, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/74d91b5a5b3ce513dbc54f86cf2baee1?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Bergemann", "link": "https://stackoverflow.com/users/2685189/frank-bergemann"}, "edited": false, "score": 0, "creation_date": 1571167316, "post_id": 58401045, "comment_id": 103147846, "body": "@FrankBergemann: Enabling heartbeat is a completely different question. It should be possible with the help of Net::SSLeay::CTX_ctrl but only if OpenSSL supports this extension (support removed with OpenSSL 1.1.0). Still, new questions should not be asked in a comment - this is a strict Q+A site and not a discussion forum."}, {"owner": {"reputation": 327, "user_id": 2685189, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/74d91b5a5b3ce513dbc54f86cf2baee1?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Bergemann", "link": "https://stackoverflow.com/users/2685189/frank-bergemann"}, "edited": false, "score": 0, "creation_date": 1571167557, "post_id": 58401045, "comment_id": 103147955, "body": "\\@Steffen: thanks again for your help. Topic solved."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 3, "last_activity_date": 1571165783, "creation_date": 1571165783, "answer_id": 58401045, "question_id": 58400774, "link": "https://stackoverflow.com/questions/58400774/does-perl-iosocketssl-support-sslkeylogfile/58401045#58401045", "title": "Does perl IO::Socket::SSL support SSLKEYLOGFILE?", "body": "<p>In short: there is currently no support for this.</p>\n\n<p>IO::Socket::SSL uses Net::SSLeay for the SSL support which itself is using OpenSSL as the library implementing TLS. There is no direct support for SSLKEYLOGFILE in OpenSSL. There is a function <a href=\"https://www.openssl.org/docs/man1.1.1/man3/SSL_CTX_set_keylog_callback.html\" rel=\"nofollow noreferrer\">SSL_CTX_set_keylog_callback</a> starting with OpenSSL 1.1.1 which can be used to implement the necessary functionality. But this function is not accessible from Net::SSLeay and thus not from IO::Socket::SSL or any other perl-only code.</p>\n"}], "owner": {"reputation": 327, "user_id": 2685189, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/74d91b5a5b3ce513dbc54f86cf2baee1?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Bergemann", "link": "https://stackoverflow.com/users/2685189/frank-bergemann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571165783, "creation_date": 1571164617, "question_id": 58400774, "link": "https://stackoverflow.com/questions/58400774/does-perl-iosocketssl-support-sslkeylogfile", "title": "Does perl IO::Socket::SSL support SSLKEYLOGFILE?", "body": "<p>How can i record in perl IO::Socket:SSL the used SSL keys for decryption in wireshark? <BR>\nE.g. with curl or chrome i can use environment variable $SSLKEYLOGFILE for this.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1571162546, "post_id": 58400054, "comment_id": 103145849, "body": "To fix 2, you create a second negative lookbehind: <code>(?&lt;!Abb\\. )(?&lt;!Ms\\. )</code>"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1571162713, "post_id": 58400054, "comment_id": 103145926, "body": "Are you trying to increase line 4&#39;s <code>8</code> to <code>12</code>?"}, {"owner": {"reputation": 23, "user_id": 8363056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de2b3f59ec7649372a416d91e8e9f071?s=128&d=identicon&r=PG&f=1", "display_name": "Turtle", "link": "https://stackoverflow.com/users/8363056/turtle"}, "reply_to_user": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1571163540, "post_id": 58400054, "comment_id": 103146291, "body": "@ctwheels Thank you! Regarding your second question: Yes, that is intended."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 8363056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de2b3f59ec7649372a416d91e8e9f071?s=128&d=identicon&r=PG&f=1", "display_name": "Turtle", "link": "https://stackoverflow.com/users/8363056/turtle"}, "edited": false, "score": 0, "creation_date": 1571167461, "post_id": 58400558, "comment_id": 103147922, "body": "Brilliant, thank you very much! I forgot to mention one example entry, cases such as <code>Bacchus  44A</code>, which should evaluate to <code>Bacchus 48A</code>. I can modify the second option to <code>(?&lt;=\\D|^)(\\d{1,3})(A)?(?=\\D|$)</code>. But could you point out how I&#39;d use both capturing groups in the replacement part of an <code>s&#47;&#47;&#47;</code> command? <code>&#39;...&#47;$1+4$2&#47;eg&#39;</code> won&#39;t work. (Apologies if this qualifies as a separate question.)"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "reply_to_user": {"reputation": 23, "user_id": 8363056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de2b3f59ec7649372a416d91e8e9f071?s=128&d=identicon&r=PG&f=1", "display_name": "Turtle", "link": "https://stackoverflow.com/users/8363056/turtle"}, "edited": false, "score": 0, "creation_date": 1571168937, "post_id": 58400558, "comment_id": 103148499, "body": "@Turtle you could quite easily use <code>\\b(\\d{1,3})(?=A|\\b)</code> or the second example I provided."}, {"owner": {"reputation": 23, "user_id": 8363056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de2b3f59ec7649372a416d91e8e9f071?s=128&d=identicon&r=PG&f=1", "display_name": "Turtle", "link": "https://stackoverflow.com/users/8363056/turtle"}, "edited": false, "score": 0, "creation_date": 1571209485, "post_id": 58400558, "comment_id": 103159108, "body": "My question wasn&#39;t referring to the regex, but to the replacement part of the s/// command. But it appears to work with <code>s&#47;regex&#47;($1+4).$2&#47;eg</code>."}], "tags": [], "owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "is_accepted": true, "score": 2, "last_activity_date": 1571169333, "last_edit_date": 1571169333, "creation_date": 1571163684, "answer_id": 58400558, "question_id": 58400054, "link": "https://stackoverflow.com/questions/58400054/increase-all-numbers-except-one-or-more-separated-by-commas-conditional-on-pre/58400558#58400558", "title": "Increase all numbers except one or more (separated by commas) conditional on preceding string(s) (for a book index)", "body": "<p>You can use the following regex:</p>\n\n<p><a href=\"https://regex101.com/r/3my6Ux/2\" rel=\"nofollow noreferrer\">See regex in use here</a></p>\n\n<pre><code>(?:Abb|Ms)\\.\\s+\\d{1,3}(?:,\\s+\\d{1,3}\\b)*(*SKIP)(*FAIL)|\\b\\d{1,3}\\b\n</code></pre>\n\n<p>This regex works in the following way:</p>\n\n<ul>\n<li><code>(?:Abb|Ms)</code> Match either <code>Abb</code> or <code>Ms</code> literally</li>\n<li><code>\\.\\s+</code> Match the literal <code>.</code> character, followed by one or more whitespace characters.</li>\n<li><code>\\d{1,3}</code> Match between 1 and 3 digits</li>\n<li><code>(?:,\\s+\\d{1,3}\\b)*</code> Match the following non-capture group any number of times:\n\n<ul>\n<li><code>,\\s+\\d{1,3}\\b</code> Match <code>,</code>, followed by a whitespace character one or more times, then by 1 to 3 digits and assert the end of the digit using a word boundary</li>\n</ul></li>\n<li><code>(*SKIP)</code> control verb that causes the regex to give up on the current match if it tries to backtrack past its position (which means that it did match this string and will prevent the second option from matching)</li>\n<li><code>(*FAIL)</code> control verb that forces this match to fail causing the current match to be excluded from the results</li>\n</ul>\n\n<p>The second option is what actually matches: <code>\\b\\d{1,3}\\b</code> - match between 1 and 3 digits asserting each side as a word boundary.</p>\n\n<hr>\n\n<p>If <code>\\b</code> doesn't properly match every location, you may want to replace <code>\\b</code> with <code>(?:(?&lt;=\\D)|^)</code> for preceding and <code>(?=\\D|$)</code> for proceeding word boundaries respectively:</p>\n\n<p><a href=\"https://regex101.com/r/3my6Ux/4\" rel=\"nofollow noreferrer\">See regex in use here</a></p>\n\n<pre><code>(?:Abb|Ms)\\.\\s+\\d{1,3}(?:,\\s+\\d{1,3}(?=\\D|$))*(*SKIP)(*FAIL)|(?:(?&lt;=\\D)|^)\\d{1,3}(?=\\D|$)\n</code></pre>\n\n<p>These lookbehind/lookaheads work by asserting either a non-digit character or anchor to start/end of string exists in the previous/next position.</p>\n"}], "owner": {"reputation": 23, "user_id": 8363056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de2b3f59ec7649372a416d91e8e9f071?s=128&d=identicon&r=PG&f=1", "display_name": "Turtle", "link": "https://stackoverflow.com/users/8363056/turtle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 58400558, "answer_count": 1, "score": 2, "last_activity_date": 1571209635, "creation_date": 1571161503, "last_edit_date": 1592644375, "question_id": 58400054, "link": "https://stackoverflow.com/questions/58400054/increase-all-numbers-except-one-or-more-separated-by-commas-conditional-on-pre", "title": "Increase all numbers except one or more (separated by commas) conditional on preceding string(s) (for a book index)", "body": "<p>I'm trying to increase by a fixed amount every <em>page number</em> in a file with the following content (it is an index for a book):</p>\n<blockquote>\n<p>Adam und Eva 42\u201344 (Abb. 14, 15)</p>\n<p>Biblioteca Apostolica Vaticana Cod. gr. 1613 31 31 (Abb. 8)</p>\n<p>Hamburg, Staatsbibliothek Ms. 151 in scrin.  35 (Abb. 11)</p>\n<p>Transverberation der Hl. Theresa von \u00c1vila 10, 18 (Abb. 2, Detail S. 8)</p>\n</blockquote>\n<p>The file contains numbers for years, figures etc. However, page numbers</p>\n<ul>\n<li>are never preceded by &quot;Abb. &quot; or &quot;Ms. &quot;</li>\n<li>have 3 digits or less</li>\n</ul>\n<p>I'd like to add the number 4 to the page numbers, ideally leading to</p>\n<blockquote>\n<p>Adam und Eva 46\u201348 (Abb. 14, 15)</p>\n<p>Biblioteca Apostolica Vaticana Cod. gr. 1613 35 35 (Abb. 8)</p>\n<p>Hamburg, Staatsbibliothek Ms. 151 in scrin. 39 (Abb. 11)</p>\n<p>Transverberation der Hl. Theresa von \u00c1vila 14, 22 (Abb. 2, Detail S. 12)</p>\n</blockquote>\n<p>A verbal rule could be: Add 4 to every number if it has 3 digits or less and if it is not preceded by &quot;Abb. |Ms. &quot; or another number which is separated by &quot;, &quot; and, in turn, preceded by &quot;Abb. |Ms. &quot;</p>\n<p>The following line</p>\n<pre><code>perl -pe 's/(?&lt;!Abb. )(\\b\\d{1,3}\\b)/$1+4/eg' original.md\n</code></pre>\n<p>produces</p>\n<pre><code>Adam und Eva 46--48 (Abb. 14, 19)\nBiblioteca Apostolica Vaticana Cod. gr. 1613 35 35 (Abb. 8)\nHamburg, Staatsbibliothek Ms. 155 in scrin. 39 (Abb. 11)\nTransverberation der Hl. Theresa von \u00c1vila 14, 22 (Abb. 2, Detail S. 12)\n</code></pre>\n<p>Two problems remain, the first one of which is most pressing:</p>\n<ol>\n<li>The second figure number on line 1 has of course increased by 4. But I don't know how to fix this. I'm aware that I could expand the middle part to something like <code>(\\b\\d{1,3}\\b),?\\s?(\\b\\d{1,3}\\b)?</code> and reference the second number with <code>$2</code>, but I don't know how to deal with the separating comma (if it exists) in the replacement.</li>\n<li>The number after &quot;Ms. &quot; has increased by 4. But if I change the negative lookbehind to <code>(?&lt;!(Abb. |Ms. ))</code>, I receive the error <code>Variable length lookbehind not implemented in regex m/(?&lt;!(Abb. |Ms. ))(\\b\\d{1,3}\\b)/ at -e line 1.</code> I don't know an alternative to such an implementation.</li>\n</ol>\n<p>Any help on these two problems would be much appreciated!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1571182350, "post_id": 58399823, "comment_id": 103152633, "body": "Here&#39;s a <a href=\"https://www.perlmonks.org/?node_id=406231\" rel=\"nofollow noreferrer\">discussion of Perl prototypes</a> and their limitations."}], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 2, "creation_date": 1571162808, "post_id": 58400267, "comment_id": 103145983, "body": "I&#39;ll also add: unless you are trying to figure out what this means because you&#39;re looking at existing code, you should never use these with very few exceptions. They change how the function call will be parsed in possibly unexpected ways (for example, passing <code>@foo</code> to this function will instead pass the size of <code>@foo</code>). For the expected argument validation feature, you instead want <a href=\"https://perldoc.pl/perlsub#Signatures\" rel=\"nofollow noreferrer\">signatures</a>."}, {"owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "edited": false, "score": 1, "creation_date": 1571162846, "post_id": 58400267, "comment_id": 103145995, "body": "Looks a little like the way we had to prototype routines in C if you wanted to use them before they were actually defined in the body of the code.  My test/example was invalid because I didn&#39;t prototype the sub, just put these ($$$...) args in the sub itself.  Thanks Brian."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 8, "last_activity_date": 1571164991, "last_edit_date": 1571164991, "creation_date": 1571162343, "answer_id": 58400267, "question_id": 58399823, "link": "https://stackoverflow.com/questions/58399823/in-perl-what-does-a-parenthesized-list-of-mean-in-a-sub-declaration/58400267#58400267", "title": "In perl, what does a parenthesized list of &#39;$&#39; mean in a sub declaration?", "body": "<p>That's a Perl subroutine <a href=\"https://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"nofollow noreferrer\">prototype</a>. It's an old-school way of letting the parser know how many arguments to demand. Unless you know what they are going to do for you, I suggest you avoid these for any new code. If you can avoid prototypes, avoid it. It doesn't gain you as much as you think. There's a newer but experimental way to do it better.</p>\n\n<p>The elements after the <code>;</code> are optional arguments. So, <code>mysub($$$$)</code> has four mandatory arguments, and <code>mysub($$$;$)</code> has three mandatory arguments and one optional argument.</p>\n\n<h3>A little about parsing</h3>\n\n<p>Perl lets you be a bit loose about parentheses when you want to specify arguments, so these are the same:</p>\n\n<pre><code>print \"Hello World\";\nprint( \"Hello World\\n\" );\n</code></pre>\n\n<p>This is one of Perl's philosophical points. When we can omit boilerplate, we should be able to. </p>\n\n<p>Also, Perl lets you pass as many arguments as you like to a subroutine and you don't have to say anything about parameters ahead of time:</p>\n\n<pre><code>sub some_sub { ... }\nsome_sub( 1, 2, 3, 4 );\nsome_sub 1, 2, 3, 4;   # same\n</code></pre>\n\n<p>This is another foundational idea of Perl: we have scalars and lists. Many things work on a list, and we don't care what's in it or how many elements it has. </p>\n\n<p>But, some builtins take a definite number of arguments. The <code>sin</code> takes exactly one argument (but <code>print</code> takes zero to effectively infinity):</p>\n\n<pre><code>print sin 5, 'a'; # -0.958924274663138a  (a is from `a`)\n</code></pre>\n\n<p>The <code>rand</code> takes zero or one:</p>\n\n<pre><code>print rand;    # 0.331390818188996\nprint rand 10; # 4.23956650382937\n</code></pre>\n\n<p>But then, you can define your own subroutines. Prototypes are a way to mimic that same behavior you see in the builtins (which I think is kinda cool but also not as motivating for production situations).</p>\n\n<p>I tend to use parens in argument lists because I find it's easier for people to see what I intend (although not always with <code>print</code>, I guess):</p>\n\n<pre><code>print sin(5), 'a';\n</code></pre>\n\n<p>There's one interesting use of prototypes that I like. You can make your own syntax that works like <code>map</code> and <code>grep</code> block forms:</p>\n\n<pre><code>map { ... } @array;\n</code></pre>\n\n<p>If you want to play around with that (but still not subject maintenance programmers to it), check out <a href=\"https://www.metacpan.org/pod/Object::Iterate\" rel=\"nofollow noreferrer\">Object::Iterate</a> for a demonstration of it.</p>\n\n<h3>Experimental signatures</h3>\n\n<p>Perl v5.20 introduced an <a href=\"https://www.effectiveperlprogramming.com/2015/04/use-v5-20-subroutine-signatures/\" rel=\"nofollow noreferrer\">experimental signatures feature</a> where you can give names to parameters. All of these are required:</p>\n\n<pre><code>use v5.20;\nuse feature qw(signatures);\nsub mysub ( $name, $address, $phone ) { ... }\n</code></pre>\n\n<p>If you wanted an optional parameter, you can give it a default value:</p>\n\n<pre><code>sub mysub ( $name, $address, $phone = undef ) { ... }\n</code></pre>\n\n<p>Since this is an experimental feature, it warns whenever you use it. You can turn it off though:</p>\n\n<pre><code>no warnings qw(experimental::signatures);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1571222610, "creation_date": 1571222610, "answer_id": 58411436, "question_id": 58399823, "link": "https://stackoverflow.com/questions/58399823/in-perl-what-does-a-parenthesized-list-of-mean-in-a-sub-declaration/58411436#58411436", "title": "In perl, what does a parenthesized list of &#39;$&#39; mean in a sub declaration?", "body": "<p>This is interesting.</p>\n\n<blockquote>\n  <p>I ran an experiment and it doesn't seem to care if I pass more and fewer args to a sub declared this way than there are '$' in the list.</p>\n</blockquote>\n\n<p>Because, of course, that's exactly what the code's author was trying to enforce.</p>\n\n<p>There are two ways to circumvent the parameter counting that prototypes are supposed to enforce.</p>\n\n<ol>\n<li>Call the subroutine as a method on an object (<code>$my_obj-&gt;my_sub(...)</code>) or on a class (<code>MyClass-&gt;my_sub(...)</code>).</li>\n<li>Call the subroutine using the \"old-style\" ampersand syntax (<code>&amp;my_sub(...)</code>).</li>\n</ol>\n\n<p>From which we learn:</p>\n\n<ol>\n<li>Don't use prototypes on subroutines that are intended to be used as methods.</li>\n<li>Don't use the ampersand syntax for calling subroutines.</li>\n</ol>\n"}], "owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1571222610, "creation_date": 1571160377, "question_id": 58399823, "link": "https://stackoverflow.com/questions/58399823/in-perl-what-does-a-parenthesized-list-of-mean-in-a-sub-declaration", "title": "In perl, what does a parenthesized list of &#39;$&#39; mean in a sub declaration?", "body": "<p>I have to debug someone else's code and ran across sub declarations that look like this...</p>\n\n<pre><code>sub mysub($$$$) {\n    &lt;code here&gt;\n}\n</code></pre>\n\n<p>...also...</p>\n\n<pre><code>sub mysub($$$;$) {\n    &lt;code here&gt;\n}\n</code></pre>\n\n<p>What does the parenthesized list of '$' (with optional ';') mean?\nI ran an experiment and it doesn't seem to care if I pass more and fewer args to a sub declared this way than there are '$' in the list.  I was thinking that it might be used to disambiguate two different subs with the same name, differring only by the number of args pased to it (as defined by the ($$$$) vs ($$$) vs ($$) etc... ).  But that doesn't seem to be it.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "edited": false, "score": 0, "creation_date": 1571160132, "post_id": 58399649, "comment_id": 103144865, "body": "And that is a major problem here. Since it is undocumented, in future it can change and then the code that is working now one way will work then differently."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "edited": false, "score": 4, "creation_date": 1571160243, "post_id": 58399649, "comment_id": 103144900, "body": "It could already be changing from computer to computer or even from run to run. (It doesn&#39;t, but it could.) You should avoid both reading and modifying a variable in an expression."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1571215540, "last_edit_date": 1571215540, "creation_date": 1571159501, "answer_id": 58399649, "question_id": 58399424, "link": "https://stackoverflow.com/questions/58399424/order-of-shift-execution-in-perl-equation/58399649#58399649", "title": "Order of `shift` execution in Perl equation", "body": "<p>In most language, operand evaluation order is undefined or at least undocumented for most operators.<sup>[1]</sup> Perl is no exception.</p>\n\n<p>Does <code>f() + g()</code> call <code>f()</code> or <code>g()</code> first? Well, that's undocumented and presumably undefined.</p>\n\n<hr>\n\n<p>Now, it turns out that <code>perl</code> is currently very consistent. The binary arithmetic operators will always evaluate their left-hand side operand before their right-hand side operand (including <code>**</code>, which is right-associative), while the scalar assignment operator and list assignment operator evaluate their RHS operand before their LHS operand.</p>\n\n<hr>\n\n<ol>\n<li><p>Notable exceptions include the comma operator in scalar context, and short-circuiting operators.</p>\n\n<p>The comma operator in scalar context is documented to evaluate its LHS before its RHS, though no such guarantee is made when it's called in list context.</p>\n\n<p>Short-circuiting operators &mdash;namely <code>&amp;&amp;</code>, <code>||</code>, <code>and</code>, <code>or</code> and the conditional operator&mdash; must necessarily evaluate their LHS before any other operand.</p></li>\n</ol>\n"}], "owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 58399649, "answer_count": 1, "score": 1, "last_activity_date": 1571215540, "creation_date": 1571158525, "last_edit_date": 1592644375, "question_id": 58399424, "link": "https://stackoverflow.com/questions/58399424/order-of-shift-execution-in-perl-equation", "title": "Order of `shift` execution in Perl equation", "body": "<p>For a demonstration of my question, consider the following Perl code:</p>\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @a = (1, 2);\nmy %h;\n\nsub test {\n  $h{shift @_} = shift;\n}\n\n&amp;test(@a);\nprint Dumper(%h);\n</code></pre>\n<p>The output <strong>IS</strong> as the following:</p>\n<blockquote>\n<p>$VAR1 = '2';</p>\n<p>$VAR2 = 1;</p>\n</blockquote>\n<hr />\n<p>Why Perl executes the first <code>shift</code> from right side of the equation, and not from the left one?</p>\n<p>Why the output <strong>IS NOT</strong> as the following?</p>\n<blockquote>\n<p>$VAR1 = '1';</p>\n<p>$VAR2 = 2;</p>\n</blockquote>\n"}, {"tags": ["regex", "perl", "strawberry-perl"], "comments": [{"owner": {"reputation": 23946, "user_id": 3100312, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/486be6e961e6c8a2e4705058600e666f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Ogilvie", "link": "https://stackoverflow.com/users/3100312/paul-ogilvie"}, "edited": false, "score": 0, "creation_date": 1571158693, "post_id": 58399319, "comment_id": 103144284, "body": "This seems to have nothing to do with C. Tag removed."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1571159011, "post_id": 58399319, "comment_id": 103144403, "body": "Can&#39;t you use <code>\\R</code> to match any line break sequence? To match two line breaks use <code>\\R{2}</code>."}, {"owner": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "edited": false, "score": 0, "creation_date": 1571165788, "post_id": 58399319, "comment_id": 103147260, "body": "I do not want to question your approach before I know more but I would think PoSh can do this without Perl. Is Perl really required? Do you use PowerShell v2- or v3+?"}, {"owner": {"reputation": 183, "user_id": 5839677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DOflt.jpg?s=128&g=1", "display_name": "wistlo", "link": "https://stackoverflow.com/users/5839677/wistlo"}, "reply_to_user": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "edited": false, "score": 0, "creation_date": 1572716135, "post_id": 58399319, "comment_id": 103648899, "body": "@wp78de  Perl is not really required, but it&#39;s a low space/low maintenance tool that runs regex code very quickly.   Powershell can do it, but was much slower to process when I tried using PS regex.   I did not try native PS text functions, so the comparison is not complete.  There is a chance (hope?) this code will eventually will be running in parallel in Linux, where regex and Perl are native.  (Windows for doing eyes-on data analysis, Linux for the automated daily script).   With that as a possibility, my goal is to stay with regex for text cleanup."}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 5839677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DOflt.jpg?s=128&g=1", "display_name": "wistlo", "link": "https://stackoverflow.com/users/5839677/wistlo"}, "edited": false, "score": 0, "creation_date": 1572716275, "post_id": 58410898, "comment_id": 103648938, "body": "Works as advertised, <a href=\"https://perldoc.pl/perlrun#-0%5Boctal/hexadecimal%5D\" rel=\"nofollow noreferrer\">slurp</a> was the missing key. Much cleaner, thanks."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 1, "last_activity_date": 1571220840, "creation_date": 1571220840, "answer_id": 58410898, "question_id": 58399319, "link": "https://stackoverflow.com/questions/58399319/regex-strawberry-perl-windows-one-liner-to-fix-multiple-linefeed-0a-characte/58410898#58410898", "title": "regex strawberry perl (windows) one-liner to fix multiple linefeed (0a) characters", "body": "<p><a href=\"http://p3rl.org/run#-0[octal/hexadecimal]\" rel=\"nofollow noreferrer\">Slurp</a> and replace consecutive <a href=\"http://p3rl.org/rebackslash#%5CR\" rel=\"nofollow noreferrer\">newlines</a> with a single.</p>\n\n<pre><code>perl -0777 -i.p.bak -lpe \"s/\\R+/\\n/g\" User%5FProfile%5FReport.csv\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 5839677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DOflt.jpg?s=128&g=1", "display_name": "wistlo", "link": "https://stackoverflow.com/users/5839677/wistlo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 58410898, "answer_count": 1, "score": 0, "last_activity_date": 1571220840, "creation_date": 1571158079, "last_edit_date": 1571158668, "question_id": 58399319, "link": "https://stackoverflow.com/questions/58399319/regex-strawberry-perl-windows-one-liner-to-fix-multiple-linefeed-0a-characte", "title": "regex strawberry perl (windows) one-liner to fix multiple linefeed (0a) characters", "body": "<p>In Windows, a report from MS SQL server comes to me with embedded duplicate line feeds that cause errors when reading into LOAD DATA INFILE in mySQL in a Windows environment.  I fix this using three Strawberry Perl one-liners in a Powershell script.</p>\n\n<p>The Windows '\\r\\n' convention is recognized by Strawberry Perl and that is its output format.  I could not get Perl to recognize the empty lines with a single 0x0a linefeed, though, as the Strawberry flavor of Perl would always interpret that as a new line and include it in the output.</p>\n\n<p>My solution was to simply replace all the linefeed 0x0a characters with a string unlikely to appear in the content:</p>\n\n<pre><code>&lt;*  script is Powershell, initialize source file name*&gt;\n$myLoginCSV = 'User%5FProfile%5FReport.csv' \n\n&lt;*  convert linefeed (0a) chars into string LINEFEEDCHAR *&gt;\n$perlarg='-i.p.bak -p -e \"s/\\x0A/LINEFEEDCHAR/g\"'\nperl $perlarg $myLoginCSV\n\n&lt;*  de-duplicate linefeeds*&gt;   \n$perlarg='-i.p.bak -p -e \"s/(LINEFEEDCHAR){2,}/LINEFEEDCHAR/g\"'\nperl $perlarg $myLoginCSV\n\n&lt;*  restore the 0a linefeed characters by substituting for LINEFEEDCHAR *&gt; \n$perlarg='-i.p.bak -p -e \"s/LINEFEEDCHAR/\\x0a/g\"'\nperl $perlarg $myLoginCSV\n</code></pre>\n\n<p>I tried to do this in one line, but could not figure out how. Strawberry Perl interprets linefeeds with a fixed behavior to make it compatible with Windows.  This \"three liner\" works well and is fast.  An attempt at this using Powershell native regex was over 10 times slower.  </p>\n\n<p><strong>Specifically in the Strawberry Perl Windows environment, is there a way to do this in fewer than three lines?</strong></p>\n\n<p>This is not a high priority.  One lesson I took away from this is that a regex solution using Strawberry Perl in Windows can have a multi line solution but still be fast.  In the future, I won't be as wedded to a true \"one-line\" solution when a couple of extra lines get the job done.</p>\n"}, {"tags": ["perl", "unicode", "pango", "devanagari"], "comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 1, "creation_date": 1571157223, "post_id": 58395294, "comment_id": 103143650, "body": "The question would benefit of some minimal runnable program showing how the visual mark is put in the wrong place. Potential question answerers should not each have to spend time to come up with a demo, and risk getting/understanding it wrong. Please <a href=\"https://stackoverflow.com/posts/58395294/edit\">edit the question</a> to amend. Also see section <i>Help others reproduce the problem</i> in &lt;<a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>&gt;. \u2013\u2013\u2013 If it&#39;s Perl, I&#39;ll be glad to investigate."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 12024426, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-61yKRg2NKoo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfgr3-6lOsuo_cTzUsq2sunRxMBFw/photo.jpg?sz=128", "display_name": "Johan Vromans", "link": "https://stackoverflow.com/users/12024426/johan-vromans"}, "edited": false, "score": 0, "creation_date": 1571315740, "post_id": 58431510, "comment_id": 103206017, "body": "Nifty, and very useful!  I found that in {many,most,all} situations correct results were obtained by measuring the length of the <i>complete</i> phrase and subtracting the length of the <i>second</i> part of the phrase. Your solution is provably correct."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 3, "last_activity_date": 1571311471, "creation_date": 1571311471, "answer_id": 58431510, "question_id": 58395294, "link": "https://stackoverflow.com/questions/58395294/pango-finding-positions-in-devanagari-strings/58431510#58431510", "title": "Pango: Finding positions in Devanagari strings", "body": "<p>You cannot measure a partial rendering. Instead measure the whole rendering and iterate over the string grapheme-wise to find the position. Also see: <a href=\"https://gankra.github.io/blah/text-hates-you/#style-can-change-mid-ligature\" rel=\"nofollow noreferrer\">https://gankra.github.io/blah/text-hates-you/#style-can-change-mid-ligature</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/1g8i7.png\" alt=\"\"></p>\n\n<pre><code>use strict;\nuse warnings;\nuse utf8;\nuse Cairo;\nuse Pango;\nuse List::Util qw(uniq);\nuse Encode qw(encode);\n\nmy $surface = Cairo::PdfSurface-&gt;create('out.pdf', 595, 842);\nmy $cr = Cairo::Context-&gt;create ($surface);\nmy $layout = Pango::Cairo::create_layout($cr);\nmy $font = Pango::FontDescription-&gt;from_string('Lohit Devanagari');\n$layout-&gt;set_font_description($font);\nmy $phrase = '\u0909\u092e\u094d\u0915\u0928\u094d\u091b\u094c';\nmy @octets = split '', encode 'UTF-8', $phrase; # index_to_pos operates on octets\n$layout-&gt;set_markup($phrase);\nmy ($x, $y) = (100, 100);\n$cr-&gt;move_to($x, $y);\n$cr-&gt;set_source_rgba(0, 0, 0, 1);\nPango::Cairo::show_layout($cr, $layout);\n$cr-&gt;set_line_width(0.25);\nmy @offsets = uniq map { $layout-&gt;index_to_pos($_)-&gt;{x}/1024 } 0..$#octets;\n# (0, 9.859375, 16.09375, 27.796875, 33.953125, 49.1875)\nfor my $offset (@offsets) {\n    $cr-&gt;move_to($x+$offset, $y-5);\n    $cr-&gt;line_to($x+$offset, $y+25);\n    $cr-&gt;stroke;\n}\nmy @graphemes = $phrase =~ /\\X/g; # qw(\u0909 \u092e\u094d \u0915 \u0928\u094d \u091b\u094c)\nwhile (my ($idx, $g) = each @graphemes) {\n    if ($g =~ /^\u091b/) {\n        $cr-&gt;move_to($x+$offsets[$idx], $y-10);\n        $cr-&gt;line_to($x+$offsets[$idx], $y+50);\n        $cr-&gt;stroke;\n        last;\n    }\n}\n$cr-&gt;show_page;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 12024426, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-61yKRg2NKoo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfgr3-6lOsuo_cTzUsq2sunRxMBFw/photo.jpg?sz=128", "display_name": "Johan Vromans", "link": "https://stackoverflow.com/users/12024426/johan-vromans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 1, "accepted_answer_id": 58431510, "answer_count": 1, "score": 3, "last_activity_date": 1571331771, "creation_date": 1571144322, "last_edit_date": 1571331771, "question_id": 58395294, "link": "https://stackoverflow.com/questions/58395294/pango-finding-positions-in-devanagari-strings", "title": "Pango: Finding positions in Devanagari strings", "body": "<p>I'm using Pango to typeset Devanagari.\nConsider the string \u0909\u092e\u094d\u0915\u0928\u094d\u091b\u094c consisting of DEVANAGARI LETTER U, DEVANAGARI LETTER MA, DEVANAGARI SIGN VIRAMA, DEVANAGARI LETTER KA, DEVANAGARI LETTER NA, DEVANAGARI SIGN VIRAMA, DEVANAGARI LETTER CHA, DEVANAGARI VOWEL SIGN AU.\nWhen typesetting this string, I want to know the starting point of \u091b (CHA) to put a visual mark.</p>\n\n<p>For ordinary strings I would take the length of the preceding part, \u0909\u092e\u094d\u0915\u0928\u094d but this doesn't work here since as you can see \u0928\u094d (half \u0928) combines with \u091b so the result is slightly off.</p>\n\n<p>Is there a way to obtain the correct starting point of a letter when combinations are involved?</p>\n\n<p>I've tried querying the Pango layout using index_to_pos(), but this seems to work on the byte level (not characters).</p>\n\n<p>This small Perl program shows the problem. The vertical line is off to the right.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\nuse utf8;\nuse Cairo;\nuse Pango;\n\nmy $surface = Cairo::PdfSurface-&gt;create (\"out.pdf\", 595, 842);\nmy $cr = Cairo::Context-&gt;create ($surface);\nmy $layout = Pango::Cairo::create_layout($cr);\nmy $font = Pango::FontDescription-&gt;from_string('Lohit Devanagari');\n$layout-&gt;set_font_description($font);\n\n# Two parts of the phrase. Phrase1 ends in \u0928\u094d (half \u0928).\nmy $phrase1 = '\u0909\u092e\u094d\u0915\u0928\u094d';\nmy $phrase2 = '\u091b\u094c';\n\n# Set the first part of the phrase, and get its width.\n$layout-&gt;set_markup($phrase1);\nmy $w = ($layout-&gt;get_size)[0]/1024;\n\n# Set the complete phrase.\n$layout-&gt;set_markup($phrase1.$phrase2);\n\nmy ($x, $y ) = ( 100, 100 );\n\n# Show phrase.\n$cr-&gt;move_to( $x, $y );\n$cr-&gt;set_source_rgba( 0, 0, 0, 1 );\nPango::Cairo::show_layout($cr, $layout);\n\n# Show marker at width.\n$cr-&gt;set_line_width(0.25);\n$cr-&gt;move_to( $x + $w, $y-10 );\n$cr-&gt;line_to( $x + $w, $y+50 );\n$cr-&gt;stroke;\n\n$cr-&gt;show_page;\n</code></pre>\n"}, {"tags": ["apache", "perl"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1571142309, "post_id": 58394129, "comment_id": 103134876, "body": "You have configured Apache to run FCGI but you are running your application as a separate daemon. You should configure Apache to proxy to your daemon, as described at <a href=\"https://metacpan.org/pod/Dancer2::Manual::Deployment#Running-stand-alone-behind-a-proxy-/-load-balancer\" rel=\"nofollow noreferrer\">metacpan.org/pod/&hellip;</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1571148881, "post_id": 58394129, "comment_id": 103138996, "body": "You are running your as an HTTP daemon, he means. (@Grinnz&#39;s statement was confusing because an FCGI app would have to be run as a daemon.)"}, {"owner": {"reputation": 99, "user_id": 12138447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016353c3f0f6ecc47fccbd62ba848eb9?s=128&d=identicon&r=PG&f=1", "display_name": "user12138447", "link": "https://stackoverflow.com/users/12138447/user12138447"}, "edited": false, "score": 0, "creation_date": 1571168152, "post_id": 58394129, "comment_id": 103148167, "body": "I realize that mentioning plackup in my question gave the impression that I was trying to run the webapp stand-alone. I&#39;ve now updated my question to reflect that I&#39;m attempting to run Dancer2 as a FastCGI script under Apache. I also tweaked the heading."}], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 12138447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016353c3f0f6ecc47fccbd62ba848eb9?s=128&d=identicon&r=PG&f=1", "display_name": "user12138447", "link": "https://stackoverflow.com/users/12138447/user12138447"}, "is_accepted": true, "score": 1, "last_activity_date": 1572277661, "last_edit_date": 1572277661, "creation_date": 1571171089, "answer_id": 58402175, "question_id": 58394129, "link": "https://stackoverflow.com/questions/58394129/apache-stops-serving-static-pages-when-the-fastcgi-application-dancer2-is-enable/58402175#58402175", "title": "Apache stops serving static pages when the FastCGI application Dancer2 is enabled", "body": "<p>I initially thought I had solved this by changing </p>\n\n<pre><code>AddHandler fastcgi-script .fcgi\n</code></pre>\n\n<p>to</p>\n\n<pre><code>SetHandler fcgid-script\n</code></pre>\n\n<p>in my /etc/apache2/sites-enabled/saltstrau.men.conf.</p>\n\n<p>, as shown in the \"Configuration directives\" example of the Apache doc: <a href=\"http://httpd.apache.org/mod_fcgid/mod/mod_fcgid.html#examples\" rel=\"nofollow noreferrer\">http://httpd.apache.org/mod_fcgid/mod/mod_fcgid.html#examples</a></p>\n\n<p>However, that \"solution\" did not last long, so I gave up on starting Dancer2 as a fast CGI application. </p>\n\n<p><strong>SOLUTION:</strong> I ended up starting Dancer2 as a stand-alone daemon and using ProxyPass in my Apache configuration to forward requests to Dancer2. As suggested by comments above. This has been working reliably for days now. </p>\n"}], "owner": {"reputation": 99, "user_id": 12138447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016353c3f0f6ecc47fccbd62ba848eb9?s=128&d=identicon&r=PG&f=1", "display_name": "user12138447", "link": "https://stackoverflow.com/users/12138447/user12138447"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 58402175, "answer_count": 1, "score": 1, "last_activity_date": 1572277661, "creation_date": 1571140561, "last_edit_date": 1571167837, "question_id": 58394129, "link": "https://stackoverflow.com/questions/58394129/apache-stops-serving-static-pages-when-the-fastcgi-application-dancer2-is-enable", "title": "Apache stops serving static pages when the FastCGI application Dancer2 is enabled", "body": "<p>I'm trying to run Dancer2 as a FastCGI script under Apache 2.4, as described here: <a href=\"https://metacpan.org/pod/Dancer2::Manual::Deployment#As-a-FastCGI-script\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Dancer2::Manual::Deployment#As-a-FastCGI-script</a></p>\n\n<p>My /etc/apache2/sites-enabled/saltstrau.men.conf looks like this:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n    ServerName   saltstrau.men\n    DocumentRoot /var/www/me/MyApp/public\n\n    FcgidWrapper /var/www/me/MyApp/public/dispatch.fcgi\n\n    &lt;Directory \"/var/www/me/MyApp/public\"&gt;\n        AllowOverride None\n        Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch\n        AddHandler fastcgi-script .fcgi\n        Require all granted\n        Header set Access-Control-Allow-Origin \"*\"\n    &lt;/Directory&gt;\n\n    RewriteEngine On\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^(.*)$ /dispatch.fcgi$1 [QSA,L]\n\n    CustomLog /var/log/apache2/saltstrau.men_access.log combined\n    ErrorLog  /var/log/apache2/saltstrau.men_error.log\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>And the Dancer2 webapp is the stock demo application, generated like this:</p>\n\n<pre><code>$ dancer2 gen -a MyApp\n</code></pre>\n\n<p>But when I point my laptop's brower to <a href=\"http://saltstrau.men/\" rel=\"nofollow noreferrer\">http://saltstrau.men/</a>\ninstead of the \"Perl is Dancing\" page I get a webpage saying:</p>\n\n<pre><code>Not Found\n\nThe requested URL was not found on this server.\nApache/2.4.29 (Ubuntu) Server at saltstrau.men Port 80\n</code></pre>\n\n<p>Note that this is not Dancer2's static  .../MyApp/public/404.html page.</p>\n\n<p><strong>Question:</strong> How can I make Dancer2 work on port 80 on Apache 2.4?</p>\n\n<p><strong>Some failed attempts at solving this issue:</strong></p>\n\n<ol>\n<li><p>Restarting Apache is required whenever making changes to Dancer, but Apache restarts have no effect on this issue (Neither does a server reboot)</p></li>\n<li><p>I did manage to serve static web pages (e.g. .../MyApp/public/404.html) on \nport 80 by commenting out these 3 lines: </p></li>\n</ol>\n\n<pre><code>    RewriteEngine On\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^(.*)$ /dispatch.fcgi$1 [QSA,L]\n</code></pre>\n\n<p>, but that defeats the purpose because it stops Dancer2 from being called.</p>\n\n<ol start=\"3\">\n<li>I've verified that Dancer2 is correctly installed, and the stock demo webapp working, by testing them via plackup on the server:</li>\n</ol>\n\n<pre><code>$ sudo plackup /var/www/me/MyApp/bin/app.psgi\nHTTP::Server::PSGI: Accepting connections at http://0:5000/\n[MyApp:2307] core @2019-10-15 01:03:53&gt; looking for get / in \n/usr/local/share/perl/5.26.1/Dancer2/Core/App.pm l. 36\n[MyApp:2307] core @2019-10-15 01:03:53&gt; Entering hook \ncore.app.before_request in (eval 218) l. 1\n[MyApp:2307] core @2019-10-15 01:03:53&gt; Entering hook \ncore.app.after_request in (eval 218) l. 1\n</code></pre>\n\n<p>When I now point my laptop's brower to <a href=\"http://saltstrau.men:5000/\" rel=\"nofollow noreferrer\">http://saltstrau.men:5000/</a>\nI get the familiar \"Perl is Dancing\" page. And <a href=\"http://saltstrau.men:5000/404.html\" rel=\"nofollow noreferrer\">http://saltstrau.men:5000/404.html</a> returns the static page located at ..../MyApp/public/404.html.</p>\n\n<ol start=\"4\">\n<li>In another attempt at debugging my configuration I even tried running the webapp stand-alone on port 80, but port 80 is already in use:</li>\n</ol>\n\n<pre><code>$ sudo plackup -p 80 /var/www/me/MyApp/bin/app.psgi\nfailed to listen to port 80: Address already in use at \n/usr/local/share/perl/5.26.1/HTTP/Server/PSGI.pm line 103.\n</code></pre>\n\n<p>My server was created a few days ago, so all SW versions are recent: Ubuntu 18.04, Apache 2.4.29 and Dancer2 0.208001. All required Apache modules are enabled:</p>\n\n<pre><code>/etc/apache2/mods-enabled$ ls \naccess_compat.load  autoindex.load  include.load      setenvif.conf\nalias.conf          deflate.conf    mime.conf         setenvif.load\nalias.load          deflate.load    mime.load         socache_shmcb.load\nauth_basic.load     dir.conf        mpm_event.conf    ssl.conf\nauthn_core.load     dir.load        mpm_event.load    ssl.load\nauthn_file.load     env.load        negotiation.conf  status.conf\nauthz_core.load     fcgid.conf      negotiation.load  status.load\nauthz_host.load     fcgid.load      reqtimeout.conf\nauthz_user.load     filter.load     reqtimeout.load\nautoindex.conf      headers.load    rewrite.load\n</code></pre>\n"}, {"tags": ["linux", "perl", "freebsd", "cpan", "inotify"], "comments": [{"owner": {"reputation": 29, "user_id": 883996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36d0100905b9ff9e568318ad66c995e5?s=128&d=identicon&r=PG", "display_name": "Sabin Cheruvattil", "link": "https://stackoverflow.com/users/883996/sabin-cheruvattil"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1571136114, "post_id": 58392728, "comment_id": 103131578, "body": "cpan -T Linux::Inotify2 installs Inotify2, but throws error: Undefined symbol &quot;inotify_init&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 2, "last_activity_date": 1571136438, "creation_date": 1571136438, "answer_id": 58392869, "question_id": 58392728, "link": "https://stackoverflow.com/questions/58392728/not-able-to-install-linuxinotify2-on-freebsd/58392869#58392869", "title": "Not able to install Linux::Inotify2 on freeBSD", "body": "<p>You need to use alternatives that work on the OS.</p>\n\n<ul>\n<li><a href=\"http://p3rl.org/File::ChangeNotify\" rel=\"nofollow noreferrer\">File::ChangeNotify</a> with <a href=\"http://p3rl.org/IO::KQueue\" rel=\"nofollow noreferrer\">IO::KQueue</a></li>\n<li><a href=\"http://enwp.org/gamin\" rel=\"nofollow noreferrer\">gamin</a> and <a href=\"http://p3rl.org/Sys::Gamin\" rel=\"nofollow noreferrer\">Sys::Gamin</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": false, "score": 0, "last_activity_date": 1571136469, "creation_date": 1571136469, "answer_id": 58392881, "question_id": 58392728, "link": "https://stackoverflow.com/questions/58392728/not-able-to-install-linuxinotify2-on-freebsd/58392881#58392881", "title": "Not able to install Linux::Inotify2 on freeBSD", "body": "<p>Inotify is a Linux specific API. You can't use it on FreeBSD (or any other OS not using a Linux kernel) because that kernel doesn't provide those syscalls.</p>\n"}, {"tags": [], "owner": {"reputation": 29966, "user_id": 637669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0227e5d5eaceb8ae2f751df38d421764?s=128&d=identicon&r=PG", "display_name": "arrowd", "link": "https://stackoverflow.com/users/637669/arrowd"}, "is_accepted": false, "score": 1, "last_activity_date": 1571140668, "creation_date": 1571140668, "answer_id": 58394155, "question_id": 58392728, "link": "https://stackoverflow.com/questions/58392728/not-able-to-install-linuxinotify2-on-freebsd/58394155#58394155", "title": "Not able to install Linux::Inotify2 on freeBSD", "body": "<p>Actually, there is <code>devel/libinotify</code> library, which implements inotify interface on FreeBSD via <code>kevent</code> API. So, there might be possible to build this extension.</p>\n\n<p>If you got to <code>Undefined symbol \"inotify_init\"</code> stage, the only thing left is to install <code>libinotify</code> package and then add proper <code>-l</code> flag to build command line. I'm not familiar with Perl build system, so I can't advise on how to do that.</p>\n"}], "owner": {"reputation": 29, "user_id": 883996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36d0100905b9ff9e568318ad66c995e5?s=128&d=identicon&r=PG", "display_name": "Sabin Cheruvattil", "link": "https://stackoverflow.com/users/883996/sabin-cheruvattil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1571140668, "creation_date": 1571135916, "question_id": 58392728, "link": "https://stackoverflow.com/questions/58392728/not-able-to-install-linuxinotify2-on-freebsd", "title": "Not able to install Linux::Inotify2 on freeBSD", "body": "<p>I am trying to install Inotify2 on freeBSD, but test step throws error.</p>\n\n<p><code>cpan install Linux::Inotify2</code></p>\n\n<p>It throws the following error:</p>\n\n<pre><code>root@freebsd12sabin:~/.cpan/build/Linux-Inotify2-2.1-6 # make test\n\"/usr/local/bin/perl\" -MExtUtils::Command::MM -e 'cp_nonempty' -- Inotify2.bs blib/arch/auto/Linux/Inotify2/Inotify2.bs 644\nPERL_DL_NONLAZY=1 \"/usr/local/bin/perl\" \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t\nt/00_load.t ..... Can't load '/root/.cpan/build/Linux-Inotify2-2.1-6/blib/arch/auto/Linux/Inotify2/Inotify2.so' for module Linux::Inotify2: /root/.cpan/build/Linux-Inotify2-2.1-6/blib/arch/auto/Linux/Inotify2/Inotify2.so: Undefined symbol \"inotify_init\" at /usr/local/lib/perl5/5.30/mach/DynaLoader.pm line 193.\n at /root/.cpan/build/Linux-Inotify2-2.1-6/blib/lib/Linux/Inotify2.pm line 97.\nBEGIN failed--compilation aborted at /root/.cpan/build/Linux-Inotify2-2.1-6/blib/lib/Linux/Inotify2.pm line 97.\n</code></pre>\n\n<p>Is there anyway I can proceed?</p>\n"}, {"tags": ["perl", "xml-libxml"], "answers": [{"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 3, "last_activity_date": 1571138092, "creation_date": 1571138092, "answer_id": 58393384, "question_id": 58391193, "link": "https://stackoverflow.com/questions/58391193/prevent-encoding-when-tidy-html-using-xmllibxml/58393384#58393384", "title": "Prevent encoding when tidy HTML using XML::LibXML", "body": "<p>The problem is not quite what you think.</p>\n\n<p>The HTML parser treats the input as Latin1 as specified by the standard, but your input file is really in UTF-8. To make it work, you need to <a href=\"https://www.w3.org/International/questions/qa-html-encoding-declarations\" rel=\"nofollow noreferrer\">declare the correct encoding</a>, e.g.</p>\n\n<pre><code>&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 58393384, "answer_count": 1, "score": 1, "last_activity_date": 1571138092, "creation_date": 1571130887, "last_edit_date": 1571131285, "question_id": 58391193, "link": "https://stackoverflow.com/questions/58391193/prevent-encoding-when-tidy-html-using-xmllibxml", "title": "Prevent encoding when tidy HTML using XML::LibXML", "body": "<p>I'm using the following code to tidy a snippet of untidied HTML codes.\n</p>\n\n<pre><code>    perl -Mutf8 -MXML::LibXML -E'\n    my $filename = \"1.html\";\n    open $fh, \"&lt;\", $filename; \n    binmode $fh;\n    my $dom = XML::LibXML-&gt;load_html(\n    IO  =&gt; $fh,\n    recover   =&gt; 1,\n    suppress_errors =&gt; 1, \n    huge =&gt; 10000000,\n    );\n    say $dom-&gt;toString();\n    ' &gt; tidy.html\n</code></pre>\n\n<p>The untidied HTML codes(missing the <code>&lt;/p&gt;</code> ending tag):</p>\n\n<p>1.html:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p&gt;a\u03a9&lt;span&gt;test&lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As you can see, there's one special character <code>\u03a9</code> in the <code>&lt;p&gt;</code> tag, after the tidy process, the <code>\u03a9</code> is encoded as <code>&amp;#xCE;&amp;#xA9;</code> as followed(tidied HTML codes):</p>\n\n<p>tidy.html:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;&lt;body&gt;&lt;p&gt;a&amp;#xCE;&amp;#xA9;&lt;span&gt;test&lt;/span&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Can I keep <code>\u03a9</code> in its original form, instead of its encoded form in the tidy output?</p>\n\n<p>Or is there any other alternatives to do the tidy process that won't encoding special characters?</p>\n"}, {"tags": ["perl", "module", "installation"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1571131109, "creation_date": 1571131109, "answer_id": 58391271, "question_id": 58390584, "link": "https://stackoverflow.com/questions/58390584/perl-module-install-to-mentioned-directory/58391271#58391271", "title": "Perl Module install to mentioned directory", "body": "<p>See the documentation of <a href=\"https://perldoc.pl/ExtUtils/MakeMaker.html#INSTALL_BASE\" rel=\"nofollow noreferrer\">INSTALL_BASE</a>. You seem to be interested in changing just the <code>INSTALLPRIVLIB</code> path. Maybe you want to set the <code>LIB</code> attribute only, described in the next section?</p>\n"}], "owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571131109, "creation_date": 1571128939, "question_id": 58390584, "link": "https://stackoverflow.com/questions/58390584/perl-module-install-to-mentioned-directory", "title": "Perl Module install to mentioned directory", "body": "<p>I want to install a Perl module to a particular directory which I am mentioning while executing a command.</p>\n\n<p>I want this module to be installed in a mentioned path.</p>\n\n<p>Command I tried is</p>\n\n<pre><code>$ env PERL_MM_OPT='INSTALL_BASE=/home/vinod/my_test_folder/perl_practice/scripts' cpanm Log::Log4perl\n</code></pre>\n\n<p>But this by default installed in <code>/home/vinod/my_test_folder/perl_practice/scripts/lib/perl5</code>.</p>\n\n<p>What could be the reason? How to install the module in particular directory which I am mentioning?</p>\n"}, {"tags": ["python", "pandas", "perl", "dataframe"], "comments": [{"owner": {"reputation": 26154, "user_id": 11884237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7d7q4.png?s=128&g=1", "display_name": "ansev", "link": "https://stackoverflow.com/users/11884237/ansev"}, "edited": false, "score": 0, "creation_date": 1571093238, "post_id": 58384805, "comment_id": 103117748, "body": "This code has many errors. Could you show what your expected output is?"}, {"owner": {"reputation": 48, "user_id": 5339604, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a84b932a95587b9f718453519244921e?s=128&d=identicon&r=PG&f=1", "display_name": "python kindergarden developer", "link": "https://stackoverflow.com/users/5339604/python-kindergarden-developer"}, "reply_to_user": {"reputation": 26154, "user_id": 11884237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7d7q4.png?s=128&g=1", "display_name": "ansev", "link": "https://stackoverflow.com/users/11884237/ansev"}, "edited": false, "score": 0, "creation_date": 1571093849, "post_id": 58384805, "comment_id": 103117908, "body": "Thanks, I added the expected output."}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1571094060, "post_id": 58384805, "comment_id": 103117968, "body": "In your code, you write <code>if ((df[&#39;NOB&#39;] != 1).any() or (df[&#39;NOB&#39;] ==1).any()):</code>, and then <code>elif((df[&#39;NOB&#39;] == 1).any()):</code>. The <code>elif</code> will never trigger, did you intend to use <code>and</code> instead of <code>or</code>?"}, {"owner": {"reputation": 26154, "user_id": 11884237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7d7q4.png?s=128&g=1", "display_name": "ansev", "link": "https://stackoverflow.com/users/11884237/ansev"}, "edited": false, "score": 0, "creation_date": 1571095142, "post_id": 58384805, "comment_id": 103118198, "body": "Are you aware that this makes no sense?=   <code>if ((df[&#39;NOB&#39;] != 1).any() or (df[&#39;NOB&#39;] ==1).any()):             d5 = -A1*df[&#39;NOB&#39;]         elif((df[&#39;NOB&#39;] == 1).any()):             d5 = -E*df[&#39;NOB&#39;]</code>"}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1571101222, "post_id": 58384805, "comment_id": 103119227, "body": "On top of the logical errors, are we certain that the boolean expressions have been reduced/simplified as much as possible?"}], "answers": [{"comments": [{"owner": {"reputation": 48, "user_id": 5339604, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a84b932a95587b9f718453519244921e?s=128&d=identicon&r=PG&f=1", "display_name": "python kindergarden developer", "link": "https://stackoverflow.com/users/5339604/python-kindergarden-developer"}, "edited": false, "score": 0, "creation_date": 1571093874, "post_id": 58384942, "comment_id": 103117914, "body": "Thank you for your answer @Denver, I will look into it."}], "tags": [], "owner": {"reputation": 614, "user_id": 11968227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f56719c77ab7e0c014eb670e524136ee?s=128&d=identicon&r=PG&f=1", "display_name": "Denver", "link": "https://stackoverflow.com/users/11968227/denver"}, "is_accepted": false, "score": 1, "last_activity_date": 1571093145, "creation_date": 1571093145, "answer_id": 58384942, "question_id": 58384805, "link": "https://stackoverflow.com/questions/58384805/comparing-values-of-a-single-column-of-pandas-dataframe-in-python-transforming/58384942#58384942", "title": "Comparing values of a single column of pandas dataframe in python (transforming perl to python code)", "body": "<p>This block here:</p>\n\n<pre><code>if (df['NA'] &gt; 1).any():\n    print(True)\nelif (df['NA'] == 1).any():\n    print(False)\n</code></pre>\n\n<p>Will always print True because the column 'NA' has values greater than 1 and therefore the second elif will not be evaluated. Based on your comments I think you want to loop through the DataFrame and evaluate each element if I am not mistaken. You could try something like this:</p>\n\n<pre><code>for val in df['NA']:\n    if val &gt; 1:\n        print(True)\n    elif val == 1:\n        print(False)\n</code></pre>\n\n<p>This will evaluate each element of the column 'NA', for your actual use case you will want to know the index of a given val, which can be done using <code>enumerate</code>. For example:</p>\n\n<pre><code>for (idx, val) in enumerate(df['NA']):\n    if val &gt; 1:\n        d5 = -A1 * df['NOB'].iloc[idx]\n    elif val == 1:\n        d5 = E * df['NOB'].iloc[idx]\n</code></pre>\n\n<p><code>idx</code> is the index of the current element, and you can access the element of other columns at that index using <code>iloc</code>. I hope this helps, good luck. </p>\n"}, {"comments": [{"owner": {"reputation": 48, "user_id": 5339604, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a84b932a95587b9f718453519244921e?s=128&d=identicon&r=PG&f=1", "display_name": "python kindergarden developer", "link": "https://stackoverflow.com/users/5339604/python-kindergarden-developer"}, "edited": false, "score": 0, "creation_date": 1571093833, "post_id": 58384987, "comment_id": 103117901, "body": "I appreciate your answer Alexander, plus I added the expected output. I am waiting for it."}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "reply_to_user": {"reputation": 48, "user_id": 5339604, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a84b932a95587b9f718453519244921e?s=128&d=identicon&r=PG&f=1", "display_name": "python kindergarden developer", "link": "https://stackoverflow.com/users/5339604/python-kindergarden-developer"}, "edited": false, "score": 0, "creation_date": 1571096268, "post_id": 58384987, "comment_id": 103118390, "body": "@Pythonkindergartendeveloper take a look, tell me what you think :)"}, {"owner": {"reputation": 48, "user_id": 5339604, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a84b932a95587b9f718453519244921e?s=128&d=identicon&r=PG&f=1", "display_name": "python kindergarden developer", "link": "https://stackoverflow.com/users/5339604/python-kindergarden-developer"}, "edited": false, "score": 0, "creation_date": 1571215434, "post_id": 58384987, "comment_id": 103162190, "body": "Your answer was golden Alexander. All of the best!"}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "reply_to_user": {"reputation": 48, "user_id": 5339604, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a84b932a95587b9f718453519244921e?s=128&d=identicon&r=PG&f=1", "display_name": "python kindergarden developer", "link": "https://stackoverflow.com/users/5339604/python-kindergarden-developer"}, "edited": false, "score": 0, "creation_date": 1571225170, "post_id": 58384987, "comment_id": 103167398, "body": "@Pythonkindergartendeveloper you\u2019re welcome, let me know if you have any questions! :)"}], "tags": [], "owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "is_accepted": true, "score": 1, "last_activity_date": 1571112120, "last_edit_date": 1571112120, "creation_date": 1571093508, "answer_id": 58384987, "question_id": 58384805, "link": "https://stackoverflow.com/questions/58384805/comparing-values-of-a-single-column-of-pandas-dataframe-in-python-transforming/58384987#58384987", "title": "Comparing values of a single column of pandas dataframe in python (transforming perl to python code)", "body": "<p>@Denver already explained why your comparisons on the NA column are not returning what you expect. </p>\n\n<p>However, I would do the comparisons differently than he did. Here is a little snippet that should help your understanding:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># a series of bools, indicating for which index our condition is true\nna_gt_1_series = df[\"NA\"] &gt; 1\nprint(na_gt_1)\n\n# creating a new column based on the values of the NA column\ndf[\"na_gt_1\"] = na_gt_1_series\nprint(df)\n</code></pre>\n\n<hr>\n\n<p>Now, since the conditions here are quite complex, I think it would be simpler to use pandas' apply function, which applies a function along a certain axis of a DataFrame.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def get_row_df5(row):\n    df5 = 0\n    if row[\"NA\"] &gt; 1:\n        if row[\"MULT\"] == 1:\n            if row[\"NOB\"] == 1:\n                df5 = -A1 * row[\"NOB\"]\n        else:\n            df5 = -A2 * row[\"NOB\"] - B * (row[\"NOA\"] - row[\"NOB\"])\n    elif row[\"NA\"] == 1:\n        if row[\"MULT\"] == 1:\n            if row[\"EX\"] == 0 and row[\"NOB\"] == 4 and row[\"CHARGE\"] == 0:\n                df5 = -A1 * row[\"NOB\"]\n            elif row[\"NOB\"] != 1 or row[\"NOB\"] == 1 and row[\"EX\"] != 0:\n                df5 = -C * row[\"NOB\"]\n            elif row[\"NOB\"] == 1 and row[\"EX\"] == 0:\n                df5 = -E * row[\"NOB\"]\n        else:\n            df5 = -C * row[\"NOB\"] - D * (row[\"NOA\"] - row[\"NOB\"])\n    return df5\n\ndf5_res = df.apply(func=get_row_df5, axis=1)\n</code></pre>\n\n<hr>\n\n<p>Unfortunately, that simplicity comes at a cost. For a 120,000-row DataFrame, made by duplicating your example data, the apply solution takes ~4s, versus ~40ms (100x faster) for the following solution.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def get_df5_broad(df_in):\n    na_lt_1 = df_in[\"NA\"] &gt; 1\n    na_eq_1 = df_in[\"NA\"] == 1\n    mult_eq_1 = df_in[\"MULT\"] == 1\n    mult_ne_1 = ~mult_eq_1\n\n    res_series = pd.Series(np.zeros(shape=df_in.shape[0]))\n\n    res_series.loc[na_lt_1 &amp; mult_eq_1 &amp; (df_in[\"NOB\"] == 1)] = -A1 * df_in[\"NOB\"]\n    res_series.loc[na_lt_1 &amp; mult_ne_1] = -A2 * df_in[\"NOB\"] - B * (df_in[\"NOA\"] - df_in[\"NOB\"])\n    res_series.loc[na_eq_1 &amp; mult_eq_1 &amp; (df_in[\"EX\"] == 0) &amp; (df_in[\"NOB\"] == 4) &amp; (df_in[\"CHARGE\"] == 0)] = -A1 * df_in[\"NOB\"]\n    res_series.loc[na_eq_1 &amp; mult_eq_1 &amp; ((df_in[\"NOB\"] != 1) | ((df_in[\"NOB\"] == 1) &amp; (df_in[\"EX\"] != 0)))] = -C * df_in[\"NOB\"]\n    res_series.loc[na_eq_1 &amp; mult_eq_1 &amp; (df_in[\"NOB\"] == 1) &amp; (df_in[\"EX\"] == 0)] = -E * df_in[\"NOB\"]\n    res_series.loc[na_eq_1 &amp; mult_ne_1] = -C * df_in[\"NOB\"] - D * (df_in[\"NOA\"] - df_in[\"NOB\"])\n\n    return res_series\n</code></pre>\n\n<hr>\n\n<p>Finally, this next method is the best of both worlds. It is similar in its design and simplicity to the method using apply, while being only 5 times slower than the previous high-performance version. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def get_df5_tupe(tupe):\n    df5 = 0\n    if tupe.NA &gt; 1:\n        if tupe.MULT == 1:\n            if tupe.NOB == 1:\n                df5 = -A1 * tupe.NOB\n        else:\n            df5 = -A2 * tupe.NOB - B * (tupe.NOA - tupe.NOB)\n    elif tupe.NA == 1:\n        if tupe.MULT == 1:\n            if tupe.EX == 0 and tupe.NOB == 4 and tupe.CHARGE == 0:\n                df5 = -A1 * tupe.NOB\n            elif tupe.NOB != 1 or tupe.NOB == 1 and tupe.EX != 0:\n                df5 = -C * tupe.NOB\n            elif tupe.NOB == 1 and tupe.EX == 0:\n                df5 = -E * tupe.NOB\n        else:\n            df5 = -C * tupe.NOB - D * (tupe.NOA - tupe.NOB)\n    return df5\n\ndef get_df5_iter(df_in):\n    return pd.Series((get_df5_tupe(curr) for curr in df_in.itertuples(index=False)))\n\n</code></pre>\n\n<p>Note: these methods do not always return the correct answer due to the logical ambiguities in the OP. I will edit my solution as soon as the right boolean expressions are available.</p>\n"}], "owner": {"reputation": 48, "user_id": 5339604, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a84b932a95587b9f718453519244921e?s=128&d=identicon&r=PG&f=1", "display_name": "python kindergarden developer", "link": "https://stackoverflow.com/users/5339604/python-kindergarden-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 58384987, "answer_count": 2, "score": 1, "last_activity_date": 1571112120, "creation_date": 1571092077, "last_edit_date": 1571093780, "question_id": 58384805, "link": "https://stackoverflow.com/questions/58384805/comparing-values-of-a-single-column-of-pandas-dataframe-in-python-transforming", "title": "Comparing values of a single column of pandas dataframe in python (transforming perl to python code)", "body": "<p>I am trying to convert a perl code to python for simple multiplications of columns by some constants.\nI've created a pandas dataframe with multiple columns of float values.\nHere is the example of the components.csv file.</p>\n\n<pre><code>      NA  MULT   NOA   NOB  CHARGE   EX\n0    8.0   1.0  24.0  24.0     0.0  1.0\n1    8.0   1.0  24.0  24.0     0.0  1.0\n2    8.0   1.0   6.0   6.0     0.0  1.0\n3   20.0   1.0  18.0  18.0     0.0  1.0\n4   23.0   1.0  21.0  21.0     0.0  1.0\n5   26.0   1.0  24.0  24.0     0.0  1.0\n6   11.0   1.0  13.0  13.0     0.0  0.0\n7   16.0   1.0  19.0  19.0     1.0  0.0\n8    1.0   1.0   4.0   4.0    -1.0  0.0\n9   17.0   1.0  23.0  23.0     0.0  0.0\n10   1.0   1.0   4.0   4.0     0.0  0.0\n11   1.0   1.0   4.0   4.0     0.0  0.0\n</code></pre>\n\n<p>The initial parameters are:</p>\n\n<pre><code>$A1 = 9.3692400791;\n$A2 = 9.4492960287;\n$B  = 3.8320915550;\n$C  = 9.5936653352;\n$D  = 1.8739215238;\n$E  = 2.4908584058;\n</code></pre>\n\n<p>The expected output is a single column (d5):</p>\n\n<pre><code>Df5\n-0.2249\n-0.2249\n-0.0562\n-0.1686\n-0.1968\n-0.2249\n-0.1218\n-0.1780\n-0.0384\n-0.2155\n-0.0375\n-0.0375\n</code></pre>\n\n<p>After parsing into a dataframe by using:</p>\n\n<pre><code>pd.set_option('precision', 8)\ndf = pd.read_csv(\"unscaled_components_delimit.csv\", delimiter= \",\", header=0)\n</code></pre>\n\n<p>I've got multiple conditions to check, for example the following script:</p>\n\n<pre><code>if (df['NA'] &gt; 1).any():\n    print(True)\nelif (df['NA'] == 1).any():\n    print(False)\n</code></pre>\n\n<p>However the code above, prints only a single value of True, even though there are multiple values of 1.0 at the column with header NA, that means that it does not pass to the second elif. I used the function any() , and maybe another function should be used which I am currently not aware of.\nHence, might someone suggest a solution for that?</p>\n\n<p>The goal, is to compare each element of column (header NA) with number 1 (larger or equal).\nThen, perform some actions with other conditions for the other columns.</p>\n\n<p>I would be grateful for any help or suggestion.</p>\n\n<p>For more clarity, the following code contains the final desired code with all required conditions:</p>\n\n<pre><code>if (df['NA'] &gt; 1).any():\n    if (df['MULT'] == 1).any():\n        if ((df['NOB'] != 1).any() or (df['NOB'] ==1).any()):\n            d5 = -A1*df['NOB']\n        elif((df['NOB'] == 1).any()):\n            d5 = -E*df['NOB']\n    else:\n        d5 = -A2*df['NOB'] - B*(df['NOA']-df['NOB'])\n\nelif (df['NA'] == 1).any():\n    if (df['MULT'] == 1).any():\n        if ((df['EX'] == 0).any() and (df['NOB'] == 4).any() and (df['CHARGE'] == 0).any()):\n            d5 = -A1*df['NOB']\n        elif((df['NOB'] != 1).any() or ((df['NOB'] == 1).any() and (df['EX'] != 0).any() )):\n            d5 = -C*df['NOB']\n        elif((df['NOB'] == 1).any() and (df['EX'] == 0).any()):\n            d5 = -E*df['NOB']\n    else:\n        d5 = -C*df['NOB'] - D*(df['NOA']-df['NOB'])\n</code></pre>\n\n<p>The original perl code is the following ($nh is not needed, hlc in perl is the d5 in python):</p>\n\n<pre><code> if ($na &gt; 1) {\n                    if ($mult == 1) {\n                            if (($nob != 1) || (($nob == 1) &amp;&amp; ($nh != 0))) {\n                                    $hlc = -$A1 * $nob;\n                            }\n                            elsif (($nob == 1) &amp;&amp; ($nh == 0)) {\n                                    $hlc = -$E *$nob;\n                            }\n                    }\n                    else {\n                            $hlc = -$A2 * $nob - $B * ($noa - $nob);\n                    }\n            }\n\n            ### HLC for atomic species ###\n            elsif ($na == 1) {\n                    if ($mult == 1) {\n\n                            if (($ex == 0) &amp;&amp; ($nob == 4) &amp;&amp; ($charge == 0)) {\n                                    $hlc = -$A1 * $nob;\n                            }\n                            elsif (($nob != 1) || (($nob == 1) &amp;&amp; ($ex != 0))) {\n                                    $hlc = -$C * $nob;\n                            }\n                            elsif (($nob == 1) &amp;&amp; ($ex == 0)) {\n                                    $hlc = -$E *$nob;\n                            }\n                    }\n                    else {\n                             $hlc = -$C * $nob - $D * ($noa - $nob);\n                    }\n            }\n</code></pre>\n"}, {"tags": ["multithreading", "perl", "fork"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1571076167, "post_id": 58381769, "comment_id": 103112063, "body": "<a href=\"http://p3rl.org/perlthrtut\" rel=\"nofollow noreferrer\">perlthrtut</a>: &quot;Thinking of mixing fork() and threads? Please lie down and wait until the feeling passes. Be aware that the semantics of fork() vary between platforms. For example, some Unix systems copy all the current threads into the child process, while others only copy the thread that called fork(). You have been warned!&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "edited": false, "score": 0, "creation_date": 1571090709, "post_id": 58382251, "comment_id": 103117175, "body": "Thank you! Works on Linux and AIX."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 6, "last_activity_date": 1571077831, "creation_date": 1571077831, "answer_id": 58382251, "question_id": 58381769, "link": "https://stackoverflow.com/questions/58381769/perl-fork-from-parallel-threads/58382251#58382251", "title": "Perl: fork from parallel threads", "body": "<p>On my Linux box, using <code>_exit</code> from <a href=\"http://p3rl.org/POSIX\" rel=\"noreferrer\">POSIX</a> instead of <a href=\"http://p3rl.org/exit\" rel=\"noreferrer\">exit</a> works. This solution might be non-portable to other platforms, though.</p>\n\n<p>The linked documentation says:</p>\n\n<blockquote>\n  <p>Note that when using threads and in Linux this is not a good way to exit a thread because in Linux processes and threads are kind of the same thing (Note: while this is the situation in early 2003 there are projects under way to have threads with more POSIXly semantics in Linux). If you want not to return from a thread, detach the thread.</p>\n</blockquote>\n\n<p>Similarly, <a href=\"https://p3rl.org/perlthrtut\" rel=\"noreferrer\">perlthrtut - Tutorial on threads in Perl</a> says</p>\n\n<blockquote>\n  <p>Thinking of mixing fork() and threads? Please lie down and wait until the feeling passes. Be aware that the semantics of fork() vary between platforms. For example, some Unix systems copy all the current threads into the child process, while others only copy the thread that called fork(). You have been warned!</p>\n</blockquote>\n"}], "owner": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 58382251, "answer_count": 1, "score": 1, "last_activity_date": 1571077831, "creation_date": 1571075280, "question_id": 58381769, "link": "https://stackoverflow.com/questions/58381769/perl-fork-from-parallel-threads", "title": "Perl: fork from parallel threads", "body": "<p>Below code is supposed to run 2 parallel threads, each thread executes fork(), waits for child process to finish then threads are expected to join (finish) and result is printed.\nIn reality, first forked child process finishes as expected, but second one hangs on _mutex_lock() trying to exit, thus second thread never joins till you kill second child manually with -9 signal.\nCould somebody please explain why this happens, and how to avoid this?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse threads;\nuse Data::Dumper;\n\nsub Run\n{\n    my $tid = threads-&gt;tid();\n    my $log = {};\n    $log-&gt;{\"[$$:$tid]:00\"} = \"started\";\n    my $pid = fork();\n    if ($pid == 0)\n    {\n         print \"In child ($$): started\\n\";\n         sleep 3;\n         print \"In child ($$): finished\\n\";\n#         system(\"kill -9 $$\");  -- brutal way\n         exit 0;\n    }\n    waitpid($pid, 0);\n    my $exitCode = $? &gt;&gt; 8;\n    $log-&gt;{\"[$$:$tid]:01\"} = \"finished, code=$exitCode\";\n    return $log;\n}\n\nmy @threads = ();\nforeach (1..2)\n{\n    push @threads, threads-&gt;new(sub { return Run() });\n}\nprint Dumper($_-&gt;join()) for @threads;\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1571079353, "post_id": 58381394, "comment_id": 103113266, "body": "&quot;<i>If I find a match, I want to use those two files together</i>&quot; : What do you mean by &quot;use together&quot;? What is the expected output?"}, {"owner": {"reputation": 99, "user_id": 5458124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8Tn1.jpg?s=128&g=1", "display_name": "Billy J", "link": "https://stackoverflow.com/users/5458124/billy-j"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1571079978, "post_id": 58381394, "comment_id": 103113507, "body": "Basically, I want to read the contents of both files and write the contents of each to another file. If I only find one file, then I want to write the contents of the one file, plus &quot;N/A&quot; in the place of the absent file to another file."}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 5458124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8Tn1.jpg?s=128&g=1", "display_name": "Billy J", "link": "https://stackoverflow.com/users/5458124/billy-j"}, "edited": false, "score": 1, "creation_date": 1571083069, "post_id": 58382690, "comment_id": 103114685, "body": "I do believe that I can work with this! ;-) Thank you very much, H&#229;kon. This is greatly appreciated."}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 1, "creation_date": 1571160867, "post_id": 58382690, "comment_id": 103145153, "body": "I think this answer is very succinct.  I&#39;ll just point out that <a href=\"https://metacpan.org/pod/List::Compare\" rel=\"nofollow noreferrer\">metacpan.org/pod/List::Compare</a> can also helpful for these sorts of problems."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 2, "last_activity_date": 1571079871, "creation_date": 1571079871, "answer_id": 58382690, "question_id": 58381394, "link": "https://stackoverflow.com/questions/58381394/comparing-two-lists-in-perl/58382690#58382690", "title": "Comparing Two Lists in Perl", "body": "<p>Here is an example of how you could iterate through the two sets (if I understand the question correctly):</p>\n\n<pre><code>use strict;\nuse warnings;\nuse List::Util qw(uniq);\n\nmy @setA = qw(1.txt 2.txt 3.txt 5.txt 6.txt 7.txt 8.txt);\nmy @setB = qw(1.txt 2.txt 3.txt 4.txt 5.txt 6.txt 7.txt 8.txt);\n\nmy @all_keys = sort {$a cmp $b} uniq @setA, @setB;\nmy %setA = map {$_ =&gt; 1} @setA;\nmy %setB = map {$_ =&gt; 1} @setB;\n\nfor my $key (@all_keys) {\n    if (exists $setA{$key} &amp;&amp; exists $setB{$key}) {\n        # use both $setA{$key} and $setB{$key}\n    }\n    elsif (exists $setA{$key}) {\n\n    }\n    elsif (exists $setB{$key}) {\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 5458124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8Tn1.jpg?s=128&g=1", "display_name": "Billy J", "link": "https://stackoverflow.com/users/5458124/billy-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 58382690, "answer_count": 1, "score": -1, "last_activity_date": 1571079871, "creation_date": 1571073611, "last_edit_date": 1571075495, "question_id": 58381394, "link": "https://stackoverflow.com/questions/58381394/comparing-two-lists-in-perl", "title": "Comparing Two Lists in Perl", "body": "<p>I have two sets of files.</p>\n\n<p>Example 1: The filenames are numbered, however, some files may be missing.</p>\n\n<p>Example 1:</p>\n\n<p>Set A:  1.txt   2.txt   3.txt   5.txt   6.txt   7.txt   8.txt</p>\n\n<p>Set B:  1.txt   2.txt   3.txt   4.txt   5.txt   6.txt   7.txt   8.txt </p>\n\n<p>Note: 4.txt is missing from Set A.</p>\n\n<p>I want to compare the two lists. </p>\n\n<p>If I find a match (i.e. 1.txt equals 1.txt), I want to use those two files, together.</p>\n\n<p>When the filenames don't match (i.e. 5.txt and 4.txt), I only want to use 4.txt from Set B.</p>\n\n<p>Continuing on, I want to match the next set (i.e. 5.txt and 5.txt, 6.txt and 6.txt, etc.).</p>\n\n<p>Example 2: There may also be instances where the file lists are as follows:</p>\n\n<p>Example 2:</p>\n\n<p>Set A:  1.txt   2.txt   3.txt   4.txt   5.txt   6.txt   7.txt</p>\n\n<p>Set B:  1.txt   2.txt   4.txt   6.txt   8.txt </p>\n\n<p>Note: 3.txt and 5.txt are missing from Set B.</p>\n\n<p>If I find a match (i.e. 1.txt equals 1.txt, 2.txt equals 2.txt), I want to use those two files, together.</p>\n\n<p>If the filenames don't match (i.e. 3.txt and 4.txt), I only want to use 3.txt from Set A.</p>\n\n<p>Continuing on, I want to match the next set (i.e. 4.txt and 4.txt).</p>\n\n<p>When the filenames don't match (i.e. 5.txt and 6.txt), I only want to use 5.txt from Set A.</p>\n\n<p>Continuing on, I want to match the next set (i.e. 6.txt and 6.txt, etc.) and so on and so on.</p>\n\n<p>So hypothetically, the results (for Example 2) should look as follows:</p>\n\n<p>Set A:  1.txt   2.txt   3.txt   4.txt   5.txt   6.txt   7.txt   N/A</p>\n\n<p>Set B:  1.txt   2.txt   N/A     4.txt   N/A     6.txt   N/A     8.txt </p>\n\n<p>Example 3: There may also be instances where both lists have missing files as follows:</p>\n\n<p>Example 3:</p>\n\n<p>Set A:  2.txt   3.txt   4.txt   5.txt   7.txt</p>\n\n<p>Set B:  1.txt   2.txt   3.txt   6.txt   8.txt</p>\n\n<p>Note: 1.txt, 6.txt and 8.txt are missing from Set A -AND- 4.txt, 5.txt and 7.txt are missing from Set B.</p>\n\n<p>I have loaded the 2 lists into 2 separate arrays to do a comparison with no luck. </p>\n\n<p>I have also merged the 2 arrays into 1 array but I have been unable to produce the results that I'm after.</p>\n\n<p>So, without writing an inordinate amount of code (i.e. numerous \"if\" statements), I was wondering if there was a simpler way to achieve this in Perl.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl", "module"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1571074910, "post_id": 58381339, "comment_id": 103111572, "body": "1) Missing semicolon on <code>use strict</code> ... seriously? If it&#39;s a typo in posting then note that it&#39;s better to copy-paste. So that there are no such typos. 2) You need <code>use Exporter qw(import);</code> if you want to actually export names to the caller.  3) You don&#39;t <code>EXPORT</code> the function <code>printthing</code>, have no function <code>main</code> which you attempt to export, and shouldn&#39;t have <code>&amp;</code> in front of function names in <code>EXPORT</code>.  These things wouldn&#39;t throw errors in the example you show but are wrong. 4) Is the module <code>test.pm</code>  in the same directory with the script?  ///  <i>Please show exact errors</i>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1571075111, "post_id": 58381339, "comment_id": 103111649, "body": "Should always have both <code>use warnings;</code> and <code>use strict;</code> in all units -- in the main program as well as in modules"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1571087335, "post_id": 58381339, "comment_id": 103116225, "body": "<code>$secondwork</code> and <code>$secondword</code> is another trivial error."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1571079698, "creation_date": 1571079698, "answer_id": 58382652, "question_id": 58381339, "link": "https://stackoverflow.com/questions/58381339/issues-using-perl-modules-and-passing-variables-into-subroutines/58382652#58382652", "title": "Issues using perl modules and passing variables into subroutines", "body": "<ul>\n<li>You're missing the semicolon from the end of your <code>use strict</code> line in the module.</li>\n<li>You try to export the <code>main()</code> subroutine, but your module doesn't have a subroutine called <code>main()</code>.</li>\n<li>You pass references to your variables to the subroutine but don't dereference them before printing them.</li>\n</ul>\n\n<p>For the final point, you can either continue to pass in references, but dereference before printing.</p>\n\n<pre><code>test::printthing(\\$firststring, \\$secondstring);\n\n# and then in the subroutine...\n\nprint\"$$firstword\\n\";\nprint\"$$secondword\\n\";\n</code></pre>\n\n<p>Or, you could just pass in the variables and ignore references completely.</p>\n\n<pre><code>test::printthing($firststring, $secondstring);\n\n# and then in the subroutine...\n\nprint\"$firstword\\n\";\nprint\"$secondword\\n\";\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 12076645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/384f04b538161534d56c3174afd07829?s=128&d=identicon&r=PG&f=1", "display_name": "kikikey", "link": "https://stackoverflow.com/users/12076645/kikikey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1571079698, "creation_date": 1571073379, "question_id": 58381339, "link": "https://stackoverflow.com/questions/58381339/issues-using-perl-modules-and-passing-variables-into-subroutines", "title": "Issues using perl modules and passing variables into subroutines", "body": "<p>So I am new to the perl programing language and I want to get myself acquainted with creating, using, and passing parameters into modules. I made a hello world module that takes as a parameter two string variables from the main.pl testing program, one that says \"hello\" and another that says \"world\" and prints them out. Every time I try running main.pl I keep getting errors and I have spent many days trying to get this otherwise simple program to function correctly.</p>\n\n<p>This is the code for my main.pl function:</p>\n\n<pre><code>use FindBin;\nuse lib $FindBin::Bin;\nuse test;\nuse strict;\nmy $firststring = \"hello\";\nmy $secondstring = \"world\";\ntest::printthing(\\$firststring, \\$secondstring);\n</code></pre>\n\n<p>And this is the coded for my test.pm module:</p>\n\n<pre><code>package test;\n\nuse strict\n\nuse Exporter;\nour @ISA = qw/Exporter/;\nour @EXPORT = qw/&amp;main/;\n\nsub printthing{\n    my $firstword = $_[0];\n    my $secondwork = $_[1];\n    print\"$firstword\\n\";\n    print\"$secondword\\n\";\n}1;\n</code></pre>\n"}, {"tags": ["perl", "installation", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1571119022, "post_id": 58382239, "comment_id": 103123030, "body": "Thanks @Grinnz. This is much helpful answer. But it failed to install module completely. At the end I got this message - <code>! Installing the dependencies failed: Module &#39;Email::MIME&#39; is not installed ! Bailing out the installation for Email-Reply-1.204. 10 distributions installed </code> Whether dependencies installed automatically or we should do it manually?"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1571123684, "post_id": 58382239, "comment_id": 103125022, "body": "@vinodk89, that&#39;s a different problem, please <a href=\"https://stackoverflow.com/questions/ask\">open a new question</a> with the details of the Email::MIME installation that went wrong."}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1571125272, "post_id": 58382239, "comment_id": 103125846, "body": "@daxim Thank you. Here while installing one more thing I noticed is whenever I execute the above command which @Grinnz has given, the module is being installed in <code>&#47;home&#47;vinod&#47;my_test_folder&#47;perl_practice&#47;scripts&#47;lib&#47;perl5</code> by default even after I give the path as <code>&#47;home&#47;vinod&#47;my_test_folder&#47;perl_practice&#47;scripts</code> in command. Why so?"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1571128453, "post_id": 58382239, "comment_id": 103127484, "body": "@vinodk89, that&#39;s working as intended. If you need a detailed explanation, <a href=\"https://stackoverflow.com/questions/ask\">open a new question</a>."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1571141786, "post_id": 58382239, "comment_id": 103134558, "body": "@vinodk89 If you are installing something that needs dependencies, I recommend using the cpanm command which will handle everything, and not attempting to manually set all of the local::lib variables, because you will need more than just PERL_MM_OPT."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1571142006, "post_id": 58382239, "comment_id": 103134695, "body": "@vinodk89 You can see all of the variables that would be set by local::lib by running <code>perl -Mlocal::lib=&#47;home&#47;vinod&#47;my_test_folder&#47;perl_practice&#47;script&zwnj;&#8203;s</code>. This will not set anything but can be eval&#39;d to set it in your environment, as described in the local::lib docs. It will install modules to <code>lib&#47;perl5</code> and executables to <code>bin</code> and manpages to <code>man</code>."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 3, "last_activity_date": 1571077770, "creation_date": 1571077770, "answer_id": 58382239, "question_id": 58381232, "link": "https://stackoverflow.com/questions/58381232/installing-perl-module-in-specified-directory/58382239#58382239", "title": "Installing Perl Module in specified directory", "body": "<p>This is what <a href=\"https://metacpan.org/pod/local::lib\" rel=\"nofollow noreferrer\">local::lib</a> can be used for, and <a href=\"https://metacpan.org/pod/cpanm\" rel=\"nofollow noreferrer\">cpanm</a> supports it by default:</p>\n\n<pre><code>$ cpanm -l /home/vinod/my_test_folder/perl_practice/scripts Email::Reply\n</code></pre>\n\n<p>This will install it to <code>/home/vinod/my_test_folder/perl_practice/scripts/lib/perl5</code>.</p>\n\n<p>Alternatively you can recreate the options local::lib sets for this case, the important one for this case is <a href=\"https://perldoc.pl/ExtUtils::MakeMaker#ENVIRONMENT\" rel=\"nofollow noreferrer\">PERL_MM_OPT</a>.</p>\n\n<pre><code>$ env PERL_MM_OPT='INSTALL_BASE=/home/vinod/my_test_folder/perl_practice/scripts' cpanm Email::Reply\n</code></pre>\n\n<p>Importantly, note that all of this is case sensitive, you must <code>use Email::Reply;</code>.</p>\n"}], "owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 735, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571077770, "creation_date": 1571072841, "question_id": 58381232, "link": "https://stackoverflow.com/questions/58381232/installing-perl-module-in-specified-directory", "title": "Installing Perl Module in specified directory", "body": "<p>I am trying to install one of the Perl module in my server (ubuntu droplet from Digital Ocean). I wanted this module to be installed in <code>/home/vinod/my_test_folder/perl_practice/scripts/lib/</code> directory which I have already created.</p>\n\n<p>This is specific to one module. I don't want to install it in default path like <code>/usr/bin/perl</code>. I wanted it to be installed in above mentioned path.</p>\n\n<p>Here are the list of commands which I executed to install the <code>Email::Reply</code> perl module.</p>\n\n<pre><code>Downloaded module from metacpan\ntar xvfz Email-Reply-1.204.tar.gz\ncd Email-Reply-1.204/\nperl Makefile.PL PREFIX=/home/vinod/my_test_folder/perl_practice/scripts/lib/\nsu\n&lt;password_for_root&gt;\nmake\nmake test \nmake install\n</code></pre>\n\n<p>When I execute <code>make install</code> command the following output got displayed on terminal screen</p>\n\n<pre><code>Manifying 1 pod document\nInstalling /home/vinod/my_test_folder/perl_practice/scripts/lib/share/perl/5.26.1/Email/Reply.pm\nInstalling /home/vinod/my_test_folder/perl_practice/scripts/lib/man/man3/Email::Reply.3pm\nAppending installation info to /home/vinod/my_test_folder/perl_practice/scripts/lib//lib/x86_64-linux-gnu/perl/5.26.1/perllocal.pod\n</code></pre>\n\n<p>And I could see the module got installed in <code>/home/vinod/my_test_folder/perl_practice/scripts/lib/share/perl/5.26.1/Email/Reply.pm</code> path, which is not right path which I mentioned in <code>PREFIX=</code>.</p>\n\n<p>Strange thing here I wrote one small script which uses <code>Email::Reply</code> module by mentioning module path in shebang line </p>\n\n<p>Code below:</p>\n\n<pre><code>#!/usr/bin/perl -I/home/vinod/my_test_folder/perl_practice/scripts/lib/share/perl/5.26.1/\n\nuse EMail::Reply;\n\nprint \"Hi\\n\";\n</code></pre>\n\n<p>still its throws an error</p>\n\n<pre><code>Can't locate EMail/Reply.pm in @INC (you may need to install the EMail::Reply module) (@INC contains: /home/vinod/my_test_folder/perl_practice/scripts/lib/share/perl/5.26.1/ /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at test.pl line 3.\nBEGIN failed--compilation aborted at test.pl line 3.\n</code></pre>\n\n<p>I want this module to be installed in <code>/home/vinod/my_test_folder/perl_practice/scripts/lib/</code>\nHow to achieve this. Please help me.</p>\n"}, {"tags": ["perl", "session", "cgi", "session-cookies"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1571077291, "post_id": 58380795, "comment_id": 103112486, "body": "CGI::Session requires a storage mechanism for persistence. As documented, the default is <a href=\"https://metacpan.org/pod/CGI::Session::Driver::file\" rel=\"nofollow noreferrer\">metacpan.org/pod/CGI::Session::Driver::file</a>. By default that stores in a temporary directory. This isn&#39;t the best idea for persistence. You also need to make sure both CGI::Session instances access the same storage."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1571077345, "post_id": 58380795, "comment_id": 103112502, "body": "Please also note that the CGI Perl module is not recommended for modern Perl web applications. Frameworks such as Mojolicious and Dancer2 have built in session persistence support, and can be deployed as CGI or in better ways. See <a href=\"http://blogs.perl.org/users/grinnz/2018/11/modern-perl-cgi.html\" rel=\"nofollow noreferrer\">blogs.perl.org/users/grinnz/2018/11/modern-perl-cgi.html</a>"}], "owner": {"reputation": 1102, "user_id": 4208719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cd078e79ba74af02fe5692190dbc73d3?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro ", "link": "https://stackoverflow.com/users/4208719/pedro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571070921, "creation_date": 1571070921, "question_id": 58380795, "link": "https://stackoverflow.com/questions/58380795/how-to-pass-a-session-from-one-page-to-another-one", "title": "How to pass a session from one page to another one?", "body": "<p>I'm trying ot do a simple login using session on perl.</p>\n\n<p>ON my login page I have which is wokring fine it create the session on \"tmp\"</p>\n\n<pre><code>use strict;\nuse CGI::Carp qw(fatalsToBrowser);\nuse CGI;\nuse CGI::Carp qw/fatalsToBrowser warningsToBrowser/;\nuse CGI::Session ( '-ip_match' );\nprint \"Content-type: text/html\\n\\n\";\n\nmy $cgi = new CGI; \n\n\n#create a new session\nmy $session = new CGI::Session(\"driver:File\", undef, {Directory=&gt;'/tmp'});\n\n\n\n\n#store something\n$session-&gt;param(\"valid\",\"yes\");\n\n#write to disk\n$session-&gt;flush();\n</code></pre>\n\n<p>But when I try to retrieve the session on a different page I can get the values stored in the session an it always create a new one. Can some one explainme what am I ding wrong;</p>\n\n<pre><code>#!/usr/bin/perl\n\n\nuse CGI::Carp qw(fatalsToBrowser);\nuse CGI;\nuse CGI::Carp qw/fatalsToBrowser warningsToBrowser/;\nuse CGI::Session ( '-ip_match' );\nprint \"Content-type: text/html\\n\\n\";\n\nmy $session = CGI::Session-&gt;new or die CGI::Session-&gt;errstr;\n\nprint $session-&gt;header();\n\nmy $days = $session-&gt;param(\"valid\");\nprint $days;\nprint \"&lt;br&gt;&lt;br&gt;\";\n\nif ($session-&gt;is_empty) {\n  print \"Empty\";\n} else {\n  print \"Good\";\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 5, "last_activity_date": 1571054769, "creation_date": 1571054769, "answer_id": 58376443, "question_id": 58376080, "link": "https://stackoverflow.com/questions/58376080/how-to-force-expr-instead-of-glob-dereference/58376443#58376443", "title": "How to force EXPR instead of GLOB dereference?", "body": "<p>A few options.</p>\n\n<p>Explicitly tell Perl that you're not passing parameters to <code>XX</code>.</p>\n\n<pre><code>my $z =  -XX() * $rnd;\n</code></pre>\n\n<p>Use the old-style calling conventions for subroutines (I really don't recommend this one).</p>\n\n<pre><code>my $z =  -&amp;XX * $rnd;\n</code></pre>\n\n<p>Define the subroutine as not taking parameters.</p>\n\n<pre><code>sub XX() { 30 };\n</code></pre>\n\n<p>But the best solution is to use the built-in <a href=\"https://metacpan.org/pod/constant\" rel=\"noreferrer\"><code>constant</code></a> pragma.</p>\n\n<pre><code>use constant XX =&gt; 30;\n</code></pre>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 58376443, "answer_count": 1, "score": 3, "last_activity_date": 1571054800, "creation_date": 1571053479, "last_edit_date": 1571054800, "question_id": 58376080, "link": "https://stackoverflow.com/questions/58376080/how-to-force-expr-instead-of-glob-dereference", "title": "How to force EXPR instead of GLOB dereference?", "body": "<pre><code>use strict;\nuse warnings;\n\nsub XX { 30 };\n\nmy $rnd =  3;\nmy $z =  -XX * $rnd;\n\n</code></pre>\n\n<p>Give error:   <code>Can't use string (\"3\") as a symbol ref while \"strict refs\" in use</code></p>\n\n<p>This does not help:</p>\n\n<pre><code>my $z =  -XX * ($rnd);\n</code></pre>\n\n<p>I get next error: </p>\n\n<pre><code>Scalar found where operator expected at game4.pl line 7, near \"* ($rnd\"\n    (Missing operator before $rnd?)\nsyntax error at game4.pl line 7, near \"* ($rnd\"\nExecution of game4.pl aborted due to compilation errors.\n</code></pre>\n\n<p><strong>How to force <code>EXPR</code> instead of <code>GLOB</code> dereference?</strong></p>\n"}, {"tags": ["arrays", "perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 3, "last_activity_date": 1571053324, "creation_date": 1571053324, "answer_id": 58376033, "question_id": 58375927, "link": "https://stackoverflow.com/questions/58375927/get-key-from-array-of-hash-in-perl/58376033#58376033", "title": "Get key from array of hash in Perl", "body": "<p>Try this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $list = [\n    {\n     Test =&gt; \"Value\"\n    }\n];\n\nmy $get_list_key = [ map { keys %$_ } @$list] ;\nprint Dumper( $get_list_key );\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>$VAR1 = [\n          'Test'\n        ];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1571054398, "creation_date": 1571054398, "answer_id": 58376334, "question_id": 58375927, "link": "https://stackoverflow.com/questions/58375927/get-key-from-array-of-hash-in-perl/58376334#58376334", "title": "Get key from array of hash in Perl", "body": "<blockquote>\n<pre><code>$list = [\n    {\n     Test =&gt; \u201cValue\u201d\n    }\n];\n</code></pre>\n</blockquote>\n\n<p>Here, you are setting <code>$list</code> to an array reference. The referenced array has only one element, which is an reference to a hash. As an aside, you're using the wrong quote characters to define <code>\"Value\"</code> - you need to use straight quote marks.</p>\n\n<blockquote>\n<pre><code>my ($get_list_key) = map { $_ } @$list;\n</code></pre>\n</blockquote>\n\n<p>You dereference the array reference, to get an array that you can use with <code>map</code>. But, as we said above, the single element in the array is a hash reference. In the <code>map</code> block you just return <code>$_</code>, which will be that hash reference - so you get a single hash reference back in your <code>$get_list_key</code> variable.</p>\n\n<p>You need to do something cleverer in the <code>map</code> block. You want to get the keys of the referenced hash. To do that, you need to do two things: 1/ dereference the hash reference and 2/ use the <code>keys</code> functions.</p>\n\n<pre><code>my ($get_list_key) = map { keys %$_ } @$list;\n</code></pre>\n\n<p>That will get you the single key (\"Test\") in your <code>$get_key_list</code> variable. But that's not what you want. You want a reference to an array which contains all of the keys. To do that, you need to surround the whole expression on the right hand side of the assignment operator with an anonymous array constructor (<code>[ ... ]</code>). So, eventually, you end up with the code in H\u00e5kon's answer.</p>\n\n<pre><code>my ($get_list_key) = [ map { keys %$_ } @$list ];\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 10500417, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lqs2wuzb-tM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVT92HTL5zhuL3XXyhn4btxjojg6A/mo/photo.jpg?sz=128", "display_name": "SaAsh Techs", "link": "https://stackoverflow.com/users/10500417/saash-techs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 1, "accepted_answer_id": 58376334, "answer_count": 2, "score": 0, "last_activity_date": 1571054398, "creation_date": 1571052949, "question_id": 58375927, "link": "https://stackoverflow.com/questions/58375927/get-key-from-array-of-hash-in-perl", "title": "Get key from array of hash in Perl", "body": "<p>I have array of hash code where I am trying to print the key from array of hash in PERL. Following is the code</p>\n\n<pre><code>my $list = [];\n\n$list = [\n    {\n     Test =&gt; \u201cValue\u201d\n    }\n];\n\nmy ($get_list_key) = map { $_ } @$list;\n\nprint $get_list_key;\n</code></pre>\n\n<p>I get the output as:</p>\n\n<pre><code>HASH(0x10bdfd0)\n</code></pre>\n\n<p>I want the output as:</p>\n\n<pre><code>$list = [\n     \"Test\"\n];\n</code></pre>\n\n<p>Can anyone please help.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["perl", "amazon-s3", "aws-cli"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1571048881, "creation_date": 1571048881, "answer_id": 58374857, "question_id": 58373623, "link": "https://stackoverflow.com/questions/58373623/upload-file-to-s3-using-perl-and-aws-cli/58374857#58374857", "title": "Upload file to S3 using perl and AWS cli", "body": "<p>It seems very unlikely that you're using a library which makes <code>aws</code> into a Perl command. It seems far more likely that <code>aws</code> is an external program that you are trying to run. In which case, you need to run it using Perl's <a href=\"https://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\"><code>system()</code></a> function.</p>\n\n<pre><code>system('aws', 's3', $ogg_file, 's3://recordings');\n</code></pre>\n\n<p>Note that <code>system()</code> has a slightly strange return value. You'll need to read the documentation and, probably, reverse the logic in your <code>if</code> statement.</p>\n"}, {"tags": [], "owner": {"reputation": 472, "user_id": 2001559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L1bvT.png?s=128&g=1", "display_name": "Maverick", "link": "https://stackoverflow.com/users/2001559/maverick"}, "is_accepted": true, "score": 2, "last_activity_date": 1587889382, "last_edit_date": 1587889382, "creation_date": 1571065486, "answer_id": 58379470, "question_id": 58373623, "link": "https://stackoverflow.com/questions/58373623/upload-file-to-s3-using-perl-and-aws-cli/58379470#58379470", "title": "Upload file to S3 using perl and AWS cli", "body": "<p>There is already <a href=\"https://metacpan.org/pod/Paws\" rel=\"nofollow noreferrer\">PAWS</a> which is a Perl SDK for AWS.</p>\n\n<p>Since you are using awscli as mention by Dave you have to use system or backtics (``) command to run it since it is a external program.</p>\n\n<p>I already have created a small script to perform aws operation using cli in past. For reference you can have a look at it. \n<a href=\"https://github.com/rai-gaurav/perl-toolkit/tree/master/AWS\" rel=\"nofollow noreferrer\">https://github.com/rai-gaurav/perl-toolkit/tree/master/AWS</a></p>\n\n<p>You can use 'cp' or 'sync' for your job.\nYou have to run something like-</p>\n\n<pre><code>my $cmd = \"aws s3 sync \" . $input_location . \" s3://\" . $bucket_name . \"/\" . $folder_name . \"/\";\n$upload_output = `$cmd`;\nprint ($upload_output); \n</code></pre>\n"}], "owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 58379470, "answer_count": 2, "score": -1, "last_activity_date": 1587889382, "creation_date": 1571044671, "question_id": 58373623, "link": "https://stackoverflow.com/questions/58373623/upload-file-to-s3-using-perl-and-aws-cli", "title": "Upload file to S3 using perl and AWS cli", "body": "<p>Hy Guys</p>\n\n<p>I am trying to upload file using perl and AWS CLI.\nHere is the uploading file to S3 part from my script.</p>\n\n<pre><code> if (-d \"$destdir/$agent\") {\n            if (aws s3 $ogg_file   s3://recordings)\n        } else {\n               print STDERR \"Failed to move\\n\";\n        }\n</code></pre>\n\n<p>or is there any easy way to do that?</p>\n\n<ul>\n<li><strong>debian_version 7.11</strong></li>\n<li><strong>perl 5, version 14, subversion 2 (v5.14.2)</strong></li>\n<li><strong>python2.7</strong></li>\n</ul>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1571132278, "post_id": 58373591, "comment_id": 103129593, "body": "I find <code>print()</code> an invaluable tool when working on problems like this. Print the various strings just before the failing statements. If you&#39;re using <code>system()</code> then print out the whole command before running it. You can even copy it and try running the same command at the bash prompt."}], "answers": [{"comments": [{"owner": {"reputation": 1064, "user_id": 2856552, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1a9a2cb2960580df2a7e0724a306c2d8?s=128&d=identicon&r=PG&f=1", "display_name": "Zilore Mumba", "link": "https://stackoverflow.com/users/2856552/zilore-mumba"}, "edited": false, "score": 0, "creation_date": 1571082177, "post_id": 58374281, "comment_id": 103114373, "body": "Thanks @Dave Cross, I will give you feedback when I try this in about 12 hours from now"}, {"owner": {"reputation": 1064, "user_id": 2856552, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1a9a2cb2960580df2a7e0724a306c2d8?s=128&d=identicon&r=PG&f=1", "display_name": "Zilore Mumba", "link": "https://stackoverflow.com/users/2856552/zilore-mumba"}, "edited": false, "score": 0, "creation_date": 1571127625, "post_id": 58374281, "comment_id": 103127041, "body": "I have upvoted Dave Cross&#39;s solution for the reason that it get rid of the non-numeric/division by zero error. Otherwise my problem persists as per my edits in the main post."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1571051197, "last_edit_date": 1571051197, "creation_date": 1571046863, "answer_id": 58374281, "question_id": 58373591, "link": "https://stackoverflow.com/questions/58373591/how-do-i-move-a-file-from-current-directory-in-perl/58374281#58374281", "title": "How do I move a file from current directory in Perl?", "body": "<blockquote>\n<pre><code>move $newfile, $Output_Base_Dirs[$mm]/$Var_Dirs[$kk];\n</code></pre>\n</blockquote>\n\n<p>This is wrong. When combining two variables like this, you need to put them in a string.</p>\n\n<pre><code>move $newfile, \"$Output_Base_Dirs[$mm]/$Var_Dirs[$kk]\";\n</code></pre>\n\n<p>Without that, Perl thinks you're trying to do a division sum.</p>\n"}], "owner": {"reputation": 1064, "user_id": 2856552, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1a9a2cb2960580df2a7e0724a306c2d8?s=128&d=identicon&r=PG&f=1", "display_name": "Zilore Mumba", "link": "https://stackoverflow.com/users/2856552/zilore-mumba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 58374281, "answer_count": 1, "score": 0, "last_activity_date": 1571127495, "creation_date": 1571044521, "last_edit_date": 1571127495, "question_id": 58373591, "link": "https://stackoverflow.com/questions/58373591/how-do-i-move-a-file-from-current-directory-in-perl", "title": "How do I move a file from current directory in Perl?", "body": "<p>Hello all who may assist. I have a problem which I seem not t understand. I am selecting files and combining them with a \"cdo\" command after combining, I want to move the combined files into another directory.\nThis worked perfectly a month ago, then I had to increase ram, which took a month to do with no work done on the script.\nHere is the start of my script</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Path;\nuse File::Find;\nuse File::Copy qw(copy);\nuse File::Copy qw(move);\nuse Path::Tiny;\nuse Tie::File;\nuse File::Cat;\n</code></pre>\n\n<p>Before I come to the problem, the following move command works after selecting a file</p>\n\n<pre><code>              print \"Copying $file\\n\" if $debug;\n              my $cmd01 = \"cp $Input_Data_Dirs[$ll]/$file  $Output_Base_Dirs[$mm]\";\n              print \"Doing system ($cmd01)\\n\" if $debug;\n              system ($cmd01);\n</code></pre>\n\n<p>So am able to move several files with the above construction, then I move into the directory. From there I combine six files into one</p>\n\n<pre><code>      print \"doing cat with cdo\\n\" if $debug;\n      my $cmd05 = \"cdo cat @sixfiles $newfile\";\n      print \"Doing system ($cmd05)\\n\" if $debug;\n      system ($cmd05);\n</code></pre>\n\n<p>Here is the part which fails</p>\n\n<pre><code>#-----------------------------------------\n      #print \"Moving combined file\\n\" if $debug;\n      #my $cmd21 = \"cp $newfile  $Output_Base_Dirs[$mm]/$Var_Dirs[$kk]\";\n      #print \"Doing system ($cmd21)\\n\" if $debug;\n      #system ($cmd21);\n      #copy $newfile, $Output_Base_Dirs[$mm]/$Var_Dirs[$kk];\n      move $newfile, $Output_Base_Dirs[$mm]/$Var_Dirs[$kk];\n      #----------------------------------------------------\n</code></pre>\n\n<p>The unix commands \"cp\" and \"mv\" give the error</p>\n\n<pre><code>cp: missing destination file operand after 'pr_AFR-44_CNRM-CERFACS-CNRM-CM5_historical_r1i1p1_CLMcom-CCLM4-8-17_v1_day_19710101_20001231.nc'\nTry 'cp --help' for more information.\nsh: 2: /home/suman/CORDEX/DATA/historical/precip: Permission denied\n</code></pre>\n\n<p>and</p>\n\n<pre><code>mv: missing destination file operand after 'pr_AFR-44_CNRM-CERFACS-CNRM-CM5_historical_r1i1p1_CLMcom-CCLM4-8-17_v1_day_19710101_20001231.nc'\nTry 'mv --help' for more information.\nsh: 2: /home/suman/CORDEX/DATA/historical/precip: Permission denied\n</code></pre>\n\n<p>I have made sure there is no permission problem by issuing the command</p>\n\n<pre><code>sudo chmod -Rv ugo +rwx CORDEX\n</code></pre>\n\n<p>On the other hand the perl in-built commands \"copy\" and \"move\" give the following errors</p>\n\n<pre><code>    Argument \"precip\" isn't numeric in division (/) at merge_files.pl line 247.\nArgument \"/home/suman/CORDEX/DATA/historical\" isn't numeric in division (/) at merge_files.pl line 247.\nIllegal division by zero at merge_files.pl line 247.\n</code></pre>\n\n<p>I am really defeated by these errors.\nI will appreciate any assistance if ever possible to resolve this</p>\n\n<p>I have upvoted the solution from Dave Cross for the reason that it eliminates the error of non-numeric/division by zero. Thanks Dave for that.\nHowever, after defining</p>\n\n<pre><code>my $target_dir=\"$Output_Base_Dirs[$mm]/$Var_Dirs[$kk]\";\n</code></pre>\n\n<p>both the commands:</p>\n\n<pre><code>my $cmd21 = \"cp -v $newfile --target-directory=$target_dir\";\n</code></pre>\n\n<p>and\n     my $cmd21 = \"mv -v $newfile --target-directory=$target_dir\"</p>\n\n<p>give the same error</p>\n\n<pre><code>    cp: missing destination file operand after 'pr_AFR-44_CNRM-CERFACS-CNRM-CM5_historical_r1i1p1_CLMcom-CCLM4-8-17_v1_day_19710101_20001231.nc'\nTry 'cp --help' for more information.\nsh: 2: --target-directory=/home/suman/CORDEX/DATA/historical/precip: not found\n</code></pre>\n\n<p>yet the target_dir exists.\nThe two perl commands</p>\n\n<pre><code>      copy $newfile, \"$target_dir\" or die \"copy operation failed: $!\";\n      move $newfile, \"$target_dir\" or die \"move operation failed: $!\";\nmove operation failed: No such file or directory at merge_files.pl line 249.\ncopy operation failed: No such file or directory at merge_files.pl line 248.\n</code></pre>\n\n<p>I am really baffled.</p>\n"}, {"tags": ["perl", "xml-libxml"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 96, "user_id": 9390437, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RdSSdGZWUQk/AAAAAAAAAAI/AAAAAAAAAAU/BXhZPNWbxUk/photo.jpg?sz=128", "display_name": "Nilesh Jain", "link": "https://stackoverflow.com/users/9390437/nilesh-jain"}, "edited": false, "score": 2, "creation_date": 1571044266, "post_id": 58373086, "comment_id": 103096251, "body": "Don&#39;t listen to @Nilesh Jain; XML::Simple&#39;s own documentation warns you against using it for the reason outlined in <a href=\"https://stackoverflow.com/q/33267765/589924\">Why is XML::Simple &quot;discouraged&quot;?</a>. In short, it&#39;s an extremely hard to use module. What simply requires <code>$node-&gt;findnodes(&#39;text()&#39;)</code> with XML::LibXML would be extremely convoluted and error-prone with XML::Simple."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 96, "user_id": 9390437, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RdSSdGZWUQk/AAAAAAAAAAI/AAAAAAAAAAU/BXhZPNWbxUk/photo.jpg?sz=128", "display_name": "Nilesh Jain", "link": "https://stackoverflow.com/users/9390437/nilesh-jain"}, "edited": false, "score": 2, "creation_date": 1571046064, "post_id": 58373086, "comment_id": 103097317, "body": "Don&#39;t use <code>XML::Simple</code>. It had had its place many years ago but its use has been discouraged by its own author, in its own documentation, for many years now.  (Go and actually read the <i>first</i> paragraph on the link that @NileshJain  supplied.)  Its own author wrote a tutorial on another module (<code>XML::LibXML</code>, and it&#39;s a good tutorial). Use either <code>XML::LibXML</code> or <code>XML::Twig</code>."}], "answers": [{"comments": [{"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1571044734, "post_id": 58373400, "comment_id": 103096521, "body": "Thanks @ikegami This helps a lot. The XPath approach is neat."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 1, "creation_date": 1571044785, "post_id": 58373400, "comment_id": 103096561, "body": "You can, of course, embed it part of a larger XPath (e.g. <code>$doc-&gt;findnodes(&#39;&#47;p&#47;text()&#39;)</code>)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1571044363, "last_edit_date": 1571044363, "creation_date": 1571043849, "answer_id": 58373400, "question_id": 58373086, "link": "https://stackoverflow.com/questions/58373086/perl-xmllibxml-get-direct-child-text-node-content/58373400#58373400", "title": "perl XML::LibXML get direct child text node content", "body": "<p>Using an XPath:</p>\n\n<pre><code>for my $text_node ($node-&gt;findnodes('text()')) {\n   say $text_node;\n}\n</code></pre>\n\n<p>Without using an XPath:</p>\n\n<pre><code>for my $child_node ($node-&gt;childNodes()) {\n   next if $child_node-&gt;nodeType != XML_TEXT_NODE;\n\n   say $child_node;\n}\n</code></pre>\n\n<p>Both output the following:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>content 1 of p\n content 2 of p\n</code></pre>\n\n<p>The rest of the program:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nuse XML::LibXML qw( XML_TEXT_NODE );\n\nmy $xml = '&lt;p&gt;content 1 of p &lt;span&gt;content of span&lt;/span&gt; content 2 of p &lt;/p&gt;';\n\nmy $doc = XML::LibXML-&gt;new-&gt;parse_string($xml);\nmy $node = $doc-&gt;documentElement();\n</code></pre>\n"}], "owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 58373400, "answer_count": 1, "score": 1, "last_activity_date": 1571044363, "creation_date": 1571042826, "question_id": 58373086, "link": "https://stackoverflow.com/questions/58373086/perl-xmllibxml-get-direct-child-text-node-content", "title": "perl XML::LibXML get direct child text node content", "body": "<p>Like in this snippet:</p>\n\n<pre><code>&lt;p&gt;content 1 of p &lt;span&gt;content of span&lt;/span&gt; content 2 of p &lt;/p&gt;\n</code></pre>\n\n<p>I would like to only obtain the following:\n<code>content 1 of p</code> and <code>content 2 of p</code>, not <code>content of span</code>.</p>\n\n<p>Is there a way to do it? </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "is_accepted": true, "score": 1, "last_activity_date": 1571042027, "creation_date": 1571042027, "answer_id": 58372874, "question_id": 58372780, "link": "https://stackoverflow.com/questions/58372780/i-want-to-take-the-path-dynamically-or-through-cmd-in-perl-script-below-is-the/58372874#58372874", "title": "I want to take the path dynamically or through cmd in perl script, below is the code", "body": "<p>You could have the user provide the paths on the command line</p>\n\n<pre><code>./script.pl D:/Perl/Source/bin D:/Perl/Destination/bin\n</code></pre>\n\n<p>And in your script</p>\n\n<pre><code>my $source_dir = $ARGV[0]; my $target_dir = $ARGV[1];\n</code></pre>\n\n<p>You could also use the GetOpt:: modules to do this more elegantly.</p>\n"}], "owner": {"reputation": 57, "user_id": 8086564, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0noRnvsKghc/AAAAAAAAAAI/AAAAAAAAAXQ/5gP43hjr1bM/photo.jpg?sz=128", "display_name": "VishalJ", "link": "https://stackoverflow.com/users/8086564/vishalj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 58372874, "answer_count": 1, "score": 0, "last_activity_date": 1572976238, "creation_date": 1571041607, "last_edit_date": 1572976238, "question_id": 58372780, "link": "https://stackoverflow.com/questions/58372780/i-want-to-take-the-path-dynamically-or-through-cmd-in-perl-script-below-is-the", "title": "I want to take the path dynamically or through cmd in perl script, below is the code", "body": "<p>How can I take path dynamically or through cmd, please help</p>\n\n<p>my $source_dir = \"D:/Perl/Source/bin\";\nmy $target_dir = \"D:/Perl/Destination/bin\";</p>\n"}, {"tags": ["multithreading", "perl"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1571016616, "post_id": 58368393, "comment_id": 103088282, "body": "A far less issue prone and more efficient method to accomplish this would be using something like <a href=\"https://metacpan.org/pod/IO::Async::Process\" rel=\"nofollow noreferrer\">IO::Async::Process</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571024973, "post_id": 58368393, "comment_id": 103089579, "body": "Capture::Tiny necessarily changes <i>the process&#39;s</i> STDERR"}], "owner": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571009969, "creation_date": 1571007108, "last_edit_date": 1571009969, "question_id": 58368393, "link": "https://stackoverflow.com/questions/58368393/perl-capturetiny-and-threads", "title": "Perl - Capture:Tiny and threads", "body": "<p>I am experimenting with different ways of capturing standard output/errors from the child process. My current solution uses open3. It works in most cases, but in some scenarios it causes deadlock, especially often it happens on Windows for some reason. I am trying to replace it with Capture::Tiny. It does not seem to have this deadlock issue, but there is another problem. It does not work well with threads. And I need to run child processes from threads. Output from the main thread gets re-directed and merged with output of the child process started from another thread. Documentation says:</p>\n\n<blockquote>\n  <p>Filehandles are global. Mixing up I/O and captures in different threads without coordination is going to cause problems.</p>\n</blockquote>\n\n<p>I could not find any details on that 'coordination' thing. Perhaps somebody could explain, what kind of coordination can be applied here?\nBelow is a simplified example, which demonstrates the problem:</p>\n\n<pre><code>##### test.pl\nuse strict;\nuse warnings;\nuse threads;\nuse Capture::Tiny qw(:all);\nuse Data::Dumper;\n\nsub RunCmd\n{\n    my ($cmdArr) = @_;\n    my $exe = shift @$cmdArr;\n    my $tid = threads-&gt;tid();\n    open my $outFh, \"+&gt;out_$tid.tmp\" or die \"Cannot open tmp out: $!\";\n    open my $errFh, \"+&gt;err_$tid.tmp\" or die \"Cannot open tmp err: $!\";\n    my ($out, $err, $exitCode) = capture { system($exe, @$cmdArr); } stdout =&gt; $outFh, stderr =&gt; $errFh;\n    close $outFh;\n    close $errFh;\n    $exitCode = $exitCode &gt;&gt; 8;\n    return ($exitCode == 0 ? 1 : 0, [ split(/(?&lt;=\\n)/, $out) ], [ split(/(?&lt;=\\n)/, $err) ], $exitCode);\n}\n\nsub StartJob\n{\n    my ($job) = @_;\n    my($ret, $out, $err, $exitCode) = RunCmd($job-&gt;{'cmd'});\n    $job-&gt;{'ret'} = $ret;\n    $job-&gt;{'out'} = $out;\n    $job-&gt;{'err'} = $err;\n    $job-&gt;{'exitCode'} = $exitCode;\n    return $job;\n}\n\nsub Execute\n{\n    my ($cmdList) = @_;\n    my @threads = ();\n    foreach (@$cmdList)\n    {\n        my $job = { 'cmd' =&gt; $_ };\n        my $t = threads-&gt;new(sub { return StartJob($job) });\n        push @threads, $t;\n    }\n    my @output = ();\n    foreach my $t (@threads)\n    {\n        my $result = $t-&gt;join();\n        push @output, $result;\n    }\n    return \\@output;\n}\n\nmy $commands = [\n    [ $^X, 'myScript.pl', 'command1' ],\n    [ $^X, 'myScript.pl', 'command2' ]\n];\n\nmy $output = Execute($commands);\nprint Dumper($output);             # this output goes to out_1.tmp file\n##### end of test.pl\n\n\n##### myScript.pl\nuse strict;\nuse warnings;\n\nmy $cmd = $ARGV[0] // 'UNDEF';\nforeach (1..5)\n{\n    sleep 1;\n    print \"$cmd: $_\\n\";\n}\n\n$cmd eq 'command2' and print STDERR \"Error in $cmd\\n\"; \n##### end of myScript.pl\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "edited": false, "score": 0, "creation_date": 1571001112, "post_id": 58367781, "comment_id": 103085805, "body": "Did you try <code>\\r\\n</code>? Also, there is whitespace in front of &quot;update request&quot; that you don&#39;t take into account in your regex"}, {"owner": {"reputation": 57635, "user_id": 92153, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ea496ad1627458ccfad06c94842b7624?s=128&d=identicon&r=PG", "display_name": "Houman", "link": "https://stackoverflow.com/users/92153/houman"}, "reply_to_user": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "edited": false, "score": 0, "creation_date": 1571001308, "post_id": 58367781, "comment_id": 103085862, "body": "Yes there is lots of white space.  Is there a way to capture that in RegEx without counting them? <code>\\r\\n</code> didn&#39;t make a difference."}], "answers": [{"comments": [{"owner": {"reputation": 57635, "user_id": 92153, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ea496ad1627458ccfad06c94842b7624?s=128&d=identicon&r=PG", "display_name": "Houman", "link": "https://stackoverflow.com/users/92153/houman"}, "edited": false, "score": 0, "creation_date": 1571002563, "post_id": 58367866, "comment_id": 103086086, "body": "That works very well. I have noticed I missed one closing bracket after <code>update request {</code> in my original question. Would you be able to include that in your answer please?"}, {"owner": {"reputation": 57635, "user_id": 92153, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ea496ad1627458ccfad06c94842b7624?s=128&d=identicon&r=PG", "display_name": "Houman", "link": "https://stackoverflow.com/users/92153/houman"}, "edited": false, "score": 0, "creation_date": 1571002654, "post_id": 58367866, "comment_id": 103086103, "body": "I think I got it: <code>perl -p0e &quot;s&#47;\\s*authorize \\{\\n\\s*update request \\{\\n\\s*\\}&#47;&#47;o&quot; ~&#47;test</code>"}], "tags": [], "owner": {"reputation": 2351, "user_id": 10533011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cf679869635f63c1d842fa24604a02?s=128&d=identicon&r=PG&f=1", "display_name": "Donat", "link": "https://stackoverflow.com/users/10533011/donat"}, "is_accepted": true, "score": 0, "last_activity_date": 1571003833, "last_edit_date": 1571003833, "creation_date": 1571001360, "answer_id": 58367866, "question_id": 58367781, "link": "https://stackoverflow.com/questions/58367781/how-to-replace-lines-with-carriage-return-in-perl/58367866#58367866", "title": "How to replace lines with carriage return in perl?", "body": "<p>try this:</p>\n\n<pre><code>perl -p0e \"s/\\s*authorize \\{\\n\\s*update request \\{\\n\\s*\\}//o\" ~/test\n</code></pre>\n"}], "owner": {"reputation": 57635, "user_id": 92153, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ea496ad1627458ccfad06c94842b7624?s=128&d=identicon&r=PG", "display_name": "Houman", "link": "https://stackoverflow.com/users/92153/houman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 58367866, "answer_count": 1, "score": 0, "last_activity_date": 1571003833, "creation_date": 1571000730, "last_edit_date": 1571002435, "question_id": 58367781, "link": "https://stackoverflow.com/questions/58367781/how-to-replace-lines-with-carriage-return-in-perl", "title": "How to replace lines with carriage return in perl?", "body": "<p>How can I find and replace those two lines within the wall of text below?</p>\n\n<pre><code>wall of text\n    authorize {\n            update request {\n            }\nwall of text          \n</code></pre>\n\n<p>I tried this, but it didn't work. The problem is with the carriage return.</p>\n\n<pre><code>perl -p0e  \"s/authorize \\{\\nupdate request \\{//\" ~/test\n</code></pre>\n"}, {"tags": ["perl", "web-scraping"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570981100, "post_id": 58364208, "comment_id": 103080714, "body": "Not much help with the question, but Mojo::UserAgent+Mojo::DOM is a really cool tool for this and you can even do it with <a href=\"https://metacpan.org/pod/ojo\" rel=\"nofollow noreferrer\">ojo</a>: <code>perl -Mojo -E &#39;say g(shift)-&gt;dom-&gt;at(&#39;h1[data-qa=&quot;headline&quot;]&#39;)-&gt;text&#39; &#39;https:&#47;&#47;example.com&#39;</code>"}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570982085, "post_id": 58364208, "comment_id": 103080972, "body": "After examining the headers, it looks to me like WaPo has a round robin server set up and one server serves out totally different HTML. Probably some kind of A/B testing or something."}], "answers": [{"tags": [], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "is_accepted": false, "score": 0, "last_activity_date": 1570982959, "creation_date": 1570982959, "answer_id": 58365392, "question_id": 58364208, "link": "https://stackoverflow.com/questions/58364208/getting-different-source-code-for-same-url/58365392#58365392", "title": "Getting different source code for same url", "body": "<p>Modified <code>$scraper</code> to the following to get it to work with the different source code:</p>\n\n<pre><code>my $scraper = scraper {\n        process '//h1[@data-qa=\"headline\"]', 'headline' =&gt; 'TEXT',\n        process '//h1[@itemprop=\"headline\"]', 'headline2' =&gt; 'TEXT',\n};\n</code></pre>\n\n<p>Either <code>headline</code> or <code>headline</code> will be populated.</p>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570982959, "creation_date": 1570974783, "last_edit_date": 1570976015, "question_id": 58364208, "link": "https://stackoverflow.com/questions/58364208/getting-different-source-code-for-same-url", "title": "Getting different source code for same url", "body": "<p>I'm trying to grab the headline from a Washington Post news page on the web with a simple Perl script:</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse LWP::Simple;\nuse Web::Scraper;\n\nmy $url = 'https://www.washingtonpost.com/outlook/why-trump-is-flirting-with-abandoning-fox-news-for-one-america/2019/10/11/785fa156-eba4-11e9-85c0-85a098e47b37_story.html';\nmy  $scraper = scraper{\n        process '//h1[@data-qa=\"headline\"]', 'headline' =&gt; 'TEXT',\n      };\n\n\nmy $html = get($url);\nprint $html;\nmy $res = $scraper-&gt;scrape ($html);\n</code></pre>\n\n<p>The problem I'm having is that it works only about 1/2 of the time even when fetching the exact same URL. The source code that is returned is in a completely different format than other times.</p>\n\n<p>Perhaps this is an anti-scraping measure for unknown agents? I'm not sure but it seems like it should never work at all if that was the case.</p>\n\n<p>Is there a simple workaround I might employ like accepting cookies?</p>\n"}, {"tags": ["perl", "server", "mojolicious", "morbo"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1570891211, "post_id": 58354665, "comment_id": 103063845, "body": "I tried this:: <code>mojo generate app first-app</code> and got error <code>Your application name has to be a well formed (CamelCase) Perl module name like &quot;MyApp&quot;</code>. So I tried again with <code>mojo generate app TestApp</code> and that worked. I then did <code>cd  test_app</code> and ran <code>morbo script&#47;test_app</code> and it worked (I got the welcome page at <a href=\"http://127.0.0.1:3000/\" rel=\"nofollow noreferrer\">127.0.0.1:3000</a> ) I am using <code>perl</code> version 5.28.1, Ubuntu 19.04, Mojolicious version 8.14"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 10712343, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215425402721948/picture?type=large", "display_name": "DJNorris", "link": "https://stackoverflow.com/users/10712343/djnorris"}, "edited": false, "score": 0, "creation_date": 1570984757, "post_id": 58358037, "comment_id": 103081691, "body": "Thank you, naming it with PascalCase worked. I previously tried #1-3 before I posted the original post, but I was still not using best naming practices that time either. As to why it didn&#39;t error out during the generate app command, I have no clue."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1570911902, "last_edit_date": 1570911902, "creation_date": 1570910737, "answer_id": 58358037, "question_id": 58354665, "link": "https://stackoverflow.com/questions/58354665/cant-find-application-class-in-inc-when-starting-mojolicious-generated-app/58358037#58358037", "title": "Can&#39;t find application class in @INC when starting Mojolicious-generated app", "body": "<p>For your setup to work, <code>first-app.pm</code> would have to contain <code>package first-app;</code>, but that's not legal code because of the dash. H\u00e5kon H\u00e6gland suggests that <code>mojo generate app first-app</code> should not have worked (presumably to avoid this very problem), so it's unclear how you came to have the setup you describe.</p>\n\n<p>To fix the problem, you could rerun <code>mojo generate app</code> with a more suitable name (such as <code>FirstApp</code>) and start over.</p>\n\n<p>Alternatively, you should theoretically be able to fix the problem with as little as three changes:</p>\n\n<ol>\n<li>Rename <code>lib/first-app.pm</code> to a more conventional name such as <code>lib/FirstApp.pm</code>.</li>\n<li>Change the argument passed to <code>-&gt;start_app</code> to <code>'FirstApp'</code>.</li>\n<li>Change the <code>package</code> directive in now-named <code>lib/FirstApp.pm</code> to <code>package FirstApp;</code>. </li>\n</ol>\n\n<p>A module's path, a module's <code>package</code> directive, and the <code>use</code> statement used to load the module &mdash;the value passed to <code>-&gt;start_app</code> in this case&mdash; must all match. The three changes ensures this for the module in question.</p>\n\n<p>[Note: I have no experience with Mojo.]</p>\n"}], "owner": {"reputation": 45, "user_id": 10712343, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215425402721948/picture?type=large", "display_name": "DJNorris", "link": "https://stackoverflow.com/users/10712343/djnorris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 58358037, "answer_count": 1, "score": 1, "last_activity_date": 1570911902, "creation_date": 1570886912, "last_edit_date": 1570909058, "question_id": 58354665, "link": "https://stackoverflow.com/questions/58354665/cant-find-application-class-in-inc-when-starting-mojolicious-generated-app", "title": "Can&#39;t find application class in @INC when starting Mojolicious-generated app", "body": "<p>I generated a mojolicious app with the command <code>mojo generate app first-app</code>. It generated the app structure that should allow a running example when running the dev server with <code>morbo ./script/first-app</code>. </p>\n\n<p>The file structure looks like this:\n<a href=\"https://i.stack.imgur.com/L3cL5.png\" rel=\"nofollow noreferrer\">mojo app structure</a></p>\n\n<p>My error when running <code>morbo ./script/first-app</code> in the root of the project directory is this error:</p>\n\n<pre><code>Can't load application from file \"/home/djnorrisdev/Documents/mojo-practice/first-app/script/first-app\":\n    Can't find application class \"first-app\" in @INC. (\n    /home/djnorrisdev/Documents/mojo-practice/first-app/lib\n    /home/djnorrisdev/perl5/perlbrew/perls/perl-5.30.0/lib/site_perl/5.30.0/x86_64-linux\n    /home/djnorrisdev/perl5/perlbrew/perls/perl-5.30.0/lib/site_perl/5.30.0\n    /home/djnorrisdev/perl5/perlbrew/perls/perl-5.30.0/lib/5.30.0/x86_64-linux\n    /home/djnorrisdev/perl5/perlbrew/perls/perl-5.30.0/lib/5.30.0)\nCompilation failed in require at (eval 72) line 1\n</code></pre>\n\n<p>(Line breaks added for readability. An indented line is a continuation of the previous line.)</p>\n\n<p>I tried using the full path for morbo (as mentioned in a 6 year old SO post), but that gives the same error as above. That command was this: <code>/home/djnorrisdev/perl5/perlbrew/pls/perl-5.30.0/bin/morbo ./script/first-app</code></p>\n\n<p>I'm guessing anyone familiar with a full mojolicious app would be familiar with the script file, but here's the contents of <code>script/first-app</code> : </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Mojo::File 'curfile';\nuse lib curfile-&gt;dirname-&gt;sibling('lib')-&gt;to_string;\nuse Mojolicious::Commands;\n\n# Start command line interface for application\nMojolicious::Commands-&gt;start_app('first-app');\n</code></pre>\n\n<p>Considering this is a mojolicious-generated app, I would assume it should not get an @INC error and run with morbo without issue. Does anyone have insight into this?</p>\n"}, {"tags": ["regex", "string", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "edited": false, "score": 0, "creation_date": 1570826903, "post_id": 58348118, "comment_id": 103051646, "body": "Where is this <code>&quot;) *)</code> in the target string ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570835434, "post_id": 58348118, "comment_id": 103053782, "body": "@x15, I believe it should be should be &quot;) *&quot;, as in &quot;<code>) *</code>&quot;"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "edited": false, "score": 0, "creation_date": 1570899518, "post_id": 58348212, "comment_id": 103065976, "body": "May be reading more into it than what is known. Don&#39;t think he makes claim that the end is a prerequisite for the beginning or visa-versa, that would invoke a balanced open-close requirement. The original regex seemed fine<a href=\"https://regex101.com/r/IKNMdo/1\" rel=\"nofollow noreferrer\">^\\&#40;|\\&#41;\\s\\*$</a>"}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 0, "creation_date": 1570899638, "post_id": 58348212, "comment_id": 103066010, "body": "@x15: well, it is hard to tell for sure. I initially read it like you, but then I changed it. OP is not commenting. Maybe I should edit my answer to show both solutions."}], "tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": false, "score": 5, "last_activity_date": 1570836353, "last_edit_date": 1570836353, "creation_date": 1570826548, "answer_id": 58348212, "question_id": 58348118, "link": "https://stackoverflow.com/questions/58348118/perl-regex-expression-to-capture-string-between-start-and-end-of-line-with-end/58348212#58348212", "title": "Perl Regex expression to capture string between start and end of line (with end of line having a space with character)", "body": "<p>You could use:</p>\n\n<pre><code>s/^\\((.*)\\)\\s\\*$/$1/\n</code></pre>\n\n<p>Explanation:</p>\n\n<pre><code>^          beginning of the string\n\\(         opening parenthese - needs to be escaped with \\\n(.*)       ...a capturing group...\n\\)         closing parenthese - needs to be escaped with \\\n\\s         a single space\n\\*         a star - needs to be escaped\n$          end of the string\n</code></pre>\n\n<p>This matches the string as a whole, hence it will apply on the example you provided as an example (<code>(wlc-nyhy30-a) *</code>), while also leaving untouched other strings such as <code>(wlc-nyhy30-a) a</code>.</p>\n\n<p>Demo:</p>\n\n<pre><code>my $string = \"(wlc-nyhy30-a) *\";\n$string =~ s/^\\((.*)\\)\\s\\*$/$1/\nprint $string, \"\\n\";\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>wlc-nyhy30-a\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 12203213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f2e6b270eded088430ecbca7faa9ab5?s=128&d=identicon&r=PG&f=1", "display_name": "lewsplace", "link": "https://stackoverflow.com/users/12203213/lewsplace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1590929694, "creation_date": 1570826043, "last_edit_date": 1590929694, "question_id": 58348118, "link": "https://stackoverflow.com/questions/58348118/perl-regex-expression-to-capture-string-between-start-and-end-of-line-with-end", "title": "Perl Regex expression to capture string between start and end of line (with end of line having a space with character)", "body": "<p>My string of data is this:</p>\n\n<pre><code>(wlc-nyhy30-a) *\n</code></pre>\n\n<p>I need to strip off the beginning parenthesis and the end parenthesis that matches exactly <code>) *</code>.</p>\n\n<p>My end string should be:</p>\n\n<pre><code>wlc-nyhy30-a\n</code></pre>\n\n<p>I can easily strip off the beginning <code>(</code> like below, but I'm having a very hard time getting Perl to match and remove end of line <code>) *</code></p>\n\n<p>Here is the first part that works:</p>\n\n<pre><code>$output{'prompt'} =~ s/^\\(//;\n</code></pre>\n\n<p>Appreciate any help.  Thanks in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 11, "user_id": 12202768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd53800ae63b1ec922d629cd88789e4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance", "link": "https://stackoverflow.com/users/12202768/lance"}, "edited": false, "score": 0, "creation_date": 1570819422, "post_id": 58346836, "comment_id": 103048751, "body": "Sorry, the Heading has a typo...meant in a Perl module and not spice module"}, {"owner": {"reputation": 11, "user_id": 12202768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd53800ae63b1ec922d629cd88789e4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance", "link": "https://stackoverflow.com/users/12202768/lance"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1571076142, "post_id": 58346836, "comment_id": 103112054, "body": "Can someone please assist with my specific question on how to use GetOptions? The answer suggests to use GetOptionsFromArray however i want to use GetOptions. Also please if the response can be specific and not make any assumptions as this is the reason for asking a specific question. Example : instead of GetOptionsFromArray([%{ $_[0] }], ...) , can you please specify the fields."}, {"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1571145663, "post_id": 58346836, "comment_id": 103136978, "body": "This was a good question because it had some specificity.   You need to ask another question. But that said, <code>GetOptionsFromArray</code>, per the link in Silvar&#39;s comment takes an array as the first argument, and then after a comma takes the hash that you see in all the documentation for <code>GetOptions</code> ... So &quot;the fields&quot; are <code>ARRAY,HASH</code> ... and there are scads of ways to construct HASH.  Google it."}], "answers": [{"comments": [{"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1570888028, "post_id": 58347043, "comment_id": 103062952, "body": "You can use the <code>GetOptionsFromArray</code> function, that allows you to process any array instead of just <code>@ARGV</code>. <a href=\"https://perldoc.perl.org/Getopt/Long.html#Parsing-options-from-an-arbitrary-array\" rel=\"nofollow noreferrer\">perldoc.perl.org/Getopt/&hellip;</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571086841, "post_id": 58347043, "comment_id": 103116070, "body": "That should be <code>GetOptionsFromArray</code> as in my answer, not <code>GetOptions</code>."}, {"owner": {"reputation": 11, "user_id": 12202768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd53800ae63b1ec922d629cd88789e4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance", "link": "https://stackoverflow.com/users/12202768/lance"}, "edited": false, "score": 0, "creation_date": 1571087368, "post_id": 58347043, "comment_id": 103116234, "body": "what package should i use in my perl module to use the GetOptionsFromArray function?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571087440, "post_id": 58347043, "comment_id": 103116250, "body": "It&#39;s from the same module (since 2.36)"}, {"owner": {"reputation": 11, "user_id": 12202768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd53800ae63b1ec922d629cd88789e4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance", "link": "https://stackoverflow.com/users/12202768/lance"}, "edited": false, "score": 0, "creation_date": 1571087644, "post_id": 58347043, "comment_id": 103116327, "body": "@ikegami, I have  use Getopt::Long; in my perl module and when i run i get this error: Undefined subroutine &amp;genSpiceMeas::GetOptionsFromArray"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571087900, "post_id": 58347043, "comment_id": 103116411, "body": "It might not be exported automatically. <code>use Getopt::Long qw( GetOptionsFromArray );</code> By the way, I believe it&#39;s always good to explicitly export what you need. That way, it&#39;s easier to find out where a sub originates down the line."}, {"owner": {"reputation": 11, "user_id": 12202768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd53800ae63b1ec922d629cd88789e4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance", "link": "https://stackoverflow.com/users/12202768/lance"}, "edited": false, "score": 0, "creation_date": 1571088700, "post_id": 58347043, "comment_id": 103116650, "body": "@ikegami...i dont have that particular function in my package. Reason i wanted help specifically with the GetOptions....can you help correct my line :  GetOptions( [%{ $_[0] }], &#39;f&#39;=&gt;\\$opt_file, &#39;block&#39; =&gt;\\$opt_block);"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571090432, "post_id": 58347043, "comment_id": 103117113, "body": "I already showed you 5 different ways, 3 of which don&#39;t use <code>GetOptionsFromArray</code>. That&#39;s not one of them"}, {"owner": {"reputation": 11, "user_id": 12202768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd53800ae63b1ec922d629cd88789e4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance", "link": "https://stackoverflow.com/users/12202768/lance"}, "edited": false, "score": 0, "creation_date": 1571090889, "post_id": 58347043, "comment_id": 103117213, "body": "local  @ARGV = @_; Now when i do the following: GetOptions(&#39;f&#39;=&gt;\\$opt_file, &#39;block&#39; =&gt;\\$opt_block); print&quot;file name is $opt_file and block is \\$opt_block&quot;; It prints out 1 for both values of $opt_file and $opt_block"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571091100, "post_id": 58347043, "comment_id": 103117261, "body": "Then either the value of <code>$opt_file</code> was <code>1</code> already, or you used <code>-f</code>; and either the value of <code>$opt_block</code> was <code>1</code> already, or you used <code>-block</code>"}, {"owner": {"reputation": 11, "user_id": 12202768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd53800ae63b1ec922d629cd88789e4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance", "link": "https://stackoverflow.com/users/12202768/lance"}, "edited": false, "score": 0, "creation_date": 1571091445, "post_id": 58347043, "comment_id": 103117364, "body": "I was expecting $opt_file and $opt_block to be the values i passed to the switch options in my main.pl when i called  genspicemeas::genspicemeas(-f=&gt;&quot;filename&quot;, -block =&gt; $block) in my main program where those are initialized."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571091480, "post_id": 58347043, "comment_id": 103117375, "body": "You need <code>=s</code>. Comments are not for new questions."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1570914099, "last_edit_date": 1570914099, "creation_date": 1570820258, "answer_id": 58347043, "question_id": 58346836, "link": "https://stackoverflow.com/questions/58346836/how-to-use-getoptions-in-a-perl-module/58347043#58347043", "title": "How to use GetOptions in a Perl module", "body": "<p><code>GetOptions</code> processes <code>@ARGV</code>, so just add</p>\n\n<pre><code>local @ARGV = %{ $_[0] };\n</code></pre>\n\n<p>That said, it's far less magical to use <code>GetOptionsFromArray</code> from the same module.</p>\n\n<pre><code>GetOptionsFromArray([%{ $_[0] }], ...)\n</code></pre>\n\n<hr>\n\n<p>But there's no point in using</p>\n\n<pre><code>genspicemeas::genspicemeas({ -f =&gt; \"filename\", -block =&gt; $block })\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>genspicemeas::genspicemeas( -f =&gt; \"filename\", -block =&gt; $block )\n</code></pre>\n\n<p>With the latter, you'd add the following instead:</p>\n\n<pre><code>local @ARGV = @_;\n</code></pre>\n\n<p>And the following is the <code>GetOptionsFromArray</code> approach:</p>\n\n<pre><code>GetOptionsFromArray(\\@_, ...)\n</code></pre>\n\n<hr>\n\n<p>Note that by using <code>GetOptions</code> or <code>GetOptionsFromArray</code>, you are subject to options set elsewhere in the program unless you use <code>Configure</code> to set them appropriately before calling <code>GetOptions</code> or <code>GetOptionsFromArray</code>.</p>\n\n<hr>\n\n<p>Finally, I'd simply use</p>\n\n<pre><code>sub genspicemeas {\n   my %opts = @_;\n\n   defined($opts{f}) or die(...);   # Optional validation.\n   $opts{block} //= ...;            # Optional setting default.\n\n   print \"block name is $opts{block} and file name is $opts{f}\\n\";\n}\n\ngenspicemeas::genspicemeas( f =&gt; \"filename\", block =&gt; $block );\n</code></pre>\n\n<p>You can even mix positional and options.</p>\n\n<pre><code>sub search {\n   my $term = shift;\n   my %opts = @_;\n\n   ...\n   if ($opts{case_insensitive}) { ... }\n   ...\n}\n\nsearch(\"foo\");\nsearch(\"foo\", case_insensitive =&gt; 0);\nsearch(\"foo\", case_insensitive =&gt; 1);\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12202768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd53800ae63b1ec922d629cd88789e4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance", "link": "https://stackoverflow.com/users/12202768/lance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571077885, "creation_date": 1570819242, "last_edit_date": 1571077885, "question_id": 58346836, "link": "https://stackoverflow.com/questions/58346836/how-to-use-getoptions-in-a-perl-module", "title": "How to use GetOptions in a Perl module", "body": "<p>I have a main.pl code where I call a perl module function likes this:</p>\n\n<pre><code>genspicemeas::genspicemeas({-f=&gt;\"filename\", -block =&gt; $block, -log =&gt; $LOG})\n#assume block are initialized in the main.pl\n</code></pre>\n\n<p># LOG is a file handle in main.pl : please specify how to handle this\n   # in my GetOptions reference in the perl module</p>\n\n<p>My <code>genspicemeas.pm</code> is like below:</p>\n\n<pre><code>package genspicemeas;\nuse strict;\nuse Getopt::Long;\n\nsub genspicemeas {\nmy($opt_file,$opt_block);\nGetOptions(\n 'f'=&gt;\\$opt_file,\n 'block' =&gt;\\$opt_block);\n print \"block name is $opt_block and file name is $optfile\\n\";\n}\n1;\n</code></pre>\n\n<p>When I run <code>main.pl</code>, I expect it to print the block name and filename \nfrom the print statement in <code>genspicemeas.pm</code>, however those are printing NULL values. It seems the variables are not getting passed to the Perl module I wrote. Please I am new to using Perl modules so please any help is appreciated.</p>\n"}, {"tags": ["macos", "perl", "permissions", "cpan"], "comments": [{"owner": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "edited": false, "score": 1, "creation_date": 1570820206, "post_id": 58346523, "comment_id": 103049100, "body": "Looks like there&#39;s a bunch of old files/dircetories under /Users/Eagle/.cpan which the Eagle user hasn&#39;t got permissions for. Try deleting the whole   /Users/Eagle/.cpan/ directory and starting again (you may need to do that as root)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570836922, "post_id": 58346523, "comment_id": 103054061, "body": "It looks like deleting <code>&#47;Users&#47;Eagle&#47;.cpan&#47;build</code> should be sufficient. And seeing how the directory is just used as a temporary place to work when installing modules, there&#39;s no harm in removing it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1570836992, "post_id": 58346523, "comment_id": 103054074, "body": "What probably happened is that someone used <code>sudo cpan Some::Module</code> at some point."}, {"owner": {"reputation": 27, "user_id": 5999765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/005ee62182541ca66d93d0b324678a98?s=128&d=identicon&r=PG&f=1", "display_name": "StuckAtDatQ", "link": "https://stackoverflow.com/users/5999765/stuckatdatq"}, "edited": false, "score": 0, "creation_date": 1570952669, "post_id": 58346523, "comment_id": 103074803, "body": "Thanks, that worked, but now I get this error instead:"}, {"owner": {"reputation": 27, "user_id": 5999765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/005ee62182541ca66d93d0b324678a98?s=128&d=identicon&r=PG&f=1", "display_name": "StuckAtDatQ", "link": "https://stackoverflow.com/users/5999765/stuckatdatq"}, "edited": false, "score": 0, "creation_date": 1570952785, "post_id": 58346523, "comment_id": 103074820, "body": "... ... make: *** No rule to make target <code>&#47;Applications&#47;Xcode.app&#47;Contents&#47;Developer&#47;Platforms&#47;MacOSX.&zwnj;&#8203;platform&#47;Developer&#47;S&zwnj;&#8203;DKs&#47;MacOSX10.13.sdk&#47;&zwnj;&#8203;System&#47;Library&#47;Perl&#47;&zwnj;&#8203;5.18&#47;darwin-thread-m&zwnj;&#8203;ulti-2level&#47;CORE&#47;con&zwnj;&#8203;fig.h&#39;, needed by </code>Makefile&#39;.  Stop.   TIMB/DBI-1.642.tar.gz   /usr/bin/make -- NOT OK &#39;YAML&#39; not installed, will not store persistent state Running make test   Can&#39;t test without successful make Running make install   Make had returned bad status, install seems impossible Failed during this command:  TIMB/DBI-1.642.tar.gz                        : make NO  cpan[2]&gt;"}, {"owner": {"reputation": 27, "user_id": 5999765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/005ee62182541ca66d93d0b324678a98?s=128&d=identicon&r=PG&f=1", "display_name": "StuckAtDatQ", "link": "https://stackoverflow.com/users/5999765/stuckatdatq"}, "edited": false, "score": 0, "creation_date": 1570956906, "post_id": 58346523, "comment_id": 103075587, "body": "You solved the first problem, thanks alot!!! How do I close this thread?"}], "owner": {"reputation": 27, "user_id": 5999765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/005ee62182541ca66d93d0b324678a98?s=128&d=identicon&r=PG&f=1", "display_name": "StuckAtDatQ", "link": "https://stackoverflow.com/users/5999765/stuckatdatq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570817603, "creation_date": 1570817603, "question_id": 58346523, "link": "https://stackoverflow.com/questions/58346523/perl-on-mac-cpan-will-not-install", "title": "Perl on Mac, cpan, will not install", "body": "<p>I'm trying to install perl-modules on my Mac via cpan, but something seems not to be working. :(</p>\n\n<p>I have downloaded the command line tool from apple dev.</p>\n\n<p>What am I doing wrong!? and is it correct that I should drop the whole idea of messing with perl on my back and boot up my old PC instead? :-/</p>\n\n<p>Here is what i do:</p>\n\n<pre><code>Reading '/Users/Eagle/.cpan/Metadata'\n  Database was generated on Fri, 11 Oct 2019 13:17:03 GMT\nRunning install for module 'DBI'\nRunning make for T/TI/TIMB/DBI-1.642.tar.gz\nChecksum for /Users/Eagle/.cpan/sources/authors/id/T/TI/TIMB/DBI-1.642.tar.gz ok\nScanning cache /Users/Eagle/.cpan/build for sizes\n.........I have neither the -x permission nor the permission to change the permission; can only partially estimate disk usage of 'ReadLine'\nCan't cd to (/Users/Eagle/.cpan/build/Term-ReadLine-Perl-1.0303-U5oE7x/) ReadLine: Permission denied\n at /System/Library/Perl/5.18/CPAN/CacheMgr.pm line 137.\n.....I have neither the -x permission nor the permission to change the permission; can only partially estimate disk usage of 't'\nCan't cd to (/Users/Eagle/.cpan/build/Test-Warnings-0.027-X5Kf4N/) t: Permission denied\n at /System/Library/Perl/5.18/CPAN/CacheMgr.pm line 137.\nI have neither the -x permission nor the permission to change the permission; can only partially estimate disk usage of 'xt'\nCan't cd to (/Users/Eagle/.cpan/build/Test-Warnings-0.027-X5Kf4N/) xt: Permission denied\n at /System/Library/Perl/5.18/CPAN/CacheMgr.pm line 137.\nI have neither the -x permission nor the permission to change the permission; can only partially estimate disk usage of 'examples'\nCan't cd to (/Users/Eagle/.cpan/build/Test-Warnings-0.027-X5Kf4N/) examples: Permission denied\n at /System/Library/Perl/5.18/CPAN/CacheMgr.pm line 137.\nI have neither the -x permission nor the permission to change the permission; can only partially estimate disk usage of 'lib'\nCan't cd to (/Users/Eagle/.cpan/build/Test-Warnings-0.027-X5Kf4N/) lib: Permission denied\n at /System/Library/Perl/5.18/CPAN/CacheMgr.pm line 137.\n....I have neither the -x permission nor the permission to change the permission; can only partially estimate disk usage of 'inc'\nCan't cd to (/Users/Eagle/.cpan/build/Mac-SystemDirectory-0.10-M0iYQX/) inc: Permission denied\n at /System/Library/Perl/5.18/CPAN/CacheMgr.pm line 137.\nI have neither the -x permission nor the permission to change the permission; can only partially estimate disk usage of 't'\nCan't cd to (/Users/Eagle/.cpan/build/Mac-SystemDirectory-0.10-M0iYQX/) t: Permission denied\n at /System/Library/Perl/5.18/CPAN/CacheMgr.pm line 137.\nI have neither the -x permission nor the permission to change the permission; can only partially estimate disk usage of 'xt'\nCan't cd to (/Users/Eagle/.cpan/build/Mac-SystemDirectory-0.10-M0iYQX/) xt: Permission denied\n at /System/Library/Perl/5.18/CPAN/CacheMgr.pm line 137.\nI have neither the -x permission nor the permission to change the permission; can only partially estimate disk usage of 'lib'\nCan't cd to (/Users/Eagle/.cpan/build/Mac-SystemDirectory-0.10-M0iYQX/) lib: Permission denied\n at /System/Library/Perl/5.18/CPAN/CacheMgr.pm line 137.\n...............I have neither the -x permission nor the permission to change the permission; can only partially estimate disk usage of 'misc'\nCan't cd to (/Users/Eagle/.cpan/build/File-Temp-0.2309-xlH9tz/) misc: Permission denied\n at /System/Library/Perl/5.18/CPAN/CacheMgr.pm line 137.\nI have neither the -x permission nor the permission to change the permission; can only partially estimate disk usage of 't'\nCan't cd to (/Users/Eagle/.cpan/build/File-Temp-0.2309-xlH9tz/) t: Permission denied\n at /System/Library/Perl/5.18/CPAN/CacheMgr.pm line 137.\nI have neither the -x permission nor the permission to change the permission; can only partially estimate disk usage of 'xt'\nCan't cd to (/Users/Eagle/.cpan/build/File-Temp-0.2309-xlH9tz/) xt: Permission denied\n at /System/Library/Perl/5.18/CPAN/CacheMgr.pm line 137.\nI have neither the -x permission nor the permission to change the permission; can only partially estimate disk usage of 'lib'\nCan't cd to (/Users/Eagle/.cpan/build/File-Temp-0.2309-xlH9tz/) lib: Permission denied\n at /System/Library/Perl/5.18/CPAN/CacheMgr.pm line 137.\n...........................................DONE\n\n  CPAN.pm: Building T/TI/TIMB/DBI-1.642.tar.gz\n\n\n*** Your LANG environment variable is set to 'da_DK.UTF-8'\n*** This may cause problems for some perl installations.\n*** If you get test failures, please try again with LANG unset.\n*** If that then works, please email dbi-dev@perl.org with details\n*** including the output of 'perl -V'\n\nYour perl was compiled with gcc (version 4.2.1 Compatible Apple LLVM 10.0.1 (clang-1001.0.37.14)), okay.\nCreating test wrappers for DBD::Gofer:\nt/zvg_01basics.t \nt/zvg_02dbidrv.t \nt/zvg_03handle.t \nt/zvg_04mods.t \nt/zvg_05concathash.t \nt/zvg_06attrs.t \nt/zvg_07kids.t \nt/zvg_08keeperr.t \nt/zvg_09trace.t \nt/zvg_10examp.t \nt/zvg_11fetch.t \nt/zvg_12quote.t \nt/zvg_13taint.t \nt/zvg_14utf8.t \nt/zvg_15array.t \nt/zvg_16destroy.t \nt/zvg_19fhtrace.t \nt/zvg_20meta.t \nt/zvg_30subclass.t \nt/zvg_31methcache.t \nt/zvg_35thrclone.t (use threads)\nt/zvg_40profile.t \nt/zvg_41prof_dump.t \nt/zvg_42prof_data.t \nt/zvg_43prof_env.t \nt/zvg_48dbi_dbd_sqlengine.t \nt/zvg_49dbd_file.t \nt/zvg_50dbm_simple.t \nt/zvg_51dbm_file.t \nt/zvg_52dbm_complex.t \nt/zvg_53sqlengine_adv.t \nt/zvg_54_dbd_mem.t \nt/zvg_60preparse.t \nt/zvg_65transact.t \nt/zvg_70callbacks.t \nt/zvg_72childhandles.t \nt/zvg_73cachedkids.t \nt/zvg_80proxy.t \nt/zvg_85gofer.t \nt/zvg_86gofer_fail.t \nt/zvg_87gofer_cache.t \nt/zvg_90sql_type_cast.t \nt/zvg_91_store_warning.t \nCreating test wrappers for DBI::SQL::Nano:\nt/zvn_48dbi_dbd_sqlengine.t \nt/zvn_49dbd_file.t \nt/zvn_50dbm_simple.t \nt/zvn_51dbm_file.t \nt/zvn_52dbm_complex.t \nt/zvn_85gofer.t \nCreating test wrappers for DBI::PurePerl:\nt/zvp_01basics.t \nt/zvp_02dbidrv.t \nt/zvp_03handle.t \nt/zvp_04mods.t \nt/zvp_05concathash.t \nt/zvp_06attrs.t \nt/zvp_07kids.t \nt/zvp_08keeperr.t \nt/zvp_09trace.t \nt/zvp_10examp.t \nt/zvp_11fetch.t \nt/zvp_12quote.t \nt/zvp_13taint.t \nt/zvp_14utf8.t \nt/zvp_15array.t \nt/zvp_16destroy.t \nt/zvp_19fhtrace.t \nt/zvp_20meta.t \nt/zvp_30subclass.t \nt/zvp_31methcache.t \nt/zvp_35thrclone.t (use threads)\nt/zvp_40profile.t \nt/zvp_41prof_dump.t \nt/zvp_42prof_data.t \nt/zvp_43prof_env.t \nt/zvp_48dbi_dbd_sqlengine.t \nt/zvp_49dbd_file.t \nt/zvp_50dbm_simple.t \nt/zvp_51dbm_file.t \nt/zvp_52dbm_complex.t \nt/zvp_53sqlengine_adv.t \nt/zvp_54_dbd_mem.t \nt/zvp_60preparse.t \nt/zvp_65transact.t \nt/zvp_70callbacks.t \nt/zvp_72childhandles.t \nt/zvp_73cachedkids.t \nt/zvp_80proxy.t \nt/zvp_85gofer.t \nt/zvp_86gofer_fail.t \nt/zvp_87gofer_cache.t \nt/zvp_90sql_type_cast.t \nt/zvp_91_store_warning.t \nCreating test wrappers for DBD::Gofer + DBI::SQL::Nano:\nt/zvxgn_48dbi_dbd_sqlengine.t \nt/zvxgn_49dbd_file.t \nt/zvxgn_50dbm_simple.t \nt/zvxgn_51dbm_file.t \nt/zvxgn_52dbm_complex.t \nt/zvxgn_85gofer.t \nCreating test wrappers for DBD::Gofer + DBI::PurePerl:\nt/zvxgp_01basics.t \nt/zvxgp_02dbidrv.t \nt/zvxgp_03handle.t \nt/zvxgp_04mods.t \nt/zvxgp_05concathash.t \nt/zvxgp_06attrs.t \nt/zvxgp_07kids.t \nt/zvxgp_08keeperr.t \nt/zvxgp_09trace.t \nt/zvxgp_10examp.t \nt/zvxgp_11fetch.t \nt/zvxgp_12quote.t \nt/zvxgp_13taint.t \nt/zvxgp_14utf8.t \nt/zvxgp_15array.t \nt/zvxgp_16destroy.t \nt/zvxgp_19fhtrace.t \nt/zvxgp_20meta.t \nt/zvxgp_30subclass.t \nt/zvxgp_31methcache.t \nt/zvxgp_35thrclone.t (use threads)\nt/zvxgp_40profile.t \nt/zvxgp_41prof_dump.t \nt/zvxgp_42prof_data.t \nt/zvxgp_43prof_env.t \nt/zvxgp_48dbi_dbd_sqlengine.t \nt/zvxgp_49dbd_file.t \nt/zvxgp_50dbm_simple.t \nt/zvxgp_51dbm_file.t \nt/zvxgp_52dbm_complex.t \nt/zvxgp_53sqlengine_adv.t \nt/zvxgp_54_dbd_mem.t \nt/zvxgp_60preparse.t \nt/zvxgp_65transact.t \nt/zvxgp_70callbacks.t \nt/zvxgp_72childhandles.t \nt/zvxgp_73cachedkids.t \nt/zvxgp_80proxy.t \nt/zvxgp_85gofer.t \nt/zvxgp_86gofer_fail.t \nt/zvxgp_87gofer_cache.t \nt/zvxgp_90sql_type_cast.t \nt/zvxgp_91_store_warning.t \nCreating test wrappers for DBI::SQL::Nano + DBI::PurePerl:\nt/zvxnp_48dbi_dbd_sqlengine.t \nt/zvxnp_49dbd_file.t \nt/zvxnp_50dbm_simple.t \nt/zvxnp_51dbm_file.t \nt/zvxnp_52dbm_complex.t \nt/zvxnp_85gofer.t \nCreating test wrappers for DBD::Gofer + DBI::SQL::Nano + DBI::PurePerl:\nt/zvxgnp_48dbi_dbd_sqlengine.t \nt/zvxgnp_49dbd_file.t \nt/zvxgnp_50dbm_simple.t \nt/zvxgnp_51dbm_file.t \nt/zvxgnp_52dbm_complex.t \nt/zvxgnp_85gofer.t \nChecking if your kit is complete...\nLooks good\n\n    I see you're using perl 5.018004 on darwin-thread-multi-2level, okay.\n    Remember to actually *read* the README file!\n    Use  'make' to build the software (dmake or nmake on Windows).\n    Then 'make test' to execute self tests.\n    Then 'make install' to install the DBI and then delete this working\n    directory before unpacking and building any DBD::* drivers.\n\nWriting Makefile for DBI\nWriting MYMETA.yml and MYMETA.json\nmake: *** No rule to make target `/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.13.sdk/System/Library/Perl/5.18/darwin-thread-multi-2level/CORE/config.h', needed by `Makefile'.  Stop.\n  TIMB/DBI-1.642.tar.gz\n  /usr/bin/make -- NOT OK\n'YAML' not installed, will not store persistent state\nRunning make test\n  Can't test without successful make\nRunning make install\n  Make had returned bad status, install seems impossible\nFailed during this command:\n TIMB/DBI-1.642.tar.gz                        : make NO\n\ncpan[2]&gt; \n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1570820274, "post_id": 58345963, "comment_id": 103049131, "body": "The one caveat is this won&#39;t affect any external code that prints to STDERR such as C libraries."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1570814792, "creation_date": 1570814792, "answer_id": 58345963, "question_id": 58345462, "link": "https://stackoverflow.com/questions/58345462/cgi-redirecting-stderr-to-file-with-an-alteration/58345963#58345963", "title": "CGI: Redirecting STDERR to file with an alteration", "body": "<p>Easiest way without too many disruptions to the rest of your code is to use tied filehandles. Tied filehandles allow you to write customized functions that are invoked when your filehandle is read from, written to, or has any other operation performed on it.</p>\n\n<p>Proof-of-concept</p>\n\n<pre><code>package TimeStamper;\nsub TIEHANDLE {\n   my ($pkg,$file) = @_;\n   open my $fh, \"&gt;\", $file;  # the \"real\" filehandle\n   return bless [$fh],$pkg;\n}\nsub PRINT {\n   my ($self,@msg) = @_;\n   print {$self-&gt;[0]} \"[\",scalar localtime,\"] \",@msg;\n}\n\npackage main;\nmy $stderr = \"/home/logs/stderr.log.txt\";\ntie *STDERR, \"TimeStamper\", $stderr;\n\nprint STDERR \"Hello world\\n\";\n</code></pre>\n"}], "owner": {"reputation": 37436, "user_id": 1215106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/615ff12525dbd5868b7c78d9754aed72?s=128&d=identicon&r=PG", "display_name": "\u2126mega", "link": "https://stackoverflow.com/users/1215106/%e2%84%a6mega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 3, "accepted_answer_id": 58345963, "answer_count": 1, "score": 3, "last_activity_date": 1570826857, "creation_date": 1570812325, "last_edit_date": 1570826857, "question_id": 58345462, "link": "https://stackoverflow.com/questions/58345462/cgi-redirecting-stderr-to-file-with-an-alteration", "title": "CGI: Redirecting STDERR to file with an alteration", "body": "<p>Redirecting <code>STDERR</code> to an external file is pretty easy</p>\n\n<pre><code>my $stderr = '/home/logs/stderr.log.txt';\nopen STDERR, '&gt;' . $stderr;\n...\n$_ = 1/0; # Error: Illegal division by zero\n</code></pre>\n\n<p>To make this error log file more readable I want to <strong>prepend</strong> a timestamp information each time sometimes is sent to <code>STDERR</code>.</p>\n\n<p>How can be that accomplished? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570794213, "post_id": 58339729, "comment_id": 103036303, "body": "Please enable <a href=\"https://perlmaven.com/always-use-strict-and-use-warnings\" rel=\"nofollow noreferrer\"><code>warnings</code> and <code>strict</code> pragmas</a> to see errors in your code. Are you sure <code>$filename</code> has a slash in front? Should it be <code>file.txt</code> and not <code>&#47;file.txt</code>. Also <code>$json_stream</code> should probably <code>$json_str</code>?"}, {"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570795472, "post_id": 58339729, "comment_id": 103036974, "body": "Thanks for checking.  my actual json file content is <b>DATA</b> . I am looking for extract the keys and velus from above data. Thank you."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1570796050, "post_id": 58339729, "comment_id": 103037271, "body": "In order to use the DATA handle, you need to read from the DATA handle. Your code reads from a file in the root directory of your computer."}], "answers": [{"comments": [{"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1571041479, "post_id": 58341058, "comment_id": 103094936, "body": "Thank you so much. Could you please suggest how to get the results like &#39;org2-&gt;repo2-&gt;samn&#39; and org1-&gt;repo1-&gt;john ."}, {"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1571042096, "post_id": 58341058, "comment_id": 103095221, "body": "Thanks. i am getting this error <code>Can&#39;t coerce array into hash at 2.pl line 9, &lt;DATA&gt; line 1</code> . i&#39;ve tried like  print $data-&gt;{org2}{repo2}{Samn}. . I am actually looking for getting  values from above org2 and org1  . like  &#39;sam&#39;, &#39;laggy&#39;, &#39;Tester&#39;  and &#39;John&#39;,&#39;sam&#39;,sammy&#39; ."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1571042875, "post_id": 58341058, "comment_id": 103095577, "body": "Ok, sorry my bad I thought <code>repo2</code> was hash but of course it is an array! Try <code>$data-&gt;{org2}{repo2}[0]</code> to access the first element of the array <code>repo2</code>"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 2, "last_activity_date": 1570796030, "creation_date": 1570796030, "answer_id": 58341058, "question_id": 58339729, "link": "https://stackoverflow.com/questions/58339729/how-to-extract-key-and-values-from-given-json-file-in-perl/58341058#58341058", "title": "How to extract key and values from given json file in perl", "body": "<p>Here is an example of how you can read the JSON data:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\nuse Data::Dumper;\nuse JSON;\n\nmy $str = do { local $/; &lt;DATA&gt; };\nmy $json = JSON-&gt;new;\nmy $data = $json-&gt;decode($str);\nprint Dumper($data);\n\n__DATA__\n{\n   \"org1\" : {\n       \"repo1\" : [\n           \"John\",\n           \"Sam\",\n           \"Sammy\"\n       ]\n   },\n   \"org2\" : {\n       \"repo2\" :[\n           \"Samn\",\n           \"Laggy\",\n           \"Tester\"\n       ]\n   }\n}\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>$VAR1 = {\n          'org2' =&gt; {\n                      'repo2' =&gt; [\n                                   'Samn',\n                                   'Laggy',\n                                   'Tester'\n                                 ]\n                    },\n          'org1' =&gt; {\n                      'repo1' =&gt; [\n                                   'John',\n                                   'Sam',\n                                   'Sammy'\n                                 ]\n                    }\n        };\n</code></pre>\n"}], "owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 58341058, "answer_count": 1, "score": 0, "last_activity_date": 1570796030, "creation_date": 1570791241, "question_id": 58339729, "link": "https://stackoverflow.com/questions/58339729/how-to-extract-key-and-values-from-given-json-file-in-perl", "title": "How to extract key and values from given json file in perl", "body": "<p>I am trying to get key value pairs from following data. I am using this codee , however i am not getting any output . please suggest</p>\n\n<pre><code>use lib qw( ..);\nuse LWP::Simple;\nuse JSON;\nmy $filename = '/file.txt';\nmy $data;\nif (open (my $json_str, $filename))\n{\n  local $/ = undef;\n  my $json = JSON-&gt;new;\n  $data = $json-&gt;decode(&lt;$json_str&gt;);\n  close($json_stream);\n}\nprint $data-&gt;{name};\n\n__DATA__\n{\n   \u201corg1\u201d : {\n  \u201crepo1\u201d : [\n     \u201cJohn\u201d,\n     \u201cSam\u201d,\n     \u201cSammy\u201d,\n  ],\n  \u201corg2\u201d : [\n     \u201crepo2\u201d,\n     \u201cSamn\u201d,\n     \u201cLaggy\u201d,\n     \u201cTester\u201d,\n      ]\n  }\n}\n</code></pre>\n"}, {"tags": ["csv", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1570786218, "post_id": 58337958, "comment_id": 103032389, "body": "Assuming the column separator is a single tab: Try this: <code>perl -F&quot;\\t&quot; -anE &#39;next if $.==1; chomp @F; push @F, &quot;Mike&quot;, &quot;Tom&quot;; say join &quot;\\t&quot;, @F&#39; file.csv</code>"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1570806707, "post_id": 58337958, "comment_id": 103043294, "body": "Need to add the header fields too... <code>perl -lane &#39;BEGIN{$,=&quot;\\t&quot;} if ($. == 1) { print @F, &quot;Retailer&quot;, &quot;Buyer&quot; } else { print @F, &quot;Mike&quot;, &quot;Tom&quot; }&#39; file.tsv</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12199821, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDaA1QYO-AIBYXcah6SwUKhQc4-_1w3a20zxtQD=k-s128", "display_name": "1187 Moonwalker", "link": "https://stackoverflow.com/users/12199821/1187-moonwalker"}, "edited": false, "score": 0, "creation_date": 1571023519, "post_id": 58344942, "comment_id": 103089346, "body": "Thank you. But I get following error message &quot;Undefined subroutine &amp;main::csv called at column.pl line 5.&quot; Is that mean I need to update my Perl module?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1, "user_id": 12199821, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDaA1QYO-AIBYXcah6SwUKhQc4-_1w3a20zxtQD=k-s128", "display_name": "1187 Moonwalker", "link": "https://stackoverflow.com/users/12199821/1187-moonwalker"}, "edited": false, "score": 1, "creation_date": 1571057739, "post_id": 58344942, "comment_id": 103103248, "body": "@1187Moonwalker: Did you explicitly import the subroutine as shown in the example code above - <code>use Text::CSV &#39;csv&#39;;</code>?"}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 1, "last_activity_date": 1570809985, "creation_date": 1570809985, "answer_id": 58344942, "question_id": 58337958, "link": "https://stackoverflow.com/questions/58337958/how-to-add-columns-in-csv-file-with-perl/58344942#58344942", "title": "How to add columns in csv file with Perl?", "body": "<p>Use <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">Text::CSV</a>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Text::CSV 'csv';\n\nmy $rows = csv(in =&gt; *STDIN, encoding =&gt; 'UTF-8', auto_diag =&gt; 2,\n  sep_char =&gt; \"\\t\", keep_headers =&gt; \\my @headers);\n\npush @headers, 'Retailer', 'Buyer';\nforeach my $row (@$rows) {\n  $row-&gt;{Retailer} = 'Mike';\n  $row-&gt;{Buyer} = 'Tom';\n}\n\ncsv(in =&gt; $rows, out =&gt; *STDOUT, encoding =&gt; 'UTF-8', auto_diag =&gt; 2,\n  sep_char =&gt; \"\\t\", headers =&gt; \\@headers);\n</code></pre>\n\n<p>Assuming your CSV file is actually single-tab-separated, and getting input on STDIN and printing to STDOUT.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1571046435, "creation_date": 1571046435, "answer_id": 58374150, "question_id": 58337958, "link": "https://stackoverflow.com/questions/58337958/how-to-add-columns-in-csv-file-with-perl/58374150#58374150", "title": "How to add columns in csv file with Perl?", "body": "<p>Are they CSV files? I can't see any commas in your sample data. Perhaps they are tab-separated instead.</p>\n\n<p>In any case, you don't need Text::CSV for this as you're just adding data to each line.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nwhile (&lt;&gt;) {\n  chomp;\n  if ($. == 1) { # first line\n    say \"$_\\tRetailer\\tBuyer\";\n  } else {\n    say \"$_\\tMike\\tTom\";\n  }\n}\n</code></pre>\n\n<p>(If you really have CSV files, then replace the \"\\t\"s in my code with \",\")</p>\n\n<p>This reads from <code>STDIN</code> and writes to <code>STDOUT</code> so (assuming it's in a file called <code>append_cols</code>) you would call it like this:</p>\n\n<pre><code>./append_cols &lt; your_old_file.csv &gt; some_new_file.csv\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12199821, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDaA1QYO-AIBYXcah6SwUKhQc4-_1w3a20zxtQD=k-s128", "display_name": "1187 Moonwalker", "link": "https://stackoverflow.com/users/12199821/1187-moonwalker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1571046435, "creation_date": 1570785198, "question_id": 58337958, "link": "https://stackoverflow.com/questions/58337958/how-to-add-columns-in-csv-file-with-perl", "title": "How to add columns in csv file with Perl?", "body": "<p>I have a csv file contains following data. Now I want to add some extra columns at the end. In these extra columns, they have different value, but each row content is same. How can we do this with Perl? </p>\n\n<pre><code>Original csv file\nItem Price Number\nA     11    2\nB     10    3\nC     20    1\n...(many lines)\n...\n</code></pre>\n\n<p>I want to add <strong>retailer</strong> and <strong>buyer</strong> information in the end</p>\n\n<pre><code>Output csv file\n\nItem Price Number Retailer Buyer\nA     11      2      Mike    Tom\nB     21      1      Mike    Tom\nC     30      4      Mike    Tom\n...(many lines)\n...\n</code></pre>\n\n<p>Each column has only 1 value, but it extends to the last row of csv file.\n (The column title and value can be hardcode, it's not the point) </p>\n"}, {"tags": ["image", "perl", "outlook", "com-automation"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 2581914, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000762543618/picture?type=large", "display_name": "Tom&#225;\u0161 Lu\u010deni\u010d", "link": "https://stackoverflow.com/users/2581914/tom%c3%a1%c5%a1-lu%c4%8deni%c4%8d"}, "edited": false, "score": 0, "creation_date": 1570801882, "post_id": 58340912, "comment_id": 103040459, "body": "Thanks for the hint with missing <b>CID</b> (content ID) and the <b>SetProperty</b> method. Do you have also a perl version of the very same code instead of vbs?"}, {"owner": {"reputation": 25937, "user_id": 1603351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lQ6aZ.jpg?s=128&g=1", "display_name": "Eugene Astafiev", "link": "https://stackoverflow.com/users/1603351/eugene-astafiev"}, "reply_to_user": {"reputation": 49, "user_id": 2581914, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000762543618/picture?type=large", "display_name": "Tom&#225;\u0161 Lu\u010deni\u010d", "link": "https://stackoverflow.com/users/2581914/tom%c3%a1%c5%a1-lu%c4%8deni%c4%8d"}, "edited": false, "score": 0, "creation_date": 1570801988, "post_id": 58340912, "comment_id": 103040531, "body": "I don&#39;t know anything about Perl, this is C#. But the Outlook object model provides the same methods for all programming languages. So, the code will be the same."}], "tags": [], "owner": {"reputation": 25937, "user_id": 1603351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lQ6aZ.jpg?s=128&g=1", "display_name": "Eugene Astafiev", "link": "https://stackoverflow.com/users/1603351/eugene-astafiev"}, "is_accepted": false, "score": 1, "last_activity_date": 1570795471, "creation_date": 1570795471, "answer_id": 58340912, "question_id": 58337647, "link": "https://stackoverflow.com/questions/58337647/perl-outlook-including-an-embedded-image-into-body-of-email-html/58340912#58340912", "title": "Perl - Outlook - Including an embedded image into body of email (HTML)", "body": "<p>You need to attach an image and then set a CID which you can use in the message body:</p>\n\n<pre><code>Attachment attachment = newMail.Attachments.Add(@\"E:\\Pictures\\image001.jpg\"\n    , OlAttachmentType.olEmbeddeditem , null , \"Some image display name\" );\n\n   string imageCid = \"image001.jpg@123\";\n\n   attachment.PropertyAccessor.SetProperty(\n     \"http://schemas.microsoft.com/mapi/proptag/0x3712001E\", imageCid);\n\n   newMail.HTMLBody = String.Format(\"&lt;body&gt;&lt;img src=\\\"cid:{0}\\\"&gt;&lt;/body&gt;\", imageCid );\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 2581914, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000762543618/picture?type=large", "display_name": "Tom&#225;\u0161 Lu\u010deni\u010d", "link": "https://stackoverflow.com/users/2581914/tom%c3%a1%c5%a1-lu%c4%8deni%c4%8d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570809318, "creation_date": 1570784157, "last_edit_date": 1570809318, "question_id": 58337647, "link": "https://stackoverflow.com/questions/58337647/perl-outlook-including-an-embedded-image-into-body-of-email-html", "title": "Perl - Outlook - Including an embedded image into body of email (HTML)", "body": "<p>I need to include an image into body of email (using HTML formatting) so it's embedded, not as an extra attachement using library Win32::OLE in Perl invoking the Outlook client installed on Windows.</p>\n\n<p>Below code works, but received email does not display the image. I can see the only a small square symbol indicating the inline embedded image is missing or is corrupted . </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#use strict;\nuse warnings;\nuse Win32::OLE;\n\n#get new Outlook instance\nmy $mail = new Win32::OLE('Outlook.Application');\ndie \"Unable to start Outlook instance: $!\" if !defined $mail;\n\nmy $item = $mail-&gt;CreateItem(0);\ndie \"Unable to create mail item: $!\" if !defined $item;\n\n$item-&gt;{'To'} = 'mypersonalgmailaddress@gmail.com'; \n$item-&gt;{'CC'} = '';\n$item-&gt;{'Subject'} = 'Test for embedded/inline image';\n$item-&gt;{'BodyFormat'} = 'olFormatHTML'; \n$item-&gt;{'HTMLBody'} = \"&lt;html&gt;&lt;body&gt;&lt;img src=\\\"signature.png\\\"&gt;&lt;/body&gt;&lt;/html&gt;\";\n$item-&gt;save();\n\n#attach an image and make it embedded.\nmy $attachments = $item-&gt;Attachments();\n$attachments-&gt;Add('C:\\signature.png', olEmbeddeditem);\n\n#send it\n$item-&gt;Send();\n\nmy $error = Win32::OLE-&gt;LastError();\nprint STDERR \"Win32::OLE error: $error\" if $error;\n</code></pre>\n\n<p>Does anybody know what is wrong with the above code? Any advices are highly appreciated.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4859, "user_id": 7431860, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/P6Jko.jpg?s=128&g=1", "display_name": "Nick Reed", "link": "https://stackoverflow.com/users/7431860/nick-reed"}, "edited": false, "score": 0, "creation_date": 1570766471, "post_id": 58334004, "comment_id": 103025237, "body": "Out of curiosity, are you trying to match a tab like the whitespace, or the literal characters <code>\\\\ </code> and <code>t</code> ?"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 4859, "user_id": 7431860, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/P6Jko.jpg?s=128&g=1", "display_name": "Nick Reed", "link": "https://stackoverflow.com/users/7431860/nick-reed"}, "edited": false, "score": 0, "creation_date": 1570766546, "post_id": 58334004, "comment_id": 103025254, "body": "@NickReed I am trying to match actual tab characters, not the literal <code>\\t</code>"}, {"owner": {"reputation": 4859, "user_id": 7431860, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/P6Jko.jpg?s=128&g=1", "display_name": "Nick Reed", "link": "https://stackoverflow.com/users/7431860/nick-reed"}, "edited": false, "score": 0, "creation_date": 1570766657, "post_id": 58334004, "comment_id": 103025271, "body": "Alright, and what language are you using to replace the characters - is that JQuery?"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 4859, "user_id": 7431860, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/P6Jko.jpg?s=128&g=1", "display_name": "Nick Reed", "link": "https://stackoverflow.com/users/7431860/nick-reed"}, "edited": false, "score": 0, "creation_date": 1570766750, "post_id": 58334004, "comment_id": 103025281, "body": "@NickReed The language is perl, using regex"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6553328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omcAX.jpg?s=128&g=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/6553328/emma"}, "is_accepted": false, "score": 2, "last_activity_date": 1570766497, "creation_date": 1570766497, "answer_id": 58334064, "question_id": 58334004, "link": "https://stackoverflow.com/questions/58334004/how-to-turn-tabs-into-blockquotes-using-perl-regex/58334064#58334064", "title": "How to turn tabs into blockquotes using perl regex", "body": "<p>Maybe, with some expression similar to:</p>\n\n<pre><code>(?i)&lt;p&gt;\\s{2,}(.*?)&lt;\\/p&gt;\n</code></pre>\n\n<p>and replace with</p>\n\n<pre><code>&lt;p&gt;&lt;BLOCKQUOTE&gt;$1&lt;/BLOCKQUOTE&gt;&lt;/p&gt;\n</code></pre>\n\n<hr>\n\n<p>If you wish to simplify/modify/explore the expression, it's been explained on the top right panel of <a href=\"https://regex101.com/r/gGm8Tb/1/\" rel=\"nofollow noreferrer\">regex101.com</a>. If you'd like, you can also watch in <a href=\"https://regex101.com/r/gGm8Tb/1/debugger\" rel=\"nofollow noreferrer\">this link</a>, how it would match against some sample inputs.</p>\n\n<hr>\n"}, {"tags": [], "owner": {"reputation": 4859, "user_id": 7431860, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/P6Jko.jpg?s=128&g=1", "display_name": "Nick Reed", "link": "https://stackoverflow.com/users/7431860/nick-reed"}, "is_accepted": false, "score": 2, "last_activity_date": 1570767987, "creation_date": 1570767987, "answer_id": 58334249, "question_id": 58334004, "link": "https://stackoverflow.com/questions/58334004/how-to-turn-tabs-into-blockquotes-using-perl-regex/58334249#58334249", "title": "How to turn tabs into blockquotes using perl regex", "body": "<p>I was going to say regex isn't powerful enough to do this on its own, but it looks like Perl can more than do the job! This logic should be fairly painless to extend for multiple lines of input.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#your input text\n$string = \"&lt;P&gt;      Some text&lt;/P&gt;\";\n\n#get the number of tab characters present in the string - note that this assumes they're all at the start\nmy @matches = $string =~ /\\t/g;\n\n#get the other parts of the string\n$string =~ /(&lt;P&gt;)(\\t+)(.*)(&lt;\\/P&gt;)/g;\n\n#add &lt;BLOCKQUOTE&gt; once for each match at the locations you've specified, and also cut out the existing tabs\n$out = $1 . \"&lt;BLOCKQUOTE&gt;\" x @matches . $3 . \"&lt;BLOCKQUOTE&gt;\" x @matches . $4;\nprint \"$out\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1570774723, "post_id": 58334910, "comment_id": 103027307, "body": "Your answer is how I approached it first, but I wanted to do it a one line regex.  See my answer which uses the <code>\\G</code>anchor."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1570776847, "post_id": 58334910, "comment_id": 103028061, "body": "Sorry, my answer didn&#39;t actually work.  See my updated answer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1573715419, "post_id": 58334910, "comment_id": 103974927, "body": "To the reader: I have no idea for the -1, and I looked and looked.  A job like this can of course depend on details a lot but the code here works for the question as asked, as far as I can see"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1573715362, "last_edit_date": 1573715362, "creation_date": 1570772651, "answer_id": 58334910, "question_id": 58334004, "link": "https://stackoverflow.com/questions/58334004/how-to-turn-tabs-into-blockquotes-using-perl-regex/58334910#58334910", "title": "How to turn tabs into blockquotes using perl regex", "body": "<p>The tricky bit here is to somehow enter as many replacement tags as there are tabs. </p>\n\n<p>I'd go with multiple passes, first counting the tabs and then going over the string again to replace them with the right number of open-close replacement tags (<code>BLOCKQUOTE</code>). In this case a single regex is bound to be <em>much</em> more complex and thus that much harder to tweak and maintain.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy @test_strings = ( \n    qq(&lt;p&gt;\\t\\ttwo tabs&lt;/p&gt;),\n    qq(&lt;p&gt;\\tone tab&lt;/p&gt;),\n    qq(&lt;p&gt;no tab&lt;/p&gt;),\n    qq(&lt;div&gt;\\tnot paragraph&lt;/div&gt;),\n);\n\nsay for @test_strings;  say '';\n\nfor (@test_strings) \n{\n    if (my ($tabs) = /&lt;p&gt;(\\t+)/)          # capture consecutive tabs\n    { \n        my $nt = () = $tabs =~ /\\t/g;     # count them\n\n        my $ot = \"&lt;BLOCKQUOTE&gt;\"  x $nt;   # open-tag\n        my $ct = \"&lt;/BLOCKQUOTE&gt;\" x $nt;   # close-tag\n\n        s{&lt;p&gt; \\t+ ([^\\t].+?) &lt;/p&gt;}{&lt;p&gt;$ot$1$ct&lt;/p&gt;}x; \n\n        say;\n    }       \n}\n</code></pre>\n\n<p>Prints</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;p&gt;             two tabs&lt;/p&gt;\n&lt;p&gt;     one tab&lt;/p&gt;\n&lt;p&gt;no tab&lt;/p&gt;\n&lt;div&gt;   not paragraph&lt;/div&gt;\n\n&lt;p&gt;&lt;BLOCKQUOTE&gt;&lt;BLOCKQUOTE&gt;two tabs&lt;/BLOCKQUOTE&gt;&lt;/BLOCKQUOTE&gt;&lt;/p&gt;\n&lt;p&gt;&lt;BLOCKQUOTE&gt;one tab&lt;/BLOCKQUOTE&gt;&lt;/p&gt;\n&lt;p&gt;no tab&lt;/p&gt;\n&lt;div&gt;   not paragraph&lt;/div&gt;\n</code></pre>\n\n<p>Notes</p>\n\n<ul>\n<li><p>As it stands this works with at most one paragraph (<code>&lt;p&gt;...&lt;/p&gt;</code>) in the string, while</p>\n\n<pre><code>while (my ($tabs) = /&lt;p&gt;(\\t+)/g) { ... }\n</code></pre>\n\n<p>(instead of <code>if (...)</code>) appears to work with multiple paragraphs. Needs more testing</p></li>\n<li><p>Counting itself uses <a href=\"https://metacpan.org/pod/distribution/perlsecret/lib/perlsecret.pod#Goatse\" rel=\"nofollow noreferrer\"><code>=()=</code> \"operator\"</a>. It imposes list context on its right-hand side, so the regex returns the list of matches, assigned to a scalar on its left. Thus we get the count.</p>\n\n<p>In this case, with <code>$tabs</code> consisting of only the tab characters, one can simply do</p>\n\n<pre><code> my $nt = split '', $tabs;\n</code></pre>\n\n<p>(Update: really just <code>my $nt = length $tabs;</code>, as in other answers)</p>\n\n<p>I still use the regex since it'll work for a string with things other than just tabs, as well</p></li>\n<li><p>The code replaces only the consecutive tabs in the beginning, right after <code>&lt;p&gt;</code>, not any that may come later in the string (how I see the requirement).</p>\n\n<p>This is provided for by following the tabs in the pattern (<code>\\t+</code>) with a <em>single</em> non-tab character and then any characters, <code>[^\\t].*?</code>. Thus this matches for a string with more tabs further down but replaces only the leading \"block\" of tabs</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "is_accepted": true, "score": 0, "last_activity_date": 1598340933, "last_edit_date": 1598340933, "creation_date": 1570774614, "answer_id": 58335242, "question_id": 58334004, "link": "https://stackoverflow.com/questions/58334004/how-to-turn-tabs-into-blockquotes-using-perl-regex/58335242#58335242", "title": "How to turn tabs into blockquotes using perl regex", "body": "<pre><code>for (@lines)\n{\n   s{^&lt;P&gt;(\\t+)(.+?)&lt;/P&gt;$}{&lt;P&gt; . &quot;&lt;BLOCKQUOTE&gt;&quot; x length($1) . $2 . &quot;&lt;/BLOCKQUOTE&gt;&quot; x length($1) . &quot;&lt;/P&gt;&quot;}gie;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 2, "last_activity_date": 1570808355, "creation_date": 1570808355, "answer_id": 58344544, "question_id": 58334004, "link": "https://stackoverflow.com/questions/58334004/how-to-turn-tabs-into-blockquotes-using-perl-regex/58344544#58344544", "title": "How to turn tabs into blockquotes using perl regex", "body": "<p>Using <a href=\"https://metacpan.org/pod/Mojo::DOM\" rel=\"nofollow noreferrer\">Mojo::DOM</a>, so we aren't restricted by organization of whitespace or edge cases:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Mojo::DOM;\n\nmy $html = &lt;&lt;\"HTML\";\n&lt;P&gt;\\tSome text&lt;/P&gt;\n&lt;P&gt;\\t\\tSome text&lt;/P&gt;\n&lt;P&gt;\\tSome text&lt;/P&gt;\nHTML\n\nmy $dom = Mojo::DOM-&gt;new($html);\nforeach my $p ($dom-&gt;find('p')-&gt;each) {\n  my $content = $p-&gt;content;\n  $content =~ s/^(\\t*)//;\n  my $count = length $1;\n  $p-&gt;content($content);\n  $p-&gt;wrap_content('&lt;blockquote&gt;&lt;/blockquote&gt;') for 1..$count;\n}\n\nprint $dom-&gt;to_string;\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>&lt;p&gt;&lt;blockquote&gt;Some text&lt;/blockquote&gt;&lt;/p&gt;\n&lt;p&gt;&lt;blockquote&gt;&lt;blockquote&gt;Some text&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;/p&gt;\n&lt;p&gt;&lt;blockquote&gt;Some text&lt;/blockquote&gt;&lt;/p&gt;\n</code></pre>\n\n<p>(You can use <a href=\"https://metacpan.org/pod/Mojo::DOM#CASE-SENSITIVITY\" rel=\"nofollow noreferrer\">XML mode</a> if you really want to keep it case sensitive.)</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 58335242, "answer_count": 5, "score": 3, "last_activity_date": 1598340933, "creation_date": 1570766013, "question_id": 58334004, "link": "https://stackoverflow.com/questions/58334004/how-to-turn-tabs-into-blockquotes-using-perl-regex", "title": "How to turn tabs into blockquotes using perl regex", "body": "<p>If I have HTML that are lines like the following: (<code>\\t</code> means Tab character)</p>\n\n<pre><code>&lt;P&gt;\\tSome text&lt;/P&gt;\n&lt;P&gt;\\t\\tSome text&lt;/P&gt;\n&lt;P&gt;\\tSome text&lt;/P&gt;\n</code></pre>\n\n<p>Using regex, how can I convert the above to:</p>\n\n<pre><code>&lt;P&gt;&lt;BLOCKQUOTE&gt;Some text&lt;/BLOCKQUOTE&gt;&lt;/P&gt;\n&lt;P&gt;&lt;BLOCKQUOTE&gt;&lt;BLOCKQUOTE&gt;Some text&lt;/BLOCKQUOTE&gt;&lt;/BLOCKQUOTE&gt;&lt;/P&gt;\n&lt;p&gt;&lt;BLOCKQUOTE&gt;Some text&gt;&lt;/BLOCKQUOTE&gt;&lt;/P&gt;\n</code></pre>\n\n<p>At the moment I have:</p>\n\n<pre><code>for $line (@lines)\n{\n   $line =~ s{^(&lt;P&gt;(?:&lt;BLOCKQUOTE&gt;)*)\\t(.+?)((?:&lt;/BLOCKQUOTE&gt;)*&lt;/P&gt;)$}{$1&lt;BLOCKQUOTE&gt;$2&lt;/BLOCKQUOTE&gt;$3}g;\n}\n</code></pre>\n"}, {"tags": ["sql", "csv", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1570721579, "post_id": 58326104, "comment_id": 103011324, "body": "The quotes in the title of your question are double quotes, not single quotes. They also look like you wrote them with Word."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 3, "creation_date": 1570721597, "post_id": 58326104, "comment_id": 103011334, "body": "Bound parameters are supported by DBD::CSV, have you tried it? <code>VALUES (?,?)</code> then pass <code>$num</code> and <code>$id</code> to the execute call."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1570721733, "post_id": 58326104, "comment_id": 103011410, "body": "Corssposted to <a href=\"https://www.perlmonks.org/?node_id=11107315\" rel=\"nofollow noreferrer\">PerlMonks</a>"}, {"owner": {"reputation": 41, "user_id": 12195860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1a4154104062b012e642605d41bfa0f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/12195860/james"}, "edited": false, "score": 0, "creation_date": 1570733556, "post_id": 58326104, "comment_id": 103016796, "body": "choroba, Thank you!! My crosspost to PerlMonks at <a href=\"https://www.perlmonks.org/?node_id=11107315\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=11107315</a> has the solution! I had to add &lt;code&gt;&#39;always_quote&#39;=&gt; 1&lt;/code&gt; to the dbh to get it to work."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 12195860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1a4154104062b012e642605d41bfa0f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/12195860/james"}, "edited": false, "score": 0, "creation_date": 1570731368, "post_id": 58326577, "comment_id": 103015840, "body": "Good suggestion, but it doesn&#39;t solve my initial problem. I need the output to show up in the CSV like this: &lt;code&gt;&quot;0123&quot;&lt;/code&gt;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 41, "user_id": 12195860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1a4154104062b012e642605d41bfa0f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/12195860/james"}, "edited": false, "score": 1, "creation_date": 1570732032, "post_id": 58326577, "comment_id": 103016149, "body": "@James: As Grinnz says in his other answer, it sounds like the other application is at fault here. In a CSV file, there is no meaningful difference between <code>0123</code> and <code>&quot;0123&quot;</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 41, "user_id": 12195860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1a4154104062b012e642605d41bfa0f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/12195860/james"}, "edited": false, "score": 0, "creation_date": 1570732056, "post_id": 58326577, "comment_id": 103016158, "body": "@James: But perhaps you could post-process the CSV file in some way."}, {"owner": {"reputation": 41, "user_id": 12195860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1a4154104062b012e642605d41bfa0f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/12195860/james"}, "edited": false, "score": 0, "creation_date": 1570733468, "post_id": 58326577, "comment_id": 103016755, "body": "Yes, the other app is at fault, but I have not control over it.  I thought about post-process and even tried an update to CSV, but ran into issues.  However, this quote from <a href=\"https://www.perlmonks.org/?node_id=11107315\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=11107315</a> shows the resolution."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1570722297, "last_edit_date": 1570722297, "creation_date": 1570721962, "answer_id": 58326577, "question_id": 58326104, "link": "https://stackoverflow.com/questions/58326104/extra-quotes-doing-sql-insert-from-perl-to-csv-if-i-try-to-remove-them-i-get-n/58326577#58326577", "title": "Extra quotes doing SQL insert from Perl to CSV. If I try to remove them, I get no quotes. I need single quotes as in &quot;0123&quot;", "body": "<p>Interpolating variables into SQL statements is a bad idea. You leave yourself open to SQL injection attacks (see <a href=\"https://bobby-tables.com/\" rel=\"nofollow noreferrer\">Bobby Tables</a>). So don't do that.</p>\n\n<p>Instead, use bind parameters and pass extra values to the <code>execute()</code> method.</p>\n\n<pre><code>my $insert = 'INSERT INTO Table VALUES (?, ?)';\nmy $sth = $dbh-&gt;prepare($insert);\n$sth-&gt;execute($num, $id);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 12195860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1a4154104062b012e642605d41bfa0f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/12195860/james"}, "edited": false, "score": 0, "creation_date": 1570731428, "post_id": 58326604, "comment_id": 103015873, "body": "The cell needs to be quoted due to the use of it by another system that requires it."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 1, "last_activity_date": 1570722045, "creation_date": 1570722045, "answer_id": 58326604, "question_id": 58326104, "link": "https://stackoverflow.com/questions/58326104/extra-quotes-doing-sql-insert-from-perl-to-csv-if-i-try-to-remove-them-i-get-n/58326604#58326604", "title": "Extra quotes doing SQL insert from Perl to CSV. If I try to remove them, I get no quotes. I need single quotes as in &quot;0123&quot;", "body": "<p>The problem is that a CSV entry of 123 and of \"123\" are identical. A single pair of double quotes is part of the CSV format (at least, the most common variant). So when you try to insert a value containing double quotes, it doubles them up to escape them. DBD::CSV is only surrounding the cell in double quotes when it contains special characters like a comma, space, or escaped double quotes.</p>\n\n<pre><code>foo,\" foo \",\",\",\"\"\"a\"\"b\"\n# parses to: 'foo' -- ' foo ' -- ',' -- '\"a\"b'\n</code></pre>\n\n<p>The parser should not care whether the cell is quoted or not (unless it is needed because the cell contains these special characters). See <a href=\"http://tburette.github.io/blog/2014/05/25/so-you-want-to-write-your-own-CSV-code/\" rel=\"nofollow noreferrer\">http://tburette.github.io/blog/2014/05/25/so-you-want-to-write-your-own-CSV-code/</a></p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 12195860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1a4154104062b012e642605d41bfa0f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/12195860/james"}, "is_accepted": false, "score": 4, "last_activity_date": 1570733710, "creation_date": 1570733710, "answer_id": 58329410, "question_id": 58326104, "link": "https://stackoverflow.com/questions/58326104/extra-quotes-doing-sql-insert-from-perl-to-csv-if-i-try-to-remove-them-i-get-n/58329410#58329410", "title": "Extra quotes doing SQL insert from Perl to CSV. If I try to remove them, I get no quotes. I need single quotes as in &quot;0123&quot;", "body": "<p>Thanks to poj at PerlMonks (<a href=\"https://www.perlmonks.org/?node_id=11107315\" rel=\"nofollow noreferrer\">https://www.perlmonks.org/?node_id=11107315</a>), there is a solution:</p>\n\n<p>Here it is for everyone's convenience: </p>\n\n<p>Use placeholders and always_quote option</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse DBI;\n\nmy $dbh = DBI-&gt;connect(\"dbi:CSV:\", \"\", \"\",{\n   'RaiseError' =&gt; 1 }\n);  \n\n$dbh-&gt;{'csv_tables'}-&gt;{'MyTable'} = {\n 'file'         =&gt; 'data1.csv',\n 'col_names'    =&gt; [\"num\",\"id\"],\n 'always_quote' =&gt; 1,\n};\n\nmy $num = '0123';\nmy $id  = '0124';\nmy $sql = \"INSERT INTO MyTable VALUES (?,?)\";\nmy $sth = $dbh-&gt;do($sql,undef,$num,$id);\n</code></pre>\n\n<p>poj</p>\n"}], "owner": {"reputation": 41, "user_id": 12195860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1a4154104062b012e642605d41bfa0f?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/12195860/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1570733710, "creation_date": 1570720296, "last_edit_date": 1570720355, "question_id": 58326104, "link": "https://stackoverflow.com/questions/58326104/extra-quotes-doing-sql-insert-from-perl-to-csv-if-i-try-to-remove-them-i-get-n", "title": "Extra quotes doing SQL insert from Perl to CSV. If I try to remove them, I get no quotes. I need single quotes as in &quot;0123&quot;", "body": "<p>When I write to a csv file from Perl using SQL Insert, I get either <code>0123</code> or <code>\"\"\"0123\"\"\"</code>, but I need <code>\"0123\"</code>.  Neither concatenation nor regex seem to resolve the issue.  </p>\n\n<p>Here's my code: </p>\n\n<pre><code>my $dbh = DBI-&gt;connect(qq{DBI:CSV:csv_eol=\\n;csv_sep_char=\\\\,;});   \n$dbh-&gt;{'csv_tables'}-&gt;{'Table'} = {'file' =&gt; 'data.csv','col_names' =&gt; \n[\"num\",\"id\"]};\n#Setup error variables\n$dbh-&gt;{'RaiseError'} = 1;\n$@ = '';\n\n## Attempts to change $num\n##$num = '\"'.$num.'\"';## this causes \"\"\"0123\"\"\" \n##$num = \"\\\"$num\\\"\";## this causes \"\"\"0123\"\"\" even if I additionally do this: \n## $num=~s/\"\"\"/\"/g;\n##$num = \" \".$num;## causes \" 0123\" VERY CLOSE.  Try next line: \n##$num=~s/ //g;## This causes 0123\n##$num = \"\".$num; ## causes 0123\n##$num = \"'\".$num.\"'\";## causes 123\n\nmy $value = \"\\'$num\\',\\'$id\\'\";\nmy $insert = \"INSERT INTO Table VALUES ($value)\";\nmy $sth = $dbh-&gt;prepare($insert);\n$sth-&gt;execute();\n$sth-&gt;finish();\n$dbh-&gt;disconnect();\n</code></pre>\n\n<p>I would like to have the output of $num to end up being \"0123\" in the CSV, but instead I get 0123 or \"\"\"0123\"\"\" or \" 0123\"</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1570715233, "post_id": 58324322, "comment_id": 103007482, "body": "Does it work in the command line?"}, {"owner": {"reputation": 23, "user_id": 12195346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vlTvdilwch4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcg-D0YfoAnKzCme7_zMbeJIq2t-Q/photo.jpg?sz=128", "display_name": "Olov Svartstr&#246;m", "link": "https://stackoverflow.com/users/12195346/olov-svartstr%c3%b6m"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1570715534, "post_id": 58324322, "comment_id": 103007673, "body": "It does! And when I remove the \u201d it also works. But it does not what I want."}, {"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 0, "creation_date": 1570716129, "post_id": 58324322, "comment_id": 103008058, "body": "Strange I changed your command to echo to give <code>perl -e &#39;@_ = (&quot;echo&quot;,&quot;arg1\\&quot;&quot;,&quot;arg2&quot;);system( @_[0], @_ );&#39;</code> and it works fine"}, {"owner": {"reputation": 23, "user_id": 12195346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vlTvdilwch4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcg-D0YfoAnKzCme7_zMbeJIq2t-Q/photo.jpg?sz=128", "display_name": "Olov Svartstr&#246;m", "link": "https://stackoverflow.com/users/12195346/olov-svartstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1570716233, "post_id": 58324322, "comment_id": 103008121, "body": "Could it be that echo is bash and cutadapt is not? If that make sense."}, {"owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "edited": false, "score": 1, "creation_date": 1570716591, "post_id": 58324322, "comment_id": 103008342, "body": "Can you show the exact command line and the output when you run it in the shell (not perl)?"}, {"owner": {"reputation": 23, "user_id": 12195346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vlTvdilwch4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcg-D0YfoAnKzCme7_zMbeJIq2t-Q/photo.jpg?sz=128", "display_name": "Olov Svartstr&#246;m", "link": "https://stackoverflow.com/users/12195346/olov-svartstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1570716789, "post_id": 58324322, "comment_id": 103008475, "body": "Unfortunately not now. But it would be about like this: \u2019cutadapt -a \u201dATGC;required...TGCA;required\u201d in_file"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1570716803, "post_id": 58324322, "comment_id": 103008493, "body": "Also include the error you get."}, {"owner": {"reputation": 23, "user_id": 12195346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vlTvdilwch4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcg-D0YfoAnKzCme7_zMbeJIq2t-Q/photo.jpg?sz=128", "display_name": "Olov Svartstr&#246;m", "link": "https://stackoverflow.com/users/12195346/olov-svartstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1570717023, "post_id": 58324322, "comment_id": 103008618, "body": "The error comes from cutadapt complaining on missing argument. I think that it is python errors."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 12195346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vlTvdilwch4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcg-D0YfoAnKzCme7_zMbeJIq2t-Q/photo.jpg?sz=128", "display_name": "Olov Svartstr&#246;m", "link": "https://stackoverflow.com/users/12195346/olov-svartstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1570726948, "post_id": 58325389, "comment_id": 103013950, "body": "Thanks a lot for the fantastic answer. I think that this solved it. I will post an explicit answer. Then click solved when I&#39;m sure."}, {"owner": {"reputation": 23, "user_id": 12195346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vlTvdilwch4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcg-D0YfoAnKzCme7_zMbeJIq2t-Q/photo.jpg?sz=128", "display_name": "Olov Svartstr&#246;m", "link": "https://stackoverflow.com/users/12195346/olov-svartstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1570730055, "post_id": 58325389, "comment_id": 103015257, "body": "It still does not work! And I&#39;m not being able to replicate the problem in a small scale. Please se my latest attemt."}, {"owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "reply_to_user": {"reputation": 23, "user_id": 12195346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vlTvdilwch4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcg-D0YfoAnKzCme7_zMbeJIq2t-Q/photo.jpg?sz=128", "display_name": "Olov Svartstr&#246;m", "link": "https://stackoverflow.com/users/12195346/olov-svartstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1570734900, "post_id": 58325389, "comment_id": 103017368, "body": "Please include the <b>exact</b> command as you run it in the shell, and any errors (in the shell and in perl). The smaller the example, the better. Something similar to what I did in my answer. BTW, this: <code>cutadapt -a \u201dATGC;required...TGCA;required\u201d in_file</code> is too approximate, for example if you do not include fastq extension, cutadapt will fail. Also, <code>cutadapt complaining on missing argument</code> is not specific enough - what is the error exactly? Finally, why do you need the <code>&quot;</code> quote? The precise command and error will help."}, {"owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "reply_to_user": {"reputation": 23, "user_id": 12195346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vlTvdilwch4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcg-D0YfoAnKzCme7_zMbeJIq2t-Q/photo.jpg?sz=128", "display_name": "Olov Svartstr&#246;m", "link": "https://stackoverflow.com/users/12195346/olov-svartstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1571178174, "post_id": 58325389, "comment_id": 103151650, "body": "@OlovSvartstr&#246;m From the details that you added, it looks like the issue is different from my first guess. It could be related to cutadapt itself as you suggested."}, {"owner": {"reputation": 23, "user_id": 12195346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vlTvdilwch4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcg-D0YfoAnKzCme7_zMbeJIq2t-Q/photo.jpg?sz=128", "display_name": "Olov Svartstr&#246;m", "link": "https://stackoverflow.com/users/12195346/olov-svartstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1571309087, "post_id": 58325389, "comment_id": 103202104, "body": "Yes I did not realize the importance of being completely explicit. I have never come across this problem when executing a command within the code. But there is something with the ;"}, {"owner": {"reputation": 23, "user_id": 12195346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vlTvdilwch4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcg-D0YfoAnKzCme7_zMbeJIq2t-Q/photo.jpg?sz=128", "display_name": "Olov Svartstr&#246;m", "link": "https://stackoverflow.com/users/12195346/olov-svartstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1571663389, "post_id": 58325389, "comment_id": 103304693, "body": "The problem is indeed due to different versions. Thanks to our messy installation perl calls an older version (1.18) of cutadapt while running exactly the same command in shell calls a newer (2.4). And only the newer excepts the parameter required! Thank you everyone for the help!"}], "tags": [], "owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "is_accepted": true, "score": 2, "last_activity_date": 1571177957, "last_edit_date": 1571177957, "creation_date": 1570718066, "answer_id": 58325389, "question_id": 58324322, "link": "https://stackoverflow.com/questions/58324322/how-to-execute-an-external-program-with-perl-system-with-arguments-that-includ/58325389#58325389", "title": "How to execute an external program with Perl (system) with arguments that include metacharacter &quot;", "body": "<p>I could not reproduce your issue with a recent cutadapt version (cutadapt 2.5 with Python 3.7.3), installed using conda (cutadapt-2.5 package from bioconda channel). All 5 commands succeeded, giving the expected output (either 1 or 2 reads are trimmed, either 1 or 2 reads are written in the output). I used bash and zsh shells and perl v5.18.2 without an issue.\nAccording to your output, you are using an older cutadapt version (cutadapt 1.18 with Python 3.7.1.). </p>\n\n<p><strong>Try installing a recent cutadapt version</strong> using conda, see directions below. This is the most likely cause of your issue.</p>\n\n<p><em>Installing cutadapt using conda</em> (assuming conda is already installed and bioconda is included in the channels):</p>\n\n<pre><code>conda update conda\n\nconda search cutadapt\n\nconda create --name cutadapt cutadapt\n\n# Enable conda cutadapt environment:\nsource activate cutadapt\n\n# ... run cutadapt ...\n\n# At the end, exit the conda cutadapt environment:\nsource deactivate\n</code></pre>\n\n<p><em>Running cutadapt from a perl script:</em></p>\n\n<pre><code>cat &gt; IonXpress_0401_rawlib.basecaller.fq &lt;&lt;EOF\n@HWI-EAS209_0006_FC706VJ:5:58:5894:21141#ATCACG/1\nGAGGAAGTAAAAGTCATAACAAGGTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTATCGATGAAGAACGCAGCGAA\n+\nEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE\n@HWI-EAS209_0006_FC706VJ:5:58:5895:21142#ATCACG/1\nCCCCCCCCCCCCCCCCCCCCCCCCTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTATCGATGAAGAACGCAGCGAA\n+\nEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE\nEOF\n</code></pre>\n\n<p>Edit the script shown in your question:</p>\n\n<ul>\n<li><p>Remove the hardcoded cutadapt path (not needed using conda env).</p></li>\n<li><p>Change -m 200 to -m 2 to enable seeing differences in trimming for\nvery short read examples.</p></li>\n<li><p>Print into STDOUT the output (trimmed) file contents.</p>\n\n<p>./cutadapt.pl &amp;> cutadapt.log</p></li>\n</ul>\n\n<p>./cutadapt.pl:</p>\n\n<pre><code>#!/usr/bin/env perl\n\n# string without ;\nmy $cutadapt_cmd1 = 'cutadapt -a \"GAGGAAGTAAAAGTCRTAACAAGGT...ATCGATGAAGAACGCAGCGAA\" --discard-untrimmed -q 20 -m 2 -o SAMPLE_NAME_401.IonXpress_0401.trim.fq IonXpress_0401_rawlib.basecaller.fq';\n\n# string with ;\nmy $cutadapt_cmd2 = 'cutadapt -a \"GAGGAAGTAAAAGTCRTAACAAGGT;required...ATCGATGAAGAACGCAGCGAA\" --discard-untrimmed -q 20 -m 2 -o SAMPLE_NAME_401.IonXpress_0401.trim.fq IonXpress_0401_rawlib.basecaller.fq';\n\n# array without ;\nmy @cutadapt_cmd3 = ('cutadapt', '-a', 'GAGGAAGTAAAAGTCRTAACAAGGT...ATCGATGAAGAACGCAGCGAA', '--discard-untrimmed' ,'-q' ,'20', '-m', '2', '-o' ,'SAMPLE_NAME_401.IonXpress_0401.trim.fq', 'IonXpress_0401_rawlib.basecaller.fq');\n\n# array with ;\nmy @cutadapt_cmd4 = ('cutadapt', '-a', 'GAGGAAGTAAAAGTCRTAACAAGGT;required...ATCGATGAAGAACGCAGCGAA', '--discard-untrimmed' ,'-q' ,'20', '-m', '2', '-o' ,'SAMPLE_NAME_401.IonXpress_0401.trim.fq', 'IonXpress_0401_rawlib.basecaller.fq');\n\n# array with ; and with integers\nmy @cutadapt_cmd5 = ('cutadapt', '-a', 'GAGGAAGTAAAAGTCRTAACAAGGT;required...ATCGATGAAGAACGCAGCGAA', '--discard-untrimmed' ,'-q' ,20, '-m', 2, '-o' ,'SAMPLE_NAME_401.IonXpress_0401.trim.fq', 'IonXpress_0401_rawlib.basecaller.fq');\n\n# Works\nprint(\"\\n\\ncmd1\\n\\n\");\nsystem $cutadapt_cmd1;\nsystem \"cat SAMPLE_NAME_401.IonXpress_0401.trim.fq\";\n\n# Fails\nprint(\"\\n\\ncmd2\\n\\n\");\nsystem $cutadapt_cmd2;\nsystem \"cat SAMPLE_NAME_401.IonXpress_0401.trim.fq\";\n\n# Works\nprint(\"\\n\\ncmd3\\n\\n\");\nsystem @cutadapt_cmd3;\nsystem \"cat SAMPLE_NAME_401.IonXpress_0401.trim.fq\";\n\n# Fails\nprint(\"\\n\\ncmd4\\n\\n\");\nsystem @cutadapt_cmd4;\nsystem \"cat SAMPLE_NAME_401.IonXpress_0401.trim.fq\";\n\n# Fails\nprint(\"\\n\\ncmd5\\n\\n\");\nsystem @cutadapt_cmd5;\nsystem \"cat SAMPLE_NAME_401.IonXpress_0401.trim.fq\";\n\n</code></pre>\n\n<p>cutadapt.log:</p>\n\n<pre><code>\n\ncmd1\n\nThis is cutadapt 2.5 with Python 3.7.3\nCommand line parameters: -a GAGGAAGTAAAAGTCRTAACAAGGT...ATCGATGAAGAACGCAGCGAA --discard-untrimmed -q 20 -m 2 -o SAMPLE_NAME_401.IonXpress_0401.trim.fq IonXpress_0401_rawlib.basecaller.fq\nWARNING: You specified a linked adapter as '-a ADAPTER1...ADAPTER2'. The\ninterpretation of what this means has changed in Cutadapt 2.0. (The 5'\nadapter is now no longer anchored by default.) To get results consist\nwith the old behavior, you need to anchor the 5' adapter explicitly as\nin '-a ^ADAPTER1...ADAPTER2'.\nProcessing reads on 1 core in single-end mode ...\nFinished in 0.00 s (1803 us/read; 0.03 M reads/minute).\n\n=== Summary ===\n\nTotal reads processed:                       2\nReads with adapters:                         2 (100.0%)\nReads that were too short:                   0 (0.0%)\nReads written (passing filters):             2 (100.0%)\n\nTotal basepairs processed:           152 bp\nQuality-trimmed:                       0 bp (0.0%)\nTotal written (filtered):             85 bp (55.9%)\n\n=== Adapter 1 ===\n\nSequence: GAGGAAGTAAAAGTCRTAACAAGGT...ATCGATGAAGAACGCAGCGAA; Type: linked; Length: 25+21; 5' trimmed: 1 times; 3' trimmed: 2 times\n\nNo. of allowed errors:\n0-9 bp: 0; 10-19 bp: 1; 20-25 bp: 2\n\nNo. of allowed errors:\n0-9 bp: 0; 10-19 bp: 1; 20-21 bp: 2\n\nOverview of removed sequences at 5' end\nlength  count   expect  max.err error counts\n25  1   0.0 2   1\n\n\n\nOverview of removed sequences at 3' end\nlength  count   expect  max.err error counts\n21  2   0.0 2   2\n@HWI-EAS209_0006_FC706VJ:5:58:5894:21141#ATCACG/1\nTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT\n+\nEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE\n@HWI-EAS209_0006_FC706VJ:5:58:5895:21142#ATCACG/1\nCCCCCCCCCCCCCCCCCCCCCCCCTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT\n+\nEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE\n\n\ncmd2\n\nThis is cutadapt 2.5 with Python 3.7.3\nCommand line parameters: -a GAGGAAGTAAAAGTCRTAACAAGGT;required...ATCGATGAAGAACGCAGCGAA --discard-untrimmed -q 20 -m 2 -o SAMPLE_NAME_401.IonXpress_0401.trim.fq IonXpress_0401_rawlib.basecaller.fq\nWARNING: You specified a linked adapter as '-a ADAPTER1...ADAPTER2'. The\ninterpretation of what this means has changed in Cutadapt 2.0. (The 5'\nadapter is now no longer anchored by default.) To get results consist\nwith the old behavior, you need to anchor the 5' adapter explicitly as\nin '-a ^ADAPTER1...ADAPTER2'.\nProcessing reads on 1 core in single-end mode ...\nFinished in 0.00 s (1747 us/read; 0.03 M reads/minute).\n\n=== Summary ===\n\nTotal reads processed:                       2\nReads with adapters:                         1 (50.0%)\nReads that were too short:                   0 (0.0%)\nReads written (passing filters):             1 (50.0%)\n\nTotal basepairs processed:           152 bp\nQuality-trimmed:                       0 bp (0.0%)\nTotal written (filtered):             30 bp (19.7%)\n\n=== Adapter 1 ===\n\nSequence: GAGGAAGTAAAAGTCRTAACAAGGT...ATCGATGAAGAACGCAGCGAA; Type: linked; Length: 25+21; 5' trimmed: 1 times; 3' trimmed: 1 times\n\nNo. of allowed errors:\n0-9 bp: 0; 10-19 bp: 1; 20-25 bp: 2\n\nNo. of allowed errors:\n0-9 bp: 0; 10-19 bp: 1; 20-21 bp: 2\n\nOverview of removed sequences at 5' end\nlength  count   expect  max.err error counts\n25  1   0.0 2   1\n\n\n\nOverview of removed sequences at 3' end\nlength  count   expect  max.err error counts\n21  1   0.0 2   1\n@HWI-EAS209_0006_FC706VJ:5:58:5894:21141#ATCACG/1\nTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT\n+\nEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE\n\n\ncmd3\n\nThis is cutadapt 2.5 with Python 3.7.3\nCommand line parameters: -a GAGGAAGTAAAAGTCRTAACAAGGT...ATCGATGAAGAACGCAGCGAA --discard-untrimmed -q 20 -m 2 -o SAMPLE_NAME_401.IonXpress_0401.trim.fq IonXpress_0401_rawlib.basecaller.fq\nWARNING: You specified a linked adapter as '-a ADAPTER1...ADAPTER2'. The\ninterpretation of what this means has changed in Cutadapt 2.0. (The 5'\nadapter is now no longer anchored by default.) To get results consist\nwith the old behavior, you need to anchor the 5' adapter explicitly as\nin '-a ^ADAPTER1...ADAPTER2'.\nProcessing reads on 1 core in single-end mode ...\nFinished in 0.00 s (1845 us/read; 0.03 M reads/minute).\n\n=== Summary ===\n\nTotal reads processed:                       2\nReads with adapters:                         2 (100.0%)\nReads that were too short:                   0 (0.0%)\nReads written (passing filters):             2 (100.0%)\n\nTotal basepairs processed:           152 bp\nQuality-trimmed:                       0 bp (0.0%)\nTotal written (filtered):             85 bp (55.9%)\n\n=== Adapter 1 ===\n\nSequence: GAGGAAGTAAAAGTCRTAACAAGGT...ATCGATGAAGAACGCAGCGAA; Type: linked; Length: 25+21; 5' trimmed: 1 times; 3' trimmed: 2 times\n\nNo. of allowed errors:\n0-9 bp: 0; 10-19 bp: 1; 20-25 bp: 2\n\nNo. of allowed errors:\n0-9 bp: 0; 10-19 bp: 1; 20-21 bp: 2\n\nOverview of removed sequences at 5' end\nlength  count   expect  max.err error counts\n25  1   0.0 2   1\n\n\n\nOverview of removed sequences at 3' end\nlength  count   expect  max.err error counts\n21  2   0.0 2   2\n@HWI-EAS209_0006_FC706VJ:5:58:5894:21141#ATCACG/1\nTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT\n+\nEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE\n@HWI-EAS209_0006_FC706VJ:5:58:5895:21142#ATCACG/1\nCCCCCCCCCCCCCCCCCCCCCCCCTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT\n+\nEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE\n\n\ncmd4\n\nThis is cutadapt 2.5 with Python 3.7.3\nCommand line parameters: -a GAGGAAGTAAAAGTCRTAACAAGGT;required...ATCGATGAAGAACGCAGCGAA --discard-untrimmed -q 20 -m 2 -o SAMPLE_NAME_401.IonXpress_0401.trim.fq IonXpress_0401_rawlib.basecaller.fq\nWARNING: You specified a linked adapter as '-a ADAPTER1...ADAPTER2'. The\ninterpretation of what this means has changed in Cutadapt 2.0. (The 5'\nadapter is now no longer anchored by default.) To get results consist\nwith the old behavior, you need to anchor the 5' adapter explicitly as\nin '-a ^ADAPTER1...ADAPTER2'.\nProcessing reads on 1 core in single-end mode ...\nFinished in 0.00 s (1732 us/read; 0.03 M reads/minute).\n\n=== Summary ===\n\nTotal reads processed:                       2\nReads with adapters:                         1 (50.0%)\nReads that were too short:                   0 (0.0%)\nReads written (passing filters):             1 (50.0%)\n\nTotal basepairs processed:           152 bp\nQuality-trimmed:                       0 bp (0.0%)\nTotal written (filtered):             30 bp (19.7%)\n\n=== Adapter 1 ===\n\nSequence: GAGGAAGTAAAAGTCRTAACAAGGT...ATCGATGAAGAACGCAGCGAA; Type: linked; Length: 25+21; 5' trimmed: 1 times; 3' trimmed: 1 times\n\nNo. of allowed errors:\n0-9 bp: 0; 10-19 bp: 1; 20-25 bp: 2\n\nNo. of allowed errors:\n0-9 bp: 0; 10-19 bp: 1; 20-21 bp: 2\n\nOverview of removed sequences at 5' end\nlength  count   expect  max.err error counts\n25  1   0.0 2   1\n\n\n\nOverview of removed sequences at 3' end\nlength  count   expect  max.err error counts\n21  1   0.0 2   1\n@HWI-EAS209_0006_FC706VJ:5:58:5894:21141#ATCACG/1\nTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT\n+\nEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE\n\n\ncmd5\n\nThis is cutadapt 2.5 with Python 3.7.3\nCommand line parameters: -a GAGGAAGTAAAAGTCRTAACAAGGT;required...ATCGATGAAGAACGCAGCGAA --discard-untrimmed -q 20 -m 2 -o SAMPLE_NAME_401.IonXpress_0401.trim.fq IonXpress_0401_rawlib.basecaller.fq\nWARNING: You specified a linked adapter as '-a ADAPTER1...ADAPTER2'. The\ninterpretation of what this means has changed in Cutadapt 2.0. (The 5'\nadapter is now no longer anchored by default.) To get results consist\nwith the old behavior, you need to anchor the 5' adapter explicitly as\nin '-a ^ADAPTER1...ADAPTER2'.\nProcessing reads on 1 core in single-end mode ...\nFinished in 0.00 s (1796 us/read; 0.03 M reads/minute).\n\n=== Summary ===\n\nTotal reads processed:                       2\nReads with adapters:                         1 (50.0%)\nReads that were too short:                   0 (0.0%)\nReads written (passing filters):             1 (50.0%)\n\nTotal basepairs processed:           152 bp\nQuality-trimmed:                       0 bp (0.0%)\nTotal written (filtered):             30 bp (19.7%)\n\n=== Adapter 1 ===\n\nSequence: GAGGAAGTAAAAGTCRTAACAAGGT...ATCGATGAAGAACGCAGCGAA; Type: linked; Length: 25+21; 5' trimmed: 1 times; 3' trimmed: 1 times\n\nNo. of allowed errors:\n0-9 bp: 0; 10-19 bp: 1; 20-25 bp: 2\n\nNo. of allowed errors:\n0-9 bp: 0; 10-19 bp: 1; 20-21 bp: 2\n\nOverview of removed sequences at 5' end\nlength  count   expect  max.err error counts\n25  1   0.0 2   1\n\n\n\nOverview of removed sequences at 3' end\nlength  count   expect  max.err error counts\n21  1   0.0 2   1\n@HWI-EAS209_0006_FC706VJ:5:58:5894:21141#ATCACG/1\nTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT\n+\nEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 12195346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vlTvdilwch4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcg-D0YfoAnKzCme7_zMbeJIq2t-Q/photo.jpg?sz=128", "display_name": "Olov Svartstr&#246;m", "link": "https://stackoverflow.com/users/12195346/olov-svartstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1570772891, "post_id": 58331193, "comment_id": 103026731, "body": "I&#39;m still not being able to get it work. Have a look at my latest real example."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 23, "user_id": 12195346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vlTvdilwch4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcg-D0YfoAnKzCme7_zMbeJIq2t-Q/photo.jpg?sz=128", "display_name": "Olov Svartstr&#246;m", "link": "https://stackoverflow.com/users/12195346/olov-svartstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1570773571, "post_id": 58331193, "comment_id": 103026952, "body": "<code>&#39;-m 200&#39;</code> should surely be <code>&#39;-m&#39;, 200</code>. If that&#39;s not the only problem, please provide a command line that works from your shell (&quot;terminal&quot;, &quot;console&quot;)."}, {"owner": {"reputation": 23, "user_id": 12195346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vlTvdilwch4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcg-D0YfoAnKzCme7_zMbeJIq2t-Q/photo.jpg?sz=128", "display_name": "Olov Svartstr&#246;m", "link": "https://stackoverflow.com/users/12195346/olov-svartstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1570779687, "post_id": 58331193, "comment_id": 103029307, "body": "Aha. And should integers be passed as integers and not strings? Both string variables are just to paste in the terminal and they work."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 23, "user_id": 12195346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vlTvdilwch4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcg-D0YfoAnKzCme7_zMbeJIq2t-Q/photo.jpg?sz=128", "display_name": "Olov Svartstr&#246;m", "link": "https://stackoverflow.com/users/12195346/olov-svartstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1570819490, "post_id": 58331193, "comment_id": 103048774, "body": "Program arguments can only be strings. If you pass a number, it will get stringified. <code>200</code> or <code>&quot;200&quot;</code> are therefore equivalent. The point of the comment is that <code>foo -m 200</code> passes three arguments: <code>foo</code>, <code>-m</code> and <code>200</code>. What you had was equivalent to the shell command <code>foo &#39;-m 200&#39;</code>, which only passes two: <code>foo</code> and <code>-m 200</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1570742063, "creation_date": 1570742063, "answer_id": 58331193, "question_id": 58324322, "link": "https://stackoverflow.com/questions/58324322/how-to-execute-an-external-program-with-perl-system-with-arguments-that-includ/58331193#58331193", "title": "How to execute an external program with Perl (system) with arguments that include metacharacter &quot;", "body": "<p>The following is the bourne shell command you are trying to execute:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>cutadapt -a \"ATGC;required...TGCA;required\" in_file \n</code></pre>\n\n<p>To execute that, you need to pass the command to a bourne shell.</p>\n\n<pre><code>system('sh', '-c', 'cutadapt -a \"ATGC;required...TGCA;required\" in_file')\n</code></pre>\n\n<p>That can also be written as follows:</p>\n\n<pre><code>system('cutadapt -a \"ATGC;required...TGCA;required\" in_file')\n</code></pre>\n\n<p>The above command will spawn a shell and have it execute <code>cutadapt</code> with the following arguments:</p>\n\n<ul>\n<li><code>cutadapt</code></li>\n<li><code>-a</code></li>\n<li><code>ATGC;required...TGCA;required</code></li>\n<li><code>in_file</code></li>\n</ul>\n\n<p>(Notice the lack of quotes.)</p>\n\n<p>You can do the same directly from Perl as follows:</p>\n\n<pre><code>system('cutadapt', '-a', 'ATGC;required...TGCA;required', 'in_file')\n</code></pre>\n\n<p>This is better because it doesn't needlessly involve a shell.</p>\n"}], "owner": {"reputation": 23, "user_id": 12195346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vlTvdilwch4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcg-D0YfoAnKzCme7_zMbeJIq2t-Q/photo.jpg?sz=128", "display_name": "Olov Svartstr&#246;m", "link": "https://stackoverflow.com/users/12195346/olov-svartstr%c3%b6m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 58325389, "answer_count": 2, "score": 2, "last_activity_date": 1571177957, "creation_date": 1570714712, "last_edit_date": 1570784852, "question_id": 58324322, "link": "https://stackoverflow.com/questions/58324322/how-to-execute-an-external-program-with-perl-system-with-arguments-that-includ", "title": "How to execute an external program with Perl (system) with arguments that include metacharacter &quot;", "body": "<p>I am trying to execute an external program from perl code, namely cutadapt (<a href=\"https://cutadapt.readthedocs.io/en/stable/guide.html\" rel=\"nofollow noreferrer\">https://cutadapt.readthedocs.io/en/stable/guide.html</a>).</p>\n\n<p>But I get an error message from cutadapt as soon as I add ;required which I want to have. </p>\n\n<p>All the printed commands runs fine in the terminal.</p>\n\n<p>My perl code is as follows:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#string without ;\nmy $cutadapt_cmd1 = '/home/USER/miniconda3/bin/cutadapt -a \"GAGGAAGTAAAAGTCRTAACAAGGT...ATCGATGAAGAACGCAGCGAA\" --discard-untrimmed -q 20 -m 200 -o SAMPLE_NAME_401.IonXpress_0401.trim.fq IonXpress_0401_rawlib.basecaller.fq';\n#string with ;\nmy $cutadapt_cmd2 = '/home/USER/miniconda3/bin/cutadapt -a \"GAGGAAGTAAAAGTCRTAACAAGGT;required...ATCGATGAAGAACGCAGCGAA\" --discard-untrimmed -q 20 -m 200 -o SAMPLE_NAME_401.IonXpress_0401.trim.fq IonXpress_0401_rawlib.basecaller.fq';\n#array without ;\nmy @cutadapt_cmd3 = ('/home/USER/miniconda3/bin/cutadapt', '-a', 'GAGGAAGTAAAAGTCRTAACAAGGT...ATCGATGAAGAACGCAGCGAA', '--discard-untrimmed' ,'-q' ,'20', '-m', '200', '-o' ,'SAMPLE_NAME_401.IonXpress_0401.trim.fq', 'IonXpress_0401_rawlib.basecaller.fq');\n#array with ;\nmy @cutadapt_cmd4 = ('/home/USER/miniconda3/bin/cutadapt', '-a', 'GAGGAAGTAAAAGTCRTAACAAGGT;required...ATCGATGAAGAACGCAGCGAA', '--discard-untrimmed' ,'-q' ,'20', '-m', '200', '-o' ,'SAMPLE_NAME_401.IonXpress_0401.trim.fq', 'IonXpress_0401_rawlib.basecaller.fq');\n#array with ; and with integers\nmy @cutadapt_cmd5 = ('/home/USER/miniconda3/bin/cutadapt', '-a', 'GAGGAAGTAAAAGTCRTAACAAGGT;required...ATCGATGAAGAACGCAGCGAA', '--discard-untrimmed' ,'-q' ,20, '-m', 200, '-o' ,'SAMPLE_NAME_401.IonXpress_0401.trim.fq', 'IonXpress_0401_rawlib.basecaller.fq');\n#Works\nprint(\"\\n\\ncmd1\\n\\n\");\nsystem $cutadapt_cmd1;\n#Fails\nprint(\"\\n\\ncmd2\\n\\n\");\nsystem $cutadapt_cmd2;\n#Works\nprint(\"\\n\\ncmd3\\n\\n\");\nsystem @cutadapt_cmd3;\n#Fails\nprint(\"\\n\\ncmd4\\n\\n\");\nsystem @cutadapt_cmd4;\n#Fails\nprint(\"\\n\\ncmd5\\n\\n\");\nsystem @cutadapt_cmd5;\n</code></pre>\n\n<p>And the output looks like:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>cmd1\n\nThis is cutadapt 1.18 with Python 3.7.1\nCommand line parameters: -a GAGGAAGTAAAAGTCRTAACAAGGT...ATCGATGAAGAACGCAGCGAA --discard-untrimmed -q 20 -m 200 -o SAMPLE_NAME_401.IonXpress_0401.trim.fq IonXpress_0401_rawlib.basecaller.fq\nProcessing reads on 1 core in single-end mode ...\nFinished in 0.47 s (11 us/read; 5.67 M reads/minute).\n\n=== Summary ===\n\nTotal reads processed:                  44,086\nReads with adapters:                         0 (0.0%)\nReads that were too short:               7,268 (16.5%)\nReads written (passing filters):             0 (0.0%)\n\nTotal basepairs processed:    11,458,046 bp\nQuality-trimmed:                 371,723 bp (3.2%)\nTotal written (filtered):              0 bp (0.0%)\n\n=== Adapter 2 ===\n\nSequence: GAGGAAGTAAAAGTCRTAACAAGGT...ATCGATGAAGAACGCAGCGAA; Type: linked; Length: 25+21; 5' trimmed: 0 times; 3' trimmed: 0 times\n\n\n\ncmd2\n\nTraceback (most recent call last):\n  File \"/home/USER/miniconda3/bin/cutadapt\", line 12, in &lt;module&gt;\n    sys.exit(main())\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/__main__.py\", line 741, in main\n    pipeline = pipeline_from_parsed_args(options, paired, pair_filter_mode, quality_filename, is_interleaved_output)\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/__main__.py\", line 614, in pipeline_from_parsed_args\n    adapters = adapter_parser.parse_multi(options.adapters, options.anywhere, options.front)\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/adapters.py\", line 335, in parse_multi\n    adapters.extend(self.parse(spec, cmdline_type))\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/adapters.py\", line 322, in parse\n    yield self._parse(spec, cmdline_type, name=None)\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/adapters.py\", line 237, in _parse\n    name1, front1, sequence1, back1, parameters1 = self._parse_not_linked(spec1, 'front')\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/adapters.py\", line 170, in _parse_not_linked\n    parameters = AdapterParser._parse_parameters(parameters_spec)\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/adapters.py\", line 132, in _parse_parameters\n    raise KeyError('Unknown parameter {}'.format(key))\nKeyError: 'Unknown parameter required'\n\n\ncmd3\n\nThis is cutadapt 1.18 with Python 3.7.1\nCommand line parameters: -a GAGGAAGTAAAAGTCRTAACAAGGT...ATCGATGAAGAACGCAGCGAA --discard-untrimmed -q 20 -m 200 -o SAMPLE_NAME_401.IonXpress_0401.trim.fq IonXpress_0401_rawlib.basecaller.fq\nProcessing reads on 1 core in single-end mode ...\nFinished in 0.50 s (11 us/read; 5.27 M reads/minute).\n\n=== Summary ===\n\nTotal reads processed:                  44,086\nReads with adapters:                         0 (0.0%)\nReads that were too short:               7,268 (16.5%)\nReads written (passing filters):             0 (0.0%)\n\nTotal basepairs processed:    11,458,046 bp\nQuality-trimmed:                 371,723 bp (3.2%)\nTotal written (filtered):              0 bp (0.0%)\n\n=== Adapter 2 ===\n\nSequence: GAGGAAGTAAAAGTCRTAACAAGGT...ATCGATGAAGAACGCAGCGAA; Type: linked; Length: 25+21; 5' trimmed: 0 times; 3' trimmed: 0 times\n\n\n\ncmd4\n\nTraceback (most recent call last):\n  File \"/home/USER/miniconda3/bin/cutadapt\", line 12, in &lt;module&gt;\n    sys.exit(main())\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/__main__.py\", line 741, in main\n    pipeline = pipeline_from_parsed_args(options, paired, pair_filter_mode, quality_filename, is_interleaved_output)\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/__main__.py\", line 614, in pipeline_from_parsed_args\n    adapters = adapter_parser.parse_multi(options.adapters, options.anywhere, options.front)\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/adapters.py\", line 335, in parse_multi\n    adapters.extend(self.parse(spec, cmdline_type))\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/adapters.py\", line 322, in parse\n    yield self._parse(spec, cmdline_type, name=None)\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/adapters.py\", line 237, in _parse\n    name1, front1, sequence1, back1, parameters1 = self._parse_not_linked(spec1, 'front')\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/adapters.py\", line 170, in _parse_not_linked\n    parameters = AdapterParser._parse_parameters(parameters_spec)\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/adapters.py\", line 132, in _parse_parameters\n    raise KeyError('Unknown parameter {}'.format(key))\nKeyError: 'Unknown parameter required'\n\n\ncmd5\n\nTraceback (most recent call last):\n  File \"/home/USER/miniconda3/bin/cutadapt\", line 12, in &lt;module&gt;\n    sys.exit(main())\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/__main__.py\", line 741, in main\n    pipeline = pipeline_from_parsed_args(options, paired, pair_filter_mode, quality_filename, is_interleaved_output)\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/__main__.py\", line 614, in pipeline_from_parsed_args\n    adapters = adapter_parser.parse_multi(options.adapters, options.anywhere, options.front)\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/adapters.py\", line 335, in parse_multi\n    adapters.extend(self.parse(spec, cmdline_type))\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/adapters.py\", line 322, in parse\n    yield self._parse(spec, cmdline_type, name=None)\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/adapters.py\", line 237, in _parse\n    name1, front1, sequence1, back1, parameters1 = self._parse_not_linked(spec1, 'front')\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/adapters.py\", line 170, in _parse_not_linked\n    parameters = AdapterParser._parse_parameters(parameters_spec)\n  File \"/home/USER/miniconda3/lib/python3.7/site-packages/cutadapt/adapters.py\", line 132, in _parse_parameters\n    raise KeyError('Unknown parameter {}'.format(key))\nKeyError: 'Unknown parameter required'\n</code></pre>\n\n<p>According to how I want to process my data, I really need to tell cutadapt that the adapters are required. </p>\n"}]